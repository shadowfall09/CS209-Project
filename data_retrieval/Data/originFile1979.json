{"items":[{"tags":["java","properties","header","ibm-mq"],"comments":[{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1633033587,"post_id":69397959,"comment_id":122661427,"body_markdown":"What technique / API are you using to try to read the properties on the consumer side?","body":"What technique / API are you using to try to read the properties on the consumer side?"},{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":0,"creation_date":1633078209,"post_id":69397959,"comment_id":122669415,"body_markdown":"You are already setting WMQ_CLIENT_NONJMS_MQ as the TARGETCLIENT. This ensures messages your applications sends will not have RFH2 headers. What problem are you facing?","body":"You are already setting WMQ_CLIENT_NONJMS_MQ as the TARGETCLIENT. This ensures messages your applications sends will not have RFH2 headers. What problem are you facing?"}],"answers":[{"tags":[],"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633079569,"creation_date":1633079569,"answer_id":69403399,"question_id":69397959,"body_markdown":"This code:-\r\n\r\n    mqDestination.setTargetClient(WMQConstants.WMQ_CLIENT_NONJMS_MQ);\r\n\r\nis stripping the message properties off before the message is sent.\r\n\r\nYou say that you want to use the &#39;native header&#39; and not &#39;MQRFH2&#39; but the two are fully interchangeable. There is no one or the other, it is just how the message properties are presented to the receiver of the message depending on how they are capable of consuming them.\r\n\r\nIf you put messages properties and the receiver asks for them in RFH2 then that is what they will get.\r\n\r\nIf you build the correctly formed RFH2 header and the receiver asks for message properties then that is what they will get.\r\n\r\nRemove the above mentioned line from your application and your message properties will flow to the receiver.","title":"How to send message header properties through IBM MQ remote queue with RFH?","body":"<p>This code:-</p>\n<pre><code>mqDestination.setTargetClient(WMQConstants.WMQ_CLIENT_NONJMS_MQ);\n</code></pre>\n<p>is stripping the message properties off before the message is sent.</p>\n<p>You say that you want to use the 'native header' and not 'MQRFH2' but the two are fully interchangeable. There is no one or the other, it is just how the message properties are presented to the receiver of the message depending on how they are capable of consuming them.</p>\n<p>If you put messages properties and the receiver asks for them in RFH2 then that is what they will get.</p>\n<p>If you build the correctly formed RFH2 header and the receiver asks for message properties then that is what they will get.</p>\n<p>Remove the above mentioned line from your application and your message properties will flow to the receiver.</p>\n"},{"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633111305,"creation_date":1633111305,"answer_id":69410237,"question_id":69397959,"body_markdown":"To add to Morag&#39;s comment, people get confused over terminology.  An MQRFH2 message is the same as saying JMS message.\r\n\r\n - An MQRFH2 (JMS) message can have message properties\r\n - A regular (native) MQ message does not contain message properties\r\n\r\nFrom a high-level, an MQRFH2 (JMS) message looks like:\r\n\r\n    [MQMD][MQRFH2]message payload\r\n\r\nFrom a high-level, regular (native) MQ message looks like:\r\n\r\n    [MQMD]message payload\r\n\r\n","title":"How to send message header properties through IBM MQ remote queue with RFH?","body":"<p>To add to Morag's comment, people get confused over terminology.  An MQRFH2 message is the same as saying JMS message.</p>\n<ul>\n<li>An MQRFH2 (JMS) message can have message properties</li>\n<li>A regular (native) MQ message does not contain message properties</li>\n</ul>\n<p>From a high-level, an MQRFH2 (JMS) message looks like:</p>\n<pre><code>[MQMD][MQRFH2]message payload\n</code></pre>\n<p>From a high-level, regular (native) MQ message looks like:</p>\n<pre><code>[MQMD]message payload\n</code></pre>\n"}],"owner":{"account_id":18088674,"reputation":1,"user_id":13148903,"display_name":"VEMM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633111305,"creation_date":1633030490,"question_id":69397959,"body_markdown":"I need to push a message into a remote Queue sending some header properties.\r\nIn my side I&#39;m using IBM MQ v9 and I must not use the MQRFH2, just the &#39;native&#39; MQ header (I&#39;m not sure if it is possible).\r\nBut when I&#39;m pull the message I can no see any of the properties.\r\n\r\n``` \r\nimport javax.jms.Destination;\r\nimport javax.jms.JMSContext;\r\nimport javax.jms.JMSException;\r\nimport javax.jms.JMSProducer;\r\n\r\nimport com.ibm.mq.jms.MQDestination;\r\nimport com.ibm.msg.client.jms.JmsConnectionFactory;\r\nimport com.ibm.msg.client.jms.JmsFactoryFactory;\r\nimport com.ibm.msg.client.wmq.WMQConstants;\r\n\r\npublic class MessageSender {\r\n\r\n\tpublic void sendMessage() throws JMSException {\r\n\t\tJMSContext context = createJMSContext();\r\n\t\tJMSProducer producer = context.createProducer();\r\n\t\tDestination destination = context.createQueue(&quot;queue:///&quot; + queueName);\r\n\t\tSystem.out.println(&quot;destination: &quot; + destination);\r\n\t\tMQDestination mqDestination = (MQDestination) destination;\r\n\t\t// the header properties to be added\r\n\t\tmqDestination.setStringProperty(&quot;KEY1&quot;, &quot;VALUE1&quot;);\r\n\t\tmqDestination.setStringProperty(&quot;KEY2&quot;, &quot;VALUE2&quot;);\r\n\t\tmqDestination.setStringProperty(&quot;KEY3&quot;, &quot;VALUE3&quot;);\r\n\t\t// WMQ_CLIENT_NONJMS_MQ - static final int WMQ_CLIENT_NONJMS_MQ\r\n\t\t// WMQ_TARGET_CLIENT property value. Target is an MQ application (RFH2 will be excluded).\r\n\t\tmqDestination.setTargetClient(WMQConstants.WMQ_CLIENT_NONJMS_MQ);\r\n\t\tSystem.out.println(&quot;mqDestination: &quot; + mqDestination);\r\n\t\tString message = &quot;mymessage&quot;;\r\n\t\tproducer.send(mqDestination, message);\r\n\t}\r\n\r\n\tprivate JMSContext createJMSContext() {\r\n\t\tJMSContext context = null;\r\n\t\ttry {\r\n\t\t\tJmsFactoryFactory ff = JmsFactoryFactory.getInstance(WMQConstants.WMQ_PROVIDER);\r\n\t\t\tJmsConnectionFactory cf = ff.createConnectionFactory();\r\n\t\t\tcf.setIntProperty(WMQConstants.WMQ_CONNECTION_MODE, WMQConstants.WMQ_CM_CLIENT);\r\n\t\t\tcf.setBooleanProperty(WMQConstants.USER_AUTHENTICATION_MQCSP, false);\r\n\t\t\tcf.setStringProperty(WMQConstants.WMQ_HOST_NAME, &quot;hostname&quot;);\r\n\t\t\tcf.setStringProperty(WMQConstants.WMQ_CHANNEL, &quot;channel&quot;);\r\n\t\t\tcf.setIntProperty(WMQConstants.WMQ_PORT, 1411);\r\n\t\t\tcf.setStringProperty(WMQConstants.WMQ_QUEUE_MANAGER, &quot;queueManager&quot;);\r\n\t\t\tcontext = cf.createContext();\r\n\t\t} catch (JMSException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn context;\r\n\t}\r\n\r\n}\r\n```\r\n","title":"How to send message header properties through IBM MQ remote queue with RFH?","body":"<p>I need to push a message into a remote Queue sending some header properties.\nIn my side I'm using IBM MQ v9 and I must not use the MQRFH2, just the 'native' MQ header (I'm not sure if it is possible).\nBut when I'm pull the message I can no see any of the properties.</p>\n<pre><code>import javax.jms.Destination;\nimport javax.jms.JMSContext;\nimport javax.jms.JMSException;\nimport javax.jms.JMSProducer;\n\nimport com.ibm.mq.jms.MQDestination;\nimport com.ibm.msg.client.jms.JmsConnectionFactory;\nimport com.ibm.msg.client.jms.JmsFactoryFactory;\nimport com.ibm.msg.client.wmq.WMQConstants;\n\npublic class MessageSender {\n\n    public void sendMessage() throws JMSException {\n        JMSContext context = createJMSContext();\n        JMSProducer producer = context.createProducer();\n        Destination destination = context.createQueue(&quot;queue:///&quot; + queueName);\n        System.out.println(&quot;destination: &quot; + destination);\n        MQDestination mqDestination = (MQDestination) destination;\n        // the header properties to be added\n        mqDestination.setStringProperty(&quot;KEY1&quot;, &quot;VALUE1&quot;);\n        mqDestination.setStringProperty(&quot;KEY2&quot;, &quot;VALUE2&quot;);\n        mqDestination.setStringProperty(&quot;KEY3&quot;, &quot;VALUE3&quot;);\n        // WMQ_CLIENT_NONJMS_MQ - static final int WMQ_CLIENT_NONJMS_MQ\n        // WMQ_TARGET_CLIENT property value. Target is an MQ application (RFH2 will be excluded).\n        mqDestination.setTargetClient(WMQConstants.WMQ_CLIENT_NONJMS_MQ);\n        System.out.println(&quot;mqDestination: &quot; + mqDestination);\n        String message = &quot;mymessage&quot;;\n        producer.send(mqDestination, message);\n    }\n\n    private JMSContext createJMSContext() {\n        JMSContext context = null;\n        try {\n            JmsFactoryFactory ff = JmsFactoryFactory.getInstance(WMQConstants.WMQ_PROVIDER);\n            JmsConnectionFactory cf = ff.createConnectionFactory();\n            cf.setIntProperty(WMQConstants.WMQ_CONNECTION_MODE, WMQConstants.WMQ_CM_CLIENT);\n            cf.setBooleanProperty(WMQConstants.USER_AUTHENTICATION_MQCSP, false);\n            cf.setStringProperty(WMQConstants.WMQ_HOST_NAME, &quot;hostname&quot;);\n            cf.setStringProperty(WMQConstants.WMQ_CHANNEL, &quot;channel&quot;);\n            cf.setIntProperty(WMQConstants.WMQ_PORT, 1411);\n            cf.setStringProperty(WMQConstants.WMQ_QUEUE_MANAGER, &quot;queueManager&quot;);\n            context = cf.createContext();\n        } catch (JMSException e) {\n            e.printStackTrace();\n        }\n\n        return context;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","security","authorization","programmatic-config"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632980613,"post_id":69382760,"comment_id":122640335,"body_markdown":"They aren&#39;t equivalent the XML one also has a password, although that is a random one. They are also different in that the XML one does a setup for an `InMemoryUserDetailsService` which you then probably use in your AD configuration to map the roles. In your Java version it sets up a full `DaoAuthenticationProvider`, while you probably still need the `UserDetailsService` to retrieve the users roles. But to fix this, just assign a random password, just like the XML one.","body":"They aren&#39;t equivalent the XML one also has a password, although that is a random one. They are also different in that the XML one does a setup for an <code>InMemoryUserDetailsService</code> which you then probably use in your AD configuration to map the roles. In your Java version it sets up a full <code>DaoAuthenticationProvider</code>, while you probably still need the <code>UserDetailsService</code> to retrieve the users roles. But to fix this, just assign a random password, just like the XML one."},{"owner":{"account_id":22670093,"reputation":51,"user_id":16841967,"display_name":"Bruno Genovese"},"score":0,"creation_date":1633007848,"post_id":69382760,"comment_id":122651128,"body_markdown":"Ty Deinum.  You are right that in XML the info is provided through the userDetailsService, although the password field was optional, not mandatory like it is in the programmatic authentication provider.  I have not seen a programmatic example for how to setup a UserDetailsService separate from the AuthenticationProvider, but I can probably find one.  Do you know if in the programmatic UserDetailsService the password is optional as in XML?  Or would it be a wasted effort?  Keep in mind that my intention is for authentication and most of the authorization to be done in AD, a few ROLEs in svc.","body":"Ty Deinum.  You are right that in XML the info is provided through the userDetailsService, although the password field was optional, not mandatory like it is in the programmatic authentication provider.  I have not seen a programmatic example for how to setup a UserDetailsService separate from the AuthenticationProvider, but I can probably find one.  Do you know if in the programmatic UserDetailsService the password is optional as in XML?  Or would it be a wasted effort?  Keep in mind that my intention is for authentication and most of the authorization to be done in AD, a few ROLEs in svc."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633070531,"post_id":69382760,"comment_id":122666758,"body_markdown":"A password isn&#39;t optional for the user, but in XML when not provided a random one is generated. So just assign a random (or dymmy) password when creating the `InMemoryUserDetailsService`.","body":"A password isn&#39;t optional for the user, but in XML when not provided a random one is generated. So just assign a random (or dymmy) password when creating the <code>InMemoryUserDetailsService</code>."}],"answers":[{"tags":[],"owner":{"account_id":22670093,"reputation":51,"user_id":16841967,"display_name":"Bruno Genovese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633110730,"creation_date":1633110253,"answer_id":69410042,"question_id":69382760,"body_markdown":"I hope the following helps the next googler with my problem.\r\n\r\nFirst, my thanks to Deinum, he got me thinking in the right direction.  \r\n\r\nJust adding using a dummy password in the code of the original post did not work, but this worked even better for my needs:\r\n\r\n - **I was already using a custom AuthenticationProvider**.  It was easy to place and read the extra roles for users from a value in the property file with the JSON syntax:  **springsecurity.extraRoles=[{&quot;username&quot;:&quot;usernameValue&quot;, &quot;roles&quot;:[&quot;ROLE_XTRA1&quot;, &quot;ROLE_XTRA2&quot;]}]**.  \r\n - The extra roles rarely change, so they get read into a static Map, and are added to the user roles retrieved from AD as part of the authenticate() process.\r\n - And since I already had the property **deploy.environment=DEV**, I used it to disable the mechanism in PROD.  A safety net against deployment mistakes.\r\n\r\n---\r\nThis description should be sufficient, but let me know if anyone needs a more detailed explanation of any of the steps.","title":"Spring security programmatic in-memory UserDetailsService: username and roles, NO password","body":"<p>I hope the following helps the next googler with my problem.</p>\n<p>First, my thanks to Deinum, he got me thinking in the right direction.</p>\n<p>Just adding using a dummy password in the code of the original post did not work, but this worked even better for my needs:</p>\n<ul>\n<li><strong>I was already using a custom AuthenticationProvider</strong>.  It was easy to place and read the extra roles for users from a value in the property file with the JSON syntax:  <strong>springsecurity.extraRoles=[{&quot;username&quot;:&quot;usernameValue&quot;, &quot;roles&quot;:[&quot;ROLE_XTRA1&quot;, &quot;ROLE_XTRA2&quot;]}]</strong>.</li>\n<li>The extra roles rarely change, so they get read into a static Map, and are added to the user roles retrieved from AD as part of the authenticate() process.</li>\n<li>And since I already had the property <strong>deploy.environment=DEV</strong>, I used it to disable the mechanism in PROD.  A safety net against deployment mistakes.</li>\n</ul>\n<hr />\n<p>This description should be sufficient, but let me know if anyone needs a more detailed explanation of any of the steps.</p>\n"}],"owner":{"account_id":22670093,"reputation":51,"user_id":16841967,"display_name":"Bruno Genovese"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633110730,"creation_date":1632946031,"question_id":69382760,"body_markdown":"UPDATE:  I was not able to solve the problem presented here, but the simplest and most effective solution to my problem was to NOT use the in-memory userDetailsService.  Details of my resulting solution are in a follow-up post.  \r\n\r\n----\r\n\r\nSUMMARY \r\n\r\nWith the old SpringSecurity.xml I never needed to provide the password to support additional ROLEs via the in-memory userDetailsService.  It was very convenient, especially during the development phase.\r\n\r\nWith the programmatic approach it is easy to provide username+password+roles, but it is not clear how to provide **only** username+roles.  I would like to learn how.\r\n\r\n\r\nEXAMPLES\r\n\r\nIn the examples below &quot;user&quot; does authentication and authorization in Active Directory through adAuthProvider.  The programmatic examples are the full content of the SecurityConfig configure(AuthenticationManagerBuilder auth) method.\r\n\r\nsecurity.xml:\r\n(this worked for years, what I want to replicate)\r\n\r\n```\r\n  &lt;sec:user-service id=&quot;xmlUserDetailsService&quot;&gt;\r\n    &lt;sec:user name=&quot;user&quot; authorities=&quot;ROLE_USER&quot; /&gt;\r\n  &lt;/sec:user-service&gt;\r\n```\r\n\r\n\r\nFailed programmatic attempt:\r\n(direct translation of the above, notice that &quot;user&quot; does not setup the password... like in the XML above).\r\nThrows during server start: (org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Cannot pass null or empty values to constructor)\r\n\r\n      auth.authenticationProvider(adAuthProvider);\r\n      auth.inMemoryAuthentication()\r\n      .passwordEncoder(passwordEncoder)\r\n      .withUser(&quot;user&quot;).roles(&quot;USER&quot;)\r\n\r\n\r\nSuccessful, adding the password for &quot;user&quot;:\r\n(exception goes away)\r\n\r\n      auth.authenticationProvider(adAuthProvider);\r\n      auth.inMemoryAuthentication()\r\n      .passwordEncoder(passwordEncoder)\r\n      .withUser(&quot;user&quot;).password(passwordEncoder.encode(&quot;user&quot;)).roles(&quot;USER&quot;)\r\n\r\n\r\nQUESTION:\r\n\r\n 1. I assume that XML and programmatic configurations are supposed to be equivalent.  Thus I assume there is a way to avoid supplying the password to the in-memory userDetails.  Is this correct?\r\n 2. Assuming the above is true, how do I do it?  Could you please provide an example for the whole method?\r\n\r\nI realize this is probably a trivial question.  I googled and reviewed easily 100 examples, but they all include the password.  Not a single one showed how to use in-memory just for authorization - relying on the Active Directory authentication provider to validate the password.","title":"Spring security programmatic in-memory UserDetailsService: username and roles, NO password","body":"<p>UPDATE:  I was not able to solve the problem presented here, but the simplest and most effective solution to my problem was to NOT use the in-memory userDetailsService.  Details of my resulting solution are in a follow-up post.</p>\n<hr />\n<p>SUMMARY</p>\n<p>With the old SpringSecurity.xml I never needed to provide the password to support additional ROLEs via the in-memory userDetailsService.  It was very convenient, especially during the development phase.</p>\n<p>With the programmatic approach it is easy to provide username+password+roles, but it is not clear how to provide <strong>only</strong> username+roles.  I would like to learn how.</p>\n<p>EXAMPLES</p>\n<p>In the examples below &quot;user&quot; does authentication and authorization in Active Directory through adAuthProvider.  The programmatic examples are the full content of the SecurityConfig configure(AuthenticationManagerBuilder auth) method.</p>\n<p>security.xml:\n(this worked for years, what I want to replicate)</p>\n<pre><code>  &lt;sec:user-service id=&quot;xmlUserDetailsService&quot;&gt;\n    &lt;sec:user name=&quot;user&quot; authorities=&quot;ROLE_USER&quot; /&gt;\n  &lt;/sec:user-service&gt;\n</code></pre>\n<p>Failed programmatic attempt:\n(direct translation of the above, notice that &quot;user&quot; does not setup the password... like in the XML above).\nThrows during server start: (org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: Cannot pass null or empty values to constructor)</p>\n<pre><code>  auth.authenticationProvider(adAuthProvider);\n  auth.inMemoryAuthentication()\n  .passwordEncoder(passwordEncoder)\n  .withUser(&quot;user&quot;).roles(&quot;USER&quot;)\n</code></pre>\n<p>Successful, adding the password for &quot;user&quot;:\n(exception goes away)</p>\n<pre><code>  auth.authenticationProvider(adAuthProvider);\n  auth.inMemoryAuthentication()\n  .passwordEncoder(passwordEncoder)\n  .withUser(&quot;user&quot;).password(passwordEncoder.encode(&quot;user&quot;)).roles(&quot;USER&quot;)\n</code></pre>\n<p>QUESTION:</p>\n<ol>\n<li>I assume that XML and programmatic configurations are supposed to be equivalent.  Thus I assume there is a way to avoid supplying the password to the in-memory userDetails.  Is this correct?</li>\n<li>Assuming the above is true, how do I do it?  Could you please provide an example for the whole method?</li>\n</ol>\n<p>I realize this is probably a trivial question.  I googled and reviewed easily 100 examples, but they all include the password.  Not a single one showed how to use in-memory just for authorization - relying on the Active Directory authentication provider to validate the password.</p>\n"},{"tags":["java","spring","spring-boot","groovy","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633110690,"creation_date":1633110690,"answer_id":69410130,"question_id":69409665,"body_markdown":"I suppose you have `application.yml`.  \r\nFor example, you defined some properties of the message queue system. \r\n``` yml\r\nmq:\r\n  receive_channel: &quot;RES&quot;\r\n  send_channel: &quot;REQ&quot;\r\n```\r\n**First** of all, you should define a class that presents the related values that you placed in your `.yml` file. \r\n``` java\r\npublic class MQProperties {\r\n    private String receive_channel;\r\n    private String send_channel;\r\n    // getter and setters\r\n}\r\n```\r\n**Second**, you should define a configuration class as below. \r\n\r\n``` java\r\n@Configuration\r\n@PropertySource(value = &quot;classpath:application.yml&quot;)\r\npublic class ApplicationConfigurationProperties {\r\n\r\n    @Bean\r\n    @ConfigurationProperties(prefix = &quot;mq&quot;)\r\n    public MQProperties mqProperties() {\r\n        return new MQProperties();\r\n    }\r\n}\r\n```\r\n**Finally** in your test class you validate the value of properties.\r\n\r\n``` java\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\npublic class PropertiesTest {\r\n\r\n    @Value(&quot;${mq.receive_channel}&quot;)\r\n    private String mqReceiveChannel;\r\n    @Value(&quot;${mq.send_channel}&quot;)\r\n    private String mqSendChannel;\r\n\r\n    @Autowired\r\n    private ApplicationConfigurationProperties configurationProperties;\r\n\r\n    @Test\r\n    public void get_mq_receive_channel() { \r\n     assertThat(configurationProperties.mqProperties().getReceive_channel()).isEqualTo(mqReceiveChannel);\r\n    }\r\n\r\n    @Test\r\n    public void get_mq_send_channel() {  \r\n     assertThat(configurationProperties.mqProperties().getSend_channel()).isEqualTo(mqSendChannel);\r\n    }\r\n}\r\n```","title":"SpringBootTest for an arbitrary ApplicationConfiguration class to test the reading of the application.yml file","body":"<p>I suppose you have <code>application.yml</code>.<br />\nFor example, you defined some properties of the message queue system.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>mq:\n  receive_channel: &quot;RES&quot;\n  send_channel: &quot;REQ&quot;\n</code></pre>\n<p><strong>First</strong> of all, you should define a class that presents the related values that you placed in your <code>.yml</code> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MQProperties {\n    private String receive_channel;\n    private String send_channel;\n    // getter and setters\n}\n</code></pre>\n<p><strong>Second</strong>, you should define a configuration class as below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@PropertySource(value = &quot;classpath:application.yml&quot;)\npublic class ApplicationConfigurationProperties {\n\n    @Bean\n    @ConfigurationProperties(prefix = &quot;mq&quot;)\n    public MQProperties mqProperties() {\n        return new MQProperties();\n    }\n}\n</code></pre>\n<p><strong>Finally</strong> in your test class you validate the value of properties.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class PropertiesTest {\n\n    @Value(&quot;${mq.receive_channel}&quot;)\n    private String mqReceiveChannel;\n    @Value(&quot;${mq.send_channel}&quot;)\n    private String mqSendChannel;\n\n    @Autowired\n    private ApplicationConfigurationProperties configurationProperties;\n\n    @Test\n    public void get_mq_receive_channel() { \n     assertThat(configurationProperties.mqProperties().getReceive_channel()).isEqualTo(mqReceiveChannel);\n    }\n\n    @Test\n    public void get_mq_send_channel() {  \n     assertThat(configurationProperties.mqProperties().getSend_channel()).isEqualTo(mqSendChannel);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22639381,"reputation":45,"user_id":16815778,"display_name":"BustedChain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69410130,"answer_count":1,"score":0,"last_activity_date":1633110690,"creation_date":1633108128,"question_id":69409665,"body_markdown":"I would like to learn how to write a SpringBootTest for an existing ApplicationConfiguration class for the purpose of testing the functionality of reading the application.yml file.  I would be happy with java or groovy.  I am not able to share the existing ApplicationConfiguration class, so I would gladly accept any example offered that starts with an existing ApplicationConfiguration that reads in an application.yml file and parses data in that file over to the objects that need to receive the configurations.\r\n\r\nTo date, what I have read so far hasn&#39;t helped me understand how to do this and I am here with my hat in my hand asking for some help.   I get some of the basic concepts of Spring Boot and Spring Boot Testing, but actually hooking it up from scratch to accomplish this specific task is making it clear to me that I am missing something important in the approach to how to do this.\r\n\r\nIf you want to take the time to explain it to me that&#39;s great, but I certainly don&#39;t expect you to walk a Spring Boot Newbie through this stuff if you have seen documentation online, tutorials, or even videos that would be appropriate for this challenge.    \r\n\r\nTo date, the resources I have found haven&#39;t filled in that missing gap that would let me go from an existing ApplicationConfiguration class to making a new ApplicationConfigurationTests class from it.  The Spring Documentation itself sure seems to gloss over some things like:  minimal requirements.","title":"SpringBootTest for an arbitrary ApplicationConfiguration class to test the reading of the application.yml file","body":"<p>I would like to learn how to write a SpringBootTest for an existing ApplicationConfiguration class for the purpose of testing the functionality of reading the application.yml file.  I would be happy with java or groovy.  I am not able to share the existing ApplicationConfiguration class, so I would gladly accept any example offered that starts with an existing ApplicationConfiguration that reads in an application.yml file and parses data in that file over to the objects that need to receive the configurations.</p>\n<p>To date, what I have read so far hasn't helped me understand how to do this and I am here with my hat in my hand asking for some help.   I get some of the basic concepts of Spring Boot and Spring Boot Testing, but actually hooking it up from scratch to accomplish this specific task is making it clear to me that I am missing something important in the approach to how to do this.</p>\n<p>If you want to take the time to explain it to me that's great, but I certainly don't expect you to walk a Spring Boot Newbie through this stuff if you have seen documentation online, tutorials, or even videos that would be appropriate for this challenge.</p>\n<p>To date, the resources I have found haven't filled in that missing gap that would let me go from an existing ApplicationConfiguration class to making a new ApplicationConfigurationTests class from it.  The Spring Documentation itself sure seems to gloss over some things like:  minimal requirements.</p>\n"},{"tags":["java","spring","spring-boot","validation","java-8"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1633082352,"post_id":69403083,"comment_id":122670950,"body_markdown":"Add the full exception stack trace to your question.","body":"Add the full exception stack trace to your question."},{"owner":{"account_id":22912415,"reputation":45,"user_id":17049481,"display_name":"mark whalf"},"score":0,"creation_date":1633090461,"post_id":69403083,"comment_id":122674108,"body_markdown":"Hello I have edited","body":"Hello I have edited"}],"owner":{"account_id":22912415,"reputation":45,"user_id":17049481,"display_name":"mark whalf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633110453,"creation_date":1633078126,"question_id":69403083,"body_markdown":"I am having an uploading a file with- filename with resttemplate my code below;\r\n\r\nmy code below;\r\n\r\n \r\n\r\n    String filePath = &quot;/C:/../../promoCode/&quot; + fileName + &quot;.txt&quot;;\r\n    \r\n        File targetFile = new File(filePath);\r\n    \r\n        FileWriter writer = new FileWriter(targetFile);\r\n        BufferedWriter buffer = new BufferedWriter(writer);\r\n        buffer.write(generatedVoucherText);\r\n    \r\n        String bucketName = &quot;promocodes&quot;;\r\n    \r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    \r\n        MultiValueMap&lt;String, String&gt; fileMap = new LinkedMultiValueMap&lt;&gt;();\r\n        ContentDisposition contentDisposition = ContentDisposition\r\n                .builder(&quot;form-data&quot;)\r\n                .name(&quot;file&quot;)\r\n                .filename(fileName)\r\n                .build();\r\n        fileMap.add(HttpHeaders.CONTENT_DISPOSITION, contentDisposition.toString());\r\n    \r\n        FileReader reader = new FileReader(targetFile);\r\n        BufferedReader bufferedReader = new BufferedReader(reader);\r\n    \r\n       String someByteArray = bufferedReader.readLine();\r\n    \r\n        HttpEntity&lt;byte[]&gt; requestEntity = new HttpEntity&lt;&gt;(someByteArray.getBytes(StandardCharsets.UTF_8), fileMap);\r\n    \r\n    \r\n        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n        body.add(&quot;file&quot;, requestEntity);\r\n    \r\n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; httpEntity =\r\n                new HttpEntity&lt;&gt;(body, headers);\r\n    \r\n        minioService.postMinio2(httpEntity, bucketName);\r\n        buffer.close();\r\n\r\nI do not know why I am having I/O exception.\r\n\r\nFullStackTrace\r\nException log detail occured: I/O error on POST request for &quot;http://sth-sth.apps.mbt.sth.local promocodes&quot;: class path resource [C:/../../promoCode/ABF.txt] cannot be resolved to URL because it does not exist; nested exception is java.io.FileNotFoundException: class path resource [C:/../../promoCode/ABF.txt] cannot be resolved to URL because it does not exist, class: class org.springframework.web.client.ResourceAccessException\r\n\r\nThank you \r\n\r\n","title":"java.io.FileNotFoundException via Uploading a file with a filename with Spring RestTemplate","body":"<p>I am having an uploading a file with- filename with resttemplate my code below;</p>\n<p>my code below;</p>\n<pre><code>String filePath = &quot;/C:/../../promoCode/&quot; + fileName + &quot;.txt&quot;;\n\n    File targetFile = new File(filePath);\n\n    FileWriter writer = new FileWriter(targetFile);\n    BufferedWriter buffer = new BufferedWriter(writer);\n    buffer.write(generatedVoucherText);\n\n    String bucketName = &quot;promocodes&quot;;\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n\n    MultiValueMap&lt;String, String&gt; fileMap = new LinkedMultiValueMap&lt;&gt;();\n    ContentDisposition contentDisposition = ContentDisposition\n            .builder(&quot;form-data&quot;)\n            .name(&quot;file&quot;)\n            .filename(fileName)\n            .build();\n    fileMap.add(HttpHeaders.CONTENT_DISPOSITION, contentDisposition.toString());\n\n    FileReader reader = new FileReader(targetFile);\n    BufferedReader bufferedReader = new BufferedReader(reader);\n\n   String someByteArray = bufferedReader.readLine();\n\n    HttpEntity&lt;byte[]&gt; requestEntity = new HttpEntity&lt;&gt;(someByteArray.getBytes(StandardCharsets.UTF_8), fileMap);\n\n\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n    body.add(&quot;file&quot;, requestEntity);\n\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; httpEntity =\n            new HttpEntity&lt;&gt;(body, headers);\n\n    minioService.postMinio2(httpEntity, bucketName);\n    buffer.close();\n</code></pre>\n<p>I do not know why I am having I/O exception.</p>\n<p>FullStackTrace\nException log detail occured: I/O error on POST request for &quot;http://sth-sth.apps.mbt.sth.local promocodes&quot;: class path resource [C:/../../promoCode/ABF.txt] cannot be resolved to URL because it does not exist; nested exception is java.io.FileNotFoundException: class path resource [C:/../../promoCode/ABF.txt] cannot be resolved to URL because it does not exist, class: class org.springframework.web.client.ResourceAccessException</p>\n<p>Thank you</p>\n"},{"tags":["java","csv","spring-mvc","sap-commerce-cloud","opencsv"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1565175064,"post_id":57392539,"comment_id":101267204,"body_markdown":"What is `getWriter()`? You need to close the writer or stream.","body":"What is <code>getWriter()</code>? You need to close the writer or stream."},{"owner":{"account_id":16047119,"reputation":628,"user_id":11581979,"display_name":"Trishul Singh Choudhary"},"score":0,"creation_date":1565175932,"post_id":57392539,"comment_id":101267694,"body_markdown":"@user207421 I don&#39;t see getWriter() anywhere.","body":"@user207421 I don&#39;t see getWriter() anywhere."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1565226062,"post_id":57392539,"comment_id":101289334,"body_markdown":"My mistake, I meant `getOutputWriter()`. Where is it? What does it do?","body":"My mistake, I meant <code>getOutputWriter()</code>. Where is it? What does it do?"}],"answers":[{"tags":[],"owner":{"account_id":3577678,"reputation":11003,"user_id":2986537,"accept_rate":100,"display_name":"Razib"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565174973,"creation_date":1565174973,"answer_id":57392691,"question_id":57392539,"body_markdown":"You have to close the `csvWriter` after you have written it to the `OutputStream` like this - \r\n\r\n    \r\n        ....\r\n        ....\r\n        response.setContentType(&quot;application/octet-stream&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + &quot;Report.csv&quot; + &quot;\\&quot;&quot;);\r\n        response.getOutputStream().write(getBytes(csvWriter));\r\n        csvWriter.close();\r\n        response.flushBuffer();  \r\nYou CSV file content is not written to the `OutputStream` cause you are closing it before writing it to the `OutputStream`. Try just changing the order of closing `csvWriter`.","title":"java 7 : response.flushBuffer(); does not Download csv in browser","body":"<p>You have to close the <code>csvWriter</code> after you have written it to the <code>OutputStream</code> like this - </p>\n\n<pre><code>    ....\n    ....\n    response.setContentType(\"application/octet-stream\");\n    response.setHeader(\"Content-Disposition\", \"attachment; filename=\\\"\" + \"Report.csv\" + \"\\\"\");\n    response.getOutputStream().write(getBytes(csvWriter));\n    csvWriter.close();\n    response.flushBuffer();  \n</code></pre>\n\n<p>You CSV file content is not written to the <code>OutputStream</code> cause you are closing it before writing it to the <code>OutputStream</code>. Try just changing the order of closing <code>csvWriter</code>.</p>\n"}],"owner":{"account_id":16047119,"reputation":628,"user_id":11581979,"display_name":"Trishul Singh Choudhary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633110167,"creation_date":1565174481,"question_id":57392539,"body_markdown":"I have a csv Media file , I am trying to read this csv line by line and need to Download in the browser.\r\n\r\n`response.flushBuffer();` does not seem to Start the Download. No errors observed.\r\nI can see the complete data in the Browser response tab under Network and is in correct format. Just not able to flush it.\r\n\r\n```java\r\nfinal MediaModel media = mediaService.getMedia(catalogVersionModelHeader, mediaIdentifier);\r\n        final Collection&lt;File&gt; filesHeader = mediaService.getFiles(media);\r\n \r\n        final BufferedReader br = new BufferedReader(new FileReader(filesHeader.iterator().next()));\r\n        String line = &quot;&quot;;\r\n        final CSVWriter csvWriter = new CSVWriter(getOutputWriter());\r\n        final Map&lt;Integer, String&gt; data = new HashMap&lt;&gt;();\r\n        int counter = 0;\r\n        try {\r\n            while ((line = br.readLine()) != null) {\r\n                data.put(new Integer(counter), line);\r\n                csvWriter.write(data);\r\n            }\r\n            counter++;\r\n        } catch (final IOException ioException) {\r\n            LOG.error(ioException);\r\n        }\r\n\r\n        csvWriter.close();\r\n        response.setContentType(&quot;application/octet-stream&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + &quot;Report.csv&quot; + &quot;\\&quot;&quot;);\r\n        response.getOutputStream().write(getBytes(csvWriter));\r\n        response.flushBuffer();\r\n\t\t\r\n\t\t}\r\n    public byte[] getBytes(final CSVWriter csvWriter) {\r\n        final StringWriter stringWriter = threadLocal.get();\r\n        return stringWriter.getBuffer().toString().getBytes();\r\n    }\r\n\r\n    public Writer getOutputWriter() {\r\n        final StringWriter writer = new StringWriter();\r\n        threadLocal.set(writer);\r\n        return writer;\r\n    }\r\n```\r\n\r\nNo Errors Observed.","title":"java 7 : response.flushBuffer(); does not Download csv in browser","body":"<p>I have a csv Media file , I am trying to read this csv line by line and need to Download in the browser.</p>\n\n<p><code>response.flushBuffer();</code> does not seem to Start the Download. No errors observed.\nI can see the complete data in the Browser response tab under Network and is in correct format. Just not able to flush it.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final MediaModel media = mediaService.getMedia(catalogVersionModelHeader, mediaIdentifier);\n        final Collection&lt;File&gt; filesHeader = mediaService.getFiles(media);\n\n        final BufferedReader br = new BufferedReader(new FileReader(filesHeader.iterator().next()));\n        String line = \"\";\n        final CSVWriter csvWriter = new CSVWriter(getOutputWriter());\n        final Map&lt;Integer, String&gt; data = new HashMap&lt;&gt;();\n        int counter = 0;\n        try {\n            while ((line = br.readLine()) != null) {\n                data.put(new Integer(counter), line);\n                csvWriter.write(data);\n            }\n            counter++;\n        } catch (final IOException ioException) {\n            LOG.error(ioException);\n        }\n\n        csvWriter.close();\n        response.setContentType(\"application/octet-stream\");\n        response.setHeader(\"Content-Disposition\", \"attachment; filename=\\\"\" + \"Report.csv\" + \"\\\"\");\n        response.getOutputStream().write(getBytes(csvWriter));\n        response.flushBuffer();\n\n        }\n    public byte[] getBytes(final CSVWriter csvWriter) {\n        final StringWriter stringWriter = threadLocal.get();\n        return stringWriter.getBuffer().toString().getBytes();\n    }\n\n    public Writer getOutputWriter() {\n        final StringWriter writer = new StringWriter();\n        threadLocal.set(writer);\n        return writer;\n    }\n</code></pre>\n\n<p>No Errors Observed.</p>\n"},{"tags":["java","bash","maven"],"answers":[{"tags":[],"owner":{"account_id":252590,"reputation":6115,"user_id":530734,"display_name":"Peter Svensson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1401993101,"creation_date":1401993101,"answer_id":24067642,"question_id":24067440,"body_markdown":"According to the [docs][1] `exec:java` has no `exec.args`? It does have `exec.arguments` which takes a `String[]` which would translate into:\r\n\r\n    CMD=&quot;mvn exec:java -Dexec.mainClass=$MAINCLASS -Dexec.arguments=\\&quot;cfg.txt\\&quot;,\\&quot;TRAIN\\&quot;&quot;\r\n\r\n\r\n  [1]: http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html","title":"Using Maven Exec Plugin inside Bash","body":"<p>According to the <a href=\"http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html\" rel=\"nofollow\">docs</a> <code>exec:java</code> has no <code>exec.args</code>? It does have <code>exec.arguments</code> which takes a <code>String[]</code> which would translate into:</p>\n\n<pre><code>CMD=\"mvn exec:java -Dexec.mainClass=$MAINCLASS -Dexec.arguments=\\\"cfg.txt\\\",\\\"TRAIN\\\"\"\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3458"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401993414,"creation_date":1401993414,"answer_id":24067737,"question_id":24067440,"body_markdown":"This is really a bash quoting issue, not Maven issue as such.\r\n\r\nTo debug it do \r\n\r\n    echo $CMD\r\n\r\nand then cut and paste the result into your command line. Tinker with quotation till it works\r\n\r\nTry\r\n\r\n    CMD=&quot;mvn exec:java -Dexec.mainClass=$MAINCLASS -Dexec.args=&#39;cfg.txt TRAIN&#39;&quot; \r\n\r\nfor starters","title":"Using Maven Exec Plugin inside Bash","body":"<p>This is really a bash quoting issue, not Maven issue as such.</p>\n\n<p>To debug it do </p>\n\n<pre><code>echo $CMD\n</code></pre>\n\n<p>and then cut and paste the result into your command line. Tinker with quotation till it works</p>\n\n<p>Try</p>\n\n<pre><code>CMD=\"mvn exec:java -Dexec.mainClass=$MAINCLASS -Dexec.args='cfg.txt TRAIN'\" \n</code></pre>\n\n<p>for starters</p>\n"},{"tags":[],"owner":{"account_id":5587983,"reputation":11,"user_id":4428047,"display_name":"Neil Greenwood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420620370,"creation_date":1420620370,"answer_id":27815485,"question_id":24067440,"body_markdown":"I&#39;ve just found that this problem might also be solved by putting quotes around the whole `-Dexec.args` value, like so:\r\n\r\n    CMD=&quot;mvn exec:java -Dexec.mainClass=$MAINCLASS \\&quot;-Dexec.args=cfg.txt TRAIN\\&quot;&quot;","title":"Using Maven Exec Plugin inside Bash","body":"<p>I've just found that this problem might also be solved by putting quotes around the whole <code>-Dexec.args</code> value, like so:</p>\n\n<pre><code>CMD=\"mvn exec:java -Dexec.mainClass=$MAINCLASS \\\"-Dexec.args=cfg.txt TRAIN\\\"\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":42005,"reputation":2840,"user_id":122230,"accept_rate":80,"display_name":"wytten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633110145,"creation_date":1633110145,"answer_id":69410022,"question_id":24067440,"body_markdown":"Riffing on @Peter Svensson&#39;s answer, I suggest:\r\n\r\n    -Dexec.arguments=$(echo $@ | tr &#39; &#39; &#39;,&#39;)\r\n\r\nWhere $@ is the standard bash symbol for arguments provided to the bash script, and the tr command is changing the list from space-delimited to comma-delimited","title":"Using Maven Exec Plugin inside Bash","body":"<p>Riffing on @Peter Svensson's answer, I suggest:</p>\n<pre><code>-Dexec.arguments=$(echo $@ | tr ' ' ',')\n</code></pre>\n<p>Where $@ is the standard bash symbol for arguments provided to the bash script, and the tr command is changing the list from space-delimited to comma-delimited</p>\n"}],"owner":{"account_id":1206153,"reputation":714,"user_id":1175760,"accept_rate":80,"display_name":"mayhewsw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24067642,"answer_count":4,"score":3,"last_activity_date":1633110145,"creation_date":1401992551,"question_id":24067440,"body_markdown":"I&#39;m writing a bash script which will execute some part of a maven project. The script looks like this:\r\n\r\n    CMD=&quot;mvn exec:java -Dexec.mainClass=$MAINCLASS -Dexec.args=\\&quot;cfg.txt TRAIN\\&quot;&quot;  \r\n    echo &quot;Running $CMD...&quot;\r\n    \r\n    $CMD\r\n\r\nBut this fails every time with the following error:\r\n\r\n    [ERROR] Unknown lifecycle phase &quot;TRAIN&quot;. You must specify a valid \r\n    lifecycle phase...\r\n\r\nIf I skip the `CMD=...` assignment, and just run the mvn part directly, like this...\r\n    \r\n    mvn exec:java -Dexec.mainClass=$MAINCLASS -Dexec.args=&quot;cfg.txt TRAIN&quot;\r\n\r\n...it works just fine.\r\n\r\nHow can I get maven and the exec plugin to understand that I have two arguments in the `-Dexec.args` section?","title":"Using Maven Exec Plugin inside Bash","body":"<p>I'm writing a bash script which will execute some part of a maven project. The script looks like this:</p>\n\n<pre><code>CMD=\"mvn exec:java -Dexec.mainClass=$MAINCLASS -Dexec.args=\\\"cfg.txt TRAIN\\\"\"  \necho \"Running $CMD...\"\n\n$CMD\n</code></pre>\n\n<p>But this fails every time with the following error:</p>\n\n<pre><code>[ERROR] Unknown lifecycle phase \"TRAIN\". You must specify a valid \nlifecycle phase...\n</code></pre>\n\n<p>If I skip the <code>CMD=...</code> assignment, and just run the mvn part directly, like this...</p>\n\n<pre><code>mvn exec:java -Dexec.mainClass=$MAINCLASS -Dexec.args=\"cfg.txt TRAIN\"\n</code></pre>\n\n<p>...it works just fine.</p>\n\n<p>How can I get maven and the exec plugin to understand that I have two arguments in the <code>-Dexec.args</code> section?</p>\n"},{"tags":["java","selenium-webdriver","testing","automated-tests"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1633110016,"post_id":69409905,"comment_id":122681959,"body_markdown":"The Java compiler translates both ways into the exactly same byte code (with the exception of the line number attribute for the `new SeleniumDriverManager()` code). So this boils down to a choice of preference.","body":"The Java compiler translates both ways into the exactly same byte code (with the exception of the line number attribute for the <code>new SeleniumDriverManager()</code> code). So this boils down to a choice of preference."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1633110510,"post_id":69409905,"comment_id":122682100,"body_markdown":"As has already been said - there&#39;s really no difference in this case.  Personally, I&#39;d go with your second example (no explicit constructor needed).","body":"As has already been said - there&#39;s really no difference in this case.  Personally, I&#39;d go with your second example (no explicit constructor needed)."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1633116570,"post_id":69409905,"comment_id":122683915,"body_markdown":"Personally, I&#39;d go with your first example, because it&#39;s easier for a person to read and clearly makes a distinction between static fields and class fields.  As @Thomas Kl&#228;ger said, it&#39;s a choice of personal preference or shop coding standards.","body":"Personally, I&#39;d go with your first example, because it&#39;s easier for a person to read and clearly makes a distinction between static fields and class fields.  As @Thomas Kl&#228;ger said, it&#39;s a choice of personal preference or shop coding standards."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1633110066,"creation_date":1633110066,"answer_id":69410010,"question_id":69409905,"body_markdown":"There is no difference.\r\nIn the first one, `seleniumDriverManager` is initialized directly in the constructor via `this.seleniumDriverManager = new SeleniumDriverManager();`.\r\nIn the second one, `seleniumDriverManager` is initialized when the (generated) default no-arg constructor is called (similar to what happens in the first case).\r\n\r\nNevertheless, the best approach could be different:\r\n```java\r\npublic class DriverManager {\r\n\r\n    private final SeleniumDriverManager seleniumDriverManager;\r\n\r\n    public DriverManager(SeleniumDriverManager seleniumDriverManager) {\r\n        this.seleniumDriverManager = seleniumDriverManager;\r\n    }\r\n\r\n    public void startDriver() {\r\n        seleniumDriverManager.startWebDriver();\r\n    }\r\n\r\n    public void quitDriver() {\r\n        seleniumDriverManager.quitWebDriver();\r\n    }\r\n}\r\n```\r\n\r\nIn this case, you actually request the `seleniumDriverManager` to be passed in the constructor as an argument. This is one of the bases of Dependency Injection which relies on this approach of &quot;asking&quot; instead of (silently) providing. Dependency injection is actually the foundation of Frameworks such as Spring and has a huge amount of advantages. Still, this really depends on our use case, but keep this option in mind ;)","title":"Java: How to PROPERLY access methods from another class | Example code inside","body":"<p>There is no difference.\nIn the first one, <code>seleniumDriverManager</code> is initialized directly in the constructor via <code>this.seleniumDriverManager = new SeleniumDriverManager();</code>.\nIn the second one, <code>seleniumDriverManager</code> is initialized when the (generated) default no-arg constructor is called (similar to what happens in the first case).</p>\n<p>Nevertheless, the best approach could be different:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DriverManager {\n\n    private final SeleniumDriverManager seleniumDriverManager;\n\n    public DriverManager(SeleniumDriverManager seleniumDriverManager) {\n        this.seleniumDriverManager = seleniumDriverManager;\n    }\n\n    public void startDriver() {\n        seleniumDriverManager.startWebDriver();\n    }\n\n    public void quitDriver() {\n        seleniumDriverManager.quitWebDriver();\n    }\n}\n</code></pre>\n<p>In this case, you actually request the <code>seleniumDriverManager</code> to be passed in the constructor as an argument. This is one of the bases of Dependency Injection which relies on this approach of &quot;asking&quot; instead of (silently) providing. Dependency injection is actually the foundation of Frameworks such as Spring and has a huge amount of advantages. Still, this really depends on our use case, but keep this option in mind ;)</p>\n"}],"owner":{"account_id":18181746,"reputation":64,"user_id":13229366,"display_name":"EZV8"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633110066,"creation_date":1633109410,"question_id":69409905,"body_markdown":"I&#39;m wondering what is the best/correct way to access methods from other classes in java.\r\n\r\nI&#39;ll show how I&#39;m doing it right now. \r\n\r\nSometimes like this:\r\n\r\n```java\r\npublic class DriverManager {\r\n\r\n    private final SeleniumDriverManager seleniumDriverManager;\r\n\r\n    public DriverManager() {\r\n        this.seleniumDriverManager = new SeleniumDriverManager();\r\n    }\r\n\r\n    public void startDriver() {\r\n        seleniumDriverManager.startWebDriver();\r\n    }\r\n\r\n    public void quitDriver() {\r\n        seleniumDriverManager.quitWebDriver();\r\n    }\r\n}\r\n```\r\n\r\nand sometime like this\r\n\r\n```java\r\npublic class DriverManager {\r\n\r\n    private final SeleniumDriverManager seleniumDriverManager = new SeleniumDriverManager()\r\n\r\n    public void startDriver() {\r\n        seleniumDriverManager.startWebDriver();\r\n    }\r\n\r\n    public void quitDriver() {\r\n        seleniumDriverManager.quitWebDriver();\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s working in both cases, but is there any difference? Should I follow 1st or 2nd approach","title":"Java: How to PROPERLY access methods from another class | Example code inside","body":"<p>I'm wondering what is the best/correct way to access methods from other classes in java.</p>\n<p>I'll show how I'm doing it right now.</p>\n<p>Sometimes like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DriverManager {\n\n    private final SeleniumDriverManager seleniumDriverManager;\n\n    public DriverManager() {\n        this.seleniumDriverManager = new SeleniumDriverManager();\n    }\n\n    public void startDriver() {\n        seleniumDriverManager.startWebDriver();\n    }\n\n    public void quitDriver() {\n        seleniumDriverManager.quitWebDriver();\n    }\n}\n</code></pre>\n<p>and sometime like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DriverManager {\n\n    private final SeleniumDriverManager seleniumDriverManager = new SeleniumDriverManager()\n\n    public void startDriver() {\n        seleniumDriverManager.startWebDriver();\n    }\n\n    public void quitDriver() {\n        seleniumDriverManager.quitWebDriver();\n    }\n}\n</code></pre>\n<p>It's working in both cases, but is there any difference? Should I follow 1st or 2nd approach</p>\n"},{"tags":["java","jar","null","resources","classpath"],"comments":[{"owner":{"account_id":174804,"reputation":27548,"user_id":404395,"accept_rate":73,"display_name":"marioosh"},"score":0,"creation_date":1391605421,"post_id":21577949,"comment_id":32594342,"body_markdown":"I always use `X.class.getClassLoader().getResource(&quot;file.txt&quot;)`. Maybe that helps. Try `ThatClass.class.getClassLoader().getResource(&quot;/Data/foo/bar/file.txt&quot;);`","body":"I always use <code>X.class.getClassLoader().getResource(&quot;file.txt&quot;)</code>. Maybe that helps. Try <code>ThatClass.class.getClassLoader().getResource(&quot;&#47;Data&#47;foo&#47;bar&#47;&zwnj;&#8203;file.txt&quot;);</code>"},{"owner":{"account_id":278194,"reputation":2443,"user_id":572645,"accept_rate":61,"display_name":"radlan"},"score":0,"creation_date":1391605568,"post_id":21577949,"comment_id":32594457,"body_markdown":"@marioosh No, it doesn&#39;t. I am sorry. But I cannot change the used libs. I have to use them as they are. I am only able to set the classpath and the way the application is started.","body":"@marioosh No, it doesn&#39;t. I am sorry. But I cannot change the used libs. I have to use them as they are. I am only able to set the classpath and the way the application is started."}],"answers":[{"tags":[],"owner":{"account_id":1732446,"reputation":10581,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391605576,"creation_date":1391605576,"answer_id":21578168,"question_id":21577949,"body_markdown":"When you start the path with a &quot;/&quot;, it&#39;s considered as absolute. Try `ThatClass.class.getResource(&quot;/runtime/Data/foo/bar/file.txt&quot;);`\r\n\r\nOtherwise, if you cant&#39;t change the code, put the file on /Data/foo/bar/file.txt","title":"class.getResource() is null though it is in classpath","body":"<p>When you start the path with a \"/\", it's considered as absolute. Try <code>ThatClass.class.getResource(\"/runtime/Data/foo/bar/file.txt\");</code></p>\n\n<p>Otherwise, if you cant't change the code, put the file on /Data/foo/bar/file.txt</p>\n"},{"tags":[],"owner":{"account_id":18499897,"reputation":61,"user_id":13477480,"display_name":"Martin Traverse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633109998,"creation_date":1633109998,"answer_id":69409997,"question_id":21577949,"body_markdown":"In a development environment, this can sometimes happen when resources have not been processed during the build. Using Gradle and building your main JAR or main test JAR will depend on the compileJava tasks in your libs, but will not trigger their resources to be processed. You can see if this is happening by looking in your build dir to see if resources for your libs have been copied over. If they haven&#39;t been copied the resource loader won&#39;t find them at runtime.\r\n\r\nIf this is the problem, a full build will fix the issue and published JARs should always have their resources. But, it&#39;s nice to be able to trigger e.g. the test task for an individual module and know that it will always pull in everything it needs. If you have a library with essential resources that must always be present, you can force them to be processed in partial builds by adding this to the build.gradle of the library:\r\n\r\n        compileJava.dependsOn(processResources)","title":"class.getResource() is null though it is in classpath","body":"<p>In a development environment, this can sometimes happen when resources have not been processed during the build. Using Gradle and building your main JAR or main test JAR will depend on the compileJava tasks in your libs, but will not trigger their resources to be processed. You can see if this is happening by looking in your build dir to see if resources for your libs have been copied over. If they haven't been copied the resource loader won't find them at runtime.</p>\n<p>If this is the problem, a full build will fix the issue and published JARs should always have their resources. But, it's nice to be able to trigger e.g. the test task for an individual module and know that it will always pull in everything it needs. If you have a library with essential resources that must always be present, you can force them to be processed in partial builds by adding this to the build.gradle of the library:</p>\n<pre><code>    compileJava.dependsOn(processResources)\n</code></pre>\n"}],"owner":{"account_id":278194,"reputation":2443,"user_id":572645,"accept_rate":61,"display_name":"radlan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633109998,"creation_date":1391605005,"question_id":21577949,"body_markdown":"I have a jar containing the main class of a project. This depends on several other jars that reside in a `lib` directory. One class of such a dependend jar loads a ressource `&quot;/Data/foo/bar/file.txt&quot;`. But loading this file as ressource leads to null.\r\n\r\nHere is the directory structure:\r\n\r\n    ./main.jar\r\n    ./lib/lib1.jar\r\n    ./lib/lib2.jar\r\n    ./lib/lib3.jar\r\n    ./lib/runtimedata/Data/foo/bar/file.txt\r\n\r\nThis is the classpath of the manifest.mf of the main.jar:\r\n\r\n    lib/lib1.jar lib/lib2.jar lib/lib3.jar lib/runtimedata\r\n\r\nI start the application via \r\n\r\n    java -jar main.jar\r\n\r\nThe `lib2.jar` contains a class that tries to load the file with\r\n\r\n    ThatClass.class.getResource(&quot;/Data/foo/bar/file.txt&quot;);\r\n\r\nBut that happens to be null. Why? lib/runtimedata is in the classpath. \r\nI even tried to put the `Data` directory into lib/lib/runtimedata, in case the path is relative to the jar file containing the loading class. But that doesn&#39;t help.\r\n\r\nWhat am I doing wrong here?\r\n\r\n**EDIT**:\r\n\r\nRunning the application with \r\n\r\n    java -cp main.jar:lib/*.jar:lib/runtimedata my.package.Main\r\n\r\nworks correctly. \r\n\r\n**EDIT 2**:\r\n\r\nI cannot change that lib that does the resource loading. I am only using that lib. The only things I can change is the main.jar the classpath and the command line.","title":"class.getResource() is null though it is in classpath","body":"<p>I have a jar containing the main class of a project. This depends on several other jars that reside in a <code>lib</code> directory. One class of such a dependend jar loads a ressource <code>\"/Data/foo/bar/file.txt\"</code>. But loading this file as ressource leads to null.</p>\n\n<p>Here is the directory structure:</p>\n\n<pre><code>./main.jar\n./lib/lib1.jar\n./lib/lib2.jar\n./lib/lib3.jar\n./lib/runtimedata/Data/foo/bar/file.txt\n</code></pre>\n\n<p>This is the classpath of the manifest.mf of the main.jar:</p>\n\n<pre><code>lib/lib1.jar lib/lib2.jar lib/lib3.jar lib/runtimedata\n</code></pre>\n\n<p>I start the application via </p>\n\n<pre><code>java -jar main.jar\n</code></pre>\n\n<p>The <code>lib2.jar</code> contains a class that tries to load the file with</p>\n\n<pre><code>ThatClass.class.getResource(\"/Data/foo/bar/file.txt\");\n</code></pre>\n\n<p>But that happens to be null. Why? lib/runtimedata is in the classpath. \nI even tried to put the <code>Data</code> directory into lib/lib/runtimedata, in case the path is relative to the jar file containing the loading class. But that doesn't help.</p>\n\n<p>What am I doing wrong here?</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>Running the application with </p>\n\n<pre><code>java -cp main.jar:lib/*.jar:lib/runtimedata my.package.Main\n</code></pre>\n\n<p>works correctly. </p>\n\n<p><strong>EDIT 2</strong>:</p>\n\n<p>I cannot change that lib that does the resource loading. I am only using that lib. The only things I can change is the main.jar the classpath and the command line.</p>\n"},{"tags":["java","arrays","parameters","boolean","arguments"],"answers":[{"tags":[],"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633108016,"creation_date":1633108016,"answer_id":69409645,"question_id":69409548,"body_markdown":"Instead of boolean [] in your countTrue method, declare the parameter as boolean...","title":"The method countTrue(boolean[]) in the type GUI is not applicable for the arguments (boolean, boolean, boolean, boolean, boolean)","body":"<p>Instead of boolean [] in your countTrue method, declare the parameter as boolean...</p>\n"},{"tags":[],"owner":{"account_id":19394380,"reputation":235,"user_id":14182376,"display_name":"Vitaly Kolesnikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633109981,"creation_date":1633108160,"answer_id":69409675,"question_id":69409548,"body_markdown":"New array should be declared as below:\r\n\r\n```int x = GUI.countTrue(new boolean[]{true, false, false, true, false});```\r\n\r\nOR\r\n\r\nyou can use varargs and declare your method as:\r\n```public static int countTrue(boolean... arr)```\r\n\r\nand then call it as:\r\n```int x = GUI.countTrue(true, false, false, true, false);```\r\n\r\nAlso you can simplify ```if (element == true)``` to just ```if (element)```","title":"The method countTrue(boolean[]) in the type GUI is not applicable for the arguments (boolean, boolean, boolean, boolean, boolean)","body":"<p>New array should be declared as below:</p>\n<p><code>int x = GUI.countTrue(new boolean[]{true, false, false, true, false});</code></p>\n<p>OR</p>\n<p>you can use varargs and declare your method as:\n<code>public static int countTrue(boolean... arr)</code></p>\n<p>and then call it as:\n<code>int x = GUI.countTrue(true, false, false, true, false);</code></p>\n<p>Also you can simplify <code>if (element == true)</code> to just <code>if (element)</code></p>\n"}],"owner":{"display_name":"user14728703"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69409675,"answer_count":2,"score":0,"last_activity_date":1633109981,"creation_date":1633107549,"question_id":69409548,"body_markdown":"this is the error :\r\n\r\n&quot;The method countTrue(boolean[]) in the type GUI is not applicable for the arguments (boolean, boolean, boolean, boolean, boolean)&quot;\r\n, the error is in the last line , but i dont get why.\r\n\r\n\r\n    public class GUI {\r\n    \t\r\n    \tpublic GUI(){\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static int countTrue(boolean[] arr) {\r\n    \t\tint count = 0;\r\n    \t\tfor (boolean element : arr) {\r\n    \t\t    if (element == true ) {\r\n    \t\t        count++;\r\n    \t\t    }\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn count ;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint x = GUI.countTrue([true, false, false, true, false]);\r\n    \t\t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"The method countTrue(boolean[]) in the type GUI is not applicable for the arguments (boolean, boolean, boolean, boolean, boolean)","body":"<p>this is the error :</p>\n<p>&quot;The method countTrue(boolean[]) in the type GUI is not applicable for the arguments (boolean, boolean, boolean, boolean, boolean)&quot;\n, the error is in the last line , but i dont get why.</p>\n<pre><code>public class GUI {\n    \n    public GUI(){\n        \n    }\n    \n    public static int countTrue(boolean[] arr) {\n        int count = 0;\n        for (boolean element : arr) {\n            if (element == true ) {\n                count++;\n            }\n        }\n        \n        return count ;\n    }\n    \n    \n    public static void main(String[] args) {\n        \n        int x = GUI.countTrue([true, false, false, true, false]);\n            \n    }\n\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hikaricp"],"comments":[{"owner":{"account_id":17945275,"reputation":649,"user_id":13039704,"display_name":"Seldo97"},"score":0,"creation_date":1597881689,"post_id":63495169,"comment_id":112280629,"body_markdown":"Is here answer for your question? https://stackoverflow.com/questions/52804228/failed-to-load-driver-class-com-mysql-jdbc-driver\n\nShow your `pom.xml` file.","body":"Is here answer for your question? <a href=\"https://stackoverflow.com/questions/52804228/failed-to-load-driver-class-com-mysql-jdbc-driver\" title=\"failed to load driver class com mysql jdbc driver\">stackoverflow.com/questions/52804228/&hellip;</a>  Show your <code>pom.xml</code> file."},{"owner":{"account_id":18755572,"reputation":31,"user_id":13675675,"display_name":"Andrzej"},"score":0,"creation_date":1597906814,"post_id":63495169,"comment_id":112286113,"body_markdown":"I have seen it before. It don&#39;t work at my case.","body":"I have seen it before. It don&#39;t work at my case."}],"answers":[{"tags":[],"owner":{"account_id":8171302,"reputation":61,"user_id":6151652,"display_name":"Valery Putnin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1633109085,"creation_date":1633099076,"answer_id":69407733,"question_id":63495169,"body_markdown":"One day I woke up, ran my IntelliJ, started the app and had the same problem.\r\nFor a solution please check:  \r\n1. Dependency &#39;mysql:mysql-connector-java&#39; is exists.\r\n2. Class &#39;com.mysql.cj.jdbc.Driver&#39; is exists through global search(ctrl+shift+n) -&gt; classes.\r\n3. In IntelliJ: &quot;File&quot; -&gt; &quot;Invalidate Caches / Restart&quot;.","title":"Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader","body":"<p>One day I woke up, ran my IntelliJ, started the app and had the same problem.\nFor a solution please check:</p>\n<ol>\n<li>Dependency 'mysql:mysql-connector-java' is exists.</li>\n<li>Class 'com.mysql.cj.jdbc.Driver' is exists through global search(ctrl+shift+n) -&gt; classes.</li>\n<li>In IntelliJ: &quot;File&quot; -&gt; &quot;Invalidate Caches / Restart&quot;.</li>\n</ol>\n"}],"owner":{"account_id":18755572,"reputation":31,"user_id":13675675,"display_name":"Andrzej"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8168,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1633109085,"creation_date":1597872052,"question_id":63495169,"body_markdown":"how fix this problem ? /I use Gradle/\r\nDescription:\r\n\r\nFailed to bind properties under &#39;&#39; to com.zaxxer.hikari.HikariDataSource:\r\n\r\n    Property: driverclassname\r\n    Value: com.mysql.cj.jdbc.Driver\r\n    Origin: &quot;driverClassName&quot; from property source &quot;source&quot;\r\n    Reason: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n\r\nAction:\r\n\r\nUpdate your application&#39;s configuration","title":"Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader","body":"<p>how fix this problem ? /I use Gradle/\nDescription:</p>\n<p>Failed to bind properties under '' to com.zaxxer.hikari.HikariDataSource:</p>\n<pre><code>Property: driverclassname\nValue: com.mysql.cj.jdbc.Driver\nOrigin: &quot;driverClassName&quot; from property source &quot;source&quot;\nReason: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\n</code></pre>\n<p>Action:</p>\n<p>Update your application's configuration</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5715690,"reputation":2296,"user_id":4515989,"accept_rate":78,"display_name":"Felix"},"score":0,"creation_date":1633103066,"post_id":69408481,"comment_id":122679489,"body_markdown":"You can&#39;t write files to `/resources` once your application is bundled as a jar.\nYou can instead tell thymeleaf to look in multiple locations","body":"You can&#39;t write files to <code>&#47;resources</code> once your application is bundled as a jar. You can instead tell thymeleaf to look in multiple locations"},{"owner":{"account_id":15618830,"reputation":27,"user_id":11268315,"display_name":"Joachim Karlsson"},"score":0,"creation_date":1633108860,"post_id":69408481,"comment_id":122681601,"body_markdown":"At least it leads me in the right direction. Will look at bit deeper.","body":"At least it leads me in the right direction. Will look at bit deeper."},{"owner":{"account_id":7853419,"reputation":120,"user_id":5936155,"display_name":"Jp Silver"},"score":0,"creation_date":1643281372,"post_id":69408481,"comment_id":125300252,"body_markdown":"You can always upload it to a different directory and get it via : \n`response.setContentType(MediaType.IMAGE_PNG_VALUE);//Or IMAGE_JPG_VALUE etc...\nIOUtils.copy(new FileInputStream(file), response.getOutputStream());`","body":"You can always upload it to a different directory and get it via :  <code>response.setContentType(MediaType.IMAGE_PNG_VALUE);&#47;&#47;Or IMAGE_JPG_VALUE etc... IOUtils.copy(new FileInputStream(file), response.getOutputStream());</code>"}],"answers":[{"tags":[],"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633103519,"creation_date":1633102848,"answer_id":69408581,"question_id":69408481,"body_markdown":"I use a static helper to do this like with `org.springframework.util.ResourceUtils` class\r\n\r\n    public static File getResourceAsFile(String relativeFilePath) throws FileNotFoundException {\r\n\t\treturn ResourceUtils.getFile(String.format(&quot;classpath:%s&quot;,relativeFilePath));\r\n\r\n\t}\r\n\r\nAnd use like \r\n\r\n    File dir=getResourceAsFile(&quot;/static/pictures/&quot;);\r\n    ","title":"Save uploaded picture to static/pictures in spring boot","body":"<p>I use a static helper to do this like with <code>org.springframework.util.ResourceUtils</code> class</p>\n<pre><code>public static File getResourceAsFile(String relativeFilePath) throws FileNotFoundException {\n    return ResourceUtils.getFile(String.format(&quot;classpath:%s&quot;,relativeFilePath));\n\n}\n</code></pre>\n<p>And use like</p>\n<pre><code>File dir=getResourceAsFile(&quot;/static/pictures/&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5136349,"reputation":1773,"user_id":4114992,"display_name":"Donald_W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633103517,"creation_date":1633103517,"answer_id":69408727,"question_id":69408481,"body_markdown":"At a minimum, you will need to add an extra path separator,\r\n\r\ni.e.\r\n\r\n    private String userDirectory = &quot;/static/pictures/&quot;;\r\n\r\nor\r\n\r\n    Path path = Paths.get(uploadPath + &quot;/&quot; + file.getOriginalFilename());\r\n    Files.write(path, bytes);\r\n\r\nSince in your question as written you would end up with something like\r\n\r\n    &quot;/static/picturesfilename&quot;\r\n\r\nrather than\r\n\r\n    &quot;/static/pictures/filename&quot;\r\n\r\nBe aware also that what you are doing is *extremely risky*.  The submitting user can, under certain circumstances, set getOriginalFilename(), and therefore write to\r\n\r\n    /static/pictures/../../etc/arbitrary\r\n\r\nSee https://github.com/spring-projects/spring-framework/issues/18237\r\n\r\n\r\n\r\n\r\n\r\n","title":"Save uploaded picture to static/pictures in spring boot","body":"<p>At a minimum, you will need to add an extra path separator,</p>\n<p>i.e.</p>\n<pre><code>private String userDirectory = &quot;/static/pictures/&quot;;\n</code></pre>\n<p>or</p>\n<pre><code>Path path = Paths.get(uploadPath + &quot;/&quot; + file.getOriginalFilename());\nFiles.write(path, bytes);\n</code></pre>\n<p>Since in your question as written you would end up with something like</p>\n<pre><code>&quot;/static/picturesfilename&quot;\n</code></pre>\n<p>rather than</p>\n<pre><code>&quot;/static/pictures/filename&quot;\n</code></pre>\n<p>Be aware also that what you are doing is <em>extremely risky</em>.  The submitting user can, under certain circumstances, set getOriginalFilename(), and therefore write to</p>\n<pre><code>/static/pictures/../../etc/arbitrary\n</code></pre>\n<p>See <a href=\"https://github.com/spring-projects/spring-framework/issues/18237\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/18237</a></p>\n"}],"owner":{"account_id":15618830,"reputation":27,"user_id":11268315,"display_name":"Joachim Karlsson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5953,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633111003,"answer_count":2,"score":0,"last_activity_date":1633108944,"creation_date":1633102332,"question_id":69408481,"body_markdown":"Edit:\r\nAfter further investigation it seems pretty obvious that I can&#39;t write to /static. I need to write the files elsewhere and direct the Thymeleaf to read from that location.\r\n\r\nI am trying to upload a picture to my spring boot application, placing it in static/pictures so that the thymeleaf html page can read the picture. But I am unable to find out how to specify the path to that folder.\r\n\r\nThere is no problem saving the file to System.getProperty(&quot;user.dir&quot;);\r\n\r\n    //working\r\n    private String userDirectory = System.getProperty(&quot;user.dir&quot;);\r\n    //Not working\r\n    private String userDirectory = &quot;/static/pictures&quot;;\r\n    @PostMapping(&quot;/upload&quot;)\r\n    public String singleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file,\r\n                                   RedirectAttributes redirectAttributes) {\r\n    \r\n \r\nI would like the upload path to point to /static/pictures but will always get\r\njava.nio.file.NoSuchFileException no matter how I define the path.\r\n\r\n            // Get the file and save it somewhere\r\n            byte[] bytes = file.getBytes();\r\n            Path path = Paths.get( uploadPath + file.getOriginalFilename());\r\n            Files.write(path, bytes);\r\n    \r\n            redirectAttributes.addFlashAttribute(&quot;message&quot;,\r\n                    &quot;You successfully uploaded &#39;&quot; + file.getOriginalFilename() + &quot;&#39;&quot;);\r\n    \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n        //return &quot;redirect:/uploadStatus&quot;;\r\n        return &quot;index&quot;;\r\n    }\r\n\r\nI have also tried setting upload.path in the properties file.\r\n\r\n    upload.path=/META-INF/resources/static/pictures/\r\n\r\n","title":"Save uploaded picture to static/pictures in spring boot","body":"<p>Edit:\nAfter further investigation it seems pretty obvious that I can't write to /static. I need to write the files elsewhere and direct the Thymeleaf to read from that location.</p>\n<p>I am trying to upload a picture to my spring boot application, placing it in static/pictures so that the thymeleaf html page can read the picture. But I am unable to find out how to specify the path to that folder.</p>\n<p>There is no problem saving the file to System.getProperty(&quot;user.dir&quot;);</p>\n<pre><code>//working\nprivate String userDirectory = System.getProperty(&quot;user.dir&quot;);\n//Not working\nprivate String userDirectory = &quot;/static/pictures&quot;;\n@PostMapping(&quot;/upload&quot;)\npublic String singleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file,\n                               RedirectAttributes redirectAttributes) {\n</code></pre>\n<p>I would like the upload path to point to /static/pictures but will always get\njava.nio.file.NoSuchFileException no matter how I define the path.</p>\n<pre><code>        // Get the file and save it somewhere\n        byte[] bytes = file.getBytes();\n        Path path = Paths.get( uploadPath + file.getOriginalFilename());\n        Files.write(path, bytes);\n\n        redirectAttributes.addFlashAttribute(&quot;message&quot;,\n                &quot;You successfully uploaded '&quot; + file.getOriginalFilename() + &quot;'&quot;);\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    //return &quot;redirect:/uploadStatus&quot;;\n    return &quot;index&quot;;\n}\n</code></pre>\n<p>I have also tried setting upload.path in the properties file.</p>\n<pre><code>upload.path=/META-INF/resources/static/pictures/\n</code></pre>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633107592,"creation_date":1633104738,"answer_id":69408990,"question_id":69408760,"body_markdown":"  You can use below `xPath` to click that tab.\r\n\r\n    //a[contains(@class,&#39;instrument-table-tab-menu&#39;) and text()=&#39;Nyckeltal&#39;]\r\n\r\nIn these type of cases, you need to create a dynamic `xPath` that means same `xPath` can be used for multiple element with different values.\r\n\r\n**Examples**: In below examples I have just changed the text of the tab.\r\n\r\n`xPath` for `Kurser` tab.\r\n\r\n    //a[contains(@class,&#39;instrument-table-tab-menu&#39;) and text()=&#39;Kurser&#39;]\r\n\r\n`xPath` for `Historik` tab.\r\n\r\n    //a[contains(@class,&#39;instrument-table-tab-menu&#39;) and text()=&#39;Historik&#39;]\r\n\r\nI would suggest you to practice with `xPath` more. Please go through this [tutorial][1]   \r\n\r\n\r\n  [1]: https://www.w3schools.com/xml/xpath_intro.asp","title":"What is the best way to click on a tab using Java and selenium on a webpage?","body":"<p>You can use below <code>xPath</code> to click that tab.</p>\n<pre><code>//a[contains(@class,'instrument-table-tab-menu') and text()='Nyckeltal']\n</code></pre>\n<p>In these type of cases, you need to create a dynamic <code>xPath</code> that means same <code>xPath</code> can be used for multiple element with different values.</p>\n<p><strong>Examples</strong>: In below examples I have just changed the text of the tab.</p>\n<p><code>xPath</code> for <code>Kurser</code> tab.</p>\n<pre><code>//a[contains(@class,'instrument-table-tab-menu') and text()='Kurser']\n</code></pre>\n<p><code>xPath</code> for <code>Historik</code> tab.</p>\n<pre><code>//a[contains(@class,'instrument-table-tab-menu') and text()='Historik']\n</code></pre>\n<p>I would suggest you to practice with <code>xPath</code> more. Please go through this <a href=\"https://www.w3schools.com/xml/xpath_intro.asp\" rel=\"nofollow noreferrer\">tutorial</a></p>\n"},{"tags":[],"owner":{"account_id":19867572,"reputation":48,"user_id":14554493,"display_name":"xBullet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633108323,"creation_date":1633107730,"answer_id":69409585,"question_id":69408760,"body_markdown":"Very easy to do if you have the class name with:\r\n\r\n    driver.findElement(By.className(&quot;PUT CLASSNAME OF ELEMENT HERE&quot;)).click();","title":"What is the best way to click on a tab using Java and selenium on a webpage?","body":"<p>Very easy to do if you have the class name with:</p>\n<pre><code>driver.findElement(By.className(&quot;PUT CLASSNAME OF ELEMENT HERE&quot;)).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633108557,"creation_date":1633108557,"answer_id":69409744,"question_id":69408760,"body_markdown":"You should give more precedence to css selector than xpath\r\n\r\n`CSS` would be : \r\n\r\n    a[class^=&#39;instrument-table-tab-menu&#39;][data-target$=&#39;2&#39;]\r\n\r\n`XPATH` would be : \r\n \r\n\r\n    //a[contains(@class,&#39;instrument-table-tab-menu&#39;) and contains(@data-target,&#39;2&#39;)]\r\n\r\n\r\nThere are basically 4 ways to click in Selenium. \r\n\r\n**Using XPATH**\r\n\r\n\r\n**Code trial 1 :**\r\n\r\n    time.sleep(5)\r\n    driver.find_element_by_xpath(&quot;//a[contains(@class,&#39;instrument-table-tab-menu&#39;) and contains(@data-target,&#39;2&#39;)]&quot;).click()\r\n\r\n**Code trial 2 :**\r\n\r\n    WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, &quot;//a[contains(@class,&#39;instrument-table-tab-menu&#39;) and contains(@data-target,&#39;2&#39;)]&quot;))).click()\r\n\r\n**Code trial 3 :**\r\n\r\n    time.sleep(5)\r\n    button = driver.find_element_by_xpath(&quot;//a[contains(@class,&#39;instrument-table-tab-menu&#39;) and contains(@data-target,&#39;2&#39;)]&quot;)\r\n    driver.execute_script(&quot;arguments[0].click();&quot;, button)\r\n\r\n**Code trial 4 :**\r\n\r\n    time.sleep(5)\r\n    button = driver.find_element_by_xpath(&quot;//a[contains(@class,&#39;instrument-table-tab-menu&#39;) and contains(@data-target,&#39;2&#39;)]&quot;)\r\n    ActionChains(driver).move_to_element(button).click().perform()\r\n\r\n**Imports :**\r\n\r\n    from selenium.webdriver.support.ui import WebDriverWait\r\n    from selenium.webdriver.common.by import By\r\n    from selenium.webdriver.support import expected_conditions as EC\r\n    from selenium.webdriver.common.action_chains import ActionChains","title":"What is the best way to click on a tab using Java and selenium on a webpage?","body":"<p>You should give more precedence to css selector than xpath</p>\n<p><code>CSS</code> would be :</p>\n<pre><code>a[class^='instrument-table-tab-menu'][data-target$='2']\n</code></pre>\n<p><code>XPATH</code> would be :</p>\n<pre><code>//a[contains(@class,'instrument-table-tab-menu') and contains(@data-target,'2')]\n</code></pre>\n<p>There are basically 4 ways to click in Selenium.</p>\n<p><strong>Using XPATH</strong></p>\n<p><strong>Code trial 1 :</strong></p>\n<pre><code>time.sleep(5)\ndriver.find_element_by_xpath(&quot;//a[contains(@class,'instrument-table-tab-menu') and contains(@data-target,'2')]&quot;).click()\n</code></pre>\n<p><strong>Code trial 2 :</strong></p>\n<pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, &quot;//a[contains(@class,'instrument-table-tab-menu') and contains(@data-target,'2')]&quot;))).click()\n</code></pre>\n<p><strong>Code trial 3 :</strong></p>\n<pre><code>time.sleep(5)\nbutton = driver.find_element_by_xpath(&quot;//a[contains(@class,'instrument-table-tab-menu') and contains(@data-target,'2')]&quot;)\ndriver.execute_script(&quot;arguments[0].click();&quot;, button)\n</code></pre>\n<p><strong>Code trial 4 :</strong></p>\n<pre><code>time.sleep(5)\nbutton = driver.find_element_by_xpath(&quot;//a[contains(@class,'instrument-table-tab-menu') and contains(@data-target,'2')]&quot;)\nActionChains(driver).move_to_element(button).click().perform()\n</code></pre>\n<p><strong>Imports :</strong></p>\n<pre><code>from selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.common.action_chains import ActionChains\n</code></pre>\n"}],"owner":{"account_id":18462998,"reputation":29,"user_id":13449975,"display_name":"torbj&#246;rn s&#246;dheim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1633108557,"creation_date":1633103701,"question_id":69408760,"body_markdown":"I am new to Selenium but I have a question. On the [URL][1]\r\n\r\n\r\n\r\nI want to click the tab &quot;Nyckeltal&quot; (at top of the page) with the  \r\nelement: \r\n\r\n    &lt;a class=&quot;instrument-table-tab-menu__tab js_tab-menu__tab&quot; data-target=&quot;table_2&quot;&gt;Nyckeltal&lt;/a&gt;.\r\n\r\n \r\nCurrently I can click the tab using the code: \r\n\r\n    String xpath =&quot;/html/body/div/div[4]/div/div[4]/div[1]/div[1]/nav/a[3]&quot;; \r\n\tdriver.findElement(By.xpath(xpath)).click();\r\n\r\nBut I guess there is a better way to do this? \r\nI guess the path is regular changed because of ads and therefor I think using xpath is not particular good. \r\n\r\nMy question is there a better way to click &quot;Nyckeltal&quot; than using xpath with Selenium and if there is, how do I write? \r\n\r\n\r\n  [1]: https://www.di.se/bors/large-cap/","title":"What is the best way to click on a tab using Java and selenium on a webpage?","body":"<p>I am new to Selenium but I have a question. On the <a href=\"https://www.di.se/bors/large-cap/\" rel=\"nofollow noreferrer\">URL</a></p>\n<p>I want to click the tab &quot;Nyckeltal&quot; (at top of the page) with the<br />\nelement:</p>\n<pre><code>&lt;a class=&quot;instrument-table-tab-menu__tab js_tab-menu__tab&quot; data-target=&quot;table_2&quot;&gt;Nyckeltal&lt;/a&gt;.\n</code></pre>\n<p>Currently I can click the tab using the code:</p>\n<pre><code>String xpath =&quot;/html/body/div/div[4]/div/div[4]/div[1]/div[1]/nav/a[3]&quot;; \ndriver.findElement(By.xpath(xpath)).click();\n</code></pre>\n<p>But I guess there is a better way to do this?\nI guess the path is regular changed because of ads and therefor I think using xpath is not particular good.</p>\n<p>My question is there a better way to click &quot;Nyckeltal&quot; than using xpath with Selenium and if there is, how do I write?</p>\n"},{"tags":["java","android","android-bitmap"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1633106846,"post_id":69409398,"comment_id":122680892,"body_markdown":"rescale bitmap to something that can fit in 10MB first?","body":"rescale bitmap to something that can fit in 10MB first?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633106985,"post_id":69409398,"comment_id":122680944,"body_markdown":"The bitmap needs a lot of memory. Not the result of compressing it to a jpg in a byte array.","body":"The bitmap needs a lot of memory. Not the result of compressing it to a jpg in a byte array."},{"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"score":0,"creation_date":1633106985,"post_id":69409398,"comment_id":122680945,"body_markdown":"It&#39;s my first time to deal with Bitmaps so I don&#39;t know what you mean or how to do it, sorry.","body":"It&#39;s my first time to deal with Bitmaps so I don&#39;t know what you mean or how to do it, sorry."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1633107058,"post_id":69409398,"comment_id":122680963,"body_markdown":"But... Why did you make that bitmap? Not needed. You can upload the file directly.","body":"But... Why did you make that bitmap? Not needed. You can upload the file directly."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":1,"creation_date":1633107063,"post_id":69409398,"comment_id":122680965,"body_markdown":"Additionally, why do you need the bitmap at all? If you get the byte[] from ContentResolver&#39;s InputSteam?","body":"Additionally, why do you need the bitmap at all? If you get the byte[] from ContentResolver&#39;s InputSteam?"},{"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"score":0,"creation_date":1633107187,"post_id":69409398,"comment_id":122681011,"body_markdown":"@blackapps well I don&#39;t know about that, I 5 days ago asked for how to correctly upload a photo to Graph API and no one answered, so the only way I found afterwards needed to get a byteArray and include in a Bundle with `bundle.putByteArray(&quot;picture&quot;, data);`","body":"@blackapps well I don&#39;t know about that, I 5 days ago asked for how to correctly upload a photo to Graph API and no one answered, so the only way I found afterwards needed to get a byteArray and include in a Bundle with <code>bundle.putByteArray(&quot;picture&quot;, data);</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633107400,"post_id":69409398,"comment_id":122681085,"body_markdown":"A byte array is ok. Well.. there still are better things but ala. But then who invented that intermediate bitmap? Dont do that.","body":"A byte array is ok. Well.. there still are better things but ala. But then who invented that intermediate bitmap? Dont do that."},{"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"score":0,"creation_date":1633107616,"post_id":69409398,"comment_id":122681164,"body_markdown":"@blackapps it&#39;s what popped up and suggested by like 5 question I&#39;ve seen highly upvoted to get byteArray of a picture when I wrote that on google IDK :D","body":"@blackapps it&#39;s what popped up and suggested by like 5 question I&#39;ve seen highly upvoted to get byteArray of a picture when I wrote that on google IDK :D"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633108830,"post_id":69409398,"comment_id":122681588,"body_markdown":"It is not &#39;bitmap to byte array&#39; but &#39;put file in byte array&#39; that you need. No bitmap please.","body":"It is not &#39;bitmap to byte array&#39; but &#39;put file in byte array&#39; that you need. No bitmap please."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1633109819,"post_id":69409398,"comment_id":122681895,"body_markdown":"Use JPG, 90 instead of PNG, 100 ... it&#39;s going to be smaller. And compression will be much faster.","body":"Use JPG, 90 instead of PNG, 100 ... it&#39;s going to be smaller. And compression will be much faster."}],"answers":[{"tags":[],"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633108495,"creation_date":1633107162,"answer_id":69409481,"question_id":69409398,"body_markdown":"How about something like this?\r\n\r\n```\r\n    InputStream inputStream = getApplicationContext().getContentResolver().openInputStream(pictureUri);\r\n\r\n    byte[] data = is.readAllBytes();\r\n```\r\nmaybe that does the trick?\r\n\r\nEDIT:\r\nhowever, this won&#39;t solve the problem if the picture (bitmap&#39;s bytes actually) is too big. If it exceeds 10MB for example.\r\n\r\nRescaling it to 1280x720 should be sufficient, however you&#39;ll better calculate the max width*height yourself, knowing that each pixel takes about 3bytes. \r\n\r\n\r\nHere&#39;s some code you will have to adapt, but it will get you started at least:\r\n```\r\n    public static final int MAX_WIDTH = 1280;\r\n    public static final int MAX_HEIGHT = 720;\r\n\r\nprivate FocusParams calculateRectToCropPicture() {\r\n        View decorView = getWindow().getDecorView();\r\n        int decorWidth = decorView.getWidth();\r\n        int decorHeight = decorView.getHeight();\r\n        Rect screenRect = new Rect(decorView.getLeft(), decorView.getTop(), decorView.getRight(), decorView.getBottom());\r\n        // Get the &quot;camera focus&quot; view and set it as the cropping rect\r\n        Rect cropRect = null;\r\n        if (getCroppingViewId() != 0) {\r\n            cropRect = getCroppingRect(decorView.findViewById(getCroppingViewId()));\r\n        }\r\n\r\n        float widthRatio = (float) cameraFocusView.getWidth() / decorWidth;\r\n        float heightRatio = (float) cameraFocusView.getHeight() / decorHeight;\r\n        return new FocusParams(widthRatio, heightRatio, cropRect, screenRect);\r\n    }\r\n\r\n    private Rect getCroppingRect(View croppingView) {\r\n        if (croppingView != null) {\r\n            // In case the &quot;cropping view&quot; is wrapped with a different view or a viewgroup\r\n            // (such as FrameLayout) we can&#39;t just rely on getLeft / getTop because they return\r\n            // relative positions; so we have to take the parent&#39;s position into account as well.\r\n            // In case we&#39;re located at the root layout, these positions will remain 0 regardless.\r\n            int parentLeft = 0, parentTop = 0;\r\n            if (croppingView.getParent() instanceof View) {\r\n                View parent = (View) croppingView.getParent();\r\n                parentLeft = parent.getLeft();\r\n                parentTop = parent.getTop();\r\n            }\r\n\r\n            int left = (int) (croppingView.getX() + parentLeft);\r\n            int top = (int) (croppingView.getY() + parentTop);\r\n            int right = (int) (left + croppingView.getWidth());\r\n            int bottom = (int) (top + croppingView.getHeight());\r\n\r\n            return new Rect(\r\n                    left,\r\n                    top,\r\n                    right,\r\n                    bottom\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static class FocusParams {\r\n        final float widthRatio;\r\n        final float heightRatio;\r\n        final Rect cropRect;\r\n        final Rect screenRect;\r\n\r\n        FocusParams(float widthRatio, float heightRatio, Rect cropRect, Rect screenRect) {\r\n            this.widthRatio = widthRatio;\r\n            this.heightRatio = heightRatio;\r\n            this.cropRect = cropRect;\r\n            this.screenRect = screenRect;\r\n        }\r\n    }\r\n\r\n\r\n    private File cropPicture(File originalImage, FocusParams focusParams)\r\n            throws IOException {\r\n        Bitmap originalBitmap =\r\n                BitmapFactory.decodeStream(new BufferedInputStream(new FileInputStream(originalImage)));\r\n\r\n        double pictureWidth = originalBitmap.getWidth();\r\n        double pictureHeight = originalBitmap.getHeight();\r\n        double screenWidth = focusParams.screenRect.width();\r\n        double screenHeight = focusParams.screenRect.height();\r\n        Bitmap croppedPart;\r\n\r\n        Rect previewRect = getCameraFragment().getCameraViewRect();\r\n\r\n        boolean isFullscreenPreview = (\r\n                (previewRect.width() == screenWidth)\r\n                        &amp;&amp; (previewRect.height() == screenHeight)\r\n        );\r\n\r\n        // For fullscreen preview (if the camera supports it) the procedure is straightforward:\r\n        // 1. we check whether the screen or the bitmap is bigger\r\n        // 2. if the bitmap is bigger, we scale up the cropping rect and cut out that part of the picture\r\n        // 3. if the screen is bigger, we probably lost some &quot;picture space&quot; due to implicit camera cropping\r\n        //    so we just adjust for that and crop out the relevant part of the picture\r\n        if (isFullscreenPreview) {\r\n            // This scenario tells us that the device has a decent camera that can take pictures\r\n            // much bigger than the screen, or will implicitly crop pictures when told to take\r\n            // smaller pictures\r\n            if (pictureWidth &gt; screenWidth || pictureHeight &gt; screenHeight) {\r\n                // If the bitmap width/height are bigger than the screen width/height, we need to scale UP the cropping rect\r\n                double cropWidthRatio = pictureWidth / focusParams.screenRect.width();\r\n                double cropHeightRatio = pictureHeight / focusParams.screenRect.height();\r\n\r\n                // Scale crop rect\r\n                Rect scaledCropRect = new Rect(\r\n                        (int) (focusParams.cropRect.left * cropWidthRatio),\r\n                        (int) (focusParams.cropRect.top * cropHeightRatio),\r\n                        (int) (focusParams.cropRect.right * cropWidthRatio),\r\n                        (int) (focusParams.cropRect.bottom * cropHeightRatio)\r\n                );\r\n\r\n                croppedPart = Bitmap.createBitmap(\r\n                        scaledCropRect.width(),\r\n                        scaledCropRect.height(),\r\n                        originalBitmap.getConfig()\r\n                );\r\n                Rect destRect = new Rect(0, 0, croppedPart.getWidth(), croppedPart.getHeight());\r\n                // Draw using canvas\r\n                Canvas canvas = new Canvas(croppedPart);\r\n                canvas.drawBitmap(originalBitmap, scaledCropRect, destRect, null);\r\n            } else {\r\n                // In the &quot;downscale&quot; scenario, we can&#39;t simply use scaling because the camera will do\r\n                // implicit cropping. Scaling in that case will produce senseless positions.\r\n                //\r\n                // Ex: If we have a 50x50px square in the center of a 100x100px area,\r\n                // it will have 25px of room on each side.\r\n                //\r\n                // When we want to transform that square onto a 200x200 area, it&#39;s going to turn\r\n                // into a 100x100 square centered in 200x200 area, with 50px of room on each side.\r\n                // (which is fine, and follows scaling rules - it&#39;s still 2x larger) - which is\r\n                // the &quot;upscale scenario&quot;\r\n                //\r\n                // However, transforming a 50x50 square centered in a 200x200 area (with 75px room on both sides)\r\n                // onto a 100x100 area, should still result in a 50x50px square centered, with 25px on both sides\r\n                // Meaning the &quot;room on the sides&quot; shrinks down in a non-linear way and the &quot;interesting area&quot;\r\n                // doesn&#39;t change size at all - which is where the scaling approach breaks down, since the camera\r\n                // will first do implicit cropping of it&#39;s own\r\n                double lostWidth = screenWidth - pictureWidth;\r\n                double cropWidthRatio = focusParams.screenRect.width() / pictureWidth;\r\n\r\n                // Adjust points individually\r\n                // If we &quot;lost width&quot; by camera doing implicit cropping, we need to adjust our points accordingly\r\n                // otherwise, we can just use our original points scaled to the new area\r\n                // We won&#39;t care about the &quot;lost height&quot; due to the ID being either in the bottom or the middle\r\n                // of the picture, taken it was centered in the &quot;view finder&quot; aka &quot;the cropping view&quot;\r\n                int adjustedLeft = (int) (\r\n                        (lostWidth &gt; 0)\r\n                                ? (focusParams.cropRect.left - lostWidth / 2) * cropWidthRatio\r\n                                : focusParams.cropRect.left * cropWidthRatio\r\n                );\r\n                adjustedLeft = clamp(adjustedLeft, 0, (int) pictureWidth);\r\n                int adjustedTop = focusParams.cropRect.top;\r\n                adjustedTop = clamp(adjustedTop, 0, (int) pictureHeight);\r\n                int adjustedRight = (int) (\r\n                        (lostWidth &gt; 0)\r\n                                ? (focusParams.cropRect.right - lostWidth / 2) * cropWidthRatio\r\n                                : focusParams.cropRect.right * cropWidthRatio\r\n                );\r\n                adjustedRight = adjustedRight - focusParams.cropRect.left;\r\n                adjustedRight = clamp(adjustedRight, 0, (int) pictureWidth);\r\n                int adjustedBottom = focusParams.cropRect.bottom;\r\n                adjustedBottom = clamp(adjustedBottom, 0, (int) pictureHeight);\r\n\r\n                Rect adjustedRect = new Rect(\r\n                        adjustedLeft,\r\n                        adjustedTop,\r\n                        adjustedRight,\r\n                        adjustedBottom\r\n                );\r\n\r\n                croppedPart = Bitmap.createBitmap(\r\n                        adjustedRect.width(),\r\n                        adjustedRect.height(),\r\n                        originalBitmap.getConfig()\r\n                );\r\n                Rect destRect = new Rect(0, 0, croppedPart.getWidth(), croppedPart.getHeight());\r\n\r\n                Canvas canvas = new Canvas(croppedPart);\r\n                canvas.drawBitmap(originalBitmap, adjustedRect, destRect, null);\r\n            }\r\n        } else {\r\n            // If we don&#39;t have fullscreen preview; chances are the camera doesn&#39;t support taking pictures\r\n            // bigger than the screen either. So let&#39;s scale down the cropping rect, and cut that part out\r\n            //\r\n            // The cropping rect is in screen-size dimension (e.g. [1080, 1920]) and we need to bring it to\r\n            // the preview-size dimension first\r\n            // This case covers both the &quot;crappy camera&quot; and &quot;implicit scaling&quot; cases\r\n\r\n            double cropWidthRatio = pictureWidth / focusParams.screenRect.width();\r\n            double cropHeightRatio = pictureHeight / focusParams.screenRect.height();\r\n            double cropRatio = Math.max(cropWidthRatio, cropHeightRatio);\r\n\r\n            // Scale crop rect\r\n            Rect scaledCropRect = new Rect(\r\n                    (int) (focusParams.cropRect.left * cropWidthRatio),\r\n                    (int) (focusParams.cropRect.top * cropHeightRatio),\r\n                    (int) (focusParams.cropRect.right * cropWidthRatio),\r\n                    // While this may seem counter-intuitive; the ratio isn&#39;t excellent and may cut out\r\n                    // the bottom of the ID on some devices; so just use the bigger ratio to ensure\r\n                    // the whole ID fits in the picture with the possibility of some empty padding\r\n                    // at the bottom\r\n                    (int) (focusParams.cropRect.bottom * cropRatio)\r\n            );\r\n\r\n            croppedPart = Bitmap.createBitmap(\r\n                    scaledCropRect.width(),\r\n                    scaledCropRect.height(),\r\n                    originalBitmap.getConfig()\r\n            );\r\n            Rect destRect = new Rect(0, 0, croppedPart.getWidth(), croppedPart.getHeight());\r\n            // Draw using canvas\r\n            Canvas canvas = new Canvas(croppedPart);\r\n            canvas.drawBitmap(originalBitmap, scaledCropRect, destRect, null);\r\n        }\r\n        // Since the cropped-out ID is probably different than the GCV recommended sizes, upscale or downscale it\r\n        // But don&#39;t just blindly rescale the cropped part, preserve the aspect ratio\r\n        double croppedWidth = croppedPart.getWidth();\r\n        double croppedHeight = croppedPart.getHeight();\r\n        int scaledWidth;\r\n        int scaledHeight;\r\n\r\n        // Lets re-scale again only if our size is smaller than recommended, or it&#39;s bigger than\r\n        // twice the recommended\r\n        Bitmap scaledCroppedIdPart;\r\n        if ((croppedWidth &lt; MAX_WIDTH) || (croppedHeight &lt; MAX_HEIGHT) || (croppedWidth &gt; 2 * MAX_WIDTH) || (croppedHeight &gt; 2 * MAX_HEIGHT)) {\r\n            if (croppedWidth &gt; croppedHeight) {\r\n                scaledWidth = MAX_WIDTH;\r\n                scaledHeight = (int) (scaledWidth * (croppedHeight / croppedWidth));\r\n            } else {\r\n                scaledHeight = MAX_HEIGHT;\r\n                scaledWidth = (int) (scaledHeight * (croppedWidth / croppedHeight));\r\n            }\r\n\r\n            scaledCroppedIdPart = Bitmap.createScaledBitmap(croppedPart, scaledWidth, scaledHeight, true);\r\n        } else {\r\n            scaledCroppedIdPart = croppedPart;\r\n        }\r\n\r\n        // Write-out the new image and delete the old one before sending off to GCV\r\n        File croppedImageFile = File.createTempFile(&quot;croppedImage&quot;, &quot;jpeg&quot;, getFilesDir());\r\n        scaledCroppedIdPart.compress(Bitmap.CompressFormat.JPEG, 90, new BufferedOutputStream(new FileOutputStream(croppedImageFile)));\r\n        originalImage.delete();\r\n        return croppedImageFile;\r\n    }\r\n\r\n    private int clamp(int valueToClamp, int clampMin, int clampMax) {\r\n        if (valueToClamp &lt;= clampMin) return clampMin;\r\n        if (valueToClamp &gt;= clampMax) return clampMax;\r\n        return valueToClamp;\r\n    }\r\n```","title":"Bitmap to ByteArray conversion always make my app throw OutOfMemoryError","body":"<p>How about something like this?</p>\n<pre><code>    InputStream inputStream = getApplicationContext().getContentResolver().openInputStream(pictureUri);\n\n    byte[] data = is.readAllBytes();\n</code></pre>\n<p>maybe that does the trick?</p>\n<p>EDIT:\nhowever, this won't solve the problem if the picture (bitmap's bytes actually) is too big. If it exceeds 10MB for example.</p>\n<p>Rescaling it to 1280x720 should be sufficient, however you'll better calculate the max width*height yourself, knowing that each pixel takes about 3bytes.</p>\n<p>Here's some code you will have to adapt, but it will get you started at least:</p>\n<pre><code>    public static final int MAX_WIDTH = 1280;\n    public static final int MAX_HEIGHT = 720;\n\nprivate FocusParams calculateRectToCropPicture() {\n        View decorView = getWindow().getDecorView();\n        int decorWidth = decorView.getWidth();\n        int decorHeight = decorView.getHeight();\n        Rect screenRect = new Rect(decorView.getLeft(), decorView.getTop(), decorView.getRight(), decorView.getBottom());\n        // Get the &quot;camera focus&quot; view and set it as the cropping rect\n        Rect cropRect = null;\n        if (getCroppingViewId() != 0) {\n            cropRect = getCroppingRect(decorView.findViewById(getCroppingViewId()));\n        }\n\n        float widthRatio = (float) cameraFocusView.getWidth() / decorWidth;\n        float heightRatio = (float) cameraFocusView.getHeight() / decorHeight;\n        return new FocusParams(widthRatio, heightRatio, cropRect, screenRect);\n    }\n\n    private Rect getCroppingRect(View croppingView) {\n        if (croppingView != null) {\n            // In case the &quot;cropping view&quot; is wrapped with a different view or a viewgroup\n            // (such as FrameLayout) we can't just rely on getLeft / getTop because they return\n            // relative positions; so we have to take the parent's position into account as well.\n            // In case we're located at the root layout, these positions will remain 0 regardless.\n            int parentLeft = 0, parentTop = 0;\n            if (croppingView.getParent() instanceof View) {\n                View parent = (View) croppingView.getParent();\n                parentLeft = parent.getLeft();\n                parentTop = parent.getTop();\n            }\n\n            int left = (int) (croppingView.getX() + parentLeft);\n            int top = (int) (croppingView.getY() + parentTop);\n            int right = (int) (left + croppingView.getWidth());\n            int bottom = (int) (top + croppingView.getHeight());\n\n            return new Rect(\n                    left,\n                    top,\n                    right,\n                    bottom\n            );\n        }\n        return null;\n    }\n\n    static class FocusParams {\n        final float widthRatio;\n        final float heightRatio;\n        final Rect cropRect;\n        final Rect screenRect;\n\n        FocusParams(float widthRatio, float heightRatio, Rect cropRect, Rect screenRect) {\n            this.widthRatio = widthRatio;\n            this.heightRatio = heightRatio;\n            this.cropRect = cropRect;\n            this.screenRect = screenRect;\n        }\n    }\n\n\n    private File cropPicture(File originalImage, FocusParams focusParams)\n            throws IOException {\n        Bitmap originalBitmap =\n                BitmapFactory.decodeStream(new BufferedInputStream(new FileInputStream(originalImage)));\n\n        double pictureWidth = originalBitmap.getWidth();\n        double pictureHeight = originalBitmap.getHeight();\n        double screenWidth = focusParams.screenRect.width();\n        double screenHeight = focusParams.screenRect.height();\n        Bitmap croppedPart;\n\n        Rect previewRect = getCameraFragment().getCameraViewRect();\n\n        boolean isFullscreenPreview = (\n                (previewRect.width() == screenWidth)\n                        &amp;&amp; (previewRect.height() == screenHeight)\n        );\n\n        // For fullscreen preview (if the camera supports it) the procedure is straightforward:\n        // 1. we check whether the screen or the bitmap is bigger\n        // 2. if the bitmap is bigger, we scale up the cropping rect and cut out that part of the picture\n        // 3. if the screen is bigger, we probably lost some &quot;picture space&quot; due to implicit camera cropping\n        //    so we just adjust for that and crop out the relevant part of the picture\n        if (isFullscreenPreview) {\n            // This scenario tells us that the device has a decent camera that can take pictures\n            // much bigger than the screen, or will implicitly crop pictures when told to take\n            // smaller pictures\n            if (pictureWidth &gt; screenWidth || pictureHeight &gt; screenHeight) {\n                // If the bitmap width/height are bigger than the screen width/height, we need to scale UP the cropping rect\n                double cropWidthRatio = pictureWidth / focusParams.screenRect.width();\n                double cropHeightRatio = pictureHeight / focusParams.screenRect.height();\n\n                // Scale crop rect\n                Rect scaledCropRect = new Rect(\n                        (int) (focusParams.cropRect.left * cropWidthRatio),\n                        (int) (focusParams.cropRect.top * cropHeightRatio),\n                        (int) (focusParams.cropRect.right * cropWidthRatio),\n                        (int) (focusParams.cropRect.bottom * cropHeightRatio)\n                );\n\n                croppedPart = Bitmap.createBitmap(\n                        scaledCropRect.width(),\n                        scaledCropRect.height(),\n                        originalBitmap.getConfig()\n                );\n                Rect destRect = new Rect(0, 0, croppedPart.getWidth(), croppedPart.getHeight());\n                // Draw using canvas\n                Canvas canvas = new Canvas(croppedPart);\n                canvas.drawBitmap(originalBitmap, scaledCropRect, destRect, null);\n            } else {\n                // In the &quot;downscale&quot; scenario, we can't simply use scaling because the camera will do\n                // implicit cropping. Scaling in that case will produce senseless positions.\n                //\n                // Ex: If we have a 50x50px square in the center of a 100x100px area,\n                // it will have 25px of room on each side.\n                //\n                // When we want to transform that square onto a 200x200 area, it's going to turn\n                // into a 100x100 square centered in 200x200 area, with 50px of room on each side.\n                // (which is fine, and follows scaling rules - it's still 2x larger) - which is\n                // the &quot;upscale scenario&quot;\n                //\n                // However, transforming a 50x50 square centered in a 200x200 area (with 75px room on both sides)\n                // onto a 100x100 area, should still result in a 50x50px square centered, with 25px on both sides\n                // Meaning the &quot;room on the sides&quot; shrinks down in a non-linear way and the &quot;interesting area&quot;\n                // doesn't change size at all - which is where the scaling approach breaks down, since the camera\n                // will first do implicit cropping of it's own\n                double lostWidth = screenWidth - pictureWidth;\n                double cropWidthRatio = focusParams.screenRect.width() / pictureWidth;\n\n                // Adjust points individually\n                // If we &quot;lost width&quot; by camera doing implicit cropping, we need to adjust our points accordingly\n                // otherwise, we can just use our original points scaled to the new area\n                // We won't care about the &quot;lost height&quot; due to the ID being either in the bottom or the middle\n                // of the picture, taken it was centered in the &quot;view finder&quot; aka &quot;the cropping view&quot;\n                int adjustedLeft = (int) (\n                        (lostWidth &gt; 0)\n                                ? (focusParams.cropRect.left - lostWidth / 2) * cropWidthRatio\n                                : focusParams.cropRect.left * cropWidthRatio\n                );\n                adjustedLeft = clamp(adjustedLeft, 0, (int) pictureWidth);\n                int adjustedTop = focusParams.cropRect.top;\n                adjustedTop = clamp(adjustedTop, 0, (int) pictureHeight);\n                int adjustedRight = (int) (\n                        (lostWidth &gt; 0)\n                                ? (focusParams.cropRect.right - lostWidth / 2) * cropWidthRatio\n                                : focusParams.cropRect.right * cropWidthRatio\n                );\n                adjustedRight = adjustedRight - focusParams.cropRect.left;\n                adjustedRight = clamp(adjustedRight, 0, (int) pictureWidth);\n                int adjustedBottom = focusParams.cropRect.bottom;\n                adjustedBottom = clamp(adjustedBottom, 0, (int) pictureHeight);\n\n                Rect adjustedRect = new Rect(\n                        adjustedLeft,\n                        adjustedTop,\n                        adjustedRight,\n                        adjustedBottom\n                );\n\n                croppedPart = Bitmap.createBitmap(\n                        adjustedRect.width(),\n                        adjustedRect.height(),\n                        originalBitmap.getConfig()\n                );\n                Rect destRect = new Rect(0, 0, croppedPart.getWidth(), croppedPart.getHeight());\n\n                Canvas canvas = new Canvas(croppedPart);\n                canvas.drawBitmap(originalBitmap, adjustedRect, destRect, null);\n            }\n        } else {\n            // If we don't have fullscreen preview; chances are the camera doesn't support taking pictures\n            // bigger than the screen either. So let's scale down the cropping rect, and cut that part out\n            //\n            // The cropping rect is in screen-size dimension (e.g. [1080, 1920]) and we need to bring it to\n            // the preview-size dimension first\n            // This case covers both the &quot;crappy camera&quot; and &quot;implicit scaling&quot; cases\n\n            double cropWidthRatio = pictureWidth / focusParams.screenRect.width();\n            double cropHeightRatio = pictureHeight / focusParams.screenRect.height();\n            double cropRatio = Math.max(cropWidthRatio, cropHeightRatio);\n\n            // Scale crop rect\n            Rect scaledCropRect = new Rect(\n                    (int) (focusParams.cropRect.left * cropWidthRatio),\n                    (int) (focusParams.cropRect.top * cropHeightRatio),\n                    (int) (focusParams.cropRect.right * cropWidthRatio),\n                    // While this may seem counter-intuitive; the ratio isn't excellent and may cut out\n                    // the bottom of the ID on some devices; so just use the bigger ratio to ensure\n                    // the whole ID fits in the picture with the possibility of some empty padding\n                    // at the bottom\n                    (int) (focusParams.cropRect.bottom * cropRatio)\n            );\n\n            croppedPart = Bitmap.createBitmap(\n                    scaledCropRect.width(),\n                    scaledCropRect.height(),\n                    originalBitmap.getConfig()\n            );\n            Rect destRect = new Rect(0, 0, croppedPart.getWidth(), croppedPart.getHeight());\n            // Draw using canvas\n            Canvas canvas = new Canvas(croppedPart);\n            canvas.drawBitmap(originalBitmap, scaledCropRect, destRect, null);\n        }\n        // Since the cropped-out ID is probably different than the GCV recommended sizes, upscale or downscale it\n        // But don't just blindly rescale the cropped part, preserve the aspect ratio\n        double croppedWidth = croppedPart.getWidth();\n        double croppedHeight = croppedPart.getHeight();\n        int scaledWidth;\n        int scaledHeight;\n\n        // Lets re-scale again only if our size is smaller than recommended, or it's bigger than\n        // twice the recommended\n        Bitmap scaledCroppedIdPart;\n        if ((croppedWidth &lt; MAX_WIDTH) || (croppedHeight &lt; MAX_HEIGHT) || (croppedWidth &gt; 2 * MAX_WIDTH) || (croppedHeight &gt; 2 * MAX_HEIGHT)) {\n            if (croppedWidth &gt; croppedHeight) {\n                scaledWidth = MAX_WIDTH;\n                scaledHeight = (int) (scaledWidth * (croppedHeight / croppedWidth));\n            } else {\n                scaledHeight = MAX_HEIGHT;\n                scaledWidth = (int) (scaledHeight * (croppedWidth / croppedHeight));\n            }\n\n            scaledCroppedIdPart = Bitmap.createScaledBitmap(croppedPart, scaledWidth, scaledHeight, true);\n        } else {\n            scaledCroppedIdPart = croppedPart;\n        }\n\n        // Write-out the new image and delete the old one before sending off to GCV\n        File croppedImageFile = File.createTempFile(&quot;croppedImage&quot;, &quot;jpeg&quot;, getFilesDir());\n        scaledCroppedIdPart.compress(Bitmap.CompressFormat.JPEG, 90, new BufferedOutputStream(new FileOutputStream(croppedImageFile)));\n        originalImage.delete();\n        return croppedImageFile;\n    }\n\n    private int clamp(int valueToClamp, int clampMin, int clampMax) {\n        if (valueToClamp &lt;= clampMin) return clampMin;\n        if (valueToClamp &gt;= clampMax) return clampMax;\n        return valueToClamp;\n    }\n</code></pre>\n"}],"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633108495,"creation_date":1633106745,"question_id":69409398,"body_markdown":"I need to convert my Bitmap (image) to byte code to attach it in a bundle required for API call to upload it to some site, though I used what appears to be the most used of way of converting Bitmaps to ByteArray, it always consumes a lot of memory which make my app throw an OutOfMemoryError, my app from just 16 Mb (16000K) it jumps up to &gt; 64Mb (64000K) which causes the error.\r\n\r\nFurthermore, I need my image not to be more than 10 Mb size as the API won&#39;t allow me to upload more than that.\r\n\r\nHow to get ByteArray of my one of my external storage picture without exceeding 10 MB and without causing OutOfMemoryError ? \r\n\r\n* my code of generating the ByteCode \r\n\r\n```\r\n        byte[] data = null;\r\n        Uri pictureUri = Uri.parse(uri_string);\r\n        InputStream inputStream = null;\r\n        try {\r\n            inputStream = getApplicationContext().getContentResolver().openInputStream(pictureUri);\r\n            Bitmap bi = BitmapFactory.decodeStream(inputStream);\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            bi.compress(Bitmap.CompressFormat.PNG, 100, baos);\r\n            data = baos.toByteArray();\r\n            bi.recycle();\r\n            inputStream.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\n* the exception I&#39;m getting along with how my app jumps up suddenly in memory consumption (line 83 is data.toByteArray)\r\n```\r\nD/dalvikvm: GC_FOR_ALLOC freed 5435K, 35% free 17128K/26228K, paused 51ms, total 51ms\r\nI/dalvikvm-heap: Grow heap (frag case) to 50.774MB for 31961104-byte allocation\r\nD/dalvikvm: GC_FOR_ALLOC freed 6K, 16% free 48334K/57444K, paused 34ms, total 34ms\r\nD/dalvikvm: GC_FOR_ALLOC freed 1085K, 16% free 49233K/58464K, paused 50ms, total 50ms\r\nD/dalvikvm: GC_FOR_ALLOC freed 1045K, 17% free 50228K/60508K, paused 23ms, total 23ms\r\nI/dalvikvm-heap: Grow heap (frag case) to 56.603MB for 4179344-byte allocation\r\nD/dalvikvm: GC_FOR_ALLOC freed 2040K, 20% free 52269K/64592K, paused 144ms, total 144ms\r\nD/dalvikvm: GC_FOR_ALLOC freed &lt;1K, 20% free 52269K/64592K, paused 47ms, total 47ms\r\nI/dalvikvm-heap: Forcing collection of SoftReferences for 8362484-byte allocation\r\nD/dalvikvm: GC_BEFORE_OOM freed 70K, 20% free 52198K/64592K, paused 55ms, total 55ms\r\nE/dalvikvm-heap: Out of memory on a 8362484-byte allocation.\r\nI/dalvikvm: &quot;pool-2-thread-1&quot; prio=5 tid=36 RUNNABLE\r\n      | group=&quot;main&quot; sCount=0 dsCount=0 obj=0x430b9d30 self=0x63f73198\r\n      | sysTid=18149 nice=0 sched=0/0 cgrp=apps handle=1677137248\r\n      | state=R schedstat=( 12681542275 603177890 1137 ) utm=1179 stm=89 core=4\r\nI/dalvikvm:     at java.io.ByteArrayOutputStream.expand(ByteArrayOutputStream.java:~91)\r\n        at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:201)\r\n        at android.graphics.Bitmap.nativeCompress(Native Method)\r\n        at android.graphics.Bitmap.compress(Bitmap.java:980)\r\nI/dalvikvm:     at com.example.pretest.services.PostDispatchWorker.postRandomData(PostDispatchWorker.java:82)\r\n        at com.example.pretest.services.PostDispatchWorker.doWork(PostDispatchWorker.java:64)\r\nI/dalvikvm:     at androidx.work.Worker$1.run(Worker.java:86)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\r\n        at java.lang.Thread.run(Thread.java:841)\r\nW/System.err: java.lang.OutOfMemoryError\r\nW/System.err:     at java.io.ByteArrayOutputStream.expand(ByteArrayOutputStream.java:91)\r\n        at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:201)\r\nW/System.err:     at android.graphics.Bitmap.nativeCompress(Native Method)\r\n        at android.graphics.Bitmap.compress(Bitmap.java:980)\r\n        at com.example.pretest.services.PostDispatchWorker.postRandomData(PostDispatchWorker.java:82)\r\n        at com.example.pretest.services.PostDispatchWorker.doWork(PostDispatchWorker.java:64)\r\n        at androidx.work.Worker$1.run(Worker.java:86)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\r\n        at java.lang.Thread.run(Thread.java:841)\r\nD/skia: ------- write threw an exception\r\nD/dalvikvm: GC_FOR_ALLOC freed 13K, 20% free 52195K/64592K, paused 47ms, total 47ms\r\nI/dalvikvm-heap: Forcing collection of SoftReferences for 4177154-byte allocation\r\nD/dalvikvm: GC_BEFORE_OOM freed &lt;1K, 20% free 52194K/64592K, paused 200ms, total 200ms\r\nE/dalvikvm-heap: Out of memory on a 4177154-byte allocation.\r\nI/dalvikvm: &quot;pool-2-thread-1&quot; prio=5 tid=36 RUNNABLE\r\n      | group=&quot;main&quot; sCount=0 dsCount=0 obj=0x430b9d30 self=0x63f73198\r\n      | sysTid=18149 nice=0 sched=0/0 cgrp=apps handle=1677137248\r\n      | state=R schedstat=( 12900202522 616312889 1206 ) utm=1187 stm=102 core=5\r\n        at java.io.ByteArrayOutputStream.toByteArray(ByteArrayOutputStream.java:~122)\r\n        at com.example.pretest.services.PostDispatchWorker.postRandomData(PostDispatchWorker.java:83)\r\n        at com.example.pretest.services.PostDispatchWorker.doWork(PostDispatchWorker.java:64)\r\n        at androidx.work.Worker$1.run(Worker.java:86)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\r\n        at java.lang.Thread.run(Thread.java:841)\r\nE/WM-WorkerWrapper: Work [ id=ddc8ccb7-cb28-4bd9-99d4-911e8533c171, tags={ com.example.pretest.services.PostDispatchWorker } ] failed because it threw an exception/error\r\n    java.util.concurrent.ExecutionException: java.lang.OutOfMemoryError\r\n        at androidx.work.impl.utils.futures.AbstractFuture.getDoneValue(AbstractFuture.java:516)\r\n        at androidx.work.impl.utils.futures.AbstractFuture.get(AbstractFuture.java:475)\r\n        at androidx.work.impl.WorkerWrapper$2.run(WorkerWrapper.java:300)\r\n        at androidx.work.impl.utils.SerialExecutor$Task.run(SerialExecutor.java:91)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\r\n        at java.lang.Thread.run(Thread.java:841)\r\n     Caused by: java.lang.OutOfMemoryError\r\n        at java.io.ByteArrayOutputStream.toByteArray(ByteArrayOutputStream.java:122)\r\n        at com.example.pretest.services.PostDispatchWorker.postRandomData(PostDispatchWorker.java:83)\r\n        at com.example.pretest.services.PostDispatchWorker.doWork(PostDispatchWorker.java:64)\r\n        at androidx.work.Worker$1.run(Worker.java:86)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)&#160;\r\n        at java.lang.Thread.run(Thread.java:841)&#160;\r\n\r\n```","title":"Bitmap to ByteArray conversion always make my app throw OutOfMemoryError","body":"<p>I need to convert my Bitmap (image) to byte code to attach it in a bundle required for API call to upload it to some site, though I used what appears to be the most used of way of converting Bitmaps to ByteArray, it always consumes a lot of memory which make my app throw an OutOfMemoryError, my app from just 16 Mb (16000K) it jumps up to &gt; 64Mb (64000K) which causes the error.</p>\n<p>Furthermore, I need my image not to be more than 10 Mb size as the API won't allow me to upload more than that.</p>\n<p>How to get ByteArray of my one of my external storage picture without exceeding 10 MB and without causing OutOfMemoryError ?</p>\n<ul>\n<li>my code of generating the ByteCode</li>\n</ul>\n<pre><code>        byte[] data = null;\n        Uri pictureUri = Uri.parse(uri_string);\n        InputStream inputStream = null;\n        try {\n            inputStream = getApplicationContext().getContentResolver().openInputStream(pictureUri);\n            Bitmap bi = BitmapFactory.decodeStream(inputStream);\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            bi.compress(Bitmap.CompressFormat.PNG, 100, baos);\n            data = baos.toByteArray();\n            bi.recycle();\n            inputStream.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<ul>\n<li>the exception I'm getting along with how my app jumps up suddenly in memory consumption (line 83 is data.toByteArray)</li>\n</ul>\n<pre><code>D/dalvikvm: GC_FOR_ALLOC freed 5435K, 35% free 17128K/26228K, paused 51ms, total 51ms\nI/dalvikvm-heap: Grow heap (frag case) to 50.774MB for 31961104-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed 6K, 16% free 48334K/57444K, paused 34ms, total 34ms\nD/dalvikvm: GC_FOR_ALLOC freed 1085K, 16% free 49233K/58464K, paused 50ms, total 50ms\nD/dalvikvm: GC_FOR_ALLOC freed 1045K, 17% free 50228K/60508K, paused 23ms, total 23ms\nI/dalvikvm-heap: Grow heap (frag case) to 56.603MB for 4179344-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed 2040K, 20% free 52269K/64592K, paused 144ms, total 144ms\nD/dalvikvm: GC_FOR_ALLOC freed &lt;1K, 20% free 52269K/64592K, paused 47ms, total 47ms\nI/dalvikvm-heap: Forcing collection of SoftReferences for 8362484-byte allocation\nD/dalvikvm: GC_BEFORE_OOM freed 70K, 20% free 52198K/64592K, paused 55ms, total 55ms\nE/dalvikvm-heap: Out of memory on a 8362484-byte allocation.\nI/dalvikvm: &quot;pool-2-thread-1&quot; prio=5 tid=36 RUNNABLE\n      | group=&quot;main&quot; sCount=0 dsCount=0 obj=0x430b9d30 self=0x63f73198\n      | sysTid=18149 nice=0 sched=0/0 cgrp=apps handle=1677137248\n      | state=R schedstat=( 12681542275 603177890 1137 ) utm=1179 stm=89 core=4\nI/dalvikvm:     at java.io.ByteArrayOutputStream.expand(ByteArrayOutputStream.java:~91)\n        at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:201)\n        at android.graphics.Bitmap.nativeCompress(Native Method)\n        at android.graphics.Bitmap.compress(Bitmap.java:980)\nI/dalvikvm:     at com.example.pretest.services.PostDispatchWorker.postRandomData(PostDispatchWorker.java:82)\n        at com.example.pretest.services.PostDispatchWorker.doWork(PostDispatchWorker.java:64)\nI/dalvikvm:     at androidx.work.Worker$1.run(Worker.java:86)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\n        at java.lang.Thread.run(Thread.java:841)\nW/System.err: java.lang.OutOfMemoryError\nW/System.err:     at java.io.ByteArrayOutputStream.expand(ByteArrayOutputStream.java:91)\n        at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:201)\nW/System.err:     at android.graphics.Bitmap.nativeCompress(Native Method)\n        at android.graphics.Bitmap.compress(Bitmap.java:980)\n        at com.example.pretest.services.PostDispatchWorker.postRandomData(PostDispatchWorker.java:82)\n        at com.example.pretest.services.PostDispatchWorker.doWork(PostDispatchWorker.java:64)\n        at androidx.work.Worker$1.run(Worker.java:86)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\n        at java.lang.Thread.run(Thread.java:841)\nD/skia: ------- write threw an exception\nD/dalvikvm: GC_FOR_ALLOC freed 13K, 20% free 52195K/64592K, paused 47ms, total 47ms\nI/dalvikvm-heap: Forcing collection of SoftReferences for 4177154-byte allocation\nD/dalvikvm: GC_BEFORE_OOM freed &lt;1K, 20% free 52194K/64592K, paused 200ms, total 200ms\nE/dalvikvm-heap: Out of memory on a 4177154-byte allocation.\nI/dalvikvm: &quot;pool-2-thread-1&quot; prio=5 tid=36 RUNNABLE\n      | group=&quot;main&quot; sCount=0 dsCount=0 obj=0x430b9d30 self=0x63f73198\n      | sysTid=18149 nice=0 sched=0/0 cgrp=apps handle=1677137248\n      | state=R schedstat=( 12900202522 616312889 1206 ) utm=1187 stm=102 core=5\n        at java.io.ByteArrayOutputStream.toByteArray(ByteArrayOutputStream.java:~122)\n        at com.example.pretest.services.PostDispatchWorker.postRandomData(PostDispatchWorker.java:83)\n        at com.example.pretest.services.PostDispatchWorker.doWork(PostDispatchWorker.java:64)\n        at androidx.work.Worker$1.run(Worker.java:86)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\n        at java.lang.Thread.run(Thread.java:841)\nE/WM-WorkerWrapper: Work [ id=ddc8ccb7-cb28-4bd9-99d4-911e8533c171, tags={ com.example.pretest.services.PostDispatchWorker } ] failed because it threw an exception/error\n    java.util.concurrent.ExecutionException: java.lang.OutOfMemoryError\n        at androidx.work.impl.utils.futures.AbstractFuture.getDoneValue(AbstractFuture.java:516)\n        at androidx.work.impl.utils.futures.AbstractFuture.get(AbstractFuture.java:475)\n        at androidx.work.impl.WorkerWrapper$2.run(WorkerWrapper.java:300)\n        at androidx.work.impl.utils.SerialExecutor$Task.run(SerialExecutor.java:91)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\n        at java.lang.Thread.run(Thread.java:841)\n     Caused by: java.lang.OutOfMemoryError\n        at java.io.ByteArrayOutputStream.toByteArray(ByteArrayOutputStream.java:122)\n        at com.example.pretest.services.PostDispatchWorker.postRandomData(PostDispatchWorker.java:83)\n        at com.example.pretest.services.PostDispatchWorker.doWork(PostDispatchWorker.java:64)\n        at androidx.work.Worker$1.run(Worker.java:86)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573) \n        at java.lang.Thread.run(Thread.java:841) \n\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1345523682,"creation_date":1345522021,"answer_id":12048320,"question_id":12048287,"body_markdown":"It is difficult to answer your question without more specific information about your problem, but this would certainly work:\r\n\r\nYou can use a setter to initialize an instance variable in your other class if you want to use it everywhere in that class:\r\n\r\n    class someClass {\r\n       void someMethod() {\r\n          ABC ab = new ABC();\r\n          XYZ xyz = new XYZ();\r\n          xyz.setABC(ab);\r\n       }\r\n    }\r\n    \r\n    class XYZ {\r\n       ABC ab;\r\n       //...\r\n       void setABC(ABC ab) {\r\n         this.ab = ab;\r\n       }\r\n       //...\r\n       void doSomething() {\r\n          // do something with instance variable ab\r\n       } \r\n    }","title":"How to pass Object from java class to another java class","body":"<p>It is difficult to answer your question without more specific information about your problem, but this would certainly work:</p>\n\n<p>You can use a setter to initialize an instance variable in your other class if you want to use it everywhere in that class:</p>\n\n<pre><code>class someClass {\n   void someMethod() {\n      ABC ab = new ABC();\n      XYZ xyz = new XYZ();\n      xyz.setABC(ab);\n   }\n}\n\nclass XYZ {\n   ABC ab;\n   //...\n   void setABC(ABC ab) {\n     this.ab = ab;\n   }\n   //...\n   void doSomething() {\n      // do something with instance variable ab\n   } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1487312,"reputation":6514,"user_id":1395259,"accept_rate":67,"display_name":"Narendra Pal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345528958,"creation_date":1345523970,"answer_id":12048521,"question_id":12048287,"body_markdown":"This answer is exactlty same as Doug Ramsey [this link][1]\r\nI tried to explain with the same logic.\r\n\r\n  \r\n\r\n      public class A {\r\n        \tpublic void m1() {\r\n        \t\tSystem.out.println(&quot;inside m1 method&quot;);\r\n        \t\tABC ab = new ABC(); // 2 object is made and reference is given to ab \r\n        \t\tXYZ xyz = new XYZ();  3 object is made and reference is given to xyz \r\n        \t\txyz.send(ab); // 4 THIS IS WHAT YOUR QUESTION MEANS\r\n        \t}\r\n        }\r\n    \r\n    \r\n        class XYZ {\r\n           ABC ab;\r\n           //...\r\n           void send(ABC ab) { // 5\r\n             this.ab = ab;\r\n             System.out.println(&quot;inside send&quot;);\r\n             callme(); \r\n           }\r\n           //...\r\n           void callme() { // 6\r\n        \t   System.out.println(&quot;A is : &quot;+ab.a);\r\n        \t   System.out.println(&quot;b is : &quot;+ab.b);\r\n              // do something with instance variable ab\r\n           } \r\n        }\r\n    \r\n    public class ABC {\r\n    \tint a = 10;\r\n    \tstatic int b= 20;\r\n    \tpublic static void main(String[] args) // called first\r\n    \t{\r\n    \t\tA a = new A();\r\n    \t\ta.m1();\r\n    \t}\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/12048320/1395259\r\n\r\n","title":"How to pass Object from java class to another java class","body":"<p>This answer is exactlty same as Doug Ramsey <a href=\"https://stackoverflow.com/a/12048320/1395259\">this link</a>\nI tried to explain with the same logic.</p>\n\n<pre><code>  public class A {\n        public void m1() {\n            System.out.println(\"inside m1 method\");\n            ABC ab = new ABC(); // 2 object is made and reference is given to ab \n            XYZ xyz = new XYZ();  3 object is made and reference is given to xyz \n            xyz.send(ab); // 4 THIS IS WHAT YOUR QUESTION MEANS\n        }\n    }\n\n\n    class XYZ {\n       ABC ab;\n       //...\n       void send(ABC ab) { // 5\n         this.ab = ab;\n         System.out.println(\"inside send\");\n         callme(); \n       }\n       //...\n       void callme() { // 6\n           System.out.println(\"A is : \"+ab.a);\n           System.out.println(\"b is : \"+ab.b);\n          // do something with instance variable ab\n       } \n    }\n\npublic class ABC {\n    int a = 10;\n    static int b= 20;\n    public static void main(String[] args) // called first\n    {\n        A a = new A();\n        a.m1();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1196838,"reputation":6753,"user_id":1168372,"accept_rate":79,"display_name":"Sujay"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1633108138,"creation_date":1345524004,"answer_id":12048526,"question_id":12048287,"body_markdown":"There are several ways to do what you want to achieve. Some of them might be as follows:\r\n\r\n**Passing the object reference through a `constructor`** &lt;br/&gt;\r\nHere, you would explicitly pass the reference of your reference class when you&#39;re creating an object of the actual class.\r\n\r\n    public class ActualClass{\r\n    \tprivate ReferenceClass refClassObject;\r\n    \t\r\n    \t/**\r\n    \t* Passing through a constructor\r\n    \t*/\r\n    \tpublic ActualClass(ReferenceClass refClassObject){\r\n    \t\tthis.refClassObject = refClassObject;\r\n    \t}\r\n    }\r\n    \r\n    class ReferenceClass{\r\n    \t/**\r\n    \t* Your implementation of the class\r\n    \t*/\r\n    }\r\n\r\n**Using getter/setter methods**&lt;br/&gt;\r\nIn this approach, you would pass the reference of your object through explict `public setXX()` methods. This approach is more flexible because you can update the reference object as and when you want to (think `polymorphism`). As an example:\r\n\r\n    public class ActualClass{\r\n    \tprivate ReferenceClass refClassObject;\r\n    \t\r\n    \tpublic ActualClass(){\r\n    \t}\r\n    \t\r\n    \tpublic void setReferenceClass(ReferenceClass refClassObject){\r\n    \t\tthis.refClassObject = refClassObject;\r\n    \t}\r\n    \t\r\n    \tpublic ReferenceClass getReferenceClass(){\r\n    \t\treturn refClassObject;\r\n    \t}\r\n    }\r\n    \r\n    class ReferenceClass{\r\n    \t/**\r\n    \t* Your implementation of the class\r\n    \t*/\r\n    }\r\n\r\n**Using a combination of constructors and getters/setters**&lt;br/&gt;\r\nFor added flexibility, you might want to initialize your Actual class object with a reference. However if you would also want to keep the option of changing the reference at object at a later stage, go for a combination of both #1 &amp; #2 that I specified above. \r\n\r\n    public class ActualClass{\r\n    \tprivate ReferenceClass refClassObject;\r\n    \t\r\n    \tpublic ActualClass(){\r\n    \t}\r\n    \t\r\n    \tpublic ActualClass(ReferenceClass refClassObject){\r\n    \t\tthis.refClassObject = refClassObject;\r\n    \t}\r\n    \t\r\n    \tpublic void setReferenceClass(ReferenceClass refClassObject){\r\n    \t\tthis.refClassObject = refClassObject;\r\n    \t}\r\n    \t\r\n    \tpublic ReferenceClass getReferenceClass(){\r\n    \t\treturn refClassObject;\r\n    \t}\r\n    }\r\n    \r\n    class ReferenceClass{\r\n    \t/**\r\n    \t* Your implementation of the class\r\n    \t*/\r\n    }\r\n\r\nWhich one should you choose? Well it would depend on your implementation and requirement. ","title":"How to pass Object from java class to another java class","body":"<p>There are several ways to do what you want to achieve. Some of them might be as follows:</p>\n<p><strong>Passing the object reference through a <code>constructor</code></strong> <br/>\nHere, you would explicitly pass the reference of your reference class when you're creating an object of the actual class.</p>\n<pre><code>public class ActualClass{\n    private ReferenceClass refClassObject;\n    \n    /**\n    * Passing through a constructor\n    */\n    public ActualClass(ReferenceClass refClassObject){\n        this.refClassObject = refClassObject;\n    }\n}\n\nclass ReferenceClass{\n    /**\n    * Your implementation of the class\n    */\n}\n</code></pre>\n<p><strong>Using getter/setter methods</strong><br/>\nIn this approach, you would pass the reference of your object through explict <code>public setXX()</code> methods. This approach is more flexible because you can update the reference object as and when you want to (think <code>polymorphism</code>). As an example:</p>\n<pre><code>public class ActualClass{\n    private ReferenceClass refClassObject;\n    \n    public ActualClass(){\n    }\n    \n    public void setReferenceClass(ReferenceClass refClassObject){\n        this.refClassObject = refClassObject;\n    }\n    \n    public ReferenceClass getReferenceClass(){\n        return refClassObject;\n    }\n}\n\nclass ReferenceClass{\n    /**\n    * Your implementation of the class\n    */\n}\n</code></pre>\n<p><strong>Using a combination of constructors and getters/setters</strong><br/>\nFor added flexibility, you might want to initialize your Actual class object with a reference. However if you would also want to keep the option of changing the reference at object at a later stage, go for a combination of both #1 &amp; #2 that I specified above.</p>\n<pre><code>public class ActualClass{\n    private ReferenceClass refClassObject;\n    \n    public ActualClass(){\n    }\n    \n    public ActualClass(ReferenceClass refClassObject){\n        this.refClassObject = refClassObject;\n    }\n    \n    public void setReferenceClass(ReferenceClass refClassObject){\n        this.refClassObject = refClassObject;\n    }\n    \n    public ReferenceClass getReferenceClass(){\n        return refClassObject;\n    }\n}\n\nclass ReferenceClass{\n    /**\n    * Your implementation of the class\n    */\n}\n</code></pre>\n<p>Which one should you choose? Well it would depend on your implementation and requirement.</p>\n"},{"tags":[],"owner":{"account_id":1250235,"reputation":6632,"user_id":1210779,"accept_rate":65,"display_name":"Sai Ye Yan Naing Aye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345525318,"creation_date":1345525318,"answer_id":12048687,"question_id":12048287,"body_markdown":"You have two ways to pass object parameter to one class to another.\r\n\r\n - Passing parameter to a method\r\n       \r\n        public void passMethod(ABC ab) {\r\n        }\r\n - Passing parameter to a constructor\r\n\r\n        public class XYZ {\r\n           \r\n            public XYZ(ABC ab) {               \r\n            }\r\n        }","title":"How to pass Object from java class to another java class","body":"<p>You have two ways to pass object parameter to one class to another.</p>\n\n<ul>\n<li><p>Passing parameter to a method</p>\n\n<pre><code>public void passMethod(ABC ab) {\n}\n</code></pre></li>\n<li><p>Passing parameter to a constructor</p>\n\n<pre><code>public class XYZ {\n\n    public XYZ(ABC ab) {               \n    }\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2350896,"reputation":497,"user_id":2059761,"accept_rate":76,"display_name":"Loligans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381014264,"creation_date":1381014264,"answer_id":19203629,"question_id":12048287,"body_markdown":"I know this question is old, but If I&#39;m correct you want to transfer an Object into another class to be used.\r\n\r\nIn order to do that you need a few things\r\n\r\nClass XYZ has to have a constructor to take in the parameter &quot;Object&quot; it would something like\r\n\r\n    class XYZ{\r\n        private Object ab\r\n        public XYZ(Object ab){\r\n            this.ab = ab;//This is the constructor called when you create an XYZ object, and want to use the Object ab in XYZ\r\n        }","title":"How to pass Object from java class to another java class","body":"<p>I know this question is old, but If I'm correct you want to transfer an Object into another class to be used.</p>\n\n<p>In order to do that you need a few things</p>\n\n<p>Class XYZ has to have a constructor to take in the parameter \"Object\" it would something like</p>\n\n<pre><code>class XYZ{\n    private Object ab\n    public XYZ(Object ab){\n        this.ab = ab;//This is the constructor called when you create an XYZ object, and want to use the Object ab in XYZ\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5267532,"reputation":1,"user_id":4206942,"display_name":"deepak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416768504,"creation_date":1416766191,"answer_id":27092448,"question_id":12048287,"body_markdown":"    package demo;\r\n\r\n    class ABC{\r\n    \t void disp(xyz arg1){\r\n    \t\tSystem.out.println(&quot;runing disp method in pratics&quot;);\r\n    \t\tSystem.out.println(&quot;x value:&quot;+arg1.x);\r\n    \t\targ1.test();\r\n    \t }\r\n    \t\r\n    }\r\n\r\n    class xyz{\r\n    \t int x = 67;\r\n    \t void test(){\r\n    \t\tSystem.out.println(&quot;runing test method in pratics&quot;);\r\n    \t }\r\n    }\r\n\r\n    class pratics {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\tABC ab=new ABC();\r\n    \t\tab.disp(new xyz());\r\n    \t}\r\n    \t\t\r\n    }\r\n    \t  \t\r\n    \t \r\n      \r\n\r\n","title":"How to pass Object from java class to another java class","body":"<pre><code>package demo;\n\nclass ABC{\n     void disp(xyz arg1){\n        System.out.println(\"runing disp method in pratics\");\n        System.out.println(\"x value:\"+arg1.x);\n        arg1.test();\n     }\n\n}\n\nclass xyz{\n     int x = 67;\n     void test(){\n        System.out.println(\"runing test method in pratics\");\n     }\n}\n\nclass pratics {\n\n    public static void main(String[] args) {\n        ABC ab=new ABC();\n        ab.disp(new xyz());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1754273,"reputation":141,"user_id":1602657,"accept_rate":0,"display_name":"user1602657"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56791,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1633108138,"creation_date":1345521700,"question_id":12048287,"body_markdown":"I created an instance of a class in java as following:\r\n\r\n`ABC ab = new ABC();`\r\n\r\nI want to access this instant `ab` in another class `XYZ`. How to make this Object available in class XYZ? ","title":"How to pass Object from java class to another java class","body":"<p>I created an instance of a class in java as following:</p>\n\n<p><code>ABC ab = new ABC();</code></p>\n\n<p>I want to access this instant <code>ab</code> in another class <code>XYZ</code>. How to make this Object available in class XYZ? </p>\n"},{"tags":["java","lambda","interface","callback"],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633101667,"creation_date":1633101336,"answer_id":69408267,"question_id":69408033,"body_markdown":"you could treate your logic about exception or != 200 inside functionA and throw your custom exception ( or manage this on specific return from functionA ), example on exception bellow:\r\n\r\n\r\ncreate your exception\r\n```java\r\n class MyExceptionGotInsideFunctionA extends RuntimeException {\r\n        \r\n }\r\n```\r\n\r\nyour can throw your new exception inside your functionA\r\n```\r\n    functionA(String str1, String str2, String Str3){\r\n\r\n        try{\r\n           var reponse = otherService();\r\n\r\n           if( response == 200 )  throw new MyExceptionGotInsideFunctionA(&quot;response != 200&quot;);\r\n\r\n        }catch(  Exception e ){\r\n            throw new MyExceptionGotInsideFunctionA(e.getMessage());\r\n        }\r\n\r\n    }\r\n\r\n```\r\ntreaing yout thrown exception \r\n\r\n```\r\ntry{\r\n    serviceA.functionA(String str1, String str2, Str3) // will try run\r\n}catch(MyExceptionGotInsideFunctionA ex){\r\n   serviceB.functionB(String str1, String str2, Str3)\r\n}\r\n```\r\n\r\nif you work with a simple boolean return from functionA to call funcionB will be cleanner and better.\r\n\r\n```java\r\nboolean functionA(String str1, String str2, String Str3){\r\n\r\n        try{\r\n           var reponse = otherService();\r\n\r\n           return response != 200;\r\n\r\n        }catch(  Exception e ){\r\n            return false;\r\n        }\r\n\r\n    }\r\n```","title":"java callback function in case of an exception","body":"<p>you could treate your logic about exception or != 200 inside functionA and throw your custom exception ( or manage this on specific return from functionA ), example on exception bellow:</p>\n<p>create your exception</p>\n<pre class=\"lang-java prettyprint-override\"><code> class MyExceptionGotInsideFunctionA extends RuntimeException {\n        \n }\n</code></pre>\n<p>your can throw your new exception inside your functionA</p>\n<pre><code>    functionA(String str1, String str2, String Str3){\n\n        try{\n           var reponse = otherService();\n\n           if( response == 200 )  throw new MyExceptionGotInsideFunctionA(&quot;response != 200&quot;);\n\n        }catch(  Exception e ){\n            throw new MyExceptionGotInsideFunctionA(e.getMessage());\n        }\n\n    }\n\n</code></pre>\n<p>treaing yout thrown exception</p>\n<pre><code>try{\n    serviceA.functionA(String str1, String str2, Str3) // will try run\n}catch(MyExceptionGotInsideFunctionA ex){\n   serviceB.functionB(String str1, String str2, Str3)\n}\n</code></pre>\n<p>if you work with a simple boolean return from functionA to call funcionB will be cleanner and better.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean functionA(String str1, String str2, String Str3){\n\n        try{\n           var reponse = otherService();\n\n           return response != 200;\n\n        }catch(  Exception e ){\n            return false;\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6640938,"reputation":451,"user_id":5126654,"display_name":"Stephan Stahlmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633107589,"creation_date":1633105618,"answer_id":69409184,"question_id":69408033,"body_markdown":"You can try to take a look at the try-monads from [VAVR][1] or [Cyclops][2].\r\nBoth should be able to do what you want. Something like this should be possible:\r\n\r\n\r\n    private void handleError(BusinessException ex) {\r\n        if(ex.getCode() == 200) {\r\n             serviceB.functionB(str1, str2, str3);\r\n        }\r\n    }\r\n\r\n    private void execute() {\r\n        Try.runWithCatch(serviceA.functionA(str1, str2, str3)).onFail(this::handleError);\r\n    }\r\n\r\nThe problem would be how to pass the values of the str1/str2/str3 to the handling function.\r\n\r\n\r\nEdit: Extending the Cyclops try seems for me the best bet doing something like this.\r\n\r\n    public class MyTry&lt;T,X&gt; extends Try&lt;T,X&gt; {    \r\n        public Try&lt;T,X&gt; onFail(Predicate&lt;X&gt; predicate, Consumer&lt;X&gt; consumer)\r\n             // filter according to to predicate\r\n             // execute consumer\r\n        }\r\n    }\r\n\r\nAnd then you could do something like this:\r\n\r\n    private void execute() {\r\n        Try.runWithCatch(serviceA.functionA(str1, str2,str3)).onFail(ex -&gt; ex.getCode() == 200, ex -&gt; serviceB.functionB(str1, str2, str3));\r\n    }\r\n\r\n\r\n  [1]: https://github.com/vavr-io/vavr\r\n  [2]: https://github.com/aol/cyclops","title":"java callback function in case of an exception","body":"<p>You can try to take a look at the try-monads from <a href=\"https://github.com/vavr-io/vavr\" rel=\"nofollow noreferrer\">VAVR</a> or <a href=\"https://github.com/aol/cyclops\" rel=\"nofollow noreferrer\">Cyclops</a>.\nBoth should be able to do what you want. Something like this should be possible:</p>\n<pre><code>private void handleError(BusinessException ex) {\n    if(ex.getCode() == 200) {\n         serviceB.functionB(str1, str2, str3);\n    }\n}\n\nprivate void execute() {\n    Try.runWithCatch(serviceA.functionA(str1, str2, str3)).onFail(this::handleError);\n}\n</code></pre>\n<p>The problem would be how to pass the values of the str1/str2/str3 to the handling function.</p>\n<p>Edit: Extending the Cyclops try seems for me the best bet doing something like this.</p>\n<pre><code>public class MyTry&lt;T,X&gt; extends Try&lt;T,X&gt; {    \n    public Try&lt;T,X&gt; onFail(Predicate&lt;X&gt; predicate, Consumer&lt;X&gt; consumer)\n         // filter according to to predicate\n         // execute consumer\n    }\n}\n</code></pre>\n<p>And then you could do something like this:</p>\n<pre><code>private void execute() {\n    Try.runWithCatch(serviceA.functionA(str1, str2,str3)).onFail(ex -&gt; ex.getCode() == 200, ex -&gt; serviceB.functionB(str1, str2, str3));\n}\n</code></pre>\n"}],"owner":{"account_id":2256891,"reputation":185,"user_id":1987900,"accept_rate":11,"display_name":"avi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633107589,"creation_date":1633100263,"question_id":69408033,"body_markdown":"I&#39;ve to implement a callback mechanism in case of an exception.\r\nsuppose i hv a code to call like , which takes 3 parameters\r\ninside a class called ServiceA \r\n```\r\nserviceA.functionA(String str1, String str2, Str3)\r\n```\r\nwhich is inside an i/o call or call to an other service\r\nnow if this call fails then i need to call an another similar function\r\nwhich is in class called ServiceB\r\n```\r\nserviceB.functionB(String str1, String str2, Str3)..if there is an exception\r\n```\r\nwhich should execute functionB if there is any exception in FunctionA..or functionA return a code other than 2xx ..\r\n\r\nwhat would be the way to implement in using interfaces in java 8.\r\nis this could be implement using lambda and functional interfaces\r\n\r\nthe code i&#39;m looking through java8 functional interface..should perform similar to the try catch block like this \r\n```\r\ntry{\r\nserviceA.functionA(String str1, String str2, Str3)\r\n}\r\ncatch(Exception ex){\r\nif(ex.errorCode != 200)\r\nserviceB.functionB(String str1, String str2, Str3)\r\n}\r\n```\r\ni search through some online contents ..but couldn&#39;t find any appropriate answer","title":"java callback function in case of an exception","body":"<p>I've to implement a callback mechanism in case of an exception.\nsuppose i hv a code to call like , which takes 3 parameters\ninside a class called ServiceA</p>\n<pre><code>serviceA.functionA(String str1, String str2, Str3)\n</code></pre>\n<p>which is inside an i/o call or call to an other service\nnow if this call fails then i need to call an another similar function\nwhich is in class called ServiceB</p>\n<pre><code>serviceB.functionB(String str1, String str2, Str3)..if there is an exception\n</code></pre>\n<p>which should execute functionB if there is any exception in FunctionA..or functionA return a code other than 2xx ..</p>\n<p>what would be the way to implement in using interfaces in java 8.\nis this could be implement using lambda and functional interfaces</p>\n<p>the code i'm looking through java8 functional interface..should perform similar to the try catch block like this</p>\n<pre><code>try{\nserviceA.functionA(String str1, String str2, Str3)\n}\ncatch(Exception ex){\nif(ex.errorCode != 200)\nserviceB.functionB(String str1, String str2, Str3)\n}\n</code></pre>\n<p>i search through some online contents ..but couldn't find any appropriate answer</p>\n"},{"tags":["java","xml","intellij-idea","jersey","dropwizard"],"comments":[{"owner":{"account_id":2016660,"reputation":263,"user_id":1803810,"display_name":"leoconco"},"score":0,"creation_date":1633025103,"post_id":69396932,"comment_id":122658689,"body_markdown":"You are probably missing some depedencies in the jar, looks like the Intellij one is the correct one.","body":"You are probably missing some depedencies in the jar, looks like the Intellij one is the correct one."},{"owner":{"account_id":6831315,"reputation":59,"user_id":5255197,"accept_rate":75,"display_name":"Jawad Azzam"},"score":0,"creation_date":1633025480,"post_id":69396932,"comment_id":122658841,"body_markdown":"I am running mvn clean install to build the jar, so it should take the same dependencies that I have in the pom, I m trying to clean .m2 and then to rerun from intellij to see if I still get the same","body":"I am running mvn clean install to build the jar, so it should take the same dependencies that I have in the pom, I m trying to clean .m2 and then to rerun from intellij to see if I still get the same"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1633026407,"post_id":69396932,"comment_id":122659183,"body_markdown":"Can you post your pom with your dependencies and plugins.","body":"Can you post your pom with your dependencies and plugins."},{"owner":{"account_id":2016660,"reputation":263,"user_id":1803810,"display_name":"leoconco"},"score":1,"creation_date":1633027279,"post_id":69396932,"comment_id":122659463,"body_markdown":"@GawadAzzam I&#39;m thinking more on plain jar vs https://maven.apache.org/plugins/maven-shade-plugin/ . So, your jar is not including the dependency that handles those `XmlAttribute` annotations.","body":"@GawadAzzam I&#39;m thinking more on plain jar vs <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin</a> . So, your jar is not including the dependency that handles those <code>XmlAttribute</code> annotations."}],"answers":[{"tags":[],"owner":{"account_id":2016660,"reputation":263,"user_id":1803810,"display_name":"leoconco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633030991,"creation_date":1633030341,"answer_id":69397930,"question_id":69396932,"body_markdown":"Don&#39;t package your jar plain, use the maven-shade-plugin, that will include the dependencies in the jar, or, add these dependencies to your Classpath.","title":"Running Java app from IntelliJ returns different response format","body":"<p>Don't package your jar plain, use the maven-shade-plugin, that will include the dependencies in the jar, or, add these dependencies to your Classpath.</p>\n"},{"tags":[],"owner":{"account_id":6831315,"reputation":59,"user_id":5255197,"accept_rate":75,"display_name":"Jawad Azzam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633107150,"creation_date":1633107150,"answer_id":69409479,"question_id":69396932,"body_markdown":"1. after deleting .m2 I got same response from IntelliJ and from the Jar.\r\n2. for some reason Dropwizard 2.0.24 was ignoring my JAXB annotations, I fixed it by changing the version to 2.0.0.\r\n\r\nthanks for your comments, much appreciated ","title":"Running Java app from IntelliJ returns different response format","body":"<ol>\n<li>after deleting .m2 I got same response from IntelliJ and from the Jar.</li>\n<li>for some reason Dropwizard 2.0.24 was ignoring my JAXB annotations, I fixed it by changing the version to 2.0.0.</li>\n</ol>\n<p>thanks for your comments, much appreciated</p>\n"}],"owner":{"account_id":6831315,"reputation":59,"user_id":5255197,"accept_rate":75,"display_name":"Jawad Azzam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633107150,"creation_date":1633024824,"question_id":69396932,"body_markdown":"I am trying to call an API in my Dropwizard application, the API returns the following class\r\n\r\n```\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\n@EqualsAndHashCode\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlRootElement(name = &quot;Error&quot;)\r\npublic class ErrorResponse {\r\n\r\n    @NonNull\r\n    @XmlAttribute(name = &quot;msg&quot;)\r\n    private String msg;\r\n\r\n    @XmlAttribute(name = &quot;display&quot;)\r\n    protected String display;\r\n\r\n    @XmlAttribute(name = &quot;action&quot;)\r\n    private String action;\r\n\r\n    @NotNull\r\n    @XmlAttribute(name = &quot;type&quot;)\r\n    private String type;\r\n\r\n    @XmlAttribute(name = &quot;code&quot;)\r\n    private String code;\r\n\r\n}\r\n```\r\n```\r\nreturn javax.ws.rs.core.Response.status(status).entity(ErrorResponse).header(CONTENT_TYPE, APPLICATION_XML).build();\r\n```\r\n\r\nwhen I ran the application from IntelliJ, I got this response:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;Error msg=&quot;some message&quot; display=&quot;true&quot; action=&quot;RETRY&quot; type=&quot;FATAL&quot; code=&quot;error&quot;/&gt;\r\n```\r\n\r\nwhen I ran it using the jar, I got this:\r\n```\r\n  &lt;ErrorResponse&gt;\r\n        &lt;msg&gt;some message&lt;/msg&gt;\r\n        &lt;display&gt;true&lt;/display&gt;\r\n        &lt;action&gt;RETRY&lt;/action&gt;\r\n        &lt;type&gt;FATAL&lt;/type&gt;\r\n        &lt;code&gt;error&lt;/code&gt;\r\n    &lt;/ErrorResponse&gt;\r\n```\r\n\r\nI am using dropwizard 2.0.24","title":"Running Java app from IntelliJ returns different response format","body":"<p>I am trying to call an API in my Dropwizard application, the API returns the following class</p>\n<pre><code>@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@EqualsAndHashCode\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;Error&quot;)\npublic class ErrorResponse {\n\n    @NonNull\n    @XmlAttribute(name = &quot;msg&quot;)\n    private String msg;\n\n    @XmlAttribute(name = &quot;display&quot;)\n    protected String display;\n\n    @XmlAttribute(name = &quot;action&quot;)\n    private String action;\n\n    @NotNull\n    @XmlAttribute(name = &quot;type&quot;)\n    private String type;\n\n    @XmlAttribute(name = &quot;code&quot;)\n    private String code;\n\n}\n</code></pre>\n<pre><code>return javax.ws.rs.core.Response.status(status).entity(ErrorResponse).header(CONTENT_TYPE, APPLICATION_XML).build();\n</code></pre>\n<p>when I ran the application from IntelliJ, I got this response:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;Error msg=&quot;some message&quot; display=&quot;true&quot; action=&quot;RETRY&quot; type=&quot;FATAL&quot; code=&quot;error&quot;/&gt;\n</code></pre>\n<p>when I ran it using the jar, I got this:</p>\n<pre><code>  &lt;ErrorResponse&gt;\n        &lt;msg&gt;some message&lt;/msg&gt;\n        &lt;display&gt;true&lt;/display&gt;\n        &lt;action&gt;RETRY&lt;/action&gt;\n        &lt;type&gt;FATAL&lt;/type&gt;\n        &lt;code&gt;error&lt;/code&gt;\n    &lt;/ErrorResponse&gt;\n</code></pre>\n<p>I am using dropwizard 2.0.24</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1633249071,"post_id":69409137,"comment_id":122705165,"body_markdown":"To understand , there are multiple implemenations of `BatchUpdater` and the requirement here is to programmatically call the corresponding implemenation based on the type of list , is it ? Also ,  within `MyServiceClass.updateTables()` how is `TableA`  bean and `tableAList` mapped ?","body":"To understand , there are multiple implemenations of <code>BatchUpdater</code> and the requirement here is to programmatically call the corresponding implemenation based on the type of list , is it ? Also ,  within <code>MyServiceClass.updateTables()</code> how is <code>TableA</code>  bean and <code>tableAList</code> mapped ?"}],"answers":[{"tags":[],"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633106163,"creation_date":1633106163,"answer_id":69409295,"question_id":69409137,"body_markdown":"Well, I use a factory pattern with HashMap and reflections to instantiate like\r\n\r\n    public static class Factory{\r\n\t\tfinal static HashMap&lt;String,Class&lt;? extends MyAbstractClass&gt;&gt; supportedVersions = new HashMap&lt;&gt;();\r\n\t\tstatic{\r\n\r\n\t\t\tsupportedVersions.put(&quot;v1&quot;, ClassV1.class);\r\n\t\t\tsupportedVersions.put(&quot;v2&quot;, ClassV2.class);\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tpublic static MyAbstractClass getInstanceFor(String type) {\r\n\t\t\ttry {\r\n\t\t\t\treturn supportedVersions.get(type)\r\n\t\t\t\t\t\t.getConstructor().newInstance(&quot;params&quot;);\r\n\t\t\t} catch (IllegalAccessException e) {\r\n\t\t\t\tthrow new CustomException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Something went wrong&quot;);\r\n\t\t\t} catch (InstantiationException | InvocationTargetException | NoSuchMethodException e) {\r\n\t\t\t\tthrow new CustomException(HttpStatus.BAD_REQUEST, &quot;Unsupported Version&quot;);\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How to write a service class to return any implementation class object which implements interface","body":"<p>Well, I use a factory pattern with HashMap and reflections to instantiate like</p>\n<pre><code>public static class Factory{\n    final static HashMap&lt;String,Class&lt;? extends MyAbstractClass&gt;&gt; supportedVersions = new HashMap&lt;&gt;();\n    static{\n\n        supportedVersions.put(&quot;v1&quot;, ClassV1.class);\n        supportedVersions.put(&quot;v2&quot;, ClassV2.class);\n        \n    }\n\n    public static MyAbstractClass getInstanceFor(String type) {\n        try {\n            return supportedVersions.get(type)\n                    .getConstructor().newInstance(&quot;params&quot;);\n        } catch (IllegalAccessException e) {\n            throw new CustomException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Something went wrong&quot;);\n        } catch (InstantiationException | InvocationTargetException | NoSuchMethodException e) {\n            throw new CustomException(HttpStatus.BAD_REQUEST, &quot;Unsupported Version&quot;);\n\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15057183,"reputation":51,"user_id":10867131,"display_name":"Pamuleti Pullagura"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633106677,"creation_date":1633105391,"question_id":69409137,"body_markdown":"I have a requirement to update number of records into a table in a single call from Java program. Simply it is JDBC batch update.\r\n\r\nFor this, I have this following code snippet at interface and implementation which is perfectly working.\r\n\r\n    interface TableABatchUpdater extends Logic&lt;TableADTO&gt; {\r\n       void updateBatch(List&lt;TableADTO&gt; list)\r\n    }\r\n    \r\n    class TableABatchUpdaterImpl extends AbstractLogic&lt;TableADTO&gt; implements TableABatchUpdater {\r\n       @Autowired DAOClass dao;\r\n    \r\n       TableABatchUpdaterImpl(){\r\n         super(&quot;TableA&quot;);\r\n       }\r\n    \r\n       @Override\r\n        void updateBatch(List&lt;TableADTO&gt; list) {\r\n            dao.updateBatch(list)\r\n        }\r\n    \r\n    }\r\n    interface TableBBatchUpdater extends Logic&lt;TableBDTO&gt; {\r\n       void updateBatch(List&lt;TableBDTO&gt; list)\r\n    }\r\n    \r\n    class TableBBatchUpdaterImpl extends AbstractLogic&lt;TableBDTO&gt; implements TableBBatchUpdater {\r\n       @Autowired DAOClass dao;\r\n    \r\n       TableBBatchUpdaterImpl(){\r\n         super(&quot;TableB&quot;);\r\n       }\r\n    \r\n       @Override\r\n        void updateBatch(List&lt;TableBDTO&gt; list) {\r\n            dao.updateBatch(list)\r\n        }\r\n    \r\n    }\r\n    \r\n    interface TableCBatchUpdater extends Logic&lt;TableCDTO&gt; {\r\n       void updateBatch(List&lt;TableCDTO&gt; list)\r\n    }\r\n    \r\n    class TableACatchUpdaterImpl extends AbstractLogic&lt;TableCDTO&gt; implements TableABatchUpdater {\r\n       @Autowired DAOClass dao;\r\n    \r\n       TableCBatchUpdaterImpl(){\r\n         super(&quot;TableC&quot;);\r\n       }\r\n    \r\n       @Override\r\n        void updateBatch(List&lt;TableCDTO&gt; list) {\r\n            dao.updateBatch(list)\r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n    public class MyServiceClass {\r\n    \r\n      @Autowired TableABatchUpdater tableA;\r\n      @Autowired TableBBatchUpdater tableB;\r\n      @Autowired TableCBatchUpdater tableC;\r\n    \r\n      public void updateTables() {\r\n         tableA.updateBatch(tableAList);\r\n         tableB.updateBatch(tableBList);\r\n         tableC.updateBatch(tableCList);\r\n       }\r\n    \r\n    }\r\n\r\nThe problem here is, when I would like to add batch update statements for another table called `&quot;TableD&quot;`, MyServiceClass class dependencies are increasing and the complexity is very high interms of unit testing..etc. So, I tried to use one interface instead of independent interface for each table as follows. But, still I have to write many implementation classes for each table which I don&#39;t want.\r\n\r\n    interface BatchUpdater extends Logic&lt;?&gt; {\r\n           void updateBatch(List&lt;?&gt; list)\r\n    }\r\n\r\nI tried to write the implementations by using factory and composite patterns. But, none of them worked out.\r\n\r\nIs there any other way in Spring to write a separate service class which will return as the following.\r\n\r\n    public class MyServiceClass {\r\n    \r\n        @Autowired BatchUpdaterService batchUpdaterService;\r\n    \r\n        public void updateTables() {\r\n            batchUpdaterService.getTableUpdater(&quot;TableA&quot;).updateBatch(tableAList);\r\n            batchUpdaterService.getTableUpdater(&quot;TableB&quot;).updateBatch(tableBList);\r\n            batchUpdaterService.getTableUpdater(&quot;TableC&quot;).updateBatch(tableCList);\r\n        }\r\n    \r\n    }\r\n\r\nAny response is highly appreciated","title":"How to write a service class to return any implementation class object which implements interface","body":"<p>I have a requirement to update number of records into a table in a single call from Java program. Simply it is JDBC batch update.</p>\n<p>For this, I have this following code snippet at interface and implementation which is perfectly working.</p>\n<pre><code>interface TableABatchUpdater extends Logic&lt;TableADTO&gt; {\n   void updateBatch(List&lt;TableADTO&gt; list)\n}\n\nclass TableABatchUpdaterImpl extends AbstractLogic&lt;TableADTO&gt; implements TableABatchUpdater {\n   @Autowired DAOClass dao;\n\n   TableABatchUpdaterImpl(){\n     super(&quot;TableA&quot;);\n   }\n\n   @Override\n    void updateBatch(List&lt;TableADTO&gt; list) {\n        dao.updateBatch(list)\n    }\n\n}\ninterface TableBBatchUpdater extends Logic&lt;TableBDTO&gt; {\n   void updateBatch(List&lt;TableBDTO&gt; list)\n}\n\nclass TableBBatchUpdaterImpl extends AbstractLogic&lt;TableBDTO&gt; implements TableBBatchUpdater {\n   @Autowired DAOClass dao;\n\n   TableBBatchUpdaterImpl(){\n     super(&quot;TableB&quot;);\n   }\n\n   @Override\n    void updateBatch(List&lt;TableBDTO&gt; list) {\n        dao.updateBatch(list)\n    }\n\n}\n\ninterface TableCBatchUpdater extends Logic&lt;TableCDTO&gt; {\n   void updateBatch(List&lt;TableCDTO&gt; list)\n}\n\nclass TableACatchUpdaterImpl extends AbstractLogic&lt;TableCDTO&gt; implements TableABatchUpdater {\n   @Autowired DAOClass dao;\n\n   TableCBatchUpdaterImpl(){\n     super(&quot;TableC&quot;);\n   }\n\n   @Override\n    void updateBatch(List&lt;TableCDTO&gt; list) {\n        dao.updateBatch(list)\n    }\n\n}\n\n\npublic class MyServiceClass {\n\n  @Autowired TableABatchUpdater tableA;\n  @Autowired TableBBatchUpdater tableB;\n  @Autowired TableCBatchUpdater tableC;\n\n  public void updateTables() {\n     tableA.updateBatch(tableAList);\n     tableB.updateBatch(tableBList);\n     tableC.updateBatch(tableCList);\n   }\n\n}\n</code></pre>\n<p>The problem here is, when I would like to add batch update statements for another table called <code>&quot;TableD&quot;</code>, MyServiceClass class dependencies are increasing and the complexity is very high interms of unit testing..etc. So, I tried to use one interface instead of independent interface for each table as follows. But, still I have to write many implementation classes for each table which I don't want.</p>\n<pre><code>interface BatchUpdater extends Logic&lt;?&gt; {\n       void updateBatch(List&lt;?&gt; list)\n}\n</code></pre>\n<p>I tried to write the implementations by using factory and composite patterns. But, none of them worked out.</p>\n<p>Is there any other way in Spring to write a separate service class which will return as the following.</p>\n<pre><code>public class MyServiceClass {\n\n    @Autowired BatchUpdaterService batchUpdaterService;\n\n    public void updateTables() {\n        batchUpdaterService.getTableUpdater(&quot;TableA&quot;).updateBatch(tableAList);\n        batchUpdaterService.getTableUpdater(&quot;TableB&quot;).updateBatch(tableBList);\n        batchUpdaterService.getTableUpdater(&quot;TableC&quot;).updateBatch(tableCList);\n    }\n\n}\n</code></pre>\n<p>Any response is highly appreciated</p>\n"},{"tags":["java","persistence","jpa"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1633093946,"post_id":69406289,"comment_id":122675573,"body_markdown":"Have you tried dropping `referencedColumnName` as follows: `@JoinColumn(name = &quot;ext_human_id&quot;)`*","body":"Have you tried dropping <code>referencedColumnName</code> as follows: <code>@JoinColumn(name = &quot;ext_human_id&quot;)</code>*"},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1633095073,"post_id":69406289,"comment_id":122676046,"body_markdown":"Thanks a lot for the reply @Jo&#227;oDias. Unfortunately, this didn&#39;t help.","body":"Thanks a lot for the reply @Jo&#227;oDias. Unfortunately, this didn&#39;t help."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1633095431,"post_id":69406289,"comment_id":122676236,"body_markdown":"Have you tried dropping `Human` class and use only `User`? I know this is not what you need but just for debugging purposes and trying to figure out where the problem might be. Currently, there are too many moving parts.","body":"Have you tried dropping <code>Human</code> class and use only <code>User</code>? I know this is not what you need but just for debugging purposes and trying to figure out where the problem might be. Currently, there are too many moving parts."},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1633095801,"post_id":69406289,"comment_id":122676412,"body_markdown":"@Jo&#227;oDias that, didn&#39;t help either.","body":"@Jo&#227;oDias that, didn&#39;t help either."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633096858,"post_id":69406289,"comment_id":122676859,"body_markdown":"And what about `@OneToOne(fetch = FetchType.LAZY, optional = false)` in `CollectionOfContactMethods` instead of `@OneToOne(fetch = FetchType.LAZY)`?","body":"And what about <code>@OneToOne(fetch = FetchType.LAZY, optional = false)</code> in <code>CollectionOfContactMethods</code> instead of <code>@OneToOne(fetch = FetchType.LAZY)</code>?"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633096955,"post_id":69406289,"comment_id":122676907,"body_markdown":"If this does not work either, can you please add the code that actually creates and persists the `User`?","body":"If this does not work either, can you please add the code that actually creates and persists the <code>User</code>?"},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1633097590,"post_id":69406289,"comment_id":122677211,"body_markdown":"@Jo&#227;oDias that will cause `not-null property references a null or transient value : com.tsakirogf.schedu.model.CollectionOfContactMethods.user`","body":"@Jo&#227;oDias that will cause <code>not-null property references a null or transient value : com.tsakirogf.schedu.model.CollectionOfContactMethods.user</code>"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633097779,"post_id":69406289,"comment_id":122677272,"body_markdown":"Have you cleared your DB first?","body":"Have you cleared your DB first?"},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1633097901,"post_id":69406289,"comment_id":122677328,"body_markdown":"It&#39;s H2 for now. I think it&#39;s not persistent. Every time I restart the app it gets purged.","body":"It&#39;s H2 for now. I think it&#39;s not persistent. Every time I restart the app it gets purged."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633097965,"post_id":69406289,"comment_id":122677361,"body_markdown":"Then can you add the code that creates the entities and persists them?","body":"Then can you add the code that creates the entities and persists them?"},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1633101749,"post_id":69406289,"comment_id":122678982,"body_markdown":"@Jo&#227;oDias Do you mean Controller and Service?","body":"@Jo&#227;oDias Do you mean Controller and Service?"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633102290,"post_id":69406289,"comment_id":122679208,"body_markdown":"Yes, and the Repository as well. Thanks.","body":"Yes, and the Repository as well. Thanks."},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1633102375,"post_id":69406289,"comment_id":122679249,"body_markdown":"I have to thank you.","body":"I have to thank you."},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1633103100,"post_id":69406289,"comment_id":122679502,"body_markdown":"@Jo&#227;oDias This is it. Forgot to say I am using Spring Rest &amp; Crud. So nothing really special there.","body":"@Jo&#227;oDias This is it. Forgot to say I am using Spring Rest &amp; Crud. So nothing really special there."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633106450,"creation_date":1633106450,"answer_id":69409350,"question_id":69406289,"body_markdown":"Since you have a bi-directional relationship between `User` and `CollectionOfContactMethods`, the issue might be that `CollectionOfContactMethods` `user` is null when you try to create it, hence the null data in the database or the `not-null property references a null or transient value : com.tsakirogf.schedu.model.CollectionOfContactMethods.user` error. Try the following:\r\n```java\r\n@RequestMapping(value = &quot;user&quot;, method = RequestMethod.POST)\r\nUser create(@RequestBody User user) {\r\n    CollectionOfContactMethods contactNumbers = user.getContactNumbers();\r\n    contactNumbers.setUser(user);\r\n    user.setContactNumbers(contactNumbers);\r\n    return userService.save(user);\r\n}\r\n```","title":"Problem with Foreign Key in @OneToOne annotation","body":"<p>Since you have a bi-directional relationship between <code>User</code> and <code>CollectionOfContactMethods</code>, the issue might be that <code>CollectionOfContactMethods</code> <code>user</code> is null when you try to create it, hence the null data in the database or the <code>not-null property references a null or transient value : com.tsakirogf.schedu.model.CollectionOfContactMethods.user</code> error. Try the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;user&quot;, method = RequestMethod.POST)\nUser create(@RequestBody User user) {\n    CollectionOfContactMethods contactNumbers = user.getContactNumbers();\n    contactNumbers.setUser(user);\n    user.setContactNumbers(contactNumbers);\n    return userService.save(user);\n}\n</code></pre>\n"}],"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69409350,"answer_count":1,"score":1,"last_activity_date":1633106450,"creation_date":1633093023,"question_id":69406289,"body_markdown":"I have spent a couple of days with a weird problem. There is a plethora of similar posts here in StackOverflow and I have check a lot of them but I was unable to find something similar with this. I have a `Human` Parent class\r\n\r\n    import javax.persistence.*;\r\n    import java.util.Date;\r\n    \r\n    @Entity(name = &quot;Human&quot;)\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    public abstract class Human\r\n    {\r\n        @Id\r\n        @Column(name = &quot;human_id&quot;, nullable = false)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        private Long id;\r\n    \r\n        @JsonProperty(&quot;name&quot;)\r\n        private String name;\r\n    \r\n        @JsonProperty(&quot;date_of_birth&quot;)\r\n        private Date dateOfBirth;\r\n    \r\n        @Embedded\r\n        @JsonProperty(&quot;authentication_credential&quot;)\r\n        private AuthenticationCredentials authCred;\r\n\r\n        // constructors + setter/getters\r\n    }\r\n \r\nA `User` child class :\r\n\r\n    import javax.persistence.*;\r\n    import java.util.Date;\r\n    \r\n    @Entity(name = &quot;User&quot;)\r\n    @Table(name = &quot;end_user&quot;)\r\n    public class User extends Human\r\n    {\r\n        @OneToOne(mappedBy = &quot;user&quot;,\r\n                  cascade = CascadeType.ALL,\r\n                  fetch = FetchType.LAZY,\r\n                  optional = false)\r\n        @JsonProperty(&quot;contact_numbers&quot;)\r\n        private CollectionOfContactMethods contactNumbers;\r\n    \r\n        @JsonProperty(&quot;telephone&quot;)\r\n        private String telephone;\r\n\r\n        // constructors + setter/getters\r\n     }\r\n\r\nand also a `CollectionOfContactMethods` with composition relationship with the `User`.\r\n\r\n    import javax.persistence.*;\r\n    import java.util.List;\r\n    \r\n    @Entity(name = &quot;CollectionOfContactMethods&quot;)\r\n    @Table(name = &quot;collection_of_contact_methods&quot;)\r\n    public class CollectionOfContactMethods\r\n    {\r\n        @Id\r\n        @Column(name = &quot;collection_id&quot;, nullable = false)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        private Long id;\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;ext_human_id&quot;, referencedColumnName = &quot;human_id&quot;)\r\n        private User user;\r\n    \r\n        @JsonProperty(&quot;email&quot;)\r\n        private String email;\r\n    \r\n        // constructors + setter/getters\r\n    }\r\n\r\nThe plan, according to the ER diagram is this :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, what I get at a database level is this :\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI appreciate the time you spent. Thanks.\r\n\r\nPS : Here is the `UserController` \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;api/v1/user/&quot;)\r\n    public class UserController\r\n    {\r\n        @Autowired\r\n        UserService userService;\r\n    \r\n        @GetMapping(value = &quot;users&quot;)\r\n        Iterable&lt;User&gt; list()\r\n        {\r\n            Iterable&lt;User&gt; retVal = userService.findAll();\r\n            return retVal;\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;user&quot;, method = RequestMethod.POST)\r\n        User create(@RequestBody User user)\r\n        {\r\n            return userService.save(user);\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;user/{id}&quot;,  method = RequestMethod.GET )\r\n        Optional&lt;User&gt; get(@PathVariable Long id)\r\n        {\r\n            return userService.findById(id);\r\n        }\r\n    }\r\n\r\nand also `UserService` : \r\n\r\n    import com.tsakirogf.schedu.model.human.User;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    \r\n    public interface UserService extends CrudRepository&lt;User, Long&gt;\r\n    {\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/OYl4U.png\r\n  [2]: https://i.stack.imgur.com/0cGP7.png","title":"Problem with Foreign Key in @OneToOne annotation","body":"<p>I have spent a couple of days with a weird problem. There is a plethora of similar posts here in StackOverflow and I have check a lot of them but I was unable to find something similar with this. I have a <code>Human</code> Parent class</p>\n<pre><code>import javax.persistence.*;\nimport java.util.Date;\n\n@Entity(name = &quot;Human&quot;)\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class Human\n{\n    @Id\n    @Column(name = &quot;human_id&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n\n    @JsonProperty(&quot;name&quot;)\n    private String name;\n\n    @JsonProperty(&quot;date_of_birth&quot;)\n    private Date dateOfBirth;\n\n    @Embedded\n    @JsonProperty(&quot;authentication_credential&quot;)\n    private AuthenticationCredentials authCred;\n\n    // constructors + setter/getters\n}\n</code></pre>\n<p>A <code>User</code> child class :</p>\n<pre><code>import javax.persistence.*;\nimport java.util.Date;\n\n@Entity(name = &quot;User&quot;)\n@Table(name = &quot;end_user&quot;)\npublic class User extends Human\n{\n    @OneToOne(mappedBy = &quot;user&quot;,\n              cascade = CascadeType.ALL,\n              fetch = FetchType.LAZY,\n              optional = false)\n    @JsonProperty(&quot;contact_numbers&quot;)\n    private CollectionOfContactMethods contactNumbers;\n\n    @JsonProperty(&quot;telephone&quot;)\n    private String telephone;\n\n    // constructors + setter/getters\n }\n</code></pre>\n<p>and also a <code>CollectionOfContactMethods</code> with composition relationship with the <code>User</code>.</p>\n<pre><code>import javax.persistence.*;\nimport java.util.List;\n\n@Entity(name = &quot;CollectionOfContactMethods&quot;)\n@Table(name = &quot;collection_of_contact_methods&quot;)\npublic class CollectionOfContactMethods\n{\n    @Id\n    @Column(name = &quot;collection_id&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;ext_human_id&quot;, referencedColumnName = &quot;human_id&quot;)\n    private User user;\n\n    @JsonProperty(&quot;email&quot;)\n    private String email;\n\n    // constructors + setter/getters\n}\n</code></pre>\n<p>The plan, according to the ER diagram is this :</p>\n<p><a href=\"https://i.stack.imgur.com/OYl4U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OYl4U.png\" alt=\"enter image description here\" /></a></p>\n<p>However, what I get at a database level is this :</p>\n<p><a href=\"https://i.stack.imgur.com/0cGP7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0cGP7.png\" alt=\"enter image description here\" /></a></p>\n<p>I appreciate the time you spent. Thanks.</p>\n<p>PS : Here is the <code>UserController</code></p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/v1/user/&quot;)\npublic class UserController\n{\n    @Autowired\n    UserService userService;\n\n    @GetMapping(value = &quot;users&quot;)\n    Iterable&lt;User&gt; list()\n    {\n        Iterable&lt;User&gt; retVal = userService.findAll();\n        return retVal;\n    }\n\n    @RequestMapping(value = &quot;user&quot;, method = RequestMethod.POST)\n    User create(@RequestBody User user)\n    {\n        return userService.save(user);\n    }\n\n    @RequestMapping(value = &quot;user/{id}&quot;,  method = RequestMethod.GET )\n    Optional&lt;User&gt; get(@PathVariable Long id)\n    {\n        return userService.findById(id);\n    }\n}\n</code></pre>\n<p>and also <code>UserService</code> :</p>\n<pre><code>import com.tsakirogf.schedu.model.human.User;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface UserService extends CrudRepository&lt;User, Long&gt;\n{\n}\n</code></pre>\n"},{"tags":["java","maven","web-services","jax-ws","java-11"],"answers":[{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633106351,"creation_date":1633106036,"answer_id":69409271,"question_id":69313325,"body_markdown":"In the [Oracle release notes for Java 11][1], I found this:\r\n\r\n&gt; other-libs ➜ JEP 320 Remove the Java EE and CORBA Modules\r\n&gt; \r\n&gt; Remove the Java EE and CORBA modules from the Java SE Platform and the\r\n&gt; JDK. These modules were deprecated in Java SE 9 with the declared\r\n&gt; intent to remove them in a future release (JEP 320).\r\n&gt; \r\n&gt; The following modules have been removed from Java SE 11 and JDK 11:\r\n&gt; \r\n&gt;     java.xml.ws (JAX-WS, plus the related technologies SAAJ and Web Services Metadata)\r\n&gt;     java.xml.bind (JAXB) \r\n...etc\r\n\r\nAccording to what I read from Oracle, they removed Jax-WS from Java 11, but it&#39;s still available under OpenJDK: [JEP 320: Remove the Java EE and CORBA Modules][2].  According to that page, \r\n\r\n&gt; This proposal assumes that developers who wish to compile or run\r\n&gt; applications on the latest JDK can find and deploy alternate versions\r\n&gt; of the Java EE technologies. **The Reference Implementations (RIs) of\r\n&gt; JAX-WS and JAXB are a good starting point because they are complete\r\n&gt; replacements for the java.xml.ws and java.xml.bind modules in JDK 9.**\r\n&gt; The RIs are available as Maven artifacts: (note that they must be\r\n&gt; deployed on the class path)\r\n&gt; \r\n&gt;     com.sun.xml.ws : jaxws-ri (JAX-WS, plus SAAJ and Web Services Metadata)\r\n&gt;     com.sun.xml.bind : jaxb-ri (JAXB)\r\n&gt; \r\n&gt; The tools for JAX-WS and JAXB are also available as Maven artifacts:\r\n&gt; \r\n&gt;     wsgen and wsimport: com.sun.xml.ws : jaxws-tools, plus tool scripts\r\n&gt;     schemagen and xjc: com.sun.xml.bind : jaxb-jxc and com.sun.xml.bind : jaxb-xjc, plus tool scripts\r\n\r\nSince you are on Java 8, you may still have to do more tweaking and/or migrate up to Java 9 first, but from I can tell, this is your only path forward.\r\n\r\nSo to summarize, Oracle removed Jax-WS and related technologies from Java 11, but they are still available to download and use and here is the link to the Maven repo for [(RIs) of JAX-WS and JAXB ][3].\r\nJames\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/11-relnote-issues.html\r\n  [2]: https://openjdk.java.net/jeps/320\r\n  [3]: https://search.maven.org/search?q=g:com.sun.xml.ws%20AND%20a:jaxws-ri","title":"Correctly migrating from JDK-8 to JDK-11 for JAX-WS libraries","body":"<p>In the <a href=\"https://www.oracle.com/java/technologies/javase/11-relnote-issues.html\" rel=\"nofollow noreferrer\">Oracle release notes for Java 11</a>, I found this:</p>\n<blockquote>\n<p>other-libs ➜ JEP 320 Remove the Java EE and CORBA Modules</p>\n<p>Remove the Java EE and CORBA modules from the Java SE Platform and the\nJDK. These modules were deprecated in Java SE 9 with the declared\nintent to remove them in a future release (JEP 320).</p>\n<p>The following modules have been removed from Java SE 11 and JDK 11:</p>\n<pre><code>java.xml.ws (JAX-WS, plus the related technologies SAAJ and Web Services Metadata)\njava.xml.bind (JAXB) \n</code></pre>\n</blockquote>\n<p>...etc</p>\n<p>According to what I read from Oracle, they removed Jax-WS from Java 11, but it's still available under OpenJDK: <a href=\"https://openjdk.java.net/jeps/320\" rel=\"nofollow noreferrer\">JEP 320: Remove the Java EE and CORBA Modules</a>.  According to that page,</p>\n<blockquote>\n<p>This proposal assumes that developers who wish to compile or run\napplications on the latest JDK can find and deploy alternate versions\nof the Java EE technologies. <strong>The Reference Implementations (RIs) of\nJAX-WS and JAXB are a good starting point because they are complete\nreplacements for the java.xml.ws and java.xml.bind modules in JDK 9.</strong>\nThe RIs are available as Maven artifacts: (note that they must be\ndeployed on the class path)</p>\n<pre><code>com.sun.xml.ws : jaxws-ri (JAX-WS, plus SAAJ and Web Services Metadata)\ncom.sun.xml.bind : jaxb-ri (JAXB)\n</code></pre>\n<p>The tools for JAX-WS and JAXB are also available as Maven artifacts:</p>\n<pre><code>wsgen and wsimport: com.sun.xml.ws : jaxws-tools, plus tool scripts\nschemagen and xjc: com.sun.xml.bind : jaxb-jxc and com.sun.xml.bind : jaxb-xjc, plus tool scripts\n</code></pre>\n</blockquote>\n<p>Since you are on Java 8, you may still have to do more tweaking and/or migrate up to Java 9 first, but from I can tell, this is your only path forward.</p>\n<p>So to summarize, Oracle removed Jax-WS and related technologies from Java 11, but they are still available to download and use and here is the link to the Maven repo for <a href=\"https://search.maven.org/search?q=g:com.sun.xml.ws%20AND%20a:jaxws-ri\" rel=\"nofollow noreferrer\">(RIs) of JAX-WS and JAXB </a>.\nJames</p>\n"}],"owner":{"account_id":20182156,"reputation":75,"user_id":14802438,"display_name":"AlSteve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4182,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69409271,"answer_count":1,"score":2,"last_activity_date":1633106351,"creation_date":1632478521,"question_id":69313325,"body_markdown":"I am developing a couple of integrations (as Maven projects) between several defect management systems, one of which exposes services through WSDL, forcing me to consume them through WS.\r\nFor the latter I succesfully developed the code for JDK-8 and everything works.\r\n\r\nI am now in the middle of JDK migration from 8 to 11 and need to update the integration that makes use of WS. I understood that in Java 11 some EE libraries (including JAX-WS) were removed.\r\nI then surfed the Web in order to get rid of this problem, but after a couple of days of tests and cut-and-paste of depenendencies I still have the same problem: cannot instantiate the WS to interact to the final server (that is a CA SDM 14.1).\r\n\r\nCurrently I have the following error:\r\n\r\n    java.lang.NoSuchMethodException: com.sun.xml.bind.v2.model.nav.ReflectionNavigator.getInstance()\r\n\r\nAnd my POM file looks like this:\r\n\r\n    &lt;properties&gt;\r\n    \t&lt;target.dir&gt;target&lt;/target.dir&gt;\r\n    \t&lt;app.version&gt;4.0.0&lt;/app.version&gt;\r\n    \t&lt;skipTests&gt;true&lt;/skipTests&gt;\r\n    \t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t&lt;project.resources.sourceEncoding&gt;UTF-8&lt;/project.resources.sourceEncoding&gt;\r\n    \t&lt;mainClassName&gt;unipol.alm.integrations.FireStarter&lt;/mainClassName&gt;\r\n    \t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;logback.version&gt;1.2.3&lt;/logback.version&gt;\r\n    \t&lt;lombok.version&gt;1.18.20&lt;/lombok.version&gt;\r\n    \t&lt;json.version&gt;20210307&lt;/json.version&gt;\r\n    \t&lt;apache.http.components.version&gt;4.5.9&lt;/apache.http.components.version&gt;\r\n    \t&lt;derby.version&gt;10.14.2.0&lt;/derby.version&gt;\r\n    \t&lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n    \t&lt;cucumber.version&gt;1.2.5&lt;/cucumber.version&gt;\r\n    \t&lt;octane.cucumber.version&gt;12.60.48&lt;/octane.cucumber.version&gt;\r\n    \t&lt;commons.version&gt;2.5&lt;/commons.version&gt;\r\n    \t&lt;json.simple.version&gt;1.1.1&lt;/json.simple.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n    \t&lt;!-- Logging dependencies --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${logback.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.7&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${json.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${json.simple.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.8.8&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.19.4&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.19.4&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;30.1.1-jre&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jettison&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.14.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.15&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${apache.http.components.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${apache.http.components.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${derby.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;derbyclient&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${derby.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.xml.rpc&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;javax.xml.rpc-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.hpe.alm.octane&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;octane-cucumber-jvm&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${octane.cucumber.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${commons.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.axis&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;axis&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-discovery&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-discovery&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.4&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;wsdl4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.6.3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;net.lingala.zip4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;zip4j&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.hierynomus&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;smbj&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.10.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-vfs&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-vfs&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;jcifs&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jcifs&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3.17&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.jws&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jsr181-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.0-MR1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;rt&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.10&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.org.apache.xml.internal&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;resolver&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;20050927&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.stream.buffer&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;streambuffer&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.6&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;policy&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t&lt;exclusions&gt;\r\n    \t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;/exclusion&gt;\r\n    \t\t&lt;/exclusions&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nwhere from `javax.xml.ws` are all the dependencies added to make JAX-WS working on JDK 11 (added following the consecutive exceptions the code was giving through NoClassDefFoundError).\r\n\r\nMoreover, I generated the Java classes from the WSDL exposed by the defect management system with the following in my POM (just the first time):\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;\r\n    \t\t\t\t\twsimport\r\n    \t\t\t\t&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;wsdlDirectory&gt;${project.basedir}/src/main/resources/&lt;/wsdlDirectory&gt;\r\n    \t\t&lt;wsdlUrls&gt;\r\n    \t\t\t&lt;wsdlUrl&gt;http://defect.management.system/ServiceDefinition?wsdl&lt;/wsdlUrl&gt;\r\n    \t\t&lt;/wsdlUrls&gt;\r\n    \t\t&lt;packageName&gt;com.ca.unicenterserviceplus.servicedesk&lt;/packageName&gt;\r\n    \t\t&lt;sourceDestDir&gt;${project.build.directory}/generated-sources/&lt;/sourceDestDir&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAnd then copied and pasted the generated files in the `com.ca.unicenterserviceplus.servicedesk` where they are expected to be found by the application.\r\n\r\nMy question after all this: is there a way to make things work as they were with JDK 8?\r\n\r\n\r\n\r\n","title":"Correctly migrating from JDK-8 to JDK-11 for JAX-WS libraries","body":"<p>I am developing a couple of integrations (as Maven projects) between several defect management systems, one of which exposes services through WSDL, forcing me to consume them through WS.\nFor the latter I succesfully developed the code for JDK-8 and everything works.</p>\n<p>I am now in the middle of JDK migration from 8 to 11 and need to update the integration that makes use of WS. I understood that in Java 11 some EE libraries (including JAX-WS) were removed.\nI then surfed the Web in order to get rid of this problem, but after a couple of days of tests and cut-and-paste of depenendencies I still have the same problem: cannot instantiate the WS to interact to the final server (that is a CA SDM 14.1).</p>\n<p>Currently I have the following error:</p>\n<pre><code>java.lang.NoSuchMethodException: com.sun.xml.bind.v2.model.nav.ReflectionNavigator.getInstance()\n</code></pre>\n<p>And my POM file looks like this:</p>\n<pre><code>&lt;properties&gt;\n    &lt;target.dir&gt;target&lt;/target.dir&gt;\n    &lt;app.version&gt;4.0.0&lt;/app.version&gt;\n    &lt;skipTests&gt;true&lt;/skipTests&gt;\n    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;project.resources.sourceEncoding&gt;UTF-8&lt;/project.resources.sourceEncoding&gt;\n    &lt;mainClassName&gt;unipol.alm.integrations.FireStarter&lt;/mainClassName&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;logback.version&gt;1.2.3&lt;/logback.version&gt;\n    &lt;lombok.version&gt;1.18.20&lt;/lombok.version&gt;\n    &lt;json.version&gt;20210307&lt;/json.version&gt;\n    &lt;apache.http.components.version&gt;4.5.9&lt;/apache.http.components.version&gt;\n    &lt;derby.version&gt;10.14.2.0&lt;/derby.version&gt;\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n    &lt;cucumber.version&gt;1.2.5&lt;/cucumber.version&gt;\n    &lt;octane.cucumber.version&gt;12.60.48&lt;/octane.cucumber.version&gt;\n    &lt;commons.version&gt;2.5&lt;/commons.version&gt;\n    &lt;json.simple.version&gt;1.1.1&lt;/json.simple.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;!-- Logging dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;${logback.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mail&lt;/artifactId&gt;\n        &lt;version&gt;1.4.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;${json.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;${json.simple.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.8.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\n        &lt;version&gt;1.19.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n        &lt;version&gt;1.19.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;30.1.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\n        &lt;artifactId&gt;jettison&lt;/artifactId&gt;\n        &lt;version&gt;1.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n        &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n        &lt;version&gt;1.14.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;1.15&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;${apache.http.components.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n        &lt;version&gt;${apache.http.components.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n        &lt;artifactId&gt;derby&lt;/artifactId&gt;\n        &lt;version&gt;${derby.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n        &lt;artifactId&gt;derbyclient&lt;/artifactId&gt;\n        &lt;version&gt;${derby.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.rpc&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.xml.rpc-api&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.hpe.alm.octane&lt;/groupId&gt;\n        &lt;artifactId&gt;octane-cucumber-jvm&lt;/artifactId&gt;\n        &lt;version&gt;${octane.cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;${commons.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis&lt;/groupId&gt;\n        &lt;artifactId&gt;axis&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-discovery&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-discovery&lt;/artifactId&gt;\n        &lt;version&gt;0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;wsdl4j&lt;/groupId&gt;\n        &lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\n        &lt;version&gt;1.6.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.lingala.zip4j&lt;/groupId&gt;\n        &lt;artifactId&gt;zip4j&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.hierynomus&lt;/groupId&gt;\n        &lt;artifactId&gt;smbj&lt;/artifactId&gt;\n        &lt;version&gt;0.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-vfs&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-vfs&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jcifs&lt;/groupId&gt;\n        &lt;artifactId&gt;jcifs&lt;/artifactId&gt;\n        &lt;version&gt;1.3.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.jws&lt;/groupId&gt;\n        &lt;artifactId&gt;jsr181-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0-MR1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;rt&lt;/artifactId&gt;\n        &lt;version&gt;2.2.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.org.apache.xml.internal&lt;/groupId&gt;\n        &lt;artifactId&gt;resolver&lt;/artifactId&gt;\n        &lt;version&gt;20050927&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.stream.buffer&lt;/groupId&gt;\n        &lt;artifactId&gt;streambuffer&lt;/artifactId&gt;\n        &lt;version&gt;1.5.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;policy&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>where from <code>javax.xml.ws</code> are all the dependencies added to make JAX-WS working on JDK 11 (added following the consecutive exceptions the code was giving through NoClassDefFoundError).</p>\n<p>Moreover, I generated the Java classes from the WSDL exposed by the defect management system with the following in my POM (just the first time):</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;\n                    wsimport\n                &lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;wsdlDirectory&gt;${project.basedir}/src/main/resources/&lt;/wsdlDirectory&gt;\n        &lt;wsdlUrls&gt;\n            &lt;wsdlUrl&gt;http://defect.management.system/ServiceDefinition?wsdl&lt;/wsdlUrl&gt;\n        &lt;/wsdlUrls&gt;\n        &lt;packageName&gt;com.ca.unicenterserviceplus.servicedesk&lt;/packageName&gt;\n        &lt;sourceDestDir&gt;${project.build.directory}/generated-sources/&lt;/sourceDestDir&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And then copied and pasted the generated files in the <code>com.ca.unicenterserviceplus.servicedesk</code> where they are expected to be found by the application.</p>\n<p>My question after all this: is there a way to make things work as they were with JDK 8?</p>\n"},{"tags":["java","android","save","android-sharedpreferences"],"comments":[{"owner":{"account_id":1487413,"reputation":1417,"user_id":1395342,"accept_rate":80,"display_name":"jaisonDavis"},"score":0,"creation_date":1342238115,"post_id":11480871,"comment_id":15161290,"body_markdown":"Do you call this method from the onPause or onDestroy?","body":"Do you call this method from the onPause or onDestroy?"},{"owner":{"account_id":375811,"reputation":67210,"user_id":726863,"accept_rate":81,"display_name":"Lalit Poptani"},"score":1,"creation_date":1342241528,"post_id":11480871,"comment_id":15161671,"body_markdown":"Are you using `getDefaultSharedPreferences()`any where in your application?","body":"Are you using <code>getDefaultSharedPreferences()</code>any where in your application?"},{"owner":{"account_id":1213802,"reputation":6808,"user_id":1181806,"accept_rate":87,"display_name":"Gatekeeper"},"score":0,"creation_date":1342242225,"post_id":11480871,"comment_id":15161738,"body_markdown":"@jaisonDavis - I am calling this from onPause() in all of my methods, but I do have a call in one onDestroy() since onPause doesnt get called on some activity closes.","body":"@jaisonDavis - I am calling this from onPause() in all of my methods, but I do have a call in one onDestroy() since onPause doesnt get called on some activity closes."},{"owner":{"account_id":1213802,"reputation":6808,"user_id":1181806,"accept_rate":87,"display_name":"Gatekeeper"},"score":0,"creation_date":1342242234,"post_id":11480871,"comment_id":15161740,"body_markdown":"@Lalit - No I am only using getSharedPreferences(), how can getDefaultSharedPreferences help? I have read that some devices don&#39;t work properly with getDefaultSharedPreferences()","body":"@Lalit - No I am only using getSharedPreferences(), how can getDefaultSharedPreferences help? I have read that some devices don&#39;t work properly with getDefaultSharedPreferences()"},{"owner":{"account_id":1187534,"reputation":534,"user_id":1161198,"display_name":"Carlos Barcellos"},"score":1,"creation_date":1342244048,"post_id":11480871,"comment_id":15161936,"body_markdown":"It seems to me the problem is with the Stats.level, have you tried sending the level as an argument?","body":"It seems to me the problem is with the Stats.level, have you tried sending the level as an argument?"},{"owner":{"account_id":1213802,"reputation":6808,"user_id":1181806,"accept_rate":87,"display_name":"Gatekeeper"},"score":1,"creation_date":1342244651,"post_id":11480871,"comment_id":15161988,"body_markdown":"what would be the benefits of sending an integer variable as an argument, instead of a direct call to the static variable?","body":"what would be the benefits of sending an integer variable as an argument, instead of a direct call to the static variable?"},{"owner":{"account_id":1187534,"reputation":534,"user_id":1161198,"display_name":"Carlos Barcellos"},"score":0,"creation_date":1342244992,"post_id":11480871,"comment_id":15162019,"body_markdown":"Is this the level that is getting changed when you get your application killed?","body":"Is this the level that is getting changed when you get your application killed?"},{"owner":{"account_id":1213802,"reputation":6808,"user_id":1181806,"accept_rate":87,"display_name":"Gatekeeper"},"score":0,"creation_date":1342245269,"post_id":11480871,"comment_id":15162056,"body_markdown":"Yes, there are multiple variables, all are like level though, they all get saved, normally that is when the application is closed properly. For some reason when I hit the home key and force close the app through a task killer, all of the data gets reset, but the application resumes back on the activity i hit home key on, like I never killed the app at all.","body":"Yes, there are multiple variables, all are like level though, they all get saved, normally that is when the application is closed properly. For some reason when I hit the home key and force close the app through a task killer, all of the data gets reset, but the application resumes back on the activity i hit home key on, like I never killed the app at all."},{"owner":{"account_id":234132,"reputation":3822,"user_id":500096,"accept_rate":51,"display_name":"Paul"},"score":0,"creation_date":1344604172,"post_id":11480871,"comment_id":15843350,"body_markdown":"did you find some fix for this issue related to samsung galaxy s ? thanks.","body":"did you find some fix for this issue related to samsung galaxy s ? thanks."},{"owner":{"account_id":32385,"reputation":31109,"user_id":89818,"accept_rate":96,"display_name":"caw"},"score":0,"creation_date":1423330105,"post_id":11480871,"comment_id":45107964,"body_markdown":"It turns out this can also be caused by invalid preference keys, such as keys containing newlines: http://stackoverflow.com/questions/28385132/sharedpreferences-in-android-not-persisted-to-disk-when-key-contains-newline","body":"It turns out this can also be caused by invalid preference keys, such as keys containing newlines: <a href=\"http://stackoverflow.com/questions/28385132/sharedpreferences-in-android-not-persisted-to-disk-when-key-contains-newline\" title=\"sharedpreferences in android not persisted to disk when key contains newline\">stackoverflow.com/questions/28385132/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1213802,"reputation":6808,"user_id":1181806,"accept_rate":87,"display_name":"Gatekeeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1390851600,"creation_date":1344874309,"answer_id":11938175,"question_id":11480871,"body_markdown":"Ok I was able to solve this by removing the &quot;protected static&quot; from my save method.\r\n\r\nInstead of calling a global save method, I simply placed the save method in each class that would need to save and then only call the save method in the onPause() and onDestroy() methods.\r\n\r\nI noticed that if I called save() too many times within a class that also seemed to erase my SharedPreferences when I closed the app.\r\n\r\n\r\n**TIP:**\r\n\r\n&gt; Do not use static methods for getting or setting shared preferences\r\n\r\n","title":"SharedPreferences being reset after force close","body":"<p>Ok I was able to solve this by removing the \"protected static\" from my save method.</p>\n\n<p>Instead of calling a global save method, I simply placed the save method in each class that would need to save and then only call the save method in the onPause() and onDestroy() methods.</p>\n\n<p>I noticed that if I called save() too many times within a class that also seemed to erase my SharedPreferences when I closed the app.</p>\n\n<p><strong>TIP:</strong></p>\n\n<blockquote>\n  <p>Do not use static methods for getting or setting shared preferences</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13769267,"reputation":1,"user_id":11114733,"display_name":"Junior Vega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633106112,"creation_date":1633106112,"answer_id":69409288,"question_id":11480871,"body_markdown":"In my case remove the tag android: allowBackup = &quot;true&quot; from my manifest and this solves my problem","title":"SharedPreferences being reset after force close","body":"<p>In my case remove the tag android: allowBackup = &quot;true&quot; from my manifest and this solves my problem</p>\n"}],"owner":{"account_id":1213802,"reputation":6808,"user_id":1181806,"accept_rate":87,"display_name":"Gatekeeper"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3484,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":11938175,"answer_count":2,"score":3,"last_activity_date":1633106112,"creation_date":1342237867,"question_id":11480871,"body_markdown":"I have been able to successfully implement Shared Preferences into my application but I have ran into a problem with the data being reset/deleted if I kill the application through a task manager.\r\n\r\nI am using a static method for saving, that way I only need the method once and can call it everywhere within my app.\r\n\r\n\r\n\r\n\tprotected static synchronized void save(Context cntx){\r\n\t\tSharedPreferences preferences2 = cntx.getSharedPreferences(&quot;BluRealms&quot;, 0);\r\n\t\tSharedPreferences.Editor editor = preferences2.edit();\r\n\t\teditor.putBoolean(&quot;level&quot;, Stats.level);\r\n\t\teditor.commit();\r\n    }\r\n\r\nAs soon as I kill my app all of my data gets set back to the default settings in my SharedPreferences save method.\r\n\r\nI also did some searching and found a few posts that say adding android:persistent=&quot;true&quot; into the &lt;application&gt; of the manifest file would fix the problem, yet the data is still reset even with this.\r\n\r\n---\r\n&lt;b&gt;Edit:&lt;/b&gt; Well I think I found a bit of information on my problem. This Issue highlights a problem with Samsung Galaxy S phones not saving SharedPreferences properly, which is the device I am testing on. http://code.google.com/p/android/issues/detail?id=14359 - especially &lt;b&gt;comment 6&lt;/b&gt;\r\n\r\nAny more information on this would be great!","title":"SharedPreferences being reset after force close","body":"<p>I have been able to successfully implement Shared Preferences into my application but I have ran into a problem with the data being reset/deleted if I kill the application through a task manager.</p>\n\n<p>I am using a static method for saving, that way I only need the method once and can call it everywhere within my app.</p>\n\n<pre><code>protected static synchronized void save(Context cntx){\n    SharedPreferences preferences2 = cntx.getSharedPreferences(\"BluRealms\", 0);\n    SharedPreferences.Editor editor = preferences2.edit();\n    editor.putBoolean(\"level\", Stats.level);\n    editor.commit();\n}\n</code></pre>\n\n<p>As soon as I kill my app all of my data gets set back to the default settings in my SharedPreferences save method.</p>\n\n<p>I also did some searching and found a few posts that say adding android:persistent=\"true\" into the  of the manifest file would fix the problem, yet the data is still reset even with this.</p>\n\n<hr>\n\n<p><b>Edit:</b> Well I think I found a bit of information on my problem. This Issue highlights a problem with Samsung Galaxy S phones not saving SharedPreferences properly, which is the device I am testing on. <a href=\"http://code.google.com/p/android/issues/detail?id=14359\" rel=\"nofollow\">http://code.google.com/p/android/issues/detail?id=14359</a> - especially <b>comment 6</b></p>\n\n<p>Any more information on this would be great!</p>\n"},{"tags":["javascript","java","spring-boot","vue.js","cors"],"comments":[{"owner":{"account_id":13858027,"reputation":611,"user_id":10518213,"display_name":"D.Schaller"},"score":0,"creation_date":1632905077,"post_id":69373065,"comment_id":122616359,"body_markdown":"instead of commenting it out, you should try to edit the config to allow your request origin. CORS on default blocks pretty much everything.","body":"instead of commenting it out, you should try to edit the config to allow your request origin. CORS on default blocks pretty much everything."},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1632905779,"post_id":69373065,"comment_id":122616680,"body_markdown":"I tried to add my origin (localhost:9000) in my controller with @CrossOrigin and in the config file adding my origin to be allowed I tried even wildcard * and still no luck. I tried to change the securityconfiguration to allow my origin but still nothing helped","body":"I tried to add my origin (localhost:9000) in my controller with @CrossOrigin and in the config file adding my origin to be allowed I tried even wildcard * and still no luck. I tried to change the securityconfiguration to allow my origin but still nothing helped"},{"owner":{"account_id":13858027,"reputation":611,"user_id":10518213,"display_name":"D.Schaller"},"score":0,"creation_date":1632905902,"post_id":69373065,"comment_id":122616728,"body_markdown":"did you restart your server after changes? Had that myself, wondering why nothing happens. CORS changes are mostly not updated on hot reload","body":"did you restart your server after changes? Had that myself, wondering why nothing happens. CORS changes are mostly not updated on hot reload"},{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1633106604,"post_id":69373065,"comment_id":122680806,"body_markdown":"if you are using spring boot, you can just use `@CrossOrigin` annotation on your controller","body":"if you are using spring boot, you can just use <code>@CrossOrigin</code> annotation on your controller"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1633108155,"post_id":69373065,"comment_id":122681354,"body_markdown":"I did it but szill no luck That was my first try to fix this error","body":"I did it but szill no luck That was my first try to fix this error"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1633329917,"post_id":69373065,"comment_id":122720767,"body_markdown":"So is there no one who can help? I am still stuck with this nothing I try helps","body":"So is there no one who can help? I am still stuck with this nothing I try helps"},{"owner":{"account_id":2469136,"reputation":641,"user_id":2151471,"display_name":"atomfrede"},"score":0,"creation_date":1633674527,"post_id":69373065,"comment_id":122827271,"body_markdown":"Did you generate the api endpoint you would like to access via jhipster? So is that an entity created with jhispter?","body":"Did you generate the api endpoint you would like to access via jhipster? So is that an entity created with jhispter?"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1633699012,"post_id":69373065,"comment_id":122836183,"body_markdown":"No I did it manually.","body":"No I did it manually."},{"owner":{"account_id":552675,"reputation":113,"user_id":917871,"display_name":"vandervagos"},"score":0,"creation_date":1634795647,"post_id":69373065,"comment_id":123122635,"body_markdown":"I found that the autogenerated code (JHipster 7.0.1) may not be correct. In the WebConfigurer there is a method that creates a CorsFilter but it should create a CorsConfigurationSource  instead.\nAlso in the SecurityConfiguration you have to enable cors(withDefaults()).\n\nhttps://docs.spring.io/spring-security/site/docs/5.4.5/reference/html5/#cors\n\nI hope this will work for you as well.","body":"I found that the autogenerated code (JHipster 7.0.1) may not be correct. In the WebConfigurer there is a method that creates a CorsFilter but it should create a CorsConfigurationSource  instead. Also in the SecurityConfiguration you have to enable cors(withDefaults()).  <a href=\"https://docs.spring.io/spring-security/site/docs/5.4.5/reference/html5/#cors\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/5.4.5/reference/htm&zwnj;&#8203;l5/&hellip;</a>  I hope this will work for you as well."}],"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633105467,"creation_date":1632904642,"question_id":69373065,"body_markdown":"I am updating my old question.\r\n\r\nI have a jhipster application with spring boot and vue. When I am trying to make a request from my vue frontend project I am getting the following error:\r\n\r\n    Access to XMLHttpRequest at &#39;http://localhost:8080/api/downloader/&#39; from origin &#39;http://localhost:9000&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\nI tried setting my origin from the application.dev.yml like this:\r\n\r\n     cors:\r\n        # Allow Ionic for JHipster by default (* no longer allowed in Spring Boot 2.4+)\r\n        allowed-origins: &#39;http://localhost:9000&#39;\r\n        allowed-methods: &#39;*&#39;\r\n        allowed-headers: &#39;*&#39;\r\n        exposed-headers: &#39;Authorization,Link,X-Total-Count,X-${jhipster.clientApp.name}-alert,X-${jhipster.clientApp.name}-error,X-${jhipster.clientApp.name}-params&#39;\r\n        allow-credentials: true\r\n        max-age: 1800\r\n\r\nI only changed the alowed-origins part. But I am still getting this error. Then I tried the following inside the SecurityConfigurationClass:\r\n\r\n        .antMatchers(&quot;/api/downloader&quot;).permitAll()\r\n\r\nI thought this maybe would allow the requests but it did not help. Can someone maybe help me out? How should I fix this error? Even if I start it with production profile where cors is disabled it still gives me the same error. Is it something I have to fix from the frontend side? Because login or something else works.\r\n\r\n","title":"How to turn off cors for development in jhipster/Vue","body":"<p>I am updating my old question.</p>\n<p>I have a jhipster application with spring boot and vue. When I am trying to make a request from my vue frontend project I am getting the following error:</p>\n<pre><code>Access to XMLHttpRequest at 'http://localhost:8080/api/downloader/' from origin 'http://localhost:9000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n<p>I tried setting my origin from the application.dev.yml like this:</p>\n<pre><code> cors:\n    # Allow Ionic for JHipster by default (* no longer allowed in Spring Boot 2.4+)\n    allowed-origins: 'http://localhost:9000'\n    allowed-methods: '*'\n    allowed-headers: '*'\n    exposed-headers: 'Authorization,Link,X-Total-Count,X-${jhipster.clientApp.name}-alert,X-${jhipster.clientApp.name}-error,X-${jhipster.clientApp.name}-params'\n    allow-credentials: true\n    max-age: 1800\n</code></pre>\n<p>I only changed the alowed-origins part. But I am still getting this error. Then I tried the following inside the SecurityConfigurationClass:</p>\n<pre><code>    .antMatchers(&quot;/api/downloader&quot;).permitAll()\n</code></pre>\n<p>I thought this maybe would allow the requests but it did not help. Can someone maybe help me out? How should I fix this error? Even if I start it with production profile where cors is disabled it still gives me the same error. Is it something I have to fix from the frontend side? Because login or something else works.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jackson"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1633101411,"post_id":69408061,"comment_id":122678851,"body_markdown":"Wild guess you have `@EnableWebMvc` on one of your configuration classes, which disables the auto configuration of MVC, Jackson from Spring Boot.","body":"Wild guess you have <code>@EnableWebMvc</code> on one of your configuration classes, which disables the auto configuration of MVC, Jackson from Spring Boot."},{"owner":{"account_id":12727096,"reputation":145,"user_id":9245229,"display_name":"Virt"},"score":0,"creation_date":1633102653,"post_id":69408061,"comment_id":122679336,"body_markdown":"After checking again, that was actually the case. Thank you, feel free to write an answer so I can accept it.","body":"After checking again, that was actually the case. Thank you, feel free to write an answer so I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633105338,"creation_date":1633105338,"answer_id":69409117,"question_id":69408061,"body_markdown":"The fact that all of the options that should work with Spring Boot don&#39;t work lead to the conclusion that you must have (accidentally or deliberately) disabled the auto configuration of MVC and/or Jackson. \r\n\r\nWhen you add a configuration class with `@EnableWebMvc` most of the web related auto configuration will backoff and use the defaults provided by Spring and what you provided. This will also make it so that those features will not work. \r\n\r\nRemoving that annotation and specifying the property in the `application.properties` should be enough to make it work. ","title":"Spring with Jackson set JsonAutoDetect globally","body":"<p>The fact that all of the options that should work with Spring Boot don't work lead to the conclusion that you must have (accidentally or deliberately) disabled the auto configuration of MVC and/or Jackson.</p>\n<p>When you add a configuration class with <code>@EnableWebMvc</code> most of the web related auto configuration will backoff and use the defaults provided by Spring and what you provided. This will also make it so that those features will not work.</p>\n<p>Removing that annotation and specifying the property in the <code>application.properties</code> should be enough to make it work.</p>\n"}],"owner":{"account_id":12727096,"reputation":145,"user_id":9245229,"display_name":"Virt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69409117,"answer_count":1,"score":0,"last_activity_date":1633105338,"creation_date":1633100370,"question_id":69408061,"body_markdown":"In my spring boot web application, I want to serialize many different classes to JSON when I return them from the function of a request mapping. These classes only contain private fields without getters. In order for Jackson to serialize these private fields I can annotate all those classes with the following annotation, which works perfectly fine as expected.\r\n\r\n```java\r\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\r\n```\r\n\r\nBut because want to serialize many different classes in that manner, I would like to declare that globally in my spring boot application. I have tried the following approaches to achieve this:\r\n\r\nSet the field visibility in the used ```application.properties``` to any.\r\n```java\r\nspring.jackson.visibility.field=ANY\r\n```\r\n\r\nCustomize the ```ObjectMapper``` using ```@Bean``` in the main class.\r\n```java\r\n@Bean\r\npublic ObjectMapper objectMapper() {\r\n    return new ObjectMapper().setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n}\r\n```\r\n\r\nCustomize the ```Jackson2ObjectMapperBuilder``` using ```@Bean``` in the main class.\r\n```java\r\n@Bean\r\npublic Jackson2ObjectMapperBuilder jackson2ObjectMapperBuilder() {\r\n    return new Jackson2ObjectMapperBuilder().visibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n}\r\n```\r\n\r\nConfigure the ```Jackson2ObjectMapperBuilder``` using a configuration class.\r\n```java\r\n@Configuration\r\npublic class ObjectMapperConfig implements Jackson2ObjectMapperBuilderCustomizer {\r\n\r\n    @Override\r\n    public void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\r\n        jacksonObjectMapperBuilder.visibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n    }\r\n}\r\n```\r\n\r\nBut none of those approaches worked for me. It works perfectly fine if I use the ```@JsonAutoDetect``` annotation on every class I would like to serialize, but if I try to use one of those global implementations, I always get the following error:\r\n\r\n```\r\nWARN 5191 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class my.class.i.would.like.to.Serialize]\r\n```\r\n\r\nI have no Idea what could cause this behaviour, or whether I had missed something crucial elsewhere, but all global approaches I found did not work. Nonetheless, I would still like to not annotate all individual classes or not to have to define thousands of getters in them.","title":"Spring with Jackson set JsonAutoDetect globally","body":"<p>In my spring boot web application, I want to serialize many different classes to JSON when I return them from the function of a request mapping. These classes only contain private fields without getters. In order for Jackson to serialize these private fields I can annotate all those classes with the following annotation, which works perfectly fine as expected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\n</code></pre>\n<p>But because want to serialize many different classes in that manner, I would like to declare that globally in my spring boot application. I have tried the following approaches to achieve this:</p>\n<p>Set the field visibility in the used <code>application.properties</code> to any.</p>\n<pre class=\"lang-java prettyprint-override\"><code>spring.jackson.visibility.field=ANY\n</code></pre>\n<p>Customize the <code>ObjectMapper</code> using <code>@Bean</code> in the main class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ObjectMapper objectMapper() {\n    return new ObjectMapper().setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n}\n</code></pre>\n<p>Customize the <code>Jackson2ObjectMapperBuilder</code> using <code>@Bean</code> in the main class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Jackson2ObjectMapperBuilder jackson2ObjectMapperBuilder() {\n    return new Jackson2ObjectMapperBuilder().visibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n}\n</code></pre>\n<p>Configure the <code>Jackson2ObjectMapperBuilder</code> using a configuration class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ObjectMapperConfig implements Jackson2ObjectMapperBuilderCustomizer {\n\n    @Override\n    public void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\n        jacksonObjectMapperBuilder.visibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n    }\n}\n</code></pre>\n<p>But none of those approaches worked for me. It works perfectly fine if I use the <code>@JsonAutoDetect</code> annotation on every class I would like to serialize, but if I try to use one of those global implementations, I always get the following error:</p>\n<pre><code>WARN 5191 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class my.class.i.would.like.to.Serialize]\n</code></pre>\n<p>I have no Idea what could cause this behaviour, or whether I had missed something crucial elsewhere, but all global approaches I found did not work. Nonetheless, I would still like to not annotate all individual classes or not to have to define thousands of getters in them.</p>\n"},{"tags":["java","spring-boot","google-secret-manager","gcp-secret-manager"],"owner":{"account_id":15703515,"reputation":73,"user_id":11330957,"display_name":"Stranger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633105255,"creation_date":1633105255,"question_id":69409092,"body_markdown":"Is there a way to pass different credentials to SecretManagerTemplate (from spring-cloud-gcp-starter-secretmanager)?.\r\n\r\nI&#39;ve been searching ways of configuring different credentials for SecretManagerTemplate, but i&#39;ve found nothing so far.\r\n\r\nThis is the dependency i&#39;m using:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd this is the example from Spring that i&#39;ve been using:\r\nhttps://github.com/spring-cloud/spring-cloud-gcp/blob/main/spring-cloud-gcp-samples/spring-cloud-gcp-secretmanager-sample/src/main/java/com/example/SecretManagerWebController.java","title":"Can we pass different credentials for SecretManagerTemplate in Spring Boot?","body":"<p>Is there a way to pass different credentials to SecretManagerTemplate (from spring-cloud-gcp-starter-secretmanager)?.</p>\n<p>I've been searching ways of configuring different credentials for SecretManagerTemplate, but i've found nothing so far.</p>\n<p>This is the dependency i'm using:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\n    &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And this is the example from Spring that i've been using:\n<a href=\"https://github.com/spring-cloud/spring-cloud-gcp/blob/main/spring-cloud-gcp-samples/spring-cloud-gcp-secretmanager-sample/src/main/java/com/example/SecretManagerWebController.java\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-gcp/blob/main/spring-cloud-gcp-samples/spring-cloud-gcp-secretmanager-sample/src/main/java/com/example/SecretManagerWebController.java</a></p>\n"},{"tags":["java","spring-boot","wiremock","stubbing","jsonexception"],"comments":[{"owner":{"account_id":991044,"reputation":3556,"user_id":1008361,"display_name":"Tom"},"score":0,"creation_date":1621182839,"post_id":67553398,"comment_id":119412553,"body_markdown":"This is very strange behaviour. There&#39;s no reason it shouldn&#39;t be possible to run WireMock alongside your production Spring app - I&#39;ve seen it done quite a few times before. One hypotheses is that another dependency is changing the Jackson configuration somehow at the global scope. If this is the case, switching to the standalone JAR might stop it happening (since Jackson is shaded in that one).","body":"This is very strange behaviour. There&#39;s no reason it shouldn&#39;t be possible to run WireMock alongside your production Spring app - I&#39;ve seen it done quite a few times before. One hypotheses is that another dependency is changing the Jackson configuration somehow at the global scope. If this is the case, switching to the standalone JAR might stop it happening (since Jackson is shaded in that one)."}],"answers":[{"tags":[],"owner":{"account_id":3921325,"reputation":46,"user_id":3243360,"display_name":"akshay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633104815,"creation_date":1633104815,"answer_id":69409006,"question_id":67553398,"body_markdown":"Right after `server.start()` you need:\r\n\r\n```\r\nconfigureFor(&quot;localhost&quot;, server.port());\r\n```\r\n","title":"Wiremock stubbing error: &quot;Unrecognized field \\&quot;timestamp\\&quot; (class com.github.tomakehurst.wiremock.common.Errors), not marked as ignorable&quot;","body":"<p>Right after <code>server.start()</code> you need:</p>\n<pre><code>configureFor(&quot;localhost&quot;, server.port());\n</code></pre>\n"}],"owner":{"account_id":20506388,"reputation":371,"user_id":15049074,"display_name":"David Galvis Sandoval"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4581,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69409006,"answer_count":1,"score":2,"last_activity_date":1633104815,"creation_date":1621142107,"question_id":67553398,"body_markdown":"here I come because I have not found any solution to my problem. I&#39;m actually trying to stub a response with wiremock (that call to the Mocked service is be done via FeignClient). My intention is to get a fake response with the real feign client, not in a test, but in the real application. Therefore, In this case, I&#39;m not stubbing the WireMockServer in a test, but in the spring boot application class, however when stubbing there the response I&#39;m having a super weird error that I have investigated a lot so far without success.\r\n\r\nHere is the code I&#39;m using so far:\r\n\r\n```\r\n@EnableFeignClients\r\n@SpringBootApplication\r\npublic class CrmApplication\r\n      implements CommandLineRunner\r\n{\r\n    private final ConfigurableApplicationContext context;private final ConfigurableApplicationContext context;\r\n\r\n    @Autowired\r\n    public CrmApplication( ConfigurableApplicationContext context )\r\n    {\r\n        this.context = context;\r\n    }\r\n\r\n    public static void main( String[] args )\r\n    {\r\n        log.info( &quot;Starting the CRM Validator&quot; );\r\n        SpringApplication.run( CrmApplication.class, args );\r\n        log.info( &quot;Finishing the CRM Validator&quot; );\r\n    }\r\n\r\n    @Override\r\n    public void run( String... args )\r\n    {\r\n        final WireMockServer server = new WireMockServer( options().port( 8000 ) );\r\n        server.start();\r\n        log.info( &quot;Wiremock has started in the following url: {}&quot;, &quot;http://localhost:8000\\n\\n&quot; );\r\n\r\n        String resultJson = &quot;{\\&quot;id\\&quot;:1,\\&quot;hasJudicialRecords\\&quot;:false}&quot;;\r\n\r\n        MappingBuilder mappingBuilder = get( urlPathEqualTo( &quot;/api/v1/judicial-registry/1&quot;) )\r\n              .willReturn( aResponse().withStatus( 200 )\r\n                                      .withHeader( &quot;Content-Type&quot;, &quot;application/json&quot; )\r\n                                      .withBody( resultJson ) )\r\n        stubFor( mappingBuilder );\r\n\r\n    }\r\n}\r\n```\r\n\r\nThis is actually failing in the ```stubFor( mappingBuilder );``` line, and this is the exception I got: \r\n\r\n```\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:822) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:803) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:346) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1340) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1329) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat com.crm.demo.CrmApplication.main(CrmApplication.java:31) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.4.5.jar:2.4.5]\r\nCaused by: com.github.tomakehurst.wiremock.common.JsonException: {\r\n  &quot;errors&quot; : [ {\r\n    &quot;code&quot; : 10,\r\n    &quot;source&quot; : {\r\n      &quot;pointer&quot; : &quot;/timestamp&quot;\r\n    },\r\n    &quot;title&quot; : &quot;Error parsing JSON&quot;,\r\n    &quot;detail&quot; : &quot;Unrecognized field \\&quot;timestamp\\&quot; (class com.github.tomakehurst.wiremock.common.Errors), not marked as ignorable&quot;\r\n  } ]\r\n}\r\n\tat com.github.tomakehurst.wiremock.common.JsonException.fromJackson(JsonException.java:53) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.github.tomakehurst.wiremock.common.Json.read(Json.java:55) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.github.tomakehurst.wiremock.client.HttpAdminClient.safelyExecuteRequest(HttpAdminClient.java:486) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.github.tomakehurst.wiremock.client.HttpAdminClient.executeRequest(HttpAdminClient.java:454) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.github.tomakehurst.wiremock.client.HttpAdminClient.addStubMapping(HttpAdminClient.java:131) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.github.tomakehurst.wiremock.client.WireMock.register(WireMock.java:298) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.github.tomakehurst.wiremock.client.WireMock.register(WireMock.java:293) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.github.tomakehurst.wiremock.client.WireMock.givenThat(WireMock.java:104) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.github.tomakehurst.wiremock.client.WireMock.stubFor(WireMock.java:108) ~[wiremock-jre8-2.28.0.jar:na]\r\n\tat com.crm.demo.CrmApplication.run(CrmApplication.java:31) ~[main/:na]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:819) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\t... 10 common frames omitted\r\n\r\n```\r\nSo one question would be, does wiremock only work in testing?\r\n\r\nI have tried changing the JSON, and its fields but that does not seem to work, so if any of you know whow to solve that issue would be helpful, or if you also know how to stub an api request  that is called by @FeignClient (not in a test but in the real spring application run) as an alternative maybe could work too. \r\n\r\nThank you!.","title":"Wiremock stubbing error: &quot;Unrecognized field \\&quot;timestamp\\&quot; (class com.github.tomakehurst.wiremock.common.Errors), not marked as ignorable&quot;","body":"<p>here I come because I have not found any solution to my problem. I'm actually trying to stub a response with wiremock (that call to the Mocked service is be done via FeignClient). My intention is to get a fake response with the real feign client, not in a test, but in the real application. Therefore, In this case, I'm not stubbing the WireMockServer in a test, but in the spring boot application class, however when stubbing there the response I'm having a super weird error that I have investigated a lot so far without success.</p>\n<p>Here is the code I'm using so far:</p>\n<pre><code>@EnableFeignClients\n@SpringBootApplication\npublic class CrmApplication\n      implements CommandLineRunner\n{\n    private final ConfigurableApplicationContext context;private final ConfigurableApplicationContext context;\n\n    @Autowired\n    public CrmApplication( ConfigurableApplicationContext context )\n    {\n        this.context = context;\n    }\n\n    public static void main( String[] args )\n    {\n        log.info( &quot;Starting the CRM Validator&quot; );\n        SpringApplication.run( CrmApplication.class, args );\n        log.info( &quot;Finishing the CRM Validator&quot; );\n    }\n\n    @Override\n    public void run( String... args )\n    {\n        final WireMockServer server = new WireMockServer( options().port( 8000 ) );\n        server.start();\n        log.info( &quot;Wiremock has started in the following url: {}&quot;, &quot;http://localhost:8000\\n\\n&quot; );\n\n        String resultJson = &quot;{\\&quot;id\\&quot;:1,\\&quot;hasJudicialRecords\\&quot;:false}&quot;;\n\n        MappingBuilder mappingBuilder = get( urlPathEqualTo( &quot;/api/v1/judicial-registry/1&quot;) )\n              .willReturn( aResponse().withStatus( 200 )\n                                      .withHeader( &quot;Content-Type&quot;, &quot;application/json&quot; )\n                                      .withBody( resultJson ) )\n        stubFor( mappingBuilder );\n\n    }\n}\n</code></pre>\n<p>This is actually failing in the <code>stubFor( mappingBuilder );</code> line, and this is the exception I got:</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:822) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:803) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:346) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1340) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1329) ~[spring-boot-2.4.5.jar:2.4.5]\n    at com.crm.demo.CrmApplication.main(CrmApplication.java:31) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.4.5.jar:2.4.5]\nCaused by: com.github.tomakehurst.wiremock.common.JsonException: {\n  &quot;errors&quot; : [ {\n    &quot;code&quot; : 10,\n    &quot;source&quot; : {\n      &quot;pointer&quot; : &quot;/timestamp&quot;\n    },\n    &quot;title&quot; : &quot;Error parsing JSON&quot;,\n    &quot;detail&quot; : &quot;Unrecognized field \\&quot;timestamp\\&quot; (class com.github.tomakehurst.wiremock.common.Errors), not marked as ignorable&quot;\n  } ]\n}\n    at com.github.tomakehurst.wiremock.common.JsonException.fromJackson(JsonException.java:53) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.github.tomakehurst.wiremock.common.Json.read(Json.java:55) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.github.tomakehurst.wiremock.client.HttpAdminClient.safelyExecuteRequest(HttpAdminClient.java:486) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.github.tomakehurst.wiremock.client.HttpAdminClient.executeRequest(HttpAdminClient.java:454) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.github.tomakehurst.wiremock.client.HttpAdminClient.addStubMapping(HttpAdminClient.java:131) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.github.tomakehurst.wiremock.client.WireMock.register(WireMock.java:298) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.github.tomakehurst.wiremock.client.WireMock.register(WireMock.java:293) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.github.tomakehurst.wiremock.client.WireMock.givenThat(WireMock.java:104) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.github.tomakehurst.wiremock.client.WireMock.stubFor(WireMock.java:108) ~[wiremock-jre8-2.28.0.jar:na]\n    at com.crm.demo.CrmApplication.run(CrmApplication.java:31) ~[main/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:819) ~[spring-boot-2.4.5.jar:2.4.5]\n    ... 10 common frames omitted\n\n</code></pre>\n<p>So one question would be, does wiremock only work in testing?</p>\n<p>I have tried changing the JSON, and its fields but that does not seem to work, so if any of you know whow to solve that issue would be helpful, or if you also know how to stub an api request  that is called by @FeignClient (not in a test but in the real spring application run) as an alternative maybe could work too.</p>\n<p>Thank you!.</p>\n"},{"tags":["java","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":11024424,"reputation":81,"user_id":8097748,"display_name":"Maksim Petrusevich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517312417,"creation_date":1517312417,"answer_id":48520561,"question_id":48517104,"body_markdown":"With this code - no way, because you use annotations from org.jetbrains.annotations.*, that use only in intellij idea tests runner. For gradle, annotation @NotNull (or @Nullable) says nothing. Maven also doesn&#39;t see this annotation. I can advise you use Objects.requireNonNull(T obj) for null checking.","title":"Gradle build ignores Jetbrains annotations","body":"<p>With this code - no way, because you use annotations from org.jetbrains.annotations.*, that use only in intellij idea tests runner. For gradle, annotation @NotNull (or @Nullable) says nothing. Maven also doesn't see this annotation. I can advise you use Objects.requireNonNull(T obj) for null checking.</p>\n"},{"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1518084539,"creation_date":1518084539,"answer_id":48682792,"question_id":48517104,"body_markdown":"The easiest solution I have found is to apply [org.jetbrains.intellij][1] plugin.\r\nBecause among other things this plugin &quot;patches compile tasks to instrument code with nullability assertions&quot;.\r\n\r\n      apply plugin: &#39;org.jetbrains.intellij&#39;\r\n    \r\n      intellij {\r\n        instrumentCode = true\r\n        downloadSources = false\r\n      }\r\n\r\n\r\n  [1]: https://github.com/JetBrains/gradle-intellij-plugin","title":"Gradle build ignores Jetbrains annotations","body":"<p>The easiest solution I have found is to apply <a href=\"https://github.com/JetBrains/gradle-intellij-plugin\" rel=\"noreferrer\">org.jetbrains.intellij</a> plugin.\nBecause among other things this plugin \"patches compile tasks to instrument code with nullability assertions\".</p>\n\n<pre><code>  apply plugin: 'org.jetbrains.intellij'\n\n  intellij {\n    instrumentCode = true\n    downloadSources = false\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10159160,"reputation":71,"user_id":7503218,"display_name":"N. Aird"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1556809395,"creation_date":1556809395,"answer_id":55955260,"question_id":48517104,"body_markdown":"Try adding the following to your dependencies. It worked for me.\r\n\r\n    compile &#39;org.jetbrains:annotations:13.0&#39;","title":"Gradle build ignores Jetbrains annotations","body":"<p>Try adding the following to your dependencies. It worked for me.</p>\n\n<pre><code>compile 'org.jetbrains:annotations:13.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17202451,"reputation":11,"user_id":12513551,"display_name":"Jordi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1597131526,"creation_date":1597131526,"answer_id":63353608,"question_id":48517104,"body_markdown":"Adding the following dependency worked for me:\r\n\r\n    compile group: &#39;org.jetbrains&#39;, name: &#39;annotations&#39;, version: &#39;15.0&#39;\r\n\r\nRun the &#39;dependencies&#39; task &amp; push the refresh button in Gradle.","title":"Gradle build ignores Jetbrains annotations","body":"<p>Adding the following dependency worked for me:</p>\n<pre><code>compile group: 'org.jetbrains', name: 'annotations', version: '15.0'\n</code></pre>\n<p>Run the 'dependencies' task &amp; push the refresh button in Gradle.</p>\n"},{"tags":[],"owner":{"account_id":22916377,"reputation":1,"user_id":17052911,"display_name":"Victor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633104792,"creation_date":1633104792,"answer_id":69409002,"question_id":48517104,"body_markdown":"We found that Lombok&#39;s `@NonNull` works better. But you need to configure IDEA to prefer this one during nullability-related analysis and generation","title":"Gradle build ignores Jetbrains annotations","body":"<p>We found that Lombok's <code>@NonNull</code> works better. But you need to configure IDEA to prefer this one during nullability-related analysis and generation</p>\n"}],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4823,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":48682792,"answer_count":5,"score":8,"last_activity_date":1633104792,"creation_date":1517301398,"question_id":48517104,"body_markdown":"Let&#39;s say we have the following test code:\r\n\r\n    import org.jetbrains.annotations.NotNull;\r\n    import org.junit.Test;\r\n    \r\n    public class NullTest {\r\n    \r\n      @Test\r\n      public void testNull() {\r\n        doNothing(null);\r\n      }\r\n    \r\n      private @NotNull String doNothing(@NotNull String value) {\r\n        return value;\r\n      }\r\n    }\r\n\r\nThe test will pass when running ```gradle test``` directly or if IDEA delegates the action to gradle.\r\nBut it will fail with ```IllegalArgumentException: Argument for @NotNull parameter &#39;value&#39; must not be null``` exception if it runs using IDEA runner (not delegated to gradle).\r\n\r\nThe question is: how to fail the test running it with gradle?","title":"Gradle build ignores Jetbrains annotations","body":"<p>Let's say we have the following test code:</p>\n\n<pre><code>import org.jetbrains.annotations.NotNull;\nimport org.junit.Test;\n\npublic class NullTest {\n\n  @Test\n  public void testNull() {\n    doNothing(null);\n  }\n\n  private @NotNull String doNothing(@NotNull String value) {\n    return value;\n  }\n}\n</code></pre>\n\n<p>The test will pass when running <code>gradle test</code> directly or if IDEA delegates the action to gradle.\nBut it will fail with <code>IllegalArgumentException: Argument for @NotNull parameter 'value' must not be null</code> exception if it runs using IDEA runner (not delegated to gradle).</p>\n\n<p>The question is: how to fail the test running it with gradle?</p>\n"},{"tags":["java","arrays","jdbc","h2"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1557854271,"post_id":56135349,"comment_id":98902051,"body_markdown":"Check, it may help you. https://stackoverflow.com/questions/37693849/h2-in-memory-database-error-data-conversion-error-converting-when-using-uuid-a?rq=1","body":"Check, it may help you. <a href=\"https://stackoverflow.com/questions/37693849/h2-in-memory-database-error-data-conversion-error-converting-when-using-uuid-a?rq=1\" title=\"h2 in memory database error data conversion error converting when using uuid a\">stackoverflow.com/questions/37693849/&hellip;</a>"},{"owner":{"account_id":1949371,"reputation":997,"user_id":1753823,"display_name":"Jayesh"},"score":0,"creation_date":1557854588,"post_id":56135349,"comment_id":98902173,"body_markdown":"what is EXAMPLE defined in the database as INT or VARCHAR ?","body":"what is EXAMPLE defined in the database as INT or VARCHAR ?"},{"owner":{"account_id":11065332,"reputation":691,"user_id":8125320,"accept_rate":50,"display_name":"Traif"},"score":0,"creation_date":1557854664,"post_id":56135349,"comment_id":98902214,"body_markdown":"Is that way: CREATE TABLE IF NOT EXISTS DATA (EXAMPLE int auto_increment)","body":"Is that way: CREATE TABLE IF NOT EXISTS DATA (EXAMPLE int auto_increment)"},{"owner":{"account_id":1949371,"reputation":997,"user_id":1753823,"display_name":"Jayesh"},"score":0,"creation_date":1557855182,"post_id":56135349,"comment_id":98902450,"body_markdown":"can you try `GestionBDD.getConexionBD().createArrayOf(&quot;INTEGER&quot;, list);`","body":"can you try <code>GestionBDD.getConexionBD().createArrayOf(&quot;INTEGER&quot;, list);</code>"},{"owner":{"account_id":11065332,"reputation":691,"user_id":8125320,"accept_rate":50,"display_name":"Traif"},"score":0,"creation_date":1557855700,"post_id":56135349,"comment_id":98902692,"body_markdown":"I tried too, but doesn&#39;t work. It seems that is not the error","body":"I tried too, but doesn&#39;t work. It seems that is not the error"},{"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1557859185,"post_id":56135349,"comment_id":98904343,"body_markdown":"See [this answer](https://stackoverflow.com/a/3724272/2144390) for how to do it with H2.","body":"See <a href=\"https://stackoverflow.com/a/3724272/2144390\">this answer</a> for how to do it with H2."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1559137452,"post_id":56135349,"comment_id":99327431,"body_markdown":"See also https://stackoverflow.com/questions/178479/preparedstatement-in-clause-alternatives","body":"See also <a href=\"https://stackoverflow.com/questions/178479/preparedstatement-in-clause-alternatives\" title=\"preparedstatement in clause alternatives\">stackoverflow.com/questions/178479/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633104743,"creation_date":1559079650,"answer_id":56350387,"question_id":56135349,"body_markdown":"Using my JDBC utilities to work with JDBC IN array parameters easily:\r\n\r\n**1. If Maven, add the below dependency into your pom.xml**\r\n\r\n\t\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.appslandia&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;appslandia-common&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;7.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n**2. If no maven, [download this jar file][1]**\r\n\r\n**3. Fix your code ( Works all DBMS guaranteed )**\r\n\r\n\r\n\tstatic final Sql EXAMPLE_SQL \r\n              = new Sql(&quot;SELECT EXAMPLE FROM DATA WHERE EXAMPLE IN :example_array&quot;);\r\n\r\n\tStatementImpl stat = new StatementImpl(GestionBDD.getConexionBD(), EXAMPLE_SQL);\r\n\r\n\tstat.setIntArray(&quot;example_array&quot;, new int[] {1, 2, 3} );\r\n\r\n\tResultSet rs = stat.executeQuery();\r\n\r\n\twhile (rs.next()) {\r\n\t\t// DO THINGS \r\n\t}\r\n\r\n\trs.close(); stat.close();\r\n\r\n**4. Named parameters / Null parameters**\r\n    \r\n    final Sql sampleSql \r\n           = new Sql(&quot;SELECT * FROM Table WHERE a=:int_a AND b=:str_b)\r\n\t\r\n\tStatementImpl stat = new StatementImpl(conn, sampleSql);\r\n\r\n\tstat.setInt(&quot;int_a&quot;, int_value);\r\n\tstat.setInt2(&quot;int_a&quot;, null_value);\r\n\tstat.setString(&quot;str_b&quot;, str_value);\r\n    // ...\r\n\r\n**5. Some Notes**\r\n\r\n- Parameter name supported. No more ? in your query\r\n- Parameter in Sql need to start with : (Like JPA parameters)\r\n- IN Array parameter in Sql must be in this syntax  IN :param_name\r\n\r\n  [1]: https://search.maven.org/remotecontent?filepath=com/appslandia/appslandia-common/7.9/appslandia-common-7.9.jar","title":"Cannot use setArray JDBC (integer) with H2 Database","body":"<p>Using my JDBC utilities to work with JDBC IN array parameters easily:</p>\n<p><strong>1. If Maven, add the below dependency into your pom.xml</strong></p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.appslandia&lt;/groupId&gt;\n      &lt;artifactId&gt;appslandia-common&lt;/artifactId&gt;\n      &lt;version&gt;7.9&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>2. If no maven, <a href=\"https://search.maven.org/remotecontent?filepath=com/appslandia/appslandia-common/7.9/appslandia-common-7.9.jar\" rel=\"nofollow noreferrer\">download this jar file</a></strong></p>\n<p><strong>3. Fix your code ( Works all DBMS guaranteed )</strong></p>\n<pre><code>static final Sql EXAMPLE_SQL \n          = new Sql(&quot;SELECT EXAMPLE FROM DATA WHERE EXAMPLE IN :example_array&quot;);\n\nStatementImpl stat = new StatementImpl(GestionBDD.getConexionBD(), EXAMPLE_SQL);\n\nstat.setIntArray(&quot;example_array&quot;, new int[] {1, 2, 3} );\n\nResultSet rs = stat.executeQuery();\n\nwhile (rs.next()) {\n    // DO THINGS \n}\n\nrs.close(); stat.close();\n</code></pre>\n<p><strong>4. Named parameters / Null parameters</strong></p>\n<pre><code>final Sql sampleSql \n       = new Sql(&quot;SELECT * FROM Table WHERE a=:int_a AND b=:str_b)\n\nStatementImpl stat = new StatementImpl(conn, sampleSql);\n\nstat.setInt(&quot;int_a&quot;, int_value);\nstat.setInt2(&quot;int_a&quot;, null_value);\nstat.setString(&quot;str_b&quot;, str_value);\n// ...\n</code></pre>\n<p><strong>5. Some Notes</strong></p>\n<ul>\n<li>Parameter name supported. No more ? in your query</li>\n<li>Parameter in Sql need to start with : (Like JPA parameters)</li>\n<li>IN Array parameter in Sql must be in this syntax  IN :param_name</li>\n</ul>\n"}],"owner":{"account_id":11065332,"reputation":691,"user_id":8125320,"accept_rate":50,"display_name":"Traif"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56350387,"answer_count":1,"score":1,"last_activity_date":1633104743,"creation_date":1557853617,"question_id":56135349,"body_markdown":"I want to put an array of integers in my jdbc query with H2 database.\r\n\r\n    Integer[] list = new Integer[]{1,2,3};\r\n\t\t\t\tString query = &quot;SELECT EXAMPLE FROM DATA WHERE EXAMPLE IN (?)&quot;;\r\n                PreparedStatement ps = GestionBDD.getConexionBD().prepareStatement(query);\r\n                Array array = GestionBDD.getConexionBD().createArrayOf(&quot;int&quot;, list);\r\n\r\n                ps.setArray(1, array);\r\n\r\n                ResultSet rs = ps.executeQuery();\r\n\r\n                while (rs.next()) {\r\n                    // DO THINGS \r\n                }\r\n\r\nBut doest not work, I am getting this exception : org.h2.jdbc.JdbcSQLException: Data conversion error converting &quot;(1,2,3)&quot;; SQL statement:\r\n\r\nI am using H2 database.\r\nCan you help me please?\r\n","title":"Cannot use setArray JDBC (integer) with H2 Database","body":"<p>I want to put an array of integers in my jdbc query with H2 database.</p>\n\n<pre><code>Integer[] list = new Integer[]{1,2,3};\n            String query = \"SELECT EXAMPLE FROM DATA WHERE EXAMPLE IN (?)\";\n            PreparedStatement ps = GestionBDD.getConexionBD().prepareStatement(query);\n            Array array = GestionBDD.getConexionBD().createArrayOf(\"int\", list);\n\n            ps.setArray(1, array);\n\n            ResultSet rs = ps.executeQuery();\n\n            while (rs.next()) {\n                // DO THINGS \n            }\n</code></pre>\n\n<p>But doest not work, I am getting this exception : org.h2.jdbc.JdbcSQLException: Data conversion error converting \"(1,2,3)\"; SQL statement:</p>\n\n<p>I am using H2 database.\nCan you help me please?</p>\n"},{"tags":["java","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633092908,"creation_date":1633092908,"answer_id":69406256,"question_id":69405347,"body_markdown":"Best would be to add the corresponding method to the class:\r\n\r\n    @Entity\r\n    public class Employee extends AbstractBaseEntity {\r\n        @OneToMany( mappedBy = &quot;employee&quot;,  cascade = CascadeType.MERGE, fetch = FetchType.LAZY)\r\n        private List&lt;Review&gt; reviews;\r\n\r\n        public double getAverage() {\r\n            return reviews.stream().map(Review::getGrade).mapToInt(Byte::intValue).average()\r\n        }\r\n    }\r\n\r\nand then just call it in thymeleaf\r\n\r\n`&lt;span th:text=&quot;${employee.getAverage()}&quot; /&gt;`","title":"How to get an average int for a Collection of an Entity using thymeleaf?","body":"<p>Best would be to add the corresponding method to the class:</p>\n<pre><code>@Entity\npublic class Employee extends AbstractBaseEntity {\n    @OneToMany( mappedBy = &quot;employee&quot;,  cascade = CascadeType.MERGE, fetch = FetchType.LAZY)\n    private List&lt;Review&gt; reviews;\n\n    public double getAverage() {\n        return reviews.stream().map(Review::getGrade).mapToInt(Byte::intValue).average()\n    }\n}\n</code></pre>\n<p>and then just call it in thymeleaf</p>\n<p><code>&lt;span th:text=&quot;${employee.getAverage()}&quot; /&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633104462,"creation_date":1633104462,"answer_id":69408924,"question_id":69405347,"body_markdown":"Thymeleaf has [aggregate functions][1].  You can combine them with [collection projection][2].\r\n\r\n    &lt;span th:text=&quot;${#aggregates.avg(employee.reviews.![grade])}&quot; /&gt;\r\n\r\n\r\n  [1]: https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#aggregates\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-collection-projection","title":"How to get an average int for a Collection of an Entity using thymeleaf?","body":"<p>Thymeleaf has <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#aggregates\" rel=\"nofollow noreferrer\">aggregate functions</a>.  You can combine them with <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-collection-projection\" rel=\"nofollow noreferrer\">collection projection</a>.</p>\n<pre><code>&lt;span th:text=&quot;${#aggregates.avg(employee.reviews.![grade])}&quot; /&gt;\n</code></pre>\n"}],"owner":{"display_name":"user15599360"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69408924,"answer_count":2,"score":0,"last_activity_date":1633104462,"creation_date":1633088645,"question_id":69405347,"body_markdown":"I have an Employee Entity that has a Collection of Reviews, each Review has a byte grade.\r\n\r\nUnnecessary details are omitted for brevity\r\n\r\n    @Entity\r\n    public class Employee extends AbstractBaseEntity {\r\n        @OneToMany( mappedBy = &quot;employee&quot;,  cascade = CascadeType.MERGE, fetch = FetchType.LAZY)\r\n        private List&lt;Review&gt; reviews;\r\n    }\r\n    @Entity\r\n    public class Review extends AbstractBaseEntity {\r\n        private Byte grade;\r\n    }\r\n\r\nHow can I get an average Review grade for each Employee using Thymeleaf to insert in Table?\r\n","title":"How to get an average int for a Collection of an Entity using thymeleaf?","body":"<p>I have an Employee Entity that has a Collection of Reviews, each Review has a byte grade.</p>\n<p>Unnecessary details are omitted for brevity</p>\n<pre><code>@Entity\npublic class Employee extends AbstractBaseEntity {\n    @OneToMany( mappedBy = &quot;employee&quot;,  cascade = CascadeType.MERGE, fetch = FetchType.LAZY)\n    private List&lt;Review&gt; reviews;\n}\n@Entity\npublic class Review extends AbstractBaseEntity {\n    private Byte grade;\n}\n</code></pre>\n<p>How can I get an average Review grade for each Employee using Thymeleaf to insert in Table?</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633104460,"creation_date":1633104460,"answer_id":69408923,"question_id":67137694,"body_markdown":"You can. You have to read output packet that contains sent messages like that :\r\n\r\n```java\r\n@Inject(method = &quot;sendPacket(Lnet/minecraft/network/Packet;)V&quot;, at = @At(&quot;HEAD&quot;), cancellable = true)\r\nprivate void onSendPacket(Packet&lt;?&gt; packet, CallbackInfo callbackInfo) {\r\n   // System.out.println(&quot;Packet Sent: &quot; + packet.toString());\r\n   // here you can get the packet type, then if it&#39;s chat&#39;s you can get content\r\n   // you can cancel it with: callbackInfo.cancel();\r\n}\r\n```\r\n\r\n[Source](https://forums.minecraftforge.net/topic/74173-on-packet-sendrecieve-events/?do=findComment&amp;comment=357895)","title":"similar ClientChatReceivedEvent for Client only sendMessage (Minecraft Forge Modding)","body":"<p>You can. You have to read output packet that contains sent messages like that :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject(method = &quot;sendPacket(Lnet/minecraft/network/Packet;)V&quot;, at = @At(&quot;HEAD&quot;), cancellable = true)\nprivate void onSendPacket(Packet&lt;?&gt; packet, CallbackInfo callbackInfo) {\n   // System.out.println(&quot;Packet Sent: &quot; + packet.toString());\n   // here you can get the packet type, then if it's chat's you can get content\n   // you can cancel it with: callbackInfo.cancel();\n}\n</code></pre>\n<p><a href=\"https://forums.minecraftforge.net/topic/74173-on-packet-sendrecieve-events/?do=findComment&amp;comment=357895\" rel=\"nofollow noreferrer\">Source</a></p>\n"}],"owner":{"account_id":11665878,"reputation":1,"user_id":8826182,"display_name":"Joe6pack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":924,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633104460,"creation_date":1618659261,"question_id":67137694,"body_markdown":"I just started with java and minecraft modding. I want to implement a very simple task but unfortunately I do not know the right event for it.\r\nMessages sent via\r\n\r\n    Minecraft.getMinecraft().player.sendChatMessage(message);\r\n\r\nfrom the client to the server I can use:\r\n\r\n    public void onChat(ClientChatReceivedEvent event)\r\n\r\nto read it back in.\r\nHowever, there are now also messages that are sent via\r\n\r\n    Minecraft.getMinecraft().player.sendMessage(m)\r\n\r\nonly direct to the client. Is there also a possibility to read these messages? Another mod writes these &quot;client only&quot; messages that I want to respond to.","title":"similar ClientChatReceivedEvent for Client only sendMessage (Minecraft Forge Modding)","body":"<p>I just started with java and minecraft modding. I want to implement a very simple task but unfortunately I do not know the right event for it.\nMessages sent via</p>\n<pre><code>Minecraft.getMinecraft().player.sendChatMessage(message);\n</code></pre>\n<p>from the client to the server I can use:</p>\n<pre><code>public void onChat(ClientChatReceivedEvent event)\n</code></pre>\n<p>to read it back in.\nHowever, there are now also messages that are sent via</p>\n<pre><code>Minecraft.getMinecraft().player.sendMessage(m)\n</code></pre>\n<p>only direct to the client. Is there also a possibility to read these messages? Another mod writes these &quot;client only&quot; messages that I want to respond to.</p>\n"},{"tags":["java","android","kotlin","android-intent"],"comments":[{"owner":{"account_id":9001890,"reputation":98,"user_id":6710204,"display_name":"M adnan"},"score":0,"creation_date":1632488386,"post_id":69315456,"comment_id":122513110,"body_markdown":"val intent = Intent()\n                        intent.action = Intent.ACTION_VIEW\n                        intent.setDataAndType(Uri.parse(docList[position]?.image), docList[position]?.contentType)\n                        intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\n                        startActivity(holder.itemView.context, intent, null)","body":"val intent = Intent()                         intent.action = Intent.ACTION_VIEW                         intent.setDataAndType(Uri.parse(docList[position]?.image), docList[position]?.contentType)                         intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)                         startActivity(holder.itemView.context, intent, null)"},{"owner":{"account_id":9001890,"reputation":98,"user_id":6710204,"display_name":"M adnan"},"score":0,"creation_date":1632488399,"post_id":69315456,"comment_id":122513119,"body_markdown":"check my above code","body":"check my above code"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1632488652,"post_id":69315456,"comment_id":122513218,"body_markdown":"Please post your code in a normal code block. And remove that comment with code for a second time.","body":"Please post your code in a normal code block. And remove that comment with code for a second time."},{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1632489780,"post_id":69315456,"comment_id":122513678,"body_markdown":"Post an example of the `Uri` - seems odd you are referencing a field named `.image` in your `docList` ?  And post `contentType`.","body":"Post an example of the <code>Uri</code> - seems odd you are referencing a field named <code>.image</code> in your <code>docList</code> ?  And post <code>contentType</code>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633176054,"post_id":69315456,"comment_id":122693632,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"score":0,"creation_date":1669912207,"post_id":69315456,"comment_id":131755682,"body_markdown":"Did you find a solution? I&#39;ve the same problem, i got the same error while both of excel and google sheets are installed","body":"Did you find a solution? I&#39;ve the same problem, i got the same error while both of excel and google sheets are installed"}],"answers":[{"tags":[],"owner":{"account_id":22537042,"reputation":182,"user_id":16728174,"display_name":"user16728174"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633102306,"creation_date":1633102306,"answer_id":69408476,"question_id":69315456,"body_markdown":"if you get ActivityNotFound exception it means there is no application in your device to support this file type.\r\n\r\nfirst of all wrap your code in **try/catch** block to prevent crash.\r\n\r\nthen you have some options :\r\n\r\nfirst way : you can open play store to prompt user to download office app\r\n\r\n    try{\r\n            val intent = Intent()\r\n            intent.action = Intent.ACTION_VIEW\r\n            intent.setDataAndType(Uri.parse(docList[position]?.image),\r\n                    docList[position]?.contentType)\r\n            intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\r\n            startActivity(holder.itemView.context, intent, null)\r\n        }\r\n            catch(e:ActivityNotFoundException){\r\n\r\n                //NOTE: you can show toast to user or open google play store for required app\r\n\r\n                startActivity(Intent(Intent.ACTION_VIEW, Uri.parse(&quot;market://details?id=com.microsoft.office.officehubrow&quot;)))\r\n\r\n            }\r\n\r\nsecond way : you can use android **WebView** to show excel / word file types in your app without Intent\r\n\r\ncheck this:\r\n\r\nhttps://stackoverflow.com/questions/12797651/how-to-open-excel-doc-files-in-webview-in-android\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"No Activity found to handle Intent whien trying to open word file or excel file","body":"<p>if you get ActivityNotFound exception it means there is no application in your device to support this file type.</p>\n<p>first of all wrap your code in <strong>try/catch</strong> block to prevent crash.</p>\n<p>then you have some options :</p>\n<p>first way : you can open play store to prompt user to download office app</p>\n<pre><code>try{\n        val intent = Intent()\n        intent.action = Intent.ACTION_VIEW\n        intent.setDataAndType(Uri.parse(docList[position]?.image),\n                docList[position]?.contentType)\n        intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\n        startActivity(holder.itemView.context, intent, null)\n    }\n        catch(e:ActivityNotFoundException){\n\n            //NOTE: you can show toast to user or open google play store for required app\n\n            startActivity(Intent(Intent.ACTION_VIEW, Uri.parse(&quot;market://details?id=com.microsoft.office.officehubrow&quot;)))\n\n        }\n</code></pre>\n<p>second way : you can use android <strong>WebView</strong> to show excel / word file types in your app without Intent</p>\n<p>check this:</p>\n<p><a href=\"https://stackoverflow.com/questions/12797651/how-to-open-excel-doc-files-in-webview-in-android\">How to open Excel, .doc files in Webview in Android?</a></p>\n"},{"tags":[],"owner":{"account_id":6848733,"reputation":219,"user_id":7945455,"display_name":"Swapnil Musale"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633104197,"creation_date":1633104197,"answer_id":69408865,"question_id":69315456,"body_markdown":"    val intent = Intent()\r\n        intent.action = Intent.ACTION_VIEW\r\n        intent.setDataAndType(Uri.parse(docList[position]?.image), docList[position]?.contentType)\r\n        intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\r\n        if (intent.resolveActivity(requireActivity().packageManager) != null) {\r\n            startActivity(holder.itemView.context, intent, null)\r\n        } else {\r\n            Toast.makeText(requireActivity(), &quot;No Application available to handle this intent&quot;, Toast.LENGTH_LONG).show()\r\n        }\r\n\r\nUse resolveActivity method of intent. it will return app which can handle this intent else it will be null.","title":"No Activity found to handle Intent whien trying to open word file or excel file","body":"<pre><code>val intent = Intent()\n    intent.action = Intent.ACTION_VIEW\n    intent.setDataAndType(Uri.parse(docList[position]?.image), docList[position]?.contentType)\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\n    if (intent.resolveActivity(requireActivity().packageManager) != null) {\n        startActivity(holder.itemView.context, intent, null)\n    } else {\n        Toast.makeText(requireActivity(), &quot;No Application available to handle this intent&quot;, Toast.LENGTH_LONG).show()\n    }\n</code></pre>\n<p>Use resolveActivity method of intent. it will return app which can handle this intent else it will be null.</p>\n"}],"owner":{"account_id":9001890,"reputation":98,"user_id":6710204,"display_name":"M adnan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633104197,"creation_date":1632488347,"question_id":69315456,"body_markdown":"   &quot;here i want to open file &quot;\r\n\r\n``` \r\nval intent = Intent()\r\nintent.action = Intent.ACTION_VIEW\r\nintent.setDataAndType(Uri.parse(docList[position]?.image), docList[position]?.contentType)\r\nintent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\r\nstartActivity(holder.itemView.context, intent, null)\r\n```\r\n\r\n","title":"No Activity found to handle Intent whien trying to open word file or excel file","body":"<p>&quot;here i want to open file &quot;</p>\n<pre><code>val intent = Intent()\nintent.action = Intent.ACTION_VIEW\nintent.setDataAndType(Uri.parse(docList[position]?.image), docList[position]?.contentType)\nintent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\nstartActivity(holder.itemView.context, intent, null)\n</code></pre>\n"},{"tags":["java","sql","postgresql"],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633096073,"creation_date":1633096073,"answer_id":69406984,"question_id":69406869,"body_markdown":"Either you are connected to the wrong database, or the parameter `search_path` is set differently.\r\n\r\nDo the obvious thing and name the schema explicitly:\r\n\r\n```\r\nUPDATE public.scm_repos SET ...\r\n```","title":"What causes error &quot;relation &quot;table_name&quot; does not exist&quot; and how can I fix it?","body":"<p>Either you are connected to the wrong database, or the parameter <code>search_path</code> is set differently.</p>\n<p>Do the obvious thing and name the schema explicitly:</p>\n<pre><code>UPDATE public.scm_repos SET ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19351493,"reputation":115,"user_id":14148807,"display_name":"Achmad Afriza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633104171,"creation_date":1633099055,"answer_id":69407728,"question_id":69406869,"body_markdown":"Postgres is a bit finicky, meaning that sometimes you have to specify the schema and database clearly in connection. As such, it can behave differently on the local and remote machines.\r\n\r\nWhat you could do is:\r\n\r\n 1. Firstly check the current state of the remote database. You can easily do that by using [tools][1] such as [DataGrip][2]. Specify the remote connection as you normally would do.\r\n 2. Define it&#39;s schema on connection. i.e.\r\n`jdbc:postgresql://localhost:5432/mydatabase?currentSchema=myschema`. More info [here](https://stackoverflow.com/a/4820666/14148807).\r\n 3. or, clearly state the schema in your query. [Laurenz Albe](https://stackoverflow.com/a/69406984/14148807)&#39;s answer defines this clearly.\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Comparison_of_database_administration_tools\r\n  [2]: https://www.jetbrains.com/datagrip/","title":"What causes error &quot;relation &quot;table_name&quot; does not exist&quot; and how can I fix it?","body":"<p>Postgres is a bit finicky, meaning that sometimes you have to specify the schema and database clearly in connection. As such, it can behave differently on the local and remote machines.</p>\n<p>What you could do is:</p>\n<ol>\n<li>Firstly check the current state of the remote database. You can easily do that by using <a href=\"https://en.m.wikipedia.org/wiki/Comparison_of_database_administration_tools\" rel=\"nofollow noreferrer\">tools</a> such as <a href=\"https://www.jetbrains.com/datagrip/\" rel=\"nofollow noreferrer\">DataGrip</a>. Specify the remote connection as you normally would do.</li>\n<li>Define it's schema on connection. i.e.\n<code>jdbc:postgresql://localhost:5432/mydatabase?currentSchema=myschema</code>. More info <a href=\"https://stackoverflow.com/a/4820666/14148807\">here</a>.</li>\n<li>or, clearly state the schema in your query. <a href=\"https://stackoverflow.com/a/69406984/14148807\">Laurenz Albe</a>'s answer defines this clearly.</li>\n</ol>\n"}],"owner":{"account_id":8547570,"reputation":1120,"user_id":6405628,"accept_rate":80,"display_name":"Nimrod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633104171,"creation_date":1633095594,"question_id":69406869,"body_markdown":"I know this question was asked before, but none of the suggested solutions worked for me.\r\n\r\nI have the following simple query:\r\n\r\n    UPDATE scm_repos repos SET token_id=(SELECT token_id FROM scm_orgs orgs WHERE repos.org_id=orgs.id)\r\n\r\nWhen running this query locally on my PostgreSQL, it works as expected, but when it runs as a script on our &#39;deploy&#39; phase on a remote PostgreSQL, it fails with the following error:\r\n\r\n&gt; UPDATE scm_repos repos SET token_id=(SELECT token_id FROM scm_orgs\r\n&gt; orgs WHERE repos.org_id=orgs.id); nested exception is\r\n&gt; org.********ql.util.PSQLException: ERROR: relation &quot;scm_repos&quot; does\r\n&gt; not exist\r\n\r\nI tried to surround the table name with double quotes and I also made sure that the table relates to a public schema (I saw some solutions suggests to explicitly write the schema name if not public).\r\n\r\nWhat am I missing here?\r\nThis is a very simple task but nothing I tried makes it run.","title":"What causes error &quot;relation &quot;table_name&quot; does not exist&quot; and how can I fix it?","body":"<p>I know this question was asked before, but none of the suggested solutions worked for me.</p>\n<p>I have the following simple query:</p>\n<pre><code>UPDATE scm_repos repos SET token_id=(SELECT token_id FROM scm_orgs orgs WHERE repos.org_id=orgs.id)\n</code></pre>\n<p>When running this query locally on my PostgreSQL, it works as expected, but when it runs as a script on our 'deploy' phase on a remote PostgreSQL, it fails with the following error:</p>\n<blockquote>\n<p>UPDATE scm_repos repos SET token_id=(SELECT token_id FROM scm_orgs\norgs WHERE repos.org_id=orgs.id); nested exception is\norg.********ql.util.PSQLException: ERROR: relation &quot;scm_repos&quot; does\nnot exist</p>\n</blockquote>\n<p>I tried to surround the table name with double quotes and I also made sure that the table relates to a public schema (I saw some solutions suggests to explicitly write the schema name if not public).</p>\n<p>What am I missing here?\nThis is a very simple task but nothing I tried makes it run.</p>\n"},{"tags":["java","kotlin","gradle","vert.x"],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1604918067,"creation_date":1604918067,"answer_id":64749939,"question_id":64749528,"body_markdown":"It seems the latest way of doing this is:\r\n\r\n\r\n    application {\r\n        mainClass.set(launcherClassName)\r\n    }\r\n","title":"&#39;setter for mainClassName: String&#39; is deprecated. Deprecated in Java","body":"<p>It seems the latest way of doing this is:</p>\n<pre><code>application {\n    mainClass.set(launcherClassName)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"down_vote_count":4,"up_vote_count":6,"is_accepted":false,"score":2,"last_activity_date":1605007417,"creation_date":1605007417,"answer_id":64767964,"question_id":64749528,"body_markdown":"Setting `mainClassName` on the top level should work too:\r\n\r\n```kotlin\r\nmainClassName = &quot;io.vertx.core.Launcher&quot;\r\n```\r\n\r\nhttps://github.com/AlexeySoshin/KotlinWebDevelopment/blob/20-testing-graphql-api/build.gradle#L14","title":"&#39;setter for mainClassName: String&#39; is deprecated. Deprecated in Java","body":"<p>Setting <code>mainClassName</code> on the top level should work too:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>mainClassName = &quot;io.vertx.core.Launcher&quot;\n</code></pre>\n<p><a href=\"https://github.com/AlexeySoshin/KotlinWebDevelopment/blob/20-testing-graphql-api/build.gradle#L14\" rel=\"nofollow noreferrer\">https://github.com/AlexeySoshin/KotlinWebDevelopment/blob/20-testing-graphql-api/build.gradle#L14</a></p>\n"},{"tags":[],"owner":{"account_id":5177311,"reputation":884,"user_id":4143975,"display_name":"Diluka W"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1623306244,"creation_date":1623306244,"answer_id":67915809,"question_id":64749528,"body_markdown":"for spring boot project\r\n```kotlin\r\nspringBoot {\r\n  mainClass.set(&quot;your.full.classname&quot;)\r\n}\r\n```","title":"&#39;setter for mainClassName: String&#39; is deprecated. Deprecated in Java","body":"<p>for spring boot project</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>springBoot {\n  mainClass.set(&quot;your.full.classname&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2334140,"reputation":2428,"user_id":2046862,"display_name":"Pinkesh Sharma"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633104005,"creation_date":1633104005,"answer_id":69408821,"question_id":64749528,"body_markdown":"Any of the below 3 should work:\r\n    \r\n    springBoot {\r\n        mainClass.set(&#39;package.class&#39;)\r\n    }\r\n    \r\n    bootJar {\r\n        mainClass.set(&#39;package.class&#39;)\r\n    }\r\n    \r\n    application {\r\n        mainClass.set(&#39;package.class&#39;)\r\n    }","title":"&#39;setter for mainClassName: String&#39; is deprecated. Deprecated in Java","body":"<p>Any of the below 3 should work:</p>\n<pre><code>springBoot {\n    mainClass.set('package.class')\n}\n\nbootJar {\n    mainClass.set('package.class')\n}\n\napplication {\n    mainClass.set('package.class')\n}\n</code></pre>\n"}],"owner":{"account_id":1936496,"reputation":32803,"user_id":1743843,"accept_rate":77,"display_name":"softshipper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12749,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":64749939,"answer_count":4,"score":43,"last_activity_date":1633104005,"creation_date":1604916420,"question_id":64749528,"body_markdown":"I have a vert.x web app written in Kotlin and Gradle as the build tool. The web app has been generated with https://start.vertx.io/.\r\n\r\nIn the `build.gradle.kts` it shows:  \r\n\r\n[![enter image description here][1]][1]\r\n\r\nthat `mainClassName` has been deprecated. \r\n\r\nthe content of the `build.gradle.kts` file:\r\n```\r\nimport com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar\r\nimport org.gradle.api.tasks.testing.logging.TestLogEvent.*\r\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n\r\nplugins {\r\n  kotlin (&quot;jvm&quot;) version &quot;1.4.10&quot;\r\n  application\r\n  id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;5.2.0&quot;\r\n  id(&quot;org.flywaydb.flyway&quot;) version &quot;7.1.1&quot;\r\n}\r\n\r\ngroup = &quot;io.databaker&quot;\r\nversion = &quot;1.0.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n  mavenCentral()\r\n  jcenter()\r\n}\r\n\r\nval kotlinVersion = &quot;1.4.10&quot;\r\nval vertxVersion = &quot;4.0.0.CR1&quot;\r\nval junitJupiterVersion = &quot;5.6.0&quot;\r\n\r\nval mainVerticleName = &quot;io.databaker.MainVerticle&quot;\r\nval watchForChange = &quot;src/**/*&quot;\r\nval doOnChange = &quot;./gradlew classes&quot;\r\nval launcherClassName = &quot;io.vertx.core.Launcher&quot;\r\n\r\napplication {\r\n  mainClassName = launcherClassName\r\n}\r\n\r\ndependencies {\r\n  implementation(&quot;io.vertx:vertx-auth-jwt:$vertxVersion&quot;)\r\n  implementation(&quot;io.vertx:vertx-web:$vertxVersion&quot;)\r\n  implementation(&quot;io.vertx:vertx-pg-client:$vertxVersion&quot;)\r\n  implementation(&quot;io.vertx:vertx-lang-kotlin-coroutines:$vertxVersion&quot;)\r\n  implementation(&quot;io.vertx:vertx-json-schema:$vertxVersion&quot;)\r\n  implementation(&quot;io.vertx:vertx-lang-kotlin:$vertxVersion&quot;)\r\n  implementation(kotlin(&quot;stdlib-jdk8&quot;))\r\n  testImplementation(&quot;io.vertx:vertx-junit5:$vertxVersion&quot;)\r\n  testImplementation(&quot;org.junit.jupiter:junit-jupiter:$junitJupiterVersion&quot;)\r\n}\r\n\r\n  val compileKotlin: KotlinCompile by tasks\r\n  compileKotlin.kotlinOptions.jvmTarget = &quot;11&quot;\r\n\r\ntasks.withType&lt;ShadowJar&gt; {\r\n  archiveClassifier.set(&quot;fat&quot;)\r\n  manifest {\r\n    attributes(mapOf(&quot;Main-Verticle&quot; to mainVerticleName))\r\n  }\r\n  mergeServiceFiles {\r\n    include(&quot;META-INF/services/io.vertx.core.spi.VerticleFactory&quot;)\r\n  }\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n  useJUnitPlatform()\r\n  testLogging {\r\n    events = setOf(PASSED, SKIPPED, FAILED)\r\n  }\r\n}\r\n\r\ntasks.withType&lt;JavaExec&gt; {\r\n  args = listOf(&quot;run&quot;, mainVerticleName, &quot;--redeploy=$watchForChange&quot;, &quot;--launcher-class=$launcherClassName&quot;, &quot;--on-redeploy=$doOnChange&quot;)\r\n}\r\n```\r\nThrough what should I replace the `mainClassName`?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oEoEs.png","title":"&#39;setter for mainClassName: String&#39; is deprecated. Deprecated in Java","body":"<p>I have a vert.x web app written in Kotlin and Gradle as the build tool. The web app has been generated with <a href=\"https://start.vertx.io/\" rel=\"noreferrer\">https://start.vertx.io/</a>.</p>\n<p>In the <code>build.gradle.kts</code> it shows:</p>\n<p><a href=\"https://i.stack.imgur.com/oEoEs.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oEoEs.png\" alt=\"enter image description here\" /></a></p>\n<p>that <code>mainClassName</code> has been deprecated.</p>\n<p>the content of the <code>build.gradle.kts</code> file:</p>\n<pre><code>import com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar\nimport org.gradle.api.tasks.testing.logging.TestLogEvent.*\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n  kotlin (&quot;jvm&quot;) version &quot;1.4.10&quot;\n  application\n  id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;5.2.0&quot;\n  id(&quot;org.flywaydb.flyway&quot;) version &quot;7.1.1&quot;\n}\n\ngroup = &quot;io.databaker&quot;\nversion = &quot;1.0.0-SNAPSHOT&quot;\n\nrepositories {\n  mavenCentral()\n  jcenter()\n}\n\nval kotlinVersion = &quot;1.4.10&quot;\nval vertxVersion = &quot;4.0.0.CR1&quot;\nval junitJupiterVersion = &quot;5.6.0&quot;\n\nval mainVerticleName = &quot;io.databaker.MainVerticle&quot;\nval watchForChange = &quot;src/**/*&quot;\nval doOnChange = &quot;./gradlew classes&quot;\nval launcherClassName = &quot;io.vertx.core.Launcher&quot;\n\napplication {\n  mainClassName = launcherClassName\n}\n\ndependencies {\n  implementation(&quot;io.vertx:vertx-auth-jwt:$vertxVersion&quot;)\n  implementation(&quot;io.vertx:vertx-web:$vertxVersion&quot;)\n  implementation(&quot;io.vertx:vertx-pg-client:$vertxVersion&quot;)\n  implementation(&quot;io.vertx:vertx-lang-kotlin-coroutines:$vertxVersion&quot;)\n  implementation(&quot;io.vertx:vertx-json-schema:$vertxVersion&quot;)\n  implementation(&quot;io.vertx:vertx-lang-kotlin:$vertxVersion&quot;)\n  implementation(kotlin(&quot;stdlib-jdk8&quot;))\n  testImplementation(&quot;io.vertx:vertx-junit5:$vertxVersion&quot;)\n  testImplementation(&quot;org.junit.jupiter:junit-jupiter:$junitJupiterVersion&quot;)\n}\n\n  val compileKotlin: KotlinCompile by tasks\n  compileKotlin.kotlinOptions.jvmTarget = &quot;11&quot;\n\ntasks.withType&lt;ShadowJar&gt; {\n  archiveClassifier.set(&quot;fat&quot;)\n  manifest {\n    attributes(mapOf(&quot;Main-Verticle&quot; to mainVerticleName))\n  }\n  mergeServiceFiles {\n    include(&quot;META-INF/services/io.vertx.core.spi.VerticleFactory&quot;)\n  }\n}\n\ntasks.withType&lt;Test&gt; {\n  useJUnitPlatform()\n  testLogging {\n    events = setOf(PASSED, SKIPPED, FAILED)\n  }\n}\n\ntasks.withType&lt;JavaExec&gt; {\n  args = listOf(&quot;run&quot;, mainVerticleName, &quot;--redeploy=$watchForChange&quot;, &quot;--launcher-class=$launcherClassName&quot;, &quot;--on-redeploy=$doOnChange&quot;)\n}\n</code></pre>\n<p>Through what should I replace the <code>mainClassName</code>?</p>\n"},{"tags":["java","amazon-web-services","aws-sdk","amazon-cloudfront","amazon-efs"],"comments":[{"owner":{"account_id":1962286,"reputation":207,"user_id":1763470,"accept_rate":69,"display_name":"user1763470"},"score":0,"creation_date":1484672372,"post_id":40734324,"comment_id":70601530,"body_markdown":"This is the same problem I am facing. Did you manage to find a good solution to your query Sheikh?","body":"This is the same problem I am facing. Did you manage to find a good solution to your query Sheikh?"},{"owner":{"account_id":4686271,"reputation":146,"user_id":3793604,"accept_rate":29,"display_name":"Sheikh Ozair Bilal"},"score":0,"creation_date":1484717808,"post_id":40734324,"comment_id":70619266,"body_markdown":"I initiated multiple mysql instances in different region under same VPC, and the sensitive data is moved to regional databases, for EFS i am using JSON Blobs in mysql as my database have no major hits at the moment","body":"I initiated multiple mysql instances in different region under same VPC, and the sensitive data is moved to regional databases, for EFS i am using JSON Blobs in mysql as my database have no major hits at the moment"}],"answers":[{"tags":[],"owner":{"account_id":544608,"reputation":662,"user_id":914107,"accept_rate":15,"display_name":"Mohan Shanmugam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479797011,"creation_date":1479797011,"answer_id":40735390,"question_id":40734324,"body_markdown":"We are working on the Same type of application requirement.\r\n\r\nso you can keep your application stacks separate for each region. you can get region value in each application deployed in cloud.\r\n\r\nBased on region value locate the S3 bucket and database. Before going for EFS be sure on EFS implementation.\r\n\r\nLet me know if you have any specific requirement of AWS Resources in your Application Development.\r\n","title":"Data and Database Storage in Different Regions of AWS","body":"<p>We are working on the Same type of application requirement.</p>\n\n<p>so you can keep your application stacks separate for each region. you can get region value in each application deployed in cloud.</p>\n\n<p>Based on region value locate the S3 bucket and database. Before going for EFS be sure on EFS implementation.</p>\n\n<p>Let me know if you have any specific requirement of AWS Resources in your Application Development.</p>\n"},{"tags":[],"owner":{"account_id":5873413,"reputation":81,"user_id":4625055,"display_name":"Ben Walters"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1479841359,"creation_date":1479841359,"answer_id":40749712,"question_id":40734324,"body_markdown":"You will want to host separate instances of your application stack in each region, including data stores and services that access them. There are two main reasons: \r\n\r\n - To provide good performance for your customers, your services need low-latency access to the data stores. While you could access an S3 bucket or DynamoDB table from another region than the one it is hosted in, you will experience higher latencies when doing so\r\n - To really deliver the data sovreignity your customers are asking for, you should keep the data from ever leaving the region where they want the data stored\r\n\r\nOne approach to explore would be modeling your entire service as a CloudFormation template, with parameters to control the differences between regions. That makes it much easier to deploy the same infrastructure to multiple regions.","title":"Data and Database Storage in Different Regions of AWS","body":"<p>You will want to host separate instances of your application stack in each region, including data stores and services that access them. There are two main reasons: </p>\n\n<ul>\n<li>To provide good performance for your customers, your services need low-latency access to the data stores. While you could access an S3 bucket or DynamoDB table from another region than the one it is hosted in, you will experience higher latencies when doing so</li>\n<li>To really deliver the data sovreignity your customers are asking for, you should keep the data from ever leaving the region where they want the data stored</li>\n</ul>\n\n<p>One approach to explore would be modeling your entire service as a CloudFormation template, with parameters to control the differences between regions. That makes it much easier to deploy the same infrastructure to multiple regions.</p>\n"}],"owner":{"account_id":4686271,"reputation":146,"user_id":3793604,"accept_rate":29,"display_name":"Sheikh Ozair Bilal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":744,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1633103936,"creation_date":1479792174,"question_id":40734324,"body_markdown":"I am working on a medical product that is accessible in different regions of the word and collect the data from the patients, as per distribution law i cant take the patients data, history or record to another country. The basic requirement is that US sites should have all related data stored in US data centers (such as the current US east data center) and EU based sites should have all data in EU based data centers (such as AWS Ireland or Frankfurt).\r\n\r\nHow this is most efficiently done should be analysed - run two completely different stacks? Or should there just be a database and EFS system in place in these different locations?","title":"Data and Database Storage in Different Regions of AWS","body":"<p>I am working on a medical product that is accessible in different regions of the word and collect the data from the patients, as per distribution law i cant take the patients data, history or record to another country. The basic requirement is that US sites should have all related data stored in US data centers (such as the current US east data center) and EU based sites should have all data in EU based data centers (such as AWS Ireland or Frankfurt).</p>\n<p>How this is most efficiently done should be analysed - run two completely different stacks? Or should there just be a database and EFS system in place in these different locations?</p>\n"},{"tags":["java","whatsapp","preview-feature"],"comments":[{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":0,"creation_date":1633061390,"post_id":69400008,"comment_id":122664867,"body_markdown":"Several preview features are in JDK 17 not preview anymore. Try to use 17...","body":"Several preview features are in JDK 17 not preview anymore. Try to use 17..."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1633086531,"post_id":69400008,"comment_id":122672534,"body_markdown":"@30thh That won&#39;t work, the problem is the library the OP is using, which was compiled for Java 16 with preview features enabled. This means it can only be used on Java 16 with preview features enabled, and not on any other Java version.","body":"@30thh That won&#39;t work, the problem is the library the OP is using, which was compiled for Java 16 with preview features enabled. This means it can only be used on Java 16 with preview features enabled, and not on any other Java version."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1633086693,"post_id":69400008,"comment_id":122672586,"body_markdown":"If you&#39;re still running Java 16, you probably need to enable preview features in your Gradle build file. For example, see [How to enable Java 12 preview features with Gradle?](https://stackoverflow.com/questions/55433883/how-to-enable-java-12-preview-features-with-gradle)","body":"If you&#39;re still running Java 16, you probably need to enable preview features in your Gradle build file. For example, see <a href=\"https://stackoverflow.com/questions/55433883/how-to-enable-java-12-preview-features-with-gradle\">How to enable Java 12 preview features with Gradle?</a>"},{"owner":{"account_id":19355615,"reputation":57,"user_id":14152013,"display_name":"Dude2345"},"score":0,"creation_date":1633103148,"post_id":69400008,"comment_id":122679532,"body_markdown":"Yep that worked thanks!","body":"Yep that worked thanks!"}],"answers":[{"tags":[],"owner":{"account_id":19355615,"reputation":57,"user_id":14152013,"display_name":"Dude2345"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633103384,"creation_date":1633103384,"answer_id":69408697,"question_id":69400008,"body_markdown":" As @Mark Rotteveel pointed out enabling preview features in the Gradle build file worked.\r\n\r\n[ How to enable Java 12 preview features with Gradle?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55433883/how-to-enable-java-12-preview-features-with-gradle\r\n\r\nadding this works.\r\n\r\n    tasks.withType(JavaCompile) {\r\n        options.compilerArgs += &quot;--enable-preview&quot;\r\n    }\r\n    \r\n    tasks.withType(Test) {\r\n        jvmArgs += &quot;--enable-preview&quot;\r\n    }\r\n    \r\n    tasks.withType(JavaExec) {\r\n        jvmArgs += &#39;--enable-preview&#39;\r\n    }\r\n\r\n","title":"WhatsApp4j - Api | Does not compile because class uses preview features","body":"<p>As @Mark Rotteveel pointed out enabling preview features in the Gradle build file worked.</p>\n<p><a href=\"https://stackoverflow.com/questions/55433883/how-to-enable-java-12-preview-features-with-gradle\"> How to enable Java 12 preview features with Gradle?</a></p>\n<p>adding this works.</p>\n<pre><code>tasks.withType(JavaCompile) {\n    options.compilerArgs += &quot;--enable-preview&quot;\n}\n\ntasks.withType(Test) {\n    jvmArgs += &quot;--enable-preview&quot;\n}\n\ntasks.withType(JavaExec) {\n    jvmArgs += '--enable-preview'\n}\n</code></pre>\n"}],"owner":{"account_id":19355615,"reputation":57,"user_id":14152013,"display_name":"Dude2345"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69408697,"answer_count":1,"score":0,"last_activity_date":1633103384,"creation_date":1633047393,"question_id":69400008,"body_markdown":"I wanted to try out the (https://github.com/Auties00/WhatsappWeb4j) Whatsapp4j library,\r\nmy gradle:\r\n\r\n            plugins {\r\n            id &#39;java&#39;\r\n        }\r\n        \r\n        group &#39;de.test&#39;\r\n        version &#39;1.0-SNAPSHOT&#39;\r\n        \r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.github.auties00:whatsappweb4j:2.2.1&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nI only added it to my gradle file, and when I run my Main.java (which only implements an class of this library)\r\n\r\n  \r\n\r\n      import it.auties.whatsapp4j.whatsapp.WhatsappAPI;\r\n        \r\n        public class Main {\r\n        \r\n            public static void main(String[] args) {\r\n            }\r\n        }\r\n\r\nI receive this error:\r\n\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt;     error: classfile for\r\n&gt;     C:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\com.github.auties00\\whatsappweb4j\\2.2.1b3c7842cc489e3ae0cc6147c84b11ff6334671e\\whatsappweb4j-2.2.1.jar(/it/auties/whatsapp4j/whatsapp/WhatsappAPI.class)\r\n&gt;     uses preview features of Java SE 16.\r\n\r\nI tried to fix it setting my language level to preview (I don&#39;t rly know what preview features are) : \r\n[![https://prnt.sc/1uaay97][1]][1]\r\nbut sadly that didn&#39;t work. The error remained.\r\nI hope someone knows how to fix it.\r\n\r\n-I use IntelliJ IDEA\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GLeNZ.png\r\n\r\n\r\n\r\n","title":"WhatsApp4j - Api | Does not compile because class uses preview features","body":"<p>I wanted to try out the (<a href=\"https://github.com/Auties00/WhatsappWeb4j\" rel=\"nofollow noreferrer\">https://github.com/Auties00/WhatsappWeb4j</a>) Whatsapp4j library,\nmy gradle:</p>\n<pre><code>        plugins {\n        id 'java'\n    }\n    \n    group 'de.test'\n    version '1.0-SNAPSHOT'\n    \n    repositories {\n        mavenCentral()\n    }\n\ndependencies {\n    implementation 'com.github.auties00:whatsappweb4j:2.2.1'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I only added it to my gradle file, and when I run my Main.java (which only implements an class of this library)</p>\n<pre><code>  import it.auties.whatsapp4j.whatsapp.WhatsappAPI;\n    \n    public class Main {\n    \n        public static void main(String[] args) {\n        }\n    }\n</code></pre>\n<p>I receive this error:</p>\n<blockquote>\n<pre><code>error: classfile for\nC:\\Users\\User\\.gradle\\caches\\modules-2\\files-2.1\\com.github.auties00\\whatsappweb4j\\2.2.1b3c7842cc489e3ae0cc6147c84b11ff6334671e\\whatsappweb4j-2.2.1.jar(/it/auties/whatsapp4j/whatsapp/WhatsappAPI.class)\nuses preview features of Java SE 16.\n</code></pre>\n</blockquote>\n<p>I tried to fix it setting my language level to preview (I don't rly know what preview features are) :\n<a href=\"https://i.stack.imgur.com/GLeNZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GLeNZ.png\" alt=\"https://prnt.sc/1uaay97\" /></a>\nbut sadly that didn't work. The error remained.\nI hope someone knows how to fix it.</p>\n<p>-I use IntelliJ IDEA</p>\n"},{"tags":["java","file","bufferedreader","filereader"],"comments":[{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1633098972,"post_id":69407587,"comment_id":122677817,"body_markdown":"I didn&#39;t got your real problem but you can verify the word with `if( myline.contains(&quot;hash&quot;) )  , if( myline.endsWith(&quot;hash)) , if( myline.startsWith(&quot;hash))` or many other mehods and pattern on string to check and you can replace the line before printing `myline.replace(&quot;hash&quot;,&quot;&quot;)`","body":"I didn&#39;t got your real problem but you can verify the word with <code>if( myline.contains(&quot;hash&quot;) )  , if( myline.endsWith(&quot;hash)) , if( myline.startsWith(&quot;hash))</code> or many other mehods and pattern on string to check and you can replace the line before printing <code>myline.replace(&quot;hash&quot;,&quot;&quot;)</code>"},{"owner":{"account_id":401852,"reputation":3650,"user_id":768656,"accept_rate":96,"display_name":"Benjamin Maurer"},"score":1,"creation_date":1633099069,"post_id":69407587,"comment_id":122677855,"body_markdown":"Well, `readLine` gives you one line. So can read the first line, throw it away and then the second one (checking that both are not null).\nThen you have the string with the second line and you can remove the hash. If that hash has a fixed length, just use `String.substring(int)`. Otherwise you might have to use a regular expression, depending on how complicated the pattern of &quot;hash&quot; is.","body":"Well, <code>readLine</code> gives you one line. So can read the first line, throw it away and then the second one (checking that both are not null). Then you have the string with the second line and you can remove the hash. If that hash has a fixed length, just use <code>String.substring(int)</code>. Otherwise you might have to use a regular expression, depending on how complicated the pattern of &quot;hash&quot; is."}],"answers":[{"tags":[],"owner":{"account_id":22868461,"reputation":177,"user_id":17011860,"display_name":"Asif A Fasih"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1633099717,"creation_date":1633099717,"answer_id":69407889,"question_id":69407587,"body_markdown":"The following code will work. \r\n\r\n```import java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\n\r\npublic class Splitter {\r\n    public static void main(String[] args) throws IOException {\r\n        File[] files = {new File(&quot;1.txt&quot;), new File(&quot;2.txt&quot;)};\r\n        // Fetching all the files\r\n        for (File file : files) {\r\n            if(file.isFile()) {\r\n                BufferedReader inputStream = null;\r\n                String line;\r\n                try {\r\n                    inputStream = new BufferedReader(new FileReader(file));\r\n                    while ((line = inputStream.readLine()) != null) {\r\n                        line = line.replaceAll(&quot;@&quot;, &quot;&quot;);\r\n                        System.out.println(line);\r\n                    }\r\n                }catch(IOException e) {\r\n                    System.out.println(e);\r\n                }\r\n                finally {\r\n                    if (inputStream != null) {\r\n                        inputStream.close();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n`line = line.replaceAll(&quot;@&quot;, &quot;&quot;);` - replace `@` with the special character in your actual file.","title":"How to read a specific line with special characters from multiple txt files (50 files) in Java","body":"<p>The following code will work.</p>\n<pre><code>import java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class Splitter {\n    public static void main(String[] args) throws IOException {\n        File[] files = {new File(&quot;1.txt&quot;), new File(&quot;2.txt&quot;)};\n        // Fetching all the files\n        for (File file : files) {\n            if(file.isFile()) {\n                BufferedReader inputStream = null;\n                String line;\n                try {\n                    inputStream = new BufferedReader(new FileReader(file));\n                    while ((line = inputStream.readLine()) != null) {\n                        line = line.replaceAll(&quot;@&quot;, &quot;&quot;);\n                        System.out.println(line);\n                    }\n                }catch(IOException e) {\n                    System.out.println(e);\n                }\n                finally {\n                    if (inputStream != null) {\n                        inputStream.close();\n                    }\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n<p><code>line = line.replaceAll(&quot;@&quot;, &quot;&quot;);</code> - replace <code>@</code> with the special character in your actual file.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633100355,"creation_date":1633100355,"answer_id":69408057,"question_id":69407587,"body_markdown":"To read the second line of each file:\r\n\r\n    String hash = &quot;...&quot;;\r\n\r\n    for (File file : files) {\r\n        if (file.isFile()) {\r\n            try (BufferedReader reader =\r\n                new BufferedReader(new FileReader(file))) {\r\n\r\n                // Skip first line.\r\n                reader.readLine();\r\n\r\n                // Read second line.\r\n                String line = reader.readLine();\r\n\r\n                // Remove hash from start of line\r\n                line = line.substring(hash.length());\r\n\r\n                System.out.println(line);\r\n            }\r\n        }\r\n    }\r\n","title":"How to read a specific line with special characters from multiple txt files (50 files) in Java","body":"<p>To read the second line of each file:</p>\n<pre><code>String hash = &quot;...&quot;;\n\nfor (File file : files) {\n    if (file.isFile()) {\n        try (BufferedReader reader =\n            new BufferedReader(new FileReader(file))) {\n\n            // Skip first line.\n            reader.readLine();\n\n            // Read second line.\n            String line = reader.readLine();\n\n            // Remove hash from start of line\n            line = line.substring(hash.length());\n\n            System.out.println(line);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633100365,"creation_date":1633100365,"answer_id":69408059,"question_id":69407587,"body_markdown":"The new Path class can contain more than only a File, for instance a file inside a zip, or some file in the web.\r\n\r\nThe class Files has many nice utilities.\r\n\r\n        Path[] files = {Paths.get(&quot;1.txt&quot;), Paths.get(&quot;2.txt&quot;)};\r\n        for (Path file : files) {\r\n            try (Stream&lt;String&gt; in = Files.lines(Charset.defaultCharset())) {\r\n                in.skip(1) // Skip first line.\r\n                  .forEach(line -&gt; System.out.println(line.replace(&quot;hash&quot;, &quot;&quot;));\r\n            }\r\n        }\r\n\r\ntry-with-resources closes in every case, here `in`.\r\n\r\nThe Stream delivers all lines.","title":"How to read a specific line with special characters from multiple txt files (50 files) in Java","body":"<p>The new Path class can contain more than only a File, for instance a file inside a zip, or some file in the web.</p>\n<p>The class Files has many nice utilities.</p>\n<pre><code>    Path[] files = {Paths.get(&quot;1.txt&quot;), Paths.get(&quot;2.txt&quot;)};\n    for (Path file : files) {\n        try (Stream&lt;String&gt; in = Files.lines(Charset.defaultCharset())) {\n            in.skip(1) // Skip first line.\n              .forEach(line -&gt; System.out.println(line.replace(&quot;hash&quot;, &quot;&quot;));\n        }\n    }\n</code></pre>\n<p>try-with-resources closes in every case, here <code>in</code>.</p>\n<p>The Stream delivers all lines.</p>\n"}],"owner":{"account_id":2412308,"reputation":304,"user_id":2107133,"accept_rate":30,"display_name":"Aman Chawla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1633103267,"creation_date":1633098504,"question_id":69407587,"body_markdown":"Let&#39;s say we have 50 txt files with similar format and we want the 2nd line from each txt file. We want only the special character i.e. hash to get removed from the end result.\r\nMentioning the demo content of only 3 files from the 50 files...\r\n\r\n**Note:** I have special character hash in the files, which I can&#39;t mention here. Therefore, mentioning **hash** txt here.\r\n\r\n**1.txt**\r\n\r\nhash\r\n\r\nhash How to run JavaScript\r\n\r\nhash\r\n\r\nanswer of the question here...can be any number of lines\r\n\r\n**2.txt**\r\n\r\nhash\r\n\r\nhash How to install EclipseIDE on Windows 10\r\n\r\nhash\r\n\r\nanswer of the question here...can be any number of lines\r\n\r\n**3.txt**\r\n\r\nhash\r\n\r\nhash NetBeans - How to increase the font size of editor, output and menu\r\n\r\nhash\r\n\r\nanswer of the question here...can be any number of lines\r\n\r\n**The output I want**\r\n\r\nHow to run JavaScript\r\n\r\nHow to install EclipseIDE on Windows 10 \r\n\r\nNetBeans - How to increase the font size of editor, output and menu\r\n\r\nThe code I have tried...\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) throws IOException{  \r\n        File[] files = {new File(&quot;1.txt&quot;), new File(&quot;2.txt&quot;)};\r\n        // Fetching all the files\r\n        for (File file : files) {\r\n            if(file.isFile()) {\r\n                BufferedReader inputStream = null;\r\n                String line;\r\n                try {\r\n                    inputStream = new BufferedReader(new FileReader(file));\r\n                    while ((myline = inputStream.readLine()) != null) {\r\n                        System.out.println(myline);\r\n                    }\r\n                }catch(IOException e) {\r\n                \tSystem.out.println(e);\r\n                }\r\n                finally {\r\n                    if (inputStream != null) {\r\n                        inputStream.close();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n\t}\r\n}\r\n\r\n```","title":"How to read a specific line with special characters from multiple txt files (50 files) in Java","body":"<p>Let's say we have 50 txt files with similar format and we want the 2nd line from each txt file. We want only the special character i.e. hash to get removed from the end result.\nMentioning the demo content of only 3 files from the 50 files...</p>\n<p><strong>Note:</strong> I have special character hash in the files, which I can't mention here. Therefore, mentioning <strong>hash</strong> txt here.</p>\n<p><strong>1.txt</strong></p>\n<p>hash</p>\n<p>hash How to run JavaScript</p>\n<p>hash</p>\n<p>answer of the question here...can be any number of lines</p>\n<p><strong>2.txt</strong></p>\n<p>hash</p>\n<p>hash How to install EclipseIDE on Windows 10</p>\n<p>hash</p>\n<p>answer of the question here...can be any number of lines</p>\n<p><strong>3.txt</strong></p>\n<p>hash</p>\n<p>hash NetBeans - How to increase the font size of editor, output and menu</p>\n<p>hash</p>\n<p>answer of the question here...can be any number of lines</p>\n<p><strong>The output I want</strong></p>\n<p>How to run JavaScript</p>\n<p>How to install EclipseIDE on Windows 10</p>\n<p>NetBeans - How to increase the font size of editor, output and menu</p>\n<p>The code I have tried...</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) throws IOException{  \n        File[] files = {new File(&quot;1.txt&quot;), new File(&quot;2.txt&quot;)};\n        // Fetching all the files\n        for (File file : files) {\n            if(file.isFile()) {\n                BufferedReader inputStream = null;\n                String line;\n                try {\n                    inputStream = new BufferedReader(new FileReader(file));\n                    while ((myline = inputStream.readLine()) != null) {\n                        System.out.println(myline);\n                    }\n                }catch(IOException e) {\n                    System.out.println(e);\n                }\n                finally {\n                    if (inputStream != null) {\n                        inputStream.close();\n                    }\n                }\n            }\n        }\n        \n    }\n}\n\n</code></pre>\n"},{"tags":["java","pdf","pdfrenderer"],"answers":[{"tags":[],"owner":{"account_id":139711,"reputation":5124,"user_id":345480,"accept_rate":100,"display_name":"Nicolas78"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1304103394,"creation_date":1304103394,"answer_id":5836181,"question_id":5836083,"body_markdown":"don&#39;t know the library. but assuming you get your pdf as some sort of object, you might want to check if there&#39;s a method to convert it into, say, a jpeg. displaying a jpeg is then just a question of your UI toolkit.","title":"Viewing a PDF file in Java using PDFRenderer","body":"<p>don't know the library. but assuming you get your pdf as some sort of object, you might want to check if there's a method to convert it into, say, a jpeg. displaying a jpeg is then just a question of your UI toolkit.</p>\n"},{"tags":[],"owner":{"account_id":745314,"reputation":1,"user_id":731681,"display_name":"deoem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304105832,"creation_date":1304105832,"answer_id":5836592,"question_id":5836083,"body_markdown":"In the PDFRenderer_src pack that can be downloaded from the PDF Renderer site there&#39;s a demo included which gives a sample of pdf viewing piece of code, see: \\demos\\viewer\\com\\sun\\pdfview.","title":"Viewing a PDF file in Java using PDFRenderer","body":"<p>In the PDFRenderer_src pack that can be downloaded from the PDF Renderer site there's a demo included which gives a sample of pdf viewing piece of code, see: \\demos\\viewer\\com\\sun\\pdfview.</p>\n"},{"tags":[],"owner":{"account_id":377268,"reputation":897,"user_id":729261,"accept_rate":80,"display_name":"Zach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304107446,"creation_date":1304107446,"answer_id":5836822,"question_id":5836083,"body_markdown":"PDFRenderer is a really fun library to use. Very useful and pretty fast/complete for being a free library.\r\n\r\nAnyway, the source code is available at [PDFRenderer subversion site][1]\r\n\r\n\r\n  [1]: http://java.net/projects/pdf-renderer/sources/svn/show","title":"Viewing a PDF file in Java using PDFRenderer","body":"<p>PDFRenderer is a really fun library to use. Very useful and pretty fast/complete for being a free library.</p>\n\n<p>Anyway, the source code is available at <a href=\"http://java.net/projects/pdf-renderer/sources/svn/show\" rel=\"nofollow\">PDFRenderer subversion site</a></p>\n"},{"tags":[],"owner":{"account_id":4387,"reputation":1289,"user_id":6554,"display_name":"squiddle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304108323,"creation_date":1304108323,"answer_id":5836981,"question_id":5836083,"body_markdown":"PDFRenderer is fun but has problems with more complex PDF files (transparencies, some font tricks). \r\n\r\nWe have good results with qoppa Pdf Images, which is a good and solid pdf to image renderer. They also have viewer component for Swing, i think.\r\nIt is a commercial library, but it is well priced, because it just works.\r\n\r\nYou can find it here http://www.qoppa.com","title":"Viewing a PDF file in Java using PDFRenderer","body":"<p>PDFRenderer is fun but has problems with more complex PDF files (transparencies, some font tricks). </p>\n\n<p>We have good results with qoppa Pdf Images, which is a good and solid pdf to image renderer. They also have viewer component for Swing, i think.\nIt is a commercial library, but it is well priced, because it just works.</p>\n\n<p>You can find it here <a href=\"http://www.qoppa.com\" rel=\"nofollow\">http://www.qoppa.com</a></p>\n"}],"owner":{"account_id":744827,"reputation":21,"user_id":720844,"display_name":"wlegend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1893,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1633103194,"creation_date":1304102870,"question_id":5836083,"body_markdown":"I&#39;m developing an application for printing PDF documents using Java and the library PDFRenderer, but I&#39;m facing a problem while trying to use this library to view a PDF file.\r\n\r\nI know that PDFRenderer allows me to view a PDF within a Java application, but I don&#39;t know how to do it, does somebody know how?","title":"Viewing a PDF file in Java using PDFRenderer","body":"<p>I'm developing an application for printing PDF documents using Java and the library PDFRenderer, but I'm facing a problem while trying to use this library to view a PDF file.</p>\n<p>I know that PDFRenderer allows me to view a PDF within a Java application, but I don't know how to do it, does somebody know how?</p>\n"},{"tags":["java","groovy","rest","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1633062434,"post_id":69396147,"comment_id":122665006,"body_markdown":"Coud you add java version and version of your dependencies in project?","body":"Coud you add java version and version of your dependencies in project?"}],"answers":[{"tags":[],"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633067863,"creation_date":1633067863,"answer_id":69401145,"question_id":69396147,"body_markdown":"You&#39;re probably using an older version of `rest-assured` (4.2.0?) which has a dependency on an older version of Groovy (2.5.8) which is not compatible with your JVM version. \r\n\r\nTo fix this, try upgrading `rest-assured` to a later version (4.4.0 is the most recent at the time of writing) which is bundled with Groovy 3.0.8, which is a more recent version, and should fix the issue you&#39;re currently facing.","title":"Rest assured test failed with error &quot;at java.base/java.util.ArrayList.forEach&quot;","body":"<p>You're probably using an older version of <code>rest-assured</code> (4.2.0?) which has a dependency on an older version of Groovy (2.5.8) which is not compatible with your JVM version.</p>\n<p>To fix this, try upgrading <code>rest-assured</code> to a later version (4.4.0 is the most recent at the time of writing) which is bundled with Groovy 3.0.8, which is a more recent version, and should fix the issue you're currently facing.</p>\n"}],"owner":{"account_id":6134992,"reputation":37,"user_id":4784145,"display_name":"Mohammed Ahmed Mohammed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69401145,"answer_count":1,"score":0,"last_activity_date":1633103002,"creation_date":1633020872,"question_id":69396147,"body_markdown":"Every time I want to run my test it returns me an error in line that contains RestAssured.given()\r\n\r\nI tried different code examples from every where and every time it returns the same error in the same line that contains RestAssured.given()\r\n\r\nthis is my code \r\n\r\n        package com.restassured.testcases;\r\n    \r\n    import io.restassured.RestAssured;\r\n    import io.restassured.RestAssured.*;\r\n    import io.restassured.http.Method;\r\n    import io.restassured.matcher.RestAssuredMatchers;\r\n    import io.restassured.matcher.RestAssuredMatchers.*;\r\n    import io.restassured.response.Response;\r\n    import io.restassured.specification.RequestSpecification;\r\n    import org.hamcrest.Matchers.*;\r\n    import io.restassured.http.ContentType;\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.Test;\r\n    \r\n    \r\n    \r\n    public class Test01_GET {\r\n        @Test\r\n        public static void test01(){\r\n        RestAssured.given().when().get(&quot;http://google.com&quot;).then().statusCode(200);\r\n    \r\n        }\r\n    }\r\n\r\n\r\n-------------------------\r\nand this is the error returned \r\n\r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.codehaus.groovy.vmplugin.v7.Java7$1 (file:/C:/Users/mmaksoud/.m2/repository/org/codehaus/groovy/groovy/2.5.8/groovy-2.5.8.jar) to constructor java.lang.invoke.MethodHandles$Lookup(java.lang.Class,int)\r\nWARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.vmplugin.v7.Java7$1\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n\r\njava.lang.AbstractMethodError: Receiver class io.restassured.internal.RequestSpecificationImpl does not define or inherit an implementation of the resolved method abstract invokeMethod(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object; of interface groovy.lang.GroovyObject.\r\n\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:156)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:168)\r\n\tat io.restassured.internal.RequestSpecificationImpl.&lt;init&gt;(RequestSpecificationImpl.groovy:147)\r\n\tat io.restassured.RestAssured.createTestSpecification(RestAssured.java:1452)\r\n\tat io.restassured.RestAssured.given(RestAssured.java:653)\r\n\tat com.restassured.testcases.Test01_GET.test01(Test01_GET.java:20)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n\tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n\tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n\tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n\tat org.testng.TestRunner.run(TestRunner.java:596)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n\tat org.testng.TestNG.run(TestNG.java:1031)\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\n```\r\n\r\n\r\n\r\n","title":"Rest assured test failed with error &quot;at java.base/java.util.ArrayList.forEach&quot;","body":"<p>Every time I want to run my test it returns me an error in line that contains RestAssured.given()</p>\n<p>I tried different code examples from every where and every time it returns the same error in the same line that contains RestAssured.given()</p>\n<p>this is my code</p>\n<pre><code>    package com.restassured.testcases;\n\nimport io.restassured.RestAssured;\nimport io.restassured.RestAssured.*;\nimport io.restassured.http.Method;\nimport io.restassured.matcher.RestAssuredMatchers;\nimport io.restassured.matcher.RestAssuredMatchers.*;\nimport io.restassured.response.Response;\nimport io.restassured.specification.RequestSpecification;\nimport org.hamcrest.Matchers.*;\nimport io.restassured.http.ContentType;\nimport org.testng.Assert;\nimport org.testng.annotations.Test;\n\n\n\npublic class Test01_GET {\n    @Test\n    public static void test01(){\n    RestAssured.given().when().get(&quot;http://google.com&quot;).then().statusCode(200);\n\n    }\n}\n</code></pre>\n<hr />\n<p>and this is the error returned</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.codehaus.groovy.vmplugin.v7.Java7$1 (file:/C:/Users/mmaksoud/.m2/repository/org/codehaus/groovy/groovy/2.5.8/groovy-2.5.8.jar) to constructor java.lang.invoke.MethodHandles$Lookup(java.lang.Class,int)\nWARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.vmplugin.v7.Java7$1\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n\njava.lang.AbstractMethodError: Receiver class io.restassured.internal.RequestSpecificationImpl does not define or inherit an implementation of the resolved method abstract invokeMethod(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object; of interface groovy.lang.GroovyObject.\n\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:156)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:168)\n    at io.restassured.internal.RequestSpecificationImpl.&lt;init&gt;(RequestSpecificationImpl.groovy:147)\n    at io.restassured.RestAssured.createTestSpecification(RestAssured.java:1452)\n    at io.restassured.RestAssured.given(RestAssured.java:653)\n    at com.restassured.testcases.Test01_GET.test01(Test01_GET.java:20)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\n    at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\n    at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\n    at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\n    at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.testng.TestRunner.privateRun(TestRunner.java:794)\n    at org.testng.TestRunner.run(TestRunner.java:596)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1633085353,"post_id":69404593,"comment_id":122672065,"body_markdown":"try upgrading your JDK. Eclipse uses its own compiler","body":"try upgrading your JDK. Eclipse uses its own compiler"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1633085481,"post_id":69404593,"comment_id":122672117,"body_markdown":"What version of Java are you using, and what Linux distro / version?","body":"What version of Java are you using, and what Linux distro / version?"},{"owner":{"account_id":1765554,"reputation":393,"user_id":1611513,"accept_rate":50,"display_name":"Al1nuX"},"score":0,"creation_date":1633086499,"post_id":69404593,"comment_id":122672521,"body_markdown":"Java 11 and JavaFX 11 on Arch Linux.","body":"Java 11 and JavaFX 11 on Arch Linux."}],"answers":[{"tags":[],"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633085650,"creation_date":1633085650,"answer_id":69404695,"question_id":69404593,"body_markdown":"JavaFX is not part of the Java SDK anymore and needs to be installed separately (or you use Maven, Gradle or another build system). See the [official documentation][1].\r\n\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/","title":"Java compiler error &quot;package javafx.application does not exist&quot;","body":"<p>JavaFX is not part of the Java SDK anymore and needs to be installed separately (or you use Maven, Gradle or another build system). See the <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">official documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633102956,"creation_date":1633102956,"answer_id":69408605,"question_id":69404593,"body_markdown":"# Build tools\r\n\r\nUse a build tool such as Maven or Gradle to (a) download the desired version of the OpenJFX (JavaFX) libraries, and (b) include those libraries in your build, to be bundled inside your final JAR file.\r\n\r\n# JDK bundled with libraries\r\n\r\nOr, use a JDK that includes the OpenJFX (JavaFX) libraries. Use such a JDK to compile. And ensure that your users have such a JDK installed on their computer. \r\n\r\nThis may work well in a controlled setting such as a corporate office, but may not be practical for distributing to the public. \r\n\r\nAt least two JDK vendors provide a variant of their distributions to include OpenJFX (JavaFX) libraries: Azul Systems, and BellSoft.","title":"Java compiler error &quot;package javafx.application does not exist&quot;","body":"<h1>Build tools</h1>\n<p>Use a build tool such as Maven or Gradle to (a) download the desired version of the OpenJFX (JavaFX) libraries, and (b) include those libraries in your build, to be bundled inside your final JAR file.</p>\n<h1>JDK bundled with libraries</h1>\n<p>Or, use a JDK that includes the OpenJFX (JavaFX) libraries. Use such a JDK to compile. And ensure that your users have such a JDK installed on their computer.</p>\n<p>This may work well in a controlled setting such as a corporate office, but may not be practical for distributing to the public.</p>\n<p>At least two JDK vendors provide a variant of their distributions to include OpenJFX (JavaFX) libraries: Azul Systems, and BellSoft.</p>\n"}],"owner":{"account_id":1765554,"reputation":393,"user_id":1611513,"accept_rate":50,"display_name":"Al1nuX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2199,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1633102956,"creation_date":1633085095,"question_id":69404593,"body_markdown":"I&#39;m trying to compile a Java program using the Java 11 compiler from the command line on Arch Linux. The program compiles and works great from Eclipse IDE; however, when I try to compile it using the &#39;javac&#39; command, it throws the following error:\r\n\r\n    javac MyApp.java \r\n    MyApp.java:3: error: package javafx.application does not exist\r\n    import javafx.application.Application;\r\n                             ^\r\n    MyApp.java:4: error: package javafx.stage does not exist\r\n    import javafx.stage.Stage;\r\n\r\nAny help would be appreciated.\r\n\r\nRegards\r\n\r\n","title":"Java compiler error &quot;package javafx.application does not exist&quot;","body":"<p>I'm trying to compile a Java program using the Java 11 compiler from the command line on Arch Linux. The program compiles and works great from Eclipse IDE; however, when I try to compile it using the 'javac' command, it throws the following error:</p>\n<pre><code>javac MyApp.java \nMyApp.java:3: error: package javafx.application does not exist\nimport javafx.application.Application;\n                         ^\nMyApp.java:4: error: package javafx.stage does not exist\nimport javafx.stage.Stage;\n</code></pre>\n<p>Any help would be appreciated.</p>\n<p>Regards</p>\n"},{"tags":["java","selenium","maven","htmlunit-driver"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1633072444,"post_id":69397841,"comment_id":122667405,"body_markdown":"Is that a complete `pom.xml`? I do not have such issue with your pom. Also have you tried to do `clean` before `compile`?","body":"Is that a complete <code>pom.xml</code>? I do not have such issue with your pom. Also have you tried to do <code>clean</code> before <code>compile</code>?"},{"owner":{"account_id":20325805,"reputation":117,"user_id":14909278,"display_name":"mousekip"},"score":0,"creation_date":1633086906,"post_id":69397841,"comment_id":122672666,"body_markdown":"@Alexey R. Oh I forgot to mention… The error occurs when I try to work with the library. It then shows the error message in the first line, where you mention the package.","body":"@Alexey R. Oh I forgot to mention… The error occurs when I try to work with the library. It then shows the error message in the first line, where you mention the package."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1633087797,"post_id":69397841,"comment_id":122672995,"body_markdown":"Can you show the example of the code?","body":"Can you show the example of the code?"},{"owner":{"account_id":20325805,"reputation":117,"user_id":14909278,"display_name":"mousekip"},"score":0,"creation_date":1633099947,"post_id":69397841,"comment_id":122678224,"body_markdown":"@AlexeyR. I have added the code, as well as two screenshots and some additional information (not much though).","body":"@AlexeyR. I have added the code, as well as two screenshots and some additional information (not much though)."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633102752,"creation_date":1633102752,"answer_id":69408562,"question_id":69397841,"body_markdown":"There was [a change][1] one year ago which removes a list of interfaces. Those interfaces are used (implemented) by `HtmlUnitDriver`. The change was delivered in [selenium-4.0.0-alpha-7][2] release.\r\n\r\nSo the solution would be to use Selenium release prior to mentioned one.\r\n\r\n**Either:** (this is not stable version with some features of Selenium 4)\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0-alpha-6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n**Or:**\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    &lt;version&gt;3.141.59&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe latter is the most stable and recent version of Selenium 3.\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/pull/8367/files\r\n  [2]: https://github.com/SeleniumHQ/selenium/releases/tag/selenium-4.0.0-alpha-7","title":"Setting up Selenium correctly","body":"<p>There was <a href=\"https://github.com/SeleniumHQ/selenium/pull/8367/files\" rel=\"nofollow noreferrer\">a change</a> one year ago which removes a list of interfaces. Those interfaces are used (implemented) by <code>HtmlUnitDriver</code>. The change was delivered in <a href=\"https://github.com/SeleniumHQ/selenium/releases/tag/selenium-4.0.0-alpha-7\" rel=\"nofollow noreferrer\">selenium-4.0.0-alpha-7</a> release.</p>\n<p>So the solution would be to use Selenium release prior to mentioned one.</p>\n<p><strong>Either:</strong> (this is not stable version with some features of Selenium 4)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0-alpha-6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Or:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;3.141.59&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The latter is the most stable and recent version of Selenium 3.</p>\n"}],"owner":{"account_id":20325805,"reputation":117,"user_id":14909278,"display_name":"mousekip"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69408562,"answer_count":1,"score":0,"last_activity_date":1633102752,"creation_date":1633029819,"question_id":69397841,"body_markdown":"I have been trying to install Selenium for about a day now, and I can&#180;t get it to work. First, I just downloaded the standalone jar and added it as a user library. That did work out fine, until I wanted to use org.openqa.selenium.htmlunit.HtmlUnitDriver. Apparently, this library is not included in the jar. \r\nSo I downloaded the jar file for the htmlUnitDriver seperately. That did not work out at all, as I got an error in line 1 saying, that some library is &quot;indirectly referenced from required .class files&quot;. \r\nI deinstalled the libraries again and tried it with Maven. I included dependencies for selenium and the selenium htmlUnitDriver (as it again was not included). \r\nBut that still left me with the same problem. Below is my pom.xml file and the exact error message.\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.0-rc-1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-htmlunit-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.52.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;WebsiteRequest&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;WebsiteRequest&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;12&lt;/release&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe java code:\r\n\r\n```\r\npackage pack;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.htmlunit.HtmlUnitDriver;\r\n\r\npublic class Klasse  {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tWebDriver driver = new HtmlUnitDriver();\r\n\r\n\t}\r\n}\r\n```\r\n\r\nThe error message:\r\n[![Error Message][1]][1]\r\n\r\n\r\nI have noticed, that the error only occurs, when I initialise a WebDriver as a HtmlUnitDriver. Otherwise it is still shown, but not marked as an error:\r\n[![The other variant of the error message][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jjelf.png\r\n  [2]: https://i.stack.imgur.com/fApEG.png","title":"Setting up Selenium correctly","body":"<p>I have been trying to install Selenium for about a day now, and I can´t get it to work. First, I just downloaded the standalone jar and added it as a user library. That did work out fine, until I wanted to use org.openqa.selenium.htmlunit.HtmlUnitDriver. Apparently, this library is not included in the jar.\nSo I downloaded the jar file for the htmlUnitDriver seperately. That did not work out at all, as I got an error in line 1 saying, that some library is &quot;indirectly referenced from required .class files&quot;.\nI deinstalled the libraries again and tried it with Maven. I included dependencies for selenium and the selenium htmlUnitDriver (as it again was not included).\nBut that still left me with the same problem. Below is my pom.xml file and the exact error message.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-rc-1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-htmlunit-driver&lt;/artifactId&gt;\n            &lt;version&gt;2.52.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;WebsiteRequest&lt;/groupId&gt;\n    &lt;artifactId&gt;WebsiteRequest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;12&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The java code:</p>\n<pre><code>package pack;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.htmlunit.HtmlUnitDriver;\n\npublic class Klasse  {\n\n    public static void main(String[] args) {\n        \n        WebDriver driver = new HtmlUnitDriver();\n\n    }\n}\n</code></pre>\n<p>The error message:\n<a href=\"https://i.stack.imgur.com/Jjelf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jjelf.png\" alt=\"Error Message\" /></a></p>\n<p>I have noticed, that the error only occurs, when I initialise a WebDriver as a HtmlUnitDriver. Otherwise it is still shown, but not marked as an error:\n<a href=\"https://i.stack.imgur.com/fApEG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fApEG.png\" alt=\"The other variant of the error message\" /></a></p>\n"},{"tags":["java","spring","kotlin"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1633098718,"post_id":69407598,"comment_id":122677696,"body_markdown":"Do you mean it isn&#39;t throwing the exception? What makes you think it isn&#39;t throwing the exception if `emailExist` is true?","body":"Do you mean it isn&#39;t throwing the exception? What makes you think it isn&#39;t throwing the exception if <code>emailExist</code> is true?"},{"owner":{"account_id":21393612,"reputation":69,"user_id":15757165,"display_name":"Rod"},"score":0,"creation_date":1633099409,"post_id":69407598,"comment_id":122678000,"body_markdown":"Exactly, on Postman Only return on Error 500.\nThere is no custom exception","body":"Exactly, on Postman Only return on Error 500. There is no custom exception"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633099888,"post_id":69407598,"comment_id":122678200,"body_markdown":"And what do you see in the logs of your application?","body":"And what do you see in the logs of your application?"},{"owner":{"account_id":21393612,"reputation":69,"user_id":15757165,"display_name":"Rod"},"score":0,"creation_date":1633100004,"post_id":69407598,"comment_id":122678254,"body_markdown":"response postman &quot;{\n    &quot;timestamp&quot;: &quot;2021-10-01T14:50:33.918+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/api/users&quot;\n}&quot;","body":"response postman &quot;{     &quot;timestamp&quot;: &quot;2021-10-01T14:50:33.918+00:00&quot;,     &quot;status&quot;: 500,     &quot;error&quot;: &quot;Internal Server Error&quot;,     &quot;path&quot;: &quot;/api/users&quot; }&quot;"},{"owner":{"account_id":21393612,"reputation":69,"user_id":15757165,"display_name":"Rod"},"score":0,"creation_date":1633100265,"post_id":69407598,"comment_id":122678380,"body_markdown":"The error appears on the console. But what I want is that the error returns in the request.\nThat the error appears in Postman, so when the front requests it has this error message","body":"The error appears on the console. But what I want is that the error returns in the request. That the error appears in Postman, so when the front requests it has this error message"},{"owner":{"account_id":13766114,"reputation":1780,"user_id":9936828,"display_name":"somethingsomething"},"score":0,"creation_date":1633100349,"post_id":69407598,"comment_id":122678410,"body_markdown":"You throw the exception and your webserver framework catches this and returns a 500, this is what most frameworks do as it&#39;s just plain sensible, the alternative is for the server to crash... If you want to customize the error message in the 500, consult the documentation of the web framework you use for how to do this.","body":"You throw the exception and your webserver framework catches this and returns a 500, this is what most frameworks do as it&#39;s just plain sensible, the alternative is for the server to crash... If you want to customize the error message in the 500, consult the documentation of the web framework you use for how to do this."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633100425,"post_id":69407598,"comment_id":122678450,"body_markdown":"Stack traces in HTTP responses are never a good idea and you should definitely not do that.","body":"Stack traces in HTTP responses are never a good idea and you should definitely not do that."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1633100430,"post_id":69407598,"comment_id":122678454,"body_markdown":"Then you&#39;d need an exception handler that converts the exception to a response--the exception is being thrown, which is different than not getting the HTTP response you want.","body":"Then you&#39;d need an exception handler that converts the exception to a response--the exception is being thrown, which is different than not getting the HTTP response you want."},{"owner":{"account_id":21393612,"reputation":69,"user_id":15757165,"display_name":"Rod"},"score":0,"creation_date":1633101593,"post_id":69407598,"comment_id":122678917,"body_markdown":"I believe I didn&#39;t explain it in the best way.\nI&#39;ll show you how I use it in Java.","body":"I believe I didn&#39;t explain it in the best way. I&#39;ll show you how I use it in Java."},{"owner":{"account_id":21393612,"reputation":69,"user_id":15757165,"display_name":"Rod"},"score":0,"creation_date":1633101813,"post_id":69407598,"comment_id":122679010,"body_markdown":"I edited my question","body":"I edited my question"},{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":0,"creation_date":1633102372,"post_id":69407598,"comment_id":122679246,"body_markdown":"if the exception is not caught or handled anywhere, your client will see a 500 Internal Server Error because basically the request fails unexpectedly. If you want to handle the error then you should handle the exception or return the response you want to see. Assuming you&#39;re using Spring MVC framework, check this: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc","body":"if the exception is not caught or handled anywhere, your client will see a 500 Internal Server Error because basically the request fails unexpectedly. If you want to handle the error then you should handle the exception or return the response you want to see. Assuming you&#39;re using Spring MVC framework, check this: <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">spring.io/blog/2013/11/01/exception-handling-in-spring-mvc</a>"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1633103232,"post_id":69407598,"comment_id":122679571,"body_markdown":"&quot; Exceptions&quot; are not what gets sent to the client--HTTP responses are returned. If the app has an unhandled/unmapped exception it&#39;s going to return whatever it uses as its default exception HTTP response.","body":"&quot; Exceptions&quot; are not what gets sent to the client--HTTP responses are returned. If the app has an unhandled/unmapped exception it&#39;s going to return whatever it uses as its default exception HTTP response."}],"answers":[{"tags":[],"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633102590,"creation_date":1633102590,"answer_id":69408540,"question_id":69407598,"body_markdown":"You need to use `RestControllerAdvice` or `ControllerAdvice` like\r\n\r\n    @ControllerAdvice\r\n    class ControllerAdviceRequestError : ResponseEntityExceptionHandler() {\r\n    \r\n        @ExceptionHandler(value = [(CustomExceptionName::class)])\r\n        fun handleCustomExceptionName(ex: CustomExceptionName,request: WebRequest): ResponseEntity&lt;String&gt; {\r\n           \r\n            return ResponseEntity(ex.getMessage(), HttpStatus.BAD_REQUEST)\r\n        }\r\n    }","title":"return throw exception in Kotlin","body":"<p>You need to use <code>RestControllerAdvice</code> or <code>ControllerAdvice</code> like</p>\n<pre><code>@ControllerAdvice\nclass ControllerAdviceRequestError : ResponseEntityExceptionHandler() {\n\n    @ExceptionHandler(value = [(CustomExceptionName::class)])\n    fun handleCustomExceptionName(ex: CustomExceptionName,request: WebRequest): ResponseEntity&lt;String&gt; {\n       \n        return ResponseEntity(ex.getMessage(), HttpStatus.BAD_REQUEST)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21393612,"reputation":69,"user_id":15757165,"display_name":"Rod"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69408540,"answer_count":1,"score":0,"last_activity_date":1633102590,"creation_date":1633098534,"question_id":69407598,"body_markdown":"I have the following problem, I can&#39;t return this exception. It&#39;s giving an error 500 and doesn&#39;t run this exception.\r\nI wish that when I entered the if it would already return this custom exception.\r\n\r\n**KOTLIN**\r\n```\r\n    class CustomExceptionName(message: String) : Exception(message)\r\n     \r\n        @PostMapping\r\n        fun createUsers(@RequestBody user: User): ResponseEntity&lt;User&gt; {\r\n            var pattern = Regex(&quot;[^0-9]&quot;)\r\n            var emailExist = false\r\n            emailExist = this.userRepository.existsByEmail(user.email)\r\n            if (emailExist) {\r\n              throw CustomExceptionName(&quot;email exist&quot;)\r\n            }\r\n            user.telephone = pattern.replace(user.telephone, &quot;&quot;)\r\n            return ResponseEntity.ok(this.userRepository.save(user))\r\n        }\r\n```\r\n\r\n**JAVA**\r\n```lang-java\r\n      public class DomainException extends RuntimeException {\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        public DomainException(String message) {\r\n            super(message);\r\n        }\r\n    }\r\n\r\n        @Override\r\n        public Client create(Client client) {\r\n            boolean clientExists = clientRepository.findByEmail(client.getEmail())\r\n                    .stream()\r\n                    .anyMatch(emailExists -&gt; !emailExists.equals(client));\r\n            boolean cnpjExists = clientRepository.findByCnpj(client.getCnpj())\r\n                    .stream()\r\n                    .anyMatch(emailExists -&gt; !emailExists.equals(client));\r\n            if(clientExists) {\r\n                throw new DomainException(&quot;J&#225; existe um cliente cadastrado com esse e-mail&quot;);\r\n            }\r\n            if(cnpjExists) {\r\n                throw new DomainException(&quot;J&#225; existe um cliente cadastrado com esse cnpj&quot;);\r\n            }\r\n            return clientRepository.save(client);\r\n        }\r\n```\r\n\r\n","title":"return throw exception in Kotlin","body":"<p>I have the following problem, I can't return this exception. It's giving an error 500 and doesn't run this exception.\nI wish that when I entered the if it would already return this custom exception.</p>\n<p><strong>KOTLIN</strong></p>\n<pre><code>    class CustomExceptionName(message: String) : Exception(message)\n     \n        @PostMapping\n        fun createUsers(@RequestBody user: User): ResponseEntity&lt;User&gt; {\n            var pattern = Regex(&quot;[^0-9]&quot;)\n            var emailExist = false\n            emailExist = this.userRepository.existsByEmail(user.email)\n            if (emailExist) {\n              throw CustomExceptionName(&quot;email exist&quot;)\n            }\n            user.telephone = pattern.replace(user.telephone, &quot;&quot;)\n            return ResponseEntity.ok(this.userRepository.save(user))\n        }\n</code></pre>\n<p><strong>JAVA</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>      public class DomainException extends RuntimeException {\n        private static final long serialVersionUID = 1L;\n\n        public DomainException(String message) {\n            super(message);\n        }\n    }\n\n        @Override\n        public Client create(Client client) {\n            boolean clientExists = clientRepository.findByEmail(client.getEmail())\n                    .stream()\n                    .anyMatch(emailExists -&gt; !emailExists.equals(client));\n            boolean cnpjExists = clientRepository.findByCnpj(client.getCnpj())\n                    .stream()\n                    .anyMatch(emailExists -&gt; !emailExists.equals(client));\n            if(clientExists) {\n                throw new DomainException(&quot;Já existe um cliente cadastrado com esse e-mail&quot;);\n            }\n            if(cnpjExists) {\n                throw new DomainException(&quot;Já existe um cliente cadastrado com esse cnpj&quot;);\n            }\n            return clientRepository.save(client);\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","quartz-scheduler","quartz"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633094947,"creation_date":1633021776,"answer_id":69396310,"question_id":69396173,"body_markdown":"It was a bold hope that &quot;tablePrefix&quot; can also adjsut the &quot;db schema&quot;, (and there is no [documented property][1] concerning &quot;db schema&quot;), but you could get more lucky, if you configure it on the datasource.\r\ni.e. you would introduce/configure different (spring) datasource( bean)s for every user/schema used by your application ...\r\n\r\n- (like here:) https://stackoverflow.com/q/30337582/592355\r\n- [or here](https://stackoverflow.com/a/42360877/592355)\r\n\r\n, then you&#39;d [wire][2] the scheduler factory with the appropriate datasource (`quartz`).\r\n\r\n    schedulerFactoryBean.setDataSource(quartzDataSource);\r\n\r\nOr via (`@Autowired`) parameter injection, or method invocation : https://stackoverflow.com/q/51522278/592355\r\n\r\n#### UPDATE (regarding &quot;wiring&quot;):\r\n..from [current spring-boot doc][3]:\r\n\r\n&gt;To have Quartz use a `DataSource` **other than the application’s main `DataSource`**, declare a `DataSource`bean, annotating its `@Bean` method with [`@QuartzDataSource`][4]. Doing so ensures that the Quartz-specific `DataSource` is used by both the `SchedulerFactoryBean` and for schema initialization. \r\nSimilarly, to have Quartz use a `TransactionManager` other than the application’s main ... declare a `TransactionManager` bean, ...`@QuartzTransactionManager`.\r\n\r\n----------\r\n\r\n\r\nYou can take even more control by customizing:\r\n\r\n    spring.quartz.jdbc.initialize-schema \r\n    Database schema initialization mode.\r\n    default: embedded (embedded|always|never)\r\n\r\n    spring.quartz.jdbc.schema \r\n    Path to the SQL file to use to initialize the database schema.\r\n    default: classpath:org/quartz/impl/jdbcjobstore/tables_@@platform@@.sql\r\n\r\n... properties, where `@@platform@@` refers to your db vendor.\r\n\r\nBut it is useless for your requirement... since [looking at][5]\r\n and complying with the original schemes - they seem schema independent/free. (So the data source approach looks more promising, herefor.)\r\n\r\nREFS:\r\n- https://www.quartz-scheduler.org/documentation/quartz-2.3.0/configuration/ConfigJobStoreTX.html\r\n- https://stackoverflow.com/q/30337582/592355\r\n- https://stackoverflow.com/a/42360877/592355\r\n- https://www.baeldung.com/spring-annotations-resource-inject-autowire\r\n- https://stackoverflow.com/q/51522278/592355\r\n- [`spring.quartz.jdbc.initialize-schema`](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.quartz.jdbc.initialize-schema)\r\n- https://stackoverflow.com/q/53922279/592355 \r\n- [`spring.quartz.jdbc.schema`](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.quartz.jdbc.schema)\r\n- https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\r\n- https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.quartz\r\n- https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/quartz/QuartzDataSource.html\r\n\r\n\r\n  [1]: https://www.quartz-scheduler.org/documentation/quartz-2.3.0/configuration/ConfigJobStoreTX.html\r\n  [2]: https://www.baeldung.com/spring-annotations-resource-inject-autowire\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.quartz\r\n  [4]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/quartz/QuartzDataSource.html\r\n  [5]: https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore","title":"Spring boot quartz schema other than public doesn&#39;t work","body":"<p>It was a bold hope that &quot;tablePrefix&quot; can also adjsut the &quot;db schema&quot;, (and there is no <a href=\"https://www.quartz-scheduler.org/documentation/quartz-2.3.0/configuration/ConfigJobStoreTX.html\" rel=\"nofollow noreferrer\">documented property</a> concerning &quot;db schema&quot;), but you could get more lucky, if you configure it on the datasource.\ni.e. you would introduce/configure different (spring) datasource( bean)s for every user/schema used by your application ...</p>\n<ul>\n<li>(like here:) <a href=\"https://stackoverflow.com/q/30337582/592355\">Spring Boot Configure and Use Two DataSources</a></li>\n<li><a href=\"https://stackoverflow.com/a/42360877/592355\">or here</a></li>\n</ul>\n<p>, then you'd <a href=\"https://www.baeldung.com/spring-annotations-resource-inject-autowire\" rel=\"nofollow noreferrer\">wire</a> the scheduler factory with the appropriate datasource (<code>quartz</code>).</p>\n<pre><code>schedulerFactoryBean.setDataSource(quartzDataSource);\n</code></pre>\n<p>Or via (<code>@Autowired</code>) parameter injection, or method invocation : <a href=\"https://stackoverflow.com/q/51522278/592355\">@Bean initialization - difference between parameter injection vs. direct method access?</a></p>\n<h4>UPDATE (regarding &quot;wiring&quot;):</h4>\n<p>..from <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.quartz\" rel=\"nofollow noreferrer\">current spring-boot doc</a>:</p>\n<blockquote>\n<p>To have Quartz use a <code>DataSource</code> <strong>other than the application’s main <code>DataSource</code></strong>, declare a <code>DataSource</code>bean, annotating its <code>@Bean</code> method with <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/quartz/QuartzDataSource.html\" rel=\"nofollow noreferrer\"><code>@QuartzDataSource</code></a>. Doing so ensures that the Quartz-specific <code>DataSource</code> is used by both the <code>SchedulerFactoryBean</code> and for schema initialization.\nSimilarly, to have Quartz use a <code>TransactionManager</code> other than the application’s main ... declare a <code>TransactionManager</code> bean, ...<code>@QuartzTransactionManager</code>.</p>\n</blockquote>\n<hr />\n<p>You can take even more control by customizing:</p>\n<pre><code>spring.quartz.jdbc.initialize-schema \nDatabase schema initialization mode.\ndefault: embedded (embedded|always|never)\n\nspring.quartz.jdbc.schema \nPath to the SQL file to use to initialize the database schema.\ndefault: classpath:org/quartz/impl/jdbcjobstore/tables_@@platform@@.sql\n</code></pre>\n<p>... properties, where <code>@@platform@@</code> refers to your db vendor.</p>\n<p>But it is useless for your requirement... since <a href=\"https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\" rel=\"nofollow noreferrer\">looking at</a>\nand complying with the original schemes - they seem schema independent/free. (So the data source approach looks more promising, herefor.)</p>\n<p>REFS:</p>\n<ul>\n<li><a href=\"https://www.quartz-scheduler.org/documentation/quartz-2.3.0/configuration/ConfigJobStoreTX.html\" rel=\"nofollow noreferrer\">https://www.quartz-scheduler.org/documentation/quartz-2.3.0/configuration/ConfigJobStoreTX.html</a></li>\n<li><a href=\"https://stackoverflow.com/q/30337582/592355\">Spring Boot Configure and Use Two DataSources</a></li>\n<li><a href=\"https://stackoverflow.com/a/42360877/592355\">https://stackoverflow.com/a/42360877/592355</a></li>\n<li><a href=\"https://www.baeldung.com/spring-annotations-resource-inject-autowire\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-annotations-resource-inject-autowire</a></li>\n<li><a href=\"https://stackoverflow.com/q/51522278/592355\">@Bean initialization - difference between parameter injection vs. direct method access?</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.quartz.jdbc.initialize-schema\" rel=\"nofollow noreferrer\"><code>spring.quartz.jdbc.initialize-schema</code></a></li>\n<li><a href=\"https://stackoverflow.com/q/53922279/592355\">What are the possible values of spring.datasource.initialization-mode?</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.quartz.jdbc.schema\" rel=\"nofollow noreferrer\"><code>spring.quartz.jdbc.schema</code></a></li>\n<li><a href=\"https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\" rel=\"nofollow noreferrer\">https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.quartz\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.quartz</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/quartz/QuartzDataSource.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/quartz/QuartzDataSource.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6203369,"reputation":930,"user_id":4832342,"accept_rate":90,"display_name":"UnguruBulan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633102478,"creation_date":1633102478,"answer_id":69408521,"question_id":69396173,"body_markdown":"So the idea is that Quartz doesn&#39;t create the tables using `spring.quartz.properties.org.quartz.jobStore.tablePrefix`\r\n\r\nTable names are static. Eg qrtz_triggers. as @xerx593 pointed out.\r\n\r\nWhat we can do is to create the tables (manual, flyway, liquibase) in a different schema, update tablePrefix=schema.qrtz_ and it will work.\r\n\r\nTested with Postgres","title":"Spring boot quartz schema other than public doesn&#39;t work","body":"<p>So the idea is that Quartz doesn't create the tables using <code>spring.quartz.properties.org.quartz.jobStore.tablePrefix</code></p>\n<p>Table names are static. Eg qrtz_triggers. as @xerx593 pointed out.</p>\n<p>What we can do is to create the tables (manual, flyway, liquibase) in a different schema, update tablePrefix=schema.qrtz_ and it will work.</p>\n<p>Tested with Postgres</p>\n"}],"owner":{"account_id":6203369,"reputation":930,"user_id":4832342,"accept_rate":90,"display_name":"UnguruBulan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3022,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1633102478,"creation_date":1633021008,"question_id":69396173,"body_markdown":"I am not able to use other schema (than public) for quartz tables. This is my quartz setup:\r\n\r\n    spring.quartz.job-store-type=jdbc\r\n    spring.quartz.jdbc.initialize-schema=always\r\n    spring.quartz.properties.org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\r\n    spring.quartz.properties.org.quartz.jobStore.isClustered=true\r\n    spring.quartz.properties.org.quartz.jobStore.clusterCheckinInterval=2000\r\n    spring.quartz.properties.org.quartz.scheduler.instanceId=AUTO\r\n    spring.quartz.properties.org.quartz.jobStore.class = org.quartz.impl.jdbcjobstore.JobStoreTX\r\n    spring.quartz.properties.org.quartz.jobStore.useProperties=false\r\n    spring.quartz.properties.org.quartz.jobStore.tablePrefix=QRTZ_\r\n    \r\nAnd config class: \r\n\r\n    @Bean\r\n    public SchedulerFactoryBean schedulerFactory(ApplicationContext applicationContext, DataSource dataSource, QuartzProperties quartzProperties) {\r\n        SchedulerFactoryBean schedulerFactoryBean = new SchedulerFactoryBean();\r\n        AutowireCapableBeanJobFactory jobFactory = new AutowireCapableBeanJobFactory(applicationContext.getAutowireCapableBeanFactory());\r\n        Properties properties = new Properties();\r\n        properties.putAll(quartzProperties.getProperties());\r\n\r\n        schedulerFactoryBean.setOverwriteExistingJobs(true);\r\n        schedulerFactoryBean.setDataSource(dataSource);\r\n        schedulerFactoryBean.setQuartzProperties(properties);\r\n        schedulerFactoryBean.setJobFactory(jobFactory);\r\n\r\n        return schedulerFactoryBean;\r\n    }\r\n\r\n    @Bean\r\n    public Scheduler scheduler(ApplicationContext applicationContext, DataSource dataSource, QuartzProperties quartzProperties)\r\n        throws SchedulerException {\r\n        Scheduler scheduler = schedulerFactory(applicationContext, dataSource, quartzProperties).getScheduler();\r\n        scheduler.start();\r\n        return scheduler;\r\n    }\r\n\r\n\r\nThis works fine, and the tables are getting created. However I would like to have the tables in a different schema. So I set quartz to use &#39;quartz&#39; schema.\r\n\r\n    spring.quartz.properties.org.quartz.jobStore.tablePrefix=quartz.QRTZ_\r\n\r\nThis is the error I&#39;m getting:\r\n\r\n    [ClusterManager: Error managing cluster: Failure obtaining db row lock: ERROR: current transaction is aborted, commands ignored until end of transaction block] [org.quartz.impl.jdbcjobstore.LockException: Failure obtaining db row lock: ERROR: current transaction is aborted, commands ignored until end of transaction block\r\n\r\nAny ideas on how to solve it?\r\n\r\n","title":"Spring boot quartz schema other than public doesn&#39;t work","body":"<p>I am not able to use other schema (than public) for quartz tables. This is my quartz setup:</p>\n<pre><code>spring.quartz.job-store-type=jdbc\nspring.quartz.jdbc.initialize-schema=always\nspring.quartz.properties.org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\nspring.quartz.properties.org.quartz.jobStore.isClustered=true\nspring.quartz.properties.org.quartz.jobStore.clusterCheckinInterval=2000\nspring.quartz.properties.org.quartz.scheduler.instanceId=AUTO\nspring.quartz.properties.org.quartz.jobStore.class = org.quartz.impl.jdbcjobstore.JobStoreTX\nspring.quartz.properties.org.quartz.jobStore.useProperties=false\nspring.quartz.properties.org.quartz.jobStore.tablePrefix=QRTZ_\n</code></pre>\n<p>And config class:</p>\n<pre><code>@Bean\npublic SchedulerFactoryBean schedulerFactory(ApplicationContext applicationContext, DataSource dataSource, QuartzProperties quartzProperties) {\n    SchedulerFactoryBean schedulerFactoryBean = new SchedulerFactoryBean();\n    AutowireCapableBeanJobFactory jobFactory = new AutowireCapableBeanJobFactory(applicationContext.getAutowireCapableBeanFactory());\n    Properties properties = new Properties();\n    properties.putAll(quartzProperties.getProperties());\n\n    schedulerFactoryBean.setOverwriteExistingJobs(true);\n    schedulerFactoryBean.setDataSource(dataSource);\n    schedulerFactoryBean.setQuartzProperties(properties);\n    schedulerFactoryBean.setJobFactory(jobFactory);\n\n    return schedulerFactoryBean;\n}\n\n@Bean\npublic Scheduler scheduler(ApplicationContext applicationContext, DataSource dataSource, QuartzProperties quartzProperties)\n    throws SchedulerException {\n    Scheduler scheduler = schedulerFactory(applicationContext, dataSource, quartzProperties).getScheduler();\n    scheduler.start();\n    return scheduler;\n}\n</code></pre>\n<p>This works fine, and the tables are getting created. However I would like to have the tables in a different schema. So I set quartz to use 'quartz' schema.</p>\n<pre><code>spring.quartz.properties.org.quartz.jobStore.tablePrefix=quartz.QRTZ_\n</code></pre>\n<p>This is the error I'm getting:</p>\n<pre><code>[ClusterManager: Error managing cluster: Failure obtaining db row lock: ERROR: current transaction is aborted, commands ignored until end of transaction block] [org.quartz.impl.jdbcjobstore.LockException: Failure obtaining db row lock: ERROR: current transaction is aborted, commands ignored until end of transaction block\n</code></pre>\n<p>Any ideas on how to solve it?</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632819555,"post_id":69334926,"comment_id":122589927,"body_markdown":"Different threads, different entitymanagers. Why because not the whole method is transactional. Also by default there is open entitymanager in view enabled, so if you use a single thread you use a single entitymanager. when multithreaded, in those case, you use at least 2 different ones.","body":"Different threads, different entitymanagers. Why because not the whole method is transactional. Also by default there is open entitymanager in view enabled, so if you use a single thread you use a single entitymanager. when multithreaded, in those case, you use at least 2 different ones."},{"owner":{"account_id":10421259,"reputation":120,"user_id":7683853,"display_name":"Huy Ha"},"score":0,"creation_date":1632820507,"post_id":69334926,"comment_id":122590291,"body_markdown":"@M.Deinum Can you explain in more details? It&#39;s not clear to me. It doesn&#39;t explain why changes in normal thread is saved but not async thread.\n A reference link will be good.","body":"@M.Deinum Can you explain in more details? It&#39;s not clear to me. It doesn&#39;t explain why changes in normal thread is saved but not async thread.  A reference link will be good."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632821238,"post_id":69334926,"comment_id":122590603,"body_markdown":"An `EntityManager` is bound to a thread, in the case of async usage you are using multiple threads (which is why `contains` returns `false` because that is bound to **thread 1** and it is being read with **thread 2** so the `EntityManger` of **thread 1** doesn&#39;t contain the read entity). As it is detached, there is no change detected and thus nothing to save. Setting something in a transactional method **without** calling save for a detached entity does just that, nothing.","body":"An <code>EntityManager</code> is bound to a thread, in the case of async usage you are using multiple threads (which is why <code>contains</code> returns <code>false</code> because that is bound to <b>thread 1</b> and it is being read with <b>thread 2</b> so the <code>EntityManger</code> of <b>thread 1</b> doesn&#39;t contain the read entity). As it is detached, there is no change detected and thus nothing to save. Setting something in a transactional method <b>without</b> calling save for a detached entity does just that, nothing."},{"owner":{"account_id":10421259,"reputation":120,"user_id":7683853,"display_name":"Huy Ha"},"score":0,"creation_date":1632822084,"post_id":69334926,"comment_id":122590925,"body_markdown":"@M.Deinum In case contain() return true, does it mean that a transaction and a persistent context has been created for this thread from start and in Jpa repository, query is sent to database using the same transaction?","body":"@M.Deinum In case contain() return true, does it mean that a transaction and a persistent context has been created for this thread from start and in Jpa repository, query is sent to database using the same transaction?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632822747,"post_id":69334926,"comment_id":122591197,"body_markdown":"Using the same `EntityManager` the transaction doesn&#39;t make any difference in this case (at least for the async one as the `Book` entity is never reattached )","body":"Using the same <code>EntityManager</code> the transaction doesn&#39;t make any difference in this case (at least for the async one as the <code>Book</code> entity is never reattached )"},{"owner":{"account_id":10421259,"reputation":120,"user_id":7683853,"display_name":"Huy Ha"},"score":0,"creation_date":1632823352,"post_id":69334926,"comment_id":122591470,"body_markdown":"This entity manager instance is container-managed. I wonder where its persistent context come from? Is it associated with any transaction?\nWe saw that in the async thread, the returned entity isn&#39;t attached but in the normal it&#39;s attached. \n\nThe implementation of Jpa repository has its own Transactional annotation with the default behavior. So if there is no existing transaction when it&#39;s called, it will create a new one and returned entity should be detached in both scenario because the transaction used to execute query has been closed.","body":"This entity manager instance is container-managed. I wonder where its persistent context come from? Is it associated with any transaction? We saw that in the async thread, the returned entity isn&#39;t attached but in the normal it&#39;s attached.   The implementation of Jpa repository has its own Transactional annotation with the default behavior. So if there is no existing transaction when it&#39;s called, it will create a new one and returned entity should be detached in both scenario because the transaction used to execute query has been closed."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632823658,"post_id":69334926,"comment_id":122591601,"body_markdown":"Please read... An `EntityManager` is thread-bound, as you are injecting it into your service this is bound to the **main** thread. Now when executing everything not async, that `EntityManager` is shared by all operations and nothing will be detached (which is why `contains` returns `true`). With async you have still the `EntityManager` that is injected bound to the **main** thread but there is another `EntityManager` bound to the async thread. You are checking in the main thread if that contains it it doesn&#39;t because those are 2 different instances.","body":"Please read... An <code>EntityManager</code> is thread-bound, as you are injecting it into your service this is bound to the <b>main</b> thread. Now when executing everything not async, that <code>EntityManager</code> is shared by all operations and nothing will be detached (which is why <code>contains</code> returns <code>true</code>). With async you have still the <code>EntityManager</code> that is injected bound to the <b>main</b> thread but there is another <code>EntityManager</code> bound to the async thread. You are checking in the main thread if that contains it it doesn&#39;t because those are 2 different instances."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632823660,"post_id":69334926,"comment_id":122591602,"body_markdown":"Detaching has nothing to do with the transaction but the span of the `Entitymanager`.","body":"Detaching has nothing to do with the transaction but the span of the <code>Entitymanager</code>."},{"owner":{"account_id":10421259,"reputation":120,"user_id":7683853,"display_name":"Huy Ha"},"score":0,"creation_date":1632824073,"post_id":69334926,"comment_id":122591780,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/237585/discussion-between-huy-ha-and-m-deinum).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/237585/discussion-between-huy-ha-and-m-deinum\">continue this discussion in chat</a>."}],"owner":{"account_id":10421259,"reputation":120,"user_id":7683853,"display_name":"Huy Ha"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1633102383,"creation_date":1632659317,"question_id":69334926,"body_markdown":"I used to think that any entities returned by a JpaRepository will be in DETACH state because in Spring the default PersistentContextType is TRANSACTION and when we get the returned values at the caller of a JpaRepository, the transaction used to get those entities has been closed.\r\n\r\nBut recently, I unexpectedly found down that it depend. I have this sample code.\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class BookService {\r\n    private final BookRepository bookRepository;\r\n    private final UpdateService updateService;\r\n    @PersistenceContext\r\n    private final EntityManager entityManager;\r\n\r\n    public Book updateAuthor(String bookId, String author) {\r\n        Book book = bookRepository.findById(bookId).get();\r\n        entityManager.contains(book); // true\r\n        Book updateBook = updateService.updateAuthorTransactional(book, author);\r\n        return updateBook;\r\n    }\r\n\r\n    @Async\r\n    public Book updateAuthorAsync(String bookId, String author) {\r\n        Book book = bookRepository.findById(bookId).get();\r\n        entityManager.contains(book); // false\r\n        Book updatedBook =  updateService.updateAuthorTransactional(book, author);\r\n        return updatedBook;\r\n    }\r\n\r\n    public void updateAuthorExecutor(String bookId, String author) {\r\n        Executors.newFixedThreadPool(1).submit(() -&gt; {\r\n            Book book = bookRepository.findById(bookId).get();\r\n            entityManager.contains(book); // false\r\n            Book updateBook = updateService.updateAuthorTransactional(book, author);\r\n            return updateBook;\r\n        });\r\n    }\r\n}\r\n```\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UpdateService {\r\n\r\n    @Transactional\r\n    public Book updateAuthorTransactional(Book book, String author) {\r\n        book.setAuthor(author);\r\n        return book;\r\n    }\r\n}\r\n```\r\nThe BookRepository is a simple empty interface which extends JpaRepositoty. Book is a entity with 3 fields: id, title, author. I use H2 to init 2 records of Book using this \r\n```\r\ninsert into `test`.`book` values ( &#39;101&#39;, &#39;Book101&#39;, null );\r\ninsert into `test`.`book` values ( &#39;102&#39;, &#39;Book102&#39;, null );\r\n```\r\nWhen I trigger method BookService.updateAuthor(), the state of returned entity is PERSISTED. I conclude that because EntityManager.contain() return true and after the method UpdateService.updateAuthorTransactional() is executed, the transaction is closed, the persistent context is flushed and the new value of author is updated to database. \r\n\r\nBut this isn&#39;t the case with other two methods in BookService. The EntityManager.contain() return false and the new value of author is not updated to database.\r\n\r\nSo I wonder\r\n1. What makes the difference behind the scene here?\r\n2. Which persistent context stores the book entity in updateAuthor() method? What is about its life-cycle like when it is initialized, closed?\r\n3. I used to think that when the transaction close, all entities in the persistent context will be transitioned to DETACH state. Is this still correct? Is there something different with Spring Data Jpa?\r\n\r\nUpdate: Look like the web container has created a persistent context somewhere for the main thread, and all repository method call in main thread will share this same persistent context. In case of async thread, there is no such persistent context for the thread. It will be created and closed by proxied Jpa repository method. This result into what i get. Just my guess from the phenomenon, I can not find any document to prove this.","title":"Why state of entity returned from JpaRepository in normal thread and async thread are different","body":"<p>I used to think that any entities returned by a JpaRepository will be in DETACH state because in Spring the default PersistentContextType is TRANSACTION and when we get the returned values at the caller of a JpaRepository, the transaction used to get those entities has been closed.</p>\n<p>But recently, I unexpectedly found down that it depend. I have this sample code.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class BookService {\n    private final BookRepository bookRepository;\n    private final UpdateService updateService;\n    @PersistenceContext\n    private final EntityManager entityManager;\n\n    public Book updateAuthor(String bookId, String author) {\n        Book book = bookRepository.findById(bookId).get();\n        entityManager.contains(book); // true\n        Book updateBook = updateService.updateAuthorTransactional(book, author);\n        return updateBook;\n    }\n\n    @Async\n    public Book updateAuthorAsync(String bookId, String author) {\n        Book book = bookRepository.findById(bookId).get();\n        entityManager.contains(book); // false\n        Book updatedBook =  updateService.updateAuthorTransactional(book, author);\n        return updatedBook;\n    }\n\n    public void updateAuthorExecutor(String bookId, String author) {\n        Executors.newFixedThreadPool(1).submit(() -&gt; {\n            Book book = bookRepository.findById(bookId).get();\n            entityManager.contains(book); // false\n            Book updateBook = updateService.updateAuthorTransactional(book, author);\n            return updateBook;\n        });\n    }\n}\n</code></pre>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class UpdateService {\n\n    @Transactional\n    public Book updateAuthorTransactional(Book book, String author) {\n        book.setAuthor(author);\n        return book;\n    }\n}\n</code></pre>\n<p>The BookRepository is a simple empty interface which extends JpaRepositoty. Book is a entity with 3 fields: id, title, author. I use H2 to init 2 records of Book using this</p>\n<pre><code>insert into `test`.`book` values ( '101', 'Book101', null );\ninsert into `test`.`book` values ( '102', 'Book102', null );\n</code></pre>\n<p>When I trigger method BookService.updateAuthor(), the state of returned entity is PERSISTED. I conclude that because EntityManager.contain() return true and after the method UpdateService.updateAuthorTransactional() is executed, the transaction is closed, the persistent context is flushed and the new value of author is updated to database.</p>\n<p>But this isn't the case with other two methods in BookService. The EntityManager.contain() return false and the new value of author is not updated to database.</p>\n<p>So I wonder</p>\n<ol>\n<li>What makes the difference behind the scene here?</li>\n<li>Which persistent context stores the book entity in updateAuthor() method? What is about its life-cycle like when it is initialized, closed?</li>\n<li>I used to think that when the transaction close, all entities in the persistent context will be transitioned to DETACH state. Is this still correct? Is there something different with Spring Data Jpa?</li>\n</ol>\n<p>Update: Look like the web container has created a persistent context somewhere for the main thread, and all repository method call in main thread will share this same persistent context. In case of async thread, there is no such persistent context for the thread. It will be created and closed by proxied Jpa repository method. This result into what i get. Just my guess from the phenomenon, I can not find any document to prove this.</p>\n"},{"tags":["java","zip","nio"],"comments":[{"owner":{"account_id":185123,"reputation":8396,"user_id":421642,"accept_rate":77,"display_name":"OhadR"},"score":0,"creation_date":1525767734,"post_id":22536279,"comment_id":87475302,"body_markdown":"Possible duplicate of [Compile error in maven2: &quot;invalid CEN header (bad signature)&quot;](https://stackoverflow.com/questions/5453263/compile-error-in-maven2-invalid-cen-header-bad-signature)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/5453263/compile-error-in-maven2-invalid-cen-header-bad-signature\">Compile error in maven2: &quot;invalid CEN header (bad signature)&quot;</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1576881093,"creation_date":1395356869,"answer_id":22547034,"question_id":22536279,"body_markdown":"There are two possible explanations:\r\n\r\n  - You have a corrupted ZIP file - https://stackoverflow.com/questions/5453263/compile-error-in-maven2-invalid-cen-header-bad-signature\r\n\r\n  - It is something to do with ZIP-64:\r\n\r\n    - https://stackoverflow.com/questions/12346707/java-util-zip-zipexception-invalid-cen-header-bad-signature\r\n\r\n    - But also note that ZIP-64 support was only added in 1.7.0_b55; see https://bugs.openjdk.java.net/browse/JDK-4681995\r\n\r\n  \r\n    \r\n\r\n  ","title":"java.util.zip.ZipError: invalid CEN header (bad signature)","body":"<p>There are two possible explanations:</p>\n\n<ul>\n<li><p>You have a corrupted ZIP file - <a href=\"https://stackoverflow.com/questions/5453263/compile-error-in-maven2-invalid-cen-header-bad-signature\">Compile error in maven2: &quot;invalid CEN header (bad signature)&quot;</a></p></li>\n<li><p>It is something to do with ZIP-64:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/12346707/java-util-zip-zipexception-invalid-cen-header-bad-signature\">java.util.zip.ZipException: invalid CEN header (bad signature)</a></p></li>\n<li><p>But also note that ZIP-64 support was only added in 1.7.0_b55; see <a href=\"https://bugs.openjdk.java.net/browse/JDK-4681995\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-4681995</a></p></li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1864866,"reputation":960,"user_id":1688683,"accept_rate":36,"display_name":"Puneet Pandey"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1415785098,"creation_date":1415785098,"answer_id":26883622,"question_id":22536279,"body_markdown":"I too faced the issue in Maven based project. The issue occurred because of corrupted jars. Deleted the jars from .m2 folder and built the project again; and it worked like charm.","title":"java.util.zip.ZipError: invalid CEN header (bad signature)","body":"<p>I too faced the issue in Maven based project. The issue occurred because of corrupted jars. Deleted the jars from .m2 folder and built the project again; and it worked like charm.</p>\n"},{"tags":[],"owner":{"account_id":3782954,"reputation":524,"user_id":3141852,"accept_rate":43,"display_name":"Thangadurai"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1445088141,"creation_date":1445088141,"answer_id":33187129,"question_id":22536279,"body_markdown":"This problem occurs Due to jar file was downloaded is corrupted. \r\n\r\nif you are using Maven.\r\n------------------------------------\r\n- For Solving this issue, Delete Particular Jar File in **C:/Users/public/.m2/repository** folder.\r\n- After that add New Version of Maven in **POM.xml**.\r\n- Rebuild and try. It will work fine.","title":"java.util.zip.ZipError: invalid CEN header (bad signature)","body":"<p>This problem occurs Due to jar file was downloaded is corrupted. </p>\n\n<h2>if you are using Maven.</h2>\n\n<ul>\n<li>For Solving this issue, Delete Particular Jar File in <strong>C:/Users/public/.m2/repository</strong> folder.</li>\n<li>After that add New Version of Maven in <strong>POM.xml</strong>.</li>\n<li>Rebuild and try. It will work fine.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2994921,"reputation":628,"user_id":2541638,"display_name":"harvyS"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490438647,"creation_date":1490438647,"answer_id":43015398,"question_id":22536279,"body_markdown":"It is problem of configuration for maven compiler in your pom file. Default version java source and target is 1.5, even used JDK has higher version.\r\n\r\nTo fix, add maven compiler plugin configuration section with higher java version, example:\r\n\r\n    &lt;plugin&gt;\r\n\t  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t  &lt;version&gt;3.6.1&lt;/version&gt;\r\n\t  &lt;configuration&gt;\r\n\t\t&lt;source&gt;1.6&lt;/source&gt;\r\n\t\t&lt;target&gt;1.6&lt;/target&gt;\r\n\t  &lt;/configuration&gt;\r\n  \t&lt;/plugin&gt;\r\n\r\nFor more info check these links:\r\n\r\n[maven compiler][1]\r\n\r\n[bug report][2]\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\r\n  [2]: http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6432010\r\n","title":"java.util.zip.ZipError: invalid CEN header (bad signature)","body":"<p>It is problem of configuration for maven compiler in your pom file. Default version java source and target is 1.5, even used JDK has higher version.</p>\n\n<p>To fix, add maven compiler plugin configuration section with higher java version, example:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.6.1&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;source&gt;1.6&lt;/source&gt;\n    &lt;target&gt;1.6&lt;/target&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>For more info check these links:</p>\n\n<p><a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">maven compiler</a></p>\n\n<p><a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6432010\" rel=\"nofollow noreferrer\">bug report</a></p>\n"},{"tags":[],"owner":{"account_id":2369743,"reputation":7275,"user_id":2074605,"accept_rate":100,"display_name":"Parker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562597340,"creation_date":1562597340,"answer_id":56937486,"question_id":22536279,"body_markdown":"Large file (4GB+) support for zip archives (i.e. 64-bit zip support) was addressed by issue [JDK-4681995][1] (*&quot;Add support for large (&gt; 4GB) zip/jar files&quot;*).\r\n\r\nHowever, this change was not included in Java 7 until 1.7.0 build 55, which was a few builds after the specific version (1.7.0 build 40) that you were using. Updating to build 55 or later would solve the problem.\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-4681995","title":"java.util.zip.ZipError: invalid CEN header (bad signature)","body":"<p>Large file (4GB+) support for zip archives (i.e. 64-bit zip support) was addressed by issue <a href=\"https://bugs.openjdk.java.net/browse/JDK-4681995\" rel=\"nofollow noreferrer\">JDK-4681995</a> (<em>\"Add support for large (> 4GB) zip/jar files\"</em>).</p>\n\n<p>However, this change was not included in Java 7 until 1.7.0 build 55, which was a few builds after the specific version (1.7.0 build 40) that you were using. Updating to build 55 or later would solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":15763432,"reputation":163,"user_id":11374561,"display_name":"Vikcen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633102007,"creation_date":1633102007,"answer_id":69408394,"question_id":22536279,"body_markdown":"In my case i solved it by changing *Zip64Mode.Always* by *Zip64Mode.AsNeeded* in the step when i create the zip file, so this looks like this:\r\n\r\n```\r\nZipArchiveOutputStream zaos = new ZipArchiveOutputStream(os);\r\n\t\tzaos.setCreateUnicodeExtraFields(UnicodeExtraFieldPolicy.ALWAYS);\r\n\t\tzaos.setUseLanguageEncodingFlag(true);\r\n\t\tzaos.setUseZip64(Zip64Mode.AsNeeded);\r\n\t\tzaos.setFallbackToUTF8(true);\r\n\t\tzaos.setEncoding(&quot;UTF-8&quot;);\r\n```\r\n\r\nThen this line of code starts to work:\r\n\r\n```\r\ntry (FileSystem zipfs = FileSystems.newFileSystem(uri, env)) {\r\n.\r\n.\r\n.\r\n}\r\n```\r\n\r\nBy the way, using Java 8.\r\n\r\n","title":"java.util.zip.ZipError: invalid CEN header (bad signature)","body":"<p>In my case i solved it by changing <em>Zip64Mode.Always</em> by <em>Zip64Mode.AsNeeded</em> in the step when i create the zip file, so this looks like this:</p>\n<pre><code>ZipArchiveOutputStream zaos = new ZipArchiveOutputStream(os);\n        zaos.setCreateUnicodeExtraFields(UnicodeExtraFieldPolicy.ALWAYS);\n        zaos.setUseLanguageEncodingFlag(true);\n        zaos.setUseZip64(Zip64Mode.AsNeeded);\n        zaos.setFallbackToUTF8(true);\n        zaos.setEncoding(&quot;UTF-8&quot;);\n</code></pre>\n<p>Then this line of code starts to work:</p>\n<pre><code>try (FileSystem zipfs = FileSystems.newFileSystem(uri, env)) {\n.\n.\n.\n}\n</code></pre>\n<p>By the way, using Java 8.</p>\n"}],"owner":{"account_id":49729,"reputation":8364,"user_id":148208,"accept_rate":74,"display_name":"Justin Kredible"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62985,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":6,"score":16,"last_activity_date":1633102007,"creation_date":1395326312,"question_id":22536279,"body_markdown":"I&#39;m using Java 1.7.0_40 on Red Hat Linux and I have the following code:\r\n\r\n    Path zipfile = Paths.get(filename);\r\n    FileSystem fs = FileSystems.newFileSystem(zipfile, FileTest.class.getClassLoader());\r\n\r\nThe `filename` variable points to a zip file that is 788MB. The uncompressed size of the zip file is 8.3GB. When I run the code above I get the following exception:\r\n\r\n    Exception in thread &quot;main&quot; java.util.zip.ZipError: invalid CEN header (bad signature)\r\n            at com.sun.nio.zipfs.ZipFileSystem.zerror(ZipFileSystem.java:1605)\r\n            at com.sun.nio.zipfs.ZipFileSystem.initCEN(ZipFileSystem.java:1058)\r\n            at com.sun.nio.zipfs.ZipFileSystem.&lt;init&gt;(ZipFileSystem.java:130)\r\n            at com.sun.nio.zipfs.ZipFileSystemProvider.newFileSystem(ZipFileSystemProvider.java:139)\r\n            at java.nio.file.FileSystems.newFileSystem(FileSystems.java:386)\r\n            at FileTest.readFromZip(FileTest.java:35)\r\n            at FileTest.main(FileTest.java:25)\r\n\r\nI was under the impression that Java 7 was capable of handling large zip files. Can anyone explain why this is happening?\r\n\r\nThanks.","title":"java.util.zip.ZipError: invalid CEN header (bad signature)","body":"<p>I'm using Java 1.7.0_40 on Red Hat Linux and I have the following code:</p>\n\n<pre><code>Path zipfile = Paths.get(filename);\nFileSystem fs = FileSystems.newFileSystem(zipfile, FileTest.class.getClassLoader());\n</code></pre>\n\n<p>The <code>filename</code> variable points to a zip file that is 788MB. The uncompressed size of the zip file is 8.3GB. When I run the code above I get the following exception:</p>\n\n<pre><code>Exception in thread \"main\" java.util.zip.ZipError: invalid CEN header (bad signature)\n        at com.sun.nio.zipfs.ZipFileSystem.zerror(ZipFileSystem.java:1605)\n        at com.sun.nio.zipfs.ZipFileSystem.initCEN(ZipFileSystem.java:1058)\n        at com.sun.nio.zipfs.ZipFileSystem.&lt;init&gt;(ZipFileSystem.java:130)\n        at com.sun.nio.zipfs.ZipFileSystemProvider.newFileSystem(ZipFileSystemProvider.java:139)\n        at java.nio.file.FileSystems.newFileSystem(FileSystems.java:386)\n        at FileTest.readFromZip(FileTest.java:35)\n        at FileTest.main(FileTest.java:25)\n</code></pre>\n\n<p>I was under the impression that Java 7 was capable of handling large zip files. Can anyone explain why this is happening?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5559444,"reputation":43202,"user_id":4409409,"display_name":"Daniel Nugent"},"down_vote_count":1,"up_vote_count":187,"is_accepted":true,"score":186,"last_activity_date":1633101890,"creation_date":1476915594,"answer_id":40142454,"question_id":40142331,"body_markdown":"You need to actually request the Location permission at runtime (notice the comments in your code stating this).\r\n\r\n**Updated with Kotlin and background location for API 31 (Android 12):**\r\n\r\nStarting with API 30 background location must be requested separately. \r\nThis example is using `targetSdk 31` and `compileSdk 31`.\r\nNote that it&#39;s possible to bundle the background location request along with the main location request on API 29, however to do that you would need to maintain three separate code paths.  \r\nIt&#39;s easier to just break it out to separate requests for 29 and above.\r\n\r\nBe sure to include the latest location services in the app level gradle (18.0.0 at the time of writing):\r\n\r\n    implementation &quot;com.google.android.gms:play-services-location:18.0.0&quot;\r\n\r\nInclude the location permissions in the manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n\r\nThis is a simplified example that does handle most cases, but in a simplified way.  In the case where a user chooses &quot;Don&#39;t ask again&quot;, on the next app launch it will open up the settings for the user to manually enable the permission. \r\n\r\nFull activity code:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n\r\n\r\n\r\n    import android.Manifest\r\n    import android.app.AlertDialog\r\n    import android.content.Intent\r\n    import android.content.pm.PackageManager\r\n    import android.net.Uri\r\n    import android.os.Build\r\n    import android.os.Bundle\r\n    import android.os.Looper\r\n    import android.provider.Settings\r\n    import android.widget.Toast\r\n    import androidx.appcompat.app.AppCompatActivity\r\n    import androidx.core.app.ActivityCompat\r\n    import androidx.core.content.ContextCompat\r\n    import com.google.android.gms.location.*\r\n    \r\n    \r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        private var fusedLocationProvider: FusedLocationProviderClient? = null\r\n        private val locationRequest: LocationRequest = LocationRequest.create().apply {\r\n            interval = 30\r\n            fastestInterval = 10\r\n            priority = LocationRequest.PRIORITY_BALANCED_POWER_ACCURACY\r\n            maxWaitTime = 60\r\n        }\r\n    \r\n        private var locationCallback: LocationCallback = object : LocationCallback() {\r\n            override fun onLocationResult(locationResult: LocationResult) {\r\n                val locationList = locationResult.locations\r\n                if (locationList.isNotEmpty()) {\r\n                    //The last location in the list is the newest\r\n                    val location = locationList.last()\r\n                    Toast.makeText(\r\n                        this@MainActivity,\r\n                        &quot;Got Location: &quot; + location.toString(),\r\n                        Toast.LENGTH_LONG\r\n                    )\r\n                        .show()\r\n                }\r\n            }\r\n        }\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            fusedLocationProvider = LocationServices.getFusedLocationProviderClient(this)\r\n    \r\n            checkLocationPermission()\r\n        }\r\n    \r\n        override fun onResume() {\r\n            super.onResume()\r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n                == PackageManager.PERMISSION_GRANTED\r\n            ) {\r\n    \r\n                fusedLocationProvider?.requestLocationUpdates(\r\n                    locationRequest,\r\n                    locationCallback,\r\n                    Looper.getMainLooper()\r\n                )\r\n            }\r\n        }\r\n    \r\n        override fun onPause() {\r\n            super.onPause()\r\n            if (ContextCompat.checkSelfPermission(\r\n                    this,\r\n                    Manifest.permission.ACCESS_FINE_LOCATION\r\n                )\r\n                == PackageManager.PERMISSION_GRANTED\r\n            ) {\r\n    \r\n                fusedLocationProvider?.removeLocationUpdates(locationCallback)\r\n            }\r\n        }\r\n    \r\n        private fun checkLocationPermission() {\r\n            if (ActivityCompat.checkSelfPermission(\r\n                    this,\r\n                    Manifest.permission.ACCESS_FINE_LOCATION\r\n                ) != PackageManager.PERMISSION_GRANTED\r\n            ) {\r\n                // Should we show an explanation?\r\n                if (ActivityCompat.shouldShowRequestPermissionRationale(\r\n                        this,\r\n                        Manifest.permission.ACCESS_FINE_LOCATION\r\n                    )\r\n                ) {\r\n                    // Show an explanation to the user *asynchronously* -- don&#39;t block\r\n                    // this thread waiting for the user&#39;s response! After the user\r\n                    // sees the explanation, try again to request the permission.\r\n                    AlertDialog.Builder(this)\r\n                        .setTitle(&quot;Location Permission Needed&quot;)\r\n                        .setMessage(&quot;This app needs the Location permission, please accept to use location functionality&quot;)\r\n                        .setPositiveButton(\r\n                            &quot;OK&quot;\r\n                        ) { _, _ -&gt;\r\n                            //Prompt the user once explanation has been shown\r\n                            requestLocationPermission()\r\n                        }\r\n                        .create()\r\n                        .show()\r\n                } else {\r\n                    // No explanation needed, we can request the permission.\r\n                    requestLocationPermission()\r\n                }\r\n            } else {\r\n                checkBackgroundLocation()\r\n            }\r\n        }\r\n    \r\n        private fun checkBackgroundLocation() {\r\n            if (ActivityCompat.checkSelfPermission(\r\n                    this,\r\n                    Manifest.permission.ACCESS_BACKGROUND_LOCATION\r\n                ) != PackageManager.PERMISSION_GRANTED\r\n            ) {\r\n                requestBackgroundLocationPermission()\r\n            }\r\n        }\r\n    \r\n        private fun requestLocationPermission() {\r\n            ActivityCompat.requestPermissions(\r\n                this,\r\n                arrayOf(\r\n                    Manifest.permission.ACCESS_FINE_LOCATION,\r\n                ),\r\n                MY_PERMISSIONS_REQUEST_LOCATION\r\n            )\r\n        }\r\n    \r\n        private fun requestBackgroundLocationPermission() {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                ActivityCompat.requestPermissions(\r\n                    this,\r\n                    arrayOf(\r\n                        Manifest.permission.ACCESS_BACKGROUND_LOCATION\r\n                    ),\r\n                    MY_PERMISSIONS_REQUEST_BACKGROUND_LOCATION\r\n                )\r\n            } else {\r\n                ActivityCompat.requestPermissions(\r\n                    this,\r\n                    arrayOf(Manifest.permission.ACCESS_FINE_LOCATION),\r\n                    MY_PERMISSIONS_REQUEST_LOCATION\r\n                )\r\n            }\r\n        }\r\n    \r\n        override fun onRequestPermissionsResult(\r\n            requestCode: Int,\r\n            permissions: Array&lt;String&gt;,\r\n            grantResults: IntArray\r\n        ) {\r\n            when (requestCode) {\r\n                MY_PERMISSIONS_REQUEST_LOCATION -&gt; {\r\n                    // If request is cancelled, the result arrays are empty.\r\n                    if (grantResults.isNotEmpty() &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                        // permission was granted, yay! Do the\r\n                        // location-related task you need to do.\r\n                        if (ContextCompat.checkSelfPermission(\r\n                                this,\r\n                                Manifest.permission.ACCESS_FINE_LOCATION\r\n                            ) == PackageManager.PERMISSION_GRANTED\r\n                        ) {\r\n                            fusedLocationProvider?.requestLocationUpdates(\r\n                                locationRequest,\r\n                                locationCallback,\r\n                                Looper.getMainLooper()\r\n                            )\r\n    \r\n                            // Now check background location\r\n                            checkBackgroundLocation()\r\n                        }\r\n    \r\n                    } else {\r\n    \r\n                        // permission denied, boo! Disable the\r\n                        // functionality that depends on this permission.\r\n                        Toast.makeText(this, &quot;permission denied&quot;, Toast.LENGTH_LONG).show()\r\n    \r\n                        // Check if we are in a state where the user has denied the permission and\r\n                        // selected Don&#39;t ask again\r\n                        if (!ActivityCompat.shouldShowRequestPermissionRationale(\r\n                                this,\r\n                                Manifest.permission.ACCESS_FINE_LOCATION\r\n                            )\r\n                        ) {\r\n                            startActivity(\r\n                                Intent(\r\n                                    Settings.ACTION_APPLICATION_DETAILS_SETTINGS,\r\n                                    Uri.fromParts(&quot;package&quot;, this.packageName, null),\r\n                                ),\r\n                            )\r\n                        }\r\n                    }\r\n                    return\r\n                }\r\n                MY_PERMISSIONS_REQUEST_BACKGROUND_LOCATION -&gt; {\r\n                    // If request is cancelled, the result arrays are empty.\r\n                    if (grantResults.isNotEmpty() &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                        // permission was granted, yay! Do the\r\n                        // location-related task you need to do.\r\n                        if (ContextCompat.checkSelfPermission(\r\n                                this,\r\n                                Manifest.permission.ACCESS_FINE_LOCATION\r\n                            ) == PackageManager.PERMISSION_GRANTED\r\n                        ) {\r\n                            fusedLocationProvider?.requestLocationUpdates(\r\n                                locationRequest,\r\n                                locationCallback,\r\n                                Looper.getMainLooper()\r\n                            )\r\n    \r\n                            Toast.makeText(\r\n                                this,\r\n                                &quot;Granted Background Location Permission&quot;,\r\n                                Toast.LENGTH_LONG\r\n                            ).show()\r\n                        }\r\n                    } else {\r\n    \r\n                        // permission denied, boo! Disable the\r\n                        // functionality that depends on this permission.\r\n                        Toast.makeText(this, &quot;permission denied&quot;, Toast.LENGTH_LONG).show()\r\n                    }\r\n                    return\r\n    \r\n                }\r\n            }\r\n        }\r\n    \r\n        companion object {\r\n            private const val MY_PERMISSIONS_REQUEST_LOCATION = 99\r\n            private const val MY_PERMISSIONS_REQUEST_BACKGROUND_LOCATION = 66\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nOn Android 10 (API 29) it will give the user the choice to grant background location after the initial location request:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nOn Android 12 (API 31) it will do the same, but the interface is different:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n**Original Answer in Java:**\r\n\r\n\r\nHere is tested and working code to request the Location permission.\r\n\r\nPut this code in the Activity:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static final int MY_PERMISSIONS_REQUEST_LOCATION = 99;\r\n\r\n    public boolean checkLocationPermission() {\r\n        if (ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.ACCESS_FINE_LOCATION)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            // Should we show an explanation?\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                    Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n\r\n                // Show an explanation to the user *asynchronously* -- don&#39;t block\r\n                // this thread waiting for the user&#39;s response! After the user\r\n                // sees the explanation, try again to request the permission.\r\n                new AlertDialog.Builder(this)\r\n                        .setTitle(R.string.title_location_permission)\r\n                        .setMessage(R.string.text_location_permission)\r\n                        .setPositiveButton(R.string.ok, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                //Prompt the user once explanation has been shown\r\n                                ActivityCompat.requestPermissions(MainActivity.this,\r\n                                        new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\r\n                                        MY_PERMISSIONS_REQUEST_LOCATION);\r\n                            }\r\n                        })\r\n                        .create()\r\n                        .show();\r\n\r\n\r\n            } else {\r\n                // No explanation needed, we can request the permission.\r\n                ActivityCompat.requestPermissions(this,\r\n                        new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\r\n                        MY_PERMISSIONS_REQUEST_LOCATION);\r\n            }\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode,\r\n                                           String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case MY_PERMISSIONS_REQUEST_LOCATION: {\r\n                // If request is cancelled, the result arrays are empty.\r\n                if (grantResults.length &gt; 0\r\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n\r\n                    // permission was granted, yay! Do the\r\n                    // location-related task you need to do.\r\n                    if (ContextCompat.checkSelfPermission(this,\r\n                            Manifest.permission.ACCESS_FINE_LOCATION)\r\n                            == PackageManager.PERMISSION_GRANTED) {\r\n\r\n                        //Request location updates:\r\n                        locationManager.requestLocationUpdates(provider, 400, 1, this);\r\n                    }\r\n\r\n                } else {\r\n\r\n                    // permission denied, boo! Disable the\r\n                    // functionality that depends on this permission.\r\n\r\n                }\r\n                return;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nThen call the `checkLocationPermission()` method in `onCreate()`:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //.........\r\n\r\n        checkLocationPermission();\r\n    }\r\n\r\n\r\nYou can then use `onResume()` and `onPause()` exactly as it is in the question.\r\n\r\nHere is a condensed version that is a bit more clean:\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        if (ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.ACCESS_FINE_LOCATION)\r\n                == PackageManager.PERMISSION_GRANTED) {\r\n\r\n            locationManager.requestLocationUpdates(provider, 400, 1, this);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        if (ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.ACCESS_FINE_LOCATION)\r\n                == PackageManager.PERMISSION_GRANTED) {\r\n\r\n            locationManager.removeUpdates(this);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/el9pa.png\r\n  [2]: https://i.stack.imgur.com/1OfF1.png\r\n  [3]: https://i.stack.imgur.com/XvqYG.png\r\n  [4]: https://i.stack.imgur.com/hmvvN.png\r\n  [5]: https://i.stack.imgur.com/sIeKt.png","title":"How to request Location Permission at runtime","body":"<p>You need to actually request the Location permission at runtime (notice the comments in your code stating this).</p>\n<p><strong>Updated with Kotlin and background location for API 31 (Android 12):</strong></p>\n<p>Starting with API 30 background location must be requested separately.\nThis example is using <code>targetSdk 31</code> and <code>compileSdk 31</code>.\nNote that it's possible to bundle the background location request along with the main location request on API 29, however to do that you would need to maintain three separate code paths.<br />\nIt's easier to just break it out to separate requests for 29 and above.</p>\n<p>Be sure to include the latest location services in the app level gradle (18.0.0 at the time of writing):</p>\n<pre><code>implementation &quot;com.google.android.gms:play-services-location:18.0.0&quot;\n</code></pre>\n<p>Include the location permissions in the manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n</code></pre>\n<p>This is a simplified example that does handle most cases, but in a simplified way.  In the case where a user chooses &quot;Don't ask again&quot;, on the next app launch it will open up the settings for the user to manually enable the permission.</p>\n<p>Full activity code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import android.Manifest\nimport android.app.AlertDialog\nimport android.content.Intent\nimport android.content.pm.PackageManager\nimport android.net.Uri\nimport android.os.Build\nimport android.os.Bundle\nimport android.os.Looper\nimport android.provider.Settings\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.core.app.ActivityCompat\nimport androidx.core.content.ContextCompat\nimport com.google.android.gms.location.*\n\n\nclass MainActivity : AppCompatActivity() {\n\n    private var fusedLocationProvider: FusedLocationProviderClient? = null\n    private val locationRequest: LocationRequest = LocationRequest.create().apply {\n        interval = 30\n        fastestInterval = 10\n        priority = LocationRequest.PRIORITY_BALANCED_POWER_ACCURACY\n        maxWaitTime = 60\n    }\n\n    private var locationCallback: LocationCallback = object : LocationCallback() {\n        override fun onLocationResult(locationResult: LocationResult) {\n            val locationList = locationResult.locations\n            if (locationList.isNotEmpty()) {\n                //The last location in the list is the newest\n                val location = locationList.last()\n                Toast.makeText(\n                    this@MainActivity,\n                    &quot;Got Location: &quot; + location.toString(),\n                    Toast.LENGTH_LONG\n                )\n                    .show()\n            }\n        }\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        fusedLocationProvider = LocationServices.getFusedLocationProviderClient(this)\n\n        checkLocationPermission()\n    }\n\n    override fun onResume() {\n        super.onResume()\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\n            == PackageManager.PERMISSION_GRANTED\n        ) {\n\n            fusedLocationProvider?.requestLocationUpdates(\n                locationRequest,\n                locationCallback,\n                Looper.getMainLooper()\n            )\n        }\n    }\n\n    override fun onPause() {\n        super.onPause()\n        if (ContextCompat.checkSelfPermission(\n                this,\n                Manifest.permission.ACCESS_FINE_LOCATION\n            )\n            == PackageManager.PERMISSION_GRANTED\n        ) {\n\n            fusedLocationProvider?.removeLocationUpdates(locationCallback)\n        }\n    }\n\n    private fun checkLocationPermission() {\n        if (ActivityCompat.checkSelfPermission(\n                this,\n                Manifest.permission.ACCESS_FINE_LOCATION\n            ) != PackageManager.PERMISSION_GRANTED\n        ) {\n            // Should we show an explanation?\n            if (ActivityCompat.shouldShowRequestPermissionRationale(\n                    this,\n                    Manifest.permission.ACCESS_FINE_LOCATION\n                )\n            ) {\n                // Show an explanation to the user *asynchronously* -- don't block\n                // this thread waiting for the user's response! After the user\n                // sees the explanation, try again to request the permission.\n                AlertDialog.Builder(this)\n                    .setTitle(&quot;Location Permission Needed&quot;)\n                    .setMessage(&quot;This app needs the Location permission, please accept to use location functionality&quot;)\n                    .setPositiveButton(\n                        &quot;OK&quot;\n                    ) { _, _ -&gt;\n                        //Prompt the user once explanation has been shown\n                        requestLocationPermission()\n                    }\n                    .create()\n                    .show()\n            } else {\n                // No explanation needed, we can request the permission.\n                requestLocationPermission()\n            }\n        } else {\n            checkBackgroundLocation()\n        }\n    }\n\n    private fun checkBackgroundLocation() {\n        if (ActivityCompat.checkSelfPermission(\n                this,\n                Manifest.permission.ACCESS_BACKGROUND_LOCATION\n            ) != PackageManager.PERMISSION_GRANTED\n        ) {\n            requestBackgroundLocationPermission()\n        }\n    }\n\n    private fun requestLocationPermission() {\n        ActivityCompat.requestPermissions(\n            this,\n            arrayOf(\n                Manifest.permission.ACCESS_FINE_LOCATION,\n            ),\n            MY_PERMISSIONS_REQUEST_LOCATION\n        )\n    }\n\n    private fun requestBackgroundLocationPermission() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            ActivityCompat.requestPermissions(\n                this,\n                arrayOf(\n                    Manifest.permission.ACCESS_BACKGROUND_LOCATION\n                ),\n                MY_PERMISSIONS_REQUEST_BACKGROUND_LOCATION\n            )\n        } else {\n            ActivityCompat.requestPermissions(\n                this,\n                arrayOf(Manifest.permission.ACCESS_FINE_LOCATION),\n                MY_PERMISSIONS_REQUEST_LOCATION\n            )\n        }\n    }\n\n    override fun onRequestPermissionsResult(\n        requestCode: Int,\n        permissions: Array&lt;String&gt;,\n        grantResults: IntArray\n    ) {\n        when (requestCode) {\n            MY_PERMISSIONS_REQUEST_LOCATION -&gt; {\n                // If request is cancelled, the result arrays are empty.\n                if (grantResults.isNotEmpty() &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n                    // permission was granted, yay! Do the\n                    // location-related task you need to do.\n                    if (ContextCompat.checkSelfPermission(\n                            this,\n                            Manifest.permission.ACCESS_FINE_LOCATION\n                        ) == PackageManager.PERMISSION_GRANTED\n                    ) {\n                        fusedLocationProvider?.requestLocationUpdates(\n                            locationRequest,\n                            locationCallback,\n                            Looper.getMainLooper()\n                        )\n\n                        // Now check background location\n                        checkBackgroundLocation()\n                    }\n\n                } else {\n\n                    // permission denied, boo! Disable the\n                    // functionality that depends on this permission.\n                    Toast.makeText(this, &quot;permission denied&quot;, Toast.LENGTH_LONG).show()\n\n                    // Check if we are in a state where the user has denied the permission and\n                    // selected Don't ask again\n                    if (!ActivityCompat.shouldShowRequestPermissionRationale(\n                            this,\n                            Manifest.permission.ACCESS_FINE_LOCATION\n                        )\n                    ) {\n                        startActivity(\n                            Intent(\n                                Settings.ACTION_APPLICATION_DETAILS_SETTINGS,\n                                Uri.fromParts(&quot;package&quot;, this.packageName, null),\n                            ),\n                        )\n                    }\n                }\n                return\n            }\n            MY_PERMISSIONS_REQUEST_BACKGROUND_LOCATION -&gt; {\n                // If request is cancelled, the result arrays are empty.\n                if (grantResults.isNotEmpty() &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n                    // permission was granted, yay! Do the\n                    // location-related task you need to do.\n                    if (ContextCompat.checkSelfPermission(\n                            this,\n                            Manifest.permission.ACCESS_FINE_LOCATION\n                        ) == PackageManager.PERMISSION_GRANTED\n                    ) {\n                        fusedLocationProvider?.requestLocationUpdates(\n                            locationRequest,\n                            locationCallback,\n                            Looper.getMainLooper()\n                        )\n\n                        Toast.makeText(\n                            this,\n                            &quot;Granted Background Location Permission&quot;,\n                            Toast.LENGTH_LONG\n                        ).show()\n                    }\n                } else {\n\n                    // permission denied, boo! Disable the\n                    // functionality that depends on this permission.\n                    Toast.makeText(this, &quot;permission denied&quot;, Toast.LENGTH_LONG).show()\n                }\n                return\n\n            }\n        }\n    }\n\n    companion object {\n        private const val MY_PERMISSIONS_REQUEST_LOCATION = 99\n        private const val MY_PERMISSIONS_REQUEST_BACKGROUND_LOCATION = 66\n    }\n}\n</code></pre>\n<p>On Android 10 (API 29) it will give the user the choice to grant background location after the initial location request:</p>\n<p><a href=\"https://i.stack.imgur.com/el9pa.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/el9pa.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/1OfF1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1OfF1.png\" alt=\"enter image description here\" /></a></p>\n<p>On Android 12 (API 31) it will do the same, but the interface is different:</p>\n<p><a href=\"https://i.stack.imgur.com/XvqYG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XvqYG.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hmvvN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hmvvN.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/sIeKt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sIeKt.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Original Answer in Java:</strong></p>\n<p>Here is tested and working code to request the Location permission.</p>\n<p>Put this code in the Activity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final int MY_PERMISSIONS_REQUEST_LOCATION = 99;\n\npublic boolean checkLocationPermission() {\n    if (ContextCompat.checkSelfPermission(this,\n            Manifest.permission.ACCESS_FINE_LOCATION)\n            != PackageManager.PERMISSION_GRANTED) {\n\n        // Should we show an explanation?\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                Manifest.permission.ACCESS_FINE_LOCATION)) {\n\n            // Show an explanation to the user *asynchronously* -- don't block\n            // this thread waiting for the user's response! After the user\n            // sees the explanation, try again to request the permission.\n            new AlertDialog.Builder(this)\n                    .setTitle(R.string.title_location_permission)\n                    .setMessage(R.string.text_location_permission)\n                    .setPositiveButton(R.string.ok, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n                            //Prompt the user once explanation has been shown\n                            ActivityCompat.requestPermissions(MainActivity.this,\n                                    new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\n                                    MY_PERMISSIONS_REQUEST_LOCATION);\n                        }\n                    })\n                    .create()\n                    .show();\n\n\n        } else {\n            // No explanation needed, we can request the permission.\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\n                    MY_PERMISSIONS_REQUEST_LOCATION);\n        }\n        return false;\n    } else {\n        return true;\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode,\n                                       String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case MY_PERMISSIONS_REQUEST_LOCATION: {\n            // If request is cancelled, the result arrays are empty.\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n                // permission was granted, yay! Do the\n                // location-related task you need to do.\n                if (ContextCompat.checkSelfPermission(this,\n                        Manifest.permission.ACCESS_FINE_LOCATION)\n                        == PackageManager.PERMISSION_GRANTED) {\n\n                    //Request location updates:\n                    locationManager.requestLocationUpdates(provider, 400, 1, this);\n                }\n\n            } else {\n\n                // permission denied, boo! Disable the\n                // functionality that depends on this permission.\n\n            }\n            return;\n        }\n\n    }\n}\n</code></pre>\n<p>Then call the <code>checkLocationPermission()</code> method in <code>onCreate()</code>:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    //.........\n\n    checkLocationPermission();\n}\n</code></pre>\n<p>You can then use <code>onResume()</code> and <code>onPause()</code> exactly as it is in the question.</p>\n<p>Here is a condensed version that is a bit more clean:</p>\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n    if (ContextCompat.checkSelfPermission(this,\n            Manifest.permission.ACCESS_FINE_LOCATION)\n            == PackageManager.PERMISSION_GRANTED) {\n\n        locationManager.requestLocationUpdates(provider, 400, 1, this);\n    }\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    if (ContextCompat.checkSelfPermission(this,\n            Manifest.permission.ACCESS_FINE_LOCATION)\n            == PackageManager.PERMISSION_GRANTED) {\n\n        locationManager.removeUpdates(this);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8517947,"reputation":859,"user_id":6385825,"display_name":"Yashas"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1531676210,"creation_date":1531676210,"answer_id":51350622,"question_id":40142331,"body_markdown":"Google has created a library for easy Permissions management. Its called [EasyPermissions][1]\r\n\r\n\r\n  [1]: https://github.com/googlesamples/easypermissions\r\n\r\nHere is a simple example on requesting Location permission using this library.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private final int REQUEST_LOCATION_PERMISSION = 1;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            requestLocationPermission();\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    \r\n            // Forward results to EasyPermissions\r\n            EasyPermissions.onRequestPermissionsResult(requestCode, permissions, grantResults, this);\r\n        }\r\n    \r\n        @AfterPermissionGranted(REQUEST_LOCATION_PERMISSION)\r\n        public void requestLocationPermission() {\r\n            String[] perms = {Manifest.permission.ACCESS_FINE_LOCATION};\r\n            if(EasyPermissions.hasPermissions(this, perms)) {\r\n                Toast.makeText(this, &quot;Permission already granted&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else {\r\n                EasyPermissions.requestPermissions(this, &quot;Please grant the location permission&quot;, REQUEST_LOCATION_PERMISSION, perms);\r\n            }\r\n        }\r\n    }\r\n\r\n```@AfterPermissionsGranted(REQUEST_CODE)``` is used to indicate the method that needs to be executed after a permission request with the request code ```REQUEST_CODE``` has been granted.\r\n\r\nThis above case, the method ```requestLocationPermission()``` method is called if the user grants the permission to access location services. So, that method acts as both a callback and a method to request the permissions.\r\n\r\nYou can implement separate callbacks for permission granted and permission denied as well. It is explained in the github page.","title":"How to request Location Permission at runtime","body":"<p>Google has created a library for easy Permissions management. Its called <a href=\"https://github.com/googlesamples/easypermissions\" rel=\"noreferrer\">EasyPermissions</a></p>\n\n<p>Here is a simple example on requesting Location permission using this library.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private final int REQUEST_LOCATION_PERMISSION = 1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        requestLocationPermission();\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        // Forward results to EasyPermissions\n        EasyPermissions.onRequestPermissionsResult(requestCode, permissions, grantResults, this);\n    }\n\n    @AfterPermissionGranted(REQUEST_LOCATION_PERMISSION)\n    public void requestLocationPermission() {\n        String[] perms = {Manifest.permission.ACCESS_FINE_LOCATION};\n        if(EasyPermissions.hasPermissions(this, perms)) {\n            Toast.makeText(this, \"Permission already granted\", Toast.LENGTH_SHORT).show();\n        }\n        else {\n            EasyPermissions.requestPermissions(this, \"Please grant the location permission\", REQUEST_LOCATION_PERMISSION, perms);\n        }\n    }\n}\n</code></pre>\n\n<p><code>@AfterPermissionsGranted(REQUEST_CODE)</code> is used to indicate the method that needs to be executed after a permission request with the request code <code>REQUEST_CODE</code> has been granted.</p>\n\n<p>This above case, the method <code>requestLocationPermission()</code> method is called if the user grants the permission to access location services. So, that method acts as both a callback and a method to request the permissions.</p>\n\n<p>You can implement separate callbacks for permission granted and permission denied as well. It is explained in the github page.</p>\n"},{"tags":[],"owner":{"account_id":2994330,"reputation":1144,"user_id":2541156,"display_name":"Anh Duy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556884867,"creation_date":1556884867,"answer_id":55969405,"question_id":40142331,"body_markdown":"This code work for me. I also handled case &quot;Never Ask Me&quot;\r\n\r\nIn AndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n\r\nIn build.gradle (Module: app)\r\n\r\n    dependencies {\r\n        ....\r\n        implementation &quot;com.google.android.gms:play-services-location:16.0.0&quot;\r\n    }\r\n\r\nThis is CurrentLocationManager.kt\r\n\r\n    import android.Manifest\r\n    import android.app.Activity\r\n    import android.content.Context\r\n    import android.content.IntentSender\r\n    import android.content.pm.PackageManager\r\n    import android.location.Location\r\n    import android.location.LocationListener\r\n    import android.location.LocationManager\r\n    import android.os.Bundle\r\n    import android.os.CountDownTimer\r\n    import android.support.v4.app.ActivityCompat\r\n    import android.support.v4.content.ContextCompat\r\n    import android.util.Log\r\n    import com.google.android.gms.common.api.ApiException\r\n    import com.google.android.gms.common.api.CommonStatusCodes\r\n    import com.google.android.gms.common.api.ResolvableApiException\r\n    import com.google.android.gms.location.LocationRequest\r\n    import com.google.android.gms.location.LocationServices\r\n    import com.google.android.gms.location.LocationSettingsRequest\r\n    import com.google.android.gms.location.LocationSettingsStatusCodes\r\n    import java.lang.ref.WeakReference\r\n    \r\n    \r\n    object CurrentLocationManager : LocationListener {\r\n    \r\n        const val REQUEST_CODE_ACCESS_LOCATION = 123\r\n    \r\n        fun checkLocationPermission(activity: Activity) {\r\n            if (ContextCompat.checkSelfPermission(\r\n                    activity,\r\n                    Manifest.permission.ACCESS_FINE_LOCATION\r\n                ) != PackageManager.PERMISSION_GRANTED\r\n            ) {\r\n                ActivityCompat.requestPermissions(\r\n                    activity,\r\n                    arrayOf(Manifest.permission.ACCESS_FINE_LOCATION),\r\n                    REQUEST_CODE_ACCESS_LOCATION\r\n                )\r\n            } else {\r\n                Thread(Runnable {\r\n                    // Moves the current Thread into the background\r\n                    android.os.Process.setThreadPriority(android.os.Process.THREAD_PRIORITY_BACKGROUND)\r\n                    //\r\n                    requestLocationUpdates(activity)\r\n                }).start()\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * be used in HomeActivity.\r\n         */\r\n        const val REQUEST_CHECK_SETTINGS = 55\r\n        /**\r\n         * The number of millis in the future from the call to start().\r\n         * until the countdown is done and onFinish() is called.\r\n         *\r\n         *\r\n         * It is also the interval along the way to receive onTick(long) callbacks.\r\n         */\r\n        private const val TWENTY_SECS: Long = 20000\r\n        /**\r\n         * Timer to get location from history when requestLocationUpdates don&#39;t return result.\r\n         */\r\n        private var mCountDownTimer: CountDownTimer? = null\r\n        /**\r\n         * WeakReference of current activity.\r\n         */\r\n        private var mWeakReferenceActivity: WeakReference&lt;Activity&gt;? = null\r\n        /**\r\n         * user&#39;s location.\r\n         */\r\n        var currentLocation: Location? = null\r\n    \r\n        @Synchronized\r\n        fun requestLocationUpdates(activity: Activity) {\r\n            if (mWeakReferenceActivity == null) {\r\n                mWeakReferenceActivity = WeakReference(activity)\r\n            } else {\r\n                mWeakReferenceActivity?.clear()\r\n                mWeakReferenceActivity = WeakReference(activity)\r\n            }\r\n            //create location request: https://developer.android.com/training/location/change-location-settings.html#prompt\r\n            val mLocationRequest = LocationRequest()\r\n            // Which your app prefers to receive location updates. Note that the location updates may be\r\n            // faster than this rate, or slower than this rate, or there may be no updates at all\r\n            // (if the device has no connectivity)\r\n            mLocationRequest.interval = 20000\r\n            //This method sets the fastest rate in milliseconds at which your app can handle location updates.\r\n            // You need to set this rate because other apps also affect the rate at which updates are sent\r\n            mLocationRequest.fastestInterval = 10000\r\n            mLocationRequest.priority = LocationRequest.PRIORITY_HIGH_ACCURACY\r\n    \r\n            //Get Current Location Settings\r\n            val builder = LocationSettingsRequest.Builder().addLocationRequest(mLocationRequest)\r\n            //Next check whether the current location settings are satisfied\r\n            val client = LocationServices.getSettingsClient(activity)\r\n            val task = client.checkLocationSettings(builder.build())\r\n            //Prompt the User to Change Location Settings\r\n            task.addOnSuccessListener(activity) {\r\n                Log.d(&quot;CurrentLocationManager&quot;, &quot;OnSuccessListener&quot;)\r\n                // All location settings are satisfied. The client can initialize location requests here.\r\n                // If it&#39;s failed, the result after user updated setting is sent to onActivityResult of HomeActivity.\r\n                val activity1 = mWeakReferenceActivity?.get()\r\n                if (activity1 != null) {\r\n                    startRequestLocationUpdate(activity1.applicationContext)\r\n                }\r\n            }\r\n    \r\n            task.addOnFailureListener(activity) { e -&gt;\r\n                Log.d(&quot;CurrentLocationManager&quot;, &quot;addOnFailureListener&quot;)\r\n                val statusCode = (e as ApiException).statusCode\r\n                when (statusCode) {\r\n                    CommonStatusCodes.RESOLUTION_REQUIRED -&gt;\r\n                        // Location settings are not satisfied, but this can be fixed\r\n                        // by showing the user a dialog.\r\n                        try {\r\n                            val activity1 = mWeakReferenceActivity?.get()\r\n                            if (activity1 != null) {\r\n                                // Show the dialog by calling startResolutionForResult(),\r\n                                // and check the result in onActivityResult().\r\n                                val resolvable = e as ResolvableApiException\r\n                                resolvable.startResolutionForResult(\r\n                                    activity1, REQUEST_CHECK_SETTINGS\r\n                                )\r\n                            }\r\n                        } catch (sendEx: IntentSender.SendIntentException) {\r\n                            // Ignore the error.\r\n                            sendEx.printStackTrace()\r\n                        }\r\n    \r\n                    LocationSettingsStatusCodes.SETTINGS_CHANGE_UNAVAILABLE -&gt; {\r\n                        // Location settings are not satisfied. However, we have no way\r\n                        // to fix the settings so we won&#39;t show the dialog.\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        fun startRequestLocationUpdate(appContext: Context) {\r\n            val mLocationManager = appContext.getSystemService(Context.LOCATION_SERVICE) as LocationManager\r\n            if (ActivityCompat.checkSelfPermission(\r\n                    appContext.applicationContext,\r\n                    Manifest.permission.ACCESS_FINE_LOCATION\r\n                ) == PackageManager.PERMISSION_GRANTED\r\n            ) {\r\n                //Utilities.showProgressDialog(mWeakReferenceActivity.get());\r\n                if (mLocationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER)) {\r\n                    mLocationManager.requestLocationUpdates(\r\n                        LocationManager.NETWORK_PROVIDER, 10000, 0f, this\r\n                    )\r\n                } else {\r\n                    mLocationManager.requestLocationUpdates(\r\n                        LocationManager.GPS_PROVIDER, 10000, 0f, this\r\n                    )\r\n                }\r\n            }\r\n    \r\n            /*Timer to call getLastKnownLocation() when requestLocationUpdates don &#39;t return result*/\r\n            countDownUpdateLocation()\r\n        }\r\n    \r\n        override fun onLocationChanged(location: Location?) {\r\n            if (location != null) {\r\n                stopRequestLocationUpdates()\r\n                currentLocation = location\r\n            }\r\n        }\r\n    \r\n        override fun onStatusChanged(provider: String, status: Int, extras: Bundle) {\r\n    \r\n        }\r\n    \r\n        override fun onProviderEnabled(provider: String) {\r\n    \r\n        }\r\n    \r\n        override fun onProviderDisabled(provider: String) {\r\n    \r\n        }\r\n    \r\n        /**\r\n         * Init CountDownTimer to to get location from history when requestLocationUpdates don&#39;t return result.\r\n         */\r\n        @Synchronized\r\n        private fun countDownUpdateLocation() {\r\n            mCountDownTimer?.cancel()\r\n            mCountDownTimer = object : CountDownTimer(TWENTY_SECS, TWENTY_SECS) {\r\n                override fun onTick(millisUntilFinished: Long) {}\r\n    \r\n                override fun onFinish() {\r\n                    if (mWeakReferenceActivity != null) {\r\n                        val activity = mWeakReferenceActivity?.get()\r\n                        if (activity != null &amp;&amp; ActivityCompat.checkSelfPermission(\r\n                                activity,\r\n                                Manifest.permission.ACCESS_FINE_LOCATION\r\n                            ) == PackageManager.PERMISSION_GRANTED\r\n                        ) {\r\n                            val location = (activity.applicationContext\r\n                                .getSystemService(Context.LOCATION_SERVICE) as LocationManager)\r\n                                .getLastKnownLocation(LocationManager.PASSIVE_PROVIDER)\r\n                            stopRequestLocationUpdates()\r\n                            onLocationChanged(location)\r\n                        } else {\r\n                            stopRequestLocationUpdates()\r\n                        }\r\n                    } else {\r\n                        mCountDownTimer?.cancel()\r\n                        mCountDownTimer = null\r\n                    }\r\n                }\r\n            }.start()\r\n        }\r\n    \r\n        /**\r\n         * The method must be called in onDestroy() of activity to\r\n         * removeUpdateLocation and cancel CountDownTimer.\r\n         */\r\n        fun stopRequestLocationUpdates() {\r\n            val activity = mWeakReferenceActivity?.get()\r\n            if (activity != null) {\r\n                /*if (ActivityCompat.checkSelfPermission(activity,\r\n                        Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {*/\r\n                (activity.applicationContext\r\n                    .getSystemService(Context.LOCATION_SERVICE) as LocationManager).removeUpdates(this)\r\n                /*}*/\r\n            }\r\n            mCountDownTimer?.cancel()\r\n            mCountDownTimer = null\r\n        }\r\n    }\r\n\r\nIn MainActivity.kt\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n    ...\r\n    CurrentLocationManager.checkLocationPermission(this@LoginActivity)\r\n    }\r\n    \r\n    override fun onDestroy() {\r\n            CurrentLocationManager.stopRequestLocationUpdates()\r\n            super.onDestroy()\r\n        }\r\n    \r\n    \r\n        override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults)\r\n            if (requestCode == CurrentLocationManager.REQUEST_CODE_ACCESS_LOCATION) {\r\n                if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\r\n                    //denied\r\n                    val builder = AlertDialog.Builder(this)\r\n                    builder.setMessage(&quot;We need permission to use your location for the purpose of finding friends near you.&quot;)\r\n                        .setTitle(&quot;Device Location Required&quot;)\r\n                        .setIcon(com.eswapp.R.drawable.ic_info)\r\n                        .setPositiveButton(&quot;OK&quot;) { _, _ -&gt;\r\n                            if (ActivityCompat.shouldShowRequestPermissionRationale(\r\n                                    this,\r\n                                    Manifest.permission.ACCESS_FINE_LOCATION\r\n                                )\r\n                            ) {\r\n                                //only deny\r\n                                CurrentLocationManager.checkLocationPermission(this@LoginActivity)\r\n                            } else {\r\n                                //never ask again\r\n                                val intent = Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS)\r\n                                val uri = Uri.fromParts(&quot;package&quot;, packageName, null)\r\n                                intent.data = uri\r\n                                startActivityForResult(intent, CurrentLocationManager.REQUEST_CHECK_SETTINGS)\r\n                            }\r\n                        }\r\n                        .setNegativeButton(&quot;Ask Me Later&quot;) { _, _ -&gt;\r\n    \r\n                        }\r\n                    // Create the AlertDialog object and return it\r\n                    val dialog = builder.create()\r\n                    dialog.show()\r\n                } else if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    CurrentLocationManager.requestLocationUpdates(this)\r\n                }\r\n            }\r\n        }\r\n    \r\n        //Forward Login result to the CallBackManager in OnActivityResult()\r\n        override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n            when (requestCode) {\r\n                //case 1. After you allow the app access device location, Another dialog will be displayed to request you to turn on device location\r\n                //case 2. Or You chosen Never Ask Again, you open device Setting and enable location permission\r\n                CurrentLocationManager.REQUEST_CHECK_SETTINGS -&gt; when (resultCode) {\r\n                    RESULT_OK -&gt; {\r\n                        Log.d(&quot;REQUEST_CHECK_SETTINGS&quot;, &quot;RESULT_OK&quot;)\r\n                        //case 1. You choose OK\r\n                        CurrentLocationManager.startRequestLocationUpdate(applicationContext)\r\n                    }\r\n                    RESULT_CANCELED -&gt; {\r\n                        Log.d(&quot;REQUEST_CHECK_SETTINGS&quot;, &quot;RESULT_CANCELED&quot;)\r\n                        //case 1. You choose NO THANKS\r\n                        //CurrentLocationManager.requestLocationUpdates(this)\r\n    \r\n                        //case 2. In device Setting screen: user can enable or not enable location permission,\r\n                        // so when user back to this activity, we should re-call checkLocationPermission()\r\n                        CurrentLocationManager.checkLocationPermission(this@LoginActivity)\r\n                    }\r\n                    else -&gt; {\r\n                        //do nothing\r\n                    }\r\n                }\r\n                else -&gt; {\r\n                    super.onActivityResult(requestCode, resultCode, data)\r\n                }\r\n            }\r\n        }","title":"How to request Location Permission at runtime","body":"<p>This code work for me. I also handled case \"Never Ask Me\"</p>\n\n<p>In AndroidManifest.xml</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n</code></pre>\n\n<p>In build.gradle (Module: app)</p>\n\n<pre><code>dependencies {\n    ....\n    implementation \"com.google.android.gms:play-services-location:16.0.0\"\n}\n</code></pre>\n\n<p>This is CurrentLocationManager.kt</p>\n\n<pre><code>import android.Manifest\nimport android.app.Activity\nimport android.content.Context\nimport android.content.IntentSender\nimport android.content.pm.PackageManager\nimport android.location.Location\nimport android.location.LocationListener\nimport android.location.LocationManager\nimport android.os.Bundle\nimport android.os.CountDownTimer\nimport android.support.v4.app.ActivityCompat\nimport android.support.v4.content.ContextCompat\nimport android.util.Log\nimport com.google.android.gms.common.api.ApiException\nimport com.google.android.gms.common.api.CommonStatusCodes\nimport com.google.android.gms.common.api.ResolvableApiException\nimport com.google.android.gms.location.LocationRequest\nimport com.google.android.gms.location.LocationServices\nimport com.google.android.gms.location.LocationSettingsRequest\nimport com.google.android.gms.location.LocationSettingsStatusCodes\nimport java.lang.ref.WeakReference\n\n\nobject CurrentLocationManager : LocationListener {\n\n    const val REQUEST_CODE_ACCESS_LOCATION = 123\n\n    fun checkLocationPermission(activity: Activity) {\n        if (ContextCompat.checkSelfPermission(\n                activity,\n                Manifest.permission.ACCESS_FINE_LOCATION\n            ) != PackageManager.PERMISSION_GRANTED\n        ) {\n            ActivityCompat.requestPermissions(\n                activity,\n                arrayOf(Manifest.permission.ACCESS_FINE_LOCATION),\n                REQUEST_CODE_ACCESS_LOCATION\n            )\n        } else {\n            Thread(Runnable {\n                // Moves the current Thread into the background\n                android.os.Process.setThreadPriority(android.os.Process.THREAD_PRIORITY_BACKGROUND)\n                //\n                requestLocationUpdates(activity)\n            }).start()\n        }\n    }\n\n    /**\n     * be used in HomeActivity.\n     */\n    const val REQUEST_CHECK_SETTINGS = 55\n    /**\n     * The number of millis in the future from the call to start().\n     * until the countdown is done and onFinish() is called.\n     *\n     *\n     * It is also the interval along the way to receive onTick(long) callbacks.\n     */\n    private const val TWENTY_SECS: Long = 20000\n    /**\n     * Timer to get location from history when requestLocationUpdates don't return result.\n     */\n    private var mCountDownTimer: CountDownTimer? = null\n    /**\n     * WeakReference of current activity.\n     */\n    private var mWeakReferenceActivity: WeakReference&lt;Activity&gt;? = null\n    /**\n     * user's location.\n     */\n    var currentLocation: Location? = null\n\n    @Synchronized\n    fun requestLocationUpdates(activity: Activity) {\n        if (mWeakReferenceActivity == null) {\n            mWeakReferenceActivity = WeakReference(activity)\n        } else {\n            mWeakReferenceActivity?.clear()\n            mWeakReferenceActivity = WeakReference(activity)\n        }\n        //create location request: https://developer.android.com/training/location/change-location-settings.html#prompt\n        val mLocationRequest = LocationRequest()\n        // Which your app prefers to receive location updates. Note that the location updates may be\n        // faster than this rate, or slower than this rate, or there may be no updates at all\n        // (if the device has no connectivity)\n        mLocationRequest.interval = 20000\n        //This method sets the fastest rate in milliseconds at which your app can handle location updates.\n        // You need to set this rate because other apps also affect the rate at which updates are sent\n        mLocationRequest.fastestInterval = 10000\n        mLocationRequest.priority = LocationRequest.PRIORITY_HIGH_ACCURACY\n\n        //Get Current Location Settings\n        val builder = LocationSettingsRequest.Builder().addLocationRequest(mLocationRequest)\n        //Next check whether the current location settings are satisfied\n        val client = LocationServices.getSettingsClient(activity)\n        val task = client.checkLocationSettings(builder.build())\n        //Prompt the User to Change Location Settings\n        task.addOnSuccessListener(activity) {\n            Log.d(\"CurrentLocationManager\", \"OnSuccessListener\")\n            // All location settings are satisfied. The client can initialize location requests here.\n            // If it's failed, the result after user updated setting is sent to onActivityResult of HomeActivity.\n            val activity1 = mWeakReferenceActivity?.get()\n            if (activity1 != null) {\n                startRequestLocationUpdate(activity1.applicationContext)\n            }\n        }\n\n        task.addOnFailureListener(activity) { e -&gt;\n            Log.d(\"CurrentLocationManager\", \"addOnFailureListener\")\n            val statusCode = (e as ApiException).statusCode\n            when (statusCode) {\n                CommonStatusCodes.RESOLUTION_REQUIRED -&gt;\n                    // Location settings are not satisfied, but this can be fixed\n                    // by showing the user a dialog.\n                    try {\n                        val activity1 = mWeakReferenceActivity?.get()\n                        if (activity1 != null) {\n                            // Show the dialog by calling startResolutionForResult(),\n                            // and check the result in onActivityResult().\n                            val resolvable = e as ResolvableApiException\n                            resolvable.startResolutionForResult(\n                                activity1, REQUEST_CHECK_SETTINGS\n                            )\n                        }\n                    } catch (sendEx: IntentSender.SendIntentException) {\n                        // Ignore the error.\n                        sendEx.printStackTrace()\n                    }\n\n                LocationSettingsStatusCodes.SETTINGS_CHANGE_UNAVAILABLE -&gt; {\n                    // Location settings are not satisfied. However, we have no way\n                    // to fix the settings so we won't show the dialog.\n                }\n            }\n        }\n    }\n\n    fun startRequestLocationUpdate(appContext: Context) {\n        val mLocationManager = appContext.getSystemService(Context.LOCATION_SERVICE) as LocationManager\n        if (ActivityCompat.checkSelfPermission(\n                appContext.applicationContext,\n                Manifest.permission.ACCESS_FINE_LOCATION\n            ) == PackageManager.PERMISSION_GRANTED\n        ) {\n            //Utilities.showProgressDialog(mWeakReferenceActivity.get());\n            if (mLocationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER)) {\n                mLocationManager.requestLocationUpdates(\n                    LocationManager.NETWORK_PROVIDER, 10000, 0f, this\n                )\n            } else {\n                mLocationManager.requestLocationUpdates(\n                    LocationManager.GPS_PROVIDER, 10000, 0f, this\n                )\n            }\n        }\n\n        /*Timer to call getLastKnownLocation() when requestLocationUpdates don 't return result*/\n        countDownUpdateLocation()\n    }\n\n    override fun onLocationChanged(location: Location?) {\n        if (location != null) {\n            stopRequestLocationUpdates()\n            currentLocation = location\n        }\n    }\n\n    override fun onStatusChanged(provider: String, status: Int, extras: Bundle) {\n\n    }\n\n    override fun onProviderEnabled(provider: String) {\n\n    }\n\n    override fun onProviderDisabled(provider: String) {\n\n    }\n\n    /**\n     * Init CountDownTimer to to get location from history when requestLocationUpdates don't return result.\n     */\n    @Synchronized\n    private fun countDownUpdateLocation() {\n        mCountDownTimer?.cancel()\n        mCountDownTimer = object : CountDownTimer(TWENTY_SECS, TWENTY_SECS) {\n            override fun onTick(millisUntilFinished: Long) {}\n\n            override fun onFinish() {\n                if (mWeakReferenceActivity != null) {\n                    val activity = mWeakReferenceActivity?.get()\n                    if (activity != null &amp;&amp; ActivityCompat.checkSelfPermission(\n                            activity,\n                            Manifest.permission.ACCESS_FINE_LOCATION\n                        ) == PackageManager.PERMISSION_GRANTED\n                    ) {\n                        val location = (activity.applicationContext\n                            .getSystemService(Context.LOCATION_SERVICE) as LocationManager)\n                            .getLastKnownLocation(LocationManager.PASSIVE_PROVIDER)\n                        stopRequestLocationUpdates()\n                        onLocationChanged(location)\n                    } else {\n                        stopRequestLocationUpdates()\n                    }\n                } else {\n                    mCountDownTimer?.cancel()\n                    mCountDownTimer = null\n                }\n            }\n        }.start()\n    }\n\n    /**\n     * The method must be called in onDestroy() of activity to\n     * removeUpdateLocation and cancel CountDownTimer.\n     */\n    fun stopRequestLocationUpdates() {\n        val activity = mWeakReferenceActivity?.get()\n        if (activity != null) {\n            /*if (ActivityCompat.checkSelfPermission(activity,\n                    Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {*/\n            (activity.applicationContext\n                .getSystemService(Context.LOCATION_SERVICE) as LocationManager).removeUpdates(this)\n            /*}*/\n        }\n        mCountDownTimer?.cancel()\n        mCountDownTimer = null\n    }\n}\n</code></pre>\n\n<p>In MainActivity.kt</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n...\nCurrentLocationManager.checkLocationPermission(this@LoginActivity)\n}\n\noverride fun onDestroy() {\n        CurrentLocationManager.stopRequestLocationUpdates()\n        super.onDestroy()\n    }\n\n\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n        if (requestCode == CurrentLocationManager.REQUEST_CODE_ACCESS_LOCATION) {\n            if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\n                //denied\n                val builder = AlertDialog.Builder(this)\n                builder.setMessage(\"We need permission to use your location for the purpose of finding friends near you.\")\n                    .setTitle(\"Device Location Required\")\n                    .setIcon(com.eswapp.R.drawable.ic_info)\n                    .setPositiveButton(\"OK\") { _, _ -&gt;\n                        if (ActivityCompat.shouldShowRequestPermissionRationale(\n                                this,\n                                Manifest.permission.ACCESS_FINE_LOCATION\n                            )\n                        ) {\n                            //only deny\n                            CurrentLocationManager.checkLocationPermission(this@LoginActivity)\n                        } else {\n                            //never ask again\n                            val intent = Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS)\n                            val uri = Uri.fromParts(\"package\", packageName, null)\n                            intent.data = uri\n                            startActivityForResult(intent, CurrentLocationManager.REQUEST_CHECK_SETTINGS)\n                        }\n                    }\n                    .setNegativeButton(\"Ask Me Later\") { _, _ -&gt;\n\n                    }\n                // Create the AlertDialog object and return it\n                val dialog = builder.create()\n                dialog.show()\n            } else if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                CurrentLocationManager.requestLocationUpdates(this)\n            }\n        }\n    }\n\n    //Forward Login result to the CallBackManager in OnActivityResult()\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        when (requestCode) {\n            //case 1. After you allow the app access device location, Another dialog will be displayed to request you to turn on device location\n            //case 2. Or You chosen Never Ask Again, you open device Setting and enable location permission\n            CurrentLocationManager.REQUEST_CHECK_SETTINGS -&gt; when (resultCode) {\n                RESULT_OK -&gt; {\n                    Log.d(\"REQUEST_CHECK_SETTINGS\", \"RESULT_OK\")\n                    //case 1. You choose OK\n                    CurrentLocationManager.startRequestLocationUpdate(applicationContext)\n                }\n                RESULT_CANCELED -&gt; {\n                    Log.d(\"REQUEST_CHECK_SETTINGS\", \"RESULT_CANCELED\")\n                    //case 1. You choose NO THANKS\n                    //CurrentLocationManager.requestLocationUpdates(this)\n\n                    //case 2. In device Setting screen: user can enable or not enable location permission,\n                    // so when user back to this activity, we should re-call checkLocationPermission()\n                    CurrentLocationManager.checkLocationPermission(this@LoginActivity)\n                }\n                else -&gt; {\n                    //do nothing\n                }\n            }\n            else -&gt; {\n                super.onActivityResult(requestCode, resultCode, data)\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8248844,"reputation":9692,"user_id":6204133,"display_name":"Dan Alboteanu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1565094359,"creation_date":1565094359,"answer_id":57376037,"question_id":40142331,"body_markdown":"check this code from MainActivity\r\n\r\n     // Check location permission is granted - if it is, start\r\n    // the service, otherwise request the permission\r\n    fun checkOrAskLocationPermission(callback: () -&gt; Unit) {\r\n        // Check GPS is enabled\r\n        val lm = getSystemService(Context.LOCATION_SERVICE) as LocationManager\r\n        if (!lm.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\r\n            Toast.makeText(this, &quot;Please enable location services&quot;, Toast.LENGTH_SHORT).show()\r\n            buildAlertMessageNoGps(this)\r\n            return\r\n        }\r\n\r\n        // Check location permission is granted - if it is, start\r\n        // the service, otherwise request the permission\r\n        val permission = ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n        if (permission == PackageManager.PERMISSION_GRANTED) {\r\n            callback.invoke()\r\n        } else {\r\n            // callback will be inside the activity&#39;s onRequestPermissionsResult(\r\n            ActivityCompat.requestPermissions(\r\n                this,\r\n                arrayOf(Manifest.permission.ACCESS_FINE_LOCATION),\r\n                PERMISSIONS_REQUEST\r\n            )\r\n        }\r\n    }\r\n\r\nplus \r\n\r\n       override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\r\n        if (requestCode == PERMISSIONS_REQUEST) {\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                  // Permission ok. Do work.\r\n             }\r\n        }\r\n    }\r\nplus\r\n\r\n     fun buildAlertMessageNoGps(context: Context) {\r\n        val builder = AlertDialog.Builder(context);\r\n        builder.setMessage(&quot;Your GPS is disabled. Do you want to enable it?&quot;)\r\n            .setCancelable(false)\r\n            .setPositiveButton(&quot;Yes&quot;) { _, _ -&gt; context.startActivity(Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS)) }\r\n            .setNegativeButton(&quot;No&quot;) { dialog, _ -&gt; dialog.cancel(); }\r\n        val alert = builder.create();\r\n        alert.show();\r\n    }\r\n\r\nusage\r\n\r\n    checkOrAskLocationPermission() {\r\n                // Permission ok. Do work.\r\n            }","title":"How to request Location Permission at runtime","body":"<p>check this code from MainActivity</p>\n\n<pre><code> // Check location permission is granted - if it is, start\n// the service, otherwise request the permission\nfun checkOrAskLocationPermission(callback: () -&gt; Unit) {\n    // Check GPS is enabled\n    val lm = getSystemService(Context.LOCATION_SERVICE) as LocationManager\n    if (!lm.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\n        Toast.makeText(this, \"Please enable location services\", Toast.LENGTH_SHORT).show()\n        buildAlertMessageNoGps(this)\n        return\n    }\n\n    // Check location permission is granted - if it is, start\n    // the service, otherwise request the permission\n    val permission = ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\n    if (permission == PackageManager.PERMISSION_GRANTED) {\n        callback.invoke()\n    } else {\n        // callback will be inside the activity's onRequestPermissionsResult(\n        ActivityCompat.requestPermissions(\n            this,\n            arrayOf(Manifest.permission.ACCESS_FINE_LOCATION),\n            PERMISSIONS_REQUEST\n        )\n    }\n}\n</code></pre>\n\n<p>plus </p>\n\n<pre><code>   override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n    if (requestCode == PERMISSIONS_REQUEST) {\n        if (grantResults[0] == PackageManager.PERMISSION_GRANTED){\n              // Permission ok. Do work.\n         }\n    }\n}\n</code></pre>\n\n<p>plus</p>\n\n<pre><code> fun buildAlertMessageNoGps(context: Context) {\n    val builder = AlertDialog.Builder(context);\n    builder.setMessage(\"Your GPS is disabled. Do you want to enable it?\")\n        .setCancelable(false)\n        .setPositiveButton(\"Yes\") { _, _ -&gt; context.startActivity(Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS)) }\n        .setNegativeButton(\"No\") { dialog, _ -&gt; dialog.cancel(); }\n    val alert = builder.create();\n    alert.show();\n}\n</code></pre>\n\n<p>usage</p>\n\n<pre><code>checkOrAskLocationPermission() {\n            // Permission ok. Do work.\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7812735,"reputation":1441,"user_id":5908465,"accept_rate":12,"display_name":"Shreeya Chhatrala"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1579694806,"creation_date":1579689685,"answer_id":59857846,"question_id":40142331,"body_markdown":"Location permission privacy change in **Android 10** or **Android Q**. \r\n \r\nWe have to define additional **`ACCESS_BACKGROUND_LOCATION`** permission if user wants to access their current location in background so user needs to granted permission **runtime** also in `requestPermission()`\r\n\r\nIf we are using lower than Android 10 device then *`ACCESS_BACKGROUND_LOCATION`* permission **allow automatically** with `ACCESS_FINE_LOCATION` or `ACCESS_COARSE_LOCATION` permission\r\n\r\nThis tabular format might be easy to understand what if we don&#39;t specify `ACCESS_BACKGROUND_LOCATION` in manifest file.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt; // here we defined ACCESS_BACKGROUND_LOCATION for Android 10 device\r\n\r\nMainActivity.java  \r\nCall `checkRunTimePermission()` in `onCreate()` or `onResume()`\r\n \r\n    public void checkRunTimePermission() {\r\n       if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            if (ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED || \r\n                 ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED||\r\n                 ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_BACKGROUND_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                    gpsTracker = new GPSTracker(context);\r\n    \r\n            } else {\r\n                    requestPermissions(new String[]{Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION},\r\n                            10);\r\n            }\r\n       } else {\r\n                gpsTracker = new GPSTracker(context); //GPSTracker is class that is used for retrieve user current location\r\n       }\r\n    }\r\n\r\n     @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == 10) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                gpsTracker = new GPSTracker(context);\r\n            } else {\r\n                if (!ActivityCompat.shouldShowRequestPermissionRationale((Activity) context, Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n                    // If User Checked &#39;Don&#39;t Show Again&#39; checkbox for runtime permission, then navigate user to Settings\r\n                    AlertDialog.Builder dialog = new AlertDialog.Builder(context);\r\n                    dialog.setTitle(&quot;Permission Required&quot;);\r\n                    dialog.setCancelable(false);\r\n                    dialog.setMessage(&quot;You have to Allow permission to access user location&quot;);\r\n                    dialog.setPositiveButton(&quot;Settings&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            Intent i = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS, Uri.fromParts(&quot;package&quot;,\r\n                                    context.getPackageName(), null));\r\n                            //i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                            startActivityForResult(i, 1001);\r\n                        }\r\n                    });\r\n                    AlertDialog alertDialog = dialog.create();\r\n                    alertDialog.show();\r\n                }\r\n                //code for deny\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void startActivityForResult(Intent intent, int requestCode) {\r\n        super.startActivityForResult(intent, requestCode);\r\n        switch (requestCode) {\r\n            case 1001:\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                    if (ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED ||\r\n                            ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED \r\n                            || ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_BACKGROUND_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                        gpsTracker = new GPSTracker(context);\r\n                        if (gpsTracker.canGetLocation()) {\r\n                            latitude = gpsTracker.getLatitude();\r\n                            longitude = gpsTracker.getLongitude();\r\n                        }\r\n                    } else {\r\n                        requestPermissions(new String[]{Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION,\r\n                            Manifest.permission.ACCESS_BACKGROUND_LOCATION},10);\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\nbuild.gradle (app level)\r\n\r\n    android {\r\n        compileSdkVersion 29 //should be &gt;= 29\r\n        buildToolsVersion &quot;29.0.2&quot;\r\n        useLibrary &#39;org.apache.http.legacy&#39;\r\n        defaultConfig {\r\n            applicationId &quot;com.example.runtimepermission&quot;\r\n            minSdkVersion 21\r\n            targetSdkVersion 29 //should be &gt;= 29\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            multiDexEnabled true\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            vectorDrawables.useSupportLibrary = true\r\n        }\r\n    }\r\n\r\n[Here][2] you can find `GPSTracker.java` file code \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IFuXx.png\r\n  [2]: https://github.com/d40cht/gps-android/blob/master/src/main/java/com/example/gpstracking/GPSTracker.java","title":"How to request Location Permission at runtime","body":"<p>Location permission privacy change in <strong>Android 10</strong> or <strong>Android Q</strong>. </p>\n\n<p>We have to define additional <strong><code>ACCESS_BACKGROUND_LOCATION</code></strong> permission if user wants to access their current location in background so user needs to granted permission <strong>runtime</strong> also in <code>requestPermission()</code></p>\n\n<p>If we are using lower than Android 10 device then <em><code>ACCESS_BACKGROUND_LOCATION</code></em> permission <strong>allow automatically</strong> with <code>ACCESS_FINE_LOCATION</code> or <code>ACCESS_COARSE_LOCATION</code> permission</p>\n\n<p>This tabular format might be easy to understand what if we don't specify <code>ACCESS_BACKGROUND_LOCATION</code> in manifest file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/IFuXx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/IFuXx.png\" alt=\"enter image description here\"></a></p>\n\n<p>AndroidManifest.xml</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_BACKGROUND_LOCATION\" /&gt; // here we defined ACCESS_BACKGROUND_LOCATION for Android 10 device\n</code></pre>\n\n<p>MainActivity.java<br>\nCall <code>checkRunTimePermission()</code> in <code>onCreate()</code> or <code>onResume()</code></p>\n\n<pre><code>public void checkRunTimePermission() {\n   if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        if (ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED || \n             ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED||\n             ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_BACKGROUND_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n                gpsTracker = new GPSTracker(context);\n\n        } else {\n                requestPermissions(new String[]{Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION},\n                        10);\n        }\n   } else {\n            gpsTracker = new GPSTracker(context); //GPSTracker is class that is used for retrieve user current location\n   }\n}\n\n @Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == 10) {\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            gpsTracker = new GPSTracker(context);\n        } else {\n            if (!ActivityCompat.shouldShowRequestPermissionRationale((Activity) context, Manifest.permission.ACCESS_FINE_LOCATION)) {\n                // If User Checked 'Don't Show Again' checkbox for runtime permission, then navigate user to Settings\n                AlertDialog.Builder dialog = new AlertDialog.Builder(context);\n                dialog.setTitle(\"Permission Required\");\n                dialog.setCancelable(false);\n                dialog.setMessage(\"You have to Allow permission to access user location\");\n                dialog.setPositiveButton(\"Settings\", new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        Intent i = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS, Uri.fromParts(\"package\",\n                                context.getPackageName(), null));\n                        //i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                        startActivityForResult(i, 1001);\n                    }\n                });\n                AlertDialog alertDialog = dialog.create();\n                alertDialog.show();\n            }\n            //code for deny\n        }\n    }\n}\n\n@Override\npublic void startActivityForResult(Intent intent, int requestCode) {\n    super.startActivityForResult(intent, requestCode);\n    switch (requestCode) {\n        case 1001:\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                if (ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED ||\n                        ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED \n                        || ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_BACKGROUND_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n                    gpsTracker = new GPSTracker(context);\n                    if (gpsTracker.canGetLocation()) {\n                        latitude = gpsTracker.getLatitude();\n                        longitude = gpsTracker.getLongitude();\n                    }\n                } else {\n                    requestPermissions(new String[]{Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION,\n                        Manifest.permission.ACCESS_BACKGROUND_LOCATION},10);\n                }\n            }\n            break;\n        default:\n            break;\n    }\n}\n</code></pre>\n\n<p>build.gradle (app level)</p>\n\n<pre><code>android {\n    compileSdkVersion 29 //should be &gt;= 29\n    buildToolsVersion \"29.0.2\"\n    useLibrary 'org.apache.http.legacy'\n    defaultConfig {\n        applicationId \"com.example.runtimepermission\"\n        minSdkVersion 21\n        targetSdkVersion 29 //should be &gt;= 29\n        versionCode 1\n        versionName \"1.0\"\n        multiDexEnabled true\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n    }\n}\n</code></pre>\n\n<p><a href=\"https://github.com/d40cht/gps-android/blob/master/src/main/java/com/example/gpstracking/GPSTracker.java\" rel=\"noreferrer\">Here</a> you can find <code>GPSTracker.java</code> file code </p>\n"},{"tags":[],"owner":{"account_id":9455893,"reputation":567,"user_id":7031224,"display_name":"C&#233;sar Mu&#241;oz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600430147,"creation_date":1600430147,"answer_id":63955304,"question_id":40142331,"body_markdown":"After having it defined in your manifest file, a friendlier alternative to the native solution would be using Aaper: https://github.com/LikeTheSalad/aaper like so:\r\n\r\n    @EnsurePermissions(permissions = [Manifest.permission.ACCESS_FINE_LOCATION])\r\n    private fun scanForLocation() {\r\n        // Your code that needs the location permission granted.\r\n    }\r\n\r\nDisclaimer, I&#39;m the creator of Aaper.","title":"How to request Location Permission at runtime","body":"<p>After having it defined in your manifest file, a friendlier alternative to the native solution would be using Aaper: <a href=\"https://github.com/LikeTheSalad/aaper\" rel=\"nofollow noreferrer\">https://github.com/LikeTheSalad/aaper</a> like so:</p>\n<pre><code>@EnsurePermissions(permissions = [Manifest.permission.ACCESS_FINE_LOCATION])\nprivate fun scanForLocation() {\n    // Your code that needs the location permission granted.\n}\n</code></pre>\n<p>Disclaimer, I'm the creator of Aaper.</p>\n"},{"tags":[],"owner":{"account_id":4771790,"reputation":139,"user_id":3856316,"display_name":"H A Tanim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627538509,"creation_date":1627538509,"answer_id":68570828,"question_id":40142331,"body_markdown":"Looking for a simpler code? Try this!\r\n    \r\n\r\n    if (ContextCompat.checkSelfPermission(LoginActivity.this,\r\n                Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(LoginActivity.this,\r\n                    new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CALL);\r\n        }\r\n\r\nAlso, don&#39;t forget to ask for permissions obviously","title":"How to request Location Permission at runtime","body":"<p>Looking for a simpler code? Try this!</p>\n<pre><code>if (ContextCompat.checkSelfPermission(LoginActivity.this,\n            Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(LoginActivity.this,\n                new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CALL);\n    }\n</code></pre>\n<p>Also, don't forget to ask for permissions obviously</p>\n"},{"tags":[],"owner":{"account_id":272436,"reputation":4971,"user_id":563509,"accept_rate":76,"display_name":"masterwok"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1633018107,"creation_date":1633018107,"answer_id":69395540,"question_id":40142331,"body_markdown":"Below is my solution to requesting foreground and background location permissions on 28 and below, 29, and 30. The differences between the APIs are subtle but important.\r\n\r\n**API 28 and below**, the system treats foreground and background location permissions as the same. If you grant location permissions, then the application is granted both implicitly.\r\n\r\n**API 29**, you can request both foreground and background permissions at the same time.\r\n\r\n**API 30**, you must request foreground location permissions and then only request background location permissions after the foreground location permissions have been granted. If you ask for both foreground and background permissions at the same time, then the system will ignore the request. Another difference is that the user must allow background location permissions within the application location permission settings rather than through a system dialog.\r\n\r\nThe solution below only starts the specified action (e.g. background location tracking) only after the user has accepted both foreground and background location tracking:\r\n\r\n**LocationPermissionUtil.kt**\r\n\r\n```\r\nprivate const val REQUEST_CODE_FOREGROUND = 1\r\nprivate const val REQUEST_CODE_FOREGROUND_AND_BACKGROUND = 2\r\n\r\nobject LocationPermissionUtil {\r\n\r\n    private fun Context.isPermissionGranted(permission: String): Boolean = ActivityCompat\r\n        .checkSelfPermission(this, permission) == PackageManager.PERMISSION_GRANTED\r\n\r\n    private val Context.isFineLocationPermissionGranted\r\n        get() = isPermissionGranted(\r\n            Manifest.permission.ACCESS_FINE_LOCATION\r\n        )\r\n\r\n    private val Context.isBackgroundPermissionGranted\r\n        get() = when {\r\n            Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q -&gt; ActivityCompat.checkSelfPermission(\r\n                this,\r\n                Manifest.permission.ACCESS_BACKGROUND_LOCATION\r\n            ) == PackageManager.PERMISSION_GRANTED\r\n            else -&gt; isFineLocationPermissionGranted\r\n        }\r\n\r\n    private val Context.isFineAndBackgroundLocationPermissionsGranted\r\n        get() = isFineLocationPermissionGranted &amp;&amp; isBackgroundPermissionGranted\r\n\r\n    private fun Activity.checkFineLocationPermission() {\r\n        if (isFineLocationPermissionGranted) return\r\n\r\n        val shouldShowFineLocationPermissionRationale = ActivityCompat\r\n            .shouldShowRequestPermissionRationale(\r\n                this,\r\n                Manifest.permission.ACCESS_FINE_LOCATION\r\n            )\r\n\r\n        if (shouldShowFineLocationPermissionRationale) {\r\n            presentAlertDialog(\r\n                R.string.dialog_fine_location_rationale_title,\r\n                R.string.dialog_fine_location_rationale_description,\r\n                R.string.yes,\r\n            ) {\r\n                requestLocationPermissions()\r\n            }\r\n        } else {\r\n            requestLocationPermissions()\r\n        }\r\n    }\r\n\r\n    private fun Activity.requestLocationPermissions() =\r\n        if (Build.VERSION.SDK_INT == Build.VERSION_CODES.Q) {\r\n            requestFineLocationAndBackground()\r\n        } else {\r\n            ActivityCompat.requestPermissions(\r\n                this,\r\n                arrayOf(Manifest.permission.ACCESS_FINE_LOCATION),\r\n                REQUEST_CODE_FOREGROUND\r\n            )\r\n        }\r\n\r\n    @TargetApi(29)\r\n    private fun Activity.requestFineLocationAndBackground() {\r\n        ActivityCompat.requestPermissions(\r\n            this,\r\n            arrayOf(\r\n                Manifest.permission.ACCESS_FINE_LOCATION,\r\n                Manifest.permission.ACCESS_BACKGROUND_LOCATION\r\n            ),\r\n            REQUEST_CODE_FOREGROUND_AND_BACKGROUND\r\n        )\r\n    }\r\n\r\n    @TargetApi(29)\r\n    private fun Activity.checkBackgroundLocationPermission() {\r\n        if (isFineAndBackgroundLocationPermissionsGranted) return\r\n\r\n        val shouldShowBackgroundPermissionRationale = ActivityCompat\r\n            .shouldShowRequestPermissionRationale(\r\n                this,\r\n                Manifest.permission.ACCESS_BACKGROUND_LOCATION\r\n            )\r\n\r\n        if (shouldShowBackgroundPermissionRationale) {\r\n            presentAlertDialog(\r\n                R.string.dialog_background_location_rationale_title,\r\n                R.string.dialog_background_location_rationale_description,\r\n                R.string.yes,\r\n            ) {\r\n                requestFineLocationAndBackground()\r\n            }\r\n        } else {\r\n            requestFineLocationAndBackground()\r\n        }\r\n    }\r\n\r\n    fun checkLocationPermissions(activity: Activity, action: () -&gt; Unit) = with(activity) {\r\n        if (isFineAndBackgroundLocationPermissionsGranted) {\r\n            action()\r\n            return\r\n        }\r\n\r\n        checkFineLocationPermission()\r\n    }\r\n\r\n    fun onRequestPermissionsResult(\r\n        activity: Activity,\r\n        requestCode: Int,\r\n        action: () -&gt; Unit\r\n    ) = with(activity) {\r\n        when (requestCode) {\r\n            REQUEST_CODE_FOREGROUND -&gt; {\r\n                if (!isFineLocationPermissionGranted) {\r\n                    checkFineLocationPermission()\r\n                    return\r\n                }\r\n\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                    checkBackgroundLocationPermission()\r\n                } else {\r\n                    action()\r\n                }\r\n            }\r\n            REQUEST_CODE_FOREGROUND_AND_BACKGROUND -&gt; {\r\n                if (!isFineLocationPermissionGranted) {\r\n                    checkFineLocationPermission()\r\n                    return\r\n                }\r\n\r\n                if (isBackgroundPermissionGranted) {\r\n                    action()\r\n                } else {\r\n                    checkBackgroundLocationPermission()\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Activity:**\r\n\r\n```\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n        setContentView(R.layout.activity_main)\r\n\r\n        LocationPermissionUtil.checkLocationPermissions(this, this::onLocationPermissionsGranted)\r\n    }\r\n\r\n    override fun onRequestPermissionsResult(\r\n        requestCode: Int,\r\n        permissions: Array&lt;out String&gt;,\r\n        grantResults: IntArray\r\n    ) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\r\n\r\n        LocationPermissionUtil.onRequestPermissionsResult(\r\n            this,\r\n            requestCode,\r\n            this::onLocationPermissionsGranted\r\n        )\r\n    }\r\n\r\n    private fun onLocationPermissionsGranted() {\r\n        Toast.makeText(\r\n            this,\r\n            &quot;Background location permitted, starting location tracking...&quot;,\r\n            Toast.LENGTH_LONG\r\n        ).show()\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"How to request Location Permission at runtime","body":"<p>Below is my solution to requesting foreground and background location permissions on 28 and below, 29, and 30. The differences between the APIs are subtle but important.</p>\n<p><strong>API 28 and below</strong>, the system treats foreground and background location permissions as the same. If you grant location permissions, then the application is granted both implicitly.</p>\n<p><strong>API 29</strong>, you can request both foreground and background permissions at the same time.</p>\n<p><strong>API 30</strong>, you must request foreground location permissions and then only request background location permissions after the foreground location permissions have been granted. If you ask for both foreground and background permissions at the same time, then the system will ignore the request. Another difference is that the user must allow background location permissions within the application location permission settings rather than through a system dialog.</p>\n<p>The solution below only starts the specified action (e.g. background location tracking) only after the user has accepted both foreground and background location tracking:</p>\n<p><strong>LocationPermissionUtil.kt</strong></p>\n<pre><code>private const val REQUEST_CODE_FOREGROUND = 1\nprivate const val REQUEST_CODE_FOREGROUND_AND_BACKGROUND = 2\n\nobject LocationPermissionUtil {\n\n    private fun Context.isPermissionGranted(permission: String): Boolean = ActivityCompat\n        .checkSelfPermission(this, permission) == PackageManager.PERMISSION_GRANTED\n\n    private val Context.isFineLocationPermissionGranted\n        get() = isPermissionGranted(\n            Manifest.permission.ACCESS_FINE_LOCATION\n        )\n\n    private val Context.isBackgroundPermissionGranted\n        get() = when {\n            Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q -&gt; ActivityCompat.checkSelfPermission(\n                this,\n                Manifest.permission.ACCESS_BACKGROUND_LOCATION\n            ) == PackageManager.PERMISSION_GRANTED\n            else -&gt; isFineLocationPermissionGranted\n        }\n\n    private val Context.isFineAndBackgroundLocationPermissionsGranted\n        get() = isFineLocationPermissionGranted &amp;&amp; isBackgroundPermissionGranted\n\n    private fun Activity.checkFineLocationPermission() {\n        if (isFineLocationPermissionGranted) return\n\n        val shouldShowFineLocationPermissionRationale = ActivityCompat\n            .shouldShowRequestPermissionRationale(\n                this,\n                Manifest.permission.ACCESS_FINE_LOCATION\n            )\n\n        if (shouldShowFineLocationPermissionRationale) {\n            presentAlertDialog(\n                R.string.dialog_fine_location_rationale_title,\n                R.string.dialog_fine_location_rationale_description,\n                R.string.yes,\n            ) {\n                requestLocationPermissions()\n            }\n        } else {\n            requestLocationPermissions()\n        }\n    }\n\n    private fun Activity.requestLocationPermissions() =\n        if (Build.VERSION.SDK_INT == Build.VERSION_CODES.Q) {\n            requestFineLocationAndBackground()\n        } else {\n            ActivityCompat.requestPermissions(\n                this,\n                arrayOf(Manifest.permission.ACCESS_FINE_LOCATION),\n                REQUEST_CODE_FOREGROUND\n            )\n        }\n\n    @TargetApi(29)\n    private fun Activity.requestFineLocationAndBackground() {\n        ActivityCompat.requestPermissions(\n            this,\n            arrayOf(\n                Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.ACCESS_BACKGROUND_LOCATION\n            ),\n            REQUEST_CODE_FOREGROUND_AND_BACKGROUND\n        )\n    }\n\n    @TargetApi(29)\n    private fun Activity.checkBackgroundLocationPermission() {\n        if (isFineAndBackgroundLocationPermissionsGranted) return\n\n        val shouldShowBackgroundPermissionRationale = ActivityCompat\n            .shouldShowRequestPermissionRationale(\n                this,\n                Manifest.permission.ACCESS_BACKGROUND_LOCATION\n            )\n\n        if (shouldShowBackgroundPermissionRationale) {\n            presentAlertDialog(\n                R.string.dialog_background_location_rationale_title,\n                R.string.dialog_background_location_rationale_description,\n                R.string.yes,\n            ) {\n                requestFineLocationAndBackground()\n            }\n        } else {\n            requestFineLocationAndBackground()\n        }\n    }\n\n    fun checkLocationPermissions(activity: Activity, action: () -&gt; Unit) = with(activity) {\n        if (isFineAndBackgroundLocationPermissionsGranted) {\n            action()\n            return\n        }\n\n        checkFineLocationPermission()\n    }\n\n    fun onRequestPermissionsResult(\n        activity: Activity,\n        requestCode: Int,\n        action: () -&gt; Unit\n    ) = with(activity) {\n        when (requestCode) {\n            REQUEST_CODE_FOREGROUND -&gt; {\n                if (!isFineLocationPermissionGranted) {\n                    checkFineLocationPermission()\n                    return\n                }\n\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n                    checkBackgroundLocationPermission()\n                } else {\n                    action()\n                }\n            }\n            REQUEST_CODE_FOREGROUND_AND_BACKGROUND -&gt; {\n                if (!isFineLocationPermissionGranted) {\n                    checkFineLocationPermission()\n                    return\n                }\n\n                if (isBackgroundPermissionGranted) {\n                    action()\n                } else {\n                    checkBackgroundLocationPermission()\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Activity:</strong></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        setContentView(R.layout.activity_main)\n\n        LocationPermissionUtil.checkLocationPermissions(this, this::onLocationPermissionsGranted)\n    }\n\n    override fun onRequestPermissionsResult(\n        requestCode: Int,\n        permissions: Array&lt;out String&gt;,\n        grantResults: IntArray\n    ) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n\n        LocationPermissionUtil.onRequestPermissionsResult(\n            this,\n            requestCode,\n            this::onLocationPermissionsGranted\n        )\n    }\n\n    private fun onLocationPermissionsGranted() {\n        Toast.makeText(\n            this,\n            &quot;Background location permitted, starting location tracking...&quot;,\n            Toast.LENGTH_LONG\n        ).show()\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":9475172,"reputation":1269,"user_id":7044752,"accept_rate":45,"display_name":"bojan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245660,"favorite_count":0,"down_vote_count":2,"up_vote_count":110,"accepted_answer_id":40142454,"answer_count":8,"score":108,"last_activity_date":1633101890,"creation_date":1476914953,"question_id":40142331,"body_markdown":"In the manifest file I added permissions coarse and fine, and when I run on device with Android 6, nothing happens! I try \r\neverything but no way to get location updates...\r\n\r\nWhat am I doing wrong?\r\n\r\n    public class MainActivity extends AppCompatActivity implements LocationListener {\r\n    \r\n        LocationManager locationManager;\r\n        String provider;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n    \r\n            provider = locationManager.getBestProvider(new Criteria(), false);\r\n    \r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            Location location = locationManager.getLastKnownLocation(provider);\r\n    \r\n            if (location != null) {\r\n    \r\n                Log.i(&quot;Location Info&quot;, &quot;Location achieved!&quot;);\r\n    \r\n            } else {\r\n    \r\n                Log.i(&quot;Location Info&quot;, &quot;No location :(&quot;);\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n    \r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            locationManager.requestLocationUpdates(provider, 400, 1, this);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n    \r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            locationManager.removeUpdates(this);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onLocationChanged(Location location) {\r\n    \r\n            Double lat = location.getLatitude();\r\n            Double lng = location.getLongitude();\r\n    \r\n            Log.i(&quot;Location info: Lat&quot;, lat.toString());\r\n            Log.i(&quot;Location info: Lng&quot;, lng.toString());\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onStatusChanged(String provider, int status, Bundle extras) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onProviderEnabled(String provider) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onProviderDisabled(String provider) {\r\n    \r\n        }\r\n    \r\n        public void getLocation(View view) {\r\n    \r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            Location location = locationManager.getLastKnownLocation(provider);\r\n    \r\n            onLocationChanged(location);\r\n    \r\n    \r\n        }\r\n    \r\n    }","title":"How to request Location Permission at runtime","body":"<p>In the manifest file I added permissions coarse and fine, and when I run on device with Android 6, nothing happens! I try \neverything but no way to get location updates...</p>\n\n<p>What am I doing wrong?</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements LocationListener {\n\n    LocationManager locationManager;\n    String provider;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n\n        provider = locationManager.getBestProvider(new Criteria(), false);\n\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n            return;\n        }\n        Location location = locationManager.getLastKnownLocation(provider);\n\n        if (location != null) {\n\n            Log.i(\"Location Info\", \"Location achieved!\");\n\n        } else {\n\n            Log.i(\"Location Info\", \"No location :(\");\n\n        }\n\n    }\n\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n            return;\n        }\n        locationManager.requestLocationUpdates(provider, 400, 1, this);\n\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n            return;\n        }\n        locationManager.removeUpdates(this);\n\n    }\n\n    @Override\n    public void onLocationChanged(Location location) {\n\n        Double lat = location.getLatitude();\n        Double lng = location.getLongitude();\n\n        Log.i(\"Location info: Lat\", lat.toString());\n        Log.i(\"Location info: Lng\", lng.toString());\n\n    }\n\n    @Override\n    public void onStatusChanged(String provider, int status, Bundle extras) {\n\n    }\n\n    @Override\n    public void onProviderEnabled(String provider) {\n\n    }\n\n    @Override\n    public void onProviderDisabled(String provider) {\n\n    }\n\n    public void getLocation(View view) {\n\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n            return;\n        }\n        Location location = locationManager.getLastKnownLocation(provider);\n\n        onLocationChanged(location);\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jar","visual-studio-code"],"comments":[{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1633310895,"post_id":69407918,"comment_id":122717883,"body_markdown":"Basically, add jars to **Referenced Libraries** is for no build tools projects. Did you use maven or gradle in your current project? If not, please reinstall [Extension Pack for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack) then see if the option Referenced Libraries exists and you can [add a jar](https://code.visualstudio.com/docs/java/java-project#_add-a-jar).","body":"Basically, add jars to <b>Referenced Libraries</b> is for no build tools projects. Did you use maven or gradle in your current project? If not, please reinstall <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Extension Pack for Java</a> then see if the option Referenced Libraries exists and you can <a href=\"https://code.visualstudio.com/docs/java/java-project#_add-a-jar\" rel=\"nofollow noreferrer\">add a jar</a>."}],"answers":[{"tags":[],"owner":{"account_id":22907420,"reputation":11,"user_id":17045265,"display_name":"Possible Panda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633100441,"creation_date":1633100441,"answer_id":69408080,"question_id":69407918,"body_markdown":"I&#39;m pretty sure this is what you mean. If not I am extremely sorry. You can find the folder where all of the code is stored, then just drag and drop the JAR files inside.","title":"How to add JAR files to VS code?","body":"<p>I'm pretty sure this is what you mean. If not I am extremely sorry. You can find the folder where all of the code is stored, then just drag and drop the JAR files inside.</p>\n"}],"owner":{"account_id":13876943,"reputation":479,"user_id":10018352,"display_name":"Zizi96"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1447,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633101600,"creation_date":1633099819,"question_id":69407918,"body_markdown":"I have the following `./lib` folder with JAR files which I would like to add to VS code referenced libraries.\r\n\r\n[![jar files][1]][1]\r\n\r\n\r\nVS code allows for glob pattern recognition but I&#39;m not too familiar with glob.\r\n\r\nCan someone explain how I add all the .jar pictured, the jar files were found by searching `.jar` at `/project/lin64/5.03.012_01/project5.03.012/task/lib/`.\r\n\r\nThe lib file structure looks like this:\r\n[![File structure][2]][2]\r\n\r\nThe example for adding jars given by Vs Code is:\r\n\r\n    &quot;java.project.referencedLibraries&quot;: {\r\n        &quot;include&quot;: [\r\n            &quot;library/**/*.jar&quot;,\r\n            &quot;/home/username/lib/foo.jar&quot;\r\n        ],\r\n        &quot;exclude&quot;: [\r\n            &quot;library/sources/**&quot;\r\n        ],\r\n        &quot;sources&quot;: {\r\n            &quot;library/bar.jar&quot;: &quot;library/sources/bar-src.jar&quot;\r\n        }\r\n    }\r\n\r\nMy attempt:\r\n\r\n    &quot;java.project.referencedLibraries&quot;: {\r\n            &quot;include&quot;:[\r\n                &quot;/project/lin64/5.03.012_01/project5.03.012/task/lib/**/*.jar&quot;\r\n            ]\r\n            \r\n        }\r\n\r\nI noticed in [their example][3] they just click `+` icon on the `Referenced library` tab but I don&#39;t have this option after updating my settings.json\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2OWea.png\r\n  [2]: https://i.stack.imgur.com/cnyG7.png\r\n  [3]: https://github.com/Microsoft/vscode-java-pack/raw/main/release-notes/v0.9.0/reference-jar-files.gif\r\n  [4]: https://i.stack.imgur.com/j2Kod.png","title":"How to add JAR files to VS code?","body":"<p>I have the following <code>./lib</code> folder with JAR files which I would like to add to VS code referenced libraries.</p>\n<p><a href=\"https://i.stack.imgur.com/2OWea.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2OWea.png\" alt=\"jar files\" /></a></p>\n<p>VS code allows for glob pattern recognition but I'm not too familiar with glob.</p>\n<p>Can someone explain how I add all the .jar pictured, the jar files were found by searching <code>.jar</code> at <code>/project/lin64/5.03.012_01/project5.03.012/task/lib/</code>.</p>\n<p>The lib file structure looks like this:\n<a href=\"https://i.stack.imgur.com/cnyG7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cnyG7.png\" alt=\"File structure\" /></a></p>\n<p>The example for adding jars given by Vs Code is:</p>\n<pre><code>&quot;java.project.referencedLibraries&quot;: {\n    &quot;include&quot;: [\n        &quot;library/**/*.jar&quot;,\n        &quot;/home/username/lib/foo.jar&quot;\n    ],\n    &quot;exclude&quot;: [\n        &quot;library/sources/**&quot;\n    ],\n    &quot;sources&quot;: {\n        &quot;library/bar.jar&quot;: &quot;library/sources/bar-src.jar&quot;\n    }\n}\n</code></pre>\n<p>My attempt:</p>\n<pre><code>&quot;java.project.referencedLibraries&quot;: {\n        &quot;include&quot;:[\n            &quot;/project/lin64/5.03.012_01/project5.03.012/task/lib/**/*.jar&quot;\n        ]\n        \n    }\n</code></pre>\n<p>I noticed in <a href=\"https://github.com/Microsoft/vscode-java-pack/raw/main/release-notes/v0.9.0/reference-jar-files.gif\" rel=\"nofollow noreferrer\">their example</a> they just click <code>+</code> icon on the <code>Referenced library</code> tab but I don't have this option after updating my settings.json</p>\n<p><a href=\"https://i.stack.imgur.com/j2Kod.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j2Kod.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","dexprotector"],"comments":[{"owner":{"account_id":6696597,"reputation":1524,"user_id":5164438,"display_name":"Seyyed"},"score":1,"creation_date":1645259855,"post_id":65898750,"comment_id":125827515,"body_markdown":"I&#39;m facing same problem on Android 12. Did you find a solution?","body":"I&#39;m facing same problem on Android 12. Did you find a solution?"},{"owner":{"account_id":10694367,"reputation":1404,"user_id":7872110,"display_name":"Islam Assem"},"score":0,"creation_date":1659285475,"post_id":65898750,"comment_id":129253362,"body_markdown":"I&#39;m facing same issue with android 12, anyone could solve it","body":"I&#39;m facing same issue with android 12, anyone could solve it"}],"answers":[{"tags":[],"owner":{"account_id":16987181,"reputation":426,"user_id":12287662,"display_name":"Gabriel Almeida"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616162256,"creation_date":1616162256,"answer_id":66709519,"question_id":65898750,"body_markdown":"Go to edit configuratitons -&gt; debugger -&gt; debug type -&gt;  java only -&gt; Apply ","title":"Bad JNI version returned from JNI_OnLoad, Android 11 crash","body":"<p>Go to edit configuratitons -&gt; debugger -&gt; debug type -&gt;  java only -&gt; Apply</p>\n"},{"tags":[],"owner":{"account_id":11041118,"reputation":357,"user_id":8108991,"display_name":"tom hikari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633101283,"creation_date":1633101283,"answer_id":69408255,"question_id":65898750,"body_markdown":"First, we will enable shrinking in the build file. Find build.gradle file which sits inside /android/app/ folder and add lines in bold\r\n`android {\r\n\r\n...\r\n\r\nbuildTypes {\r\n\r\n    release {\r\n        \r\n        signingConfig signingConfigs.debug     \r\n        //add everything below\r\n        useProguard true\r\n\r\n        proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39; \r\n\r\n    }\r\n}\r\n}\r\n\r\nNext create /android/app/proguard-rules.pro file and insert inside:\r\n\r\n    -keep class com.arthenica.mobileffmpeg.Config {\r\n    native ;\r\n    void log(long, int, byte[]);\r\n    void statistics(long, int, float, float, long , int, double, double);\r\n    }\r\n    \r\n    -keep class com.arthenica.mobileffmpeg.AbiDetect {\r\n    native ;\r\n    }","title":"Bad JNI version returned from JNI_OnLoad, Android 11 crash","body":"<p>First, we will enable shrinking in the build file. Find build.gradle file which sits inside /android/app/ folder and add lines in bold\n`android {</p>\n<p>...</p>\n<p>buildTypes {</p>\n<pre><code>release {\n    \n    signingConfig signingConfigs.debug     \n    //add everything below\n    useProguard true\n\n    proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro' \n\n}\n</code></pre>\n<p>}\n}</p>\n<p>Next create /android/app/proguard-rules.pro file and insert inside:</p>\n<pre><code>-keep class com.arthenica.mobileffmpeg.Config {\nnative ;\nvoid log(long, int, byte[]);\nvoid statistics(long, int, float, float, long , int, double, double);\n}\n\n-keep class com.arthenica.mobileffmpeg.AbiDetect {\nnative ;\n}\n</code></pre>\n"}],"owner":{"account_id":15978548,"reputation":51,"user_id":11530794,"display_name":"Alexandre Coutinho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2424,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1633101283,"creation_date":1611653150,"question_id":65898750,"body_markdown":"So I&#39;m using dexprotector 9.0.19 in my project and it runs perfectly in all Android versions except Android 11. My team is working with another app that uses dexprotector too and their setup is identical, only crashing in my project.\r\n\r\nWhen trying to run the app it instantly crashs, all the logs I&#39;m able to get are these:\r\n&gt;2021-01-25 17:30:33.025 11812-11812/com.interfacom.toolkit E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.interfacom.toolkit, PID: 11812\r\n    java.lang.RuntimeException: Unable to instantiate application com.interfacom.toolkit.ProtectedAndroidApplication: com.interfacom.toolkit.MessageGuardException_QmFkIEpOSSB2ZXJzaW9uIHJldHVybmVkIGZyb20gSk5JX09uTG9hZCBpbiAiL2RhdGEvdXNlci8wL2NvbS5pbnRlcmZhY29tLnRvb2xraXQvYXBwX291dGRleC9saWJkZXhwcm90ZWN0b3IudWo2b3V0LjExODEyLnNvIjogLTEzMTk: Bad JNI version returned from JNI_OnLoad in &quot;/data/user/0/com.interfacom.toolkit/app_outdex/libdexprotector.uj6out.11812.so&quot;: -1319 (RmluZ2VycHJpbnQgMjAxODA5MjQgWysuLisuLl0geDg2Ong4NiAyOS8yLjEuMC8tIGdvb2dsZS9zZGtfZ3Bob25lX3g4Ni9nZW5lcmljX3g4Nl9hcm06MTAvUlBQNC4yMDA0MDkuMDE1LzY0NTUzMTE6dXNlci9yZWxlYXNlLWtleXM=)\r\n        at android.app.LoadedApk.makeApplication(LoadedApk.java:1216)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6533)\r\n        at android.app.ActivityThread.access$1300(ActivityThread.java:231)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1887)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7478)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:549)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:941)\r\n     Caused by: com.interfacom.toolkit.MessageGuardException_QmFkIEpOSSB2ZXJzaW9uIHJldHVybmVkIGZyb20gSk5JX09uTG9hZCBpbiAiL2RhdGEvdXNlci8wL2NvbS5pbnRlcmZhY29tLnRvb2xraXQvYXBwX291dGRleC9saWJkZXhwcm90ZWN0b3IudWo2b3V0LjExODEyLnNvIjogLTEzMTk: Bad JNI version returned from JNI_OnLoad in &quot;/data/user/0/com.interfacom.toolkit/app_outdex/libdexprotector.uj6out.11812.so&quot;: -1319 (RmluZ2VycHJpbnQgMjAxODA5MjQgWysuLisuLl0geDg2Ong4NiAyOS8yLjEuMC8tIGdvb2dsZS9zZGtfZ3Bob25lX3g4Ni9nZW5lcmljX3g4Nl9hcm06MTAvUlBQNC4yMDA0MDkuMDE1LzY0NTUzMTE6dXNlci9yZWxlYXNlLWtleXM=)\r\n        at com.interfacom.toolkit.ProtectedAndroidApplication.attachBaseContext(Unknown Source:53)\r\n        at android.app.Application.attach(Application.java:351)\r\n        at android.app.Instrumentation.newApplication(Instrumentation.java:1159)\r\n        at android.app.LoadedApk.makeApplication(LoadedApk.java:1208)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6533)&#160;\r\n        at android.app.ActivityThread.access$1300(ActivityThread.java:231)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1887)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7478)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:549)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:941)&#160;\r\n     Caused by: java.lang.UnsatisfiedLinkError: Bad JNI version returned from JNI_OnLoad in &quot;/data/user/0/com.interfacom.toolkit/app_outdex/libdexprotector.uj6out.11812.so&quot;: -1319\r\n        at java.lang.Runtime.load0(Runtime.java:939)\r\n        at java.lang.System.load(System.java:1625)\r\n        at com.interfacom.toolkit.ProtectedAndroidApplication.xwmukuyhw(Unknown Source:105)\r\n        at com.interfacom.toolkit.ProtectedAndroidApplication.e(Unknown Source:182)\r\n        at com.interfacom.toolkit.ProtectedAndroidApplication.attachBaseContext(Unknown Source:3)\r\n        at android.app.Application.attach(Application.java:351)&#160;\r\n        at android.app.Instrumentation.newApplication(Instrumentation.java:1159)&#160;\r\n        at android.app.LoadedApk.makeApplication(LoadedApk.java:1208)&#160;\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6533)&#160;\r\n        at android.app.ActivityThread.access$1300(ActivityThread.java:231)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1887)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7478)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:549)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:941)&#160;\r\n\r\nAny help will be much appreciated!","title":"Bad JNI version returned from JNI_OnLoad, Android 11 crash","body":"<p>So I'm using dexprotector 9.0.19 in my project and it runs perfectly in all Android versions except Android 11. My team is working with another app that uses dexprotector too and their setup is identical, only crashing in my project.</p>\n<p>When trying to run the app it instantly crashs, all the logs I'm able to get are these:</p>\n<blockquote>\n<p>2021-01-25 17:30:33.025 11812-11812/com.interfacom.toolkit E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.interfacom.toolkit, PID: 11812\njava.lang.RuntimeException: Unable to instantiate application com.interfacom.toolkit.ProtectedAndroidApplication: com.interfacom.toolkit.MessageGuardException_QmFkIEpOSSB2ZXJzaW9uIHJldHVybmVkIGZyb20gSk5JX09uTG9hZCBpbiAiL2RhdGEvdXNlci8wL2NvbS5pbnRlcmZhY29tLnRvb2xraXQvYXBwX291dGRleC9saWJkZXhwcm90ZWN0b3IudWo2b3V0LjExODEyLnNvIjogLTEzMTk: Bad JNI version returned from JNI_OnLoad in &quot;/data/user/0/com.interfacom.toolkit/app_outdex/libdexprotector.uj6out.11812.so&quot;: -1319 (RmluZ2VycHJpbnQgMjAxODA5MjQgWysuLisuLl0geDg2Ong4NiAyOS8yLjEuMC8tIGdvb2dsZS9zZGtfZ3Bob25lX3g4Ni9nZW5lcmljX3g4Nl9hcm06MTAvUlBQNC4yMDA0MDkuMDE1LzY0NTUzMTE6dXNlci9yZWxlYXNlLWtleXM=)\nat android.app.LoadedApk.makeApplication(LoadedApk.java:1216)\nat android.app.ActivityThread.handleBindApplication(ActivityThread.java:6533)\nat android.app.ActivityThread.access$1300(ActivityThread.java:231)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1887)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7478)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:549)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:941)\nCaused by: com.interfacom.toolkit.MessageGuardException_QmFkIEpOSSB2ZXJzaW9uIHJldHVybmVkIGZyb20gSk5JX09uTG9hZCBpbiAiL2RhdGEvdXNlci8wL2NvbS5pbnRlcmZhY29tLnRvb2xraXQvYXBwX291dGRleC9saWJkZXhwcm90ZWN0b3IudWo2b3V0LjExODEyLnNvIjogLTEzMTk: Bad JNI version returned from JNI_OnLoad in &quot;/data/user/0/com.interfacom.toolkit/app_outdex/libdexprotector.uj6out.11812.so&quot;: -1319 (RmluZ2VycHJpbnQgMjAxODA5MjQgWysuLisuLl0geDg2Ong4NiAyOS8yLjEuMC8tIGdvb2dsZS9zZGtfZ3Bob25lX3g4Ni9nZW5lcmljX3g4Nl9hcm06MTAvUlBQNC4yMDA0MDkuMDE1LzY0NTUzMTE6dXNlci9yZWxlYXNlLWtleXM=)\nat com.interfacom.toolkit.ProtectedAndroidApplication.attachBaseContext(Unknown Source:53)\nat android.app.Application.attach(Application.java:351)\nat android.app.Instrumentation.newApplication(Instrumentation.java:1159)\nat android.app.LoadedApk.makeApplication(LoadedApk.java:1208)\nat android.app.ActivityThread.handleBindApplication(ActivityThread.java:6533) \nat android.app.ActivityThread.access$1300(ActivityThread.java:231) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1887) \nat android.os.Handler.dispatchMessage(Handler.java:106) \nat android.os.Looper.loop(Looper.java:223) \nat android.app.ActivityThread.main(ActivityThread.java:7478) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:549) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:941) \nCaused by: java.lang.UnsatisfiedLinkError: Bad JNI version returned from JNI_OnLoad in &quot;/data/user/0/com.interfacom.toolkit/app_outdex/libdexprotector.uj6out.11812.so&quot;: -1319\nat java.lang.Runtime.load0(Runtime.java:939)\nat java.lang.System.load(System.java:1625)\nat com.interfacom.toolkit.ProtectedAndroidApplication.xwmukuyhw(Unknown Source:105)\nat com.interfacom.toolkit.ProtectedAndroidApplication.e(Unknown Source:182)\nat com.interfacom.toolkit.ProtectedAndroidApplication.attachBaseContext(Unknown Source:3)\nat android.app.Application.attach(Application.java:351) \nat android.app.Instrumentation.newApplication(Instrumentation.java:1159) \nat android.app.LoadedApk.makeApplication(LoadedApk.java:1208) \nat android.app.ActivityThread.handleBindApplication(ActivityThread.java:6533) \nat android.app.ActivityThread.access$1300(ActivityThread.java:231) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1887) \nat android.os.Handler.dispatchMessage(Handler.java:106) \nat android.os.Looper.loop(Looper.java:223) \nat android.app.ActivityThread.main(ActivityThread.java:7478) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:549) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:941) </p>\n</blockquote>\n<p>Any help will be much appreciated!</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","aws-sdk"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1633100777,"post_id":69407869,"comment_id":122678603,"body_markdown":"Note that if you&#39;re just trying out DDB, you shouldn&#39;t use provisioned capacity; it will charge you even when you aren&#39;t using it.","body":"Note that if you&#39;re just trying out DDB, you shouldn&#39;t use provisioned capacity; it will charge you even when you aren&#39;t using it."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1633101046,"post_id":69407869,"comment_id":122678706,"body_markdown":"Old V1 code. To work with Amazon DynamoDB, you should look at the use of V2 and the Enhanced Client. See https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/dynamodb-enhanced-client.html","body":"Old V1 code. To work with Amazon DynamoDB, you should look at the use of V2 and the Enhanced Client. See <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/dynamodb-enhanced-client.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/sdk-for-java/latest/developer-guide/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":494473,"reputation":22029,"user_id":2933177,"accept_rate":50,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633100856,"creation_date":1633100856,"answer_id":69408169,"question_id":69407869,"body_markdown":"DDB [Query()][1] requires a key condition that includes an equality check on the hash/partition key.\r\n\r\n&gt; You must provide the name of the partition key attribute and a single\r\n&gt; value for that attribute. Query returns all items with that partition\r\n&gt; key value. Optionally, you can provide a sort key attribute and use a\r\n&gt; comparison operator to refine the search results.\r\n\r\nIn other words, the only time you can really use Query() is when you have a composite primary key (hash + sort).\r\n\r\nWithout a sort key specified as part of the key for the table/GSI, Query() acts just like GetItem() returning a single record with the given hash key.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Query.html","title":"Query DynamoDb Global Secondary Index","body":"<p>DDB <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Query.html\" rel=\"nofollow noreferrer\">Query()</a> requires a key condition that includes an equality check on the hash/partition key.</p>\n<blockquote>\n<p>You must provide the name of the partition key attribute and a single\nvalue for that attribute. Query returns all items with that partition\nkey value. Optionally, you can provide a sort key attribute and use a\ncomparison operator to refine the search results.</p>\n</blockquote>\n<p>In other words, the only time you can really use Query() is when you have a composite primary key (hash + sort).</p>\n<p>Without a sort key specified as part of the key for the table/GSI, Query() acts just like GetItem() returning a single record with the given hash key.</p>\n"}],"owner":{"account_id":17349181,"reputation":49,"user_id":12568004,"display_name":"realslimjp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69408169,"answer_count":1,"score":0,"last_activity_date":1633100856,"creation_date":1633099654,"question_id":69407869,"body_markdown":"i am trying out dynamodb locally and got the following table:\r\n\r\n\r\n    &quot;Table&quot;: {\r\n        &quot;AttributeDefinitions&quot;: [\r\n            {\r\n                &quot;AttributeName&quot;: &quot;hashKey&quot;,\r\n                &quot;AttributeType&quot;: &quot;S&quot;\r\n            },\r\n            {\r\n                &quot;AttributeName&quot;: &quot;sortKey&quot;,\r\n                &quot;AttributeType&quot;: &quot;S&quot;\r\n            },\r\n            {\r\n                &quot;AttributeName&quot;: &quot;full_json&quot;,\r\n                &quot;AttributeType&quot;: &quot;S&quot;\r\n            }\r\n        ],\r\n        &quot;TableName&quot;: &quot;local&quot;,\r\n        &quot;KeySchema&quot;: [\r\n            {\r\n                &quot;AttributeName&quot;: &quot;hashKey&quot;,\r\n                &quot;KeyType&quot;: &quot;HASH&quot;\r\n            },\r\n            {\r\n                &quot;AttributeName&quot;: &quot;sortKey&quot;,\r\n                &quot;KeyType&quot;: &quot;RANGE&quot;\r\n            }\r\n        ],\r\n        &quot;TableStatus&quot;: &quot;ACTIVE&quot;,\r\n        &quot;CreationDateTime&quot;: &quot;2021-10-01T15:18:04.413000+02:00&quot;,\r\n        &quot;ProvisionedThroughput&quot;: {\r\n            &quot;LastIncreaseDateTime&quot;: &quot;1970-01-01T01:00:00+01:00&quot;,\r\n            &quot;LastDecreaseDateTime&quot;: &quot;1970-01-01T01:00:00+01:00&quot;,\r\n            &quot;NumberOfDecreasesToday&quot;: 0,\r\n            &quot;ReadCapacityUnits&quot;: 5,\r\n            &quot;WriteCapacityUnits&quot;: 1\r\n        },\r\n        &quot;TableSizeBytes&quot;: 1066813,\r\n        &quot;ItemCount&quot;: 23,\r\n        &quot;TableArn&quot;: &quot;arn:aws:dynamodb:ddblocal:000000000000:table/local&quot;,\r\n        &quot;GlobalSecondaryIndexes&quot;: [\r\n            {\r\n                &quot;IndexName&quot;: &quot;sortKeyIndex&quot;,\r\n                &quot;KeySchema&quot;: [\r\n                    {\r\n                        &quot;AttributeName&quot;: &quot;sortKey&quot;,\r\n                        &quot;KeyType&quot;: &quot;HASH&quot;\r\n                    }\r\n                ],\r\n                &quot;Projection&quot;: {\r\n                    &quot;ProjectionType&quot;: &quot;ALL&quot;\r\n                },\r\n                &quot;IndexStatus&quot;: &quot;ACTIVE&quot;,\r\n                &quot;ProvisionedThroughput&quot;: {\r\n                    &quot;ReadCapacityUnits&quot;: 10,\r\n                    &quot;WriteCapacityUnits&quot;: 1\r\n                },\r\n                &quot;IndexSizeBytes&quot;: 1066813,\r\n                &quot;ItemCount&quot;: 23,\r\n                &quot;IndexArn&quot;: &quot;arn:aws:dynamodb:ddblocal:000000000000:table/local/index/sortKeyIndex&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\n\r\nI want to query it with Java like this: \r\n\r\n    Index index = table.getIndex(&quot;sortKeyIndex&quot;);\r\n    ItemCollection&lt;QueryOutcome&gt; items2 = null;\r\n    QuerySpec querySpec = new QuerySpec();\r\n    querySpec.withKeyConditionExpression(&quot;sortKey &gt; :end_date&quot;)\r\n                    .withValueMap(new ValueMap().withString(&quot;:end_date&quot;,&quot;2021-06-30T07:49:22.000Z&quot;));\r\n    items2 = index.query(querySpec);\r\n    \r\n\r\nBut it throws a Exception with &quot;QUery Key Condition not supported&quot;. I dont understand this, because in the docs, the &quot;&lt;&quot; operator is described as regular operation. Can anybody help me\r\n","title":"Query DynamoDb Global Secondary Index","body":"<p>i am trying out dynamodb locally and got the following table:</p>\n<pre><code>&quot;Table&quot;: {\n    &quot;AttributeDefinitions&quot;: [\n        {\n            &quot;AttributeName&quot;: &quot;hashKey&quot;,\n            &quot;AttributeType&quot;: &quot;S&quot;\n        },\n        {\n            &quot;AttributeName&quot;: &quot;sortKey&quot;,\n            &quot;AttributeType&quot;: &quot;S&quot;\n        },\n        {\n            &quot;AttributeName&quot;: &quot;full_json&quot;,\n            &quot;AttributeType&quot;: &quot;S&quot;\n        }\n    ],\n    &quot;TableName&quot;: &quot;local&quot;,\n    &quot;KeySchema&quot;: [\n        {\n            &quot;AttributeName&quot;: &quot;hashKey&quot;,\n            &quot;KeyType&quot;: &quot;HASH&quot;\n        },\n        {\n            &quot;AttributeName&quot;: &quot;sortKey&quot;,\n            &quot;KeyType&quot;: &quot;RANGE&quot;\n        }\n    ],\n    &quot;TableStatus&quot;: &quot;ACTIVE&quot;,\n    &quot;CreationDateTime&quot;: &quot;2021-10-01T15:18:04.413000+02:00&quot;,\n    &quot;ProvisionedThroughput&quot;: {\n        &quot;LastIncreaseDateTime&quot;: &quot;1970-01-01T01:00:00+01:00&quot;,\n        &quot;LastDecreaseDateTime&quot;: &quot;1970-01-01T01:00:00+01:00&quot;,\n        &quot;NumberOfDecreasesToday&quot;: 0,\n        &quot;ReadCapacityUnits&quot;: 5,\n        &quot;WriteCapacityUnits&quot;: 1\n    },\n    &quot;TableSizeBytes&quot;: 1066813,\n    &quot;ItemCount&quot;: 23,\n    &quot;TableArn&quot;: &quot;arn:aws:dynamodb:ddblocal:000000000000:table/local&quot;,\n    &quot;GlobalSecondaryIndexes&quot;: [\n        {\n            &quot;IndexName&quot;: &quot;sortKeyIndex&quot;,\n            &quot;KeySchema&quot;: [\n                {\n                    &quot;AttributeName&quot;: &quot;sortKey&quot;,\n                    &quot;KeyType&quot;: &quot;HASH&quot;\n                }\n            ],\n            &quot;Projection&quot;: {\n                &quot;ProjectionType&quot;: &quot;ALL&quot;\n            },\n            &quot;IndexStatus&quot;: &quot;ACTIVE&quot;,\n            &quot;ProvisionedThroughput&quot;: {\n                &quot;ReadCapacityUnits&quot;: 10,\n                &quot;WriteCapacityUnits&quot;: 1\n            },\n            &quot;IndexSizeBytes&quot;: 1066813,\n            &quot;ItemCount&quot;: 23,\n            &quot;IndexArn&quot;: &quot;arn:aws:dynamodb:ddblocal:000000000000:table/local/index/sortKeyIndex&quot;\n        }\n    ]\n}\n</code></pre>\n<p>I want to query it with Java like this:</p>\n<pre><code>Index index = table.getIndex(&quot;sortKeyIndex&quot;);\nItemCollection&lt;QueryOutcome&gt; items2 = null;\nQuerySpec querySpec = new QuerySpec();\nquerySpec.withKeyConditionExpression(&quot;sortKey &gt; :end_date&quot;)\n                .withValueMap(new ValueMap().withString(&quot;:end_date&quot;,&quot;2021-06-30T07:49:22.000Z&quot;));\nitems2 = index.query(querySpec);\n</code></pre>\n<p>But it throws a Exception with &quot;QUery Key Condition not supported&quot;. I dont understand this, because in the docs, the &quot;&lt;&quot; operator is described as regular operation. Can anybody help me</p>\n"},{"tags":["java","object-pooling","apache-commons-pool"],"comments":[{"owner":{"account_id":2401759,"reputation":525,"user_id":2099362,"display_name":"EndlosSchleife"},"score":0,"creation_date":1619459435,"post_id":63466709,"comment_id":118907252,"body_markdown":"Not verified, so just as a comment: I think what you want is minIdle = 3, maxIdle = maxTotal = 5. =&gt; Keep at least 3 idle objects indefinitely, up to 5 if idle for less than minEvictableIdleTime.","body":"Not verified, so just as a comment: I think what you want is minIdle = 3, maxIdle = maxTotal = 5. =&gt; Keep at least 3 idle objects indefinitely, up to 5 if idle for less than minEvictableIdleTime."}],"answers":[{"tags":[],"owner":{"account_id":8954365,"reputation":332,"user_id":6679305,"display_name":"Mohammed Nosirat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633099575,"creation_date":1633099575,"answer_id":69407853,"question_id":63466709,"body_markdown":"using `minEvictableIdleTimeMillis` only is not enough \r\n\r\nyou must also specify **`timeBetweenEvictionRunsMillis`** which is -1 by default.\r\n\r\npool objects are being evicted by a validation/cleaner thread, so `timeBetweenEvictionRunsMillis` will make this thread run, so it will check the `minEvictableIdleTimeMillis` of the ideal threads and will evict them.   \r\n\r\n  ","title":"MinEvictableIdleTimeMillis setting not working as expected","body":"<p>using <code>minEvictableIdleTimeMillis</code> only is not enough</p>\n<p>you must also specify <strong><code>timeBetweenEvictionRunsMillis</code></strong> which is -1 by default.</p>\n<p>pool objects are being evicted by a validation/cleaner thread, so <code>timeBetweenEvictionRunsMillis</code> will make this thread run, so it will check the <code>minEvictableIdleTimeMillis</code> of the ideal threads and will evict them.</p>\n"}],"owner":{"account_id":1730017,"reputation":424,"user_id":1583803,"accept_rate":40,"display_name":"user1583803"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":956,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633100801,"creation_date":1597746464,"question_id":63466709,"body_markdown":"I have this pool of objects (using org.apache.commons.pool2), from which I borrow (or create) one.\r\n\r\nThe maximum idle size I have set is 3 ( with a max size of 5). This was set with the understanding that if there are idle objects more than 3, those would be destroyed (BasePooledObjectFactory#destroyObject)\r\n\r\nWhat this does in my system is that it creates and destroys several objects, which is expensive. I would only want it to be destroyed when idle for a longer period (say 1 minute). \r\n\r\nI tried setting setMinEvictableIdleTimeMillis (the default is 30 minutes I could see) to do this. The default, as well as the setting doesn&#39;t seem to work - as in I can see that the object is being destroyed quite often as the idle count goes above 4.\r\n\r\nWhy could this be happening and how can I make sure the idle objects are not destroyed this often?","title":"MinEvictableIdleTimeMillis setting not working as expected","body":"<p>I have this pool of objects (using org.apache.commons.pool2), from which I borrow (or create) one.</p>\n<p>The maximum idle size I have set is 3 ( with a max size of 5). This was set with the understanding that if there are idle objects more than 3, those would be destroyed (BasePooledObjectFactory#destroyObject)</p>\n<p>What this does in my system is that it creates and destroys several objects, which is expensive. I would only want it to be destroyed when idle for a longer period (say 1 minute).</p>\n<p>I tried setting setMinEvictableIdleTimeMillis (the default is 30 minutes I could see) to do this. The default, as well as the setting doesn't seem to work - as in I can see that the object is being destroyed quite often as the idle count goes above 4.</p>\n<p>Why could this be happening and how can I make sure the idle objects are not destroyed this often?</p>\n"},{"tags":["java","arrays","processing"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1632170385,"post_id":69260537,"comment_id":122416581,"body_markdown":"Please edit the question and show the complete error stack.  thanks","body":"Please edit the question and show the complete error stack.  thanks"},{"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"score":0,"creation_date":1632170586,"post_id":69260537,"comment_id":122416647,"body_markdown":"Please add the stacktrace","body":"Please add the stacktrace"}],"answers":[{"tags":[],"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632170545,"creation_date":1632170545,"answer_id":69260586,"question_id":69260537,"body_markdown":"The *ArrayIndexOutOfBoundsException : Index 30 out of bounds for length 30* means that you have an array with length 30 and trying to access an element at index 30. But the valid index range is 0-29.\n\nFrom the code above is not possible to see where from the exception is comming. ","title":"ArrayIndexOutOfBoundsException: Index 30 out of bounds for length 30","body":"<p>The <em>ArrayIndexOutOfBoundsException : Index 30 out of bounds for length 30</em> means that you have an array with length 30 and trying to access an element at index 30. But the valid index range is 0-29.</p>\n<p>From the code above is not possible to see where from the exception is comming.</p>\n"}],"owner":{"account_id":19673011,"reputation":15,"user_id":14401852,"display_name":"Sarah Rose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":752,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633100482,"creation_date":1632170262,"question_id":69260537,"body_markdown":"UPDATE: Turns out I had to export an SVG again and put it in the data folder of my file.\r\n\r\n\r\n\r\nYet again I&#39;m faced with a coding question.\r\nApologies if this is not correctly formatted, I have yet to improve my way of phrasing coding questions.\r\n\r\nWhat does ArrayIndexOutOfBoundsException : Index 30 out of bounds for length 30 mean? I already tried to look it up myself but I can&#39;t seem to find the meaning.\r\n\r\n\r\nAt first when I added my svg&#39;s, the code was working , then I added the same files again and also that was working ( Eye2,pupil2,lash2), then I added the Nose.SVG file and I suddenly got an error. \r\n\r\n\r\n\r\n\r\nI&#39;m coding in processing 4.0\r\n\r\nAnd this is the error I get, also I have copy-pasted all my code.\r\n\r\nArrayIndexOutOfBoundsException: Index 30 out of bounds for length 30\r\n\r\n\r\n-- I can&#39;t seem to find my stacktrace\r\n\r\n\r\n\r\n    PShape Eye;\r\n    PShape Pupil;\r\n    PShape Lash;\r\n    PShape Eye2;\r\n    PShape Pupil2;\r\n    PShape Lash2;\r\n    PShape Mouth;\r\n    PShape Line;\r\n    PShape Nose;\r\n    \r\n    void setup() {\r\n      size(1000, 1000);\r\n      Eye = loadShape(&quot;Eye.svg&quot;);\r\n      Pupil= loadShape(&quot;Pupil.svg&quot;);\r\n      Lash= loadShape(&quot;Lash.svg&quot;);\r\n      Mouth= loadShape(&quot;Mouth.svg&quot;);\r\n      Line= loadShape(&quot;Line.svg&quot;);\r\n      Nose= loadShape(&quot;Nose.svg&quot;);\r\n      Eye2 = loadShape(&quot;Eye.svg&quot;);\r\n      Pupil2= loadShape(&quot;Pupil.svg&quot;);\r\n      Lash2= loadShape(&quot;Lash.svg&quot;);\r\n    }\r\n    \r\n    void draw() {\r\n      background(230, 230, 250);\r\n    \r\n      shape(Nose, 110, 90, 200, 200);\r\n    \r\n    \r\n      Eye.disableStyle();\r\n      fill( 173, 216, 230);\r\n      stroke( 173, 216, 230);\r\n      shape(Eye, 110, 90, 400, 400);\r\n    \r\n    \r\n      Pupil.disableStyle();\r\n      fill( 255, 140, 0);\r\n      stroke( 255, 140, 0);\r\n      shape(Pupil, 220, 200, 200, 200);\r\n    \r\n      shape(Lash, 90, 10, 400, 400);\r\n    \r\n    \r\n      Eye2.disableStyle();\r\n      fill( 173, 216, 230);\r\n      stroke( 173, 216, 230);\r\n      shape(Eye2, 500, 90, 400, 400);\r\n    \r\n    \r\n      Pupil2.disableStyle();\r\n      fill( 255, 140, 0);\r\n      stroke( 255, 140, 0);\r\n      shape(Pupil2, 620, 200, 200, 200);\r\n    \r\n      shape(Lash2, 500, 10, 400, 400);\r\n    \r\n    \r\n      Mouth.disableStyle();\r\n      fill(192, 238, 144);\r\n      stroke(192, 238, 144);\r\n      shape(Mouth, 280, 400, 400, 450);\r\n    \r\n      shape(Line, 280, 400, 350, 350);\r\n    }\r\n\r\n","title":"ArrayIndexOutOfBoundsException: Index 30 out of bounds for length 30","body":"<p>UPDATE: Turns out I had to export an SVG again and put it in the data folder of my file.</p>\n<p>Yet again I'm faced with a coding question.\nApologies if this is not correctly formatted, I have yet to improve my way of phrasing coding questions.</p>\n<p>What does ArrayIndexOutOfBoundsException : Index 30 out of bounds for length 30 mean? I already tried to look it up myself but I can't seem to find the meaning.</p>\n<p>At first when I added my svg's, the code was working , then I added the same files again and also that was working ( Eye2,pupil2,lash2), then I added the Nose.SVG file and I suddenly got an error.</p>\n<p>I'm coding in processing 4.0</p>\n<p>And this is the error I get, also I have copy-pasted all my code.</p>\n<p>ArrayIndexOutOfBoundsException: Index 30 out of bounds for length 30</p>\n<p>-- I can't seem to find my stacktrace</p>\n<pre><code>PShape Eye;\nPShape Pupil;\nPShape Lash;\nPShape Eye2;\nPShape Pupil2;\nPShape Lash2;\nPShape Mouth;\nPShape Line;\nPShape Nose;\n\nvoid setup() {\n  size(1000, 1000);\n  Eye = loadShape(&quot;Eye.svg&quot;);\n  Pupil= loadShape(&quot;Pupil.svg&quot;);\n  Lash= loadShape(&quot;Lash.svg&quot;);\n  Mouth= loadShape(&quot;Mouth.svg&quot;);\n  Line= loadShape(&quot;Line.svg&quot;);\n  Nose= loadShape(&quot;Nose.svg&quot;);\n  Eye2 = loadShape(&quot;Eye.svg&quot;);\n  Pupil2= loadShape(&quot;Pupil.svg&quot;);\n  Lash2= loadShape(&quot;Lash.svg&quot;);\n}\n\nvoid draw() {\n  background(230, 230, 250);\n\n  shape(Nose, 110, 90, 200, 200);\n\n\n  Eye.disableStyle();\n  fill( 173, 216, 230);\n  stroke( 173, 216, 230);\n  shape(Eye, 110, 90, 400, 400);\n\n\n  Pupil.disableStyle();\n  fill( 255, 140, 0);\n  stroke( 255, 140, 0);\n  shape(Pupil, 220, 200, 200, 200);\n\n  shape(Lash, 90, 10, 400, 400);\n\n\n  Eye2.disableStyle();\n  fill( 173, 216, 230);\n  stroke( 173, 216, 230);\n  shape(Eye2, 500, 90, 400, 400);\n\n\n  Pupil2.disableStyle();\n  fill( 255, 140, 0);\n  stroke( 255, 140, 0);\n  shape(Pupil2, 620, 200, 200, 200);\n\n  shape(Lash2, 500, 10, 400, 400);\n\n\n  Mouth.disableStyle();\n  fill(192, 238, 144);\n  stroke(192, 238, 144);\n  shape(Mouth, 280, 400, 400, 450);\n\n  shape(Line, 280, 400, 350, 350);\n}\n</code></pre>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"owner":{"account_id":18664773,"reputation":1033,"user_id":13605044,"display_name":"Md. Faisal Habib"},"score":1,"creation_date":1633066452,"post_id":69400720,"comment_id":122665682,"body_markdown":"${map.get(key)} , it&#39;s supposed to work.","body":"${map.get(key)} , it&#39;s supposed to work."}],"answers":[{"tags":[],"owner":{"account_id":1959220,"reputation":111,"user_id":1761363,"display_name":"iagorubio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633073396,"creation_date":1633073396,"answer_id":69402089,"question_id":69400720,"body_markdown":"Looks like it would be better to loop by key in your inner loop if I get it right.\r\n\r\n```html\r\n    &lt;tr th:each=&quot;item : ${items}&quot;&gt;\r\n        &lt;td th:each=&quot;key: ${item.keySet()}&quot;&gt;\r\n              &lt;a th:text=&quot;${key}&quot; th:href=&quot;${item.get(key)}&quot;&gt;anchor&lt;/a&gt;\r\n       &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n```\r\n","title":"How can I get a specific map value from Thymeleaf?","body":"<p>Looks like it would be better to loop by key in your inner loop if I get it right.</p>\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;tr th:each=&quot;item : ${items}&quot;&gt;\n        &lt;td th:each=&quot;key: ${item.keySet()}&quot;&gt;\n              &lt;a th:text=&quot;${key}&quot; th:href=&quot;${item.get(key)}&quot;&gt;anchor&lt;/a&gt;\n       &lt;/td&gt;\n    &lt;/tr&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633100469,"creation_date":1633100469,"answer_id":69408088,"question_id":69400720,"body_markdown":"When you loop over a map, you get a special `java.util.Map.Entry` element with a `key` and a `value`, not the actual item itself. In the example you gave, using `item` instead of `element` should work (if that is indeed what you want):\r\n\r\n    &lt;tr th:each=&quot;item : ${items}&quot;&gt;\r\n      &lt;td th:each=&quot;element : ${item}&quot;&gt;\r\n        &lt;a th:text=&quot;${element[&#39;key&#39;]}&quot; th:href=&quot;${item[&#39;projectName&#39;]}&quot;&gt;anchor&lt;/a&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nIf you just wanted the `projectName` from each item in your list, you don&#39;t even need the inner loop.  Like this for example:\r\n\r\n    &lt;tr th:each=&quot;item : ${items}&quot;&gt;\r\n      &lt;td&gt;\r\n        &lt;a th:text=&quot;${item[&#39;projectName&#39;]}&quot;&gt;anchor&lt;/a&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n","title":"How can I get a specific map value from Thymeleaf?","body":"<p>When you loop over a map, you get a special <code>java.util.Map.Entry</code> element with a <code>key</code> and a <code>value</code>, not the actual item itself. In the example you gave, using <code>item</code> instead of <code>element</code> should work (if that is indeed what you want):</p>\n<pre><code>&lt;tr th:each=&quot;item : ${items}&quot;&gt;\n  &lt;td th:each=&quot;element : ${item}&quot;&gt;\n    &lt;a th:text=&quot;${element['key']}&quot; th:href=&quot;${item['projectName']}&quot;&gt;anchor&lt;/a&gt;\n  &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>If you just wanted the <code>projectName</code> from each item in your list, you don't even need the inner loop.  Like this for example:</p>\n<pre><code>&lt;tr th:each=&quot;item : ${items}&quot;&gt;\n  &lt;td&gt;\n    &lt;a th:text=&quot;${item['projectName']}&quot;&gt;anchor&lt;/a&gt;\n  &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n"}],"owner":{"account_id":22425507,"reputation":89,"user_id":16632174,"display_name":"emarwa.mouma.35t"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69408088,"answer_count":2,"score":1,"last_activity_date":1633100469,"creation_date":1633065039,"question_id":69400720,"body_markdown":"How can I get a specific map value from Thymeleaf?\r\n```\r\n        &lt;tr th:each=&quot;item : ${items}&quot;&gt;\r\n            &lt;td th:each=&quot;element : ${item}&quot;&gt;\r\n                   &lt;a th:text=&quot;${element[&#39;key&#39;]}&quot;&gt;anchor&lt;/a&gt;\r\n            &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n```\r\nIn the code above, all keys corresponding to an element are displayed.\r\n\r\nBut what I want is to get `element[&#39;projectName&#39;]`.\r\nThat is, I want it to be something like this:\r\n```\r\n        &lt;tr th:each=&quot;item : ${items}&quot;&gt;\r\n            &lt;td th:each=&quot;element : ${item}&quot;&gt;\r\n                   &lt;a th:text=&quot;${element[&#39;key&#39;]}&quot;\r\n                        th:href=&quot;${element.get(&#39;projectName&#39;)}&quot;&gt;anchor&lt;/a&gt;\r\n\r\n            &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n```\r\n\r\nThe data type of items is `List&lt;Map&lt;String, Object&gt;&gt;`, and the values ​​in items are\r\n```\r\n        assertThat(innerItems.get(0).get(&quot;modelName&quot;)).isEqualTo(&quot;a&quot;);\r\n        assertThat(innerItems.get(0).get(&quot;item&quot;)).isEqualTo(1);\r\n        assertThat(innerItems.get(0).get(&quot;id&quot;)).isEqualTo(&quot;q&quot;);\r\n        assertThat(innerItems.get(0).get(&quot;projectName&quot;)).isEqualTo(&quot;DefaultProject&quot;);\r\n        assertThat(innerItems.get(0).get(&quot;user_poi_no&quot;)).isEqualTo(1);\r\nis.\r\n```","title":"How can I get a specific map value from Thymeleaf?","body":"<p>How can I get a specific map value from Thymeleaf?</p>\n<pre><code>        &lt;tr th:each=&quot;item : ${items}&quot;&gt;\n            &lt;td th:each=&quot;element : ${item}&quot;&gt;\n                   &lt;a th:text=&quot;${element['key']}&quot;&gt;anchor&lt;/a&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n</code></pre>\n<p>In the code above, all keys corresponding to an element are displayed.</p>\n<p>But what I want is to get <code>element['projectName']</code>.\nThat is, I want it to be something like this:</p>\n<pre><code>        &lt;tr th:each=&quot;item : ${items}&quot;&gt;\n            &lt;td th:each=&quot;element : ${item}&quot;&gt;\n                   &lt;a th:text=&quot;${element['key']}&quot;\n                        th:href=&quot;${element.get('projectName')}&quot;&gt;anchor&lt;/a&gt;\n\n            &lt;/td&gt;\n        &lt;/tr&gt;\n</code></pre>\n<p>The data type of items is <code>List&lt;Map&lt;String, Object&gt;&gt;</code>, and the values ​​in items are</p>\n<pre><code>        assertThat(innerItems.get(0).get(&quot;modelName&quot;)).isEqualTo(&quot;a&quot;);\n        assertThat(innerItems.get(0).get(&quot;item&quot;)).isEqualTo(1);\n        assertThat(innerItems.get(0).get(&quot;id&quot;)).isEqualTo(&quot;q&quot;);\n        assertThat(innerItems.get(0).get(&quot;projectName&quot;)).isEqualTo(&quot;DefaultProject&quot;);\n        assertThat(innerItems.get(0).get(&quot;user_poi_no&quot;)).isEqualTo(1);\nis.\n</code></pre>\n"},{"tags":["java","gradle","jar"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1633015183,"post_id":69394420,"comment_id":122654712,"body_markdown":"The main idea would be to just create the JAR file (via the `jar` or `fatJar` task), and then put that JAR file on the class-path/module-path of any other project that needs it. That would allow you to use the classes in the JAR file. Or are you asking how to publish the artifact to a repository?","body":"The main idea would be to just create the JAR file (via the <code>jar</code> or <code>fatJar</code> task), and then put that JAR file on the class-path/module-path of any other project that needs it. That would allow you to use the classes in the JAR file. Or are you asking how to publish the artifact to a repository?"},{"owner":{"account_id":210918,"reputation":632,"user_id":462794,"accept_rate":82,"display_name":"Bussiere"},"score":0,"creation_date":1633019813,"post_id":69394420,"comment_id":122656802,"body_markdown":"@Slaw yes just create a jar to use it in an other project only with the jar file and not publishing it anywhere.","body":"@Slaw yes just create a jar to use it in an other project only with the jar file and not publishing it anywhere."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1633030178,"post_id":69394420,"comment_id":122660430,"body_markdown":"Then I&#39;d expect simply building the JAR file and then adding it to your other projects should be sufficient.","body":"Then I&#39;d expect simply building the JAR file and then adding it to your other projects should be sufficient."},{"owner":{"account_id":210918,"reputation":632,"user_id":462794,"accept_rate":82,"display_name":"Bussiere"},"score":0,"creation_date":1633083243,"post_id":69394420,"comment_id":122671300,"body_markdown":"@slaw is my gradle.build good ?","body":"@slaw is my gradle.build good ?"},{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1633100827,"post_id":69394420,"comment_id":122678622,"body_markdown":"do you mean to try the Group, Artifact, Version route?","body":"do you mean to try the Group, Artifact, Version route?"}],"owner":{"account_id":210918,"reputation":632,"user_id":462794,"accept_rate":82,"display_name":"Bussiere"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633100427,"creation_date":1633013580,"question_id":69394420,"body_markdown":"here is my tree files:\r\n\r\n    -src\r\n    --tools\r\n    ---Hammer.java\r\n    build.gradle\r\n    settings.gradle\r\n\r\nHere is my Hammer.java\r\n\r\n\r\n    package src.tools;\r\n\r\n    public class Hammer {\r\n    \tpublic Hammer(){\r\n    \t\tSystem.out.println(&quot;what time is it ?&quot;);\r\n    \t}\r\n    \r\n    \tpublic void getTime(){\r\n    \t\tSystem.out.println(&quot;Hammer time!&quot;);\r\n    \t}\r\n    }\r\n\r\nhere is my build.gradle :\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    \r\n    \r\n    // tag::repositories[]\r\n    repositories { \r\n        mavenCentral() \r\n    }\r\n    // end::repositories[]\r\n    \r\n    // tag::jar[]\r\n    jar {\r\n        archiveBaseName = &#39;tools&#39;\r\n    }\r\n    // end::jar[]\r\n    \r\n    \r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n    \r\n    task fatJar(type: Jar) {\r\n        manifest {\r\n            attributes &#39;Implementation-Title&#39;: &#39;jskills&#39;,  \r\n                &#39;Implementation-Version&#39;: 1\r\n        }\r\n        //baseName = project.name + &#39;-all&#39;\r\n        baseName = &#39;tools&#39;\r\n        from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\r\n        with jar\r\n    }\r\n    // tag::dependencies[]\r\n    dependencies {\r\n        implementation &quot;joda-time:joda-time:2.2&quot;\r\n        testImplementation &quot;junit:junit:4.12&quot;\r\n        compile group: &#39;org.ejml&#39;, name: &#39;ejml-all&#39;, version: &#39;0.41&#39;\r\n    }\r\n\r\nhere is my settings.gradle\r\n\r\n    include &#39;tools&#39;\r\n\r\nHow can i make a jar and import it in an other project to user the Hammer Class and it&#39;s function ?\r\n\r\nIt has no main function.\r\n\r\n\r\nRegards","title":"How to create an importable jar with gradle?","body":"<p>here is my tree files:</p>\n<pre><code>-src\n--tools\n---Hammer.java\nbuild.gradle\nsettings.gradle\n</code></pre>\n<p>Here is my Hammer.java</p>\n<pre><code>package src.tools;\n\npublic class Hammer {\n    public Hammer(){\n        System.out.println(&quot;what time is it ?&quot;);\n    }\n\n    public void getTime(){\n        System.out.println(&quot;Hammer time!&quot;);\n    }\n}\n</code></pre>\n<p>here is my build.gradle :</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'eclipse'\n\n\n// tag::repositories[]\nrepositories { \n    mavenCentral() \n}\n// end::repositories[]\n\n// tag::jar[]\njar {\n    archiveBaseName = 'tools'\n}\n// end::jar[]\n\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\ntask fatJar(type: Jar) {\n    manifest {\n        attributes 'Implementation-Title': 'jskills',  \n            'Implementation-Version': 1\n    }\n    //baseName = project.name + '-all'\n    baseName = 'tools'\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n    with jar\n}\n// tag::dependencies[]\ndependencies {\n    implementation &quot;joda-time:joda-time:2.2&quot;\n    testImplementation &quot;junit:junit:4.12&quot;\n    compile group: 'org.ejml', name: 'ejml-all', version: '0.41'\n}\n</code></pre>\n<p>here is my settings.gradle</p>\n<pre><code>include 'tools'\n</code></pre>\n<p>How can i make a jar and import it in an other project to user the Hammer Class and it's function ?</p>\n<p>It has no main function.</p>\n<p>Regards</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":4318752,"reputation":89,"user_id":3527717,"accept_rate":20,"display_name":"luanvu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633099591,"creation_date":1633099591,"answer_id":69407858,"question_id":69406088,"body_markdown":"Average method exists in some special Stream classes, you have to cast to that classes first\r\n\r\n    OptionalDouble average = employee.getReviews().stream()\r\n                .map(Review::getGrade)\r\n                .filter(Objects::nonNull)\r\n                .mapToInt(Byte::intValue)\r\n                .average();\r\nDon&#39;t forget to check null too.\r\nI also recommend that you use Integer or int instead of Byte for convenience. It&#39;s not worthy to use Byte","title":"How to get a double average in Collection of objects that have bytes using Stream API?","body":"<p>Average method exists in some special Stream classes, you have to cast to that classes first</p>\n<pre><code>OptionalDouble average = employee.getReviews().stream()\n            .map(Review::getGrade)\n            .filter(Objects::nonNull)\n            .mapToInt(Byte::intValue)\n            .average();\n</code></pre>\n<p>Don't forget to check null too.\nI also recommend that you use Integer or int instead of Byte for convenience. It's not worthy to use Byte</p>\n"}],"owner":{"display_name":"user15599360"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1633099591,"creation_date":1633092159,"question_id":69406088,"body_markdown":"\r\n\r\nI have an Employee Entity that has a Collection of Reviews, each Review has a byte grade.\r\n\r\nUnnecessary details are omitted for brevity\r\n\r\n    @Entity\r\n    public class Employee extends AbstractBaseEntity {\r\n        @OneToMany( mappedBy = &quot;employee&quot;,  cascade = CascadeType.MERGE, fetch = FetchType.LAZY)\r\n        private List&lt;Review&gt; reviews;\r\n    }\r\n    @Entity\r\n    public class Review extends AbstractBaseEntity {\r\n        private Byte grade;\r\n    }\r\n\r\nHow can I get an average grade for Employee using Stream?\r\n","title":"How to get a double average in Collection of objects that have bytes using Stream API?","body":"<p>I have an Employee Entity that has a Collection of Reviews, each Review has a byte grade.</p>\n<p>Unnecessary details are omitted for brevity</p>\n<pre><code>@Entity\npublic class Employee extends AbstractBaseEntity {\n    @OneToMany( mappedBy = &quot;employee&quot;,  cascade = CascadeType.MERGE, fetch = FetchType.LAZY)\n    private List&lt;Review&gt; reviews;\n}\n@Entity\npublic class Review extends AbstractBaseEntity {\n    private Byte grade;\n}\n</code></pre>\n<p>How can I get an average grade for Employee using Stream?</p>\n"},{"tags":["java","swing","jtextarea","gridbaglayout"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633099526,"creation_date":1554744220,"answer_id":55578661,"question_id":55578450,"body_markdown":"Giving us a picture of what it currently does doesn&#39;t really help because we don&#39;t know what you are trying to achieve to its hard to make an exact suggestion.\r\n\r\nSo what is see is an attempt to:\r\n\r\n1. show 3 buttons at the top\r\n2. have a text area fill the remaining space at bottom \r\n\r\nSo I would suggest that you never need to use a single layout manager. Many times a combination of layout managers is easier.\r\n\r\nSo I would suggest you:\r\n\r\n1. use a BorderLayout as the main layout.\r\n2. create a panel for the button and add to the `Page_START` of the BorderLayout\r\n3. add the scroll pane to the `CENTER` of the BorderLayout.\r\n\r\nSo the basic code would be:\r\n\r\n    setLayout( new BorderLayout() );\r\n    \r\n    JPanel buttonsPanel = new JPanel();\r\n    buttonsPanel.add(run);\r\n    buttonsPane.add((open);\r\n    buttonsPanel.add(exit);\r\n    add(buttonsPanel, BorderLayout.PAGE_START);\r\n    \r\n    JTextArea textArea = new JTextArea(10, 30); // give text area a default preferred size\r\n    add(new JScrollPane(textArea), BorderLayout.CENTER);\r\n\r\nMuch simpler and less code than trying to use a GridBagLayout.\r\n\r\nHowever, if you want the practice of using a GridBagLayout then first read the Swing tutorial on [How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) for more information on the constraints.\r\n\r\nThe basic code might be something like:\r\n\r\n    gbc.gridx = 0;\r\n    gbc.gridy = 0;\r\n    add(run, gbc);\r\n\r\n    gbc.gridx = 1;\r\n    gbc.gridy = 0;\r\n    add(open, gbc);\r\n\r\n    gbc.gridx = 2;\r\n    gbc.gridy = 0;\r\n    add(exit, gbc);\r\n\r\n    localConsole = new JTextArea(5, 20);\r\n    JScrollPane scrollPane = new JScrollPane(localConsole);\r\n\r\n    gbc.fill = GridBagConstraints.CENTER;\r\n    gbc.gridx = 0;\r\n    gbc.gridy = 1;\r\n    gbc.gridwidth = 3; // try this with 1 and 2 to see the difference.\r\n    add(scrollPane, gbc);\r\n\r\nThat is you can&#39;t just randomly use gridx/gridy/gridwidth/gridheight values.\r\n\r\nComponents need to be displayed in a grid. You can&#39;t leave gaps in the grid. \r\n\r\nSo if you want buttons in a row, you need to increment gridx sequentially for the same gridy value. \r\n\r\nIf you want the  text area below the buttons you increment the gridy sequentially and start with a new gridx value.\r\n\r\n\r\n\r\n","title":"Expand JTextArea in GridBagLayout","body":"<p>Giving us a picture of what it currently does doesn't really help because we don't know what you are trying to achieve to its hard to make an exact suggestion.</p>\n<p>So what is see is an attempt to:</p>\n<ol>\n<li>show 3 buttons at the top</li>\n<li>have a text area fill the remaining space at bottom</li>\n</ol>\n<p>So I would suggest that you never need to use a single layout manager. Many times a combination of layout managers is easier.</p>\n<p>So I would suggest you:</p>\n<ol>\n<li>use a BorderLayout as the main layout.</li>\n<li>create a panel for the button and add to the <code>Page_START</code> of the BorderLayout</li>\n<li>add the scroll pane to the <code>CENTER</code> of the BorderLayout.</li>\n</ol>\n<p>So the basic code would be:</p>\n<pre><code>setLayout( new BorderLayout() );\n\nJPanel buttonsPanel = new JPanel();\nbuttonsPanel.add(run);\nbuttonsPane.add((open);\nbuttonsPanel.add(exit);\nadd(buttonsPanel, BorderLayout.PAGE_START);\n\nJTextArea textArea = new JTextArea(10, 30); // give text area a default preferred size\nadd(new JScrollPane(textArea), BorderLayout.CENTER);\n</code></pre>\n<p>Much simpler and less code than trying to use a GridBagLayout.</p>\n<p>However, if you want the practice of using a GridBagLayout then first read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a> for more information on the constraints.</p>\n<p>The basic code might be something like:</p>\n<pre><code>gbc.gridx = 0;\ngbc.gridy = 0;\nadd(run, gbc);\n\ngbc.gridx = 1;\ngbc.gridy = 0;\nadd(open, gbc);\n\ngbc.gridx = 2;\ngbc.gridy = 0;\nadd(exit, gbc);\n\nlocalConsole = new JTextArea(5, 20);\nJScrollPane scrollPane = new JScrollPane(localConsole);\n\ngbc.fill = GridBagConstraints.CENTER;\ngbc.gridx = 0;\ngbc.gridy = 1;\ngbc.gridwidth = 3; // try this with 1 and 2 to see the difference.\nadd(scrollPane, gbc);\n</code></pre>\n<p>That is you can't just randomly use gridx/gridy/gridwidth/gridheight values.</p>\n<p>Components need to be displayed in a grid. You can't leave gaps in the grid.</p>\n<p>So if you want buttons in a row, you need to increment gridx sequentially for the same gridy value.</p>\n<p>If you want the  text area below the buttons you increment the gridy sequentially and start with a new gridx value.</p>\n"}],"owner":{"account_id":5789931,"reputation":793,"user_id":4567788,"accept_rate":89,"display_name":"Kyle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":728,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55578661,"answer_count":1,"score":0,"last_activity_date":1633099526,"creation_date":1554743372,"question_id":55578450,"body_markdown":"I&#39;ve never used GridBagLayout but I&#39;m sure it could be something else. Currently I&#39;m trying to add a TextArea to act as a console viewport window for any code being executed. As it stands, the TextArea is minuscule and actually can&#39;t see any text. \r\n\r\nI tried consulting this [page][1] for one of the suggestions but I was still unable to correctly get the JTextArea to show. \r\n\r\nThe code is pasted below, let me know if you need anything else. I&#39;ve also attached an additional picture showing what it&#39;s currently doing.\r\n**Edit: setup(); is an empty body.**\r\n\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public abstract class MainComponent extends JPanel {\r\n\r\n\tprotected String componentName = &quot;DEMO&quot;;\r\n\t\r\n\tprivate JLabel title;\r\n\tprivate GridBagConstraints gbc;\r\n\tprivate Insets spacing; \r\n\tprivate Font buttonFont;\r\n\t\r\n\t/*\r\n\t * Redirection manipulation for the project.\r\n\t */\r\n\tprivate JTextArea localConsole;\r\n\t\r\n\tpublic MainComponent(Dimension dim) {\r\n\t\t\r\n\t\tsetup();\r\n\t\t\r\n\t\t/* Set main body */\r\n\t\tsetLayout(new GridBagLayout());\r\n\t\tgbc = new GridBagConstraints();\r\n\t\tspacing = new Insets(100,5,100,5);\r\n\t\tbuttonFont = new Font(&quot;Consolas&quot;, Font.ITALIC, 22);\r\n\t\t\r\n\t\t/* Set title */\r\n\t\ttitle = new JLabel(componentName);\r\n\t\ttitle.setFont(new Font(&quot;Consolas&quot;, Font.BOLD, 48));\r\n\t\tgbc.fill = GridBagConstraints.CENTER;\r\n\t\tgbc.gridx = 1;\r\n\t\tgbc.gridy = 0;\r\n\t\tadd(title, gbc);\r\n\t\t\r\n\t\tJButton run = new JButton(&quot;Run Project&quot;);\r\n\t\trun.setFont(buttonFont);\r\n\t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n\t\tgbc.insets = spacing;\r\n\t\tgbc.gridx = 0;\r\n\t\tgbc.gridy = 2;\r\n\t\tadd(run, gbc);\r\n\t\t\r\n\t\tJButton open = new JButton(&quot;Open Codebase&quot;);\r\n\t\topen.setFont(buttonFont);\r\n\t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n\t\tgbc.insets = spacing;\r\n\t\tgbc.gridx = 1;\r\n\t\tgbc.gridy = 2;\r\n\t\tadd(open, gbc);\r\n\t\t\r\n\t\tJButton exit = new JButton(&quot;Exit Program&quot;);\r\n\t\texit.setFont(buttonFont);\r\n\t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n\t\tgbc.insets = spacing;\r\n\t\tgbc.gridx = 2;\r\n\t\tgbc.gridy = 2;\r\n\t\tadd(exit, gbc);\r\n\t\t\r\n\t\t/* Setup console for output */\r\n\t\tlocalConsole = new JTextArea();\r\n\t\tDefaultCaret caret = (DefaultCaret) localConsole.getCaret();\r\n\t\tcaret.setUpdatePolicy(2);\r\n\t\tlocalConsole.setEditable(false);\r\n\t\tlocalConsole.setFont(new Font(&quot;Consolas&quot;, Font.PLAIN, 16));\r\n\t\tlocalConsole.setWrapStyleWord(true);\r\n\t\tlocalConsole.setSize(new Dimension(400, 200));\r\n\t\t\r\n\t\tJScrollPane scrollPane = new JScrollPane(localConsole);\r\n\t\tscrollPane.setVerticalScrollBarPolicy(22);\r\n\t\tscrollPane.setSize(new Dimension(400, 200));\r\n\t\tgbc.fill = GridBagConstraints.CENTER;\r\n\t\tgbc.insets = new Insets(200, 0, 20, 0);\r\n\t\tgbc.gridx = 1;\r\n\t\tgbc.gridy = 3;\r\n\t\tgbc.gridwidth = 5;\r\n\t\tgbc.gridheight = 2;\r\n\t\tadd(scrollPane, gbc);\r\n\t\t\r\n\t}\r\n\r\n[![Empty TextArea][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18448586/adding-jscrollpane-in-jtextarea-using-gridbaglayout\r\n  [2]: https://i.stack.imgur.com/EIXSS.png","title":"Expand JTextArea in GridBagLayout","body":"<p>I've never used GridBagLayout but I'm sure it could be something else. Currently I'm trying to add a TextArea to act as a console viewport window for any code being executed. As it stands, the TextArea is minuscule and actually can't see any text. </p>\n\n<p>I tried consulting this <a href=\"https://stackoverflow.com/questions/18448586/adding-jscrollpane-in-jtextarea-using-gridbaglayout\">page</a> for one of the suggestions but I was still unable to correctly get the JTextArea to show. </p>\n\n<p>The code is pasted below, let me know if you need anything else. I've also attached an additional picture showing what it's currently doing.\n<strong>Edit: setup(); is an empty body.</strong></p>\n\n<pre><code>@SuppressWarnings(\"serial\")\npublic abstract class MainComponent extends JPanel {\n\nprotected String componentName = \"DEMO\";\n\nprivate JLabel title;\nprivate GridBagConstraints gbc;\nprivate Insets spacing; \nprivate Font buttonFont;\n\n/*\n * Redirection manipulation for the project.\n */\nprivate JTextArea localConsole;\n\npublic MainComponent(Dimension dim) {\n\n    setup();\n\n    /* Set main body */\n    setLayout(new GridBagLayout());\n    gbc = new GridBagConstraints();\n    spacing = new Insets(100,5,100,5);\n    buttonFont = new Font(\"Consolas\", Font.ITALIC, 22);\n\n    /* Set title */\n    title = new JLabel(componentName);\n    title.setFont(new Font(\"Consolas\", Font.BOLD, 48));\n    gbc.fill = GridBagConstraints.CENTER;\n    gbc.gridx = 1;\n    gbc.gridy = 0;\n    add(title, gbc);\n\n    JButton run = new JButton(\"Run Project\");\n    run.setFont(buttonFont);\n    gbc.fill = GridBagConstraints.HORIZONTAL;\n    gbc.insets = spacing;\n    gbc.gridx = 0;\n    gbc.gridy = 2;\n    add(run, gbc);\n\n    JButton open = new JButton(\"Open Codebase\");\n    open.setFont(buttonFont);\n    gbc.fill = GridBagConstraints.HORIZONTAL;\n    gbc.insets = spacing;\n    gbc.gridx = 1;\n    gbc.gridy = 2;\n    add(open, gbc);\n\n    JButton exit = new JButton(\"Exit Program\");\n    exit.setFont(buttonFont);\n    gbc.fill = GridBagConstraints.HORIZONTAL;\n    gbc.insets = spacing;\n    gbc.gridx = 2;\n    gbc.gridy = 2;\n    add(exit, gbc);\n\n    /* Setup console for output */\n    localConsole = new JTextArea();\n    DefaultCaret caret = (DefaultCaret) localConsole.getCaret();\n    caret.setUpdatePolicy(2);\n    localConsole.setEditable(false);\n    localConsole.setFont(new Font(\"Consolas\", Font.PLAIN, 16));\n    localConsole.setWrapStyleWord(true);\n    localConsole.setSize(new Dimension(400, 200));\n\n    JScrollPane scrollPane = new JScrollPane(localConsole);\n    scrollPane.setVerticalScrollBarPolicy(22);\n    scrollPane.setSize(new Dimension(400, 200));\n    gbc.fill = GridBagConstraints.CENTER;\n    gbc.insets = new Insets(200, 0, 20, 0);\n    gbc.gridx = 1;\n    gbc.gridy = 3;\n    gbc.gridwidth = 5;\n    gbc.gridheight = 2;\n    add(scrollPane, gbc);\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/EIXSS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EIXSS.png\" alt=\"Empty TextArea\"></a></p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1632737812,"post_id":69344902,"comment_id":122565226,"body_markdown":"`new FileOutputStream(file)` That should be `new FileOutputStream(myFile)`. But... you should not have created that file already as new FileOutputSTream() will create the file. But it should not bother either.","body":"<code>new FileOutputStream(file)</code> That should be <code>new FileOutputStream(myFile)</code>. But... you should not have created that file already as new FileOutputSTream() will create the file. But it should not bother either."},{"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"score":0,"creation_date":1632738052,"post_id":69344902,"comment_id":122565322,"body_markdown":"I edited my question that was not detailed and accurate enough.","body":"I edited my question that was not detailed and accurate enough."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1632739161,"post_id":69344902,"comment_id":122565727,"body_markdown":"What you ask makes no sense. `Now, I want to save it to disk at the URL`. The code above that with FileWriter() did already save the csv in that file.","body":"What you ask makes no sense. <code>Now, I want to save it to disk at the URL</code>. The code above that with FileWriter() did already save the csv in that file."},{"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"score":0,"creation_date":1632817953,"post_id":69344902,"comment_id":122589322,"body_markdown":"You are right... I get confused because I had another bug (very specific to my app) that disturbed me. Thanks.","body":"You are right... I get confused because I had another bug (very specific to my app) that disturbed me. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":22537042,"reputation":182,"user_id":16728174,"display_name":"user16728174"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633099426,"creation_date":1633099426,"answer_id":69407818,"question_id":69344902,"body_markdown":"In order to save files to directories like **Android/data**  you should deal with external storage.\r\n\r\nfor api 28 and lower use this method :\r\n\r\nhttps://stackoverflow.com/questions/7887078/android-saving-file-to-external-storage\r\n\r\nhttps://stackoverflow.com/questions/14376807/read-write-string-from-to-a-file-in-android\r\n\r\nand for newer android devices like android 11 (api 29 and later) you should use scoped storage framework check this :\r\n\r\nhttps://developer.android.com/training/data-storage/use-cases\r\n\r\nhttps://medium.com/microsoft-mobile-engineering/scoped-storage-in-android-10-android-11-28d58d989f3c\r\n\r\n\r\nOtherwise you can save files to Internal Application folder or cache folder without permissions:\r\n\r\nhttps://stackoverflow.com/a/52127190/16728174\r\n\r\nhttps://stackoverflow.com/questions/3425906/creating-temporary-files-in-android\r\n\r\nDo not forget to get proper Read/Write permission for these actions.","title":"Android: how to save temporary file to disk?","body":"<p>In order to save files to directories like <strong>Android/data</strong>  you should deal with external storage.</p>\n<p>for api 28 and lower use this method :</p>\n<p><a href=\"https://stackoverflow.com/questions/7887078/android-saving-file-to-external-storage\">Android saving file to external storage</a></p>\n<p><a href=\"https://stackoverflow.com/questions/14376807/read-write-string-from-to-a-file-in-android\">Read/Write String from/to a File in Android</a></p>\n<p>and for newer android devices like android 11 (api 29 and later) you should use scoped storage framework check this :</p>\n<p><a href=\"https://developer.android.com/training/data-storage/use-cases\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/use-cases</a></p>\n<p><a href=\"https://medium.com/microsoft-mobile-engineering/scoped-storage-in-android-10-android-11-28d58d989f3c\" rel=\"nofollow noreferrer\">https://medium.com/microsoft-mobile-engineering/scoped-storage-in-android-10-android-11-28d58d989f3c</a></p>\n<p>Otherwise you can save files to Internal Application folder or cache folder without permissions:</p>\n<p><a href=\"https://stackoverflow.com/a/52127190/16728174\">https://stackoverflow.com/a/52127190/16728174</a></p>\n<p><a href=\"https://stackoverflow.com/questions/3425906/creating-temporary-files-in-android\">Creating temporary files in Android</a></p>\n<p>Do not forget to get proper Read/Write permission for these actions.</p>\n"}],"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2015,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1633099426,"creation_date":1632737589,"question_id":69344902,"body_markdown":"I have a temporary file created like this :\r\n\r\n    File myfile = File.createTempFile(fileName + &quot; - &quot;, suffix, activity.getExternalCacheDir());\r\n    FileWriter fw = new FileWriter(file); \r\n    CSVWriter writer = new CSVWriter(fw, &#39; &#39;/* DEFAULT_SEPARATOR */, NO_QUOTE_CHARACTER, DEFAULT_ESCAPE_CHARACTER, DEFAULT_LINE_END);\r\n    writer.writeNext(entries);\r\n    writer.close();\r\n\r\nNow, I want to save it to disk at the URL /storage/emulated/0/Android/data/com.example.myproject/files/myfile.csv\r\n\r\nSo I need to change the URL of myfile and save it to disk with code like this:\r\n\r\n    FileOutputStream fileOutput = new FileOutputStream(myfile);\r\n    // How to change URL of myfile ?\r\n    OutputStreamWriter outputStreamWriter=new OutputStreamWriter(fileOutput);\r\n    outputStreamWriter.flush();\r\n    fileOutput.getFD().sync();\r\n    outputStreamWriter.close();\r\n\r\nHow can I do that ? (= how to change URL and save to disk ?)\r\n\r\nThanks !","title":"Android: how to save temporary file to disk?","body":"<p>I have a temporary file created like this :</p>\n<pre><code>File myfile = File.createTempFile(fileName + &quot; - &quot;, suffix, activity.getExternalCacheDir());\nFileWriter fw = new FileWriter(file); \nCSVWriter writer = new CSVWriter(fw, ' '/* DEFAULT_SEPARATOR */, NO_QUOTE_CHARACTER, DEFAULT_ESCAPE_CHARACTER, DEFAULT_LINE_END);\nwriter.writeNext(entries);\nwriter.close();\n</code></pre>\n<p>Now, I want to save it to disk at the URL /storage/emulated/0/Android/data/com.example.myproject/files/myfile.csv</p>\n<p>So I need to change the URL of myfile and save it to disk with code like this:</p>\n<pre><code>FileOutputStream fileOutput = new FileOutputStream(myfile);\n// How to change URL of myfile ?\nOutputStreamWriter outputStreamWriter=new OutputStreamWriter(fileOutput);\noutputStreamWriter.flush();\nfileOutput.getFD().sync();\noutputStreamWriter.close();\n</code></pre>\n<p>How can I do that ? (= how to change URL and save to disk ?)</p>\n<p>Thanks !</p>\n"},{"tags":["java","spring","spring-boot","infinispan"],"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633099075,"creation_date":1632511195,"question_id":69320138,"body_markdown":"I am using Inifinispan v12.1 with String Boot v2.5.2 via `org.infinispan:infinispan-spring-boot-starter-embedded`. In our application we are using custom classes which we would like to cache (very common case), however it turned out that starting from v10 these classes need to be listed in &quot;allow list&quot;.\r\n\r\nWe are using `infinispan.xml` configuration passed via `infinispan.embedded.config-xml` property as advised by [sample project](https://github.com/infinispan/infinispan-simple-tutorials/blob/main/integrations/spring-boot/cache-embedded/src/main/resources/application.properties#L3).\r\n\r\n**Question**: How is it possible to configure allow list globally for all caches by the means of XML configuration file?\r\n\r\nI have considered the following options:\r\n\r\n* System property `infinispan.deserialization.allowlist.regexps` (from [`ClassAllowList`](https://github.com/infinispan/infinispan/blob/ad05d66f4e/commons/all/src/main/java/org/infinispan/commons/configuration/ClassAllowList.java#L48)) – not good choice as configuration will be spread between XML file and e.g. some other place. More over if the property is renamed in future Infinispan versions one would notice it only when application is run.\r\n* Defining the `&lt;cache-container&gt;&lt;serialization&gt;&lt;allow-list&gt;` as to [documentation](https://infinispan.org/docs/stable/titles/encoding/encoding.html#adding-deserialization-allowlist_marshaller-implementations) is not good option because will result several identical per-cache XML configuration blocks.\r\n\r\nThe corresponding Java Config for Spring Boot application would be:\r\n```\r\n@org.springframework.context.annotation.Configuration\r\npublic class InfinispanConfiguration {\r\n\r\n    @Bean\r\n    public InfinispanGlobalConfigurationCustomizer globalCustomizer() {\r\n        return builder -&gt; builder.allowList().addRegexp(&quot;^org\\\\.mycompany\\\\.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nP.S. Javadoc in [`GlobalConfiguration`](https://github.com/infinispan/infinispan/blob/ad05d66f4e/core/src/main/java/org/infinispan/configuration/global/GlobalConfiguration.java#L32) assumes that there is `&lt;default&gt;` XML section the configuration can be read from, but in fact XML does not support it anymore.\r\n\r\nP.P.S. Arguably the dots in the packages should be escaped in [`SpringEmbeddedModule`](https://github.com/infinispan/infinispan/blob/ad05d66f4e/spring/spring5/spring5-embedded/src/main/java/org/infinispan/spring/embedded/SpringEmbeddedModule.java#L32) and start with `^` because [`ClassAllowList`](https://github.com/infinispan/infinispan/blob/ad05d66f4e/commons/all/src/main/java/org/infinispan/commons/configuration/ClassAllowList.java#L146) uses `Matcher#find()` (`boolean regexMatch = compiled.stream().anyMatch(p -&gt; p.matcher(className).find());`):\r\n```\r\nserializationAllowList.addRegexps(&quot;^java\\\\.util\\\\..*&quot;, &quot;^org\\\\.springframework\\\\..*&quot;);\r\n```","title":"Configuring global list of allowed classes for serialization","body":"<p>I am using Inifinispan v12.1 with String Boot v2.5.2 via <code>org.infinispan:infinispan-spring-boot-starter-embedded</code>. In our application we are using custom classes which we would like to cache (very common case), however it turned out that starting from v10 these classes need to be listed in &quot;allow list&quot;.</p>\n<p>We are using <code>infinispan.xml</code> configuration passed via <code>infinispan.embedded.config-xml</code> property as advised by <a href=\"https://github.com/infinispan/infinispan-simple-tutorials/blob/main/integrations/spring-boot/cache-embedded/src/main/resources/application.properties#L3\" rel=\"nofollow noreferrer\">sample project</a>.</p>\n<p><strong>Question</strong>: How is it possible to configure allow list globally for all caches by the means of XML configuration file?</p>\n<p>I have considered the following options:</p>\n<ul>\n<li>System property <code>infinispan.deserialization.allowlist.regexps</code> (from <a href=\"https://github.com/infinispan/infinispan/blob/ad05d66f4e/commons/all/src/main/java/org/infinispan/commons/configuration/ClassAllowList.java#L48\" rel=\"nofollow noreferrer\"><code>ClassAllowList</code></a>) – not good choice as configuration will be spread between XML file and e.g. some other place. More over if the property is renamed in future Infinispan versions one would notice it only when application is run.</li>\n<li>Defining the <code>&lt;cache-container&gt;&lt;serialization&gt;&lt;allow-list&gt;</code> as to <a href=\"https://infinispan.org/docs/stable/titles/encoding/encoding.html#adding-deserialization-allowlist_marshaller-implementations\" rel=\"nofollow noreferrer\">documentation</a> is not good option because will result several identical per-cache XML configuration blocks.</li>\n</ul>\n<p>The corresponding Java Config for Spring Boot application would be:</p>\n<pre><code>@org.springframework.context.annotation.Configuration\npublic class InfinispanConfiguration {\n\n    @Bean\n    public InfinispanGlobalConfigurationCustomizer globalCustomizer() {\n        return builder -&gt; builder.allowList().addRegexp(&quot;^org\\\\.mycompany\\\\.&quot;);\n    }\n}\n</code></pre>\n<p>P.S. Javadoc in <a href=\"https://github.com/infinispan/infinispan/blob/ad05d66f4e/core/src/main/java/org/infinispan/configuration/global/GlobalConfiguration.java#L32\" rel=\"nofollow noreferrer\"><code>GlobalConfiguration</code></a> assumes that there is <code>&lt;default&gt;</code> XML section the configuration can be read from, but in fact XML does not support it anymore.</p>\n<p>P.P.S. Arguably the dots in the packages should be escaped in <a href=\"https://github.com/infinispan/infinispan/blob/ad05d66f4e/spring/spring5/spring5-embedded/src/main/java/org/infinispan/spring/embedded/SpringEmbeddedModule.java#L32\" rel=\"nofollow noreferrer\"><code>SpringEmbeddedModule</code></a> and start with <code>^</code> because <a href=\"https://github.com/infinispan/infinispan/blob/ad05d66f4e/commons/all/src/main/java/org/infinispan/commons/configuration/ClassAllowList.java#L146\" rel=\"nofollow noreferrer\"><code>ClassAllowList</code></a> uses <code>Matcher#find()</code> (<code>boolean regexMatch = compiled.stream().anyMatch(p -&gt; p.matcher(className).find());</code>):</p>\n<pre><code>serializationAllowList.addRegexps(&quot;^java\\\\.util\\\\..*&quot;, &quot;^org\\\\.springframework\\\\..*&quot;);\n</code></pre>\n"},{"tags":["java","dependency-injection","collections","properties","guice"],"comments":[{"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"score":0,"creation_date":1633011285,"post_id":69393266,"comment_id":122652799,"body_markdown":"Can you include the `.properties` file?","body":"Can you include the <code>.properties</code> file?"},{"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"score":0,"creation_date":1633011679,"post_id":69393266,"comment_id":122652986,"body_markdown":"@GeorgeZ. I edited the post to include an example of the properties","body":"@GeorgeZ. I edited the post to include an example of the properties"}],"answers":[{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633071744,"creation_date":1633071744,"answer_id":69401765,"question_id":69393266,"body_markdown":"What if you add this method to your module?\r\n\r\n```\r\n@Named(&quot;mail.to&quot;) List&lt;String&gt; provideMailtoAsList(@Named(&quot;mail.to&quot;) String mailto) {\r\n  return List.of(mailto.trim().split(&quot;\\\\s*,\\\\s*&quot;));\r\n}\r\n```\r\n\r\nThis transform the known `String` named &quot;mail.to&quot; into a `List&lt;String&gt;` that happens to also be named &quot;mail.to&quot;.","title":"Injecting a List of Strings From a Properties File Using Guice","body":"<p>What if you add this method to your module?</p>\n<pre><code>@Named(&quot;mail.to&quot;) List&lt;String&gt; provideMailtoAsList(@Named(&quot;mail.to&quot;) String mailto) {\n  return List.of(mailto.trim().split(&quot;\\\\s*,\\\\s*&quot;));\n}\n</code></pre>\n<p>This transform the known <code>String</code> named &quot;mail.to&quot; into a <code>List&lt;String&gt;</code> that happens to also be named &quot;mail.to&quot;.</p>\n"},{"tags":[],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633098908,"creation_date":1633098908,"answer_id":69407672,"question_id":69393266,"body_markdown":"I managed to find a solution that meets meets my needs. Guice 3.0 has a method for adding custom type converters via the Binder.convertToTypes() method. I simply called this method and passed in an implementation of com.google.inject.spi.TypeConverter that would take the property value and convert it from a String to a List. The configure method in my module ended up looking like this:\r\n\r\n    @Override\r\n    protected void configure() {\r\n        try {\r\n            //I&#39;m using apache commons-configurations here but you could\r\n            //just as easily use just a java Properties object\r\n            Configuration properties = getProperties();\r\n     \r\n            //I&#39;m using the builtin Matchers.only from guice for this simple \r\n            //case but you could implement a custom Matcher for more complex\r\n            //behavior\r\n            binder().convertToTypes(Matchers.only(new TypeLiteral&lt;List&lt;String&gt;&gt;(){}),\r\n         new TypeConverter() {\r\n                //again, I&#39;m using commons-configuration to perform the \r\n                //actual conversion but you could use a different library\r\n                //or even do the conversion yourself if needed\r\n    \t\t\tfinal DefaultListDelimiterHandler handler = new DefaultListDelimiterHandler(&#39;,&#39;);\r\n    \t\t\t@Override\r\n    \t\t\tpublic Collection&lt;String&gt; convert(String value, TypeLiteral&lt;?&gt; toType) {\r\n    \t\t\t\t\r\n    \t\t\t\treturn handler.split(value, true);\r\n    \t\t\t}\r\n    \t\t});\r\n\r\n            //now that guice has a converter registered for List&lt;String&gt;\r\n            //we can simply use bindProperties to set up the Named bindings\r\n            Names.bindProperties(binder(), ConfigurationConverter.getProperties( properties));\r\n            binder().bind(MyApi.class);\r\n        } catch (Exception e) {\r\n            log.error(e.getMessage());\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n\r\nThe advantage to this solution is that it reduces the coupling between my .properties file and the actual code. If I wanted to add additional properties with List values, I can simply change the properties file without needing to add a custom provider method for each new property. The only coupling between my code and the properties file is in the @Named annotation.\r\n\r\nThere may be a better solution to this; if you have something let me know. If going to leave this open for a few more days in case anyone has a better suggestion.","title":"Injecting a List of Strings From a Properties File Using Guice","body":"<p>I managed to find a solution that meets meets my needs. Guice 3.0 has a method for adding custom type converters via the Binder.convertToTypes() method. I simply called this method and passed in an implementation of com.google.inject.spi.TypeConverter that would take the property value and convert it from a String to a List. The configure method in my module ended up looking like this:</p>\n<pre><code>@Override\nprotected void configure() {\n    try {\n        //I'm using apache commons-configurations here but you could\n        //just as easily use just a java Properties object\n        Configuration properties = getProperties();\n \n        //I'm using the builtin Matchers.only from guice for this simple \n        //case but you could implement a custom Matcher for more complex\n        //behavior\n        binder().convertToTypes(Matchers.only(new TypeLiteral&lt;List&lt;String&gt;&gt;(){}),\n     new TypeConverter() {\n            //again, I'm using commons-configuration to perform the \n            //actual conversion but you could use a different library\n            //or even do the conversion yourself if needed\n            final DefaultListDelimiterHandler handler = new DefaultListDelimiterHandler(',');\n            @Override\n            public Collection&lt;String&gt; convert(String value, TypeLiteral&lt;?&gt; toType) {\n                \n                return handler.split(value, true);\n            }\n        });\n\n        //now that guice has a converter registered for List&lt;String&gt;\n        //we can simply use bindProperties to set up the Named bindings\n        Names.bindProperties(binder(), ConfigurationConverter.getProperties( properties));\n        binder().bind(MyApi.class);\n    } catch (Exception e) {\n        log.error(e.getMessage());\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>The advantage to this solution is that it reduces the coupling between my .properties file and the actual code. If I wanted to add additional properties with List values, I can simply change the properties file without needing to add a custom provider method for each new property. The only coupling between my code and the properties file is in the @Named annotation.</p>\n<p>There may be a better solution to this; if you have something let me know. If going to leave this open for a few more days in case anyone has a better suggestion.</p>\n"}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":829,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633098908,"creation_date":1633009180,"question_id":69393266,"body_markdown":"I have an application that needs to read in some configuration values from a Properties file and then inject those values using the @Named annotation of Guice. I&#39;m currently doing something like this in my module:\r\n\r\n    @Override\r\n    protected void configure() {\r\n        try {\r\n            Properties properties = getProperties();\r\n            Names.bindProperties(binder(), properties);\r\n            binder().bind(MyApi.class);\r\n         } catch (Exception e) {\r\n            log.error(e.getMessage());\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nthen in my application I do something like:\r\n\r\n    public class MyApi\r\n    {\r\n        @Inject\r\n    \t@Named(&quot;ftp.dir&quot;)\r\n    \tpublic String ftpDirectory;\r\n    }\r\n\r\nThat approach works fine for injecting primitive values, but now I need to inject a List of Strings. If I just add the injection\r\n\r\n    @Inject\r\n\t@Named(&quot;mail.to&quot;)\r\n\tpublic List&lt;String&gt; mailTo;\r\n\r\nfor a properties file like:\r\n\r\n    #Properties\r\n    ftp.dir=/opt/my/dir\r\n    mail.to=foo@bar.com, abc@123.com\r\n\r\nThen guice will throw an exception saying \r\n\r\n&gt; &#39;no implementation for java.util.List&lt;java.lang.String&gt; annotated with\r\n&gt; @google.inject.name.Named(value=mail.to) was bound&#39;.\r\n\r\nI have seen some other similar questions such as:\r\nhttps://stackoverflow.com/questions/30802384/guice-inject-an-arraylist-of-strings\r\nand https://stackoverflow.com/questions/48698033/injecting-list-of-strings-in-guice\r\nbut all the solutions take the approach of adding an explicit binding for the field.\r\n\r\nIs there any way to deal with collections in guice without having to manually extract them from the properties file and add an explicit binding?","title":"Injecting a List of Strings From a Properties File Using Guice","body":"<p>I have an application that needs to read in some configuration values from a Properties file and then inject those values using the @Named annotation of Guice. I'm currently doing something like this in my module:</p>\n<pre><code>@Override\nprotected void configure() {\n    try {\n        Properties properties = getProperties();\n        Names.bindProperties(binder(), properties);\n        binder().bind(MyApi.class);\n     } catch (Exception e) {\n        log.error(e.getMessage());\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>then in my application I do something like:</p>\n<pre><code>public class MyApi\n{\n    @Inject\n    @Named(&quot;ftp.dir&quot;)\n    public String ftpDirectory;\n}\n</code></pre>\n<p>That approach works fine for injecting primitive values, but now I need to inject a List of Strings. If I just add the injection</p>\n<pre><code>@Inject\n@Named(&quot;mail.to&quot;)\npublic List&lt;String&gt; mailTo;\n</code></pre>\n<p>for a properties file like:</p>\n<pre><code>#Properties\nftp.dir=/opt/my/dir\nmail.to=foo@bar.com, abc@123.com\n</code></pre>\n<p>Then guice will throw an exception saying</p>\n<blockquote>\n<p>'no implementation for java.util.List&lt;java.lang.String&gt; annotated with\n@google.inject.name.Named(value=mail.to) was bound'.</p>\n</blockquote>\n<p>I have seen some other similar questions such as:\n<a href=\"https://stackoverflow.com/questions/30802384/guice-inject-an-arraylist-of-strings\">Guice : Inject an ArrayList of Strings</a>\nand <a href=\"https://stackoverflow.com/questions/48698033/injecting-list-of-strings-in-guice\">Injecting list of strings in Guice</a>\nbut all the solutions take the approach of adding an explicit binding for the field.</p>\n<p>Is there any way to deal with collections in guice without having to manually extract them from the properties file and add an explicit binding?</p>\n"},{"tags":["java","recursion","dynamic","linked-list"],"comments":[{"owner":{"account_id":22630771,"reputation":1022,"user_id":16808166,"display_name":"Andrew-Harelson"},"score":1,"creation_date":1633063371,"post_id":69400431,"comment_id":122665141,"body_markdown":"Welcome to StackOverflow. This is not a do-your-homework-for-you type of service. Please make a good faith attempt to implement this merge function before asking questions here. Check out these articles for more guidance on posting here: https://stackoverflow.com/help/how-to-ask https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions","body":"Welcome to StackOverflow. This is not a do-your-homework-for-you type of service. Please make a good faith attempt to implement this merge function before asking questions here. Check out these articles for more guidance on posting here: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\" title=\"how do i ask and answer homework questions\">meta.stackoverflow.com/questions/334822/&hellip;</a>"},{"owner":{"account_id":19210430,"reputation":23,"user_id":14036345,"display_name":"natesmith0x86"},"score":0,"creation_date":1633063525,"post_id":69400431,"comment_id":122665167,"body_markdown":"public static IntList merge(IntList S, IntList Q) {\n        if (S == null) {\n            return Q;\n        } else if (Q == null) {\n            return S;\n        } else {\n            return new IntList(S.first, snakeweave(Q.rest, S));\n        }\n\n    }\n\nThis is what I have done so far. But I am not going no where with it","body":"public static IntList merge(IntList S, IntList Q) {         if (S == null) {             return Q;         } else if (Q == null) {             return S;         } else {             return new IntList(S.first, snakeweave(Q.rest, S));         }      }  This is what I have done so far. But I am not going no where with it"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1633063914,"post_id":69400431,"comment_id":122665243,"body_markdown":"That looks like a good start. Please paste it into the question since it is unreadable and because it’s always best to have everything in one place. Are `merge()` and `snakeWeave()` two different methods and if so, what is the difference between their intended behaviour?","body":"That looks like a good start. Please paste it into the question since it is unreadable and because it’s always best to have everything in one place. Are <code>merge()</code> and <code>snakeWeave()</code> two different methods and if so, what is the difference between their intended behaviour?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1633066026,"post_id":69400431,"comment_id":122665595,"body_markdown":"If you’re fine with a recursive solution, you should generally take the concatenation of the first element from `s`, the first element from `q` and the result from merging `q.rest` and `s.rest` in this order (note the swapping of `s` and `q` in the recursive call). Add necessary null checks.","body":"If you’re fine with a recursive solution, you should generally take the concatenation of the first element from <code>s</code>, the first element from <code>q</code> and the result from merging <code>q.rest</code> and <code>s.rest</code> in this order (note the swapping of <code>s</code> and <code>q</code> in the recursive call). Add necessary null checks."},{"owner":{"account_id":14567808,"reputation":9718,"user_id":10521959,"display_name":"Yaakov Bressler"},"score":0,"creation_date":1633093835,"post_id":69400431,"comment_id":122675527,"body_markdown":"Author is posting their homework.","body":"Author is posting their homework."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1633098754,"creation_date":1633098754,"answer_id":69407644,"question_id":69400431,"body_markdown":"Your attempt was going in the right direction, but in the recursive step, don&#39;t only take the first value from the first list, also take the first value from the second list, and call a recursive merge on both &quot;rests&quot; of the lists.\r\n\r\nSo change this line:\r\n\r\n    return new IntList(S.first, merge(Q.rest, S));\r\n\r\nto:\r\n\r\n    return new IntList(S.first, new IntList(Q.first, merge(Q.rest, S.rest)));\r\n\r\n","title":"Merge two linked lists","body":"<p>Your attempt was going in the right direction, but in the recursive step, don't only take the first value from the first list, also take the first value from the second list, and call a recursive merge on both &quot;rests&quot; of the lists.</p>\n<p>So change this line:</p>\n<pre><code>return new IntList(S.first, merge(Q.rest, S));\n</code></pre>\n<p>to:</p>\n<pre><code>return new IntList(S.first, new IntList(Q.first, merge(Q.rest, S.rest)));\n</code></pre>\n"}],"owner":{"account_id":19210430,"reputation":23,"user_id":14036345,"display_name":"natesmith0x86"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":69407644,"answer_count":1,"score":-1,"last_activity_date":1633098886,"creation_date":1633062940,"question_id":69400431,"body_markdown":"I am trying to come up with an algorithm to merge two linked lists. Basically I am trying to combine the lists like below,\r\n S = [1, 9, 5, 3] and Q = [0, 4, 3, 6, 6, 2] and result should be [1, 0, 4, 9, 5, 3, 6, 3,6, 2]\r\n\r\n    import java.util.Formatter;\r\n    \r\n    public class IntList {\r\n        public int first;\r\n    \r\n        public IntList rest;\r\n    \r\n        public IntList(int first0, IntList rest0) {\r\n            first = first0;\r\n            rest = rest0;\r\n        }\r\n        public IntList() {\r\n            this(0, null);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return first;\r\n        }\r\n    \r\n        public static IntList of(Integer... args) {\r\n            IntList result, p;\r\n    \r\n            if (args.length &gt; 0) {\r\n                result = new IntList(args[0], null);\r\n            } else {\r\n                return null;\r\n            }\r\n    \r\n            int k;\r\n            for (k = 1, p = result; k &lt; args.length; k += 1, p = p.rest) {\r\n                p.rest = new IntList(args[k], null);\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public boolean equals(Object x) {\r\n            if (!(x instanceof IntList)) {\r\n                return false;\r\n            }\r\n            IntList L = (IntList) x;\r\n            IntList p;\r\n    \r\n            for (p = this; p != null &amp;&amp; L != null; p = p.rest, L = L.rest) {\r\n                if (p.first != L.first) {\r\n                    return false;\r\n                }\r\n            }\r\n            if (p != null || L != null) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n     \r\n        private int detectCycles(IntList A) {\r\n            IntList tortoise = A;\r\n            IntList hare = A;\r\n    \r\n            if (A == null) {\r\n                return 0;\r\n            }\r\n    \r\n            int cnt = 0;\r\n    \r\n            while (true) {\r\n                cnt++;\r\n                if (hare.rest != null) {\r\n                    hare = hare.rest.rest;\r\n                } else {\r\n                    return 0;\r\n                }\r\n    \r\n                tortoise = tortoise.rest;\r\n    \r\n                if (tortoise == null || hare == null) {\r\n                    return 0;\r\n                }\r\n    \r\n                if (hare == tortoise) {\r\n                    return cnt;\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            Formatter out = new Formatter();\r\n            String sep;\r\n            sep = &quot;(&quot;;\r\n            int cycleLocation = detectCycles(this);\r\n            int cnt = 0;\r\n    \r\n            for (IntList p = this; p != null; p = p.rest) {\r\n                out.format(&quot;%s%d&quot;, sep, p.first);\r\n                sep = &quot;, &quot;;\r\n    \r\n                cnt++;\r\n                if ((cnt &gt; cycleLocation) &amp;&amp; (cycleLocation &gt; 0)) {\r\n                    out.format(&quot;... (cycle exists) ...&quot;);\r\n                    break;\r\n                }\r\n            }\r\n            out.format(&quot;)&quot;);\r\n            return out.toString();\r\n        }\r\n    }\r\n\r\nIt would be great if someone can suggest an algorithm to achieve this.\r\n\r\n    public static IntList merge(IntList S, IntList Q) {\r\n        //body\r\n    }\r\n\r\nThis is what I have done so far.\r\n\r\n    public static IntList merge(IntList S, IntList Q) {\r\n        if (S == null) {\r\n            return Q;\r\n        } else if (Q == null) {\r\n            return S;\r\n        } else {\r\n            return new IntList(S.first, merge(Q.rest, S));\r\n        }\r\n    }\r\n\r\n![Resulting Linked List][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hslwj.png\r\n\r\n\r\n","title":"Merge two linked lists","body":"<p>I am trying to come up with an algorithm to merge two linked lists. Basically I am trying to combine the lists like below,\nS = [1, 9, 5, 3] and Q = [0, 4, 3, 6, 6, 2] and result should be [1, 0, 4, 9, 5, 3, 6, 3,6, 2]</p>\n<pre><code>import java.util.Formatter;\n\npublic class IntList {\n    public int first;\n\n    public IntList rest;\n\n    public IntList(int first0, IntList rest0) {\n        first = first0;\n        rest = rest0;\n    }\n    public IntList() {\n        this(0, null);\n    }\n\n    @Override\n    public int hashCode() {\n        return first;\n    }\n\n    public static IntList of(Integer... args) {\n        IntList result, p;\n\n        if (args.length &gt; 0) {\n            result = new IntList(args[0], null);\n        } else {\n            return null;\n        }\n\n        int k;\n        for (k = 1, p = result; k &lt; args.length; k += 1, p = p.rest) {\n            p.rest = new IntList(args[k], null);\n        }\n        return result;\n    }\n\n    public boolean equals(Object x) {\n        if (!(x instanceof IntList)) {\n            return false;\n        }\n        IntList L = (IntList) x;\n        IntList p;\n\n        for (p = this; p != null &amp;&amp; L != null; p = p.rest, L = L.rest) {\n            if (p.first != L.first) {\n                return false;\n            }\n        }\n        if (p != null || L != null) {\n            return false;\n        }\n        return true;\n    }\n\n \n    private int detectCycles(IntList A) {\n        IntList tortoise = A;\n        IntList hare = A;\n\n        if (A == null) {\n            return 0;\n        }\n\n        int cnt = 0;\n\n        while (true) {\n            cnt++;\n            if (hare.rest != null) {\n                hare = hare.rest.rest;\n            } else {\n                return 0;\n            }\n\n            tortoise = tortoise.rest;\n\n            if (tortoise == null || hare == null) {\n                return 0;\n            }\n\n            if (hare == tortoise) {\n                return cnt;\n            }\n        }\n    }\n\n    @Override\n    public String toString() {\n        Formatter out = new Formatter();\n        String sep;\n        sep = &quot;(&quot;;\n        int cycleLocation = detectCycles(this);\n        int cnt = 0;\n\n        for (IntList p = this; p != null; p = p.rest) {\n            out.format(&quot;%s%d&quot;, sep, p.first);\n            sep = &quot;, &quot;;\n\n            cnt++;\n            if ((cnt &gt; cycleLocation) &amp;&amp; (cycleLocation &gt; 0)) {\n                out.format(&quot;... (cycle exists) ...&quot;);\n                break;\n            }\n        }\n        out.format(&quot;)&quot;);\n        return out.toString();\n    }\n}\n</code></pre>\n<p>It would be great if someone can suggest an algorithm to achieve this.</p>\n<pre><code>public static IntList merge(IntList S, IntList Q) {\n    //body\n}\n</code></pre>\n<p>This is what I have done so far.</p>\n<pre><code>public static IntList merge(IntList S, IntList Q) {\n    if (S == null) {\n        return Q;\n    } else if (Q == null) {\n        return S;\n    } else {\n        return new IntList(S.first, merge(Q.rest, S));\n    }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/hslwj.png\" alt=\"Resulting Linked List\" /></p>\n"},{"tags":["java","jdbc","jdbctemplate","sybase-ase15"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1633084359,"post_id":69403236,"comment_id":122671729,"body_markdown":"Which Sybase product are you using? Please tag your question with that product.","body":"Which Sybase product are you using? Please tag your question with that product."},{"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"score":0,"creation_date":1633098739,"post_id":69403236,"comment_id":122677705,"body_markdown":"Adaptive Server Enterprise/15.7/EBF 25127 SMP SP136 /P/x86_64/Enterprise Linux/ase157sp136x/3955/64-bit/FBO/Mon Oct 19 19:12:00 2015","body":"Adaptive Server Enterprise/15.7/EBF 25127 SMP SP136 /P/x86_64/Enterprise Linux/ase157sp136x/3955/64-bit/FBO/Mon Oct 19 19:12:00 2015"},{"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"score":0,"creation_date":1633098810,"post_id":69403236,"comment_id":122677743,"body_markdown":"I&#39;ve now tried stripping out all the JDBCTemplate stuff and using raw PreparedStatement - to get the exact same error!","body":"I&#39;ve now tried stripping out all the JDBCTemplate stuff and using raw PreparedStatement - to get the exact same error!"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1633099867,"post_id":69403236,"comment_id":122678189,"body_markdown":"That would suggest the driver itself does some kind of translation, which somehow isn&#39;t valid.","body":"That would suggest the driver itself does some kind of translation, which somehow isn&#39;t valid."}],"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633098759,"creation_date":1633078823,"question_id":69403236,"body_markdown":"I&#39;m calling a SQL stored procedure using `SimpleJdbcCall` and it&#39;s working perfectly - except that the performance is too slow.\r\n\r\nTo improve that I&#39;ve tried to batch the calls so they get executed in one go - and I cannot find a way to do that.\r\n\r\n`SimpleJdbcCall` doesn&#39;t seem to be batchable.\r\n\r\nSo I found      `jdbcTemplate.batchUpdate(`\r\n\r\nI built the parameters both as`List&lt;Object[]&gt;` format or using a `BatchPreparedStatementSetter` either way I see the same error: \r\n\r\n    Incorrect syntax near &#39;@p0&#39;.\r\n\r\nHere is the SQL statement I&#39;m trying to batch:\r\n\r\n    call PortfolioCacheStore ?,?,?,?,?,?,?,?,?,?,?,?,?\r\n\r\nI&#39;ve tried that using both call and exec, and with and without brackets:\r\n\r\n    call PortfolioCacheStore(?,?,?,?,?,?,?,?,?,?,?,?,?)\r\n\r\netc\r\n\r\nEither way I get the above error or something very similar.\r\n\r\nIf I take the query it&#39;s constructing and run it in a SQL client it works:\r\n\r\n    exec PortfolioCacheStore &#39;G&#39;,&#39;LL&#39;,&#39;U&#39;,&#39;B&#39;,0,&#39;2021-09-03&#39;,&#39;2022-01-19&#39;,5,&#39;D&#39;,&#39;FO.tgz&#39;,0,&#39;e-local&#39;,&#39;Arg&#39;\r\n\r\nDoes anyone know what is wrong with what I&#39;m doing and/or how I can batch a sequence of stored procedure calls into Sybase from JDBC please?\r\n","title":"Trying to batch SQL Stored Procedure calls: Incorrect syntax near &#39;@p0&#39;","body":"<p>I'm calling a SQL stored procedure using <code>SimpleJdbcCall</code> and it's working perfectly - except that the performance is too slow.</p>\n<p>To improve that I've tried to batch the calls so they get executed in one go - and I cannot find a way to do that.</p>\n<p><code>SimpleJdbcCall</code> doesn't seem to be batchable.</p>\n<p>So I found      <code>jdbcTemplate.batchUpdate(</code></p>\n<p>I built the parameters both as<code>List&lt;Object[]&gt;</code> format or using a <code>BatchPreparedStatementSetter</code> either way I see the same error:</p>\n<pre><code>Incorrect syntax near '@p0'.\n</code></pre>\n<p>Here is the SQL statement I'm trying to batch:</p>\n<pre><code>call PortfolioCacheStore ?,?,?,?,?,?,?,?,?,?,?,?,?\n</code></pre>\n<p>I've tried that using both call and exec, and with and without brackets:</p>\n<pre><code>call PortfolioCacheStore(?,?,?,?,?,?,?,?,?,?,?,?,?)\n</code></pre>\n<p>etc</p>\n<p>Either way I get the above error or something very similar.</p>\n<p>If I take the query it's constructing and run it in a SQL client it works:</p>\n<pre><code>exec PortfolioCacheStore 'G','LL','U','B',0,'2021-09-03','2022-01-19',5,'D','FO.tgz',0,'e-local','Arg'\n</code></pre>\n<p>Does anyone know what is wrong with what I'm doing and/or how I can batch a sequence of stored procedure calls into Sybase from JDBC please?</p>\n"},{"tags":["java","spring","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633098710,"creation_date":1633098710,"answer_id":69407636,"question_id":69407281,"body_markdown":"What you do is really not for runtime decision. The `recipient()` is to add a mapping to the recipient list router. What you probably need is a decision at runtime where to route the current message. For the purpose I&#39;d suggest to look into a plain `route()` and its function support:\r\n\r\n    .route(p -&gt; manager.isActive(MyFeatures.A_B_TESTING) ? A_CHANNEL : DEFAULT_CHANNEL)\r\n\r\nThe recipient list router is really for other use-cases when we need to decide to send a message to several mapped channels according their selectors. Well, that can be done with regular router as well, but there is more formal Recipient List router [EI pattern][1] which we follow here.\r\n\r\nWhat you really need here is really a plain router with runtime evaluation and appropriate channel (or its name) return.\r\n\r\nPoint, please, us to the documentation which confuses you and we will do our best to improve it.\r\n\r\n  [1]: https://www.enterpriseintegrationpatterns.com/patterns/messaging/RecipientList.html","title":"Dynamic routing in Spring Integration","body":"<p>What you do is really not for runtime decision. The <code>recipient()</code> is to add a mapping to the recipient list router. What you probably need is a decision at runtime where to route the current message. For the purpose I'd suggest to look into a plain <code>route()</code> and its function support:</p>\n<pre><code>.route(p -&gt; manager.isActive(MyFeatures.A_B_TESTING) ? A_CHANNEL : DEFAULT_CHANNEL)\n</code></pre>\n<p>The recipient list router is really for other use-cases when we need to decide to send a message to several mapped channels according their selectors. Well, that can be done with regular router as well, but there is more formal Recipient List router <a href=\"https://www.enterpriseintegrationpatterns.com/patterns/messaging/RecipientList.html\" rel=\"nofollow noreferrer\">EI pattern</a> which we follow here.</p>\n<p>What you really need here is really a plain router with runtime evaluation and appropriate channel (or its name) return.</p>\n<p>Point, please, us to the documentation which confuses you and we will do our best to improve it.</p>\n"}],"owner":{"account_id":3704036,"reputation":415,"user_id":3083022,"accept_rate":89,"display_name":"user3083022"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69407636,"answer_count":1,"score":1,"last_activity_date":1633098710,"creation_date":1633097270,"question_id":69407281,"body_markdown":"I want to use togglz to decide the routing of my flow\r\n\r\nI have the ```FeatureManager``` in my Integration Flow:\r\n\r\n```\r\n@Autowired\r\nprivate FeatureManager manager\r\n```\r\n\r\nand later on:\r\n\r\n```\r\n return IntegrationFlows\r\n            .from(&quot;incoming-flow&quot;)\r\n            .routeToRecipients(route -&gt; {\r\n                if (manager.isActive(MyFeatures.A_B_TESTING)) {\r\n                    route.recipient(A_CHANNEL);\r\n                } else {\r\n                    route.recipient(DEFAULT_CHANNEL);\r\n                }\r\n            })\r\n``` \r\n\r\nThis is unfortunately not working, as the route is decided upon bean creation, which means that for this to work I would have to restart my application every time I change the toggle. Which defeats the purpose of the toggle.\r\n\r\nI can think of ways of doing this, by creating filters and other flows, but is there any way of doing this? I&#39;ve found some documenation of Spring, but it doesn&#39;t seem useful and it&#39;s written in xml, which I&#39;m not using.","title":"Dynamic routing in Spring Integration","body":"<p>I want to use togglz to decide the routing of my flow</p>\n<p>I have the <code>FeatureManager</code> in my Integration Flow:</p>\n<pre><code>@Autowired\nprivate FeatureManager manager\n</code></pre>\n<p>and later on:</p>\n<pre><code> return IntegrationFlows\n            .from(&quot;incoming-flow&quot;)\n            .routeToRecipients(route -&gt; {\n                if (manager.isActive(MyFeatures.A_B_TESTING)) {\n                    route.recipient(A_CHANNEL);\n                } else {\n                    route.recipient(DEFAULT_CHANNEL);\n                }\n            })\n</code></pre>\n<p>This is unfortunately not working, as the route is decided upon bean creation, which means that for this to work I would have to restart my application every time I change the toggle. Which defeats the purpose of the toggle.</p>\n<p>I can think of ways of doing this, by creating filters and other flows, but is there any way of doing this? I've found some documenation of Spring, but it doesn't seem useful and it's written in xml, which I'm not using.</p>\n"},{"tags":["java","android","gradle","dependencies"],"comments":[{"owner":{"account_id":295108,"reputation":72056,"user_id":599346,"accept_rate":85,"display_name":"tyczj"},"score":0,"creation_date":1633098645,"post_id":69407593,"comment_id":122677664,"body_markdown":"If you use a library that does not use androidx still then you wont be able to use that library until it does","body":"If you use a library that does not use androidx still then you wont be able to use that library until it does"},{"owner":{"account_id":22804235,"reputation":21,"user_id":16956483,"display_name":"Derop De Rop"},"score":0,"creation_date":1633098853,"post_id":69407593,"comment_id":122677763,"body_markdown":"Im not using other libraries, I replaced all by androidx.*","body":"Im not using other libraries, I replaced all by androidx.*"},{"owner":{"account_id":295108,"reputation":72056,"user_id":599346,"accept_rate":85,"display_name":"tyczj"},"score":0,"creation_date":1633099073,"post_id":69407593,"comment_id":122677859,"body_markdown":"if you are not using any libraries then why are you using the `androidx.legacy:legacy-support-v4:1.0.0` dependency","body":"if you are not using any libraries then why are you using the <code>androidx.legacy:legacy-support-v4:1.0.0</code> dependency"},{"owner":{"account_id":22804235,"reputation":21,"user_id":16956483,"display_name":"Derop De Rop"},"score":0,"creation_date":1633099419,"post_id":69407593,"comment_id":122678005,"body_markdown":"i deleted androidx.legacy:legacy-support-v4:1.0.0 but still hve the same problem","body":"i deleted androidx.legacy:legacy-support-v4:1.0.0 but still hve the same problem"}],"owner":{"account_id":22804235,"reputation":21,"user_id":16956483,"display_name":"Derop De Rop"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1071,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633098521,"creation_date":1633098521,"question_id":69407593,"body_markdown":"It&#39;s been hours that I&#39;m trying to fix this issue, but I cant resolve it:\r\n\r\nThe given artifact contains a string literal with a package reference &#39;android.support.design.widget&#39; that cannot be safely rewritten. Libraries using reflection such as annotation processors need to be updated manually to add support for androidx.\r\n\r\n   \r\n    dependencies {\r\n    implementation &#39;com.android.tools.build:gradle:3.4.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.annotation:annotation:1.2.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n    }\r\n\r\n\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true","title":"&#39;android.support.design.widget&#39; that cannot be safely rewritten","body":"<p>It's been hours that I'm trying to fix this issue, but I cant resolve it:</p>\n<p>The given artifact contains a string literal with a package reference 'android.support.design.widget' that cannot be safely rewritten. Libraries using reflection such as annotation processors need to be updated manually to add support for androidx.</p>\n<pre><code>dependencies {\nimplementation 'com.android.tools.build:gradle:3.4.0'\nimplementation 'androidx.legacy:legacy-support-v4:1.0.0'\nimplementation 'androidx.annotation:annotation:1.2.0'\nimplementation 'androidx.appcompat:appcompat:1.3.1'\n}\n</code></pre>\n<p>android.useAndroidX=true\nandroid.enableJetifier=true</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"score":0,"creation_date":1435751420,"post_id":31155576,"comment_id":50329462,"body_markdown":"You can do it using `DateFormat` and `substring()`,  take a look at my answer.","body":"You can do it using <code>DateFormat</code> and <code>substring()</code>,  take a look at my answer."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1435792305,"post_id":31155576,"comment_id":50353991,"body_markdown":"possible duplicate of [How to set time to a date object in java](http://stackoverflow.com/questions/5165428/how-to-set-time-to-a-date-object-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5165428/how-to-set-time-to-a-date-object-in-java\">How to set time to a date object in java</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1633097468,"post_id":31155576,"comment_id":122677162,"body_markdown":"I recommend you don’t use `Date`. That class is poorly designed and long outdated. Instead use `LocalDate` and `LocalTime`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>Date</code>. That class is poorly designed and long outdated. Instead use <code>LocalDate</code> and <code>LocalTime</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435737529,"creation_date":1435737529,"answer_id":31155688,"question_id":31155576,"body_markdown":"The `getTime` method returns the number of milliseconds since 1970/01/01 so to get the `time` portion of the date you can either use a Calendar object or simply use modula arithmetic (using the above milliseconds value and the MAX millseconds in a day) to extract the time portion of the Date.\r\n\r\nThen when you have the time you need to add it to the second date,\r\n\r\nbut seriously, use http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\r\n\r\nand use things like `get (HOUR)` and `get (MINUTE)` etc. which then you can use with `set (HOUR, val)`\r\n","title":"How to add current time to a previous date in java?","body":"<p>The <code>getTime</code> method returns the number of milliseconds since 1970/01/01 so to get the <code>time</code> portion of the date you can either use a Calendar object or simply use modula arithmetic (using the above milliseconds value and the MAX millseconds in a day) to extract the time portion of the Date.</p>\n\n<p>Then when you have the time you need to add it to the second date,</p>\n\n<p>but seriously, use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html</a></p>\n\n<p>and use things like <code>get (HOUR)</code> and <code>get (MINUTE)</code> etc. which then you can use with <code>set (HOUR, val)</code></p>\n"},{"tags":[],"owner":{"account_id":4767739,"reputation":4519,"user_id":3853425,"accept_rate":29,"display_name":"kirti"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1435739117,"creation_date":1435739117,"answer_id":31156175,"question_id":31155576,"body_markdown":"Use calendar object\r\n\r\n \r\nGet instance of calendar object and set your past time to it\r\n        Date startUserDate = ;\r\n        \r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.settime(startUserDate);\r\n        \r\n \r\n\r\n   Create new calendar instance \r\n    \r\n\r\n         Calendar cal = Calendar.getInstance();\r\n         cal.settime(new Date());\r\n    \r\nformat the date to get string representation of time of current date\r\n\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n            String currentdate =  sdf.format(cal.getTime());\r\nsplit that string to get hour minute and second object\r\n        \t\t\r\n\r\n                    String hh = expiry.split(&quot;:&quot;)[0];\r\n            \t\tString mm = expiry.split(&quot;:&quot;)[1];\r\n            \t\tString ss = expiry.split(&quot;:&quot;)[2];\r\nadd it to the previous calendar object\r\n\r\n \r\n\r\n        calendar .add(Calendar.HOUR_OF_DAY, hh);\r\n        calendar .add(Calendar.MINUTE, mm);\r\n        calendar .add(Calendar.SECOND, ss);\r\n\r\nthis date will have current time added to your date\r\n \r\n\r\n       Date newDate = calendar.getTime;\r\n\r\n\r\n\r\n\r\n","title":"How to add current time to a previous date in java?","body":"<p>Use calendar object</p>\n\n<p>Get instance of calendar object and set your past time to it\n        Date startUserDate = ;</p>\n\n<pre><code>    Calendar calendar = Calendar.getInstance();\n    calendar.settime(startUserDate);\n</code></pre>\n\n<p>Create new calendar instance </p>\n\n<pre><code>     Calendar cal = Calendar.getInstance();\n     cal.settime(new Date());\n</code></pre>\n\n<p>format the date to get string representation of time of current date</p>\n\n<pre><code>        SimpleDateFormat sdf = new SimpleDateFormat(\"HH:mm:ss\");\n        String currentdate =  sdf.format(cal.getTime());\n</code></pre>\n\n<p>split that string to get hour minute and second object</p>\n\n<pre><code>                String hh = expiry.split(\":\")[0];\n                String mm = expiry.split(\":\")[1];\n                String ss = expiry.split(\":\")[2];\n</code></pre>\n\n<p>add it to the previous calendar object</p>\n\n<pre><code>    calendar .add(Calendar.HOUR_OF_DAY, hh);\n    calendar .add(Calendar.MINUTE, mm);\n    calendar .add(Calendar.SECOND, ss);\n</code></pre>\n\n<p>this date will have current time added to your date</p>\n\n<pre><code>   Date newDate = calendar.getTime;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435856638,"creation_date":1435739229,"answer_id":31156219,"question_id":31155576,"body_markdown":"You can do it using `DateFormat` and `String`, here&#39;s the solution that you need:\n\n**Code:**\n\n    DateFormat df = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;);\n    String timeString = df.format(new Date()).substring(10); // 10 is the beginIndex of time here\n\n    DateFormat df2 = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\n    String startUserDateString = df2.format(startUserDate);\n\n    startUserDateString = startUserDateString+&quot; &quot;+timeString;\n    // you will get this format &quot;MM/dd/yyyy HH:mm:ss&quot; \n\n    //then parse the new date here\n    startUserDate = df.parse(startUserDateString);\n\n**Explanation:**\n\nJust convert the current date to a string and then extract the time from it using `.substring()` method, then convert your userDate to a string concatenate the taken time String to it and finally parse this date to get what you need.\n\n\n**Example:**\n\n&gt; You can see it working in this **[ideone DEMO][1]**.\n&gt;\n&gt; Which takes `02/20/2002` in input and returns `02/20/2002 04:36:14` as result.\n\n\n\n  [1]: https://ideone.com/cS6xK6","title":"How to add current time to a previous date in java?","body":"<p>You can do it using <code>DateFormat</code> and <code>String</code>, here's the solution that you need:</p>\n<p><strong>Code:</strong></p>\n<pre><code>DateFormat df = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;);\nString timeString = df.format(new Date()).substring(10); // 10 is the beginIndex of time here\n\nDateFormat df2 = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\nString startUserDateString = df2.format(startUserDate);\n\nstartUserDateString = startUserDateString+&quot; &quot;+timeString;\n// you will get this format &quot;MM/dd/yyyy HH:mm:ss&quot; \n\n//then parse the new date here\nstartUserDate = df.parse(startUserDateString);\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<p>Just convert the current date to a string and then extract the time from it using <code>.substring()</code> method, then convert your userDate to a string concatenate the taken time String to it and finally parse this date to get what you need.</p>\n<p><strong>Example:</strong></p>\n<blockquote>\n<p>You can see it working in this <strong><a href=\"https://ideone.com/cS6xK6\" rel=\"nofollow noreferrer\">ideone DEMO</a></strong>.</p>\n<p>Which takes <code>02/20/2002</code> in input and returns <code>02/20/2002 04:36:14</code> as result.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435741115,"creation_date":1435740406,"answer_id":31156624,"question_id":31155576,"body_markdown":"You need to use `Calendar` class to perform addition to `Date`object. Date&#39;s `setTime()` will set that time in `Date` object but not add i.e it will overwrite previous date. `new Date().getTime()` will not return only time portion but time since Epoch. Also, how did you manipulated , `startUserDate`  to not have any time (I mean , was it via Calendar or Formatter) ? &lt;br&gt;&lt;br&gt;\r\nSee Answer , [Time Portion of Date](https://stackoverflow.com/questions/1363307/getting-the-time-component-of-a-java-date-or-calendar) to calculate only time portion,\r\n\r\n&gt;long MILLIS_PER_DAY = 24 * 60 * 60 * 1000; &lt;br&gt;\r\n&gt;Date now = Calendar.getInstance().getTime();&lt;br&gt;\r\n&gt;long timePortion = now.getTime() % MILLIS_PER_DAY;&lt;br&gt;\r\n\r\nthen you can use something like, `cal.add(Calendar.MILLISECOND, (int)timePortion);` where cal is Calendar object corresponding to your `startUserDate` in your code. ","title":"How to add current time to a previous date in java?","body":"<p>You need to use <code>Calendar</code> class to perform addition to <code>Date</code>object. Date's <code>setTime()</code> will set that time in <code>Date</code> object but not add i.e it will overwrite previous date. <code>new Date().getTime()</code> will not return only time portion but time since Epoch. Also, how did you manipulated , <code>startUserDate</code>  to not have any time (I mean , was it via Calendar or Formatter) ? <br><br>\nSee Answer , <a href=\"https://stackoverflow.com/questions/1363307/getting-the-time-component-of-a-java-date-or-calendar\">Time Portion of Date</a> to calculate only time portion,</p>\n\n<blockquote>\n  <p>long MILLIS_PER_DAY = 24 * 60 * 60 * 1000; <br>\n  Date now = Calendar.getInstance().getTime();<br>\n  long timePortion = now.getTime() % MILLIS_PER_DAY;<br></p>\n</blockquote>\n\n<p>then you can use something like, <code>cal.add(Calendar.MILLISECOND, (int)timePortion);</code> where cal is Calendar object corresponding to your <code>startUserDate</code> in your code. </p>\n"},{"tags":[],"owner":{"account_id":256679,"reputation":840,"user_id":537566,"accept_rate":85,"display_name":"TungstenX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435746219,"creation_date":1435746219,"answer_id":31158701,"question_id":31155576,"body_markdown":"Use `Calendar`:\r\n\r\n - first set the date/time of the first calendar object to the old date\r\n\r\n - object use as second Calendar object to set the current time on the\r\n\r\n - first calendar object then convert it back to date\r\n\r\nas follow:\r\n\r\n    //E.g. for startUserDate \r\n    Date startUserDate = new Date(System.currentTimeMillis() - (24L * 60L * 60L * 1000L) - (60L * 60L * 1000L));//minus 1 day and 1 hour\r\n    Calendar calDateThen = Calendar.getInstance();\r\n    Calendar calTimeNow = Calendar.getInstance();\r\n    calDateThen.setTime(startUserDate);\r\n    calDateThen.set(Calendar.HOUR_OF_DAY, calTimeNow.get(Calendar.HOUR_OF_DAY));\r\n    calDateThen.set(Calendar.MINUTE, calTimeNow.get(Calendar.MINUTE));\r\n    calDateThen.set(Calendar.SECOND, calTimeNow.get(Calendar.SECOND));\r\n    startUserDate = calDateThen.getTime();\r\n    System.out.println(startUserDate);\r\n\r\nThe second Calendar object `calTimeNow` can be replaced with `Calendar.getInstance()` where it is used.","title":"How to add current time to a previous date in java?","body":"<p>Use <code>Calendar</code>:</p>\n\n<ul>\n<li><p>first set the date/time of the first calendar object to the old date</p></li>\n<li><p>object use as second Calendar object to set the current time on the</p></li>\n<li><p>first calendar object then convert it back to date</p></li>\n</ul>\n\n<p>as follow:</p>\n\n<pre><code>//E.g. for startUserDate \nDate startUserDate = new Date(System.currentTimeMillis() - (24L * 60L * 60L * 1000L) - (60L * 60L * 1000L));//minus 1 day and 1 hour\nCalendar calDateThen = Calendar.getInstance();\nCalendar calTimeNow = Calendar.getInstance();\ncalDateThen.setTime(startUserDate);\ncalDateThen.set(Calendar.HOUR_OF_DAY, calTimeNow.get(Calendar.HOUR_OF_DAY));\ncalDateThen.set(Calendar.MINUTE, calTimeNow.get(Calendar.MINUTE));\ncalDateThen.set(Calendar.SECOND, calTimeNow.get(Calendar.SECOND));\nstartUserDate = calDateThen.getTime();\nSystem.out.println(startUserDate);\n</code></pre>\n\n<p>The second Calendar object <code>calTimeNow</code> can be replaced with <code>Calendar.getInstance()</code> where it is used.</p>\n"},{"tags":[],"owner":{"account_id":1447024,"reputation":502,"user_id":1365129,"display_name":"Nandkishor Gokhe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633090795,"creation_date":1633090795,"answer_id":69405797,"question_id":31155576,"body_markdown":"Calendar calendar = Calendar.getInstance();\r\n\t\tcalendar.setTime(startUserDate );\r\n\r\n\t\t//new date for current time\r\n\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n\t\tString currentdate =  sdf.format(new Date());\r\n\t\tString hhStr = currentdate.split(&quot;:&quot;)[0];\r\n\t\tString mmStr = currentdate.split(&quot;:&quot;)[1];\r\n\t\tString ssStr = currentdate.split(&quot;:&quot;)[2];\r\n\t\tInteger hh = 0;\r\n\t\tInteger mm = 0;\r\n\t\tInteger ss = 0;\r\n\t\ttry {\r\n\t\t\thh = Integer.parseInt(hhStr);\r\n\t\t\tmm = Integer.parseInt(mmStr);\r\n\t\t\tss = Integer.parseInt(ssStr);\r\n\t\t}catch(Exception e) {e.printStackTrace();}\r\n\r\n\t\tcalendar.set(Calendar.HOUR_OF_DAY, hh);\r\n\t\tcalendar.set(Calendar.MINUTE, mm);\r\n\t\tcalendar.set(Calendar.SECOND, ss);\r\n\r\n\t\tstartUserDate = calendar.getTime();","title":"How to add current time to a previous date in java?","body":"<p>Calendar calendar = Calendar.getInstance();\ncalendar.setTime(startUserDate );</p>\n<pre><code>    //new date for current time\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n    String currentdate =  sdf.format(new Date());\n    String hhStr = currentdate.split(&quot;:&quot;)[0];\n    String mmStr = currentdate.split(&quot;:&quot;)[1];\n    String ssStr = currentdate.split(&quot;:&quot;)[2];\n    Integer hh = 0;\n    Integer mm = 0;\n    Integer ss = 0;\n    try {\n        hh = Integer.parseInt(hhStr);\n        mm = Integer.parseInt(mmStr);\n        ss = Integer.parseInt(ssStr);\n    }catch(Exception e) {e.printStackTrace();}\n\n    calendar.set(Calendar.HOUR_OF_DAY, hh);\n    calendar.set(Calendar.MINUTE, mm);\n    calendar.set(Calendar.SECOND, ss);\n\n    startUserDate = calendar.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633098413,"creation_date":1633098413,"answer_id":69407556,"question_id":31155576,"body_markdown":"## java.time\r\n\r\nI recommend that you use java.time, the modern Java date and time API, for your date and time work.\r\n\r\n\t\tZoneId zone = ZoneId.systemDefault();\r\n\t\t\t\r\n\t\tLocalDate somePreviousDate = LocalDate.of(2018, Month.NOVEMBER, 22);\r\n\t\t\r\n\t\tLocalTime timeOfDayNow = LocalTime.now(zone);\r\n\t\tLocalDateTime dateTime = somePreviousDate.atTime(timeOfDayNow);\r\n\t\t\r\n\t\tSystem.out.println(dateTime);\r\n\r\nWhen I ran the code just now — 16:25 in my time zone — I got this output:\r\n\r\n&gt; 2018-11-22T16:25:53.253892\r\n\r\nIf you’ve got an old-fashioned `Date` object, start by converting to a modern `Instant` and perform further conversion from there:\r\n\r\n\t\tDate somePreviousDate = new Date(1_555_555_555_555L);\r\n\t\tLocalDate date = somePreviousDate.toInstant().atZone(zone).toLocalDate();\r\n\t\t\r\n\t\tLocalTime timeOfDayNow = LocalTime.now(zone);\r\n\t\tLocalDateTime dateTime = date.atTime(timeOfDayNow);\r\n\r\n&gt; 2019-04-18T16:25:53.277947\r\n\r\nIf conversely you need the result as an old-fashioned `Date`, also convert over `Instant`:\r\n\r\n\t\tInstant i = dateTime.atZone(zone).toInstant();\r\n\t\tDate oldfasionedDate = Date.from(i);\r\n\t\t\r\n\t\tSystem.out.println(oldfasionedDate);\r\n\r\n&gt; Thu Nov 22 16:25:53 CET 2018\r\n\r\n## Link\r\n\r\n[Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n","title":"How to add current time to a previous date in java?","body":"<h2>java.time</h2>\n<p>I recommend that you use java.time, the modern Java date and time API, for your date and time work.</p>\n<pre><code>    ZoneId zone = ZoneId.systemDefault();\n        \n    LocalDate somePreviousDate = LocalDate.of(2018, Month.NOVEMBER, 22);\n    \n    LocalTime timeOfDayNow = LocalTime.now(zone);\n    LocalDateTime dateTime = somePreviousDate.atTime(timeOfDayNow);\n    \n    System.out.println(dateTime);\n</code></pre>\n<p>When I ran the code just now — 16:25 in my time zone — I got this output:</p>\n<blockquote>\n<p>2018-11-22T16:25:53.253892</p>\n</blockquote>\n<p>If you’ve got an old-fashioned <code>Date</code> object, start by converting to a modern <code>Instant</code> and perform further conversion from there:</p>\n<pre><code>    Date somePreviousDate = new Date(1_555_555_555_555L);\n    LocalDate date = somePreviousDate.toInstant().atZone(zone).toLocalDate();\n    \n    LocalTime timeOfDayNow = LocalTime.now(zone);\n    LocalDateTime dateTime = date.atTime(timeOfDayNow);\n</code></pre>\n<blockquote>\n<p>2019-04-18T16:25:53.277947</p>\n</blockquote>\n<p>If conversely you need the result as an old-fashioned <code>Date</code>, also convert over <code>Instant</code>:</p>\n<pre><code>    Instant i = dateTime.atZone(zone).toInstant();\n    Date oldfasionedDate = Date.from(i);\n    \n    System.out.println(oldfasionedDate);\n</code></pre>\n<blockquote>\n<p>Thu Nov 22 16:25:53 CET 2018</p>\n</blockquote>\n<h2>Link</h2>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"}],"owner":{"account_id":2730737,"reputation":1131,"user_id":2354588,"accept_rate":30,"display_name":"Aadi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9027,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":31156175,"answer_count":7,"score":7,"last_activity_date":1633098413,"creation_date":1435737193,"question_id":31155576,"body_markdown":"I was trying to add current time into previous date. But it was adding in current date with time not with previous date.\r\n\r\nsee my bellow code:\r\n\r\n    Date startUserDate = ;//this is my previous date object;\r\n\tstartUserDate.setTime(new Date().getTime());// here i&#39;m trying to add current time in previous date.\r\n\tSystem.out.println(&quot;current time with previous Date :&quot;+startUserDate);\r\n\r\n\r\n In previous date there is no time and i want to add current time in previous date.I can do this, please help me out.","title":"How to add current time to a previous date in java?","body":"<p>I was trying to add current time into previous date. But it was adding in current date with time not with previous date.</p>\n\n<p>see my bellow code:</p>\n\n<pre><code>Date startUserDate = ;//this is my previous date object;\nstartUserDate.setTime(new Date().getTime());// here i'm trying to add current time in previous date.\nSystem.out.println(\"current time with previous Date :\"+startUserDate);\n</code></pre>\n\n<p>In previous date there is no time and i want to add current time in previous date.I can do this, please help me out.</p>\n"},{"tags":["java","spring-boot","docker","rabbitmq","microservices"],"comments":[{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1632795904,"post_id":69354576,"comment_id":122583807,"body_markdown":"Why are there thousands of queues and a relatively small number of service instances?  That seems  upside down.","body":"Why are there thousands of queues and a relatively small number of service instances?  That seems  upside down."},{"owner":{"account_id":6470424,"reputation":49,"user_id":5010768,"display_name":"Akanksha Prasad"},"score":0,"creation_date":1632798634,"post_id":69354576,"comment_id":122584226,"body_markdown":"Just example numbers. looking for options on how to scale based on the number of queues. One consumer should read from the same queue as the messages should be consumed ordered. A spring application reading from all the queues should be easy but the only concern is trying to find an answer as to how will that service scale based on the number of the queue. For ex-10 queues are being listened to by one service, the next 10 by another instance. and later if I want to reduce the number of queues processed by one instance let&#39;s say 5. it should not require a restart.","body":"Just example numbers. looking for options on how to scale based on the number of queues. One consumer should read from the same queue as the messages should be consumed ordered. A spring application reading from all the queues should be easy but the only concern is trying to find an answer as to how will that service scale based on the number of the queue. For ex-10 queues are being listened to by one service, the next 10 by another instance. and later if I want to reduce the number of queues processed by one instance let&#39;s say 5. it should not require a restart."}],"owner":{"account_id":6470424,"reputation":49,"user_id":5010768,"display_name":"Akanksha Prasad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1633098286,"creation_date":1632789896,"question_id":69354576,"body_markdown":"I have to build a microservice that will listen to multiple queues, read the messages, and insert them into a database. There can be 1000&#39;s queues.  If anyone can help what will be the best and clean way to scale up and down the service. How can I pass the queues name dynamically using docker and for example, service1 would only listen to queue1 and queue2 whereas after load increases another instance of the service is up which will listen to queue3 and process its messages? Each queue is independent and should be processed in an ordered way. Basically, you can consider having if we have 100 customers we will have 100 queues. Sometimes the queues for one customer get more messages for that case If we can spawn a new instance and separate that customer id queue to be processed on a different service that will be faster for that customer. As the load decreases one service can process all the queues.\r\nAlso, is there any way to dynamically pass the queues to listen/remove from the binding for a service without restarting?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/700wx.png","title":"Scaling up/down my microservice which is listening to multiple queues","body":"<p>I have to build a microservice that will listen to multiple queues, read the messages, and insert them into a database. There can be 1000's queues.  If anyone can help what will be the best and clean way to scale up and down the service. How can I pass the queues name dynamically using docker and for example, service1 would only listen to queue1 and queue2 whereas after load increases another instance of the service is up which will listen to queue3 and process its messages? Each queue is independent and should be processed in an ordered way. Basically, you can consider having if we have 100 customers we will have 100 queues. Sometimes the queues for one customer get more messages for that case If we can spawn a new instance and separate that customer id queue to be processed on a different service that will be faster for that customer. As the load decreases one service can process all the queues.\nAlso, is there any way to dynamically pass the queues to listen/remove from the binding for a service without restarting?</p>\n<p><a href=\"https://i.stack.imgur.com/700wx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/700wx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6609714,"reputation":4086,"user_id":5105305,"accept_rate":58,"display_name":"Kasun Siyambalapitiya"},"score":1,"creation_date":1482292085,"post_id":1480398,"comment_id":69710087,"body_markdown":"This is same in Linux too","body":"This is same in Linux too"}],"answers":[{"tags":[],"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1525308795,"creation_date":1253939076,"answer_id":1480433,"question_id":1480398,"body_markdown":"The current directory is not (necessarily) the directory the .class file is in. It&#39;s working directory of the process. (ie: the directory you were in when you started the JVM)\r\n\r\nYou can load files from the same directory&lt;sup&gt;*&lt;/sup&gt; as the .class file with &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getResourceAsStream(java.lang.String)&quot;&gt;getResourceAsStream()&lt;/a&gt;. That&#39;ll give you an InputStream which you can convert to a Reader with [InputStreamReader](http://java.sun.com/javase/6/docs/api/java/io/InputStreamReader.html).\r\n\r\n---\r\n&lt;sub&gt;&lt;sup&gt;*&lt;/sup&gt;Note that this &quot;directory&quot; may actually be a jar file, depending on where the class was loaded from.&lt;/sub&gt;","title":"Java, reading a file from current directory?","body":"<p>The current directory is not (necessarily) the directory the .class file is in. It's working directory of the process. (ie: the directory you were in when you started the JVM)</p>\n\n<p>You can load files from the same directory<sup>*</sup> as the .class file with <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getResourceAsStream(java.lang.String)\" rel=\"noreferrer\">getResourceAsStream()</a>. That'll give you an InputStream which you can convert to a Reader with <a href=\"http://java.sun.com/javase/6/docs/api/java/io/InputStreamReader.html\" rel=\"noreferrer\">InputStreamReader</a>.</p>\n\n<hr>\n\n<p><sub><sup>*</sup>Note that this \"directory\" may actually be a jar file, depending on where the class was loaded from.</sub></p>\n"},{"tags":[],"owner":{"account_id":23611,"reputation":36322,"user_id":59279,"accept_rate":85,"display_name":"Joonas Pulakka"},"down_vote_count":0,"up_vote_count":97,"is_accepted":false,"score":97,"last_activity_date":1253939549,"creation_date":1253939549,"answer_id":1480438,"question_id":1480398,"body_markdown":"Try\r\n\r\n    System.getProperty(&quot;user.dir&quot;)\r\n\r\nIt returns the current working directory.","title":"Java, reading a file from current directory?","body":"<p>Try</p>\n\n<pre><code>System.getProperty(\"user.dir\")\n</code></pre>\n\n<p>It returns the current working directory.</p>\n"},{"tags":[],"owner":{"account_id":446975,"reputation":2666,"user_id":840333,"accept_rate":67,"display_name":"Joel Westberg"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1338455973,"creation_date":1338455973,"answer_id":10830715,"question_id":1480398,"body_markdown":"If you know your file will live where your classes are, that directory will be on your classpath. In that case, you can be sure that this solution will solve your problem:\r\n\r\n    URL path = ClassLoader.getSystemResource(&quot;myFile.txt&quot;);\r\n    if(path==null) {\r\n         //The file was not found, insert error handling here\r\n    }\r\n    File f = new File(path.toURI());\r\n    \r\n    reader = new BufferedReader(new FileReader(f));","title":"Java, reading a file from current directory?","body":"<p>If you know your file will live where your classes are, that directory will be on your classpath. In that case, you can be sure that this solution will solve your problem:</p>\n\n<pre><code>URL path = ClassLoader.getSystemResource(\"myFile.txt\");\nif(path==null) {\n     //The file was not found, insert error handling here\n}\nFile f = new File(path.toURI());\n\nreader = new BufferedReader(new FileReader(f));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4996035,"reputation":4281,"user_id":4098074,"accept_rate":19,"display_name":"Tony Vu"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1432205373,"creation_date":1432205373,"answer_id":30371567,"question_id":1480398,"body_markdown":"None of the above answer works for me. Here is what works for me.\r\n\r\nLet&#39;s say your class name is Foo.java, to access to the myFile.txt in the same folder as Foo.java, use this code:\r\n\r\n    URL path = Foo.class.getResource(&quot;myFile.txt&quot;);\r\n    File f = new File(path.getFile());\r\n    reader = new BufferedReader(new FileReader(f));","title":"Java, reading a file from current directory?","body":"<p>None of the above answer works for me. Here is what works for me.</p>\n\n<p>Let's say your class name is Foo.java, to access to the myFile.txt in the same folder as Foo.java, use this code:</p>\n\n<pre><code>URL path = Foo.class.getResource(\"myFile.txt\");\nFile f = new File(path.getFile());\nreader = new BufferedReader(new FileReader(f));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3849758,"reputation":1372,"user_id":3190214,"display_name":"katwekibs"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1481263216,"creation_date":1481262719,"answer_id":41053925,"question_id":1480398,"body_markdown":"Files in your project are available to you relative to your src folder. if you know which package or folder myfile.txt will be in, say it is in \r\n\r\n    ----src\r\n    --------package1\r\n    ------------myfile.txt\r\n    ------------Prog.java\r\n\r\nyou can specify its path as &quot;src/package1/myfile.txt&quot; from Prog.java","title":"Java, reading a file from current directory?","body":"<p>Files in your project are available to you relative to your src folder. if you know which package or folder myfile.txt will be in, say it is in </p>\n\n<pre><code>----src\n--------package1\n------------myfile.txt\n------------Prog.java\n</code></pre>\n\n<p>you can specify its path as \"src/package1/myfile.txt\" from Prog.java</p>\n"},{"tags":[],"owner":{"account_id":8928754,"reputation":7427,"user_id":6662058,"display_name":"Ashwin"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1523584477,"creation_date":1523584477,"answer_id":49808175,"question_id":1480398,"body_markdown":"Try this:\r\n\r\n    BufferedReader br = new BufferedReader(new FileReader(&quot;java_module_name/src/file_name.txt&quot;));","title":"Java, reading a file from current directory?","body":"<p>Try this:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(\"java_module_name/src/file_name.txt\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17563642,"reputation":38,"user_id":12741015,"display_name":"Charlie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583799997,"creation_date":1583799997,"answer_id":60610051,"question_id":1480398,"body_markdown":"try using &quot;.&quot;\r\nE.g.\r\n```\r\nFile currentDirectory = new File(&quot;.&quot;);\r\n```\r\nThis worked for me\r\n","title":"Java, reading a file from current directory?","body":"<p>try using \".\"\nE.g.</p>\n\n<pre><code>File currentDirectory = new File(\".\");\n</code></pre>\n\n<p>This worked for me</p>\n"},{"tags":[],"owner":{"account_id":9279853,"reputation":314,"user_id":6891341,"display_name":"Hina Halani"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1611923529,"creation_date":1611923529,"answer_id":65954544,"question_id":1480398,"body_markdown":"Thanks @Laurence Gonsalves your answer helped me a lot.\r\nyour current directory will working directory of proccess so you have to give full path start from your **src** directory like mentioned below:\r\n\r\n    public class Run {\r\n\tpublic static void main(String[] args) {\r\n\t\tFile inputFile = new File(&quot;./src/main/java/input.txt&quot;);\r\n\t\ttry {\r\n\t\t\tScanner reader = new Scanner(inputFile);\r\n\t\t\twhile (reader.hasNextLine()) {\r\n\t\t\t\tString data = reader.nextLine();\r\n\t\t\t\tSystem.out.println(data);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\treader.close();\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\tSystem.out.println(&quot;scanner error&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nWhile my input.txt file is in same directory.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i52Jw.png","title":"Java, reading a file from current directory?","body":"<p>Thanks @Laurence Gonsalves your answer helped me a lot.\nyour current directory will working directory of proccess so you have to give full path start from your <strong>src</strong> directory like mentioned below:</p>\n<pre><code>public class Run {\npublic static void main(String[] args) {\n    File inputFile = new File(&quot;./src/main/java/input.txt&quot;);\n    try {\n        Scanner reader = new Scanner(inputFile);\n        while (reader.hasNextLine()) {\n            String data = reader.nextLine();\n            System.out.println(data);\n            \n        }\n        reader.close();\n    } catch (FileNotFoundException e) {\n        System.out.println(&quot;scanner error&quot;);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>While my input.txt file is in same directory.</p>\n<p><a href=\"https://i.stack.imgur.com/i52Jw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/i52Jw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":36608,"reputation":16351,"user_id":104459,"accept_rate":99,"display_name":"Saobi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247036,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"accepted_answer_id":1480433,"answer_count":8,"score":98,"last_activity_date":1633096883,"creation_date":1253937357,"question_id":1480398,"body_markdown":"I want a java program that reads a user specified filename from the current directory (the same directory where the .class file is run).\r\n\r\nIn other words, if the user specifies the file name to be &quot;myFile.txt&quot;, and that file is already in the current directory:\r\n\r\n    reader = new BufferedReader(new FileReader(&quot;myFile.txt&quot;));\r\n\r\ndoes not work. Why?\r\n\r\nI&#39;m running it in windows.","title":"Java, reading a file from current directory?","body":"<p>I want a java program that reads a user specified filename from the current directory (the same directory where the .class file is run).</p>\n\n<p>In other words, if the user specifies the file name to be \"myFile.txt\", and that file is already in the current directory:</p>\n\n<pre><code>reader = new BufferedReader(new FileReader(\"myFile.txt\"));\n</code></pre>\n\n<p>does not work. Why?</p>\n\n<p>I'm running it in windows.</p>\n"},{"tags":["java","spring","apache-fop"],"comments":[{"owner":{"account_id":5258135,"reputation":177,"user_id":4989143,"display_name":"Stomf"},"score":0,"creation_date":1632929715,"post_id":69376492,"comment_id":122627665,"body_markdown":"Can you share your xsl-fo for the image? Also, possible duplicate https://stackoverflow.com/questions/24765396/insert-an-image-in-fop-xsl-fo","body":"Can you share your xsl-fo for the image? Also, possible duplicate <a href=\"https://stackoverflow.com/questions/24765396/insert-an-image-in-fop-xsl-fo\" title=\"insert an image in fop xsl fo\">stackoverflow.com/questions/24765396/&hellip;</a>"},{"owner":{"account_id":888794,"reputation":855,"user_id":927555,"accept_rate":50,"display_name":"jpaoletti"},"score":0,"creation_date":1632932347,"post_id":69376492,"comment_id":122628930,"body_markdown":"Added xslt blocks. Although if I cut the image url printed in error log and paste it in browser, the image is correctly displayed","body":"Added xslt blocks. Although if I cut the image url printed in error log and paste it in browser, the image is correctly displayed"}],"answers":[{"tags":[],"owner":{"account_id":888794,"reputation":855,"user_id":927555,"accept_rate":50,"display_name":"jpaoletti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633096778,"creation_date":1633096778,"answer_id":69407152,"question_id":69376492,"body_markdown":"Turned out to be a security issue. From brower I have access but only because I&#39;m logged in. If I try to get the image without being logged in, a security error poped up. \r\n\r\nSo solution is to play around with the controller pattern and security:http intercept-url","title":"PNG generated image in spring mapping not working on apache FOP generated PDF","body":"<p>Turned out to be a security issue. From brower I have access but only because I'm logged in. If I try to get the image without being logged in, a security error poped up.</p>\n<p>So solution is to play around with the controller pattern and security:http intercept-url</p>\n"}],"owner":{"account_id":888794,"reputation":855,"user_id":927555,"accept_rate":50,"display_name":"jpaoletti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69407152,"answer_count":1,"score":1,"last_activity_date":1633096778,"creation_date":1632918886,"question_id":69376492,"body_markdown":"Firt thing, this is not the case like in this link\r\n\r\nhttps://stackoverflow.com/questions/26139301/apache-fop-in-a-java-applet-no-imagepreloader-found-for-data/26282077#26282077\r\n\r\nSince all images (including PNG) are displayed normally except the one generated dinamically by a Spring mapping.\r\n\r\nSo, that said, I have the following situation. I have a controller with this mapping:\r\n\r\n```\r\n    @GetMapping(value = {\r\n        &quot;/static/test/qr.png&quot;\r\n    }, produces = MediaType.IMAGE_PNG_VALUE)\r\n    public void genericQR(HttpServletRequest request, HttpServletResponse response) throws WriterException, IOException {\r\n        response.setContentType(&quot;image/png&quot;);\r\n        final byte[] bytes = new QrCodeGenerator().generate(&quot;HELLO&quot;, null);\r\n        response.setContentLength(bytes.length);\r\n        response.getOutputStream().write(bytes);\r\n    }\r\n\r\n```\r\n\r\nThe QrCodeGenerator class is this:\r\n\r\n```\r\nimport com.google.zxing.BarcodeFormat;\r\nimport com.google.zxing.EncodeHintType;\r\nimport com.google.zxing.WriterException;\r\nimport com.google.zxing.client.j2se.MatrixToImageConfig;\r\nimport com.google.zxing.client.j2se.MatrixToImageWriter;\r\nimport com.google.zxing.common.BitMatrix;\r\nimport com.google.zxing.qrcode.QRCodeWriter;\r\nimport com.google.zxing.qrcode.decoder.ErrorCorrectionLevel;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n/**\r\n *\r\n * @author jpaoletti\r\n */\r\npublic class QrCodeGenerator {\r\n\r\n    private final int width;\r\n    private final int height;\r\n\r\n    public QrCodeGenerator() {\r\n        width = 400;\r\n        height = 400;\r\n    }\r\n\r\n    public QrCodeGenerator(int width, int height) {\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n\r\n    public byte[] generate(String content, String logo) throws WriterException, IOException {\r\n        // Create new configuration that specifies the error correction\r\n        Map&lt;EncodeHintType, ErrorCorrectionLevel&gt; hints = new HashMap&lt;&gt;();\r\n        hints.put(EncodeHintType.ERROR_CORRECTION, ErrorCorrectionLevel.H);\r\n\r\n        QRCodeWriter writer = new QRCodeWriter();\r\n        BitMatrix bitMatrix = null;\r\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n\r\n        // Create a qr code with the url as content and a size of WxH px\r\n        bitMatrix = writer.encode(content, BarcodeFormat.QR_CODE, width, height, hints);\r\n\r\n        // Load QR image\r\n        BufferedImage qrImage = MatrixToImageWriter.toBufferedImage(bitMatrix, getMatrixConfig());\r\n\r\n        // Load logo image\r\n        BufferedImage overly = logo == null ? null : getOverly(logo);\r\n\r\n        // Calculate the delta height and width between QR code and logo\r\n        int deltaHeight = overly == null ? null : (qrImage.getHeight() - overly.getHeight());\r\n        int deltaWidth = overly == null ? null : (qrImage.getWidth() - overly.getWidth());\r\n\r\n        // Initialize combined image\r\n        BufferedImage combined = new BufferedImage(qrImage.getHeight(), qrImage.getWidth(), BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D g = (Graphics2D) combined.getGraphics();\r\n\r\n        // Write QR code to new image at position 0/0\r\n        g.drawImage(qrImage, 0, 0, null);\r\n        g.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 1f));\r\n        if (overly != null) {\r\n            g.drawImage(overly, (int) Math.round(deltaWidth / 2), (int) Math.round(deltaHeight / 2), null);\r\n        }\r\n        ImageIO.write(combined, &quot;png&quot;, os);\r\n        return os.toByteArray();\r\n    }\r\n\r\n    private BufferedImage getOverly(String LOGO) throws IOException {\r\n        URL url = new URL(LOGO);\r\n        return ImageIO.read(url);\r\n    }\r\n\r\n    private MatrixToImageConfig getMatrixConfig() {\r\n        // ARGB Colors\r\n        // Check Colors ENUM\r\n        return new MatrixToImageConfig(QrCodeGenerator.Colors.BLACK.getArgb(), QrCodeGenerator.Colors.WHITE.getArgb());\r\n    }\r\n\r\n    public enum Colors {\r\n\r\n        BLUE(0xFF40BAD0),\r\n        RED(0xFFE91C43),\r\n        PURPLE(0xFF8A4F9E),\r\n        ORANGE(0xFFF4B13D),\r\n        WHITE(0xFFFFFFFF),\r\n        BLACK(0xFF000000);\r\n\r\n        private final int argb;\r\n\r\n        Colors(final int argb) {\r\n            this.argb = argb;\r\n        }\r\n\r\n        public int getArgb() {\r\n            return argb;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAccessing from a web site or a browser directly shows the image just fine, but trying to include it in an apache fop generated pdf throws the following error:\r\n\r\n```\r\n2021/09/29 09:08:47 [http-nio-8084-exec-73] ERROR org.apache.fop.apps.FOUserAgent  - Image not available. URI: http://localhost:8084/static/test/qr.png. Reason: org.apache.xmlgraphics.image.loader.ImageException: The file format is not supported. No ImagePreloader found for http://localhost:8084/static/test/qr.png (No context info available)\r\norg.apache.xmlgraphics.image.loader.ImageException: The file format is not supported. No ImagePreloader found for http://localhost:8084/static/test/qr.png\r\n\tat org.apache.xmlgraphics.image.loader.ImageManager.preloadImage(ImageManager.java:181)\r\n\tat org.apache.xmlgraphics.image.loader.cache.ImageCache.needImageInfo(ImageCache.java:127)\r\n\tat org.apache.xmlgraphics.image.loader.ImageManager.getImageInfo(ImageManager.java:123)\r\n```\r\n\r\nI&#39;ve tried a lot of options, even change to JPG with the same result. Any ideas?\r\n\r\nThis WORKS\r\n\r\n```\r\n  &lt;fo:block&gt;\r\n   &lt;fo:external-graphic src=&quot;url(&#39;{$url-base}/static/img/logosite.png&#39;)&quot; content-height=&quot;scale-to-fit&quot; height=&quot;1cm&quot; /&gt;\r\n  &lt;/fo:block&gt;\r\n```\r\n\r\nThis DOESN&#39;T WORKS\r\n\r\n```\r\n  &lt;fo:block font-size=&quot;10pt&quot; margin-top=&quot;0cm&quot;&gt;\r\n    &lt;fo:external-graphic src=&quot;url(&#39;{$url-base}/static/test/qr.png&#39;)&quot; content-height=&quot;scale-to-fit&quot; height=&quot;3cm&quot; content-width=&quot;3cm&quot; scaling=&quot;non-uniform&quot; /&gt;\r\n  &lt;/fo:block&gt;\r\n```\r\n\r\nThanks in advance","title":"PNG generated image in spring mapping not working on apache FOP generated PDF","body":"<p>Firt thing, this is not the case like in this link</p>\n<p><a href=\"https://stackoverflow.com/questions/26139301/apache-fop-in-a-java-applet-no-imagepreloader-found-for-data/26282077#26282077\">Apache FOP in a Java Applet - No ImagePreloader found for data</a></p>\n<p>Since all images (including PNG) are displayed normally except the one generated dinamically by a Spring mapping.</p>\n<p>So, that said, I have the following situation. I have a controller with this mapping:</p>\n<pre><code>    @GetMapping(value = {\n        &quot;/static/test/qr.png&quot;\n    }, produces = MediaType.IMAGE_PNG_VALUE)\n    public void genericQR(HttpServletRequest request, HttpServletResponse response) throws WriterException, IOException {\n        response.setContentType(&quot;image/png&quot;);\n        final byte[] bytes = new QrCodeGenerator().generate(&quot;HELLO&quot;, null);\n        response.setContentLength(bytes.length);\n        response.getOutputStream().write(bytes);\n    }\n\n</code></pre>\n<p>The QrCodeGenerator class is this:</p>\n<pre><code>import com.google.zxing.BarcodeFormat;\nimport com.google.zxing.EncodeHintType;\nimport com.google.zxing.WriterException;\nimport com.google.zxing.client.j2se.MatrixToImageConfig;\nimport com.google.zxing.client.j2se.MatrixToImageWriter;\nimport com.google.zxing.common.BitMatrix;\nimport com.google.zxing.qrcode.QRCodeWriter;\nimport com.google.zxing.qrcode.decoder.ErrorCorrectionLevel;\n\nimport javax.imageio.ImageIO;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.HashMap;\nimport java.util.Map;\n\n/**\n *\n * @author jpaoletti\n */\npublic class QrCodeGenerator {\n\n    private final int width;\n    private final int height;\n\n    public QrCodeGenerator() {\n        width = 400;\n        height = 400;\n    }\n\n    public QrCodeGenerator(int width, int height) {\n        this.width = width;\n        this.height = height;\n    }\n\n    public byte[] generate(String content, String logo) throws WriterException, IOException {\n        // Create new configuration that specifies the error correction\n        Map&lt;EncodeHintType, ErrorCorrectionLevel&gt; hints = new HashMap&lt;&gt;();\n        hints.put(EncodeHintType.ERROR_CORRECTION, ErrorCorrectionLevel.H);\n\n        QRCodeWriter writer = new QRCodeWriter();\n        BitMatrix bitMatrix = null;\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\n\n        // Create a qr code with the url as content and a size of WxH px\n        bitMatrix = writer.encode(content, BarcodeFormat.QR_CODE, width, height, hints);\n\n        // Load QR image\n        BufferedImage qrImage = MatrixToImageWriter.toBufferedImage(bitMatrix, getMatrixConfig());\n\n        // Load logo image\n        BufferedImage overly = logo == null ? null : getOverly(logo);\n\n        // Calculate the delta height and width between QR code and logo\n        int deltaHeight = overly == null ? null : (qrImage.getHeight() - overly.getHeight());\n        int deltaWidth = overly == null ? null : (qrImage.getWidth() - overly.getWidth());\n\n        // Initialize combined image\n        BufferedImage combined = new BufferedImage(qrImage.getHeight(), qrImage.getWidth(), BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g = (Graphics2D) combined.getGraphics();\n\n        // Write QR code to new image at position 0/0\n        g.drawImage(qrImage, 0, 0, null);\n        g.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 1f));\n        if (overly != null) {\n            g.drawImage(overly, (int) Math.round(deltaWidth / 2), (int) Math.round(deltaHeight / 2), null);\n        }\n        ImageIO.write(combined, &quot;png&quot;, os);\n        return os.toByteArray();\n    }\n\n    private BufferedImage getOverly(String LOGO) throws IOException {\n        URL url = new URL(LOGO);\n        return ImageIO.read(url);\n    }\n\n    private MatrixToImageConfig getMatrixConfig() {\n        // ARGB Colors\n        // Check Colors ENUM\n        return new MatrixToImageConfig(QrCodeGenerator.Colors.BLACK.getArgb(), QrCodeGenerator.Colors.WHITE.getArgb());\n    }\n\n    public enum Colors {\n\n        BLUE(0xFF40BAD0),\n        RED(0xFFE91C43),\n        PURPLE(0xFF8A4F9E),\n        ORANGE(0xFFF4B13D),\n        WHITE(0xFFFFFFFF),\n        BLACK(0xFF000000);\n\n        private final int argb;\n\n        Colors(final int argb) {\n            this.argb = argb;\n        }\n\n        public int getArgb() {\n            return argb;\n        }\n    }\n}\n\n</code></pre>\n<p>Accessing from a web site or a browser directly shows the image just fine, but trying to include it in an apache fop generated pdf throws the following error:</p>\n<pre><code>2021/09/29 09:08:47 [http-nio-8084-exec-73] ERROR org.apache.fop.apps.FOUserAgent  - Image not available. URI: http://localhost:8084/static/test/qr.png. Reason: org.apache.xmlgraphics.image.loader.ImageException: The file format is not supported. No ImagePreloader found for http://localhost:8084/static/test/qr.png (No context info available)\norg.apache.xmlgraphics.image.loader.ImageException: The file format is not supported. No ImagePreloader found for http://localhost:8084/static/test/qr.png\n    at org.apache.xmlgraphics.image.loader.ImageManager.preloadImage(ImageManager.java:181)\n    at org.apache.xmlgraphics.image.loader.cache.ImageCache.needImageInfo(ImageCache.java:127)\n    at org.apache.xmlgraphics.image.loader.ImageManager.getImageInfo(ImageManager.java:123)\n</code></pre>\n<p>I've tried a lot of options, even change to JPG with the same result. Any ideas?</p>\n<p>This WORKS</p>\n<pre><code>  &lt;fo:block&gt;\n   &lt;fo:external-graphic src=&quot;url('{$url-base}/static/img/logosite.png')&quot; content-height=&quot;scale-to-fit&quot; height=&quot;1cm&quot; /&gt;\n  &lt;/fo:block&gt;\n</code></pre>\n<p>This DOESN'T WORKS</p>\n<pre><code>  &lt;fo:block font-size=&quot;10pt&quot; margin-top=&quot;0cm&quot;&gt;\n    &lt;fo:external-graphic src=&quot;url('{$url-base}/static/test/qr.png')&quot; content-height=&quot;scale-to-fit&quot; height=&quot;3cm&quot; content-width=&quot;3cm&quot; scaling=&quot;non-uniform&quot; /&gt;\n  &lt;/fo:block&gt;\n</code></pre>\n<p>Thanks in advance</p>\n"},{"tags":["java","binary-tree","inorder"],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633096751,"creation_date":1633096751,"answer_id":69407141,"question_id":69406668,"body_markdown":"How about something like this:\r\n\r\n\r\n    private static BinaryTree buildTree(String tree) {\r\n        try {\r\n            return buildTree(new StringReader(tree));\r\n        } catch (IOException ex) {\r\n            throw new RuntimeException(ex.getMessage());\r\n        }\r\n    }\r\n\r\n    private static BinaryTree buildTree(Reader in) throws IOException {\r\n        char c = (char)in.read();\r\n        if (c == &#39;!&#39;) {\r\n            return null;\r\n        } else if (c != &#39;(&#39;) {\r\n            throw new IOException(&quot;Syntax error&quot;);\r\n        }\r\n        BinaryTree left = buildTree(in);\r\n        char data = (char)in.read();\r\n        BinaryTree right = buildTree(in);\r\n        c = (char)in.read();\r\n        if (c != &#39;)&#39;) {\r\n            throw new IOException(&quot;Syntax error&quot;);\r\n        }\r\n        return new BinaryTree(left, data, right);\r\n    }\r\n","title":"Building a BinaryTree from an InOrder String Representation","body":"<p>How about something like this:</p>\n<pre><code>private static BinaryTree buildTree(String tree) {\n    try {\n        return buildTree(new StringReader(tree));\n    } catch (IOException ex) {\n        throw new RuntimeException(ex.getMessage());\n    }\n}\n\nprivate static BinaryTree buildTree(Reader in) throws IOException {\n    char c = (char)in.read();\n    if (c == '!') {\n        return null;\n    } else if (c != '(') {\n        throw new IOException(&quot;Syntax error&quot;);\n    }\n    BinaryTree left = buildTree(in);\n    char data = (char)in.read();\n    BinaryTree right = buildTree(in);\n    c = (char)in.read();\n    if (c != ')') {\n        throw new IOException(&quot;Syntax error&quot;);\n    }\n    return new BinaryTree(left, data, right);\n}\n</code></pre>\n"}],"owner":{"account_id":21479867,"reputation":77,"user_id":15827424,"display_name":"WeekendJedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69407141,"answer_count":1,"score":0,"last_activity_date":1633096751,"creation_date":1633094750,"question_id":69406668,"body_markdown":"I am given a String like: (((!D!)B!)A((!F(!H!))C(!G!))) where there is never any whitespace. A &#39;!&#39; means that there is no child to that side of the node. To visualize this, the String mentioned previously would look like: https://i.stack.imgur.com/WywYm.png \r\n\r\nI must have a constructor that can call a recursive method to build the tree by passing in the String, which is what I have here:\r\n\r\n    public BinaryTree(String tree) {\r\n\t\t//build the tree from the inOrder representation of the tree\r\n\t\t//in the inOrder representation an empty tree is ! and a non-empty tree is (leftdataright)\r\n\t\tif(tree.charAt(0) == &#39;!&#39;) root = null;\r\n\t\troot = buildTree(tree).root;\r\n\t}\r\n\r\nFrom here I enter into by private BuildTree method, which is supposed to use recursion and return a reference to the root of the fully assembled tree. The code I have for this is:\r\n\r\n    private BinaryTree buildTree(String tree) {\r\n\t\tchar data = tree.charAt(0);\r\n\t\tBinaryTree b1;\r\n\t\tBinaryTree b2;\t\t\r\n\t\tif(tree.charAt(0) == &#39;!&#39;) return new BinaryTree();\r\n\t\tb1 = buildTree(tree.substring(1, tree.length()));\r\n\t\tb2 = buildTree(tree.substring(1, tree.length()));\r\n\t\treturn new BinaryTree(b1, data, b2);\r\n\t}\r\n\r\nI guess what I&#39;m confused on is the InOrder representation, where you don&#39;t run into the root of the full tree until you are very far into the String. My current code doesn&#39;t do much of anything, and I&#39;m just completely lost on how this can be accomplished without knowing the root right away. If there is any way someone can explain this better to get me closer to a solution, please let me know. Thank you.","title":"Building a BinaryTree from an InOrder String Representation","body":"<p>I am given a String like: (((!D!)B!)A((!F(!H!))C(!G!))) where there is never any whitespace. A '!' means that there is no child to that side of the node. To visualize this, the String mentioned previously would look like: <a href=\"https://i.stack.imgur.com/WywYm.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/WywYm.png</a></p>\n<p>I must have a constructor that can call a recursive method to build the tree by passing in the String, which is what I have here:</p>\n<pre><code>public BinaryTree(String tree) {\n    //build the tree from the inOrder representation of the tree\n    //in the inOrder representation an empty tree is ! and a non-empty tree is (leftdataright)\n    if(tree.charAt(0) == '!') root = null;\n    root = buildTree(tree).root;\n}\n</code></pre>\n<p>From here I enter into by private BuildTree method, which is supposed to use recursion and return a reference to the root of the fully assembled tree. The code I have for this is:</p>\n<pre><code>private BinaryTree buildTree(String tree) {\n    char data = tree.charAt(0);\n    BinaryTree b1;\n    BinaryTree b2;      \n    if(tree.charAt(0) == '!') return new BinaryTree();\n    b1 = buildTree(tree.substring(1, tree.length()));\n    b2 = buildTree(tree.substring(1, tree.length()));\n    return new BinaryTree(b1, data, b2);\n}\n</code></pre>\n<p>I guess what I'm confused on is the InOrder representation, where you don't run into the root of the full tree until you are very far into the String. My current code doesn't do much of anything, and I'm just completely lost on how this can be accomplished without knowing the root right away. If there is any way someone can explain this better to get me closer to a solution, please let me know. Thank you.</p>\n"},{"tags":["java","encryption-asymmetric"],"comments":[{"owner":{"account_id":215715,"reputation":3329,"user_id":470517,"accept_rate":86,"display_name":"Aydin K."},"score":1,"creation_date":1633092953,"post_id":69406198,"comment_id":122675160,"body_markdown":"As asymmetrical cryptography via public and private keys base  on a mathematical problem (prime factorization of large prime numbers) you might want to have a look on this repository (found it by accident, there should exist many like this): https://github.com/eduardolundgren/rsa-prime-factorization","body":"As asymmetrical cryptography via public and private keys base  on a mathematical problem (prime factorization of large prime numbers) you might want to have a look on this repository (found it by accident, there should exist many like this): <a href=\"https://github.com/eduardolundgren/rsa-prime-factorization\" rel=\"nofollow noreferrer\">github.com/eduardolundgren/rsa-prime-factorization</a>"}],"answers":[{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633096510,"creation_date":1633095158,"answer_id":69406765,"question_id":69406198,"body_markdown":"I use JShell to demonstrate the basic public-private key generation just using Java&#39;s `BigInteger`:\r\n\r\n    jshell&gt; import java.math.BigInteger;\r\n    jshell&gt; var rnd = new java.security.SecureRandom();\r\n    rnd ==&gt; Hash_DRBG,SHA-256,128,reseed_only\r\n    \r\nFirst we need 2 primes\r\n    \r\n    jshell&gt; var p1 = BigInteger.probablePrime(512, rnd);\r\n    p1 ==&gt; 1176110601168217581401499298469596353224364190716 ... 72507270343325790065694831\r\n    \r\n    jshell&gt; var p2 = BigInteger.probablePrime(512, rnd);\r\n    p2 ==&gt; 1001341560055006431459083188828513502474297271020 ... 34378293673605844490263567\r\n    \r\nNext we calculate the public key. 0x10001 is a common exponent for the public key.\r\n    \r\n    jshell&gt; var n = p1.multiply(p2);\r\n    n ==&gt; 1177688424171014462551464978852125044384293220079 ... 24824881562893076179522177\r\n    \r\n    jshell&gt; var e = BigInteger.valueOf(0x10001);\r\n    e ==&gt; 65537\r\n    \r\nThe public key is `e` and `n`.\r\nNow the private part.\r\n    \r\n    jshell&gt; var phi = p1.subtract(BigInteger.ONE).multiply(p2.subtract(BigInteger.ONE));\r\n    phi ==&gt; 1177688424171014462551464978852125044384293220079 ... 17939317545961441623563780\r\n    \r\n    jshell&gt; var d = e.modInverse(phi);\r\n    d ==&gt; 7023685818262702180949167670691999860354377649273 ... 38390163809778429090416313\r\n\r\nThe private key is now `d` and `n`.  \r\nLet&#39;s test it:\r\n    \r\n    jshell&gt; var secret = BigInteger.valueOf(1337);\r\n    secret ==&gt; 1337\r\n    \r\n    jshell&gt; var enc = secret.modPow(e, n);\r\n    enc ==&gt; 1059982071031392497566614763259148320406936402012 ... 39171914529632475117049800\r\n    \r\n    jshell&gt; enc.modPow(d, n);\r\n    $11 ==&gt; 1337\r\n\r\nWe could send `enc` over the wire, and nobody could decrypt it without the knowledge of the private key. Well, at least in theory. In practice, you should pad your messages.","title":"How to generate private public key in JAVA using no external libraries","body":"<p>I use JShell to demonstrate the basic public-private key generation just using Java's <code>BigInteger</code>:</p>\n<pre><code>jshell&gt; import java.math.BigInteger;\njshell&gt; var rnd = new java.security.SecureRandom();\nrnd ==&gt; Hash_DRBG,SHA-256,128,reseed_only\n</code></pre>\n<p>First we need 2 primes</p>\n<pre><code>jshell&gt; var p1 = BigInteger.probablePrime(512, rnd);\np1 ==&gt; 1176110601168217581401499298469596353224364190716 ... 72507270343325790065694831\n\njshell&gt; var p2 = BigInteger.probablePrime(512, rnd);\np2 ==&gt; 1001341560055006431459083188828513502474297271020 ... 34378293673605844490263567\n</code></pre>\n<p>Next we calculate the public key. 0x10001 is a common exponent for the public key.</p>\n<pre><code>jshell&gt; var n = p1.multiply(p2);\nn ==&gt; 1177688424171014462551464978852125044384293220079 ... 24824881562893076179522177\n\njshell&gt; var e = BigInteger.valueOf(0x10001);\ne ==&gt; 65537\n</code></pre>\n<p>The public key is <code>e</code> and <code>n</code>.\nNow the private part.</p>\n<pre><code>jshell&gt; var phi = p1.subtract(BigInteger.ONE).multiply(p2.subtract(BigInteger.ONE));\nphi ==&gt; 1177688424171014462551464978852125044384293220079 ... 17939317545961441623563780\n\njshell&gt; var d = e.modInverse(phi);\nd ==&gt; 7023685818262702180949167670691999860354377649273 ... 38390163809778429090416313\n</code></pre>\n<p>The private key is now <code>d</code> and <code>n</code>.<br />\nLet's test it:</p>\n<pre><code>jshell&gt; var secret = BigInteger.valueOf(1337);\nsecret ==&gt; 1337\n\njshell&gt; var enc = secret.modPow(e, n);\nenc ==&gt; 1059982071031392497566614763259148320406936402012 ... 39171914529632475117049800\n\njshell&gt; enc.modPow(d, n);\n$11 ==&gt; 1337\n</code></pre>\n<p>We could send <code>enc</code> over the wire, and nobody could decrypt it without the knowledge of the private key. Well, at least in theory. In practice, you should pad your messages.</p>\n"}],"owner":{"account_id":9544698,"reputation":667,"user_id":7091281,"display_name":"Luk164"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"accepted_answer_id":69406765,"answer_count":1,"score":-5,"last_activity_date":1633096510,"creation_date":1633092646,"question_id":69406198,"body_markdown":"We have been given an assignment part of which requires us to generate a public private key pair. These do not need to be particularly secure, as it is just for demonstration of the concept. \r\n\r\n**We can not use any sort of cryptography libraries or external tools.**\r\n\r\nHow would I go about generating these?\r\n\r\nEdit: Found a pretty nice explanation of RSA here: https://www.educative.io/edpresso/what-is-the-rsa-algorithm","title":"How to generate private public key in JAVA using no external libraries","body":"<p>We have been given an assignment part of which requires us to generate a public private key pair. These do not need to be particularly secure, as it is just for demonstration of the concept.</p>\n<p><strong>We can not use any sort of cryptography libraries or external tools.</strong></p>\n<p>How would I go about generating these?</p>\n<p>Edit: Found a pretty nice explanation of RSA here: <a href=\"https://www.educative.io/edpresso/what-is-the-rsa-algorithm\" rel=\"nofollow noreferrer\">https://www.educative.io/edpresso/what-is-the-rsa-algorithm</a></p>\n"},{"tags":["java","arrays","spring-boot","sorting","elasticsearch"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1632485053,"post_id":69314625,"comment_id":122511780,"body_markdown":"Could you describe the desired order a little bit more in detail and provide an example? I don&#39;t really understand *sort by first value of startDate and last value of endDate*.","body":"Could you describe the desired order a little bit more in detail and provide an example? I don&#39;t really understand <i>sort by first value of startDate and last value of endDate</i>."},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1632489828,"post_id":69314625,"comment_id":122513696,"body_markdown":"For example [{24-09-2021, 25-09-2021}, {22-09-2021, 28-09-2021}] first element in object is startDate, 2nd - endDate. First sorting of my main object - sort by startDate values starting from earlier date, second - by endDate starting from latest date\n@deHaar","body":"For example [{24-09-2021, 25-09-2021}, {22-09-2021, 28-09-2021}] first element in object is startDate, 2nd - endDate. First sorting of my main object - sort by startDate values starting from earlier date, second - by endDate starting from latest date @deHaar"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1632490084,"post_id":69314625,"comment_id":122513800,"body_markdown":"Are those two different sorting orders or do you mean if the startDates are equal, then sort by endDate?","body":"Are those two different sorting orders or do you mean if the startDates are equal, then sort by endDate?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1632490230,"post_id":69314625,"comment_id":122513855,"body_markdown":"How does the list of dates look in Java code?","body":"How does the list of dates look in Java code?"},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1632490351,"post_id":69314625,"comment_id":122513896,"body_markdown":"Sorry, I did mistake in comment. Correct task:\n&quot;First sorting of my main object - sort by startDate values using earlier date in array, second - by endDate using latest date&quot; @deHaar","body":"Sorry, I did mistake in comment. Correct task: &quot;First sorting of my main object - sort by startDate values using earlier date in array, second - by endDate using latest date&quot; @deHaar"},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1632490409,"post_id":69314625,"comment_id":122513919,"body_markdown":"@deHaar The list of dates look \n `@Field(type = FieldType.Nested, name = &quot;date-range-list&quot;)\n  private List&lt;DateRange&gt; dateRangeList;` List contains LocalDate start and end","body":"@deHaar The list of dates look   <code>@Field(type = FieldType.Nested, name = &quot;date-range-list&quot;)   private List&lt;DateRange&gt; dateRangeList;</code> List contains LocalDate start and end"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1632491025,"post_id":69314625,"comment_id":122514182,"body_markdown":"Don&#39;t really know how to use annotations in order to sort them, but you could write a `Comparator` for `DateRange`s or make `DateRange implements Comparable&lt;DateRange&gt;` and handle the necessary cases, like *if start dates are equal, then sort by end date descending, otherwise sort by start date ascending*, for example.","body":"Don&#39;t really know how to use annotations in order to sort them, but you could write a <code>Comparator</code> for <code>DateRange</code>s or make <code>DateRange implements Comparable&lt;DateRange&gt;</code> and handle the necessary cases, like <i>if start dates are equal, then sort by end date descending, otherwise sort by start date ascending</i>, for example."},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":1,"creation_date":1632494130,"post_id":69314625,"comment_id":122515598,"body_markdown":"Yes, I also thought that for this case better to use Java sorting instead of Elasticsearch) @deHaar","body":"Yes, I also thought that for this case better to use Java sorting instead of Elasticsearch) @deHaar"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1632494230,"post_id":69314625,"comment_id":122515640,"body_markdown":"It&#39;s too custom for any built-in sorter, that means best solution would be a `Comparator` (written by you) that you can use in an annotation later (maybe possible).","body":"It&#39;s too custom for any built-in sorter, that means best solution would be a <code>Comparator</code> (written by you) that you can use in an annotation later (maybe possible)."},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1632494236,"post_id":69314625,"comment_id":122515643,"body_markdown":"But from other hand - I will have to return 9999999(many values) as main objects with many fields. So then I still have to sort that in Java instead of quick sorting using ElasticSearch @deHaar","body":"But from other hand - I will have to return 9999999(many values) as main objects with many fields. So then I still have to sort that in Java instead of quick sorting using ElasticSearch @deHaar"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1632494306,"post_id":69314625,"comment_id":122515671,"body_markdown":"Don&#39;t know Elastic very well, there might be customization options. You&#39;d probably have to dig deep into its documentation.","body":"Don&#39;t know Elastic very well, there might be customization options. You&#39;d probably have to dig deep into its documentation."},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":1,"creation_date":1632494334,"post_id":69314625,"comment_id":122515687,"body_markdown":"well probably yes) @deHaar","body":"well probably yes) @deHaar"},{"owner":{"account_id":1877077,"reputation":1544,"user_id":2152016,"accept_rate":42,"display_name":"ms_27"},"score":0,"creation_date":1633085586,"post_id":69314625,"comment_id":122672164,"body_markdown":"Can you share a sample document?","body":"Can you share a sample document?"},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1633086463,"post_id":69314625,"comment_id":122672507,"body_markdown":"@ms_27 yes, I added example in topic","body":"@ms_27 yes, I added example in topic"},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1633086968,"post_id":69314625,"comment_id":122672685,"body_markdown":"@ms_27 maybe I have to use somehow scriptSort in springframework.elasticsearch library?","body":"@ms_27 maybe I have to use somehow scriptSort in springframework.elasticsearch library?"},{"owner":{"account_id":1877077,"reputation":1544,"user_id":2152016,"accept_rate":42,"display_name":"ms_27"},"score":0,"creation_date":1633087856,"post_id":69314625,"comment_id":122673015,"body_markdown":"Your question asks about using `spring-boot-starter-data-elasticsearch` constructs directly. I think we should focus on elastic search query first. Can you share the index mapping too? so that anyone can playaround and check on what works for your usecase.","body":"Your question asks about using <code>spring-boot-starter-data-elasticsearch</code> constructs directly. I think we should focus on elastic search query first. Can you share the index mapping too? so that anyone can playaround and check on what works for your usecase."},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1633088277,"post_id":69314625,"comment_id":122673180,"body_markdown":"I am not sure if I can share full index document with all fields, because its private) I sent you the structure of the document with &#39;schedule&#39; nested object that is needed to solve the task. Do you really need other fields, that are not related to the task? @ms_27","body":"I am not sure if I can share full index document with all fields, because its private) I sent you the structure of the document with &#39;schedule&#39; nested object that is needed to solve the task. Do you really need other fields, that are not related to the task? @ms_27"},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1633090590,"post_id":69314625,"comment_id":122674167,"body_markdown":"@ms_27 please, let me know, if I gave you enough info","body":"@ms_27 please, let me know, if I gave you enough info"},{"owner":{"account_id":1877077,"reputation":1544,"user_id":2152016,"accept_rate":42,"display_name":"ms_27"},"score":0,"creation_date":1633095771,"post_id":69314625,"comment_id":122676398,"body_markdown":"No I don&#39;t want other fields. It is just how you have mapped the nested documents. Because, afaik, in ES, the nested documents are indexed separately and a parent child relationship is maintained within outer and nested document. So, its important to experiment the stuff.","body":"No I don&#39;t want other fields. It is just how you have mapped the nested documents. Because, afaik, in ES, the nested documents are indexed separately and a parent child relationship is maintained within outer and nested document. So, its important to experiment the stuff."},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1633096347,"post_id":69314625,"comment_id":122676633,"body_markdown":"I have added image, is it right thing, that you needed? @ms_27","body":"I have added image, is it right thing, that you needed? @ms_27"},{"owner":{"account_id":1877077,"reputation":1544,"user_id":2152016,"accept_rate":42,"display_name":"ms_27"},"score":0,"creation_date":1633109794,"post_id":69314625,"comment_id":122681879,"body_markdown":"yes that is what I was asking. I will try this out.","body":"yes that is what I was asking. I will try this out."},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1633351660,"post_id":69314625,"comment_id":122728837,"body_markdown":"@ms_27 ok thanks. I&#39;d like to add that basic sorting for this I implemented adding ```.setNestedSort(new NestedSortBuilder(nestedPath))``` to NativeSearchQueryBuilder","body":"@ms_27 ok thanks. I&#39;d like to add that basic sorting for this I implemented adding <code>.setNestedSort(new NestedSortBuilder(nestedPath))</code> to NativeSearchQueryBuilder"}],"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633096323,"creation_date":1632484516,"question_id":69314625,"body_markdown":"I have Spring Boot application and I am using `spring-boot-starter-data-elasticsearch`. \r\n\r\nI have nested object with list of objects(that contains list of dates), that I have to sort by earliest value of startDate in array and by latest value of endDate.\r\nI didn&#39;t find any examples for that.\r\nHow could I implement that?\r\n\r\nThe hierarchy is looking like this:\r\n\r\n`mainObject.dateRangeList.[{startDate, endDate}, ...]`\r\n\r\ndateRangeList is annotated as \r\n```\r\n@Field(type = FieldType.Nested, name = &quot;date-range-list&quot;)\r\n private List&lt;DateRange&gt; dateRangeList;\r\n```\r\n\r\nstart and end dates are annotated as\r\n```\r\n@Field(name = &quot;start&quot;,\r\n      type = FieldType.Date,\r\n      format = DateFormat.date,\r\n      pattern = &quot;yyyy-MM-dd&quot;)\r\n private LocalDate start;\r\n\r\n``` \r\n\r\nExample of document\r\n```\r\n    {\r\n        &quot;id&quot;: &quot;qwe&quot;,\r\n\t\t&quot;a&quot;: &quot;ABC&quot;,\r\n\t\t&quot;c&quot;: &quot;qwe&quot;,\r\n\t\t&quot;b&quot;: &quot;qwe&quot;,\r\n\t\t&quot;someFields&quot;...\r\n\t\t&quot;schedule&quot;: {\r\n\t\t\t&quot;z&quot;: &quot;qwe&quot;,\r\n\t\t\t&quot;x&quot;: false,\r\n\t\t\t&quot;date-range-list&quot;: [\r\n\t\t\t\t{\r\n\t\t\t\t\t&quot;start&quot;: &quot;2020-11-01&quot;,\r\n\t\t\t\t\t&quot;end&quot;: &quot;2020-12-01&quot;\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t&quot;y&quot;: []\r\n\t\t},\r\n\t\t&quot;somefields&quot;...\r\n\t}\r\n```\r\n\r\n[![Nested object][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0C2R4.png","title":"How to sort values in Elasticseach by latest and earliest date in array using Spring Framework?","body":"<p>I have Spring Boot application and I am using <code>spring-boot-starter-data-elasticsearch</code>.</p>\n<p>I have nested object with list of objects(that contains list of dates), that I have to sort by earliest value of startDate in array and by latest value of endDate.\nI didn't find any examples for that.\nHow could I implement that?</p>\n<p>The hierarchy is looking like this:</p>\n<p><code>mainObject.dateRangeList.[{startDate, endDate}, ...]</code></p>\n<p>dateRangeList is annotated as</p>\n<pre><code>@Field(type = FieldType.Nested, name = &quot;date-range-list&quot;)\n private List&lt;DateRange&gt; dateRangeList;\n</code></pre>\n<p>start and end dates are annotated as</p>\n<pre><code>@Field(name = &quot;start&quot;,\n      type = FieldType.Date,\n      format = DateFormat.date,\n      pattern = &quot;yyyy-MM-dd&quot;)\n private LocalDate start;\n\n</code></pre>\n<p>Example of document</p>\n<pre><code>    {\n        &quot;id&quot;: &quot;qwe&quot;,\n        &quot;a&quot;: &quot;ABC&quot;,\n        &quot;c&quot;: &quot;qwe&quot;,\n        &quot;b&quot;: &quot;qwe&quot;,\n        &quot;someFields&quot;...\n        &quot;schedule&quot;: {\n            &quot;z&quot;: &quot;qwe&quot;,\n            &quot;x&quot;: false,\n            &quot;date-range-list&quot;: [\n                {\n                    &quot;start&quot;: &quot;2020-11-01&quot;,\n                    &quot;end&quot;: &quot;2020-12-01&quot;\n                }\n            ],\n            &quot;y&quot;: []\n        },\n        &quot;somefields&quot;...\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0C2R4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0C2R4.png\" alt=\"Nested object\" /></a></p>\n"},{"tags":["java","google-api","google-admin-sdk","google-api-java-client","servlet-3.0"],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633095826,"creation_date":1633095826,"answer_id":69406923,"question_id":69404371,"body_markdown":"&gt;You are currently running with version 1.23.0 of google-api-client. You need at least version 1.31.1 of google-api-client to run version 1.32.1 of the Admin SDK API library\r\n\r\nIf you check the [Setup guilde](https://developers.google.com/api-client-library/java/google-api-java-client/setup)\r\n\r\n\r\nIt shows the latest is `google-api-client-1.32.1.jar` Have you tried updating to that?\r\n\r\n[Google APIs Client Library for Java](https://search.maven.org/artifact/com.google.api-client/google-api-client/1.32.1/jar)","title":"What is the corect version of google-api-client for use with Admin SDK API?","body":"<blockquote>\n<p>You are currently running with version 1.23.0 of google-api-client. You need at least version 1.31.1 of google-api-client to run version 1.32.1 of the Admin SDK API library</p>\n</blockquote>\n<p>If you check the <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/setup\" rel=\"nofollow noreferrer\">Setup guilde</a></p>\n<p>It shows the latest is <code>google-api-client-1.32.1.jar</code> Have you tried updating to that?</p>\n<p><a href=\"https://search.maven.org/artifact/com.google.api-client/google-api-client/1.32.1/jar\" rel=\"nofollow noreferrer\">Google APIs Client Library for Java</a></p>\n"}],"owner":{"account_id":18686986,"reputation":45,"user_id":13622252,"display_name":"Saurabh Kohade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4318,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1633095839,"creation_date":1633084095,"question_id":69404371,"body_markdown":"I am trying to execute this google&#39;s directory api to signout users from my application. \r\nwhich is a POST call \r\n\r\n    POST https://admin.googleapis.com/admin/directory/v1/users/{userKey}/signOut\r\n\r\nwhere userkey needs to be userEmail.\r\n\r\n```private com.google.api.services.directory.Directory m_directoryService = null;\r\n\tprivate String m_strGoogleAdmin = null;\r\n\r\n\tpublic void TestSignout(String domain, String adminEmail, String p_strServiceAccountEmail,\r\n\t\t\tString p_strServiceAccountPkcs12FilePath, Boolean isAllScopes) {\r\n\t\tCollection&lt;String&gt; SCOPES = new ArrayList&lt;String&gt;();\r\n\r\n\t\tSCOPES = getScopes(isAllScopes);\r\n\r\n\t\tString pstr_AdminEmail = null;\r\n\t\tConfiguration configObj = new GLoginManager(domain).getConfiguration();\r\n\t\tif (configObj != null &amp;&amp; (configObj.getAdminEmail() != null &amp;&amp; !(configObj.getAdminEmail().isEmpty()))) {\r\n\t\t\tpstr_AdminEmail = configObj.getAdminEmail();\r\n\t\t} else {\r\n\t\t\tpstr_AdminEmail = adminEmail;\r\n\t\t}\r\n\r\n\t\tHttpTransport httpTransport = new NetHttpTransport();\r\n\t\t\r\n\t\tJacksonFactory jsonFactory = new JacksonFactory();\r\n\r\n\t\tGoogleCredential credential = null;\r\n\t\ttry {\r\n\t\t\tcredential = new GoogleCredential.Builder().setTransport(httpTransport).setJsonFactory(jsonFactory)\r\n\t\t\t\t\t.setServiceAccountId(p_strServiceAccountEmail).setServiceAccountScopes(SCOPES)\r\n\t\t\t\t\t.setServiceAccountUser(pstr_AdminEmail) // adminEmail\r\n\t\t\t\t\t.setServiceAccountPrivateKeyFromP12File(new java.io.File(p_strServiceAccountPkcs12FilePath))\r\n\t\t\t\t\t.build();\r\n\t\t\tm_directoryService = new com.google.api.services.directory.Directory.Builder(httpTransport, jsonFactory, credential)\r\n\t\t\t\t\t.setApplicationName(&quot;Directory &quot;).build();//\r\n\t\t\tm_strGoogleAdmin = pstr_AdminEmail; // adminEmail\r\n\t\t} catch (Exception e) {\r\n\t\t\tErrorHandler.errorHandler(this.getClass().getName(), e);\r\n\t\t}\r\n\t}\r\nprivate Collection&lt;String&gt; getScopes(Boolean isAllScopes) {\r\n\r\n\t\tCollection&lt;String&gt; SCOPES = new ArrayList&lt;String&gt;()\r\n\r\n\t\tSCOPES.add(&quot;https://www.googleapis.com/auth/admin.directory.user&quot;);\r\n\t\tSCOPES.add(&quot;https://www.googleapis.com/auth/admin.directory.orgunit&quot;);\r\n\t\tSCOPES.add(&quot;https://www.googleapis.com/auth/admin.directory.group&quot;);\r\n\t\tSCOPES.add(&quot;https://www.googleapis.com/auth/admin.directory.user.security&quot;);\r\n\t\treturn SCOPES;\r\n\t}\r\n```\r\n\r\n\r\nI think I have issue with my jar in my application may be conflicting \r\n\r\n- google-api-services-admin-directory-directory_v1-rev72-1.22.0 \r\n- google-api-services-admin-directory-directory_v1-rev20210720-1.32.1\r\n\r\n\r\nCan anyone just suggest how can i configure the issue i am getting to build the directory\r\n\r\n```5:42:37.418 IST\r\ncom.google.apphosting.runtime.jetty9.JettyLogger warn: Error for /TestServletSignout (JettyLogger.java:30)\r\njava.lang.ExceptionInInitializerError\r\n\tat com.google.api.services.directory.Directory$Builder.build(Directory.java:18690)\r\n\tat com.cloudcodes.gcontrol.backends.TestServletSignout.TestSignout(TestServletSignout.java:60)\r\n\tat com.cloudcodes.gcontrol.backends.TestServletSignout.doGet(TestServletSignout.java:71)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:848)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1780)\r\n\tat com.google.apphosting.utils.servlet.JdbcMySqlConnectionCleanupFilter.doFilter(JdbcMySqlConnectionCleanupFilter.java:60)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1767)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:583)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:524)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\r\n\tat com.google.apphosting.runtime.jetty9.ParseBlobUploadHandler.handle(ParseBlobUploadHandler.java:111)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1182)\r\n\tat com.google.apphosting.runtime.jetty9.AppEngineWebAppContext.doHandle(AppEngineWebAppContext.java:187)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:513)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat com.google.apphosting.runtime.jetty9.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:293)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:539)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:333)\r\n\tat com.google.apphosting.runtime.jetty9.RpcConnection.handle(RpcConnection.java:216)\r\n\tat com.google.apphosting.runtime.jetty9.RpcConnector.serviceRequest(RpcConnector.java:81)\r\n\tat com.google.apphosting.runtime.jetty9.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:134)\r\n\tat com.google.apphosting.runtime.RequestRunner.dispatchServletRequest(RequestRunner.java:250)\r\n\tat com.google.apphosting.runtime.RequestRunner.dispatchRequest(RequestRunner.java:215)\r\n\tat com.google.apphosting.runtime.RequestRunner.run(RequestRunner.java:180)\r\n\tat com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:260)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.IllegalStateException: You are currently running with version 1.23.0 of google-api-client. You need at least version 1.31.1 of google-api-client to run version 1.32.1 of the Admin SDK API library.\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:200)\r\n\tat com.google.api.client.util.Preconditions.checkState(Preconditions.java:113)\r\n\tat com.google.api.services.directory.Directory.&lt;clinit&gt;(Directory.java:44)\r\n\t... 34 more```\r\n\r\nAnyone please help me with this?????","title":"What is the corect version of google-api-client for use with Admin SDK API?","body":"<p>I am trying to execute this google's directory api to signout users from my application.\nwhich is a POST call</p>\n<pre><code>POST https://admin.googleapis.com/admin/directory/v1/users/{userKey}/signOut\n</code></pre>\n<p>where userkey needs to be userEmail.</p>\n<pre><code>    private String m_strGoogleAdmin = null;\n\n    public void TestSignout(String domain, String adminEmail, String p_strServiceAccountEmail,\n            String p_strServiceAccountPkcs12FilePath, Boolean isAllScopes) {\n        Collection&lt;String&gt; SCOPES = new ArrayList&lt;String&gt;();\n\n        SCOPES = getScopes(isAllScopes);\n\n        String pstr_AdminEmail = null;\n        Configuration configObj = new GLoginManager(domain).getConfiguration();\n        if (configObj != null &amp;&amp; (configObj.getAdminEmail() != null &amp;&amp; !(configObj.getAdminEmail().isEmpty()))) {\n            pstr_AdminEmail = configObj.getAdminEmail();\n        } else {\n            pstr_AdminEmail = adminEmail;\n        }\n\n        HttpTransport httpTransport = new NetHttpTransport();\n        \n        JacksonFactory jsonFactory = new JacksonFactory();\n\n        GoogleCredential credential = null;\n        try {\n            credential = new GoogleCredential.Builder().setTransport(httpTransport).setJsonFactory(jsonFactory)\n                    .setServiceAccountId(p_strServiceAccountEmail).setServiceAccountScopes(SCOPES)\n                    .setServiceAccountUser(pstr_AdminEmail) // adminEmail\n                    .setServiceAccountPrivateKeyFromP12File(new java.io.File(p_strServiceAccountPkcs12FilePath))\n                    .build();\n            m_directoryService = new com.google.api.services.directory.Directory.Builder(httpTransport, jsonFactory, credential)\n                    .setApplicationName(&quot;Directory &quot;).build();//\n            m_strGoogleAdmin = pstr_AdminEmail; // adminEmail\n        } catch (Exception e) {\n            ErrorHandler.errorHandler(this.getClass().getName(), e);\n        }\n    }\nprivate Collection&lt;String&gt; getScopes(Boolean isAllScopes) {\n\n        Collection&lt;String&gt; SCOPES = new ArrayList&lt;String&gt;()\n\n        SCOPES.add(&quot;https://www.googleapis.com/auth/admin.directory.user&quot;);\n        SCOPES.add(&quot;https://www.googleapis.com/auth/admin.directory.orgunit&quot;);\n        SCOPES.add(&quot;https://www.googleapis.com/auth/admin.directory.group&quot;);\n        SCOPES.add(&quot;https://www.googleapis.com/auth/admin.directory.user.security&quot;);\n        return SCOPES;\n    }\n</code></pre>\n<p>I think I have issue with my jar in my application may be conflicting</p>\n<ul>\n<li>google-api-services-admin-directory-directory_v1-rev72-1.22.0</li>\n<li>google-api-services-admin-directory-directory_v1-rev20210720-1.32.1</li>\n</ul>\n<p>Can anyone just suggest how can i configure the issue i am getting to build the directory</p>\n<pre><code>com.google.apphosting.runtime.jetty9.JettyLogger warn: Error for /TestServletSignout (JettyLogger.java:30)\njava.lang.ExceptionInInitializerError\n    at com.google.api.services.directory.Directory$Builder.build(Directory.java:18690)\n    at com.cloudcodes.gcontrol.backends.TestServletSignout.TestSignout(TestServletSignout.java:60)\n    at com.cloudcodes.gcontrol.backends.TestServletSignout.doGet(TestServletSignout.java:71)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:848)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1780)\n    at com.google.apphosting.utils.servlet.JdbcMySqlConnectionCleanupFilter.doFilter(JdbcMySqlConnectionCleanupFilter.java:60)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1767)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:583)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:524)\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\n    at com.google.apphosting.runtime.jetty9.ParseBlobUploadHandler.handle(ParseBlobUploadHandler.java:111)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1182)\n    at com.google.apphosting.runtime.jetty9.AppEngineWebAppContext.doHandle(AppEngineWebAppContext.java:187)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:513)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at com.google.apphosting.runtime.jetty9.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:293)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\n    at org.eclipse.jetty.server.Server.handle(Server.java:539)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:333)\n    at com.google.apphosting.runtime.jetty9.RpcConnection.handle(RpcConnection.java:216)\n    at com.google.apphosting.runtime.jetty9.RpcConnector.serviceRequest(RpcConnector.java:81)\n    at com.google.apphosting.runtime.jetty9.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:134)\n    at com.google.apphosting.runtime.RequestRunner.dispatchServletRequest(RequestRunner.java:250)\n    at com.google.apphosting.runtime.RequestRunner.dispatchRequest(RequestRunner.java:215)\n    at com.google.apphosting.runtime.RequestRunner.run(RequestRunner.java:180)\n    at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:260)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.IllegalStateException: You are currently running with version 1.23.0 of google-api-client. You need at least version 1.31.1 of google-api-client to run version 1.32.1 of the Admin SDK API library.\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:200)\n    at com.google.api.client.util.Preconditions.checkState(Preconditions.java:113)\n    at com.google.api.services.directory.Directory.&lt;clinit&gt;(Directory.java:44)\n    ... 34 more```\n\nAnyone please help me with this?????\n</code></pre>\n"},{"tags":["java","spring-data-jpa","jsonb","postgresql-9.5"],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633092108,"creation_date":1633092108,"answer_id":69406075,"question_id":69405688,"body_markdown":"Try tranform your list into a map that contains all key and values.\r\n\r\n```\r\n\r\n    // get list of object\r\n    var listOfObjectThatSimulatefindByData = new ArrayList&lt;&gt;(\r\n                    List.of(\r\n                        new Object[]{&quot;key1&quot;,&quot;value1&quot;}, // any row in database\r\n                        new Object[]{&quot;key2&quot;,&quot;value2&quot;}  // any row in database\r\n                            )\r\n                    );\r\n\r\n    // collect all list into map\r\n    var mapYouNeed = listOfObjectThatSimulatefindByData.stream()\r\n                                                .collect(\r\n                                                    Collectors.toMap(obj -&gt; obj[0] , obj -&gt; obj[1])\r\n                                                    );\r\n\r\n\r\n    // print\r\n    System.out.println(mapYouNeed);\r\n\r\n\r\n```\r\n\r\nWe will got this output:\r\n\r\n```\r\n{\r\nkey1=value1, \r\nkey2=value2\r\n}\r\n","title":"get values in JSONB by multiple keys PostgreSQL","body":"<p>Try tranform your list into a map that contains all key and values.</p>\n<pre><code>\n    // get list of object\n    var listOfObjectThatSimulatefindByData = new ArrayList&lt;&gt;(\n                    List.of(\n                        new Object[]{&quot;key1&quot;,&quot;value1&quot;}, // any row in database\n                        new Object[]{&quot;key2&quot;,&quot;value2&quot;}  // any row in database\n                            )\n                    );\n\n    // collect all list into map\n    var mapYouNeed = listOfObjectThatSimulatefindByData.stream()\n                                                .collect(\n                                                    Collectors.toMap(obj -&gt; obj[0] , obj -&gt; obj[1])\n                                                    );\n\n\n    // print\n    System.out.println(mapYouNeed);\n\n\n</code></pre>\n<p>We will got this output:</p>\n<pre><code>{\nkey1=value1, \nkey2=value2\n}\n</code></pre>\n"}],"owner":{"account_id":15851944,"reputation":1,"user_id":17050769,"display_name":"Yulia Yulia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633095639,"creation_date":1633090298,"question_id":69405688,"body_markdown":"I have JSONB in the database and I need to get the keys and values that come in the array, the keys can change. \r\n\r\nexample JSONB -   \r\n```\r\n{&quot;key&quot;: &quot;test2&quot;, &quot;key1&quot;: &quot;value&quot;, &quot;key2&quot;: &quot;value1&quot;, &quot;key3&quot;: &quot;value2&quot;, &quot;key4&quot;: &quot;value5&quot;, &quot;name&quot;: &quot;test&quot;}\r\n``` \r\n \r\nI tried to do it\r\n```\r\n    &#39;@Query(value = &quot;SELECT d.key, d.value &quot; +\r\n            &quot; FROM Table table&quot; +\r\n            &quot; JOIN jsonb_each_text(table.data) d ON true &quot; +\r\n            &quot; WHERE table.type = ?1 AND table.time BETWEEN ?2 AND ?3&quot;+\r\n            &quot; AND d.key IN ?4&quot; , nativeQuery = true)\r\n    List&lt;Object&gt;findByData(String type, Long from, Long to, String[] keys);&#39;\r\n```\r\n \r\nand got,\r\n```\r\n    [\r\n    [\r\n        &quot;key&quot;,\r\n        &quot;test2&quot;\r\n    ],\r\n    [\r\n        &quot;key1&quot;,\r\n        &quot;value&quot;\r\n    ],\r\n    [\r\n        &quot;name&quot;,\r\n        &quot;test&quot;\r\n    ]]\r\n```\r\nbut I need\r\n\r\n  ```  \r\n    [{\r\n        &quot;key&quot;:&quot;test2&quot;,\r\n        &quot;key1:&quot;value&quot;,\r\n        &quot;name&quot;:&quot;test&quot;\r\n    }]\r\n```\r\nif you have any ideas please help. Maybe there are ways to change the request?","title":"get values in JSONB by multiple keys PostgreSQL","body":"<p>I have JSONB in the database and I need to get the keys and values that come in the array, the keys can change.</p>\n<p>example JSONB -</p>\n<pre><code>{&quot;key&quot;: &quot;test2&quot;, &quot;key1&quot;: &quot;value&quot;, &quot;key2&quot;: &quot;value1&quot;, &quot;key3&quot;: &quot;value2&quot;, &quot;key4&quot;: &quot;value5&quot;, &quot;name&quot;: &quot;test&quot;}\n</code></pre>\n<p>I tried to do it</p>\n<pre><code>    '@Query(value = &quot;SELECT d.key, d.value &quot; +\n            &quot; FROM Table table&quot; +\n            &quot; JOIN jsonb_each_text(table.data) d ON true &quot; +\n            &quot; WHERE table.type = ?1 AND table.time BETWEEN ?2 AND ?3&quot;+\n            &quot; AND d.key IN ?4&quot; , nativeQuery = true)\n    List&lt;Object&gt;findByData(String type, Long from, Long to, String[] keys);'\n</code></pre>\n<p>and got,</p>\n<pre><code>    [\n    [\n        &quot;key&quot;,\n        &quot;test2&quot;\n    ],\n    [\n        &quot;key1&quot;,\n        &quot;value&quot;\n    ],\n    [\n        &quot;name&quot;,\n        &quot;test&quot;\n    ]]\n</code></pre>\n<p>but I need</p>\n<pre><code>  [{\n      &quot;key&quot;:&quot;test2&quot;,\n      &quot;key1:&quot;value&quot;,\n      &quot;name&quot;:&quot;test&quot;\n  }]\n</code></pre>\n<p>if you have any ideas please help. Maybe there are ways to change the request?</p>\n"},{"tags":["java","firebase","spring-boot","google-cloud-platform","google-cloud-storage"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1633089861,"post_id":69403866,"comment_id":122673842,"body_markdown":"Can you try to add a `fos.flush()` before closing it?","body":"Can you try to add a <code>fos.flush()</code> before closing it?"},{"owner":{"account_id":21284989,"reputation":43,"user_id":15662781,"display_name":"OrganicWheel"},"score":0,"creation_date":1633091664,"post_id":69403866,"comment_id":122674654,"body_markdown":"@guillaume blaquiere I added fos.flush() and it still uploads an empty file.","body":"@guillaume blaquiere I added fos.flush() and it still uploads an empty file."}],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633095456,"creation_date":1633095456,"answer_id":69406830,"question_id":69403866,"body_markdown":"You are only storing the *Google Cloud Storage* file metadata: `BlobInfo`, hence you will end up with a file without any content but still created.\r\n\r\nYou should copy the file content (`byte[]`) to the newly created file using the `Blob` type:\r\n\r\n    @Service\r\n    public class ReviewService {\r\n\r\n      public String saveReview(Review review, MultipartFile file) throws ExecutionException, InterruptedException, IOException {\r\n        BlobInfo blobInfo = storage.create(BlobInfo.newBuilder(BUCKET_NAME, file.getOriginalFilename()).build());\r\n        Blob blob = storage.create(blobInfo, file.getBytes());\r\n        \r\n        System.out.println(blobInfo.getMediaLink());\r\n        Firestore dbFirestore = FirestoreClient.getFirestore();\r\n        ApiFuture&lt;WriteResult&gt; collectionApiFuture = dbFirestore.collection(COLLECTION_NAME).document(review.getName()).set(review);\r\n        return collectionApiFuture.get().getUpdateTime().toString();\r\n      }\r\n    \r\n      // ...\r\n    }","title":"Springboot REST endpoint storing an empty image on Google Cloud Storage","body":"<p>You are only storing the <em>Google Cloud Storage</em> file metadata: <code>BlobInfo</code>, hence you will end up with a file without any content but still created.</p>\n<p>You should copy the file content (<code>byte[]</code>) to the newly created file using the <code>Blob</code> type:</p>\n<pre><code>@Service\npublic class ReviewService {\n\n  public String saveReview(Review review, MultipartFile file) throws ExecutionException, InterruptedException, IOException {\n    BlobInfo blobInfo = storage.create(BlobInfo.newBuilder(BUCKET_NAME, file.getOriginalFilename()).build());\n    Blob blob = storage.create(blobInfo, file.getBytes());\n    \n    System.out.println(blobInfo.getMediaLink());\n    Firestore dbFirestore = FirestoreClient.getFirestore();\n    ApiFuture&lt;WriteResult&gt; collectionApiFuture = dbFirestore.collection(COLLECTION_NAME).document(review.getName()).set(review);\n    return collectionApiFuture.get().getUpdateTime().toString();\n  }\n\n  // ...\n}\n</code></pre>\n"}],"owner":{"account_id":21284989,"reputation":43,"user_id":15662781,"display_name":"OrganicWheel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69406830,"answer_count":1,"score":0,"last_activity_date":1633095456,"creation_date":1633081757,"question_id":69403866,"body_markdown":"I am trying to store an image to Google cloud storage from my REST endpoint. But when i see the image on Google Cloud storage it shows an empty image.\r\n\r\n**My Service class**\r\n\r\n    package com.example.firebase.springbootfirebasedemo.service;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.concurrent.ExecutionException;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import com.example.firebase.springbootfirebasedemo.entity.Review;\r\n    import com.google.api.core.ApiFuture;\r\n    import com.google.cloud.firestore.DocumentReference;\r\n    import com.google.cloud.firestore.DocumentSnapshot;\r\n    import com.google.cloud.firestore.Firestore;\r\n    import com.google.cloud.firestore.WriteResult;\r\n    import com.google.cloud.storage.BlobInfo;\r\n    import com.google.cloud.storage.Storage;\r\n    import com.google.firebase.cloud.FirestoreClient;\r\n    \r\n    @Service\r\n    public class ReviewService {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate Storage storage;\r\n    \r\n        private static final String COLLECTION_NAME =&quot;Reviews&quot;;\r\n        private static final String BUCKET_NAME = &quot;gcpfirebase&quot;;\r\n    \r\n        public String saveReview(Review review, MultipartFile file) throws ExecutionException, InterruptedException, IOException {\r\n        \t\r\n        \tFile convFile = new File( file.getOriginalFilename() );\r\n            FileOutputStream fos = new FileOutputStream( convFile );\r\n            fos.write( file.getBytes());\r\n            fos.close();\r\n            BlobInfo blobInfo = storage.create(BlobInfo.newBuilder(BUCKET_NAME, file.getOriginalFilename()).build());\r\n            System.out.println(blobInfo.getMediaLink());\r\n            \r\n    //                                                                .build()\r\n    //                     file.openStream() \r\n            \r\n    \r\n           Firestore dbFirestore= FirestoreClient.getFirestore();\r\n    \r\n           ApiFuture&lt;WriteResult&gt; collectionApiFuture=dbFirestore.collection(COLLECTION_NAME).document(review.getName()).set(review);\r\n    \r\n           return collectionApiFuture.get().getUpdateTime().toString();\r\n    \r\n        }\r\n    \r\n        public Review getReviewDetailsByname(String name) throws ExecutionException, InterruptedException {\r\n    \r\n            Firestore dbFirestore= FirestoreClient.getFirestore();\r\n    \r\n            DocumentReference documentReference=dbFirestore.collection(COLLECTION_NAME).document(name);\r\n    \r\n            ApiFuture&lt;DocumentSnapshot&gt; future=documentReference.get();\r\n    \r\n            DocumentSnapshot document=future.get();\r\n    \r\n            Review review=null;\r\n            if(document.exists()) {\r\n             review = document.toObject(Review.class);\r\n           return  review;\r\n            }else{\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public List&lt;Review&gt; getAllReviews() throws ExecutionException, InterruptedException {\r\n    \r\n            Firestore dbFirestore= FirestoreClient.getFirestore();\r\n    \r\n            Iterable&lt;DocumentReference&gt; documentReference=dbFirestore.collection(COLLECTION_NAME).listDocuments();\r\n            Iterator&lt;DocumentReference&gt; iterator=documentReference.iterator();\r\n    \r\n            List&lt;Review&gt; reviewList=new ArrayList&lt;&gt;();\r\n            Review review=null;\r\n    \r\n            while(iterator.hasNext()){\r\n                DocumentReference documentReference1=iterator.next();\r\n               ApiFuture&lt;DocumentSnapshot&gt; future= documentReference1.get();\r\n               DocumentSnapshot document=future.get();\r\n    \r\n                review=document.toObject(Review.class);\r\n               reviewList.add(review);\r\n    \r\n            }\r\n            return reviewList;\r\n        }\r\n    \r\n    \r\n        public String updateReview(Review review) throws ExecutionException, InterruptedException {\r\n    \r\n            Firestore dbFirestore= FirestoreClient.getFirestore();\r\n    \r\n            ApiFuture&lt;WriteResult&gt; collectionApiFuture=dbFirestore.collection(COLLECTION_NAME).document(review.getName()).set(review);\r\n    \r\n            return collectionApiFuture.get().getUpdateTime().toString();\r\n    \r\n        }\r\n    \r\n        public String deleteReview(String name) throws ExecutionException, InterruptedException {\r\n    \r\n            Firestore dbFirestore= FirestoreClient.getFirestore();\r\n    \r\n            ApiFuture&lt;WriteResult&gt; collectionApiFuture=dbFirestore.collection(COLLECTION_NAME).document(name).delete();\r\n    \r\n            return &quot;Document with Review ID &quot;+name+&quot; has been deleted successfully&quot;;\r\n    \r\n        }\r\n    }\r\n\r\n**My Controller class**\r\n\r\n    package com.example.firebase.springbootfirebasedemo.controller;\r\n    \r\n    import com.example.firebase.springbootfirebasedemo.entity.Review;\r\n    import com.example.firebase.springbootfirebasedemo.service.ReviewService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.concurrent.ExecutionException;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class ReviewController {\r\n    \r\n        @Autowired\r\n        private ReviewService reviewService;\r\n    \r\n        @PostMapping(path = &quot;/reviews&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\r\n        public String saveReview(@ModelAttribute Review review, @RequestParam(value = &quot;file&quot;,required = false) MultipartFile file) \r\n        \t\tthrows ExecutionException, InterruptedException,IOException  {\r\n    \r\n            return reviewService.saveReview(review, file);\r\n        }\r\n    \r\n        @GetMapping(&quot;/reviews/{name}&quot;)\r\n        public Review getReview(@PathVariable String name) throws ExecutionException, InterruptedException {\r\n    \r\n            return reviewService.getReviewDetailsByname(name);\r\n        }\r\n    \r\n        @GetMapping(&quot;/reviews&quot;)\r\n        public List&lt;Review&gt; getAllReviews() throws ExecutionException, InterruptedException {\r\n    \r\n            return reviewService.getAllReviews();\r\n        }\r\n    \r\n    \r\n        @PutMapping(&quot;/reviews&quot;)\r\n        public String updateReview(@RequestBody Review review) throws ExecutionException, InterruptedException {\r\n    \r\n            return reviewService.updateReview(review);\r\n        }\r\n    \r\n    \r\n        @DeleteMapping(&quot;/reviews/{name}&quot;)\r\n        public String deleteReview(@PathVariable String name) throws ExecutionException, InterruptedException {\r\n    \r\n            return reviewService.deleteReview(name);\r\n        }\r\n    }\r\n\r\nUsing the above code I was able to save the image with a image name on Google Cloud Storage, but the image is empty.The size of the file is also showing zero bytes.Please help.Thank you.\r\n\r\n\r\n","title":"Springboot REST endpoint storing an empty image on Google Cloud Storage","body":"<p>I am trying to store an image to Google cloud storage from my REST endpoint. But when i see the image on Google Cloud storage it shows an empty image.</p>\n<p><strong>My Service class</strong></p>\n<pre><code>package com.example.firebase.springbootfirebasedemo.service;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport com.example.firebase.springbootfirebasedemo.entity.Review;\nimport com.google.api.core.ApiFuture;\nimport com.google.cloud.firestore.DocumentReference;\nimport com.google.cloud.firestore.DocumentSnapshot;\nimport com.google.cloud.firestore.Firestore;\nimport com.google.cloud.firestore.WriteResult;\nimport com.google.cloud.storage.BlobInfo;\nimport com.google.cloud.storage.Storage;\nimport com.google.firebase.cloud.FirestoreClient;\n\n@Service\npublic class ReviewService {\n    \n    @Autowired\n    private Storage storage;\n\n    private static final String COLLECTION_NAME =&quot;Reviews&quot;;\n    private static final String BUCKET_NAME = &quot;gcpfirebase&quot;;\n\n    public String saveReview(Review review, MultipartFile file) throws ExecutionException, InterruptedException, IOException {\n        \n        File convFile = new File( file.getOriginalFilename() );\n        FileOutputStream fos = new FileOutputStream( convFile );\n        fos.write( file.getBytes());\n        fos.close();\n        BlobInfo blobInfo = storage.create(BlobInfo.newBuilder(BUCKET_NAME, file.getOriginalFilename()).build());\n        System.out.println(blobInfo.getMediaLink());\n        \n//                                                                .build()\n//                     file.openStream() \n        \n\n       Firestore dbFirestore= FirestoreClient.getFirestore();\n\n       ApiFuture&lt;WriteResult&gt; collectionApiFuture=dbFirestore.collection(COLLECTION_NAME).document(review.getName()).set(review);\n\n       return collectionApiFuture.get().getUpdateTime().toString();\n\n    }\n\n    public Review getReviewDetailsByname(String name) throws ExecutionException, InterruptedException {\n\n        Firestore dbFirestore= FirestoreClient.getFirestore();\n\n        DocumentReference documentReference=dbFirestore.collection(COLLECTION_NAME).document(name);\n\n        ApiFuture&lt;DocumentSnapshot&gt; future=documentReference.get();\n\n        DocumentSnapshot document=future.get();\n\n        Review review=null;\n        if(document.exists()) {\n         review = document.toObject(Review.class);\n       return  review;\n        }else{\n            return null;\n        }\n    }\n\n    public List&lt;Review&gt; getAllReviews() throws ExecutionException, InterruptedException {\n\n        Firestore dbFirestore= FirestoreClient.getFirestore();\n\n        Iterable&lt;DocumentReference&gt; documentReference=dbFirestore.collection(COLLECTION_NAME).listDocuments();\n        Iterator&lt;DocumentReference&gt; iterator=documentReference.iterator();\n\n        List&lt;Review&gt; reviewList=new ArrayList&lt;&gt;();\n        Review review=null;\n\n        while(iterator.hasNext()){\n            DocumentReference documentReference1=iterator.next();\n           ApiFuture&lt;DocumentSnapshot&gt; future= documentReference1.get();\n           DocumentSnapshot document=future.get();\n\n            review=document.toObject(Review.class);\n           reviewList.add(review);\n\n        }\n        return reviewList;\n    }\n\n\n    public String updateReview(Review review) throws ExecutionException, InterruptedException {\n\n        Firestore dbFirestore= FirestoreClient.getFirestore();\n\n        ApiFuture&lt;WriteResult&gt; collectionApiFuture=dbFirestore.collection(COLLECTION_NAME).document(review.getName()).set(review);\n\n        return collectionApiFuture.get().getUpdateTime().toString();\n\n    }\n\n    public String deleteReview(String name) throws ExecutionException, InterruptedException {\n\n        Firestore dbFirestore= FirestoreClient.getFirestore();\n\n        ApiFuture&lt;WriteResult&gt; collectionApiFuture=dbFirestore.collection(COLLECTION_NAME).document(name).delete();\n\n        return &quot;Document with Review ID &quot;+name+&quot; has been deleted successfully&quot;;\n\n    }\n}\n</code></pre>\n<p><strong>My Controller class</strong></p>\n<pre><code>package com.example.firebase.springbootfirebasedemo.controller;\n\nimport com.example.firebase.springbootfirebasedemo.entity.Review;\nimport com.example.firebase.springbootfirebasedemo.service.ReviewService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class ReviewController {\n\n    @Autowired\n    private ReviewService reviewService;\n\n    @PostMapping(path = &quot;/reviews&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\n    public String saveReview(@ModelAttribute Review review, @RequestParam(value = &quot;file&quot;,required = false) MultipartFile file) \n            throws ExecutionException, InterruptedException,IOException  {\n\n        return reviewService.saveReview(review, file);\n    }\n\n    @GetMapping(&quot;/reviews/{name}&quot;)\n    public Review getReview(@PathVariable String name) throws ExecutionException, InterruptedException {\n\n        return reviewService.getReviewDetailsByname(name);\n    }\n\n    @GetMapping(&quot;/reviews&quot;)\n    public List&lt;Review&gt; getAllReviews() throws ExecutionException, InterruptedException {\n\n        return reviewService.getAllReviews();\n    }\n\n\n    @PutMapping(&quot;/reviews&quot;)\n    public String updateReview(@RequestBody Review review) throws ExecutionException, InterruptedException {\n\n        return reviewService.updateReview(review);\n    }\n\n\n    @DeleteMapping(&quot;/reviews/{name}&quot;)\n    public String deleteReview(@PathVariable String name) throws ExecutionException, InterruptedException {\n\n        return reviewService.deleteReview(name);\n    }\n}\n</code></pre>\n<p>Using the above code I was able to save the image with a image name on Google Cloud Storage, but the image is empty.The size of the file is also showing zero bytes.Please help.Thank you.</p>\n"},{"tags":["java","serversocket"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1633095413,"post_id":69406804,"comment_id":122676229,"body_markdown":"No, it&#39;s that `i` can&#39;t be found outside the for loop. The `try/catch` isn&#39;t relevant.","body":"No, it&#39;s that <code>i</code> can&#39;t be found outside the for loop. The <code>try&#47;catch</code> isn&#39;t relevant."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1633095531,"post_id":69406804,"comment_id":122676292,"body_markdown":"What are you even trying to say there? It looks like you&#39;d want to say &quot;All ports in the range start..stop are in use&quot;. Whatever value `i` has after the loop doesn&#39;t seem especially relevant.","body":"What are you even trying to say there? It looks like you&#39;d want to say &quot;All ports in the range start..stop are in use&quot;. Whatever value <code>i</code> has after the loop doesn&#39;t seem especially relevant."}],"owner":{"account_id":21678783,"reputation":13,"user_id":15995308,"display_name":"Sina Aghily"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633095438,"answer_count":0,"score":0,"last_activity_date":1633095346,"creation_date":1633095346,"question_id":69406804,"body_markdown":"    package com.company;\r\n    import java.net.InetAddress;\r\n    import java.net.UnknownHostException;\r\n    import java.net.*;\r\n\r\n    public class Main {\r\n    public static void main ( String [] args ) throws UnknownHostException\r\n    {\r\n\r\n        //Finding Ip\r\n        InetAddress address = InetAddress.getLocalHost();\r\n        String hostIP = address.getHostAddress() ;\r\n        String hostName = address.getHostName();\r\n\r\n\r\n        //Finding Free Port\r\n        int startPortRange=0;\r\n        int stopPortRange=65365;\r\n        for(int i=startPortRange; i &lt;=stopPortRange; i++)\r\n        {\r\n            try\r\n            {\r\n                Socket ServerSok = new Socket(hostIP,i);\r\n                System.out.println(&quot;Port in use: &quot; + i );\r\n                ServerSok.close();\r\n            }\r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        System.out.println(&quot;Port not in use: &quot; + i );\r\n    }\r\n}\r\n\r\n\r\nWhen I run the code it says that variable &quot;i&quot; is not found.  How should I fix this? I had this issue with the ip Finding section and someone helped me fix it with putting throw next to static void but I don&#39;t know how to do it with this one. ","title":"Variable can not be found outside try/catch","body":"<pre><code>package com.company;\nimport java.net.InetAddress;\nimport java.net.UnknownHostException;\nimport java.net.*;\n\npublic class Main {\npublic static void main ( String [] args ) throws UnknownHostException\n{\n\n    //Finding Ip\n    InetAddress address = InetAddress.getLocalHost();\n    String hostIP = address.getHostAddress() ;\n    String hostName = address.getHostName();\n\n\n    //Finding Free Port\n    int startPortRange=0;\n    int stopPortRange=65365;\n    for(int i=startPortRange; i &lt;=stopPortRange; i++)\n    {\n        try\n        {\n            Socket ServerSok = new Socket(hostIP,i);\n            System.out.println(&quot;Port in use: &quot; + i );\n            ServerSok.close();\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    System.out.println(&quot;Port not in use: &quot; + i );\n}\n</code></pre>\n<p>}</p>\n<p>When I run the code it says that variable &quot;i&quot; is not found.  How should I fix this? I had this issue with the ip Finding section and someone helped me fix it with putting throw next to static void but I don't know how to do it with this one.</p>\n"},{"tags":["java","mysql","floating-point"],"comments":[{"owner":{"account_id":113187,"reputation":200947,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1633095230,"post_id":69406694,"comment_id":122676133,"body_markdown":"I do not work with MySQL, but you should be aware that the exponent and significand of a floating-point representation are different from the bit-fields that are used to encode them. The mathematical significand consists of bits from the primary significand field plus one more derived from the primary exponent field, and the mathematical exponent comes from the exponent field minus a bias. Which you should use depends on your actual end goal—it is not likely your end-goal really is “to be able to extract the exponent and the significand.” What do you want to do with them?…","body":"I do not work with MySQL, but you should be aware that the exponent and significand of a floating-point representation are different from the bit-fields that are used to encode them. The mathematical significand consists of bits from the primary significand field plus one more derived from the primary exponent field, and the mathematical exponent comes from the exponent field minus a bias. Which you should use depends on your actual end goal—it is not likely your end-goal really is “to be able to extract the exponent and the significand.” What do you want to do with them?…"},{"owner":{"account_id":113187,"reputation":200947,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1633095285,"post_id":69406694,"comment_id":122676162,"body_markdown":"… What exponent and significand do you want when the number is subnormal? If are doing something mathematical with these values, you want the normalized significand and correspondingly adjusted exponent. If you are manipulating the encoding in some way, you may want the unnormalized significand.","body":"… What exponent and significand do you want when the number is subnormal? If are doing something mathematical with these values, you want the normalized significand and correspondingly adjusted exponent. If you are manipulating the encoding in some way, you may want the unnormalized significand."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1633095444,"post_id":69406694,"comment_id":122676251,"body_markdown":"How about `select HEX(-58.725) from dual`. Gives me 0xFFFFFFFFFFFFFFC5 (18446744073709551557)","body":"How about <code>select HEX(-58.725) from dual</code>. Gives me 0xFFFFFFFFFFFFFFC5 (18446744073709551557)"},{"owner":{"account_id":16073565,"reputation":372,"user_id":11601362,"display_name":"keesjanbertus"},"score":0,"creation_date":1633095480,"post_id":69406694,"comment_id":122676267,"body_markdown":"@g00se Which is the value I do NOT want. :)","body":"@g00se Which is the value I do NOT want. :)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1633095617,"post_id":69406694,"comment_id":122676335,"body_markdown":"Right. You&#39;re probably going to have to write a function in mysql then","body":"Right. You&#39;re probably going to have to write a function in mysql then"},{"owner":{"account_id":16073565,"reputation":372,"user_id":11601362,"display_name":"keesjanbertus"},"score":0,"creation_date":1633095738,"post_id":69406694,"comment_id":122676378,"body_markdown":"@EricPostpischil For data migration purposes I&#39;m trying to imitate the rounding behaviour of `new BigDecimal(58.725).setScale(2, RoundingMode.HALF_EVEN).doubleValue()` which returns 58.73 in stead of the correct: 58.72, which is returned by `BigDecimal.valueOf(58.725).setScale(2, RoundingMode.HALF_EVEN).doubleValue()`. Even though 58.73 might not be the correct rounding, it is still the value I want.","body":"@EricPostpischil For data migration purposes I&#39;m trying to imitate the rounding behaviour of <code>new BigDecimal(58.725).setScale(2, RoundingMode.HALF_EVEN).doubleValue()</code> which returns 58.73 in stead of the correct: 58.72, which is returned by <code>BigDecimal.valueOf(58.725).setScale(2, RoundingMode.HALF_EVEN).doubleValue()</code>. Even though 58.73 might not be the correct rounding, it is still the value I want."},{"owner":{"account_id":16073565,"reputation":372,"user_id":11601362,"display_name":"keesjanbertus"},"score":0,"creation_date":1633096583,"post_id":69406694,"comment_id":122676716,"body_markdown":"@EricPostpischil Basically i want the floating-point value of a double value. That means `-58.725 == -58.7250000000000014210854...` and round this up in &quot;HALF_EVEN&quot;/bankers rounding . So it becomes: -58.73","body":"@EricPostpischil Basically i want the floating-point value of a double value. That means <code>-58.725 == -58.7250000000000014210854...</code> and round this up in &quot;HALF_EVEN&quot;/bankers rounding . So it becomes: -58.73"}],"owner":{"account_id":16073565,"reputation":372,"user_id":11601362,"display_name":"keesjanbertus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633094870,"creation_date":1633094870,"question_id":69406694,"body_markdown":"Suppose number: `-58.725`. When calling `Double.doubleToLongBits(-58.725)` it returns: `-4589910410541609779`. How can i get the same result in MySQL?\r\n\r\nI have tried: `CONV(CONV(-58.725, 10, 2), 2, 10)` which returns: `18446744073709551558`\r\n\r\nOr: `CAST(CONV(CONV(-58.725, 10, 2), 2, 10) as signed)` which returns `-58`.\r\n\r\nThe end-goal is to be able to extract the exponent and the significand of `-58.725` and others in MySQL. I believe I need the integer value of the IEEE 754 bit representation of any given double/float, to put it in other words.","title":"Java&#39;s Double.doubleToLongBits equivalent in MySQL","body":"<p>Suppose number: <code>-58.725</code>. When calling <code>Double.doubleToLongBits(-58.725)</code> it returns: <code>-4589910410541609779</code>. How can i get the same result in MySQL?</p>\n<p>I have tried: <code>CONV(CONV(-58.725, 10, 2), 2, 10)</code> which returns: <code>18446744073709551558</code></p>\n<p>Or: <code>CAST(CONV(CONV(-58.725, 10, 2), 2, 10) as signed)</code> which returns <code>-58</code>.</p>\n<p>The end-goal is to be able to extract the exponent and the significand of <code>-58.725</code> and others in MySQL. I believe I need the integer value of the IEEE 754 bit representation of any given double/float, to put it in other words.</p>\n"},{"tags":["java","android","android-adapter","android-viewpager2"],"comments":[{"owner":{"account_id":10289374,"reputation":475,"user_id":7591554,"display_name":"Du.Fantasy"},"score":1,"creation_date":1618300648,"post_id":67070727,"comment_id":118553338,"body_markdown":"You need to extend to FragmentPagerAdapter for ViewPager2.  https://developer.android.com/training/animation/screen-slide-2","body":"You need to extend to FragmentPagerAdapter for ViewPager2.  <a href=\"https://developer.android.com/training/animation/screen-slide-2\" rel=\"nofollow noreferrer\">developer.android.com/training/animation/screen-slide-2</a>"},{"owner":{"account_id":1477200,"reputation":281,"user_id":1387323,"display_name":"ahuja007"},"score":0,"creation_date":1618300733,"post_id":67070727,"comment_id":118553378,"body_markdown":"You can use this example to implement welcome pages. \nhttps://www.androidhive.info/2020/01/viewpager2-pager-transformations-intro-slider-pager-animations-pager-transformations/","body":"You can use this example to implement welcome pages.  <a href=\"https://www.androidhive.info/2020/01/viewpager2-pager-transformations-intro-slider-pager-animations-pager-transformations/\" rel=\"nofollow noreferrer\">androidhive.info/2020/01/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633094790,"creation_date":1618300454,"answer_id":67070796,"question_id":67070727,"body_markdown":"`ViewPager2` uses the `RecyclerView.Adapter` to provide its content. So you can either use the old `ViewPager` with your current adapter (which I wouldn&#39;t recommend) or migrate to the new one.\r\n\r\nThey actually provide a comprehensive [migration guide](https://developer.android.com/training/animation/vp2-migration) so I would recommend taking a look at that, especially if you&#39;ve never used a `RecyclerView` before.","title":"Using a Pager adapter with ViewPager2","body":"<p><code>ViewPager2</code> uses the <code>RecyclerView.Adapter</code> to provide its content. So you can either use the old <code>ViewPager</code> with your current adapter (which I wouldn't recommend) or migrate to the new one.</p>\n<p>They actually provide a comprehensive <a href=\"https://developer.android.com/training/animation/vp2-migration\" rel=\"nofollow noreferrer\">migration guide</a> so I would recommend taking a look at that, especially if you've never used a <code>RecyclerView</code> before.</p>\n"}],"owner":{"account_id":18515505,"reputation":33,"user_id":13489732,"display_name":"nodedata"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3225,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1633094790,"creation_date":1618300145,"question_id":67070727,"body_markdown":"I am trying to create a welcome slider but there is a problem when calling `slideView.setAdapter(sliderAdapter);`. There is an error saying\r\n\r\n&gt; required type adapter, provided SliderAdapter\r\n\r\nI am using `ViewPager2` and I was using the old `ViewPager` adapter. Is that a problem?\r\n\r\n    package com.example.leblood;\r\n    \r\n    import android.content.Context;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.constraintlayout.widget.ConstraintLayout;\r\n    import androidx.viewpager.widget.PagerAdapter;\r\n    \r\n    public class SliderAdapter extends PagerAdapter {\r\n\r\n    Context context;\r\n    LayoutInflater layoutInflater;\r\n\r\n    public SliderAdapter(Context context){\r\n        this.context = context;\r\n    }\r\n\r\n    public int[] slide_images = {\r\n\r\n            R.drawable.donat,\r\n            R.drawable.request,\r\n            R.drawable.bloodmap\r\n\r\n    };\r\n\r\n    public String[] slide_heading = {\r\n\r\n      &quot;Donate Blood&quot;,\r\n      &quot;Request Blood&quot;,\r\n      &quot;Track Requests&quot;\r\n\r\n    };\r\n\r\n    public String[] slide_desc = {\r\n\r\n            &quot;You can donate at any time just by filling the form&quot;,\r\n            &quot;Request any type of blood anywhere in Lebanon&quot;,\r\n            &quot;Track blood requests, donation centers and pinpoint their location&quot;\r\n\r\n    };\r\n\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return slide_heading.length;\r\n    }\r\n\r\n    @Override\r\n    public boolean isViewFromObject(View view,  Object object) {\r\n        return view == object;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public Object instantiateItem(ViewGroup container, int position) {\r\n        layoutInflater = (LayoutInflater) context.getSystemService(context.LAYOUT_INFLATER_SERVICE);\r\n        View view = layoutInflater.inflate(R.layout.slider, container, false);\r\n\r\n        ImageView slideImageView = (ImageView) view.findViewById(R.id.slide_image);\r\n        TextView slideHeading = (TextView) view.findViewById(R.id.slide_heading);\r\n        TextView slideDescription = (TextView) view.findViewById(R.id.slide_desc);\r\n\r\n        slideImageView.setImageResource(slide_images[position]);\r\n        slideHeading.setText(slide_heading[position]);\r\n        slideDescription.setText(slide_desc[position]);\r\n\r\n        container.addView(view);\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void destroyItem( ViewGroup container, int position,  Object object) {\r\n        container.removeView((ConstraintLayout)object);\r\n    }\r\n    }\r\n\r\n```\r\npackage com.example.leblood;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.LinearLayout;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private ViewPager2 slideView;\r\n    private LinearLayout dots;\r\n    private SliderAdapter sliderAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        slideView = findViewById(R.id.SlideviewPager);\r\n        dots = (LinearLayout) findViewById(R.id.dots);\r\n\r\n        sliderAdapter = new SliderAdapter(MainActivity.this);\r\n        slideView.setAdapter(**sliderAdapter**);\r\n    }\r\n}\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/dots&quot;\r\n        android:layout_width=&quot;80dp&quot;\r\n        android:layout_height=&quot;77dp&quot;\r\n        android:layout_marginTop=&quot;6dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/SlideviewPager&quot;&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/SlideviewPager&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;779dp&quot;\r\n        tools:ignore=&quot;MissingConstraints&quot;&gt;\r\n\r\n    &lt;/androidx.viewpager2.widget.ViewPager2&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"Using a Pager adapter with ViewPager2","body":"<p>I am trying to create a welcome slider but there is a problem when calling <code>slideView.setAdapter(sliderAdapter);</code>. There is an error saying</p>\n<blockquote>\n<p>required type adapter, provided SliderAdapter</p>\n</blockquote>\n<p>I am using <code>ViewPager2</code> and I was using the old <code>ViewPager</code> adapter. Is that a problem?</p>\n<pre><code>package com.example.leblood;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.constraintlayout.widget.ConstraintLayout;\nimport androidx.viewpager.widget.PagerAdapter;\n\npublic class SliderAdapter extends PagerAdapter {\n\nContext context;\nLayoutInflater layoutInflater;\n\npublic SliderAdapter(Context context){\n    this.context = context;\n}\n\npublic int[] slide_images = {\n\n        R.drawable.donat,\n        R.drawable.request,\n        R.drawable.bloodmap\n\n};\n\npublic String[] slide_heading = {\n\n  &quot;Donate Blood&quot;,\n  &quot;Request Blood&quot;,\n  &quot;Track Requests&quot;\n\n};\n\npublic String[] slide_desc = {\n\n        &quot;You can donate at any time just by filling the form&quot;,\n        &quot;Request any type of blood anywhere in Lebanon&quot;,\n        &quot;Track blood requests, donation centers and pinpoint their location&quot;\n\n};\n\n\n@Override\npublic int getCount() {\n    return slide_heading.length;\n}\n\n@Override\npublic boolean isViewFromObject(View view,  Object object) {\n    return view == object;\n}\n\n\n@NonNull\n@Override\npublic Object instantiateItem(ViewGroup container, int position) {\n    layoutInflater = (LayoutInflater) context.getSystemService(context.LAYOUT_INFLATER_SERVICE);\n    View view = layoutInflater.inflate(R.layout.slider, container, false);\n\n    ImageView slideImageView = (ImageView) view.findViewById(R.id.slide_image);\n    TextView slideHeading = (TextView) view.findViewById(R.id.slide_heading);\n    TextView slideDescription = (TextView) view.findViewById(R.id.slide_desc);\n\n    slideImageView.setImageResource(slide_images[position]);\n    slideHeading.setText(slide_heading[position]);\n    slideDescription.setText(slide_desc[position]);\n\n    container.addView(view);\n    return view;\n}\n\n@Override\npublic void destroyItem( ViewGroup container, int position,  Object object) {\n    container.removeView((ConstraintLayout)object);\n}\n}\n</code></pre>\n<pre><code>package com.example.leblood;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.viewpager2.widget.ViewPager2;\n\nimport android.os.Bundle;\nimport android.widget.LinearLayout;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private ViewPager2 slideView;\n    private LinearLayout dots;\n    private SliderAdapter sliderAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        slideView = findViewById(R.id.SlideviewPager);\n        dots = (LinearLayout) findViewById(R.id.dots);\n\n        sliderAdapter = new SliderAdapter(MainActivity.this);\n        slideView.setAdapter(**sliderAdapter**);\n    }\n}\n\n</code></pre>\n\n<pre><code>&lt;LinearLayout\n    android:id=&quot;@+id/dots&quot;\n    android:layout_width=&quot;80dp&quot;\n    android:layout_height=&quot;77dp&quot;\n    android:layout_marginTop=&quot;6dp&quot;\n    android:orientation=&quot;horizontal&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/SlideviewPager&quot;&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;androidx.viewpager2.widget.ViewPager2\n    android:id=&quot;@+id/SlideviewPager&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;779dp&quot;\n    tools:ignore=&quot;MissingConstraints&quot;&gt;\n\n&lt;/androidx.viewpager2.widget.ViewPager2&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","json","jackson","jackson-databind","jackson-annotations"],"answers":[{"tags":[],"owner":{"account_id":4030439,"reputation":647,"user_id":3316764,"display_name":"Franjavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633083337,"creation_date":1633083337,"answer_id":69404209,"question_id":69398548,"body_markdown":"You could use the getters and setters to get that extra customization. The get will act as READ and the set as WRITE. Note that you don&#39;t need the access properties or the field level annotation:\r\n\r\n        public abstract class StandingMixIn {\r\n            @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n            Integer positionNumber;\r\n            \r\n            // No annotation on the field\r\n            String positionText;\r\n    \r\n            @JsonProperty(value = &quot;positionText&quot;)\r\n            public String getPositionText() {\r\n                return positionText;\r\n            }\r\n\r\n            @JsonProperty(value = &quot;position&quot;)\r\n            public void setPositionText(String positionText) {\r\n                this.positionText = positionText;\r\n            }\r\n        }","title":"Different @JsonProperty config for READ and WRITE on same field?","body":"<p>You could use the getters and setters to get that extra customization. The get will act as READ and the set as WRITE. Note that you don't need the access properties or the field level annotation:</p>\n<pre><code>    public abstract class StandingMixIn {\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n        Integer positionNumber;\n        \n        // No annotation on the field\n        String positionText;\n\n        @JsonProperty(value = &quot;positionText&quot;)\n        public String getPositionText() {\n            return positionText;\n        }\n\n        @JsonProperty(value = &quot;position&quot;)\n        public void setPositionText(String positionText) {\n            this.positionText = positionText;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1571224,"reputation":11171,"user_id":1458877,"accept_rate":61,"display_name":"Marcel Overdijk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633094748,"creation_date":1633094748,"answer_id":69406666,"question_id":69398548,"body_markdown":"Thanks @Franjavi, you are indeed right I should use annotations on the getters/setters and not on the field only. I was to focussed on only using the fields as my mix-in classes are written in Groovy with implicit getters/setters.\r\n\r\nI slimmed down the class a bit more to just:\r\n\r\n```\r\n    public abstract class StandingMixIn {\r\n\r\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n        Integer positionNumber;\r\n        \r\n        @JsonProperty(value = &quot;positionText&quot;)\r\n        public abstract String getPositionText();\r\n\r\n        @JsonProperty(value = &quot;position&quot;)\r\n        public abstract void setPositionText(String positionText);\r\n    }\r\n\r\n```\r\n\r\n(removing the `positionText` completely and using abstract methods)","title":"Different @JsonProperty config for READ and WRITE on same field?","body":"<p>Thanks @Franjavi, you are indeed right I should use annotations on the getters/setters and not on the field only. I was to focussed on only using the fields as my mix-in classes are written in Groovy with implicit getters/setters.</p>\n<p>I slimmed down the class a bit more to just:</p>\n<pre><code>    public abstract class StandingMixIn {\n\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n        Integer positionNumber;\n        \n        @JsonProperty(value = &quot;positionText&quot;)\n        public abstract String getPositionText();\n\n        @JsonProperty(value = &quot;position&quot;)\n        public abstract void setPositionText(String positionText);\n    }\n\n</code></pre>\n<p>(removing the <code>positionText</code> completely and using abstract methods)</p>\n"}],"owner":{"account_id":1571224,"reputation":11171,"user_id":1458877,"accept_rate":61,"display_name":"Marcel Overdijk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2804,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69404209,"answer_count":2,"score":2,"last_activity_date":1633094748,"creation_date":1633034029,"question_id":69398548,"body_markdown":"I have a class (which cannot be modified) like\r\n\r\n```\r\npublic class Standing {\r\n\r\n    private Integer positionNumber;\r\n    private String positionText;\r\n    private BigDecimal points;\r\n    ..\r\n}\r\n```\r\n\r\nWhen deserializing I get data like:\r\n\r\n```\r\n{\r\n    &quot;position&quot;: &quot;1&quot;,\r\n    &quot;points&quot;: 10\r\n}\r\n```\r\n\r\nAs I cannot modify the `Standing` class I have a mix-in like:\r\n\r\n```\r\n@JsonDeserialize(converter = StandingSanitizer.class)\r\npublic abstract class StandingMixIn {\r\n\r\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    Integer positionNumber;\r\n\r\n    @JsonProperty(value = &quot;position&quot;, access = JsonProperty.Access.WRITE_ONLY)\r\n    String positionText;\r\n}\r\n```\r\n\r\nAs the received json does not have `positionNumber` and `positionText` fields I use the `@JsonPropery` annotations.\r\n\r\nWith `Access.READ_ONLY` I simply ignore the `positionNumber` field.\r\n\r\nAnd with `@JsonProperty(value = &quot;position&quot;, access = JsonProperty.Access.WRITE_ONLY)` on the `positionText` field I make sure it&#39;s populated with the `position` field from the json during deserialization.\r\n\r\nThis works well during deserialization.\r\n\r\nNote the `StandingSanitizer` sets the `positionNumber`. This as the received `position` value can be non-number values like `DSQ` in which case the `positionNumber` field will be `null`.\r\n\r\nBut when serializing I want to output all 3 fields from the `Standing` class like:\r\n\r\n```\r\n{\r\n    &quot;positionText&quot;: &quot;1&quot;,\r\n    &quot;positionNumber&quot;: 1,\r\n    &quot;points&quot;: 10\r\n}\r\n```\r\n\r\nBut because of `@JsonProperty(value = &quot;position&quot;, access = JsonProperty.Access.WRITE_ONLY)` on the `positionText` field it is not serialized unfortunately.\r\n\r\nIn theory I would like to do have something like:\r\n\r\n```\r\n@JsonDeserialize(converter = StandingSanitizer.class)\r\npublic abstract class StandingMixIn {\r\n\r\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    Integer positionNumber;\r\n\r\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    @JsonProperty(value = &quot;position&quot;, access = JsonProperty.Access.WRITE_ONLY)\r\n    String positionText;\r\n}\r\n```\r\n\r\nwhere I could use different `@JsonProperty` annotation for both READ and WRITE.\r\n\r\nBut this is not possible as duplicate `@JsonProperty` annotations on a field are not allowed; and as far as I could see there is no support for repeatable annotations.\r\n\r\nIs there any other solution to solve this?\r\n\r\nOne thing I can think of is to have 2 `ObjectMapper` instances, with 2 different `StandingMixIns`; 1 for deserializing and 1 for serializing. But I would prefer to keep having 1 `ObjectMapper` instance, so using 2 would be a last resort.","title":"Different @JsonProperty config for READ and WRITE on same field?","body":"<p>I have a class (which cannot be modified) like</p>\n<pre><code>public class Standing {\n\n    private Integer positionNumber;\n    private String positionText;\n    private BigDecimal points;\n    ..\n}\n</code></pre>\n<p>When deserializing I get data like:</p>\n<pre><code>{\n    &quot;position&quot;: &quot;1&quot;,\n    &quot;points&quot;: 10\n}\n</code></pre>\n<p>As I cannot modify the <code>Standing</code> class I have a mix-in like:</p>\n<pre><code>@JsonDeserialize(converter = StandingSanitizer.class)\npublic abstract class StandingMixIn {\n\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    Integer positionNumber;\n\n    @JsonProperty(value = &quot;position&quot;, access = JsonProperty.Access.WRITE_ONLY)\n    String positionText;\n}\n</code></pre>\n<p>As the received json does not have <code>positionNumber</code> and <code>positionText</code> fields I use the <code>@JsonPropery</code> annotations.</p>\n<p>With <code>Access.READ_ONLY</code> I simply ignore the <code>positionNumber</code> field.</p>\n<p>And with <code>@JsonProperty(value = &quot;position&quot;, access = JsonProperty.Access.WRITE_ONLY)</code> on the <code>positionText</code> field I make sure it's populated with the <code>position</code> field from the json during deserialization.</p>\n<p>This works well during deserialization.</p>\n<p>Note the <code>StandingSanitizer</code> sets the <code>positionNumber</code>. This as the received <code>position</code> value can be non-number values like <code>DSQ</code> in which case the <code>positionNumber</code> field will be <code>null</code>.</p>\n<p>But when serializing I want to output all 3 fields from the <code>Standing</code> class like:</p>\n<pre><code>{\n    &quot;positionText&quot;: &quot;1&quot;,\n    &quot;positionNumber&quot;: 1,\n    &quot;points&quot;: 10\n}\n</code></pre>\n<p>But because of <code>@JsonProperty(value = &quot;position&quot;, access = JsonProperty.Access.WRITE_ONLY)</code> on the <code>positionText</code> field it is not serialized unfortunately.</p>\n<p>In theory I would like to do have something like:</p>\n<pre><code>@JsonDeserialize(converter = StandingSanitizer.class)\npublic abstract class StandingMixIn {\n\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    Integer positionNumber;\n\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    @JsonProperty(value = &quot;position&quot;, access = JsonProperty.Access.WRITE_ONLY)\n    String positionText;\n}\n</code></pre>\n<p>where I could use different <code>@JsonProperty</code> annotation for both READ and WRITE.</p>\n<p>But this is not possible as duplicate <code>@JsonProperty</code> annotations on a field are not allowed; and as far as I could see there is no support for repeatable annotations.</p>\n<p>Is there any other solution to solve this?</p>\n<p>One thing I can think of is to have 2 <code>ObjectMapper</code> instances, with 2 different <code>StandingMixIns</code>; 1 for deserializing and 1 for serializing. But I would prefer to keep having 1 <code>ObjectMapper</code> instance, so using 2 would be a last resort.</p>\n"},{"tags":["java","binary-search","treemap"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1633094195,"post_id":69406519,"comment_id":122675683,"body_markdown":"Using `tailMap` is the correct solution. Note that constructing a tail map is a cheap operation, because it&#39;s just a view onto the original data. Think of it a little like an `Iterator`. Or put differently: **why** do you t hink that constructing a `tailMap` is overkill? What performance characteristics do you think it has?","body":"Using <code>tailMap</code> is the correct solution. Note that constructing a tail map is a cheap operation, because it&#39;s just a view onto the original data. Think of it a little like an <code>Iterator</code>. Or put differently: <b>why</b> do you t hink that constructing a <code>tailMap</code> is overkill? What performance characteristics do you think it has?"},{"owner":{"account_id":3594763,"reputation":1131,"user_id":2999856,"accept_rate":92,"display_name":"ChuNan"},"score":0,"creation_date":1633094544,"post_id":69406519,"comment_id":122675816,"body_markdown":"@JoachimSauer I was thinking tailMap is O(n) but we only need O(k) if k &lt;&lt; n (both time and space complexity). However if it&#39;s only a view, it might be different.","body":"@JoachimSauer I was thinking tailMap is O(n) but we only need O(k) if k &lt;&lt; n (both time and space complexity). However if it&#39;s only a view, it might be different."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633094597,"creation_date":1633094597,"answer_id":69406631,"question_id":69406519,"body_markdown":"The error here is thinking that `tailMap` makes a new map. It doesn&#39;t. It gives you a lightweight object that basically just contains a field pointing back to the original map, and the pivot point, that&#39;s all it has. Any changes you make to a `tailMap` map will therefore also affect the underlying map, and any changes made to the underlying map will also affect your tailMap.\r\n\r\n```\r\nfor (KeyType key : treeMap.tailMap(pivot).keySet()) {\r\n}\r\n```\r\n\r\nThe above __IS__ `O(logn)` complexity for the `tailMap` operation, and give that you loop, that adds `K` to the lot, for a grand total of `O(logn+K)` time complexity, and O(1) space complexity, where N is the size of the map and K is the number of keys that end up being on the selected side of the pivot point (so, worst case, `O(nlogn)`).\r\n\r\nIf you want an actual copied-over map, you&#39;d do something like:\r\n\r\n```\r\nTreeMap&lt;KeyType&gt; tm = new TreeMap&lt;KeyType&gt;(original.tailMap(pivot));\r\n```\r\n\r\nNote that this also copies over the used comparator, in case you specified a custom one. That one really is `O(logn + K)` in time complexity (and `O(K)` in space complexity). Of course, if you loop through this code, it&#39;s.. still `O(logn + K)` (because 2K just boils down to K when talking about big-O notation).\r\n","title":"How to iterate from a given key in Java TreeMap","body":"<p>The error here is thinking that <code>tailMap</code> makes a new map. It doesn't. It gives you a lightweight object that basically just contains a field pointing back to the original map, and the pivot point, that's all it has. Any changes you make to a <code>tailMap</code> map will therefore also affect the underlying map, and any changes made to the underlying map will also affect your tailMap.</p>\n<pre><code>for (KeyType key : treeMap.tailMap(pivot).keySet()) {\n}\n</code></pre>\n<p>The above <strong>IS</strong> <code>O(logn)</code> complexity for the <code>tailMap</code> operation, and give that you loop, that adds <code>K</code> to the lot, for a grand total of <code>O(logn+K)</code> time complexity, and O(1) space complexity, where N is the size of the map and K is the number of keys that end up being on the selected side of the pivot point (so, worst case, <code>O(nlogn)</code>).</p>\n<p>If you want an actual copied-over map, you'd do something like:</p>\n<pre><code>TreeMap&lt;KeyType&gt; tm = new TreeMap&lt;KeyType&gt;(original.tailMap(pivot));\n</code></pre>\n<p>Note that this also copies over the used comparator, in case you specified a custom one. That one really is <code>O(logn + K)</code> in time complexity (and <code>O(K)</code> in space complexity). Of course, if you loop through this code, it's.. still <code>O(logn + K)</code> (because 2K just boils down to K when talking about big-O notation).</p>\n"}],"owner":{"account_id":3594763,"reputation":1131,"user_id":2999856,"accept_rate":92,"display_name":"ChuNan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69406631,"answer_count":1,"score":1,"last_activity_date":1633094597,"creation_date":1633094083,"question_id":69406519,"body_markdown":"I have a TreeMap, and want to get a set of K smallest keys (entries) larger than a given value.\r\n\r\nI know we can use `higherKey(givenValue)` get the one key, but then how should I iterate from there? \r\n\r\nOne possible way is to get a `tailMap` from the smallest key larger than the given value, but that&#39;s an overkill if K is small compared with the map size.\r\n\r\nIs there a better way with O(logn + K) time complexity?\r\n\r\n","title":"How to iterate from a given key in Java TreeMap","body":"<p>I have a TreeMap, and want to get a set of K smallest keys (entries) larger than a given value.</p>\n<p>I know we can use <code>higherKey(givenValue)</code> get the one key, but then how should I iterate from there?</p>\n<p>One possible way is to get a <code>tailMap</code> from the smallest key larger than the given value, but that's an overkill if K is small compared with the map size.</p>\n<p>Is there a better way with O(logn + K) time complexity?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1633093492,"post_id":69406324,"comment_id":122675371,"body_markdown":"Does this answer your question? [How to scroll to element with Selenium WebDriver](https://stackoverflow.com/questions/28473710/how-to-scroll-to-element-with-selenium-webdriver)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28473710/how-to-scroll-to-element-with-selenium-webdriver\">How to scroll to element with Selenium WebDriver</a>"}],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633094491,"creation_date":1633093701,"answer_id":69406440,"question_id":69406324,"body_markdown":"to scroll to a specific element in Java-Selenium bindings, we use `JavascriptExecutor` like below. \r\n\r\n\r\n\r\n    ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, ele)\r\n\r\nhere `ele` is a `WebElement` where you want to `scrollIntoview`\r\n\r\nSince you have a list of web elements, `elements` in your case, you could probably use `elements.get(0)` or `elements.get(1)`. \r\n\r\nor best way would be to iterate through the list and have `JavascriptExecutor` in your loop. \r\n\r\nSomething like :\r\n\r\n    for(WebElement ele : elements){\r\n      ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, ele)\r\n      // do some stuff with ele. \r\n    }","title":"How to scroll to an element in java","body":"<p>to scroll to a specific element in Java-Selenium bindings, we use <code>JavascriptExecutor</code> like below.</p>\n<pre><code>((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, ele)\n</code></pre>\n<p>here <code>ele</code> is a <code>WebElement</code> where you want to <code>scrollIntoview</code></p>\n<p>Since you have a list of web elements, <code>elements</code> in your case, you could probably use <code>elements.get(0)</code> or <code>elements.get(1)</code>.</p>\n<p>or best way would be to iterate through the list and have <code>JavascriptExecutor</code> in your loop.</p>\n<p>Something like :</p>\n<pre><code>for(WebElement ele : elements){\n  ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, ele)\n  // do some stuff with ele. \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633094074,"creation_date":1633094074,"answer_id":69406516,"question_id":69406324,"body_markdown":"  \r\nFor `true` it scrolls element to the top and for `false` it scrolls element to the bottom. In below code I am scrolling till last element of the list.\r\n\r\n**Code**:\r\n\r\n      JavascriptExecutor javascriptExecutor = (JavascriptExecutor) driver;\r\n      List&lt;WebElement&gt; optionList = driver.findElements(By.xpath(&quot;xPath to list of elements&quot;));\r\n      int lastElement = (optionList.size() - 1);\r\n      javascriptExecutor.executeScript(&quot;arguments[0].scrollIntoView(false);&quot;,optionList.get(lastElement));\r\n\r\n\r\nIf you want to scroll till specific element then you can pass the element id.\r\n\r\n    javascriptExecutor.executeScript(&quot;arguments[0].scrollIntoView(false);&quot;,optionList.get(3));\r\n\r\n","title":"How to scroll to an element in java","body":"<p>For <code>true</code> it scrolls element to the top and for <code>false</code> it scrolls element to the bottom. In below code I am scrolling till last element of the list.</p>\n<p><strong>Code</strong>:</p>\n<pre><code>  JavascriptExecutor javascriptExecutor = (JavascriptExecutor) driver;\n  List&lt;WebElement&gt; optionList = driver.findElements(By.xpath(&quot;xPath to list of elements&quot;));\n  int lastElement = (optionList.size() - 1);\n  javascriptExecutor.executeScript(&quot;arguments[0].scrollIntoView(false);&quot;,optionList.get(lastElement));\n</code></pre>\n<p>If you want to scroll till specific element then you can pass the element id.</p>\n<pre><code>javascriptExecutor.executeScript(&quot;arguments[0].scrollIntoView(false);&quot;,optionList.get(3));\n</code></pre>\n"}],"owner":{"account_id":969293,"reputation":4036,"user_id":1096892,"accept_rate":72,"display_name":"BruceyBandit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633094491,"creation_date":1633093183,"question_id":69406324,"body_markdown":"I have a question about scrolling to an element. I have this code below where I can filter out how to click an element based on its name:\r\n\r\n    public class LandingPage extends BasePage {\r\n    \r\n      public LandingPage(WebDriver webDriver) {\r\n        super(webDriver);\r\n      }\r\n    \r\n      By cardBody = By.className(&quot;card-body&quot;);\r\n    \r\n      public void clickCard(String cardName) {\r\n        List&lt;WebElement&gt; elements = webDriver.findElements(cardBody);\r\n        click(\r\n            elements.stream()\r\n                .filter(element -&gt; element.getText().equalsIgnoreCase(cardName))\r\n                .collect(Collectors.toList())\r\n                .get(0));\r\n      }\r\n    }\r\n\r\nI want to do a similar thing but instead of clicking on an element, I want to scroll to the element. Does anyone know how to do this?","title":"How to scroll to an element in java","body":"<p>I have a question about scrolling to an element. I have this code below where I can filter out how to click an element based on its name:</p>\n<pre><code>public class LandingPage extends BasePage {\n\n  public LandingPage(WebDriver webDriver) {\n    super(webDriver);\n  }\n\n  By cardBody = By.className(&quot;card-body&quot;);\n\n  public void clickCard(String cardName) {\n    List&lt;WebElement&gt; elements = webDriver.findElements(cardBody);\n    click(\n        elements.stream()\n            .filter(element -&gt; element.getText().equalsIgnoreCase(cardName))\n            .collect(Collectors.toList())\n            .get(0));\n  }\n}\n</code></pre>\n<p>I want to do a similar thing but instead of clicking on an element, I want to scroll to the element. Does anyone know how to do this?</p>\n"},{"tags":["java","selenium","serenity-bdd"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1607444789,"post_id":65200641,"comment_id":115271918,"body_markdown":"Does this [discussion](https://stackoverflow.com/questions/62595459/how-to-upload-a-file-by-transfering-the-file-from-the-local-machine-to-the-remot/62596057#62596057) help you?","body":"Does this <a href=\"https://stackoverflow.com/questions/62595459/how-to-upload-a-file-by-transfering-the-file-from-the-local-machine-to-the-remot/62596057#62596057\">discussion</a> help you?"},{"owner":{"account_id":12666485,"reputation":79,"user_id":9205586,"display_name":"Nikola Jakubiak"},"score":0,"creation_date":1607446530,"post_id":65200641,"comment_id":115272773,"body_markdown":"It is not what I&#39;m looking for, it is solving issue from using files from Local machine to remote, but in my case file is already on remote machine folder, but not visible to me.","body":"It is not what I&#39;m looking for, it is solving issue from using files from Local machine to remote, but in my case file is already on remote machine folder, but not visible to me."}],"owner":{"account_id":12666485,"reputation":79,"user_id":9205586,"display_name":"Nikola Jakubiak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633093619,"creation_date":1607437001,"question_id":65200641,"body_markdown":"Automation framework using Java/Selenium/Serenity and TC agent with Hub/Nodes solution. When we download file, it is visible in node user folder. When we try to check it using:\r\n\r\n    File fileDownloads = new File (System.getProperty(&quot;user.home&quot;))\r\n\r\nBut instead of machine where file was downloaded we see files on TC agent, where the actual framework is build. How to see what is saved on remote nodes?\r\nWe need more than just see it was downloaded (can be done byt checking chrome//downloads tab) but also get that file and check content.\r\n\r\n","title":"How to access folder or file on Remote Machine Selenium","body":"<p>Automation framework using Java/Selenium/Serenity and TC agent with Hub/Nodes solution. When we download file, it is visible in node user folder. When we try to check it using:</p>\n<pre><code>File fileDownloads = new File (System.getProperty(&quot;user.home&quot;))\n</code></pre>\n<p>But instead of machine where file was downloaded we see files on TC agent, where the actual framework is build. How to see what is saved on remote nodes?\nWe need more than just see it was downloaded (can be done byt checking chrome//downloads tab) but also get that file and check content.</p>\n"},{"tags":["java","automated-tests","keycloak","openid-connect","htmlunit"],"comments":[{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1632582116,"post_id":69312399,"comment_id":122534470,"body_markdown":"Please check the log, maybe the button is not visible because of some css.","body":"Please check the log, maybe the button is not visible because of some css."}],"answers":[{"tags":[],"owner":{"account_id":10059533,"reputation":80,"user_id":7439165,"display_name":"Amen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633093338,"creation_date":1633093338,"answer_id":69406359,"question_id":69312399,"body_markdown":"I solved it myself by passing the **correct** user credentials......the password was &quot;admin1&quot;","title":"Automated test for OIDC Login","body":"<p>I solved it myself by passing the <strong>correct</strong> user credentials......the password was &quot;admin1&quot;</p>\n"}],"owner":{"account_id":10059533,"reputation":80,"user_id":7439165,"display_name":"Amen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69406359,"answer_count":1,"score":0,"last_activity_date":1633093338,"creation_date":1632474471,"question_id":69312399,"body_markdown":"I have build an OpenID Connect Login for my java application (without spring). Now I want to have an automated test for the OIDC process. I am using KeyCloak as auth-server.\r\nFor OIDC my test has to login on the keyloak login page by passing the username and password. For this I am using HtmlUnit and a simple http-server for the redirect.\r\n\r\n    // Setup http-server to recieve the code from the redirect    \r\n    HttpServer server = HttpServer.create(new InetSocketAddress(InetAddress.getLocalHost().getHostAddress(), 8001), 0);\r\n        server.createContext(&quot;/oidc_test_callback&quot;, new HttpHandler() {\r\n        \t@Override\r\n        \tpublic void handle(HttpExchange exchange) throws IOException {\r\n        \t\tString url = exchange.getRequestURI().toString();\r\n        \t\tString parameter = &quot;code=&quot;;\r\n        \t\tString codeValue = url.substring(url.indexOf(parameter) + parameter.length());\r\n        \t\t// continue the test with the code\r\n        \t}\r\n        });\r\n        server.setExecutor(null); \r\n        server.start();\r\n        \r\n        // login with the dummy-user on the keyloak loginpage\r\n        String url = ...; // the URL looks like http://keycloak:8080/auth/realms/testRealm/protocol/openid-connect/auth?client_id=myAppName&amp;redirect_uri=http%3A%2F%2F192.168.202.102%3A8001%2Foidc_test_callback&amp;response_type=code&amp;scope=openid+profile&amp;state=7944e52a-467a-4000-874b-ea4991dbeaeb&amp;nonce=somecorrelationnonce&amp;login_hint=&amp;acr_values=\r\n        try (WebClient webClient = new WebClient()) {\r\n        \twebClient.getOptions().setCssEnabled(true);\r\n        \twebClient.getOptions().setRedirectEnabled(true);\r\n        \twebClient.getOptions().setJavaScriptEnabled(true);\r\n        \twebClient.setAjaxController(new NicelyResynchronizingAjaxController());\r\n        \tHtmlPage page = webClient.getPage(url);\r\n\r\n        \tHtmlForm form = (HtmlForm) page.getElementById(&quot;kc-form-login&quot;);\r\n        \tHtmlTextInput inputUsername = form.getInputByName(&quot;username&quot;);\r\n        \tHtmlPasswordInput inputPassword = (HtmlPasswordInput) form.getInputByName(&quot;password&quot;);\r\n        \tinputUsername.type(&quot;admin&quot;);\r\n        \tinputPassword.type(&quot;admin&quot;);\r\n        \tHtmlSubmitInput buttonLogin = (HtmlSubmitInput) form.getInputByName(&quot;login&quot;);\r\n        \tbuttonLogin.click();\r\n        } catch (Exception ex) {\r\n        \tAssertions.fail(ex);\r\n        }\r\n\r\n\r\n**When I run this code the http-server does not recieve anything.** It looks like the login button does not execute properly.\r\n\r\nHere is the html-code from the keycloak login page:\r\n\r\n    &lt;div id=&quot;kc-form&quot;&gt;\r\n      &lt;div id=&quot;kc-form-wrapper&quot;&gt;\r\n            &lt;form id=&quot;kc-form-login&quot; onsubmit=&quot;login.disabled = true; return true;&quot; action=&quot;http://keycloak:8080/auth/realms/testRealm/login-actions/authenticate?session_code=dIFFDFXC9YsXhiR0PLdfOjj-YcV-j_rZWr5DBVkQ8UU&amp;amp;execution=108fb093-287d-4c18-b4a9-10a162e908ca&amp;amp;client_id=UMS_Loginserver&amp;amp;tab_id=tKYHYQvKb70&quot; method=&quot;post&quot;&gt;\r\n                &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;username&quot; class=&quot;pf-c-form__label pf-c-form__label-text&quot;&gt;Username or email&lt;/label&gt;\r\n    \r\n                        &lt;input tabindex=&quot;1&quot; id=&quot;username&quot; class=&quot;pf-c-form-control&quot; name=&quot;username&quot; value=&quot;&quot;  type=&quot;text&quot; autofocus autocomplete=&quot;off&quot;\r\n                               aria-invalid=&quot;&quot;\r\n                        /&gt;\r\n    \r\n                &lt;/div&gt;\r\n    \r\n                &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;password&quot; class=&quot;pf-c-form__label pf-c-form__label-text&quot;&gt;Password&lt;/label&gt;\r\n    \r\n                    &lt;input tabindex=&quot;2&quot; id=&quot;password&quot; class=&quot;pf-c-form-control&quot; name=&quot;password&quot; type=&quot;password&quot; autocomplete=&quot;off&quot;\r\n                           aria-invalid=&quot;&quot;\r\n                    /&gt;\r\n                &lt;/div&gt;\r\n    \r\n                &lt;div class=&quot;form-group login-pf-settings&quot;&gt;\r\n                    &lt;div id=&quot;kc-form-options&quot;&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;&quot;&gt;\r\n                        &lt;/div&gt;\r\n    \r\n                  &lt;/div&gt;\r\n    \r\n                  &lt;div id=&quot;kc-form-buttons&quot; class=&quot;form-group&quot;&gt;\r\n                      &lt;input type=&quot;hidden&quot; id=&quot;id-hidden-input&quot; name=&quot;credentialId&quot; /&gt;\r\n                      &lt;input tabindex=&quot;4&quot; class=&quot;pf-c-button pf-m-primary pf-m-block btn-lg&quot; name=&quot;login&quot; id=&quot;kc-login&quot; type=&quot;submit&quot; value=&quot;Sign In&quot;/&gt;\r\n                  &lt;/div&gt;\r\n            &lt;/form&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;","title":"Automated test for OIDC Login","body":"<p>I have build an OpenID Connect Login for my java application (without spring). Now I want to have an automated test for the OIDC process. I am using KeyCloak as auth-server.\nFor OIDC my test has to login on the keyloak login page by passing the username and password. For this I am using HtmlUnit and a simple http-server for the redirect.</p>\n<pre><code>// Setup http-server to recieve the code from the redirect    \nHttpServer server = HttpServer.create(new InetSocketAddress(InetAddress.getLocalHost().getHostAddress(), 8001), 0);\n    server.createContext(&quot;/oidc_test_callback&quot;, new HttpHandler() {\n        @Override\n        public void handle(HttpExchange exchange) throws IOException {\n            String url = exchange.getRequestURI().toString();\n            String parameter = &quot;code=&quot;;\n            String codeValue = url.substring(url.indexOf(parameter) + parameter.length());\n            // continue the test with the code\n        }\n    });\n    server.setExecutor(null); \n    server.start();\n    \n    // login with the dummy-user on the keyloak loginpage\n    String url = ...; // the URL looks like http://keycloak:8080/auth/realms/testRealm/protocol/openid-connect/auth?client_id=myAppName&amp;redirect_uri=http%3A%2F%2F192.168.202.102%3A8001%2Foidc_test_callback&amp;response_type=code&amp;scope=openid+profile&amp;state=7944e52a-467a-4000-874b-ea4991dbeaeb&amp;nonce=somecorrelationnonce&amp;login_hint=&amp;acr_values=\n    try (WebClient webClient = new WebClient()) {\n        webClient.getOptions().setCssEnabled(true);\n        webClient.getOptions().setRedirectEnabled(true);\n        webClient.getOptions().setJavaScriptEnabled(true);\n        webClient.setAjaxController(new NicelyResynchronizingAjaxController());\n        HtmlPage page = webClient.getPage(url);\n\n        HtmlForm form = (HtmlForm) page.getElementById(&quot;kc-form-login&quot;);\n        HtmlTextInput inputUsername = form.getInputByName(&quot;username&quot;);\n        HtmlPasswordInput inputPassword = (HtmlPasswordInput) form.getInputByName(&quot;password&quot;);\n        inputUsername.type(&quot;admin&quot;);\n        inputPassword.type(&quot;admin&quot;);\n        HtmlSubmitInput buttonLogin = (HtmlSubmitInput) form.getInputByName(&quot;login&quot;);\n        buttonLogin.click();\n    } catch (Exception ex) {\n        Assertions.fail(ex);\n    }\n</code></pre>\n<p><strong>When I run this code the http-server does not recieve anything.</strong> It looks like the login button does not execute properly.</p>\n<p>Here is the html-code from the keycloak login page:</p>\n<pre><code>&lt;div id=&quot;kc-form&quot;&gt;\n  &lt;div id=&quot;kc-form-wrapper&quot;&gt;\n        &lt;form id=&quot;kc-form-login&quot; onsubmit=&quot;login.disabled = true; return true;&quot; action=&quot;http://keycloak:8080/auth/realms/testRealm/login-actions/authenticate?session_code=dIFFDFXC9YsXhiR0PLdfOjj-YcV-j_rZWr5DBVkQ8UU&amp;amp;execution=108fb093-287d-4c18-b4a9-10a162e908ca&amp;amp;client_id=UMS_Loginserver&amp;amp;tab_id=tKYHYQvKb70&quot; method=&quot;post&quot;&gt;\n            &lt;div class=&quot;form-group&quot;&gt;\n                &lt;label for=&quot;username&quot; class=&quot;pf-c-form__label pf-c-form__label-text&quot;&gt;Username or email&lt;/label&gt;\n\n                    &lt;input tabindex=&quot;1&quot; id=&quot;username&quot; class=&quot;pf-c-form-control&quot; name=&quot;username&quot; value=&quot;&quot;  type=&quot;text&quot; autofocus autocomplete=&quot;off&quot;\n                           aria-invalid=&quot;&quot;\n                    /&gt;\n\n            &lt;/div&gt;\n\n            &lt;div class=&quot;form-group&quot;&gt;\n                &lt;label for=&quot;password&quot; class=&quot;pf-c-form__label pf-c-form__label-text&quot;&gt;Password&lt;/label&gt;\n\n                &lt;input tabindex=&quot;2&quot; id=&quot;password&quot; class=&quot;pf-c-form-control&quot; name=&quot;password&quot; type=&quot;password&quot; autocomplete=&quot;off&quot;\n                       aria-invalid=&quot;&quot;\n                /&gt;\n            &lt;/div&gt;\n\n            &lt;div class=&quot;form-group login-pf-settings&quot;&gt;\n                &lt;div id=&quot;kc-form-options&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;&quot;&gt;\n                    &lt;/div&gt;\n\n              &lt;/div&gt;\n\n              &lt;div id=&quot;kc-form-buttons&quot; class=&quot;form-group&quot;&gt;\n                  &lt;input type=&quot;hidden&quot; id=&quot;id-hidden-input&quot; name=&quot;credentialId&quot; /&gt;\n                  &lt;input tabindex=&quot;4&quot; class=&quot;pf-c-button pf-m-primary pf-m-block btn-lg&quot; name=&quot;login&quot; id=&quot;kc-login&quot; type=&quot;submit&quot; value=&quot;Sign In&quot;/&gt;\n              &lt;/div&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1633091175,"post_id":69405843,"comment_id":122674436,"body_markdown":"Simply speaking, you are persisting/merging entity somewhere.","body":"Simply speaking, you are persisting/merging entity somewhere."},{"owner":{"account_id":5713785,"reputation":9,"user_id":4514803,"display_name":"Vaibhav"},"score":0,"creation_date":1633091340,"post_id":69405843,"comment_id":122674518,"body_markdown":"Data is persisted in database from other source. Here I am just trying to read the data using entity. There is no setter called for retrieved entity anywhere in code. All are getters to get the value.","body":"Data is persisted in database from other source. Here I am just trying to read the data using entity. There is no setter called for retrieved entity anywhere in code. All are getters to get the value."},{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":0,"creation_date":1633092091,"post_id":69405843,"comment_id":122674814,"body_markdown":"It may seem impossible, but the overwhelming likelihood is that something, somewhere in your code is mutating the object somehow and that the merge is happening automatically at a transaction boundary. For anyone to look into it any further, you&#39;d have to post the relevant code.","body":"It may seem impossible, but the overwhelming likelihood is that something, somewhere in your code is mutating the object somehow and that the merge is happening automatically at a transaction boundary. For anyone to look into it any further, you&#39;d have to post the relevant code."},{"owner":{"account_id":5713785,"reputation":9,"user_id":4514803,"display_name":"Vaibhav"},"score":0,"creation_date":1633093020,"post_id":69405843,"comment_id":122675190,"body_markdown":"Updated the code which explains the situation.","body":"Updated the code which explains the situation."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1633093224,"post_id":69405843,"comment_id":122675260,"body_markdown":"I still stand my ground saying you are mutating the entity. If you would show me that code of yours in `public static void main` then I could belive you, but here, this code prooves nothing as it is just a slice of bigger pie. It shows that you read your entities, but does not prove you are not modifying it somewhere else.","body":"I still stand my ground saying you are mutating the entity. If you would show me that code of yours in <code>public static void main</code> then I could belive you, but here, this code prooves nothing as it is just a slice of bigger pie. It shows that you read your entities, but does not prove you are not modifying it somewhere else."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1633093264,"post_id":69405843,"comment_id":122675276,"body_markdown":"This isn&#39;t your real code but some dumbed down version. Please provide the actual code (maybe anonimized). So this code doesn&#39;t prove anything nor shows your actual situation. If you want help you have to provide the actual code not the cod eyou think (or want) to have.","body":"This isn&#39;t your real code but some dumbed down version. Please provide the actual code (maybe anonimized). So this code doesn&#39;t prove anything nor shows your actual situation. If you want help you have to provide the actual code not the cod eyou think (or want) to have."}],"owner":{"account_id":5713785,"reputation":9,"user_id":4514803,"display_name":"Vaibhav"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":722,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633093195,"creation_date":1633090992,"question_id":69405843,"body_markdown":"I have requirement to export the data stored in Oracle database using spring boot application.\r\nWe are using **@Version** for maintaining version. When we get the data using entity and export in excel file, versions are automatically incremented by 1.\r\n&lt;br&gt;As per my knowledge when we make any changes in persisted entity then it will increment the version and persist the data. But here we are getting data for read only purpose.\r\nKindly help me trace the issue here.\r\n&lt;br&gt;**Code:**&lt;br&gt;\r\n```           \r\npublic class BaseEntity  implements Serializable{\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@LastModifiedBy\r\n\t@Column(name=&quot;UPDATED_BY&quot;)\r\n\tprivate String updatedBy;\r\n\r\n\t@Version\r\n\t@Column(name=&quot;VERSION_NO&quot;)\r\n\tprivate long versionNo;\r\n\r\n\t@CreatedBy\r\n\t@Column(name=&quot;CREATED_BY&quot;)\r\n\tprivate String createdBy;\r\n\r\n\t@CreatedDate\r\n\t@Column(name=&quot;CREATED_DATE&quot;)\r\n\tprivate LocalDateTime createdDate;\r\n\r\n\t@LastModifiedDate\r\n\t@Column(name=&quot;LAST_UPDATED_DATE&quot;)\r\n\tprivate LocalDateTime lastUpdatedDate;\r\n\t\r\n\t@Column(name=&quot;DELETED&quot;)\r\n\tprivate Integer deleted = 0;\r\n}\r\n```\r\n```\r\n@Entity\r\npublic class ChildEntity extends BaseEntity implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @Column(name = &quot;RECORD_ID&quot;)\r\n    private Long recordId;\r\n\r\n    @Column(name = &quot;DISPLAY_NAME&quot;)\r\n    private String displayName;\r\n\r\n\t//Some other fields\t\r\n}\r\n```\r\n\r\n```\r\npublic class ChildService{\r\n\t\r\n\t//repository initialization\r\n\tpublic void exportData(){\r\n\t\tList&lt;ChildEntiy&gt; list=repository.getChildDetails();\r\n\t\tfor(ChildEntity child:list){\r\n\t\t\tresponseDto=child.getDisplayName();\r\n\t\t\t}\r\n\t}\r\n}\r\n```\r\nAfter this transaction complete below statement is executed.&lt;br&gt;\r\nupdate childEntity set last_updated_date=?, version_no=? where record_id=? and version_no=?\r\n\r\n","title":"Version automatically incrementing after entity read in Spring Boot JPA","body":"<p>I have requirement to export the data stored in Oracle database using spring boot application.\nWe are using <strong>@Version</strong> for maintaining version. When we get the data using entity and export in excel file, versions are automatically incremented by 1.\n<br>As per my knowledge when we make any changes in persisted entity then it will increment the version and persist the data. But here we are getting data for read only purpose.\nKindly help me trace the issue here.\n<br><strong>Code:</strong><br></p>\n<pre><code>public class BaseEntity  implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n\n    @LastModifiedBy\n    @Column(name=&quot;UPDATED_BY&quot;)\n    private String updatedBy;\n\n    @Version\n    @Column(name=&quot;VERSION_NO&quot;)\n    private long versionNo;\n\n    @CreatedBy\n    @Column(name=&quot;CREATED_BY&quot;)\n    private String createdBy;\n\n    @CreatedDate\n    @Column(name=&quot;CREATED_DATE&quot;)\n    private LocalDateTime createdDate;\n\n    @LastModifiedDate\n    @Column(name=&quot;LAST_UPDATED_DATE&quot;)\n    private LocalDateTime lastUpdatedDate;\n    \n    @Column(name=&quot;DELETED&quot;)\n    private Integer deleted = 0;\n}\n</code></pre>\n<pre><code>@Entity\npublic class ChildEntity extends BaseEntity implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = &quot;RECORD_ID&quot;)\n    private Long recordId;\n\n    @Column(name = &quot;DISPLAY_NAME&quot;)\n    private String displayName;\n\n    //Some other fields \n}\n</code></pre>\n<pre><code>public class ChildService{\n    \n    //repository initialization\n    public void exportData(){\n        List&lt;ChildEntiy&gt; list=repository.getChildDetails();\n        for(ChildEntity child:list){\n            responseDto=child.getDisplayName();\n            }\n    }\n}\n</code></pre>\n<p>After this transaction complete below statement is executed.<br>\nupdate childEntity set last_updated_date=?, version_no=? where record_id=? and version_no=?</p>\n"},{"tags":["java","try-catch-finally"],"answers":[{"tags":[],"owner":{"account_id":149235,"reputation":775,"user_id":361571,"display_name":"Jonathan Park"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1280333618,"creation_date":1280332875,"answer_id":3354835,"question_id":3354823,"body_markdown":"In proper coding style you don&#39;t want to do a catch all as below.\r\n\r\n    try{\r\n      [some task] \r\n    }\r\n    catch\r\n    {\r\n    }\r\n\r\nWhat you would want to do is catch specific known errors.\r\n\r\n    try{\r\n      [some task] \r\n    }\r\n    catch(Exception ex)\r\n    {\r\n       if([known execption])\r\n         [ignore]\r\n       else\r\n         throw(ex);\r\n    }\r\n    [Cleanup]\r\n    \r\n\r\nIn this case   your cleanup code will not be run in the case of an error being thrown again.  So we add in the finally which will get run even if a new error is thrown.\r\n\r\n    try{\r\n      [some task] \r\n    }\r\n    catch(Exception ex)\r\n    {\r\n       if([known execption])\r\n         [ignore]\r\n       else\r\n         throw(ex);\r\n    }\r\n    finally\r\n    {\r\n       [Cleanup]\r\n    }","title":"Why use finally","body":"<p>In proper coding style you don't want to do a catch all as below.</p>\n\n<pre><code>try{\n  [some task] \n}\ncatch\n{\n}\n</code></pre>\n\n<p>What you would want to do is catch specific known errors.</p>\n\n<pre><code>try{\n  [some task] \n}\ncatch(Exception ex)\n{\n   if([known execption])\n     [ignore]\n   else\n     throw(ex);\n}\n[Cleanup]\n</code></pre>\n\n<p>In this case   your cleanup code will not be run in the case of an error being thrown again.  So we add in the finally which will get run even if a new error is thrown.</p>\n\n<pre><code>try{\n  [some task] \n}\ncatch(Exception ex)\n{\n   if([known execption])\n     [ignore]\n   else\n     throw(ex);\n}\nfinally\n{\n   [Cleanup]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165118,"reputation":14339,"user_id":388299,"accept_rate":77,"display_name":"YoK"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1489511994,"creation_date":1280332939,"answer_id":3354845,"question_id":3354823,"body_markdown":"`finally` block executes always.\r\n\r\n`finally` block is used for cleanup, like to free resources used within `try`/`catch`, close db connections, close sockets, etc.. even when an unhandled exception occurs within your `try`/`catch` block.\r\n\r\nThe only time the `finally` block doesn&#39;t execute is when`system.exit()` is called in `try`/`catch` or some error occurs instead of an exception.\r\n\r\nThe error in the description above means when Java application exit with conditions like Out Of Memory error. I see some downvotes :( for this reason it seems.","title":"Why use finally","body":"<p><code>finally</code> block executes always.</p>\n\n<p><code>finally</code> block is used for cleanup, like to free resources used within <code>try</code>/<code>catch</code>, close db connections, close sockets, etc.. even when an unhandled exception occurs within your <code>try</code>/<code>catch</code> block.</p>\n\n<p>The only time the <code>finally</code> block doesn't execute is when<code>system.exit()</code> is called in <code>try</code>/<code>catch</code> or some error occurs instead of an exception.</p>\n\n<p>The error in the description above means when Java application exit with conditions like Out Of Memory error. I see some downvotes :( for this reason it seems.</p>\n"},{"tags":[],"owner":{"account_id":71712,"reputation":11000,"user_id":207364,"accept_rate":93,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1280332941,"creation_date":1280332941,"answer_id":3354847,"question_id":3354823,"body_markdown":"The main difference is that the `catch` section might itself throw an exception, break out of a surrounding block, or return from the current method. In that case `do; some; cleanup;` is not executed. \r\n\r\nWith a `finally` block, it is *guaranteed* that that code will be executed.","title":"Why use finally","body":"<p>The main difference is that the <code>catch</code> section might itself throw an exception, break out of a surrounding block, or return from the current method. In that case <code>do; some; cleanup;</code> is not executed. </p>\n\n<p>With a <code>finally</code> block, it is <em>guaranteed</em> that that code will be executed.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1280332973,"creation_date":1280332973,"answer_id":3354853,"question_id":3354823,"body_markdown":"It&#39;s basically a bad idea to catch all exceptions - so you need to consider what will happen if an uncaught exception propagates up out of your try/catch or try/catch/finally block. Finally blocks allow you to clean up on the way out.\r\n\r\nAlso:\r\n\r\n- The catch block might throw an exception\r\n- You may want to return from the try block\r\n\r\nIn short, if you want some code to be executed when you leave the try/catch block *however* you&#39;re leaving it (aside from the process being terminated very hard), finally is your friend.","title":"Why use finally","body":"<p>It's basically a bad idea to catch all exceptions - so you need to consider what will happen if an uncaught exception propagates up out of your try/catch or try/catch/finally block. Finally blocks allow you to clean up on the way out.</p>\n\n<p>Also:</p>\n\n<ul>\n<li>The catch block might throw an exception</li>\n<li>You may want to return from the try block</li>\n</ul>\n\n<p>In short, if you want some code to be executed when you leave the try/catch block <em>however</em> you're leaving it (aside from the process being terminated very hard), finally is your friend.</p>\n"},{"tags":[],"owner":{"account_id":46325,"reputation":6356,"user_id":136790,"accept_rate":78,"display_name":"iandisme"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1280332990,"creation_date":1280332990,"answer_id":3354857,"question_id":3354823,"body_markdown":"The &quot;finally&quot; block will always execute. \r\n\r\nIn your second example, the cleanup would not occur if the catch block rethrows the exception, or if an uncaught exception occurred in the try block.","title":"Why use finally","body":"<p>The \"finally\" block will always execute. </p>\n\n<p>In your second example, the cleanup would not occur if the catch block rethrows the exception, or if an uncaught exception occurred in the try block.</p>\n"},{"tags":[],"owner":{"account_id":119123,"reputation":5183,"user_id":310613,"accept_rate":96,"display_name":"Kyra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280333022,"creation_date":1280333022,"answer_id":3354860,"question_id":3354823,"body_markdown":"From [this][1] forum on GeekInterview: \r\n\r\n&gt; \r\nThe finally block always executes when the try block exits. This ensures that the finally block is executed even if an unexpected exception occurs. But finally is useful for more than just exception handling — it allows the programmer to avoid having cleanup code accidentally bypassed by a return, continue, or break. Putting cleanup code in a finally block is always a good practice, even when no exceptions are anticipated. \r\n\r\n  [1]: http://www.geekinterview.com/talk/7841-purpose-of-finally-block.html","title":"Why use finally","body":"<p>From <a href=\"http://www.geekinterview.com/talk/7841-purpose-of-finally-block.html\" rel=\"nofollow noreferrer\">this</a> forum on GeekInterview: </p>\n\n<blockquote>\n  <p>The finally block always executes when the try block exits. This ensures that the finally block is executed even if an unexpected exception occurs. But finally is useful for more than just exception handling — it allows the programmer to avoid having cleanup code accidentally bypassed by a return, continue, or break. Putting cleanup code in a finally block is always a good practice, even when no exceptions are anticipated. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":154990,"reputation":724,"user_id":371327,"display_name":"ligerdave"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1280335974,"creation_date":1280335974,"answer_id":3355311,"question_id":3354823,"body_markdown":"Simply one line of explanation: \r\n\r\nregardless whether you caught an exception or not, codes in the `finally` block will get executed.\r\n\r\nthe diff between the two pieces you gave here is: the codes in the piece without using `finally` will never get executed. \r\n\r\nto properly understand `finally`, all you need to know is that `finally` = guarantee!\r\n\r\nyou can use it to clean up, to help w/ user friendliness or to retry something\r\n\r\n","title":"Why use finally","body":"<p>Simply one line of explanation: </p>\n\n<p>regardless whether you caught an exception or not, codes in the <code>finally</code> block will get executed.</p>\n\n<p>the diff between the two pieces you gave here is: the codes in the piece without using <code>finally</code> will never get executed. </p>\n\n<p>to properly understand <code>finally</code>, all you need to know is that <code>finally</code> = guarantee!</p>\n\n<p>you can use it to clean up, to help w/ user friendliness or to retry something</p>\n"},{"tags":[],"owner":{"account_id":175002,"reputation":1308,"user_id":404704,"display_name":"Nada Aldahleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280339318,"creation_date":1280339318,"answer_id":3355797,"question_id":3354823,"body_markdown":"In the first example the finally block always gets executed even if you have a return statement in the try clause. The only time it doesn&#39;t get executed is when you have System.exit(0).","title":"Why use finally","body":"<p>In the first example the finally block always gets executed even if you have a return statement in the try clause. The only time it doesn't get executed is when you have System.exit(0).</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1280614569,"creation_date":1280612764,"answer_id":3379896,"question_id":3354823,"body_markdown":"They differ if\r\n\r\n - the `try`-block completes by throwing a `java.lang.Throwable` that is not a `java.lang.Exception`, for instance because it is a `java.lang.Error` such as `AssertionError` or `OutOfMemoryError`.\r\n - the try-block completes abruptly using a control flow statement such a `continue`, `break` or `return`\r\n - the catch-block completes abruptly (by throwing any throwable, or using a control flow statement)\r\n\r\nMore generally, the java language guarantees that a finally block is executed before the try-statement completes. (Note that if the try-statement does not complete, there is no guarantee about the finally. A statement might not complete for a variety of reasons, including hardware shutdown, OS shutdown, VM shutdown (for instance due to `System.exit`), the thread waiting (`Thread.suspend()`, `synchronized`, `Object.wait()`, `Thread.sleep()`) or being otherwise busy (endless loops, ,,,).\r\n\r\nSo, a `finally` block is a better place for clean-up actions than the end of the method body, but in itself, still can not guarantee cleanup exeuction.","title":"Why use finally","body":"<p>They differ if</p>\n\n<ul>\n<li>the <code>try</code>-block completes by throwing a <code>java.lang.Throwable</code> that is not a <code>java.lang.Exception</code>, for instance because it is a <code>java.lang.Error</code> such as <code>AssertionError</code> or <code>OutOfMemoryError</code>.</li>\n<li>the try-block completes abruptly using a control flow statement such a <code>continue</code>, <code>break</code> or <code>return</code></li>\n<li>the catch-block completes abruptly (by throwing any throwable, or using a control flow statement)</li>\n</ul>\n\n<p>More generally, the java language guarantees that a finally block is executed before the try-statement completes. (Note that if the try-statement does not complete, there is no guarantee about the finally. A statement might not complete for a variety of reasons, including hardware shutdown, OS shutdown, VM shutdown (for instance due to <code>System.exit</code>), the thread waiting (<code>Thread.suspend()</code>, <code>synchronized</code>, <code>Object.wait()</code>, <code>Thread.sleep()</code>) or being otherwise busy (endless loops, ,,,).</p>\n\n<p>So, a <code>finally</code> block is a better place for clean-up actions than the end of the method body, but in itself, still can not guarantee cleanup exeuction.</p>\n"}],"owner":{"account_id":161215,"reputation":12004,"user_id":381801,"accept_rate":82,"display_name":"Martijn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30181,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":3379896,"answer_count":9,"score":50,"last_activity_date":1633093090,"creation_date":1280332809,"question_id":3354823,"body_markdown":"I never properly understood the use of the finally statement. Can anyone tell me what the difference is between:\r\n\r\n    try {\r\n        a;\r\n        block;\r\n        off;\r\n        statements;\r\n    } catch (Exception e) {\r\n        handle;\r\n        exception;\r\n        e;\r\n    } finally {\r\n        do;\r\n        some;\r\n        cleanup;\r\n    }\r\n\r\non the one hand and:\r\n\r\n    try {\r\n        a;\r\n        block;\r\n        off;\r\n        statements;\r\n    } catch (Exception e) {\r\n        handle;\r\n        exception;\r\n        e;\r\n    }\r\n    do;\r\n    some;\r\n    cleanup;\r\n\r\n\r\nOn the other\r\n","title":"Why use finally","body":"<p>I never properly understood the use of the finally statement. Can anyone tell me what the difference is between:</p>\n\n<pre><code>try {\n    a;\n    block;\n    off;\n    statements;\n} catch (Exception e) {\n    handle;\n    exception;\n    e;\n} finally {\n    do;\n    some;\n    cleanup;\n}\n</code></pre>\n\n<p>on the one hand and:</p>\n\n<pre><code>try {\n    a;\n    block;\n    off;\n    statements;\n} catch (Exception e) {\n    handle;\n    exception;\n    e;\n}\ndo;\nsome;\ncleanup;\n</code></pre>\n\n<p>On the other</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":2,"creation_date":1633064110,"post_id":69400563,"comment_id":122665263,"body_markdown":"Normally, you shouldn&#39;t do thread termination manually, but instead mark all secondary threads as *daemons*. This will automatically terminate them when no non-daemon running threads are left. Daemon flag can be set for a thread before it starts.","body":"Normally, you shouldn&#39;t do thread termination manually, but instead mark all secondary threads as <i>daemons</i>. This will automatically terminate them when no non-daemon running threads are left. Daemon flag can be set for a thread before it starts."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633092991,"creation_date":1633092991,"answer_id":69406274,"question_id":69400563,"body_markdown":"You must make the threads daemons. To do so, you must supply a `ThreadFactory` at the creation of the schedulService:\r\n\r\n        ThreadFactory threadFactory = (task) -&gt; {\r\n            Thread thread = new Thread(task);\r\n            thread.setDaemon(true);\r\n            return thread;\r\n        };\r\n\r\n        ScheduledExecutorService schedulService = Executors.newScheduledThreadPool(1, threadFactory);","title":"How to stop another thread when main thread is terminated in Java?","body":"<p>You must make the threads daemons. To do so, you must supply a <code>ThreadFactory</code> at the creation of the schedulService:</p>\n<pre><code>    ThreadFactory threadFactory = (task) -&gt; {\n        Thread thread = new Thread(task);\n        thread.setDaemon(true);\n        return thread;\n    };\n\n    ScheduledExecutorService schedulService = Executors.newScheduledThreadPool(1, threadFactory);\n</code></pre>\n"}],"owner":{"account_id":21100099,"reputation":528,"user_id":15510171,"display_name":"bittap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633092991,"creation_date":1633063870,"question_id":69400563,"body_markdown":"I have a REST controller. It creates two threads, one is a scheduler that is searching data of a database for whether is exited by user and another one is a executor and returns 200 success code to client.\r\n\r\nIf main thread is checking another two thread, it works very well.\r\n\r\n    public boolean foo() {\r\n\t\t//flag whether is exited by User\r\n\t\tBoolean exited = false;\r\n        //create a scheduler\r\n\t\tScheduledExecutorService schedulService = Executors.newScheduledThreadPool(1);\r\n\t\t//It is worked each 20 second\r\n\t\tschedulService.scheduleWithFixedDelay(new FooSchdlue(exited), 0, 2000,TimeUnit.MILLISECONDS);\r\n\t\t//create a executor\r\n\t\tExecutorService executor = Executors.newSingleThreadExecutor();\r\n\t\tFuture&lt;?&gt; futrue = executor.submit(new FooExecutor());\r\n\t\t\r\n\t\t// I want this Because this is not stopped\r\n\t\t// Therefore I cant&#39;t return true until process is done\r\n\t\twhile (!exited &amp;&amp; !futrue.isDone()) {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t//All thread is exited\r\n\t\tschedulService.shutdownNow();\r\n\t\tfutrue.cancel(true);\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n\r\n\r\nHowever, it can&#39;t return true until another two threads are done.\r\n\r\n       // I want this Because this is not stopped\r\n\t\t// Therefore I cant&#39;t return true until process is done\r\n\t\t//while (!exited &amp;&amp; !futrue.isDone()) {\r\n\t\t\t\r\n\t\t//}\r\n\r\n        //All thread is exited\r\n\t\t//schedulService.shutdownNow();\r\n\t\t//futrue.cancel(true);\r\n\r\nI want to shutdownNow or cancel another thread without main thread.\r\n\r\n    class FooSchdlue implements Runnable{\r\n\t\r\n\tBoolean exited = false;\r\n\t\r\n\tpublic FooSchdlue(Boolean exited) {\r\n\t\tthis.exited = exited;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\t    // Database check\r\n\t\t    if(foo.getExitFlag() == true) {\r\n\t\t\t    exited = true;\r\n                ***exit Another sub thread*** \r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\nI saw this, https://stackoverflow.com/questions/23240643/how-to-stop-main-thread-while-another-thread-still-running, but I think it is opposite of my situation.\r\n\r\n","title":"How to stop another thread when main thread is terminated in Java?","body":"<p>I have a REST controller. It creates two threads, one is a scheduler that is searching data of a database for whether is exited by user and another one is a executor and returns 200 success code to client.</p>\n<p>If main thread is checking another two thread, it works very well.</p>\n<pre><code>public boolean foo() {\n    //flag whether is exited by User\n    Boolean exited = false;\n    //create a scheduler\n    ScheduledExecutorService schedulService = Executors.newScheduledThreadPool(1);\n    //It is worked each 20 second\n    schedulService.scheduleWithFixedDelay(new FooSchdlue(exited), 0, 2000,TimeUnit.MILLISECONDS);\n    //create a executor\n    ExecutorService executor = Executors.newSingleThreadExecutor();\n    Future&lt;?&gt; futrue = executor.submit(new FooExecutor());\n    \n    // I want this Because this is not stopped\n    // Therefore I cant't return true until process is done\n    while (!exited &amp;&amp; !futrue.isDone()) {\n        \n    }\n    \n    //All thread is exited\n    schedulService.shutdownNow();\n    futrue.cancel(true);\n    \n    return true;\n}\n</code></pre>\n<p>However, it can't return true until another two threads are done.</p>\n<pre><code>   // I want this Because this is not stopped\n    // Therefore I cant't return true until process is done\n    //while (!exited &amp;&amp; !futrue.isDone()) {\n        \n    //}\n\n    //All thread is exited\n    //schedulService.shutdownNow();\n    //futrue.cancel(true);\n</code></pre>\n<p>I want to shutdownNow or cancel another thread without main thread.</p>\n<pre><code>class FooSchdlue implements Runnable{\n\nBoolean exited = false;\n\npublic FooSchdlue(Boolean exited) {\n    this.exited = exited;\n}\n\n@Override\npublic void run() {\n        // Database check\n        if(foo.getExitFlag() == true) {\n            exited = true;\n            ***exit Another sub thread*** \n        }\n    }\n}\n</code></pre>\n<p>I saw this, <a href=\"https://stackoverflow.com/questions/23240643/how-to-stop-main-thread-while-another-thread-still-running\">how to stop main thread while another thread still running</a>, but I think it is opposite of my situation.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1632993168,"post_id":69388699,"comment_id":122645057,"body_markdown":"You should probably use `\\\\$`. Having a single backslash is an escape in string literals in Java source files themselves, so you need to double it to actually get a backslash into the string value. This of course assumes that manifold actually considers a backslash as an escape.","body":"You should probably use <code>\\\\$</code>. Having a single backslash is an escape in string literals in Java source files themselves, so you need to double it to actually get a backslash into the string value. This of course assumes that manifold actually considers a backslash as an escape."}],"answers":[{"tags":[],"owner":{"account_id":10686965,"reputation":821,"user_id":7867223,"display_name":"PrecisionLex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633092984,"creation_date":1633092984,"answer_id":69406271,"question_id":69388699,"body_markdown":"The most elegant way I found was to use annotation @DisableStringLiteralTemplates from the same Manifold library:\r\n\r\n    import manifold.rt.api.DisableStringLiteralTemplates;\r\n    \r\n    public class FooExample {\r\n   \r\n        @DisableStringLiteralTemplates\r\n        public void sampleMethod() {\r\n            String foo = &quot;$HIS&quot;;\r\n            System.out.println(&quot;Foo is &quot; + foo);\r\n        }\r\n\r\n    }\r\n    \r\n\r\nEscaping the dollar with \\\\$ also works, just the IntelliJ Manifold.systems plugin is required for the IDE to recognize all functions of the Manifold Java library.\r\n\r\nA detailed description of Manifold String templates can be found here:\r\nhttps://github.com/manifold-systems/manifold/tree/master/manifold-deps-parent/manifold-strings","title":"Escape dollar sign ($) in Java Manifold String templates (manifold.systems)","body":"<p>The most elegant way I found was to use annotation @DisableStringLiteralTemplates from the same Manifold library:</p>\n<pre><code>import manifold.rt.api.DisableStringLiteralTemplates;\n\npublic class FooExample {\n\n    @DisableStringLiteralTemplates\n    public void sampleMethod() {\n        String foo = &quot;$HIS&quot;;\n        System.out.println(&quot;Foo is &quot; + foo);\n    }\n\n}\n</code></pre>\n<p>Escaping the dollar with \\$ also works, just the IntelliJ Manifold.systems plugin is required for the IDE to recognize all functions of the Manifold Java library.</p>\n<p>A detailed description of Manifold String templates can be found here:\n<a href=\"https://github.com/manifold-systems/manifold/tree/master/manifold-deps-parent/manifold-strings\" rel=\"nofollow noreferrer\">https://github.com/manifold-systems/manifold/tree/master/manifold-deps-parent/manifold-strings</a></p>\n"}],"owner":{"account_id":10686965,"reputation":821,"user_id":7867223,"display_name":"PrecisionLex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69406271,"answer_count":1,"score":0,"last_activity_date":1633092984,"creation_date":1632989988,"question_id":69388699,"body_markdown":"I have added Manifold.systems Java library to our Maven Java project pom.xml:\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;systems.manifold&lt;/groupId&gt;\r\n            &lt;artifactId&gt;manifold-ext&lt;/artifactId&gt;\r\n            &lt;version&gt;${manifold-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAfter this the compilation of the following line:\r\n\r\n    String foo = &quot;$HIS&quot;;\r\n\r\nfails compilation:\r\n\r\n    [ERROR] COMPILATION ERROR :\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /c:/workspaces/dev/src/main/java/com/foo/bar/MyClass.java:[26,24] cannot find symbol\r\n      symbol:   variable HIS\r\n      location: class com.foo.bar.MyClass\r\n    [INFO] 1 error\r\n\r\nObviously, this is Manifold String templates trying to find a variable named $HIS, which is not defined in scope. So, I need to escape the $ sign, because I need it to be part of the String literal. How can I do it? If I use \\\\$ then IntelliJ screams &quot;Illegal escape character in string literal&quot;.\r\n","title":"Escape dollar sign ($) in Java Manifold String templates (manifold.systems)","body":"<p>I have added Manifold.systems Java library to our Maven Java project pom.xml:</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;systems.manifold&lt;/groupId&gt;\n        &lt;artifactId&gt;manifold-ext&lt;/artifactId&gt;\n        &lt;version&gt;${manifold-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>After this the compilation of the following line:</p>\n<pre><code>String foo = &quot;$HIS&quot;;\n</code></pre>\n<p>fails compilation:</p>\n<pre><code>[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] /c:/workspaces/dev/src/main/java/com/foo/bar/MyClass.java:[26,24] cannot find symbol\n  symbol:   variable HIS\n  location: class com.foo.bar.MyClass\n[INFO] 1 error\n</code></pre>\n<p>Obviously, this is Manifold String templates trying to find a variable named $HIS, which is not defined in scope. So, I need to escape the $ sign, because I need it to be part of the String literal. How can I do it? If I use \\$ then IntelliJ screams &quot;Illegal escape character in string literal&quot;.</p>\n"},{"tags":["java","eclipse","swt"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632987438,"creation_date":1632987438,"answer_id":69388084,"question_id":69384758,"body_markdown":"Using the minimum width setting of `GridData` works for me:\r\n```\r\n  @Override\r\n  protected Control createControl(final Composite parent)\r\n  {\r\n    final Composite comp = new Composite(parent, SWT.NONE);\r\n    GridLayoutFactory.fillDefaults().numColumns(2).applyTo(comp);\r\n\r\n    m_lbl = new Label(comp, SWT.RIGHT);\r\n    m_lbl.setText(&quot;label 1&quot;);\r\n\r\n    GridDataFactory.fillDefaults().grab(true, false).minSize(200, SWT.DEFAULT).applyTo(m_lbl);\r\n\r\n    m_lbl2 = new Label(comp, SWT.RIGHT);\r\n    m_lbl2.setText(&quot;lbl2&quot;);\r\n\r\n    GridDataFactory.fillDefaults().grab(true, false).minSize(100, SWT.DEFAULT).applyTo(m_lbl2);\r\n\r\n    m_root = comp;\r\n\r\n    return comp;\r\n  }\r\n```\r\nNote: Changing the layout of `parent` is against the rules, it could damage the layout of other components.","title":"Make status trimbar contribution grow when its content changes","body":"<p>Using the minimum width setting of <code>GridData</code> works for me:</p>\n<pre><code>  @Override\n  protected Control createControl(final Composite parent)\n  {\n    final Composite comp = new Composite(parent, SWT.NONE);\n    GridLayoutFactory.fillDefaults().numColumns(2).applyTo(comp);\n\n    m_lbl = new Label(comp, SWT.RIGHT);\n    m_lbl.setText(&quot;label 1&quot;);\n\n    GridDataFactory.fillDefaults().grab(true, false).minSize(200, SWT.DEFAULT).applyTo(m_lbl);\n\n    m_lbl2 = new Label(comp, SWT.RIGHT);\n    m_lbl2.setText(&quot;lbl2&quot;);\n\n    GridDataFactory.fillDefaults().grab(true, false).minSize(100, SWT.DEFAULT).applyTo(m_lbl2);\n\n    m_root = comp;\n\n    return comp;\n  }\n</code></pre>\n<p>Note: Changing the layout of <code>parent</code> is against the rules, it could damage the layout of other components.</p>\n"}],"owner":{"account_id":2600365,"reputation":1365,"user_id":2252948,"accept_rate":100,"display_name":"adentinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69388084,"answer_count":1,"score":1,"last_activity_date":1633092827,"creation_date":1632961894,"question_id":69384758,"body_markdown":"I&#39;m trying to add an Eclipse status trimbar contribution where the contents of the contribution (i.e., child elements&#39; text) dynamically change. Note that I&#39;m ***not*** trying to add `&quot;line, column&quot;` information into the status bar.\r\n\r\nIdeally, the contribution&#39;s width should adapt to the width of its contents, a bit like what happens in VSCode:\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nHowever, **if that isn&#39;t easily feasible**, an acceptable alternative would be to have a &quot;fixed&quot; width for the status trimbar, or even a fixed width for each individual child (since I don&#39;t intend to have children appearing and disappearing).\r\n\r\nBelow is what I&#39;ve tried. How do you think I should do this if nothing I&#39;ve tried for the past 2 days worked?\r\n\r\nIn case you think the problem might actually be an Eclipse bug, note that I&#39;m using Eclipse version `2021-06 (4.20.0)` on Linux.\r\n\r\n------------------\r\n\r\n# What I have tried\r\n\r\nI have this in `plugin.xml`:\r\n\r\n```xml\r\n&lt;extension\r\n\tpoint=&quot;org.eclipse.ui.menus&quot;&gt;\r\n\t&lt;menuContribution\r\n\t\tlocationURI=&quot;toolbar:org.eclipse.ui.trim.status&quot;&gt;\r\n\t\t&lt;toolbar\r\n\t\t\tid=&quot;some.package.StatusTrimBarContribution&quot;&gt;\r\n\t\t\t&lt;control\r\n\t\t\t\tclass=&quot;some.package.StatusTrimBarContribution&quot;&gt;\r\n\t\t\t&lt;/control&gt;\r\n\t\t&lt;/toolbar&gt;\r\n\t&lt;/menuContribution&gt;\r\n&lt;/extension&gt;\r\n```\r\n\r\nI&#39;ve tried doing this in at least 4 different ways. As a reference, here is the class `StatusTrimBarContribution`:\r\n\r\n```java\r\npublic class StatusTrimBarContribution extends WorkbenchWindowControlContribution {\r\n\t// A\r\n\tprivate static String currText = /* see below */;\r\n\r\n\tprivate Label m_lbl = null;\r\n\tprivate Label m_lbl2 = null;\r\n\tprivate Control m_root = null;\r\n\r\n\tpublic StatusTrimBarContribution() {\r\n\t\t// Register to String event\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void dispose() {\r\n\t\t// Unregister from String event\r\n\t}\r\n\r\n\t@Override\r\n\tprotected Control createControl(Composite parent) {\r\n\t\t// B\r\n\t}\r\n\r\n\t@Subscribe // From guava\r\n\tprivate void someEventHandler(String event) {\r\n        currText = &quot;lp_much_longer&quot;;\r\n        if (m_lbl != null) {\r\n            m_lbl.setText();\r\n            m_root.getParent().requestLayout();\r\n        }\r\n\t}\r\n}\r\n```\r\n\r\n## Attempt #1\r\n\r\nIn this attempt we add an intermediary `Composite` between the labels and `parent`, we use a `GridLayout` on the intermediary, and we add a `GridData` into `m_lbl`.\r\n\r\n```java\r\n// A\r\nprivate static String currText = &quot;empty&quot;;\r\n\r\n// B\r\n@Override\r\nprotected Control createControl(Composite parent) {\r\n\tGridLayout gl = new GridLayout(2, false);\r\n\tComposite comp = new Composite(parent, SWT.NONE);\r\n\tcomp.setLayout(gl);\r\n\tm_lbl = new Label(comp, SWT.RIGHT);\r\n\tm_lbl.setText(currText);\r\n\tGridDataFactory.defaultsFor(m_lbl).hint(200, SWT.DEFAULT).applyTo(m_lbl);\r\n\tm_lbl2 = new Label(comp, SWT.RIGHT);\r\n\tm_lbl2.setText(&quot;lbl2&quot;);\r\n\tm_root = comp;\r\n\treturn comp;\r\n}\r\n```\r\n\r\nThe result is that the labels are too tall and get truncated. Note that I&#39;ve also tried setting the margin height to 0, and, while it&#39;s better than below, the labels would still get truncated.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n## Attempt #2\r\n\r\nCompared to #1, we remove the intermediary `Composite`, and instead use the layout directly on `parent`. Also, we remove the `GridData`, because, at this point, why not.\r\n\r\n```java\r\n// A\r\nprivate static String currText = &quot;empty&quot;;\r\n\r\n// B\r\n@Override\r\nprotected Control createControl(Composite parent) {\r\n\tGridLayout gl = new GridLayout(2, false);\r\n\tparent.setLayout(gl);\r\n\tm_lbl = new Label(parent, SWT.RIGHT);\r\n\tm_lbl.setText(currText);\r\n\tm_lbl2 = new Label(parent, SWT.RIGHT);\r\n\tm_lbl2.setText(&quot;lbl2&quot;);\r\n\tm_root = m_lbl;\r\n\treturn m_lbl;\r\n}\r\n```\r\n\r\nThe result is the same as before, except, additionally, that `m_lbl` is not large enough to hold the text:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n## Attempt #3\r\n\r\nCompared to #2, we additionally remove the layout.\r\n\r\n```java\r\n// A\r\nprivate static String currText = &quot;empty&quot;;\r\n\r\n// B\r\n@Override\r\nprotected Control createControl(Composite parent) {\r\n\tm_lbl = new Label(parent, SWT.RIGHT);\r\n\tm_lbl.setText(currText);\r\n\tm_lbl2 = new Label(parent, SWT.RIGHT);\r\n\tm_lbl2.setText(&quot;lbl2&quot;);\r\n\tm_root = m_lbl;\r\n\treturn m_lbl;\r\n}\r\n```\r\n\r\nThe labels are no longer too tall, however, the width of the labels is still to small for the text:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n## Attempt #4\r\n\r\nCompared to #3, we initially assign a very long string into `m_lbl`.\r\n\r\n```java\r\n// A\r\n// Yes, this is ridiculous\r\nprivate static String currText = &quot; &quot;.repeat(60);\r\n\r\n// B\r\n@Override\r\nprotected Control createControl(Composite parent) {\r\n\tm_lbl = new Label(parent, SWT.RIGHT);\r\n\tm_lbl.setText(currText);\r\n\tm_lbl2 = new Label(parent, SWT.RIGHT);\r\n\tm_lbl2.setText(&quot;lbl2&quot;);\r\n\tm_root = m_lbl;\r\n\treturn m_lbl;\r\n}\r\n```\r\n\r\nThe result is that both labels are completely visible, but now `m_lbl2` has the same width as `m_lbl`, which is far more than I want. Plus, if the user&#39;s font is different from mine, the width of the labels might become too large or too small due to the initial string.\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2PRot.png\r\n  [2]: https://i.stack.imgur.com/slKuI.png\r\n  [3]: https://i.stack.imgur.com/2p9Lj.png\r\n  [4]: https://i.stack.imgur.com/60sQs.png\r\n  [5]: https://i.stack.imgur.com/ZwhbL.png\r\n  [6]: https://i.stack.imgur.com/WdDZ8.png","title":"Make status trimbar contribution grow when its content changes","body":"<p>I'm trying to add an Eclipse status trimbar contribution where the contents of the contribution (i.e., child elements' text) dynamically change. Note that I'm <em><strong>not</strong></em> trying to add <code>&quot;line, column&quot;</code> information into the status bar.</p>\n<p>Ideally, the contribution's width should adapt to the width of its contents, a bit like what happens in VSCode:</p>\n<p><a href=\"https://i.stack.imgur.com/2PRot.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2PRot.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/slKuI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/slKuI.png\" alt=\"enter image description here\" /></a></p>\n<p>However, <strong>if that isn't easily feasible</strong>, an acceptable alternative would be to have a &quot;fixed&quot; width for the status trimbar, or even a fixed width for each individual child (since I don't intend to have children appearing and disappearing).</p>\n<p>Below is what I've tried. How do you think I should do this if nothing I've tried for the past 2 days worked?</p>\n<p>In case you think the problem might actually be an Eclipse bug, note that I'm using Eclipse version <code>2021-06 (4.20.0)</code> on Linux.</p>\n<hr />\n<h1>What I have tried</h1>\n<p>I have this in <code>plugin.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;extension\n    point=&quot;org.eclipse.ui.menus&quot;&gt;\n    &lt;menuContribution\n        locationURI=&quot;toolbar:org.eclipse.ui.trim.status&quot;&gt;\n        &lt;toolbar\n            id=&quot;some.package.StatusTrimBarContribution&quot;&gt;\n            &lt;control\n                class=&quot;some.package.StatusTrimBarContribution&quot;&gt;\n            &lt;/control&gt;\n        &lt;/toolbar&gt;\n    &lt;/menuContribution&gt;\n&lt;/extension&gt;\n</code></pre>\n<p>I've tried doing this in at least 4 different ways. As a reference, here is the class <code>StatusTrimBarContribution</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StatusTrimBarContribution extends WorkbenchWindowControlContribution {\n    // A\n    private static String currText = /* see below */;\n\n    private Label m_lbl = null;\n    private Label m_lbl2 = null;\n    private Control m_root = null;\n\n    public StatusTrimBarContribution() {\n        // Register to String event\n    }\n\n    @Override\n    public void dispose() {\n        // Unregister from String event\n    }\n\n    @Override\n    protected Control createControl(Composite parent) {\n        // B\n    }\n\n    @Subscribe // From guava\n    private void someEventHandler(String event) {\n        currText = &quot;lp_much_longer&quot;;\n        if (m_lbl != null) {\n            m_lbl.setText();\n            m_root.getParent().requestLayout();\n        }\n    }\n}\n</code></pre>\n<h2>Attempt #1</h2>\n<p>In this attempt we add an intermediary <code>Composite</code> between the labels and <code>parent</code>, we use a <code>GridLayout</code> on the intermediary, and we add a <code>GridData</code> into <code>m_lbl</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// A\nprivate static String currText = &quot;empty&quot;;\n\n// B\n@Override\nprotected Control createControl(Composite parent) {\n    GridLayout gl = new GridLayout(2, false);\n    Composite comp = new Composite(parent, SWT.NONE);\n    comp.setLayout(gl);\n    m_lbl = new Label(comp, SWT.RIGHT);\n    m_lbl.setText(currText);\n    GridDataFactory.defaultsFor(m_lbl).hint(200, SWT.DEFAULT).applyTo(m_lbl);\n    m_lbl2 = new Label(comp, SWT.RIGHT);\n    m_lbl2.setText(&quot;lbl2&quot;);\n    m_root = comp;\n    return comp;\n}\n</code></pre>\n<p>The result is that the labels are too tall and get truncated. Note that I've also tried setting the margin height to 0, and, while it's better than below, the labels would still get truncated.</p>\n<p><a href=\"https://i.stack.imgur.com/2p9Lj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2p9Lj.png\" alt=\"enter image description here\" /></a></p>\n<h2>Attempt #2</h2>\n<p>Compared to #1, we remove the intermediary <code>Composite</code>, and instead use the layout directly on <code>parent</code>. Also, we remove the <code>GridData</code>, because, at this point, why not.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// A\nprivate static String currText = &quot;empty&quot;;\n\n// B\n@Override\nprotected Control createControl(Composite parent) {\n    GridLayout gl = new GridLayout(2, false);\n    parent.setLayout(gl);\n    m_lbl = new Label(parent, SWT.RIGHT);\n    m_lbl.setText(currText);\n    m_lbl2 = new Label(parent, SWT.RIGHT);\n    m_lbl2.setText(&quot;lbl2&quot;);\n    m_root = m_lbl;\n    return m_lbl;\n}\n</code></pre>\n<p>The result is the same as before, except, additionally, that <code>m_lbl</code> is not large enough to hold the text:</p>\n<p><a href=\"https://i.stack.imgur.com/60sQs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/60sQs.png\" alt=\"enter image description here\" /></a></p>\n<h2>Attempt #3</h2>\n<p>Compared to #2, we additionally remove the layout.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// A\nprivate static String currText = &quot;empty&quot;;\n\n// B\n@Override\nprotected Control createControl(Composite parent) {\n    m_lbl = new Label(parent, SWT.RIGHT);\n    m_lbl.setText(currText);\n    m_lbl2 = new Label(parent, SWT.RIGHT);\n    m_lbl2.setText(&quot;lbl2&quot;);\n    m_root = m_lbl;\n    return m_lbl;\n}\n</code></pre>\n<p>The labels are no longer too tall, however, the width of the labels is still to small for the text:</p>\n<p><a href=\"https://i.stack.imgur.com/ZwhbL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZwhbL.png\" alt=\"enter image description here\" /></a></p>\n<h2>Attempt #4</h2>\n<p>Compared to #3, we initially assign a very long string into <code>m_lbl</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// A\n// Yes, this is ridiculous\nprivate static String currText = &quot; &quot;.repeat(60);\n\n// B\n@Override\nprotected Control createControl(Composite parent) {\n    m_lbl = new Label(parent, SWT.RIGHT);\n    m_lbl.setText(currText);\n    m_lbl2 = new Label(parent, SWT.RIGHT);\n    m_lbl2.setText(&quot;lbl2&quot;);\n    m_root = m_lbl;\n    return m_lbl;\n}\n</code></pre>\n<p>The result is that both labels are completely visible, but now <code>m_lbl2</code> has the same width as <code>m_lbl</code>, which is far more than I want. Plus, if the user's font is different from mine, the width of the labels might become too large or too small due to the initial string.</p>\n<p><a href=\"https://i.stack.imgur.com/WdDZ8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WdDZ8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sql","oracle","sql-loader"],"answers":[{"tags":[],"owner":{"account_id":6482812,"reputation":6261,"user_id":5019309,"display_name":"Arkadiusz Łukasiewicz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1495095451,"creation_date":1495095451,"answer_id":44042236,"question_id":44041725,"body_markdown":"In db. \r\n`create sequence EMPLOYEES_SEQ `\r\n\r\nIn ctlfile \r\n\r\n    ...\r\n    TENANTID,\r\n    EMPLOYEEID &quot;EMPLOYEES_SEQ.NEXTVAL&quot;,\r\n    ISEMPLOYEEACTIVE,\r\n    ...","title":"How to set primary key in sqlldr ctl file?","body":"<p>In db. \n<code>create sequence EMPLOYEES_SEQ</code></p>\n\n<p>In ctlfile </p>\n\n<pre><code>...\nTENANTID,\nEMPLOYEEID \"EMPLOYEES_SEQ.NEXTVAL\",\nISEMPLOYEEACTIVE,\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15585153,"reputation":1806,"user_id":11243901,"display_name":"Arun Sai Mustyala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633092553,"creation_date":1633092553,"answer_id":69406176,"question_id":44041725,"body_markdown":"We could also maintain a column with datatype as `NUMBER` and constraint `GENERATED BY DEFAULT AS IDENTITY`. So that while loading, a unique numeric identifier with incremented value for each row will be inserted defaultly.\r\n\r\nEgg: \r\n\r\n    CREATE TABLE members(\r\n        member_id **NUMBER** **GENERATED BY DEFAULT AS IDENTITY**,\r\n        first_name VARCHAR2(50),\r\n        last_name VARCHAR2(50),\r\n        PRIMARY KEY(member_id)\r\n    );\r\n\r\nFor skipping fields/columns while loading through sql loader, visit [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29695375/skipping-data-fields-while-loading-delimited-data-using-sqlldr","title":"How to set primary key in sqlldr ctl file?","body":"<p>We could also maintain a column with datatype as <code>NUMBER</code> and constraint <code>GENERATED BY DEFAULT AS IDENTITY</code>. So that while loading, a unique numeric identifier with incremented value for each row will be inserted defaultly.</p>\n<p>Egg:</p>\n<pre><code>CREATE TABLE members(\n    member_id **NUMBER** **GENERATED BY DEFAULT AS IDENTITY**,\n    first_name VARCHAR2(50),\n    last_name VARCHAR2(50),\n    PRIMARY KEY(member_id)\n);\n</code></pre>\n<p>For skipping fields/columns while loading through sql loader, visit <a href=\"https://stackoverflow.com/questions/29695375/skipping-data-fields-while-loading-delimited-data-using-sqlldr\">here</a></p>\n"}],"owner":{"account_id":9539732,"reputation":93,"user_id":7088466,"accept_rate":40,"display_name":"Jigar Prajapati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44042236,"answer_count":2,"score":1,"last_activity_date":1633092553,"creation_date":1495093891,"question_id":44041725,"body_markdown":"here i have below file\r\n\r\n    load data\r\n    infile &#39;emp.csv&#39;\r\n    into table EMPLOYEES\r\n    append\r\n    fields terminated by &#39;,&#39; \r\n    optionally ENCLOSED BY &#39;&quot;&#39;\r\n    TRAILING NULLCOLS\r\n    (\r\n    TENANTID,\r\n    EMPLOYEEID,\r\n    ISEMPLOYEEACTIVE,\r\n    PASSWORD,\r\n    EMPLOYEEMANAGERID,\r\n    FIRSTNAME,\r\n    LASTNAME,\r\n    MIDDLENAME,\r\n    EMPLOYEEEMAILID,\r\n    EMPLOYEEASSISTANTID ,\r\n    CATEGORYID,\r\n    EMPLOYEENATIONALITY,\r\n    BRANCHID ,\r\n    GRADEID ,\r\n    PASSWORDRESETTOKEN,\r\n    PASSWORDRESETCREATEDATE,\r\n    ISBRANCHHEAD ,\r\n    DEFAULTCOSTCODE ,\r\n    GENDER \r\n    )\r\n\r\nin this file `EMPLOYEEID` is primary key so how to set that column as a primary key...\r\nbecause every time it required unique and auto generated number \r\n\r\nand here my emp.csv file\r\n\r\n    1006,1,0,saasas,1049,LoadData,lol,lol,bhargav121@gmail.com,1049,1125,India,2192,1128,1,1,1,1051,m","title":"How to set primary key in sqlldr ctl file?","body":"<p>here i have below file</p>\n\n<pre><code>load data\ninfile 'emp.csv'\ninto table EMPLOYEES\nappend\nfields terminated by ',' \noptionally ENCLOSED BY '\"'\nTRAILING NULLCOLS\n(\nTENANTID,\nEMPLOYEEID,\nISEMPLOYEEACTIVE,\nPASSWORD,\nEMPLOYEEMANAGERID,\nFIRSTNAME,\nLASTNAME,\nMIDDLENAME,\nEMPLOYEEEMAILID,\nEMPLOYEEASSISTANTID ,\nCATEGORYID,\nEMPLOYEENATIONALITY,\nBRANCHID ,\nGRADEID ,\nPASSWORDRESETTOKEN,\nPASSWORDRESETCREATEDATE,\nISBRANCHHEAD ,\nDEFAULTCOSTCODE ,\nGENDER \n)\n</code></pre>\n\n<p>in this file <code>EMPLOYEEID</code> is primary key so how to set that column as a primary key...\nbecause every time it required unique and auto generated number </p>\n\n<p>and here my emp.csv file</p>\n\n<pre><code>1006,1,0,saasas,1049,LoadData,lol,lol,bhargav121@gmail.com,1049,1125,India,2192,1128,1,1,1,1051,m\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":279975,"reputation":15386,"user_id":575421,"accept_rate":50,"display_name":"Mikita Belahlazau"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1338478872,"creation_date":1338478872,"answer_id":10836845,"question_id":10836781,"body_markdown":"Try escaping curly braces:\r\n\r\n    String regex = &quot;\\\\{(.*?)\\\\}&quot;;","title":"Regex values inside curly brackets","body":"<p>Try escaping curly braces:</p>\n\n<pre><code>String regex = \"\\\\{(.*?)\\\\}\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38290,"reputation":5545,"user_id":109814,"display_name":"dweeves"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1338478876,"creation_date":1338478876,"answer_id":10836846,"question_id":10836781,"body_markdown":"Curly brackets are used in regexp to define specific sequence repetition.\r\n\r\nyou have to escape them in the regexp.\r\n\r\n    \\{(.*?)\\}\r\n\r\nshould work better","title":"Regex values inside curly brackets","body":"<p>Curly brackets are used in regexp to define specific sequence repetition.</p>\n\n<p>you have to escape them in the regexp.</p>\n\n<pre><code>\\{(.*?)\\}\n</code></pre>\n\n<p>should work better</p>\n"},{"tags":[],"owner":{"account_id":26247,"reputation":33763,"user_id":68105,"accept_rate":69,"display_name":"MK."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338478900,"creation_date":1338478900,"answer_id":10836858,"question_id":10836781,"body_markdown":"Not entirely clear what you are trying to do by \r\n\r\n    \\{.*\\}\r\n\r\nshould work","title":"Regex values inside curly brackets","body":"<p>Not entirely clear what you are trying to do by </p>\n\n<pre><code>\\{.*\\}\n</code></pre>\n\n<p>should work</p>\n"},{"tags":[],"owner":{"account_id":1132283,"reputation":28517,"user_id":1118101,"accept_rate":89,"display_name":"theglauber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338478920,"creation_date":1338478920,"answer_id":10836863,"question_id":10836781,"body_markdown":"Escape the {}s:\r\n\r\n    String regStr = &quot;\\\\{.\\\\}&quot;;\r\n\r\n\r\nI&#39;ve found [this interactive regex testing page][1] useful in refining Java regular expressions.\r\n\r\n\r\n  [1]: http://www.regexplanet.com/advanced/java/index.html","title":"Regex values inside curly brackets","body":"<p>Escape the {}s:</p>\n\n<pre><code>String regStr = \"\\\\{.\\\\}\";\n</code></pre>\n\n<p>I've found <a href=\"http://www.regexplanet.com/advanced/java/index.html\" rel=\"nofollow\">this interactive regex testing page</a> useful in refining Java regular expressions.</p>\n"},{"tags":[],"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338478945,"creation_date":1338478945,"answer_id":10836871,"question_id":10836781,"body_markdown":"You can escape special characters using a backslash &lt;code&gt;\\&lt;/code&gt;.  See https://stackoverflow.com/questions/399078/what-special-characters-must-be-escaped-in-regular-expressions for more information (although there is no general rule).  Try escaping the curly braces &lt;code&gt;{}&lt;/code&gt; and slashes &lt;code&gt;//&lt;/code&gt;.","title":"Regex values inside curly brackets","body":"<p>You can escape special characters using a backslash <code>\\</code>.  See <a href=\"https://stackoverflow.com/questions/399078/what-special-characters-must-be-escaped-in-regular-expressions\">What special characters must be escaped in regular expressions?</a> for more information (although there is no general rule).  Try escaping the curly braces <code>{}</code> and slashes <code>//</code>.</p>\n"}],"owner":{"account_id":1531768,"reputation":70,"user_id":1428820,"accept_rate":100,"display_name":"Juju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1780,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10836845,"answer_count":5,"score":1,"last_activity_date":1633092420,"creation_date":1338478657,"question_id":10836781,"body_markdown":"I have a random variable lets call it R inside a curly brackets like so:\r\n\r\n    {R}\r\n\r\nI have tried to regex it with this:\r\n\r\n    {(.*?)//}\r\n\r\nI then have this error \r\n\r\n    &quot;Caused by: java.util.regex.PatternSyntaxException: \r\n    Syntax error U_REGEX_RULE_SYNTAX near index 1:&quot;\r\n\r\nIndicator targeting `{(.*?)} &quot;(&quot;`\r\n\r\nI tried doing it without the brackets same error. This time indicator targets `&quot;.&quot;`\r\n\r\nCould someone help me find an alternate solution to regex items inside a curly brackets?\r\n","title":"Regex values inside curly brackets","body":"<p>I have a random variable lets call it R inside a curly brackets like so:</p>\n\n<pre><code>{R}\n</code></pre>\n\n<p>I have tried to regex it with this:</p>\n\n<pre><code>{(.*?)//}\n</code></pre>\n\n<p>I then have this error </p>\n\n<pre><code>\"Caused by: java.util.regex.PatternSyntaxException: \nSyntax error U_REGEX_RULE_SYNTAX near index 1:\"\n</code></pre>\n\n<p>Indicator targeting <code>{(.*?)} \"(\"</code></p>\n\n<p>I tried doing it without the brackets same error. This time indicator targets <code>\".\"</code></p>\n\n<p>Could someone help me find an alternate solution to regex items inside a curly brackets?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":4633949,"reputation":8005,"user_id":3755692,"accept_rate":62,"display_name":"msrd0"},"score":0,"creation_date":1411810771,"post_id":26073280,"comment_id":40851836,"body_markdown":"This is not a code-writing service. Please show some effort","body":"This is not a code-writing service. Please show some effort"},{"owner":{"account_id":4862292,"reputation":73,"user_id":3921544,"accept_rate":40,"display_name":"Chatura Mohotti"},"score":0,"creation_date":1411812049,"post_id":26073280,"comment_id":40852129,"body_markdown":"here is the code what ive tried...but couldnt get the result that i expected","body":"here is the code what ive tried...but couldnt get the result that i expected"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1411824638,"post_id":26073280,"comment_id":40855004,"body_markdown":"Since your request ask for a specific `userId` all you have to do is to check whether the result set contains a row. So a single call to [`rs.next()`](http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#next()) is sufficient. If it returns `true` there was at least one row with that `userId`. But you should learn about using `PreparedStatement`s instead of concatenating SQL `String`s. Otherwise you will become a vitim of [SQL injection](http://en.wikipedia.org/wiki/SQL_injection) one day…","body":"Since your request ask for a specific <code>userId</code> all you have to do is to check whether the result set contains a row. So a single call to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#next()\" rel=\"nofollow noreferrer\"><code>rs.next()</code></a> is sufficient. If it returns <code>true</code> there was at least one row with that <code>userId</code>. But you should learn about using <code>PreparedStatement</code>s instead of concatenating SQL <code>String</code>s. Otherwise you will become a vitim of <a href=\"http://en.wikipedia.org/wiki/SQL_injection\" rel=\"nofollow noreferrer\">SQL injection</a> one day…"}],"answers":[{"tags":[],"owner":{"account_id":4633949,"reputation":8005,"user_id":3755692,"accept_rate":62,"display_name":"msrd0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411814351,"creation_date":1411814351,"answer_id":26073781,"question_id":26073280,"body_markdown":"You error is here:\r\n\r\n    rs.equals(&quot;&quot;)\r\n\r\nThis will always return `false`, because [`ResultSet`][1] is never equal to a `String`. What you want to do is check if the `ResultSet` is empty.\r\n\r\nThis is not as easy as it seems since there is no `isEmpty()` method, so you&#39;ll need to count all rows, like this:\r\n\r\n    String query3 = &quot;SELECT COUNT(*) FROM employee WHERE userId =&#39;&quot;+username+&quot;&#39;&quot;;\r\n    ResultSet rs = S.executeQuery(query3);\r\n    status = (rs.getInt(0) == 0); // Note that rs can be null here\r\n\r\nThis will count all rows from the table `employee` with the given condition (`WHERE userId =&#39;&quot;+username+&quot;&#39;`). Then you can check whether the count is 0.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html","title":"How to check User Availability","body":"<p>You error is here:</p>\n\n<pre><code>rs.equals(\"\")\n</code></pre>\n\n<p>This will always return <code>false</code>, because <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html\" rel=\"nofollow\"><code>ResultSet</code></a> is never equal to a <code>String</code>. What you want to do is check if the <code>ResultSet</code> is empty.</p>\n\n<p>This is not as easy as it seems since there is no <code>isEmpty()</code> method, so you'll need to count all rows, like this:</p>\n\n<pre><code>String query3 = \"SELECT COUNT(*) FROM employee WHERE userId ='\"+username+\"'\";\nResultSet rs = S.executeQuery(query3);\nstatus = (rs.getInt(0) == 0); // Note that rs can be null here\n</code></pre>\n\n<p>This will count all rows from the table <code>employee</code> with the given condition (<code>WHERE userId ='\"+username+\"'</code>). Then you can check whether the count is 0.</p>\n"},{"tags":[],"owner":{"account_id":4862292,"reputation":73,"user_id":3921544,"accept_rate":40,"display_name":"Chatura Mohotti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1411823074,"creation_date":1411820075,"answer_id":26074560,"question_id":26073280,"body_markdown":"It worked with the following code:\r\n\r\n\r\n    public static boolean checkUseName (String username) {\r\n\r\n        boolean status = false;\r\n            \r\n        try {\r\n            Connection con = DB.myCon();\r\n            Statement S = con.createStatement();\r\n            String query3 = &quot;SELECT COUNT(*) FROM employee.user WHERE userId =&#39;&quot; +\r\n                    username + &quot;&#39;&quot;;\r\n            \r\n            ResultSet rs = S.executeQuery(query3);\r\n            boolean next = rs.next();\r\n            int a = rs.getInt(&quot;COUNT(*)&quot;);\r\n            \r\n            status = (a == 0);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return status;\r\n    }","title":"How to check User Availability","body":"<p>It worked with the following code:</p>\n\n<pre><code>public static boolean checkUseName (String username) {\n\n    boolean status = false;\n\n    try {\n        Connection con = DB.myCon();\n        Statement S = con.createStatement();\n        String query3 = \"SELECT COUNT(*) FROM employee.user WHERE userId ='\" +\n                username + \"'\";\n\n        ResultSet rs = S.executeQuery(query3);\n        boolean next = rs.next();\n        int a = rs.getInt(\"COUNT(*)\");\n\n        status = (a == 0);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return status;\n}\n</code></pre>\n"}],"owner":{"account_id":4862292,"reputation":73,"user_id":3921544,"accept_rate":40,"display_name":"Chatura Mohotti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1411824684,"accepted_answer_id":26074560,"answer_count":2,"score":-3,"last_activity_date":1633091905,"creation_date":1411810616,"question_id":26073280,"body_markdown":"I need to check the availability of the username when it is going to enter details. Can anybody tell me how I can do it without using hibernate in Java?\r\n\r\n\r\n    \r\n    public static boolean checkUseName (String username) {\r\n\r\n        boolean status = false;\r\n            \r\n        try {\r\n            Connection con = DB.myCon();\r\n            Statement S = con.createStatement();\r\n            String query3 = &quot;select userId from employee where userId =&#39;&quot;+username+&quot;&#39;&quot;;\r\n            \r\n            ResultSet rs = S.executeQuery(query3);\r\n            status = rs.equals(&quot;&quot;);\r\n\r\n        } catch (Exception e) {\r\n\r\n            e.printStackTrace();\r\n\r\n        }\r\n\r\n        return status;\r\n    }","title":"How to check User Availability","body":"<p>I need to check the availability of the username when it is going to enter details. Can anybody tell me how I can do it without using hibernate in Java?</p>\n\n<pre><code>public static boolean checkUseName (String username) {\n\n    boolean status = false;\n\n    try {\n        Connection con = DB.myCon();\n        Statement S = con.createStatement();\n        String query3 = \"select userId from employee where userId ='\"+username+\"'\";\n\n        ResultSet rs = S.executeQuery(query3);\n        status = rs.equals(\"\");\n\n    } catch (Exception e) {\n\n        e.printStackTrace();\n\n    }\n\n    return status;\n}\n</code></pre>\n"},{"tags":["java","html","format"],"comments":[{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":0,"creation_date":1633089950,"post_id":69404949,"comment_id":122673884,"body_markdown":"@user16320675 The `%` should be a placeholder. The url for the href should be placed exactly there: `&lt;a href=%s style=&quot;display: inline-block; width: 100%; height: 100%&quot;&gt;`. There is no `%;` in the format string / file.","body":"@user16320675 The <code>%</code> should be a placeholder. The url for the href should be placed exactly there: <code>&lt;a href=%s style=&quot;display: inline-block; width: 100%; height: 100%&quot;&gt;</code>. There is no <code>%;</code> in the format string / file."},{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":0,"creation_date":1633091459,"post_id":69404949,"comment_id":122674581,"body_markdown":"@user16320675 Oh f*ck, yes, you are so right. Sorry for not being able to use my eyes.","body":"@user16320675 Oh f*ck, yes, you are so right. Sorry for not being able to use my eyes."}],"answers":[{"tags":[],"owner":{"account_id":5511506,"reputation":207,"user_id":4377644,"display_name":"Pran Sukh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633090476,"creation_date":1633090476,"answer_id":69405727,"question_id":69404949,"body_markdown":"I have reproduces the issue.\r\n\r\nThe issue in the following line:\r\n\r\n    &lt;a href=%s style=&quot;display: inline-block; width: 100%; height: 100%&quot;&gt;Link can be \r\n    clicked&lt;/a&gt;\r\n\r\nWhen using String.format() function we use %s or %d as placeholders to place the values.\r\n\r\nin your case the **&lt; a &gt;** tag is having style attribute with ; and % which is causing the error.\r\nYou can fix it by replacing the style attribute with class name.\r\n\r\nin your css file create style class as following:\r\n\r\n    .styleClassName{\r\n     display: inline-block; \r\n     width: 100%; \r\n     height: 100%\r\n    }\r\n\r\nand change the &lt;a&gt; style attribute as follow:\r\n\r\n    &lt;a href=%s class=&#39;styleClassName&#39;&gt;Link can be \r\n    clicked&lt;/a&gt;\r\n\r\nPlease do comment if it works or not.","title":"String.format usage with HTML without Conversion problem","body":"<p>I have reproduces the issue.</p>\n<p>The issue in the following line:</p>\n<pre><code>&lt;a href=%s style=&quot;display: inline-block; width: 100%; height: 100%&quot;&gt;Link can be \nclicked&lt;/a&gt;\n</code></pre>\n<p>When using String.format() function we use %s or %d as placeholders to place the values.</p>\n<p>in your case the <strong>&lt; a &gt;</strong> tag is having style attribute with ; and % which is causing the error.\nYou can fix it by replacing the style attribute with class name.</p>\n<p>in your css file create style class as following:</p>\n<pre><code>.styleClassName{\n display: inline-block; \n width: 100%; \n height: 100%\n}\n</code></pre>\n<p>and change the  style attribute as follow:</p>\n<pre><code>&lt;a href=%s class='styleClassName'&gt;Link can be \nclicked&lt;/a&gt;\n</code></pre>\n<p>Please do comment if it works or not.</p>\n"}],"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633091778,"creation_date":1633086806,"question_id":69404949,"body_markdown":"I need to add some content to an HTML string in Java. This HTML is used in an email, which is sent by the Java servlet (by using *jakarta.mail*).\r\n\r\n### HMTL\r\n\r\nIn a file:\r\n\r\n```\r\n&lt;button style=&quot;border: 1px solid #ccc&quot;&gt;\r\n    &lt;a href=%s style=&quot;display: inline-block; width: 100%; height: 100%&quot;&gt;Link can be clicked&lt;/a&gt;\r\n&lt;/button&gt;\r\n```\r\n\r\nWhich is read by `String mailBodyBase = Files.readString(&quot;some/path/to/my.html&quot;)`.\r\n\r\n### Value and formatting code\r\n\r\n```\r\nString URL = &quot;\\&quot;https://some.url/at/%s\\&quot;&quot;;\r\nString urlForUser = String.format(URL, &quot;set236sdgh235JH&quot;); // the argument is actually retrieved from DB\r\nreturn String.format(mailBodyBase, urlForUser); // Exception occures here\r\n```\r\n\r\n### Expected Result\r\n```\r\n&lt;button style=&quot;border: 1px solid #ccc&quot;&gt;\r\n    &lt;a href=&quot;https://some.url/at/set236sdgh235JH&quot; style=&quot;display: inline-block; width: 100%; height: 100%&quot;&gt;Link can be clicked&lt;/a&gt;\r\n&lt;/button&gt;\r\n```\r\n\r\nI am doing this instead of a much more simple `.concat()` because it is possible that we want to add more values to the HTML at some point.\r\n\r\n### Exception\r\n\r\nBut am getting an `UnknownFormatConversionException`:\r\n\r\n```\r\njava.util.UnknownFormatConversionException: Conversion = &#39;;&#39;\r\n\tat java.util.Formatter.checkText(Formatter.java:2732) ~[?:?]\r\n\tat java.util.Formatter.parse(Formatter.java:2718) ~[?:?]\r\n\tat java.util.Formatter.format(Formatter.java:2655) ~[?:?]\r\n\tat java.util.Formatter.format(Formatter.java:2609) ~[?:?]\r\n\tat java.lang.String.format(String.java:2897) ~[?:?]\r\n```\r\n\r\nThe same works pretty well with:\r\n\r\n```\r\n&lt;html style=&quot;padding: 30px 0 0 30px; font-size: 16px&quot;&gt;\r\n    &lt;h2 style=&quot;background-color: #0077bd; color: #eff; padding: 10px 5px;&quot;&gt;App Name&lt;/h2&gt;\r\n    %1$s\r\n&lt;/html&gt;\r\n```\r\n\r\nAnd put content into this frame with `String body = String.format [...];`.\r\n\r\n## Solution\r\n\r\n#### Mask the *%* in the CSS with another *%*.\r\n\r\n### Old:\r\n\r\nI have read [the docs for *String.format*][1] and a [tutorial][2], but I cannot see **the problem from there. It might be related to the quotes (*&quot;*) in the HTML.**\r\n\r\nDo I need to use another tool or *String.format* a different way?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html\r\n  [2]: https://dzone.com/articles/java-string-format-examples","title":"String.format usage with HTML without Conversion problem","body":"<p>I need to add some content to an HTML string in Java. This HTML is used in an email, which is sent by the Java servlet (by using <em>jakarta.mail</em>).</p>\n<h3>HMTL</h3>\n<p>In a file:</p>\n<pre><code>&lt;button style=&quot;border: 1px solid #ccc&quot;&gt;\n    &lt;a href=%s style=&quot;display: inline-block; width: 100%; height: 100%&quot;&gt;Link can be clicked&lt;/a&gt;\n&lt;/button&gt;\n</code></pre>\n<p>Which is read by <code>String mailBodyBase = Files.readString(&quot;some/path/to/my.html&quot;)</code>.</p>\n<h3>Value and formatting code</h3>\n<pre><code>String URL = &quot;\\&quot;https://some.url/at/%s\\&quot;&quot;;\nString urlForUser = String.format(URL, &quot;set236sdgh235JH&quot;); // the argument is actually retrieved from DB\nreturn String.format(mailBodyBase, urlForUser); // Exception occures here\n</code></pre>\n<h3>Expected Result</h3>\n<pre><code>&lt;button style=&quot;border: 1px solid #ccc&quot;&gt;\n    &lt;a href=&quot;https://some.url/at/set236sdgh235JH&quot; style=&quot;display: inline-block; width: 100%; height: 100%&quot;&gt;Link can be clicked&lt;/a&gt;\n&lt;/button&gt;\n</code></pre>\n<p>I am doing this instead of a much more simple <code>.concat()</code> because it is possible that we want to add more values to the HTML at some point.</p>\n<h3>Exception</h3>\n<p>But am getting an <code>UnknownFormatConversionException</code>:</p>\n<pre><code>java.util.UnknownFormatConversionException: Conversion = ';'\n    at java.util.Formatter.checkText(Formatter.java:2732) ~[?:?]\n    at java.util.Formatter.parse(Formatter.java:2718) ~[?:?]\n    at java.util.Formatter.format(Formatter.java:2655) ~[?:?]\n    at java.util.Formatter.format(Formatter.java:2609) ~[?:?]\n    at java.lang.String.format(String.java:2897) ~[?:?]\n</code></pre>\n<p>The same works pretty well with:</p>\n<pre><code>&lt;html style=&quot;padding: 30px 0 0 30px; font-size: 16px&quot;&gt;\n    &lt;h2 style=&quot;background-color: #0077bd; color: #eff; padding: 10px 5px;&quot;&gt;App Name&lt;/h2&gt;\n    %1$s\n&lt;/html&gt;\n</code></pre>\n<p>And put content into this frame with <code>String body = String.format [...];</code>.</p>\n<h2>Solution</h2>\n<h4>Mask the <em>%</em> in the CSS with another <em>%</em>.</h4>\n<h3>Old:</h3>\n<p>I have read <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">the docs for <em>String.format</em></a> and a <a href=\"https://dzone.com/articles/java-string-format-examples\" rel=\"nofollow noreferrer\">tutorial</a>, but I cannot see <strong>the problem from there. It might be related to the quotes (<em>&quot;</em>) in the HTML.</strong></p>\n<p>Do I need to use another tool or <em>String.format</em> a different way?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1633090129,"post_id":69405198,"comment_id":122673972,"body_markdown":"Your comparator is not a proper comparator. It violates the comparator protocol. This is also not a sensible way to randomly sample or shuffle in the first place.","body":"Your comparator is not a proper comparator. It violates the comparator protocol. This is also not a sensible way to randomly sample or shuffle in the first place."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1633090234,"post_id":69405198,"comment_id":122674014,"body_markdown":"@kaya3 &quot;It violates the comparator protocol&quot; OP knows this (&quot;I understand why I get this&quot;).","body":"@kaya3 &quot;It violates the comparator protocol&quot; OP knows this (&quot;I understand why I get this&quot;)."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1633090397,"creation_date":1633088246,"answer_id":69405251,"question_id":69405198,"body_markdown":"&gt; There is a way to suppress/ignore this error?\r\n\r\nNo.\r\n\r\nYou&#39;re not really shuffling here, you&#39;re ostensibly just trying to pick a random element from the stream.\r\n\r\nTo do this, you can pair up the elements with a random number and pick the min/max:\r\n\r\n```\r\n...\r\n.map(a -&gt; new AbstractMap.SimpleEntry&lt;&gt;(Math.random(), a))\r\n.min(Map.Entry.comparingByKey())\r\n.map(Map.Entry::getValue)\r\n.orElse(null)\r\n```\r\n\r\n---\r\n\r\nAlternatively, you can write a custom collector which randomly picks between two things when merging:\r\n\r\n```\r\n.collect(\r\n    Collector.of(\r\n        // Use Optional.empty() as the identity element, if the stream is empty.\r\n        Optional::empty,\r\n        // Optionalize the element, taking it randomly or if we have the identity element.\r\n        (a, b) -&gt; a.isEmpty() || Math.random() &gt; 0.5 ? Optional.of(b) : a,\r\n        // Merge.\r\n        (a, b) -&gt; Math.random() &gt; 0.5 ? b : a,\r\n        // Unwrap the value.\r\n        r -&gt; r.orElse(null)))\r\n```\r\n\r\nThe big problem with this alternative is it doesn&#39;t pick uniformly from the stream (you&#39;re not equally likely to get any one of the elements from the stream), whereas you are with the first way.","title":"Shuffle Stream using sort - IllegalArgumentException","body":"<blockquote>\n<p>There is a way to suppress/ignore this error?</p>\n</blockquote>\n<p>No.</p>\n<p>You're not really shuffling here, you're ostensibly just trying to pick a random element from the stream.</p>\n<p>To do this, you can pair up the elements with a random number and pick the min/max:</p>\n<pre><code>...\n.map(a -&gt; new AbstractMap.SimpleEntry&lt;&gt;(Math.random(), a))\n.min(Map.Entry.comparingByKey())\n.map(Map.Entry::getValue)\n.orElse(null)\n</code></pre>\n<hr />\n<p>Alternatively, you can write a custom collector which randomly picks between two things when merging:</p>\n<pre><code>.collect(\n    Collector.of(\n        // Use Optional.empty() as the identity element, if the stream is empty.\n        Optional::empty,\n        // Optionalize the element, taking it randomly or if we have the identity element.\n        (a, b) -&gt; a.isEmpty() || Math.random() &gt; 0.5 ? Optional.of(b) : a,\n        // Merge.\n        (a, b) -&gt; Math.random() &gt; 0.5 ? b : a,\n        // Unwrap the value.\n        r -&gt; r.orElse(null)))\n</code></pre>\n<p>The big problem with this alternative is it doesn't pick uniformly from the stream (you're not equally likely to get any one of the elements from the stream), whereas you are with the first way.</p>\n"}],"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69405251,"answer_count":1,"score":2,"last_activity_date":1633091759,"creation_date":1633087978,"question_id":69405198,"body_markdown":"I have this commands:\r\n\r\n```\r\nlist.stream()\r\n\t.filter(e -&gt; ...)\r\n\t.sorted(comparatorShuffle())\r\n\t.findAny()\r\n\t.orElse(null);\r\n```\r\nThis is `comparatorShuffle()`:\r\n```\r\npublic static &lt;E&gt; Comparator&lt;E&gt; comparatorShuffle(){\r\n\r\n\treturn new Comparator&lt;&gt;(){\r\n\t\tprivate final List&lt;Integer&gt; temp = List.of(-1, 1);\r\n\t\tprivate final Random random = new Random();\r\n\t\t@Override\r\n\t\t@SuppressWarnings(&quot;ComparatorMethodParameterNotUsed&quot;)\r\n\t\tpublic int compare(E o1, E o2){\r\n\t\t\treturn temp.get(random.nextInt(temp.size()));\r\n\t\t}\r\n\t};\r\n\r\n}\r\n```\r\nSometimes I get an exception: `IllegalArgumentException: Comparison method violates its general contract!`\r\n\r\nI understand why I get this, it&#39;s because the sort(it&#39;s random) don&#39;t respect the rule: `if A &gt; B &amp;&amp; B &gt; C then A &gt; C`\r\n\r\nThere is a way to suppress/ignore this error? Or another way to shuffle the stream without using `collect`?","title":"Shuffle Stream using sort - IllegalArgumentException","body":"<p>I have this commands:</p>\n<pre><code>list.stream()\n    .filter(e -&gt; ...)\n    .sorted(comparatorShuffle())\n    .findAny()\n    .orElse(null);\n</code></pre>\n<p>This is <code>comparatorShuffle()</code>:</p>\n<pre><code>public static &lt;E&gt; Comparator&lt;E&gt; comparatorShuffle(){\n\n    return new Comparator&lt;&gt;(){\n        private final List&lt;Integer&gt; temp = List.of(-1, 1);\n        private final Random random = new Random();\n        @Override\n        @SuppressWarnings(&quot;ComparatorMethodParameterNotUsed&quot;)\n        public int compare(E o1, E o2){\n            return temp.get(random.nextInt(temp.size()));\n        }\n    };\n\n}\n</code></pre>\n<p>Sometimes I get an exception: <code>IllegalArgumentException: Comparison method violates its general contract!</code></p>\n<p>I understand why I get this, it's because the sort(it's random) don't respect the rule: <code>if A &gt; B &amp;&amp; B &gt; C then A &gt; C</code></p>\n<p>There is a way to suppress/ignore this error? Or another way to shuffle the stream without using <code>collect</code>?</p>\n"},{"tags":["java","arrays","minecraft","bukkit"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1633091039,"post_id":69405650,"comment_id":122674372,"body_markdown":"We need more code to help you. Where are you disabling fall damage ? Like where are you using this list ?","body":"We need more code to help you. Where are you disabling fall damage ? Like where are you using this list ?"},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1633091103,"post_id":69405650,"comment_id":122674403,"body_markdown":"I mean.. encapsulate the `add` and `remove` calls in individual functions and make sure to set required `p` attributes in those functions.","body":"I mean.. encapsulate the <code>add</code> and <code>remove</code> calls in individual functions and make sure to set required <code>p</code> attributes in those functions."},{"owner":{"account_id":1474271,"reputation":1908,"user_id":1385083,"accept_rate":57,"display_name":"Jamie"},"score":0,"creation_date":1633093206,"post_id":69405650,"comment_id":122675254,"body_markdown":"Why don&#39;t you set a property on the player, like `p.setFlying(boolean)`?","body":"Why don&#39;t you set a property on the player, like <code>p.setFlying(boolean)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633091622,"creation_date":1633091622,"answer_id":69405969,"question_id":69405650,"body_markdown":"This is the full class that can help you (without import, with comment to explain how it works) :\r\n\r\n```java\r\nprivate final ArrayList&lt;Player&gt; nofalldmg = new ArrayList&lt;Player&gt;(); // declare list\r\n\r\n@EventHandler\r\npublic void onDamageDisabler(EntityDamageEvent e) { // method to disable fall damage\r\n   if (e.getCause() == EntityDamageEvent.DamageCause.FALL) { // only if it&#39;s fall\r\n      if(e.getEntity() instanceof Player &amp;&amp; nofalldmg.contains((Player) e.getEntity()) { // only if it&#39;s in list\r\n         e.setCancelled(true); // cancel\r\n      }\r\n   }\r\n}\r\n\r\n\r\npublic void yourMethod(CommandSender sender) {\r\n   Player p = (Player) sender;\r\n   if (p.hasPermission(&quot;custome.fly&quot;)) { // your conditions\r\n       if (p.isFlying()) {\r\n          p.setAllowFlight(false);\r\n          p.setFlying(false);\r\n          nofalldmg.add(p); // here we add it to the list\r\n          Bukkit.getScheduler().scheduleSyncDelayedTask(plugin, () -&gt; {\r\n             nofalldmg.remove(p);\r\n             // here you can resetting everything that you want\r\n          }, 60); // no we remove it, so can take damage\r\n       }\r\n   }\r\n}\r\n```","title":"How do I perform an action only on the even something is removed from an array list?","body":"<p>This is the full class that can help you (without import, with comment to explain how it works) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final ArrayList&lt;Player&gt; nofalldmg = new ArrayList&lt;Player&gt;(); // declare list\n\n@EventHandler\npublic void onDamageDisabler(EntityDamageEvent e) { // method to disable fall damage\n   if (e.getCause() == EntityDamageEvent.DamageCause.FALL) { // only if it's fall\n      if(e.getEntity() instanceof Player &amp;&amp; nofalldmg.contains((Player) e.getEntity()) { // only if it's in list\n         e.setCancelled(true); // cancel\n      }\n   }\n}\n\n\npublic void yourMethod(CommandSender sender) {\n   Player p = (Player) sender;\n   if (p.hasPermission(&quot;custome.fly&quot;)) { // your conditions\n       if (p.isFlying()) {\n          p.setAllowFlight(false);\n          p.setFlying(false);\n          nofalldmg.add(p); // here we add it to the list\n          Bukkit.getScheduler().scheduleSyncDelayedTask(plugin, () -&gt; {\n             nofalldmg.remove(p);\n             // here you can resetting everything that you want\n          }, 60); // no we remove it, so can take damage\n       }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":22914196,"reputation":19,"user_id":17051044,"display_name":"Zavage"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69405969,"answer_count":1,"score":0,"last_activity_date":1633091622,"creation_date":1633090115,"question_id":69405650,"body_markdown":"Here is an example of what I&#39;m working with...\r\n\r\n```\r\n\tPlayer p = (Player) sender;\r\n\t\tArrayList&lt;Player&gt; nofalldmg = new ArrayList&lt;Player&gt;();\r\n\t\r\n\t    \r\n\t\tif (p.hasPermission(&quot;custome.fly&quot;)) {\r\n\t\t\tif (p.isFlying()) {\r\n\t\t\t\tp.setAllowFlight(false);\r\n\t\t\t\tp.setFlying(false);\r\n\t\t\t\tnofalldmg.add(p);\r\n\t\t\t\tBukkit.getScheduler().scheduleSyncDelayedTask(plugin, new Runnable() {\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\tnofalldmg.remove(p);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}, 60);\r\n```\r\nSo as you can see I have two lines of code 1 &quot;nofalldmg.add(p);&quot; that adds the player to an array list, and 2 &quot;nofalldmg.remove(p);&quot; that removes the player from the array list\r\n\r\nWhen they are added to the array list their fall damage is canceled, what I want to know is once they are removed from that array list how do I re enable their fall damage?","title":"How do I perform an action only on the even something is removed from an array list?","body":"<p>Here is an example of what I'm working with...</p>\n<pre><code>    Player p = (Player) sender;\n        ArrayList&lt;Player&gt; nofalldmg = new ArrayList&lt;Player&gt;();\n    \n        \n        if (p.hasPermission(&quot;custome.fly&quot;)) {\n            if (p.isFlying()) {\n                p.setAllowFlight(false);\n                p.setFlying(false);\n                nofalldmg.add(p);\n                Bukkit.getScheduler().scheduleSyncDelayedTask(plugin, new Runnable() {\n                    public void run() {\n                        nofalldmg.remove(p);\n                    }\n                    }, 60);\n</code></pre>\n<p>So as you can see I have two lines of code 1 &quot;nofalldmg.add(p);&quot; that adds the player to an array list, and 2 &quot;nofalldmg.remove(p);&quot; that removes the player from the array list</p>\n<p>When they are added to the array list their fall damage is canceled, what I want to know is once they are removed from that array list how do I re enable their fall damage?</p>\n"},{"tags":["java","spring-boot","kotlin"],"comments":[{"owner":{"account_id":1161345,"reputation":1837,"user_id":1140783,"accept_rate":67,"display_name":"Syed Ali"},"score":0,"creation_date":1638233235,"post_id":69405887,"comment_id":124029154,"body_markdown":"any luck with this issue? I am having same problem.","body":"any luck with this issue? I am having same problem."},{"owner":{"account_id":14508757,"reputation":452,"user_id":10479804,"display_name":"Andrey"},"score":1,"creation_date":1638243277,"post_id":69405887,"comment_id":124030665,"body_markdown":"Unfortunately, no. I ended up with using constructor with all default values. Also I&#39;ve made a ticket (https://youtrack.jetbrains.com/issue/KTIJ-19882) but there is no fixes no extra information.","body":"Unfortunately, no. I ended up with using constructor with all default values. Also I&#39;ve made a ticket (<a href=\"https://youtrack.jetbrains.com/issue/KTIJ-19882\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KTIJ-19882</a>) but there is no fixes no extra information."},{"owner":{"account_id":1161345,"reputation":1837,"user_id":1140783,"accept_rate":67,"display_name":"Syed Ali"},"score":0,"creation_date":1638247933,"post_id":69405887,"comment_id":124031403,"body_markdown":"https://www.baeldung.com/kotlin/jpa I saw here that they are also using default value for ID even though it is auto generated.","body":"<a href=\"https://www.baeldung.com/kotlin/jpa\" rel=\"nofollow noreferrer\">baeldung.com/kotlin/jpa</a> I saw here that they are also using default value for ID even though it is auto generated."}],"owner":{"account_id":14508757,"reputation":452,"user_id":10479804,"display_name":"Andrey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1633091210,"creation_date":1633091210,"question_id":69405887,"body_markdown":"I want to add no-arg constructor for Kotlin class in Spring Boot app. I followed these [instructions][1] and have next configuration.\r\n\r\nVersion of Kotlin: **1.5.30**.\r\n\r\n**pom.xml**\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;args&gt;\r\n            &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\r\n          &lt;/args&gt;\r\n          &lt;jvmTarget&gt;11&lt;/jvmTarget&gt;\r\n          &lt;compilerPlugins&gt;\r\n            &lt;plugin&gt;spring&lt;/plugin&gt;\r\n            &lt;plugin&gt;jpa&lt;/plugin&gt;\r\n            &lt;plugin&gt;all-open&lt;/plugin&gt;\r\n            &lt;plugin&gt;no-arg&lt;/plugin&gt;\r\n          &lt;/compilerPlugins&gt;\r\n          &lt;pluginOptions&gt;\r\n            &lt;option&gt;all-open:annotation=javax.persistence.Entity&lt;/option&gt;\r\n            &lt;option&gt;all-open:annotation=javax.persistence.MappedSuperclass&lt;/option&gt;\r\n            &lt;option&gt;all-open:annotation=javax.persistence.Embeddable&lt;/option&gt;\r\n            &lt;option&gt;no-arg:annotation=com.abc.xyz.NoArg&lt;/option&gt;\r\n          &lt;/pluginOptions&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;\r\n\r\n**NoArg Annotation**\r\n\r\n    @Target(AnnotationTarget.CLASS)\r\n    @Retention(AnnotationRetention.SOURCE)\r\n    annotation class NoArg\r\n\r\n**Target Class**\r\n\r\n    @NoArg\r\n    class DemoClass(\r\n      val type: String,\r\n      val title: String,\r\n    )\r\n\r\nBut when I try to invoke `val demoClass = DemoClass()` in test got next error:\r\n\r\n    Kotlin: No value passed for parameter &#39;type&#39;\r\n    Kotlin: No value passed for parameter &#39;title&#39;\r\n\r\nMaybe some tweaks are required in IDEA?\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/no-arg-plugin.html\r\n\r\n","title":"Kotlin no-args plugin doesn&#39;t work with Maven","body":"<p>I want to add no-arg constructor for Kotlin class in Spring Boot app. I followed these <a href=\"https://kotlinlang.org/docs/no-arg-plugin.html\" rel=\"nofollow noreferrer\">instructions</a> and have next configuration.</p>\n<p>Version of Kotlin: <strong>1.5.30</strong>.</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;args&gt;\n        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n      &lt;/args&gt;\n      &lt;jvmTarget&gt;11&lt;/jvmTarget&gt;\n      &lt;compilerPlugins&gt;\n        &lt;plugin&gt;spring&lt;/plugin&gt;\n        &lt;plugin&gt;jpa&lt;/plugin&gt;\n        &lt;plugin&gt;all-open&lt;/plugin&gt;\n        &lt;plugin&gt;no-arg&lt;/plugin&gt;\n      &lt;/compilerPlugins&gt;\n      &lt;pluginOptions&gt;\n        &lt;option&gt;all-open:annotation=javax.persistence.Entity&lt;/option&gt;\n        &lt;option&gt;all-open:annotation=javax.persistence.MappedSuperclass&lt;/option&gt;\n        &lt;option&gt;all-open:annotation=javax.persistence.Embeddable&lt;/option&gt;\n        &lt;option&gt;no-arg:annotation=com.abc.xyz.NoArg&lt;/option&gt;\n      &lt;/pluginOptions&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p><strong>NoArg Annotation</strong></p>\n<pre><code>@Target(AnnotationTarget.CLASS)\n@Retention(AnnotationRetention.SOURCE)\nannotation class NoArg\n</code></pre>\n<p><strong>Target Class</strong></p>\n<pre><code>@NoArg\nclass DemoClass(\n  val type: String,\n  val title: String,\n)\n</code></pre>\n<p>But when I try to invoke <code>val demoClass = DemoClass()</code> in test got next error:</p>\n<pre><code>Kotlin: No value passed for parameter 'type'\nKotlin: No value passed for parameter 'title'\n</code></pre>\n<p>Maybe some tweaks are required in IDEA?</p>\n"},{"tags":["java","maven","maven-shade-plugin","aws-lambda-layers"],"owner":{"account_id":2082185,"reputation":21,"user_id":1853970,"display_name":"arvind1988"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633090283,"creation_date":1633090283,"question_id":69405685,"body_markdown":"I want to be able to build and package lambda layers along with the lambda functions in the same maven multi-module project. How can I do that?\r\n\r\nI am able to successfully do it by creating a separate maven project for all the dependencies and then use it as a dependency in the other maven multi-module project containing the lambda functions. I want to avoid the creation and maintenance of separate projects just for lambda layers.","title":"How to build and package lambda layers containing all the dependencies in a java maven project?","body":"<p>I want to be able to build and package lambda layers along with the lambda functions in the same maven multi-module project. How can I do that?</p>\n<p>I am able to successfully do it by creating a separate maven project for all the dependencies and then use it as a dependency in the other maven multi-module project containing the lambda functions. I want to avoid the creation and maintenance of separate projects just for lambda layers.</p>\n"},{"tags":["java","maven","tomcat","jax-rs","http-status-code-404"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1632926178,"post_id":69376561,"comment_id":122625869,"body_markdown":"Can you add a list of dependencies of your application (edit your question)? Which Jersey artifacts do you use and what is their version.","body":"Can you add a list of dependencies of your application (edit your question)? Which Jersey artifacts do you use and what is their version."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1632964695,"post_id":69376561,"comment_id":122637729,"body_markdown":"What Tomcat version are you using and what version does Elastic Beanstalk use? Are you using Jersey 3? This will not work with Tomcat versions earlier than 10","body":"What Tomcat version are you using and what version does Elastic Beanstalk use? Are you using Jersey 3? This will not work with Tomcat versions earlier than 10"},{"owner":{"account_id":5547587,"reputation":181,"user_id":4401765,"display_name":"nadeem ahmad"},"score":0,"creation_date":1633089826,"post_id":69376561,"comment_id":122673826,"body_markdown":"I am  using jersey 2.7 and tomcat 8 version","body":"I am  using jersey 2.7 and tomcat 8 version"}],"owner":{"account_id":5547587,"reputation":181,"user_id":4401765,"display_name":"nadeem ahmad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633090152,"creation_date":1632919157,"question_id":69376561,"body_markdown":"I am getting this error while calling my rest API after deploying on AWS elastic beans. This was working perfectly on my localhost tomcat server but seems i am missing something in deployment. Index file is running properly on AWS.\r\n\r\n[![Error][1]][1]\r\n\r\nBelow are the URLs i am using.\r\n\r\nLocalhost: **http://localhost:8080/test/rest/transaction/data**\r\n\r\nServer: **http://apazonpayuat.ap-south-1.elasticbeanstalk.com/test/rest/transaction/data**\r\n\r\nPlease check my code below.\r\n\r\n    @Path(&quot;/transaction&quot;)\r\n    public class TestTransaction {\r\n\t\r\n\t@POST\r\n\t@Consumes(MediaType.APPLICATION_JSON)\r\n\t@Path(&quot;/data&quot;)\r\n\tpublic void preTransaction(TransactionData transaction, @Context HttpServletRequest request, @Context HttpServletResponse response){\r\n\t\ttry {\r\n\t\t\tString accountId = transaction.getAccountId();\r\n\t\t\tString idempotenceId = transaction.getIdempotenceId();\r\n\t\t\tString returnUrl = transaction.getReturnURL();\r\n\t\t\tlong amount = transaction.getAmount();\r\n\r\n\t\t\tSystem.out.println(&quot;Account id: &quot;+accountId);\r\n\t\t\tSystem.out.println(&quot;idempotenceId : &quot;+idempotenceId);\r\n\t\t\tSystem.out.println(&quot;returnURL &quot;+returnUrl);\r\n\t\t\tSystem.out.println(&quot;Amount: &quot;+amount);\r\n    }\r\n    }\r\n\r\n**web.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!-- This web.xml file is not required when using Servlet 3.0 container,\r\n     see implementation details http://jersey.java.net/nonav/documentation/latest/jax-rs.html --&gt;\r\n    &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n            &lt;param-value&gt;com.test.pay.paywithcard&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/4utnI.png\r\n\r\nHere is my **pom.xml** file:\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;test&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.1&lt;/version&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.7&lt;/source&gt;\r\n                    &lt;target&gt;1.7&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n            &lt;!-- use the following artifactId if you don&#39;t need servlet 2.x compatibility --&gt;\r\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- uncomment this to get JSON support\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-binding&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n        \r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.2.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.2.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.2.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;  \r\n\t\t  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;2.4&lt;/version&gt;\r\n\t\t  &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;      \r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t   &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n\t\t   &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;  \r\n\t\t        \r\n\t\t    &lt;/dependencies&gt;\r\n\t\t    &lt;properties&gt;\r\n\t\t        &lt;jersey.version&gt;2.27&lt;/jersey.version&gt;\r\n\t\t        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t    &lt;/properties&gt;\r\n\t\t&lt;/project&gt;\r\n\r\nPlease help.","title":"Getting resource not available error while calling rest API","body":"<p>I am getting this error while calling my rest API after deploying on AWS elastic beans. This was working perfectly on my localhost tomcat server but seems i am missing something in deployment. Index file is running properly on AWS.</p>\n<p><a href=\"https://i.stack.imgur.com/4utnI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4utnI.png\" alt=\"Error\" /></a></p>\n<p>Below are the URLs i am using.</p>\n<p>Localhost: <strong>http://localhost:8080/test/rest/transaction/data</strong></p>\n<p>Server: <strong><a href=\"http://apazonpayuat.ap-south-1.elasticbeanstalk.com/test/rest/transaction/data\" rel=\"nofollow noreferrer\">http://apazonpayuat.ap-south-1.elasticbeanstalk.com/test/rest/transaction/data</a></strong></p>\n<p>Please check my code below.</p>\n<pre><code>@Path(&quot;/transaction&quot;)\npublic class TestTransaction {\n\n@POST\n@Consumes(MediaType.APPLICATION_JSON)\n@Path(&quot;/data&quot;)\npublic void preTransaction(TransactionData transaction, @Context HttpServletRequest request, @Context HttpServletResponse response){\n    try {\n        String accountId = transaction.getAccountId();\n        String idempotenceId = transaction.getIdempotenceId();\n        String returnUrl = transaction.getReturnURL();\n        long amount = transaction.getAmount();\n\n        System.out.println(&quot;Account id: &quot;+accountId);\n        System.out.println(&quot;idempotenceId : &quot;+idempotenceId);\n        System.out.println(&quot;returnURL &quot;+returnUrl);\n        System.out.println(&quot;Amount: &quot;+amount);\n}\n}\n</code></pre>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- This web.xml file is not required when using Servlet 3.0 container,\n see implementation details http://jersey.java.net/nonav/documentation/latest/jax-rs.html --&gt;\n&lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\n&lt;servlet&gt;\n    &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n        &lt;param-value&gt;com.test.pay.paywithcard&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>Here is my <strong>pom.xml</strong> file:</p>\n<pre><code>&lt;build&gt;\n    &lt;finalName&gt;test&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n            &lt;inherited&gt;true&lt;/inherited&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n        &lt;!-- use the following artifactId if you don't need servlet 2.x compatibility --&gt;\n        &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- uncomment this to get JSON support\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-json-binding&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    --&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;  \n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;2.4&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;      \n    \n    &lt;dependency&gt;\n       &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n       &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n    &lt;/dependency&gt;  \n            \n        &lt;/dependencies&gt;\n        &lt;properties&gt;\n            &lt;jersey.version&gt;2.27&lt;/jersey.version&gt;\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;/properties&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>Please help.</p>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"score":1,"creation_date":1632761225,"post_id":69350192,"comment_id":122575009,"body_markdown":"You have to define a component which extends **JobExecutionListenerSupport**  and this listener class would be responsible to terminate the process after completion of job. For more detail URL : https://spring.io/guides/gs/batch-processing/","body":"You have to define a component which extends <b>JobExecutionListenerSupport</b>  and this listener class would be responsible to terminate the process after completion of job. For more detail URL : <a href=\"https://spring.io/guides/gs/batch-processing/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/batch-processing</a>"},{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1632764117,"post_id":69350192,"comment_id":122576120,"body_markdown":"updated the question, please suggest.","body":"updated the question, please suggest."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1632817856,"post_id":69350192,"comment_id":122589280,"body_markdown":"What is the type of `taskExecutorAsync` that you set on the `itemProcessorAsync`? If this is a `TaskExecutor` that could be shutdown, you can inject it in the `JobListener` and call `shutdown` in `afterJob`.","body":"What is the type of <code>taskExecutorAsync</code> that you set on the <code>itemProcessorAsync</code>? If this is a <code>TaskExecutor</code> that could be shutdown, you can inject it in the <code>JobListener</code> and call <code>shutdown</code> in <code>afterJob</code>."},{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1633089491,"post_id":69350192,"comment_id":122673672,"body_markdown":"@MahmoudBenHassine -- have updated the question, please suggest.","body":"@MahmoudBenHassine -- have updated the question, please suggest."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1633091446,"post_id":69350192,"comment_id":122674571,"body_markdown":"Your updates look good to me, you now shutdown the taskexecutor in the the job listener and your app terminates correctly without `System.exit`. That answers your initial question.","body":"Your updates look good to me, you now shutdown the taskexecutor in the the job listener and your app terminates correctly without <code>System.exit</code>. That answers your initial question."}],"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633089462,"creation_date":1632760370,"question_id":69350192,"body_markdown":"I have a spring batch application packaged as a jar file.\r\n\r\nI could execute the jar as mentioned below in the windows cmd prompt\r\n\r\n&gt; java -Xms2048m -Xmx2048m -Ddivision=25 -Ddate= -Denv=dv -Dconn=45 -jar demo-jobs*.jar job-definition.xml jobName -next\r\n\r\nBelow is my bean definition\r\n\r\n\t&lt;batch:step id=&quot;baseStep&quot; abstract=&quot;true&quot;&gt;\r\n\t\t&lt;batch:tasklet&gt;\r\n\t\t\t&lt;batch:chunk\r\n\t\t\t\t\treader=&quot;cvsFileItemReader&quot;\r\n\t\t\t\t\tprocessor=&quot;itemProcessorAsync&quot;\r\n\t\t\t\t\twriter=&quot;itemWriterAsync&quot;\r\n\t\t\t\t\tcommit-interval=&quot;100&quot; /&gt;\r\n\t\t&lt;/batch:tasklet&gt;\r\n\t&lt;/batch:step&gt;\r\n\r\n    &lt;bean id=&quot;itemProcessor&quot; class=&quot;com.demo.batch.jobs.csv.Processor&quot; /&gt;\r\n    \r\n    &lt;bean id=&quot;itemWriter&quot; class=&quot;com.demo.batch.jobs.csv.Writer&quot; &gt;\r\n    \t&lt;!-- --&gt;\r\n    \t    &lt;constructor-arg ref = &quot;hibernateItemWriter&quot;/&gt;\r\n    \t&lt;!-- --&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;itemProcessorAsync&quot; class=&quot;org.springframework.batch.integration.async.AsyncItemProcessor&quot;&gt;\r\n    \t&lt;property name=&quot;delegate&quot; ref=&quot;itemProcessor&quot;/&gt;\r\n    \t&lt;property name=&quot;taskExecutor&quot; ref=&quot;taskExecutorAsync&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;itemWriterAsync&quot; class=&quot;org.springframework.batch.integration.async.AsyncItemWriter&quot;&gt;\r\n    \t&lt;property name=&quot;delegate&quot; ref=&quot;itemWriter&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n\t&lt;task:executor id=&quot;taskExecutorAsync&quot; pool-size=&quot;5-25&quot; queue-capacity=&quot;100&quot;/&gt;\r\n\r\n\t&lt;!-- Listener --&gt;\r\n\t&lt;bean id=&quot;interceptingJobExecution&quot; class=&quot;com.demo.batch.listener.JobListener&quot; &gt;\r\n\t\t&lt;!-- &lt;constructor-arg ref=&quot;taskExecutorAsync&quot; /&gt; --&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\nBelow is my main method\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \tlong start = System.currentTimeMillis();\r\n    \tlogger.info(&quot;starting Main method&quot; + new Date());\r\n    \r\n    \tString[] springConfig  = \r\n    \t\t{\r\n    \t\t\t\t&quot;spring/batch/jobs/job-definition.xml&quot;\r\n    \t\t};\r\n    \r\n    \tClassPathXmlApplicationContext context =\r\n    \t\t\tnew ClassPathXmlApplicationContext(springConfig);\r\n    \t\r\n    \tJobLauncher jobLauncher = (JobLauncher) context.getBean(&quot;jobLauncher&quot;);\r\n    \tJob job = (Job) context.getBean(&quot;starterJob&quot;);\r\n    \r\n    \ttry {\r\n    \r\n    \t\tJobExecution execution = jobLauncher.run(job, new JobParameters());\r\n    \t\tlogger.info(&quot;Exit Status : &quot;, execution.getStatus());\r\n    \r\n    \t} catch (Exception e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \r\n    \tlong end = System.currentTimeMillis();\r\n    \tlong elapsedTime = end - start;\r\n    \r\n    \tlogger.info(&quot;Completed Main method : &quot; + new Date());\r\n    \tlogger.info(&quot;Overall Execution time : &quot; + elapsedTime);\r\n    \r\n    }\r\n\r\nit does not get terminated without &quot;**System.exit(0);**&quot;\r\n\r\nhowever without **Async** it gets terminated, how do I make the application terminate without using &quot;**System.exit(0);**&quot;\r\n\r\n**update:**: as suggested by Mahmoud Ben Hassine, tried the below**&quot;\r\n\r\n    @Component\r\n    public class JobListener implements JobExecutionListener{\r\n    \t@Autowired\r\n    \tThreadPoolTaskExecutor taskExecutor;\r\n    \r\n    \t@Override\r\n    \tpublic void beforeJob(JobExecution jobExecution) {\r\n    \t\t//\r\n    \t\t// Can Log || do some business code\r\n    \t\t//\r\n    \t\tSystem.out.println(&quot;## Intercepting Job Excution - Before Job!&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void afterJob(JobExecution jobExecution) {\r\n    \t\tSystem.out.println(&quot;## Intercepting Job Excution - After Job!&quot;);\r\n    \r\n    \t\tif(jobExecution.getStatus() == BatchStatus.COMPLETED) {\r\n    \t\t\tSystem.out.println(&quot;!!! JOB FINISHED! Time to verify the results&quot;);\r\n    \t\t}\r\n    \r\n    \t\ttaskExecutor.shutdown();\r\n    \t}\r\n    }\r\n\r\n\r\nNow it is getting terminated - however is this a right way?\r\n\r\n    INFO  : 10.01.2021:1723 (21.006) [[]main] AbstractStep: Step: [stepcsv] executed in 33s426ms \r\n    !!! JOB FINISHED! Time to verify the results\r\n    ## Intercepting Job Excution - After Job!\r\n    !!! JOB FINISHED! Time to verify the results\r\n    INFO  : 10.01.2021:1723 (21.012) [[]main] ThreadPoolTaskExecutor: Shutting down ExecutorService \r\n    # Base Job Listener - Intercepting Job Excution - After Job!\r\n    INFO  : 10.01.2021:1723 (21.021) [[]main] SimpleJobLauncher: Job: [FlowJob: [name=starterJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 33s506ms \r\n    INFO  : 10.01.2021:1723 (21.030) [[]main] App: Exit Status :  \r\n    INFO  : 10.01.2021:1723 (21.030) [[]main] App: Completed Main method : Fri Oct 01 17:23:21 IST 2021 \r\n    INFO  : 10.01.2021:1723 (21.030) [[]main] App: Overall Execution time : 50362 \r\n    \r\n    Process finished with exit code 0\r\n\r\n\r\n\r\n","title":"Spring batch : AsyncItemProcessor does not terminate","body":"<p>I have a spring batch application packaged as a jar file.</p>\n<p>I could execute the jar as mentioned below in the windows cmd prompt</p>\n<blockquote>\n<p>java -Xms2048m -Xmx2048m -Ddivision=25 -Ddate= -Denv=dv -Dconn=45 -jar demo-jobs*.jar job-definition.xml jobName -next</p>\n</blockquote>\n<p>Below is my bean definition</p>\n<pre><code>&lt;batch:step id=&quot;baseStep&quot; abstract=&quot;true&quot;&gt;\n    &lt;batch:tasklet&gt;\n        &lt;batch:chunk\n                reader=&quot;cvsFileItemReader&quot;\n                processor=&quot;itemProcessorAsync&quot;\n                writer=&quot;itemWriterAsync&quot;\n                commit-interval=&quot;100&quot; /&gt;\n    &lt;/batch:tasklet&gt;\n&lt;/batch:step&gt;\n\n&lt;bean id=&quot;itemProcessor&quot; class=&quot;com.demo.batch.jobs.csv.Processor&quot; /&gt;\n\n&lt;bean id=&quot;itemWriter&quot; class=&quot;com.demo.batch.jobs.csv.Writer&quot; &gt;\n    &lt;!-- --&gt;\n        &lt;constructor-arg ref = &quot;hibernateItemWriter&quot;/&gt;\n    &lt;!-- --&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;itemProcessorAsync&quot; class=&quot;org.springframework.batch.integration.async.AsyncItemProcessor&quot;&gt;\n    &lt;property name=&quot;delegate&quot; ref=&quot;itemProcessor&quot;/&gt;\n    &lt;property name=&quot;taskExecutor&quot; ref=&quot;taskExecutorAsync&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;itemWriterAsync&quot; class=&quot;org.springframework.batch.integration.async.AsyncItemWriter&quot;&gt;\n    &lt;property name=&quot;delegate&quot; ref=&quot;itemWriter&quot;/&gt;\n&lt;/bean&gt;\n\n&lt;task:executor id=&quot;taskExecutorAsync&quot; pool-size=&quot;5-25&quot; queue-capacity=&quot;100&quot;/&gt;\n\n&lt;!-- Listener --&gt;\n&lt;bean id=&quot;interceptingJobExecution&quot; class=&quot;com.demo.batch.listener.JobListener&quot; &gt;\n    &lt;!-- &lt;constructor-arg ref=&quot;taskExecutorAsync&quot; /&gt; --&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Below is my main method</p>\n<pre><code>public static void main(String[] args) {\n\n    long start = System.currentTimeMillis();\n    logger.info(&quot;starting Main method&quot; + new Date());\n\n    String[] springConfig  = \n        {\n                &quot;spring/batch/jobs/job-definition.xml&quot;\n        };\n\n    ClassPathXmlApplicationContext context =\n            new ClassPathXmlApplicationContext(springConfig);\n    \n    JobLauncher jobLauncher = (JobLauncher) context.getBean(&quot;jobLauncher&quot;);\n    Job job = (Job) context.getBean(&quot;starterJob&quot;);\n\n    try {\n\n        JobExecution execution = jobLauncher.run(job, new JobParameters());\n        logger.info(&quot;Exit Status : &quot;, execution.getStatus());\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    long end = System.currentTimeMillis();\n    long elapsedTime = end - start;\n\n    logger.info(&quot;Completed Main method : &quot; + new Date());\n    logger.info(&quot;Overall Execution time : &quot; + elapsedTime);\n\n}\n</code></pre>\n<p>it does not get terminated without &quot;<strong>System.exit(0);</strong>&quot;</p>\n<p>however without <strong>Async</strong> it gets terminated, how do I make the application terminate without using &quot;<strong>System.exit(0);</strong>&quot;</p>\n<p><strong>update:</strong>: as suggested by Mahmoud Ben Hassine, tried the below**&quot;</p>\n<pre><code>@Component\npublic class JobListener implements JobExecutionListener{\n    @Autowired\n    ThreadPoolTaskExecutor taskExecutor;\n\n    @Override\n    public void beforeJob(JobExecution jobExecution) {\n        //\n        // Can Log || do some business code\n        //\n        System.out.println(&quot;## Intercepting Job Excution - Before Job!&quot;);\n    }\n\n    @Override\n    public void afterJob(JobExecution jobExecution) {\n        System.out.println(&quot;## Intercepting Job Excution - After Job!&quot;);\n\n        if(jobExecution.getStatus() == BatchStatus.COMPLETED) {\n            System.out.println(&quot;!!! JOB FINISHED! Time to verify the results&quot;);\n        }\n\n        taskExecutor.shutdown();\n    }\n}\n</code></pre>\n<p>Now it is getting terminated - however is this a right way?</p>\n<pre><code>INFO  : 10.01.2021:1723 (21.006) [[]main] AbstractStep: Step: [stepcsv] executed in 33s426ms \n!!! JOB FINISHED! Time to verify the results\n## Intercepting Job Excution - After Job!\n!!! JOB FINISHED! Time to verify the results\nINFO  : 10.01.2021:1723 (21.012) [[]main] ThreadPoolTaskExecutor: Shutting down ExecutorService \n# Base Job Listener - Intercepting Job Excution - After Job!\nINFO  : 10.01.2021:1723 (21.021) [[]main] SimpleJobLauncher: Job: [FlowJob: [name=starterJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 33s506ms \nINFO  : 10.01.2021:1723 (21.030) [[]main] App: Exit Status :  \nINFO  : 10.01.2021:1723 (21.030) [[]main] App: Completed Main method : Fri Oct 01 17:23:21 IST 2021 \nINFO  : 10.01.2021:1723 (21.030) [[]main] App: Overall Execution time : 50362 \n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","maven","dependency-management"],"comments":[{"owner":{"account_id":2016660,"reputation":263,"user_id":1803810,"display_name":"leoconco"},"score":0,"creation_date":1633021406,"post_id":69396199,"comment_id":122657388,"body_markdown":"Maven 3 lookups for dependencies in the order that repositories are declared. It will use the first available.","body":"Maven 3 lookups for dependencies in the order that repositories are declared. It will use the first available."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1633022311,"post_id":69396199,"comment_id":122657661,"body_markdown":"Short answer to this: It&#39;s not possible. Furthermore repositories should not being defined in your pom file...use settings.xml for that or even better use a repository manager...there you can defined such rules..","body":"Short answer to this: It&#39;s not possible. Furthermore repositories should not being defined in your pom file...use settings.xml for that or even better use a repository manager...there you can defined such rules.."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633021343,"creation_date":1633021343,"answer_id":69396223,"question_id":69396199,"body_markdown":"You cannot.\r\n\r\nBut you do not need to care.\r\n\r\nMaven goes through all the declared repositories to look for the dependencies. So it will eventually find them.","title":"How to define in the maven pom.xml, which dependency should be downloaded from which repository?","body":"<p>You cannot.</p>\n<p>But you do not need to care.</p>\n<p>Maven goes through all the declared repositories to look for the dependencies. So it will eventually find them.</p>\n"},{"tags":[],"owner":{"account_id":2016660,"reputation":263,"user_id":1803810,"display_name":"leoconco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633021428,"creation_date":1633021428,"answer_id":69396238,"question_id":69396199,"body_markdown":"Maven 3 lookups for dependencies in the order that repositories are declared. It will use the first available.\r\nhttps://stackoverflow.com/questions/7065165/maven-repository-lookup-order","title":"How to define in the maven pom.xml, which dependency should be downloaded from which repository?","body":"<p>Maven 3 lookups for dependencies in the order that repositories are declared. It will use the first available.\n<a href=\"https://stackoverflow.com/questions/7065165/maven-repository-lookup-order\">Maven repository lookup order</a></p>\n"}],"owner":{"account_id":17111522,"reputation":77,"user_id":16038501,"display_name":"user16038501"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69396223,"answer_count":2,"score":0,"last_activity_date":1633088991,"creation_date":1633021184,"question_id":69396199,"body_markdown":"In the `pom.xml` I can define `repositories` and `dependencies`, but I do not see a way to declare which dependencies should be taken from which repository. For example, dependency A should be loaded from repository X and dependency B - from repository Y, with a different URL. How do I declare this in my pom.xml and/or settings.xml?","title":"How to define in the maven pom.xml, which dependency should be downloaded from which repository?","body":"<p>In the <code>pom.xml</code> I can define <code>repositories</code> and <code>dependencies</code>, but I do not see a way to declare which dependencies should be taken from which repository. For example, dependency A should be loaded from repository X and dependency B - from repository Y, with a different URL. How do I declare this in my pom.xml and/or settings.xml?</p>\n"},{"tags":["java","compiler-errors","autoboxing","jls"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633088913,"creation_date":1633087851,"answer_id":69405162,"question_id":69396561,"body_markdown":"The specific syntax you show is defined in [JEP 406: Pattern Matching for switch (Preview)][1], and is a preview feature. Preview features are not defined in the JLS itself, but instead are defined separately, as mentioned in JSL 17 [section 1.5. Preview Features][2]:\r\n\r\n&gt; Preview language features are specified in standalone documents that\r\n&gt; indicate changes (&quot;diffs&quot;) to _The Java&#174; Language Specification_ for\r\n&gt; that release. The specifications of preview language features are\r\n&gt; incorporated into _The Java&#174; Language Specification_ by reference, and\r\n&gt; made a part thereof, if and only if preview features are enabled at\r\n&gt; compile time.\r\n&gt; \r\n&gt; Java SE 17 defines one preview language feature: _Pattern Matching for\r\n&gt; `switch`_. The standalone document which specifies this preview\r\n&gt; feature is available at the Oracle web site which hosts _The Java&#174;\r\n&gt; Language Specification_: https://docs.oracle.com/javase/specs/.\r\n\r\nThis &#39;diff&#39; document of JLS 17 for the preview feature is [Pattern Matching for switch][3]. It &#39;applies&#39; when you specify `--enable-preview`. Among others, it removes the line you quote in your question:\r\n\r\n&gt; &lt;s&gt;The type of the selector expression must be char, byte, short, int,\r\n&gt; Character, Byte, Short, Integer, String, or an enum type (8.9), or a\r\n&gt; compile-time error occurs.&lt;/s&gt;\r\n\r\nAs to your question _&quot;Why is there no compilation error?&quot;_, because that is how this feature works. You provide a `Number`, and then check whether it is an `Integer` or a `Float`, or otherwise apply a default, both `Integer` and `Float` are subclasses of `Number`. I recommend reading [JEP 406][1] for more details.\r\n\r\nAs to _&quot;Is generic autoboxing a thing?&quot;_, there are no generics involved here. You assign a `float` literal to a variable of an object type, so it is autoboxed to `Float`, and given `Number` is a superclass of `Float`, the assignment is valid.\r\n\r\nI&#39;m not sure what you mean with the _&quot;Even more bizarrely&quot;_ part, or why you think it is _bizarre_, but again: read [JEP 406][1] for more details.\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/406\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-1.html#jls-1.5\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se17/preview/specs/patterns-switch-jls.html","title":"JLS violations via Number and custom types for switch selector expression","body":"<p>The specific syntax you show is defined in <a href=\"https://openjdk.java.net/jeps/406\" rel=\"nofollow noreferrer\">JEP 406: Pattern Matching for switch (Preview)</a>, and is a preview feature. Preview features are not defined in the JLS itself, but instead are defined separately, as mentioned in JSL 17 <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-1.html#jls-1.5\" rel=\"nofollow noreferrer\">section 1.5. Preview Features</a>:</p>\n<blockquote>\n<p>Preview language features are specified in standalone documents that\nindicate changes (&quot;diffs&quot;) to <em>The Java® Language Specification</em> for\nthat release. The specifications of preview language features are\nincorporated into <em>The Java® Language Specification</em> by reference, and\nmade a part thereof, if and only if preview features are enabled at\ncompile time.</p>\n<p>Java SE 17 defines one preview language feature: <em>Pattern Matching for\n<code>switch</code></em>. The standalone document which specifies this preview\nfeature is available at the Oracle web site which hosts <em>The Java®\nLanguage Specification</em>: <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/</a>.</p>\n</blockquote>\n<p>This 'diff' document of JLS 17 for the preview feature is <a href=\"https://docs.oracle.com/javase/specs/jls/se17/preview/specs/patterns-switch-jls.html\" rel=\"nofollow noreferrer\">Pattern Matching for switch</a>. It 'applies' when you specify <code>--enable-preview</code>. Among others, it removes the line you quote in your question:</p>\n<blockquote>\n<p><s>The type of the selector expression must be char, byte, short, int,\nCharacter, Byte, Short, Integer, String, or an enum type (8.9), or a\ncompile-time error occurs.</s></p>\n</blockquote>\n<p>As to your question <em>&quot;Why is there no compilation error?&quot;</em>, because that is how this feature works. You provide a <code>Number</code>, and then check whether it is an <code>Integer</code> or a <code>Float</code>, or otherwise apply a default, both <code>Integer</code> and <code>Float</code> are subclasses of <code>Number</code>. I recommend reading <a href=\"https://openjdk.java.net/jeps/406\" rel=\"nofollow noreferrer\">JEP 406</a> for more details.</p>\n<p>As to <em>&quot;Is generic autoboxing a thing?&quot;</em>, there are no generics involved here. You assign a <code>float</code> literal to a variable of an object type, so it is autoboxed to <code>Float</code>, and given <code>Number</code> is a superclass of <code>Float</code>, the assignment is valid.</p>\n<p>I'm not sure what you mean with the <em>&quot;Even more bizarrely&quot;</em> part, or why you think it is <em>bizarre</em>, but again: read <a href=\"https://openjdk.java.net/jeps/406\" rel=\"nofollow noreferrer\">JEP 406</a> for more details.</p>\n"}],"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69405162,"answer_count":1,"score":1,"last_activity_date":1633088913,"creation_date":1633023074,"question_id":69396561,"body_markdown":"[JLS 17][1] mentions for the `switch` selector expression (like the JLS&#39; before it)\r\n\r\n&gt;The type of the selector expression must be char, byte, short, int, Character, Byte, Short, Integer, String, or an enum type (&#167;8.9), or a compile-time error occurs. \r\n\r\nYet, this compiles (and works)\r\n```java\r\npublic class rough2 {\r\n    class f{\r\n        public static void sop(Object o){System.out.println(o);}\r\n    }\r\n    public static void main(String[] args) {\r\n        Number no = 10.23f;\r\n        switch (no) {\r\n            case Integer i -&gt; f.sop(&quot;%d is integer&quot;.formatted(i));\r\n            case Float fl -&gt; f.sop(&quot;%3.2f is float&quot;.formatted(fl));\r\n            default -&gt; f.sop(&quot;don&#39;t know about &quot;+no);\r\n        }\r\n    }\r\n}\r\n```\r\nNow, `Number` isn&#39;t one of the listed types. \r\n\r\n1. Why is there no compilation error?\r\n\r\nInterestingly, `no.getClass()` gives `java.lang.Float`. Is generic autoboxing a thing?  \r\n\r\nEven more bizarrely (and maybe this should be a separate question - if so tell me), replacing the above main method with the one below still works.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n        class a {}\r\n        class b extends a {}\r\n        a obj = new a();//new b();\r\n        switch (obj) {\r\n            case b typeB -&gt; f.sop(&quot;is sub type b&quot;);\r\n            case a typeA -&gt; f.sop(&quot;is a&quot;);\r\n        }\r\n    }\r\n```\r\n 2. How is *this* not a JLS violation?\r\n\r\n\r\n\r\n-----------\r\nPlease note that you may need to `--enable-preview` features in JDK 17 to run the above code.    \r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.11","title":"JLS violations via Number and custom types for switch selector expression","body":"<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.11\" rel=\"nofollow noreferrer\">JLS 17</a> mentions for the <code>switch</code> selector expression (like the JLS' before it)</p>\n<blockquote>\n<p>The type of the selector expression must be char, byte, short, int, Character, Byte, Short, Integer, String, or an enum type (§8.9), or a compile-time error occurs.</p>\n</blockquote>\n<p>Yet, this compiles (and works)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class rough2 {\n    class f{\n        public static void sop(Object o){System.out.println(o);}\n    }\n    public static void main(String[] args) {\n        Number no = 10.23f;\n        switch (no) {\n            case Integer i -&gt; f.sop(&quot;%d is integer&quot;.formatted(i));\n            case Float fl -&gt; f.sop(&quot;%3.2f is float&quot;.formatted(fl));\n            default -&gt; f.sop(&quot;don't know about &quot;+no);\n        }\n    }\n}\n</code></pre>\n<p>Now, <code>Number</code> isn't one of the listed types.</p>\n<ol>\n<li>Why is there no compilation error?</li>\n</ol>\n<p>Interestingly, <code>no.getClass()</code> gives <code>java.lang.Float</code>. Is generic autoboxing a thing?</p>\n<p>Even more bizarrely (and maybe this should be a separate question - if so tell me), replacing the above main method with the one below still works.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        class a {}\n        class b extends a {}\n        a obj = new a();//new b();\n        switch (obj) {\n            case b typeB -&gt; f.sop(&quot;is sub type b&quot;);\n            case a typeA -&gt; f.sop(&quot;is a&quot;);\n        }\n    }\n</code></pre>\n<ol start=\"2\">\n<li>How is <em>this</em> not a JLS violation?</li>\n</ol>\n<hr />\n<p>Please note that you may need to <code>--enable-preview</code> features in JDK 17 to run the above code.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1632987492,"post_id":69388073,"comment_id":122642700,"body_markdown":"empty is something different than `null`. Use `@NotEmpty` instead of `@NotNull`.","body":"empty is something different than <code>null</code>. Use <code>@NotEmpty</code> instead of <code>@NotNull</code>."},{"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"score":0,"creation_date":1632987589,"post_id":69388073,"comment_id":122642756,"body_markdown":"there is no field &quot;url&quot; in request body. Isn&#39;t that mean url is null?","body":"there is no field &quot;url&quot; in request body. Isn&#39;t that mean url is null?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1632987699,"post_id":69388073,"comment_id":122642807,"body_markdown":"Oops, just saw an empty field. Do you have an actual implementation of a validator on the classpath? Or did you only add `javax.validation-api`? If so add `hibernate-validator` as a dependency as well (use the 6 version **not** the 7 version as that is JakartaEE not JavaEE). Or when using Spring Boot use `spring-boot-starter-validation` to get all of that at once.","body":"Oops, just saw an empty field. Do you have an actual implementation of a validator on the classpath? Or did you only add <code>javax.validation-api</code>? If so add <code>hibernate-validator</code> as a dependency as well (use the 6 version <b>not</b> the 7 version as that is JakartaEE not JavaEE). Or when using Spring Boot use <code>spring-boot-starter-validation</code> to get all of that at once."},{"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"score":0,"creation_date":1632988156,"post_id":69388073,"comment_id":122642989,"body_markdown":"It worked. Thanks a lot. How could I detect this pom or &quot;correct package&quot; related problems from project?","body":"It worked. Thanks a lot. How could I detect this pom or &quot;correct package&quot; related problems from project?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632988627,"post_id":69388073,"comment_id":122643180,"body_markdown":"What worked? You added the additional dependency or the correct one? Only an API does nothing adding `javax.persistence-api` doesn&#39;t add a JPA provider as well. So you need to have both an API and an Implementation.","body":"What worked? You added the additional dependency or the correct one? Only an API does nothing adding <code>javax.persistence-api</code> doesn&#39;t add a JPA provider as well. So you need to have both an API and an Implementation."},{"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"score":0,"creation_date":1632989694,"post_id":69388073,"comment_id":122643617,"body_markdown":"I added `spring-boot-starter-validation` to the pom file.","body":"I added <code>spring-boot-starter-validation</code> to the pom file."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1632993215,"post_id":69388073,"comment_id":122645084,"body_markdown":"@erondem add your solution as an answer and accept it so that others may benefit from it ;) Thanks!","body":"@erondem add your solution as an answer and accept it so that others may benefit from it ;) Thanks!"},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":1,"creation_date":1633029529,"post_id":69388073,"comment_id":122660234,"body_markdown":"for string use @NotEmpty instead of NotNull","body":"for string use @NotEmpty instead of NotNull"}],"answers":[{"tags":[],"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633088913,"creation_date":1633088913,"answer_id":69405420,"question_id":69388073,"body_markdown":"Thanks to @M. Deinum I added this dependency to pom file and it solves my problem.\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"@Valid and @NotNull Annotations does not catch empty field in post request","body":"<p>Thanks to @M. Deinum I added this dependency to pom file and it solves my problem.</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633088913,"creation_date":1632987380,"question_id":69388073,"body_markdown":"Hi I have one field JSON POST Request.\r\n\r\n    import lombok.*;\r\n    import javax.validation.constraints.NotNull;\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class WebURLRequest {\r\n    \r\n        @NotNull(message = &quot;URL can not be null&quot;)\r\n        private String url;\r\n    }\r\n\r\n\r\nIn Controller, I have annotated as `@Valid` and `@RequestBody` but when I sent a post request like this I except to this returned a meaningful message as I write down in DTO.\r\n Instead of this message, since url is not found in request body, Service layer throws `NullPointerException`.\r\nI know I can handle this in Service layer or in Controller with a Null check but shouldn&#39;t this handled by `@NotNull` annotation? \r\n\r\n\r\nController\r\n\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import javax.validation.Valid;\r\n\r\n    @PostMapping(&quot;/to-deep&quot;)\r\n        public ResponseEntity&lt;DeepResponse&gt; toDeep(@Valid @RequestBody WebURLRequest webURLRequest) {\r\n            return new ResponseEntity&lt;&gt;(converterService.toDeep(webURLRequest), HttpStatus.OK);\r\n        }\r\n\r\n\r\nThe request body I sent\r\n\r\n    {\r\n    &quot;somethingElse&quot;:&quot;&quot;\r\n    }\r\n\r\n\r\n\r\n**SOLUTION:**\r\n\r\nI added this dependency to pom file\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n","title":"@Valid and @NotNull Annotations does not catch empty field in post request","body":"<p>Hi I have one field JSON POST Request.</p>\n<pre><code>import lombok.*;\nimport javax.validation.constraints.NotNull;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class WebURLRequest {\n\n    @NotNull(message = &quot;URL can not be null&quot;)\n    private String url;\n}\n</code></pre>\n<p>In Controller, I have annotated as <code>@Valid</code> and <code>@RequestBody</code> but when I sent a post request like this I except to this returned a meaningful message as I write down in DTO.\nInstead of this message, since url is not found in request body, Service layer throws <code>NullPointerException</code>.\nI know I can handle this in Service layer or in Controller with a Null check but shouldn't this handled by <code>@NotNull</code> annotation?</p>\n<p>Controller</p>\n<pre><code>import org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\n\n@PostMapping(&quot;/to-deep&quot;)\n    public ResponseEntity&lt;DeepResponse&gt; toDeep(@Valid @RequestBody WebURLRequest webURLRequest) {\n        return new ResponseEntity&lt;&gt;(converterService.toDeep(webURLRequest), HttpStatus.OK);\n    }\n</code></pre>\n<p>The request body I sent</p>\n<pre><code>{\n&quot;somethingElse&quot;:&quot;&quot;\n}\n</code></pre>\n<p><strong>SOLUTION:</strong></p>\n<p>I added this dependency to pom file</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","data-structures"],"answers":[{"tags":[],"owner":{"account_id":8990512,"reputation":307,"user_id":6702577,"display_name":"Gonnen Daube"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633022445,"creation_date":1633022445,"answer_id":69396448,"question_id":69396348,"body_markdown":"Your file is basically CSV (comma separated values), so in your case I&#39;d use the [OpenCsv][1] library to parse the data.  \r\n\r\nIf you don&#39;t want to use library you can read the lines `Files.lines(...)`\r\nand then for each line use `line.split(&#39;,&#39;)`.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.opencsv/opencsv","title":"How to store user data from .txt to work on it?","body":"<p>Your file is basically CSV (comma separated values), so in your case I'd use the <a href=\"https://mvnrepository.com/artifact/com.opencsv/opencsv\" rel=\"nofollow noreferrer\">OpenCsv</a> library to parse the data.</p>\n<p>If you don't want to use library you can read the lines <code>Files.lines(...)</code>\nand then for each line use <code>line.split(',')</code>.</p>\n"},{"tags":[],"owner":{"account_id":14927040,"reputation":358,"user_id":10777578,"display_name":"Julian Kreuzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633022622,"creation_date":1633022622,"answer_id":69396480,"question_id":69396348,"body_markdown":"    private static class Student{\r\n        private long studentId;\r\n        private String firstName;\r\n        private String lastName;\r\n        private String city;\r\n        private String gender;\r\n    \r\n    \r\n        public static Student parseLine(String line){\r\n          String[] properties = line.split(&quot;, &quot;);\r\n          Student student = new Student();\r\n          student.studentId = Long.parseLong(properties[0]);\r\n          student.firstName = properties[1];\r\n          student.lastName = properties[2];\r\n          student.city = properties[3];\r\n          student.gender = properties[4];\r\n          return student;\r\n        }\r\n    \r\n        public static Collection&lt;Student&gt; readFile(String path) throws IOException {\r\n    \r\n          return Files.lines(Paths.get(path)).map(Student::parseLine).collect(Collectors.toList());\r\n    \r\n        }","title":"How to store user data from .txt to work on it?","body":"<pre><code>private static class Student{\n    private long studentId;\n    private String firstName;\n    private String lastName;\n    private String city;\n    private String gender;\n\n\n    public static Student parseLine(String line){\n      String[] properties = line.split(&quot;, &quot;);\n      Student student = new Student();\n      student.studentId = Long.parseLong(properties[0]);\n      student.firstName = properties[1];\n      student.lastName = properties[2];\n      student.city = properties[3];\n      student.gender = properties[4];\n      return student;\n    }\n\n    public static Collection&lt;Student&gt; readFile(String path) throws IOException {\n\n      return Files.lines(Paths.get(path)).map(Student::parseLine).collect(Collectors.toList());\n\n    }\n</code></pre>\n"}],"owner":{"account_id":22907707,"reputation":1,"user_id":17045501,"display_name":"Mep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633088857,"creation_date":1633021987,"question_id":69396348,"body_markdown":"Lets say I have a text file that contains \r\n\r\n1-student ID\r\n\r\n2-First Name\r\n\r\n3- Last Name\r\n\r\n4-  City \r\n\r\n5- gender\r\n\r\nThey&#39;re separated by commas and every line of information has the same sequence as all the others.\r\n\r\nI need to store the city, for instance, alone, so I can know if they&#39;re a good candidate for the trip (they specified specific cities).\r\n\r\nExample from the text file: \r\n\r\n1234567890, Sarah, Johnson, female, Oregon\r\n\r\n1029384756, John, Pitt, male, Tampa\r\n\r\nWhich type of list do I use? And how can I separate each info in that list? ","title":"How to store user data from .txt to work on it?","body":"<p>Lets say I have a text file that contains</p>\n<p>1-student ID</p>\n<p>2-First Name</p>\n<p>3- Last Name</p>\n<p>4-  City</p>\n<p>5- gender</p>\n<p>They're separated by commas and every line of information has the same sequence as all the others.</p>\n<p>I need to store the city, for instance, alone, so I can know if they're a good candidate for the trip (they specified specific cities).</p>\n<p>Example from the text file:</p>\n<p>1234567890, Sarah, Johnson, female, Oregon</p>\n<p>1029384756, John, Pitt, male, Tampa</p>\n<p>Which type of list do I use? And how can I separate each info in that list?</p>\n"},{"tags":["java","swt","rcp","filedialog"],"comments":[{"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"score":0,"creation_date":1390976959,"post_id":18058575,"comment_id":32320600,"body_markdown":"I raised bug for that.. https://bugs.eclipse.org/bugs/show_bug.cgi?id=426849","body":"I raised bug for that.. <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=426849\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=426849</a>"}],"answers":[{"tags":[],"owner":{"account_id":19186,"reputation":3949,"user_id":44732,"accept_rate":36,"display_name":"David G"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1376667118,"creation_date":1376667118,"answer_id":18277029,"question_id":18058575,"body_markdown":"Are you using the same `FileDialog` object when you re-open it?\r\n\r\nI ran a few quick tests and found that, if you re-set the filterPath, the dialog opens in the correct location.\r\n\r\nIf I open the same object again, it starts in the previously selected location.\r\n","title":"Set the initial directory in SWT FileDialog","body":"<p>Are you using the same <code>FileDialog</code> object when you re-open it?</p>\n\n<p>I ran a few quick tests and found that, if you re-set the filterPath, the dialog opens in the correct location.</p>\n\n<p>If I open the same object again, it starts in the previously selected location.</p>\n"},{"tags":[],"owner":{"account_id":18867136,"reputation":11,"user_id":13762636,"display_name":"Matthias Dornaus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592398266,"creation_date":1592398266,"answer_id":62429445,"question_id":18058575,"body_markdown":"I found a simple Solution for the Problem you described (I had the exact same Problem).\r\n\r\nJust rearrange the your code like this:\r\n```\r\n   FileDialog dialog = new FileDialog(shell, SWT.OPEN);\r\n   dialog.setFilterPath(&quot;c:\\\\temp&quot;); // This line is switched with the following line\r\n   dialog.setFilterExtensions(new String [] {&quot;*.html&quot;});\r\n   String result = dialog.open();\r\n```\r\n\r\nSomehow the Order of the methods called is relevant.","title":"Set the initial directory in SWT FileDialog","body":"<p>I found a simple Solution for the Problem you described (I had the exact same Problem).</p>\n\n<p>Just rearrange the your code like this:</p>\n\n<pre><code>   FileDialog dialog = new FileDialog(shell, SWT.OPEN);\n   dialog.setFilterPath(\"c:\\\\temp\"); // This line is switched with the following line\n   dialog.setFilterExtensions(new String [] {\"*.html\"});\n   String result = dialog.open();\n</code></pre>\n\n<p>Somehow the Order of the methods called is relevant.</p>\n"},{"tags":[],"owner":{"account_id":22913970,"reputation":21,"user_id":17050842,"display_name":"Johan Kunnen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633088113,"creation_date":1633088113,"answer_id":69405233,"question_id":18058575,"body_markdown":"I ran into the same problem on Windows 10 and found a solution that seems to be working for me. A code snippet from the DirectoryDialog led to the right direction:\r\n\r\n    if (filterPath != null &amp;&amp; filterPath.length() &gt; 0) {\r\n\t\t\tString path = filterPath.replace(&#39;/&#39;, &#39;\\\\&#39;);\r\n\t\t\tchar[] buffer = new char[path.length() + 1];\r\n\t\t\tpath.getChars(0, path.length(), buffer, 0);\r\n\t\t\tif (COM.SHCreateItemFromParsingName(buffer, 0, COM.IID_IShellItem, ppv) == OS.S_OK) {\r\n\t\t\t\tIShellItem psi = new IShellItem(ppv[0]);\r\n\t\t\t\t/*\r\n\t\t\t\t * SetDefaultDirectory does not work if the dialog has\r\n\t\t\t\t * persisted recently used folder. The fix is to clear the\r\n\t\t\t\t * persisted data.\r\n\t\t\t\t */\r\n\t\t\t\tfileDialog.ClearClientData();\r\n\t\t\t\tfileDialog.SetDefaultFolder(psi);\r\n\t\t\t\tpsi.Release();\r\n\t\t\t}\r\n\t}\r\nThe FileDialog misses this statement &#39;fileDialog.ClearClientData()&#39;. My solution is to execute the following code before setting the path and open the dialog:\r\n\r\n    long [] ppv = new long [1];\r\n    if (COM.CoCreateInstance(COM.CLSID_FileOpenDialog, 0, COM.CLSCTX_INPROC_SERVER, COM.IID_IFileOpenDialog, ppv) == OS.S_OK) {\r\n        IFileDialog fileDialog = new IFileDialog(ppv[0]);\r\n        fileDialog.ClearClientData();\r\n        fileDialog.Release();\r\n    }\r\nNow you can set the filterpath without Windows messing things up.","title":"Set the initial directory in SWT FileDialog","body":"<p>I ran into the same problem on Windows 10 and found a solution that seems to be working for me. A code snippet from the DirectoryDialog led to the right direction:</p>\n<pre><code>if (filterPath != null &amp;&amp; filterPath.length() &gt; 0) {\n        String path = filterPath.replace('/', '\\\\');\n        char[] buffer = new char[path.length() + 1];\n        path.getChars(0, path.length(), buffer, 0);\n        if (COM.SHCreateItemFromParsingName(buffer, 0, COM.IID_IShellItem, ppv) == OS.S_OK) {\n            IShellItem psi = new IShellItem(ppv[0]);\n            /*\n             * SetDefaultDirectory does not work if the dialog has\n             * persisted recently used folder. The fix is to clear the\n             * persisted data.\n             */\n            fileDialog.ClearClientData();\n            fileDialog.SetDefaultFolder(psi);\n            psi.Release();\n        }\n}\n</code></pre>\n<p>The FileDialog misses this statement 'fileDialog.ClearClientData()'. My solution is to execute the following code before setting the path and open the dialog:</p>\n<pre><code>long [] ppv = new long [1];\nif (COM.CoCreateInstance(COM.CLSID_FileOpenDialog, 0, COM.CLSCTX_INPROC_SERVER, COM.IID_IFileOpenDialog, ppv) == OS.S_OK) {\n    IFileDialog fileDialog = new IFileDialog(ppv[0]);\n    fileDialog.ClearClientData();\n    fileDialog.Release();\n}\n</code></pre>\n<p>Now you can set the filterpath without Windows messing things up.</p>\n"}],"owner":{"account_id":1167515,"reputation":313,"user_id":1145459,"accept_rate":50,"display_name":"Bluddymarri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4050,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1633088113,"creation_date":1375706889,"question_id":18058575,"body_markdown":"I&#39;m working on an Eclipse RCP project and need to let the user select some file.\r\nFor convenience, based on some conditions, the initial directory of the file choosing dialog should be set prior to opening it.\r\n\r\nAs I&#39;m bound to Eclipse RCP / SWT, I am working with the `org.eclipse.swt.widgets.FileDialog`.  \r\nThe documentation of this `FileDialog` points out to use the `setFilterPath(String string)`-method which should do exactly what I need (see [documentation][1]).\r\n\r\n       FileDialog dialog = new FileDialog(shell, SWT.OPEN);\r\n       dialog.setFilterExtensions(new String [] {&quot;*.html&quot;});\r\n       dialog.setFilterPath(&quot;c:\\\\temp&quot;);\r\n       String result = dialog.open();\r\n\r\nUnfortunately it is not working, at least not &quot;every time&quot;.\r\n\r\nI have currently no installation to check on it, but I&#39;m quite sure that the feature would work totally fine on a Windows 200/XP/Vista machine.\r\nI am working with a Windows 7 machine and I think I am suffering from the behaviour described here for [lpstrInitialDir][2].\r\n\r\nAt least, this is exactly the behaviour I am facing: The path is good the first time I open the dialog, but the second time, the path is initially set to the last chosen path.\r\nThis seems to be convenient in most cases, but it is not in mine.\r\n\r\nCan this be right?\r\nIf so, have I any chance on changing the behaviour according to my needs?\r\n\r\n\r\nThanks for any helping answer!\r\n\r\n  [1]: http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/FileDialog.html/\r\n  [2]: http://msdn.microsoft.com/en-us/library/ms646839%28VS.85%29.aspx","title":"Set the initial directory in SWT FileDialog","body":"<p>I'm working on an Eclipse RCP project and need to let the user select some file.\nFor convenience, based on some conditions, the initial directory of the file choosing dialog should be set prior to opening it.</p>\n\n<p>As I'm bound to Eclipse RCP / SWT, I am working with the <code>org.eclipse.swt.widgets.FileDialog</code>.<br>\nThe documentation of this <code>FileDialog</code> points out to use the <code>setFilterPath(String string)</code>-method which should do exactly what I need (see <a href=\"http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/FileDialog.html/\">documentation</a>).</p>\n\n<pre><code>   FileDialog dialog = new FileDialog(shell, SWT.OPEN);\n   dialog.setFilterExtensions(new String [] {\"*.html\"});\n   dialog.setFilterPath(\"c:\\\\temp\");\n   String result = dialog.open();\n</code></pre>\n\n<p>Unfortunately it is not working, at least not \"every time\".</p>\n\n<p>I have currently no installation to check on it, but I'm quite sure that the feature would work totally fine on a Windows 200/XP/Vista machine.\nI am working with a Windows 7 machine and I think I am suffering from the behaviour described here for <a href=\"http://msdn.microsoft.com/en-us/library/ms646839%28VS.85%29.aspx\">lpstrInitialDir</a>.</p>\n\n<p>At least, this is exactly the behaviour I am facing: The path is good the first time I open the dialog, but the second time, the path is initially set to the last chosen path.\nThis seems to be convenient in most cases, but it is not in mine.</p>\n\n<p>Can this be right?\nIf so, have I any chance on changing the behaviour according to my needs?</p>\n\n<p>Thanks for any helping answer!</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":1,"creation_date":1583432782,"post_id":60551710,"comment_id":107124374,"body_markdown":"Create two arrays (or better List&lt;Integer&gt;) to hold even numbers and odd numbers separately. Put the numbers in these arrays while you read them from input. Then just zip these two arrays.","body":"Create two arrays (or better List&lt;Integer&gt;) to hold even numbers and odd numbers separately. Put the numbers in these arrays while you read them from input. Then just zip these two arrays."}],"answers":[{"tags":[],"owner":{"account_id":17168861,"reputation":27,"user_id":12426429,"display_name":"deniscns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583433914,"creation_date":1583433914,"answer_id":60552122,"question_id":60551710,"body_markdown":"I&#39;m a learner myself. This is how I would do it - if you want to store even &amp; odd numbers in two different data structures, I would use Lists as following.\r\n\r\n        //Ask for input\r\n        Scanner scanner=new Scanner(System.in);\r\n        System.out.println(&quot;Enter the no of elements&quot;);\r\n        int n = scanner.nextInt();\r\n        scanner.nextLine();\r\n\r\n        //Create a data structure\r\n        List&lt;Integer&gt; evenArr = new ArrayList&lt;Integer&gt;(n);\r\n        List&lt;Integer&gt; oddArr = new ArrayList&lt;Integer&gt;(n);\r\n\r\n        //Ask for elements to insert, iterate n amount of times and set conditions\r\n        System.out.println(&quot;Enter your elements&quot;);\r\n        for(int i = 0; i &lt; n; i++)\r\n        {\r\n            int element = scanner.nextInt();\r\n            scanner.nextLine();\r\n\r\n           /*\r\n            if...\r\n            else....\r\n           */\r\n\r\n        }\r\n        //Print\r\n        System.out.println(&quot;evenArr = &quot; + evenArr);\r\n        System.out.println(&quot;oddArr = &quot; + oddArr);","title":"Java program(even no in even index and odd no in odd index)","body":"<p>I'm a learner myself. This is how I would do it - if you want to store even &amp; odd numbers in two different data structures, I would use Lists as following.</p>\n\n<pre><code>    //Ask for input\n    Scanner scanner=new Scanner(System.in);\n    System.out.println(\"Enter the no of elements\");\n    int n = scanner.nextInt();\n    scanner.nextLine();\n\n    //Create a data structure\n    List&lt;Integer&gt; evenArr = new ArrayList&lt;Integer&gt;(n);\n    List&lt;Integer&gt; oddArr = new ArrayList&lt;Integer&gt;(n);\n\n    //Ask for elements to insert, iterate n amount of times and set conditions\n    System.out.println(\"Enter your elements\");\n    for(int i = 0; i &lt; n; i++)\n    {\n        int element = scanner.nextInt();\n        scanner.nextLine();\n\n       /*\n        if...\n        else....\n       */\n\n    }\n    //Print\n    System.out.println(\"evenArr = \" + evenArr);\n    System.out.println(\"oddArr = \" + oddArr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1583587845,"creation_date":1583435295,"answer_id":60552436,"question_id":60551710,"body_markdown":"I would start by counting the number of odd and even values, then calculate the size of the array needed for the result.\r\n\r\n\tstatic Integer[] evenOdd(int... input) {\r\n\t\tint countEven = 0, countOdd = 0;\r\n\t\tfor (int value : input) {\r\n\t\t\tif ((value &amp; 1) == 0)\r\n\t\t\t\tcountEven++;\r\n\t\t\telse\r\n\t\t\t\tcountOdd++;\r\n\t\t}\r\n\t\tInteger[] result = new Integer[Math.max(countEven * 2 - 1, countOdd * 2)];\r\n\t\t\r\n\t\tint idxEven = -2, idxOdd = -1;\r\n\t\tfor (int value : input)\r\n\t\t\tresult[(value &amp; 1) == 0 ? (idxEven += 2) : (idxOdd += 2)] = value;\r\n\t\treturn result;\r\n\t}\r\n\r\n*Test*\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttest();\r\n\t\ttest(1);\r\n\t\ttest(2);\r\n\t\ttest(3, 6, 2, 0, 0, 6, 9, 9, 89, 10, 1);\r\n\t\ttest(1, 1, 1, 1, 2);\r\n\t\ttest(2, 2, 2);\r\n\t\ttest(1, 1, 1);\r\n\t}\r\n\tstatic void test(int... input) {\r\n\t\tSystem.out.println(Arrays.toString(input) + &quot; -&gt; &quot; + Arrays.toString(evenOdd(input)));\r\n\t}\r\n\r\n*Output*\r\n\r\n```lang-none\r\n[] -&gt; []\r\n[1] -&gt; [null, 1]\r\n[2] -&gt; [2]\r\n[3, 6, 2, 0, 0, 6, 9, 9, 89, 10, 1] -&gt; [6, 3, 2, 9, 0, 9, 0, 89, 6, 1, 10]\r\n[1, 1, 1, 1, 2] -&gt; [2, 1, null, 1, null, 1, null, 1]\r\n[2, 2, 2] -&gt; [2, null, 2, null, 2]\r\n[1, 1, 1] -&gt; [null, 1, null, 1, null, 1]\r\n```","title":"Java program(even no in even index and odd no in odd index)","body":"<p>I would start by counting the number of odd and even values, then calculate the size of the array needed for the result.</p>\n\n<pre><code>static Integer[] evenOdd(int... input) {\n    int countEven = 0, countOdd = 0;\n    for (int value : input) {\n        if ((value &amp; 1) == 0)\n            countEven++;\n        else\n            countOdd++;\n    }\n    Integer[] result = new Integer[Math.max(countEven * 2 - 1, countOdd * 2)];\n\n    int idxEven = -2, idxOdd = -1;\n    for (int value : input)\n        result[(value &amp; 1) == 0 ? (idxEven += 2) : (idxOdd += 2)] = value;\n    return result;\n}\n</code></pre>\n\n<p><em>Test</em></p>\n\n<pre><code>public static void main(String[] args) {\n    test();\n    test(1);\n    test(2);\n    test(3, 6, 2, 0, 0, 6, 9, 9, 89, 10, 1);\n    test(1, 1, 1, 1, 2);\n    test(2, 2, 2);\n    test(1, 1, 1);\n}\nstatic void test(int... input) {\n    System.out.println(Arrays.toString(input) + \" -&gt; \" + Arrays.toString(evenOdd(input)));\n}\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[] -&gt; []\n[1] -&gt; [null, 1]\n[2] -&gt; [2]\n[3, 6, 2, 0, 0, 6, 9, 9, 89, 10, 1] -&gt; [6, 3, 2, 9, 0, 9, 0, 89, 6, 1, 10]\n[1, 1, 1, 1, 2] -&gt; [2, 1, null, 1, null, 1, null, 1]\n[2, 2, 2] -&gt; [2, null, 2, null, 2]\n[1, 1, 1] -&gt; [null, 1, null, 1, null, 1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20032734,"reputation":1,"user_id":14685141,"display_name":"Ravi Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633088024,"creation_date":1633014996,"answer_id":69394771,"question_id":60551710,"body_markdown":"```\r\n//importing java package for scanner class\r\n\r\nimport java.util.*;\r\npublic class EvenOddsorting {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scr = new Scanner(System.in);\r\n        \r\n        // taking size of the array from the user\r\n        int size = scr.nextInt();\r\n\r\n        int[] nums = new int[size]; // defining size of the array\r\n\r\n        for (int i = 0; i &lt;size; i++) {\r\n            nums[i] = scr.nextInt(); // taking array ele. from the user\r\n        }\r\n        \r\n        //placing even elements at even index\r\n        for(int i=1;i&lt;size;i++){\r\n            if(nums[i] % 2 == 0){\r\n                int temp = nums[i];\r\n                nums[i] = nums[i-1];\r\n                nums[i-1] = temp;\r\n                i++;\r\n            }\r\n        }\r\n        \r\n        // placing odd elements at odd places\r\n        for(int i=0;i&lt;size;i++){\r\n            if(nums[i] % 2 != 0){\r\n                int temp = nums[i];\r\n                nums[i] = nums[i-1];\r\n                nums[i-1] = temp;\r\n                i++;\r\n            }\r\n        }\r\n        // output of the program\r\n        System.out.println(Arrays.toString(nums));\r\n    }\r\n\r\n}\r\n```","title":"Java program(even no in even index and odd no in odd index)","body":"<pre><code>//importing java package for scanner class\n\nimport java.util.*;\npublic class EvenOddsorting {\n\n    public static void main(String[] args) {\n\n        Scanner scr = new Scanner(System.in);\n        \n        // taking size of the array from the user\n        int size = scr.nextInt();\n\n        int[] nums = new int[size]; // defining size of the array\n\n        for (int i = 0; i &lt;size; i++) {\n            nums[i] = scr.nextInt(); // taking array ele. from the user\n        }\n        \n        //placing even elements at even index\n        for(int i=1;i&lt;size;i++){\n            if(nums[i] % 2 == 0){\n                int temp = nums[i];\n                nums[i] = nums[i-1];\n                nums[i-1] = temp;\n                i++;\n            }\n        }\n        \n        // placing odd elements at odd places\n        for(int i=0;i&lt;size;i++){\n            if(nums[i] % 2 != 0){\n                int temp = nums[i];\n                nums[i] = nums[i-1];\n                nums[i-1] = temp;\n                i++;\n            }\n        }\n        // output of the program\n        System.out.println(Arrays.toString(nums));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":17861991,"reputation":31,"user_id":12975273,"display_name":"Aanjaneya Shah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":778,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":60552436,"answer_count":3,"score":-1,"last_activity_date":1633088024,"creation_date":1583432189,"question_id":60551710,"body_markdown":"So the question is to arrange an array where even number of an array is in even index and odd number of an array is in odd index. \r\n\r\nExample 1:\r\n[3, 6, 2, 0, 0, 6, 9, 9, 89, 10, 1]\r\n\r\nOutput:\r\n[6, 3, 2, 9, 0, 9, 0, 89, 6, 1, 10]\r\n\r\nExample 2:\r\n[1, 1, 1, 1, 2]\r\n\r\nOutput:\r\n[2, 1, null, 1, null, 1, null, 1]\r\n\r\nExample 3:\r\n[2, 2, 2]\r\n\r\nOutput:\r\n[2, null, 2, null, 2]\r\n\r\nExample 4:\r\n[1, 1, 1]\r\n\r\nOutput:\r\n[null, 1, null, 1, null, 1]\r\n\r\n(if the no of even or odd numbers are less, null value is put)\r\n\r\n\r\n\r\nI have tried this program but I am unable to pass all test cases. Can anyone can come with the correct answer in java language. Here is the code which i tried:\r\n\r\n```\r\n\r\nimport java.io.*;\r\nimport java.util.*;\r\npublic class eveodd\r\n{\r\n    public static void main(String args[])throws IOException\r\n    {\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.println(&quot;Enter the no of elements&quot;);\r\n        int n=sc.nextInt();\r\n        sc.nextLine();\r\n        int p=0;\r\n        int a[]=new int[n]; \r\n        System.out.println(&quot;Enter the elements&quot;);\r\n        for(int i=0;i&lt;n;i++)\r\n        {\r\n            a[i]=sc.nextInt();\r\n            sc.nextLine();\r\n        }\r\n   \r\n        if(n%2==0)\r\n        {\r\n            p=n;\r\n        }\r\n        else\r\n        {\r\n            p=n+1;\r\n        }\r\n        Integer b[]=new Integer[100];\r\n        \r\n        int c=0;int d=1;\r\n        for(int i=0;i&lt;n;i++)\r\n        {\r\n                if(a[i]%2==0)\r\n                {\r\n                    b[c]=a[i];\r\n                    c+=2;\r\n                }\r\n                if(a[i]%2!=0)\r\n                {\r\n                    b[d]=a[i];\r\n                    d+=2;\r\n                }\r\n            \r\n        \r\n        }\r\n        for(int i=0;i&lt;d;i++)\r\n        {\r\n            System.out.println(b[i]);\r\n        }\r\n    }\r\n}\r\n\r\n``` \r\n\r\nWhat i am doing is filling an array with null values with even number in even index and odd number in odd index of the array. The problem i am facing is till how much index should i print the final(b[]) array. Also, is there any other way to find the size of the final (b[]) array as i have given it the size of 100.\r\nAny other solution or a different code (in java language) is welcome.   \r\n\r\n","title":"Java program(even no in even index and odd no in odd index)","body":"<p>So the question is to arrange an array where even number of an array is in even index and odd number of an array is in odd index. </p>\n\n<p>Example 1:\n[3, 6, 2, 0, 0, 6, 9, 9, 89, 10, 1]</p>\n\n<p>Output:\n[6, 3, 2, 9, 0, 9, 0, 89, 6, 1, 10]</p>\n\n<p>Example 2:\n[1, 1, 1, 1, 2]</p>\n\n<p>Output:\n[2, 1, null, 1, null, 1, null, 1]</p>\n\n<p>Example 3:\n[2, 2, 2]</p>\n\n<p>Output:\n[2, null, 2, null, 2]</p>\n\n<p>Example 4:\n[1, 1, 1]</p>\n\n<p>Output:\n[null, 1, null, 1, null, 1]</p>\n\n<p>(if the no of even or odd numbers are less, null value is put)</p>\n\n<p>I have tried this program but I am unable to pass all test cases. Can anyone can come with the correct answer in java language. Here is the code which i tried:</p>\n\n<pre><code>\nimport java.io.*;\nimport java.util.*;\npublic class eveodd\n{\n    public static void main(String args[])throws IOException\n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(\"Enter the no of elements\");\n        int n=sc.nextInt();\n        sc.nextLine();\n        int p=0;\n        int a[]=new int[n]; \n        System.out.println(\"Enter the elements\");\n        for(int i=0;i&lt;n;i++)\n        {\n            a[i]=sc.nextInt();\n            sc.nextLine();\n        }\n\n        if(n%2==0)\n        {\n            p=n;\n        }\n        else\n        {\n            p=n+1;\n        }\n        Integer b[]=new Integer[100];\n\n        int c=0;int d=1;\n        for(int i=0;i&lt;n;i++)\n        {\n                if(a[i]%2==0)\n                {\n                    b[c]=a[i];\n                    c+=2;\n                }\n                if(a[i]%2!=0)\n                {\n                    b[d]=a[i];\n                    d+=2;\n                }\n\n\n        }\n        for(int i=0;i&lt;d;i++)\n        {\n            System.out.println(b[i]);\n        }\n    }\n}\n\n</code></pre>\n\n<p>What i am doing is filling an array with null values with even number in even index and odd number in odd index of the array. The problem i am facing is till how much index should i print the final(b[]) array. Also, is there any other way to find the size of the final (b[]) array as i have given it the size of 100.\nAny other solution or a different code (in java language) is welcome.   </p>\n"},{"tags":["java","maven","dependencies"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1616598559,"post_id":66783840,"comment_id":118053610,"body_markdown":"Are you sure you still want to use Java 7? The error means that some dependency or some plugin requires Java 8.","body":"Are you sure you still want to use Java 7? The error means that some dependency or some plugin requires Java 8."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1616598611,"post_id":66783840,"comment_id":118053644,"body_markdown":"Does this answer your question? [Unsupported major.minor version 52.0](https://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0\">Unsupported major.minor version 52.0</a>"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1616598647,"post_id":66783840,"comment_id":118053667,"body_markdown":"Which Maven version do you use? Looks like the version that you use, doesn&#39;t support Java 7 anymore.","body":"Which Maven version do you use? Looks like the version that you use, doesn&#39;t support Java 7 anymore."},{"owner":{"account_id":14982442,"reputation":1098,"user_id":10816073,"display_name":"Lyra Orwell"},"score":1,"creation_date":1616598931,"post_id":66783840,"comment_id":118053835,"body_markdown":"@dunni EMBEDDED 3.63/1.16.0.20210129-0849, WORKSPACE NOT AVAILABLE [3.0,)","body":"@dunni EMBEDDED 3.63/1.16.0.20210129-0849, WORKSPACE NOT AVAILABLE [3.0,)"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1616599346,"post_id":66783840,"comment_id":118054059,"body_markdown":"So you use the embedded Maven runtime in Eclipse, not on the command line? In that case, the minimum version of Eclipse is what counts, and i guess they already increased it to Java 8 (note, that this only refers to the runtime version, you can still run Eclipse with Java 8 and develop against JDK 7)","body":"So you use the embedded Maven runtime in Eclipse, not on the command line? In that case, the minimum version of Eclipse is what counts, and i guess they already increased it to Java 8 (note, that this only refers to the runtime version, you can still run Eclipse with Java 8 and develop against JDK 7)"},{"owner":{"account_id":14982442,"reputation":1098,"user_id":10816073,"display_name":"Lyra Orwell"},"score":0,"creation_date":1616599524,"post_id":66783840,"comment_id":118054157,"body_markdown":"So I need to install a downgraded version of eclipse? If so, which version would you recommend? A download link would be useful @dunni","body":"So I need to install a downgraded version of eclipse? If so, which version would you recommend? A download link would be useful @dunni"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1616599825,"post_id":66783840,"comment_id":118054319,"body_markdown":"No, as i said just run Eclipse with a higher Java version and use JDK 7 within your project settings as target JDK.","body":"No, as i said just run Eclipse with a higher Java version and use JDK 7 within your project settings as target JDK."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1616599983,"post_id":66783840,"comment_id":118054416,"body_markdown":"And you should really think about updating your Java. Java 7 is really old, and it becomes harder and harder to work with this.","body":"And you should really think about updating your Java. Java 7 is really old, and it becomes harder and harder to work with this."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1616602641,"post_id":66783840,"comment_id":118055885,"body_markdown":"Just set your JAVA_HOME on Java 7 and build your project on plain command line. I suppose this will work.","body":"Just set your JAVA_HOME on Java 7 and build your project on plain command line. I suppose this will work."}],"answers":[{"tags":[],"owner":{"account_id":20887843,"reputation":41,"user_id":15344004,"display_name":"Dina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1616599298,"creation_date":1616598534,"answer_id":66783917,"question_id":66783840,"body_markdown":"I believe, the value should be \r\n\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n\r\nRunning through Eclipse IDE then java 7 should be selected under `Java Build Path` and `Java Compiler`","title":"Maven Dependencies of an incorrect version","body":"<p>I believe, the value should be</p>\n<pre><code>&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>Running through Eclipse IDE then java 7 should be selected under <code>Java Build Path</code> and <code>Java Compiler</code></p>\n"},{"tags":[],"owner":{"account_id":426728,"reputation":151,"user_id":808102,"display_name":"fnicollet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633088003,"creation_date":1633088003,"answer_id":69405205,"question_id":66783840,"body_markdown":"I ran into a similar issue, i was using a debug configuration to compile using Java 1.7. After updating Eclipse from veersion 4.17 to version 4.21, the build stopped working with a similar error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/google/common/collect/ImmutableSet : Unsupported major.minor version 52.0\r\n\r\n\r\n@dunni comment helped, it seems like the newest version of Eclipse embeds a new version of Maven 3.8.1 which seem to break the build. In my case, I just had to revert and install Maven locally (v3.5.3), then in Preferences &gt; Maven &gt; Installation &gt; Add, use my local maven version, and the build succeeds","title":"Maven Dependencies of an incorrect version","body":"<p>I ran into a similar issue, i was using a debug configuration to compile using Java 1.7. After updating Eclipse from veersion 4.17 to version 4.21, the build stopped working with a similar error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/google/common/collect/ImmutableSet : Unsupported major.minor version 52.0\n</code></pre>\n<p>@dunni comment helped, it seems like the newest version of Eclipse embeds a new version of Maven 3.8.1 which seem to break the build. In my case, I just had to revert and install Maven locally (v3.5.3), then in Preferences &gt; Maven &gt; Installation &gt; Add, use my local maven version, and the build succeeds</p>\n"}],"owner":{"account_id":14982442,"reputation":1098,"user_id":10816073,"display_name":"Lyra Orwell"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1973,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":66783917,"answer_count":2,"score":0,"last_activity_date":1633088003,"creation_date":1616598255,"question_id":66783840,"body_markdown":"I am trying to run my Maven project using Java JDK 1.7\r\n\r\nWhenever I run my project (as a Maven project) (created under Java JDK 1.7) I get an error:\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/google/common/collect/ImmutableSet : Unsupported major.minor version 52.0\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:800)\r\n    \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\r\n    \tat java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:425)\r\n    \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n    \tat com.google.inject.internal.Errors.&lt;clinit&gt;(Errors.java:105)\r\n    \tat com.google.inject.internal.InternalInjectorCreator.&lt;init&gt;(InternalInjectorCreator.java:61)\r\n    \tat com.google.inject.Guice.createInjector(Guice.java:87)\r\n    \tat com.google.inject.Guice.createInjector(Guice.java:69)\r\n    \tat com.google.inject.Guice.createInjector(Guice.java:59)\r\n    \tat org.codehaus.plexus.DefaultPlexusContainer.addPlexusInjector(DefaultPlexusContainer.java:481)\r\n    \tat org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:206)\r\n    \tat org.apache.maven.cli.MavenCli.container(MavenCli.java:636)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:282)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n\r\nNote that it is not user generated files which are out of date.\r\n\r\n**POM File**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;EndUsersServ&lt;/groupId&gt;\r\n      &lt;artifactId&gt;EndUsersService&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n      \t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;maven.compiler.source&gt;7&lt;/maven.compiler.source&gt;\r\n    \t&lt;maven.compiler.target&gt;7&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n          &lt;!-- https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-rt --&gt;\r\n    \t  &lt;dependency&gt;\r\n    \t  \t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t  \t&lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n    \t  \t&lt;version&gt;2.2.6&lt;/version&gt;\r\n    \t  &lt;/dependency&gt;\r\n    \t  &lt;dependency&gt;\r\n    \t    &lt;groupId&gt;com.sun.org.apache.xml.internal&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;resolver&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;20050927&lt;/version&gt;\r\n    \t  &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.3&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \t\r\n    &lt;/project&gt;\r\n\r\nI believe one or more of the maven plugins are for version 8 of Java but I am not sure which, and even if they the plugins are featured in the pom file. Do I need to completely reinstall my IDE?\r\n\r\nAny help appreciated.\r\n\r\n\r\n**Project Facets**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jIwOI.png","title":"Maven Dependencies of an incorrect version","body":"<p>I am trying to run my Maven project using Java JDK 1.7</p>\n<p>Whenever I run my project (as a Maven project) (created under Java JDK 1.7) I get an error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/google/common/collect/ImmutableSet : Unsupported major.minor version 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:425)\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n    at com.google.inject.internal.Errors.&lt;clinit&gt;(Errors.java:105)\n    at com.google.inject.internal.InternalInjectorCreator.&lt;init&gt;(InternalInjectorCreator.java:61)\n    at com.google.inject.Guice.createInjector(Guice.java:87)\n    at com.google.inject.Guice.createInjector(Guice.java:69)\n    at com.google.inject.Guice.createInjector(Guice.java:59)\n    at org.codehaus.plexus.DefaultPlexusContainer.addPlexusInjector(DefaultPlexusContainer.java:481)\n    at org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:206)\n    at org.apache.maven.cli.MavenCli.container(MavenCli.java:636)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:282)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n</code></pre>\n<p>Note that it is not user generated files which are out of date.</p>\n<p><strong>POM File</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;EndUsersServ&lt;/groupId&gt;\n  &lt;artifactId&gt;EndUsersService&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n      &lt;!-- https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-rt --&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n        &lt;version&gt;2.2.6&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.org.apache.xml.internal&lt;/groupId&gt;\n        &lt;artifactId&gt;resolver&lt;/artifactId&gt;\n        &lt;version&gt;20050927&lt;/version&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.3&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n    \n&lt;/project&gt;\n</code></pre>\n<p>I believe one or more of the maven plugins are for version 8 of Java but I am not sure which, and even if they the plugins are featured in the pom file. Do I need to completely reinstall my IDE?</p>\n<p>Any help appreciated.</p>\n<p><strong>Project Facets</strong></p>\n<p><a href=\"https://i.stack.imgur.com/jIwOI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jIwOI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","weblogic","weblogic12c","multi-release-jar"],"comments":[{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":0,"creation_date":1568158521,"post_id":57875635,"comment_id":102183237,"body_markdown":"Which version of Java was used to build the war?","body":"Which version of Java was used to build the war?"}],"answers":[{"tags":[],"owner":{"account_id":8415430,"reputation":2566,"user_id":6316044,"display_name":"Emmanuel Collin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1568186008,"creation_date":1568186008,"answer_id":57883939,"question_id":57875635,"body_markdown":"JEP 238 is from Java 9 and WebLogic Server does not run with Java 9.","title":"Deploying multiple release .jar on Oracle WebLogic Server","body":"<p>JEP 238 is from Java 9 and WebLogic Server does not run with Java 9.</p>\n"},{"tags":[],"owner":{"account_id":6710967,"reputation":17723,"user_id":5174436,"accept_rate":50,"display_name":"Matthew McPeak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1568823229,"creation_date":1568823229,"answer_id":57996943,"question_id":57875635,"body_markdown":"After looking into it further, the \r\n\r\n&gt; BEA-160248 Unable to parse class file...\r\n\r\nmessages were a red herring.  After solving other, unrelated problems, the application does deploy and work as needed, in spite of these error messages appearing in the log.\r\n\r\n\r\n","title":"Deploying multiple release .jar on Oracle WebLogic Server","body":"<p>After looking into it further, the </p>\n\n<blockquote>\n  <p>BEA-160248 Unable to parse class file...</p>\n</blockquote>\n\n<p>messages were a red herring.  After solving other, unrelated problems, the application does deploy and work as needed, in spite of these error messages appearing in the log.</p>\n"},{"tags":[],"owner":{"account_id":2583683,"reputation":21,"user_id":2239844,"display_name":"Yannis Thanasoulas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633087763,"creation_date":1633021556,"answer_id":69396267,"question_id":57875635,"body_markdown":"I would like to add that according to [Doc ID 2629550.1](https://support.oracle.com/knowledge/Middleware/2629550_1.html):\r\n\r\n&gt; This message is harmless and can be ignored.","title":"Deploying multiple release .jar on Oracle WebLogic Server","body":"<p>I would like to add that according to <a href=\"https://support.oracle.com/knowledge/Middleware/2629550_1.html\" rel=\"nofollow noreferrer\">Doc ID 2629550.1</a>:</p>\n<blockquote>\n<p>This message is harmless and can be ignored.</p>\n</blockquote>\n"}],"owner":{"account_id":6710967,"reputation":17723,"user_id":5174436,"accept_rate":50,"display_name":"Matthew McPeak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4463,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":57996943,"answer_count":3,"score":5,"last_activity_date":1633087763,"creation_date":1568136162,"question_id":57875635,"body_markdown":"We are trying to deploy a web service (a .war file) onto an Oracle WebLogic 12.2.1.0.0 Server.\r\n\r\nThe .war contains some third party .jars, for example `log4j-api-2.12.0.jar`, that are multiple release .jars (per JEP 238, having `Multi-Release: true` in MANIFEST.MF).\r\n\r\nAs such, it includes some Java 9 compiled classes in the `META-INF/versions/9` directory.  WebLogic 12.2 uses Java 8 only (confirmed version as Java 1.8.0_92 via WebLogic Admin Console).\r\n\r\nAs I understand it, Java 8 servers are supposed to not see / ignore any classes under the `META-INF/versions` directory, but this does not seem to be happening.  It appears as though Oracle WLS is just scanning the whole .war.\r\n\r\nAs a result, when we try to deploy the .war, we get errors like this one:\r\n\r\n&gt; BEA-160248 Unable to parse class file:... (then a long path name into the `META-INF/versions/9` directory)\r\n\r\nIs there something special we need to do to make this work?  I&#39;ll accept anything along the lines of:\r\n\r\n* Configure WLS somehow to ignore the `META-INF/versions/9` classes\r\n* Configure Maven to somehow build the .war without the `META-INF/versions/9` classes that are present in the third-party .jars.\r\n\r\nI&#39;m not interested in answers involving manually deleting anything from the .war every time it is built.  Also, I&#39;m not sure I can downgrade to earlier versions of the 3rd party .jars at this point.  Log4j2, probably could... but there are others.\r\n\r\nThanks!\r\n\r\n\r\n","title":"Deploying multiple release .jar on Oracle WebLogic Server","body":"<p>We are trying to deploy a web service (a .war file) onto an Oracle WebLogic 12.2.1.0.0 Server.</p>\n\n<p>The .war contains some third party .jars, for example <code>log4j-api-2.12.0.jar</code>, that are multiple release .jars (per JEP 238, having <code>Multi-Release: true</code> in MANIFEST.MF).</p>\n\n<p>As such, it includes some Java 9 compiled classes in the <code>META-INF/versions/9</code> directory.  WebLogic 12.2 uses Java 8 only (confirmed version as Java 1.8.0_92 via WebLogic Admin Console).</p>\n\n<p>As I understand it, Java 8 servers are supposed to not see / ignore any classes under the <code>META-INF/versions</code> directory, but this does not seem to be happening.  It appears as though Oracle WLS is just scanning the whole .war.</p>\n\n<p>As a result, when we try to deploy the .war, we get errors like this one:</p>\n\n<blockquote>\n  <p>BEA-160248 Unable to parse class file:... (then a long path name into the <code>META-INF/versions/9</code> directory)</p>\n</blockquote>\n\n<p>Is there something special we need to do to make this work?  I'll accept anything along the lines of:</p>\n\n<ul>\n<li>Configure WLS somehow to ignore the <code>META-INF/versions/9</code> classes</li>\n<li>Configure Maven to somehow build the .war without the <code>META-INF/versions/9</code> classes that are present in the third-party .jars.</li>\n</ul>\n\n<p>I'm not interested in answers involving manually deleting anything from the .war every time it is built.  Also, I'm not sure I can downgrade to earlier versions of the 3rd party .jars at this point.  Log4j2, probably could... but there are others.</p>\n\n<p>Thanks!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8013,"page":1979,"page_size":100}
