{"items":[{"tags":["java","junit","easymock"],"answers":[{"tags":[],"owner":{"account_id":392465,"reputation":5571,"user_id":753739,"display_name":"Henri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587345464,"creation_date":1587345464,"answer_id":61313753,"question_id":61283384,"body_markdown":"You need to pass the mocks to `replay`. And I don&#39;t get your mocking part. Please, next time, give a real example.\r\n\r\n    @After\r\n    public void after(){\r\n      var a = mock(A.class);\r\n      var b = mock(B.class);\r\n      var c = mock(C.class);\r\n      //  ... expectations ...\r\n      replay(a, b, c);\r\n      // ... test...\r\n      verify(a, b, c);\r\n    }\r\n","title":"java.lang.IllegalStateException: calling verify is not allowed in record state in easymock","body":"<p>You need to pass the mocks to <code>replay</code>. And I don't get your mocking part. Please, next time, give a real example.</p>\n\n<pre><code>@After\npublic void after(){\n  var a = mock(A.class);\n  var b = mock(B.class);\n  var c = mock(C.class);\n  //  ... expectations ...\n  replay(a, b, c);\n  // ... test...\n  verify(a, b, c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9349629,"reputation":723,"user_id":6939768,"accept_rate":55,"display_name":"Zelkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678919245,"creation_date":1678918339,"answer_id":75750535,"question_id":61283384,"body_markdown":"There are a few reasons that you can get the error `java.lang.IllegalStateException: calling verify is not allowed in record state`.\r\n\r\nIf there are no calls to `expect(...).andReturn(...)` calls, or `expectLastCall()` then there will be nothing for it to verify, and you will get this error.\r\n\r\nAnother easily overlooked error is when you use `PowerMock`, `EasyMock` and `EasyMock`&#39;s `strictControl` which all have their versions of the various `expect` calls. If you accidentally use one to create the mocked classes, and other to verify the calls, it will cause the same issue as above, since the specific package doesn&#39;t see any matching `expect` calls.\r\n\r\nAdditionally I&#39;d recommend using `replayAll();` and `verifyAll();` to avoid using explicitly stating each of the expected calls.","title":"java.lang.IllegalStateException: calling verify is not allowed in record state in easymock","body":"<p>There are a few reasons that you can get the error <code>java.lang.IllegalStateException: calling verify is not allowed in record state</code>.</p>\n<p>If there are no calls to <code>expect(...).andReturn(...)</code> calls, or <code>expectLastCall()</code> then there will be nothing for it to verify, and you will get this error.</p>\n<p>Another easily overlooked error is when you use <code>PowerMock</code>, <code>EasyMock</code> and <code>EasyMock</code>'s <code>strictControl</code> which all have their versions of the various <code>expect</code> calls. If you accidentally use one to create the mocked classes, and other to verify the calls, it will cause the same issue as above, since the specific package doesn't see any matching <code>expect</code> calls.</p>\n<p>Additionally I'd recommend using <code>replayAll();</code> and <code>verifyAll();</code> to avoid using explicitly stating each of the expected calls.</p>\n"}],"owner":{"account_id":10869568,"reputation":342,"user_id":7991901,"display_name":"Karunakar Reddy L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5910,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678919245,"creation_date":1587175344,"question_id":61283384,"body_markdown":"I have a very big Integration test where it is failing with **calling verify is not allowed in record state** in easy mock.\r\n\r\n\r\nI could not figure out what exactly causing the issue.\r\n\r\nin @After there are some mocks below\r\n```\r\n@After\r\npublic void after(){\r\n  mock(a,b,c);\r\n  replay();\r\n   verify(a,b,c);\r\n}\r\n```\r\nexception is coming at verify, if someone has a clue what could be possible scenarios.\r\nplease help me.\r\n\r\n\r\n","title":"java.lang.IllegalStateException: calling verify is not allowed in record state in easymock","body":"<p>I have a very big Integration test where it is failing with <strong>calling verify is not allowed in record state</strong> in easy mock.</p>\n\n<p>I could not figure out what exactly causing the issue.</p>\n\n<p>in @After there are some mocks below</p>\n\n<pre><code>@After\npublic void after(){\n  mock(a,b,c);\n  replay();\n   verify(a,b,c);\n}\n</code></pre>\n\n<p>exception is coming at verify, if someone has a clue what could be possible scenarios.\nplease help me.</p>\n"},{"tags":["java","node.js","offset","file-writing","node.js-fs"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1678919574,"post_id":75750617,"comment_id":133628786,"body_markdown":"[RandomAccessFile#seek](https://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html#seek(long))","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html#seek(long)\" rel=\"nofollow noreferrer\">RandomAccessFile#seek</a>"}],"owner":{"account_id":28027314,"reputation":11,"user_id":21407079,"display_name":"xplore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678919227,"creation_date":1678919227,"question_id":75750617,"body_markdown":"I need to write bytes to a file from multiple threads in java, at a specific offset of the file.\r\n\r\nThe fs.write from NodeJS takes the next arguments: \r\n\r\nfs.write(fd, buffer, offset, length, position, callback)\r\n\r\nThe &quot;position&quot; argument reffers to the offset within the file, where a byte buffer will be written.\r\n\r\nFileOutputStream, BufferedOutputStream etc, takes as arguments just the byte buffer, the offset within the buffer and the length of the buffer, but no the offset within the file.\r\n\r\nWhat is the equivalent in java for this situation?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Writing a byte buffer at a specific offset within the file in Java. (Equivalent of NodeJs fs.write )","body":"<p>I need to write bytes to a file from multiple threads in java, at a specific offset of the file.</p>\n<p>The fs.write from NodeJS takes the next arguments:</p>\n<p>fs.write(fd, buffer, offset, length, position, callback)</p>\n<p>The &quot;position&quot; argument reffers to the offset within the file, where a byte buffer will be written.</p>\n<p>FileOutputStream, BufferedOutputStream etc, takes as arguments just the byte buffer, the offset within the buffer and the length of the buffer, but no the offset within the file.</p>\n<p>What is the equivalent in java for this situation?</p>\n"},{"tags":["java","spring","spring-boot","keycloak"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1645446431,"post_id":71206238,"comment_id":125865925,"body_markdown":"3.0.0 is a milestone release and far from produyction ready. I highly doubt there already is a keycloack version available for that. Judging from the error it isn&#39;t as Spring Boot 3 is for JakartaEE and not JavaEE, the error indicates it requires JavaEE. So in short don&#39;t upgrade (as it isn&#39;t actually an upgrade nor should you be using Milestone versions in production).","body":"3.0.0 is a milestone release and far from produyction ready. I highly doubt there already is a keycloack version available for that. Judging from the error it isn&#39;t as Spring Boot 3 is for JakartaEE and not JavaEE, the error indicates it requires JavaEE. So in short don&#39;t upgrade (as it isn&#39;t actually an upgrade nor should you be using Milestone versions in production)."},{"owner":{"display_name":"user17408941"},"score":0,"creation_date":1645446639,"post_id":71206238,"comment_id":125866005,"body_markdown":"I understand, tyvm. I&#39;ll try a new project with 2.6.3 and see if the error persists.","body":"I understand, tyvm. I&#39;ll try a new project with 2.6.3 and see if the error persists."},{"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1675085245,"post_id":71206238,"comment_id":132846132,"body_markdown":"@Darko did you get this working on Spring Boot 3.0.x given that its stable now","body":"@Darko did you get this working on Spring Boot 3.0.x given that its stable now"},{"owner":{"display_name":"user17408941"},"score":0,"creation_date":1675972403,"post_id":71206238,"comment_id":133048293,"body_markdown":"I haven&#39;t touched spring boot again so far, at least not in connection with security and keycloak, sorry","body":"I haven&#39;t touched spring boot again so far, at least not in connection with security and keycloak, sorry"}],"owner":{"display_name":"user17408941"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1713,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678918660,"creation_date":1645446164,"question_id":71206238,"body_markdown":"I&#39;m getting an error after adding keycloak-spring-boot-starter and removing Spring security which I had originally. I switched because I thought the configuration was simpler and more opinionated.\r\n\r\nTo be honest, I don&#39;t know what the difference between 3.0.0-M1 and 2.6.3 is. I&#39;m trying to learn Spring Boot by creating a simple RESTful HTTP API that is protected by keycloak.\r\n\r\nIs v3 recommended or should 2.6.3 be used? I&#39;m finding it very hard to find appropriate, complete information in the Java world.\r\n\r\nStartup log\r\n\r\n\r\n```lang-none\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::             (v3.0.0-M1)\r\n\r\n2022-02-21 12:58:14.469  INFO 10181 --- [  restartedMain] de.icod.recipe.RecipeApplication         : Starting RecipeApplication using Java 17.0.2 on dev.luketic with PID 10181 (/home/darko/IdeaProjects/recipe/target/classes started by darko in /home/darko/IdeaProjects/recipe)\r\n2022-02-21 12:58:14.471  INFO 10181 --- [  restartedMain] de.icod.recipe.RecipeApplication         : No active profile set, falling back to default profiles: default\r\n2022-02-21 12:58:14.507  INFO 10181 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2022-02-21 12:58:14.508  INFO 10181 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2022-02-21 12:58:14.895  INFO 10181 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-02-21 12:58:14.916  INFO 10181 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interfaces.\r\n2022-02-21 12:58:15.417  INFO 10181 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 3000 (http)\r\n2022-02-21 12:58:15.421  INFO 10181 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-02-21 12:58:15.421  INFO 10181 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/10.0.16]\r\n2022-02-21 12:58:15.464  INFO 10181 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-02-21 12:58:15.465  INFO 10181 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 956 ms\r\n2022-02-21 12:58:15.491 ERROR 10181 --- [  restartedMain] org.apache.catalina.core.ContainerBase   : A child container failed during start\r\n\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\r\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-6.0.0-M2.jar:6.0.0-M2]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:719) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:401) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1279) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at de.icod.recipe.RecipeApplication.main(RecipeApplication.java:10) ~[classes/:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0-M1.jar:3.0.0-M1]\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    ... 34 common frames omitted\r\nCaused by: java.lang.NoSuchMethodError: &#39;javax.servlet.ServletContext org.apache.catalina.Context.getServletContext()&#39;\r\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.keycloakInit(AbstractKeycloakAuthenticatorValve.java:111) ~[spring-boot-container-bundle-17.0.0.jar:17.0.0]\r\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.lifecycleEvent(AbstractKeycloakAuthenticatorValve.java:70) ~[spring-boot-container-bundle-17.0.0.jar:17.0.0]\r\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:193) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    ... 40 common frames omitted\r\n\r\n2022-02-21 12:58:15.492 ERROR 10181 --- [  restartedMain] org.apache.catalina.core.ContainerBase   : A child container failed during start\r\n\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\r\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-6.0.0-M2.jar:6.0.0-M2]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:719) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:401) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1279) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at de.icod.recipe.RecipeApplication.main(RecipeApplication.java:10) ~[classes/:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0-M1.jar:3.0.0-M1]\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    ... 26 common frames omitted\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\r\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    ... 34 common frames omitted\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    ... 34 common frames omitted\r\nCaused by: java.lang.NoSuchMethodError: &#39;javax.servlet.ServletContext org.apache.catalina.Context.getServletContext()&#39;\r\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.keycloakInit(AbstractKeycloakAuthenticatorValve.java:111) ~[spring-boot-container-bundle-17.0.0.jar:17.0.0]\r\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.lifecycleEvent(AbstractKeycloakAuthenticatorValve.java:70) ~[spring-boot-container-bundle-17.0.0.jar:17.0.0]\r\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:193) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    ... 40 common frames omitted\r\n\r\n2022-02-21 12:58:15.493  INFO 10181 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-02-21 12:58:15.499  WARN 10181 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n2022-02-21 12:58:15.505  INFO 10181 --- [  restartedMain] ConditionEvaluationReportLoggingListener :\r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-02-21 12:58:15.515 ERROR 10181 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   :\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.keycloakInit(AbstractKeycloakAuthenticatorValve.java:111)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;javax.servlet.ServletContext org.apache.catalina.Context.getServletContext()&#39;\r\n\r\nThe calling method&#39;s class, org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve, was loaded from the following location:\r\n\r\n    jar:file:/home/darko/.m2/repository/org/keycloak/spring-boot-container-bundle/17.0.0/spring-boot-container-bundle-17.0.0.jar!/org/keycloak/adapters/tomcat/AbstractKeycloakAuthenticatorValve.class\r\n\r\nThe called method&#39;s class, org.apache.catalina.Context, is available from the following locations:\r\n\r\n    jar:file:/home/darko/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.0.16/tomcat-embed-core-10.0.16.jar!/org/apache/catalina/Context.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    org.apache.catalina.Context: file:/home/darko/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.0.16/tomcat-embed-core-10.0.16.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve and org.apache.catalina.Context\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n### File *pom.xml*\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;de.icod&lt;/groupId&gt;\r\n    &lt;artifactId&gt;recipe&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;recipe&lt;/name&gt;\r\n    &lt;description&gt;recipe&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-rest-hal-explorer&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;17.0.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n","title":"Spring Boot 3.0.0 compatibility with keycloak-spring-boot-starter","body":"<p>I'm getting an error after adding keycloak-spring-boot-starter and removing Spring security which I had originally. I switched because I thought the configuration was simpler and more opinionated.</p>\n<p>To be honest, I don't know what the difference between 3.0.0-M1 and 2.6.3 is. I'm trying to learn Spring Boot by creating a simple RESTful HTTP API that is protected by keycloak.</p>\n<p>Is v3 recommended or should 2.6.3 be used? I'm finding it very hard to find appropriate, complete information in the Java world.</p>\n<p>Startup log</p>\n<pre class=\"lang-none prettyprint-override\"><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::             (v3.0.0-M1)\n\n2022-02-21 12:58:14.469  INFO 10181 --- [  restartedMain] de.icod.recipe.RecipeApplication         : Starting RecipeApplication using Java 17.0.2 on dev.luketic with PID 10181 (/home/darko/IdeaProjects/recipe/target/classes started by darko in /home/darko/IdeaProjects/recipe)\n2022-02-21 12:58:14.471  INFO 10181 --- [  restartedMain] de.icod.recipe.RecipeApplication         : No active profile set, falling back to default profiles: default\n2022-02-21 12:58:14.507  INFO 10181 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2022-02-21 12:58:14.508  INFO 10181 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2022-02-21 12:58:14.895  INFO 10181 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-02-21 12:58:14.916  INFO 10181 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interfaces.\n2022-02-21 12:58:15.417  INFO 10181 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 3000 (http)\n2022-02-21 12:58:15.421  INFO 10181 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-02-21 12:58:15.421  INFO 10181 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/10.0.16]\n2022-02-21 12:58:15.464  INFO 10181 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-02-21 12:58:15.465  INFO 10181 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 956 ms\n2022-02-21 12:58:15.491 ERROR 10181 --- [  restartedMain] org.apache.catalina.core.ContainerBase   : A child container failed during start\n\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-6.0.0-M2.jar:6.0.0-M2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:719) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:401) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1279) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at de.icod.recipe.RecipeApplication.main(RecipeApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0-M1.jar:3.0.0-M1]\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    ... 34 common frames omitted\nCaused by: java.lang.NoSuchMethodError: 'javax.servlet.ServletContext org.apache.catalina.Context.getServletContext()'\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.keycloakInit(AbstractKeycloakAuthenticatorValve.java:111) ~[spring-boot-container-bundle-17.0.0.jar:17.0.0]\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.lifecycleEvent(AbstractKeycloakAuthenticatorValve.java:70) ~[spring-boot-container-bundle-17.0.0.jar:17.0.0]\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:193) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    ... 40 common frames omitted\n\n2022-02-21 12:58:15.492 ERROR 10181 --- [  restartedMain] org.apache.catalina.core.ContainerBase   : A child container failed during start\n\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-6.0.0-M2.jar:6.0.0-M2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:719) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:401) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1279) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at de.icod.recipe.RecipeApplication.main(RecipeApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0-M1.jar:3.0.0-M1]\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    ... 26 common frames omitted\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    ... 34 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    ... 34 common frames omitted\nCaused by: java.lang.NoSuchMethodError: 'javax.servlet.ServletContext org.apache.catalina.Context.getServletContext()'\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.keycloakInit(AbstractKeycloakAuthenticatorValve.java:111) ~[spring-boot-container-bundle-17.0.0.jar:17.0.0]\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.lifecycleEvent(AbstractKeycloakAuthenticatorValve.java:70) ~[spring-boot-container-bundle-17.0.0.jar:17.0.0]\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:193) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    ... 40 common frames omitted\n\n2022-02-21 12:58:15.493  INFO 10181 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-02-21 12:58:15.499  WARN 10181 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n2022-02-21 12:58:15.505  INFO 10181 --- [  restartedMain] ConditionEvaluationReportLoggingListener :\n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-02-21 12:58:15.515 ERROR 10181 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   :\n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.keycloakInit(AbstractKeycloakAuthenticatorValve.java:111)\n\nThe following method did not exist:\n\n    'javax.servlet.ServletContext org.apache.catalina.Context.getServletContext()'\n\nThe calling method's class, org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve, was loaded from the following location:\n\n    jar:file:/home/darko/.m2/repository/org/keycloak/spring-boot-container-bundle/17.0.0/spring-boot-container-bundle-17.0.0.jar!/org/keycloak/adapters/tomcat/AbstractKeycloakAuthenticatorValve.class\n\nThe called method's class, org.apache.catalina.Context, is available from the following locations:\n\n    jar:file:/home/darko/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.0.16/tomcat-embed-core-10.0.16.jar!/org/apache/catalina/Context.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    org.apache.catalina.Context: file:/home/darko/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.0.16/tomcat-embed-core-10.0.16.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve and org.apache.catalina.Context\n\n\nProcess finished with exit code 0\n</code></pre>\n<h3>File <em>pom.xml</em></h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;de.icod&lt;/groupId&gt;\n    &lt;artifactId&gt;recipe&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;recipe&lt;/name&gt;\n    &lt;description&gt;recipe&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-rest-hal-explorer&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\n                &lt;version&gt;17.0.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","performance","nim-lang"],"comments":[{"owner":{"account_id":247201,"reputation":22581,"user_id":521776,"accept_rate":95,"display_name":"BlackBear"},"score":0,"creation_date":1546612336,"post_id":54040850,"comment_id":94916710,"body_markdown":"More accurate title: `Is Nim similar to Java in its memory-inefficiency?` :D","body":"More accurate title: <code>Is Nim similar to Java in its memory-inefficiency?</code> :D"},{"owner":{"account_id":2189787,"reputation":11927,"user_id":1937197,"accept_rate":80,"display_name":"MWB"},"score":0,"creation_date":1546628801,"post_id":54040850,"comment_id":94924991,"body_markdown":"@BlackBear fixed","body":"@BlackBear fixed"}],"answers":[{"tags":[],"owner":{"account_id":5567301,"reputation":5315,"user_id":4414062,"display_name":"def-"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1546619680,"creation_date":1546619680,"answer_id":54042834,"question_id":54040850,"body_markdown":"In Nim you can also put objects onto the stack, thus not requiring garbage collection and only taking as much space as the members in the object. When putting an automatically allocated object on the heap some garbage collection memory overhead exists, but the object itself still stays at the size of its members (plus padding of course).","title":"Is Nim similar to Java in its memory overhead?","body":"<p>In Nim you can also put objects onto the stack, thus not requiring garbage collection and only taking as much space as the members in the object. When putting an automatically allocated object on the heap some garbage collection memory overhead exists, but the object itself still stays at the size of its members (plus padding of course).</p>\n"},{"comments":[{"owner":{"account_id":2189787,"reputation":11927,"user_id":1937197,"accept_rate":80,"display_name":"MWB"},"score":0,"creation_date":1546744755,"post_id":54057319,"comment_id":94950523,"body_markdown":"As I mentioned, in my test, Java actually uses only 3 words per `Node` (`java --version` says &quot;openjdk 10.0.2&quot;)","body":"As I mentioned, in my test, Java actually uses only 3 words per <code>Node</code> (<code>java --version</code> says &quot;openjdk 10.0.2&quot;)"},{"owner":{"account_id":2189787,"reputation":11927,"user_id":1937197,"accept_rate":80,"display_name":"MWB"},"score":0,"creation_date":1546744805,"post_id":54057319,"comment_id":94950529,"body_markdown":"I run the Java version with `taskset -c 0 java  SListTest`","body":"I run the Java version with <code>taskset -c 0 java  SListTest</code>"},{"owner":{"account_id":1599022,"reputation":8640,"user_id":1480466,"display_name":"Reimer Behrends"},"score":0,"creation_date":1546756494,"post_id":54057319,"comment_id":94952030,"body_markdown":"It takes &gt;3GB for me with Java on both macOS and Linux, though I&#39;m not using OpenJDK 10 yet. Either they changed something more recently (note that I linked to the OpenJDK 9 source code) or you are running the 32-bit version of the JVM (which would take 5 32-bit words, but might also round up to 6 32-bit words to keep data 64-bit aligned).","body":"It takes &gt;3GB for me with Java on both macOS and Linux, though I&#39;m not using OpenJDK 10 yet. Either they changed something more recently (note that I linked to the OpenJDK 9 source code) or you are running the 32-bit version of the JVM (which would take 5 32-bit words, but might also round up to 6 32-bit words to keep data 64-bit aligned)."},{"owner":{"account_id":2189787,"reputation":11927,"user_id":1937197,"accept_rate":80,"display_name":"MWB"},"score":0,"creation_date":1546761974,"post_id":54057319,"comment_id":94952901,"body_markdown":"&quot;OpenJDK 64-Bit Server VM (build 10.0.2+13-Ubuntu-1ubuntu0.18.04.4, mixed mode)&quot;","body":"&quot;OpenJDK 64-Bit Server VM (build 10.0.2+13-Ubuntu-1ubuntu0.18.04.4, mixed mode)&quot;"},{"owner":{"account_id":2189787,"reputation":11927,"user_id":1937197,"accept_rate":80,"display_name":"MWB"},"score":0,"creation_date":1546762039,"post_id":54057319,"comment_id":94952908,"body_markdown":"Come to think of it, all `Node`s are the same. They can share the header and just need a pointer to it. I would guess that this is what&#39;s happening here.","body":"Come to think of it, all <code>Node</code>s are the same. They can share the header and just need a pointer to it. I would guess that this is what&#39;s happening here."}],"tags":[],"owner":{"account_id":1599022,"reputation":8640,"user_id":1480466,"display_name":"Reimer Behrends"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1546731563,"creation_date":1546731563,"answer_id":54057319,"question_id":54040850,"body_markdown":"For both Nim and HotSpot (note that not all Java implementations need to use the same approach), basic allocations require one word for GC information and one word for type information ([Nim](https://github.com/nim-lang/Nim/blob/4a720394bba39ce1e67d518b909cbb1c25f63d09/lib/system/cellsets.nim#L15), [HotSpot](http://hg.openjdk.java.net/jdk9/jdk9/hotspot/file/b756e7a2ec33/src/share/vm/oops/oop.hpp#l58)). In HotSpot, you can reduce the type information to a half word on 64-bit machines if you don&#39;t need more than 32GB of heap space using `-XX:+UseCompressedOops`.\r\n\r\nModern locking implementations in Java do not incur additional overhead; the GC word [is also used for a thin locking scheme](http://hg.openjdk.java.net/jdk9/jdk9/hotspot/file/b756e7a2ec33/src/share/vm/oops/markOop.hpp#l30) and is expanded into a pointer to a full monitor if needed. Thus, by default, we have two words of overhead per object.\r\n\r\nIn your example, the per object memory consumption is four words in Nim on a 64-bit machine:\r\n\r\n* Two words of header data.\r\n* One word for the float value.\r\n* One word for the next pointer.\r\n\r\n1e8 allocations of this size require a raw amount 32*1e8 = 3.2e9 bytes, i.e. about 3 GB.\r\n\r\nI&#39;ll add that having lots of small allocations tends to be [bad for memory locality](https://stackoverflow.com/questions/34170566/bjarne-stroustrup-says-we-must-avoid-linked-lists) not even counting the costs of that many allocations and should generally be avoided if possible. A (dynamic) array is almost always preferable over a linked list.","title":"Is Nim similar to Java in its memory overhead?","body":"<p>For both Nim and HotSpot (note that not all Java implementations need to use the same approach), basic allocations require one word for GC information and one word for type information (<a href=\"https://github.com/nim-lang/Nim/blob/4a720394bba39ce1e67d518b909cbb1c25f63d09/lib/system/cellsets.nim#L15\" rel=\"nofollow noreferrer\">Nim</a>, <a href=\"http://hg.openjdk.java.net/jdk9/jdk9/hotspot/file/b756e7a2ec33/src/share/vm/oops/oop.hpp#l58\" rel=\"nofollow noreferrer\">HotSpot</a>). In HotSpot, you can reduce the type information to a half word on 64-bit machines if you don't need more than 32GB of heap space using <code>-XX:+UseCompressedOops</code>.</p>\n\n<p>Modern locking implementations in Java do not incur additional overhead; the GC word <a href=\"http://hg.openjdk.java.net/jdk9/jdk9/hotspot/file/b756e7a2ec33/src/share/vm/oops/markOop.hpp#l30\" rel=\"nofollow noreferrer\">is also used for a thin locking scheme</a> and is expanded into a pointer to a full monitor if needed. Thus, by default, we have two words of overhead per object.</p>\n\n<p>In your example, the per object memory consumption is four words in Nim on a 64-bit machine:</p>\n\n<ul>\n<li>Two words of header data.</li>\n<li>One word for the float value.</li>\n<li>One word for the next pointer.</li>\n</ul>\n\n<p>1e8 allocations of this size require a raw amount 32*1e8 = 3.2e9 bytes, i.e. about 3 GB.</p>\n\n<p>I'll add that having lots of small allocations tends to be <a href=\"https://stackoverflow.com/questions/34170566/bjarne-stroustrup-says-we-must-avoid-linked-lists\">bad for memory locality</a> not even counting the costs of that many allocations and should generally be avoided if possible. A (dynamic) array is almost always preferable over a linked list.</p>\n"}],"owner":{"account_id":2189787,"reputation":11927,"user_id":1937197,"accept_rate":80,"display_name":"MWB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54057319,"answer_count":2,"score":4,"last_activity_date":1678918335,"creation_date":1546612036,"question_id":54040850,"body_markdown":"In 64-bit Java, each object instance tends to include a [192-bit header][1], containing \r\n\r\n* the class pointer, \r\n* flags and \r\n* locks (64 bits each). \r\n\r\nThis can cause a large memory overhead for small objects.\r\n\r\n\r\nIs the situation similar for Nim? Would a large application (where the size of the runtime is negligible), written similarly in the two languages, use about the same amount of memory?\r\n\r\n\r\n---\r\n\r\n***Update**:*\r\n\r\nI ran some experiments in which I build a naive singly-linked list with 100M `float64` elements and iterate through it many times. \r\n\r\nJava is actually using **25% less** memory than Nim, according to `htop`.\r\n\r\n\r\nComplete Nim code:\r\n\r\n\r\n    type Node = ref object\r\n        data : float64\r\n        next : Node\r\n    \r\n    echo &quot;Running&quot;\r\n    \r\n    proc create(n : int): Node =\r\n        var \r\n            tmp = Node(data: 0, next: nil)\r\n        \r\n        for i in 1..&lt;n:\r\n            tmp = Node(data: i.float64, next: tmp)\r\n    \r\n        return tmp\r\n    \r\n    \r\n    proc sum(x: Node): float64 = \r\n        var\r\n            tmp: float64 = 0\r\n            y = x\r\n    \r\n        while true:\r\n            tmp += y.data\r\n            y = y.next\r\n            \r\n            if y.isNil:\r\n                return tmp\r\n    \r\n    \r\n    proc sums(x: Node, n: int): float64 = \r\n        var tmp: float64 = 0\r\n    \r\n        for i in 0..&lt;n:\r\n            tmp += sum(x) / n.float64\r\n    \r\n        return tmp\r\n    \r\n    let x = create(1000 * 1000 * 100)\r\n    \r\n    echo &quot;Created&quot;\r\n    \r\n    echo sums(x, 100)\r\n    \r\n    echo &quot;Finished&quot;\r\n\r\nThis uses 3.1GB, which comes out to 269 bits per `Node`, whereas Java uses 203 bits per `Node` in very similar code. This is less than 192bit header + 128bit structure. I&#39;m guessing that some kind of JIT optimization makes Java run using less memory.\r\n\r\nComplete Java code:\r\n\r\n`Node.java`\r\n\r\n    public class Node {\r\n        double data = 0;\r\n        Node next = null;\r\n    }\r\n\r\n`SListTest.java`\r\n\r\n\r\n    public class SListTest {\r\n    \r\n        static Node create(int n) {\r\n            Node tmp = new Node();\r\n    \r\n            for(int i = 1; i &lt; n; ++i) {\r\n                Node p = new Node();\r\n                p.data = i;\r\n                p.next = tmp;\r\n                tmp = p;\r\n            }\r\n    \r\n            return tmp;\r\n        }\r\n    \r\n        static double sum(Node x) {\r\n            double tmp = 0;\r\n    \r\n            while(x != null) {\r\n                tmp += x.data;\r\n                x = x.next;\r\n            }\r\n    \r\n            return tmp;\r\n        }\r\n    \r\n        static double sums(Node x, int n) {\r\n            double tmp = 0;\r\n    \r\n            for(int i = 0; i &lt; n; ++i)\r\n                tmp += sum(x);\r\n    \r\n            return tmp / n;\r\n        }\r\n    \r\n        public static void echo(String s) {\r\n            System.out.println(s);\r\n            System.out.flush();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            echo(&quot;Started&quot;);\r\n            Node p = create(1000 * 1000 * 100);\r\n            echo(&quot;Created&quot;);\r\n            double tmp = sums(p, 100);\r\n            System.out.printf(&quot;%f\\n&quot;, tmp);\r\n            echo(&quot;Finished&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=f2aNWtt0QRo\r\n","title":"Is Nim similar to Java in its memory overhead?","body":"<p>In 64-bit Java, each object instance tends to include a <a href=\"https://www.youtube.com/watch?v=f2aNWtt0QRo\" rel=\"nofollow noreferrer\">192-bit header</a>, containing </p>\n\n<ul>\n<li>the class pointer, </li>\n<li>flags and </li>\n<li>locks (64 bits each). </li>\n</ul>\n\n<p>This can cause a large memory overhead for small objects.</p>\n\n<p>Is the situation similar for Nim? Would a large application (where the size of the runtime is negligible), written similarly in the two languages, use about the same amount of memory?</p>\n\n<hr>\n\n<p><strong><em>Update</strong>:</em></p>\n\n<p>I ran some experiments in which I build a naive singly-linked list with 100M <code>float64</code> elements and iterate through it many times. </p>\n\n<p>Java is actually using <strong>25% less</strong> memory than Nim, according to <code>htop</code>.</p>\n\n<p>Complete Nim code:</p>\n\n<pre><code>type Node = ref object\n    data : float64\n    next : Node\n\necho \"Running\"\n\nproc create(n : int): Node =\n    var \n        tmp = Node(data: 0, next: nil)\n\n    for i in 1..&lt;n:\n        tmp = Node(data: i.float64, next: tmp)\n\n    return tmp\n\n\nproc sum(x: Node): float64 = \n    var\n        tmp: float64 = 0\n        y = x\n\n    while true:\n        tmp += y.data\n        y = y.next\n\n        if y.isNil:\n            return tmp\n\n\nproc sums(x: Node, n: int): float64 = \n    var tmp: float64 = 0\n\n    for i in 0..&lt;n:\n        tmp += sum(x) / n.float64\n\n    return tmp\n\nlet x = create(1000 * 1000 * 100)\n\necho \"Created\"\n\necho sums(x, 100)\n\necho \"Finished\"\n</code></pre>\n\n<p>This uses 3.1GB, which comes out to 269 bits per <code>Node</code>, whereas Java uses 203 bits per <code>Node</code> in very similar code. This is less than 192bit header + 128bit structure. I'm guessing that some kind of JIT optimization makes Java run using less memory.</p>\n\n<p>Complete Java code:</p>\n\n<p><code>Node.java</code></p>\n\n<pre><code>public class Node {\n    double data = 0;\n    Node next = null;\n}\n</code></pre>\n\n<p><code>SListTest.java</code></p>\n\n<pre><code>public class SListTest {\n\n    static Node create(int n) {\n        Node tmp = new Node();\n\n        for(int i = 1; i &lt; n; ++i) {\n            Node p = new Node();\n            p.data = i;\n            p.next = tmp;\n            tmp = p;\n        }\n\n        return tmp;\n    }\n\n    static double sum(Node x) {\n        double tmp = 0;\n\n        while(x != null) {\n            tmp += x.data;\n            x = x.next;\n        }\n\n        return tmp;\n    }\n\n    static double sums(Node x, int n) {\n        double tmp = 0;\n\n        for(int i = 0; i &lt; n; ++i)\n            tmp += sum(x);\n\n        return tmp / n;\n    }\n\n    public static void echo(String s) {\n        System.out.println(s);\n        System.out.flush();\n    }\n\n    public static void main(String[] args) {\n        echo(\"Started\");\n        Node p = create(1000 * 1000 * 100);\n        echo(\"Created\");\n        double tmp = sums(p, 100);\n        System.out.printf(\"%f\\n\", tmp);\n        echo(\"Finished\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java","cookies","jsoup"],"owner":{"account_id":28023573,"reputation":11,"user_id":21403976,"display_name":"Philip Herweling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678917987,"creation_date":1678886654,"question_id":75745324,"body_markdown":"I want to scrape data using the Jsoup library from the premier league table page on google but cant get to that web page with out accepting the google consent cookies and I cant find anywhere online that shows how I would go about doing this. I&#39;m guessing I will need to submit the form and then store the cookies in a variable. Any help would be greatly appreciated \r\n\r\n\r\n```\r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.nodes.Document;\r\nimport org.jsoup.nodes.Element;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class ScoreTrackerApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ScoreTrackerApplication.class, args);\r\n\r\n\t\tfinal String url = &quot;https://www.google.com/search?q=premier+league+fixtures&amp;rlz=1C1CHBF_enIE874IE874&amp;oq=premier+league+&amp;aqs=chrome.2.69i57j0i131i433i512l3j0i433i512j0i131i433i512l5.8107j1j7&amp;sourceid=chrome&amp;ie=UTF-8#sie=lg;/g/11pz7zbpnb;2;/m/02_tc;st;fp;1;;;&quot;;\r\n\r\n\t\ttry {\r\n\t\t\tfinal Document document = Jsoup.connect(url).get();\r\n\r\n\t\t\t//Testing purposes only\r\n\t\t\tSystem.out.println(document.body());\r\n\r\n\r\n\t\t}catch (Exception ex){\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\nOutput:\r\n```\r\n&lt;h1 class=&quot;I90TVb&quot; id=&quot;S3BnEe&quot;&gt;Before you continue to Google&lt;/h1&gt;\r\n        &lt;div class=&quot;AG96lb&quot;&gt;\r\n         &lt;div class=&quot;eLZYyf&quot;&gt;\r\n          We use &lt;a class=&quot;F4a1l&quot; href=&quot;https://policies.google.com/technologies/cookies?utm_source=ucbs&amp;amp;hl=en-IE&quot; target=&quot;_blank&quot;&gt;cookies&lt;/a&gt; and data to\r\n          &lt;ul class=&quot;dbXO9&quot;&gt;\r\n           &lt;li class=&quot;gowsYd ibCF0c&quot;&gt;Deliver and maintain Google services&lt;/li&gt;\r\n           &lt;li class=&quot;gowsYd GwwhGf&quot;&gt;Track outages and protect against spam, fraud and abuse&lt;/li&gt;\r\n           &lt;li class=&quot;gowsYd v8Bpfb&quot;&gt;Measure audience engagement and site statistics to understand how our services are used and enhance the quality of those services&lt;/li&gt;\r\n          &lt;/ul&gt;\r\n         &lt;/div&gt;\r\n         &lt;div class=&quot;eLZYyf&quot;&gt;\r\n          If you choose to &#39;Accept all&#39;, we will also use cookies and data to\r\n          &lt;ul class=&quot;dbXO9&quot;&gt;\r\n           &lt;li class=&quot;gowsYd M6j9qf&quot;&gt;Develop and improve new services&lt;/li&gt;\r\n           &lt;li class=&quot;gowsYd v8Bpfb&quot;&gt;Deliver and measure the effectiveness of ads&lt;/li&gt;\r\n           &lt;li class=&quot;gowsYd e21Mac&quot;&gt;Show personalised content, depending on your settings&lt;/li&gt;\r\n           &lt;li class=&quot;gowsYd ohEWPc&quot;&gt;Show personalised ads, depending on your settings&lt;/li&gt;\r\n          &lt;/ul&gt;\r\n          &lt;div class=&quot;jLhwdc&quot;&gt;\r\n           If you choose to &#39;Reject all&#39;, we will not use cookies for these additional purposes.\r\n          &lt;/div&gt;\r\n         &lt;/div&gt;\r\n         &lt;div class=&quot;yS1nld&quot;&gt;\r\n          Non-personalised content is influenced by things like the content that you’re currently viewing, activity in your active Search session, and your location. Non-personalised ads are influenced by the content that you’re currently viewing and your general location. Personalised content and ads can also include more relevant results, recommendations and tailored ads based on past activity from this browser, like previous Google searches. We also use cookies and data to tailor the experience to be age-appropriate, if relevant.\r\n         &lt;/div&gt;\r\n         &lt;div class=&quot;yS1nld&quot;&gt;\r\n          Select &#39;More options&#39; to see additional information, including details about managing your privacy settings. You can also visit &lt;span&gt;g.co/privacytools&lt;/span&gt; at any time.\r\n         &lt;/div&gt;\r\n        &lt;/div&gt;\r\n       &lt;/div&gt;\r\n       &lt;div class=&quot;spoKVd&quot;&gt;\r\n        &lt;div class=&quot;GzLjMd&quot;&gt;\r\n         &lt;button id=&quot;W0wltc&quot; class=&quot;tHlp8d&quot; data-ved=&quot;0ahUKEwjVkZLx_939AhWObsAKHcCBBz4Q4cIICF8&quot;&gt;\r\n          &lt;div class=&quot;QS5gu sy4vM&quot; role=&quot;none&quot;&gt;\r\n           Reject all\r\n          &lt;/div&gt;&lt;/button&gt;&lt;button id=&quot;L2AGLb&quot; class=&quot;tHlp8d&quot; data-ved=&quot;0ahUKEwjVkZLx_939AhWObsAKHcCBBz4QiZAHCGA&quot;&gt;\r\n          &lt;div class=&quot;QS5gu sy4vM&quot; role=&quot;none&quot;&gt;\r\n           Accept all\r\n          &lt;/div&gt;&lt;/button&gt;\r\n\r\n","title":"How to accept google consent cookies when im web scrapping with Jsoup","body":"<p>I want to scrape data using the Jsoup library from the premier league table page on google but cant get to that web page with out accepting the google consent cookies and I cant find anywhere online that shows how I would go about doing this. I'm guessing I will need to submit the form and then store the cookies in a variable. Any help would be greatly appreciated</p>\n<pre><code>import org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class ScoreTrackerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ScoreTrackerApplication.class, args);\n\n        final String url = &quot;https://www.google.com/search?q=premier+league+fixtures&amp;rlz=1C1CHBF_enIE874IE874&amp;oq=premier+league+&amp;aqs=chrome.2.69i57j0i131i433i512l3j0i433i512j0i131i433i512l5.8107j1j7&amp;sourceid=chrome&amp;ie=UTF-8#sie=lg;/g/11pz7zbpnb;2;/m/02_tc;st;fp;1;;;&quot;;\n\n        try {\n            final Document document = Jsoup.connect(url).get();\n\n            //Testing purposes only\n            System.out.println(document.body());\n\n\n        }catch (Exception ex){\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt;h1 class=&quot;I90TVb&quot; id=&quot;S3BnEe&quot;&gt;Before you continue to Google&lt;/h1&gt;\n        &lt;div class=&quot;AG96lb&quot;&gt;\n         &lt;div class=&quot;eLZYyf&quot;&gt;\n          We use &lt;a class=&quot;F4a1l&quot; href=&quot;https://policies.google.com/technologies/cookies?utm_source=ucbs&amp;amp;hl=en-IE&quot; target=&quot;_blank&quot;&gt;cookies&lt;/a&gt; and data to\n          &lt;ul class=&quot;dbXO9&quot;&gt;\n           &lt;li class=&quot;gowsYd ibCF0c&quot;&gt;Deliver and maintain Google services&lt;/li&gt;\n           &lt;li class=&quot;gowsYd GwwhGf&quot;&gt;Track outages and protect against spam, fraud and abuse&lt;/li&gt;\n           &lt;li class=&quot;gowsYd v8Bpfb&quot;&gt;Measure audience engagement and site statistics to understand how our services are used and enhance the quality of those services&lt;/li&gt;\n          &lt;/ul&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;eLZYyf&quot;&gt;\n          If you choose to 'Accept all', we will also use cookies and data to\n          &lt;ul class=&quot;dbXO9&quot;&gt;\n           &lt;li class=&quot;gowsYd M6j9qf&quot;&gt;Develop and improve new services&lt;/li&gt;\n           &lt;li class=&quot;gowsYd v8Bpfb&quot;&gt;Deliver and measure the effectiveness of ads&lt;/li&gt;\n           &lt;li class=&quot;gowsYd e21Mac&quot;&gt;Show personalised content, depending on your settings&lt;/li&gt;\n           &lt;li class=&quot;gowsYd ohEWPc&quot;&gt;Show personalised ads, depending on your settings&lt;/li&gt;\n          &lt;/ul&gt;\n          &lt;div class=&quot;jLhwdc&quot;&gt;\n           If you choose to 'Reject all', we will not use cookies for these additional purposes.\n          &lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;yS1nld&quot;&gt;\n          Non-personalised content is influenced by things like the content that you’re currently viewing, activity in your active Search session, and your location. Non-personalised ads are influenced by the content that you’re currently viewing and your general location. Personalised content and ads can also include more relevant results, recommendations and tailored ads based on past activity from this browser, like previous Google searches. We also use cookies and data to tailor the experience to be age-appropriate, if relevant.\n         &lt;/div&gt;\n         &lt;div class=&quot;yS1nld&quot;&gt;\n          Select 'More options' to see additional information, including details about managing your privacy settings. You can also visit &lt;span&gt;g.co/privacytools&lt;/span&gt; at any time.\n         &lt;/div&gt;\n        &lt;/div&gt;\n       &lt;/div&gt;\n       &lt;div class=&quot;spoKVd&quot;&gt;\n        &lt;div class=&quot;GzLjMd&quot;&gt;\n         &lt;button id=&quot;W0wltc&quot; class=&quot;tHlp8d&quot; data-ved=&quot;0ahUKEwjVkZLx_939AhWObsAKHcCBBz4Q4cIICF8&quot;&gt;\n          &lt;div class=&quot;QS5gu sy4vM&quot; role=&quot;none&quot;&gt;\n           Reject all\n          &lt;/div&gt;&lt;/button&gt;&lt;button id=&quot;L2AGLb&quot; class=&quot;tHlp8d&quot; data-ved=&quot;0ahUKEwjVkZLx_939AhWObsAKHcCBBz4QiZAHCGA&quot;&gt;\n          &lt;div class=&quot;QS5gu sy4vM&quot; role=&quot;none&quot;&gt;\n           Accept all\n          &lt;/div&gt;&lt;/button&gt;\n\n</code></pre>\n"},{"tags":["java","graphics2d"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1593706347,"post_id":62697090,"comment_id":110880500,"body_markdown":"You have to split your text, render the first part with a plain font, then render the second part with a bold font.  The trick is calculating the x position of the second part accurately, so it looks like one text rendering,  You can use the FontMetrics class to get the width of the first part of the text.","body":"You have to split your text, render the first part with a plain font, then render the second part with a bold font.  The trick is calculating the x position of the second part accurately, so it looks like one text rendering,  You can use the FontMetrics class to get the width of the first part of the text."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1593713339,"post_id":62697090,"comment_id":110883884,"body_markdown":"What are the types of `outsideFlyer` and `insideFlyer`?  If they’re components, you are obtaining your Graphics2D object the wrong way.  You don’t actively draw on a component;  you wait for the system to create its own Graphics object and pass it to your overridden paintComponent method.  That said, you’re probably better off creating one JLabel per line than doing custom drawing;  the bold font can be achieved using HTML in a JLabel’s text.","body":"What are the types of <code>outsideFlyer</code> and <code>insideFlyer</code>?  If they’re components, you are obtaining your Graphics2D object the wrong way.  You don’t actively draw on a component;  you wait for the system to create its own Graphics object and pass it to your overridden paintComponent method.  That said, you’re probably better off creating one JLabel per line than doing custom drawing;  the bold font can be achieved using HTML in a JLabel’s text."}],"answers":[{"tags":[],"owner":{"account_id":16641309,"reputation":176,"user_id":12026779,"display_name":"Yaksa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678917969,"creation_date":1678917969,"answer_id":75750493,"question_id":62697090,"body_markdown":"I ran into the same issue. After some research in other posts as well, I figured out a solution(at least it solved my problem).\r\n\r\nFirst, as far as I know, you can&#39;t do it in the same string, so you have to split it and draw them separately.\r\n\r\nSecond, you need to get the width/height(depending on your case) that the first string occupies in your scenario. You can use your Graphics2D instance to get it, given your font, font size, etc. Then you can use this information to calculate the according position of the second string.\r\n\r\nCode example:\r\n\r\n    String plainText = &quot;Please make your assignment before &quot;;\r\n    String boldText = &quot;21 of july&quot;;\r\n    Graphics2D graphics2D = g; //will assume that you already configured it your way\r\n    g.setFont(yourPlainFont);\r\n    g.drawString(plainText, positionX, positionY);\r\n    int plainTextSize = g.getFontMetrics().stringWidth(plainText);\r\n    g.setFont(yourBoldFont);\r\n    g.drawString(boldText, positionX + plainTextSize, positionY);\r\n\r\nPlease note that this example is only considering a text in the same line, as asked by OP. You should be able to do the same in different lines(heights) as well, although I didn&#39;t test that way. Hope it helps.","title":"Graphics2d draw text with partial bold text","body":"<p>I ran into the same issue. After some research in other posts as well, I figured out a solution(at least it solved my problem).</p>\n<p>First, as far as I know, you can't do it in the same string, so you have to split it and draw them separately.</p>\n<p>Second, you need to get the width/height(depending on your case) that the first string occupies in your scenario. You can use your Graphics2D instance to get it, given your font, font size, etc. Then you can use this information to calculate the according position of the second string.</p>\n<p>Code example:</p>\n<pre><code>String plainText = &quot;Please make your assignment before &quot;;\nString boldText = &quot;21 of july&quot;;\nGraphics2D graphics2D = g; //will assume that you already configured it your way\ng.setFont(yourPlainFont);\ng.drawString(plainText, positionX, positionY);\nint plainTextSize = g.getFontMetrics().stringWidth(plainText);\ng.setFont(yourBoldFont);\ng.drawString(boldText, positionX + plainTextSize, positionY);\n</code></pre>\n<p>Please note that this example is only considering a text in the same line, as asked by OP. You should be able to do the same in different lines(heights) as well, although I didn't test that way. Hope it helps.</p>\n"}],"owner":{"account_id":16703749,"reputation":61,"user_id":12072709,"display_name":"PRIVATE ACCOUNT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75750493,"answer_count":1,"score":1,"last_activity_date":1678917969,"creation_date":1593695242,"question_id":62697090,"body_markdown":"I was wondering if I can make a partial bold text for example:\r\n\r\nPlease make your assignment before **21 of july**\r\n\r\nI have not tried anything yet, because i just have no clue how to do this.\r\n\r\nHere is my code currently for rendering text:\r\n ```\r\npublic void renderText(int page, String text, String font, int fontSize, Color color, int width, int height) {\r\n        final Graphics2D g;\r\n        if (page == 1) {\r\n            g = (Graphics2D) outsideFlyer.getGraphics();\r\n            g.drawImage(outsideFlyer, 0, 0, null);\r\n        } else {\r\n            g = (Graphics2D) insideFlyer.getGraphics();\r\n            g.drawImage(insideFlyer, 0, 0, null);\r\n        }\r\n        if (font == null) {\r\n            g.setFont(new Font(font, Font.PLAIN, fontSize));\r\n        } else if (&quot;bold&quot;.equals(font)) {\r\n            g.setFont(new Font(null, Font.BOLD, fontSize));\r\n        } else {\r\n            g.setFont(new Font(font, Font.PLAIN, fontSize));\r\n        }\r\n        g.setColor(color);\r\n        for (String txt : text.split(&quot;\\n&quot;)) {\r\n            g.drawString(txt, width, height += g.getFontMetrics().getHeight());\r\n        }\r\n        g.dispose();\r\n    }\r\n ```\r\n\r\nIs it possible to split the text in some way?\r\nI would love to have something like what happens on a lot of websites like everything inbetween * gets bold or in some way.\r\n","title":"Graphics2d draw text with partial bold text","body":"<p>I was wondering if I can make a partial bold text for example:</p>\n<p>Please make your assignment before <strong>21 of july</strong></p>\n<p>I have not tried anything yet, because i just have no clue how to do this.</p>\n<p>Here is my code currently for rendering text:</p>\n<pre><code>public void renderText(int page, String text, String font, int fontSize, Color color, int width, int height) {\n       final Graphics2D g;\n       if (page == 1) {\n           g = (Graphics2D) outsideFlyer.getGraphics();\n           g.drawImage(outsideFlyer, 0, 0, null);\n       } else {\n           g = (Graphics2D) insideFlyer.getGraphics();\n           g.drawImage(insideFlyer, 0, 0, null);\n       }\n       if (font == null) {\n           g.setFont(new Font(font, Font.PLAIN, fontSize));\n       } else if (&quot;bold&quot;.equals(font)) {\n           g.setFont(new Font(null, Font.BOLD, fontSize));\n       } else {\n           g.setFont(new Font(font, Font.PLAIN, fontSize));\n       }\n       g.setColor(color);\n       for (String txt : text.split(&quot;\\n&quot;)) {\n           g.drawString(txt, width, height += g.getFontMetrics().getHeight());\n       }\n       g.dispose();\n   }\n</code></pre>\n<p>Is it possible to split the text in some way?\nI would love to have something like what happens on a lot of websites like everything inbetween * gets bold or in some way.</p>\n"},{"tags":["java","android","apk","dex"],"answers":[{"tags":[],"owner":{"account_id":28001804,"reputation":21,"user_id":21385914,"display_name":"oviche"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678917951,"creation_date":1678917951,"answer_id":75750490,"question_id":75717441,"body_markdown":"The following solution worked for me and it&#39;s inspired from the [blog post][1]\r\n\r\n```\r\nFile file = File.createTempFile(&quot;input&quot;,&quot;.dex&quot;);\r\n          InputStream reader = getResources().openRawResource(R.raw.classes);\r\n          OutputStream writer = new FileOutputStream(file.getAbsolutePath());\r\n\r\nwhile(true){ int x = reader.read(); if(x == -1) break; writer.write(x);}\r\n\r\nContext context = this;\r\nDexClassLoader dexloader = new DexClassLoader(file.getAbsolutePath()\r\n                             ,null,\r\n                              null,\r\n                              context.getClassLoader());\r\n\r\nField f = BaseDexClassLoader.class.getDeclaredField(&quot;pathList&quot;);\r\nf.setAccessible(true);\r\nObject dexPathObjNew = f.get(dexloader); // get the pathList of dexloader that hold the loaded dex file path \r\nf.set(context.getClassLoader(), dexPathObjNew); // set the pathlist of current context classloader to the pathList of dexloader\r\nClass c = context.getClassLoader().loadClass(&quot;com.example.myapplication2.helloActivity&quot;);\r\n\r\nIntent i = new Intent(context,c);\r\ni.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\ncontext.startActivity(i);\r\n```\r\n\r\nNow the class loader of current context can see the loaded dex.\r\n\r\n  [1]: https://blog.pentests.pl/android-dynamic-activities/?fbclid=IwAR336sYRcQS4H08ppo0oGT9PzeiQA4Xn2LIna-tlv8yixRvYYbkyM3_PxD8","title":"How to load a dex file using dex DexClassLoader?","body":"<p>The following solution worked for me and it's inspired from the <a href=\"https://blog.pentests.pl/android-dynamic-activities/?fbclid=IwAR336sYRcQS4H08ppo0oGT9PzeiQA4Xn2LIna-tlv8yixRvYYbkyM3_PxD8\" rel=\"nofollow noreferrer\">blog post</a></p>\n<pre><code>File file = File.createTempFile(&quot;input&quot;,&quot;.dex&quot;);\n          InputStream reader = getResources().openRawResource(R.raw.classes);\n          OutputStream writer = new FileOutputStream(file.getAbsolutePath());\n\nwhile(true){ int x = reader.read(); if(x == -1) break; writer.write(x);}\n\nContext context = this;\nDexClassLoader dexloader = new DexClassLoader(file.getAbsolutePath()\n                             ,null,\n                              null,\n                              context.getClassLoader());\n\nField f = BaseDexClassLoader.class.getDeclaredField(&quot;pathList&quot;);\nf.setAccessible(true);\nObject dexPathObjNew = f.get(dexloader); // get the pathList of dexloader that hold the loaded dex file path \nf.set(context.getClassLoader(), dexPathObjNew); // set the pathlist of current context classloader to the pathList of dexloader\nClass c = context.getClassLoader().loadClass(&quot;com.example.myapplication2.helloActivity&quot;);\n\nIntent i = new Intent(context,c);\ni.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\ncontext.startActivity(i);\n</code></pre>\n<p>Now the class loader of current context can see the loaded dex.</p>\n"}],"owner":{"account_id":28001804,"reputation":21,"user_id":21385914,"display_name":"oviche"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678917951,"creation_date":1678671745,"question_id":75717441,"body_markdown":"\r\n\r\nI am trying to load dynamically a dex file that contains android activities classes using DexClassLoader class using the following code. \r\n\r\n```\r\ntry {\r\nFile file = File.createTempFile(&quot;input&quot;,&quot;.dex&quot;);\r\nInputStream reader = getResources().openRawResource(R.raw.classes);\r\nOutputStream writer = new FileOutputStream(file.getAbsolutePath());\r\n\r\nwhile(true){ int x = reader.read(); if(x == -1) break; writer.write(x);}\r\n\r\nDexClassLoader loader = new DexClassLoader(file.getAbsolutePath(),null,null,MainActivity.this.getClassLoader());\r\n\r\nClass&lt;?&gt; c = loader.loadClass(&quot;com.example.myapplication2.MainActivity&quot;);\r\nIntent intent = new Intent(MainActivity.this.getApplicationContext(),c);\r\nstartActivity(intent);\r\n}\r\n\r\ncatch(Exception e){\r\ne.printStackTrace();\r\n}\r\n```\r\n\r\nHowever, After execution of the previous code, The application crash with the following exception\r\n\r\n```\r\nandroid.content.ActivityNotFoundException: Unable to find explicit activity class{com.example.myapplication/com.example.myapplication2.MainActivity}; have you declared this activity in your AndroidManifest.xml?\r\n at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:2005)\r\n at android.app.Instrumentation.execStartActivity(Instrumentation.java:1673)\r\n at android.app.Activity.startActivityForResult(Activity.java:4586)\r\n at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:728)\r\n at android.app.Activity.startActivityForResult(Activity.java:4544)\r\n at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:709)\r\n at android.app.Activity.startActivity(Activity.java:4905)\r\n at android.app.Activity.startActivity(Activity.java:4873)\r\n at com.example.myapplication.MainActivity$1.onClick(MainActivity.java:82)\r\n at android.view.View.performClick(View.java:6597)\r\n at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1219)\r\n at android.view.View.performClickInternal(View.java:6574)\r\n at android.view.View.access$3100(View.java:778)\r\n at android.view.View$PerformClick.run(View.java:25885)\r\n at android.os.Handler.handleCallback(Handler.java:873)\r\n at android.os.Handler.dispatchMessage(Handler.java:99)\r\n at android.os.Looper.loop(Looper.java:193)\r\n at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n at java.lang.reflect.Method.invoke(Native Method)\r\n at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n```\r\n\r\nAlso, I noticed that most of examples the dex file contain normal java classes not activity classes so I wonder if what I am trying to do is applicable or not and the reason beyond the exception ","title":"How to load a dex file using dex DexClassLoader?","body":"<p>I am trying to load dynamically a dex file that contains android activities classes using DexClassLoader class using the following code.</p>\n<pre><code>try {\nFile file = File.createTempFile(&quot;input&quot;,&quot;.dex&quot;);\nInputStream reader = getResources().openRawResource(R.raw.classes);\nOutputStream writer = new FileOutputStream(file.getAbsolutePath());\n\nwhile(true){ int x = reader.read(); if(x == -1) break; writer.write(x);}\n\nDexClassLoader loader = new DexClassLoader(file.getAbsolutePath(),null,null,MainActivity.this.getClassLoader());\n\nClass&lt;?&gt; c = loader.loadClass(&quot;com.example.myapplication2.MainActivity&quot;);\nIntent intent = new Intent(MainActivity.this.getApplicationContext(),c);\nstartActivity(intent);\n}\n\ncatch(Exception e){\ne.printStackTrace();\n}\n</code></pre>\n<p>However, After execution of the previous code, The application crash with the following exception</p>\n<pre><code>android.content.ActivityNotFoundException: Unable to find explicit activity class{com.example.myapplication/com.example.myapplication2.MainActivity}; have you declared this activity in your AndroidManifest.xml?\n at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:2005)\n at android.app.Instrumentation.execStartActivity(Instrumentation.java:1673)\n at android.app.Activity.startActivityForResult(Activity.java:4586)\n at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:728)\n at android.app.Activity.startActivityForResult(Activity.java:4544)\n at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:709)\n at android.app.Activity.startActivity(Activity.java:4905)\n at android.app.Activity.startActivity(Activity.java:4873)\n at com.example.myapplication.MainActivity$1.onClick(MainActivity.java:82)\n at android.view.View.performClick(View.java:6597)\n at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1219)\n at android.view.View.performClickInternal(View.java:6574)\n at android.view.View.access$3100(View.java:778)\n at android.view.View$PerformClick.run(View.java:25885)\n at android.os.Handler.handleCallback(Handler.java:873)\n at android.os.Handler.dispatchMessage(Handler.java:99)\n at android.os.Looper.loop(Looper.java:193)\n at android.app.ActivityThread.main(ActivityThread.java:6669)\n at java.lang.reflect.Method.invoke(Native Method)\n at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n<p>Also, I noticed that most of examples the dex file contain normal java classes not activity classes so I wonder if what I am trying to do is applicable or not and the reason beyond the exception</p>\n"},{"tags":["java","spring-boot","header","apple-push-notifications"],"owner":{"account_id":17984580,"reputation":1,"user_id":13070149,"display_name":"Kani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678916832,"creation_date":1678865923,"question_id":75741720,"body_markdown":"I tried to add a header to the APNS service, but I couldn&#39;t able do it. \r\n\r\nThe `withHeader` method is not working now. Is there any method or class available to add a header to the APNS service?, how to add the `apns-topic`.\r\n\r\n    try {\r\n         KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n         keyStore.load(new FileInputStream(new File(CERTIFICATE_FILE_PATH)), CERTIFICATE_PASSWORD.toCharArray());\r\n             apnsService = APNS.newService()\r\n                         .withCert(keyStore,CERTIFICATE_PASSWORD)\r\n                         .withSandboxDestination()\r\n                         .withReadTimeout(30000)\r\n                         .withConnectTimeout(5000)\r\n                         .build();\r\n        }\r\n         catch (Exception e){\r\n          throw new Exception(&quot;Error: configuration failed&quot;);\r\n        }","title":"Unable to add the Header in APNS Service","body":"<p>I tried to add a header to the APNS service, but I couldn't able do it.</p>\n<p>The <code>withHeader</code> method is not working now. Is there any method or class available to add a header to the APNS service?, how to add the <code>apns-topic</code>.</p>\n<pre><code>try {\n     KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n     keyStore.load(new FileInputStream(new File(CERTIFICATE_FILE_PATH)), CERTIFICATE_PASSWORD.toCharArray());\n         apnsService = APNS.newService()\n                     .withCert(keyStore,CERTIFICATE_PASSWORD)\n                     .withSandboxDestination()\n                     .withReadTimeout(30000)\n                     .withConnectTimeout(5000)\n                     .build();\n    }\n     catch (Exception e){\n      throw new Exception(&quot;Error: configuration failed&quot;);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-retry"],"answers":[{"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678968394,"post_id":75750331,"comment_id":133637619,"body_markdown":"That is only when using Apache Kafka; spring-retry itself does not support non-blocking retry.","body":"That is only when using Apache Kafka; spring-retry itself does not support non-blocking retry."}],"tags":[],"owner":{"account_id":7037433,"reputation":61,"user_id":5390986,"display_name":"feenix110998"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678916459,"creation_date":1678916459,"answer_id":75750331,"question_id":74574993,"body_markdown":"Spring now has  non blocking retry \r\n\r\nhttps://docs.spring.io/spring-kafka/api/org/springframework/kafka/annotation/RetryableTopic.html\r\n\r\nhttps://www.baeldung.com/spring-retry-kafka-consumer\r\n\r\nhttps://betterprogramming.pub/spring-boot-kafka-non-blocking-retries-a-hands-on-tutorial-a0c425acc3dd","title":"Implementing non-blocking Retry Mechanism in Java","body":"<p>Spring now has  non blocking retry</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/annotation/RetryableTopic.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/api/org/springframework/kafka/annotation/RetryableTopic.html</a></p>\n<p><a href=\"https://www.baeldung.com/spring-retry-kafka-consumer\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-retry-kafka-consumer</a></p>\n<p><a href=\"https://betterprogramming.pub/spring-boot-kafka-non-blocking-retries-a-hands-on-tutorial-a0c425acc3dd\" rel=\"nofollow noreferrer\">https://betterprogramming.pub/spring-boot-kafka-non-blocking-retries-a-hands-on-tutorial-a0c425acc3dd</a></p>\n"}],"owner":{"account_id":27046440,"reputation":1,"user_id":20600563,"display_name":"Preksha Parikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678916459,"creation_date":1669390481,"question_id":74574993,"body_markdown":"@Retryable annotation in Spring Retry mechanism is blocking thread during retry. Do we have any retry mechanism which is not blocking thread for a particular task during backoff time and can execute other tasks  ?\r\n\r\nWith @Retryable annotation, the thread that performs the whole retry policy and remains blocked during backoff time. ","title":"Implementing non-blocking Retry Mechanism in Java","body":"<p>@Retryable annotation in Spring Retry mechanism is blocking thread during retry. Do we have any retry mechanism which is not blocking thread for a particular task during backoff time and can execute other tasks  ?</p>\n<p>With @Retryable annotation, the thread that performs the whole retry policy and remains blocked during backoff time.</p>\n"},{"tags":["java","spring-boot","configuration","yaml"],"comments":[{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1678915237,"post_id":75749762,"comment_id":133627929,"body_markdown":"check spring profiles https://www.baeldung.com/spring-profiles","body":"check spring profiles <a href=\"https://www.baeldung.com/spring-profiles\" rel=\"nofollow noreferrer\">baeldung.com/spring-profiles</a>"}],"answers":[{"comments":[{"owner":{"account_id":8298994,"reputation":432,"user_id":6238240,"accept_rate":40,"display_name":"n savoini"},"score":0,"creation_date":1678974876,"post_id":75750200,"comment_id":133639732,"body_markdown":"Thanks but that is for static configuration.\nHow could I add, then remove, a profile at runtime, and have all objects created with this profile?","body":"Thanks but that is for static configuration. How could I add, then remove, a profile at runtime, and have all objects created with this profile?"}],"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678915411,"creation_date":1678915411,"answer_id":75750200,"question_id":75749762,"body_markdown":"**[Use @Profile on a Bean][1]**\r\n\r\n&gt;Profiles are a core feature of the framework — allowing us to map our beans to different profiles — for example, dev, test, and prod.\r\n\r\n&gt;We use the @Profile annotation — we are mapping the bean to that particular profile; the annotation simply takes the names of one (or multiple) profiles.\r\n\r\n&gt;We annotate that bean with a dev profile, and it will only be present in the container during development. In production, the dev simply won&#39;t be active:\r\n\r\n    @Component\r\n    @Profile(&quot;dev&quot;)\r\n    public class DevDatasourceConfig\r\n\r\nOther way, using [@ConditionalOnProperty][2] annotation\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-profiles\r\n  [2]: https://www.baeldung.com/spring-conditionalonproperty","title":"How can I can create a Configuration Bean programmatically with an external yaml file?","body":"<p><strong><a href=\"https://www.baeldung.com/spring-profiles\" rel=\"nofollow noreferrer\">Use @Profile on a Bean</a></strong></p>\n<blockquote>\n<p>Profiles are a core feature of the framework — allowing us to map our beans to different profiles — for example, dev, test, and prod.</p>\n</blockquote>\n<blockquote>\n<p>We use the @Profile annotation — we are mapping the bean to that particular profile; the annotation simply takes the names of one (or multiple) profiles.</p>\n</blockquote>\n<blockquote>\n<p>We annotate that bean with a dev profile, and it will only be present in the container during development. In production, the dev simply won't be active:</p>\n</blockquote>\n<pre><code>@Component\n@Profile(&quot;dev&quot;)\npublic class DevDatasourceConfig\n</code></pre>\n<p>Other way, using <a href=\"https://www.baeldung.com/spring-conditionalonproperty\" rel=\"nofollow noreferrer\">@ConditionalOnProperty</a> annotation</p>\n"}],"owner":{"account_id":8298994,"reputation":432,"user_id":6238240,"accept_rate":40,"display_name":"n savoini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678915411,"creation_date":1678912104,"question_id":75749762,"body_markdown":"I created a small Spring Boot (v2.7.9) to try to creating bean programmatically.\r\n\r\nI have a Configuration Class\r\n```\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Configuration\r\n@EnableConfigurationProperties\r\n@ConfigurationProperties\r\npublic class SimpleConfiguration {\r\n\r\n    private String configName;\r\n}\r\n```\r\n\r\nI have my Service\r\n```\r\n@Service\r\npublic class MyService {\r\n    private ApplicationContext context;\r\n    private SimpleConfiguration simpleConfiguration;\r\n\r\n    public MyService(ApplicationContext context, SimpleConfiguration simpleConfiguration) {\r\n\r\n        this.context = context;\r\n        this.simpleConfiguration = simpleConfiguration;\r\n    }\r\n\r\n    public String getSimpleConfigurationName() {\r\n        return simpleConfiguration.getConfigName();\r\n    }\r\n}\r\n```\r\n\r\nand a very simple application.yaml file\r\n```\r\nconfig-name: &quot;Nicolas Test&quot;\r\n```\r\n\r\nI created a simple test, and SpringBoot can load the yaml, no problem.\r\n```\r\n@SpringBootTest\r\nclass DemoApplicationTests {\r\n\r\n\t@Autowired\r\n\tMyService service;\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\r\n\t\tString name = service.getSimpleConfigurationName();\r\n\t\tSystem.out.println(&quot;n =&quot; + name);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWill return \r\n```\r\nn = Nicolas Test\r\n```\r\n\r\nI would like to know how I can use an external YAML file to generate Bean &#39;SimpleConfiguration&#39; on the fly.\r\n\r\nFor example, I have a yaml file with\r\n```\r\nconfig-name: &quot;External&quot;\r\n```\r\n\r\nHow can I created a Bean Simple Configuration with the configName property valued at &quot;External&quot;.\r\n\r\n\r\nThe use case is I have a SpringBoot Project that run based on certain profile.\r\n```\r\njava -Dspring.profiles.active=&quot;env,run1&quot; ...\r\njava -Dspring.profiles.active=&quot;env,run2&quot; ...\r\njava -Dspring.profiles.active=&quot;env,run3&quot; ...\r\n```\r\n\r\nand I would like to put run1, run2 and run3 file in a folder and run\r\n```\r\njava -Dspring.profiles.active=&quot;env&quot; -Ddirectory=...\r\n```\r\n\r\nAnd the program would load run1 file, create necessary bean, then run, then clear connect and continue with file run 2 and file run3.\r\n\r\nThanks\r\n","title":"How can I can create a Configuration Bean programmatically with an external yaml file?","body":"<p>I created a small Spring Boot (v2.7.9) to try to creating bean programmatically.</p>\n<p>I have a Configuration Class</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Configuration\n@EnableConfigurationProperties\n@ConfigurationProperties\npublic class SimpleConfiguration {\n\n    private String configName;\n}\n</code></pre>\n<p>I have my Service</p>\n<pre><code>@Service\npublic class MyService {\n    private ApplicationContext context;\n    private SimpleConfiguration simpleConfiguration;\n\n    public MyService(ApplicationContext context, SimpleConfiguration simpleConfiguration) {\n\n        this.context = context;\n        this.simpleConfiguration = simpleConfiguration;\n    }\n\n    public String getSimpleConfigurationName() {\n        return simpleConfiguration.getConfigName();\n    }\n}\n</code></pre>\n<p>and a very simple application.yaml file</p>\n<pre><code>config-name: &quot;Nicolas Test&quot;\n</code></pre>\n<p>I created a simple test, and SpringBoot can load the yaml, no problem.</p>\n<pre><code>@SpringBootTest\nclass DemoApplicationTests {\n\n    @Autowired\n    MyService service;\n\n    @Test\n    void contextLoads() {\n\n        String name = service.getSimpleConfigurationName();\n        System.out.println(&quot;n =&quot; + name);\n    }\n\n}\n</code></pre>\n<p>Will return</p>\n<pre><code>n = Nicolas Test\n</code></pre>\n<p>I would like to know how I can use an external YAML file to generate Bean 'SimpleConfiguration' on the fly.</p>\n<p>For example, I have a yaml file with</p>\n<pre><code>config-name: &quot;External&quot;\n</code></pre>\n<p>How can I created a Bean Simple Configuration with the configName property valued at &quot;External&quot;.</p>\n<p>The use case is I have a SpringBoot Project that run based on certain profile.</p>\n<pre><code>java -Dspring.profiles.active=&quot;env,run1&quot; ...\njava -Dspring.profiles.active=&quot;env,run2&quot; ...\njava -Dspring.profiles.active=&quot;env,run3&quot; ...\n</code></pre>\n<p>and I would like to put run1, run2 and run3 file in a folder and run</p>\n<pre><code>java -Dspring.profiles.active=&quot;env&quot; -Ddirectory=...\n</code></pre>\n<p>And the program would load run1 file, create necessary bean, then run, then clear connect and continue with file run 2 and file run3.</p>\n<p>Thanks</p>\n"},{"tags":["java","hadoop","sqoop"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678915408,"post_id":75715638,"comment_id":133627976,"body_markdown":"Sqoop is a retired Apache Project. Are you required to use it? Spark is more commonly used to read JDBC tables into HDFS nowadays","body":"Sqoop is a retired Apache Project. Are you required to use it? Spark is more commonly used to read JDBC tables into HDFS nowadays"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678915514,"post_id":75715638,"comment_id":133627992,"body_markdown":"And not really clear how you created this libjars folder, but you should try using Maven/Gradle instead. Classes probably cannot be imported from the default package (show your orders class, please)","body":"And not really clear how you created this libjars folder, but you should try using Maven/Gradle instead. Classes probably cannot be imported from the default package (show your orders class, please)"}],"owner":{"account_id":22618450,"reputation":5,"user_id":16797626,"display_name":"alexdevs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678915385,"creation_date":1678647496,"question_id":75715638,"body_markdown":"I&#39;m using Ubuntu 22.04 and I built a Hadoop server with a sample database in MySql Server which has an `orders` table.\r\n\r\nI&#39;m using Sqoop to generate an `import` with the following command: \r\n\r\n`sqoop import --table orders --connect jdbc:mysql://localhost:3306/classicmodels --username hadoop -password 1234 --target-dir /BigData/Sample/Orders/myBirthdayOrders.txt --where &quot;orderDate = &#39;2003-02-17&#39;&quot; --bindir ./libjars`\r\n\r\nI&#39;m using `libjars` root directory to save Hadoop generated classes but after run the previous command, I got the following error: \r\n\r\n    Java.lang.Exception: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class orders not found\r\n    \r\n    \tat org.apache.hadoop.mapred.LocalJobRunner$Job.runTasks(LocalJobRunner.java:492)\r\n    \r\n    \tat org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:552)\r\n    \r\n    Caused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class orders not found\r\n    \r\n    \tat org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2688)\r\n    \r\n    \tat org.apache.sqoop.mapreduce.db.DBConfiguration.getInputClass(DBConfiguration.java:403)\r\n    \r\n    \tat org.apache.sqoop.mapreduce.db.DataDrivenDBInputFormat.createDBRecordReader(DataDrivenDBInputFormat.java:270)\r\n    \r\n    \tat org.apache.sqoop.mapreduce.db.DBInputFormat.createRecordReader(DBInputFormat.java:266)\r\n    \r\n    \tat org.apache.hadoop.mapred.MapTask$NewTrackingRecordReader.&lt;init&gt;(MapTask.java:528)\r\n    \r\n    \tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:771)\r\n    \r\n    \tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:348)\r\n    \r\n    \tat org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:271)\r\n    \r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    \r\n    Caused by: java.lang.ClassNotFoundException: Class orders not found\r\n    \r\n    \tat org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:2592)\r\n    \r\n    \tat org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2686)\r\n\r\nBut the generated classes is in the `libjars` directory:\r\n\r\n[libjars directory content][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ugZjV.png\r\n\r\n\r\nThis is the whole command log:\r\n\r\n    hadoop@HadoopMaster:~$ sqoop import --table orders --connect jdbc:mysql://localhost:3306/classicmodels --username hadoop -password 1234 --target-dir /BigData/Sample/Orders/myBirthdayOrders.txt --where &quot;orderDate = &#39;2003-02-17&#39;&quot; --outdir ./libjars --bindir ./libjars\r\n    \r\n    Warning: /usr/lib/sqoop/../accumulo does not exist! Accumulo imports will fail.\r\n    \r\n    Please set $ACCUMULO_HOME to the root of your Accumulo installation.\r\n    \r\n    Warning: /usr/lib/sqoop/../zookeeper does not exist! Accumulo imports will fail.\r\n    \r\n    Please set $ZOOKEEPER_HOME to the root of your Zookeeper installation.\r\n    \r\n    2023-03-12 18:55:18,249 INFO sqoop.Sqoop: Running Sqoop version: 1.4.7\r\n    \r\n    2023-03-12 18:55:18,335 WARN tool.BaseSqoopTool: Setting your password on the command-line is insecure. Consider using -P instead.\r\n    \r\n    2023-03-12 18:55:18,476 INFO manager.MySQLManager: Preparing to use a MySQL streaming resultset.\r\n    \r\n    2023-03-12 18:55:18,476 INFO tool.CodeGenTool: Beginning code generation\r\n    \r\n    Loading class `com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver&#39;. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\r\n    \r\n    2023-03-12 18:55:19,283 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM `orders` AS t LIMIT 1\r\n    \r\n    2023-03-12 18:55:19,393 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM `orders` AS t LIMIT 1\r\n    \r\n    2023-03-12 18:55:19,405 INFO orm.CompilationManager: HADOOP_MAPRED_HOME is /usr/local/hadoop\r\n    \r\n    Note: ./libjars/orders.java uses or overrides a deprecated API.\r\n    \r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    \r\n    2023-03-12 18:55:21,371 INFO orm.CompilationManager: Writing jar file: ./libjars/orders.jar\r\n    \r\n    2023-03-12 18:55:21,385 WARN manager.MySQLManager: It looks like you are importing from mysql.\r\n    \r\n    2023-03-12 18:55:21,386 WARN manager.MySQLManager: This transfer can be faster! Use the --direct\r\n    \r\n    2023-03-12 18:55:21,386 WARN manager.MySQLManager: option to exercise a MySQL-specific fast path.\r\n    \r\n    2023-03-12 18:55:21,386 INFO manager.MySQLManager: Setting zero DATETIME behavior to convertToNull (mysql)\r\n    \r\n    2023-03-12 18:55:21,390 INFO mapreduce.ImportJobBase: Beginning import of orders\r\n    \r\n    2023-03-12 18:55:21,391 INFO Configuration.deprecation: mapred.job.tracker is deprecated. Instead, use mapreduce.jobtracker.address\r\n    \r\n    2023-03-12 18:55:21,518 INFO Configuration.deprecation: mapred.jar is deprecated. Instead, use mapreduce.job.jar\r\n    \r\n    2023-03-12 18:55:22,083 INFO Configuration.deprecation: mapred.map.tasks is deprecated. Instead, use mapreduce.job.maps\r\n    \r\n    2023-03-12 18:55:22,199 INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties\r\n    \r\n    2023-03-12 18:55:22,310 INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).\r\n    \r\n    2023-03-12 18:55:22,310 INFO impl.MetricsSystemImpl: JobTracker metrics system started\r\n    \r\n    2023-03-12 18:55:22,640 INFO db.DBInputFormat: Using read commited transaction isolation\r\n    \r\n    2023-03-12 18:55:22,720 INFO mapreduce.JobSubmitter: number of splits:1\r\n    \r\n    2023-03-12 18:55:22,973 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_local1418369330_0001\r\n    \r\n    2023-03-12 18:55:22,974 INFO mapreduce.JobSubmitter: Executing with tokens: []\r\n    \r\n    2023-03-12 18:55:23,316 INFO mapred.LocalDistributedCacheManager: Creating symlink: /tmp/hadoop-hadoop/mapred/local/job_local1418369330_0001_e15ca564-f245-408f-925d-501daf15ec63/libjars &lt;- /home/hadoop/libjars/*\r\n    \r\n    2023-03-12 18:55:23,325 INFO mapred.LocalDistributedCacheManager: Localized file:/tmp/hadoop/mapred/staging/hadoop1418369330/.staging/job_local1418369330_0001/libjars as file:/tmp/hadoop-hadoop/mapred/local/job_local1418369330_0001_e15ca564-f245-408f-925d-501daf15ec63/libjars\r\n    \r\n    2023-03-12 18:55:23,476 INFO mapreduce.Job: The url to track the job: http://localhost:8080/\r\n    \r\n    2023-03-12 18:55:23,483 INFO mapred.LocalJobRunner: OutputCommitter set in config null\r\n    \r\n    2023-03-12 18:55:23,488 INFO mapreduce.Job: Running job: job_local1418369330_0001\r\n    \r\n    2023-03-12 18:55:23,547 INFO output.FileOutputCommitter: File Output Committer Algorithm version is 2\r\n    \r\n    2023-03-12 18:55:23,547 INFO output.FileOutputCommitter: FileOutputCommitter skip cleanup _temporary folders under output directory:false, ignore cleanup failures: false\r\n    \r\n    2023-03-12 18:55:23,550 INFO mapred.LocalJobRunner: OutputCommitter is org.apache.hadoop.mapreduce.lib.output.FileOutputCommitter\r\n    \r\n    2023-03-12 18:55:23,701 INFO mapred.LocalJobRunner: Waiting for map tasks\r\n    \r\n    2023-03-12 18:55:23,702 INFO mapred.LocalJobRunner: Starting task: attempt_local1418369330_0001_m_000000_0\r\n    \r\n    2023-03-12 18:55:23,772 INFO output.FileOutputCommitter: File Output Committer Algorithm version is 2\r\n    \r\n    2023-03-12 18:55:23,779 INFO output.FileOutputCommitter: FileOutputCommitter skip cleanup _temporary folders under output directory:false, ignore cleanup failures: false\r\n    \r\n    2023-03-12 18:55:23,856 INFO mapred.Task:  Using ResourceCalculatorProcessTree : [ ]\r\n    \r\n    2023-03-12 18:55:23,899 INFO db.DBInputFormat: Using read commited transaction isolation\r\n    \r\n    2023-03-12 18:55:23,901 INFO mapred.MapTask: Processing split: 1=1 AND 1=1\r\n    \r\n    2023-03-12 18:55:23,935 INFO mapred.LocalJobRunner: map task executor complete.\r\n    \r\n    2023-03-12 18:55:23,988 WARN mapred.LocalJobRunner: job_local1418369330_0001\r\n    \r\n    java.lang.Exception: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class orders not found\r\n    \r\n    \tat org.apache.hadoop.mapred.LocalJobRunner$Job.runTasks(LocalJobRunner.java:492)\r\n    \r\n    \tat org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:552)\r\n    \r\n    Caused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class orders not found\r\n    \r\n    \tat org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2688)\r\n    \r\n    \tat org.apache.sqoop.mapreduce.db.DBConfiguration.getInputClass(DBConfiguration.java:403)\r\n    \r\n    \tat org.apache.sqoop.mapreduce.db.DataDrivenDBInputFormat.createDBRecordReader(DataDrivenDBInputFormat.java:270)\r\n    \r\n    \tat org.apache.sqoop.mapreduce.db.DBInputFormat.createRecordReader(DBInputFormat.java:266)\r\n    \r\n    \tat org.apache.hadoop.mapred.MapTask$NewTrackingRecordReader.&lt;init&gt;(MapTask.java:528)\r\n    \r\n    \tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:771)\r\n    \r\n    \tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:348)\r\n    \r\n    \tat org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:271)\r\n    \r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    \r\n    Caused by: java.lang.ClassNotFoundException: Class orders not found\r\n    \r\n    \tat org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:2592)\r\n    \r\n    \tat org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2686)\r\n    \r\n    \t... 12 more\r\n    \r\n    2023-03-12 18:55:24,547 INFO mapreduce.Job: Job job_local1418369330_0001 running in uber mode : false\r\n    \r\n    2023-03-12 18:55:24,548 INFO mapreduce.Job:  map 0% reduce 0%\r\n    \r\n    2023-03-12 18:55:24,551 INFO mapreduce.Job: Job job_local1418369330_0001 failed with state FAILED due to: NA\r\n    \r\n    2023-03-12 18:55:24,556 INFO mapreduce.Job: Counters: 0\r\n    \r\n    2023-03-12 18:55:24,560 WARN mapreduce.Counters: Group FileSystemCounters is deprecated. Use org.apache.hadoop.mapreduce.FileSystemCounter instead\r\n    \r\n    2023-03-12 18:55:24,561 INFO mapreduce.ImportJobBase: Transferred 0 bytes in 2.4241 seconds (0 bytes/sec)\r\n    \r\n    2023-03-12 18:55:24,561 WARN mapreduce.Counters: Group org.apache.hadoop.mapred.Task$Counter is deprecated. Use org.apache.hadoop.mapreduce.TaskCounter instead\r\n    \r\n    2023-03-12 18:55:24,561 INFO mapreduce.ImportJobBase: Retrieved 0 records.\r\n    \r\n    2023-03-12 18:55:24,562 ERROR tool.ImportTool: Import failed: Import job failed\r\n\r\n!\r\n\r\n","title":"Sqoop import throws java.lang.ClassNotFoundException where class refers to table name","body":"<p>I'm using Ubuntu 22.04 and I built a Hadoop server with a sample database in MySql Server which has an <code>orders</code> table.</p>\n<p>I'm using Sqoop to generate an <code>import</code> with the following command:</p>\n<p><code>sqoop import --table orders --connect jdbc:mysql://localhost:3306/classicmodels --username hadoop -password 1234 --target-dir /BigData/Sample/Orders/myBirthdayOrders.txt --where &quot;orderDate = '2003-02-17'&quot; --bindir ./libjars</code></p>\n<p>I'm using <code>libjars</code> root directory to save Hadoop generated classes but after run the previous command, I got the following error:</p>\n<pre><code>Java.lang.Exception: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class orders not found\n\n    at org.apache.hadoop.mapred.LocalJobRunner$Job.runTasks(LocalJobRunner.java:492)\n\n    at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:552)\n\nCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class orders not found\n\n    at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2688)\n\n    at org.apache.sqoop.mapreduce.db.DBConfiguration.getInputClass(DBConfiguration.java:403)\n\n    at org.apache.sqoop.mapreduce.db.DataDrivenDBInputFormat.createDBRecordReader(DataDrivenDBInputFormat.java:270)\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.createRecordReader(DBInputFormat.java:266)\n\n    at org.apache.hadoop.mapred.MapTask$NewTrackingRecordReader.&lt;init&gt;(MapTask.java:528)\n\n    at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:771)\n\n    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:348)\n\n    at org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:271)\n\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n\n    at java.base/java.lang.Thread.run(Thread.java:829)\n\nCaused by: java.lang.ClassNotFoundException: Class orders not found\n\n    at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:2592)\n\n    at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2686)\n</code></pre>\n<p>But the generated classes is in the <code>libjars</code> directory:</p>\n<p><a href=\"https://i.stack.imgur.com/ugZjV.png\" rel=\"nofollow noreferrer\">libjars directory content</a></p>\n<p>This is the whole command log:</p>\n<pre><code>hadoop@HadoopMaster:~$ sqoop import --table orders --connect jdbc:mysql://localhost:3306/classicmodels --username hadoop -password 1234 --target-dir /BigData/Sample/Orders/myBirthdayOrders.txt --where &quot;orderDate = '2003-02-17'&quot; --outdir ./libjars --bindir ./libjars\n\nWarning: /usr/lib/sqoop/../accumulo does not exist! Accumulo imports will fail.\n\nPlease set $ACCUMULO_HOME to the root of your Accumulo installation.\n\nWarning: /usr/lib/sqoop/../zookeeper does not exist! Accumulo imports will fail.\n\nPlease set $ZOOKEEPER_HOME to the root of your Zookeeper installation.\n\n2023-03-12 18:55:18,249 INFO sqoop.Sqoop: Running Sqoop version: 1.4.7\n\n2023-03-12 18:55:18,335 WARN tool.BaseSqoopTool: Setting your password on the command-line is insecure. Consider using -P instead.\n\n2023-03-12 18:55:18,476 INFO manager.MySQLManager: Preparing to use a MySQL streaming resultset.\n\n2023-03-12 18:55:18,476 INFO tool.CodeGenTool: Beginning code generation\n\nLoading class `com.mysql.jdbc.Driver'. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver'. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\n\n2023-03-12 18:55:19,283 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM `orders` AS t LIMIT 1\n\n2023-03-12 18:55:19,393 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM `orders` AS t LIMIT 1\n\n2023-03-12 18:55:19,405 INFO orm.CompilationManager: HADOOP_MAPRED_HOME is /usr/local/hadoop\n\nNote: ./libjars/orders.java uses or overrides a deprecated API.\n\nNote: Recompile with -Xlint:deprecation for details.\n\n2023-03-12 18:55:21,371 INFO orm.CompilationManager: Writing jar file: ./libjars/orders.jar\n\n2023-03-12 18:55:21,385 WARN manager.MySQLManager: It looks like you are importing from mysql.\n\n2023-03-12 18:55:21,386 WARN manager.MySQLManager: This transfer can be faster! Use the --direct\n\n2023-03-12 18:55:21,386 WARN manager.MySQLManager: option to exercise a MySQL-specific fast path.\n\n2023-03-12 18:55:21,386 INFO manager.MySQLManager: Setting zero DATETIME behavior to convertToNull (mysql)\n\n2023-03-12 18:55:21,390 INFO mapreduce.ImportJobBase: Beginning import of orders\n\n2023-03-12 18:55:21,391 INFO Configuration.deprecation: mapred.job.tracker is deprecated. Instead, use mapreduce.jobtracker.address\n\n2023-03-12 18:55:21,518 INFO Configuration.deprecation: mapred.jar is deprecated. Instead, use mapreduce.job.jar\n\n2023-03-12 18:55:22,083 INFO Configuration.deprecation: mapred.map.tasks is deprecated. Instead, use mapreduce.job.maps\n\n2023-03-12 18:55:22,199 INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties\n\n2023-03-12 18:55:22,310 INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).\n\n2023-03-12 18:55:22,310 INFO impl.MetricsSystemImpl: JobTracker metrics system started\n\n2023-03-12 18:55:22,640 INFO db.DBInputFormat: Using read commited transaction isolation\n\n2023-03-12 18:55:22,720 INFO mapreduce.JobSubmitter: number of splits:1\n\n2023-03-12 18:55:22,973 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_local1418369330_0001\n\n2023-03-12 18:55:22,974 INFO mapreduce.JobSubmitter: Executing with tokens: []\n\n2023-03-12 18:55:23,316 INFO mapred.LocalDistributedCacheManager: Creating symlink: /tmp/hadoop-hadoop/mapred/local/job_local1418369330_0001_e15ca564-f245-408f-925d-501daf15ec63/libjars &lt;- /home/hadoop/libjars/*\n\n2023-03-12 18:55:23,325 INFO mapred.LocalDistributedCacheManager: Localized file:/tmp/hadoop/mapred/staging/hadoop1418369330/.staging/job_local1418369330_0001/libjars as file:/tmp/hadoop-hadoop/mapred/local/job_local1418369330_0001_e15ca564-f245-408f-925d-501daf15ec63/libjars\n\n2023-03-12 18:55:23,476 INFO mapreduce.Job: The url to track the job: http://localhost:8080/\n\n2023-03-12 18:55:23,483 INFO mapred.LocalJobRunner: OutputCommitter set in config null\n\n2023-03-12 18:55:23,488 INFO mapreduce.Job: Running job: job_local1418369330_0001\n\n2023-03-12 18:55:23,547 INFO output.FileOutputCommitter: File Output Committer Algorithm version is 2\n\n2023-03-12 18:55:23,547 INFO output.FileOutputCommitter: FileOutputCommitter skip cleanup _temporary folders under output directory:false, ignore cleanup failures: false\n\n2023-03-12 18:55:23,550 INFO mapred.LocalJobRunner: OutputCommitter is org.apache.hadoop.mapreduce.lib.output.FileOutputCommitter\n\n2023-03-12 18:55:23,701 INFO mapred.LocalJobRunner: Waiting for map tasks\n\n2023-03-12 18:55:23,702 INFO mapred.LocalJobRunner: Starting task: attempt_local1418369330_0001_m_000000_0\n\n2023-03-12 18:55:23,772 INFO output.FileOutputCommitter: File Output Committer Algorithm version is 2\n\n2023-03-12 18:55:23,779 INFO output.FileOutputCommitter: FileOutputCommitter skip cleanup _temporary folders under output directory:false, ignore cleanup failures: false\n\n2023-03-12 18:55:23,856 INFO mapred.Task:  Using ResourceCalculatorProcessTree : [ ]\n\n2023-03-12 18:55:23,899 INFO db.DBInputFormat: Using read commited transaction isolation\n\n2023-03-12 18:55:23,901 INFO mapred.MapTask: Processing split: 1=1 AND 1=1\n\n2023-03-12 18:55:23,935 INFO mapred.LocalJobRunner: map task executor complete.\n\n2023-03-12 18:55:23,988 WARN mapred.LocalJobRunner: job_local1418369330_0001\n\njava.lang.Exception: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class orders not found\n\n    at org.apache.hadoop.mapred.LocalJobRunner$Job.runTasks(LocalJobRunner.java:492)\n\n    at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:552)\n\nCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class orders not found\n\n    at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2688)\n\n    at org.apache.sqoop.mapreduce.db.DBConfiguration.getInputClass(DBConfiguration.java:403)\n\n    at org.apache.sqoop.mapreduce.db.DataDrivenDBInputFormat.createDBRecordReader(DataDrivenDBInputFormat.java:270)\n\n    at org.apache.sqoop.mapreduce.db.DBInputFormat.createRecordReader(DBInputFormat.java:266)\n\n    at org.apache.hadoop.mapred.MapTask$NewTrackingRecordReader.&lt;init&gt;(MapTask.java:528)\n\n    at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:771)\n\n    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:348)\n\n    at org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:271)\n\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n\n    at java.base/java.lang.Thread.run(Thread.java:829)\n\nCaused by: java.lang.ClassNotFoundException: Class orders not found\n\n    at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:2592)\n\n    at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2686)\n\n    ... 12 more\n\n2023-03-12 18:55:24,547 INFO mapreduce.Job: Job job_local1418369330_0001 running in uber mode : false\n\n2023-03-12 18:55:24,548 INFO mapreduce.Job:  map 0% reduce 0%\n\n2023-03-12 18:55:24,551 INFO mapreduce.Job: Job job_local1418369330_0001 failed with state FAILED due to: NA\n\n2023-03-12 18:55:24,556 INFO mapreduce.Job: Counters: 0\n\n2023-03-12 18:55:24,560 WARN mapreduce.Counters: Group FileSystemCounters is deprecated. Use org.apache.hadoop.mapreduce.FileSystemCounter instead\n\n2023-03-12 18:55:24,561 INFO mapreduce.ImportJobBase: Transferred 0 bytes in 2.4241 seconds (0 bytes/sec)\n\n2023-03-12 18:55:24,561 WARN mapreduce.Counters: Group org.apache.hadoop.mapred.Task$Counter is deprecated. Use org.apache.hadoop.mapreduce.TaskCounter instead\n\n2023-03-12 18:55:24,561 INFO mapreduce.ImportJobBase: Retrieved 0 records.\n\n2023-03-12 18:55:24,562 ERROR tool.ImportTool: Import failed: Import job failed\n</code></pre>\n<p>!</p>\n"},{"tags":["java","redis","heap-memory","jedis"],"owner":{"account_id":28027015,"reputation":1,"user_id":21406832,"display_name":"Krzysztof Jarzyna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678915340,"creation_date":1678915340,"question_id":75750195,"body_markdown":"Following (not much really, google and YT for &quot;jedis pubsub&quot; provides only few results) jedis pubsub docs and tutorials I have created most simplest app which we could imagine - simply subscribe to a channel from Redis Sentinel and print it to STDOUT. Here is the code:\r\n\r\nMain.class\r\n\r\n\r\n```\r\npackage org.example;\r\n\r\nimport redis.clients.jedis.Jedis;\r\nimport redis.clients.jedis.JedisPubSub;\r\nimport redis.clients.jedis.JedisSentinelPool;\r\nimport redis.clients.jedis.exceptions.JedisException;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Set&lt;String&gt; sentinels = new HashSet&lt;&gt;();\r\n        sentinels.add(RedisCredentials.HOSTNAME +&quot;:&quot;+RedisCredentials.PORT);\r\n\r\n        JedisSentinelPool jedisSentinelPool = new JedisSentinelPool(&quot;mymaster&quot;, sentinels, RedisCredentials.PASSWORD);\r\n        Jedis jedis = null;\r\n        try{\r\n            jedis = jedisSentinelPool.getResource();\r\n            JedisPubSub jedisPubSub = new MyJedisPubSub();\r\n            jedis.subscribe(jedisPubSub, &quot;test&quot;);\r\n        }catch (JedisException e){\r\n            System.out.println(e.getMessage());\r\n        }finally {\r\n            if (jedis != null){\r\n                jedisSentinelPool.close();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMyJedisPubSub.class\r\n\r\n\r\n```\r\npackage org.example;\r\n\r\nimport redis.clients.jedis.JedisPubSub;\r\n\r\npublic class MyJedisPubSub extends JedisPubSub {\r\n    @Override\r\n    public void onMessage(String channel, String message) {\r\n        System.out.printf(&quot;Channel %s received message: %s&quot;, channel, message);\r\n    }\r\n\r\n    @Override\r\n    public void onSubscribe(String channel, int subscribedChannels) {\r\n        System.out.printf(&quot;Subscribed to %s, subscribed total %d channels.&quot;, channel, subscribedChannels);\r\n    }\r\n\r\n    @Override\r\n    public void onUnsubscribe(String channel, int subscribedChannels) {\r\n        System.out.printf(&quot;Unsubscribed from %s, subscribed total %d channels.&quot;, channel, subscribedChannels);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe problem is that when I&#39;m receiving messages the used memory is increasing (on linux I check it through `ps aux` and I see that RSS in constantly increasing while I&#39;m sending messages) until OOM point and I need to restart my application. Unfortunately java examples and docs for redis are like Call of Duty United Offensive mod scene, almost nothing is there. It doesn&#39;t matter if I send 10 msg/s or 5000 msg/s, effect is the same. Please help with clearing the memory.\r\n\r\nPS jedis version 4.3.1, java 11, (I believe it is server version, not my redis-cli) redis_version:5.0.5\r\n\r\n\r\n\r\nI have tried removing everything not related to pure java and jedis and above example is exactly it. I have searched through google tutorials but every tutorial provide almost identical code as above. Nothing is mentioned about jedis and memory,performance, best practices etc on the google.","title":"Jedis PubSub OOM issue with a solution from docs","body":"<p>Following (not much really, google and YT for &quot;jedis pubsub&quot; provides only few results) jedis pubsub docs and tutorials I have created most simplest app which we could imagine - simply subscribe to a channel from Redis Sentinel and print it to STDOUT. Here is the code:</p>\n<p>Main.class</p>\n<pre><code>package org.example;\n\nimport redis.clients.jedis.Jedis;\nimport redis.clients.jedis.JedisPubSub;\nimport redis.clients.jedis.JedisSentinelPool;\nimport redis.clients.jedis.exceptions.JedisException;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class Main {\n    public static void main(String[] args) {\n        Set&lt;String&gt; sentinels = new HashSet&lt;&gt;();\n        sentinels.add(RedisCredentials.HOSTNAME +&quot;:&quot;+RedisCredentials.PORT);\n\n        JedisSentinelPool jedisSentinelPool = new JedisSentinelPool(&quot;mymaster&quot;, sentinels, RedisCredentials.PASSWORD);\n        Jedis jedis = null;\n        try{\n            jedis = jedisSentinelPool.getResource();\n            JedisPubSub jedisPubSub = new MyJedisPubSub();\n            jedis.subscribe(jedisPubSub, &quot;test&quot;);\n        }catch (JedisException e){\n            System.out.println(e.getMessage());\n        }finally {\n            if (jedis != null){\n                jedisSentinelPool.close();\n            }\n        }\n    }\n}\n</code></pre>\n<p>MyJedisPubSub.class</p>\n<pre><code>package org.example;\n\nimport redis.clients.jedis.JedisPubSub;\n\npublic class MyJedisPubSub extends JedisPubSub {\n    @Override\n    public void onMessage(String channel, String message) {\n        System.out.printf(&quot;Channel %s received message: %s&quot;, channel, message);\n    }\n\n    @Override\n    public void onSubscribe(String channel, int subscribedChannels) {\n        System.out.printf(&quot;Subscribed to %s, subscribed total %d channels.&quot;, channel, subscribedChannels);\n    }\n\n    @Override\n    public void onUnsubscribe(String channel, int subscribedChannels) {\n        System.out.printf(&quot;Unsubscribed from %s, subscribed total %d channels.&quot;, channel, subscribedChannels);\n    }\n}\n\n</code></pre>\n<p>The problem is that when I'm receiving messages the used memory is increasing (on linux I check it through <code>ps aux</code> and I see that RSS in constantly increasing while I'm sending messages) until OOM point and I need to restart my application. Unfortunately java examples and docs for redis are like Call of Duty United Offensive mod scene, almost nothing is there. It doesn't matter if I send 10 msg/s or 5000 msg/s, effect is the same. Please help with clearing the memory.</p>\n<p>PS jedis version 4.3.1, java 11, (I believe it is server version, not my redis-cli) redis_version:5.0.5</p>\n<p>I have tried removing everything not related to pure java and jedis and above example is exactly it. I have searched through google tutorials but every tutorial provide almost identical code as above. Nothing is mentioned about jedis and memory,performance, best practices etc on the google.</p>\n"},{"tags":["java","hadoop","keystore","jceks"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678915293,"post_id":75740154,"comment_id":133627943,"body_markdown":"Both Java and Python can run shell commands such as this line. Also, `hadoop credential create` command is open-source, if you really wanted to find how it worked in the Java code","body":"Both Java and Python can run shell commands such as this line. Also, <code>hadoop credential create</code> command is open-source, if you really wanted to find how it worked in the Java code"}],"owner":{"account_id":9001582,"reputation":13,"user_id":6710002,"display_name":"Finder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678915300,"creation_date":1678849426,"question_id":75740154,"body_markdown":"I am trying to figure it out on how to create jceks file programmatically instead of below hadoop command. \r\n\r\n```\r\nhadoop credential create ssl.server.keystore.password -value 123 \\\r\n  -provider localjceks://file/home/lmccay/aws.jceks\r\n```\r\n\r\n\r\nI was able to find on how to decrypt it but no clue on how to create one\r\n\r\n","title":"How to create jceks file in hadoop programmatically using java or python","body":"<p>I am trying to figure it out on how to create jceks file programmatically instead of below hadoop command.</p>\n<pre><code>hadoop credential create ssl.server.keystore.password -value 123 \\\n  -provider localjceks://file/home/lmccay/aws.jceks\n</code></pre>\n<p>I was able to find on how to decrypt it but no clue on how to create one</p>\n"},{"tags":["java","reflection","casting"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1678908953,"post_id":75749147,"comment_id":133626493,"body_markdown":"not sure if i get it right but your cast class object to an actul object so it should be `thisType = (Class&lt;FavoriteCousin&gt;) typeObject;`","body":"not sure if i get it right but your cast class object to an actul object so it should be <code>thisType = (Class&lt;FavoriteCousin&gt;) typeObject;</code>"},{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":4,"creation_date":1678913111,"post_id":75749147,"comment_id":133627431,"body_markdown":"As @justsomeone said, the cast is wrong. Just wanted to add there is method to do that (which actually do the same as a simple cast) : `tthisType = typeObject.asSubclass(FavoriteCousin.class)`","body":"As @justsomeone said, the cast is wrong. Just wanted to add there is method to do that (which actually do the same as a simple cast) : <code>tthisType = typeObject.asSubclass(FavoriteCousin.class)</code>"}],"answers":[{"comments":[{"owner":{"account_id":7288829,"reputation":85,"user_id":5556026,"display_name":"Shane Gillis"},"score":0,"creation_date":1678997717,"post_id":75750137,"comment_id":133646534,"body_markdown":"That&#39;s effectively what I did, but it seemed clunky, I guess.  So I was making sure there wasn&#39;t a better way to do it (a sanity check, if you will).  \n\nI&#39;m still getting used to using Class references and Reflection  so heavily, and I&#39;m doing this alone.  So I truly appreciate you all giving me that sanity check.","body":"That&#39;s effectively what I did, but it seemed clunky, I guess.  So I was making sure there wasn&#39;t a better way to do it (a sanity check, if you will).    I&#39;m still getting used to using Class references and Reflection  so heavily, and I&#39;m doing this alone.  So I truly appreciate you all giving me that sanity check."}],"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678914931,"creation_date":1678914931,"answer_id":75750137,"question_id":75749147,"body_markdown":"Short answer, no.\r\n\r\nLet&#39;s assume you are trying to cast `typeObject` to `Class&lt;FavoriteCousin&gt;`.\r\n\r\nWhat happens is: if class `A` is a subclass of `B` it doesn&#39;t make `Class&lt;A&gt;` be a subclass of `Class&lt;B&gt;`. It won&#39;t fail at that point because the cast in runtime doesn&#39;t care about the generic parameter, but later you will have troubles if you assume the obtained `thisType` is actually a class that whose instances can be assigned to a variable of type `FavoriteCousin`.\r\n\r\nWhat you may want to do is something like this:\r\n```java\r\npublic void doSomething(Class&lt;? extends GreatGrandParentClass&gt; typeObject)\r\n{\r\n    Class thisType;\r\n    if (FavoriteCousin.class.isAssignableFrom(typeObject))\r\n        thisType = FavoriteCousin.class;\r\n    ...\r\n}\r\n```\r\n\r\nSo I wonder why you would want to do the cast on the first place.","title":"In Java, how does one cast Class references (if possible)?","body":"<p>Short answer, no.</p>\n<p>Let's assume you are trying to cast <code>typeObject</code> to <code>Class&lt;FavoriteCousin&gt;</code>.</p>\n<p>What happens is: if class <code>A</code> is a subclass of <code>B</code> it doesn't make <code>Class&lt;A&gt;</code> be a subclass of <code>Class&lt;B&gt;</code>. It won't fail at that point because the cast in runtime doesn't care about the generic parameter, but later you will have troubles if you assume the obtained <code>thisType</code> is actually a class that whose instances can be assigned to a variable of type <code>FavoriteCousin</code>.</p>\n<p>What you may want to do is something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void doSomething(Class&lt;? extends GreatGrandParentClass&gt; typeObject)\n{\n    Class thisType;\n    if (FavoriteCousin.class.isAssignableFrom(typeObject))\n        thisType = FavoriteCousin.class;\n    ...\n}\n</code></pre>\n<p>So I wonder why you would want to do the cast on the first place.</p>\n"}],"owner":{"account_id":7288829,"reputation":85,"user_id":5556026,"display_name":"Shane Gillis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678914931,"creation_date":1678907778,"question_id":75749147,"body_markdown":"Let me setup the problem:\r\n\r\nI am working with an API, lots of inheritance going on.  It is very useful to pass around and work with Class type objects (e.g. String.class instead of an instance of String).  It is also useful to range check the Class objects when working with them, so a method might have a parameter like this:\r\n\r\n    public void doSomething(Class&lt;? extends GreatGrandParentClass&gt; typeObject)\r\n    { ... }\r\n\r\nThe problem is that the GreatGrandParentClass has A LOT of children, grandchildren, and great-grandchildren.  So there are times when the type object passed as a parameter, or in a Collection, or whatnot, is a descendant of GreatGrandParentClass, but I&#39;d like to cast the **typeObject** to it&#39;s actual type after confirming it&#39;s of that type.  E.g.:\r\n\r\n    public void doSomething(Class&lt;? extends GreatGrandParentClass&gt; typeObject)\r\n    {\r\n        Class thisType;\r\n        if (FavoriteCousin.class.isAssignableFrom(typeObject))\r\n            thisType = (FavoriteCousin) typeObject;\r\n        ...\r\n    }\r\nAnd then I use **thisType** as a parameter to a method that wants a Class object of FavoriteCousin type:\r\n\r\n    public void needsCousin(Class&lt;? extends FavoriteCousin&gt; cousinType)\r\n    { ... }\r\n\r\nBut if I try to cast like I do above, I get:\r\n\r\n&gt;     Incompatible types: Class&lt;CAP#1&gt; cannot be converted to FavoriteCousin where CAP#1 is a fresh-type variable:\r\n&gt;     CAP#1 extends GreatGrandParentClass from capture of ? extends GreatGrandParentClass\r\n\r\nNow, I rather expected that the way I did the cast was not correct, but I&#39;m wondering if there is a correct to do that kind of cast, if possible?","title":"In Java, how does one cast Class references (if possible)?","body":"<p>Let me setup the problem:</p>\n<p>I am working with an API, lots of inheritance going on.  It is very useful to pass around and work with Class type objects (e.g. String.class instead of an instance of String).  It is also useful to range check the Class objects when working with them, so a method might have a parameter like this:</p>\n<pre><code>public void doSomething(Class&lt;? extends GreatGrandParentClass&gt; typeObject)\n{ ... }\n</code></pre>\n<p>The problem is that the GreatGrandParentClass has A LOT of children, grandchildren, and great-grandchildren.  So there are times when the type object passed as a parameter, or in a Collection, or whatnot, is a descendant of GreatGrandParentClass, but I'd like to cast the <strong>typeObject</strong> to it's actual type after confirming it's of that type.  E.g.:</p>\n<pre><code>public void doSomething(Class&lt;? extends GreatGrandParentClass&gt; typeObject)\n{\n    Class thisType;\n    if (FavoriteCousin.class.isAssignableFrom(typeObject))\n        thisType = (FavoriteCousin) typeObject;\n    ...\n}\n</code></pre>\n<p>And then I use <strong>thisType</strong> as a parameter to a method that wants a Class object of FavoriteCousin type:</p>\n<pre><code>public void needsCousin(Class&lt;? extends FavoriteCousin&gt; cousinType)\n{ ... }\n</code></pre>\n<p>But if I try to cast like I do above, I get:</p>\n<blockquote>\n<pre><code>Incompatible types: Class&lt;CAP#1&gt; cannot be converted to FavoriteCousin where CAP#1 is a fresh-type variable:\nCAP#1 extends GreatGrandParentClass from capture of ? extends GreatGrandParentClass\n</code></pre>\n</blockquote>\n<p>Now, I rather expected that the way I did the cast was not correct, but I'm wondering if there is a correct to do that kind of cast, if possible?</p>\n"},{"tags":["java","apache-spark","hadoop","pyspark","hdfs"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678914929,"creation_date":1678914929,"answer_id":75750136,"question_id":75744022,"body_markdown":"The error is saying that HDFS is not running. \r\n\r\nMake sure that `start-dfs` is successful, and when running `jps` you see both a Namenode and Datanode Process. If you don&#39;t see these, you need to look at the logs for those processes, not continue to try and run Spark code. \r\n\r\nAlso, as of Hadoop 3.3.4, you should be using Java 11, not 8. ","title":"pyspark failed to read in csv file. WARN FileStreamSink: Assume no metadata directory. java.net.ConnectException: Connection refused;","body":"<p>The error is saying that HDFS is not running.</p>\n<p>Make sure that <code>start-dfs</code> is successful, and when running <code>jps</code> you see both a Namenode and Datanode Process. If you don't see these, you need to look at the logs for those processes, not continue to try and run Spark code.</p>\n<p>Also, as of Hadoop 3.3.4, you should be using Java 11, not 8.</p>\n"}],"owner":{"account_id":21100430,"reputation":23,"user_id":15510433,"display_name":"asmallpotato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2091,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678914929,"creation_date":1678879291,"question_id":75744022,"body_markdown":"I&#39;m trying to read csv file using pyspark. \\\r\nBefore I installed Hadoop, I was able to read in the file using pyspark. However, after I changed my java version to java8 and installed Hadoop, I couldn&#39;t read in the file and an error poped out as following. I only changed java version and JAVA_HOME during installation. It seems that some settings have been changed. I&#39;m new to pyspark and hadoop. I tried to see [connection refused][1] but still have no idea. Could you please tell me where should I start to check? \r\n\r\nThank you very much in advance!\r\n\r\n```\r\n23/03/15 18:52:47 WARN FileStreamSink: Assume no metadata directory. Error while looking for metadata directory in the path: ../sales.csv.\r\njava.net.ConnectException: Call From MacBook-Pro-890.local/127.0.0.1 to localhost:9000 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused\r\n```\r\n\r\nThe below configurations are provided for your convenience. \r\nFYI：\\\r\ncore-site.xml\r\n\r\n```\r\n&lt;configuration&gt;\r\n  &lt;property&gt;\r\n    &lt;name&gt;fs.defaultFS&lt;/name&gt;\r\n    &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;\r\n  &lt;/property&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nhdfs-site.xml\r\n```\r\n&lt;configuration&gt;\r\n  &lt;property&gt;\r\n    &lt;name&gt;dfs.replication&lt;/name&gt;\r\n    &lt;value&gt;1&lt;/value&gt;\r\n  &lt;/property&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nzshrc\r\n```\r\n## JAVA env\r\nexport PATH=&quot;/usr/local/mysql/bin:$PATH&quot;\r\nexport JAVA_HOME=&quot;$(/usr/libexec/java_home -v 1.8)&quot;\r\n\r\n## MAVEN env\r\nexport M2_HOME=/usr/local/apache-maven-3.9.0\r\nexport PATH=${PATH}:${M2_HOME}/bin\r\n\r\n## Homebrew env\r\nexport PATH=/opt/homebrew/bin:$PATH\r\nexport PATH=/opt/homebrew/sbin:$PATH\r\n\r\nexport PYSPARK_DRIVER_PYTHON=&quot;jupyter&quot;\r\nexport PYSPARK_DRIVER_PYTHON_OPTS=&quot;notebook&quot;\r\n\r\nexport SPARK_HOME=/opt/homebrew/Cellar/apache-spark/3.3.2/libexec \r\nexport PATH=$SPARK_HOME/bin:$PATH \r\n\r\nexport SPARK_OPTS=&quot;--packages graphframes:graphframes:0.8.2-spark3.0-s_2.12&quot;\r\n\r\n## HADOOP env variables\r\nexport HADOOP_HOME=&quot;/opt/homebrew/Cellar/hadoop/3.3.4/libexec&quot;\r\nexport PATH=$PATH:$HADOOP_HOME/bin\r\nexport PATH=$PATH:$HADOOP_HOME/sbin\r\nexport HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop\r\nexport HADOOP_MAPRED_HOME=$HADOOP_HOME\r\nexport HADOOP_COMMON_HOME=$HADOOP_HOME\r\nexport HADOOP_HDFS_HOME=$HADOOP_HOME\r\nexport YARN_HOME=$HADOOP_HOME\r\nexport HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native\r\nexport HADOOP_OPTS=&quot;-Djava.library.path=$HADOOP_HOME/lib&quot;\r\nexport HADOOP_CLASSPATH=${JAVA_HOME}/lib/tools.jar\r\n```\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/HADOOP2/ConnectionRefused\r\n  [2]: https://i.stack.imgur.com/pigL8.png","title":"pyspark failed to read in csv file. WARN FileStreamSink: Assume no metadata directory. java.net.ConnectException: Connection refused;","body":"<p>I'm trying to read csv file using pyspark. <br />\nBefore I installed Hadoop, I was able to read in the file using pyspark. However, after I changed my java version to java8 and installed Hadoop, I couldn't read in the file and an error poped out as following. I only changed java version and JAVA_HOME during installation. It seems that some settings have been changed. I'm new to pyspark and hadoop. I tried to see <a href=\"https://cwiki.apache.org/confluence/display/HADOOP2/ConnectionRefused\" rel=\"nofollow noreferrer\">connection refused</a> but still have no idea. Could you please tell me where should I start to check?</p>\n<p>Thank you very much in advance!</p>\n<pre><code>23/03/15 18:52:47 WARN FileStreamSink: Assume no metadata directory. Error while looking for metadata directory in the path: ../sales.csv.\njava.net.ConnectException: Call From MacBook-Pro-890.local/127.0.0.1 to localhost:9000 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused\n</code></pre>\n<p>The below configurations are provided for your convenience.\nFYI：<br />\ncore-site.xml</p>\n<pre><code>&lt;configuration&gt;\n  &lt;property&gt;\n    &lt;name&gt;fs.defaultFS&lt;/name&gt;\n    &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;\n  &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>hdfs-site.xml</p>\n<pre><code>&lt;configuration&gt;\n  &lt;property&gt;\n    &lt;name&gt;dfs.replication&lt;/name&gt;\n    &lt;value&gt;1&lt;/value&gt;\n  &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>zshrc</p>\n<pre><code>## JAVA env\nexport PATH=&quot;/usr/local/mysql/bin:$PATH&quot;\nexport JAVA_HOME=&quot;$(/usr/libexec/java_home -v 1.8)&quot;\n\n## MAVEN env\nexport M2_HOME=/usr/local/apache-maven-3.9.0\nexport PATH=${PATH}:${M2_HOME}/bin\n\n## Homebrew env\nexport PATH=/opt/homebrew/bin:$PATH\nexport PATH=/opt/homebrew/sbin:$PATH\n\nexport PYSPARK_DRIVER_PYTHON=&quot;jupyter&quot;\nexport PYSPARK_DRIVER_PYTHON_OPTS=&quot;notebook&quot;\n\nexport SPARK_HOME=/opt/homebrew/Cellar/apache-spark/3.3.2/libexec \nexport PATH=$SPARK_HOME/bin:$PATH \n\nexport SPARK_OPTS=&quot;--packages graphframes:graphframes:0.8.2-spark3.0-s_2.12&quot;\n\n## HADOOP env variables\nexport HADOOP_HOME=&quot;/opt/homebrew/Cellar/hadoop/3.3.4/libexec&quot;\nexport PATH=$PATH:$HADOOP_HOME/bin\nexport PATH=$PATH:$HADOOP_HOME/sbin\nexport HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop\nexport HADOOP_MAPRED_HOME=$HADOOP_HOME\nexport HADOOP_COMMON_HOME=$HADOOP_HOME\nexport HADOOP_HDFS_HOME=$HADOOP_HOME\nexport YARN_HOME=$HADOOP_HOME\nexport HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native\nexport HADOOP_OPTS=&quot;-Djava.library.path=$HADOOP_HOME/lib&quot;\nexport HADOOP_CLASSPATH=${JAVA_HOME}/lib/tools.jar\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pigL8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pigL8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","docker","apache-spark"],"comments":[{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":0,"creation_date":1678890576,"post_id":75745094,"comment_id":133621005,"body_markdown":"I think the worker is not able to bind to the driver, this may answer your question: https://stackoverflow.com/questions/45489248/running-spark-driver-program-in-docker-container-no-connection-back-from-execu","body":"I think the worker is not able to bind to the driver, this may answer your question: <a href=\"https://stackoverflow.com/questions/45489248/running-spark-driver-program-in-docker-container-no-connection-back-from-execu\" title=\"running spark driver program in docker container no connection back from execu\">stackoverflow.com/questions/45489248/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678914836,"post_id":75745094,"comment_id":133627852,"body_markdown":"I dont think SpringNoot is the problem, and it isn&#39;t really necessary to use it. Where are you running `spark-submit` from? If not inside a container, then `docker.host.internal` address will not resolve","body":"I dont think SpringNoot is the problem, and it isn&#39;t really necessary to use it. Where are you running <code>spark-submit</code> from? If not inside a container, then <code>docker.host.internal</code> address will not resolve"}],"owner":{"account_id":14582244,"reputation":75,"user_id":10532266,"display_name":"MrStan12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678914728,"creation_date":1678885296,"question_id":75745094,"body_markdown":"I&#39;m trying to use Spark 3 from a Spring boot 2.7.3 application. I&#39;m working from a Docker compose environment on Windows 10 and Docker Desktop.\r\n\r\n\r\nHere is my docker compose:\r\n\r\n    version: &#39;3&#39;\r\n    services:\r\n      spark-master:\r\n        image: bde2020/spark-master:3.3.0-hadoop3.3\r\n        container_name: spark-master\r\n        ports:\r\n          - &quot;8088:8080&quot;\r\n          - &quot;7077:7077&quot;\r\n        environment:\r\n          - INIT_DAEMON_STEP=setup_spark\r\n    \r\n      spark-worker-1:\r\n        image: bde2020/spark-worker:3.3.0-hadoop3.3\r\n        container_name: spark-worker-1\r\n        depends_on:\r\n          - spark-master\r\n        ports:\r\n          - &quot;8081:8081&quot;\r\n        environment:\r\n          - &quot;SPARK_MASTER=spark://spark-master:7077&quot;\r\n    \r\n    \r\n      spark-worker-2:\r\n        image: bde2020/spark-worker:3.3.0-hadoop3.3\r\n        container_name: spark-worker-2\r\n        depends_on:\r\n          - spark-master\r\n        ports:\r\n          - &quot;8082:8081&quot;\r\n        environment:\r\n          - &quot;SPARK_MASTER=spark://spark-master:7077&quot;\r\n\r\nMy Spring server is on my local windows and is therefore not included in my compose. This is how I configure the connection with Spark:\r\n\r\n    @Configuration\r\n    public class SparkConfig {\r\n    \r\n        @Bean\r\n        public JavaSparkContext sparkContext() {\r\n            SparkConf sparkConf = new SparkConf()\r\n                    .setAppName(&quot;SparkSpringBootApplication&quot;)\r\n                    .setMaster(&quot;spark://localhost:7077&quot;);\r\n            JavaSparkContext javaSparkContext = new JavaSparkContext(sparkConf);\r\n    \r\n            return javaSparkContext;\r\n    }\r\n\r\nNow when I launch my server I have these logs scrolling in a loop and preventing me from launching any processing.\r\n\r\n    2023-03-15 13:49:15.433  INFO 15904 --- [rainedScheduler] o.a.s.s.BlockManagerMaster               : Removal of executor 323 requested\r\n    2023-03-15 13:49:15.433  INFO 15904 --- [ckManagerMaster] o.a.s.s.BlockManagerMasterEndpoint       : Trying to remove executor 323 from BlockManagerMaster.\r\n    2023-03-15 13:49:15.433  INFO 15904 --- [rainedScheduler] seGrainedSchedulerBackend$DriverEndpoint : Asked to remove non-existent executor 323\r\n    2023-03-15 13:49:15.433  INFO 15904 --- [er-event-loop-5] o.a.s.s.c.StandaloneSchedulerBackend     : Granted executor ID app-20230315123815-0009/325 on hostPort 172.18.0.5:38035 with 8 core(s), 1024.0 MiB RAM\r\n    2023-03-15 13:49:15.455  INFO 15904 --- [er-event-loop-2] s.d.c.StandaloneAppClient$ClientEndpoint : Executor updated: app-20230315123815-0009/325 is now RUNNING\r\n    2023-03-15 13:49:19.539  INFO 15904 --- [er-event-loop-1] s.d.c.StandaloneAppClient$ClientEndpoint : Executor updated: app-20230315123815-0009/324 is now EXITED (Command exited with code 1)\r\n    2023-03-15 13:49:19.539  INFO 15904 --- [er-event-loop-1] o.a.s.s.c.StandaloneSchedulerBackend     : Executor app-20230315123815-0009/324 removed: Command exited with code 1\r\n    2023-03-15 13:49:19.540  INFO 15904 --- [er-event-loop-1] s.d.c.StandaloneAppClient$ClientEndpoint : Executor added: app-20230315123815-0009/326 on worker-20230315095819-172.18.0.4-33639 (172.18.0.4:33639) with 8 core(s)\r\n    2023-03-15 13:49:19.540  INFO 15904 --- [rainedScheduler] o.a.s.s.BlockManagerMaster               : Removal of executor 324 requested\r\n    2023-03-15 13:49:19.540  INFO 15904 --- [ckManagerMaster] o.a.s.s.BlockManagerMasterEndpoint       : Trying to remove executor 324 from BlockManagerMaster.\r\n    2023-03-15 13:49:19.540  INFO 15904 --- [rainedScheduler] seGrainedSchedulerBackend$DriverEndpoint : Asked to remove non-existent executor 324\r\n    2023-03-15 13:49:19.540  INFO 15904 --- [er-event-loop-1] o.a.s.s.c.StandaloneSchedulerBackend     : Granted executor ID app-20230315123815-0009/326 on hostPort 172.18.0.4:33639 with 8 core(s), 1024.0 MiB RAM\r\n    2023-03-15 13:49:19.561  INFO 15904 --- [er-event-loop-0] s.d.c.StandaloneAppClient$ClientEndpoint : Executor updated: app-20230315123815-0009/326 is now RUNNING\r\n    2023-03-15 13:49:19.802  INFO 15904 --- [er-event-loop-7] s.d.c.StandaloneAppClient$ClientEndpoint : Executor updated: app-20230315123815-0009/325 is now EXITED (Command exited with code 1)\r\n    2023-03-15 13:49:19.802  INFO 15904 --- [er-event-loop-7] o.a.s.s.c.StandaloneSchedulerBackend     : Executor app-20230315123815-0009/325 removed: Command exited with code 1\r\n    2023-03-15 13:49:19.802  INFO 15904 --- [rainedScheduler] o.a.s.s.BlockManagerMaster               : Removal of executor 325 requested\r\n    2023-03-15 13:49:19.802  INFO 15904 --- [er-event-loop-5] s.d.c.StandaloneAppClient$ClientEndpoint : Executor added: app-20230315123815-0009/327 on worker-20230315095819-172.18.0.5-38035 (172.18.0.5:38035) with 8 core(s)\r\n    2023-03-15 13:49:19.802  INFO 15904 --- [ckManagerMaster] o.a.s.s.BlockManagerMasterEndpoint       : Trying to remove executor 325 from BlockManagerMaster.\r\n    2023-03-15 13:49:19.802  INFO 15904 --- [rainedScheduler] seGrainedSchedulerBackend$DriverEndpoint : Asked to remove non-existent executor 325\r\n    2023-03-15 13:49:19.802  INFO 15904 --- [er-event-loop-5] o.a.s.s.c.StandaloneSchedulerBackend     : Granted executor ID app-20230315123815-0009/327 on hostPort 172.18.0.5:38035 with 8 core(s), 1024.0 MiB RAM\r\n    2023-03-15 13:49:19.823  INFO 15904 --- [er-event-loop-6] s.d.c.StandaloneAppClient$ClientEndpoint : Executor updated: app-20230315123815-0009/327 is now RUNNING\r\n\r\n\r\nThe only errors I find are at the level of the Spark Worker:\r\n\r\n\r\n    Using Spark&#39;s default log4j profile: org/apache/spark/log4j2-defaults.properties\r\n    Exception in thread &quot;main&quot; java.lang.reflect.UndeclaredThrowableException\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1894)\r\n    \tat org.apache.spark.deploy.SparkHadoopUtil.runAsSparkUser(SparkHadoopUtil.scala:61)\r\n    \tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.run(CoarseGrainedExecutorBackend.scala:424)\r\n    \tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.main(CoarseGrainedExecutorBackend.scala:413)\r\n    \tat org.apache.spark.executor.CoarseGrainedExecutorBackend.main(CoarseGrainedExecutorBackend.scala)\r\n    Caused by: org.apache.spark.SparkException: Exception thrown in awaitResult: \r\n    \tat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\r\n    \tat org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\r\n    \tat org.apache.spark.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:102)\r\n    \tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$9(CoarseGrainedExecutorBackend.scala:444)\r\n    \tat scala.runtime.java8.JFunction1$mcVI$sp.apply(JFunction1$mcVI$sp.java:23)\r\n    \tat scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:985)\r\n    \tat scala.collection.immutable.Range.foreach(Range.scala:158)\r\n    \tat scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:984)\r\n    \tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$7(CoarseGrainedExecutorBackend.scala:442)\r\n    \tat org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:62)\r\n    \tat org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:61)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\r\n    \t... 4 more\r\n    Caused by: java.io.IOException: Failed to connect to host.docker.internal/192.168.65.2:53999\r\n    \tat org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:288)\r\n    \tat org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:218)\r\n    \tat org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:230)\r\n    \tat org.apache.spark.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:204)\r\n    \tat org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:202)\r\n    \tat org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:198)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: host.docker.internal/192.168.65.2:53999\r\n    Caused by: java.net.ConnectException: Connection refused\r\n    \tat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n    \tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:716)\r\n    \tat io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\r\n    \tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:710)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nSeems Spark can&#39;t find my Spring server? I don&#39;t understand where the error can come from.\r\nI specify that I was careful to use the same version of Spark / Hadoop in all my imports.\r\n\r\nAny help would be welcome.\r\n\r\nThank you all and have a nice day","title":"Spark initialization problem with Docker and Spring","body":"<p>I'm trying to use Spark 3 from a Spring boot 2.7.3 application. I'm working from a Docker compose environment on Windows 10 and Docker Desktop.</p>\n<p>Here is my docker compose:</p>\n<pre><code>version: '3'\nservices:\n  spark-master:\n    image: bde2020/spark-master:3.3.0-hadoop3.3\n    container_name: spark-master\n    ports:\n      - &quot;8088:8080&quot;\n      - &quot;7077:7077&quot;\n    environment:\n      - INIT_DAEMON_STEP=setup_spark\n\n  spark-worker-1:\n    image: bde2020/spark-worker:3.3.0-hadoop3.3\n    container_name: spark-worker-1\n    depends_on:\n      - spark-master\n    ports:\n      - &quot;8081:8081&quot;\n    environment:\n      - &quot;SPARK_MASTER=spark://spark-master:7077&quot;\n\n\n  spark-worker-2:\n    image: bde2020/spark-worker:3.3.0-hadoop3.3\n    container_name: spark-worker-2\n    depends_on:\n      - spark-master\n    ports:\n      - &quot;8082:8081&quot;\n    environment:\n      - &quot;SPARK_MASTER=spark://spark-master:7077&quot;\n</code></pre>\n<p>My Spring server is on my local windows and is therefore not included in my compose. This is how I configure the connection with Spark:</p>\n<pre><code>@Configuration\npublic class SparkConfig {\n\n    @Bean\n    public JavaSparkContext sparkContext() {\n        SparkConf sparkConf = new SparkConf()\n                .setAppName(&quot;SparkSpringBootApplication&quot;)\n                .setMaster(&quot;spark://localhost:7077&quot;);\n        JavaSparkContext javaSparkContext = new JavaSparkContext(sparkConf);\n\n        return javaSparkContext;\n}\n</code></pre>\n<p>Now when I launch my server I have these logs scrolling in a loop and preventing me from launching any processing.</p>\n<pre><code>2023-03-15 13:49:15.433  INFO 15904 --- [rainedScheduler] o.a.s.s.BlockManagerMaster               : Removal of executor 323 requested\n2023-03-15 13:49:15.433  INFO 15904 --- [ckManagerMaster] o.a.s.s.BlockManagerMasterEndpoint       : Trying to remove executor 323 from BlockManagerMaster.\n2023-03-15 13:49:15.433  INFO 15904 --- [rainedScheduler] seGrainedSchedulerBackend$DriverEndpoint : Asked to remove non-existent executor 323\n2023-03-15 13:49:15.433  INFO 15904 --- [er-event-loop-5] o.a.s.s.c.StandaloneSchedulerBackend     : Granted executor ID app-20230315123815-0009/325 on hostPort 172.18.0.5:38035 with 8 core(s), 1024.0 MiB RAM\n2023-03-15 13:49:15.455  INFO 15904 --- [er-event-loop-2] s.d.c.StandaloneAppClient$ClientEndpoint : Executor updated: app-20230315123815-0009/325 is now RUNNING\n2023-03-15 13:49:19.539  INFO 15904 --- [er-event-loop-1] s.d.c.StandaloneAppClient$ClientEndpoint : Executor updated: app-20230315123815-0009/324 is now EXITED (Command exited with code 1)\n2023-03-15 13:49:19.539  INFO 15904 --- [er-event-loop-1] o.a.s.s.c.StandaloneSchedulerBackend     : Executor app-20230315123815-0009/324 removed: Command exited with code 1\n2023-03-15 13:49:19.540  INFO 15904 --- [er-event-loop-1] s.d.c.StandaloneAppClient$ClientEndpoint : Executor added: app-20230315123815-0009/326 on worker-20230315095819-172.18.0.4-33639 (172.18.0.4:33639) with 8 core(s)\n2023-03-15 13:49:19.540  INFO 15904 --- [rainedScheduler] o.a.s.s.BlockManagerMaster               : Removal of executor 324 requested\n2023-03-15 13:49:19.540  INFO 15904 --- [ckManagerMaster] o.a.s.s.BlockManagerMasterEndpoint       : Trying to remove executor 324 from BlockManagerMaster.\n2023-03-15 13:49:19.540  INFO 15904 --- [rainedScheduler] seGrainedSchedulerBackend$DriverEndpoint : Asked to remove non-existent executor 324\n2023-03-15 13:49:19.540  INFO 15904 --- [er-event-loop-1] o.a.s.s.c.StandaloneSchedulerBackend     : Granted executor ID app-20230315123815-0009/326 on hostPort 172.18.0.4:33639 with 8 core(s), 1024.0 MiB RAM\n2023-03-15 13:49:19.561  INFO 15904 --- [er-event-loop-0] s.d.c.StandaloneAppClient$ClientEndpoint : Executor updated: app-20230315123815-0009/326 is now RUNNING\n2023-03-15 13:49:19.802  INFO 15904 --- [er-event-loop-7] s.d.c.StandaloneAppClient$ClientEndpoint : Executor updated: app-20230315123815-0009/325 is now EXITED (Command exited with code 1)\n2023-03-15 13:49:19.802  INFO 15904 --- [er-event-loop-7] o.a.s.s.c.StandaloneSchedulerBackend     : Executor app-20230315123815-0009/325 removed: Command exited with code 1\n2023-03-15 13:49:19.802  INFO 15904 --- [rainedScheduler] o.a.s.s.BlockManagerMaster               : Removal of executor 325 requested\n2023-03-15 13:49:19.802  INFO 15904 --- [er-event-loop-5] s.d.c.StandaloneAppClient$ClientEndpoint : Executor added: app-20230315123815-0009/327 on worker-20230315095819-172.18.0.5-38035 (172.18.0.5:38035) with 8 core(s)\n2023-03-15 13:49:19.802  INFO 15904 --- [ckManagerMaster] o.a.s.s.BlockManagerMasterEndpoint       : Trying to remove executor 325 from BlockManagerMaster.\n2023-03-15 13:49:19.802  INFO 15904 --- [rainedScheduler] seGrainedSchedulerBackend$DriverEndpoint : Asked to remove non-existent executor 325\n2023-03-15 13:49:19.802  INFO 15904 --- [er-event-loop-5] o.a.s.s.c.StandaloneSchedulerBackend     : Granted executor ID app-20230315123815-0009/327 on hostPort 172.18.0.5:38035 with 8 core(s), 1024.0 MiB RAM\n2023-03-15 13:49:19.823  INFO 15904 --- [er-event-loop-6] s.d.c.StandaloneAppClient$ClientEndpoint : Executor updated: app-20230315123815-0009/327 is now RUNNING\n</code></pre>\n<p>The only errors I find are at the level of the Spark Worker:</p>\n<pre><code>Using Spark's default log4j profile: org/apache/spark/log4j2-defaults.properties\nException in thread &quot;main&quot; java.lang.reflect.UndeclaredThrowableException\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1894)\n    at org.apache.spark.deploy.SparkHadoopUtil.runAsSparkUser(SparkHadoopUtil.scala:61)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.run(CoarseGrainedExecutorBackend.scala:424)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.main(CoarseGrainedExecutorBackend.scala:413)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend.main(CoarseGrainedExecutorBackend.scala)\nCaused by: org.apache.spark.SparkException: Exception thrown in awaitResult: \n    at org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\n    at org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\n    at org.apache.spark.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:102)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$9(CoarseGrainedExecutorBackend.scala:444)\n    at scala.runtime.java8.JFunction1$mcVI$sp.apply(JFunction1$mcVI$sp.java:23)\n    at scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:985)\n    at scala.collection.immutable.Range.foreach(Range.scala:158)\n    at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:984)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$7(CoarseGrainedExecutorBackend.scala:442)\n    at org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:62)\n    at org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:61)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\n    ... 4 more\nCaused by: java.io.IOException: Failed to connect to host.docker.internal/192.168.65.2:53999\n    at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:288)\n    at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:218)\n    at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:230)\n    at org.apache.spark.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:204)\n    at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:202)\n    at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:198)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: host.docker.internal/192.168.65.2:53999\nCaused by: java.net.ConnectException: Connection refused\n    at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n    at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:716)\n    at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:710)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Seems Spark can't find my Spring server? I don't understand where the error can come from.\nI specify that I was careful to use the same version of Spark / Hadoop in all my imports.</p>\n<p>Any help would be welcome.</p>\n<p>Thank you all and have a nice day</p>\n"},{"tags":["java","timestamp","java-time","datetime-comparison"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1678907539,"post_id":75748964,"comment_id":133626147,"body_markdown":"you can use [compareto](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#compareTo(java.time.chrono.ChronoLocalDateTime)) `ts2.compareTo(LocalDateTime.ofInstant(timestamp, ZoneId.of(&quot;Europe/Milan&quot;)));` \n\nor [isbefore](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#isBefore(java.time.chrono.ChronoLocalDateTime)) \nor [isAfter](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#isAfter(java.time.chrono.ChronoLocalDateTime))","body":"you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#compareTo(java.time.chrono.ChronoLocalDateTime)\" rel=\"nofollow noreferrer\">compareto</a> <code>ts2.compareTo(LocalDateTime.ofInstant(timestamp, ZoneId.of(&quot;Europe&#47;Milan&quot;)));</code>   or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#isBefore(java.time.chrono.ChronoLocalDateTime)\" rel=\"nofollow noreferrer\">isbefore</a>  or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#isAfter(java.time.chrono.ChronoLocalDateTime)\" rel=\"nofollow noreferrer\">isAfter</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678912943,"post_id":75748964,"comment_id":133627392,"body_markdown":"Such a comparison does not make sense in itself since the former is a point in time and the latter a date and time of day. Neither contains a time zone, but we would have needed one to interpret the two in relation to each other. You may want `ZonedDateTime.now(ZoneId.of(&quot;Europe/Rome&quot;)) .with(LocalTime.of(8, 0)) .toInstant() .isBefore(Instant.ofEpochSecond(0, ts1))`.","body":"Such a comparison does not make sense in itself since the former is a point in time and the latter a date and time of day. Neither contains a time zone, but we would have needed one to interpret the two in relation to each other. You may want <code>ZonedDateTime.now(ZoneId.of(&quot;Europe&#47;Rome&quot;)) .with(LocalTime.of(8, 0)) .toInstant() .isBefore(Instant.ofEpochSecond(0, ts1))</code>."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678946089,"post_id":75749123,"comment_id":133632077,"body_markdown":"Not bad. The conversion from nanos using explicit division and modulo is too manual for my taste. You may just do `Instant.ofEpochSecond(0, ts1)`, the method will perform the operations for you, and you don’t need the `nanosInSecond` constant. And a dumb detail, indicate a long with an uppercase `L` since a lower case `l` as in `123l` is terribly easy to misread for digit `1`.","body":"Not bad. The conversion from nanos using explicit division and modulo is too manual for my taste. You may just do <code>Instant.ofEpochSecond(0, ts1)</code>, the method will perform the operations for you, and you don’t need the <code>nanosInSecond</code> constant. And a dumb detail, indicate a long with an uppercase <code>L</code> since a lower case <code>l</code> as in <code>123l</code> is terribly easy to misread for digit <code>1</code>."}],"tags":[],"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678907539,"creation_date":1678907539,"answer_id":75749123,"question_id":75748964,"body_markdown":"You could use something like this\r\n\r\n        Long ts1 = 123l;\r\n\t\t// Convert ts1 to an Instant\r\n\t\tlong nanosInSecond = 1000000000L;\r\n\t\tInstant instantTs1 = Instant.ofEpochSecond(ts1 / nanosInSecond, ts1 % nanosInSecond);\r\n\r\n\t\t// Create ts2 from LocalDateTime\r\n\t\tLocalTime eight = LocalTime.of(8, 0);\r\n\t\tString zoneId = &quot;Europe/Milan&quot;;\r\n\t\tLocalDate today = LocalDate.now(ZoneId.of(zoneId));\r\n\t\tLocalDateTime ts2 = LocalDateTime.of(today, eight);\r\n\t\tInstant instantTs2 = ts2.atZone(ZoneId.of(zoneId)).toInstant();\r\n\r\n\t\t\r\n\t\tif (instantTs1.isBefore(instantTs2)) {\r\n\t\t    System.out.println(&quot;ts1 before ts2&quot;);\r\n\t\t} else if (instantTs1.isAfter(instantTs2)) {\r\n\t\t    System.out.println(&quot;ts1 after ts2&quot;);\r\n\t\t} else {\r\n\t\t    System.out.println(&quot;equal&quot;);\r\n\t\t}","title":"Compare LocalDateTime with long","body":"<p>You could use something like this</p>\n<pre><code>    Long ts1 = 123l;\n    // Convert ts1 to an Instant\n    long nanosInSecond = 1000000000L;\n    Instant instantTs1 = Instant.ofEpochSecond(ts1 / nanosInSecond, ts1 % nanosInSecond);\n\n    // Create ts2 from LocalDateTime\n    LocalTime eight = LocalTime.of(8, 0);\n    String zoneId = &quot;Europe/Milan&quot;;\n    LocalDate today = LocalDate.now(ZoneId.of(zoneId));\n    LocalDateTime ts2 = LocalDateTime.of(today, eight);\n    Instant instantTs2 = ts2.atZone(ZoneId.of(zoneId)).toInstant();\n\n    \n    if (instantTs1.isBefore(instantTs2)) {\n        System.out.println(&quot;ts1 before ts2&quot;);\n    } else if (instantTs1.isAfter(instantTs2)) {\n        System.out.println(&quot;ts1 after ts2&quot;);\n    } else {\n        System.out.println(&quot;equal&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678909962,"creation_date":1678909962,"answer_id":75749461,"question_id":75748964,"body_markdown":"`LocalDate` and `LocalDateTime` are time zone agnostic. They only accept one in the `now()` factory to resolve the date in the specified zone, but then the time zone is discarded, so there&#39;s no way to convert it back to a particular timestamp. If you construct a `ZonedDateTime` instead, you can then adjust the time and extract the timestamp like this:\r\n\r\n    long ts2 = ZonedDateTime.now(ZoneId.of(&quot;Europe/Milan&quot;))\r\n            .withHour(8)\r\n            .truncatedTo(ChronoUnit.HOURS)\r\n            .toInstant()\r\n            .toEpochMilli();","title":"Compare LocalDateTime with long","body":"<p><code>LocalDate</code> and <code>LocalDateTime</code> are time zone agnostic. They only accept one in the <code>now()</code> factory to resolve the date in the specified zone, but then the time zone is discarded, so there's no way to convert it back to a particular timestamp. If you construct a <code>ZonedDateTime</code> instead, you can then adjust the time and extract the timestamp like this:</p>\n<pre><code>long ts2 = ZonedDateTime.now(ZoneId.of(&quot;Europe/Milan&quot;))\n        .withHour(8)\n        .truncatedTo(ChronoUnit.HOURS)\n        .toInstant()\n        .toEpochMilli();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1678913182,"post_id":75749890,"comment_id":133627455,"body_markdown":"Interesting, I was looking for something like `with()` but didn&#39;t realize LocalTime was a TemporalAdjuster.","body":"Interesting, I was looking for something like <code>with()</code> but didn&#39;t realize LocalTime was a TemporalAdjuster."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1678913232,"post_id":75749890,"comment_id":133627461,"body_markdown":"@OleV.V. Doesn&#39;t work for me either in Java 8, but I figured I need to update my timezone data.","body":"@OleV.V. Doesn&#39;t work for me either in Java 8, but I figured I need to update my timezone data."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678913599,"post_id":75749890,"comment_id":133627571,"body_markdown":"@OleV.V. I like that middle one, `ofEpochSecond` — clever, concise, and clear. Now in the Answer.","body":"@OleV.V. I like that middle one, <code>ofEpochSecond</code> — clever, concise, and clear. Now in the Answer."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678913923,"post_id":75749890,"comment_id":133627647,"body_markdown":"@shmosel It’s not that often needed, but there are occasions like this where it is really nifty that each date-time object in java.time also works as a temporal adjuster. It’s nothing special for `LocalTime`, it’s general for the classes.","body":"@shmosel It’s not that often needed, but there are occasions like this where it is really nifty that each date-time object in java.time also works as a temporal adjuster. It’s nothing special for <code>LocalTime</code>, it’s general for the classes."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678914569,"creation_date":1678912968,"answer_id":75749890,"question_id":75748964,"body_markdown":"# Comparing the current date &amp; time in Milan with 8 AM today in Milan.\r\n\r\n&gt; timestamp (ts1) stored in a long, expressed in nanos since epoch\r\n\r\nAssuming you mean the epoch reference of first moment of 1970 in UTC, 1970-01-01T00:00Z, derive a `Instant`.\r\n\r\n    Instant instant = Instant.ofEpochSecond( 0 , myNanos ) ;\r\n\r\n\r\n&gt; another timestamp (ts2), which I know is for today 8am\r\n\r\nDetermining &quot;today&quot; requires a time zone. For any given moment, both the date and time-of-day vary around the globe by time zone.\r\n\r\nBy the way, your Question’s time zone `Europe/Milan` does [not exist][1]. I don&#39;t know much about [Italy][2], but I assume you really want `Europe/Rome`. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Europe/Rome&quot; ) ;\r\n    ZonedDateTime nowInMilan = ZonedDateTime.now( z ) ;\r\n\r\nWe can move to another moment using the [`with`][3] method. Pass a [`LocalTime`][4] object for 8 AM. All parts of time-of-day will be replaced: hour, minute, second, &amp; fractional second.\r\n\r\n    ZonedDateTime eightAmTodayInMilan = nowInMilan.with( LocalTime.of( 8 , 0 ) ) ;\r\n\r\n&gt; compare it\r\n\r\nYou can compare moments using the [`isAfter`][5], `isBefore`, and `isEqual` methods.\r\n\r\n    boolean nowIsAfter8AmInMilan = nowInMilan.isAfter( eightAmTodayInMilan ) ;\r\n\r\nAlternatively, you could calculate elapsed time as a [`Duration`][6]. Then check if negative or positive. \r\n\r\n    Duration elapsed = Duration.between( eightAmTodayInMilan  , nowInMilan  ) ;\r\n    boolean nowIsBefore8AmInMilan = elapsed.isNegative() ;\r\n\r\n\r\n# `LocalDateTime` cannot represent a moment\r\n\r\nThe `LocalDateTime` represents a date with a time-of-day, no more, no less. This class purposely lacks any concept of time zone or offset-from-UTC. \r\n\r\nWithout the context of a zone/offset, an instance of `LocalDateTime` is inherently ambiguous. We don&#39;t know if noon on the 23rd of this January means noon in Tokyo, noon in Toulouse, or noon in Toledo Ohio US —&#160;three very different moments, each several hours apart. \r\n\r\nFor the problem stated in this Question, I would not involve `LocalDateTime`. \r\n\r\n# The *Y2262* problem\r\n\r\nI would suggest you find another way to represent a moment as a count of nanoseconds. \r\n\r\nThe main reason is that such a count is inherently ambiguous and error-prone. Since no human can read such a number as a date and time, logging and debugging are complicated.\r\n\r\nAlso, beware of the *Y2262* problem. Assuming your epoch reference is first moment of 1970 in UTC, then counting nanos limits your future 2262-04-11T23:47:16.854775807Z. That is sufficient for current business purposes, but what if your app is still running in a few centuries?\r\n\r\n    Instant.EPOCH.plus( Duration.ofNanos( Long.MAX_VALUE ) )\r\n\r\nGenerally best to exchange date-time values as text in standard [ISO 8601][7] format. Those formats are designed to be readable both by machine and by humans across cultures. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [2]: https://en.wikipedia.org/wiki/Italy\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html#with(java.time.temporal.TemporalAdjuster)\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/chrono/ChronoZonedDateTime.html#isAfter(java.time.chrono.ChronoZonedDateTime)\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html\r\n  [7]: https://en.wikipedia.org/wiki/ISO_8601","title":"Compare LocalDateTime with long","body":"<h1>Comparing the current date &amp; time in Milan with 8 AM today in Milan.</h1>\n<blockquote>\n<p>timestamp (ts1) stored in a long, expressed in nanos since epoch</p>\n</blockquote>\n<p>Assuming you mean the epoch reference of first moment of 1970 in UTC, 1970-01-01T00:00Z, derive a <code>Instant</code>.</p>\n<pre><code>Instant instant = Instant.ofEpochSecond( 0 , myNanos ) ;\n</code></pre>\n<blockquote>\n<p>another timestamp (ts2), which I know is for today 8am</p>\n</blockquote>\n<p>Determining &quot;today&quot; requires a time zone. For any given moment, both the date and time-of-day vary around the globe by time zone.</p>\n<p>By the way, your Question’s time zone <code>Europe/Milan</code> does <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">not exist</a>. I don't know much about <a href=\"https://en.wikipedia.org/wiki/Italy\" rel=\"nofollow noreferrer\">Italy</a>, but I assume you really want <code>Europe/Rome</code>.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Europe/Rome&quot; ) ;\nZonedDateTime nowInMilan = ZonedDateTime.now( z ) ;\n</code></pre>\n<p>We can move to another moment using the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html#with(java.time.temporal.TemporalAdjuster)\" rel=\"nofollow noreferrer\"><code>with</code></a> method. Pass a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html\" rel=\"nofollow noreferrer\"><code>LocalTime</code></a> object for 8 AM. All parts of time-of-day will be replaced: hour, minute, second, &amp; fractional second.</p>\n<pre><code>ZonedDateTime eightAmTodayInMilan = nowInMilan.with( LocalTime.of( 8 , 0 ) ) ;\n</code></pre>\n<blockquote>\n<p>compare it</p>\n</blockquote>\n<p>You can compare moments using the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/chrono/ChronoZonedDateTime.html#isAfter(java.time.chrono.ChronoZonedDateTime)\" rel=\"nofollow noreferrer\"><code>isAfter</code></a>, <code>isBefore</code>, and <code>isEqual</code> methods.</p>\n<pre><code>boolean nowIsAfter8AmInMilan = nowInMilan.isAfter( eightAmTodayInMilan ) ;\n</code></pre>\n<p>Alternatively, you could calculate elapsed time as a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a>. Then check if negative or positive.</p>\n<pre><code>Duration elapsed = Duration.between( eightAmTodayInMilan  , nowInMilan  ) ;\nboolean nowIsBefore8AmInMilan = elapsed.isNegative() ;\n</code></pre>\n<h1><code>LocalDateTime</code> cannot represent a moment</h1>\n<p>The <code>LocalDateTime</code> represents a date with a time-of-day, no more, no less. This class purposely lacks any concept of time zone or offset-from-UTC.</p>\n<p>Without the context of a zone/offset, an instance of <code>LocalDateTime</code> is inherently ambiguous. We don't know if noon on the 23rd of this January means noon in Tokyo, noon in Toulouse, or noon in Toledo Ohio US — three very different moments, each several hours apart.</p>\n<p>For the problem stated in this Question, I would not involve <code>LocalDateTime</code>.</p>\n<h1>The <em>Y2262</em> problem</h1>\n<p>I would suggest you find another way to represent a moment as a count of nanoseconds.</p>\n<p>The main reason is that such a count is inherently ambiguous and error-prone. Since no human can read such a number as a date and time, logging and debugging are complicated.</p>\n<p>Also, beware of the <em>Y2262</em> problem. Assuming your epoch reference is first moment of 1970 in UTC, then counting nanos limits your future 2262-04-11T23:47:16.854775807Z. That is sufficient for current business purposes, but what if your app is still running in a few centuries?</p>\n<pre><code>Instant.EPOCH.plus( Duration.ofNanos( Long.MAX_VALUE ) )\n</code></pre>\n<p>Generally best to exchange date-time values as text in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format. Those formats are designed to be readable both by machine and by humans across cultures.</p>\n"}],"owner":{"account_id":28026051,"reputation":3,"user_id":21406057,"display_name":"mandhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75749461,"answer_count":3,"score":0,"last_activity_date":1678914569,"creation_date":1678906386,"question_id":75748964,"body_markdown":"I have a timestamp (ts1) stored in a long, expressed in nanos since epoch.\r\nI want to be able to compare it with another timestamp (ts2), which I know is for today 8am\r\n\r\nThe aim is to know if ts1 is after or before ts2.\r\n\r\nI have ts2 as below:\r\n\r\n```\r\nLocalTime eight = LocalTime.of(8, 0);\r\nLocalDate today = LocalDate.now(ZoneId.of(&quot;Europe/Milan&quot;));\r\nLocalDateTime ts2 = LocalDateTime.of(today, time);\r\n```\r\n\r\nHow can I compare ts2 with ts1 which is a long?  ","title":"Compare LocalDateTime with long","body":"<p>I have a timestamp (ts1) stored in a long, expressed in nanos since epoch.\nI want to be able to compare it with another timestamp (ts2), which I know is for today 8am</p>\n<p>The aim is to know if ts1 is after or before ts2.</p>\n<p>I have ts2 as below:</p>\n<pre><code>LocalTime eight = LocalTime.of(8, 0);\nLocalDate today = LocalDate.now(ZoneId.of(&quot;Europe/Milan&quot;));\nLocalDateTime ts2 = LocalDateTime.of(today, time);\n</code></pre>\n<p>How can I compare ts2 with ts1 which is a long?</p>\n"},{"tags":["java","rest","quarkus","interceptor","quarkus-reactive"],"comments":[{"owner":{"account_id":14122292,"reputation":501,"user_id":10202496,"display_name":"iabughosh"},"score":0,"creation_date":1678947909,"post_id":75750082,"comment_id":133632336,"body_markdown":"Since Quarkus is built on top of CDI &amp; Jax-RS, for the first one, you may have a look about CDI interceptors first then take a look at this:\nhttps://quarkus.io/guides/cdi-reference\n\nRegarding the second point you may use Jax-RS exception mappers:\nhttps://www.ibm.com/docs/en/was-nd/8.5.5?topic=applications-defining-exception-mappers-resource-exceptions-errors","body":"Since Quarkus is built on top of CDI &amp; Jax-RS, for the first one, you may have a look about CDI interceptors first then take a look at this: <a href=\"https://quarkus.io/guides/cdi-reference\" rel=\"nofollow noreferrer\">quarkus.io/guides/cdi-reference</a>  Regarding the second point you may use Jax-RS exception mappers: <a href=\"https://www.ibm.com/docs/en/was-nd/8.5.5?topic=applications-defining-exception-mappers-resource-exceptions-errors\" rel=\"nofollow noreferrer\">ibm.com/docs/en/was-nd/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678950247,"post_id":75750082,"comment_id":133632733,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27994139,"reputation":11,"user_id":21379775,"display_name":"Bruno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678914499,"creation_date":1678914499,"question_id":75750082,"body_markdown":"I am new in Quarkus and I need to create two filters \r\n\r\n1) The first one must be executed for each specific method that I have defined in a controller, I have seen that there are some implementations in Quarkus but they are executed globally for all the defined endpoints, is there any way to specify to the same method which filter to use ?? \r\n\r\nOr what would be the best way to implement it, I would appreciate your suggestions on how to do it in a real environment using Quarkus.\r\n\r\n\r\n2) The second filter is one that must be executed when there is an exception of any type in any layer, be it Controller, Service, Repository, etc, the idea is to capture that exception with the message to later return it in the response, is there any way to do it in Quarkus?\r\n\r\nI would appreciate if someone could give me more light, or related documentation since I am just starting with Quarkus and I can not solve it.","title":"How to implement Interceptors in Quarkus for specific scenarios","body":"<p>I am new in Quarkus and I need to create two filters</p>\n<ol>\n<li>The first one must be executed for each specific method that I have defined in a controller, I have seen that there are some implementations in Quarkus but they are executed globally for all the defined endpoints, is there any way to specify to the same method which filter to use ??</li>\n</ol>\n<p>Or what would be the best way to implement it, I would appreciate your suggestions on how to do it in a real environment using Quarkus.</p>\n<ol start=\"2\">\n<li>The second filter is one that must be executed when there is an exception of any type in any layer, be it Controller, Service, Repository, etc, the idea is to capture that exception with the message to later return it in the response, is there any way to do it in Quarkus?</li>\n</ol>\n<p>I would appreciate if someone could give me more light, or related documentation since I am just starting with Quarkus and I can not solve it.</p>\n"},{"tags":["java","list","sorting","assertj"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1592492967,"creation_date":1513166330,"answer_id":47792471,"question_id":47792233,"body_markdown":"Yes. There&#39;s also the method [`isSortedAccordingTo`](http://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/ArraySortedAssert.html#isSortedAccordingTo(java.util.Comparator)) which takes a [`Comparator`](https://docs.oracle.com/javase/9/docs/api/java/util/Comparator.html).\r\n\r\nYou&#39;ll need to change the generic type parameter to `&lt;T extends Comparable&lt;T&gt;&gt;`, i.e. a type which has a natural ordering. Then `Comparator.reverseOrder()` can say be used to assert that it should be the reverse *of it&#39;s natural ordering*. Without that constraint, you&#39;d be trying to reverse some unknown/unspecified ordering, which results in a compiler error.\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; void sorted(final List&lt;T&gt; actual) {\r\n        try {\r\n            assertThat(actual).isSortedAccordingTo(Comparator.reverseOrder());\r\n        } catch (AssertionError e) {\r\n            LOGGER.error(e.getMessage(), e);\r\n            throw e;\r\n        }\r\n    }","title":"AssertJ: Assert if list is sorted inversely or in descending order","body":"<p>Yes. There's also the method <a href=\"http://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/ArraySortedAssert.html#isSortedAccordingTo(java.util.Comparator)\" rel=\"noreferrer\"><code>isSortedAccordingTo</code></a> which takes a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code></a>.</p>\n\n<p>You'll need to change the generic type parameter to <code>&lt;T extends Comparable&lt;T&gt;&gt;</code>, i.e. a type which has a natural ordering. Then <code>Comparator.reverseOrder()</code> can say be used to assert that it should be the reverse <em>of it's natural ordering</em>. Without that constraint, you'd be trying to reverse some unknown/unspecified ordering, which results in a compiler error.</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; void sorted(final List&lt;T&gt; actual) {\n    try {\n        assertThat(actual).isSortedAccordingTo(Comparator.reverseOrder());\n    } catch (AssertionError e) {\n        LOGGER.error(e.getMessage(), e);\n        throw e;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13896008,"reputation":103,"user_id":10032858,"display_name":"Dmytro Verbivskyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678914378,"creation_date":1678914378,"answer_id":75750075,"question_id":47792233,"body_markdown":"```\r\nassertThat(downloadHistory).extracting(&quot;downloadedAt&quot;, LocalDateTime.class)\r\n                .isSortedAccordingTo(Comparator.reverseOrder());\r\n```","title":"AssertJ: Assert if list is sorted inversely or in descending order","body":"<pre><code>assertThat(downloadHistory).extracting(&quot;downloadedAt&quot;, LocalDateTime.class)\n                .isSortedAccordingTo(Comparator.reverseOrder());\n</code></pre>\n"}],"owner":{"account_id":2642024,"reputation":1506,"user_id":2285470,"accept_rate":97,"display_name":"iamkenos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10503,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":47792471,"answer_count":2,"score":13,"last_activity_date":1678914378,"creation_date":1513165592,"question_id":47792233,"body_markdown":"I&#39;m using AssertJ for my tests and I noticed there&#39;s a method for checking if a `List&lt;T&gt;` is sorted:\r\n\r\n\tpublic static &lt;T&gt; void sorted(final List&lt;T&gt; actual) {\r\n\t\ttry {\r\n\t        assertThat(actual).isSorted();\r\n\t    } catch (AssertionError e) {\r\n\t        LOGGER.error(e.getMessage(), e);\r\n\t        throw e;\r\n\t    }\r\n\t}\r\n\r\nIs there a way to check if the list is sorted in descending order?\r\n\r\nI know guava provides `Ordering.natural().reverse().isOrdered(values)` but I want to take advantage of AssertJ&#39;s assert messages as it really helps a lot in debugging e.g.\r\n\r\n    group is not sorted because element 5:\r\n     &lt;&quot;4000366190001391&quot;&gt;\r\n    is not less or equal than element 6:\r\n     &lt;&quot;4000206280001394&quot;&gt;\r\n    group was:\r\n     &lt;[&quot;4000206280001363&quot;,\r\n        &quot;4000206280001364&quot;,\r\n        &quot;4000206280001365&quot;,\r\n        &quot;4000206280001373&quot;,\r\n        &quot;4000206280001388&quot;,\r\n        &quot;4000366190001391&quot;,\r\n        &quot;4000206280001394&quot;,\r\n        &quot;4000366190001401&quot;,\r\n        &quot;4000206280001403&quot;,\r\n        &quot;4000206280001405&quot;,\r\n         ....]&gt;\r\n\r\n","title":"AssertJ: Assert if list is sorted inversely or in descending order","body":"<p>I'm using AssertJ for my tests and I noticed there's a method for checking if a <code>List&lt;T&gt;</code> is sorted:</p>\n\n<pre><code>public static &lt;T&gt; void sorted(final List&lt;T&gt; actual) {\n    try {\n        assertThat(actual).isSorted();\n    } catch (AssertionError e) {\n        LOGGER.error(e.getMessage(), e);\n        throw e;\n    }\n}\n</code></pre>\n\n<p>Is there a way to check if the list is sorted in descending order?</p>\n\n<p>I know guava provides <code>Ordering.natural().reverse().isOrdered(values)</code> but I want to take advantage of AssertJ's assert messages as it really helps a lot in debugging e.g.</p>\n\n<pre><code>group is not sorted because element 5:\n &lt;\"4000366190001391\"&gt;\nis not less or equal than element 6:\n &lt;\"4000206280001394\"&gt;\ngroup was:\n &lt;[\"4000206280001363\",\n    \"4000206280001364\",\n    \"4000206280001365\",\n    \"4000206280001373\",\n    \"4000206280001388\",\n    \"4000366190001391\",\n    \"4000206280001394\",\n    \"4000366190001401\",\n    \"4000206280001403\",\n    \"4000206280001405\",\n     ....]&gt;\n</code></pre>\n"},{"tags":["java","arrays","list"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1569835578,"post_id":58164942,"comment_id":102711682,"body_markdown":"You are adding _six_ employees to a list.  Which one&#39;s name do you want to print?","body":"You are adding <i>six</i> employees to a list.  Which one&#39;s name do you want to print?"},{"owner":{"account_id":16747908,"reputation":31,"user_id":12105651,"display_name":"somduti"},"score":0,"creation_date":1569835747,"post_id":58164942,"comment_id":102711792,"body_markdown":"suppose i want to print the name of the first employee?how do i do that?","body":"suppose i want to print the name of the first employee?how do i do that?"},{"owner":{"account_id":12285714,"reputation":983,"user_id":8965245,"display_name":"Nawnit Sen"},"score":0,"creation_date":1569836248,"post_id":58164942,"comment_id":102712057,"body_markdown":"You are not setting any property in emp object that you created","body":"You are not setting any property in emp object that you created"}],"answers":[{"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569835677,"creation_date":1569835677,"answer_id":58165025,"question_id":58164942,"body_markdown":"You may want to iterate over your employee and then print the name. Reason you get `null` is you created `Employee` object with default constructor. Which would mean name being string object would take default null value which is what you see.\r\n\r\nIf you want to print employee names, you could do the following:\r\n\r\n    for (Employee employee: listofemployee) {\r\n        System.out.println(&quot;The name of employee is &quot; + employee.getName());\r\n    }\r\n\r\nSince you are using `List` interface, you can access individual object by it&#39;s index. E.g. to get first employee name:\r\n\r\n    System.out.println(&quot;The name of employee is &quot; + listofemployee.get(0).getName());","title":"How to get name from a list of employees","body":"<p>You may want to iterate over your employee and then print the name. Reason you get <code>null</code> is you created <code>Employee</code> object with default constructor. Which would mean name being string object would take default null value which is what you see.</p>\n\n<p>If you want to print employee names, you could do the following:</p>\n\n<pre><code>for (Employee employee: listofemployee) {\n    System.out.println(\"The name of employee is \" + employee.getName());\n}\n</code></pre>\n\n<p>Since you are using <code>List</code> interface, you can access individual object by it's index. E.g. to get first employee name:</p>\n\n<pre><code>System.out.println(\"The name of employee is \" + listofemployee.get(0).getName());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1235278,"reputation":2660,"user_id":1198979,"accept_rate":82,"display_name":"SSP"},"score":0,"creation_date":1569836496,"post_id":58165112,"comment_id":102712186,"body_markdown":"@michalk Done. thanks. It just slipped through my mind.","body":"@michalk Done. thanks. It just slipped through my mind."}],"tags":[],"owner":{"account_id":1235278,"reputation":2660,"user_id":1198979,"accept_rate":82,"display_name":"SSP"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569836391,"creation_date":1569835959,"answer_id":58165112,"question_id":58164942,"body_markdown":"1 - Create Employee object like below:- \r\n\r\n&gt; Employee emp =new Employee(&quot;xyz&quot;, &quot;10909&quot;, Designation.AM, jd.date5,\r\n&gt; 800000);\r\n\r\n2 - Then store into list.\r\n\r\n3 - After that iterate over list and print result as per your requirement.\r\n\r\n    public static void main(String[] args) {\r\n        JoiningDate jd = new JoiningDate();\r\n        Employee emp = new Employee();\r\n        List&lt;Employee&gt; listofemployee = new ArrayList&lt;&gt;();\r\n        emp = new Employee(&quot;abc&quot;, &quot;12345&quot;, Designation.ASE,jd.date1 , 20000);\r\n        listofemployee.add(emp);\r\n        emp =new Employee(&quot;abcd&quot;, &quot;24680&quot;, Designation.SE, jd.date2, 30000);\r\n        listofemployee.add(emp);\r\n        emp =new Employee(&quot;abcde&quot;, &quot;13570&quot;, Designation.SSE,jd.date3, 40000);\r\n        listofemployee.add(emp);\r\n        emp = new Employee(&quot;abcdef&quot;, &quot;13690&quot;, Designation.TL, jd.date4, 60000);\r\n        listofemployee.add(emp);\r\n        emp =new Employee(&quot;koool&quot;, &quot;89076&quot;, Designation.M, jd.date6, 2000);\r\n        listofemployee.add(emp);\r\n        emp =new Employee(&quot;xyz&quot;, &quot;10909&quot;, Designation.AM, jd.date5, 800000);\r\n        listofemployee.add(emp);\r\n \r\n        System.out.println(&quot;The name of employee is &quot;+emp.getName());\r\n\r\n\r\n        Iterator&lt;Employee&gt; itr = listofemployee.iterator(); \r\n  \r\n        // checking the next element availabilty \r\n        while (itr.hasNext()) \r\n        { \r\n           System.out.println(&quot;name &quot; + (itr.next()).getName());\r\n        }\r\n    }","title":"How to get name from a list of employees","body":"<p>1 - Create Employee object like below:- </p>\n\n<blockquote>\n  <p>Employee emp =new Employee(\"xyz\", \"10909\", Designation.AM, jd.date5,\n  800000);</p>\n</blockquote>\n\n<p>2 - Then store into list.</p>\n\n<p>3 - After that iterate over list and print result as per your requirement.</p>\n\n<pre><code>public static void main(String[] args) {\n    JoiningDate jd = new JoiningDate();\n    Employee emp = new Employee();\n    List&lt;Employee&gt; listofemployee = new ArrayList&lt;&gt;();\n    emp = new Employee(\"abc\", \"12345\", Designation.ASE,jd.date1 , 20000);\n    listofemployee.add(emp);\n    emp =new Employee(\"abcd\", \"24680\", Designation.SE, jd.date2, 30000);\n    listofemployee.add(emp);\n    emp =new Employee(\"abcde\", \"13570\", Designation.SSE,jd.date3, 40000);\n    listofemployee.add(emp);\n    emp = new Employee(\"abcdef\", \"13690\", Designation.TL, jd.date4, 60000);\n    listofemployee.add(emp);\n    emp =new Employee(\"koool\", \"89076\", Designation.M, jd.date6, 2000);\n    listofemployee.add(emp);\n    emp =new Employee(\"xyz\", \"10909\", Designation.AM, jd.date5, 800000);\n    listofemployee.add(emp);\n\n    System.out.println(\"The name of employee is \"+emp.getName());\n\n\n    Iterator&lt;Employee&gt; itr = listofemployee.iterator(); \n\n    // checking the next element availabilty \n    while (itr.hasNext()) \n    { \n       System.out.println(\"name \" + (itr.next()).getName());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11373567,"reputation":406,"user_id":8338512,"display_name":"Mohit Hurkat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569836053,"creation_date":1569836053,"answer_id":58165139,"question_id":58164942,"body_markdown":"To print the name of a particular employee, kindly update the emp object.\r\n\r\n    emp = listofemployee.get(indexWithinTheList);\r\n    System.out.println(&quot;The name of employee is &quot;+emp.getName());\r\n    \r\n    \r\n**Example**:\r\n \r\n    emp = listofemployee.get(0);\r\n    System.out.println(&quot;The name of employee is &quot;+emp.getName());\r\n    \r\n    Output : The name of employee is abc","title":"How to get name from a list of employees","body":"<p>To print the name of a particular employee, kindly update the emp object.</p>\n\n<pre><code>emp = listofemployee.get(indexWithinTheList);\nSystem.out.println(\"The name of employee is \"+emp.getName());\n</code></pre>\n\n<p><strong>Example</strong>:</p>\n\n<pre><code>emp = listofemployee.get(0);\nSystem.out.println(\"The name of employee is \"+emp.getName());\n\nOutput : The name of employee is abc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569836231,"creation_date":1569836231,"answer_id":58165186,"question_id":58164942,"body_markdown":"The error you are getting is because you have created the Employee object like below.\r\n`Employee emp = new Employee();` After that you are populating the list using new Employee. But you have not set any value to variable emp.so getName from emp will return null. If you want to get the value from emp. You first need to set the name using `emp.SetName(&quot;Any name&quot;);` No you will get the value using `emp.getName();`","title":"How to get name from a list of employees","body":"<p>The error you are getting is because you have created the Employee object like below.\n<code>Employee emp = new Employee();</code> After that you are populating the list using new Employee. But you have not set any value to variable emp.so getName from emp will return null. If you want to get the value from emp. You first need to set the name using <code>emp.SetName(\"Any name\");</code> No you will get the value using <code>emp.getName();</code></p>\n"},{"tags":[],"owner":{"account_id":6348224,"reputation":179,"user_id":4928063,"display_name":"Abhijeet Ranade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678913301,"creation_date":1678913301,"answer_id":75749935,"question_id":58164942,"body_markdown":"**1) you are trying to print name of employee which is an empty object which is emp.\r\n  2) you have to either get one of the employee object from the list by any index\r\n   say for eg:** \r\n\r\n       Employee emp = listofemployee.get(0);\r\n       and then you can System.out.println(emp.getName());\r\n\r\n   **Or if you want print name of all employees in this way**\r\n\r\n       listofemployee.stream().forEach(e-&gt;System.out.prinltn(e.getName()));\r\n\r\n   **this will print names of all employees**\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to get name from a list of employees","body":"<p><strong>1) you are trying to print name of employee which is an empty object which is emp.\n2) you have to either get one of the employee object from the list by any index\nsay for eg:</strong></p>\n<pre><code>   Employee emp = listofemployee.get(0);\n   and then you can System.out.println(emp.getName());\n</code></pre>\n<p><strong>Or if you want print name of all employees in this way</strong></p>\n<pre><code>   listofemployee.stream().forEach(e-&gt;System.out.prinltn(e.getName()));\n</code></pre>\n<p><strong>this will print names of all employees</strong></p>\n"}],"owner":{"account_id":16747908,"reputation":31,"user_id":12105651,"display_name":"somduti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7059,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1678913301,"creation_date":1569835372,"question_id":58164942,"body_markdown":"I am trying to print &quot;name&quot; of an employee from a list of employees. Below is my pojo class.\r\n\r\n    import java.time.LocalDate;\r\n    \r\n    public class Employee {\r\n    \r\n    \tprivate String name;\r\n    \tprivate String empID;\r\n    \tprivate Designation designation;\r\n    \tprivate LocalDate dateOfJoining;\r\n    \tprivate int monthlySalary;\r\n    \t\r\n    \tpublic Employee(String name, String empID, Designation designation, LocalDate dateOfJoining, int monthlySalary) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t\tthis.empID = empID;\r\n    \t\tthis.designation = designation;\r\n    \t\tthis.dateOfJoining = dateOfJoining;\r\n    \t\tthis.monthlySalary = monthlySalary;\r\n    \t}\r\n    \r\n    \tpublic Employee() {\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getEmpID() {\r\n    \t\treturn empID;\r\n    \t}\r\n    \r\n    \tpublic void setEmpID(String empID) {\r\n    \t\tthis.empID = empID;\r\n    \t}\r\n    \r\n    \tpublic Designation getDesignation() {\r\n    \t\treturn designation;\r\n    \t}\r\n    \r\n    \tpublic void setDesignation(Designation designation) {\r\n    \t\tthis.designation = designation;\r\n    \t}\r\n    \r\n    \tpublic LocalDate getDOJ() {\r\n    \t\treturn dateOfJoining;\r\n    \t}\r\n    \r\n    \tpublic void setDOJ(LocalDate dOJ) {\r\n    \t\tdateOfJoining = dOJ;\r\n    \t}\r\n    \r\n    \tpublic int getMonthlySalary() {\r\n    \t\treturn monthlySalary;\r\n    \t}\r\n    \r\n    \tpublic void setMonthlySalary(int monthlySalary) {\r\n    \t\tthis.monthlySalary = monthlySalary;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = prime * result + ((dateOfJoining == null) ? 0 : dateOfJoining.hashCode());\r\n    \t\tresult = prime * result + ((designation == null) ? 0 : designation.hashCode());\r\n    \t\tresult = prime * result + ((empID == null) ? 0 : empID.hashCode());\r\n    \t\tresult = prime * result + monthlySalary;\r\n    \t\tresult = prime * result + ((name == null) ? 0 : name.hashCode());\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tEmployee other = (Employee) obj;\r\n    \t\tif (dateOfJoining == null) {\r\n    \t\t\tif (other.dateOfJoining != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!dateOfJoining.equals(other.dateOfJoining))\r\n    \t\t\treturn false;\r\n    \t\tif (designation == null) {\r\n    \t\t\tif (other.designation != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!designation.equals(other.designation))\r\n    \t\t\treturn false;\r\n    \t\tif (empID == null) {\r\n    \t\t\tif (other.empID != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!empID.equals(other.empID))\r\n    \t\t\treturn false;\r\n    \t\tif (monthlySalary != other.monthlySalary)\r\n    \t\t\treturn false;\r\n    \t\tif (name == null) {\r\n    \t\t\tif (other.name != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!name.equals(other.name))\r\n    \t\t\treturn false;\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Employee [name=&quot; + name + &quot;, empID=&quot; + empID + &quot;, designation=&quot; + designation + &quot;, DOJ=&quot; + dateOfJoining\r\n    \t\t\t\t+ &quot;, monthlySalary=&quot; + monthlySalary + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nNow while I am trying to print the &quot;name&quot;, I am getting null value.\r\nPlease see as below,\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.Period;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    \r\n    public class Employecomparable {\r\n     \r\n    \tpublic static void main(String[] args) {\r\n    \t\tJoiningDate jd = new JoiningDate();\r\n    \t\tEmployee emp = new Employee();\r\n    \t\tList&lt;Employee&gt; listofemployee = new ArrayList&lt;&gt;();\r\n    \r\n    \t\tlistofemployee.add(new Employee(&quot;abc&quot;, &quot;12345&quot;, Designation.ASE,jd.date1 , 20000));\r\n    \t\tlistofemployee.add(new Employee(&quot;abcd&quot;, &quot;24680&quot;, Designation.SE, jd.date2, 30000));\r\n    \t\tlistofemployee.add(new Employee(&quot;abcde&quot;, &quot;13570&quot;, Designation.SSE,jd.date3, 40000));\r\n    \t\tlistofemployee.add(new Employee(&quot;abcdef&quot;, &quot;13690&quot;, Designation.TL, jd.date4, 60000));\r\n    \t\tlistofemployee.add(new Employee(&quot;xyz&quot;, &quot;10909&quot;, Designation.AM, jd.date5, 800000));\r\n    \t\tlistofemployee.add(new Employee(&quot;koool&quot;, &quot;89076&quot;, Designation.M, jd.date6, 2000));\r\n    \t\tSystem.out.println(&quot;The name of employee is &quot;+emp.getName());\r\n\r\nI am getting the output as &quot;null&quot;.\r\nIn console I get, The name of employee is null.\r\nHow do i print the name?\r\nPlease help!","title":"How to get name from a list of employees","body":"<p>I am trying to print \"name\" of an employee from a list of employees. Below is my pojo class.</p>\n\n<pre><code>import java.time.LocalDate;\n\npublic class Employee {\n\n    private String name;\n    private String empID;\n    private Designation designation;\n    private LocalDate dateOfJoining;\n    private int monthlySalary;\n\n    public Employee(String name, String empID, Designation designation, LocalDate dateOfJoining, int monthlySalary) {\n        super();\n        this.name = name;\n        this.empID = empID;\n        this.designation = designation;\n        this.dateOfJoining = dateOfJoining;\n        this.monthlySalary = monthlySalary;\n    }\n\n    public Employee() {\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmpID() {\n        return empID;\n    }\n\n    public void setEmpID(String empID) {\n        this.empID = empID;\n    }\n\n    public Designation getDesignation() {\n        return designation;\n    }\n\n    public void setDesignation(Designation designation) {\n        this.designation = designation;\n    }\n\n    public LocalDate getDOJ() {\n        return dateOfJoining;\n    }\n\n    public void setDOJ(LocalDate dOJ) {\n        dateOfJoining = dOJ;\n    }\n\n    public int getMonthlySalary() {\n        return monthlySalary;\n    }\n\n    public void setMonthlySalary(int monthlySalary) {\n        this.monthlySalary = monthlySalary;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((dateOfJoining == null) ? 0 : dateOfJoining.hashCode());\n        result = prime * result + ((designation == null) ? 0 : designation.hashCode());\n        result = prime * result + ((empID == null) ? 0 : empID.hashCode());\n        result = prime * result + monthlySalary;\n        result = prime * result + ((name == null) ? 0 : name.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Employee other = (Employee) obj;\n        if (dateOfJoining == null) {\n            if (other.dateOfJoining != null)\n                return false;\n        } else if (!dateOfJoining.equals(other.dateOfJoining))\n            return false;\n        if (designation == null) {\n            if (other.designation != null)\n                return false;\n        } else if (!designation.equals(other.designation))\n            return false;\n        if (empID == null) {\n            if (other.empID != null)\n                return false;\n        } else if (!empID.equals(other.empID))\n            return false;\n        if (monthlySalary != other.monthlySalary)\n            return false;\n        if (name == null) {\n            if (other.name != null)\n                return false;\n        } else if (!name.equals(other.name))\n            return false;\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        return \"Employee [name=\" + name + \", empID=\" + empID + \", designation=\" + designation + \", DOJ=\" + dateOfJoining\n                + \", monthlySalary=\" + monthlySalary + \"]\";\n    }\n\n}\n</code></pre>\n\n<p>Now while I am trying to print the \"name\", I am getting null value.\nPlease see as below,</p>\n\n<pre><code>import java.time.LocalDate;\nimport java.time.Period;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class Employecomparable {\n\n    public static void main(String[] args) {\n        JoiningDate jd = new JoiningDate();\n        Employee emp = new Employee();\n        List&lt;Employee&gt; listofemployee = new ArrayList&lt;&gt;();\n\n        listofemployee.add(new Employee(\"abc\", \"12345\", Designation.ASE,jd.date1 , 20000));\n        listofemployee.add(new Employee(\"abcd\", \"24680\", Designation.SE, jd.date2, 30000));\n        listofemployee.add(new Employee(\"abcde\", \"13570\", Designation.SSE,jd.date3, 40000));\n        listofemployee.add(new Employee(\"abcdef\", \"13690\", Designation.TL, jd.date4, 60000));\n        listofemployee.add(new Employee(\"xyz\", \"10909\", Designation.AM, jd.date5, 800000));\n        listofemployee.add(new Employee(\"koool\", \"89076\", Designation.M, jd.date6, 2000));\n        System.out.println(\"The name of employee is \"+emp.getName());\n</code></pre>\n\n<p>I am getting the output as \"null\".\nIn console I get, The name of employee is null.\nHow do i print the name?\nPlease help!</p>\n"},{"tags":["java","log4j2","jnlp","redhat-openjdk","openwebstart"],"answers":[{"tags":[],"owner":{"account_id":1683953,"reputation":446,"user_id":1547595,"display_name":"moser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678913168,"creation_date":1678913168,"answer_id":75749918,"question_id":75586285,"body_markdown":"I don&#39;t know exactly what was causing it, but I found a way to solve it. I checked the OWS error message and saw that it was related to log4j (at the bottom).\r\n\r\nI was using log4j 2.17 but still with log4j 1.x syntax to write the logs. I **needed to update the syntax to log4j 2.x**, and it worked just fine, both in Windows and Linux.\r\n\r\nThe OWS error:\r\n```\r\nWARNING: package javax.jnlp not in java.desktop\r\n[myuser][ITW-CORE][2023-03-10 08:48:26.431 MST][WARN ][net.adoptopenjdk.icedteaweb.manifest.ManifestAttributesChecker][My Tool#428b8743] This application does not specify a Codebase in its manifest. Please verify with the applet&#39;&#39;s vendor. Continuing. See: http://docs.oracle.com/javase/7/docs/technotes/guides/jweb/security/no_redeploy.html for details.\r\n[myuser][ITW-CORE][2023-03-10 08:48:26.554 MST][WARN ][net.sourceforge.jnlp.JNLPFile][AWT-EventQueue-0#23a5fd2] Application title was not found in manifest. Check with application vendor\r\n[myuser][ITW-CORE][2023-03-10 08:48:26.813 MST][WARN ][net.sourceforge.jnlp.JNLPFile][My Tool#428b8743] Application title was not found in manifest. Check with application vendor\r\nException in thread &quot;My Tool&quot; java.lang.RuntimeException: java.lang.ExceptionInInitializerError[myuser][ITW-CORE][2023-03-10 08:48:27.707 MST][ERROR][net.sourceforge.jnlp.Launcher][My Tool#428b8743]\r\nGeneral Throwable encountered:\r\njava.lang.ExceptionInInitializerError\r\n\tat org.apache.log4j.Logger.getLogger(Logger.java:117)\r\n\tat edu.mydomain.clientMain.&lt;clinit&gt;(clientMain.java:29)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:406)\r\n\tat net.sourceforge.jnlp.Launcher.access$300(Launcher.java:71)\r\n\tat net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:660)\r\nCaused by: java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;/path/to/logs/client.log&quot; &quot;write&quot;)\r\n\tat java.base/java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\r\n\tat java.base/java.security.AccessController.checkPermission(AccessController.java:897)\r\n\tat java.base/java.lang.SecurityManager.checkPermission(SecurityManager.java:322)\r\n\tat net.sourceforge.jnlp.runtime.JNLPSecurityManager.checkPermission(JNLPSecurityManager.java:272)\r\n\tat java.base/java.lang.SecurityManager.checkWrite(SecurityManager.java:752)\r\n\tat java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:225)\r\n\tat java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:158)\r\n\tat org.apache.log4j.FileAppender.setFile(FileAppender.java:294)\r\n\tat org.apache.log4j.RollingFileAppender.setFile(RollingFileAppender.java:207)\r\n\tat org.apache.log4j.FileAppender.activateOptions(FileAppender.java:165)\r\n\tat org.apache.log4j.config.PropertySetter.activate(PropertySetter.java:307)\r\n\tat org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:172)\r\n\tat org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:104)\r\n\tat org.apache.log4j.PropertyConfigurator.parseAppender(PropertyConfigurator.java:809)\r\n\tat org.apache.log4j.PropertyConfigurator.parseCategory(PropertyConfigurator.java:735)\r\n\tat org.apache.log4j.PropertyConfigurator.configureRootCategory(PropertyConfigurator.java:615)\r\n\tat org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:502)\r\n\tat org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:547)\r\n\tat org.apache.log4j.helpers.OptionConverter.selectAndConfigure(OptionConverter.java:483)\r\n\tat org.apache.log4j.LogManager.&lt;clinit&gt;(LogManager.java:127)\r\n\t... 9 more\r\n\r\n\r\n\tat net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:681)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat org.apache.log4j.Logger.getLogger(Logger.java:117)\r\n\tat edu.mydomain.clientMain.&lt;clinit&gt;(clientMain.java:29)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:406)\r\n\tat net.sourceforge.jnlp.Launcher.access$300(Launcher.java:71)\r\n\tat net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:660)\r\nCaused by: java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;/path/to/logs/client.log&quot; &quot;write&quot;)\r\n\tat java.base/java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\r\n\tat java.base/java.security.AccessController.checkPermission(AccessController.java:897)\r\n\tat java.base/java.lang.SecurityManager.checkPermission(SecurityManager.java:322)\r\n\tat net.sourceforge.jnlp.runtime.JNLPSecurityManager.checkPermission(JNLPSecurityManager.java:272)\r\n\tat java.base/java.lang.SecurityManager.checkWrite(SecurityManager.java:752)\r\n\tat java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:225)\r\n\tat java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:158)\r\n\tat org.apache.log4j.FileAppender.setFile(FileAppender.java:294)\r\n\tat org.apache.log4j.RollingFileAppender.setFile(RollingFileAppender.java:207)\r\n\tat org.apache.log4j.FileAppender.activateOptions(FileAppender.java:165)\r\n\tat org.apache.log4j.config.PropertySetter.activate(PropertySetter.java:307)\r\n\tat org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:172)\r\n\tat org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:104)\r\n\tat org.apache.log4j.PropertyConfigurator.parseAppender(PropertyConfigurator.java:809)\r\n\tat org.apache.log4j.PropertyConfigurator.parseCategory(PropertyConfigurator.java:735)\r\n\tat org.apache.log4j.PropertyConfigurator.configureRootCategory(PropertyConfigurator.java:615)\r\n\tat org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:502)\r\n\tat org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:547)\r\n\tat org.apache.log4j.helpers.OptionConverter.selectAndConfigure(OptionConverter.java:483)\r\n\tat org.apache.log4j.LogManager.&lt;clinit&gt;(LogManager.java:127)\r\n\t... 9 more\r\n```\r\n","title":"Java webstart application security issue with OpenWebStart and log4j2","body":"<p>I don't know exactly what was causing it, but I found a way to solve it. I checked the OWS error message and saw that it was related to log4j (at the bottom).</p>\n<p>I was using log4j 2.17 but still with log4j 1.x syntax to write the logs. I <strong>needed to update the syntax to log4j 2.x</strong>, and it worked just fine, both in Windows and Linux.</p>\n<p>The OWS error:</p>\n<pre><code>WARNING: package javax.jnlp not in java.desktop\n[myuser][ITW-CORE][2023-03-10 08:48:26.431 MST][WARN ][net.adoptopenjdk.icedteaweb.manifest.ManifestAttributesChecker][My Tool#428b8743] This application does not specify a Codebase in its manifest. Please verify with the applet''s vendor. Continuing. See: http://docs.oracle.com/javase/7/docs/technotes/guides/jweb/security/no_redeploy.html for details.\n[myuser][ITW-CORE][2023-03-10 08:48:26.554 MST][WARN ][net.sourceforge.jnlp.JNLPFile][AWT-EventQueue-0#23a5fd2] Application title was not found in manifest. Check with application vendor\n[myuser][ITW-CORE][2023-03-10 08:48:26.813 MST][WARN ][net.sourceforge.jnlp.JNLPFile][My Tool#428b8743] Application title was not found in manifest. Check with application vendor\nException in thread &quot;My Tool&quot; java.lang.RuntimeException: java.lang.ExceptionInInitializerError[myuser][ITW-CORE][2023-03-10 08:48:27.707 MST][ERROR][net.sourceforge.jnlp.Launcher][My Tool#428b8743]\nGeneral Throwable encountered:\njava.lang.ExceptionInInitializerError\n    at org.apache.log4j.Logger.getLogger(Logger.java:117)\n    at edu.mydomain.clientMain.&lt;clinit&gt;(clientMain.java:29)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:406)\n    at net.sourceforge.jnlp.Launcher.access$300(Launcher.java:71)\n    at net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:660)\nCaused by: java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;/path/to/logs/client.log&quot; &quot;write&quot;)\n    at java.base/java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\n    at java.base/java.security.AccessController.checkPermission(AccessController.java:897)\n    at java.base/java.lang.SecurityManager.checkPermission(SecurityManager.java:322)\n    at net.sourceforge.jnlp.runtime.JNLPSecurityManager.checkPermission(JNLPSecurityManager.java:272)\n    at java.base/java.lang.SecurityManager.checkWrite(SecurityManager.java:752)\n    at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:225)\n    at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:158)\n    at org.apache.log4j.FileAppender.setFile(FileAppender.java:294)\n    at org.apache.log4j.RollingFileAppender.setFile(RollingFileAppender.java:207)\n    at org.apache.log4j.FileAppender.activateOptions(FileAppender.java:165)\n    at org.apache.log4j.config.PropertySetter.activate(PropertySetter.java:307)\n    at org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:172)\n    at org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:104)\n    at org.apache.log4j.PropertyConfigurator.parseAppender(PropertyConfigurator.java:809)\n    at org.apache.log4j.PropertyConfigurator.parseCategory(PropertyConfigurator.java:735)\n    at org.apache.log4j.PropertyConfigurator.configureRootCategory(PropertyConfigurator.java:615)\n    at org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:502)\n    at org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:547)\n    at org.apache.log4j.helpers.OptionConverter.selectAndConfigure(OptionConverter.java:483)\n    at org.apache.log4j.LogManager.&lt;clinit&gt;(LogManager.java:127)\n    ... 9 more\n\n\n    at net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:681)\nCaused by: java.lang.ExceptionInInitializerError\n    at org.apache.log4j.Logger.getLogger(Logger.java:117)\n    at edu.mydomain.clientMain.&lt;clinit&gt;(clientMain.java:29)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:406)\n    at net.sourceforge.jnlp.Launcher.access$300(Launcher.java:71)\n    at net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:660)\nCaused by: java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;/path/to/logs/client.log&quot; &quot;write&quot;)\n    at java.base/java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\n    at java.base/java.security.AccessController.checkPermission(AccessController.java:897)\n    at java.base/java.lang.SecurityManager.checkPermission(SecurityManager.java:322)\n    at net.sourceforge.jnlp.runtime.JNLPSecurityManager.checkPermission(JNLPSecurityManager.java:272)\n    at java.base/java.lang.SecurityManager.checkWrite(SecurityManager.java:752)\n    at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:225)\n    at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:158)\n    at org.apache.log4j.FileAppender.setFile(FileAppender.java:294)\n    at org.apache.log4j.RollingFileAppender.setFile(RollingFileAppender.java:207)\n    at org.apache.log4j.FileAppender.activateOptions(FileAppender.java:165)\n    at org.apache.log4j.config.PropertySetter.activate(PropertySetter.java:307)\n    at org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:172)\n    at org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:104)\n    at org.apache.log4j.PropertyConfigurator.parseAppender(PropertyConfigurator.java:809)\n    at org.apache.log4j.PropertyConfigurator.parseCategory(PropertyConfigurator.java:735)\n    at org.apache.log4j.PropertyConfigurator.configureRootCategory(PropertyConfigurator.java:615)\n    at org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:502)\n    at org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:547)\n    at org.apache.log4j.helpers.OptionConverter.selectAndConfigure(OptionConverter.java:483)\n    at org.apache.log4j.LogManager.&lt;clinit&gt;(LogManager.java:127)\n    ... 9 more\n</code></pre>\n"}],"owner":{"account_id":1683953,"reputation":446,"user_id":1547595,"display_name":"moser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75749918,"answer_count":1,"score":0,"last_activity_date":1678913200,"creation_date":1677538012,"question_id":75586285,"body_markdown":"I&#39;m migrating some auto-signed WebStart (WS) applications from Oracle&#39;s Java 8 to OpenJDK11+OpenWebStart. However I&#39;m getting strange `java.io.FilePermission` errors after the migration (in other words, when launching the application&#39;s JNLP with Oracle&#39;s WS it works fine but with OpenWebStart that error is triggered). The errors are coming from the log4j2 log files that are saved in a remote server. \r\n\r\nI&#39;ve added this to the JAR&#39;s MANIFEST.MF, with no effect:\r\n\r\n``` \r\nCodebase: *.mydomain.edu\r\nPermissions: all-permissions\r\n```\r\n\r\nThe way I found to solve the error was to manually change the `java.policy` file (at `~/.config/icedtea-web/security`) with this:\r\n\r\n```\r\ngrant codeBase &quot;*.mydomain.edu&quot; {\r\n  permission java.io.FilePermission &quot;&lt;&lt;ALL FILES&gt;&gt;&quot;, &quot;read, write, execute, delete&quot;;\r\n};\r\n```\r\n(Of course, this is not a recommended solution since the applications are used by many different users.)\r\n\r\nMy question is: how could I solve this in a more robust way? Is there a way to include a custom `java.policy` inside the JAR file? Or OpenWebStart requires an extra log4j2 configuration that I&#39;m missing?\r\n\r\nPS: I&#39;ve tried to post this at [OpenWebStart forum][1], but my account there was not activated for some reason not informed.\r\n\r\n**Update**: I&#39;ve made a test launching this application from a Windows machine, and it worked just fine! Thus, the `java.io.FilePermission` error is related to my Linux RHEL8 system.\r\n\r\n  [1]: https://board.karakun.com/","title":"Java webstart application security issue with OpenWebStart and log4j2","body":"<p>I'm migrating some auto-signed WebStart (WS) applications from Oracle's Java 8 to OpenJDK11+OpenWebStart. However I'm getting strange <code>java.io.FilePermission</code> errors after the migration (in other words, when launching the application's JNLP with Oracle's WS it works fine but with OpenWebStart that error is triggered). The errors are coming from the log4j2 log files that are saved in a remote server.</p>\n<p>I've added this to the JAR's MANIFEST.MF, with no effect:</p>\n<pre><code>Codebase: *.mydomain.edu\nPermissions: all-permissions\n</code></pre>\n<p>The way I found to solve the error was to manually change the <code>java.policy</code> file (at <code>~/.config/icedtea-web/security</code>) with this:</p>\n<pre><code>grant codeBase &quot;*.mydomain.edu&quot; {\n  permission java.io.FilePermission &quot;&lt;&lt;ALL FILES&gt;&gt;&quot;, &quot;read, write, execute, delete&quot;;\n};\n</code></pre>\n<p>(Of course, this is not a recommended solution since the applications are used by many different users.)</p>\n<p>My question is: how could I solve this in a more robust way? Is there a way to include a custom <code>java.policy</code> inside the JAR file? Or OpenWebStart requires an extra log4j2 configuration that I'm missing?</p>\n<p>PS: I've tried to post this at <a href=\"https://board.karakun.com/\" rel=\"nofollow noreferrer\">OpenWebStart forum</a>, but my account there was not activated for some reason not informed.</p>\n<p><strong>Update</strong>: I've made a test launching this application from a Windows machine, and it worked just fine! Thus, the <code>java.io.FilePermission</code> error is related to my Linux RHEL8 system.</p>\n"},{"tags":["java","eclipse","jboss","permissions","bind"],"answers":[{"comments":[{"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"score":0,"creation_date":1366678338,"post_id":7608286,"comment_id":23091840,"body_markdown":"would it be possible to give my user account permission to bind to 443?","body":"would it be possible to give my user account permission to bind to 443?"}],"tags":[],"owner":{"account_id":74915,"reputation":1019,"user_id":215039,"display_name":"Ryan Schipper"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678912541,"creation_date":1317374109,"answer_id":7608286,"question_id":7608052,"body_markdown":"On *-nix platforms, you generally can&#39;t bind to privileged ports (&lt; 1024) if you aren&#39;t the root user.\r\n\r\nIf you are working in a development environment, you could configure JBoss to use a different port for SSL (8081, for instance) and point your testers/browser there.\r\n\r\nIf you absolutely need to use port 443 and can&#39;t run as root (which isn&#39;t recommended anyhow), you can:\r\n\r\n - configure JBoss to use a different port\r\n - configure a proxy\r\n   ([Polipo][1], for\r\n   instance) to re-direct port 443\r\n\r\nIf you don&#39;t want separate proxy software, you could also configure iptables. See [here](https://cwiki.apache.org/confluence/display/tomcat/HowTo).\r\n\r\n [1]: https://www.irif.fr/~jch/software/polipo/","title":"Eclipse: Error initializing endpoint java.net.BindException: Permission denied:443","body":"<p>On *-nix platforms, you generally can't bind to privileged ports (&lt; 1024) if you aren't the root user.</p>\n<p>If you are working in a development environment, you could configure JBoss to use a different port for SSL (8081, for instance) and point your testers/browser there.</p>\n<p>If you absolutely need to use port 443 and can't run as root (which isn't recommended anyhow), you can:</p>\n<ul>\n<li>configure JBoss to use a different port</li>\n<li>configure a proxy\n(<a href=\"https://www.irif.fr/%7Ejch/software/polipo/\" rel=\"nofollow noreferrer\">Polipo</a>, for\ninstance) to re-direct port 443</li>\n</ul>\n<p>If you don't want separate proxy software, you could also configure iptables. See <a href=\"https://cwiki.apache.org/confluence/display/tomcat/HowTo\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":872452,"reputation":84,"user_id":922995,"accept_rate":62,"display_name":"Angad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3987,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678912541,"creation_date":1317372710,"question_id":7608052,"body_markdown":"I&#39;m on Mac OS X Lion and am currently using eclipse to deploy a project with the help of JBoss.\r\n\r\nI get the following error:\r\n&gt; Error initializing endpoint java.net.BindException: Permission\r\n&gt; denied:443\r\n\r\nI understand this is a permissions issue, how do I allow eclipse to bind to port 443 in Mac OS X?","title":"Eclipse: Error initializing endpoint java.net.BindException: Permission denied:443","body":"<p>I'm on Mac OS X Lion and am currently using eclipse to deploy a project with the help of JBoss.</p>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>Error initializing endpoint java.net.BindException: Permission\n  denied:443</p>\n</blockquote>\n\n<p>I understand this is a permissions issue, how do I allow eclipse to bind to port 443 in Mac OS X?</p>\n"},{"tags":["java","reactjs","spring-boot","maven","apache-tomee"],"answers":[{"tags":[],"owner":{"account_id":12567487,"reputation":322,"user_id":9142870,"display_name":"TobyLoby"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678912171,"creation_date":1678912171,"answer_id":75749772,"question_id":75745008,"body_markdown":"I found a solution. As you said the 404 error is caused by spring and not react. You want all routes except /api to point to your react index.html file. \r\n\r\nTo solve this I created a new controller. In this case i called it Controller.java, and paste the code below.\r\n\r\n    @org.springframework.stereotype.Controller\r\n    public class Controller {\r\n        @RequestMapping(value = { &quot;/&quot;, &quot;/{x:[\\\\w\\\\-]+}&quot;, &quot;/{x:^(?!api$).*$}/*/{y:[\\\\w\\\\-]+}&quot;,&quot;/error&quot;  })\r\n        public String index() {\r\n            return &quot;index.html&quot;;\r\n        }\r\n    }\r\nThis code redirects all requests except /api to the index.html file using regex.\r\n","title":"React routes not working in spring boot maven project on TomEE server","body":"<p>I found a solution. As you said the 404 error is caused by spring and not react. You want all routes except /api to point to your react index.html file.</p>\n<p>To solve this I created a new controller. In this case i called it Controller.java, and paste the code below.</p>\n<pre><code>@org.springframework.stereotype.Controller\npublic class Controller {\n    @RequestMapping(value = { &quot;/&quot;, &quot;/{x:[\\\\w\\\\-]+}&quot;, &quot;/{x:^(?!api$).*$}/*/{y:[\\\\w\\\\-]+}&quot;,&quot;/error&quot;  })\n    public String index() {\n        return &quot;index.html&quot;;\n    }\n}\n</code></pre>\n<p>This code redirects all requests except /api to the index.html file using regex.</p>\n"}],"owner":{"account_id":26695272,"reputation":13,"user_id":20303240,"display_name":"Espen Grebstad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75749772,"answer_count":1,"score":1,"last_activity_date":1678912171,"creation_date":1678884894,"question_id":75745008,"body_markdown":"Im trying to host a react app with a spring project on a tomEE server. I&#39;m having some problems with the react routes on the server. It works fine locally when running the react app and sprint app, but only the root path (/) works on the server. There are no error messages in the server logs.\r\n\r\nThe 404 error seems to be coming from spring:\r\n[404 error message](https://i.stack.imgur.com/kCyFj.png)\r\n\r\nThis is the controller class:\r\n\r\n```\r\n@CrossOrigin\r\n@RestController\r\n@RequestMapping(&quot;api&quot;)\r\npublic class DemoController {\r\n    @GetMapping(&quot;/demo&quot;)\r\n    public List&lt;String&gt; demo(){\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;Hello&quot;, &quot;World&quot;, &quot;from&quot;, &quot;Spring!&quot;));\r\n\r\n        return list;\r\n    }\r\n}\r\n\r\n```\r\nThe react App.js:\r\n\r\n```\r\nimport {Route, Routes} from &quot;react-router-dom&quot;;\r\nimport Test from &quot;./components/test&quot;;\r\n\r\n\r\nfunction App() {\r\n  return (\r\n      &lt;Routes&gt;\r\n          &lt;Route index element={&lt;Test /&gt;} /&gt;\r\n          &lt;Route path=&quot;test&quot; element={&lt;div&gt;Test&lt;/div&gt;} /&gt;\r\n      &lt;/Routes&gt;\r\n  );\r\n}\r\nexport default App;\r\n```\r\n\r\n\r\nThe index.js:\r\n\r\n```\r\n...\r\nimport {BrowserRouter} from &quot;react-router-dom&quot;;\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(&#39;root&#39;));\r\nroot.render(\r\n  &lt;React.StrictMode&gt;\r\n      &lt;BrowserRouter basename={process.env.PUBLIC_URL}&gt;\r\n          &lt;App /&gt;\r\n      &lt;/BrowserRouter&gt;\r\n  &lt;/React.StrictMode&gt;\r\n);\r\n```\r\n\r\n\r\nenv.local:\r\n`PUBLIC_URL=.`\r\n\r\nenv.production:\r\n`PUBLIC_URL=/Expo-project-0.0.1-SNAPSHOT`\r\n\r\nScripts in package.json:\r\n\r\n```\r\n  &quot;scripts&quot;: {\r\n    &quot;start&quot;: &quot;react-scripts start&quot;,\r\n    &quot;build&quot;: &quot;env-cmd -f ./.env.production react-scripts build&quot;,\r\n    &quot;test&quot;: &quot;react-scripts test&quot;,\r\n    &quot;eject&quot;: &quot;react-scripts eject&quot;\r\n  }\r\n```\r\n\r\npox.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.9&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;no.hvl.dat109&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Expo-project&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;Expo-prosject&lt;/name&gt;\r\n    &lt;description&gt;Expo-prosject&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI have tried adding a trailing slash in the .env files.\r\nUsing hashroutes instead of browserroutes.\r\nChanging the controller to point at the index file. But we might have done something wrong here, because i think the problem is related to the routes not pointing to the index.html at all time.","title":"React routes not working in spring boot maven project on TomEE server","body":"<p>Im trying to host a react app with a spring project on a tomEE server. I'm having some problems with the react routes on the server. It works fine locally when running the react app and sprint app, but only the root path (/) works on the server. There are no error messages in the server logs.</p>\n<p>The 404 error seems to be coming from spring:\n<a href=\"https://i.stack.imgur.com/kCyFj.png\" rel=\"nofollow noreferrer\">404 error message</a></p>\n<p>This is the controller class:</p>\n<pre><code>@CrossOrigin\n@RestController\n@RequestMapping(&quot;api&quot;)\npublic class DemoController {\n    @GetMapping(&quot;/demo&quot;)\n    public List&lt;String&gt; demo(){\n        List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;Hello&quot;, &quot;World&quot;, &quot;from&quot;, &quot;Spring!&quot;));\n\n        return list;\n    }\n}\n\n</code></pre>\n<p>The react App.js:</p>\n<pre><code>import {Route, Routes} from &quot;react-router-dom&quot;;\nimport Test from &quot;./components/test&quot;;\n\n\nfunction App() {\n  return (\n      &lt;Routes&gt;\n          &lt;Route index element={&lt;Test /&gt;} /&gt;\n          &lt;Route path=&quot;test&quot; element={&lt;div&gt;Test&lt;/div&gt;} /&gt;\n      &lt;/Routes&gt;\n  );\n}\nexport default App;\n</code></pre>\n<p>The index.js:</p>\n<pre><code>...\nimport {BrowserRouter} from &quot;react-router-dom&quot;;\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  &lt;React.StrictMode&gt;\n      &lt;BrowserRouter basename={process.env.PUBLIC_URL}&gt;\n          &lt;App /&gt;\n      &lt;/BrowserRouter&gt;\n  &lt;/React.StrictMode&gt;\n);\n</code></pre>\n<p>env.local:\n<code>PUBLIC_URL=.</code></p>\n<p>env.production:\n<code>PUBLIC_URL=/Expo-project-0.0.1-SNAPSHOT</code></p>\n<p>Scripts in package.json:</p>\n<pre><code>  &quot;scripts&quot;: {\n    &quot;start&quot;: &quot;react-scripts start&quot;,\n    &quot;build&quot;: &quot;env-cmd -f ./.env.production react-scripts build&quot;,\n    &quot;test&quot;: &quot;react-scripts test&quot;,\n    &quot;eject&quot;: &quot;react-scripts eject&quot;\n  }\n</code></pre>\n<p>pox.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.9&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;no.hvl.dat109&lt;/groupId&gt;\n    &lt;artifactId&gt;Expo-project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;Expo-prosject&lt;/name&gt;\n    &lt;description&gt;Expo-prosject&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have tried adding a trailing slash in the .env files.\nUsing hashroutes instead of browserroutes.\nChanging the controller to point at the index file. But we might have done something wrong here, because i think the problem is related to the routes not pointing to the index.html at all time.</p>\n"},{"tags":["java","mule","mulesoft","mule4","mule-esb"],"answers":[{"comments":[{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":0,"creation_date":1678895572,"post_id":75746953,"comment_id":133622734,"body_markdown":"Thanks Fadi, after following the steps above, I am getting this error: `java.lang.IllegalStateException: Invalid artifact descriptor: &quot;my-order-service&quot;. Mandatory field &quot;name&quot; is missing or has an invalid value.`","body":"Thanks Fadi, after following the steps above, I am getting this error: <code>java.lang.IllegalStateException: Invalid artifact descriptor: &quot;my-order-service&quot;. Mandatory field &quot;name&quot; is missing or has an invalid value.</code>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1678895591,"post_id":75746953,"comment_id":133622738,"body_markdown":"Better to start with a minimum mule-artifact.json with only the `minMuleVersion`. The other values can be autogenerated with current versions of the Mule Maven Plugin in most cases.","body":"Better to start with a minimum mule-artifact.json with only the <code>minMuleVersion</code>. The other values can be autogenerated with current versions of the Mule Maven Plugin in most cases."},{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":0,"creation_date":1678896294,"post_id":75746953,"comment_id":133622979,"body_markdown":"I added params  ` &quot;name&quot;: &quot;my-order-service&quot;` and  `&quot;requiredProduct&quot;: &quot;MULE_EE&quot;` in the file and now a different  error is showing up `Caused by: org.eclipse.aether.resolution.ArtifactResolutionException: Could not find artifact org.javassist:javassist:pom:3.27.0-GA`","body":"I added params  ` &quot;name&quot;: &quot;my-order-service&quot;` and  <code>&quot;requiredProduct&quot;: &quot;MULE_EE&quot;</code> in the file and now a different  error is showing up <code>Caused by: org.eclipse.aether.resolution.ArtifactResolutionException: Could not find artifact org.javassist:javassist:pom:3.27.0-GA</code>"}],"tags":[],"owner":{"account_id":28024732,"reputation":89,"user_id":21404952,"display_name":"Fadi Chamoun"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678911706,"creation_date":1678894770,"answer_id":75746953,"question_id":75746859,"body_markdown":"You&#39;re trying to deploy a Maven and Spring-based application on Mule 4, but the required **mule-artifact.json** file is missing. \r\n\r\n1. In your Maven and Spring-based application, navigate to the **src/main/resources** directory.\r\n2. Create a new directory structure: **META-INF/mule-artifact**\r\n3. Inside the mule-artifact directory, create a new file named **mule-artifact.json**\r\n4. Add the following content to the **mule-artifact.json** file:\r\n\r\n```json\r\n{\r\n  &quot;minMuleVersion&quot;: &quot;4.1.0&quot;,\r\n  &quot;classLoaderModelLoaderDescriptor&quot;: {\r\n    &quot;id&quot;: &quot;mule&quot;,\r\n    &quot;attributes&quot;: {\r\n      &quot;exportedResources&quot;: []\r\n    }\r\n  },\r\n  &quot;bundleDescriptorLoader&quot;: {\r\n    &quot;id&quot;: &quot;mule&quot;,\r\n    &quot;attributes&quot;: {}\r\n  }\r\n}\r\n```\r\nMake sure to replace the **minMuleVersion** value with the minimum Mule runtime version your application requires.","title":"Not able to deploy Spring-based application after migrating from `Mule 3.x` to `Mule 4.x`","body":"<p>You're trying to deploy a Maven and Spring-based application on Mule 4, but the required <strong>mule-artifact.json</strong> file is missing.</p>\n<ol>\n<li>In your Maven and Spring-based application, navigate to the <strong>src/main/resources</strong> directory.</li>\n<li>Create a new directory structure: <strong>META-INF/mule-artifact</strong></li>\n<li>Inside the mule-artifact directory, create a new file named <strong>mule-artifact.json</strong></li>\n<li>Add the following content to the <strong>mule-artifact.json</strong> file:</li>\n</ol>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;minMuleVersion&quot;: &quot;4.1.0&quot;,\n  &quot;classLoaderModelLoaderDescriptor&quot;: {\n    &quot;id&quot;: &quot;mule&quot;,\n    &quot;attributes&quot;: {\n      &quot;exportedResources&quot;: []\n    }\n  },\n  &quot;bundleDescriptorLoader&quot;: {\n    &quot;id&quot;: &quot;mule&quot;,\n    &quot;attributes&quot;: {}\n  }\n}\n</code></pre>\n<p>Make sure to replace the <strong>minMuleVersion</strong> value with the minimum Mule runtime version your application requires.</p>\n"},{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678895726,"creation_date":1678895726,"answer_id":75747125,"question_id":75746859,"body_markdown":"It looks like you didn&#39;t migrate the Mule 3 application to Mule 4. Note that Mule 4 is not compatible with Mule 3 applications. You should read the [documentation and migration guide][1] before starting.\r\n\r\n\r\n  [1]: https://docs.mulesoft.com/mule-runtime/4.4/index-migration","title":"Not able to deploy Spring-based application after migrating from `Mule 3.x` to `Mule 4.x`","body":"<p>It looks like you didn't migrate the Mule 3 application to Mule 4. Note that Mule 4 is not compatible with Mule 3 applications. You should read the <a href=\"https://docs.mulesoft.com/mule-runtime/4.4/index-migration\" rel=\"nofollow noreferrer\">documentation and migration guide</a> before starting.</p>\n"}],"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75747125,"answer_count":2,"score":0,"last_activity_date":1678911706,"creation_date":1678894280,"question_id":75746859,"body_markdown":"I have a `Maven` and `Spring`-based application that I am trying to deploy on `Mule 4` but getting following exception.\r\n\r\nDo I need to create this file explicitly ? \r\n\r\n\r\n    ERROR 2023-03-15 11:14:38,512 [Mule.app.deployer.monitor.1.thread.1] [processor: ; event: ] org.mule.runtime.module.deployment.internal.DefaultArchiveDeployer: Artifact descriptor does not exists: I:\\mule4\\apps\\my-order-service\\META-INF\\mule-artifact\\mule-artifact.json\r\n    org.mule.runtime.module.artifact.api.descriptor.ArtifactDescriptorCreateException: Artifact descriptor does not exists: I:\\mule4\\apps\\my-order-service\\META-INF\\mule-artifact\\mule-artifact.json","title":"Not able to deploy Spring-based application after migrating from `Mule 3.x` to `Mule 4.x`","body":"<p>I have a <code>Maven</code> and <code>Spring</code>-based application that I am trying to deploy on <code>Mule 4</code> but getting following exception.</p>\n<p>Do I need to create this file explicitly ?</p>\n<pre><code>ERROR 2023-03-15 11:14:38,512 [Mule.app.deployer.monitor.1.thread.1] [processor: ; event: ] org.mule.runtime.module.deployment.internal.DefaultArchiveDeployer: Artifact descriptor does not exists: I:\\mule4\\apps\\my-order-service\\META-INF\\mule-artifact\\mule-artifact.json\norg.mule.runtime.module.artifact.api.descriptor.ArtifactDescriptorCreateException: Artifact descriptor does not exists: I:\\mule4\\apps\\my-order-service\\META-INF\\mule-artifact\\mule-artifact.json\n</code></pre>\n"},{"tags":["java","multithreading","discord-jda"],"comments":[{"owner":{"account_id":16432809,"reputation":320,"user_id":11871203,"display_name":"Redi"},"score":0,"creation_date":1678907100,"post_id":75679972,"comment_id":133626019,"body_markdown":"You could just block the thread by using #complete() instead of #queue()","body":"You could just block the thread by using #complete() instead of #queue()"}],"answers":[{"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678911263,"creation_date":1678911263,"answer_id":75749643,"question_id":75679972,"body_markdown":"JDA is supposed to be used asynchronously using the callback strategy.&lt;br&gt;\r\nThis means that you&#39;re supposed to not block any threads and await stuff but rather handle the things once they&#39;re done.\r\n\r\nIn your case, I see that you do multiple rest actions.\r\nTo do something once all of them are complete, use `RestAction.allOf()` to get one RestAction that is done once all the jobs finished.\r\n\r\nAlso, rather than doing the logic you have there with first getting it from cache and then checking if it&#39;s loaded is unnecessary, `retrieveUserById` will actually check the cache first and only load the user if they&#39;re not cached yet.","title":"Put all users into List after jda.retrieveUserById finished","body":"<p>JDA is supposed to be used asynchronously using the callback strategy.<br>\nThis means that you're supposed to not block any threads and await stuff but rather handle the things once they're done.</p>\n<p>In your case, I see that you do multiple rest actions.\nTo do something once all of them are complete, use <code>RestAction.allOf()</code> to get one RestAction that is done once all the jobs finished.</p>\n<p>Also, rather than doing the logic you have there with first getting it from cache and then checking if it's loaded is unnecessary, <code>retrieveUserById</code> will actually check the cache first and only load the user if they're not cached yet.</p>\n"}],"owner":{"account_id":22562352,"reputation":35,"user_id":16749841,"display_name":"Alex Cai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75749643,"answer_count":1,"score":0,"last_activity_date":1678911263,"creation_date":1678329595,"question_id":75679972,"body_markdown":"I&#39;m designing a Discord bot via Java Discord API. I got a server point system which records point when a user speak in channel.\r\nThe server points are store in a `HashMap&lt;String, Long&gt; points`, which use the ID of user as key, and points as value. I want a command `/ranking` to show the ranking of points, here is my code:\r\n```java\r\nList&lt;userAndBlocks&gt; sorted = new ArrayList&lt;&gt;(points.size());\r\nJDA jda = event.getJDA();\r\npoints.forEach((userID, blocks) -&gt;\r\n{\r\n\tUser user = jda.getUserById(userID);\r\n\tif (user == null)\r\n\t\tjda.retrieveUserById(userID).queue(\r\n\t\t\t\tuser1 -&gt; sorted.add(new UserAndBlocks(user1, blocks)),\r\n\t\t\t\tthrowable -&gt; sorted.add(new UserAndBlocks(jda.getSelfUser(), 0L)));\r\n\telse\r\n\t\tsorted.add(new UserAndBlocks(user, blocks));\r\n});\r\ntry\r\n{\r\n\tThread.sleep(1000L); //wait for retrieveUserById\r\n}\r\ncatch (InterruptedException e)\r\n{\r\n\te.printStackTrace();\r\n\tSystem.out.print(&#39;\\u0007&#39;);\r\n\tFileHandle.log(e);\r\n\tSystem.exit(1);\r\n}\r\nsorted.sort((user1, user2) -&gt;\r\n{\r\n\treturn Long.compare(user2.blocks, user1.blocks);\r\n});\r\n```\r\nFor `UserAndBlocks`, it is a record:\r\n```java\r\npublic record UserAndBlocks(User user, long blocks) {}\r\n```\r\nI know that `getUserById` only get cached user, so I ask ChatGPT, and it told me to use `retrieveUserById`. As you can see, I traversed the whole map, use `retrieveUserById` to get users from their ID, and make the main thread sleep via `Thread.sleep(1000L)`, to buy some time for `retrieveUserById` method. But the list still didn&#39;t include every users that I&#39;m sure in the map. How can I do that?","title":"Put all users into List after jda.retrieveUserById finished","body":"<p>I'm designing a Discord bot via Java Discord API. I got a server point system which records point when a user speak in channel.\nThe server points are store in a <code>HashMap&lt;String, Long&gt; points</code>, which use the ID of user as key, and points as value. I want a command <code>/ranking</code> to show the ranking of points, here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;userAndBlocks&gt; sorted = new ArrayList&lt;&gt;(points.size());\nJDA jda = event.getJDA();\npoints.forEach((userID, blocks) -&gt;\n{\n    User user = jda.getUserById(userID);\n    if (user == null)\n        jda.retrieveUserById(userID).queue(\n                user1 -&gt; sorted.add(new UserAndBlocks(user1, blocks)),\n                throwable -&gt; sorted.add(new UserAndBlocks(jda.getSelfUser(), 0L)));\n    else\n        sorted.add(new UserAndBlocks(user, blocks));\n});\ntry\n{\n    Thread.sleep(1000L); //wait for retrieveUserById\n}\ncatch (InterruptedException e)\n{\n    e.printStackTrace();\n    System.out.print('\\u0007');\n    FileHandle.log(e);\n    System.exit(1);\n}\nsorted.sort((user1, user2) -&gt;\n{\n    return Long.compare(user2.blocks, user1.blocks);\n});\n</code></pre>\n<p>For <code>UserAndBlocks</code>, it is a record:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record UserAndBlocks(User user, long blocks) {}\n</code></pre>\n<p>I know that <code>getUserById</code> only get cached user, so I ask ChatGPT, and it told me to use <code>retrieveUserById</code>. As you can see, I traversed the whole map, use <code>retrieveUserById</code> to get users from their ID, and make the main thread sleep via <code>Thread.sleep(1000L)</code>, to buy some time for <code>retrieveUserById</code> method. But the list still didn't include every users that I'm sure in the map. How can I do that?</p>\n"},{"tags":["java","musicg"],"owner":{"account_id":15792035,"reputation":49,"user_id":11395017,"display_name":"Abdulahad Ghuman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678910889,"creation_date":1678910889,"question_id":75749595,"body_markdown":"I am using musicg to compare audio files and saving the fingerprint prior as a text file makes it far quicker. So for example.\r\n\r\n    byte [] secondPrint = Audio.newManager.getFingerprintFromFile(&quot;File Path&quot;);\r\n\r\nHowever, can I convert the fingerprint back to a wave file using musicg? I haven&#39;t been able to find any method. Thank you.","title":"Musicg audio fingerprint to wave file","body":"<p>I am using musicg to compare audio files and saving the fingerprint prior as a text file makes it far quicker. So for example.</p>\n<pre><code>byte [] secondPrint = Audio.newManager.getFingerprintFromFile(&quot;File Path&quot;);\n</code></pre>\n<p>However, can I convert the fingerprint back to a wave file using musicg? I haven't been able to find any method. Thank you.</p>\n"},{"tags":["java","javafx","fxml","scenebuilder"],"owner":{"account_id":28026121,"reputation":1,"user_id":21406114,"display_name":"JuanCMaciel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678910842,"answer_count":0,"score":0,"last_activity_date":1678910889,"creation_date":1678906481,"question_id":75748974,"body_markdown":"So I just installed the E(fx)clipse using the link https://download.eclipse.org/efxclipse/updates-released/3.4.1/site/, but when I try to create an FXML file it launches an error:\r\n\r\n    java.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties\r\n    \tat org.eclipse.fx.ide.ui.wizards.AbstractJDTElementPage.createControl(AbstractJDTElementPage.java:109)\r\n    \tat org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:178)\r\n    \tat org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:744)\r\n    \tat org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:1182)\r\n    \tat org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1235)\r\n    \tat org.eclipse.jface.wizard.WizardDialog.lambda$3(WizardDialog.java:1223)\r\n    \tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\r\n    \tat org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1223)\r\n    \tat org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:918)\r\n    \tat org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:469)\r\n    \tat org.eclipse.jface.dialogs.Dialog.lambda$0(Dialog.java:619)\r\n    \tat org.eclipse.swt.events.SelectionListener$1.widgetSelected(SelectionListener.java:84)\r\n    \tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n    \tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n    \tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\r\n    \tat org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\r\n    \tat org.eclipse.jface.window.Window.open(Window.java:799)\r\n    \tat org.eclipse.ui.internal.handlers.WizardHandler$New.executeHandler(WizardHandler.java:263)\r\n    \tat org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:283)\r\n    \tat org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:283)\r\n    \tat org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:97)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\r\n    \tat org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:317)\r\n    \tat org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:251)\r\n    \tat org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\r\n    \tat org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:156)\r\n    \tat org.eclipse.core.commands.Command.executeWithChecks(Command.java:488)\r\n    \tat org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:485)\r\n    \tat org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)\r\n    \tat org.eclipse.ui.internal.handlers.LegacyHandlerService.executeCommand(LegacyHandlerService.java:389)\r\n    \tat org.eclipse.ui.internal.actions.CommandAction.runWithEvent(CommandAction.java:142)\r\n    \tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\r\n    \tat org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n    \tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n    \tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n    \tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n    \tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n    \tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\r\n    \tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\r\n    \tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n    \tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n    \tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n    \tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n    Caused by: java.lang.ClassNotFoundException: org.eclipse.jface.databinding.swt.WidgetProperties cannot be found by org.eclipse.fx.ide.ui_3.4.1.201810030906\r\n    \tat org.eclipse.osgi.internal.loader.BundleLoader.generateException(BundleLoader.java:541)\r\n    \tat org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:536)\r\n    \tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\r\n    \tat org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 66 more\r\n\r\nDoes anybody know how to solve this?\r\n\r\nI already tried uninstalling eclipse and trying everything again, I tried the check for updates, but it says everything is up to date.\r\nI don&#39;t know what to do if anybody can help me I will appreciate that.\r\n\r\n","title":"When creating new FXML file it launches an error","body":"<p>So I just installed the E(fx)clipse using the link <a href=\"https://download.eclipse.org/efxclipse/updates-released/3.4.1/site/\" rel=\"nofollow noreferrer\">https://download.eclipse.org/efxclipse/updates-released/3.4.1/site/</a>, but when I try to create an FXML file it launches an error:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties\n    at org.eclipse.fx.ide.ui.wizards.AbstractJDTElementPage.createControl(AbstractJDTElementPage.java:109)\n    at org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:178)\n    at org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:744)\n    at org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:1182)\n    at org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1235)\n    at org.eclipse.jface.wizard.WizardDialog.lambda$3(WizardDialog.java:1223)\n    at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\n    at org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1223)\n    at org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:918)\n    at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:469)\n    at org.eclipse.jface.dialogs.Dialog.lambda$0(Dialog.java:619)\n    at org.eclipse.swt.events.SelectionListener$1.widgetSelected(SelectionListener.java:84)\n    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\n    at org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\n    at org.eclipse.jface.window.Window.open(Window.java:799)\n    at org.eclipse.ui.internal.handlers.WizardHandler$New.executeHandler(WizardHandler.java:263)\n    at org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:283)\n    at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:283)\n    at org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:97)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:317)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:251)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\n    at org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:156)\n    at org.eclipse.core.commands.Command.executeWithChecks(Command.java:488)\n    at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:485)\n    at org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)\n    at org.eclipse.ui.internal.handlers.LegacyHandlerService.executeCommand(LegacyHandlerService.java:389)\n    at org.eclipse.ui.internal.actions.CommandAction.runWithEvent(CommandAction.java:142)\n    at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\n    at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jface.databinding.swt.WidgetProperties cannot be found by org.eclipse.fx.ide.ui_3.4.1.201810030906\n    at org.eclipse.osgi.internal.loader.BundleLoader.generateException(BundleLoader.java:541)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:536)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 66 more\n</code></pre>\n<p>Does anybody know how to solve this?</p>\n<p>I already tried uninstalling eclipse and trying everything again, I tried the check for updates, but it says everything is up to date.\nI don't know what to do if anybody can help me I will appreciate that.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1678909861,"post_id":75749306,"comment_id":133626714,"body_markdown":"why not just `nextval(&#39;user_id_seq&#39;)`? Like why do you need `::regclass`?","body":"why not just <code>nextval(&#39;user_id_seq&#39;)</code>? Like why do you need <code>::regclass</code>?"},{"owner":{"account_id":8566087,"reputation":71,"user_id":19561773,"display_name":"Paul Timis"},"score":0,"creation_date":1678910203,"post_id":75749306,"comment_id":133626792,"body_markdown":"i have removed that, still the same error","body":"i have removed that, still the same error"}],"answers":[{"comments":[{"owner":{"account_id":8566087,"reputation":71,"user_id":19561773,"display_name":"Paul Timis"},"score":0,"creation_date":1678910862,"post_id":75749540,"comment_id":133626941,"body_markdown":"same error, i&#39;ve been jumping around those annotations for hours now.\nDo you think i could give you access through teamviewer?","body":"same error, i&#39;ve been jumping around those annotations for hours now. Do you think i could give you access through teamviewer?"},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1678975590,"post_id":75749540,"comment_id":133639969,"body_markdown":"Can you manually insert a row via sql right on the database using `nextval(&#39;user_id_seq&#39;)`? You&#39;ve got to break this down into the lowest logical level to find where the issue is...go as barebones as possible to find the issue...","body":"Can you manually insert a row via sql right on the database using <code>nextval(&#39;user_id_seq&#39;)</code>? You&#39;ve got to break this down into the lowest logical level to find where the issue is...go as barebones as possible to find the issue..."},{"owner":{"account_id":8566087,"reputation":71,"user_id":19561773,"display_name":"Paul Timis"},"score":0,"creation_date":1679061736,"post_id":75749540,"comment_id":133658186,"body_markdown":"someone fixed the issue for me, thank you for the help though, it had to do with some versions and some extra code","body":"someone fixed the issue for me, thank you for the help though, it had to do with some versions and some extra code"},{"owner":{"account_id":323051,"reputation":116,"user_id":642827,"display_name":"Salimane Adjao Moustapha"},"score":0,"creation_date":1701170741,"post_id":75749540,"comment_id":136739553,"body_markdown":"@PaulTimis could you post your solution? Thanks","body":"@PaulTimis could you post your solution? Thanks"}],"tags":[],"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678910453,"creation_date":1678910453,"answer_id":75749540,"question_id":75749306,"body_markdown":"Try adding this on your `User` entity:\r\n\r\n    @SequenceGenerator(name = &quot;userIdSeq&quot;, sequenceName = &quot;user_id_seq&quot;, allocationSize = 1)\r\n\r\nand this on your `id`:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;userIdSeq&quot;)\r\n    @Column(name = &quot;id&quot;, nullable = false, columnDefinition = &quot;serial&quot;)\r\n    private Integer id;\r\n","title":"null value in column &quot;id&quot; of relation &quot;user&quot; violates not-null constraint","body":"<p>Try adding this on your <code>User</code> entity:</p>\n<pre><code>@SequenceGenerator(name = &quot;userIdSeq&quot;, sequenceName = &quot;user_id_seq&quot;, allocationSize = 1)\n</code></pre>\n<p>and this on your <code>id</code>:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;userIdSeq&quot;)\n@Column(name = &quot;id&quot;, nullable = false, columnDefinition = &quot;serial&quot;)\nprivate Integer id;\n</code></pre>\n"}],"owner":{"account_id":8566087,"reputation":71,"user_id":19561773,"display_name":"Paul Timis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75749540,"answer_count":1,"score":1,"last_activity_date":1678910453,"creation_date":1678908918,"question_id":75749306,"body_markdown":"  I am trying for like 4 hours now without managing to fix an issue\r\n  I have a front end registration form , this is the code:\r\n\r\n``` &lt;form action=&quot;http://localhost:8081/register&quot; method=&quot;POST&quot;&gt;\r\n                          &lt;div class=&quot;row&quot;&gt;\r\n                            &lt;div class=&quot;col-md-6 mb-4&quot;&gt;\r\n                              &lt;div class=&quot;form-outline&quot;&gt;\r\n                                &lt;input type=&quot;text&quot; id=&quot;form3Example1&quot; name=&quot;firstName&quot; class=&quot;form-control&quot; /&gt;\r\n                                &lt;label class=&quot;form-label&quot; for=&quot;form3Example1&quot;&gt;First name&lt;/label&gt;\r\n                              &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;div class=&quot;col-md-6 mb-4&quot;&gt;\r\n                              &lt;div class=&quot;form-outline&quot;&gt;\r\n                                &lt;input type=&quot;text&quot; id=&quot;form3Example2&quot; name=&quot;lastName&quot; class=&quot;form-control&quot; /&gt;\r\n                                &lt;label class=&quot;form-label&quot; for=&quot;form3Example2&quot;&gt;Last name&lt;/label&gt;\r\n                              &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                          &lt;/div&gt;\r\n          \r\n                          &lt;div class=&quot;form-outline mb-4&quot;&gt;\r\n                            &lt;input type=&quot;email&quot; id=&quot;form3Example3&quot; name=&quot;email&quot; class=&quot;form-control&quot; /&gt;\r\n                            &lt;label class=&quot;form-label&quot; for=&quot;form3Example3&quot;&gt;Email address&lt;/label&gt;\r\n                          &lt;/div&gt;\r\n          \r\n                          &lt;div class=&quot;form-outline mb-4&quot;&gt;\r\n                            &lt;input type=&quot;password&quot; id=&quot;form3Example4&quot; name=&quot;password&quot; class=&quot;form-control&quot; /&gt;\r\n                            &lt;label class=&quot;form-label&quot; for=&quot;form3Example4&quot;&gt;Password&lt;/label&gt;\r\n                          &lt;/div&gt;\r\n          \r\n                          \r\n          \r\n                          &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-block mb-4 show&quot;&gt;\r\n                            Sign up\r\n                          &lt;/button&gt;\r\n          \r\n                        &lt;/form&gt; ```\r\n```\r\n then i have in intellij the following:\r\n    - RegistrationController class\r\n\r\n``` package ro.fortech.guardianangel.registration;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.Collections;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/register&quot;)\r\n    public class RegistrationController {\r\n    \r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        @GetMapping\r\n        public String registerForm(Model model) {\r\n            model.addAttribute(&quot;user&quot;, new User());\r\n            return &quot;&quot;;\r\n        }\r\n    \r\n        @PostMapping\r\n        public String registerSubmit(User user) {\r\n            userRepository.save(user);\r\n            return &quot;/index.html&quot;;\r\n        }\r\n    } ```\r\n```\r\n\r\nthen \r\n - User class\r\n\r\n``` package ro.fortech.guardianangel.registration;\r\n    \r\n    import lombok.Data;\r\n    import javax.persistence.*;\r\n    \r\n    import static javax.persistence.GenerationType.SEQUENCE;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    @Data\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, nullable = false, columnDefinition = &quot;serial&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n        private String email;\r\n        private String password;\r\n    } ```\r\n```\r\nthen\r\n - UserRepository java interface\r\n\r\n``` package ro.fortech.guardianangel.registration;\r\n    \r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface UserRepository extends CrudRepository&lt;User, Integer&gt; {\r\n    \r\n    }  ```\r\n    \r\n```\r\n when i add the information in the registration form and hit sign up, i get the following error in intellij\r\n\r\n``` 2023-03-15 21:18:20.299 ERROR 14192 --- [nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.relational.core.conversion.DbActionExecutionException: Failed to execute InsertRoot{entity=User(id=null, firstName=Paul Ciprian, lastName=Avram, email=timis_paul93@yahoo.ro, password=sdgsdg), idValueSource=NONE}] with root cause\r\n    \r\n    org.postgresql.util.PSQLException: ERROR: null value in column &quot;id&quot; of relation &quot;user&quot; violates not-null constraint\r\n      Detail: Failing row contains (null, Paul Ciprian, Avram, timis_paul93@yahoo.ro, sdgsdg).\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]  ```\r\n```\r\nthis is the application.properties (i have removed username and password for obvious reasons)\r\n\r\n``` spring.datasource.url=jdbc:postgresql://localhost/guardianangel\r\nspring.datasource.username=\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\nserver.port=8081 ```\r\n\r\n```\r\nand this is the pom.xml\r\n\r\n``` &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.9&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;ro.fortech&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;guardianangel&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;GuardianAngel&lt;/name&gt;\r\n\t&lt;description&gt;Timis Paul - Java Pre-employment Project&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.4.32.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.20&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.7.9&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n\r\n&lt;/project&gt;\r\n ```\r\n\r\nand this is my postgres\r\n\r\n[![postgrespic][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u36c5.png","title":"null value in column &quot;id&quot; of relation &quot;user&quot; violates not-null constraint","body":"<p>I am trying for like 4 hours now without managing to fix an issue\nI have a front end registration form , this is the code:</p>\n<pre><code>                          &lt;div class=&quot;row&quot;&gt;\n                            &lt;div class=&quot;col-md-6 mb-4&quot;&gt;\n                              &lt;div class=&quot;form-outline&quot;&gt;\n                                &lt;input type=&quot;text&quot; id=&quot;form3Example1&quot; name=&quot;firstName&quot; class=&quot;form-control&quot; /&gt;\n                                &lt;label class=&quot;form-label&quot; for=&quot;form3Example1&quot;&gt;First name&lt;/label&gt;\n                              &lt;/div&gt;\n                            &lt;/div&gt;\n                            &lt;div class=&quot;col-md-6 mb-4&quot;&gt;\n                              &lt;div class=&quot;form-outline&quot;&gt;\n                                &lt;input type=&quot;text&quot; id=&quot;form3Example2&quot; name=&quot;lastName&quot; class=&quot;form-control&quot; /&gt;\n                                &lt;label class=&quot;form-label&quot; for=&quot;form3Example2&quot;&gt;Last name&lt;/label&gt;\n                              &lt;/div&gt;\n                            &lt;/div&gt;\n                          &lt;/div&gt;\n          \n                          &lt;div class=&quot;form-outline mb-4&quot;&gt;\n                            &lt;input type=&quot;email&quot; id=&quot;form3Example3&quot; name=&quot;email&quot; class=&quot;form-control&quot; /&gt;\n                            &lt;label class=&quot;form-label&quot; for=&quot;form3Example3&quot;&gt;Email address&lt;/label&gt;\n                          &lt;/div&gt;\n          \n                          &lt;div class=&quot;form-outline mb-4&quot;&gt;\n                            &lt;input type=&quot;password&quot; id=&quot;form3Example4&quot; name=&quot;password&quot; class=&quot;form-control&quot; /&gt;\n                            &lt;label class=&quot;form-label&quot; for=&quot;form3Example4&quot;&gt;Password&lt;/label&gt;\n                          &lt;/div&gt;\n          \n                          \n          \n                          &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-block mb-4 show&quot;&gt;\n                            Sign up\n                          &lt;/button&gt;\n          \n                        &lt;/form&gt; ```\n</code></pre>\n<p>then i have in intellij the following:\n- RegistrationController class</p>\n<pre><code>    \n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.stereotype.Controller;\n    import org.springframework.ui.Model;\n    import org.springframework.web.bind.annotation.GetMapping;\n    import org.springframework.web.bind.annotation.PostMapping;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RestController;\n    \n    import java.util.Collections;\n    \n    @RestController\n    @RequestMapping(&quot;/register&quot;)\n    public class RegistrationController {\n    \n        @Autowired\n        private UserRepository userRepository;\n    \n        @GetMapping\n        public String registerForm(Model model) {\n            model.addAttribute(&quot;user&quot;, new User());\n            return &quot;&quot;;\n        }\n    \n        @PostMapping\n        public String registerSubmit(User user) {\n            userRepository.save(user);\n            return &quot;/index.html&quot;;\n        }\n    } ```\n</code></pre>\n<p>then</p>\n<ul>\n<li>User class</li>\n</ul>\n<pre><code>    \n    import lombok.Data;\n    import javax.persistence.*;\n    \n    import static javax.persistence.GenerationType.SEQUENCE;\n    \n    @Entity\n    @Table(name = &quot;user&quot;)\n    @Data\n    public class User {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;id&quot;, nullable = false, columnDefinition = &quot;serial&quot;)\n        private Integer id;\n    \n        @Column(name = &quot;first_name&quot;)\n        private String firstName;\n    \n        @Column(name = &quot;last_name&quot;)\n        private String lastName;\n    \n        private String email;\n        private String password;\n    } ```\n</code></pre>\n<p>then</p>\n<ul>\n<li>UserRepository java interface</li>\n</ul>\n<pre><code>    \n    import org.springframework.data.repository.CrudRepository;\n    import org.springframework.stereotype.Repository;\n    \n    @Repository\n    public interface UserRepository extends CrudRepository&lt;User, Integer&gt; {\n    \n    }  ```\n    \n</code></pre>\n<p>when i add the information in the registration form and hit sign up, i get the following error in intellij</p>\n<pre><code>    \n    org.postgresql.util.PSQLException: ERROR: null value in column &quot;id&quot; of relation &quot;user&quot; violates not-null constraint\n      Detail: Failing row contains (null, Paul Ciprian, Avram, timis_paul93@yahoo.ro, sdgsdg).\n        at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]  ```\n</code></pre>\n<p>this is the application.properties (i have removed username and password for obvious reasons)</p>\n<pre><code>spring.datasource.username=\nspring.datasource.password=\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\nserver.port=8081 ```\n\n</code></pre>\n<p>and this is the pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.9&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;ro.fortech&lt;/groupId&gt;\n    &lt;artifactId&gt;guardianangel&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;GuardianAngel&lt;/name&gt;\n    &lt;description&gt;Timis Paul - Java Pre-employment Project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.32.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.20&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.1.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7.9&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n\n&lt;/project&gt;\n</code></pre>\n<p>and this is my postgres</p>\n<p><a href=\"https://i.stack.imgur.com/u36c5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u36c5.png\" alt=\"postgrespic\" /></a></p>\n"},{"tags":["java","hashmap","chaining","hash-collision"],"answers":[{"comments":[{"owner":{"account_id":75351,"reputation":23659,"user_id":216190,"accept_rate":98,"display_name":"Kraken"},"score":0,"creation_date":1344227398,"post_id":11822564,"comment_id":15716361,"body_markdown":"what do i need to do for collision to happen?","body":"what do i need to do for collision to happen?"},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1344227475,"post_id":11822564,"comment_id":15716374,"body_markdown":"Make your key as some (instead of String) object with overriden hashcode.","body":"Make your key as some (instead of String) object with overriden hashcode."},{"owner":{"account_id":62237,"reputation":14043,"user_id":185041,"accept_rate":87,"display_name":"Bharat Sinha"},"score":0,"creation_date":1344227504,"post_id":11822564,"comment_id":15716382,"body_markdown":"For collision use two different keys with same `hashcode`. The easiest way is define key as one of your classes and override `hashcode`.","body":"For collision use two different keys with same <code>hashcode</code>. The easiest way is define key as one of your classes and override <code>hashcode</code>."},{"owner":{"account_id":75351,"reputation":23659,"user_id":216190,"accept_rate":98,"display_name":"Kraken"},"score":0,"creation_date":1344227598,"post_id":11822564,"comment_id":15716396,"body_markdown":"@pb2q say i somehow manage to collide two values; now the `get` function of the HashMap just return 1 element right, how do i get the entire chain back. Thanks.","body":"@pb2q say i somehow manage to collide two values; now the <code>get</code> function of the HashMap just return 1 element right, how do i get the entire chain back. Thanks."},{"owner":{"account_id":322007,"reputation":7050,"user_id":641170,"accept_rate":88,"display_name":"Rudy"},"score":0,"creation_date":1344227633,"post_id":11822564,"comment_id":15716401,"body_markdown":"Or you can use some library that supports Multimap. See my answer.","body":"Or you can use some library that supports Multimap. See my answer."},{"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"score":2,"creation_date":1344227942,"post_id":11822564,"comment_id":15716445,"body_markdown":"Kraken: if you manage to collide hash values, the `HashMap` still works, that&#39;s how a hashtable is designed: collision **doesn&#39;t** mean that you&#39;ll lose values, it just increases the lookup time for a value. So the `get` method will still work as you expect. You **can&#39;t** get the &quot;whole chain&quot;, that&#39;s part of the internals of the implementation","body":"Kraken: if you manage to collide hash values, the <code>HashMap</code> still works, that&#39;s how a hashtable is designed: collision <b>doesn&#39;t</b> mean that you&#39;ll lose values, it just increases the lookup time for a value. So the <code>get</code> method will still work as you expect. You <b>can&#39;t</b> get the &quot;whole chain&quot;, that&#39;s part of the internals of the implementation"}],"tags":[],"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1344227666,"creation_date":1344227307,"answer_id":11822564,"question_id":11822552,"body_markdown":"This has nothing to do with _collision_ or _chaining_: you&#39;re replacing the old value of `a` with a new value.\r\n\r\nA map keeps unique keys. collision/chaining will occur in a hash data structure when two _distinct_ keys happen to get the same hash value based on the particular hash function. Or in java, you can explicitly create an object that returns the same value for [`hashCode()`](http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode%28%29).\r\n\r\nIf you want mapping with multiple values for a key, then you&#39;ll need to use a different data structure/class.","title":"Chaining in HashMap","body":"<p>This has nothing to do with <em>collision</em> or <em>chaining</em>: you're replacing the old value of <code>a</code> with a new value.</p>\n\n<p>A map keeps unique keys. collision/chaining will occur in a hash data structure when two <em>distinct</em> keys happen to get the same hash value based on the particular hash function. Or in java, you can explicitly create an object that returns the same value for <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode%28%29\" rel=\"nofollow\"><code>hashCode()</code></a>.</p>\n\n<p>If you want mapping with multiple values for a key, then you'll need to use a different data structure/class.</p>\n"},{"tags":[],"owner":{"account_id":379130,"reputation":61727,"user_id":732284,"accept_rate":95,"display_name":"rid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344227316,"creation_date":1344227316,"answer_id":11822566,"question_id":11822552,"body_markdown":"The second [`put()`](http://docs.oracle.com/javase/7/docs/api/java/util/Map.html) simply overwrites what the first `put()` wrote. There is no chaining.","title":"Chaining in HashMap","body":"<p>The second <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Map.html\" rel=\"nofollow\"><code>put()</code></a> simply overwrites what the first <code>put()</code> wrote. There is no chaining.</p>\n"},{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344227318,"creation_date":1344227318,"answer_id":11822567,"question_id":11822552,"body_markdown":"Second `put` replaces first `put`, so you will have only one value with key &quot;a&quot; in [Hashmap][1].\r\n\r\nSo your map just contains\r\n\r\n    map.put(&quot;a&quot;, &quot;v&quot;);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html","title":"Chaining in HashMap","body":"<p>Second <code>put</code> replaces first <code>put</code>, so you will have only one value with key \"a\" in <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"nofollow\">Hashmap</a>.</p>\n\n<p>So your map just contains</p>\n\n<pre><code>map.put(\"a\", \"v\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62237,"reputation":14043,"user_id":185041,"accept_rate":87,"display_name":"Bharat Sinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1344228777,"creation_date":1344227337,"answer_id":11822570,"question_id":11822552,"body_markdown":"See the java doc for `put`\r\n\r\nAssociates the specified value with the specified key in this map (optional operation). **If the map previously contained a mapping for the key, the old value is replaced by the specified value.** (A map m is said to contain a mapping for a key k if and only if m.containsKey(k) would return true.)\r\n\r\nThe collision happens when two **different** keys comes up with the same `hashcode` and not when two **same** keys.\r\n\r\n    class StringKey {\r\n\tString text;\r\n\r\n\tpublic StringKey() {\r\n\t\ttext = &quot;&quot;;\r\n\t}\r\n\r\n\tpublic StringKey(String text) {\r\n\t\tthis.text = text;\r\n\t}\r\n\r\n\tpublic String getText() {\r\n\t\treturn text;\r\n\t}\r\n\r\n\tpublic void setText(String text) {\r\n\t\tthis.text = text;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\tif (text != null) {\r\n\t\t\ttext.substring(0, 1).hashCode();\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object o) {\r\n\t\tif (o instanceof StringKey) {\r\n\t\t\treturn ((StringKey) o).getText().equals(this.getText());\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tMap&lt;StringKey, String&gt; map = new HashMap&lt;StringKey, String&gt;();\r\n\t\tStringKey key1 = new StringKey(&quot;a&quot;);\r\n\t\tStringKey key2 = new StringKey(&quot;b&quot;);\r\n\t\t\r\n\t\tmap.put(key1, &quot;s&quot;);\r\n\t\tmap.put(key2, &quot;v&quot;);\r\n\t\t\r\n\t\tSystem.out.println(map.get(key1));\r\n        System.out.println(key1.hashCode() + &quot; &quot; + key2.hashCode() + &quot; &quot; + key1.equals(key2));\r\n\t}\r\n    }\r\n\r\nThe output is \r\n\r\n    s\r\n    0 0 false\r\nnow this will cause a `collision`; but you can not interpret this from the output of map keys and values.","title":"Chaining in HashMap","body":"<p>See the java doc for <code>put</code></p>\n\n<p>Associates the specified value with the specified key in this map (optional operation). <strong>If the map previously contained a mapping for the key, the old value is replaced by the specified value.</strong> (A map m is said to contain a mapping for a key k if and only if m.containsKey(k) would return true.)</p>\n\n<p>The collision happens when two <strong>different</strong> keys comes up with the same <code>hashcode</code> and not when two <strong>same</strong> keys.</p>\n\n<pre><code>class StringKey {\nString text;\n\npublic StringKey() {\n    text = \"\";\n}\n\npublic StringKey(String text) {\n    this.text = text;\n}\n\npublic String getText() {\n    return text;\n}\n\npublic void setText(String text) {\n    this.text = text;\n}\n\n@Override\npublic int hashCode() {\n    if (text != null) {\n        text.substring(0, 1).hashCode();\n    }\n    return 0;\n}\n\n@Override\npublic boolean equals(Object o) {\n    if (o instanceof StringKey) {\n        return ((StringKey) o).getText().equals(this.getText());\n    }\n    return false;\n}\n\npublic static void main(String[] args) {\n    Map&lt;StringKey, String&gt; map = new HashMap&lt;StringKey, String&gt;();\n    StringKey key1 = new StringKey(\"a\");\n    StringKey key2 = new StringKey(\"b\");\n\n    map.put(key1, \"s\");\n    map.put(key2, \"v\");\n\n    System.out.println(map.get(key1));\n    System.out.println(key1.hashCode() + \" \" + key2.hashCode() + \" \" + key1.equals(key2));\n}\n}\n</code></pre>\n\n<p>The output is </p>\n\n<pre><code>s\n0 0 false\n</code></pre>\n\n<p>now this will cause a <code>collision</code>; but you can not interpret this from the output of map keys and values.</p>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344227414,"creation_date":1344227414,"answer_id":11822575,"question_id":11822552,"body_markdown":"&gt; Now,as per my understanding, since the key values in both the put case\r\n&gt; is the same i.e. a, collision is bound to happen, and hence chaining\r\n&gt; occurs. [Correct me if i am wrong].\r\n\r\nYou&#39;re wrong.  Thats not how a [Map][1] works.  Consider using a [MultiMap][2] from Google&#39;s Guava library.\r\n\r\nYou can always roll your own:\r\n\r\n    Map&lt;String, ArrayList&lt;String&gt;&gt;();\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Map.html\r\n  [2]: http://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/Multimap.html\r\n","title":"Chaining in HashMap","body":"<blockquote>\n  <p>Now,as per my understanding, since the key values in both the put case\n  is the same i.e. a, collision is bound to happen, and hence chaining\n  occurs. [Correct me if i am wrong].</p>\n</blockquote>\n\n<p>You're wrong.  Thats not how a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Map.html\" rel=\"nofollow\">Map</a> works.  Consider using a <a href=\"http://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/Multimap.html\" rel=\"nofollow\">MultiMap</a> from Google's Guava library.</p>\n\n<p>You can always roll your own:</p>\n\n<pre><code>Map&lt;String, ArrayList&lt;String&gt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322007,"reputation":7050,"user_id":641170,"accept_rate":88,"display_name":"Rudy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1344227599,"creation_date":1344227599,"answer_id":11822598,"question_id":11822552,"body_markdown":"Like other people already suggested, there is no such thing as Collision for your case.\r\n\r\nIt&#39;s simply because Hashmap only accepts an unique key.\r\n\r\nHowever you can have an alternative if you want the key to be not unique, for example [Google Guava Multimap][1] or [Apache Multimap][2]\r\n\r\nExample using Google lib:\r\n\r\n    public class MutliMapTest {\r\n    public static void main(String... args) {\r\n    Multimap&lt;String, String&gt; myMultimap = ArrayListMultimap.create();\r\n   \r\n    // Adding some key/value\r\n    myMultimap.put(&quot;Fruits&quot;, &quot;Bannana&quot;);\r\n    myMultimap.put(&quot;Fruits&quot;, &quot;Apple&quot;);\r\n    myMultimap.put(&quot;Fruits&quot;, &quot;Pear&quot;);\r\n    myMultimap.put(&quot;Vegetables&quot;, &quot;Carrot&quot;);\r\n   \r\n    // Getting the size\r\n    int size = myMultimap.size();\r\n    System.out.println(size);  // 4\r\n   \r\n    // Getting values\r\n    Collection&lt;string&gt; fruits = myMultimap.get(&quot;Fruits&quot;);\r\n    System.out.println(fruits); // [Bannana, Apple, Pear]\r\n   \r\n    Collection&lt;string&gt; vegetables = myMultimap.get(&quot;Vegetables&quot;);\r\n    System.out.println(vegetables); // [Carrot]\r\n   \r\n    // Iterating over entire Mutlimap\r\n    for(String value : myMultimap.values()) {\r\n     System.out.println(value);\r\n    }\r\n   \r\n    // Removing a single value\r\n    myMultimap.remove(&quot;Fruits&quot;,&quot;Pear&quot;);\r\n    System.out.println(myMultimap.get(&quot;Fruits&quot;)); // [Bannana, Pear]\r\n   \r\n    // Remove all values for a key\r\n    myMultimap.removeAll(&quot;Fruits&quot;);\r\n    System.out.println(myMultimap.get(&quot;Fruits&quot;)); // [] (Empty Collection!)\r\n    }\r\n    }\r\n\r\n\r\n  [1]: http://tomjefferys.blogspot.sg/2011/09/multimaps-google-guava.html\r\n  [2]: http://commons.apache.org/collections/api-3.1/org/apache/commons/collections/MultiMap.html","title":"Chaining in HashMap","body":"<p>Like other people already suggested, there is no such thing as Collision for your case.</p>\n\n<p>It's simply because Hashmap only accepts an unique key.</p>\n\n<p>However you can have an alternative if you want the key to be not unique, for example <a href=\"http://tomjefferys.blogspot.sg/2011/09/multimaps-google-guava.html\" rel=\"nofollow\">Google Guava Multimap</a> or <a href=\"http://commons.apache.org/collections/api-3.1/org/apache/commons/collections/MultiMap.html\" rel=\"nofollow\">Apache Multimap</a></p>\n\n<p>Example using Google lib:</p>\n\n<pre><code>public class MutliMapTest {\npublic static void main(String... args) {\nMultimap&lt;String, String&gt; myMultimap = ArrayListMultimap.create();\n\n// Adding some key/value\nmyMultimap.put(\"Fruits\", \"Bannana\");\nmyMultimap.put(\"Fruits\", \"Apple\");\nmyMultimap.put(\"Fruits\", \"Pear\");\nmyMultimap.put(\"Vegetables\", \"Carrot\");\n\n// Getting the size\nint size = myMultimap.size();\nSystem.out.println(size);  // 4\n\n// Getting values\nCollection&lt;string&gt; fruits = myMultimap.get(\"Fruits\");\nSystem.out.println(fruits); // [Bannana, Apple, Pear]\n\nCollection&lt;string&gt; vegetables = myMultimap.get(\"Vegetables\");\nSystem.out.println(vegetables); // [Carrot]\n\n// Iterating over entire Mutlimap\nfor(String value : myMultimap.values()) {\n System.out.println(value);\n}\n\n// Removing a single value\nmyMultimap.remove(\"Fruits\",\"Pear\");\nSystem.out.println(myMultimap.get(\"Fruits\")); // [Bannana, Pear]\n\n// Remove all values for a key\nmyMultimap.removeAll(\"Fruits\");\nSystem.out.println(myMultimap.get(\"Fruits\")); // [] (Empty Collection!)\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1201277,"reputation":1402,"user_id":1171893,"accept_rate":79,"display_name":"Melvin Roest"},"score":0,"creation_date":1534321236,"post_id":11822602,"comment_id":90662809,"body_markdown":"Is there a way in which you can transform this to: `map.get(&quot;a&quot;).add(&quot;s&quot;)` ? I know your code works. I&#39;m just curious if it is possible.","body":"Is there a way in which you can transform this to: <code>map.get(&quot;a&quot;).add(&quot;s&quot;)</code> ? I know your code works. I&#39;m just curious if it is possible."}],"tags":[],"owner":{"account_id":347553,"reputation":6607,"user_id":1145285,"accept_rate":97,"display_name":"Bhavik Ambani"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344227632,"creation_date":1344227632,"answer_id":11822602,"question_id":11822552,"body_markdown":"You will have to make your `HashMap` as follows\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n    \tHashMap&lt;String, ArrayList&lt;String&gt;&gt; map = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\r\n    \tif ( map.get(&quot;a&quot;) == null ){\r\n    \t\tmap.put(&quot;a&quot;, new ArrayList&lt;String&gt;());\r\n    \t}\r\n    \r\n    \tArrayList&lt;String&gt; innerList = map.get(&quot;a&quot;);\r\n    \tinnerList.add(&quot;s&quot;);\r\n    \tinnerList.add(&quot;v&quot;);\r\n    \r\n    \tmap.put(&quot;a&quot;,innerList);\r\n    \r\n    \tSystem.out.println(map.get(&quot;a&quot;));\r\n    }","title":"Chaining in HashMap","body":"<p>You will have to make your <code>HashMap</code> as follows</p>\n\n<pre><code>public static void main(String[] args) {\n    HashMap&lt;String, ArrayList&lt;String&gt;&gt; map = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\n    if ( map.get(\"a\") == null ){\n        map.put(\"a\", new ArrayList&lt;String&gt;());\n    }\n\n    ArrayList&lt;String&gt; innerList = map.get(\"a\");\n    innerList.add(\"s\");\n    innerList.add(\"v\");\n\n    map.put(\"a\",innerList);\n\n    System.out.println(map.get(\"a\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1702193,"reputation":72,"user_id":1561946,"display_name":"harivis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344228858,"creation_date":1344228858,"answer_id":11822711,"question_id":11822552,"body_markdown":"Hashing algorithm used in HashMaps are pretty vague in the first go. Internally a HashMap is nothing but an array with indices. The index here is usually referred to as &#39;hashValue&#39;. As the hashValue is the index of an element in the array, it has to be less than the size of the HashMap itself.The HashMap&#39;s hashing algorithm converts the key&#39;s hashcode into the hashValue. This is where the Map stores the Entry (key-value pair). \r\n\r\nWhen an element is put into a Map, it generates the hashValue from the element key&#39;s hashcode, and stores the Entry into the array at this index, which is nothing but the hashValue.\r\nNow, hashing algorithm can be efficient to a certain extent only, that is we can never assure that the hashValue generated for two different keys are always different. It could be same under two conditions:\r\n1) The keys are same (as in your case)\r\n2) The Keys are different, but the hashValue generated for both the keys are same.\r\n\r\nWe simply cannot replace the value of the Entry at the hashValue position in the array, as this will violate the second condition, which is very valid. This is where the equals() comes into picture. Now, the HashMap checks for the equality between the new key and the key that exists in that index&#39;s Entry. If both the keys are same it means replacement, else it&#39;s collision and the HashMap uses the appropriate collision technique.\r\n\r\nNow, if you want the list of all the values that you put for a particular key, consider using a composite map\r\n`HashMap&lt;String, List&lt;String&gt;&gt;`.","title":"Chaining in HashMap","body":"<p>Hashing algorithm used in HashMaps are pretty vague in the first go. Internally a HashMap is nothing but an array with indices. The index here is usually referred to as 'hashValue'. As the hashValue is the index of an element in the array, it has to be less than the size of the HashMap itself.The HashMap's hashing algorithm converts the key's hashcode into the hashValue. This is where the Map stores the Entry (key-value pair). </p>\n\n<p>When an element is put into a Map, it generates the hashValue from the element key's hashcode, and stores the Entry into the array at this index, which is nothing but the hashValue.\nNow, hashing algorithm can be efficient to a certain extent only, that is we can never assure that the hashValue generated for two different keys are always different. It could be same under two conditions:\n1) The keys are same (as in your case)\n2) The Keys are different, but the hashValue generated for both the keys are same.</p>\n\n<p>We simply cannot replace the value of the Entry at the hashValue position in the array, as this will violate the second condition, which is very valid. This is where the equals() comes into picture. Now, the HashMap checks for the equality between the new key and the key that exists in that index's Entry. If both the keys are same it means replacement, else it's collision and the HashMap uses the appropriate collision technique.</p>\n\n<p>Now, if you want the list of all the values that you put for a particular key, consider using a composite map\n<code>HashMap&lt;String, List&lt;String&gt;&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":1702223,"reputation":1132,"user_id":1561970,"display_name":"Byter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344229962,"creation_date":1344229962,"answer_id":11822826,"question_id":11822552,"body_markdown":"Both the keys you tried to put in the `HashMap` has the same `HashCode`. Thus the first value gets overwritten an you will end up having only one value in the `HashMap`.\r\n\r\nYou can put Two similar objects in the same HashMap by overriding thier `hashCode()` Method.\r\n\r\n\r\n","title":"Chaining in HashMap","body":"<p>Both the keys you tried to put in the <code>HashMap</code> has the same <code>HashCode</code>. Thus the first value gets overwritten an you will end up having only one value in the <code>HashMap</code>.</p>\n\n<p>You can put Two similar objects in the same HashMap by overriding thier <code>hashCode()</code> Method.</p>\n"},{"tags":[],"owner":{"account_id":4627176,"reputation":621,"user_id":4813105,"display_name":"Uriah L."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507821375,"creation_date":1507821375,"answer_id":46713213,"question_id":11822552,"body_markdown":"Further notes on when Chaining actually takes place when a HashMap is used:\r\n\r\nThe Java implementation for HashMap will either **override** a key or **chain** an object to it depending on the following:\r\n\r\n 1. You put an object *foo* as key, with hash code X into the map\r\n 2. You put another object *bar* (as key..) that has the same hash code X\r\n    into the map\r\n 3. Since the hashes are the same, the algorithm would need to put the\r\n    object *bar* on the same index where *foo* is already stored. It would then consult the *equals* method of *foo*, to determine whether it should **chain** *bar* to *foo* (i.e *foo.next()* will become *bar*) or **override** foo with bar:\r\n\r\n    3.1.If equals returns true, *foo* &amp; *bar* are either the same object, or they are semantically the same, and overriding will take place rather than chaining.\r\n\r\n    3.2. If equals returns false, *foo* &amp; *bar* are treated as two distinct entities and chaining will take place. If you then print your HashMap, you&#39;ll be seeing both *foo* and *bar*. \r\n","title":"Chaining in HashMap","body":"<p>Further notes on when Chaining actually takes place when a HashMap is used:</p>\n\n<p>The Java implementation for HashMap will either <strong>override</strong> a key or <strong>chain</strong> an object to it depending on the following:</p>\n\n<ol>\n<li>You put an object <em>foo</em> as key, with hash code X into the map</li>\n<li>You put another object <em>bar</em> (as key..) that has the same hash code X\ninto the map</li>\n<li><p>Since the hashes are the same, the algorithm would need to put the\nobject <em>bar</em> on the same index where <em>foo</em> is already stored. It would then consult the <em>equals</em> method of <em>foo</em>, to determine whether it should <strong>chain</strong> <em>bar</em> to <em>foo</em> (i.e <em>foo.next()</em> will become <em>bar</em>) or <strong>override</strong> foo with bar:</p>\n\n<p>3.1.If equals returns true, <em>foo</em> &amp; <em>bar</em> are either the same object, or they are semantically the same, and overriding will take place rather than chaining.</p>\n\n<p>3.2. If equals returns false, <em>foo</em> &amp; <em>bar</em> are treated as two distinct entities and chaining will take place. If you then print your HashMap, you'll be seeing both <em>foo</em> and <em>bar</em>. </p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7454270,"reputation":67,"user_id":5667980,"display_name":"Joy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678910362,"creation_date":1678910362,"answer_id":75749522,"question_id":11822552,"body_markdown":"        class RB1{\r\n            String name;\r\n            int val;\r\n            RB1(String n, int v){\r\n                this.name = n;\r\n                this.val =v;\r\n            }\r\n        \r\n            @Override\r\n            public boolean equals(Object o) {\r\n                return false;\r\n                  /**\r\n                  if (this == o) return true;\r\n                  if (o == null || getClass() != o.getClass()) return false;\r\n                  RB1 rb1 = (RB1) o;\r\n                  return val == rb1.val &amp;&amp; Objects.equals(name, rb1.name);\r\n                  */\r\n            }\r\n        \r\n            @Override\r\n            public int hashCode() {\r\n                return 1;\r\n        //         return Objects.hash(name, val);\r\n            }\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n                HashMap&lt;RB1, Integer&gt; map = new HashMap&lt;&gt;();\r\n                map.put(new RB1(&quot;A&quot;, 1), 1);\r\n                map.put(new RB1(&quot;A&quot;, 2), 2);\r\n                map.put(new RB1(&quot;A&quot;, 1), null);\r\n                System.out.println(map.entrySet()); \r\n                // [org.example.Concepts.RB1@1=1, org.example.Concepts.RB1@1=2, \r\n                // org.example.Concepts.RB1@1=null]\r\n            }\r\n    \r\n    ``` \r\n    As hashcode of two objects is same, they are mapped to the same bucket, \r\n    but as equals is different, they will be chained. \r\n\r\n","title":"Chaining in HashMap","body":"<pre><code>    class RB1{\n        String name;\n        int val;\n        RB1(String n, int v){\n            this.name = n;\n            this.val =v;\n        }\n    \n        @Override\n        public boolean equals(Object o) {\n            return false;\n              /**\n              if (this == o) return true;\n              if (o == null || getClass() != o.getClass()) return false;\n              RB1 rb1 = (RB1) o;\n              return val == rb1.val &amp;&amp; Objects.equals(name, rb1.name);\n              */\n        }\n    \n        @Override\n        public int hashCode() {\n            return 1;\n    //         return Objects.hash(name, val);\n        }\n    }\n    \n    public static void main(String[] args) {\n            HashMap&lt;RB1, Integer&gt; map = new HashMap&lt;&gt;();\n            map.put(new RB1(&quot;A&quot;, 1), 1);\n            map.put(new RB1(&quot;A&quot;, 2), 2);\n            map.put(new RB1(&quot;A&quot;, 1), null);\n            System.out.println(map.entrySet()); \n            // [org.example.Concepts.RB1@1=1, org.example.Concepts.RB1@1=2, \n            // org.example.Concepts.RB1@1=null]\n        }\n\n``` \nAs hashcode of two objects is same, they are mapped to the same bucket, \nbut as equals is different, they will be chained. \n</code></pre>\n"}],"owner":{"account_id":75351,"reputation":23659,"user_id":216190,"accept_rate":98,"display_name":"Kraken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5821,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11822564,"answer_count":11,"score":1,"last_activity_date":1678910362,"creation_date":1344227184,"question_id":11822552,"body_markdown":"Code:\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String,String&gt; map= new HashMap&lt;String,String&gt;();\r\n        map.put(&quot;a&quot;, &quot;s&quot;);\r\n        map.put(&quot;a&quot;, &quot;v&quot;);\r\n \r\n        System.out.println(map.get(&quot;a&quot;));\r\n \r\n    }\r\n\r\nNow, as per my understanding, since the key values in both the `put` case is the same i.e. `a`, collision is bound to happen, and hence chaining occurs. [Correct me if I am wrong].\r\n\r\nNow if I want to retrieve the list of all the values mapped to key value `a`, how do i get it?\r\n\r\nRight now my `println` prints `v` only.\r\n\r\n","title":"Chaining in HashMap","body":"<p>Code:</p>\n\n<pre><code>public static void main(String[] args) {\n    Map&lt;String,String&gt; map= new HashMap&lt;String,String&gt;();\n    map.put(\"a\", \"s\");\n    map.put(\"a\", \"v\");\n\n    System.out.println(map.get(\"a\"));\n\n}\n</code></pre>\n\n<p>Now, as per my understanding, since the key values in both the <code>put</code> case is the same i.e. <code>a</code>, collision is bound to happen, and hence chaining occurs. [Correct me if I am wrong].</p>\n\n<p>Now if I want to retrieve the list of all the values mapped to key value <code>a</code>, how do i get it?</p>\n\n<p>Right now my <code>println</code> prints <code>v</code> only.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3250077,"reputation":1733,"user_id":2740650,"accept_rate":50,"display_name":"user2740650"},"score":0,"creation_date":1651616952,"post_id":72106052,"comment_id":127405225,"body_markdown":"Can you confirm and clarify the example input?  You have &quot;Hello there Hey&quot; but it seems the example input should be &quot;Hey Hello there&quot;.","body":"Can you confirm and clarify the example input?  You have &quot;Hello there Hey&quot; but it seems the example input should be &quot;Hey Hello there&quot;."},{"owner":{"account_id":3250077,"reputation":1733,"user_id":2740650,"accept_rate":50,"display_name":"user2740650"},"score":0,"creation_date":1651617183,"post_id":72106052,"comment_id":127405266,"body_markdown":"One comment: the instructions didn&#39;t ask you to store 100 strings like you&#39;re doing.  You can simply output the string and not store it at all.  It complicates the program needlessly, and will crash if you enter 101 strings.","body":"One comment: the instructions didn&#39;t ask you to store 100 strings like you&#39;re doing.  You can simply output the string and not store it at all.  It complicates the program needlessly, and will crash if you enter 101 strings."},{"owner":{"account_id":3250077,"reputation":1733,"user_id":2740650,"accept_rate":50,"display_name":"user2740650"},"score":2,"creation_date":1651617356,"post_id":72106052,"comment_id":127405303,"body_markdown":"Where you have `int k = length - i` that should be `int k = length - 1`.  That will fix your problem.","body":"Where you have <code>int k = length - i</code> that should be <code>int k = length - 1</code>.  That will fix your problem."}],"answers":[{"tags":[],"owner":{"account_id":11700232,"reputation":187,"user_id":8565639,"display_name":"Artur Todeschini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651617331,"creation_date":1651617331,"answer_id":72106129,"question_id":72106052,"body_markdown":"Try to use StringBuilder\r\nAnd use method reverse ","title":"Reversing strings in Java (loops) until &quot;done&quot;","body":"<p>Try to use StringBuilder\nAnd use method reverse</p>\n"},{"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1651621349,"post_id":72106163,"comment_id":127405893,"body_markdown":"note. given that this is for a lab*, its probably for learning purposes and using built-in classes that does all the work for you are usually not the intended solution.","body":"note. given that this is for a lab*, its probably for learning purposes and using built-in classes that does all the work for you are usually not the intended solution."},{"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"score":0,"creation_date":1651621986,"post_id":72106163,"comment_id":127405986,"body_markdown":"@experiment unit 1998X has made a very good point here; your professor may not accept this solution. String arrays and ArrayLists filled with StringBuilders are completely different animals.","body":"@experiment unit 1998X has made a very good point here; your professor may not accept this solution. String arrays and ArrayLists filled with StringBuilders are completely different animals."}],"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652075106,"creation_date":1651617696,"answer_id":72106163,"question_id":72106052,"body_markdown":"&gt;*Try to use StringBuilder And use method reverse -- @Artur Todeschini\r\n\r\nTo add to what Artur said, an ArrayList of StringBuilders could do the trick quite well:\r\n\r\n    for(StringBuilder nextEntry : stringBuilderList)\r\n    {\r\n        nextEntry.reverse();\r\n    }\r\nThe enhanced for-loop will go through each entry in the ArrayList, and the StringBuilder&#39;s reverse will change the order of the letters.\r\n\r\n**EDIT TO SHOW FORMATTING**\r\n\r\n    ArrayList&lt;StringBuilder&gt; stringBuilderList= new ArrayList&lt;&gt;();\r\n\r\n\r\n&gt;***note. given that this is for a lab**, its probably for learning purposes and using built-in classes that does all the work for you are usually not the intended solution. -- @experiment unit 1998X\r\n","title":"Reversing strings in Java (loops) until &quot;done&quot;","body":"<blockquote>\n<p>*Try to use StringBuilder And use method reverse -- @Artur Todeschini</p>\n</blockquote>\n<p>To add to what Artur said, an ArrayList of StringBuilders could do the trick quite well:</p>\n<pre><code>for(StringBuilder nextEntry : stringBuilderList)\n{\n    nextEntry.reverse();\n}\n</code></pre>\n<p>The enhanced for-loop will go through each entry in the ArrayList, and the StringBuilder's reverse will change the order of the letters.</p>\n<p><strong>EDIT TO SHOW FORMATTING</strong></p>\n<pre><code>ArrayList&lt;StringBuilder&gt; stringBuilderList= new ArrayList&lt;&gt;();\n</code></pre>\n<blockquote>\n<p>*<strong>note. given that this is for a lab</strong>, its probably for learning purposes and using built-in classes that does all the work for you are usually not the intended solution. -- @experiment unit 1998X</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"score":2,"creation_date":1651625176,"post_id":72106457,"comment_id":127406467,"body_markdown":"@Megan, this is definitely closer to what your professor intended based on the code that you already have.","body":"@Megan, this is definitely closer to what your professor intended based on the code that you already have."}],"tags":[],"owner":{"account_id":22789266,"reputation":301,"user_id":16943869,"display_name":"Saheed"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651621382,"creation_date":1651620414,"answer_id":72106457,"question_id":72106052,"body_markdown":"    \r\n\r\nIterate through the array, and reverse elements at every index.\r\nThis solution is time consuming but does your job\r\n\r\n     for (int j = 0; j &lt; inputs.lenght; j++) {\r\n         int length = inputs[j].length();\r\n        char a;\r\n        String rev = &quot;&quot;;\r\n        for(int i =0; i&lt; length; i++){\r\n            a = inputs[j].charAt(i);\r\n            rev = a + rev;   \r\n        }\r\n         System.out.println(rev);\r\n      }\r\n        ","title":"Reversing strings in Java (loops) until &quot;done&quot;","body":"<p>Iterate through the array, and reverse elements at every index.\nThis solution is time consuming but does your job</p>\n<pre><code> for (int j = 0; j &lt; inputs.lenght; j++) {\n     int length = inputs[j].length();\n    char a;\n    String rev = &quot;&quot;;\n    for(int i =0; i&lt; length; i++){\n        a = inputs[j].charAt(i);\n        rev = a + rev;   \n    }\n     System.out.println(rev);\n  }\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651633123,"creation_date":1651626616,"answer_id":72106962,"question_id":72106052,"body_markdown":"This is another &quot;ArrayList and StringBuilder-less&quot; version.\r\nCreate two Strings, one filled and one empty:\r\n\r\n    String nextString = stringArray[i], \r\n        template = new String();\r\nLoop through the length of the String, adding the next character in from the end each time through.\r\n\r\n    int length = nextString.length() - 1;\r\n    for(int j = 0; j &lt; length; j++)\r\n    {\r\n        template += nextString.charAt(length - j);\r\n    }\r\nAdd the whole String to the String array&#39;s index\r\n\r\n    stringArray[i] = template;\r\n\r\n**NOTE**\r\n\r\nThis is an inner loop for a String array and is NOT complete code","title":"Reversing strings in Java (loops) until &quot;done&quot;","body":"<p>This is another &quot;ArrayList and StringBuilder-less&quot; version.\nCreate two Strings, one filled and one empty:</p>\n<pre><code>String nextString = stringArray[i], \n    template = new String();\n</code></pre>\n<p>Loop through the length of the String, adding the next character in from the end each time through.</p>\n<pre><code>int length = nextString.length() - 1;\nfor(int j = 0; j &lt; length; j++)\n{\n    template += nextString.charAt(length - j);\n}\n</code></pre>\n<p>Add the whole String to the String array's index</p>\n<pre><code>stringArray[i] = template;\n</code></pre>\n<p><strong>NOTE</strong></p>\n<p>This is an inner loop for a String array and is NOT complete code</p>\n"},{"tags":[],"owner":{"account_id":7783238,"reputation":1,"user_id":5889006,"display_name":"Capeman24"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678910116,"creation_date":1678910116,"answer_id":75749478,"question_id":72106052,"body_markdown":"Your print line just needed to be reversed \r\n *System.out.print(reverse + &quot;\\n&quot;);* \r\n\r\nyou had  *System.out.print(&quot;\\n&quot; + reverse);*","title":"Reversing strings in Java (loops) until &quot;done&quot;","body":"<p>Your print line just needed to be reversed\n<em>System.out.print(reverse + &quot;\\n&quot;);</em></p>\n<p>you had  <em>System.out.print(&quot;\\n&quot; + reverse);</em></p>\n"}],"owner":{"account_id":25187477,"reputation":13,"user_id":19028139,"display_name":"Megan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72106163,"answer_count":5,"score":1,"last_activity_date":1678910116,"creation_date":1651616569,"question_id":72106052,"body_markdown":"this is a lab for class I&#39;m trying to do. Here&#39;s the instructions:\r\nWrite a program that takes in a line of text as input, and outputs that line of text in reverse. The program repeats, ending when the user enters &quot;Done&quot;, &quot;done&quot;, or &quot;d&quot; for the line of text.\r\n\r\nEx: If the input is:\r\n\r\n&quot;Hello there\r\n\r\nHey\r\n\r\ndone&quot;\r\n\r\nthe output is:\r\n\r\n&quot;ereht olleH\r\n\r\nyeH&quot;\r\n\r\nAnd here&#39;s what I have right now:\r\n\r\n```import java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n   public static void main(String[] args) {\r\n      /* Type your code here. */\r\n      Scanner scnr = new Scanner(System.in);\r\n      String[] inputs = new String[100];\r\n      String input;\r\n      int i = 0;\r\n      while (true) {\r\n         input = scnr.nextLine();\r\n         if(input.equals(&quot;Done&quot;) || input.equals(&quot;done&quot;) || input.equals(&quot;d&quot;))\r\n            break;\r\n      inputs[i] = input;\r\n      i++;\r\n         }\r\n      for (int j = 0; j &lt; i; j++) {\r\n         int length = inputs[j].length();\r\n         String reverse = &quot;&quot;;\r\n         for (int k = length - i; k &gt;= 0; k--) {\r\n            reverse = reverse + inputs[j].charAt(k);\r\n         }\r\n         System.out.print(&quot;\\n&quot; + reverse);\r\n      }\r\n   }\r\n}\r\n```\r\n[Current output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7VfAg.png\r\n\r\nWhat am I doing wrong??","title":"Reversing strings in Java (loops) until &quot;done&quot;","body":"<p>this is a lab for class I'm trying to do. Here's the instructions:\nWrite a program that takes in a line of text as input, and outputs that line of text in reverse. The program repeats, ending when the user enters &quot;Done&quot;, &quot;done&quot;, or &quot;d&quot; for the line of text.</p>\n<p>Ex: If the input is:</p>\n<p>&quot;Hello there</p>\n<p>Hey</p>\n<p>done&quot;</p>\n<p>the output is:</p>\n<p>&quot;ereht olleH</p>\n<p>yeH&quot;</p>\n<p>And here's what I have right now:</p>\n<pre><code>\npublic class LabProgram {\n   public static void main(String[] args) {\n      /* Type your code here. */\n      Scanner scnr = new Scanner(System.in);\n      String[] inputs = new String[100];\n      String input;\n      int i = 0;\n      while (true) {\n         input = scnr.nextLine();\n         if(input.equals(&quot;Done&quot;) || input.equals(&quot;done&quot;) || input.equals(&quot;d&quot;))\n            break;\n      inputs[i] = input;\n      i++;\n         }\n      for (int j = 0; j &lt; i; j++) {\n         int length = inputs[j].length();\n         String reverse = &quot;&quot;;\n         for (int k = length - i; k &gt;= 0; k--) {\n            reverse = reverse + inputs[j].charAt(k);\n         }\n         System.out.print(&quot;\\n&quot; + reverse);\n      }\n   }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7VfAg.png\" rel=\"nofollow noreferrer\">Current output</a></p>\n<p>What am I doing wrong??</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1383954163,"post_id":19870467,"comment_id":29556892,"body_markdown":"You can&#39;t.  Basically Java&#39;s implementation of the stdin will only return when the use presses [Enter].  You could use a JNA or JNI solution, but that might be more work then is worth it...","body":"You can&#39;t.  Basically Java&#39;s implementation of the stdin will only return when the use presses [Enter].  You could use a JNA or JNI solution, but that might be more work then is worth it..."},{"owner":{"account_id":3394188,"reputation":615,"user_id":2848296,"accept_rate":86,"display_name":"Isaiah Taylor"},"score":1,"creation_date":1383954257,"post_id":19870467,"comment_id":29556917,"body_markdown":"Add an action listener to the keyboard.","body":"Add an action listener to the keyboard."},{"owner":{"account_id":2353390,"reputation":4575,"user_id":2061763,"accept_rate":67,"display_name":"Andrei Nicusan"},"score":0,"creation_date":1383954342,"post_id":19870467,"comment_id":29556946,"body_markdown":"What are you doing with all those `runx` booleans? You only assign `true` values to them all the time. What&#39;s their purpose?","body":"What are you doing with all those <code>runx</code> booleans? You only assign <code>true</code> values to them all the time. What&#39;s their purpose?"},{"owner":{"account_id":1675472,"reputation":1206,"user_id":1541137,"accept_rate":83,"display_name":"Lan"},"score":0,"creation_date":1383954641,"post_id":19870467,"comment_id":29557045,"body_markdown":"I am just going to link to this question: http://stackoverflow.com/questions/1066318/how-to-read-a-single-char-from-the-console-in-java-as-the-user-types-it . The top answer may give you some insight.","body":"I am just going to link to this question: <a href=\"http://stackoverflow.com/questions/1066318/how-to-read-a-single-char-from-the-console-in-java-as-the-user-types-it\" title=\"how to read a single char from the console in java as the user types it\">stackoverflow.com/questions/1066318/&hellip;</a> . The top answer may give you some insight."}],"answers":[{"comments":[{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1383954638,"post_id":19870544,"comment_id":29557043,"body_markdown":"`true` (if you indulge the pun of words), but that doesn&#39;t solve OP&#39;s issue. Actually an infinite loop is a very common choice to have with a `Scanner`.","body":"<code>true</code> (if you indulge the pun of words), but that doesn&#39;t solve OP&#39;s issue. Actually an infinite loop is a very common choice to have with a <code>Scanner</code>."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1383954906,"post_id":19870544,"comment_id":29557115,"body_markdown":"was about to answer. I&#39;ll +1 your answer only because nothing in it is wrong per se, yet you aren&#39;t solving OP&#39;s issue. However, solving OP&#39;s issue would imply recoding half his/her mess, so I&#39;m voting to close instead.","body":"was about to answer. I&#39;ll +1 your answer only because nothing in it is wrong per se, yet you aren&#39;t solving OP&#39;s issue. However, solving OP&#39;s issue would imply recoding half his/her mess, so I&#39;m voting to close instead."}],"tags":[],"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1383954514,"creation_date":1383954514,"answer_id":19870544,"question_id":19870467,"body_markdown":"1)  See `while(run1 = true)` and  `while(run2 = true)`\r\n\r\n\r\n= is assignment operator in java. use == operator to compare primitives\r\n\r\n\r\n\t\r\n2) You can do like this\r\n\r\n    while(in.hasNext()){\r\n    \r\n    }","title":"How do I get &quot;Press any key to continue&quot; to work in my Java code?","body":"<p>1)  See <code>while(run1 = true)</code> and  <code>while(run2 = true)</code></p>\n\n<p>= is assignment operator in java. use == operator to compare primitives</p>\n\n<p>2) You can do like this</p>\n\n<pre><code>while(in.hasNext()){\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3183891,"reputation":165,"user_id":2690020,"accept_rate":80,"display_name":"upcrob"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1383956133,"creation_date":1383956133,"answer_id":19870759,"question_id":19870467,"body_markdown":"Before getting into implementation details, I think you need to step back and re-examine your algorithm a bit.  From what I gather, you want get a list of integers from the user and determine if they form a magic square.  You can do the first step in a single while loop.  Something like this pseudo-code:\r\n\r\n    while (true)\r\n        print &quot;Enter an integer (x to stop): &quot;\r\n        input = text from stdin\r\n        if input is &#39;x&#39;\r\n            break\r\n        else if input is not an integer\r\n            print &quot;non integer value entered, aborting...&quot;\r\n            return\r\n        else\r\n            add input to magic object\r\n\r\nAfter that, you can output details about the numbers:\r\n\r\n    if magic is a magic square\r\n        print &quot;this is a magic square&quot;\r\n    else\r\n        print &quot;this is not a magic square&quot;\r\n\r\n    // etc, etc.....","title":"How do I get &quot;Press any key to continue&quot; to work in my Java code?","body":"<p>Before getting into implementation details, I think you need to step back and re-examine your algorithm a bit.  From what I gather, you want get a list of integers from the user and determine if they form a magic square.  You can do the first step in a single while loop.  Something like this pseudo-code:</p>\n\n<pre><code>while (true)\n    print \"Enter an integer (x to stop): \"\n    input = text from stdin\n    if input is 'x'\n        break\n    else if input is not an integer\n        print \"non integer value entered, aborting...\"\n        return\n    else\n        add input to magic object\n</code></pre>\n\n<p>After that, you can output details about the numbers:</p>\n\n<pre><code>if magic is a magic square\n    print \"this is a magic square\"\nelse\n    print \"this is not a magic square\"\n\n// etc, etc.....\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1671102,"reputation":82,"user_id":1537568,"display_name":"katamayros"},"score":12,"creation_date":1447414617,"post_id":25095049,"comment_id":55155287,"body_markdown":"This doesn&#39;t work for &quot;ANY&quot; key, just the &quot;Enter&quot; key.","body":"This doesn&#39;t work for &quot;ANY&quot; key, just the &quot;Enter&quot; key."},{"owner":{"account_id":1679362,"reputation":495,"user_id":1544034,"accept_rate":75,"display_name":"Hammad Dar"},"score":0,"creation_date":1501343984,"post_id":25095049,"comment_id":77743063,"body_markdown":"As @katamayros mentioned, it works with enter and not with &quot;any key&quot;","body":"As @katamayros mentioned, it works with enter and not with &quot;any key&quot;"},{"owner":{"account_id":2472234,"reputation":12058,"user_id":2153777,"accept_rate":79,"display_name":"E235"},"score":0,"creation_date":1501354285,"post_id":25095049,"comment_id":77746375,"body_markdown":"@katamayros and Hammad Dar, You are right. I updated my answer.","body":"@katamayros and Hammad Dar, You are right. I updated my answer."}],"tags":[],"owner":{"account_id":2472234,"reputation":12058,"user_id":2153777,"accept_rate":79,"display_name":"E235"},"comment_count":3,"down_vote_count":5,"up_vote_count":31,"is_accepted":false,"score":26,"last_activity_date":1659255723,"creation_date":1406982551,"answer_id":25095049,"question_id":19870467,"body_markdown":"You can create this function (**good only for enter key**) and use it where ever you want in your code:\r\n\r\n     private void pressEnterToContinue()\r\n     { \r\n            System.out.println(&quot;Press Enter key to continue...&quot;);\r\n            try\r\n            {\r\n                System.in.read();\r\n            }  \r\n            catch(Exception e)\r\n            {}  \r\n     }\r\n\r\nIf your useing Scanner:\r\n\r\n     private void pressEnterToContinue()\r\n     { \r\n            System.out.println(&quot;Press Enter key to continue...&quot;);\r\n            try\r\n            {\r\n                System.in.read();\r\n                scanner.nextLine();\r\n            }  \r\n            catch(Exception e)\r\n            {}  \r\n     }","title":"How do I get &quot;Press any key to continue&quot; to work in my Java code?","body":"<p>You can create this function (<strong>good only for enter key</strong>) and use it where ever you want in your code:</p>\n<pre><code> private void pressEnterToContinue()\n { \n        System.out.println(&quot;Press Enter key to continue...&quot;);\n        try\n        {\n            System.in.read();\n        }  \n        catch(Exception e)\n        {}  \n }\n</code></pre>\n<p>If your useing Scanner:</p>\n<pre><code> private void pressEnterToContinue()\n { \n        System.out.println(&quot;Press Enter key to continue...&quot;);\n        try\n        {\n            System.in.read();\n            scanner.nextLine();\n        }  \n        catch(Exception e)\n        {}  \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5270836,"reputation":154,"user_id":4209135,"display_name":"Jay Laughlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583433218,"creation_date":1583433218,"answer_id":60551956,"question_id":19870467,"body_markdown":"My answer still only works with the **Enter key** but it does so without leaving stuff on the input stream that could get in the way later (System.in.read() can potentially leave things on the stream that get read in on the next input). So I read the whole line (here I use Scanner but I guess that isn&#39;t actually necessary, you just need something to get rid of the entire line in the input stream):\r\n\r\n\tpublic void pressEnterKeyToContinue()\r\n\t{ \r\n\t        System.out.println(&quot;Press Enter key to continue...&quot;);\r\n\t        Scanner s = new Scanner(System.in);\r\n\t        s.nextLine();\r\n\t}\r\n","title":"How do I get &quot;Press any key to continue&quot; to work in my Java code?","body":"<p>My answer still only works with the <strong>Enter key</strong> but it does so without leaving stuff on the input stream that could get in the way later (System.in.read() can potentially leave things on the stream that get read in on the next input). So I read the whole line (here I use Scanner but I guess that isn't actually necessary, you just need something to get rid of the entire line in the input stream):</p>\n\n<pre><code>public void pressEnterKeyToContinue()\n{ \n        System.out.println(\"Press Enter key to continue...\");\n        Scanner s = new Scanner(System.in);\n        s.nextLine();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28026354,"reputation":1,"user_id":21406290,"display_name":"Caroline Hardison"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678910003,"creation_date":1678910003,"answer_id":75749464,"question_id":19870467,"body_markdown":"[https://darkcoding.net/software/non-blocking-console-io-is-not-possible/](https://darkcoding.net/software/non-blocking-console-io-is-not-possible/)\r\n\r\nGo to the section Java non-blocking console input on Linux.  \r\n\r\nfor your code, you could move your main() number computation to a new function\r\nmagicSquare() and have it return false when \r\n\r\nand modify the code linked like this \r\n\r\n```\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.Scanner;\r\n\r\npublic class test {\r\n    private static String ttyConfig;\r\n\r\n/*\r\nreturns true if properly exiting, return false if exiting before all numbers were received from input\r\n */\r\n    public static boolean magicSquare() {\r\n\r\n        int nums = 0;\r\n\r\n        Square magic = new Square();\r\n\r\n        Scanner in = new Scanner(System.in);\r\n\r\n        while (nums&lt;2) {\r\n            System.out.print(&quot;Enter an integer(x to exit): &quot;);\r\n            if (!in.hasNextInt()) {\r\n                if (in.next().equals(&quot;x&quot;)) {\r\n                    return false;\r\n                } else {\r\n                    System.out.println(&quot;*** Invalid data entry ***&quot;);\r\n                }\r\n            } else {\r\n                nums++;\r\n                magic.add(in.nextInt());\r\n            }\r\n        }\r\n\r\n        System.out.println();\r\n        if (!magic.isSquare()) {\r\n            System.out.println(&quot;Step 1. Numbers do not make a square&quot;);\r\n            return true;\r\n        } else {\r\n            System.out.println(&quot;Step 1. Numbers make a square&quot;);\r\n        }\r\n\r\n        System.out.println();\r\n        if (!magic.isUnique()) {\r\n            System.out.println(&quot;Step 2. Numbers are not unique&quot;);\r\n            return true;\r\n        } else {\r\n            System.out.println(&quot;Step 2. Numbers are unique&quot;);\r\n        }\r\n\r\n        System.out.println();\r\n        magic.create2DArray();\r\n        if (!magic.isMagic()) {\r\n            System.out.println(&quot;Step 3. But it is NOT a magic square!&quot;);\r\n        } else {\r\n            System.out.println(&quot;Step 3. Yes, it is a MAGIC SQUARE!&quot;);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            setTerminalToCBreak();\r\n            boolean callMagicSquare = true;\r\n            boolean run = true;\r\n            while (run) {\r\n                if (callMagicSquare) {\r\n                    resetTerminal();  // sets console to get input only after enter is pressed\r\n                    run = magicSquare();\r\n                    System.out.println(&quot;Press any key except \\&#39;x\\&#39; to continue&quot;);\r\n                    setTerminalToCBreak(); // sets console to read any key press prior\r\n                    callMagicSquare = false;\r\n                }\r\n                \r\n                if (System.in.available() != 0) {\r\n                    int c = System.in.read();\r\n                    if ((char) c == &#39;x&#39;) {\r\n                        break;\r\n                    } else {\r\n                        callMagicSquare = true;\r\n                        continue;\r\n                    }\r\n                }\r\n            } // end while\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;IOException&quot;);\r\n        } catch (InterruptedException e) {\r\n            System.err.println(&quot;InterruptedException&quot;);\r\n        } finally {\r\n            resetTerminal();\r\n        }\r\n    }\r\n\r\n    private static void resetTerminal() {\r\n        try {\r\n            stty(ttyConfig.trim());\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;Exception restoring tty config&quot;);\r\n        }\r\n    }\r\n\r\n    private static void setTerminalToCBreak() throws IOException, InterruptedException {\r\n\r\n        ttyConfig = stty(&quot;-g&quot;);\r\n\r\n        // set the console to be character-buffered instead of line-buffered\r\n        stty(&quot;-icanon min 1&quot;);\r\n\r\n        // disable character echoing\r\n        stty(&quot;-echo&quot;);\r\n    }\r\n\r\n    /**\r\n     * Execute the stty command with the specified arguments\r\n     * against the current active terminal.\r\n     */\r\n    private static String stty(final String args)\r\n            throws IOException, InterruptedException {\r\n        String cmd = &quot;stty &quot; + args + &quot; &lt; /dev/tty&quot;;\r\n\r\n        return exec(new String[]{\r\n                &quot;sh&quot;,\r\n                &quot;-c&quot;,\r\n                cmd\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Execute the specified command and return the output\r\n     * (both stdout and stderr).\r\n     */\r\n    private static String exec(final String[] cmd)\r\n            throws IOException, InterruptedException {\r\n        ByteArrayOutputStream bout = new ByteArrayOutputStream();\r\n\r\n        Process p = Runtime.getRuntime().exec(cmd);\r\n        int c;\r\n        InputStream in = p.getInputStream();\r\n\r\n        while ((c = in.read()) != -1) {\r\n            bout.write(c);\r\n        }\r\n\r\n        in = p.getErrorStream();\r\n\r\n        while ((c = in.read()) != -1) {\r\n            bout.write(c);\r\n        }\r\n\r\n        p.waitFor();\r\n\r\n        String result = new String(bout.toByteArray());\r\n        return result;\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n","title":"How do I get &quot;Press any key to continue&quot; to work in my Java code?","body":"<p><a href=\"https://darkcoding.net/software/non-blocking-console-io-is-not-possible/\" rel=\"nofollow noreferrer\">https://darkcoding.net/software/non-blocking-console-io-is-not-possible/</a></p>\n<p>Go to the section Java non-blocking console input on Linux.</p>\n<p>for your code, you could move your main() number computation to a new function\nmagicSquare() and have it return false when</p>\n<p>and modify the code linked like this</p>\n<pre><code>\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Scanner;\n\npublic class test {\n    private static String ttyConfig;\n\n/*\nreturns true if properly exiting, return false if exiting before all numbers were received from input\n */\n    public static boolean magicSquare() {\n\n        int nums = 0;\n\n        Square magic = new Square();\n\n        Scanner in = new Scanner(System.in);\n\n        while (nums&lt;2) {\n            System.out.print(&quot;Enter an integer(x to exit): &quot;);\n            if (!in.hasNextInt()) {\n                if (in.next().equals(&quot;x&quot;)) {\n                    return false;\n                } else {\n                    System.out.println(&quot;*** Invalid data entry ***&quot;);\n                }\n            } else {\n                nums++;\n                magic.add(in.nextInt());\n            }\n        }\n\n        System.out.println();\n        if (!magic.isSquare()) {\n            System.out.println(&quot;Step 1. Numbers do not make a square&quot;);\n            return true;\n        } else {\n            System.out.println(&quot;Step 1. Numbers make a square&quot;);\n        }\n\n        System.out.println();\n        if (!magic.isUnique()) {\n            System.out.println(&quot;Step 2. Numbers are not unique&quot;);\n            return true;\n        } else {\n            System.out.println(&quot;Step 2. Numbers are unique&quot;);\n        }\n\n        System.out.println();\n        magic.create2DArray();\n        if (!magic.isMagic()) {\n            System.out.println(&quot;Step 3. But it is NOT a magic square!&quot;);\n        } else {\n            System.out.println(&quot;Step 3. Yes, it is a MAGIC SQUARE!&quot;);\n        }\n        return true;\n    }\n\n    public static void main(String[] args) {\n        try {\n            setTerminalToCBreak();\n            boolean callMagicSquare = true;\n            boolean run = true;\n            while (run) {\n                if (callMagicSquare) {\n                    resetTerminal();  // sets console to get input only after enter is pressed\n                    run = magicSquare();\n                    System.out.println(&quot;Press any key except \\'x\\' to continue&quot;);\n                    setTerminalToCBreak(); // sets console to read any key press prior\n                    callMagicSquare = false;\n                }\n                \n                if (System.in.available() != 0) {\n                    int c = System.in.read();\n                    if ((char) c == 'x') {\n                        break;\n                    } else {\n                        callMagicSquare = true;\n                        continue;\n                    }\n                }\n            } // end while\n        } catch (IOException e) {\n            System.err.println(&quot;IOException&quot;);\n        } catch (InterruptedException e) {\n            System.err.println(&quot;InterruptedException&quot;);\n        } finally {\n            resetTerminal();\n        }\n    }\n\n    private static void resetTerminal() {\n        try {\n            stty(ttyConfig.trim());\n        } catch (Exception e) {\n            System.err.println(&quot;Exception restoring tty config&quot;);\n        }\n    }\n\n    private static void setTerminalToCBreak() throws IOException, InterruptedException {\n\n        ttyConfig = stty(&quot;-g&quot;);\n\n        // set the console to be character-buffered instead of line-buffered\n        stty(&quot;-icanon min 1&quot;);\n\n        // disable character echoing\n        stty(&quot;-echo&quot;);\n    }\n\n    /**\n     * Execute the stty command with the specified arguments\n     * against the current active terminal.\n     */\n    private static String stty(final String args)\n            throws IOException, InterruptedException {\n        String cmd = &quot;stty &quot; + args + &quot; &lt; /dev/tty&quot;;\n\n        return exec(new String[]{\n                &quot;sh&quot;,\n                &quot;-c&quot;,\n                cmd\n        });\n    }\n\n    /**\n     * Execute the specified command and return the output\n     * (both stdout and stderr).\n     */\n    private static String exec(final String[] cmd)\n            throws IOException, InterruptedException {\n        ByteArrayOutputStream bout = new ByteArrayOutputStream();\n\n        Process p = Runtime.getRuntime().exec(cmd);\n        int c;\n        InputStream in = p.getInputStream();\n\n        while ((c = in.read()) != -1) {\n            bout.write(c);\n        }\n\n        in = p.getErrorStream();\n\n        while ((c = in.read()) != -1) {\n            bout.write(c);\n        }\n\n        p.waitFor();\n\n        String result = new String(bout.toByteArray());\n        return result;\n    }\n\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":3353889,"reputation":381,"user_id":2840682,"accept_rate":65,"display_name":"user2840682"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92155,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":5,"score":19,"last_activity_date":1678910003,"creation_date":1383954084,"question_id":19870467,"body_markdown":"I want the user to enter information again in the first while loop after pressing any key on the keyboard. How do I achieve that?\r\nAm I doing something wrong with the while loops. SHould I just have one while loop?\r\n\r\n     import java.util.Scanner;\r\n\r\n     public class TestMagicSquare\r\n     {\r\n      public static void main(String[] args)\r\n     {    \r\n        boolean run1 =  true;\r\n        boolean run2 = true;\r\n\r\n        Square magic = new Square();\r\n\r\n        Scanner in = new Scanner(System.in);\r\n\r\n        while(run1 = true)\r\n        {\r\n            System.out.print(&quot;Enter an integer(x to exit): &quot;);\r\n            if(!in.hasNextInt())\r\n            {\r\n                if(in.next().equals(&quot;x&quot;))\r\n                {\r\n                    break;\r\n                }\r\n\r\n                else\r\n                {\r\n                    System.out.println(&quot;*** Invalid data entry ***&quot;);               \r\n                }                    \r\n            }\r\n            else\r\n            {\r\n                magic.add(in.nextInt());\r\n            }\r\n         }\r\n\r\n        while(run2 = true)\r\n        {\r\n            System.out.println();\r\n            if(!magic.isSquare())\r\n            {\r\n                System.out.println(&quot;Step 1. Numbers do not make a square&quot;);            \r\n                break;\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;Step 1. Numbers make a square&quot;);\r\n            }\r\n\r\n            System.out.println();\r\n            if(!magic.isUnique())\r\n            {\r\n                System.out.println(&quot;Step 2. Numbers are not unique&quot;);\r\n                break;\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;Step 2. Numbers are unique&quot;);\r\n            }\r\n\r\n            System.out.println();\r\n            magic.create2DArray();\r\n            if(!magic.isMagic())\r\n            {\r\n                System.out.println(&quot;Step 3. But it is NOT a magic square!&quot;);\r\n                break;\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;Step 3. Yes, it is a MAGIC SQUARE!&quot;);\r\n            }\r\n\r\n            System.out.println();\r\n            System.out.print(&quot;Press any key to continue...&quot;);// Here I want the simulation\r\n            in.next();\r\n            if(in.next().equals(&quot;x&quot;))\r\n            {\r\n                break;\r\n            }\r\n            else\r\n            {\r\n                run1 = true;\r\n            }\r\n          }\r\n        }\r\n\r\n       }","title":"How do I get &quot;Press any key to continue&quot; to work in my Java code?","body":"<p>I want the user to enter information again in the first while loop after pressing any key on the keyboard. How do I achieve that?\nAm I doing something wrong with the while loops. SHould I just have one while loop?</p>\n\n<pre><code> import java.util.Scanner;\n\n public class TestMagicSquare\n {\n  public static void main(String[] args)\n {    \n    boolean run1 =  true;\n    boolean run2 = true;\n\n    Square magic = new Square();\n\n    Scanner in = new Scanner(System.in);\n\n    while(run1 = true)\n    {\n        System.out.print(\"Enter an integer(x to exit): \");\n        if(!in.hasNextInt())\n        {\n            if(in.next().equals(\"x\"))\n            {\n                break;\n            }\n\n            else\n            {\n                System.out.println(\"*** Invalid data entry ***\");               \n            }                    \n        }\n        else\n        {\n            magic.add(in.nextInt());\n        }\n     }\n\n    while(run2 = true)\n    {\n        System.out.println();\n        if(!magic.isSquare())\n        {\n            System.out.println(\"Step 1. Numbers do not make a square\");            \n            break;\n        }\n        else\n        {\n            System.out.println(\"Step 1. Numbers make a square\");\n        }\n\n        System.out.println();\n        if(!magic.isUnique())\n        {\n            System.out.println(\"Step 2. Numbers are not unique\");\n            break;\n        }\n        else\n        {\n            System.out.println(\"Step 2. Numbers are unique\");\n        }\n\n        System.out.println();\n        magic.create2DArray();\n        if(!magic.isMagic())\n        {\n            System.out.println(\"Step 3. But it is NOT a magic square!\");\n            break;\n        }\n        else\n        {\n            System.out.println(\"Step 3. Yes, it is a MAGIC SQUARE!\");\n        }\n\n        System.out.println();\n        System.out.print(\"Press any key to continue...\");// Here I want the simulation\n        in.next();\n        if(in.next().equals(\"x\"))\n        {\n            break;\n        }\n        else\n        {\n            run1 = true;\n        }\n      }\n    }\n\n   }\n</code></pre>\n"},{"tags":["java","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1678735159,"post_id":75698391,"comment_id":133588082,"body_markdown":"Maybe this is an X-Y-Problem? What kind of &quot;popup&quot; and what browser/setup does not work? Questions like this are border-line to being closed, so it&#39;s better to show what you have tried or even better provide a [MRE](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Maybe this is an X-Y-Problem? What kind of &quot;popup&quot; and what browser/setup does not work? Questions like this are border-line to being closed, so it&#39;s better to show what you have tried or even better provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>."},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1678909841,"post_id":75698391,"comment_id":133626709,"body_markdown":"In the second example, you should see a dialog if you replace `UI.getCurrent().add(dialog)` with `dialog.open()`; dialogs are no popup-window, but just some dom content and should always show regardless of settings in the browser.","body":"In the second example, you should see a dialog if you replace <code>UI.getCurrent().add(dialog)</code> with <code>dialog.open()</code>; dialogs are no popup-window, but just some dom content and should always show regardless of settings in the browser."}],"owner":{"account_id":27984993,"reputation":1,"user_id":21372043,"display_name":"Franco Rolando"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678909898,"creation_date":1678464283,"question_id":75698391,"body_markdown":"As I mention in title I not able to detect if the browser has popup blocker active\r\n\r\nI tried with Vaadin versions:\r\n\r\n14.2.0\r\n14.3.0\r\n14.4.0\r\n14.9.6\r\n\r\nAlso on Vaadin V24 I didn&#39;t saw anything related with this kind of configurations.\r\n\r\nWith the help of ChatGPT also was not successful because told me to use PopupBlockerDetector class but this class doesn&#39;t exists.\r\n\r\n\r\nFew examples I tried:\r\n\r\n```\r\n  String popupUrl = &quot;https://www.example.com/popup&quot;;\r\n    String windowName = &quot;popup&quot;;\r\n    int width = 800;\r\n    int height = 600;\r\n    String features = String.format(&quot;width=%d,height=%d&quot;, width, height);\r\n    Window window = UI.getCurrent().getPage().open(popupUrl, windowName, features);\r\n\r\n    if (window == null || window.closed || !window.isResizable()) {\r\n        // popup was blocked or closed by the user\r\n        Notification.show(&quot;Popup is blocked!&quot;);\r\n    }\r\n```\r\n\r\nOther example:\r\n\r\n```\r\nDialog dialog = new Dialog();\r\n\t\tdialog.add(new Span(&quot;Test span&quot;));\r\n\t\tUI.getCurrent().add(dialog);\r\n\t\tNotification.show(MessageFormat.format(&quot;Dialog is opened? {0}&quot;, dialog.isOpened()));\r\n```\r\n\r\nBrowsers with the issue: Safari, Firefox.","title":"How to detect if the browser has Popup Blocker active","body":"<p>As I mention in title I not able to detect if the browser has popup blocker active</p>\n<p>I tried with Vaadin versions:</p>\n<p>14.2.0\n14.3.0\n14.4.0\n14.9.6</p>\n<p>Also on Vaadin V24 I didn't saw anything related with this kind of configurations.</p>\n<p>With the help of ChatGPT also was not successful because told me to use PopupBlockerDetector class but this class doesn't exists.</p>\n<p>Few examples I tried:</p>\n<pre><code>  String popupUrl = &quot;https://www.example.com/popup&quot;;\n    String windowName = &quot;popup&quot;;\n    int width = 800;\n    int height = 600;\n    String features = String.format(&quot;width=%d,height=%d&quot;, width, height);\n    Window window = UI.getCurrent().getPage().open(popupUrl, windowName, features);\n\n    if (window == null || window.closed || !window.isResizable()) {\n        // popup was blocked or closed by the user\n        Notification.show(&quot;Popup is blocked!&quot;);\n    }\n</code></pre>\n<p>Other example:</p>\n<pre><code>Dialog dialog = new Dialog();\n        dialog.add(new Span(&quot;Test span&quot;));\n        UI.getCurrent().add(dialog);\n        Notification.show(MessageFormat.format(&quot;Dialog is opened? {0}&quot;, dialog.isOpened()));\n</code></pre>\n<p>Browsers with the issue: Safari, Firefox.</p>\n"},{"tags":["java","servlets","servlet-3.0","servlet-3.1"],"answers":[{"comments":[{"owner":{"account_id":3352991,"reputation":4106,"user_id":2816631,"accept_rate":50,"display_name":"Artem Novikov"},"score":0,"creation_date":1605461389,"post_id":40231294,"comment_id":114651063,"body_markdown":"But in real world normal apps I can&#39;t imagine the server being slow to write response. It either has full response from Controller (like json response string) or not. And slow clients are mitigated by putting NGINX in front of app server. So why do we care about this 3.1? Also I doubt slow clients is true argument - if you&#39;re using non blocking sockets (like non blocking Tomcat connector), you&#39;ll read from each client as much as possible without blocking. So again, why 3.1?","body":"But in real world normal apps I can&#39;t imagine the server being slow to write response. It either has full response from Controller (like json response string) or not. And slow clients are mitigated by putting NGINX in front of app server. So why do we care about this 3.1? Also I doubt slow clients is true argument - if you&#39;re using non blocking sockets (like non blocking Tomcat connector), you&#39;ll read from each client as much as possible without blocking. So again, why 3.1?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":2,"creation_date":1675149001,"post_id":40231294,"comment_id":132860847,"body_markdown":"Unfortunately all links are broken","body":"Unfortunately all links are broken"}],"tags":[],"owner":{"account_id":6121684,"reputation":3977,"user_id":5150013,"accept_rate":88,"display_name":"code4kix"},"comment_count":2,"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1678909713,"creation_date":1477369017,"answer_id":40231294,"question_id":39802643,"body_markdown":"I will try to summarize what I learned. To understand the problem that Servlet 3.0 and Servlet 3.1 solve, let&#39;s look at it this way:\r\n\r\n**Prior to Servlet 3.0:**  \r\nThe problem with synchronous processing of requests is that it resulted in threads (doing heavy-lifting) running for a long time before the response goes out. If this happens at scale, the servlet container eventually runs out of threads - long running threads lead to thread starvation. \r\n\r\nPrior to Servlet 3.0, there were container specific solutions for these long running threads where we can spawn a separate worker thread to do the heavy task and then return the response to client. The servlet thread returns to the servlet pool after starting the worker thread. Tomcat’s Comet, WebLogic’s FutureResponseServlet and WebSphere’s Asynchronous Request Dispatcher are some of the example of implementation of asynchronous processing.  \r\n*(See [link 1][1] for more info.)*  \r\n\r\n**Servlet 3.0 Async:**  \r\nThe actual work could be delegated to a thread pool implementation (independent of the container specific solutions). The `Runnable` implementation will perform the actual processing and will use the `AsyncContext` to either dispatch the request to another resource or write the response. We can also add AsyncListener implementation to the AsyncContext object to implement callback methods.  \r\n*(See [link 1][1] for more info.)*  \r\n\r\n**Servlet 3.1 NIO:**  \r\nAs described above, Servlet 3.0 allowed asynchronous request processing but only traditional I/O (as opposed to NIO) was permitted. Why is traditional I/O a problem? \r\n\r\nIn traditional I/O, there are two scenarios to consider:\r\n\r\n - If the data coming into the server (I/O) is blocking or streamed slower than the server can read, then the server thread that is trying to read this data has to wait for that data. \r\n - On the other hand, if the response data from the server written to `ServletOutputStream` is slow, the client thread has to wait. In both cases, the server thread doing the traditional I/O (for requests/responses) blocks. \r\n\r\nIn other words, with Servlet 3.0, only the request processing part became async, but not the I/O for serving the requests and responses. If enough threads block, this results in thread starvation and affects performance.\r\n\r\nWith Servlet 3.1 NIO, this problem is solved by `ReadListener` and `WriteListener` interfaces. These are registered in `ServletInputStream` and `ServletOutputStream`. The listeners have callback methods that are invoked when the content is available to be read or can be written without the servlet container blocking on the I/O threads. So these I/O threads are freed up and can now serve other request increasing performance.\r\n*(See [link 2][2] for more info.)* \r\n\r\n[1]: http://www.journaldev.com/2008/async-servlet-feature-of-servlet-3  \r\n[2]: https://blogs.oracle.com/arungupta/entry/non_blocking_i_o_using\r\n\r\n**Credits**\r\n\r\n- link 1: http://www.journaldev.com/2008/async-servlet-feature-of-servlet-3  \r\n- link 2: https://blogs.oracle.com/arungupta/entry/non_blocking_i_o_using\r\n\r\nUpdate:\r\nHere&#39;s a newer link 1: https://www.javacodegeeks.com/2013/08/async-servlet-feature-of-servlet-3.html","title":"Java - Async in Servlet 3.0 vs NIO in Servlet 3.1","body":"<p>I will try to summarize what I learned. To understand the problem that Servlet 3.0 and Servlet 3.1 solve, let's look at it this way:</p>\n<p><strong>Prior to Servlet 3.0:</strong><br />\nThe problem with synchronous processing of requests is that it resulted in threads (doing heavy-lifting) running for a long time before the response goes out. If this happens at scale, the servlet container eventually runs out of threads - long running threads lead to thread starvation.</p>\n<p>Prior to Servlet 3.0, there were container specific solutions for these long running threads where we can spawn a separate worker thread to do the heavy task and then return the response to client. The servlet thread returns to the servlet pool after starting the worker thread. Tomcat’s Comet, WebLogic’s FutureResponseServlet and WebSphere’s Asynchronous Request Dispatcher are some of the example of implementation of asynchronous processing.<br />\n<em>(See <a href=\"http://www.journaldev.com/2008/async-servlet-feature-of-servlet-3\" rel=\"nofollow noreferrer\">link 1</a> for more info.)</em></p>\n<p><strong>Servlet 3.0 Async:</strong><br />\nThe actual work could be delegated to a thread pool implementation (independent of the container specific solutions). The <code>Runnable</code> implementation will perform the actual processing and will use the <code>AsyncContext</code> to either dispatch the request to another resource or write the response. We can also add AsyncListener implementation to the AsyncContext object to implement callback methods.<br />\n<em>(See <a href=\"http://www.journaldev.com/2008/async-servlet-feature-of-servlet-3\" rel=\"nofollow noreferrer\">link 1</a> for more info.)</em></p>\n<p><strong>Servlet 3.1 NIO:</strong><br />\nAs described above, Servlet 3.0 allowed asynchronous request processing but only traditional I/O (as opposed to NIO) was permitted. Why is traditional I/O a problem?</p>\n<p>In traditional I/O, there are two scenarios to consider:</p>\n<ul>\n<li>If the data coming into the server (I/O) is blocking or streamed slower than the server can read, then the server thread that is trying to read this data has to wait for that data.</li>\n<li>On the other hand, if the response data from the server written to <code>ServletOutputStream</code> is slow, the client thread has to wait. In both cases, the server thread doing the traditional I/O (for requests/responses) blocks.</li>\n</ul>\n<p>In other words, with Servlet 3.0, only the request processing part became async, but not the I/O for serving the requests and responses. If enough threads block, this results in thread starvation and affects performance.</p>\n<p>With Servlet 3.1 NIO, this problem is solved by <code>ReadListener</code> and <code>WriteListener</code> interfaces. These are registered in <code>ServletInputStream</code> and <code>ServletOutputStream</code>. The listeners have callback methods that are invoked when the content is available to be read or can be written without the servlet container blocking on the I/O threads. So these I/O threads are freed up and can now serve other request increasing performance.\n<em>(See <a href=\"https://blogs.oracle.com/arungupta/entry/non_blocking_i_o_using\" rel=\"nofollow noreferrer\">link 2</a> for more info.)</em></p>\n<p><strong>Credits</strong></p>\n<ul>\n<li>link 1: <a href=\"http://www.journaldev.com/2008/async-servlet-feature-of-servlet-3\" rel=\"nofollow noreferrer\">http://www.journaldev.com/2008/async-servlet-feature-of-servlet-3</a></li>\n<li>link 2: <a href=\"https://blogs.oracle.com/arungupta/entry/non_blocking_i_o_using\" rel=\"nofollow noreferrer\">https://blogs.oracle.com/arungupta/entry/non_blocking_i_o_using</a></li>\n</ul>\n<p>Update:\nHere's a newer link 1: <a href=\"https://www.javacodegeeks.com/2013/08/async-servlet-feature-of-servlet-3.html\" rel=\"nofollow noreferrer\">https://www.javacodegeeks.com/2013/08/async-servlet-feature-of-servlet-3.html</a></p>\n"}],"owner":{"account_id":6121684,"reputation":3977,"user_id":5150013,"accept_rate":88,"display_name":"code4kix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13122,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":40231294,"answer_count":1,"score":36,"last_activity_date":1678909713,"creation_date":1475291481,"question_id":39802643,"body_markdown":"Until now, as it applies to serving http requests, I thought the terms - `asynchronous` and `non-blocking i/o` meant the same thing. But apparently, they have been implemented separately in servlet 3.0 and 3.1 respectively. I am struggling to understand the difference here... \r\n\r\nCan someone shed more light on this topic, please? Specifically, I am looking for an example of how a servlet 3.0 implementation of a server can be async, yet block on a thread? I think may be if I understand this, it may be easier to understand the exact problem that the non-blocking i/o in servlet 3.1 is trying to solve.","title":"Java - Async in Servlet 3.0 vs NIO in Servlet 3.1","body":"<p>Until now, as it applies to serving http requests, I thought the terms - <code>asynchronous</code> and <code>non-blocking i/o</code> meant the same thing. But apparently, they have been implemented separately in servlet 3.0 and 3.1 respectively. I am struggling to understand the difference here... </p>\n\n<p>Can someone shed more light on this topic, please? Specifically, I am looking for an example of how a servlet 3.0 implementation of a server can be async, yet block on a thread? I think may be if I understand this, it may be easier to understand the exact problem that the non-blocking i/o in servlet 3.1 is trying to solve.</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1678909159,"post_id":75748082,"comment_id":133626541,"body_markdown":"&quot;I couldn&#39;t get it to work&quot; is hard to help with. I recommend [debugging the code](https://developer.android.com/studio/debug) you shared locally, and then telling is the results of that. So: If you [set a breakpoint](https://developer.android.com/studio/debug#breakPoints) on each line of the code you shared, [run the code in a debugger], and then [check the value of each variable](https://developer.android.com/studio/debug#variablesAndWatches) on each line, which is the **first** line that doesn&#39;t do what you expect it to do?","body":"&quot;I couldn&#39;t get it to work&quot; is hard to help with. I recommend <a href=\"https://developer.android.com/studio/debug\" rel=\"nofollow noreferrer\">debugging the code</a> you shared locally, and then telling is the results of that. So: If you <a href=\"https://developer.android.com/studio/debug#breakPoints\" rel=\"nofollow noreferrer\">set a breakpoint</a> on each line of the code you shared, [run the code in a debugger], and then <a href=\"https://developer.android.com/studio/debug#variablesAndWatches\" rel=\"nofollow noreferrer\">check the value of each variable</a> on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678955065,"post_id":75748082,"comment_id":133633813,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":25284009,"reputation":43,"user_id":19111394,"display_name":"jasagregoric"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678908982,"creation_date":1678900718,"question_id":75748082,"body_markdown":"I want to modify the code for my login screen to check if the user is already logged in before showing the login screen. If the user is already logged in, you want to redirect them to the MapsActivity screen.\r\n\r\nI am using firebase.\r\n\r\nI&#39;ve tried using Firebase Authentication, but I couldn&#39;t get it to work.\r\n\r\nThis code is Login.java\r\n\r\n\r\n```\r\npublic class Login extends AppCompatActivity {\r\n    FirebaseAuth authProfile;\r\n    private DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;URL&quot;);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n\r\n        final EditText username = findViewById(R.id.username);\r\n        final EditText password = findViewById(R.id.password);\r\n        final Button loginBtn = findViewById(R.id.loginBtn);\r\n        final TextView registerNowBtn = findViewById(R.id.registerNowBtn);\r\n\r\n        authProfile = FirebaseAuth.getInstance();\r\n\r\n        loginBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                final String usernameTxt=username.getText().toString();\r\n                final String passwordTxt=password.getText().toString();\r\n\r\n                if(usernameTxt.isEmpty() || passwordTxt.isEmpty()){\r\n                    Toast.makeText(Login.this, &quot;Please enter username or password&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else{\r\n                    databaseReference.child(&quot;users&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            if(snapshot.hasChild(usernameTxt)){\r\n                                final String getPassword = snapshot.child(usernameTxt).child(&quot;password&quot;).getValue(String.class);\r\n                                if(getPassword != null &amp;&amp; getPassword.equals(passwordTxt)){\r\n                                    FirebaseUser firebaseUser = authProfile.getCurrentUser();\r\n                                    Toast.makeText(Login.this, &quot;Login Successful&quot;, Toast.LENGTH_SHORT).show();\r\n                                    startActivity(new Intent(Login.this, MapsActivity.class));\r\n                                    finish();\r\n                                }\r\n                                else{\r\n                                    Toast.makeText(Login.this, &quot;Wrong Password&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                            else{\r\n                                Toast.makeText(Login.this, &quot;Wrong Password&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n\r\n        registerNowBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(Login.this, Register.class));\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        if(authProfile.getCurrentUser()!=null){\r\n            startActivity(new Intent(Login.this, MapsActivity.class));\r\n            finish();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Check if user is already logged in doesn&#39;t work","body":"<p>I want to modify the code for my login screen to check if the user is already logged in before showing the login screen. If the user is already logged in, you want to redirect them to the MapsActivity screen.</p>\n<p>I am using firebase.</p>\n<p>I've tried using Firebase Authentication, but I couldn't get it to work.</p>\n<p>This code is Login.java</p>\n<pre><code>public class Login extends AppCompatActivity {\n    FirebaseAuth authProfile;\n    private DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;URL&quot;);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login);\n\n        final EditText username = findViewById(R.id.username);\n        final EditText password = findViewById(R.id.password);\n        final Button loginBtn = findViewById(R.id.loginBtn);\n        final TextView registerNowBtn = findViewById(R.id.registerNowBtn);\n\n        authProfile = FirebaseAuth.getInstance();\n\n        loginBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                final String usernameTxt=username.getText().toString();\n                final String passwordTxt=password.getText().toString();\n\n                if(usernameTxt.isEmpty() || passwordTxt.isEmpty()){\n                    Toast.makeText(Login.this, &quot;Please enter username or password&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else{\n                    databaseReference.child(&quot;users&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\n                            if(snapshot.hasChild(usernameTxt)){\n                                final String getPassword = snapshot.child(usernameTxt).child(&quot;password&quot;).getValue(String.class);\n                                if(getPassword != null &amp;&amp; getPassword.equals(passwordTxt)){\n                                    FirebaseUser firebaseUser = authProfile.getCurrentUser();\n                                    Toast.makeText(Login.this, &quot;Login Successful&quot;, Toast.LENGTH_SHORT).show();\n                                    startActivity(new Intent(Login.this, MapsActivity.class));\n                                    finish();\n                                }\n                                else{\n                                    Toast.makeText(Login.this, &quot;Wrong Password&quot;, Toast.LENGTH_SHORT).show();\n                                }\n                            }\n                            else{\n                                Toast.makeText(Login.this, &quot;Wrong Password&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError error) {\n\n                        }\n                    });\n                }\n            }\n        });\n\n        registerNowBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                startActivity(new Intent(Login.this, Register.class));\n            }\n        });\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        if(authProfile.getCurrentUser()!=null){\n            startActivity(new Intent(Login.this, MapsActivity.class));\n            finish();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678908904,"creation_date":1678908904,"answer_id":75749304,"question_id":75749279,"body_markdown":"This happens because the declaration `Function&lt;? super String, Integer&gt; mapper` means that `mapper` can either be a `Function&lt;Object, Integer&gt;` or a `Function&lt;String, Integer&gt;`.  In other words, either one of those two things could be passed to this method.\r\n\r\nBut if `mapper` is a `Function&lt;String, Integer&gt;`, then `mapper.apply(new Object())` makes no sense, because its argument has to be a `String`.  So this is a compile error.\r\n\r\nOn the other hand, `mapper.apply(new String())` makes sense regardless of whether `mapper` is a `Function&lt;Object, Integer&gt;` or a `Function&lt;String, Integer&gt;`, so the compiler allows this.","title":"Which types are allowed as a argument when we define generics with super keyword?","body":"<p>This happens because the declaration <code>Function&lt;? super String, Integer&gt; mapper</code> means that <code>mapper</code> can either be a <code>Function&lt;Object, Integer&gt;</code> or a <code>Function&lt;String, Integer&gt;</code>.  In other words, either one of those two things could be passed to this method.</p>\n<p>But if <code>mapper</code> is a <code>Function&lt;String, Integer&gt;</code>, then <code>mapper.apply(new Object())</code> makes no sense, because its argument has to be a <code>String</code>.  So this is a compile error.</p>\n<p>On the other hand, <code>mapper.apply(new String())</code> makes sense regardless of whether <code>mapper</code> is a <code>Function&lt;Object, Integer&gt;</code> or a <code>Function&lt;String, Integer&gt;</code>, so the compiler allows this.</p>\n"}],"owner":{"account_id":12000379,"reputation":117,"user_id":8780513,"display_name":"Piotrold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75749304,"answer_count":1,"score":0,"last_activity_date":1678908904,"creation_date":1678908722,"question_id":75749279,"body_markdown":"I don&#39;t understand why I&#39;m getting compilation error in the first line of this function:\r\n```\r\npublic void method(Function&lt;? super String, Integer&gt; mapper) {\r\n        mapper.apply(new Object()); // compiler error\r\n        mapper.apply(new String()); // no errors\r\n}\r\n```\r\nI would expect that I can pass Object instance to apply method because for Function interface I defined generic argument as a `? super String` so from my understanding argument can be String and all super classes of String. (So only Object in this example).\r\nBut it looks like only String works. Why?","title":"Which types are allowed as a argument when we define generics with super keyword?","body":"<p>I don't understand why I'm getting compilation error in the first line of this function:</p>\n<pre><code>public void method(Function&lt;? super String, Integer&gt; mapper) {\n        mapper.apply(new Object()); // compiler error\n        mapper.apply(new String()); // no errors\n}\n</code></pre>\n<p>I would expect that I can pass Object instance to apply method because for Function interface I defined generic argument as a <code>? super String</code> so from my understanding argument can be String and all super classes of String. (So only Object in this example).\nBut it looks like only String works. Why?</p>\n"},{"tags":["java","spring","postgresql","sequence","flyway"],"comments":[{"owner":{"account_id":3838756,"reputation":3212,"user_id":3182456,"accept_rate":90,"display_name":"user_0"},"score":0,"creation_date":1678907064,"post_id":75748998,"comment_id":133626009,"body_markdown":"You need to link column to sequence, for example using OWNED BY","body":"You need to link column to sequence, for example using OWNED BY"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678907758,"post_id":75748998,"comment_id":133626207,"body_markdown":"`ALTER SEQUENCE sequence_user RESTART WITH 4;` --&gt; not working","body":"<code>ALTER SEQUENCE sequence_user RESTART WITH 4;</code> --&gt; not working"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678907989,"post_id":75748998,"comment_id":133626261,"body_markdown":"`SELECT setval(&#39;&#39;sequence_user&#39;&#39;, max(id)) FROM public.user;` --&gt; ERROR: syntax error at or near &quot;sequence_user&quot;","body":"<code>SELECT setval(&#39;&#39;sequence_user&#39;&#39;, max(id)) FROM public.user;</code> --&gt; ERROR: syntax error at or near &quot;sequence_user&quot;"}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678908442,"post_id":75749178,"comment_id":133626370,"body_markdown":"Thanks a lot. `SELECT setval(&#39;sequence_user&#39;, max(id)) FROM public.user;` also solved the problem.","body":"Thanks a lot. <code>SELECT setval(&#39;sequence_user&#39;, max(id)) FROM public.user;</code> also solved the problem."}],"tags":[],"owner":{"account_id":6897470,"reputation":10000,"user_id":5298879,"display_name":"Zegarek"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678908833,"creation_date":1678907996,"answer_id":75749178,"question_id":75748998,"body_markdown":"To move the sequence to an arbitrary position, you can use [`setval()`][1]:\r\n```lang-sql\r\nselect setval(&#39;public.sequence_user&#39;,\r\n              (select max(id) from public.user) );\r\n```\r\nNote that [`INCREMENT BY 5`][2] means the sequence will always move forward in steps of 5. You could also properly link the sequence to the column:\r\n```lang-sql\r\nalter sequence public.sequence_user owned by public.user.id;\r\nalter table public.user \r\n   alter column id \r\n   set default nextval(&#39;public.sequence_user&#39;);\r\nselect setval(pg_get_serial_sequence(&#39;public.user&#39;,&#39;id&#39;),\r\n              (select max(id) from public.user) );\r\n```\r\n\r\nIt&#39;s best to let the db create, handle and maintain your `id` sequence:\r\n```lang-sql\r\ncreate table public.user (\r\n   id int generated by default as identity primary key, \r\n   first_name text, \r\n   last_name  text, \r\n   username   text, \r\n   &quot;password&quot; text);\r\n\r\nselect pg_get_serial_sequence(&#39;public.user&#39;,&#39;id&#39;);--public.user_id_seq\r\n```\r\nIn both cases the sequence becomes the generator of default values but still lets you insert rows of your own, as long as you let it know afterwards: [demo][3]\r\n```lang-sql\r\ninsert into public.user (id, first_name, last_name, username, &quot;password&quot;)\r\nvalues \r\n  (1, &#39;John&#39;, &#39;Doe&#39;, &#39;johndoe&#39;, &#39;...&#39;)\r\n, (2, &#39;Frank&#39;, &#39;James&#39;, &#39;frank&#39;, &#39;...&#39;)\r\n, (3, &#39;Foo&#39;, &#39;Bar&#39;, &#39;foo&#39;, &#39;...&#39;);\r\n\r\nselect setval(pg_get_serial_sequence(&#39;public.user&#39;,&#39;id&#39;),\r\n              (select max(id) from public.user) );\r\n\r\ninsert into public.user (id, first_name, last_name, username, &quot;password&quot;)\r\nvalues (default, &#39;Adam&#39;, &#39;Savage&#39;, &#39;adamsavage&#39;, &#39;...&#39;);\r\n\r\ninsert into public.user (first_name, last_name, username, &quot;password&quot;)\r\nvalues (&#39;Adam&#39;, &#39;Sandler&#39;, &#39;adamsandler&#39;, &#39;...&#39;);\r\n```\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/functions-sequence.html\r\n  [2]: https://www.postgresql.org/docs/current/sql-createsequence.html\r\n  [3]: https://dbfiddle.uk/hY0OS5hm","title":"Cannot set start value of sequence in PostgreSQL","body":"<p>To move the sequence to an arbitrary position, you can use <a href=\"https://www.postgresql.org/docs/current/functions-sequence.html\" rel=\"nofollow noreferrer\"><code>setval()</code></a>:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select setval('public.sequence_user',\n              (select max(id) from public.user) );\n</code></pre>\n<p>Note that <a href=\"https://www.postgresql.org/docs/current/sql-createsequence.html\" rel=\"nofollow noreferrer\"><code>INCREMENT BY 5</code></a> means the sequence will always move forward in steps of 5. You could also properly link the sequence to the column:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>alter sequence public.sequence_user owned by public.user.id;\nalter table public.user \n   alter column id \n   set default nextval('public.sequence_user');\nselect setval(pg_get_serial_sequence('public.user','id'),\n              (select max(id) from public.user) );\n</code></pre>\n<p>It's best to let the db create, handle and maintain your <code>id</code> sequence:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table public.user (\n   id int generated by default as identity primary key, \n   first_name text, \n   last_name  text, \n   username   text, \n   &quot;password&quot; text);\n\nselect pg_get_serial_sequence('public.user','id');--public.user_id_seq\n</code></pre>\n<p>In both cases the sequence becomes the generator of default values but still lets you insert rows of your own, as long as you let it know afterwards: <a href=\"https://dbfiddle.uk/hY0OS5hm\" rel=\"nofollow noreferrer\">demo</a></p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into public.user (id, first_name, last_name, username, &quot;password&quot;)\nvalues \n  (1, 'John', 'Doe', 'johndoe', '...')\n, (2, 'Frank', 'James', 'frank', '...')\n, (3, 'Foo', 'Bar', 'foo', '...');\n\nselect setval(pg_get_serial_sequence('public.user','id'),\n              (select max(id) from public.user) );\n\ninsert into public.user (id, first_name, last_name, username, &quot;password&quot;)\nvalues (default, 'Adam', 'Savage', 'adamsavage', '...');\n\ninsert into public.user (first_name, last_name, username, &quot;password&quot;)\nvalues ('Adam', 'Sandler', 'adamsandler', '...');\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75749178,"answer_count":1,"score":0,"last_activity_date":1678908833,"creation_date":1678906669,"question_id":75748998,"body_markdown":"I am using migration script in my Spring Boot app and create a sequence as shown below:\r\n\r\n```\r\nCREATE SEQUENCE IF NOT EXISTS public.sequence_user START WITH 4 INCREMENT BY 5;\r\n```\r\n\r\nThen, in another migration file, I insert 3 users via this script:\r\n\r\n```\r\nINSERT INTO public.user (id, first_name, last_name, username, &quot;password&quot;)\r\nVALUES (1, &#39;John&#39;, &#39;Doe&#39;, &#39;johndoe&#39;, &#39;...&#39;);\r\nINSERT INTO public.user (id, first_name, last_name, username, &quot;password&quot;)\r\nVALUES (2, &#39;Frank&#39;, &#39;James&#39;, &#39;frank&#39;, &#39;...&#39;);\r\nINSERT INTO public.user (id, first_name, last_name, username, &quot;password&quot;)\r\nVALUES (3, &#39;Foo&#39;, &#39;Bar&#39;, &#39;foo&#39;, &#39;...&#39;);\r\n\r\nALTER SEQUENCE sequence_user RESTART;\r\nUPDATE public.user SET id = DEFAULT;\r\n```\r\n\r\nHowever, when I run my app and try to add new user, this user id takes 0 and then 1 that throws error. So, how can I make this sequence start to give numbers from 4 ? \r\n\r\n**Update:** Create Table statement:\r\n\r\n```\r\nCREATE SEQUENCE IF NOT EXISTS public.sequence_user START WITH 1 INCREMENT BY 5;\r\n\r\n\r\nCREATE TABLE public.&quot;user&quot;\r\n(\r\n    id         BIGINT       NOT NULL,\r\n    first_name VARCHAR(50)  NOT NULL,\r\n    last_name  VARCHAR(50)  NOT NULL,\r\n    username   VARCHAR(20)  NOT NULL,\r\n    password   VARCHAR(100) NOT NULL,\r\n    CONSTRAINT pk_user PRIMARY KEY (id)\r\n);\r\n```","title":"Cannot set start value of sequence in PostgreSQL","body":"<p>I am using migration script in my Spring Boot app and create a sequence as shown below:</p>\n<pre><code>CREATE SEQUENCE IF NOT EXISTS public.sequence_user START WITH 4 INCREMENT BY 5;\n</code></pre>\n<p>Then, in another migration file, I insert 3 users via this script:</p>\n<pre><code>INSERT INTO public.user (id, first_name, last_name, username, &quot;password&quot;)\nVALUES (1, 'John', 'Doe', 'johndoe', '...');\nINSERT INTO public.user (id, first_name, last_name, username, &quot;password&quot;)\nVALUES (2, 'Frank', 'James', 'frank', '...');\nINSERT INTO public.user (id, first_name, last_name, username, &quot;password&quot;)\nVALUES (3, 'Foo', 'Bar', 'foo', '...');\n\nALTER SEQUENCE sequence_user RESTART;\nUPDATE public.user SET id = DEFAULT;\n</code></pre>\n<p>However, when I run my app and try to add new user, this user id takes 0 and then 1 that throws error. So, how can I make this sequence start to give numbers from 4 ?</p>\n<p><strong>Update:</strong> Create Table statement:</p>\n<pre><code>CREATE SEQUENCE IF NOT EXISTS public.sequence_user START WITH 1 INCREMENT BY 5;\n\n\nCREATE TABLE public.&quot;user&quot;\n(\n    id         BIGINT       NOT NULL,\n    first_name VARCHAR(50)  NOT NULL,\n    last_name  VARCHAR(50)  NOT NULL,\n    username   VARCHAR(20)  NOT NULL,\n    password   VARCHAR(100) NOT NULL,\n    CONSTRAINT pk_user PRIMARY KEY (id)\n);\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1678777254,"post_id":75728499,"comment_id":133594416,"body_markdown":"AFAIK not possible as its the same transaction and the order was not flushed to database yet, thus making it impossible for the customer to find it.","body":"AFAIK not possible as its the same transaction and the order was not flushed to database yet, thus making it impossible for the customer to find it."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1678902296,"post_id":75728499,"comment_id":133624789,"body_markdown":"Yes, it is called `saveAndFlush` spring cant do magic.","body":"Yes, it is called <code>saveAndFlush</code> spring cant do magic."}],"answers":[{"comments":[{"owner":{"account_id":15935948,"reputation":3,"user_id":11499144,"display_name":"Florian McKee"},"score":0,"creation_date":1678799057,"post_id":75730301,"comment_id":133600144,"body_markdown":"I&#39;ve attached a link to a self-contained demo project: https://github.com/fmck3516/jpa-update-embedded-collection (Hibernate 6.1.7.Final).\n\nThe plugin sounds like a solution for my problem. However, I&#39;m so far unable to &quot;make it work&quot;: https://github.com/fmck3516/jpa-update-embedded-collection/tree/gradle-plugin.","body":"I&#39;ve attached a link to a self-contained demo project: <a href=\"https://github.com/fmck3516/jpa-update-embedded-collection\" rel=\"nofollow noreferrer\">github.com/fmck3516/jpa-update-embedded-collection</a> (Hibernate 6.1.7.Final).  The plugin sounds like a solution for my problem. However, I&#39;m so far unable to &quot;make it work&quot;: <a href=\"https://github.com/fmck3516/jpa-update-embedded-collection/tree/gradle-plugin\" rel=\"nofollow noreferrer\">github.com/fmck3516/jpa-update-embedded-collection/tree/&hellip;</a>."}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678780257,"creation_date":1678780257,"answer_id":75730301,"question_id":75728499,"body_markdown":"You don&#39;t specify which JPA implementation you are using and there is no JPA standard way to do this. \r\nBut Hibernate offers a way to keep the two sides of a bidirectional relationship in sync.\r\nI never used it so I&#39;ll just quote this [article by Thorben Janssen][1]:\r\n\r\n\r\n&gt; You just need to add a Maven or Gradle plugin to your build process, which will add the required code the class files of your entities.\r\n&gt;\r\n&gt; The following configuration adds the hibernate-enhance-maven-plugin to your maven build and generates the required code to manage bidirectional associations.\r\n&gt;\r\n&gt; ```xml\r\n&gt; &lt;project&gt;\r\n&gt;     ...\r\n&gt;      \r\n&gt;     &lt;build&gt;\r\n&gt;         &lt;plugins&gt;\r\n&gt;             &lt;plugin&gt;\r\n&gt;                 &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\r\n&gt;                 &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\r\n&gt;                 &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n&gt;                 &lt;executions&gt;\r\n&gt;                     &lt;execution&gt;\r\n&gt;                         &lt;configuration&gt;\r\n&gt;                             &lt;failOnError&gt;true&lt;/failOnError&gt;\r\n&gt;                             &lt;enableAssociationManagement&gt;true&lt;/enableAssociationManagement&gt;\r\n&gt;                         &lt;/configuration&gt;\r\n&gt;                         &lt;goals&gt;\r\n&gt;                             &lt;goal&gt;enhance&lt;/goal&gt;\r\n&gt;                         &lt;/goals&gt;\r\n&gt;                     &lt;/execution&gt;\r\n&gt;                 &lt;/executions&gt;\r\n&gt;             &lt;/plugin&gt;\r\n&gt;         &lt;/plugins&gt;\r\n&gt;     &lt;/build&gt;\r\n&gt; &lt;/project&gt;\r\n&gt; ```\r\n&gt; \r\n&gt; That’s all you need to do. During your next Maven build, the plugin will add additional code into the setter methods of the to-one sides of your bi-directional associations. This code updates the other end of the association so that you don’t need to do it yourself.\r\n\r\n\r\n  [1]: https://thorben-janssen.com/hibernate-tips-easiest-way-to-manage-bi-directional-associations/","title":"Spring Data JPA: How to update entity when embedded collection is updated using a separate repository?","body":"<p>You don't specify which JPA implementation you are using and there is no JPA standard way to do this.\nBut Hibernate offers a way to keep the two sides of a bidirectional relationship in sync.\nI never used it so I'll just quote this <a href=\"https://thorben-janssen.com/hibernate-tips-easiest-way-to-manage-bi-directional-associations/\" rel=\"nofollow noreferrer\">article by Thorben Janssen</a>:</p>\n<blockquote>\n<p>You just need to add a Maven or Gradle plugin to your build process, which will add the required code the class files of your entities.</p>\n<p>The following configuration adds the hibernate-enhance-maven-plugin to your maven build and generates the required code to manage bidirectional associations.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    ...\n     \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${hibernate.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;configuration&gt;\n                            &lt;failOnError&gt;true&lt;/failOnError&gt;\n                            &lt;enableAssociationManagement&gt;true&lt;/enableAssociationManagement&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;enhance&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>That’s all you need to do. During your next Maven build, the plugin will add additional code into the setter methods of the to-one sides of your bi-directional associations. This code updates the other end of the association so that you don’t need to do it yourself.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1285407,"reputation":43,"user_id":6805761,"display_name":"sanjeev k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678908697,"creation_date":1678900976,"answer_id":75748128,"question_id":75728499,"body_markdown":"As far as I know, no two persistent objects of an entity with the same primary key can coexist in a persistent context(residing in the 1st Level Cache). As &#39;customer&#39; is made persistent by calling:\r\n\r\n    customer = customerRepository.save(customer);\r\n\r\nand as tx is not yet committed or session is not flushed the following call will not hit the DB\r\n\r\n    customerRepository.findById(&quot;customer-0&quot;)\r\n\r\nMoreover, no records have been flushed to DB till now, everything is in persistentcontext, so the query will get the entity from 1st level cache/persistence context\r\n\r\nEven if you had retrieved the existing customer record from db  and again fired a separate query to retrieve the same customer, it would have returned you the existing object in the persistence context retrieved in earlier query.\r\n  \r\nthe orm framework will first see if an entity with a particular id is already in the persistent context or not, if yes then it would just return the object/entity from the persistence context or 1st level cache.\r\n\r\nHowever, if you were using class instrumentation as suggested by &#39;Jens Schauder&#39; above, instrumented code  would have taken care of to populate the relationship/association link.\r\n\r\nHibernate instrumentation was not available few years ago and we used to set the relationship explicitly, even these days I prefer doing the following (don&#39;t use both instrumentation and explicit setting of the relationship):\r\n\r\nfirst, I would suggest initializing the list i.e.` List&lt;Order&gt; orders = new ArrayList&lt;&gt;()`   and add a &#39;getter&#39; for orders in your Customer class and do the following; \r\n\r\n    customer.getOrders().add(order);\r\n\r\n    order.setCustomer(customer);\r\n\r\nif you do the above or use hibernate instrumentation your query will give you the expected result.\r\n\r\nP.S. After making the above change to your project I am getting the following output:\r\n\r\nOptional[Customer{id=&#39;customer-0&#39;, orders=[Order{id=&#39;order-0&#39;, customer=customer-0}]}]\r\nOptional[Customer{id=&#39;customer-0&#39;, orders=[Order{id=&#39;order-0&#39;, customer=customer-0}]}]\r\n\r\n\r\n\r\n\r\n\r\n \r\n ","title":"Spring Data JPA: How to update entity when embedded collection is updated using a separate repository?","body":"<p>As far as I know, no two persistent objects of an entity with the same primary key can coexist in a persistent context(residing in the 1st Level Cache). As 'customer' is made persistent by calling:</p>\n<pre><code>customer = customerRepository.save(customer);\n</code></pre>\n<p>and as tx is not yet committed or session is not flushed the following call will not hit the DB</p>\n<pre><code>customerRepository.findById(&quot;customer-0&quot;)\n</code></pre>\n<p>Moreover, no records have been flushed to DB till now, everything is in persistentcontext, so the query will get the entity from 1st level cache/persistence context</p>\n<p>Even if you had retrieved the existing customer record from db  and again fired a separate query to retrieve the same customer, it would have returned you the existing object in the persistence context retrieved in earlier query.</p>\n<p>the orm framework will first see if an entity with a particular id is already in the persistent context or not, if yes then it would just return the object/entity from the persistence context or 1st level cache.</p>\n<p>However, if you were using class instrumentation as suggested by 'Jens Schauder' above, instrumented code  would have taken care of to populate the relationship/association link.</p>\n<p>Hibernate instrumentation was not available few years ago and we used to set the relationship explicitly, even these days I prefer doing the following (don't use both instrumentation and explicit setting of the relationship):</p>\n<p>first, I would suggest initializing the list i.e.<code> List&lt;Order&gt; orders = new ArrayList&lt;&gt;()</code>   and add a 'getter' for orders in your Customer class and do the following;</p>\n<pre><code>customer.getOrders().add(order);\n\norder.setCustomer(customer);\n</code></pre>\n<p>if you do the above or use hibernate instrumentation your query will give you the expected result.</p>\n<p>P.S. After making the above change to your project I am getting the following output:</p>\n<p>Optional[Customer{id='customer-0', orders=[Order{id='order-0', customer=customer-0}]}]\nOptional[Customer{id='customer-0', orders=[Order{id='order-0', customer=customer-0}]}]</p>\n"}],"owner":{"account_id":15935948,"reputation":3,"user_id":11499144,"display_name":"Florian McKee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75730301,"answer_count":2,"score":0,"last_activity_date":1678908697,"creation_date":1678759542,"question_id":75728499,"body_markdown":"# Overview\r\n\r\nI have a `Customer` entity with an embedded collection of `Order`s. `Customer`s and `Order`s are updated using  separate Spring Data JPA repositories (`CustomerRepository` &amp; `OrderRepository`).\r\n\r\nThe following operations are performed within a transactional method:\r\n\r\n1. An order is added for a customer using the `OrderRepository`&#39;s `save` method\r\n\r\n2. The customer is read using the `CustomerRepository`&#39;s `findById` method\r\n\r\nExpected result: The customer contains the order\r\n\r\nActual result: The customer does *NOT* contain the order\r\n\r\n# Sample Project\r\n\r\n- https://github.com/fmck3516/jpa-update-embedded-collection \r\n- Hibernate 6.1.7.Final\r\n- Spring Boot Version 3.0.4\r\n\r\n# Details\r\n\r\nCustomer:\r\n\r\n```\r\n@Entity\r\npublic class Customer {\r\n\r\n    @Id\r\n    String id;\r\n\r\n    @OneToMany(mappedBy = &quot;customer&quot;)\r\n    List&lt;Order&gt; orders;\r\n\r\n}\r\n```\r\n\r\nOrder:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;orders&quot;)\r\npublic class Order {\r\n\r\n    @Id\r\n    String id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;customer_id&quot;, nullable = false)\r\n    Customer customer;\r\n\r\n}\r\n```\r\n\r\nI use Spring Data repositories for read/write operations:\r\n\r\n```\r\n@Repository\r\npublic interface CustomerRepository extends JpaRepository&lt;Customer, String&gt; {\r\n}\r\n```\r\n\r\n```\r\n@Repository\r\npublic interface OrderRepository extends JpaRepository&lt;Order, String&gt; {\r\n}\r\n```\r\n\r\nUpdates to the embedded orders collection using the `OrderRepository` are not reflected on the customer entity:\r\n\r\n```\r\nCustomer customer = new Customer();\r\ncustomer.id = &quot;customer-0&quot;;\r\n\r\ncustomer = customerRepository.save(customer);\r\n\r\nOrder order = new Order();\r\norder.id = &quot;order-0&quot;;\r\norder.customer = customer;\r\n\r\norderRepository.save(order);\r\n\r\nSystem.out.println(customerRepository.findById(&quot;customer-0&quot;));\r\n```\r\n\r\nExpected Output:\r\n\r\n`Optional[Customer{id=&#39;customer-0&#39;, orders=[Order{id=&#39;order-0&#39;, customer=customer-0}]}]`\r\n\r\nActual Output:\r\n\r\n`Optional[Customer{id=&#39;customer-0&#39;, orders=null}]`\r\n\r\nI&#39;m aware of the following solutions / workarounds:\r\n\r\n- Replace `save` with `saveAndFlush` and use `EntityManager` to refresh the customer object: This will generate the expected output.\r\n\r\n- Assign the order to the customer. Save the order and the customer.\r\n\r\n- Re-read the customer in a new transaction.\r\n\r\nUnfortunately, I&#39;m dealing with an existing code base where database access is scattered. It is not trivial to implement any of those alternatives.\r\n\r\nIs there a way to tell JPA to &quot;auto-magically&quot; update the `Customer` entity whenever the embedded `Order` collection is updated via the `OrderRepository`?","title":"Spring Data JPA: How to update entity when embedded collection is updated using a separate repository?","body":"<h1>Overview</h1>\n<p>I have a <code>Customer</code> entity with an embedded collection of <code>Order</code>s. <code>Customer</code>s and <code>Order</code>s are updated using  separate Spring Data JPA repositories (<code>CustomerRepository</code> &amp; <code>OrderRepository</code>).</p>\n<p>The following operations are performed within a transactional method:</p>\n<ol>\n<li><p>An order is added for a customer using the <code>OrderRepository</code>'s <code>save</code> method</p>\n</li>\n<li><p>The customer is read using the <code>CustomerRepository</code>'s <code>findById</code> method</p>\n</li>\n</ol>\n<p>Expected result: The customer contains the order</p>\n<p>Actual result: The customer does <em>NOT</em> contain the order</p>\n<h1>Sample Project</h1>\n<ul>\n<li><a href=\"https://github.com/fmck3516/jpa-update-embedded-collection\" rel=\"nofollow noreferrer\">https://github.com/fmck3516/jpa-update-embedded-collection</a></li>\n<li>Hibernate 6.1.7.Final</li>\n<li>Spring Boot Version 3.0.4</li>\n</ul>\n<h1>Details</h1>\n<p>Customer:</p>\n<pre><code>@Entity\npublic class Customer {\n\n    @Id\n    String id;\n\n    @OneToMany(mappedBy = &quot;customer&quot;)\n    List&lt;Order&gt; orders;\n\n}\n</code></pre>\n<p>Order:</p>\n<pre><code>@Entity\n@Table(name = &quot;orders&quot;)\npublic class Order {\n\n    @Id\n    String id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;customer_id&quot;, nullable = false)\n    Customer customer;\n\n}\n</code></pre>\n<p>I use Spring Data repositories for read/write operations:</p>\n<pre><code>@Repository\npublic interface CustomerRepository extends JpaRepository&lt;Customer, String&gt; {\n}\n</code></pre>\n<pre><code>@Repository\npublic interface OrderRepository extends JpaRepository&lt;Order, String&gt; {\n}\n</code></pre>\n<p>Updates to the embedded orders collection using the <code>OrderRepository</code> are not reflected on the customer entity:</p>\n<pre><code>Customer customer = new Customer();\ncustomer.id = &quot;customer-0&quot;;\n\ncustomer = customerRepository.save(customer);\n\nOrder order = new Order();\norder.id = &quot;order-0&quot;;\norder.customer = customer;\n\norderRepository.save(order);\n\nSystem.out.println(customerRepository.findById(&quot;customer-0&quot;));\n</code></pre>\n<p>Expected Output:</p>\n<p><code>Optional[Customer{id='customer-0', orders=[Order{id='order-0', customer=customer-0}]}]</code></p>\n<p>Actual Output:</p>\n<p><code>Optional[Customer{id='customer-0', orders=null}]</code></p>\n<p>I'm aware of the following solutions / workarounds:</p>\n<ul>\n<li><p>Replace <code>save</code> with <code>saveAndFlush</code> and use <code>EntityManager</code> to refresh the customer object: This will generate the expected output.</p>\n</li>\n<li><p>Assign the order to the customer. Save the order and the customer.</p>\n</li>\n<li><p>Re-read the customer in a new transaction.</p>\n</li>\n</ul>\n<p>Unfortunately, I'm dealing with an existing code base where database access is scattered. It is not trivial to implement any of those alternatives.</p>\n<p>Is there a way to tell JPA to &quot;auto-magically&quot; update the <code>Customer</code> entity whenever the embedded <code>Order</code> collection is updated via the <code>OrderRepository</code>?</p>\n"},{"tags":["java","spring-boot","spring-security","jwt","microservices"],"comments":[{"owner":{"account_id":19330751,"reputation":91,"user_id":14132426,"display_name":"Jope Algorta"},"score":1,"creation_date":1678893669,"post_id":75746640,"comment_id":133622086,"body_markdown":"Check out this [link](https://medium.com/javarevisited/spring-boot-authorization-creating-an-authorization-server-for-your-microservices-50a3aefd6ce8)","body":"Check out this <a href=\"https://medium.com/javarevisited/spring-boot-authorization-creating-an-authorization-server-for-your-microservices-50a3aefd6ce8\" rel=\"nofollow noreferrer\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":8586073,"reputation":359,"user_id":7293136,"accept_rate":67,"display_name":"Kiran"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678908415,"creation_date":1678908415,"answer_id":75749224,"question_id":75746640,"body_markdown":"Have you tried using Spring Webflux \r\n\r\nCache Token\r\n\r\n    private Mono&lt;String&gt; tokenRequest = getToken().cache(Duration.ofMinutes(30));\r\n\r\nToken code \r\n\r\n    private Mono&lt;String&gt; getToken() {\r\n    \t\tvar keys = &quot;clientid:clientsecret&quot;;\r\n    \t\tString encodedClientData = null;\r\n    \t\tencodedClientData = Base64Utils.encodeToString(keys.getBytes());\r\n    \t\treturn WebClient.builder().build().post().uri(Token URL)\r\n    \t\t\t\t.header(&quot;Authorization&quot;, &quot;Basic &quot; + encodedClientData)\r\n    \t\t\t\t.body(BodyInserters.fromFormData(&quot;grant_type&quot;, &quot;client_credentials&quot;)).retrieve()\r\n    \t\t\t\t.bodyToMono(JsonNode.class).map(tokenResponse -&gt; tokenResponse.get(&quot;access_token&quot;).textValue());\r\n    }\r\n\r\nAPI call \r\n\r\n    public Mono&lt;String&gt; obtainSecuredResource() {\r\n    \t\treturn tokenRequest.flatMap(token -&gt; getResource(token));\r\n    }\r\n    \r\n    private Mono&lt;String&gt; getResource(String authToken) {\r\n    \t\treturn WebClient.builder().build().get()\r\n    \t\t\t\t.uri(API URL)\r\n    \t\t\t\t.headers(h -&gt; h.setBearerAuth(authToken)).exchangeToMono(response -&gt; {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif (response.statusCode().equals(HttpStatus.OK)) {\r\n    \t\t\t\t\t\treturn response.bodyToMono(String.class);\r\n    \t\t\t\t\t} else if (response.statusCode().is4xxClientError()) {\r\n    \t\t\t\t\t\treturn Mono.just(&quot;Error response&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse if (response.statusCode().is5xxServerError()) {\r\n    \t\t\t\t\t\treturn Mono.just(&quot;&quot;);\r\n    \t\t\t\t\t}else {\r\n    \t\t\t\t\t\treturn response.createException().flatMap(Mono::error);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t}","title":"JWT Token auth in Micro service architecture (Java - Spring)","body":"<p>Have you tried using Spring Webflux</p>\n<p>Cache Token</p>\n<pre><code>private Mono&lt;String&gt; tokenRequest = getToken().cache(Duration.ofMinutes(30));\n</code></pre>\n<p>Token code</p>\n<pre><code>private Mono&lt;String&gt; getToken() {\n        var keys = &quot;clientid:clientsecret&quot;;\n        String encodedClientData = null;\n        encodedClientData = Base64Utils.encodeToString(keys.getBytes());\n        return WebClient.builder().build().post().uri(Token URL)\n                .header(&quot;Authorization&quot;, &quot;Basic &quot; + encodedClientData)\n                .body(BodyInserters.fromFormData(&quot;grant_type&quot;, &quot;client_credentials&quot;)).retrieve()\n                .bodyToMono(JsonNode.class).map(tokenResponse -&gt; tokenResponse.get(&quot;access_token&quot;).textValue());\n}\n</code></pre>\n<p>API call</p>\n<pre><code>public Mono&lt;String&gt; obtainSecuredResource() {\n        return tokenRequest.flatMap(token -&gt; getResource(token));\n}\n\nprivate Mono&lt;String&gt; getResource(String authToken) {\n        return WebClient.builder().build().get()\n                .uri(API URL)\n                .headers(h -&gt; h.setBearerAuth(authToken)).exchangeToMono(response -&gt; {\n                    \n                    if (response.statusCode().equals(HttpStatus.OK)) {\n                        return response.bodyToMono(String.class);\n                    } else if (response.statusCode().is4xxClientError()) {\n                        return Mono.just(&quot;Error response&quot;);\n                    }\n                    else if (response.statusCode().is5xxServerError()) {\n                        return Mono.just(&quot;&quot;);\n                    }else {\n                        return response.createException().flatMap(Mono::error);\n                    }\n                });\n    }\n</code></pre>\n"}],"owner":{"account_id":26149210,"reputation":42,"user_id":19837400,"display_name":"berkayaytek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678908415,"creation_date":1678893106,"question_id":75746640,"body_markdown":"I am trying to create a event based, decoupled microservice based on Java Spring. I have so far created two services:\r\n1) Movie Service (for getting and filtering movies from db)\r\n2) User service (for Auth)\r\n3) Common (for shared entities)\r\n\r\nSo far I was able to implement a login which returns a JWT token and a filter that will validate the JWT token based on secret, however my problem is that I want to use this token in Movie Service and other API&#39;s as well, but werent able to find solution. So far only thought i have in mind is seperating JWT filter in another project (or in Common project) but I do not know if that is good idea. \r\n\r\nIs there anyone that can help me with this matter? Also my another question is that is it OK to use common project?\r\n\r\nThanks in advance.","title":"JWT Token auth in Micro service architecture (Java - Spring)","body":"<p>I am trying to create a event based, decoupled microservice based on Java Spring. I have so far created two services:</p>\n<ol>\n<li>Movie Service (for getting and filtering movies from db)</li>\n<li>User service (for Auth)</li>\n<li>Common (for shared entities)</li>\n</ol>\n<p>So far I was able to implement a login which returns a JWT token and a filter that will validate the JWT token based on secret, however my problem is that I want to use this token in Movie Service and other API's as well, but werent able to find solution. So far only thought i have in mind is seperating JWT filter in another project (or in Common project) but I do not know if that is good idea.</p>\n<p>Is there anyone that can help me with this matter? Also my another question is that is it OK to use common project?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678912896,"post_id":75748919,"comment_id":133627385,"body_markdown":"1. No, essentially it&#39;s fine and is very common idea of animation (see flip book or sprite animation); 2. Use an image which is already transparent","body":"1. No, essentially it&#39;s fine and is very common idea of animation (see flip book or sprite animation); 2. Use an image which is already transparent"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678913350,"post_id":75748919,"comment_id":133627502,"body_markdown":"For [example](https://stackoverflow.com/questions/21771215/how-to-draw-images-on-transparent-window/21771615#21771615); [example](https://stackoverflow.com/questions/14927980/how-to-make-a-transparent-jframe-but-keep-everything-else-the-same/14928212#14928212); [example](https://stackoverflow.com/questions/13588786/jframe-the-same-shape-as-an-image-program-running-in-background/13594794#13594794); [example](https://stackoverflow.com/questions/26205164/java-custom-shaped-frame-using-image/26208568#26208568);","body":"For <a href=\"https://stackoverflow.com/questions/21771215/how-to-draw-images-on-transparent-window/21771615#21771615\">example</a>; <a href=\"https://stackoverflow.com/questions/14927980/how-to-make-a-transparent-jframe-but-keep-everything-else-the-same/14928212#14928212\">example</a>; <a href=\"https://stackoverflow.com/questions/13588786/jframe-the-same-shape-as-an-image-program-running-in-background/13594794#13594794\">example</a>; <a href=\"https://stackoverflow.com/questions/26205164/java-custom-shaped-frame-using-image/26208568#26208568\">example</a>;"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678913383,"post_id":75748919,"comment_id":133627516,"body_markdown":"[example](https://stackoverflow.com/questions/42867413/are-transparent-jframe-backgrounds-not-possible-in-windows-10/42868181#42868181); [example](https://stackoverflow.com/questions/43528495/java-applet-make-the-background-transparent/43529285#43529285);","body":"<a href=\"https://stackoverflow.com/questions/42867413/are-transparent-jframe-backgrounds-not-possible-in-windows-10/42868181#42868181\">example</a>; <a href=\"https://stackoverflow.com/questions/43528495/java-applet-make-the-background-transparent/43529285#43529285\">example</a>;"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1678914000,"post_id":75748919,"comment_id":133627670,"body_markdown":"Instead of moving the `JFrame`, maximize the `JFrame`.  Create a drawing `JPanel` and move the image around the drawing `JPanel`.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.","body":"Instead of moving the <code>JFrame</code>, maximize the <code>JFrame</code>.  Create a drawing <code>JPanel</code> and move the image around the drawing <code>JPanel</code>.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678914085,"post_id":75748919,"comment_id":133627694,"body_markdown":"@GilbertLeBlanc That could prevent mouse events from falling through the window, but I could be wrong, personally, I like the idea of moving the window, but that&#39;s me","body":"@GilbertLeBlanc That could prevent mouse events from falling through the window, but I could be wrong, personally, I like the idea of moving the window, but that&#39;s me"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678914112,"post_id":75748919,"comment_id":133627700,"body_markdown":"Sprite animation for [example](https://stackoverflow.com/questions/35472233/load-a-sprites-image-in-java/35472418#35472418) and [example](https://stackoverflow.com/questions/27933159/how-to-draw-an-bufferedimage-to-a-jpanel/27933189#27933189)","body":"Sprite animation for <a href=\"https://stackoverflow.com/questions/35472233/load-a-sprites-image-in-java/35472418#35472418\">example</a> and <a href=\"https://stackoverflow.com/questions/27933159/how-to-draw-an-bufferedimage-to-a-jpanel/27933189#27933189\">example</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678914215,"post_id":75748919,"comment_id":133627721,"body_markdown":"*&quot;your a complete psychopath&quot;* and yes, but it&#39;s going to help ... and welcome to the club! &#128540;","body":"<i>&quot;your a complete psychopath&quot;</i> and yes, but it&#39;s going to help ... and welcome to the club! 😜"}],"answers":[{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1678912789,"post_id":75749213,"comment_id":133627363,"body_markdown":"`this.getContentPane().setBackground(new Color(255, 0, 0, 0));` is not how you make a component transparent - Swing component&#39;s can&#39;t handle alpha based colors","body":"<code>this.getContentPane().setBackground(new Color(255, 0, 0, 0));</code> is not how you make a component transparent - Swing component&#39;s can&#39;t handle alpha based colors"},{"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"score":0,"creation_date":1678981191,"post_id":75749213,"comment_id":133641884,"body_markdown":"@MadProgrammer actually, if you try the code the Background will be transparent, and as soon as you remove the line you&#39;ve mentioned it will no longer be transparent","body":"@MadProgrammer actually, if you try the code the Background will be transparent, and as soon as you remove the line you&#39;ve mentioned it will no longer be transparent"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678998076,"post_id":75749213,"comment_id":133646617,"body_markdown":"Which is irrelevant, using a alpha based color is NOT how you make Swing components transparent (I accept the alpha color of the frame as this is how IT works).  Swing components do not know how to make use of alpha based colors and this approach will cause no end of issues and weird side effects.  Take a look at any of the many linked examples in the comments","body":"Which is irrelevant, using a alpha based color is NOT how you make Swing components transparent (I accept the alpha color of the frame as this is how IT works).  Swing components do not know how to make use of alpha based colors and this approach will cause no end of issues and weird side effects.  Take a look at any of the many linked examples in the comments"}],"tags":[],"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678908305,"creation_date":1678908305,"answer_id":75749213,"question_id":75748919,"body_markdown":"You could use this and add an Image which supports transparency (e.g. a png, jpeg does not support transparency)\r\n\r\n    import java.awt.Color;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    \r\n    public class TransparentWindow extends JFrame {\r\n    \r\n    \tpublic TransparentWindow() {\r\n    \t\tsuper(&quot;Transparent Window&quot;);\r\n    \r\n    \t\tsetUndecorated(true);\r\n    \r\n    \t\tsetBackground(new Color(0, 0, 0, 0));// only the alpha is important\r\n    \r\n    \t\tsetSize(500, 500);\r\n    \r\n    \t\tthis.getContentPane().setBackground(new Color(255, 0, 0, 0));\r\n    \r\n    \t\t// add an image which has transparency instead of the label\r\n    \t\tJLabel comp = new JLabel(&quot;test&quot;);\r\n    \t\tcomp.setFont(comp.getFont().deriveFont(200f));\r\n    \t\tthis.getContentPane().add(comp);\r\n    \r\n    \t\t// Show the window\r\n    \t\tsetVisible(true);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Create a new instance of the window\r\n    \t\tTransparentWindow window = new TransparentWindow();\r\n    \t}\r\n    }","title":"desktop pets on Java swing","body":"<p>You could use this and add an Image which supports transparency (e.g. a png, jpeg does not support transparency)</p>\n<pre><code>import java.awt.Color;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\n\npublic class TransparentWindow extends JFrame {\n\n    public TransparentWindow() {\n        super(&quot;Transparent Window&quot;);\n\n        setUndecorated(true);\n\n        setBackground(new Color(0, 0, 0, 0));// only the alpha is important\n\n        setSize(500, 500);\n\n        this.getContentPane().setBackground(new Color(255, 0, 0, 0));\n\n        // add an image which has transparency instead of the label\n        JLabel comp = new JLabel(&quot;test&quot;);\n        comp.setFont(comp.getFont().deriveFont(200f));\n        this.getContentPane().add(comp);\n\n        // Show the window\n        setVisible(true);\n\n    }\n\n    public static void main(String[] args) {\n        // Create a new instance of the window\n        TransparentWindow window = new TransparentWindow();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28025967,"reputation":1,"user_id":21405985,"display_name":"Jonathan Cummins"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678908305,"creation_date":1678906030,"question_id":75748919,"body_markdown":"In my comp sci class we are supposed to create a project that uses jswing. I want to create a desktop pet.My current ideas is using &quot;setUndecorated(bool)&quot; to make everything but the image panel blank, and then swapping between photos in an array list while moving the frame on the users the screen by using &quot;setLocation(int, int)&quot; to create the illusion that the pet is walking. \r\n\r\nThe only problem with this is that A: Its seems very inefficient and there&#39;s most likely a better way of doing this that i just have not found, And B: the square shape means that the background of the image is included in the frame. for ex:[no, tom Brady is not the pet, this is just an example ](https://i.stack.imgur.com/DWHlk.jpg) Id like for only tom to be visible here, no white space. \r\n\r\nIs there a way to do this? or is there a better way of doing this whole project that i haven&#39;t thought of?\r\n\r\npretty sure the answer is &quot;no, and your a complete psychopath who needs to be exiled to Siberia for even thinking of doing this on jswing&quot; but i thought id ask.\r\n","title":"desktop pets on Java swing","body":"<p>In my comp sci class we are supposed to create a project that uses jswing. I want to create a desktop pet.My current ideas is using &quot;setUndecorated(bool)&quot; to make everything but the image panel blank, and then swapping between photos in an array list while moving the frame on the users the screen by using &quot;setLocation(int, int)&quot; to create the illusion that the pet is walking.</p>\n<p>The only problem with this is that A: Its seems very inefficient and there's most likely a better way of doing this that i just have not found, And B: the square shape means that the background of the image is included in the frame. for ex:<a href=\"https://i.stack.imgur.com/DWHlk.jpg\" rel=\"nofollow noreferrer\">no, tom Brady is not the pet, this is just an example </a> Id like for only tom to be visible here, no white space.</p>\n<p>Is there a way to do this? or is there a better way of doing this whole project that i haven't thought of?</p>\n<p>pretty sure the answer is &quot;no, and your a complete psychopath who needs to be exiled to Siberia for even thinking of doing this on jswing&quot; but i thought id ask.</p>\n"},{"tags":["java","adobe","jcr"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1666665117,"post_id":74150713,"comment_id":130985696,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74150713/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":14642410,"reputation":1,"user_id":10574700,"display_name":"Varun Pratap Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666340367,"creation_date":1666340367,"answer_id":74150713,"question_id":71701146,"body_markdown":"I also had the same issue, i hope you are able to solve it by now,  but in my case the link was authored wrong and therefore it was appending in the url. Please check if the initial link is right.","title":"Apache Jackrabbit JCR with Adobe Aem - &quot;Workspace Mismatch&quot;","body":"<p>I also had the same issue, i hope you are able to solve it by now,  but in my case the link was authored wrong and therefore it was appending in the url. Please check if the initial link is right.</p>\n"}],"owner":{"account_id":6134396,"reputation":2472,"user_id":4783710,"accept_rate":51,"display_name":"KellyM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678908111,"creation_date":1648780537,"question_id":71701146,"body_markdown":"I am experimenting with accessing Adobe AEM&#39;s JCR programmatically using the guide here: https://experienceleague.adobe.com/docs/experience-manager-64/developing/platform/access-jcr.html?lang=en\r\n\r\n```\r\n\tpublic static void main(String[] args) throws RepositoryException {\r\n\t\tjavax.jcr.Repository repository = JcrUtils\r\n\t\t\t\t.getRepository(&quot;https://example.com/crx/server&quot;);\r\n\r\n\t\t// Create a Session instance\r\n\t\tvar session = repository\r\n\t\t\t\t.login(new SimpleCredentials(&quot;user&quot;, &quot;user&quot;.toCharArray()));\r\n\t\tvar root = session.getRootNode();\r\n\t\tvar nIter = root.getNodes();\r\n\t\twhile (nIter.hasNext()) {\r\n\t\t\tvar n = (Node) nIter.next();\r\n\t\t\tSystem.out.println(n.getPath());\r\n\t\t}\r\n\r\n```\r\n\r\nHowever, I am getting the following error: `Workspace mismatch: &#39;https://example.com:443/crx/server/crx.default/jcr%3aroot/bin&#39; not under workspace &#39;https://example.com/crx/server/crx.default&#39; (position 41: &#39;{https:/example.com}:443/crx/server/crx.default/jcr%3aroot/bin&#39;, expected: &#39;/crx/server/crx.default&#39;)`\r\n\r\nFrom the error (and confirmed by debugging), I can see that the mismatch is occurring because of the port (443) being include in the URI but not the workspace (the position 41 in the error is inaccurate simply because since I have removed the actual domain). \r\n\r\nHowever, I am a bit perplexed as to why it is including the port. Obviously, I am not specifying the port when connecting and I am using the standard https port, so I am not sure how I can resolve this issue ?\r\n\r\nThanks!\r\n\r\nDependencies:\r\n```\r\ndependencies {\r\n    // This dependency is exported to consumers, that is to say found on their compile classpath.\r\nimplementation &#39;org.apache.jackrabbit:jackrabbit-core:2.21.10&#39;\r\nimplementation &#39;org.apache.jackrabbit:jackrabbit-jcr-commons:2.21.10&#39;\r\nimplementation &#39;org.apache.jackrabbit:jackrabbit-api:2.19.3&#39;\r\nimplementation &#39;org.apache.jackrabbit:jackrabbit-webdav:2.21.10&#39;\r\nimplementation &#39;org.apache.sling:org.apache.sling.api:2.24.0&#39;\r\nimplementation &#39;org.apache.sling:org.apache.sling.jcr.api:2.4.0&#39;\r\ncompileOnly &#39;javax.jcr:jcr:2.0&#39;\r\n\r\ncompileOnly &#39;org.apache.jackrabbit:jackrabbit-jcr2dav:2.21.10&#39;\r\n\r\n\r\n    // Use JUnit test framework\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n}\r\n```","title":"Apache Jackrabbit JCR with Adobe Aem - &quot;Workspace Mismatch&quot;","body":"<p>I am experimenting with accessing Adobe AEM's JCR programmatically using the guide here: <a href=\"https://experienceleague.adobe.com/docs/experience-manager-64/developing/platform/access-jcr.html?lang=en\" rel=\"nofollow noreferrer\">https://experienceleague.adobe.com/docs/experience-manager-64/developing/platform/access-jcr.html?lang=en</a></p>\n<pre><code>    public static void main(String[] args) throws RepositoryException {\n        javax.jcr.Repository repository = JcrUtils\n                .getRepository(&quot;https://example.com/crx/server&quot;);\n\n        // Create a Session instance\n        var session = repository\n                .login(new SimpleCredentials(&quot;user&quot;, &quot;user&quot;.toCharArray()));\n        var root = session.getRootNode();\n        var nIter = root.getNodes();\n        while (nIter.hasNext()) {\n            var n = (Node) nIter.next();\n            System.out.println(n.getPath());\n        }\n\n</code></pre>\n<p>However, I am getting the following error: <code>Workspace mismatch: 'https://example.com:443/crx/server/crx.default/jcr%3aroot/bin' not under workspace 'https://example.com/crx/server/crx.default' (position 41: '{https:/example.com}:443/crx/server/crx.default/jcr%3aroot/bin', expected: '/crx/server/crx.default')</code></p>\n<p>From the error (and confirmed by debugging), I can see that the mismatch is occurring because of the port (443) being include in the URI but not the workspace (the position 41 in the error is inaccurate simply because since I have removed the actual domain).</p>\n<p>However, I am a bit perplexed as to why it is including the port. Obviously, I am not specifying the port when connecting and I am using the standard https port, so I am not sure how I can resolve this issue ?</p>\n<p>Thanks!</p>\n<p>Dependencies:</p>\n<pre><code>dependencies {\n    // This dependency is exported to consumers, that is to say found on their compile classpath.\nimplementation 'org.apache.jackrabbit:jackrabbit-core:2.21.10'\nimplementation 'org.apache.jackrabbit:jackrabbit-jcr-commons:2.21.10'\nimplementation 'org.apache.jackrabbit:jackrabbit-api:2.19.3'\nimplementation 'org.apache.jackrabbit:jackrabbit-webdav:2.21.10'\nimplementation 'org.apache.sling:org.apache.sling.api:2.24.0'\nimplementation 'org.apache.sling:org.apache.sling.jcr.api:2.4.0'\ncompileOnly 'javax.jcr:jcr:2.0'\n\ncompileOnly 'org.apache.jackrabbit:jackrabbit-jcr2dav:2.21.10'\n\n\n    // Use JUnit test framework\n    testImplementation 'junit:junit:4.12'\n}\n</code></pre>\n"},{"tags":["java","filewriter"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678901666,"post_id":75747983,"comment_id":133624630,"body_markdown":"Is the value of `path` a relative file name?","body":"Is the value of <code>path</code> a relative file name?"},{"owner":{"account_id":5932921,"reputation":31,"user_id":4666858,"display_name":"Vio"},"score":0,"creation_date":1678902543,"post_id":75747983,"comment_id":133624856,"body_markdown":"no its absolute","body":"no its absolute"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1678906494,"post_id":75747983,"comment_id":133625870,"body_markdown":"*File writer fails to write to existing json ?* If you&#39;re expecting to *append* to existing json, it&#39;s not going to work as your `FileWriter` is not opened in append mode","body":"<i>File writer fails to write to existing json ?</i> If you&#39;re expecting to <i>append</i> to existing json, it&#39;s not going to work as your <code>FileWriter</code> is not opened in append mode"},{"owner":{"account_id":5932921,"reputation":31,"user_id":4666858,"display_name":"Vio"},"score":0,"creation_date":1678918404,"post_id":75747983,"comment_id":133628595,"body_markdown":"I added but issue wasnt resolved","body":"I added but issue wasnt resolved"}],"answers":[{"comments":[{"owner":{"account_id":5932921,"reputation":31,"user_id":4666858,"display_name":"Vio"},"score":0,"creation_date":1678918370,"post_id":75749180,"comment_id":133628589,"body_markdown":"It did work, but when I open the file it is not seen what could be a reason. While in debug log I could see the change reflecting","body":"It did work, but when I open the file it is not seen what could be a reason. While in debug log I could see the change reflecting"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678919899,"post_id":75749180,"comment_id":133628820,"body_markdown":"Does the file timestamp indicate that the file was touched at the time the program was run? Also, use new FileWriter(path, true)","body":"Does the file timestamp indicate that the file was touched at the time the program was run? Also, use new FileWriter(path, true)"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678908036,"creation_date":1678908036,"answer_id":75749180,"question_id":75747983,"body_markdown":"Try this:\r\n\r\n        String path = resourceHelper.getFilePath(DOCUMENT_PATH2);\r\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n        BufferedWriter writer = new BufferedWriter(new FileWriter(path));\r\n        String json = gson.toJson(documentToSave);\r\n        System.out.println(“json: ” + json);\r\n        writer.write(json, 0, json.size());\r\n        writer.flush();\r\n        writer.close();","title":"File writer fails to write to existing json?","body":"<p>Try this:</p>\n<pre><code>    String path = resourceHelper.getFilePath(DOCUMENT_PATH2);\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\n    BufferedWriter writer = new BufferedWriter(new FileWriter(path));\n    String json = gson.toJson(documentToSave);\n    System.out.println(“json: ” + json);\n    writer.write(json, 0, json.size());\n    writer.flush();\n    writer.close();\n</code></pre>\n"}],"owner":{"account_id":5932921,"reputation":31,"user_id":4666858,"display_name":"Vio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75749180,"answer_count":1,"score":0,"last_activity_date":1678908036,"creation_date":1678900167,"question_id":75747983,"body_markdown":"File writer fails to write to existing json ?\r\n\r\nI definitely get the value but write buffer is null during the whose process. \r\n\r\nHow to fix this issue ? No error or exception is caught.\r\n\r\nI have tried using different types of Writer too.\r\n\r\n  \r\n\r\n``` \r\n\r\n     String path = resourceHelper.getFilePath(DOCUMENT_PATH2);\r\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n        BufferedWriter writer = new BufferedWriter(new FileWriter(path));\r\n        writer.write(gson.toJson(documentToSave));\r\n        writer.flush();\r\n        writer.close();\r\n\r\n```\r\n\r\nOR\r\n\r\n```\r\n\r\nFiles.write(Paths.get(path), new Gson().toJson(documentToSave).getBytes(StandardCharsets.UTF_8));\r\n\r\n```","title":"File writer fails to write to existing json?","body":"<p>File writer fails to write to existing json ?</p>\n<p>I definitely get the value but write buffer is null during the whose process.</p>\n<p>How to fix this issue ? No error or exception is caught.</p>\n<p>I have tried using different types of Writer too.</p>\n<pre><code>\n     String path = resourceHelper.getFilePath(DOCUMENT_PATH2);\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\n        BufferedWriter writer = new BufferedWriter(new FileWriter(path));\n        writer.write(gson.toJson(documentToSave));\n        writer.flush();\n        writer.close();\n\n</code></pre>\n<p>OR</p>\n<pre><code>\nFiles.write(Paths.get(path), new Gson().toJson(documentToSave).getBytes(StandardCharsets.UTF_8));\n\n</code></pre>\n"},{"tags":["java","jpa","hibernate-criteria","criteria-api","criteriaquery"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1604497162,"post_id":64676170,"comment_id":114364448,"body_markdown":"This looks like a Hibernate bug. It is not clear why the join aliased with `meeting1_ ` is even needed in the first place. I&#39;d report an issue with the Hibernate folks. In the meantime, the obvious workaround is to use `.distinct(true)`","body":"This looks like a Hibernate bug. It is not clear why the join aliased with <code>meeting1_ </code> is even needed in the first place. I&#39;d report an issue with the Hibernate folks. In the meantime, the obvious workaround is to use <code>.distinct(true)</code>"},{"owner":{"account_id":19894095,"reputation":13,"user_id":14575508,"display_name":"Andre Torensma"},"score":0,"creation_date":1605273743,"post_id":64676170,"comment_id":114607317,"body_markdown":"Thanks for the answer. The distinct, for us, is not a good solution because we want to extend the example with more joins. I rewrote my code to create my own criteriabuilder with flexible jpql. I will report a bug to Hibernate-support. Thanks again.","body":"Thanks for the answer. The distinct, for us, is not a good solution because we want to extend the example with more joins. I rewrote my code to create my own criteriabuilder with flexible jpql. I will report a bug to Hibernate-support. Thanks again."}],"answers":[{"tags":[],"owner":{"account_id":26369278,"reputation":39,"user_id":20024211,"display_name":"tickrate"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663486216,"creation_date":1663486216,"answer_id":73760869,"question_id":64676170,"body_markdown":"The use of `treat()` in combination with different inheritance strategies is known to be rather troublesome. See [HHH-9594][1] and related issues, it is being worked on.\r\n\r\nI can confirm however that `hibernate 6.1.3` works better, however the [preferred][2] solution has yet to be build.   \r\nGenerated query with `hibernate 6.1.3` and `spring-boot 3.0.0-M4`\r\n\r\n    select\r\n        c1_0.id,\r\n        c1_0.identificationcode,\r\n        c1_0.version \r\n    from\r\n        l_cases c1_0 \r\n    join\r\n        (l_meetings m1_0 \r\n    join\r\n        l_special_meetings m1_1 \r\n            on m1_0.id=m1_1.id) \r\n                on c1_0.id=m1_0.case_id \r\n        where\r\n            case \r\n                when case \r\n                    when m1_1.id is not null then 1 \r\n                    when m1_0.id is not null then 0 \r\n                end=1 then m1_1.actuel_enddate \r\n                else null \r\n            end&gt;=?\r\n\r\n\r\nSince you&#39;ve already built a solution that fits you&#39;re specific needs I won&#39;t go into detail about several workarounds. There are a lot already out there like [this][3] thread.\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-9594\r\n  [2]: https://hibernate.atlassian.net/browse/HHH-9109\r\n  [3]: https://stackoverflow.com/a/59699341/20024211","title":"JPA Criteria API generates extra inner join with the use of a subtype class","body":"<p>The use of <code>treat()</code> in combination with different inheritance strategies is known to be rather troublesome. See <a href=\"https://hibernate.atlassian.net/browse/HHH-9594\" rel=\"nofollow noreferrer\">HHH-9594</a> and related issues, it is being worked on.</p>\n<p>I can confirm however that <code>hibernate 6.1.3</code> works better, however the <a href=\"https://hibernate.atlassian.net/browse/HHH-9109\" rel=\"nofollow noreferrer\">preferred</a> solution has yet to be build.<br />\nGenerated query with <code>hibernate 6.1.3</code> and <code>spring-boot 3.0.0-M4</code></p>\n<pre><code>select\n    c1_0.id,\n    c1_0.identificationcode,\n    c1_0.version \nfrom\n    l_cases c1_0 \njoin\n    (l_meetings m1_0 \njoin\n    l_special_meetings m1_1 \n        on m1_0.id=m1_1.id) \n            on c1_0.id=m1_0.case_id \n    where\n        case \n            when case \n                when m1_1.id is not null then 1 \n                when m1_0.id is not null then 0 \n            end=1 then m1_1.actuel_enddate \n            else null \n        end&gt;=?\n</code></pre>\n<p>Since you've already built a solution that fits you're specific needs I won't go into detail about several workarounds. There are a lot already out there like <a href=\"https://stackoverflow.com/a/59699341/20024211\">this</a> thread.</p>\n"},{"tags":[],"owner":{"account_id":97204,"reputation":4979,"user_id":263801,"accept_rate":74,"display_name":"Archie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678907645,"creation_date":1678907645,"answer_id":75749134,"question_id":64676170,"body_markdown":"Hibernate&#39;s `CriteriaBuilder.treat()` is broken; see for example [HHH-16318][1].\r\n\r\nA simple workaround is to just change expressions like `cb.treat(animal, Dog.class)` into `((From&lt;?, Dog&gt;)(Object)animal)`.\r\n\r\nThis works because there is no &quot;runtime type checking&quot; to worry about with SQL.\r\n\r\nYou will need to add `@SuppressWarnings(&quot;unchecked&quot;)` of course.\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-16318","title":"JPA Criteria API generates extra inner join with the use of a subtype class","body":"<p>Hibernate's <code>CriteriaBuilder.treat()</code> is broken; see for example <a href=\"https://hibernate.atlassian.net/browse/HHH-16318\" rel=\"nofollow noreferrer\">HHH-16318</a>.</p>\n<p>A simple workaround is to just change expressions like <code>cb.treat(animal, Dog.class)</code> into <code>((From&lt;?, Dog&gt;)(Object)animal)</code>.</p>\n<p>This works because there is no &quot;runtime type checking&quot; to worry about with SQL.</p>\n<p>You will need to add <code>@SuppressWarnings(&quot;unchecked&quot;)</code> of course.</p>\n"}],"owner":{"account_id":19894095,"reputation":13,"user_id":14575508,"display_name":"Andre Torensma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":917,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73760869,"answer_count":2,"score":1,"last_activity_date":1678907645,"creation_date":1604477117,"question_id":64676170,"body_markdown":"We have 3 classes Case, Meeting and SpecialMeeting (zie objects below). When we use the JPA Criteria Api in the following way:\r\n```\r\n\tstatic Specification&lt;Case&gt; betweenEnddateSpecialMeeting(LocalDate start, LocalDate end) {\r\n\t\treturn (root, query, cb) -&gt; {\r\n\t\t\tif (start != null || end != null) {\r\n\t\t\t\tJoin&lt;Case, SpecialMeeting&gt; join = cb.treat(root.join(Case_.meetings), SpecialMeeting.class);\r\n\t\t\t\tPath&lt;LocalDate&gt; pathEnddate = join.get(SpecialMeeting_.actuelEnddate);\r\n\r\n\t\t\t\treturn findByStartAndEndDate(start, end, cb, pathEnddate);\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\tprivate static Predicate findByStartAndEndDate(LocalDate start, LocalDate end, CriteriaBuilder cb, Path&lt;LocalDate&gt; pathEnddate) {\r\n\t\tif (start != null &amp;&amp; end != null) {\r\n\t\t\treturn cb.and(cb.greaterThanOrEqualTo(pathEnddate, start),\r\n\t\t\t\t\t\t  cb.lessThanOrEqualTo(pathEnddate, end));\r\n\t\t} else if (start != null) {\r\n\t\t\treturn cb.greaterThanOrEqualTo(pathEnddate, start);\r\n\t\t} else {\r\n\t\t\treturn cb.lessThanOrEqualTo(pathEnddate, end);\r\n\t\t}\r\n\t}\r\n```\r\nHibernate generates the following query:\r\n```\r\n    select\r\n        case0_.id as id1_73_,\r\n        case0_.identificationcode as identifi8_73_,\r\n        case0_.version as version15_73_\r\n    from\r\n        l_cases case0_ \r\n    inner join\r\n        l_meetings meeting1_ \r\n            on case0_.id=meeting1_.case_id \r\n    inner join\r\n        l_meetings meeting2_ \r\n            on case0_.id=meeting2_.case_id \r\n    inner join\r\n        l_special_meetings meeting2_1_ \r\n            on meeting2_.id=meeting2_1_.id \r\n    where\r\n        meeting2_1_.actuel_enddate&lt;=?\r\n```\r\n\t\t\r\nThe cb.treat(root.join(Case_.meetings), SpecialMeeting.class) which we use for the subtype SpecialMeeting,\r\ngenerates an extra inner join for l_meetings. This results in duplicate records. \r\nCan someone help us to get the right query for 1 inner join on l_meetings?\t\r\n\r\nWe are using the following versions:\r\n\r\nhibernate 5.4.20-Final  \r\nspring-boot: 2.3.3.RELEASE  \t\t\r\n\r\nRegards,  \r\nAndre Torensma\r\n\t\t\r\n\t\t\r\nEntities used in above example. \t\t\r\n```\t\t\r\n@Slf4j\r\n@Audited\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Table(name = &quot;L_CASES&quot;)\r\n@SequenceGenerator(name = &quot;LCN&quot;, sequenceName = &quot;L_CASE_SEQ&quot;, allocationSize = 1)\r\npublic class Case implements IdentifiableEntity {\r\n\r\n\t@Id\r\n\t@Column(nullable = false, precision = 10)\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;LCN&quot;)\r\n\tprivate Long id;\r\n\t@Version\r\n\tprivate Long version;\r\n\t@Column(precision = 50)\r\n\tprivate String identificationcode;\r\n\t@Valid\r\n\t@OneToMany(mappedBy = &quot;case&quot;, cascade = { CascadeType.ALL })\r\n\tprivate List&lt;Meeting&gt; meetings = new ArrayList&lt;&gt;();\r\n\r\n\t@Override\r\n\tpublic String getidentificationCode() {\r\n\t\treturn identificationcode;\r\n\t}\r\n}\r\n\r\n\r\n@Slf4j\r\n@Audited\r\n@Getter\r\n@Setter\r\n@Entity\r\n@NoArgsConstructor\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\n@DiscriminatorColumn(name = &quot;TYPE&quot;, length = 2, discriminatorType = DiscriminatorType.STRING)\r\n@Table(name = &quot;L_MEETINGS&quot;)\r\n@SequenceGenerator(name = &quot;LMS&quot;, sequenceName = &quot;L_MEETINGS_SEQ&quot;, allocationSize = 1)\r\npublic class Meeting {\r\n\t@Id\r\n\t@Column(nullable = false, precision = 10)\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;LMS&quot;)\r\n\tprivate Long id;\r\n\t@Version\r\n\tprivate Long version;\r\n\t@Column(length = 36)\r\n\tprivate String identificationcode;\r\n\t@Column(nullable = false)\r\n\tprivate LocalDate ldate;\r\n\t@Column(name = &quot;DATETIME_REGISTRATION&quot;, nullable = false)\r\n\tprivate LocalDateTime datetimeRegistration;\r\n\t@OneToOne(cascade = CascadeType.ALL)\r\n\t@JoinColumn(name = &quot;MEETING_ID&quot;)\r\n\tprivate Meeting relatedMeeting;\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;CASE_ID&quot;, nullable = false)\r\n\tprivate Case case;\r\n\r\n\tpublic Optional&lt;SpecialMeeting&gt; getSpecialMeeting() {\r\n\t\tif (this instanceof SpecialMeeting) {\r\n\t\t\treturn Optional.of((SpecialMeeting) this);\r\n\t\t}\r\n\t\treturn Optional.empty();\r\n\t}\r\n}\r\n\r\n\r\n@Audited\r\n@Getter\r\n@Setter\r\n@Entity\r\n@NoArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@Table(name = &quot;L_SPECIAL_MEETINGS&quot;)\r\n@DiscriminatorValue(&quot;BB&quot;)\r\npublic class SpecialMeeting extends Meeting {\r\n\t@Column\r\n\tprivate LocalDate startdate;\r\n\t@Column\r\n\tprivate LocalDate enddate;\r\n\t@Column(name = &quot;ACTUEL_ENDDATE&quot;)\r\n\tprivate LocalDate actuelEnddate;\r\n\t@Column\r\n\tprivate String description;\r\n\r\n}```","title":"JPA Criteria API generates extra inner join with the use of a subtype class","body":"<p>We have 3 classes Case, Meeting and SpecialMeeting (zie objects below). When we use the JPA Criteria Api in the following way:</p>\n<pre><code>    static Specification&lt;Case&gt; betweenEnddateSpecialMeeting(LocalDate start, LocalDate end) {\n        return (root, query, cb) -&gt; {\n            if (start != null || end != null) {\n                Join&lt;Case, SpecialMeeting&gt; join = cb.treat(root.join(Case_.meetings), SpecialMeeting.class);\n                Path&lt;LocalDate&gt; pathEnddate = join.get(SpecialMeeting_.actuelEnddate);\n\n                return findByStartAndEndDate(start, end, cb, pathEnddate);\n            } else {\n                return null;\n            }\n        };\n    }\n    private static Predicate findByStartAndEndDate(LocalDate start, LocalDate end, CriteriaBuilder cb, Path&lt;LocalDate&gt; pathEnddate) {\n        if (start != null &amp;&amp; end != null) {\n            return cb.and(cb.greaterThanOrEqualTo(pathEnddate, start),\n                          cb.lessThanOrEqualTo(pathEnddate, end));\n        } else if (start != null) {\n            return cb.greaterThanOrEqualTo(pathEnddate, start);\n        } else {\n            return cb.lessThanOrEqualTo(pathEnddate, end);\n        }\n    }\n</code></pre>\n<p>Hibernate generates the following query:</p>\n<pre><code>    select\n        case0_.id as id1_73_,\n        case0_.identificationcode as identifi8_73_,\n        case0_.version as version15_73_\n    from\n        l_cases case0_ \n    inner join\n        l_meetings meeting1_ \n            on case0_.id=meeting1_.case_id \n    inner join\n        l_meetings meeting2_ \n            on case0_.id=meeting2_.case_id \n    inner join\n        l_special_meetings meeting2_1_ \n            on meeting2_.id=meeting2_1_.id \n    where\n        meeting2_1_.actuel_enddate&lt;=?\n</code></pre>\n<p>The cb.treat(root.join(Case_.meetings), SpecialMeeting.class) which we use for the subtype SpecialMeeting,\ngenerates an extra inner join for l_meetings. This results in duplicate records.\nCan someone help us to get the right query for 1 inner join on l_meetings?</p>\n<p>We are using the following versions:</p>\n<p>hibernate 5.4.20-Final<br />\nspring-boot: 2.3.3.RELEASE</p>\n<p>Regards,<br />\nAndre Torensma</p>\n<p>Entities used in above example.</p>\n<pre><code>@Slf4j\n@Audited\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@Table(name = &quot;L_CASES&quot;)\n@SequenceGenerator(name = &quot;LCN&quot;, sequenceName = &quot;L_CASE_SEQ&quot;, allocationSize = 1)\npublic class Case implements IdentifiableEntity {\n\n    @Id\n    @Column(nullable = false, precision = 10)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;LCN&quot;)\n    private Long id;\n    @Version\n    private Long version;\n    @Column(precision = 50)\n    private String identificationcode;\n    @Valid\n    @OneToMany(mappedBy = &quot;case&quot;, cascade = { CascadeType.ALL })\n    private List&lt;Meeting&gt; meetings = new ArrayList&lt;&gt;();\n\n    @Override\n    public String getidentificationCode() {\n        return identificationcode;\n    }\n}\n\n\n@Slf4j\n@Audited\n@Getter\n@Setter\n@Entity\n@NoArgsConstructor\n@Inheritance(strategy = InheritanceType.JOINED)\n@DiscriminatorColumn(name = &quot;TYPE&quot;, length = 2, discriminatorType = DiscriminatorType.STRING)\n@Table(name = &quot;L_MEETINGS&quot;)\n@SequenceGenerator(name = &quot;LMS&quot;, sequenceName = &quot;L_MEETINGS_SEQ&quot;, allocationSize = 1)\npublic class Meeting {\n    @Id\n    @Column(nullable = false, precision = 10)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;LMS&quot;)\n    private Long id;\n    @Version\n    private Long version;\n    @Column(length = 36)\n    private String identificationcode;\n    @Column(nullable = false)\n    private LocalDate ldate;\n    @Column(name = &quot;DATETIME_REGISTRATION&quot;, nullable = false)\n    private LocalDateTime datetimeRegistration;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;MEETING_ID&quot;)\n    private Meeting relatedMeeting;\n    @ManyToOne\n    @JoinColumn(name = &quot;CASE_ID&quot;, nullable = false)\n    private Case case;\n\n    public Optional&lt;SpecialMeeting&gt; getSpecialMeeting() {\n        if (this instanceof SpecialMeeting) {\n            return Optional.of((SpecialMeeting) this);\n        }\n        return Optional.empty();\n    }\n}\n\n\n@Audited\n@Getter\n@Setter\n@Entity\n@NoArgsConstructor\n@EqualsAndHashCode(callSuper = true)\n@Table(name = &quot;L_SPECIAL_MEETINGS&quot;)\n@DiscriminatorValue(&quot;BB&quot;)\npublic class SpecialMeeting extends Meeting {\n    @Column\n    private LocalDate startdate;\n    @Column\n    private LocalDate enddate;\n    @Column(name = &quot;ACTUEL_ENDDATE&quot;)\n    private LocalDate actuelEnddate;\n    @Column\n    private String description;\n\n}```\n</code></pre>\n"},{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1678962690,"post_id":75749015,"comment_id":133635948,"body_markdown":"(1) unzip lib-sources.jar,  scan java file (2) if lib is your project, and you have original source, Maven project, you can use `checkstyle`, `pmd`, `FindBugs` to config some check rules then scan and output some reports.","body":"(1) unzip lib-sources.jar,  scan java file (2) if lib is your project, and you have original source, Maven project, you can use <code>checkstyle</code>, <code>pmd</code>, <code>FindBugs</code> to config some check rules then scan and output some reports."}],"owner":{"account_id":5395380,"reputation":182,"user_id":17547033,"display_name":"nik0x1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678907010,"creation_date":1678906777,"question_id":75749015,"body_markdown":"I have a library with three artifacts:\r\n\r\n    lib.jar - the lib\r\n    lib-sources.jar - sources of the lib\r\n    lib-javadoc.jar - a javadoc static site of the lib\r\n\r\nI want to inspect javadoc comments on the lib and to figure out, for example:\r\n\r\n - Do all parameters in interfaces have a javadoc comment (@param).\r\n - Do all not void public methods in classes and interfaces have a javadoc comment (@return).\r\n - etc.\r\n\r\nHow can I inspect javadoc comments in the lib?","title":"How to inspect javadoc comments?","body":"<p>I have a library with three artifacts:</p>\n<pre><code>lib.jar - the lib\nlib-sources.jar - sources of the lib\nlib-javadoc.jar - a javadoc static site of the lib\n</code></pre>\n<p>I want to inspect javadoc comments on the lib and to figure out, for example:</p>\n<ul>\n<li>Do all parameters in interfaces have a javadoc comment (@param).</li>\n<li>Do all not void public methods in classes and interfaces have a javadoc comment (@return).</li>\n<li>etc.</li>\n</ul>\n<p>How can I inspect javadoc comments in the lib?</p>\n"},{"tags":["java","jmeter"],"answers":[{"comments":[{"owner":{"account_id":19125803,"reputation":3,"user_id":13968807,"display_name":"王纾林"},"score":0,"creation_date":1678957403,"post_id":75749001,"comment_id":133634411,"body_markdown":"thank you very much!but i have another question,why i can&#39;t open the example.jmx by gui?the err message as follows:class org.apache.jmeter.threads.ThreadGroup cannot be cast to class org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase (org.apache.jmeter.threads.ThreadGroup and org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase are in unnamed module of loader org.apache.jmeter.DynamicClassLoader @3b07d329)","body":"thank you very much!but i have another question,why i can&#39;t open the example.jmx by gui?the err message as follows:class org.apache.jmeter.threads.ThreadGroup cannot be cast to class org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase (org.apache.jmeter.threads.ThreadGroup and org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase are in unnamed module of loader org.apache.jmeter.DynamicClassLoader @3b07d329)"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678906682,"creation_date":1678906682,"answer_id":75749001,"question_id":75747784,"body_markdown":"I don&#39;t know how do your `createHTTPSamplerProxy()`, `createLoopController()`, etc. look like but if you take the following class from [jmeter-from-code][1] sample project as a reference:\r\n\r\n    package com.blazemeter.demo;\r\n    \r\n    import org.apache.jmeter.config.Arguments;\r\n    import org.apache.jmeter.config.gui.ArgumentsPanel;\r\n    import org.apache.jmeter.control.LoopController;\r\n    import org.apache.jmeter.control.gui.LoopControlPanel;\r\n    import org.apache.jmeter.control.gui.TestPlanGui;\r\n    import org.apache.jmeter.engine.StandardJMeterEngine;\r\n    import org.apache.jmeter.protocol.http.control.gui.HttpTestSampleGui;\r\n    import org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy;\r\n    import org.apache.jmeter.reporters.ResultCollector;\r\n    import org.apache.jmeter.reporters.Summariser;\r\n    import org.apache.jmeter.save.SaveService;\r\n    import org.apache.jmeter.testelement.TestElement;\r\n    import org.apache.jmeter.testelement.TestPlan;\r\n    import org.apache.jmeter.threads.ThreadGroup;\r\n    import org.apache.jmeter.threads.gui.ThreadGroupGui;\r\n    import org.apache.jmeter.util.JMeterUtils;\r\n    import org.apache.jorphan.collections.HashTree;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    \r\n    \r\n    public class JMeterFromScratch {\r\n    \r\n        public static void main(String[] argv) throws Exception {\r\n    \r\n            File jmeterHome = new File(System.getProperty(&quot;jmeter.home&quot;));\r\n            String slash = System.getProperty(&quot;file.separator&quot;);\r\n    \r\n            if (jmeterHome.exists()) {\r\n                File jmeterProperties = new File(jmeterHome.getPath() + slash + &quot;bin&quot; + slash + &quot;jmeter.properties&quot;);\r\n                if (jmeterProperties.exists()) {\r\n                    //JMeter Engine\r\n                    StandardJMeterEngine jmeter = new StandardJMeterEngine();\r\n    \r\n                    //JMeter initialization (properties, log levels, locale, etc)\r\n                    JMeterUtils.setJMeterHome(jmeterHome.getPath());\r\n                    JMeterUtils.loadJMeterProperties(jmeterProperties.getPath());\r\n                    JMeterUtils.initLogging();// you can comment this line out to see extra log messages of i.e. DEBUG level\r\n                    JMeterUtils.initLocale();\r\n    \r\n                    // JMeter Test Plan, basically JOrphan HashTree\r\n                    HashTree testPlanTree = new HashTree();\r\n    \r\n                    // First HTTP Sampler - open example.com\r\n                    HTTPSamplerProxy examplecomSampler = new HTTPSamplerProxy();\r\n                    examplecomSampler.setDomain(&quot;example.com&quot;);\r\n                    examplecomSampler.setPort(80);\r\n                    examplecomSampler.setPath(&quot;/&quot;);\r\n                    examplecomSampler.setMethod(&quot;GET&quot;);\r\n                    examplecomSampler.setName(&quot;Open example.com&quot;);\r\n                    examplecomSampler.setProperty(TestElement.TEST_CLASS, HTTPSamplerProxy.class.getName());\r\n                    examplecomSampler.setProperty(TestElement.GUI_CLASS, HttpTestSampleGui.class.getName());\r\n    \r\n    \r\n                    // Second HTTP Sampler - open blazemeter.com\r\n                    HTTPSamplerProxy blazemetercomSampler = new HTTPSamplerProxy();\r\n                    blazemetercomSampler.setDomain(&quot;blazemeter.com&quot;);\r\n                    blazemetercomSampler.setPort(80);\r\n                    blazemetercomSampler.setPath(&quot;/&quot;);\r\n                    blazemetercomSampler.setMethod(&quot;GET&quot;);\r\n                    blazemetercomSampler.setName(&quot;Open blazemeter.com&quot;);\r\n                    blazemetercomSampler.setProperty(TestElement.TEST_CLASS, HTTPSamplerProxy.class.getName());\r\n                    blazemetercomSampler.setProperty(TestElement.GUI_CLASS, HttpTestSampleGui.class.getName());\r\n    \r\n    \r\n                    // Loop Controller\r\n                    LoopController loopController = new LoopController();\r\n                    loopController.setLoops(1);\r\n                    loopController.setFirst(true);\r\n                    loopController.setProperty(TestElement.TEST_CLASS, LoopController.class.getName());\r\n                    loopController.setProperty(TestElement.GUI_CLASS, LoopControlPanel.class.getName());\r\n                    loopController.initialize();\r\n    \r\n                    // Thread Group\r\n                    ThreadGroup threadGroup = new ThreadGroup();\r\n                    threadGroup.setName(&quot;Example Thread Group&quot;);\r\n                    threadGroup.setNumThreads(1);\r\n                    threadGroup.setRampUp(1);\r\n                    threadGroup.setSamplerController(loopController);\r\n                    threadGroup.setProperty(TestElement.TEST_CLASS, ThreadGroup.class.getName());\r\n                    threadGroup.setProperty(TestElement.GUI_CLASS, ThreadGroupGui.class.getName());\r\n    \r\n                    // Test Plan\r\n                    TestPlan testPlan = new TestPlan(&quot;Create JMeter Script From Java Code&quot;);\r\n                    testPlan.setProperty(TestElement.TEST_CLASS, TestPlan.class.getName());\r\n                    testPlan.setProperty(TestElement.GUI_CLASS, TestPlanGui.class.getName());\r\n                    testPlan.setUserDefinedVariables((Arguments) new ArgumentsPanel().createTestElement());\r\n    \r\n                    // Construct Test Plan from previously initialized elements\r\n                    testPlanTree.add(testPlan);\r\n                    HashTree threadGroupHashTree = testPlanTree.add(testPlan, threadGroup);\r\n                    threadGroupHashTree.add(blazemetercomSampler);\r\n                    threadGroupHashTree.add(examplecomSampler);\r\n    \r\n                    // save generated test plan to JMeter&#39;s .jmx file format\r\n                    SaveService.saveTree(testPlanTree, new FileOutputStream(jmeterHome + slash + &quot;example.jmx&quot;));\r\n    \r\n                    //add Summarizer output to get test progress in stdout like:\r\n                    // summary =      2 in   1.3s =    1.5/s Avg:   631 Min:   290 Max:   973 Err:     0 (0.00%)\r\n                    Summariser summer = null;\r\n                    String summariserName = JMeterUtils.getPropDefault(&quot;summariser.name&quot;, &quot;summary&quot;);\r\n                    if (summariserName.length() &gt; 0) {\r\n                        summer = new Summariser(summariserName);\r\n                    }\r\n    \r\n    \r\n                    // Store execution results into a .jtl file\r\n                    String logFile = jmeterHome + slash + &quot;example.jtl&quot;;\r\n                    ResultCollector logger = new ResultCollector(summer);\r\n                    logger.setFilename(logFile);\r\n                    testPlanTree.add(testPlanTree.getArray()[0], logger);\r\n    \r\n                    // Run Test Plan\r\n                    jmeter.configure(testPlanTree);\r\n                    jmeter.run();\r\n    \r\n                    System.out.println(&quot;Test completed. See &quot; + jmeterHome + slash + &quot;example.jtl file for results&quot;);\r\n                    System.out.println(&quot;JMeter .jmx script is available at &quot; + jmeterHome + slash + &quot;example.jmx&quot;);\r\n                    System.exit(0);\r\n    \r\n                }\r\n            }\r\n    \r\n            System.err.println(&quot;jmeter.home property is not set or pointing to incorrect location&quot;);\r\n            System.exit(1);\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nand run it you will see that `example.jtl` file contains some metrics:\r\n\r\n    timeStamp,elapsed,label,responseCode,responseMessage,threadName,dataType,success,failureMessage,bytes,sentBytes,grpThreads,allThreads,URL,Latency,IdleTime,Connect\r\n    1678906535000,210,Open example.com,200,OK,Example Thread Group 1-1,text,true,,1610,108,1,1,http://example.com/,206,0,102\r\n    1678906535211,47,Open blazemeter.com,301,Moved Permanently,Example Thread Group 1-1,,true,,381,111,1,1,http://blazemeter.com/,47,0,23\r\n\r\nThe summarizer output will go to [STDOUT][2] and to [jmeter.log][3] files \r\n\r\n\r\nYou might also be interested in [JMeter DSL][5]\r\n\r\n\r\n  [1]: https://bitbucket.org/blazemeter/jmeter-from-code/src/master/\r\n  [2]: https://en.wikipedia.org/wiki/Standard_streams#Standard_output_(stdout)\r\n  [3]: https://jmeter.apache.org/usermanual/get-started.html#logging\r\n  [4]: https://www.blazemeter.com/blog/jmeter-command-line\r\n  [5]: https://JMeter%20DSL:%20Bringing%20Performance%20Testing%20Closer%20to%20Developers","title":"How can I get the jmeter result from java code","body":"<p>I don't know how do your <code>createHTTPSamplerProxy()</code>, <code>createLoopController()</code>, etc. look like but if you take the following class from <a href=\"https://bitbucket.org/blazemeter/jmeter-from-code/src/master/\" rel=\"nofollow noreferrer\">jmeter-from-code</a> sample project as a reference:</p>\n<pre><code>package com.blazemeter.demo;\n\nimport org.apache.jmeter.config.Arguments;\nimport org.apache.jmeter.config.gui.ArgumentsPanel;\nimport org.apache.jmeter.control.LoopController;\nimport org.apache.jmeter.control.gui.LoopControlPanel;\nimport org.apache.jmeter.control.gui.TestPlanGui;\nimport org.apache.jmeter.engine.StandardJMeterEngine;\nimport org.apache.jmeter.protocol.http.control.gui.HttpTestSampleGui;\nimport org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy;\nimport org.apache.jmeter.reporters.ResultCollector;\nimport org.apache.jmeter.reporters.Summariser;\nimport org.apache.jmeter.save.SaveService;\nimport org.apache.jmeter.testelement.TestElement;\nimport org.apache.jmeter.testelement.TestPlan;\nimport org.apache.jmeter.threads.ThreadGroup;\nimport org.apache.jmeter.threads.gui.ThreadGroupGui;\nimport org.apache.jmeter.util.JMeterUtils;\nimport org.apache.jorphan.collections.HashTree;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\n\n\npublic class JMeterFromScratch {\n\n    public static void main(String[] argv) throws Exception {\n\n        File jmeterHome = new File(System.getProperty(&quot;jmeter.home&quot;));\n        String slash = System.getProperty(&quot;file.separator&quot;);\n\n        if (jmeterHome.exists()) {\n            File jmeterProperties = new File(jmeterHome.getPath() + slash + &quot;bin&quot; + slash + &quot;jmeter.properties&quot;);\n            if (jmeterProperties.exists()) {\n                //JMeter Engine\n                StandardJMeterEngine jmeter = new StandardJMeterEngine();\n\n                //JMeter initialization (properties, log levels, locale, etc)\n                JMeterUtils.setJMeterHome(jmeterHome.getPath());\n                JMeterUtils.loadJMeterProperties(jmeterProperties.getPath());\n                JMeterUtils.initLogging();// you can comment this line out to see extra log messages of i.e. DEBUG level\n                JMeterUtils.initLocale();\n\n                // JMeter Test Plan, basically JOrphan HashTree\n                HashTree testPlanTree = new HashTree();\n\n                // First HTTP Sampler - open example.com\n                HTTPSamplerProxy examplecomSampler = new HTTPSamplerProxy();\n                examplecomSampler.setDomain(&quot;example.com&quot;);\n                examplecomSampler.setPort(80);\n                examplecomSampler.setPath(&quot;/&quot;);\n                examplecomSampler.setMethod(&quot;GET&quot;);\n                examplecomSampler.setName(&quot;Open example.com&quot;);\n                examplecomSampler.setProperty(TestElement.TEST_CLASS, HTTPSamplerProxy.class.getName());\n                examplecomSampler.setProperty(TestElement.GUI_CLASS, HttpTestSampleGui.class.getName());\n\n\n                // Second HTTP Sampler - open blazemeter.com\n                HTTPSamplerProxy blazemetercomSampler = new HTTPSamplerProxy();\n                blazemetercomSampler.setDomain(&quot;blazemeter.com&quot;);\n                blazemetercomSampler.setPort(80);\n                blazemetercomSampler.setPath(&quot;/&quot;);\n                blazemetercomSampler.setMethod(&quot;GET&quot;);\n                blazemetercomSampler.setName(&quot;Open blazemeter.com&quot;);\n                blazemetercomSampler.setProperty(TestElement.TEST_CLASS, HTTPSamplerProxy.class.getName());\n                blazemetercomSampler.setProperty(TestElement.GUI_CLASS, HttpTestSampleGui.class.getName());\n\n\n                // Loop Controller\n                LoopController loopController = new LoopController();\n                loopController.setLoops(1);\n                loopController.setFirst(true);\n                loopController.setProperty(TestElement.TEST_CLASS, LoopController.class.getName());\n                loopController.setProperty(TestElement.GUI_CLASS, LoopControlPanel.class.getName());\n                loopController.initialize();\n\n                // Thread Group\n                ThreadGroup threadGroup = new ThreadGroup();\n                threadGroup.setName(&quot;Example Thread Group&quot;);\n                threadGroup.setNumThreads(1);\n                threadGroup.setRampUp(1);\n                threadGroup.setSamplerController(loopController);\n                threadGroup.setProperty(TestElement.TEST_CLASS, ThreadGroup.class.getName());\n                threadGroup.setProperty(TestElement.GUI_CLASS, ThreadGroupGui.class.getName());\n\n                // Test Plan\n                TestPlan testPlan = new TestPlan(&quot;Create JMeter Script From Java Code&quot;);\n                testPlan.setProperty(TestElement.TEST_CLASS, TestPlan.class.getName());\n                testPlan.setProperty(TestElement.GUI_CLASS, TestPlanGui.class.getName());\n                testPlan.setUserDefinedVariables((Arguments) new ArgumentsPanel().createTestElement());\n\n                // Construct Test Plan from previously initialized elements\n                testPlanTree.add(testPlan);\n                HashTree threadGroupHashTree = testPlanTree.add(testPlan, threadGroup);\n                threadGroupHashTree.add(blazemetercomSampler);\n                threadGroupHashTree.add(examplecomSampler);\n\n                // save generated test plan to JMeter's .jmx file format\n                SaveService.saveTree(testPlanTree, new FileOutputStream(jmeterHome + slash + &quot;example.jmx&quot;));\n\n                //add Summarizer output to get test progress in stdout like:\n                // summary =      2 in   1.3s =    1.5/s Avg:   631 Min:   290 Max:   973 Err:     0 (0.00%)\n                Summariser summer = null;\n                String summariserName = JMeterUtils.getPropDefault(&quot;summariser.name&quot;, &quot;summary&quot;);\n                if (summariserName.length() &gt; 0) {\n                    summer = new Summariser(summariserName);\n                }\n\n\n                // Store execution results into a .jtl file\n                String logFile = jmeterHome + slash + &quot;example.jtl&quot;;\n                ResultCollector logger = new ResultCollector(summer);\n                logger.setFilename(logFile);\n                testPlanTree.add(testPlanTree.getArray()[0], logger);\n\n                // Run Test Plan\n                jmeter.configure(testPlanTree);\n                jmeter.run();\n\n                System.out.println(&quot;Test completed. See &quot; + jmeterHome + slash + &quot;example.jtl file for results&quot;);\n                System.out.println(&quot;JMeter .jmx script is available at &quot; + jmeterHome + slash + &quot;example.jmx&quot;);\n                System.exit(0);\n\n            }\n        }\n\n        System.err.println(&quot;jmeter.home property is not set or pointing to incorrect location&quot;);\n        System.exit(1);\n\n\n    }\n}\n</code></pre>\n<p>and run it you will see that <code>example.jtl</code> file contains some metrics:</p>\n<pre><code>timeStamp,elapsed,label,responseCode,responseMessage,threadName,dataType,success,failureMessage,bytes,sentBytes,grpThreads,allThreads,URL,Latency,IdleTime,Connect\n1678906535000,210,Open example.com,200,OK,Example Thread Group 1-1,text,true,,1610,108,1,1,http://example.com/,206,0,102\n1678906535211,47,Open blazemeter.com,301,Moved Permanently,Example Thread Group 1-1,,true,,381,111,1,1,http://blazemeter.com/,47,0,23\n</code></pre>\n<p>The summarizer output will go to <a href=\"https://en.wikipedia.org/wiki/Standard_streams#Standard_output_(stdout)\" rel=\"nofollow noreferrer\">STDOUT</a> and to <a href=\"https://jmeter.apache.org/usermanual/get-started.html#logging\" rel=\"nofollow noreferrer\">jmeter.log</a> files</p>\n<p>You might also be interested in <a href=\"https://JMeter%20DSL:%20Bringing%20Performance%20Testing%20Closer%20to%20Developers\" rel=\"nofollow noreferrer\">JMeter DSL</a></p>\n"}],"owner":{"account_id":19125803,"reputation":3,"user_id":13968807,"display_name":"王纾林"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678906682,"creation_date":1678899129,"question_id":75747784,"body_markdown":"I integrated jmeter in the java code, now I can execute the test normally, but the result can only be output on the console, I want to get the test result as a file or a string, what should I do? I try to use the logger.setFilename and demo_result is a blank file,but i get the result like that:\r\n\r\n1678900803115,1,,200,,Example Thread Group 1-1,text,true,,189,120,1,1,1,0,0\r\n1678900803117,1,,200,,Example Thread Group 1-1,text,true,,189,120,1,1,1,0,0\r\n1678900803119,1,,200,,Example Thread Group 1-1,text,true,,189,120,1,1,1,0,0\r\n\r\n**how can i get other result** like &quot;summary =      3 in 00:00:00 =   46.9/s Avg:     1 Min:     1 Max:     1 Err:     0 (0.00%)&quot;?\r\nThis is my code.\r\n\r\n```java\r\npublic static void initJmeter(){\r\n        StandardJMeterEngine standardJMeterEngine = new StandardJMeterEngine();\r\n        // 设置不适用gui的方式调用jmeter\r\n        System.setProperty(JMeter.JMETER_NON_GUI, &quot;true&quot;);\r\n        // 设置jmeter.properties文件，我们将jmeter文件存放在resources中，通过classload\r\n        //String path = TestPlanLauncher.class.getClassLoader().getResource(&quot;jmeter.properties&quot;).getPath();\r\n        String path = &quot;D:/Programming/JMeter/apache-jmeter-5.5/bin/jmeter.properties&quot;;\r\n        File jmeterPropertiesFile = new File(path);\r\n        if (jmeterPropertiesFile.exists()) {\r\n            JMeterUtils.loadJMeterProperties(jmeterPropertiesFile.getPath());\r\n            HashTree testPlanTree = new HashTree();\r\n            TestPlan testPlan = new TestPlan(&quot;Create JMeter Script From Java Code&quot;);\r\n            HTTPSamplerProxy examplecomSampler = createHTTPSamplerProxy();\r\n            LoopController loopController = createLoopController();\r\n            ThreadGroup threadGroup = createThreadGroup();\r\n            threadGroup.setSamplerController(loopController);\r\n            HashTree threadGroupHashTree = testPlanTree.add(testPlan, threadGroup);\r\n            threadGroupHashTree.add(examplecomSampler);\r\n            Summariser summer = null;\r\n            String summariserName = JMeterUtils.getPropDefault(&quot;summariser.name&quot;, &quot;summary&quot;);\r\n            if (summariserName.length() &gt; 0) {\r\n                summer = new Summariser(summariserName);\r\n            }\r\n            ResultCollector logger = new ResultCollector(summer);\r\n            logger.setFilename(&quot;D:/Programming/JMeter/apache-jmeter-5.5/result/demo_result&quot;);\r\n            testPlanTree.add(testPlanTree.getArray()[0], logger);\r\n\r\n            standardJMeterEngine.configure(testPlanTree);\r\n            standardJMeterEngine.run();\r\n        }\r\n    }\r\n```\r\n\r\n","title":"How can I get the jmeter result from java code","body":"<p>I integrated jmeter in the java code, now I can execute the test normally, but the result can only be output on the console, I want to get the test result as a file or a string, what should I do? I try to use the logger.setFilename and demo_result is a blank file,but i get the result like that:</p>\n<p>1678900803115,1,,200,,Example Thread Group 1-1,text,true,,189,120,1,1,1,0,0\n1678900803117,1,,200,,Example Thread Group 1-1,text,true,,189,120,1,1,1,0,0\n1678900803119,1,,200,,Example Thread Group 1-1,text,true,,189,120,1,1,1,0,0</p>\n<p><strong>how can i get other result</strong> like &quot;summary =      3 in 00:00:00 =   46.9/s Avg:     1 Min:     1 Max:     1 Err:     0 (0.00%)&quot;?\nThis is my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void initJmeter(){\n        StandardJMeterEngine standardJMeterEngine = new StandardJMeterEngine();\n        // 设置不适用gui的方式调用jmeter\n        System.setProperty(JMeter.JMETER_NON_GUI, &quot;true&quot;);\n        // 设置jmeter.properties文件，我们将jmeter文件存放在resources中，通过classload\n        //String path = TestPlanLauncher.class.getClassLoader().getResource(&quot;jmeter.properties&quot;).getPath();\n        String path = &quot;D:/Programming/JMeter/apache-jmeter-5.5/bin/jmeter.properties&quot;;\n        File jmeterPropertiesFile = new File(path);\n        if (jmeterPropertiesFile.exists()) {\n            JMeterUtils.loadJMeterProperties(jmeterPropertiesFile.getPath());\n            HashTree testPlanTree = new HashTree();\n            TestPlan testPlan = new TestPlan(&quot;Create JMeter Script From Java Code&quot;);\n            HTTPSamplerProxy examplecomSampler = createHTTPSamplerProxy();\n            LoopController loopController = createLoopController();\n            ThreadGroup threadGroup = createThreadGroup();\n            threadGroup.setSamplerController(loopController);\n            HashTree threadGroupHashTree = testPlanTree.add(testPlan, threadGroup);\n            threadGroupHashTree.add(examplecomSampler);\n            Summariser summer = null;\n            String summariserName = JMeterUtils.getPropDefault(&quot;summariser.name&quot;, &quot;summary&quot;);\n            if (summariserName.length() &gt; 0) {\n                summer = new Summariser(summariserName);\n            }\n            ResultCollector logger = new ResultCollector(summer);\n            logger.setFilename(&quot;D:/Programming/JMeter/apache-jmeter-5.5/result/demo_result&quot;);\n            testPlanTree.add(testPlanTree.getArray()[0], logger);\n\n            standardJMeterEngine.configure(testPlanTree);\n            standardJMeterEngine.run();\n        }\n    }\n</code></pre>\n"},{"tags":["java","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1678906693,"post_id":75742005,"comment_id":133625913,"body_markdown":"Are you using Spring? I don&#39;t see Spring in the stack trace at least. I would also advise updating to 5.0.6.Final as that is the latest Jakarta REST 2.1 implementation.","body":"Are you using Spring? I don&#39;t see Spring in the stack trace at least. I would also advise updating to 5.0.6.Final as that is the latest Jakarta REST 2.1 implementation."},{"owner":{"account_id":27000493,"reputation":11,"user_id":20561850,"display_name":"Saurabh Panchal"},"score":0,"creation_date":1678939212,"post_id":75742005,"comment_id":133631281,"body_markdown":"@JamesR.Perkins No Sir, I&#39;m not using Spring. My project comprise of multiple modules, and only one of them is totally dependent upon spring, but not this one (having error). I will try on 5.0.6.Final and will let you know. Thanks.","body":"@JamesR.Perkins No Sir, I&#39;m not using Spring. My project comprise of multiple modules, and only one of them is totally dependent upon spring, but not this one (having error). I will try on 5.0.6.Final and will let you know. Thanks."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1678976814,"post_id":75742005,"comment_id":133640381,"body_markdown":"Then the `SpringContextLoaderListener` won&#39;t really work for you since you&#39;re not using it , it&#39;s not on your class path. If you have issues with 5.0.6.Final, please let me know. You&#39;re welcome to open a discussion here too https://github.com/resteasy/resteasy/discussions.","body":"Then the <code>SpringContextLoaderListener</code> won&#39;t really work for you since you&#39;re not using it , it&#39;s not on your class path. If you have issues with 5.0.6.Final, please let me know. You&#39;re welcome to open a discussion here too <a href=\"https://github.com/resteasy/resteasy/discussions\" rel=\"nofollow noreferrer\">github.com/resteasy/resteasy/discussions</a>."},{"owner":{"account_id":27000493,"reputation":11,"user_id":20561850,"display_name":"Saurabh Panchal"},"score":0,"creation_date":1679034062,"post_id":75742005,"comment_id":133651631,"body_markdown":"Sure @JamesR.Perkins, I will let you know.","body":"Sure @JamesR.Perkins, I will let you know."}],"owner":{"account_id":27000493,"reputation":11,"user_id":20561850,"display_name":"Saurabh Panchal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678906613,"creation_date":1678867930,"question_id":75742005,"body_markdown":"my java project uses resteasy version 3.1.4.Final since beginning. But now, I want to upgrade to 3.14.0.Final or to upper latest and non-vulnerable one. But for the time being, I have upgraded to 3.14.0.Final. Since I have upgraded, I&#39;m getting this error in tomcat - \r\n    \r\n    java.lang.RuntimeException: RESTEASY003130: Class is not a root resource...... \r\n\r\nand so on when I run my some JMX that I created in JMeter. \r\n\r\nFull Error is shown below -\r\n\r\n    {http-nio-38080-exec-1} ERROR : Servlet.init() for servlet [Resteasy] threw exception\r\n    java.lang.RuntimeException: RESTEASY003130: Class is not a root resource.  It, or one of its interfaces must be annotated with @Path: com.app.resource.current.AppInstanceResource implements:\r\n            at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:185) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\r\n            at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:164) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\r\n            at org.jboss.resteasy.core.ResourceMethodRegistry.addPerRequestResource(ResourceMethodRegistry.java:81) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\r\n            at org.jboss.resteasy.spi.ResteasyDeployment.registration(ResteasyDeployment.java:503) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\r\n            at org.jboss.resteasy.spi.ResteasyDeployment.startInternal(ResteasyDeployment.java:288) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\r\n            at org.jboss.resteasy.spi.ResteasyDeployment.start(ResteasyDeployment.java:93) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\r\n            at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.init(ServletContainerDispatcher.java:140) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\r\n            at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.init(HttpServletDispatcher.java:42) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\r\n            at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:788) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[catalina.jar:9.0.65]\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-coyote.jar:9.0.65]\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote.jar:9.0.65]\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-coyote.jar:9.0.65]\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-coyote.jar:9.0.65]\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:9.0.65]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:9.0.65]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:9.0.65]\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:9.0.65]\r\n            at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_202]\r\n    16:49:05.320 [Resteasy] {http-nio-38080-exec-1} ERROR : Allocate exception for servlet [Resteasy]\r\n    java.lang.RuntimeException: RESTEASY003130: Class is not a root resource.  It, or one of its interfaces must be annotated with @Path: morpho.ccmid.b2b.resource.current.AppInstanceResource implements:\r\n            at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:185) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\r\n            at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:164) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\r\n            at org.jboss.resteasy.core.ResourceMethodRegistry.addPerRequestResource(ResourceMethodRegistry.java:81) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\r\n            at org.jboss.resteasy.spi.ResteasyDeployment.registration(ResteasyDeployment.java:503) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\r\n            at org.jboss.resteasy.spi.ResteasyDeployment.startInternal(ResteasyDeployment.java:288) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\r\n            at org.jboss.resteasy.spi.ResteasyDeployment.start(ResteasyDeployment.java:93) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\r\n            at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.init(ServletContainerDispatcher.java:140) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\r\n            at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.init(HttpServletDispatcher.java:42) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\r\n            at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:788) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[catalina.jar:9.0.65]\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[catalina.jar:9.0.65]\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-coyote.jar:9.0.65]\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote.jar:9.0.65]\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-coyote.jar:9.0.65]\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-coyote.jar:9.0.65]\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:9.0.65]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:9.0.65]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:9.0.65]\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:9.0.65]\r\n            at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_202]\r\n\r\n**NOTE**: I found the similar question in which the solution was given to add SpringContextLoaderListener in web.xml but that didn&#39;t help me. It again throws some error in tomcat during runtime when my module loads. That error states something - classNotFoundException : SpringContextLoaderListener not found etc etc .....\r\n\r\nPlease help, how to resolve this error and get rid of this as well as upgrade the version to 3.14.0.Final. \r\n\r\nI&#39;ve tried the solution from this question https://stackoverflow.com/questions/21905416/resteasy-resource-class-register-failed-when-path-is-marked-in-the-interface, but this didn&#39;t help. \r\n\r\nPlease someone suggest a new a better solution more specific to my work. Thanks in advance.","title":"java.lang.RuntimeException: RESTEASY003130: Class is not a root resource. error","body":"<p>my java project uses resteasy version 3.1.4.Final since beginning. But now, I want to upgrade to 3.14.0.Final or to upper latest and non-vulnerable one. But for the time being, I have upgraded to 3.14.0.Final. Since I have upgraded, I'm getting this error in tomcat -</p>\n<pre><code>java.lang.RuntimeException: RESTEASY003130: Class is not a root resource...... \n</code></pre>\n<p>and so on when I run my some JMX that I created in JMeter.</p>\n<p>Full Error is shown below -</p>\n<pre><code>{http-nio-38080-exec-1} ERROR : Servlet.init() for servlet [Resteasy] threw exception\njava.lang.RuntimeException: RESTEASY003130: Class is not a root resource.  It, or one of its interfaces must be annotated with @Path: com.app.resource.current.AppInstanceResource implements:\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:185) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:164) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addPerRequestResource(ResourceMethodRegistry.java:81) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\n        at org.jboss.resteasy.spi.ResteasyDeployment.registration(ResteasyDeployment.java:503) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\n        at org.jboss.resteasy.spi.ResteasyDeployment.startInternal(ResteasyDeployment.java:288) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\n        at org.jboss.resteasy.spi.ResteasyDeployment.start(ResteasyDeployment.java:93) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\n        at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.init(ServletContainerDispatcher.java:140) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\n        at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.init(HttpServletDispatcher.java:42) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:788) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[catalina.jar:9.0.65]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-coyote.jar:9.0.65]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote.jar:9.0.65]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-coyote.jar:9.0.65]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-coyote.jar:9.0.65]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:9.0.65]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:9.0.65]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:9.0.65]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:9.0.65]\n        at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_202]\n16:49:05.320 [Resteasy] {http-nio-38080-exec-1} ERROR : Allocate exception for servlet [Resteasy]\njava.lang.RuntimeException: RESTEASY003130: Class is not a root resource.  It, or one of its interfaces must be annotated with @Path: morpho.ccmid.b2b.resource.current.AppInstanceResource implements:\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:185) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:164) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addPerRequestResource(ResourceMethodRegistry.java:81) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\n        at org.jboss.resteasy.spi.ResteasyDeployment.registration(ResteasyDeployment.java:503) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\n        at org.jboss.resteasy.spi.ResteasyDeployment.startInternal(ResteasyDeployment.java:288) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\n        at org.jboss.resteasy.spi.ResteasyDeployment.start(ResteasyDeployment.java:93) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\n        at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.init(ServletContainerDispatcher.java:140) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\n        at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.init(HttpServletDispatcher.java:42) ~[resteasy-jaxrs-3.14.0.Final.jar:3.14.0.Final]\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:788) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[catalina.jar:9.0.65]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[catalina.jar:9.0.65]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-coyote.jar:9.0.65]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote.jar:9.0.65]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-coyote.jar:9.0.65]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-coyote.jar:9.0.65]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:9.0.65]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:9.0.65]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:9.0.65]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:9.0.65]\n        at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_202]\n</code></pre>\n<p><strong>NOTE</strong>: I found the similar question in which the solution was given to add SpringContextLoaderListener in web.xml but that didn't help me. It again throws some error in tomcat during runtime when my module loads. That error states something - classNotFoundException : SpringContextLoaderListener not found etc etc .....</p>\n<p>Please help, how to resolve this error and get rid of this as well as upgrade the version to 3.14.0.Final.</p>\n<p>I've tried the solution from this question <a href=\"https://stackoverflow.com/questions/21905416/resteasy-resource-class-register-failed-when-path-is-marked-in-the-interface\">RESTEasy - Resource Class Register Failed when @Path is Marked in the Interface</a>, but this didn't help.</p>\n<p>Please someone suggest a new a better solution more specific to my work. Thanks in advance.</p>\n"},{"tags":["java","unit-testing","mockito","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1603368576,"post_id":64473406,"comment_id":114018807,"body_markdown":"No there is no limitations, you are just writing the code wrong. When `@DataMongoTest` is used, your application will start with an in memory mongo, so you actually dont need to mock anything. If you want to mock your repository, you dont need that annotation, and you need to actually provide a Mock by using `@MockBean`. If you want to test things i recommend you just look up in the official documentation how to test things before you ask here. https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing-spring-boot-applications-testing-autoconfigured-mongo-test","body":"No there is no limitations, you are just writing the code wrong. When <code>@DataMongoTest</code> is used, your application will start with an in memory mongo, so you actually dont need to mock anything. If you want to mock your repository, you dont need that annotation, and you need to actually provide a Mock by using <code>@MockBean</code>. If you want to test things i recommend you just look up in the official documentation how to test things before you ask here. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing-spring-boot-applications-testing-autoconfigured-mongo-test\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1603368679,"post_id":64473406,"comment_id":114018858,"body_markdown":"and mockbean https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing-spring-boot-applications-mocking-beans","body":"and mockbean <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing-spring-boot-applications-mocking-beans\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":16089529,"reputation":1208,"user_id":11613316,"display_name":"techmagister"},"score":0,"creation_date":1603378465,"post_id":64473406,"comment_id":114024157,"body_markdown":"@ThomasAndolf thank you very much for the clarification","body":"@ThomasAndolf thank you very much for the clarification"}],"answers":[{"tags":[],"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603693333,"creation_date":1603693333,"answer_id":64532330,"question_id":64473406,"body_markdown":"Instead of using `@Autowired` you have to prepare mock for Repository from `import org.mockito.Mock;`\r\n\r\n```java\r\n@Mock\r\nItemReactiveRepository itemReactiveRepository;\r\n```\r\nAs @Thomas has mentioned, you are not mocking instead using the actual MongoDB using `DataMongoTest` instead you have to get rid of this and just mock the methods and test your service layer. `Autowired` is expecting all default configuration and a bean which is prepared by the container for you to use which is not the case, you have to mock and use.\r\n","title":"cannot stub ReactiveMongoRepository using Mockito.when","body":"<p>Instead of using <code>@Autowired</code> you have to prepare mock for Repository from <code>import org.mockito.Mock;</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mock\nItemReactiveRepository itemReactiveRepository;\n</code></pre>\n<p>As @Thomas has mentioned, you are not mocking instead using the actual MongoDB using <code>DataMongoTest</code> instead you have to get rid of this and just mock the methods and test your service layer. <code>Autowired</code> is expecting all default configuration and a bean which is prepared by the container for you to use which is not the case, you have to mock and use.</p>\n"},{"tags":[],"owner":{"account_id":15398777,"reputation":1,"user_id":11108980,"display_name":"festus kerich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639061002,"creation_date":1639041388,"answer_id":70287324,"question_id":64473406,"body_markdown":"    ItemReactiveRepository itemReactiveRepository=org.mockito.Mockito.mock(ItemReactiveRepository.class);\r\n\r\n\r\nThis worked for me.\r\n","title":"cannot stub ReactiveMongoRepository using Mockito.when","body":"<pre><code>ItemReactiveRepository itemReactiveRepository=org.mockito.Mockito.mock(ItemReactiveRepository.class);\n</code></pre>\n<p>This worked for me.</p>\n"}],"owner":{"account_id":16089529,"reputation":1208,"user_id":11613316,"display_name":"techmagister"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678906399,"creation_date":1603325230,"question_id":64473406,"body_markdown":"I&#39;m new to reactive programming. I want to write some test cases for a reactive mongo repository. I tried to stub some query methods and use step-verifier to check the response, but my test gets fail .\r\n\r\n**ItemReactiveRepository.java**\r\n\r\n    public interface ItemReactiveRepository extends ReactiveMongoRepository&lt;Item, String&gt; {\r\n    Mono&lt;Item&gt; findByDescription(String description);\r\n    }\r\n\r\n**Item.java**\r\n\r\n    @Document\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Item {\r\n\r\n    @Id\r\n    private String id;\r\n    private String description;\r\n    private Double price;\r\n    }\r\n\r\n**ItemReactiveRepositoryTest.java**\r\n\r\n    @DataMongoTest\r\n    @RunWith(SpringRunner.class)\r\n    public class ItemReactiveRepositoryTest {\r\n\r\n    @Autowired\r\n    private ItemReactiveRepository itemReactiveRepository;\r\n\r\n\r\n    @Test\r\n    public void findById() {\r\n\r\n        Item itemForTest = new Item(&quot;ABC&quot;, &quot;Samsung TV&quot;, 405.0);\r\n\r\n        Mockito.when(itemReactiveRepository.findById(&quot;ABC&quot;)).thenReturn(Mono.just(itemForTest));\r\n\r\n        StepVerifier.create(itemReactiveRepository.findById(&quot;ABC&quot;))\r\n                .expectSubscription()\r\n                .expectNextMatches(item -&gt; item.getPrice() == 405.0)\r\n                .verifyComplete();\r\n     }\r\n    }\r\n\r\n**Error I receive when running test**\r\n\r\n&gt; org.mockito.exceptions.misusing.MissingMethodInvocationException: \r\nwhen() requires an argument which has to be &#39;a method call on a mock&#39;.\r\nFor example:\r\n    when(mock.getArticles()).thenReturn(articles);\r\n\r\n&gt;Also, this error might show up because:\r\n&gt;1. you stub either of: final/private/equals()/hashCode() methods.\r\n   Those methods *cannot* be stubbed/verified.\r\n   Mocking methods declared on non-public parent classes is not supported.\r\n&gt;2. inside when() you don&#39;t call method on mock but on some other object.\r\n\r\nAre there any limitations to use stubbing when test reactive streams? Or any other standard mechanism to test above scenarios?","title":"cannot stub ReactiveMongoRepository using Mockito.when","body":"<p>I'm new to reactive programming. I want to write some test cases for a reactive mongo repository. I tried to stub some query methods and use step-verifier to check the response, but my test gets fail .</p>\n<p><strong>ItemReactiveRepository.java</strong></p>\n<pre><code>public interface ItemReactiveRepository extends ReactiveMongoRepository&lt;Item, String&gt; {\nMono&lt;Item&gt; findByDescription(String description);\n}\n</code></pre>\n<p><strong>Item.java</strong></p>\n<pre><code>@Document\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Item {\n\n@Id\nprivate String id;\nprivate String description;\nprivate Double price;\n}\n</code></pre>\n<p><strong>ItemReactiveRepositoryTest.java</strong></p>\n<pre><code>@DataMongoTest\n@RunWith(SpringRunner.class)\npublic class ItemReactiveRepositoryTest {\n\n@Autowired\nprivate ItemReactiveRepository itemReactiveRepository;\n\n\n@Test\npublic void findById() {\n\n    Item itemForTest = new Item(&quot;ABC&quot;, &quot;Samsung TV&quot;, 405.0);\n\n    Mockito.when(itemReactiveRepository.findById(&quot;ABC&quot;)).thenReturn(Mono.just(itemForTest));\n\n    StepVerifier.create(itemReactiveRepository.findById(&quot;ABC&quot;))\n            .expectSubscription()\n            .expectNextMatches(item -&gt; item.getPrice() == 405.0)\n            .verifyComplete();\n }\n}\n</code></pre>\n<p><strong>Error I receive when running test</strong></p>\n<blockquote>\n<p>org.mockito.exceptions.misusing.MissingMethodInvocationException:\nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\nwhen(mock.getArticles()).thenReturn(articles);</p>\n</blockquote>\n<blockquote>\n<p>Also, this error might show up because:</p>\n<ol>\n<li>you stub either of: final/private/equals()/hashCode() methods.\nThose methods <em>cannot</em> be stubbed/verified.\nMocking methods declared on non-public parent classes is not supported.</li>\n<li>inside when() you don't call method on mock but on some other object.</li>\n</ol>\n</blockquote>\n<p>Are there any limitations to use stubbing when test reactive streams? Or any other standard mechanism to test above scenarios?</p>\n"},{"tags":["java","json","rest-assured","web-api-testing","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":1,"creation_date":1678906007,"post_id":75748694,"comment_id":133625743,"body_markdown":"It works as you wrote. The error message got back from the server.  The json invalid. Delete the trailing coma after `end_date` field. I suggest use text bolcks or Java objects if it is possible to ensure json string validity.","body":"It works as you wrote. The error message got back from the server.  The json invalid. Delete the trailing coma after <code>end_date</code> field. I suggest use text bolcks or Java objects if it is possible to ensure json string validity."},{"owner":{"account_id":7974721,"reputation":454,"user_id":6018285,"accept_rate":32,"display_name":"Automation Engr"},"score":0,"creation_date":1678906180,"post_id":75748694,"comment_id":133625790,"body_markdown":"Thanks for pointing out the trailing comma, had missed to delete it.","body":"Thanks for pointing out the trailing comma, had missed to delete it."}],"answers":[{"tags":[],"owner":{"account_id":7974721,"reputation":454,"user_id":6018285,"accept_rate":32,"display_name":"Automation Engr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678906293,"creation_date":1678906293,"answer_id":75748955,"question_id":75748694,"body_markdown":"Had a typo of trailing comma after end_date, Corrected it below and worked.\r\n```\r\nString Json = &quot;{\\n&quot; +\r\n            &quot;    \\&quot;type\\&quot;: \\&quot;estrix\\&quot;,\\n&quot; +\r\n            &quot;    \\&quot;role_name\\&quot;: \\&quot;admin\\&quot;,\\n&quot; +\r\n            &quot;    \\&quot;id\\&quot;: 001,\\n&quot; +\r\n            &quot;    \\&quot;start_date\\&quot;: \\&quot;2018-01-01\\&quot;,\\n&quot; +\r\n            &quot;    \\&quot;end_date\\&quot;: \\&quot;2022-12-30\\&quot;\\n&quot; +\r\n&quot;}&quot;;\r\n```","title":"Unable to pass raw JSON request body with response error &quot;The browser (or proxy) sent a request that this server could not understand&quot;","body":"<p>Had a typo of trailing comma after end_date, Corrected it below and worked.</p>\n<pre><code>String Json = &quot;{\\n&quot; +\n            &quot;    \\&quot;type\\&quot;: \\&quot;estrix\\&quot;,\\n&quot; +\n            &quot;    \\&quot;role_name\\&quot;: \\&quot;admin\\&quot;,\\n&quot; +\n            &quot;    \\&quot;id\\&quot;: 001,\\n&quot; +\n            &quot;    \\&quot;start_date\\&quot;: \\&quot;2018-01-01\\&quot;,\\n&quot; +\n            &quot;    \\&quot;end_date\\&quot;: \\&quot;2022-12-30\\&quot;\\n&quot; +\n&quot;}&quot;;\n</code></pre>\n"}],"owner":{"account_id":7974721,"reputation":454,"user_id":6018285,"accept_rate":32,"display_name":"Automation Engr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75748955,"answer_count":1,"score":0,"last_activity_date":1678906293,"creation_date":1678904575,"question_id":75748694,"body_markdown":"I am trying to make a GET request to the URI which has header **Content-Type=application/json** and has a request body which is a raw JSON type. \r\n\r\nBelow is the code I am using with RestAssured API but it throws an error in response saying &quot;The browser (or proxy) sent a request that this server could not understand&quot;\r\n\r\n```\r\nString Json = &quot;{\\n&quot; +\r\n            &quot;    \\&quot;type\\&quot;: \\&quot;estrix\\&quot;,\\n&quot; +\r\n            &quot;    \\&quot;role_name\\&quot;: \\&quot;admin\\&quot;,\\n&quot; +\r\n            &quot;    \\&quot;id\\&quot;: 001,\\n&quot; +\r\n            &quot;    \\&quot;start_date\\&quot;: \\&quot;2018-01-01\\&quot;,\\n&quot; +\r\n\t\t\t&quot;    \\&quot;end_date\\&quot;: \\&quot;2022-12-30\\&quot;,\\n&quot; +\r\n&quot;}&quot;;\r\n```\t\t\r\n```\r\nresponse = given().urlEncodingEnabled(true).body(Json).contentType(&quot;application/json&quot;).get(path);\r\n```\r\n\r\nAny pointers where might be the issue?","title":"Unable to pass raw JSON request body with response error &quot;The browser (or proxy) sent a request that this server could not understand&quot;","body":"<p>I am trying to make a GET request to the URI which has header <strong>Content-Type=application/json</strong> and has a request body which is a raw JSON type.</p>\n<p>Below is the code I am using with RestAssured API but it throws an error in response saying &quot;The browser (or proxy) sent a request that this server could not understand&quot;</p>\n<pre><code>String Json = &quot;{\\n&quot; +\n            &quot;    \\&quot;type\\&quot;: \\&quot;estrix\\&quot;,\\n&quot; +\n            &quot;    \\&quot;role_name\\&quot;: \\&quot;admin\\&quot;,\\n&quot; +\n            &quot;    \\&quot;id\\&quot;: 001,\\n&quot; +\n            &quot;    \\&quot;start_date\\&quot;: \\&quot;2018-01-01\\&quot;,\\n&quot; +\n            &quot;    \\&quot;end_date\\&quot;: \\&quot;2022-12-30\\&quot;,\\n&quot; +\n&quot;}&quot;;\n</code></pre>\n<pre><code>response = given().urlEncodingEnabled(true).body(Json).contentType(&quot;application/json&quot;).get(path);\n</code></pre>\n<p>Any pointers where might be the issue?</p>\n"},{"tags":["java","arraylist","junit","field"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1678907571,"post_id":75748943,"comment_id":133626157,"body_markdown":"You have to cast. But before doing that, perhaps spend some time to think about another way to test this or whether this test provides value/benefits. Or maybe redesign your class to be more easily testable","body":"You have to cast. But before doing that, perhaps spend some time to think about another way to test this or whether this test provides value/benefits. Or maybe redesign your class to be more easily testable"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1678908789,"post_id":75748943,"comment_id":133626447,"body_markdown":"&quot;Making sure the arrays are not null&quot;: rather than making a collection `null` (and causing an NPE later when calling `#isEmpty`), you could just use `Collections#emptyList` as a default value (or initialize your lists).","body":"&quot;Making sure the arrays are not null&quot;: rather than making a collection <code>null</code> (and causing an NPE later when calling <code>#isEmpty</code>), you could just use <code>Collections#emptyList</code> as a default value (or initialize your lists)."}],"owner":{"account_id":12045095,"reputation":29,"user_id":8810437,"display_name":"Lebo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678906187,"creation_date":1678906187,"question_id":75748943,"body_markdown":"I am trying to unit test a setter method in Java. I&#39;m working in android studio and the function I want to test loads data from the resources file and populates it in 4 ArrayLists. \r\n\r\nIn my test I am trying to use reflection with field objects the code looks like this:\r\n\r\n    dataSource.loadData();\r\n\r\n        final Field[] fields = new Field[4];\r\n        fields[0] = dataSource.getClass().getDeclaredField(&quot;images&quot;);\r\n        fields[1] = dataSource.getClass().getDeclaredField(&quot;categories&quot;);\r\n        fields[2] = dataSource.getClass().getDeclaredField(&quot;descriptions&quot;);\r\n        fields[3] = dataSource.getClass().getDeclaredField(&quot;categoryDescriptions&quot;);\r\n\r\n        fields[0].setAccessible(true);\r\n        fields[1].setAccessible(true);\r\n        fields[2].setAccessible(true);\r\n        fields[3].setAccessible(true);\r\n\r\n        assertTrue(&quot;Images is empty&quot;, fields[0].get(dataSource).isEmpty() ==false);\r\ndataSource is an object of the class I am testing. Basically the class has 4 ArrayLists and I&#39;m trying to test the the method loadData() has loaded the arrays by making sure that the arrays are not null.\r\nHowever when I try to get the isEmpty() method for the ArrayList in the fields array I get the error: Cannot resolve method &#39;isEmpty&#39; in &#39;Object&#39;\r\nas well as: No candidates found for method call fields[0].get(dataSource).isEmpty()\r\n\r\nDo you know how I can get my ArrayLists out of the fields array?","title":"How to get an ArrayList out of a Field object in Java for Unit test","body":"<p>I am trying to unit test a setter method in Java. I'm working in android studio and the function I want to test loads data from the resources file and populates it in 4 ArrayLists.</p>\n<p>In my test I am trying to use reflection with field objects the code looks like this:</p>\n<pre><code>dataSource.loadData();\n\n    final Field[] fields = new Field[4];\n    fields[0] = dataSource.getClass().getDeclaredField(&quot;images&quot;);\n    fields[1] = dataSource.getClass().getDeclaredField(&quot;categories&quot;);\n    fields[2] = dataSource.getClass().getDeclaredField(&quot;descriptions&quot;);\n    fields[3] = dataSource.getClass().getDeclaredField(&quot;categoryDescriptions&quot;);\n\n    fields[0].setAccessible(true);\n    fields[1].setAccessible(true);\n    fields[2].setAccessible(true);\n    fields[3].setAccessible(true);\n\n    assertTrue(&quot;Images is empty&quot;, fields[0].get(dataSource).isEmpty() ==false);\n</code></pre>\n<p>dataSource is an object of the class I am testing. Basically the class has 4 ArrayLists and I'm trying to test the the method loadData() has loaded the arrays by making sure that the arrays are not null.\nHowever when I try to get the isEmpty() method for the ArrayList in the fields array I get the error: Cannot resolve method 'isEmpty' in 'Object'\nas well as: No candidates found for method call fields[0].get(dataSource).isEmpty()</p>\n<p>Do you know how I can get my ArrayLists out of the fields array?</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678802827,"creation_date":1678802827,"answer_id":75734243,"question_id":75734188,"body_markdown":"No need for a Map.  Just sort your List:\r\n\r\n    resultSet.sort(Comparator.comparing(Result::isSuccess));\r\n","title":"How to group success and failure items in a list using Java Streams","body":"<p>No need for a Map.  Just sort your List:</p>\n<pre><code>resultSet.sort(Comparator.comparing(Result::isSuccess));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5732403,"reputation":579,"user_id":4527515,"accept_rate":50,"display_name":"Pratim Singha"},"score":0,"creation_date":1678864521,"post_id":75734463,"comment_id":133613758,"body_markdown":"Thank you. I am getting the result but will it guarantee that out of the FALSE and TRUE keys, FALSE will be the first item and TRUE will be the next item?","body":"Thank you. I am getting the result but will it guarantee that out of the FALSE and TRUE keys, FALSE will be the first item and TRUE will be the next item?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1678903853,"post_id":75734463,"comment_id":133625199,"body_markdown":"No.  In this case it may be, but in general  you should not depend on any order in a map since it is unpredictable.  However, see my updated answer for a possible solution.","body":"No.  In this case it may be, but in general  you should not depend on any order in a map since it is unpredictable.  However, see my updated answer for a possible solution."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678906021,"creation_date":1678803983,"answer_id":75734463,"question_id":75734188,"body_markdown":"If you want a map you can use [Collectors.partitioningBy](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#partitioningBy(java.util.function.Predicate)) which partitions using a boolean key.\r\n```\r\nMap&lt;Boolean, List&lt;Result&gt;&gt; result = resultSet.stream()\r\n            .collect(Collectors.partitioningBy(Result::getSuccess));\r\n```\r\nThe above presumes you have a getter (here getSuccess) defined to return the success boolean.\r\n\r\n**Updated**\r\n\r\nGenerate some test data.\r\n```\r\nrecord Result(String getMessage, boolean getSuccess) {\r\n}\r\nRandom r = new Random();\r\nFunction&lt;Integer, Result&gt; createResult = rpw -&gt; {\r\n    boolean b = r.nextBoolean();\r\n    return new Result((b\r\n            ? &quot;Row %2d: success = true  | message: success.&quot;.formatted(row)\r\n            : &quot;Row %2d: success = false | message: failed for reason %2d.&quot;\r\n                    .formatted(row, r.nextInt(30) + 1)),\r\n            b);\r\n};\r\nList&lt;Result&gt; resultSet = IntStream.range(1, 15)\r\n        .mapToObj(createResult::apply).toList();\r\n```\r\nNow stream the test data and create a map of the results.\r\n```\r\nMap&lt;Boolean, List&lt;Result&gt;&gt; result = resultSet.stream()\r\n        .collect(Collectors.partitioningBy(Result::getSuccess));\r\n```\r\nNow print the map, first placing unsuccessful results on the stream and then placing a single success on the stream.\r\n```\r\nStream.of(false, true).flatMap(b -&gt; result.get(b).stream()\r\n        .map(Result::getMessage).limit(b ? 1 : Long.MAX_VALUE))\r\n        .forEach(System.out::println);\r\nSystem.out.println(&quot;All other messages indicate success.&quot;);\r\n```\r\nprints something like this.\r\n```\r\nRow  2: success = false | message: failed for reason 15.\r\nRow  3: success = false | message: failed for reason  5.\r\nRow  5: success = false | message: failed for reason 12.\r\nRow  7: success = false | message: failed for reason 25.\r\nRow  9: success = false | message: failed for reason 10.\r\nRow 10: success = false | message: failed for reason 23.\r\nRow 14: success = false | message: failed for reason 24.\r\nRow  1: success = true  | message: success.\r\nAll other messages indicate success.\r\n```\r\nOr you can just print the unsuccessful messages.\r\n```\r\nresult.get(false).forEach(res-&gt;System.out.println(res.getMessage));\r\nSystem.out.println(&quot;All other messages indicate success.&quot;);\r\n```\r\nprints\r\n```\r\nRow  2: success = false | message: failed for reason 15.\r\nRow  3: success = false | message: failed for reason  5.\r\nRow  5: success = false | message: failed for reason 12.\r\nRow  7: success = false | message: failed for reason 25.\r\nRow  9: success = false | message: failed for reason 10.\r\nRow 10: success = false | message: failed for reason 23.\r\nRow 14: success = false | message: failed for reason 24.\r\nAll other messages indicate success.","title":"How to group success and failure items in a list using Java Streams","body":"<p>If you want a map you can use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#partitioningBy(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">Collectors.partitioningBy</a> which partitions using a boolean key.</p>\n<pre><code>Map&lt;Boolean, List&lt;Result&gt;&gt; result = resultSet.stream()\n            .collect(Collectors.partitioningBy(Result::getSuccess));\n</code></pre>\n<p>The above presumes you have a getter (here getSuccess) defined to return the success boolean.</p>\n<p><strong>Updated</strong></p>\n<p>Generate some test data.</p>\n<pre><code>record Result(String getMessage, boolean getSuccess) {\n}\nRandom r = new Random();\nFunction&lt;Integer, Result&gt; createResult = rpw -&gt; {\n    boolean b = r.nextBoolean();\n    return new Result((b\n            ? &quot;Row %2d: success = true  | message: success.&quot;.formatted(row)\n            : &quot;Row %2d: success = false | message: failed for reason %2d.&quot;\n                    .formatted(row, r.nextInt(30) + 1)),\n            b);\n};\nList&lt;Result&gt; resultSet = IntStream.range(1, 15)\n        .mapToObj(createResult::apply).toList();\n</code></pre>\n<p>Now stream the test data and create a map of the results.</p>\n<pre><code>Map&lt;Boolean, List&lt;Result&gt;&gt; result = resultSet.stream()\n        .collect(Collectors.partitioningBy(Result::getSuccess));\n</code></pre>\n<p>Now print the map, first placing unsuccessful results on the stream and then placing a single success on the stream.</p>\n<pre><code>Stream.of(false, true).flatMap(b -&gt; result.get(b).stream()\n        .map(Result::getMessage).limit(b ? 1 : Long.MAX_VALUE))\n        .forEach(System.out::println);\nSystem.out.println(&quot;All other messages indicate success.&quot;);\n</code></pre>\n<p>prints something like this.</p>\n<pre><code>Row  2: success = false | message: failed for reason 15.\nRow  3: success = false | message: failed for reason  5.\nRow  5: success = false | message: failed for reason 12.\nRow  7: success = false | message: failed for reason 25.\nRow  9: success = false | message: failed for reason 10.\nRow 10: success = false | message: failed for reason 23.\nRow 14: success = false | message: failed for reason 24.\nRow  1: success = true  | message: success.\nAll other messages indicate success.\n</code></pre>\n<p>Or you can just print the unsuccessful messages.</p>\n<pre><code>result.get(false).forEach(res-&gt;System.out.println(res.getMessage));\nSystem.out.println(&quot;All other messages indicate success.&quot;);\n</code></pre>\n<p>prints</p>\n<pre><code>Row  2: success = false | message: failed for reason 15.\nRow  3: success = false | message: failed for reason  5.\nRow  5: success = false | message: failed for reason 12.\nRow  7: success = false | message: failed for reason 25.\nRow  9: success = false | message: failed for reason 10.\nRow 10: success = false | message: failed for reason 23.\nRow 14: success = false | message: failed for reason 24.\nAll other messages indicate success.\n</code></pre>\n"}],"owner":{"account_id":5732403,"reputation":579,"user_id":4527515,"accept_rate":50,"display_name":"Pratim Singha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75734463,"answer_count":2,"score":0,"last_activity_date":1678906021,"creation_date":1678802494,"question_id":75734188,"body_markdown":"Consider a scenario where there is an object which contains the below member variables:\r\n\r\n    class Result{\r\n        private String message;\r\n        private boolean success;\r\n    }\r\n\r\nAfter a query, we get a result set List&lt;Result&gt;.\r\n\r\nConsider a scenario where there are 5 result set (instances of Result class):\r\n3 out of the 5 instances have the success value as FALSE and TRUE for the rest 4.\r\nFor example:\r\n\r\n    Row 1: success = false | message: failed for reason 1.\r\n\r\n    Row 2: success = true | message: success.\r\n\r\n    Row 3: success = false | message: failed for reason 2.\r\n\r\n    Row 4: success = false | message: failed for reason 3.\r\n\r\n    Row 5: success = true | message: success.\r\n\r\n\r\nWe need to group the result set in this particular way:\r\nDisplay the success = false rows at the top (in the same order that they were retrieved) and one grouped success message for all the rest rows.\r\n\r\nSo the output should be:\r\n\r\n    Row 1: success = false | message: failed for reason 1.\r\n\r\n    Row 2: success = false | message: failed for reason 2.\r\n\r\n    Row 3: success = false | message: failed for reason 3.\r\n\r\n    Row 4: success = true | message: success for the rest. (no need to display the same number of Rows for the success)\r\n\r\nI tried for grouping the list based on success:\r\n\r\n    List&lt;Result&gt; resultSet;\r\n    Map&lt;Boolean, List&lt;Result&gt;&gt; result = resultset.stream().collect(Collectors.groupingBy(Result::success,Collectors.toList()));\r\n\r\nBut how to extract the message and also re-arrange the order by making Failed rows in the top and success row at the last\r\n\r\n\r\n\r\n\r\n","title":"How to group success and failure items in a list using Java Streams","body":"<p>Consider a scenario where there is an object which contains the below member variables:</p>\n<pre><code>class Result{\n    private String message;\n    private boolean success;\n}\n</code></pre>\n<p>After a query, we get a result set List.</p>\n<p>Consider a scenario where there are 5 result set (instances of Result class):\n3 out of the 5 instances have the success value as FALSE and TRUE for the rest 4.\nFor example:</p>\n<pre><code>Row 1: success = false | message: failed for reason 1.\n\nRow 2: success = true | message: success.\n\nRow 3: success = false | message: failed for reason 2.\n\nRow 4: success = false | message: failed for reason 3.\n\nRow 5: success = true | message: success.\n</code></pre>\n<p>We need to group the result set in this particular way:\nDisplay the success = false rows at the top (in the same order that they were retrieved) and one grouped success message for all the rest rows.</p>\n<p>So the output should be:</p>\n<pre><code>Row 1: success = false | message: failed for reason 1.\n\nRow 2: success = false | message: failed for reason 2.\n\nRow 3: success = false | message: failed for reason 3.\n\nRow 4: success = true | message: success for the rest. (no need to display the same number of Rows for the success)\n</code></pre>\n<p>I tried for grouping the list based on success:</p>\n<pre><code>List&lt;Result&gt; resultSet;\nMap&lt;Boolean, List&lt;Result&gt;&gt; result = resultset.stream().collect(Collectors.groupingBy(Result::success,Collectors.toList()));\n</code></pre>\n<p>But how to extract the message and also re-arrange the order by making Failed rows in the top and success row at the last</p>\n"},{"tags":["java","spring","rest","zip","zipoutputstream"],"comments":[{"owner":{"account_id":4897658,"reputation":1526,"user_id":3946706,"accept_rate":100,"display_name":"Kim Gentes"},"score":0,"creation_date":1626996927,"post_id":27952949,"comment_id":121047236,"body_markdown":"you might find the answer here helpful.. https://stackoverflow.com/a/68492465/3946706","body":"you might find the answer here helpful.. <a href=\"https://stackoverflow.com/a/68492465/3946706\">stackoverflow.com/a/68492465/3946706</a>"}],"answers":[{"comments":[{"owner":{"account_id":1448620,"reputation":965,"user_id":1366287,"accept_rate":40,"display_name":"taylorcressy"},"score":3,"creation_date":1476239618,"post_id":27953729,"comment_id":67257763,"body_markdown":"+1 For non-trivial question and answering your own question! The only question / concern I have with this implementation is the final return statement. I think this would load the entire file into memory because of `toByteArray()`. Right? I wonder if there is a way to stream it to avoid some OutOfMemoryException errors if the directory is too large.","body":"+1 For non-trivial question and answering your own question! The only question / concern I have with this implementation is the final return statement. I think this would load the entire file into memory because of <code>toByteArray()</code>. Right? I wonder if there is a way to stream it to avoid some OutOfMemoryException errors if the directory is too large."},{"owner":{"account_id":21637162,"reputation":129,"user_id":15959923,"display_name":"Mavic More"},"score":0,"creation_date":1677604456,"post_id":27953729,"comment_id":133369413,"body_markdown":"see this page if you need generic solution for any case: https://stackoverflow.com/a/75595252/15959923","body":"see this page if you need generic solution for any case: <a href=\"https://stackoverflow.com/a/75595252/15959923\">stackoverflow.com/a/75595252/15959923</a>"}],"tags":[],"owner":{"account_id":3810607,"reputation":4104,"user_id":3161589,"accept_rate":50,"display_name":"azalut"},"comment_count":2,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1654857095,"creation_date":1421274979,"answer_id":27953729,"question_id":27952949,"body_markdown":"### The problem is solved.\r\nI replaced:\r\n\r\n    response.setContentType(&quot;application/zip&quot;);\r\n\r\nwith:\r\n\r\n    @RequestMapping(value = &quot;/zip&quot;, produces=&quot;application/zip&quot;)\r\n\r\nAnd now I get a clear, beautiful `.zip` file.\r\n\r\n---\r\nIf any of you have either better or faster proposition, or just want to give some advice, then go ahead, I am curious.","title":"Spring REST - create ZIP file and send it to the client","body":"<h3>The problem is solved.</h3>\n<p>I replaced:</p>\n<pre><code>response.setContentType(&quot;application/zip&quot;);\n</code></pre>\n<p>with:</p>\n<pre><code>@RequestMapping(value = &quot;/zip&quot;, produces=&quot;application/zip&quot;)\n</code></pre>\n<p>And now I get a clear, beautiful <code>.zip</code> file.</p>\n<hr />\n<p>If any of you have either better or faster proposition, or just want to give some advice, then go ahead, I am curious.</p>\n"},{"comments":[{"owner":{"account_id":52114,"reputation":2354,"user_id":155708,"display_name":"Jakub"},"score":2,"creation_date":1514735300,"post_id":40498539,"comment_id":83058576,"body_markdown":"because this solution streams data directly to response output stream.","body":"because this solution streams data directly to response output stream."},{"owner":{"account_id":1309210,"reputation":325,"user_id":1257574,"display_name":"Harvey Dent"},"score":0,"creation_date":1542070143,"post_id":40498539,"comment_id":93427740,"body_markdown":"This is java server side codes, how to download it in client by javascript??","body":"This is java server side codes, how to download it in client by javascript??"},{"owner":{"account_id":2863588,"reputation":11468,"user_id":2458310,"display_name":"denov"},"score":1,"creation_date":1542082647,"post_id":40498539,"comment_id":93430228,"body_markdown":"@HarveyDent - yous should ask that as a new question.","body":"@HarveyDent - yous should ask that as a new question."},{"owner":{"account_id":1309210,"reputation":325,"user_id":1257574,"display_name":"Harvey Dent"},"score":0,"creation_date":1542087164,"post_id":40498539,"comment_id":93431370,"body_markdown":"Please, I was stuck into this problem for two whole days. thanks in advance","body":"Please, I was stuck into this problem for two whole days. thanks in advance"},{"owner":{"account_id":2863588,"reputation":11468,"user_id":2458310,"display_name":"denov"},"score":0,"creation_date":1581121479,"post_id":40498539,"comment_id":106336847,"body_markdown":"you just call the url.  in the code above it would be http://&lt;host&gt;/zip","body":"you just call the url.  in the code above it would be http://&lt;host&gt;/zip"},{"owner":{"account_id":21637162,"reputation":129,"user_id":15959923,"display_name":"Mavic More"},"score":0,"creation_date":1677604462,"post_id":40498539,"comment_id":133369415,"body_markdown":"see this page if you need generic solution for any case: https://stackoverflow.com/a/75595252/15959923","body":"see this page if you need generic solution for any case: <a href=\"https://stackoverflow.com/a/75595252/15959923\">stackoverflow.com/a/75595252/15959923</a>"}],"tags":[],"owner":{"account_id":2863588,"reputation":11468,"user_id":2458310,"display_name":"denov"},"comment_count":6,"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1512008980,"creation_date":1478650325,"answer_id":40498539,"question_id":27952949,"body_markdown":"\r\n    @RequestMapping(value=&quot;/zip&quot;, produces=&quot;application/zip&quot;)\r\n    public void zipFiles(HttpServletResponse response) throws IOException {\r\n        \r\n        //setting headers  \r\n        response.setStatus(HttpServletResponse.SC_OK);\r\n        response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;test.zip\\&quot;&quot;);\r\n\r\n        ZipOutputStream zipOutputStream = new ZipOutputStream(response.getOutputStream());\r\n\r\n        // create a list to add files to be zipped\r\n        ArrayList&lt;File&gt; files = new ArrayList&lt;&gt;(2);\r\n        files.add(new File(&quot;README.md&quot;));\r\n\r\n        // package files\r\n        for (File file : files) {\r\n            //new zip entry and copying inputstream with file to zipOutputStream, after all closing streams\r\n            zipOutputStream.putNextEntry(new ZipEntry(file.getName()));\r\n            FileInputStream fileInputStream = new FileInputStream(file);\r\n\r\n            IOUtils.copy(fileInputStream, zipOutputStream);\r\n\r\n            fileInputStream.close();\r\n            zipOutputStream.closeEntry();\r\n        }    \r\n\r\n        zipOutputStream.close();\r\n    }","title":"Spring REST - create ZIP file and send it to the client","body":"<pre><code>@RequestMapping(value=\"/zip\", produces=\"application/zip\")\npublic void zipFiles(HttpServletResponse response) throws IOException {\n\n    //setting headers  \n    response.setStatus(HttpServletResponse.SC_OK);\n    response.addHeader(\"Content-Disposition\", \"attachment; filename=\\\"test.zip\\\"\");\n\n    ZipOutputStream zipOutputStream = new ZipOutputStream(response.getOutputStream());\n\n    // create a list to add files to be zipped\n    ArrayList&lt;File&gt; files = new ArrayList&lt;&gt;(2);\n    files.add(new File(\"README.md\"));\n\n    // package files\n    for (File file : files) {\n        //new zip entry and copying inputstream with file to zipOutputStream, after all closing streams\n        zipOutputStream.putNextEntry(new ZipEntry(file.getName()));\n        FileInputStream fileInputStream = new FileInputStream(file);\n\n        IOUtils.copy(fileInputStream, zipOutputStream);\n\n        fileInputStream.close();\n        zipOutputStream.closeEntry();\n    }    \n\n    zipOutputStream.close();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4569445,"reputation":289,"user_id":3709533,"display_name":"Rahul"},"score":4,"creation_date":1553398794,"post_id":50691612,"comment_id":97367875,"body_markdown":"ByteArrayOutputStream stores the bytes in memory. So for large files you can run out of heap space very quickly.","body":"ByteArrayOutputStream stores the bytes in memory. So for large files you can run out of heap space very quickly."}],"tags":[],"owner":{"account_id":1268826,"reputation":7565,"user_id":1225551,"accept_rate":75,"display_name":"Raf"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1528169757,"creation_date":1528169757,"answer_id":50691612,"question_id":27952949,"body_markdown":"I am using `REST Web Service` of `Spring Boot` and I have designed the endpoints to always return `ResponseEntity` whether it is `JSON` or `PDF` or `ZIP` and I came up with the following solution which is partially inspired by `denov&#39;s answer` in this question as well as another [question][1] where I learned how to convert `ZipOutputStream` into `byte[]` in order to feed it to `ResponseEntity` as output of the endpoint. \r\n\r\nAnyway, I created a simple utility class with two methods for `pdf` and `zip` file download \r\n\r\n\r\n    @Component\r\n    public class FileUtil {\r\n    \tpublic BinaryOutputWrapper prepDownloadAsPDF(String filename) throws IOException {\r\n    \t\tPath fileLocation = Paths.get(filename);\r\n    \t\tbyte[] data = Files.readAllBytes(fileLocation);\r\n    \t\t\r\n    \t    HttpHeaders headers = new HttpHeaders();\r\n    \t    headers.setContentType(MediaType.parseMediaType(&quot;application/pdf&quot;));\r\n    \t    String outputFilename = &quot;output.pdf&quot;;\r\n    \t    headers.setContentDispositionFormData(outputFilename, outputFilename);\r\n    \t    headers.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\r\n    \t    \r\n    \t    return new BinaryOutputWrapper(data, headers); \r\n    \t}\r\n    \t\r\n    \tpublic BinaryOutputWrapper prepDownloadAsZIP(List&lt;String&gt; filenames) throws IOException {\r\n    \t\tHttpHeaders headers = new HttpHeaders();\r\n    \t    headers.setContentType(MediaType.parseMediaType(&quot;application/zip&quot;));\r\n    \t    String outputFilename = &quot;output.zip&quot;;\r\n    \t    headers.setContentDispositionFormData(outputFilename, outputFilename);\r\n    \t    headers.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\r\n    \t\t\r\n    \t    ByteArrayOutputStream byteOutputStream = new ByteArrayOutputStream();\r\n    \t    ZipOutputStream zipOutputStream = new ZipOutputStream(byteOutputStream);\r\n    \r\n    \t    for(String filename: filenames) {\r\n    \t    \tFile file = new File(filename); \r\n    \t    \tzipOutputStream.putNextEntry(new ZipEntry(filename));\t    \t\r\n    \t    \tFileInputStream fileInputStream = new FileInputStream(file);\r\n    \t    \tIOUtils.copy(fileInputStream, zipOutputStream);\r\n    \t    \tfileInputStream.close();\r\n    \t\t    zipOutputStream.closeEntry();\r\n    \t    }\t\t    \r\n    \t    zipOutputStream.close();\r\n    \t    return new BinaryOutputWrapper(byteOutputStream.toByteArray(), headers); \r\n    \t}\r\n    }\r\n\r\nAnd now the endpoint can easily return `ResponseEntity&lt;?&gt;` as shown below using the `byte[]` data and custom headers that is specifically tailored for `pdf` or `zip`. \r\n\r\n    @GetMapping(&quot;/somepath/pdf&quot;)\r\n    public ResponseEntity&lt;?&gt; generatePDF() {\r\n    \tBinaryOutputWrapper output = new BinaryOutputWrapper(); \r\n    \ttry {\r\n    \t\tString inputFile = &quot;sample.pdf&quot;; \r\n    \t\toutput = fileUtil.prepDownloadAsPDF(inputFile);\r\n            //or invoke prepDownloadAsZIP(...) with a list of filenames\r\n    \t} catch (IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t\t//Do something when exception is thrown\r\n    \t} \r\n    \treturn new ResponseEntity&lt;&gt;(output.getData(), output.getHeaders(), HttpStatus.OK); \r\n    }\r\n\r\nThe `BinaryOutputWrapper` is a simple immutable `POJO` class I created with `private byte[] data;` and `org.springframework.http.HttpHeaders headers;` as fields in order to return both `data` and `headers` from utility method.   \r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20221128/convert-zipoutputstream-to-bytearrayinputstream","title":"Spring REST - create ZIP file and send it to the client","body":"<p>I am using <code>REST Web Service</code> of <code>Spring Boot</code> and I have designed the endpoints to always return <code>ResponseEntity</code> whether it is <code>JSON</code> or <code>PDF</code> or <code>ZIP</code> and I came up with the following solution which is partially inspired by <code>denov's answer</code> in this question as well as another <a href=\"https://stackoverflow.com/questions/20221128/convert-zipoutputstream-to-bytearrayinputstream\">question</a> where I learned how to convert <code>ZipOutputStream</code> into <code>byte[]</code> in order to feed it to <code>ResponseEntity</code> as output of the endpoint. </p>\n\n<p>Anyway, I created a simple utility class with two methods for <code>pdf</code> and <code>zip</code> file download </p>\n\n<pre><code>@Component\npublic class FileUtil {\n    public BinaryOutputWrapper prepDownloadAsPDF(String filename) throws IOException {\n        Path fileLocation = Paths.get(filename);\n        byte[] data = Files.readAllBytes(fileLocation);\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.parseMediaType(\"application/pdf\"));\n        String outputFilename = \"output.pdf\";\n        headers.setContentDispositionFormData(outputFilename, outputFilename);\n        headers.setCacheControl(\"must-revalidate, post-check=0, pre-check=0\");\n\n        return new BinaryOutputWrapper(data, headers); \n    }\n\n    public BinaryOutputWrapper prepDownloadAsZIP(List&lt;String&gt; filenames) throws IOException {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.parseMediaType(\"application/zip\"));\n        String outputFilename = \"output.zip\";\n        headers.setContentDispositionFormData(outputFilename, outputFilename);\n        headers.setCacheControl(\"must-revalidate, post-check=0, pre-check=0\");\n\n        ByteArrayOutputStream byteOutputStream = new ByteArrayOutputStream();\n        ZipOutputStream zipOutputStream = new ZipOutputStream(byteOutputStream);\n\n        for(String filename: filenames) {\n            File file = new File(filename); \n            zipOutputStream.putNextEntry(new ZipEntry(filename));           \n            FileInputStream fileInputStream = new FileInputStream(file);\n            IOUtils.copy(fileInputStream, zipOutputStream);\n            fileInputStream.close();\n            zipOutputStream.closeEntry();\n        }           \n        zipOutputStream.close();\n        return new BinaryOutputWrapper(byteOutputStream.toByteArray(), headers); \n    }\n}\n</code></pre>\n\n<p>And now the endpoint can easily return <code>ResponseEntity&lt;?&gt;</code> as shown below using the <code>byte[]</code> data and custom headers that is specifically tailored for <code>pdf</code> or <code>zip</code>. </p>\n\n<pre><code>@GetMapping(\"/somepath/pdf\")\npublic ResponseEntity&lt;?&gt; generatePDF() {\n    BinaryOutputWrapper output = new BinaryOutputWrapper(); \n    try {\n        String inputFile = \"sample.pdf\"; \n        output = fileUtil.prepDownloadAsPDF(inputFile);\n        //or invoke prepDownloadAsZIP(...) with a list of filenames\n    } catch (IOException e) {\n        e.printStackTrace();\n        //Do something when exception is thrown\n    } \n    return new ResponseEntity&lt;&gt;(output.getData(), output.getHeaders(), HttpStatus.OK); \n}\n</code></pre>\n\n<p>The <code>BinaryOutputWrapper</code> is a simple immutable <code>POJO</code> class I created with <code>private byte[] data;</code> and <code>org.springframework.http.HttpHeaders headers;</code> as fields in order to return both <code>data</code> and <code>headers</code> from utility method.   </p>\n"},{"comments":[{"owner":{"account_id":1455151,"reputation":1993,"user_id":1370948,"accept_rate":89,"display_name":"Adrian Elder"},"score":0,"creation_date":1579905651,"post_id":58884880,"comment_id":105936007,"body_markdown":"+1 for helping me figure out how to do this without creating a HttpServletResponse, since this doesn&#39;t seem to set a status code on 404s.","body":"+1 for helping me figure out how to do this without creating a HttpServletResponse, since this doesn&#39;t seem to set a status code on 404s."},{"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"score":0,"creation_date":1651288671,"post_id":58884880,"comment_id":127334941,"body_markdown":"If there is a run time exception anywhere in the body block, will still return 200","body":"If there is a run time exception anywhere in the body block, will still return 200"},{"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"score":0,"creation_date":1651509891,"post_id":58884880,"comment_id":127376259,"body_markdown":"Attaching a relevant post about trouble handling exception with StreamingResponseBody https://stackoverflow.com/q/65557527/5777189","body":"Attaching a relevant post about trouble handling exception with StreamingResponseBody <a href=\"https://stackoverflow.com/q/65557527/5777189\">stackoverflow.com/q/65557527/5777189</a>"},{"owner":{"account_id":21637162,"reputation":129,"user_id":15959923,"display_name":"Mavic More"},"score":0,"creation_date":1677604466,"post_id":58884880,"comment_id":133369416,"body_markdown":"see this page if you need generic solution for any case: https://stackoverflow.com/a/75595252/15959923","body":"see this page if you need generic solution for any case: <a href=\"https://stackoverflow.com/a/75595252/15959923\">stackoverflow.com/a/75595252/15959923</a>"}],"tags":[],"owner":{"account_id":1202214,"reputation":10396,"user_id":1172625,"display_name":"cesar"},"comment_count":4,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1573853096,"creation_date":1573853096,"answer_id":58884880,"question_id":27952949,"body_markdown":"    @RequestMapping(value=&quot;/zip&quot;, produces=&quot;application/zip&quot;)\r\n    public ResponseEntity&lt;StreamingResponseBody&gt; zipFiles() {\r\n        return ResponseEntity\r\n                .ok()\r\n                .header(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;test.zip\\&quot;&quot;)\r\n                .body(out -&gt; {\r\n                    var zipOutputStream = new ZipOutputStream(out);\r\n\r\n                    // create a list to add files to be zipped\r\n                    ArrayList&lt;File&gt; files = new ArrayList&lt;&gt;(2);\r\n                    files.add(new File(&quot;README.md&quot;));\r\n\r\n                    // package files\r\n                    for (File file : files) {\r\n                        //new zip entry and copying inputstream with file to zipOutputStream, after all closing streams\r\n                        zipOutputStream.putNextEntry(new ZipEntry(file.getName()));\r\n                        FileInputStream fileInputStream = new FileInputStream(file);\r\n\r\n                        IOUtils.copy(fileInputStream, zipOutputStream);\r\n\r\n                        fileInputStream.close();\r\n                        zipOutputStream.closeEntry();\r\n                    }\r\n\r\n                    zipOutputStream.close();\r\n                });\r\n    }","title":"Spring REST - create ZIP file and send it to the client","body":"<pre><code>@RequestMapping(value=\"/zip\", produces=\"application/zip\")\npublic ResponseEntity&lt;StreamingResponseBody&gt; zipFiles() {\n    return ResponseEntity\n            .ok()\n            .header(\"Content-Disposition\", \"attachment; filename=\\\"test.zip\\\"\")\n            .body(out -&gt; {\n                var zipOutputStream = new ZipOutputStream(out);\n\n                // create a list to add files to be zipped\n                ArrayList&lt;File&gt; files = new ArrayList&lt;&gt;(2);\n                files.add(new File(\"README.md\"));\n\n                // package files\n                for (File file : files) {\n                    //new zip entry and copying inputstream with file to zipOutputStream, after all closing streams\n                    zipOutputStream.putNextEntry(new ZipEntry(file.getName()));\n                    FileInputStream fileInputStream = new FileInputStream(file);\n\n                    IOUtils.copy(fileInputStream, zipOutputStream);\n\n                    fileInputStream.close();\n                    zipOutputStream.closeEntry();\n                }\n\n                zipOutputStream.close();\n            });\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2882066,"reputation":336,"user_id":2472716,"display_name":"Saurabh"},"score":0,"creation_date":1693514449,"post_id":75595252,"comment_id":135775229,"body_markdown":"Unfortunately, it didn&#39;t work for me. The client gave the error invalid zip file.","body":"Unfortunately, it didn&#39;t work for me. The client gave the error invalid zip file."},{"owner":{"account_id":21637162,"reputation":129,"user_id":15959923,"display_name":"Mavic More"},"score":0,"creation_date":1696008263,"post_id":75595252,"comment_id":136103706,"body_markdown":"@Saurabh probably because it was empty, that&#39;s common thing","body":"@Saurabh probably because it was empty, that&#39;s common thing"},{"owner":{"account_id":2882066,"reputation":336,"user_id":2472716,"display_name":"Saurabh"},"score":0,"creation_date":1696104331,"post_id":75595252,"comment_id":136111860,"body_markdown":"Yeah that was the issue. Sorry about the down vote. I cannot change it now due to Stackoverflow restrictions. Thanks","body":"Yeah that was the issue. Sorry about the down vote. I cannot change it now due to Stackoverflow restrictions. Thanks"}],"tags":[],"owner":{"account_id":21637162,"reputation":129,"user_id":15959923,"display_name":"Mavic More"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678905847,"creation_date":1677604360,"answer_id":75595252,"question_id":27952949,"body_markdown":"Only thing that worked for Spring Boot application \r\n**(without any hardcoded file paths!)**\r\n\r\n```\r\n@GetMapping(value = &quot;/zip-download&quot;, produces=&quot;application/zip&quot;)\r\npublic void zipDownload(@RequestParam List&lt;String&gt; name, HttpServletResponse response) throws IOException {\r\n\r\n\tresponse.setStatus(HttpServletResponse.SC_OK);\r\n\tresponse.addHeader(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + zipFileName + &quot;\\&quot;&quot;);\r\n\r\n\tZipOutputStream zipOut = new ZipOutputStream(response.getOutputStream());\r\n\r\n\tfor (String fileName : name) {\r\n\r\n\t    // resource content length\r\n\t    int contentLength = 123;\r\n\t    // resource input stream\r\n\t    InputStream stream = InputStream.nullInputStream();\r\n\r\n\t\tZipEntry zipEntry = new ZipEntry(fileName);\r\n\t\tzipEntry.setSize(contentLength);\r\n\r\n\t\tzipOut.putNextEntry(zipEntry);\r\n\t\tStreamUtils.copy(stream, zipOut);\r\n\r\n\t\tzipOut.closeEntry();\r\n\t}\r\n\r\n\tzipOut.finish();\r\n\tzipOut.close();\r\n}\r\n\r\n```","title":"Spring REST - create ZIP file and send it to the client","body":"<p>Only thing that worked for Spring Boot application\n<strong>(without any hardcoded file paths!)</strong></p>\n<pre><code>@GetMapping(value = &quot;/zip-download&quot;, produces=&quot;application/zip&quot;)\npublic void zipDownload(@RequestParam List&lt;String&gt; name, HttpServletResponse response) throws IOException {\n\n    response.setStatus(HttpServletResponse.SC_OK);\n    response.addHeader(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + zipFileName + &quot;\\&quot;&quot;);\n\n    ZipOutputStream zipOut = new ZipOutputStream(response.getOutputStream());\n\n    for (String fileName : name) {\n\n        // resource content length\n        int contentLength = 123;\n        // resource input stream\n        InputStream stream = InputStream.nullInputStream();\n\n        ZipEntry zipEntry = new ZipEntry(fileName);\n        zipEntry.setSize(contentLength);\n\n        zipOut.putNextEntry(zipEntry);\n        StreamUtils.copy(stream, zipOut);\n\n        zipOut.closeEntry();\n    }\n\n    zipOut.finish();\n    zipOut.close();\n}\n\n</code></pre>\n"}],"owner":{"account_id":3810607,"reputation":4104,"user_id":3161589,"accept_rate":50,"display_name":"azalut"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115747,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"answer_count":5,"score":55,"last_activity_date":1678905847,"creation_date":1421271600,"question_id":27952949,"body_markdown":"I want to create a ZIP file that contains my archived files that I received from the backend, and then send this file to a user. For 2 days I have been looking for the answer and can&#39;t find proper solution, maybe you can help me :) \r\n\r\n**For now, the code is like this** (I know I shouldn&#39;t do it all in the Spring controller, but don&#39;t care about that, it is just for testing purposes, to find the way to make it works):\r\n\r\n        @RequestMapping(value = &quot;/zip&quot;)\r\n        public byte[] zipFiles(HttpServletResponse response) throws IOException {\r\n            // Setting HTTP headers\r\n            response.setContentType(&quot;application/zip&quot;);\r\n            response.setStatus(HttpServletResponse.SC_OK);\r\n            response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;test.zip\\&quot;&quot;);\r\n    \r\n            // Creating byteArray stream, make it bufferable and passing this buffer to ZipOutputStream\r\n            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n            BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(byteArrayOutputStream);\r\n            ZipOutputStream zipOutputStream = new ZipOutputStream(bufferedOutputStream);\r\n    \r\n            // Simple file list, just for tests\r\n            ArrayList&lt;File&gt; files = new ArrayList&lt;&gt;(2);\r\n            files.add(new File(&quot;README.md&quot;));\r\n    \r\n            // Packing files\r\n            for (File file : files) {\r\n                // New zip entry and copying InputStream with file to ZipOutputStream, after all closing streams\r\n                zipOutputStream.putNextEntry(new ZipEntry(file.getName()));\r\n                FileInputStream fileInputStream = new FileInputStream(file);\r\n    \r\n                IOUtils.copy(fileInputStream, zipOutputStream);\r\n    \r\n                fileInputStream.close();\r\n                zipOutputStream.closeEntry();\r\n            }\r\n    \r\n            if (zipOutputStream != null) {\r\n                zipOutputStream.finish();\r\n                zipOutputStream.flush();\r\n                IOUtils.closeQuietly(zipOutputStream);\r\n            }\r\n            IOUtils.closeQuietly(bufferedOutputStream);\r\n            IOUtils.closeQuietly(byteArrayOutputStream);\r\n\r\n            return byteArrayOutputStream.toByteArray();\r\n        }\r\n\r\nBut the problem is, that using the code, when I enter the URL `localhost:8080/zip`, I get a file `test.zip.html` instead of `.zip` file.\r\n\r\nWhen I remove `.html` extension and leave just `test.zip` it opens correctly. So my questions are:\r\n - How to avoid returning this `.html` extension?\r\n - Why is it added?\r\n\r\n---\r\nI have no idea what else can I do. I was also trying replace `ByteArrayOuputStream` with something like:\r\n\r\n    OutputStream outputStream = response.getOutputStream();\r\n\r\nand set the method to be **void** so it returns nothing, but It created `.zip` file which was damaged? \r\n\r\nOn my MacBook after unpacking the `test.zip` I was getting `test.zip.cpgz` which was again giving me `test.zip` file and so on.\r\n\r\nOn Windows the .zip file was damaged as I said and couldn&#39;t even open it. \r\n\r\nI also suppose, that removing `.html` extension automatically will be the best option, but how?\r\n\r\nHope it is no as hard as It seems to be :)  \r\nThanks\r\n","title":"Spring REST - create ZIP file and send it to the client","body":"<p>I want to create a ZIP file that contains my archived files that I received from the backend, and then send this file to a user. For 2 days I have been looking for the answer and can't find proper solution, maybe you can help me :)</p>\n<p><strong>For now, the code is like this</strong> (I know I shouldn't do it all in the Spring controller, but don't care about that, it is just for testing purposes, to find the way to make it works):</p>\n<pre><code>    @RequestMapping(value = &quot;/zip&quot;)\n    public byte[] zipFiles(HttpServletResponse response) throws IOException {\n        // Setting HTTP headers\n        response.setContentType(&quot;application/zip&quot;);\n        response.setStatus(HttpServletResponse.SC_OK);\n        response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;test.zip\\&quot;&quot;);\n\n        // Creating byteArray stream, make it bufferable and passing this buffer to ZipOutputStream\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(byteArrayOutputStream);\n        ZipOutputStream zipOutputStream = new ZipOutputStream(bufferedOutputStream);\n\n        // Simple file list, just for tests\n        ArrayList&lt;File&gt; files = new ArrayList&lt;&gt;(2);\n        files.add(new File(&quot;README.md&quot;));\n\n        // Packing files\n        for (File file : files) {\n            // New zip entry and copying InputStream with file to ZipOutputStream, after all closing streams\n            zipOutputStream.putNextEntry(new ZipEntry(file.getName()));\n            FileInputStream fileInputStream = new FileInputStream(file);\n\n            IOUtils.copy(fileInputStream, zipOutputStream);\n\n            fileInputStream.close();\n            zipOutputStream.closeEntry();\n        }\n\n        if (zipOutputStream != null) {\n            zipOutputStream.finish();\n            zipOutputStream.flush();\n            IOUtils.closeQuietly(zipOutputStream);\n        }\n        IOUtils.closeQuietly(bufferedOutputStream);\n        IOUtils.closeQuietly(byteArrayOutputStream);\n\n        return byteArrayOutputStream.toByteArray();\n    }\n</code></pre>\n<p>But the problem is, that using the code, when I enter the URL <code>localhost:8080/zip</code>, I get a file <code>test.zip.html</code> instead of <code>.zip</code> file.</p>\n<p>When I remove <code>.html</code> extension and leave just <code>test.zip</code> it opens correctly. So my questions are:</p>\n<ul>\n<li>How to avoid returning this <code>.html</code> extension?</li>\n<li>Why is it added?</li>\n</ul>\n<hr />\n<p>I have no idea what else can I do. I was also trying replace <code>ByteArrayOuputStream</code> with something like:</p>\n<pre><code>OutputStream outputStream = response.getOutputStream();\n</code></pre>\n<p>and set the method to be <strong>void</strong> so it returns nothing, but It created <code>.zip</code> file which was damaged?</p>\n<p>On my MacBook after unpacking the <code>test.zip</code> I was getting <code>test.zip.cpgz</code> which was again giving me <code>test.zip</code> file and so on.</p>\n<p>On Windows the .zip file was damaged as I said and couldn't even open it.</p>\n<p>I also suppose, that removing <code>.html</code> extension automatically will be the best option, but how?</p>\n<p>Hope it is no as hard as It seems to be :)<br />\nThanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1445004928,"post_id":33172657,"comment_id":54152785,"body_markdown":"What result is your current code producing?","body":"What result is your current code producing?"},{"owner":{"account_id":4657627,"reputation":57,"user_id":3772767,"accept_rate":75,"display_name":"Kyle"},"score":0,"creation_date":1445004955,"post_id":33172657,"comment_id":54152805,"body_markdown":"It&#39;s producing a half triangle upside down.","body":"It&#39;s producing a half triangle upside down."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1445005007,"post_id":33172657,"comment_id":54152852,"body_markdown":"Edit your question with this information. Myself, I&#39;d use 4 for loops, one to print the first row, two for loops with one nested in the other to print the diagonal, and one to print the last row.","body":"Edit your question with this information. Myself, I&#39;d use 4 for loops, one to print the first row, two for loops with one nested in the other to print the diagonal, and one to print the last row."}],"answers":[{"tags":[],"owner":{"account_id":4657193,"reputation":2068,"user_id":3772464,"accept_rate":100,"display_name":"Ryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445021440,"creation_date":1445005306,"answer_id":33172802,"question_id":33172657,"body_markdown":"How about using three loops instead?\r\n\r\n\tfor (int x = 0; x &lt; n; x++) {\r\n\t\tSystem.out.print(&quot;*&quot;);\r\n\t}\r\n\tSystem.out.println();\r\n\tfor (int x = n-3; x &gt;= 0; x--) {\r\n\t\tfor (int y = x; y &gt;= 0; y--) {\r\n\t\t    System.out.print(&quot; &quot;);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;*&quot;);\r\n    }\r\n\tfor (int x = 0; x &lt; n; x++) {\r\n\t\tSystem.out.print(&quot;*&quot;);\r\n\t}","title":"Print a Z shape pyramid using * stars","body":"<p>How about using three loops instead?</p>\n\n<pre><code>for (int x = 0; x &lt; n; x++) {\n    System.out.print(\"*\");\n}\nSystem.out.println();\nfor (int x = n-3; x &gt;= 0; x--) {\n    for (int y = x; y &gt;= 0; y--) {\n        System.out.print(\" \");\n    }\n    System.out.println(\"*\");\n}\nfor (int x = 0; x &lt; n; x++) {\n    System.out.print(\"*\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4657627,"reputation":57,"user_id":3772767,"accept_rate":75,"display_name":"Kyle"},"score":0,"creation_date":1445005724,"post_id":33172803,"comment_id":54153342,"body_markdown":"Thanks! Also thanks for the great explanation, this will really help.","body":"Thanks! Also thanks for the great explanation, this will really help."}],"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1445005754,"creation_date":1445005322,"answer_id":33172803,"question_id":33172657,"body_markdown":"This is the logic in the following code:\r\n\r\n - Loop over each row of the output (so from 0 to `n` excluded so that we have `n` rows)\r\n - Loop over each column of the output (so from 0 to `n` excluded so that we have `n` columns)\r\n - We need to print a `*` only when it is the first row (`x == 0`) or the last row (`x == n - 1`) or the column is in the opposite diagonal (`column == n - 1 - row`)\r\n\r\nCode:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter a number: &quot;);\r\n\t\tint n = input.nextInt();\r\n\t\tfor (int row = 0; row &lt; n; row++) {\r\n\t\t\tfor (int column = 0; column &lt; n; column++) {\r\n\t\t\t\tif (row == 0 || row == n - 1 || column == n - 1 - row) {\r\n\t\t\t\t\tSystem.out.print(&quot;*&quot;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}\r\n\r\nSample output for `n = 6`:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    ******\r\n        * \r\n       *  \r\n      *   \r\n     *    \r\n    ******\r\n\r\n(Note that this output has trailing white-spaces for each row, you did not specify whether they should be included, but it is easy to remove them by adding another check).","title":"Print a Z shape pyramid using * stars","body":"<p>This is the logic in the following code:</p>\n\n<ul>\n<li>Loop over each row of the output (so from 0 to <code>n</code> excluded so that we have <code>n</code> rows)</li>\n<li>Loop over each column of the output (so from 0 to <code>n</code> excluded so that we have <code>n</code> columns)</li>\n<li>We need to print a <code>*</code> only when it is the first row (<code>x == 0</code>) or the last row (<code>x == n - 1</code>) or the column is in the opposite diagonal (<code>column == n - 1 - row</code>)</li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    System.out.print(\"Enter a number: \");\n    int n = input.nextInt();\n    for (int row = 0; row &lt; n; row++) {\n        for (int column = 0; column &lt; n; column++) {\n            if (row == 0 || row == n - 1 || column == n - 1 - row) {\n                System.out.print(\"*\");\n            } else {\n                System.out.print(\" \");\n            }\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n\n<p>Sample output for <code>n = 6</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>******\n    * \n   *  \n  *   \n *    \n******\n</code></pre>\n\n<p>(Note that this output has trailing white-spaces for each row, you did not specify whether they should be included, but it is easy to remove them by adding another check).</p>\n"},{"tags":[],"owner":{"account_id":12536509,"reputation":11,"user_id":9123027,"display_name":"Sw&#239;sh S&#227;t&#238;k&#226;&#241;t"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513777998,"creation_date":1513777800,"answer_id":47907543,"question_id":33172657,"body_markdown":"    public class Star {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t  for (int i = 0; i &lt;=4; i++) {\r\n\t\t        for (int j = 0; j &lt;=4; j++) \r\n\t\t        {\r\n\t\t            if (i==4 ||   (i+j)==4 || i==0) \r\n\t\t            {\r\n\t\t                System.out.print(&quot; * &quot;);\r\n\t\t            } \r\n\t\t            else \r\n\t\t            {\r\n\t\t                System.out.print(&quot;    &quot;);\r\n\t\t            }\r\n\t\t        }\r\n\t\t        System.out.println(&quot; &quot;);\r\n\t\t    }\r\n\t}\r\n    }\r\n","title":"Print a Z shape pyramid using * stars","body":"<pre><code>public class Star {\npublic static void main(String[] args) {\n\n      for (int i = 0; i &lt;=4; i++) {\n            for (int j = 0; j &lt;=4; j++) \n            {\n                if (i==4 ||   (i+j)==4 || i==0) \n                {\n                    System.out.print(\" * \");\n                } \n                else \n                {\n                    System.out.print(\"    \");\n                }\n            }\n            System.out.println(\" \");\n        }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19230042,"reputation":1,"user_id":14052073,"display_name":"Sanjoy Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596612970,"creation_date":1596610773,"answer_id":63259956,"question_id":33172657,"body_markdown":"Here is a logic to print Z shape:\r\n\r\n 1. when `i = 1`, then the First line will print only &quot;#&quot;\r\n 2. when `i = n`, then the Last line will print in same way by &quot;#&quot; only\r\n 3. when `i = j`, that means it will execute one diagonal line by &quot;#&quot; only\r\n\r\nCode:\r\n\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\tScanner scr = new Scanner(System.in);\r\n\t\t\r\n\t\tint n = scr.nextInt();\r\n\t\t\r\n\t\tfor (int i = 1; i &lt;= n; i++) {\r\n\t\t\tfor(int j = n; j &gt;= 1; j--) {\r\n\t\t\t\t\r\n\t\t\t\tif (i == 1 || i == n || i == j) {\r\n\t\t\t\t\tSystem.out.print(&quot;# &quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\telse {\r\n\t\t\t\t\tSystem.out.print(&quot;  &quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}","title":"Print a Z shape pyramid using * stars","body":"<p>Here is a logic to print Z shape:</p>\n<ol>\n<li>when <code>i = 1</code>, then the First line will print only &quot;#&quot;</li>\n<li>when <code>i = n</code>, then the Last line will print in same way by &quot;#&quot; only</li>\n<li>when <code>i = j</code>, that means it will execute one diagonal line by &quot;#&quot; only</li>\n</ol>\n<p>Code:</p>\n<pre><code>public static void main(String[] args) {\n    \n    Scanner scr = new Scanner(System.in);\n    \n    int n = scr.nextInt();\n    \n    for (int i = 1; i &lt;= n; i++) {\n        for(int j = n; j &gt;= 1; j--) {\n            \n            if (i == 1 || i == n || i == j) {\n                System.out.print(&quot;# &quot;);\n            }\n            \n            else {\n                System.out.print(&quot;  &quot;);\n            }\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"score":0,"creation_date":1679419789,"post_id":75748888,"comment_id":133717819,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75748888/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28026098,"reputation":1,"user_id":21406093,"display_name":"Mr.A"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678905809,"creation_date":1678905809,"answer_id":75748888,"question_id":33172657,"body_markdown":"    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t    int i, j,n=5;\r\n    \t    for(i = 1; i &lt;= n; i++){\r\n    \t        for(j = 1; j &lt;= n ; j++){\r\n    \t            if(i==1 || i+j == n+1 || i==n)\r\n    \t                System.out.print(&quot;*&quot;);\r\n    \t            else\r\n    \t                System.out.print(&quot; &quot;);\r\n    \t        }\r\n    \t        System.out.println();\r\n    \t    }\r\n    \t}\r\n    }\r\n\r\n","title":"Print a Z shape pyramid using * stars","body":"<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        int i, j,n=5;\n        for(i = 1; i &lt;= n; i++){\n            for(j = 1; j &lt;= n ; j++){\n                if(i==1 || i+j == n+1 || i==n)\n                    System.out.print(&quot;*&quot;);\n                else\n                    System.out.print(&quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4657627,"reputation":57,"user_id":3772767,"accept_rate":75,"display_name":"Kyle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30213,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33172803,"answer_count":5,"score":2,"last_activity_date":1678905809,"creation_date":1445004876,"question_id":33172657,"body_markdown":"I am trying to write a program that outputs a Z pattern that is `n` number of `*` across the top, bottom, and connecting line using for loops.\r\n\r\nExample:\r\n\r\n    Enter a number: 6\r\n    \r\n    ******\r\n        *\r\n       *\r\n      *\r\n     *\r\n    ******\r\n\r\n\r\nThis is my current code, it&#39;s producing a half pyramid upside down.\r\n\r\n    import java.util.*;\r\n\r\n    public class ZShape {\r\n       public static void main(String[] args) {\r\n          Scanner input = new Scanner(System.in);\r\n          \r\n          System.out.print(&quot;Enter a number: &quot;);\r\n          int n = input.nextInt(); \r\n          \r\n          for (int x = 0; x &lt;= n; x++) {\r\n             for (int y = n; y &gt;= 1; y--) {\r\n                if (y &gt; x) {\r\n                   System.out.print(&quot;* &quot;);\r\n                }\r\n                else\r\n                   System.out.print(&quot; &quot;);\r\n             } \r\n             System.out.println(); \r\n          }      \r\n       }\r\n    }","title":"Print a Z shape pyramid using * stars","body":"<p>I am trying to write a program that outputs a Z pattern that is <code>n</code> number of <code>*</code> across the top, bottom, and connecting line using for loops.</p>\n\n<p>Example:</p>\n\n<pre><code>Enter a number: 6\n\n******\n    *\n   *\n  *\n *\n******\n</code></pre>\n\n<p>This is my current code, it's producing a half pyramid upside down.</p>\n\n<pre><code>import java.util.*;\n\npublic class ZShape {\n   public static void main(String[] args) {\n      Scanner input = new Scanner(System.in);\n\n      System.out.print(\"Enter a number: \");\n      int n = input.nextInt(); \n\n      for (int x = 0; x &lt;= n; x++) {\n         for (int y = n; y &gt;= 1; y--) {\n            if (y &gt; x) {\n               System.out.print(\"* \");\n            }\n            else\n               System.out.print(\" \");\n         } \n         System.out.println(); \n      }      \n   }\n}\n</code></pre>\n"},{"tags":["java","android","amazon-web-services"],"answers":[{"comments":[{"owner":{"account_id":4237637,"reputation":416,"user_id":3468376,"accept_rate":100,"display_name":"yasiriqbal776"},"score":0,"creation_date":1402633727,"post_id":24196491,"comment_id":37357556,"body_markdown":"here response.getOffset() method i told in explanation above that documentation said it return the offset which you send in initiatePurchaseUpdateRequest(Ofset); if it return what we send then does it not use OFset.BEGNING ofsets.","body":"here response.getOffset() method i told in explanation above that documentation said it return the offset which you send in initiatePurchaseUpdateRequest(Ofset); if it return what we send then does it not use OFset.BEGNING ofsets."},{"owner":{"account_id":2598014,"reputation":334,"user_id":2251214,"display_name":"shunkana"},"score":0,"creation_date":1403260598,"post_id":24196491,"comment_id":37600296,"body_markdown":"The offset that is returned in the PurchaseUpdatesResponse instance in onPurchaseUpdatesResponse is a different value than Offset.BEGINNING.  So when response.isMore() returns true, you will call initiatePurchaseUpdatesRequest with this offset that&#39;s different from Offset.BEGINNING so that you get the next set of purchase updates.  Just think of Offset as page numbers in a paginated response.","body":"The offset that is returned in the PurchaseUpdatesResponse instance in onPurchaseUpdatesResponse is a different value than Offset.BEGINNING.  So when response.isMore() returns true, you will call initiatePurchaseUpdatesRequest with this offset that&#39;s different from Offset.BEGINNING so that you get the next set of purchase updates.  Just think of Offset as page numbers in a paginated response."}],"tags":[],"owner":{"account_id":2598014,"reputation":334,"user_id":2251214,"display_name":"shunkana"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402623650,"creation_date":1402623650,"answer_id":24196491,"question_id":24178568,"body_markdown":"For a particular user, the first time you call initiatePurchaseUpdatesRequests(Offset offset), you should call it with Offset.BEGINNING.  Inside the onPurchaseUpdatesResponse callback, you should check if there are more purchase updates and call initiatePurchaseUpdatesRequest recursively using the last Offset. (see code below for an example)\r\n\r\nIf you want to retrieve only &quot;new&quot; purchase updates, you can also save the last offset and make subsequent initiatePurchaseUpdatesRequests(Offset offset) calls starting from that saved offset.\r\n\r\n    public void onPurchaseUpdatesResponse(final PurchaseUpdatesResponse response) {\r\n    \r\n        //...\r\n        Offset offset = response.getOffset();\r\n        if (response.isMore()) {\r\n            PurchasingManager.initiatePurchaseUpdatesRequest(offset);\r\n        }\r\n\r\n        // Save offset associated to this IAP UserId.\r\n    }\r\n\r\nThe sample app for entitlements in the Amazon Mobile SDK also includes example code that illustrates how to use the Offset as well.\r\n","title":"Amazon InApp Purchase","body":"<p>For a particular user, the first time you call initiatePurchaseUpdatesRequests(Offset offset), you should call it with Offset.BEGINNING.  Inside the onPurchaseUpdatesResponse callback, you should check if there are more purchase updates and call initiatePurchaseUpdatesRequest recursively using the last Offset. (see code below for an example)</p>\n\n<p>If you want to retrieve only \"new\" purchase updates, you can also save the last offset and make subsequent initiatePurchaseUpdatesRequests(Offset offset) calls starting from that saved offset.</p>\n\n<pre><code>public void onPurchaseUpdatesResponse(final PurchaseUpdatesResponse response) {\n\n    //...\n    Offset offset = response.getOffset();\n    if (response.isMore()) {\n        PurchasingManager.initiatePurchaseUpdatesRequest(offset);\n    }\n\n    // Save offset associated to this IAP UserId.\n}\n</code></pre>\n\n<p>The sample app for entitlements in the Amazon Mobile SDK also includes example code that illustrates how to use the Offset as well.</p>\n"},{"comments":[{"owner":{"account_id":4237637,"reputation":416,"user_id":3468376,"accept_rate":100,"display_name":"yasiriqbal776"},"score":0,"creation_date":1402992470,"post_id":24248522,"comment_id":37473970,"body_markdown":"https://developer.amazon.com/public/apis/earn/in-app-purchasing/javadocs/in-app-purchasing-api-reference                                     Here above documentation of Amazon developer site,in PurchaseUpdateResponse their is function getOffset whose description is Returns an Offset that you can pass to                                     PurchasingManager.initiatePurchaseUpdatesRequest(Offset) if isMore() indicates that more results are available.                                     Now this show we get same offset which we send and what is for this isMore() method, i am confused here","body":"<a href=\"https://developer.amazon.com/public/apis/earn/in-app-purchasing/javadocs/in-app-purchasing-api-reference\" rel=\"nofollow noreferrer\">developer.amazon.com/public/apis/earn/in-app-purchasing/&hellip;</a>                                     Here above documentation of Amazon developer site,in PurchaseUpdateResponse their is function getOffset whose description is Returns an Offset that you can pass to                                     PurchasingManager.initiatePurchaseUpdatesRequest(Offset) if isMore() indicates that more results are available.                                     Now this show we get same offset which we send and what is for this isMore() method, i am confused here"},{"owner":{"account_id":2367353,"reputation":1900,"user_id":2072811,"display_name":"Christina"},"score":0,"creation_date":1403286612,"post_id":24248522,"comment_id":37614902,"body_markdown":"@yasiriqbal776, the documentation didn&#39;t say getOffset() would return the same offset value as what you sent.","body":"@yasiriqbal776, the documentation didn&#39;t say getOffset() would return the same offset value as what you sent."},{"owner":{"account_id":2367353,"reputation":1900,"user_id":2072811,"display_name":"Christina"},"score":0,"creation_date":1403286983,"post_id":24248522,"comment_id":37615072,"body_markdown":"@yasiriqbal776, I would also encourage you to try the SampleIAPEntitlementsApp from Amazon Mobile App SDK if you haven&#39;t already. Simply build &amp; run the sample, and then filter &quot;offset&quot; in logcat. It would show that the offset value from the PurchaseUpdatesResponse object is different from what was passed-in.","body":"@yasiriqbal776, I would also encourage you to try the SampleIAPEntitlementsApp from Amazon Mobile App SDK if you haven&#39;t already. Simply build &amp; run the sample, and then filter &quot;offset&quot; in logcat. It would show that the offset value from the PurchaseUpdatesResponse object is different from what was passed-in."}],"tags":[],"owner":{"account_id":2367353,"reputation":1900,"user_id":2072811,"display_name":"Christina"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1402937347,"creation_date":1402937347,"answer_id":24248522,"question_id":24178568,"body_markdown":"According to the [IAP Reference][1]:\r\n\r\n&gt; `public Offset getOffset()`\r\n&gt; \r\n&gt; Returns an `Offset` that you ***can pass*** to\r\n&gt; `PurchasingManager.initiatePurchaseUpdatesRequest(Offset)` if `isMore()`\r\n&gt; indicates that more results are available.\r\n\r\nIn the [IAP Quick Start Guide][2], it said:\r\n\r\n&gt; If `PurchaseUpdatesResponse.isMore()` returns `true`, make a recursive\r\n&gt; call to `PurchasingManager.initiatePurchaseUpdatesRequest()` with the\r\n&gt; value returned in `PurchaseUpdatesResponse.getOffset()`.\r\n\r\n@yasiriqbal776, I think you may have misread the documentation. Otherwise, can you please provide the URL to the documentation you&#39;re referring to?\r\n\r\n  [1]: https://developer.amazon.com/public/binaries/content/assets/javadoc/in-app-purchasing-api/com/amazon/inapp/purchasing/PurchaseUpdatesResponse.html#getOffset%28%29\r\n  [2]: https://developer.amazon.com/public/apis/earn/in-app-purchasing/docs/quick-start#5.%20Sync%20Access%20Rights%20for%20the%20Current%20User","title":"Amazon InApp Purchase","body":"<p>According to the <a href=\"https://developer.amazon.com/public/binaries/content/assets/javadoc/in-app-purchasing-api/com/amazon/inapp/purchasing/PurchaseUpdatesResponse.html#getOffset%28%29\" rel=\"nofollow\">IAP Reference</a>:</p>\n\n<blockquote>\n  <p><code>public Offset getOffset()</code></p>\n  \n  <p>Returns an <code>Offset</code> that you <strong><em>can pass</em></strong> to\n  <code>PurchasingManager.initiatePurchaseUpdatesRequest(Offset)</code> if <code>isMore()</code>\n  indicates that more results are available.</p>\n</blockquote>\n\n<p>In the <a href=\"https://developer.amazon.com/public/apis/earn/in-app-purchasing/docs/quick-start#5.%20Sync%20Access%20Rights%20for%20the%20Current%20User\" rel=\"nofollow\">IAP Quick Start Guide</a>, it said:</p>\n\n<blockquote>\n  <p>If <code>PurchaseUpdatesResponse.isMore()</code> returns <code>true</code>, make a recursive\n  call to <code>PurchasingManager.initiatePurchaseUpdatesRequest()</code> with the\n  value returned in <code>PurchaseUpdatesResponse.getOffset()</code>.</p>\n</blockquote>\n\n<p>@yasiriqbal776, I think you may have misread the documentation. Otherwise, can you please provide the URL to the documentation you're referring to?</p>\n"}],"owner":{"account_id":4237637,"reputation":416,"user_id":3468376,"accept_rate":100,"display_name":"yasiriqbal776"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24248522,"answer_count":2,"score":2,"last_activity_date":1678905772,"creation_date":1402557394,"question_id":24178568,"body_markdown":"When we are implementing InApp by Amazon inApp API, we call the `initiatePurchaseUpdatesRequests(Offset offset)` function by Purchasing Manager. In response, we get `onPurchaseUpdatesResponse(PurchaseUpdatesResponse obj)`.\r\n\r\nI am confused about offset. If we are calling for first time then we can use `Ofset.BEGINNING` and in the response the method `obj.getOffset()`. The documentation says that this will return the `Offset` you&#39;re supposed to send.\r\n\r\nIf it will return the old offset, then it means that the same `Offset.BEGINNING` will be sent every time.\r\n\r\nAlso, I am confused about what the `Offset` is in the first place.\r\n\r\nCan someone clarify those points?","title":"Amazon InApp Purchase","body":"<p>When we are implementing InApp by Amazon inApp API, we call the <code>initiatePurchaseUpdatesRequests(Offset offset)</code> function by Purchasing Manager. In response, we get <code>onPurchaseUpdatesResponse(PurchaseUpdatesResponse obj)</code>.</p>\n<p>I am confused about offset. If we are calling for first time then we can use <code>Ofset.BEGINNING</code> and in the response the method <code>obj.getOffset()</code>. The documentation says that this will return the <code>Offset</code> you're supposed to send.</p>\n<p>If it will return the old offset, then it means that the same <code>Offset.BEGINNING</code> will be sent every time.</p>\n<p>Also, I am confused about what the <code>Offset</code> is in the first place.</p>\n<p>Can someone clarify those points?</p>\n"},{"tags":["java","amazon-web-services","apache","web","tomcat"],"comments":[{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1432739539,"post_id":30486297,"comment_id":49051374,"body_markdown":"What server side components do you use?","body":"What server side components do you use?"},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1432739917,"post_id":30486297,"comment_id":49051675,"body_markdown":"@ChetanKinger: sorry, didn&#39;t get your point.","body":"@ChetanKinger: sorry, didn&#39;t get your point."},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1432740314,"post_id":30486297,"comment_id":49051995,"body_markdown":"You said you have web application which is a `WAR` file. You said the static pages will access the actual java based web application. A java based web application will use server side components such as `Servlets` or `JSP`. What do you use as server side components?","body":"You said you have web application which is a <code>WAR</code> file. You said the static pages will access the actual java based web application. A java based web application will use server side components such as <code>Servlets</code> or <code>JSP</code>. What do you use as server side components?"}],"answers":[{"comments":[{"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"score":0,"creation_date":1482858496,"post_id":30486832,"comment_id":69900123,"body_markdown":"Have you tried your answer? Do you know how much complexity it adds?","body":"Have you tried your answer? Do you know how much complexity it adds?"}],"tags":[],"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432740488,"creation_date":1432740488,"answer_id":30486832,"question_id":30486297,"body_markdown":"Build a java based rest api, use angular on the front end and access the rest endpoints via ajax.\r\n\r\nSeparate the two projects, upload the static html/javascript to a cdn/cache.  \r\n\r\nOr alternatively you can keep the html/javascript in the same war in the root of your webapp, it will (probably) be cached by the webserver.\r\n\r\nDon&#39;t use JSP&#39;s.","title":"Separating static web pages from WAR file","body":"<p>Build a java based rest api, use angular on the front end and access the rest endpoints via ajax.</p>\n\n<p>Separate the two projects, upload the static html/javascript to a cdn/cache.  </p>\n\n<p>Or alternatively you can keep the html/javascript in the same war in the root of your webapp, it will (probably) be cached by the webserver.</p>\n\n<p>Don't use JSP's.</p>\n"},{"tags":[],"owner":{"account_id":4626248,"reputation":1498,"user_id":3749993,"display_name":"win_wave"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432753529,"creation_date":1432753529,"answer_id":30491060,"question_id":30486297,"body_markdown":"Usually it is done by providing Apache or other proxy before container. So it will forward some requests to application container, but static files by its own. ","title":"Separating static web pages from WAR file","body":"<p>Usually it is done by providing Apache or other proxy before container. So it will forward some requests to application container, but static files by its own. </p>\n"}],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678905678,"creation_date":1432739033,"question_id":30486297,"body_markdown":"I have a web application which is a WAR file. I will be hosting this in Amazon cloud, using Linux and Tomcat. However I now need to create a different UI using HTML and CSS, no Java or WAR. My plan is, user will access this static user interface first and from a link there, they will access the actual java based web application. \r\n\r\nThere are 2 ways I can do this. First is to put all of this static content into the WAR file. Second is seprating the static content from the WAR file. I prefer the second method, because I can add info to the user interfaces without shutting down the entire web application.\r\n\r\nBut, how can I do this? How can I put these static files to tomcat and link the WAR file to it? Specially is this is possible in amazon cloud? ","title":"Separating static web pages from WAR file","body":"<p>I have a web application which is a WAR file. I will be hosting this in Amazon cloud, using Linux and Tomcat. However I now need to create a different UI using HTML and CSS, no Java or WAR. My plan is, user will access this static user interface first and from a link there, they will access the actual java based web application. </p>\n\n<p>There are 2 ways I can do this. First is to put all of this static content into the WAR file. Second is seprating the static content from the WAR file. I prefer the second method, because I can add info to the user interfaces without shutting down the entire web application.</p>\n\n<p>But, how can I do this? How can I put these static files to tomcat and link the WAR file to it? Specially is this is possible in amazon cloud? </p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1678903749,"post_id":75748489,"comment_id":133625179,"body_markdown":"Why do you want to know private implementation details?","body":"Why do you want to know private implementation details?"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1678904794,"post_id":75748489,"comment_id":133625420,"body_markdown":"yes, you can track equals and hashCode but IDE will return for each and every class&#39;s equals and hashCode, because it is override method from Object class and each java class extends Object class","body":"yes, you can track equals and hashCode but IDE will return for each and every class&#39;s equals and hashCode, because it is override method from Object class and each java class extends Object class"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1678904816,"post_id":75748489,"comment_id":133625429,"body_markdown":"It isn&#39;t clear what you are asking. Are you trying to find the source code for `Person.equals (Object o)` and `Person.hashCode ()`? If so, why?","body":"It isn&#39;t clear what you are asking. Are you trying to find the source code for <code>Person.equals (Object o)</code> and <code>Person.hashCode ()</code>? If so, why?"},{"owner":{"account_id":20053569,"reputation":141,"user_id":14701745,"display_name":"HelloWorld"},"score":0,"creation_date":1678907161,"post_id":75748489,"comment_id":133626038,"body_markdown":"@m0skit0 @old-dog-programmer I want to change the `equals` and `hashCode` implementation of the `Person` class. But I want to track down the location in the code where these methods are used(directly and indirectly) so I can understand the impact.","body":"@m0skit0 @old-dog-programmer I want to change the <code>equals</code> and <code>hashCode</code> implementation of the <code>Person</code> class. But I want to track down the location in the code where these methods are used(directly and indirectly) so I can understand the impact."},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":1,"creation_date":1678908113,"post_id":75748489,"comment_id":133626292,"body_markdown":"Either print stack trace from equals()/hashCode() or just put a break point. And then run all unit tests. Or just click through the whole app. I don&#39;t think there&#39;s any simpler way..","body":"Either print stack trace from equals()/hashCode() or just put a break point. And then run all unit tests. Or just click through the whole app. I don&#39;t think there&#39;s any simpler way.."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1678909318,"post_id":75748489,"comment_id":133626587,"body_markdown":"The impact is you change how anyone using your `#equals` and `#hashcode` will behave. That includes pretty much any class in the collections api, and any hash tables for `#hashCode`.  If you read the javadoc for those methods, it&#39;s noted that there is a &quot;contractual&quot; relationship between the two methods (if `o1.equals(o2)` then `o1.hashCode() == o2.hashCode()`), as well as `#hashCode` being for &quot;the benefit of hash tables&quot;. Follow the documentation to a T and there should not be a problem with the behavior of your methods in other classes.","body":"The impact is you change how anyone using your <code>#equals</code> and <code>#hashcode</code> will behave. That includes pretty much any class in the collections api, and any hash tables for <code>#hashCode</code>.  If you read the javadoc for those methods, it&#39;s noted that there is a &quot;contractual&quot; relationship between the two methods (if <code>o1.equals(o2)</code> then <code>o1.hashCode() == o2.hashCode()</code>), as well as <code>#hashCode</code> being for &quot;the benefit of hash tables&quot;. Follow the documentation to a T and there should not be a problem with the behavior of your methods in other classes."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1678911309,"post_id":75748489,"comment_id":133627030,"body_markdown":"@StanislavBashkyrtsev A few classes in the JDK also use equals/hashcode as presented by OP in his question, how are you going to account for those?","body":"@StanislavBashkyrtsev A few classes in the JDK also use equals/hashcode as presented by OP in his question, how are you going to account for those?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1678922877,"post_id":75748489,"comment_id":133629304,"body_markdown":"To be clear:  Do you have the code for `Person` class? Are you responsible for maintaining it?  I suspect there might be an [XY Problem](https://en.wikipedia.org/wiki/XY_problem) here.","body":"To be clear:  Do you have the code for <code>Person</code> class? Are you responsible for maintaining it?  I suspect there might be an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY Problem</a> here."}],"owner":{"account_id":20053569,"reputation":141,"user_id":14701745,"display_name":"HelloWorld"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678905628,"creation_date":1678903176,"question_id":75748489,"body_markdown":"In IntelliJ, how do I find the usages of the `equals` and `hashCode`? For example, if I have the following code:\r\n\r\n    Person p1 = new Person();\r\n    Person p2 = new Person();\r\n    \r\n    List&lt;Person&gt; people = List.of(p1, p2);\r\n    System.out.println(people.contains(p1));// equals usage\r\n    \r\n    HashSet&lt;Person&gt; peopleSet = new HashSet&lt;Person&gt;();\r\n    peopleSet.add(p1);\r\n    peopleSet.add(p2);// hashCode usage\r\n\r\nIs there a way to track down these kind of usages?  ","title":"How to find usages of equals and hashCode?","body":"<p>In IntelliJ, how do I find the usages of the <code>equals</code> and <code>hashCode</code>? For example, if I have the following code:</p>\n<pre><code>Person p1 = new Person();\nPerson p2 = new Person();\n\nList&lt;Person&gt; people = List.of(p1, p2);\nSystem.out.println(people.contains(p1));// equals usage\n\nHashSet&lt;Person&gt; peopleSet = new HashSet&lt;Person&gt;();\npeopleSet.add(p1);\npeopleSet.add(p2);// hashCode usage\n</code></pre>\n<p>Is there a way to track down these kind of usages?</p>\n"},{"tags":["java","azure-functions","azure-blob-trigger"],"comments":[{"owner":{"account_id":3416256,"reputation":2066,"user_id":2865057,"display_name":"Abhilash"},"score":0,"creation_date":1598651157,"post_id":63641197,"comment_id":112538706,"body_markdown":"Aren&#39;t those files getting processed in parallel? Your functions can serve multiple requests at same time, and you cannot really expect logs to be in order.","body":"Aren&#39;t those files getting processed in parallel? Your functions can serve multiple requests at same time, and you cannot really expect logs to be in order."},{"owner":{"account_id":3416256,"reputation":2066,"user_id":2865057,"display_name":"Abhilash"},"score":0,"creation_date":1598651394,"post_id":63641197,"comment_id":112538772,"body_markdown":"Open your files and check their content. It won&#39;t be shared and similarly the variables.","body":"Open your files and check their content. It won&#39;t be shared and similarly the variables."},{"owner":{"account_id":17553918,"reputation":95,"user_id":12733783,"display_name":"AlexanderJ"},"score":0,"creation_date":1598651461,"post_id":63641197,"comment_id":112538795,"body_markdown":"When I go to the Monitor &gt; Invocations and check each invocation, aren&#39;t the logs kept together here? In either case, when I upload 10 files I would expect 10 different lines being printed (regardless in what order they come), but at times I just receive multiple duplicate lines all from the same file .","body":"When I go to the Monitor &gt; Invocations and check each invocation, aren&#39;t the logs kept together here? In either case, when I upload 10 files I would expect 10 different lines being printed (regardless in what order they come), but at times I just receive multiple duplicate lines all from the same file ."},{"owner":{"account_id":17553918,"reputation":95,"user_id":12733783,"display_name":"AlexanderJ"},"score":0,"creation_date":1598659384,"post_id":63641197,"comment_id":112540428,"body_markdown":"After a lot of debugging I&#39;m now convinced variables do leak from one instance to another. I have several cases now where logging the same variable multiple times without doing anything to it shows it changing at random (based on data from another instance). I think for my solution I&#39;ll need to use a Queue to prevent more than 1 blob from being processed at a time.","body":"After a lot of debugging I&#39;m now convinced variables do leak from one instance to another. I have several cases now where logging the same variable multiple times without doing anything to it shows it changing at random (based on data from another instance). I think for my solution I&#39;ll need to use a Queue to prevent more than 1 blob from being processed at a time."},{"owner":{"account_id":18904531,"reputation":6125,"user_id":13791953,"display_name":"krishg"},"score":0,"creation_date":1599262030,"post_id":63641197,"comment_id":112729975,"body_markdown":"@AlexanderJ, Since now the root cause is clear after several discussions over the answers below, could you please mark the most suitable answer as &quot;Accepted&quot; to bring it to conclusion and also to help others who might come across this thread searching  with similar problem.","body":"@AlexanderJ, Since now the root cause is clear after several discussions over the answers below, could you please mark the most suitable answer as &quot;Accepted&quot; to bring it to conclusion and also to help others who might come across this thread searching  with similar problem."}],"answers":[{"comments":[{"owner":{"account_id":17553918,"reputation":95,"user_id":12733783,"display_name":"AlexanderJ"},"score":1,"creation_date":1598715853,"post_id":63645109,"comment_id":112552065,"body_markdown":"1. All blobs have a unique name and represent unique files. When I run my program, for x blobs I end up with x unique files in tempdir as expected. 2. Thanks I wasn&#39;t aware, I&#39;ll try to load the byte[] directly and see if it changes anything. 3. Yeah, I came across that documentation a little bit earlier and I&#39;ll definitely look at adding that to my Function as I would like to limit the number of concurrent SQL queries and Sharepoint uploads anyway.","body":"1. All blobs have a unique name and represent unique files. When I run my program, for x blobs I end up with x unique files in tempdir as expected. 2. Thanks I wasn&#39;t aware, I&#39;ll try to load the byte[] directly and see if it changes anything. 3. Yeah, I came across that documentation a little bit earlier and I&#39;ll definitely look at adding that to my Function as I would like to limit the number of concurrent SQL queries and Sharepoint uploads anyway."},{"owner":{"account_id":17553918,"reputation":95,"user_id":12733783,"display_name":"AlexanderJ"},"score":0,"creation_date":1599259297,"post_id":63645109,"comment_id":112729493,"body_markdown":"Apologies for the late reply, but thanks a lot, this was exactly it! I&#39;m not an experienced programmer yet and was using static-method across my classes without fully understanding the functionality of it. I will make sure to pay more attention to these things next time :)","body":"Apologies for the late reply, but thanks a lot, this was exactly it! I&#39;m not an experienced programmer yet and was using static-method across my classes without fully understanding the functionality of it. I will make sure to pay more attention to these things next time :)"},{"owner":{"account_id":18904531,"reputation":6125,"user_id":13791953,"display_name":"krishg"},"score":0,"creation_date":1599260364,"post_id":63645109,"comment_id":112729680,"body_markdown":"No problem. Glad that you reached the community. &#39;Static&#39; can sometimes end up being a Monster or Saviour for even experienced developers being clueless :).","body":"No problem. Glad that you reached the community. &#39;Static&#39; can sometimes end up being a Monster or Saviour for even experienced developers being clueless :)."}],"tags":[],"owner":{"account_id":18904531,"reputation":6125,"user_id":13791953,"display_name":"krishg"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599292460,"creation_date":1598690815,"answer_id":63645109,"question_id":63641197,"body_markdown":"No, it&#39;s quite hard to believe that function can have such a serious issue. I see some potential problems which might be causing this in your case:\r\n1. Are you sure you are uploading to a different unique blob for each file every time? You can check by logging the blobname param.\r\n2. Since you store the file in temp directory `File tempfile = new File (tempdir, blobname);`, if the blob name is same as mentioned in #1, it would overwrite with last write wins. If it&#39;s possible to construct pdf directly from bytes or stream, you can consider that instead of creating an intermediate file in filesystem. If I am not wrong you are using [PDFBox][1] which has support to load from byte[] https://pdfbox.apache.org/docs/2.0.3/javadocs/index.html?org/apache/pdfbox/pdmodel/PDDocument.html (check the load method overload which accepts byte[]). I have also answered your [another question][2] related to this.\r\n3. Check if you have static field causing this.\r\n4. You don&#39;t need to use a separate queue which you are thinking to introduce. Though you won&#39;t need it at all if the actual issue is fixed, Blob trigger already uses internal queue, default concurrency is 24, but you can configure it in host.json. https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-blob-trigger?tabs=java#concurrency-and-memory-usage\r\n\r\nUPDATE:\r\n\r\nLooks like in your pdf class you declared &#39;lines&#39; somewhere outside the method as static which is the root cause of this problem. It&#39;s nothing to do with function, but the devil of **static** :)\r\n\r\nBelow is the correct code (notes &#39;lines&#39; variable is now local to the method):\r\n\r\n    public static String[] getLines(File PDF) throws Exception {\r\n               PDDocument doc = PDDocument.load(PDF);\r\n               PDFTextStripper pdfStripper = new PDFTextStripper();\r\n               String text = pdfStripper.getText(doc);\r\n               String[] lines = text.split(System.getProperty(&quot;line.separator&quot;));\r\n               doc.close();\r\n               return lines;\r\n       }\r\n\r\n\r\n  [1]: https://pdfbox.apache.org/\r\n  [2]: https://stackoverflow.com/questions/63460012/most-practical-way-to-read-an-azure-blob-pdf-in-the-cloud","title":"Instances of Azure Functions are sharing variables?","body":"<p>No, it's quite hard to believe that function can have such a serious issue. I see some potential problems which might be causing this in your case:</p>\n<ol>\n<li>Are you sure you are uploading to a different unique blob for each file every time? You can check by logging the blobname param.</li>\n<li>Since you store the file in temp directory <code>File tempfile = new File (tempdir, blobname);</code>, if the blob name is same as mentioned in #1, it would overwrite with last write wins. If it's possible to construct pdf directly from bytes or stream, you can consider that instead of creating an intermediate file in filesystem. If I am not wrong you are using <a href=\"https://pdfbox.apache.org/\" rel=\"nofollow noreferrer\">PDFBox</a> which has support to load from byte[] <a href=\"https://pdfbox.apache.org/docs/2.0.3/javadocs/index.html?org/apache/pdfbox/pdmodel/PDDocument.html\" rel=\"nofollow noreferrer\">https://pdfbox.apache.org/docs/2.0.3/javadocs/index.html?org/apache/pdfbox/pdmodel/PDDocument.html</a> (check the load method overload which accepts byte[]). I have also answered your <a href=\"https://stackoverflow.com/questions/63460012/most-practical-way-to-read-an-azure-blob-pdf-in-the-cloud\">another question</a> related to this.</li>\n<li>Check if you have static field causing this.</li>\n<li>You don't need to use a separate queue which you are thinking to introduce. Though you won't need it at all if the actual issue is fixed, Blob trigger already uses internal queue, default concurrency is 24, but you can configure it in host.json. <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-blob-trigger?tabs=java#concurrency-and-memory-usage\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-blob-trigger?tabs=java#concurrency-and-memory-usage</a></li>\n</ol>\n<p>UPDATE:</p>\n<p>Looks like in your pdf class you declared 'lines' somewhere outside the method as static which is the root cause of this problem. It's nothing to do with function, but the devil of <strong>static</strong> :)</p>\n<p>Below is the correct code (notes 'lines' variable is now local to the method):</p>\n<pre><code>public static String[] getLines(File PDF) throws Exception {\n           PDDocument doc = PDDocument.load(PDF);\n           PDFTextStripper pdfStripper = new PDFTextStripper();\n           String text = pdfStripper.getText(doc);\n           String[] lines = text.split(System.getProperty(&quot;line.separator&quot;));\n           doc.close();\n           return lines;\n   }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18904531,"reputation":6125,"user_id":13791953,"display_name":"krishg"},"score":0,"creation_date":1598732003,"post_id":63650230,"comment_id":112556911,"body_markdown":"Glad to hear that. Thanks. But I could be happier to find out the root cause of your actual issue of concurrent blob trigger. I will try to simulate your scenario from the code you shared in your question (hopefully that&#39;s all of of it) and see if I can catch the devil :).","body":"Glad to hear that. Thanks. But I could be happier to find out the root cause of your actual issue of concurrent blob trigger. I will try to simulate your scenario from the code you shared in your question (hopefully that&#39;s all of of it) and see if I can catch the devil :)."}],"tags":[],"owner":{"account_id":17553918,"reputation":95,"user_id":12733783,"display_name":"AlexanderJ"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598724305,"creation_date":1598724305,"answer_id":63650230,"question_id":63641197,"body_markdown":"Just wanting to share that changing `host.json` to the following, to stop concurrent function invocation, appears to have fixed my issue:\r\n\r\n    {\r\n        &quot;version&quot;: &quot;2.0&quot;,\r\n        &quot;extensions&quot;: {\r\n            &quot;queues&quot;: {\r\n                &quot;batchSize&quot;: 1,\r\n                &quot;newBatchThreshold&quot;: 0\r\n            }\r\n        }\r\n    }\r\n\r\nMassive thanks to @KrishnenduGhosh-MSFT for their help. I&#39;m still unsure why concurrent function invocation led to the issues I was experiencing, but given that my program also connects to a SQL database and Sharepoint site (both which are throttled) sequential-processing is the best solution regardless.","title":"Instances of Azure Functions are sharing variables?","body":"<p>Just wanting to share that changing <code>host.json</code> to the following, to stop concurrent function invocation, appears to have fixed my issue:</p>\n<pre><code>{\n    &quot;version&quot;: &quot;2.0&quot;,\n    &quot;extensions&quot;: {\n        &quot;queues&quot;: {\n            &quot;batchSize&quot;: 1,\n            &quot;newBatchThreshold&quot;: 0\n        }\n    }\n}\n</code></pre>\n<p>Massive thanks to @KrishnenduGhosh-MSFT for their help. I'm still unsure why concurrent function invocation led to the issues I was experiencing, but given that my program also connects to a SQL database and Sharepoint site (both which are throttled) sequential-processing is the best solution regardless.</p>\n"},{"comments":[{"owner":{"account_id":18904531,"reputation":6125,"user_id":13791953,"display_name":"krishg"},"score":0,"creation_date":1598780516,"post_id":63652224,"comment_id":112564686,"body_markdown":"So this has nothing to do with Azure Function :). Obviously &#39;static&#39; field would cause this issue anywhere sharing across multiple instances of the class. And Function by no means claims &#39;total&#39; isolation of each execution. Thanks for detailed reply.","body":"So this has nothing to do with Azure Function :). Obviously &#39;static&#39; field would cause this issue anywhere sharing across multiple instances of the class. And Function by no means claims &#39;total&#39; isolation of each execution. Thanks for detailed reply."},{"owner":{"account_id":2336678,"reputation":2528,"user_id":2048857,"accept_rate":100,"display_name":"Troy Witthoeft"},"score":0,"creation_date":1598877135,"post_id":63652224,"comment_id":112590938,"body_markdown":"That&#39;s correct.  It&#39;s most likely a &#39;static&#39; thing.  But, I think it&#39;s fair point out that these types of issues are less intuitive to detect because Azure functions and &quot;serverless&quot; in general encourage us not to think about the servers (execution environment).  Have seen a few devs (myself included) get lulled into ignoring static variables  due to the &quot;magic&quot; of serverlesss.  It&#39;s awesome and fun, but also easy to forget there is indeed a server (shared environment) calling your function.","body":"That&#39;s correct.  It&#39;s most likely a &#39;static&#39; thing.  But, I think it&#39;s fair point out that these types of issues are less intuitive to detect because Azure functions and &quot;serverless&quot; in general encourage us not to think about the servers (execution environment).  Have seen a few devs (myself included) get lulled into ignoring static variables  due to the &quot;magic&quot; of serverlesss.  It&#39;s awesome and fun, but also easy to forget there is indeed a server (shared environment) calling your function."},{"owner":{"account_id":18904531,"reputation":6125,"user_id":13791953,"display_name":"krishg"},"score":0,"creation_date":1598880583,"post_id":63652224,"comment_id":112592592,"body_markdown":"Yeah, but that might not be totally a fair expectation. Technically &quot;Serverless&quot; helps you to build and run your applications without &quot;THINKING&quot; about (provisioning or managing) and paying for &quot;servers&quot; unlike some other PaaS offerings. It does not necessarily mean it can magically handle &quot;application&quot; level quirks like this (and neither it claims anywhere!). That&#39;s why you still need to think about certain aspects e.g. https://docs.microsoft.com/en-us/azure/azure-functions/functions-best-practices  . And I agree with you sometimes easy to forget that there are servers behind server-less :)","body":"Yeah, but that might not be totally a fair expectation. Technically &quot;Serverless&quot; helps you to build and run your applications without &quot;THINKING&quot; about (provisioning or managing) and paying for &quot;servers&quot; unlike some other PaaS offerings. It does not necessarily mean it can magically handle &quot;application&quot; level quirks like this (and neither it claims anywhere!). That&#39;s why you still need to think about certain aspects e.g. <a href=\"https://docs.microsoft.com/en-us/azure/azure-functions/functions-best-practices\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/azure/azure-functions/&hellip;</a>  . And I agree with you sometimes easy to forget that there are servers behind server-less :)"},{"owner":{"account_id":2336678,"reputation":2528,"user_id":2048857,"accept_rate":100,"display_name":"Troy Witthoeft"},"score":0,"creation_date":1598905312,"post_id":63652224,"comment_id":112603071,"body_markdown":"Meh, I&#39;m just trying to cut OP a little slack.  This really IS a complex topic.  Don&#39;t use static is a good rule of thumb, but is an oversimplification to be sure. This is REALLY about thread safety, and some static variables aren&#39;t thread-safe `static String[]` and others `static HttpClient` are!   Who knows until peeking at their source? And I don&#39;t know about you, but that&#39;s not how I spend my Fridays.  :D   For some good uses of azure function static variables (including DB connections) See number 3 here = https://medium.com/@raunaknarooka/tips-and-tricks-for-azure-functions-c9db11aee3dc.","body":"Meh, I&#39;m just trying to cut OP a little slack.  This really IS a complex topic.  Don&#39;t use static is a good rule of thumb, but is an oversimplification to be sure. This is REALLY about thread safety, and some static variables aren&#39;t thread-safe <code>static String[]</code> and others <code>static HttpClient</code> are!   Who knows until peeking at their source? And I don&#39;t know about you, but that&#39;s not how I spend my Fridays.  :D   For some good uses of azure function static variables (including DB connections) See number 3 here = <a href=\"https://medium.com/@raunaknarooka/tips-and-tricks-for-azure-functions-c9db11aee3dc\" rel=\"nofollow noreferrer\">medium.com/@raunaknarooka/&hellip;</a>."},{"owner":{"account_id":18904531,"reputation":6125,"user_id":13791953,"display_name":"krishg"},"score":0,"creation_date":1598915681,"post_id":63652224,"comment_id":112606065,"body_markdown":"yes, static is recommended for some stuffs like connection management (e.g. http client)..it&#39;s already documented in the MS official best practices link I shared in my comment (point #6 https://learn.microsoft.com/en-us/azure/azure-functions/functions-best-practices#share-and-manage-connections )... but not anywhere like business rule state (it advises to be stateless in point #3 https://learn.microsoft.com/en-us/azure/azure-functions/functions-best-practices#write-functions-to-be-stateless )","body":"yes, static is recommended for some stuffs like connection management (e.g. http client)..it&#39;s already documented in the MS official best practices link I shared in my comment (point #6 <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-best-practices#share-and-manage-connections\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/azure-functions/&hellip;</a> )... but not anywhere like business rule state (it advises to be stateless in point #3 <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-best-practices#write-functions-to-be-stateless\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/azure-functions/&hellip;</a> )"},{"owner":{"account_id":17553918,"reputation":95,"user_id":12733783,"display_name":"AlexanderJ"},"score":0,"creation_date":1599259273,"post_id":63652224,"comment_id":112729491,"body_markdown":"Apologies for the late reply, but thanks a lot, this was exactly it! I&#39;m not an experienced programmer yet and was using static-method across my classes without fully understanding the functionality of it. I will make sure to pay more attention to these things next time :)","body":"Apologies for the late reply, but thanks a lot, this was exactly it! I&#39;m not an experienced programmer yet and was using static-method across my classes without fully understanding the functionality of it. I will make sure to pay more attention to these things next time :)"},{"owner":{"account_id":2336678,"reputation":2528,"user_id":2048857,"accept_rate":100,"display_name":"Troy Witthoeft"},"score":0,"creation_date":1599358306,"post_id":63652224,"comment_id":112749444,"body_markdown":"Glad you got it sorted!  Only knew the answer because it got me too!  Good luck out there.","body":"Glad you got it sorted!  Only knew the answer because it got me too!  Good luck out there."},{"owner":{"account_id":3693803,"reputation":1570,"user_id":3075762,"accept_rate":75,"display_name":"Valentin Petkov"},"score":0,"creation_date":1643849858,"post_id":63652224,"comment_id":125451840,"body_markdown":"lost a day debugging :-(","body":"lost a day debugging :-("},{"owner":{"account_id":2336678,"reputation":2528,"user_id":2048857,"accept_rate":100,"display_name":"Troy Witthoeft"},"score":0,"creation_date":1643862718,"post_id":63652224,"comment_id":125453943,"body_markdown":"@Valentin_Petkov.   Yes, it is NOT fun to learn this.  Since this answer was written - two years ago in 2020 - it looks like dotnet 5 and dotnet 6 let you use [isolated functions](https://learn.microsoft.com/en-us/azure/azure-functions/dotnet-isolated-process-guide#:~:text=NET%20isolated%20process%20functions%2C%20which,NET%205.0%20and%20) that mitigate this.","body":"@Valentin_Petkov.   Yes, it is NOT fun to learn this.  Since this answer was written - two years ago in 2020 - it looks like dotnet 5 and dotnet 6 let you use <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/dotnet-isolated-process-guide#:~:text=NET%20isolated%20process%20functions%2C%20which,NET%205.0%20and%20\" rel=\"nofollow noreferrer\">isolated functions</a> that mitigate this."}],"tags":[],"owner":{"account_id":2336678,"reputation":2528,"user_id":2048857,"accept_rate":100,"display_name":"Troy Witthoeft"},"comment_count":9,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1678905048,"creation_date":1598738864,"answer_id":63652224,"question_id":63641197,"body_markdown":"Yes.  Azure function invocations can share variables.  I&#39;d need to see all the code to be 100% certain, but it looks like the `lines` object is declared as `static` and it could be shared across invocations.  Let&#39;s try changing from a `static String[]` to `String[]` and see if the problem goes away? \r\n\r\nAzure functions are easy to get off the ground, it&#39;s easy to forget about the execution environment. Your functions invocations aren&#39;t as isolated as they appear.  There is a parent thread calling your function, and many static variables aren&#39;t &quot;thread safe.&quot;  Static variable represents a global state so it is globally accessible. Also, it is not attached with any particular object instance. The &quot;staticness&quot; of the variable relates to the memory space it sits in not it’s value. So, the same variable is accessible from all class instances in which it is referenced. \r\n\r\nPS.  You&#39;ve solved the issue in your answer [here][1] by reducing concurrency, but that may come at a cost to scalability.  I&#39;d recommend load testing that.  Also static variables can be useful.  Many are thread-safe and you want to use them in Azure functions, such as your httpClient or sqlClient DB connections!  Give number three a read, [here][2]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/63650230/2048857\r\n  [2]: https://medium.com/@raunaknarooka/tips-and-tricks-for-azure-functions-c9db11aee3dc","title":"Instances of Azure Functions are sharing variables?","body":"<p>Yes.  Azure function invocations can share variables.  I'd need to see all the code to be 100% certain, but it looks like the <code>lines</code> object is declared as <code>static</code> and it could be shared across invocations.  Let's try changing from a <code>static String[]</code> to <code>String[]</code> and see if the problem goes away?</p>\n<p>Azure functions are easy to get off the ground, it's easy to forget about the execution environment. Your functions invocations aren't as isolated as they appear.  There is a parent thread calling your function, and many static variables aren't &quot;thread safe.&quot;  Static variable represents a global state so it is globally accessible. Also, it is not attached with any particular object instance. The &quot;staticness&quot; of the variable relates to the memory space it sits in not it’s value. So, the same variable is accessible from all class instances in which it is referenced.</p>\n<p>PS.  You've solved the issue in your answer <a href=\"https://stackoverflow.com/a/63650230/2048857\">here</a> by reducing concurrency, but that may come at a cost to scalability.  I'd recommend load testing that.  Also static variables can be useful.  Many are thread-safe and you want to use them in Azure functions, such as your httpClient or sqlClient DB connections!  Give number three a read, <a href=\"https://medium.com/@raunaknarooka/tips-and-tricks-for-azure-functions-c9db11aee3dc\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":17553918,"reputation":95,"user_id":12733783,"display_name":"AlexanderJ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7149,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":63652224,"answer_count":3,"score":5,"last_activity_date":1678905048,"creation_date":1598650904,"question_id":63641197,"body_markdown":"Not sure if the question makes sense, but it&#39;s what I&#39;m observing. My Azure Function uses a BlobTrigger to process PDF files that are uploaded to a Blob Storage. Things work fine, until I upload several blobs at once, in which case, using the code below I observe the following:\r\n\r\n- The first context.getLogger() correctly logs each blob that triggers the Function.\r\n\r\n- In the Azure File Share, each PDF file is correctly saved.\r\n\r\n- The second context.getLogger() in many cases returns incorrect results (from one of the other files), as if variables are being shared between instances of my Function. Note that lines[19] is unique for each PDF.\r\n\r\n- I notice similar behavior later on in my code where data from the wrong PDF is logged.\r\n\r\nEDIT: to be clear, I understand logs aren&#39;t going to be in order when multiple instances run in parallel. However, rather than getting 10 unique results for lines[19] when I upload 10 files, the majority of the results are duplicates and this issue worsens later on in my code when based on X I want to do Y, and 9 out of 10 invocations produce garbage data.\r\n\r\n\r\n**Main.class**\r\n ``` \r\npublic class main {\r\n    @FunctionName(&quot;veninv&quot;)\r\n        @StorageAccount(&quot;Storage&quot;)\r\n        public void blob(\r\n        \t@BlobTrigger(\r\n        \t\t\tname = &quot;blob&quot;,\r\n        \t\t\tdataType = &quot;binary&quot;,\r\n        \t\t\tpath = &quot;veninv/{name}&quot;) \r\n        \t\tbyte[] content,\r\n        \t@BindingName(&quot;name&quot;) String blobname,\r\n        \tfinal ExecutionContext context\r\n        \t) {\r\n\r\n          context.getLogger().info(&quot;BlobTrigger by: &quot; + blobname + &quot;(&quot; + content.length + &quot; bytes)&quot;);\r\n\r\n            //Writing byte[] to a file in Azure Functions file storage\r\n            \tFile tempfile = new File (tempdir, blobname);\r\n            \tOutputStream os = new FileOutputStream(tempfile);\r\n            \tos.write(content);\r\n            \tos.close();\r\n\r\n            \tString[] lines  = Pdf.getLines(tempfile);\r\n            \tcontext.getLogger().info(lines[19]);\r\n            }\r\n     }\r\n ``` \r\n**Pdf.class**\r\n ``` \r\n    public static String[] getLines(File PDF) throws Exception {\r\n    \t\tPDDocument doc = PDDocument.load(PDF);\r\n    \t    PDFTextStripper pdfStripper = new PDFTextStripper();\r\n    \t    String text = pdfStripper.getText(doc);\r\n    \t    lines = text.split(System.getProperty(&quot;line.separator&quot;));\r\n    \t    doc.close();\r\n    \t    return lines;\r\n\t}\r\n ``` \r\nI don&#39;t really understand what&#39;s going on here, so hoping for some assistance.","title":"Instances of Azure Functions are sharing variables?","body":"<p>Not sure if the question makes sense, but it's what I'm observing. My Azure Function uses a BlobTrigger to process PDF files that are uploaded to a Blob Storage. Things work fine, until I upload several blobs at once, in which case, using the code below I observe the following:</p>\n<ul>\n<li><p>The first context.getLogger() correctly logs each blob that triggers the Function.</p>\n</li>\n<li><p>In the Azure File Share, each PDF file is correctly saved.</p>\n</li>\n<li><p>The second context.getLogger() in many cases returns incorrect results (from one of the other files), as if variables are being shared between instances of my Function. Note that lines[19] is unique for each PDF.</p>\n</li>\n<li><p>I notice similar behavior later on in my code where data from the wrong PDF is logged.</p>\n</li>\n</ul>\n<p>EDIT: to be clear, I understand logs aren't going to be in order when multiple instances run in parallel. However, rather than getting 10 unique results for lines[19] when I upload 10 files, the majority of the results are duplicates and this issue worsens later on in my code when based on X I want to do Y, and 9 out of 10 invocations produce garbage data.</p>\n<p><strong>Main.class</strong></p>\n<pre><code>public class main {\n   @FunctionName(&quot;veninv&quot;)\n       @StorageAccount(&quot;Storage&quot;)\n       public void blob(\n           @BlobTrigger(\n                   name = &quot;blob&quot;,\n                   dataType = &quot;binary&quot;,\n                   path = &quot;veninv/{name}&quot;) \n               byte[] content,\n           @BindingName(&quot;name&quot;) String blobname,\n           final ExecutionContext context\n           ) {\n\n         context.getLogger().info(&quot;BlobTrigger by: &quot; + blobname + &quot;(&quot; + content.length + &quot; bytes)&quot;);\n\n           //Writing byte[] to a file in Azure Functions file storage\n               File tempfile = new File (tempdir, blobname);\n               OutputStream os = new FileOutputStream(tempfile);\n               os.write(content);\n               os.close();\n\n               String[] lines  = Pdf.getLines(tempfile);\n               context.getLogger().info(lines[19]);\n           }\n    }\n</code></pre>\n<p><strong>Pdf.class</strong></p>\n<pre><code>   public static String[] getLines(File PDF) throws Exception {\n           PDDocument doc = PDDocument.load(PDF);\n           PDFTextStripper pdfStripper = new PDFTextStripper();\n           String text = pdfStripper.getText(doc);\n           lines = text.split(System.getProperty(&quot;line.separator&quot;));\n           doc.close();\n           return lines;\n   }\n</code></pre>\n<p>I don't really understand what's going on here, so hoping for some assistance.</p>\n"},{"tags":["java","for-loop","arraylist","nested-loops","brute-force"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1647985590,"post_id":71579180,"comment_id":126508573,"body_markdown":"It&#39;s possible to break/return at any point in a loop.  But all possible combinations can be determined ahead of time, e.g., write a program to store all of those possible passwords in a file.  Then replace the four nested for loops with a single loop over the file.  (The nested for loops might still be faster though, since it takes some time to open/read a file.)","body":"It&#39;s possible to break/return at any point in a loop.  But all possible combinations can be determined ahead of time, e.g., write a program to store all of those possible passwords in a file.  Then replace the four nested for loops with a single loop over the file.  (The nested for loops might still be faster though, since it takes some time to open/read a file.)"},{"owner":{"account_id":21958290,"reputation":440,"user_id":16236541,"display_name":"markfila"},"score":0,"creation_date":1647985815,"post_id":71579180,"comment_id":126508619,"body_markdown":"you can declare a counter outside of the loops and increment it in the inner most loop that way you dont need the arraylist and can break out of the loops as soon as a match is found","body":"you can declare a counter outside of the loops and increment it in the inner most loop that way you dont need the arraylist and can break out of the loops as soon as a match is found"},{"owner":{"account_id":420575,"reputation":5030,"user_id":798346,"accept_rate":56,"display_name":"Jim Rhodes"},"score":0,"creation_date":1647985860,"post_id":71579180,"comment_id":126508635,"body_markdown":"Get rid of the `ArrayList`. Use an `int` variable to count the number of checks it takes to get a match. Break out of the loops when you get a match.","body":"Get rid of the <code>ArrayList</code>. Use an <code>int</code> variable to count the number of checks it takes to get a match. Break out of the loops when you get a match."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1647988086,"post_id":71579180,"comment_id":126509179,"body_markdown":"Why are you using nested loops and not just a single loop?","body":"Why are you using nested loops and not just a single loop?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1647988142,"post_id":71579180,"comment_id":126509195,"body_markdown":"A time barrier is not practical hence it is very dependent on you hardware.","body":"A time barrier is not practical hence it is very dependent on you hardware."},{"owner":{"account_id":24645499,"reputation":1,"user_id":18543200,"display_name":"Frecklejack"},"score":0,"creation_date":1647989335,"post_id":71579180,"comment_id":126509505,"body_markdown":"@WJS Because I dont now how :/","body":"@WJS Because I dont now how :/"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1648065143,"post_id":71579180,"comment_id":126532916,"body_markdown":"Your writeup says *`Create a 4 digit password (Just as String variable). (Allowed are numbers between 0-9 and one ore more of these special chars: &#39;!&#39;,&#39;#&#39;,&#39;%&#39;)`*  Doesn&#39;t that mean a valid password could be `23%#8!2`?  It has four digits and one or more of the special characters. Why are you just looking at digits?  Or did you mean a 4 character password (e.g. `2%3!`)","body":"Your writeup says <i><code>Create a 4 digit password (Just as String variable). (Allowed are numbers between 0-9 and one ore more of these special chars: &#39;!&#39;,&#39;#&#39;,&#39;%&#39;)</code></i>  Doesn&#39;t that mean a valid password could be <code>23%#8!2</code>?  It has four digits and one or more of the special characters. Why are you just looking at digits?  Or did you mean a 4 character password (e.g. <code>2%3!</code>)"}],"answers":[{"tags":[],"owner":{"account_id":20129083,"reputation":141,"user_id":14761811,"display_name":"Pietro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647986191,"creation_date":1647985828,"answer_id":71579358,"question_id":71579180,"body_markdown":" This code should work. It just breaks every loop if the password has been found.\r\n\r\n       int tries = 0;\r\n       boolean found = false;\r\n       for (int i = 0; i &lt; digits.length; i++) {\r\n                for (int j = 0; j &lt; digits.length; j++) {\r\n                    for (int k = 0; k &lt; digits.length; k++) {\r\n                        for (int l = 0; l &lt; digits.length; l++) {\r\n                            tries++;\r\n                            if ((digits[i] + &quot;&quot; + digits[j] + &quot;&quot; + digits[k] + &quot;&quot; + digits[l]).equals(passw)) {\r\n                               found = true;\r\n                               break;\r\n                            }\r\n                        }\r\n                        if (found)\r\n                          break;\r\n                    }\r\n                   if (found)\r\n                      break;\r\n                }\r\n                if (found)\r\n                      break;\r\n            }\r\n\r\nI wouldn&#39;t recommend to use this code tho! It&#39;s pretty sketchy. Why don&#39;t you make the for loops a function? From there you can return the tries when you find the password. But I think you can figure this out on your own :)\r\n\r\nEDIT: I&#39;ll give you an hint for a solution without a function. What do you think about this `while` loop?\r\n\r\n    while(!(digits[i] + &quot;&quot; + digits[j] + &quot;&quot; + digits[k] + &quot;&quot; + digits[l]).equals(passw))\r\n\r\nIn there you just need to &#39;grow&#39; l, k, j and i in the right order :)","title":"How can I shorten the processing time of my (very basic) bruteforce algorithm?","body":"<p>This code should work. It just breaks every loop if the password has been found.</p>\n<pre><code>   int tries = 0;\n   boolean found = false;\n   for (int i = 0; i &lt; digits.length; i++) {\n            for (int j = 0; j &lt; digits.length; j++) {\n                for (int k = 0; k &lt; digits.length; k++) {\n                    for (int l = 0; l &lt; digits.length; l++) {\n                        tries++;\n                        if ((digits[i] + &quot;&quot; + digits[j] + &quot;&quot; + digits[k] + &quot;&quot; + digits[l]).equals(passw)) {\n                           found = true;\n                           break;\n                        }\n                    }\n                    if (found)\n                      break;\n                }\n               if (found)\n                  break;\n            }\n            if (found)\n                  break;\n        }\n</code></pre>\n<p>I wouldn't recommend to use this code tho! It's pretty sketchy. Why don't you make the for loops a function? From there you can return the tries when you find the password. But I think you can figure this out on your own :)</p>\n<p>EDIT: I'll give you an hint for a solution without a function. What do you think about this <code>while</code> loop?</p>\n<pre><code>while(!(digits[i] + &quot;&quot; + digits[j] + &quot;&quot; + digits[k] + &quot;&quot; + digits[l]).equals(passw))\n</code></pre>\n<p>In there you just need to 'grow' l, k, j and i in the right order :)</p>\n"},{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647985870,"creation_date":1647985870,"answer_id":71579369,"question_id":71579180,"body_markdown":"Here&#39;s what I came up with.\r\n\r\n    private static final char[] digits = {&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;#&#39;, &#39;!&#39;, &#39;%&#39;};\r\n\t\r\n\tpublic static int guessPw(String pw) {\r\n\t\tint attempts = 0;\r\n\t\tchar [] word = new char[pw.length()];\r\n\t\tfor (char a : digits) {\r\n\t\t\tword[0] = a;\r\n\t\t\tfor (char b : digits) {\r\n\t\t\t\tword[1] = b;\r\n\t\t\t\tfor (char c : digits) {\r\n\t\t\t\t\tword[2] = c;\r\n\t\t\t\t\tfor (char d : digits) {\r\n\t\t\t\t\t\tword[3] = d;\r\n\t\t\t\t\t\tattempts++;\r\n\t\t\t\t\t\tif (pw.equals(String.valueOf(word))) {\r\n\t\t\t\t\t\t\treturn attempts;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\t\r\n\tpublic static void timeAttempt(String pw) {\t\t\r\n\t\tlong start = System.nanoTime();\r\n\t\tint attempts = guessPw(pw);\r\n\r\n\t\t\r\n\t\tSystem.out.println(String.format(&quot;It took %dms and %d attempts to guess &#39;%s&#39;&quot;, TimeUnit.MILLISECONDS.toSeconds(System.nanoTime() - start), attempts, pw));\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\ttimeAttempt(&quot;0000&quot;);\r\n\t\ttimeAttempt(&quot;%%%%&quot;);\r\n    }","title":"How can I shorten the processing time of my (very basic) bruteforce algorithm?","body":"<p>Here's what I came up with.</p>\n<pre><code>private static final char[] digits = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '#', '!', '%'};\n\npublic static int guessPw(String pw) {\n    int attempts = 0;\n    char [] word = new char[pw.length()];\n    for (char a : digits) {\n        word[0] = a;\n        for (char b : digits) {\n            word[1] = b;\n            for (char c : digits) {\n                word[2] = c;\n                for (char d : digits) {\n                    word[3] = d;\n                    attempts++;\n                    if (pw.equals(String.valueOf(word))) {\n                        return attempts;\n                    }\n                }\n            }\n        }\n    }\n    return -1;\n}\n\npublic static void timeAttempt(String pw) {     \n    long start = System.nanoTime();\n    int attempts = guessPw(pw);\n\n    \n    System.out.println(String.format(&quot;It took %dms and %d attempts to guess '%s'&quot;, TimeUnit.MILLISECONDS.toSeconds(System.nanoTime() - start), attempts, pw));\n}\npublic static void main(String[] args) {\n    timeAttempt(&quot;0000&quot;);\n    timeAttempt(&quot;%%%%&quot;);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24645499,"reputation":1,"user_id":18543200,"display_name":"Frecklejack"},"score":0,"creation_date":1647990715,"post_id":71579929,"comment_id":126509810,"body_markdown":"Oh, thank you so much for the info! Looks like my application does  not have this collection as dependencie...and I already wondered why I&#39;m having  org.apache.commons related problems 0_o","body":"Oh, thank you so much for the info! Looks like my application does  not have this collection as dependencie...and I already wondered why I&#39;m having  org.apache.commons related problems 0_o"},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1647991819,"post_id":71579929,"comment_id":126510013,"body_markdown":"@Frecklejack forget what i said about `CollectionUtils.permutations()`. This method won&#39;t work for you because it will create permutations that are longer then 4 characters in size. But you can still use `parallelStream` and `anyMatch` if you first calculate the permutations yourself and put them in a list (i&#39;ve adapted the code).","body":"@Frecklejack forget what i said about <code>CollectionUtils.permutations()</code>. This method won&#39;t work for you because it will create permutations that are longer then 4 characters in size. But you can still use <code>parallelStream</code> and <code>anyMatch</code> if you first calculate the permutations yourself and put them in a list (i&#39;ve adapted the code)."}],"tags":[],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647991519,"creation_date":1647989953,"answer_id":71579929,"question_id":71579180,"body_markdown":"The reason why its processing so slow is because all of your code is running in a single thread. You can greatly reduce the overall processing time by making the brute force code multi threaded.\r\n\r\nAnother reason why your application is running slow is because it uses many nested loops to determine all the possible combinations of `digits`. Instead of using those nested loops its better to calculate the permutation of `digits`. \r\n\r\nOnce you have a list of all possible permutations you could use java 8&#39;s `parallelStream()` and `anyMatch()` to check which permutation matches the password in a multithreaded way. In other words the computer will be able to match 2 or more permutations with `pass` _simultaneously_ which will greatly reduce the processing time. Below is an example that uses `parallelStream()`/`anyMatch()`.\r\n\r\n        AtomicInteger threadSafeCounter = new AtomicInteger(); //Always use a thread safe integer when multiple threads will be manipulating it. This is to avoid race conditions.\r\n    \r\n        char[] digits = {&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;#&#39;, &#39;!&#39;, &#39;%&#39;};\r\n    \r\n        Scanner scn = new Scanner(System.in);\r\n    \r\n        System.out.println(&quot;\\nPlease create 4 digit password. Allowed are numbers between 0-9 and following characters: #,!,%&quot;);\r\n    \r\n        String passw = scn.nextLine();\r\n    \r\n    List&lt;String&gt; permutationList = new ArrayList(); //Calculate the 4-digit permutations from `digits` and add them to this list.\r\n    \r\n        long start1 = System.currentTimeMillis();\r\n        permutationList.parallelStream().anyMatch(combination -&gt; {\r\n            threadSafeCounter.incrementAndGet();\r\n            if(combination.equals(passw)){\r\n                System.out.println(&quot;\\nthe password is &quot; + passw);\r\n                System.out.println(&quot;It took &quot; + threadSafeCounter.get() + &quot; tries, to find the password.&quot;);\r\n                return true;\r\n            }\r\n            else return false;\r\n        });\r\n    \r\n        long end1 = System.currentTimeMillis();\r\n    \r\n        System.out.println(&quot;Process time was &quot; + (end1 - start1) + &quot; milliseconds.&quot;);\r\n\r\nYou can find an example on how to generate permutations from `digits` in this [in this SO thread][2]. The permutation generation code itself could be made multithreaded as well if you adapt the code posted by Subash in the aforementioned SO thread. To do that you need to use the [`Fork/Join framework`][3].\r\n\r\nEDIT: [Heres a nice article][4] that explains the difference between `permutations` and `combinations`. The reason why i&#39;m calculating permutations and not combinations in my example is because order/arrangement matters in this case. \r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#permutations-java.util.Collection-\r\n  [2]: https://stackoverflow.com/questions/49656046/how-to-list-all-possible-combinations-of-some-specific-characters\r\n  [3]: https://www.baeldung.com/java-fork-join\r\n  [4]: https://betterexplained.com/articles/easy-permutations-and-combinations/\r\n","title":"How can I shorten the processing time of my (very basic) bruteforce algorithm?","body":"<p>The reason why its processing so slow is because all of your code is running in a single thread. You can greatly reduce the overall processing time by making the brute force code multi threaded.</p>\n<p>Another reason why your application is running slow is because it uses many nested loops to determine all the possible combinations of <code>digits</code>. Instead of using those nested loops its better to calculate the permutation of <code>digits</code>.</p>\n<p>Once you have a list of all possible permutations you could use java 8's <code>parallelStream()</code> and <code>anyMatch()</code> to check which permutation matches the password in a multithreaded way. In other words the computer will be able to match 2 or more permutations with <code>pass</code> <em>simultaneously</em> which will greatly reduce the processing time. Below is an example that uses <code>parallelStream()</code>/<code>anyMatch()</code>.</p>\n<pre><code>    AtomicInteger threadSafeCounter = new AtomicInteger(); //Always use a thread safe integer when multiple threads will be manipulating it. This is to avoid race conditions.\n\n    char[] digits = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '#', '!', '%'};\n\n    Scanner scn = new Scanner(System.in);\n\n    System.out.println(&quot;\\nPlease create 4 digit password. Allowed are numbers between 0-9 and following characters: #,!,%&quot;);\n\n    String passw = scn.nextLine();\n\nList&lt;String&gt; permutationList = new ArrayList(); //Calculate the 4-digit permutations from `digits` and add them to this list.\n\n    long start1 = System.currentTimeMillis();\n    permutationList.parallelStream().anyMatch(combination -&gt; {\n        threadSafeCounter.incrementAndGet();\n        if(combination.equals(passw)){\n            System.out.println(&quot;\\nthe password is &quot; + passw);\n            System.out.println(&quot;It took &quot; + threadSafeCounter.get() + &quot; tries, to find the password.&quot;);\n            return true;\n        }\n        else return false;\n    });\n\n    long end1 = System.currentTimeMillis();\n\n    System.out.println(&quot;Process time was &quot; + (end1 - start1) + &quot; milliseconds.&quot;);\n</code></pre>\n<p>You can find an example on how to generate permutations from <code>digits</code> in this <a href=\"https://stackoverflow.com/questions/49656046/how-to-list-all-possible-combinations-of-some-specific-characters\">in this SO thread</a>. The permutation generation code itself could be made multithreaded as well if you adapt the code posted by Subash in the aforementioned SO thread. To do that you need to use the <a href=\"https://www.baeldung.com/java-fork-join\" rel=\"nofollow noreferrer\"><code>Fork/Join framework</code></a>.</p>\n<p>EDIT: <a href=\"https://betterexplained.com/articles/easy-permutations-and-combinations/\" rel=\"nofollow noreferrer\">Heres a nice article</a> that explains the difference between <code>permutations</code> and <code>combinations</code>. The reason why i'm calculating permutations and not combinations in my example is because order/arrangement matters in this case.</p>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647991072,"creation_date":1647991072,"answer_id":71580070,"question_id":71579180,"body_markdown":"Very similar to what Ryan posted. Basically you want to avoid creating a STRING.\r\n\r\nHere I converted the entered password to a char array and compare the entered password with the generated password using `Arrays.equals()`:\r\n\r\n      public static void main(String[] args) {       \r\n        Scanner scn = new Scanner(System.in);\r\n    \r\n        char[] digits = {&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, \r\n                         &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;#&#39;, &#39;!&#39;, &#39;%&#39;};\r\n    \r\n        System.out.println(&quot;\\nPlease create 4 digit password.&quot;);\r\n        System.out.println(&quot;Allowed are numbers between 0-9 and following characters: #,!,%&quot;);\r\n        System.out.print(&quot;Password: &quot;);\r\n        \r\n        String response = scn.nextLine();\r\n        char[] password = response.toCharArray();\r\n        \r\n        long start1 = System.currentTimeMillis();\r\n    \r\n        int counter = 0;\r\n        char[] pw = new char[4];\r\n        boolean foundIt = false;\r\n        for (int i = 0; i &lt; digits.length &amp;&amp; !foundIt; i++) {\r\n            pw[0] = digits[i];\r\n            for (int j = 0; j &lt; digits.length &amp;&amp; !foundIt; j++) {\r\n                pw[1] = digits[j];\r\n                for (int k = 0; k &lt; digits.length &amp;&amp; !foundIt; k++) {\r\n                    pw[2] = digits[k];\r\n                    for (int l = 0; l &lt; digits.length &amp;&amp; !foundIt; l++) {\r\n                      counter++;\r\n                      pw[3] = digits[l];\r\n                      foundIt = Arrays.equals(pw, password);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n      \r\n        long end1 = System.currentTimeMillis();\r\n    \r\n        System.out.println(&quot;\\nThe Password is: &quot; + response);\r\n        System.out.println(&quot;It took &quot; + counter + &quot; tries, to find the password.&quot;);\r\n    \r\n        System.out.println(&quot;Process time was &quot; + (end1 - start1) + &quot; milliseconds.&quot;);\r\n      }\r\n\r\n","title":"How can I shorten the processing time of my (very basic) bruteforce algorithm?","body":"<p>Very similar to what Ryan posted. Basically you want to avoid creating a STRING.</p>\n<p>Here I converted the entered password to a char array and compare the entered password with the generated password using <code>Arrays.equals()</code>:</p>\n<pre><code>  public static void main(String[] args) {       \n    Scanner scn = new Scanner(System.in);\n\n    char[] digits = {'0', '1', '2', '3', '4', '5', '6', \n                     '7', '8', '9', '#', '!', '%'};\n\n    System.out.println(&quot;\\nPlease create 4 digit password.&quot;);\n    System.out.println(&quot;Allowed are numbers between 0-9 and following characters: #,!,%&quot;);\n    System.out.print(&quot;Password: &quot;);\n    \n    String response = scn.nextLine();\n    char[] password = response.toCharArray();\n    \n    long start1 = System.currentTimeMillis();\n\n    int counter = 0;\n    char[] pw = new char[4];\n    boolean foundIt = false;\n    for (int i = 0; i &lt; digits.length &amp;&amp; !foundIt; i++) {\n        pw[0] = digits[i];\n        for (int j = 0; j &lt; digits.length &amp;&amp; !foundIt; j++) {\n            pw[1] = digits[j];\n            for (int k = 0; k &lt; digits.length &amp;&amp; !foundIt; k++) {\n                pw[2] = digits[k];\n                for (int l = 0; l &lt; digits.length &amp;&amp; !foundIt; l++) {\n                  counter++;\n                  pw[3] = digits[l];\n                  foundIt = Arrays.equals(pw, password);\n                }\n            }\n        }\n    }\n  \n    long end1 = System.currentTimeMillis();\n\n    System.out.println(&quot;\\nThe Password is: &quot; + response);\n    System.out.println(&quot;It took &quot; + counter + &quot; tries, to find the password.&quot;);\n\n    System.out.println(&quot;Process time was &quot; + (end1 - start1) + &quot; milliseconds.&quot;);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27727385,"reputation":1,"user_id":21166628,"display_name":"ProCode"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678905018,"creation_date":1678905018,"answer_id":75748769,"question_id":71579180,"body_markdown":"Your approach of breaking out of the loop once the password is found is a step in the right direction. However, the issue with your current code is that it still generates all the possible combinations before checking if the password is found, which can be quite time-consuming.\r\n\r\nInstead, you can modify your loop to check each combination as it is generated, and break out of the loop once the password is found. Here is one way you can do it:\r\n\r\n    String foundPassword = null;\r\n    int numTries = 0;\r\n    \r\n    long startTime = System.currentTimeMillis();\r\n    \r\n    for (int i = 0; i &lt; digits.length; i++) {\r\n        for (int j = 0; j &lt; digits.length; j++) {\r\n            for (int k = 0; k &lt; digits.length; k++) {\r\n                for (int l = 0; l &lt; digits.length; l++) {\r\n                    String combination = digits[i] + &quot;&quot; + digits[j] + &quot;&quot; + digits[k] + &quot;&quot; + digits[l];\r\n                    numTries++;\r\n                    if (combination.equals(passw)) {\r\n                        foundPassword = combination;\r\n                        break;\r\n                    }\r\n                }\r\n                if (foundPassword != null) {\r\n                    break;\r\n                }\r\n            }\r\n            if (foundPassword != null) {\r\n                break;\r\n            }\r\n        }\r\n        if (foundPassword != null) {\r\n            break;\r\n        }\r\n    }\r\n    \r\n    long endTime = System.currentTimeMillis();\r\n    long elapsedTime = endTime - startTime;\r\n    \r\n    if (foundPassword != null) {\r\n        System.out.println(&quot;\\nThe Password is: &quot; + foundPassword);\r\n        System.out.println(&quot;It took &quot; + numTries + &quot; tries, to find the password.&quot;);\r\n    } else {\r\n        System.out.println(&quot;Password not found.&quot;);\r\n    }\r\n    System.out.println(&quot;Process time was &quot; + elapsedTime + &quot; milliseconds.&quot;);\r\n\r\n","title":"How can I shorten the processing time of my (very basic) bruteforce algorithm?","body":"<p>Your approach of breaking out of the loop once the password is found is a step in the right direction. However, the issue with your current code is that it still generates all the possible combinations before checking if the password is found, which can be quite time-consuming.</p>\n<p>Instead, you can modify your loop to check each combination as it is generated, and break out of the loop once the password is found. Here is one way you can do it:</p>\n<pre><code>String foundPassword = null;\nint numTries = 0;\n\nlong startTime = System.currentTimeMillis();\n\nfor (int i = 0; i &lt; digits.length; i++) {\n    for (int j = 0; j &lt; digits.length; j++) {\n        for (int k = 0; k &lt; digits.length; k++) {\n            for (int l = 0; l &lt; digits.length; l++) {\n                String combination = digits[i] + &quot;&quot; + digits[j] + &quot;&quot; + digits[k] + &quot;&quot; + digits[l];\n                numTries++;\n                if (combination.equals(passw)) {\n                    foundPassword = combination;\n                    break;\n                }\n            }\n            if (foundPassword != null) {\n                break;\n            }\n        }\n        if (foundPassword != null) {\n            break;\n        }\n    }\n    if (foundPassword != null) {\n        break;\n    }\n}\n\nlong endTime = System.currentTimeMillis();\nlong elapsedTime = endTime - startTime;\n\nif (foundPassword != null) {\n    System.out.println(&quot;\\nThe Password is: &quot; + foundPassword);\n    System.out.println(&quot;It took &quot; + numTries + &quot; tries, to find the password.&quot;);\n} else {\n    System.out.println(&quot;Password not found.&quot;);\n}\nSystem.out.println(&quot;Process time was &quot; + elapsedTime + &quot; milliseconds.&quot;);\n</code></pre>\n"}],"owner":{"account_id":24645499,"reputation":1,"user_id":18543200,"display_name":"Frecklejack"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":5,"score":-2,"last_activity_date":1678905018,"creation_date":1647984676,"question_id":71579180,"body_markdown":"I&#39;m learning java atm and I am kinda stuck at the current task, that my trainer gave me yesterday...\r\n\r\nThe exercise is:\r\n\r\n1. Create a 4 digit password (Just as String variable).\r\n   (Allowed are numbers between 0-9 and one ore more of these special chars: &#39;!&#39;,&#39;#&#39;,&#39;%&#39;)\r\n2. Find a way to bruteforce the password, by going through all possibilities.\r\n3. Measure and output the time that it took for processing.\r\n4. Additionally, output how many &quot;tries&quot; it needed to find the password.\r\n\r\n(My trainer said that I should use as less methods as possible, because I don&#39;t  even now yet how to write methods or how to use classes, etc.)\r\n\r\nI managed it to work, but at how it is now, it takes about 60ms to go through the loops. My trainer now told me, that I should try to make it process faster, so that it  takes about 20ms minimum.\r\n\r\nI already now what makes my code slow. Its because i ALWAYS go through ALL possibilities,  add  ALL OF THEM into an ArreyList and THEN I check, if the pw matches with one of those possibilities in the ArreyList. Waste of time.\r\nNow my goal is to go through the possibilities like i did before, but ONLY until the password is found.\r\nAfter that, it should brake the loop, so that it also stops adding the rest of the unnecessary combinations.\r\nI tried and tried, but now I decided to call for help :)\r\n\r\nThat&#39;s my code:\r\n\r\n            import java.util.ArrayList;\r\n            import java.util.Scanner;\r\n    \r\n            public class trynew {\r\n            public static void main(String[] args) {\r\n            Scanner scn = new Scanner(System.in);\r\n    \r\n            char[] digits = {&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;#&#39;, &#39;!&#39;, &#39;%&#39;};\r\n    \r\n            System.out.println(&quot;\\nPlease create 4 digit password. Allowed are numbers between 0-9 and following characters: #,!,%&quot;);\r\n    \r\n            String passw = scn.nextLine();\r\n    \r\n            ArrayList&lt;String&gt; check_it = new ArrayList&lt;String&gt;();\r\n    \r\n            long start1 = System.currentTimeMillis();\r\n    \r\n            for (int i = 0; i &lt; digits.length; i++) {\r\n                for (int j = 0; j &lt; digits.length; j++) {\r\n                    for (int k = 0; k &lt; digits.length; k++) {\r\n                        for (int l = 0; l &lt; digits.length; l++) {\r\n                            check_it.add(digits[i] + &quot;&quot; + digits[j] + &quot;&quot; + digits[k] + &quot;&quot; + digits[l]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n            long end1 = System.currentTimeMillis();\r\n    \r\n            for (String sv : check_it) {\r\n                if (sv.equals(passw)) {\r\n                    System.out.println(&quot;\\nThe Password is: &quot; + sv);\r\n                    System.out.println(&quot;It took &quot; + check_it.indexOf(sv) + &quot; tries, to find the password.&quot;);\r\n                }\r\n            }\r\n            System.out.println(&quot;Process time was &quot; + (end1 - start1) + &quot; milliseconds.&quot;);\r\n    \r\n    \r\n            }\r\n        }\r\n    \r\n\r\n\r\n\r\n    My approach  was to make the loop like that:\r\n\r\n        for (int i = 0; i &lt; digits.length; i++) { \r\n            for (int j = 0; j &lt; digits.length; j++) {\r\n                for (int k = 0; k &lt; digits.length; k++) {\r\n                    for (int l = 0; l &lt; digits.length; l++) {\r\n    \r\n                       if (!(digits[i] + &quot;&quot; + digits[j] + &quot;&quot; + digits[k] + &quot;&quot; + digits[l]).equals(passw)){\r\n                            check_it.add(digits[i] + &quot;&quot; + digits[j] + &quot;&quot; + digits[k] + &quot;&quot; + digits[l]);\r\n                        }\r\n    \r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nThen I tried using a while loop instead of the if, I tried setting booleans, etc.\r\nI also managed that it only adds combinations until pw is found, but somehow the processing time won&#39;t go down :/\r\n\r\nThe reason why I want to add the combos into check_it ArreyList is because otherwise, I wouldn&#39;t now how I get the numbers of tries it took, until pw is found...\r\n\r\nCan someone help me please, or poke me at the right direction?!\r\nThanks &amp;\r\nGreets!","title":"How can I shorten the processing time of my (very basic) bruteforce algorithm?","body":"<p>I'm learning java atm and I am kinda stuck at the current task, that my trainer gave me yesterday...</p>\n<p>The exercise is:</p>\n<ol>\n<li>Create a 4 digit password (Just as String variable).\n(Allowed are numbers between 0-9 and one ore more of these special chars: '!','#','%')</li>\n<li>Find a way to bruteforce the password, by going through all possibilities.</li>\n<li>Measure and output the time that it took for processing.</li>\n<li>Additionally, output how many &quot;tries&quot; it needed to find the password.</li>\n</ol>\n<p>(My trainer said that I should use as less methods as possible, because I don't  even now yet how to write methods or how to use classes, etc.)</p>\n<p>I managed it to work, but at how it is now, it takes about 60ms to go through the loops. My trainer now told me, that I should try to make it process faster, so that it  takes about 20ms minimum.</p>\n<p>I already now what makes my code slow. Its because i ALWAYS go through ALL possibilities,  add  ALL OF THEM into an ArreyList and THEN I check, if the pw matches with one of those possibilities in the ArreyList. Waste of time.\nNow my goal is to go through the possibilities like i did before, but ONLY until the password is found.\nAfter that, it should brake the loop, so that it also stops adding the rest of the unnecessary combinations.\nI tried and tried, but now I decided to call for help :)</p>\n<p>That's my code:</p>\n<pre><code>        import java.util.ArrayList;\n        import java.util.Scanner;\n\n        public class trynew {\n        public static void main(String[] args) {\n        Scanner scn = new Scanner(System.in);\n\n        char[] digits = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '#', '!', '%'};\n\n        System.out.println(&quot;\\nPlease create 4 digit password. Allowed are numbers between 0-9 and following characters: #,!,%&quot;);\n\n        String passw = scn.nextLine();\n\n        ArrayList&lt;String&gt; check_it = new ArrayList&lt;String&gt;();\n\n        long start1 = System.currentTimeMillis();\n\n        for (int i = 0; i &lt; digits.length; i++) {\n            for (int j = 0; j &lt; digits.length; j++) {\n                for (int k = 0; k &lt; digits.length; k++) {\n                    for (int l = 0; l &lt; digits.length; l++) {\n                        check_it.add(digits[i] + &quot;&quot; + digits[j] + &quot;&quot; + digits[k] + &quot;&quot; + digits[l]);\n                    }\n                }\n            }\n        }\n\n        long end1 = System.currentTimeMillis();\n\n        for (String sv : check_it) {\n            if (sv.equals(passw)) {\n                System.out.println(&quot;\\nThe Password is: &quot; + sv);\n                System.out.println(&quot;It took &quot; + check_it.indexOf(sv) + &quot; tries, to find the password.&quot;);\n            }\n        }\n        System.out.println(&quot;Process time was &quot; + (end1 - start1) + &quot; milliseconds.&quot;);\n\n\n        }\n    }\n\n\n\n\nMy approach  was to make the loop like that:\n\n    for (int i = 0; i &lt; digits.length; i++) { \n        for (int j = 0; j &lt; digits.length; j++) {\n            for (int k = 0; k &lt; digits.length; k++) {\n                for (int l = 0; l &lt; digits.length; l++) {\n\n                   if (!(digits[i] + &quot;&quot; + digits[j] + &quot;&quot; + digits[k] + &quot;&quot; + digits[l]).equals(passw)){\n                        check_it.add(digits[i] + &quot;&quot; + digits[j] + &quot;&quot; + digits[k] + &quot;&quot; + digits[l]);\n                    }\n\n                }\n            }\n        }\n    }\n</code></pre>\n<p>Then I tried using a while loop instead of the if, I tried setting booleans, etc.\nI also managed that it only adds combinations until pw is found, but somehow the processing time won't go down :/</p>\n<p>The reason why I want to add the combos into check_it ArreyList is because otherwise, I wouldn't now how I get the numbers of tries it took, until pw is found...</p>\n<p>Can someone help me please, or poke me at the right direction?!\nThanks &amp;\nGreets!</p>\n"},{"tags":["java","mysql","eclipse","jdbc"],"comments":[{"owner":{"account_id":1665141,"reputation":1469,"user_id":1532705,"accept_rate":73,"display_name":"Mindwin Remember Monica"},"score":0,"creation_date":1454072405,"post_id":35084568,"comment_id":57891880,"body_markdown":"@MarkRotteveel I know that. that is why **this is a self-answered question**. Since I found no similar question in SO, I decided to post both Q and A, portraying the situation before I began searching and the answer that worked for me. Should I refrain from doing so in the future?","body":"@MarkRotteveel I know that. that is why <b>this is a self-answered question</b>. Since I found no similar question in SO, I decided to post both Q and A, portraying the situation before I began searching and the answer that worked for me. Should I refrain from doing so in the future?"}],"answers":[{"tags":[],"owner":{"account_id":1665141,"reputation":1469,"user_id":1532705,"accept_rate":73,"display_name":"Mindwin Remember Monica"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1454070420,"creation_date":1454070420,"answer_id":35084569,"question_id":35084568,"body_markdown":"The connection String should list the schema.\r\n\r\nSource: https://www.eclipse.org/forums/index.php?t=msg&amp;th=155563&amp;goto=675194&amp;#msg_675194\r\n\r\n&gt; So, if the JDBC connection string is only like:   \r\n&gt; jdbc:mysql://[server_name]:3306/ instead of  \r\n&gt; jdbc:mysql://[server_name]:3306/[schema_name]  \r\n&gt;   \r\n&gt; than Eclipse shows no tables neither in Database Explorer, nor in JPA\r\n&gt; table generation.  \r\n\r\nChanging the connection string from   \r\n`jdbc:mysql://localhost:3306`  \r\nto  \r\n`jdbc:mysql://localhost:3306/myDatabase`\r\n\r\ncorrectly displays the tables.","title":"Connected to MySQL server, but no tables are listed/shown","body":"<p>The connection String should list the schema.</p>\n\n<p>Source: <a href=\"https://www.eclipse.org/forums/index.php?t=msg&amp;th=155563&amp;goto=675194&amp;#msg_675194\" rel=\"noreferrer\">https://www.eclipse.org/forums/index.php?t=msg&amp;th=155563&amp;goto=675194&amp;#msg_675194</a></p>\n\n<blockquote>\n  <p>So, if the JDBC connection string is only like:<br>\n  jdbc:mysql://[server_name]:3306/ instead of<br>\n  jdbc:mysql://[server_name]:3306/[schema_name]  </p>\n  \n  <p>than Eclipse shows no tables neither in Database Explorer, nor in JPA\n  table generation.  </p>\n</blockquote>\n\n<p>Changing the connection string from<br>\n<code>jdbc:mysql://localhost:3306</code><br>\nto<br>\n<code>jdbc:mysql://localhost:3306/myDatabase</code></p>\n\n<p>correctly displays the tables.</p>\n"}],"owner":{"account_id":1665141,"reputation":1469,"user_id":1532705,"accept_rate":73,"display_name":"Mindwin Remember Monica"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2957,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":1,"score":3,"last_activity_date":1678904789,"creation_date":1454070420,"question_id":35084568,"body_markdown":"I am trying to create a JPA project, and eclipse does connect to the database, but no tables are shown. The database do have tables, and the user &quot;john&quot; have all permits in the database. There is no problem executing queries from the prompt or using a MySQL client.\r\n\r\nHere is the connection setup in &quot;Driver Properties&quot;:\r\n\r\n&gt; Drivers: MySQL JDBC Driver  \r\n&gt; Database: myDatabase  \r\n&gt; URL: jdbc:mysql://localhost:3306  \r\n&gt; username: john  \r\n&gt; password: ******  \r\n\r\nThe &quot;Test connection&quot; button works fine, the connection is estabilished, but in the tables folder, it is empty.\r\n\r\nUsing jre7, tomcat 7.0, Mysql 5.6.0, Eclipse Luna 4.4.2, mysql-connector-java-5.1.18.jar","title":"Connected to MySQL server, but no tables are listed/shown","body":"<p>I am trying to create a JPA project, and eclipse does connect to the database, but no tables are shown. The database do have tables, and the user \"john\" have all permits in the database. There is no problem executing queries from the prompt or using a MySQL client.</p>\n\n<p>Here is the connection setup in \"Driver Properties\":</p>\n\n<blockquote>\n  <p>Drivers: MySQL JDBC Driver<br>\n  Database: myDatabase<br>\n  URL: jdbc:mysql://localhost:3306<br>\n  username: john<br>\n  password: ******  </p>\n</blockquote>\n\n<p>The \"Test connection\" button works fine, the connection is estabilished, but in the tables folder, it is empty.</p>\n\n<p>Using jre7, tomcat 7.0, Mysql 5.6.0, Eclipse Luna 4.4.2, mysql-connector-java-5.1.18.jar</p>\n"},{"tags":["java","collections","key-value"],"comments":[{"owner":{"account_id":38612,"reputation":22579,"user_id":110933,"accept_rate":96,"display_name":"davek"},"score":4,"creation_date":1408453535,"post_id":25384023,"comment_id":39587200,"body_markdown":"If the values are fixed, you could also use an Enum with properties.","body":"If the values are fixed, you could also use an Enum with properties."},{"owner":{"account_id":956944,"reputation":7211,"user_id":982084,"display_name":"WilQu"},"score":3,"creation_date":1408453659,"post_id":25384023,"comment_id":39587300,"body_markdown":"Are speed and memory usage really an issue for a Rock Paper Scissors program?","body":"Are speed and memory usage really an issue for a Rock Paper Scissors program?"},{"owner":{"account_id":1122289,"reputation":5100,"user_id":1110381,"accept_rate":77,"display_name":"l4mpi"},"score":4,"creation_date":1408453690,"post_id":25384023,"comment_id":39587330,"body_markdown":"Why would you even care about speed and memory usage when you only have 5 values? There is no collection I know of which would result in any noticeable difference in speed or size when used with 5 entries. Ever heard the phrase &quot;premature optimization&quot;?","body":"Why would you even care about speed and memory usage when you only have 5 values? There is no collection I know of which would result in any noticeable difference in speed or size when used with 5 entries. Ever heard the phrase &quot;premature optimization&quot;?"},{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":0,"creation_date":1408454057,"post_id":25384023,"comment_id":39587595,"body_markdown":"You need to add more info on how you are going to implement it.","body":"You need to add more info on how you are going to implement it."},{"owner":{"account_id":4852300,"reputation":1315,"user_id":3914282,"accept_rate":80,"display_name":"jbailie1991"},"score":0,"creation_date":1408454326,"post_id":25384023,"comment_id":39587791,"body_markdown":"The reason for efficiency is more personal preference, I want it use as little memory and run as efficiently as possible. Having read that sentence over, I realise that might be something of an oxymoron when discussing java","body":"The reason for efficiency is more personal preference, I want it use as little memory and run as efficiently as possible. Having read that sentence over, I realise that might be something of an oxymoron when discussing java"}],"answers":[{"comments":[{"owner":{"account_id":4852300,"reputation":1315,"user_id":3914282,"accept_rate":80,"display_name":"jbailie1991"},"score":0,"creation_date":1408453194,"post_id":25384045,"comment_id":39586973,"body_markdown":"that was the first collection that came to mind, I was just wondering if there were any that would have an even smaller memory footprint than that","body":"that was the first collection that came to mind, I was just wondering if there were any that would have an even smaller memory footprint than that"},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1408453374,"post_id":25384045,"comment_id":39587097,"body_markdown":"@jbailie1991 - considering the fact that you have only a few elements, I think it is better to think about performance (speed) rather than memory. `TreeMap` for example is O(log(n)).","body":"@jbailie1991 - considering the fact that you have only a few elements, I think it is better to think about performance (speed) rather than memory. <code>TreeMap</code> for example is O(log(n))."},{"owner":{"account_id":1153671,"reputation":2570,"user_id":1134856,"accept_rate":36,"display_name":"treeno"},"score":0,"creation_date":1408453853,"post_id":25384045,"comment_id":39587437,"body_markdown":"As I wrote above, I think that HashMaps are not O(1), since hashvalues for different objects are not always different. If you are unlucky all five entires can have the same hashvalue. In that case you would have O(n)","body":"As I wrote above, I think that HashMaps are not O(1), since hashvalues for different objects are not always different. If you are unlucky all five entires can have the same hashvalue. In that case you would have O(n)"},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1408454044,"post_id":25384045,"comment_id":39587582,"body_markdown":"@treeno - Well, yes, but the OP will be running taht risk with *any* map.","body":"@treeno - Well, yes, but the OP will be running taht risk with <i>any</i> map."}],"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1408453072,"creation_date":1408453072,"answer_id":25384045,"question_id":25384023,"body_markdown":"`HashMap` would be the best one. `get()` has `O(1)` time complexity . O(1) means independent of the number of elements i.e, constant.","title":"Best collection to use for small number of key-value pairs in Java","body":"<p><code>HashMap</code> would be the best one. <code>get()</code> has <code>O(1)</code> time complexity . O(1) means independent of the number of elements i.e, constant.</p>\n"},{"comments":[{"owner":{"account_id":55050,"reputation":190529,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"score":2,"creation_date":1408453306,"post_id":25384074,"comment_id":39587054,"body_markdown":"both are O(1) true. but array/arrayList may not suit OP&#39;s need, he meant small number of keys, say we have just two: `1` and `Integer.max` then with array we need init an array with `int.max` capacity.","body":"both are O(1) true. but array/arrayList may not suit OP&#39;s need, he meant small number of keys, say we have just two: <code>1</code> and <code>Integer.max</code> then with array we need init an array with <code>int.max</code> capacity."},{"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"score":0,"creation_date":1408453391,"post_id":25384074,"comment_id":39587108,"body_markdown":"@Kent Very good point. ArrayList would really make sense only they are numbers are consecutive.","body":"@Kent Very good point. ArrayList would really make sense only they are numbers are consecutive."},{"owner":{"account_id":1098379,"reputation":14720,"user_id":1091466,"accept_rate":78,"display_name":"Marco Acierno"},"score":2,"creation_date":1408453502,"post_id":25384074,"comment_id":39587184,"body_markdown":"ArrayList is not a Key/Value collection","body":"ArrayList is not a Key/Value collection"},{"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"score":0,"creation_date":1408453550,"post_id":25384074,"comment_id":39587211,"body_markdown":"@Marco Who said that ArrayList is a Key/Value collection? Indexes would act as keys.","body":"@Marco Who said that ArrayList is a Key/Value collection? Indexes would act as keys."},{"owner":{"account_id":1098379,"reputation":14720,"user_id":1091466,"accept_rate":78,"display_name":"Marco Acierno"},"score":0,"creation_date":1408453569,"post_id":25384074,"comment_id":39587224,"body_markdown":"The OP wants a Key/Value collection","body":"The OP wants a Key/Value collection"},{"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"score":0,"creation_date":1408453609,"post_id":25384074,"comment_id":39587261,"body_markdown":"@Marco Sorry but it&#39;s not written anywhere.","body":"@Marco Sorry but it&#39;s not written anywhere."},{"owner":{"account_id":1098379,"reputation":14720,"user_id":1091466,"accept_rate":78,"display_name":"Marco Acierno"},"score":2,"creation_date":1408453624,"post_id":25384074,"comment_id":39587273,"body_markdown":"&quot;Best collection for small number of key value pairs&quot; -- Maybe you mean ArrayList&lt;Pair&lt;X, Y&gt;&gt; ? // &quot;most 5 key value pairs in the collection&quot;","body":"&quot;Best collection for small number of key value pairs&quot; -- Maybe you mean ArrayList&lt;Pair&lt;X, Y&gt;&gt; ? // &quot;most 5 key value pairs in the collection&quot;"},{"owner":{"account_id":1153671,"reputation":2570,"user_id":1134856,"accept_rate":36,"display_name":"treeno"},"score":0,"creation_date":1408453665,"post_id":25384074,"comment_id":39587309,"body_markdown":"HashMap is not O(1) since hashvalues for different objects are not always different. HashMaps internally use LinkedLists for all cases where more then one value exists for the same hashvalue. Thats why you need to implement the equals()-method","body":"HashMap is not O(1) since hashvalues for different objects are not always different. HashMaps internally use LinkedLists for all cases where more then one value exists for the same hashvalue. Thats why you need to implement the equals()-method"},{"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"score":0,"creation_date":1408453711,"post_id":25384074,"comment_id":39587343,"body_markdown":"Yes but it&#39;s totally different than saying: &quot;Best key/values collection&quot;. With this sole OP&#39;s sentence, I could even suggest a Set than can store a key/value pair&quot;.","body":"Yes but it&#39;s totally different than saying: &quot;Best key/values collection&quot;. With this sole OP&#39;s sentence, I could even suggest a Set than can store a key/value pair&quot;."},{"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"score":0,"creation_date":1408453771,"post_id":25384074,"comment_id":39587383,"body_markdown":"@treeno For numbers, a good hashcode/equals would ALWAYS be unique, so HashMap is O(1) in this case.","body":"@treeno For numbers, a good hashcode/equals would ALWAYS be unique, so HashMap is O(1) in this case."},{"owner":{"account_id":1098379,"reputation":14720,"user_id":1091466,"accept_rate":78,"display_name":"Marco Acierno"},"score":0,"creation_date":1408453777,"post_id":25384074,"comment_id":39587387,"body_markdown":"If one reads &quot;i want a Key/values collection&quot; it&#39;s obvious that an ArrayList is not a Key/Value collection! Since it holds only values! Then, if it holds pairs is another questions","body":"If one reads &quot;i want a Key/values collection&quot; it&#39;s obvious that an ArrayList is not a Key/Value collection! Since it holds only values! Then, if it holds pairs is another questions"},{"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"score":0,"creation_date":1408453814,"post_id":25384074,"comment_id":39587409,"body_markdown":"@Marco &quot;I want a Key/values collection&quot; is not explicit in the OP.","body":"@Marco &quot;I want a Key/values collection&quot; is not explicit in the OP."},{"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"score":0,"creation_date":1408454193,"post_id":25384074,"comment_id":39587713,"body_markdown":"@MarcoAcierno The interpretation would totally be legitimate, when you wrote:  &quot;Maybe you mean `ArrayList&lt;Pair&lt;X, Y&gt;&gt;` ?&quot; // &quot;most 5 key value pairs in the collection&quot; That&#39;s why I don&#39;t consider the OP as being searching for a key/value collection strictly.","body":"@MarcoAcierno The interpretation would totally be legitimate, when you wrote:  &quot;Maybe you mean <code>ArrayList&lt;Pair&lt;X, Y&gt;&gt;</code> ?&quot; // &quot;most 5 key value pairs in the collection&quot; That&#39;s why I don&#39;t consider the OP as being searching for a key/value collection strictly."},{"owner":{"account_id":1098379,"reputation":14720,"user_id":1091466,"accept_rate":78,"display_name":"Marco Acierno"},"score":0,"creation_date":1408454270,"post_id":25384074,"comment_id":39587755,"body_markdown":"The phrase was just an example, but whatever. In the questions seems like he wants a collection which handle a pair collection (ok, about a List with Pair&lt;&gt;) but i don&#39;t think the question is clear. (if you care, i&#39;m not the downvoter anyway, your answer is valid at all)","body":"The phrase was just an example, but whatever. In the questions seems like he wants a collection which handle a pair collection (ok, about a List with Pair&lt;&gt;) but i don&#39;t think the question is clear. (if you care, i&#39;m not the downvoter anyway, your answer is valid at all)"},{"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"score":0,"creation_date":1408454351,"post_id":25384074,"comment_id":39587812,"body_markdown":"I don&#39;t care about the downvote ;) I consider my answer to not be perfect regarding the good point of Kent in comments. But yes, the conclusion is that the question is not clear enough ;)","body":"I don&#39;t care about the downvote ;) I consider my answer to not be perfect regarding the good point of Kent in comments. But yes, the conclusion is that the question is not clear enough ;)"},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1408455444,"post_id":25384074,"comment_id":39588548,"body_markdown":"@Mik378 - *Both are O(1) and expect unique keys.* - even `ArrayList` ? :P","body":"@Mik378 - <i>Both are O(1) and expect unique keys.</i> - even <code>ArrayList</code> ? :P"},{"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"score":0,"creation_date":1408455522,"post_id":25384074,"comment_id":39588609,"body_markdown":"@TheLostMind ArrayList is ALWAYS O(1) when the use case is to **retrieve** an item based on its index. Array indexes being unique by essence.","body":"@TheLostMind ArrayList is ALWAYS O(1) when the use case is to <b>retrieve</b> an item based on its index. Array indexes being unique by essence."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1408455652,"post_id":25384074,"comment_id":39588693,"body_markdown":"@Mik378 - I meant this part --&gt; *and expect unique keys* . `ArrayList` can contain duplicates.","body":"@Mik378 - I meant this part --&gt; <i>and expect unique keys</i> . <code>ArrayList</code> can contain duplicates."},{"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"score":0,"creation_date":1408455680,"post_id":25384074,"comment_id":39588710,"body_markdown":"@TheLostMind &quot;keys&quot; != &quot;values&quot; ;) ArrayList can indeed contain duplicated **values**.","body":"@TheLostMind &quot;keys&quot; != &quot;values&quot; ;) ArrayList can indeed contain duplicated <b>values</b>."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1408455775,"post_id":25384074,"comment_id":39588770,"body_markdown":"@Mik378 - And what are `keys` related to ArrayList?","body":"@Mik378 - And what are <code>keys</code> related to ArrayList?"},{"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"score":0,"creation_date":1408455810,"post_id":25384074,"comment_id":39588813,"body_markdown":"Array indexes are (like) numeric keys.","body":"Array indexes are (like) numeric keys."}],"tags":[],"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"comment_count":21,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1408453149,"creation_date":1408453149,"answer_id":25384074,"question_id":25384023,"body_markdown":"An `ArrayList` or an `HashMap` would be fine if your keys are `Integer`.\r\n\r\n**Both are O(1) and expect unique keys.**\r\n\r\nOtherwise, if they are `String`, `HashMap` only would fit.","title":"Best collection to use for small number of key-value pairs in Java","body":"<p>An <code>ArrayList</code> or an <code>HashMap</code> would be fine if your keys are <code>Integer</code>.</p>\n\n<p><strong>Both are O(1) and expect unique keys.</strong></p>\n\n<p>Otherwise, if they are <code>String</code>, <code>HashMap</code> only would fit.</p>\n"},{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1408453480,"creation_date":1408453480,"answer_id":25384177,"question_id":25384023,"body_markdown":"If you need a `Map` and you do not need a `SortedMap`, [`HashMap`][1] is almost always the right choice.\r\n\r\nNote that [one of the constructors][2] of `HashMap` has an argument telling it the initial size of the map. The constructor will use that to allocate a reasonable amount of memory for the map, which is helpful if the size of your map is likely to be smaller than the default size ([which is 16][3]).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html#HashMap%28int%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html#HashMap%28%29","title":"Best collection to use for small number of key-value pairs in Java","body":"<p>If you need a <code>Map</code> and you do not need a <code>SortedMap</code>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html\" rel=\"nofollow\"><code>HashMap</code></a> is almost always the right choice.</p>\n\n<p>Note that <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html#HashMap%28int%29\" rel=\"nofollow\">one of the constructors</a> of <code>HashMap</code> has an argument telling it the initial size of the map. The constructor will use that to allocate a reasonable amount of memory for the map, which is helpful if the size of your map is likely to be smaller than the default size (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html#HashMap%28%29\" rel=\"nofollow\">which is 16</a>).</p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408457906,"creation_date":1408457906,"answer_id":25385797,"question_id":25384023,"body_markdown":"I&#39;d suggest this is a perfect opportunity to use `enum`s and an `EnumMap` which is optimised for exactly the kind of scenario you are considering - i.e. a discrete set of possible keys.\r\n","title":"Best collection to use for small number of key-value pairs in Java","body":"<p>I'd suggest this is a perfect opportunity to use <code>enum</code>s and an <code>EnumMap</code> which is optimised for exactly the kind of scenario you are considering - i.e. a discrete set of possible keys.</p>\n"}],"owner":{"account_id":4852300,"reputation":1315,"user_id":3914282,"accept_rate":80,"display_name":"jbailie1991"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5420,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":25384074,"answer_count":4,"score":5,"last_activity_date":1678904759,"creation_date":1408453019,"question_id":25384023,"body_markdown":"I&#39;m currently creating a prototype of a Rock-Paper-Scissors program and I need to store the selections in an Integer-String format.\r\n\r\nWhat would be the &quot;best&quot; collection to use, in terms of speed of searching and memory usage?  \r\n\r\nThe premise being that the computer will pick a random number, then the key-value pairs are searched to find the appropriate selection name for use later in the program.\r\n\r\nEDIT:  \r\nTo clarify, there will be at most 5 key-value pairs in the collection, with Integers as the keys.","title":"Best collection to use for small number of key-value pairs in Java","body":"<p>I'm currently creating a prototype of a Rock-Paper-Scissors program and I need to store the selections in an Integer-String format.</p>\n<p>What would be the &quot;best&quot; collection to use, in terms of speed of searching and memory usage?</p>\n<p>The premise being that the computer will pick a random number, then the key-value pairs are searched to find the appropriate selection name for use later in the program.</p>\n<p>EDIT:<br />\nTo clarify, there will be at most 5 key-value pairs in the collection, with Integers as the keys.</p>\n"},{"tags":["java","algorithm","stack-overflow","biginteger","factorial"],"comments":[{"owner":{"account_id":56319,"reputation":32862,"user_id":168703,"accept_rate":89,"display_name":"JonH"},"score":1,"creation_date":1327431551,"post_id":8992437,"comment_id":11269120,"body_markdown":"That cant be the biggest for BigInteger data types.  Where is the stackoverflow exception being thrown?  Post more relevant code.","body":"That cant be the biggest for BigInteger data types.  Where is the stackoverflow exception being thrown?  Post more relevant code."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":9,"creation_date":1327431622,"post_id":8992437,"comment_id":11269137,"body_markdown":"Yes, use the iterative algorithm. BigInteger is doing fine, getFactorial just ate all the stack space.","body":"Yes, use the iterative algorithm. BigInteger is doing fine, getFactorial just ate all the stack space."},{"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"score":1,"creation_date":1327432041,"post_id":8992437,"comment_id":11269287,"body_markdown":"@harold (+1) - another example of why I think recursion is a harmful technique to teach college students, at least in languages without tail recurion.  It&#39;s an intellectual exercise, but ultimately not useful for anything interesting.","body":"@harold (+1) - another example of why I think recursion is a harmful technique to teach college students, at least in languages without tail recurion.  It&#39;s an intellectual exercise, but ultimately not useful for anything interesting."},{"owner":{"account_id":26547,"reputation":10270,"user_id":69178,"accept_rate":78,"display_name":"akappa"},"score":2,"creation_date":1327432631,"post_id":8992437,"comment_id":11269524,"body_markdown":"Recursion &quot;not useful for anything interesting&quot;? Meh.","body":"Recursion &quot;not useful for anything interesting&quot;? Meh."},{"owner":{"account_id":26728,"reputation":50262,"user_id":69809,"accept_rate":96,"display_name":"vgru"},"score":0,"creation_date":1327438693,"post_id":8992437,"comment_id":11271633,"body_markdown":"@JonH: stack overflow is not the same thing as a numerical overflow, type of `num` is irrelevant here.","body":"@JonH: stack overflow is not the same thing as a numerical overflow, type of <code>num</code> is irrelevant here."},{"owner":{"account_id":26728,"reputation":50262,"user_id":69809,"accept_rate":96,"display_name":"vgru"},"score":0,"creation_date":1327438712,"post_id":8992437,"comment_id":11271643,"body_markdown":"@CPerkins: there are compilers which perform tail call optimization (and it&#39;s guaranteed in most functional prg. languages) which avoids this problem. And some algorithms (tree traversal, for example) are inherently recursive. Whenever you use the .NET&#39;s Sort methods, you are using a recursive quicksort algorithm, so it&#39;s far from being *not useful for anything interesting*.","body":"@CPerkins: there are compilers which perform tail call optimization (and it&#39;s guaranteed in most functional prg. languages) which avoids this problem. And some algorithms (tree traversal, for example) are inherently recursive. Whenever you use the .NET&#39;s Sort methods, you are using a recursive quicksort algorithm, so it&#39;s far from being <i>not useful for anything interesting</i>."},{"owner":{"account_id":56319,"reputation":32862,"user_id":168703,"accept_rate":89,"display_name":"JonH"},"score":0,"creation_date":1327438783,"post_id":8992437,"comment_id":11271664,"body_markdown":"@Groo - And that is the reason why I said it cant be the biggest.  So my point was the exception wasn&#39;t because of the value of bigint but rather something else.","body":"@Groo - And that is the reason why I said it cant be the biggest.  So my point was the exception wasn&#39;t because of the value of bigint but rather something else."},{"owner":{"account_id":7470,"reputation":274976,"user_id":13005,"accept_rate":75,"display_name":"Steve Jessop"},"score":0,"creation_date":1327440960,"post_id":8992437,"comment_id":11272425,"body_markdown":"Not that this example is a simple tail-recursion anyway: it needs to be transformed with an accumulator. Maybe some compilers for some languages can do that automatically sometimes, but this one is tricky since the compiler would have to prove to its own satisfaction that `BigInteger.multiply` is associative.","body":"Not that this example is a simple tail-recursion anyway: it needs to be transformed with an accumulator. Maybe some compilers for some languages can do that automatically sometimes, but this one is tricky since the compiler would have to prove to its own satisfaction that <code>BigInteger.multiply</code> is associative."},{"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"score":0,"creation_date":1327501481,"post_id":8992437,"comment_id":11286048,"body_markdown":"@Groo - I agree that tree traversal, etc are more easily understandable as recursive, but any recursive algorithm can be transformed into an iterative one, and vice versa.  But it keeps coming back to tail recursion - without it, stack size imposes a limit on data set size. Perhaps I should redefine &#39;interesting&#39;. :)","body":"@Groo - I agree that tree traversal, etc are more easily understandable as recursive, but any recursive algorithm can be transformed into an iterative one, and vice versa.  But it keeps coming back to tail recursion - without it, stack size imposes a limit on data set size. Perhaps I should redefine &#39;interesting&#39;. :)"},{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":0,"creation_date":1327501490,"post_id":8992437,"comment_id":11286052,"body_markdown":"Note the behaviour of `BigInteger.intValue()` means that factorial of anything greater than or equal to 4,294,967,296 will be wrong http://docs.oracle.com/javase/6/docs/api/java/math/BigInteger.html#intValue() (not that you have any hope of calculating such a value anyway)","body":"Note the behaviour of <code>BigInteger.intValue()</code> means that factorial of anything greater than or equal to 4,294,967,296 will be wrong <a href=\"http://docs.oracle.com/javase/6/docs/api/java/math/BigInteger.html#intValue()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/math/&hellip;</a> (not that you have any hope of calculating such a value anyway)"}],"answers":[{"comments":[{"owner":{"account_id":428580,"reputation":35982,"user_id":811001,"accept_rate":85,"display_name":"tskuzzy"},"score":1,"creation_date":1327434532,"post_id":8992471,"comment_id":11270239,"body_markdown":"Modified code to use static constants `BigInteger.ONE` and `ZERO`.","body":"Modified code to use static constants <code>BigInteger.ONE</code> and <code>ZERO</code>."},{"owner":{"account_id":606180,"reputation":947,"user_id":311777,"display_name":"ee."},"score":0,"creation_date":1327456814,"post_id":8992471,"comment_id":11275926,"body_markdown":"During algorithm class, I remembered a technique which used Push/Pop unto a Stack to avoid StackOverflow exception when implementing the extremely deep-recursive [Ackermann function](http://en.wikipedia.org/wiki/Ackermann_function) in Java, especially for `A(4,1)` which took around 28 minutes to execute on Core2Duo T7250.","body":"During algorithm class, I remembered a technique which used Push/Pop unto a Stack to avoid StackOverflow exception when implementing the extremely deep-recursive <a href=\"http://en.wikipedia.org/wiki/Ackermann_function\" rel=\"nofollow noreferrer\">Ackermann function</a> in Java, especially for <code>A(4,1)</code> which took around 28 minutes to execute on Core2Duo T7250."},{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":0,"creation_date":1327457477,"post_id":8992471,"comment_id":11276021,"body_markdown":"@ee.- What you&#39;re describing is replacing the runtime stack with an explicit stack.  This can be made to work, though the complexity of most algorithms written this way is often higher than the recursive version.","body":"@ee.- What you&#39;re describing is replacing the runtime stack with an explicit stack.  This can be made to work, though the complexity of most algorithms written this way is often higher than the recursive version."},{"owner":{"account_id":606180,"reputation":947,"user_id":311777,"display_name":"ee."},"score":0,"creation_date":1327459853,"post_id":8992471,"comment_id":11276320,"body_markdown":"@templatetypedef I concur. The standard runtime stack in Java will immediately catches StackOverflow exception soon enough when running `Ackermann function` at `A(4,1)` using standard recursion approach. Explicit stack seems to resolve the problem, albeit the complexity of the explicit stack approach.","body":"@templatetypedef I concur. The standard runtime stack in Java will immediately catches StackOverflow exception soon enough when running <code>Ackermann function</code> at <code>A(4,1)</code> using standard recursion approach. Explicit stack seems to resolve the problem, albeit the complexity of the explicit stack approach."}],"tags":[],"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"comment_count":4,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1327453396,"creation_date":1327431599,"answer_id":8992471,"question_id":8992437,"body_markdown":"The problem here looks like its a [stack overflow][1] from too much [recursion][2] (5000 recursive calls looks like about the right number of calls to blow out a Java [call stack][3]) and not a limitation of `BigInteger`.  Rewriting the factorial function iteratively should fix this.  For example:\r\n\r\n    public static BigInteger factorial(BigInteger n) {\r\n        BigInteger result = BigInteger.ONE;\r\n\r\n        while (!n.equals(BigInteger.ZERO)) {\r\n            result = result.multiply(n);\r\n            n = n.subtract(BigInteger.ONE);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\nHope this helps!\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Stack_overflow\r\n  [2]: http://en.wikipedia.org/wiki/Recursion_%28computer_science%29\r\n  [3]: http://en.wikipedia.org/wiki/Call_stack","title":"StackOverflowError computing factorial of a BigInteger?","body":"<p>The problem here looks like its a <a href=\"http://en.wikipedia.org/wiki/Stack_overflow\" rel=\"noreferrer\">stack overflow</a> from too much <a href=\"http://en.wikipedia.org/wiki/Recursion_%28computer_science%29\" rel=\"noreferrer\">recursion</a> (5000 recursive calls looks like about the right number of calls to blow out a Java <a href=\"http://en.wikipedia.org/wiki/Call_stack\" rel=\"noreferrer\">call stack</a>) and not a limitation of <code>BigInteger</code>.  Rewriting the factorial function iteratively should fix this.  For example:</p>\n\n<pre><code>public static BigInteger factorial(BigInteger n) {\n    BigInteger result = BigInteger.ONE;\n\n    while (!n.equals(BigInteger.ZERO)) {\n        result = result.multiply(n);\n        n = n.subtract(BigInteger.ONE);\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1327431626,"creation_date":1327431626,"answer_id":8992480,"question_id":8992437,"body_markdown":"The issue isn&#39;t BigInteger, it is your use of a recursive method call (`getFactorial()`).  ","title":"StackOverflowError computing factorial of a BigInteger?","body":"<p>The issue isn't BigInteger, it is your use of a recursive method call (<code>getFactorial()</code>).  </p>\n"},{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1327432462,"creation_date":1327432462,"answer_id":8992656,"question_id":8992437,"body_markdown":"Try this instead, an iterative algorithm:\r\n\r\n\tpublic static BigInteger getFactorial(int num) {\r\n\t\tBigInteger fact = BigInteger.valueOf(1);\r\n\t\tfor (int i = 1; i &lt;= num; i++)\r\n\t\t\tfact = fact.multiply(BigInteger.valueOf(i));\r\n\t\treturn fact;\r\n\t}","title":"StackOverflowError computing factorial of a BigInteger?","body":"<p>Try this instead, an iterative algorithm:</p>\n\n<pre><code>public static BigInteger getFactorial(int num) {\n    BigInteger fact = BigInteger.valueOf(1);\n    for (int i = 1; i &lt;= num; i++)\n        fact = fact.multiply(BigInteger.valueOf(i));\n    return fact;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327439411,"creation_date":1327438259,"answer_id":8993955,"question_id":8992437,"body_markdown":"The [Guava][1] libraries from Google have a highly optimized implementation of factorial that outputs BigIntegers.  [Check it out][2].  (It does more balanced multiplies and optimizes away simple shifts.)\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/\r\n  [2]: http://docs.guava-libraries.googlecode.com/git-history/v11.0.1/javadoc/com/google/common/math/BigIntegerMath.html#factorial(int)","title":"StackOverflowError computing factorial of a BigInteger?","body":"<p>The <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow\">Guava</a> libraries from Google have a highly optimized implementation of factorial that outputs BigIntegers.  <a href=\"http://docs.guava-libraries.googlecode.com/git-history/v11.0.1/javadoc/com/google/common/math/BigIntegerMath.html#factorial%28int%29\" rel=\"nofollow\">Check it out</a>.  (It does more balanced multiplies and optimizes away simple shifts.)</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327446967,"creation_date":1327446967,"answer_id":8995714,"question_id":8992437,"body_markdown":"Naive implementations of factorial don&#39;t work out in real situations.  \r\n\r\nIf you have a serious need, the best thing to do is to write a [gamma][1] function (or `ln(gamma)` function) that will work not only for integers but is also correct for decimal numbers.  Memoize results so you don&#39;t have to keep repeating calculations using a `WeakHashMap` and you&#39;re in business.\r\n\r\n\r\n  [1]: http://www.wolframalpha.com/input/?i=gamma%20function","title":"StackOverflowError computing factorial of a BigInteger?","body":"<p>Naive implementations of factorial don't work out in real situations.  </p>\n\n<p>If you have a serious need, the best thing to do is to write a <a href=\"http://www.wolframalpha.com/input/?i=gamma%20function\" rel=\"nofollow\">gamma</a> function (or <code>ln(gamma)</code> function) that will work not only for integers but is also correct for decimal numbers.  Memoize results so you don't have to keep repeating calculations using a <code>WeakHashMap</code> and you're in business.</p>\n"},{"tags":[],"owner":{"account_id":27756837,"reputation":1,"user_id":21405664,"display_name":"Marco Aurelio Moncada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678904730,"creation_date":1678901724,"answer_id":75748239,"question_id":8992437,"body_markdown":"the way to call itself is not correct, since with extremely large numbers, it thunders due to StackOverflowError, the best thing for extremely large numbers is the factorial of 913, 999, or larger is to loop or while, doesnt call to same program.\r\n\r\n    for (   BigInteger i = new BigInteger ( &quot;1&quot; )   ;\r\n            !salir ;)  {\r\n     if ( i.equals ( n.add ( BigInteger.ONE ))  )\r\n      salir = true ;\r\n     else\r\n      result = result.multiply ( i )   ;\r\n     i = i.add ( BigInteger.ONE )   ;\r\n    }\r\n12163485049042206946749724736917423124313249550721376830277183696171338521995973161718744951109676398599505257471162680799380935261770672523463219591124646229445686184968071875683982942570820112489175678513661829460758082038124263825166481377117262325001991144650478480569968642841960583108987251458163697432069329041904326101633320808727776810661412338796229880210758083841624400174632609317649060716767999189276870552125180983803419852432523869333711612352029137346197429403270651602216347392004694801287677671475365282776987118449954715691012108764632855111870536709027203753265093730818738435961569862401300380387004871324946014712363603408837620594183083200826512106498860217202580060173926721200943868734204625188016647392019895587604564553984348534890439288640333995675450432752502952355352296130379477769726508443629506757281394573033085262168863952975220492972812212802900238541794839215759977886734718396604180712625549023656564950153317119250646432632581266433450336751945032103038374494396938850670776140548721222569981739453425081538111070505375605999599798694412707969334355865462390267417390072870282911175422437209711413012757317629395597023109081217329401957532345473528103078477514627356096310762166690954403392635151101986608401691474039100378524129731737251773980269906395294832783306302266127044185772136268063808140742445191130732295414644715433452610681915586235272593117971093147111104189102538176953125223421726877375254012237195790808452247981464480285878781354984780175878496682014473065273384618148543511016905480849075070382227045493871105113920222222171845014760573754065588044064200508876128422530942200976153237845374634950925170803332062323664415954273765806666179561910158025851420039257374225819847320929841979768611843834620743932079508340665874617276766805340532918924070464842985314534360948869034460365716638763104542017603189470478558441910354421869355176285538436228561510332603894875490835086993288456106975341836657803904082120553283859339974091440815233887629443123469486888969984860769442669719077410063613781676911369843309363721135439235892949980815971801740507432256873847329906996784543245754384519082471217651504130032421983345669479141552352889742681591710749079875054324716601643127763716943540472450078238142626725119301672472582048950878458205735676063853933791289083768382829140858938623821815063750035616541805142685143903466007920598739949064898593268731016155668823857672032973249449938169202229040549420649997355676795639871733882538570284834737651640581370087547371621351872784493665812159704137361095026100314516513867366731750395713413885618403765160388999118756130158772722405831284747011446979088037859908219639234926856898339103836259345651182734995109635978258303609054054133949611354686494198694622630820842409378634619506735505101681323027120725599769730403295060858956299033826616916776012495887532429101111275905908775157705362353574071841809921532144160521787901732381503919353107559697968510401097820425026153672958767735635279524102334989019378686994232948427766993318440049078270721817908216836301777547144077732717636446325911200494687214722366176586187463372532460706376249207254265632218770655712392694995553238437811821085275895064877000009331619453402506523751069309636781259783412881164393187570392150525542337810970451636896051276475842684804997916411739675212895856554693938726733735565521699829259311809237265411060847226396154348661661604783089919611801097038976296474943590711080178851902207130372417322809906833398468862225404145092372602600762329113096442976964183513621938030252112940551992349551342267958237346752741784010733968593185894895561995509890619602863850524730888480387888800673971421396930537121946866782839252247235220475301310778867640225811890537838471210849719794576160075083353774308926598845984282732241482605227486992709642383473840014062158346877015806426886619666532059053677112500665318935399403503079489568206873985825616366785577741118741453296836723977149120439942792171325757393723699865726596128186731263936329538811020710204785614485388875854840561326551730234051458809750059646279920911348105033319548906810523831893377477921289039054500008678526957523518399948677617364254754183343107487590403778594738925826092822767831127727428929454521257139753840736092951182917641349503278830294580819179694748862060235872746130018579090701840093245048686908174983822933389691464912014630687084025661138176937594020298842544034367277709751688455684822959748292983966428624098538959919176957501854496207574039819023494994335383254085426173860269513604573012877665145482931528611999131579919323898356103208951725207155903099998631825027642742717992436924104134045650743725968698204004259933350570001466009969516639519241313068956023015461917622746664423441010809814659714060942134911039555577856492617541637336924345159196728185292429992663850538453756906457122160691338515943039730367680310215338908066562837909603148480049985566305955819743906163182333553719743547024192853578881519846805190720893135306012678885156307313466530333962849605521868455008776490930061970160423903489980973753807943851090830337605892630963751104139980179694905406208951612390527249175626684685434471006508249051367941493220665425979276832077444015417764028950063004600209600498998960912548942808887298960054705850046611986884741121574752679085290869294275289430836672696209741722964935699477201535898966276744978610326184169834691334525826005926742831357963621586680484267825952998187203778201843249639326677346266163447899897927936371824498122110277210440924133919953807981684998748519704840657411800157284336617852016551581160349759062838097301655639930088006407527243018911705306356703237848492700563399390378993638665299698961266277327246960377685901211921020953488093116769844657419637987198031897730661035518005428762562296761333592523622916850768444572128909154224862934581785234792156242599760170976510630781860548651847137279683231436662143171425065260669468739062538933834027949399578297059323284108151155288783381471658680023719047776323889967328753842413094915586554497841251603962633951224816286415578182368374962300995444761516797809947880981975494582170926890991614626043345208883060072001202670734734211444135895168575667940511683108556828868349925083108192122182929323872501828909787337833654141964813913199944337669997496689449034099102813731407084863869426412384391484920165518216332264054836468053486743947770285699157870639232517217866631670704013168462139768590347356310961553666286603285728644225586057552841464915998899038795439047436444086889768865209168982417616470493663033470140321314743773893998257347083091600755051323177104011150035127434382501749105860662819276460839161929336527218427705216494031558735254276625959920464110200441485337135574878672914568308474489787331619196232512688908699612850179199366925778186144665483415104028537797647194119555946456819127396464245982489162031688969979240685470895815176620729919780149544698978798539631561677846809796692632778732864183536822048349068286661342798084438547692491864579865220364686264685862069010494011080606335103902753309390937872989397285969868062051460445450597479597072230869801849111194748173632317596604811123584970359556582467189700918057188063049145776029324135233447613955040566887659042189457443662476960273384738218862932961132081225246292249181012274709916453581006947805827685475286811696980247520539353636514073363446581520176150276578571651853790660559994147527522148446966443118416977531417775098130244714255222778220312929784463129906397936069852332656194242345032378208016840839002882848287006870692137789643229720824799813183414995516286762760985236954356245470419143442439376676575899369326090347485791050424185181402390090135651013992798423303182252071217827232170435029400364859164871881512952141851074922145589728287579425103303585292388740841719000680209893883840389910802025283741323194500688241662466929813036989528675758236219635764858067101104587204351038640820344119303741919140066072028751028484428190826193474688984719702369051320445501408799721691569217897758332595105043532321416885925241446041303560623077258689518674972129945842499219417948297785532430496094954276742487723388065851433414178805024078823425466172743825539584335034634351721314039011369098717269813174707951993372607118699835219006526161886441295698180167991722959186042916411608094390390509984131517310044431399458626896441805295837900799159667315586700907616204456751850815869840665791628671136290862555502714528184298570201693625324277412413760699361803308301487197177305309676248248023765810840715777347570851892495114972485665882281030749879190100278030711616637972109376308324810742317177940818355906589021862526841739646041077313329501849682738613545217667171681797771500919758158157988516516795453825086230995657073071158238365356770880788800577639529783825320407575970076847169396857027162252623858369237561679208625836977630454948356987177757709829846461610162646798759236966581194306448849510878221697240929323777885070565752964537062223085756314235448498242529614164538581969959726518244608745719803747696597612567299452259735760244826680947985883739389570616817182377889401256082168002005389092719367744857203320658017493884576186424554838665314513795274800734035608719534270126060337164701375856048654363901062141826890520582317465610672078956776525628686181445309653339256338396662416000955712007686932949589249825910846415676570992923882803487328258753471155186666206722054572979246442893600343921870796201520523250072204654451487582618961890473068844804303483999366396642610655190893049013485404560360360469240011011713347536476046458763394022107832315925136667331730617881146398709821778446933655516735682939603854785794442372626077220889476925353973617275546840543289180756906050458612444678645647130878947110920140986244975093170293659379622711149695000581604335472900656017553161615699495185070207123889609578885788194288970955562880487396303546156048141003602644267837820772497955089316577697050307744242790217987949328611675006567257757391784647180592414233396219447526439166175911094676431965116177807628683685735366824541594082461383385953477105414301342500742227464965957421471279683678124278184350923741516290477038191814884178486608961520078029229885521933957893168584631851906340246021899921196859231990620400432314343125794539559608742760867056768808296547429360023137195614236317051738638034301970393073367515424275757152285459458785317651887147722777206132341065834491796670608670808398615816038136152094673544478001842472211884202415250864698190759660714039893645424361172333253279626993550957866918466991440793300402444438290143979525960293059615754502253860204762852418030412728436454109645473453040635939345243190063179187763396809409728906720453352270938620981421338562345877950401607794119930833626003763651521986828754741288809053565655561027935633710854030441595395016984152605033095276333322295016290569649885622137420372301757593982599561415284941052664371518494782518475630618284267431812049023389177412517356856121204992157051946535833451332852409168009553896044697360518141763376434636675120162229488010979311308529730337926754890627024664043905160319578625660392391898556193590257726456099435811981285205080500878862470185530315997956401394610695776659572041078784551436284035320626958693980888374452010064952678751869872133337331352034435776840577021320780528054681074736052818658217778550597007633261398926727972566156772125390366471538537798639652164773836417356037929579725384265221099096054297528255212307983676214640717129341774739866764087769390974577027934049893430595565376440871869807758676822670688640431530344638708469614758204128413698678877647007782181428595177319665714154683690111102556270940843292970997556040279856532732679453977038113683997142014620489043681895233853823144075044153113410125196759505154422050262075390157584574656131849644725367211298941533903783232267449386695045124062567298152819395952141832997528394859470535176013876812825511598944640073349829168585586285506001143206071765372098560472283822780107385188020333362922530751836721014716293007336328287886728579328067618325229202022126761063125753028541470126800965319207145879830725869604355355857002571761114332967627595300927380541699243014085490492307543268955868673932578055232204197242219535183574867625815084952641509665052394906405255955607788956533186423967953027196227696471074041257389011495754043222142586324398349346017002557053731629655322364920857640612969758680124818879915120334125317862467262728343084161108972719281631222826251556351372351094800251166232321210274540337495271477904264019643355215254358600749660168513258599263791194225782670280040387779015574145227179218094940888598933287043335498242275778414109752514069040487754025151306980642336935115250706586899319447709318468623760370535199953498960889382897382762377881193757874304578660964273786073984190094788913759856577395841835377022766909288986574495586451282386636577985704560274560972755407030298387863340986990783968423390740969474805440586200139689828880699127257611596274467873359381030090058527611482603719156507285526747346045165728558709276356678084352176816660339629091347398103311356953598212566796086879046730687205988592721139331922178183249655585427450571734150150726929476559643332340733225409598764933545129670623465427621980832165815689588711601966737899546259071786572775380294186574918688314498898824375701038835516629312163742304074203493304616437562863967070315013646494594046118385376414920967821439665341750860313192959493771639297645288314857651994175537606832411446234865635330539602378426045477048549881790165077724188526330678455596471098518955869018342115362511749764901363638256625414099467752094116326740158523458252001799768087097991519502352629886958752475701151136296021900224755298360700007022608897072897489478653009049527799274267042689875114683965188834782938325681076724311189868147609221839943478463790752967755184571871614503036349551043350610027479595663148798236767888846388079865942406222018395833608338569489272569023658875154748115630089742036965038034824795225100438008326222044502716550825886342829429790433609459194550973394372105868874896074207589017931819115109491755154595743392186059289575496288962133426417579412908064210007154123612193194140390535453340883616885419516471761645066134048519994381210055097667794674378346221569845570535128057663913643177796743126812170662687431678319346230943955605967667762876397673499323905994928868876352157232338188728266732000341823798529578286238125481471878675306213463049889915471398523906331460149742384800165808425960962214698300427935151956449261066132529527103002892100803606421159004524041140464728305361660099487976323919177801098094555755297581537004359795973441956913377866237485096825507565109292166262577009556889832441844070403527515813676900891466653638102199899928650874415046044701191043914687096734943849720832864104310414475813464675809306977581776171028446907747183666455900326297311426508016159246767787938430158594869345652392877481044934867758670971406341010783803730994430833381651912147968946686783841973580192317918706524293826271750280207606395167493662932636889454140235451538498585724702065167685821195060965981131629218619008858617117311083064200819568118956350361451019841112618422869738951079281243170520079594734237542574307320739046438143098595598956449659643170642980142089290017698099052023785450245423417925958614497445432015182282430429434104008833373783884339992403550924297000973835650257098048364460921009480932751483676476167416010572717289745587707556298039839457318073963335764790963418296851534574780599462035330741551273524552276067842104840705148824317885585925104715246158792332418666707735627077821841679136789129679434926390510381802045511357155584205184162594438029366506370388059373524373317076813661812535958101447448653463747236170206334216919691177654574518747146165147494596350255927684090688049107546108446776956919483607685388037780287136210934916031699402173724682239130538922333009959121435750920288565264205636314701216952145476835576303646065745885748208475881594077798897381195757236380540846758142496139750369341969491380675381268787603508089477441110294410178440797348004234037528727999318002537909418844910679317313900823024991726967915420068734923544609732413867294707258269127708665363872072341004691475087673932012775397889701947937394492364530097865731226306656944167332705137247099591650599412147691799464798417440702983945312565137433317995567064360452213119605774114761576862547083883994293935869758291313336543569406892188795562376859288844113234094000118050565578181353192076130167472271620968072160538063957055778285652436426493845814716801422198302675822593315317711930213845921616287714628228167503486107623505004568106120246159852554349073656381447515132838887833551373508559397951920873480166827066468160167791279713564106745905410312611308075200617339385117969005181035891913321761379461501891051682927162594340875733802497485695129311445969048253431548897216364386957682428110372844713045531518057033561927231132929431051940787206444360125351717682102772365627363833712073563892031052791523008508105860383388677038703554466042606978932625487023417974857236486966895153180834739782998393827111895420484344177352974337439987931714508746162489553834144977653057947309184883967549433858881784108039886946593086578275729155297354070766025392713924148611403035056824386977957589303914194319220803571673891361412285150058009033071702643249805127741661087494859467848267330889299008531206965835381131654632938163336298493021452473212660893743207015067270273393701857749195544845027493231275537955240438722429342093259247135392953524002157336077604257144319965351177563949991761887133338197691954305276652797892481097727487679652308539244294521299748288901418663189280618455573746039093007595394971013697715080870508292136902621929261370978186830031969110879322132956908616293836927786805335167608490358813817385052124400818350241110964262825169970298767031224599645501009050467750175852745966271828547689773569792172331814893717322190706398396940451521202678264999023362838691390579862127377892759350223156414686651885102563998943845063399119742700287233667310663788962341026115961933305696116742042629711486473636884770820159682075563226578929153221534191938555545489624197819047383267400280695015978998009699944270873231851966929057562105432041512060599796605487849991485671240653953259227374445977277311095003109544550422226846429358004357131974963840121833998020040540317188326992305147050598113267612775535056612810203690086267146205022588417037532136114748012249749951068206043701633730929158994002609667521613577502202864606502562022778340006795075004190398430210897009693306499578939233692385875084752934797699014853404323987358720885520244535890954785312122170322778362997534857054079787207733421075472293475977899797087556321138590318237778328889139476497838330189763971985684758483724519787353744630051193408174858097744266385562412846688755577504185609974460628149150579810720147473955150618693931667164712412677942555977247749209499452111628018663436899052373268980269748284186692547860268725507224021839761233723832899206565669448295773423225935212522905456377694655459345176860636221132245160333575062243977699184708544262631610480380809418903164393076139498023804602430458791486429137820568007487393684492887733340586211919056857363237768973854474412408073811682464508955403704310295060710017028245026193241725899336201207302355165238953352922602002749914244586915933417904873271620887208189395668180826194396413496319007939718740730752896777260180893243235102045964008311259902819065022135331329916642567249012114619278299651672407516867720717815212126542941678340503777828471981294279074204577829277139002370030727876538594875313966328959137546840570026906272224818399417419039758299704389800493085028125210993149271369100205219007703644146920373004494738886544276767254453577674703443127817499612828207452793233365478195612111974228078279757675035824432994256758817168587664196797195337157011982048355232798418434911396237688621840382580932277036799699963758838180005697136492355920377590422541734690273237680807184884543981154685095551863958195487211971732080413729155103982692415074510722292695206242955096143205143965279317760449199730127174453276263438448795175352247342466738098054987567062162389825393421959919026282862287220356567197170695236396118019964924047099539014859045894311469237343866094068041274240640386752867321755847422228245711126381981828690566941884777939430603369221230179183033986093598735629392700693746706730005097345822380429462654612878978014672906275233752181331373686845629411392816682182859418096515404497507375275581139340607919173776254700354650145314213527300791709088987023300744273841622528991317771137144893300431551866995722353562162624035552593697754445190362782090978517009149791572477658249983703653490628571140661416378872244847925060783861938013620778688217243015313641994952270117522855763767501798556477491738020768018842193888463964876930795711844676164782635937732264390577040132574886090758207876309882588722724884948611794233632279599977930696486723736897394492329444247257456507355696772947062750264062477336018432035601532092390337201122372076596563349181216607384280875490769305392829527800723572809855542033780564881600655098928890158029842940181080094285550728175443094019962155030689652130781801894745119011556855663053072447967215742442335054833479236161461566358318447464038534386682511216422984979120367528175891300088718982496631414722881008326928509895623600049566395273838316834742400554844316002260300749526898197931926258217662402926515420443391351272142110634685590038866582739118993973837101136293385247549458822173369677195920464354029768337413716567993897465324167471047931267528745259115825639989075647388552141882615918279169225791653402652388318281340458965112369370800920664272293823419417055756132407718869865795499981924979210206527167823305291405180719044294334022314525104809521237905816065782847807873169585926493270749748080895910289441544955349021440191172487543300700182744308914084996636520410811104299081236664410009933328531913164823590475391196172774351911079226530290799510638639961967544761206593607349386216317828761053545367892695159224899886450121853729039571815365890174826786749228554590583863617047939358865684863427221350877742689572996101891499942862690952412129823782533633951664955471332186073539910031837858548556878552841435375009304761082212167127190725902040986172502136284111389897452524419330962829863679927221412530234153897992261407397110762826016192189598254415314095104610066038168340253724066629312452745904169776752200487125409152581966610050058200810877451943910079220941803328770130040185544082946729056888389281961561207572207180518415819033344472842624960738722165223137914639335122850614878518858009309932072075173296722818481409258553901614304733881045077653599887292910656694573875865502284668696536059723434010793545540041572195094630372543232579392822744584052480061412443471073500656869031452403489458532819374839234215197631571835889553978300671205357382604493148857461803687670147740694201834931260043084067728598045181829840509419286140022078532950072515851734006694402682429940109741076849348325082735662809196699112360981917347293265481019418387087006639623670690042748034958506838836303465627425484968363873171284152645089612902595428121469350728960736498186966240287193856290010334306895633859432552654022631270680717797277958778571004735288631831542091507578278467902765106820945006026126891212234016835316491133413120015103460428682935497183335707389948963595469772121891890492346660536476442753037499102215370950936007014092727685624339238388202026162457036642564126651017384051258803294039886432909818913633611633856550487448136702081795391851681190007256447185226245736688585093442262822745864455564784755171183011950122963209008475966679348119213121402901808281121634056614961300910493612756055655579115631526753332013395285976082105039841692703663475756900680908358786003422422213570397768718680606615900357791162568456716603054772219022650982041802265878179923968828488457171775024752654541622434068050500838926619971060625993861188938219869679827306255358118135680341694154486054665634018585109040002116090126893478754164124830281470984644378790839286942790211559683541999929165626370153777007470957903930629862533134608720974556657646333186252347296976566622781616735001483296694249425609782359549023238557692574630776374152693482903816930319303439531516760787955471666671515706180935162246996632054298427968810109307437530195774632434410108586473236201546197032862052383612153876161233735607438907967442135821563089594504366638942659933518198997337069323757088389499609603749012011435690924530893049509133293720902475793977562535428584461890457151663846860184248942626378057586876967229445997085141550213446192079606677155519318218903005495901938901679865369869397991276656340122101385603885591523735698037732693094010759746327506223964996570343863472386956538279457502121611424758348525262022722253540458636959984193680483955042143140825955008032593319083114894945508139194815005781808616338553454541116457335790005424367288491839264974474706721771818919101827704859652584825024430952093013376345922922946474418773444973461917886898671075314504233676200280847485751224053966257031121614387353474683948600568717913873016591782048153967410109225955836053242763154270155138461203300437309283616362069837080014529992314326750044464904901537965016846315423553089592123021287364700784918273562321814964612129558235401718655162427388910314927423456152468326569072856206070162535159877195379806799961340549196569604763391214082719294909055117393431902361500559420227235633728088717149162482996847599368630278780496585959494283568399373477920987280911592443466503939395252096824772997869131006279562601197271002735034881170358314349520250062700222682419434661372355880690864167047086474256461288170675349819448518816317137465612387185099064699019903529978848621216966430677654496909523483199420649793053149406436109820973355723645687404215370620482383864986429877973348147401563259694122502522304081884292895309273123864903113205198598130374419211930419246448501392194993510864468998580959250694316558897717277884546765492723157444627315505297201064322839105891922689247926966403302045718513115413058747315661278912855702254104379649213788674200180130570570903259335935937345257125664261533234839237321575509994496017202047113966354095216678324366958506716059451818871028724787320530960976598943660876604751003466687521946725001045339812758172272273899826559227329923136427476222071547007416758805077061684092217491499468991980112069324569361631183886115412425595388436905423803601251526696856622766069404895968443596765910663898253715315800544922864900430085746464306553794659063128038762026829687043263142541655246241022657214340415850666224846885249041456508333733925581199065971462294767263594404730933210514800751972217580742490135875955535843264568889395626499955244585453649104400258540931023527963398066396723394739577263855102707097818201911411707466895316919773294026799430539833324019346977883862563801874558029813446853488635171294756478488499001953558841307674872629971694428977852.....................................\r\n\r\nwith number of digits:5051358\r\n\r\nmaximum number to calculate:913999","title":"StackOverflowError computing factorial of a BigInteger?","body":"<p>the way to call itself is not correct, since with extremely large numbers, it thunders due to StackOverflowError, the best thing for extremely large numbers is the factorial of 913, 999, or larger is to loop or while, doesnt call to same program.</p>\n<pre><code>for (   BigInteger i = new BigInteger ( &quot;1&quot; )   ;\n        !salir ;)  {\n if ( i.equals ( n.add ( BigInteger.ONE ))  )\n  salir = true ;\n else\n  result = result.multiply ( i )   ;\n i = i.add ( BigInteger.ONE )   ;\n}\n</code></pre>\n<p>12163485049042206946749724736917423124313249550721376830277183696171338521995973161718744951109676398599505257471162680799380935261770672523463219591124646229445686184968071875683982942570820112489175678513661829460758082038124263825166481377117262325001991144650478480569968642841960583108987251458163697432069329041904326101633320808727776810661412338796229880210758083841624400174632609317649060716767999189276870552125180983803419852432523869333711612352029137346197429403270651602216347392004694801287677671475365282776987118449954715691012108764632855111870536709027203753265093730818738435961569862401300380387004871324946014712363603408837620594183083200826512106498860217202580060173926721200943868734204625188016647392019895587604564553984348534890439288640333995675450432752502952355352296130379477769726508443629506757281394573033085262168863952975220492972812212802900238541794839215759977886734718396604180712625549023656564950153317119250646432632581266433450336751945032103038374494396938850670776140548721222569981739453425081538111070505375605999599798694412707969334355865462390267417390072870282911175422437209711413012757317629395597023109081217329401957532345473528103078477514627356096310762166690954403392635151101986608401691474039100378524129731737251773980269906395294832783306302266127044185772136268063808140742445191130732295414644715433452610681915586235272593117971093147111104189102538176953125223421726877375254012237195790808452247981464480285878781354984780175878496682014473065273384618148543511016905480849075070382227045493871105113920222222171845014760573754065588044064200508876128422530942200976153237845374634950925170803332062323664415954273765806666179561910158025851420039257374225819847320929841979768611843834620743932079508340665874617276766805340532918924070464842985314534360948869034460365716638763104542017603189470478558441910354421869355176285538436228561510332603894875490835086993288456106975341836657803904082120553283859339974091440815233887629443123469486888969984860769442669719077410063613781676911369843309363721135439235892949980815971801740507432256873847329906996784543245754384519082471217651504130032421983345669479141552352889742681591710749079875054324716601643127763716943540472450078238142626725119301672472582048950878458205735676063853933791289083768382829140858938623821815063750035616541805142685143903466007920598739949064898593268731016155668823857672032973249449938169202229040549420649997355676795639871733882538570284834737651640581370087547371621351872784493665812159704137361095026100314516513867366731750395713413885618403765160388999118756130158772722405831284747011446979088037859908219639234926856898339103836259345651182734995109635978258303609054054133949611354686494198694622630820842409378634619506735505101681323027120725599769730403295060858956299033826616916776012495887532429101111275905908775157705362353574071841809921532144160521787901732381503919353107559697968510401097820425026153672958767735635279524102334989019378686994232948427766993318440049078270721817908216836301777547144077732717636446325911200494687214722366176586187463372532460706376249207254265632218770655712392694995553238437811821085275895064877000009331619453402506523751069309636781259783412881164393187570392150525542337810970451636896051276475842684804997916411739675212895856554693938726733735565521699829259311809237265411060847226396154348661661604783089919611801097038976296474943590711080178851902207130372417322809906833398468862225404145092372602600762329113096442976964183513621938030252112940551992349551342267958237346752741784010733968593185894895561995509890619602863850524730888480387888800673971421396930537121946866782839252247235220475301310778867640225811890537838471210849719794576160075083353774308926598845984282732241482605227486992709642383473840014062158346877015806426886619666532059053677112500665318935399403503079489568206873985825616366785577741118741453296836723977149120439942792171325757393723699865726596128186731263936329538811020710204785614485388875854840561326551730234051458809750059646279920911348105033319548906810523831893377477921289039054500008678526957523518399948677617364254754183343107487590403778594738925826092822767831127727428929454521257139753840736092951182917641349503278830294580819179694748862060235872746130018579090701840093245048686908174983822933389691464912014630687084025661138176937594020298842544034367277709751688455684822959748292983966428624098538959919176957501854496207574039819023494994335383254085426173860269513604573012877665145482931528611999131579919323898356103208951725207155903099998631825027642742717992436924104134045650743725968698204004259933350570001466009969516639519241313068956023015461917622746664423441010809814659714060942134911039555577856492617541637336924345159196728185292429992663850538453756906457122160691338515943039730367680310215338908066562837909603148480049985566305955819743906163182333553719743547024192853578881519846805190720893135306012678885156307313466530333962849605521868455008776490930061970160423903489980973753807943851090830337605892630963751104139980179694905406208951612390527249175626684685434471006508249051367941493220665425979276832077444015417764028950063004600209600498998960912548942808887298960054705850046611986884741121574752679085290869294275289430836672696209741722964935699477201535898966276744978610326184169834691334525826005926742831357963621586680484267825952998187203778201843249639326677346266163447899897927936371824498122110277210440924133919953807981684998748519704840657411800157284336617852016551581160349759062838097301655639930088006407527243018911705306356703237848492700563399390378993638665299698961266277327246960377685901211921020953488093116769844657419637987198031897730661035518005428762562296761333592523622916850768444572128909154224862934581785234792156242599760170976510630781860548651847137279683231436662143171425065260669468739062538933834027949399578297059323284108151155288783381471658680023719047776323889967328753842413094915586554497841251603962633951224816286415578182368374962300995444761516797809947880981975494582170926890991614626043345208883060072001202670734734211444135895168575667940511683108556828868349925083108192122182929323872501828909787337833654141964813913199944337669997496689449034099102813731407084863869426412384391484920165518216332264054836468053486743947770285699157870639232517217866631670704013168462139768590347356310961553666286603285728644225586057552841464915998899038795439047436444086889768865209168982417616470493663033470140321314743773893998257347083091600755051323177104011150035127434382501749105860662819276460839161929336527218427705216494031558735254276625959920464110200441485337135574878672914568308474489787331619196232512688908699612850179199366925778186144665483415104028537797647194119555946456819127396464245982489162031688969979240685470895815176620729919780149544698978798539631561677846809796692632778732864183536822048349068286661342798084438547692491864579865220364686264685862069010494011080606335103902753309390937872989397285969868062051460445450597479597072230869801849111194748173632317596604811123584970359556582467189700918057188063049145776029324135233447613955040566887659042189457443662476960273384738218862932961132081225246292249181012274709916453581006947805827685475286811696980247520539353636514073363446581520176150276578571651853790660559994147527522148446966443118416977531417775098130244714255222778220312929784463129906397936069852332656194242345032378208016840839002882848287006870692137789643229720824799813183414995516286762760985236954356245470419143442439376676575899369326090347485791050424185181402390090135651013992798423303182252071217827232170435029400364859164871881512952141851074922145589728287579425103303585292388740841719000680209893883840389910802025283741323194500688241662466929813036989528675758236219635764858067101104587204351038640820344119303741919140066072028751028484428190826193474688984719702369051320445501408799721691569217897758332595105043532321416885925241446041303560623077258689518674972129945842499219417948297785532430496094954276742487723388065851433414178805024078823425466172743825539584335034634351721314039011369098717269813174707951993372607118699835219006526161886441295698180167991722959186042916411608094390390509984131517310044431399458626896441805295837900799159667315586700907616204456751850815869840665791628671136290862555502714528184298570201693625324277412413760699361803308301487197177305309676248248023765810840715777347570851892495114972485665882281030749879190100278030711616637972109376308324810742317177940818355906589021862526841739646041077313329501849682738613545217667171681797771500919758158157988516516795453825086230995657073071158238365356770880788800577639529783825320407575970076847169396857027162252623858369237561679208625836977630454948356987177757709829846461610162646798759236966581194306448849510878221697240929323777885070565752964537062223085756314235448498242529614164538581969959726518244608745719803747696597612567299452259735760244826680947985883739389570616817182377889401256082168002005389092719367744857203320658017493884576186424554838665314513795274800734035608719534270126060337164701375856048654363901062141826890520582317465610672078956776525628686181445309653339256338396662416000955712007686932949589249825910846415676570992923882803487328258753471155186666206722054572979246442893600343921870796201520523250072204654451487582618961890473068844804303483999366396642610655190893049013485404560360360469240011011713347536476046458763394022107832315925136667331730617881146398709821778446933655516735682939603854785794442372626077220889476925353973617275546840543289180756906050458612444678645647130878947110920140986244975093170293659379622711149695000581604335472900656017553161615699495185070207123889609578885788194288970955562880487396303546156048141003602644267837820772497955089316577697050307744242790217987949328611675006567257757391784647180592414233396219447526439166175911094676431965116177807628683685735366824541594082461383385953477105414301342500742227464965957421471279683678124278184350923741516290477038191814884178486608961520078029229885521933957893168584631851906340246021899921196859231990620400432314343125794539559608742760867056768808296547429360023137195614236317051738638034301970393073367515424275757152285459458785317651887147722777206132341065834491796670608670808398615816038136152094673544478001842472211884202415250864698190759660714039893645424361172333253279626993550957866918466991440793300402444438290143979525960293059615754502253860204762852418030412728436454109645473453040635939345243190063179187763396809409728906720453352270938620981421338562345877950401607794119930833626003763651521986828754741288809053565655561027935633710854030441595395016984152605033095276333322295016290569649885622137420372301757593982599561415284941052664371518494782518475630618284267431812049023389177412517356856121204992157051946535833451332852409168009553896044697360518141763376434636675120162229488010979311308529730337926754890627024664043905160319578625660392391898556193590257726456099435811981285205080500878862470185530315997956401394610695776659572041078784551436284035320626958693980888374452010064952678751869872133337331352034435776840577021320780528054681074736052818658217778550597007633261398926727972566156772125390366471538537798639652164773836417356037929579725384265221099096054297528255212307983676214640717129341774739866764087769390974577027934049893430595565376440871869807758676822670688640431530344638708469614758204128413698678877647007782181428595177319665714154683690111102556270940843292970997556040279856532732679453977038113683997142014620489043681895233853823144075044153113410125196759505154422050262075390157584574656131849644725367211298941533903783232267449386695045124062567298152819395952141832997528394859470535176013876812825511598944640073349829168585586285506001143206071765372098560472283822780107385188020333362922530751836721014716293007336328287886728579328067618325229202022126761063125753028541470126800965319207145879830725869604355355857002571761114332967627595300927380541699243014085490492307543268955868673932578055232204197242219535183574867625815084952641509665052394906405255955607788956533186423967953027196227696471074041257389011495754043222142586324398349346017002557053731629655322364920857640612969758680124818879915120334125317862467262728343084161108972719281631222826251556351372351094800251166232321210274540337495271477904264019643355215254358600749660168513258599263791194225782670280040387779015574145227179218094940888598933287043335498242275778414109752514069040487754025151306980642336935115250706586899319447709318468623760370535199953498960889382897382762377881193757874304578660964273786073984190094788913759856577395841835377022766909288986574495586451282386636577985704560274560972755407030298387863340986990783968423390740969474805440586200139689828880699127257611596274467873359381030090058527611482603719156507285526747346045165728558709276356678084352176816660339629091347398103311356953598212566796086879046730687205988592721139331922178183249655585427450571734150150726929476559643332340733225409598764933545129670623465427621980832165815689588711601966737899546259071786572775380294186574918688314498898824375701038835516629312163742304074203493304616437562863967070315013646494594046118385376414920967821439665341750860313192959493771639297645288314857651994175537606832411446234865635330539602378426045477048549881790165077724188526330678455596471098518955869018342115362511749764901363638256625414099467752094116326740158523458252001799768087097991519502352629886958752475701151136296021900224755298360700007022608897072897489478653009049527799274267042689875114683965188834782938325681076724311189868147609221839943478463790752967755184571871614503036349551043350610027479595663148798236767888846388079865942406222018395833608338569489272569023658875154748115630089742036965038034824795225100438008326222044502716550825886342829429790433609459194550973394372105868874896074207589017931819115109491755154595743392186059289575496288962133426417579412908064210007154123612193194140390535453340883616885419516471761645066134048519994381210055097667794674378346221569845570535128057663913643177796743126812170662687431678319346230943955605967667762876397673499323905994928868876352157232338188728266732000341823798529578286238125481471878675306213463049889915471398523906331460149742384800165808425960962214698300427935151956449261066132529527103002892100803606421159004524041140464728305361660099487976323919177801098094555755297581537004359795973441956913377866237485096825507565109292166262577009556889832441844070403527515813676900891466653638102199899928650874415046044701191043914687096734943849720832864104310414475813464675809306977581776171028446907747183666455900326297311426508016159246767787938430158594869345652392877481044934867758670971406341010783803730994430833381651912147968946686783841973580192317918706524293826271750280207606395167493662932636889454140235451538498585724702065167685821195060965981131629218619008858617117311083064200819568118956350361451019841112618422869738951079281243170520079594734237542574307320739046438143098595598956449659643170642980142089290017698099052023785450245423417925958614497445432015182282430429434104008833373783884339992403550924297000973835650257098048364460921009480932751483676476167416010572717289745587707556298039839457318073963335764790963418296851534574780599462035330741551273524552276067842104840705148824317885585925104715246158792332418666707735627077821841679136789129679434926390510381802045511357155584205184162594438029366506370388059373524373317076813661812535958101447448653463747236170206334216919691177654574518747146165147494596350255927684090688049107546108446776956919483607685388037780287136210934916031699402173724682239130538922333009959121435750920288565264205636314701216952145476835576303646065745885748208475881594077798897381195757236380540846758142496139750369341969491380675381268787603508089477441110294410178440797348004234037528727999318002537909418844910679317313900823024991726967915420068734923544609732413867294707258269127708665363872072341004691475087673932012775397889701947937394492364530097865731226306656944167332705137247099591650599412147691799464798417440702983945312565137433317995567064360452213119605774114761576862547083883994293935869758291313336543569406892188795562376859288844113234094000118050565578181353192076130167472271620968072160538063957055778285652436426493845814716801422198302675822593315317711930213845921616287714628228167503486107623505004568106120246159852554349073656381447515132838887833551373508559397951920873480166827066468160167791279713564106745905410312611308075200617339385117969005181035891913321761379461501891051682927162594340875733802497485695129311445969048253431548897216364386957682428110372844713045531518057033561927231132929431051940787206444360125351717682102772365627363833712073563892031052791523008508105860383388677038703554466042606978932625487023417974857236486966895153180834739782998393827111895420484344177352974337439987931714508746162489553834144977653057947309184883967549433858881784108039886946593086578275729155297354070766025392713924148611403035056824386977957589303914194319220803571673891361412285150058009033071702643249805127741661087494859467848267330889299008531206965835381131654632938163336298493021452473212660893743207015067270273393701857749195544845027493231275537955240438722429342093259247135392953524002157336077604257144319965351177563949991761887133338197691954305276652797892481097727487679652308539244294521299748288901418663189280618455573746039093007595394971013697715080870508292136902621929261370978186830031969110879322132956908616293836927786805335167608490358813817385052124400818350241110964262825169970298767031224599645501009050467750175852745966271828547689773569792172331814893717322190706398396940451521202678264999023362838691390579862127377892759350223156414686651885102563998943845063399119742700287233667310663788962341026115961933305696116742042629711486473636884770820159682075563226578929153221534191938555545489624197819047383267400280695015978998009699944270873231851966929057562105432041512060599796605487849991485671240653953259227374445977277311095003109544550422226846429358004357131974963840121833998020040540317188326992305147050598113267612775535056612810203690086267146205022588417037532136114748012249749951068206043701633730929158994002609667521613577502202864606502562022778340006795075004190398430210897009693306499578939233692385875084752934797699014853404323987358720885520244535890954785312122170322778362997534857054079787207733421075472293475977899797087556321138590318237778328889139476497838330189763971985684758483724519787353744630051193408174858097744266385562412846688755577504185609974460628149150579810720147473955150618693931667164712412677942555977247749209499452111628018663436899052373268980269748284186692547860268725507224021839761233723832899206565669448295773423225935212522905456377694655459345176860636221132245160333575062243977699184708544262631610480380809418903164393076139498023804602430458791486429137820568007487393684492887733340586211919056857363237768973854474412408073811682464508955403704310295060710017028245026193241725899336201207302355165238953352922602002749914244586915933417904873271620887208189395668180826194396413496319007939718740730752896777260180893243235102045964008311259902819065022135331329916642567249012114619278299651672407516867720717815212126542941678340503777828471981294279074204577829277139002370030727876538594875313966328959137546840570026906272224818399417419039758299704389800493085028125210993149271369100205219007703644146920373004494738886544276767254453577674703443127817499612828207452793233365478195612111974228078279757675035824432994256758817168587664196797195337157011982048355232798418434911396237688621840382580932277036799699963758838180005697136492355920377590422541734690273237680807184884543981154685095551863958195487211971732080413729155103982692415074510722292695206242955096143205143965279317760449199730127174453276263438448795175352247342466738098054987567062162389825393421959919026282862287220356567197170695236396118019964924047099539014859045894311469237343866094068041274240640386752867321755847422228245711126381981828690566941884777939430603369221230179183033986093598735629392700693746706730005097345822380429462654612878978014672906275233752181331373686845629411392816682182859418096515404497507375275581139340607919173776254700354650145314213527300791709088987023300744273841622528991317771137144893300431551866995722353562162624035552593697754445190362782090978517009149791572477658249983703653490628571140661416378872244847925060783861938013620778688217243015313641994952270117522855763767501798556477491738020768018842193888463964876930795711844676164782635937732264390577040132574886090758207876309882588722724884948611794233632279599977930696486723736897394492329444247257456507355696772947062750264062477336018432035601532092390337201122372076596563349181216607384280875490769305392829527800723572809855542033780564881600655098928890158029842940181080094285550728175443094019962155030689652130781801894745119011556855663053072447967215742442335054833479236161461566358318447464038534386682511216422984979120367528175891300088718982496631414722881008326928509895623600049566395273838316834742400554844316002260300749526898197931926258217662402926515420443391351272142110634685590038866582739118993973837101136293385247549458822173369677195920464354029768337413716567993897465324167471047931267528745259115825639989075647388552141882615918279169225791653402652388318281340458965112369370800920664272293823419417055756132407718869865795499981924979210206527167823305291405180719044294334022314525104809521237905816065782847807873169585926493270749748080895910289441544955349021440191172487543300700182744308914084996636520410811104299081236664410009933328531913164823590475391196172774351911079226530290799510638639961967544761206593607349386216317828761053545367892695159224899886450121853729039571815365890174826786749228554590583863617047939358865684863427221350877742689572996101891499942862690952412129823782533633951664955471332186073539910031837858548556878552841435375009304761082212167127190725902040986172502136284111389897452524419330962829863679927221412530234153897992261407397110762826016192189598254415314095104610066038168340253724066629312452745904169776752200487125409152581966610050058200810877451943910079220941803328770130040185544082946729056888389281961561207572207180518415819033344472842624960738722165223137914639335122850614878518858009309932072075173296722818481409258553901614304733881045077653599887292910656694573875865502284668696536059723434010793545540041572195094630372543232579392822744584052480061412443471073500656869031452403489458532819374839234215197631571835889553978300671205357382604493148857461803687670147740694201834931260043084067728598045181829840509419286140022078532950072515851734006694402682429940109741076849348325082735662809196699112360981917347293265481019418387087006639623670690042748034958506838836303465627425484968363873171284152645089612902595428121469350728960736498186966240287193856290010334306895633859432552654022631270680717797277958778571004735288631831542091507578278467902765106820945006026126891212234016835316491133413120015103460428682935497183335707389948963595469772121891890492346660536476442753037499102215370950936007014092727685624339238388202026162457036642564126651017384051258803294039886432909818913633611633856550487448136702081795391851681190007256447185226245736688585093442262822745864455564784755171183011950122963209008475966679348119213121402901808281121634056614961300910493612756055655579115631526753332013395285976082105039841692703663475756900680908358786003422422213570397768718680606615900357791162568456716603054772219022650982041802265878179923968828488457171775024752654541622434068050500838926619971060625993861188938219869679827306255358118135680341694154486054665634018585109040002116090126893478754164124830281470984644378790839286942790211559683541999929165626370153777007470957903930629862533134608720974556657646333186252347296976566622781616735001483296694249425609782359549023238557692574630776374152693482903816930319303439531516760787955471666671515706180935162246996632054298427968810109307437530195774632434410108586473236201546197032862052383612153876161233735607438907967442135821563089594504366638942659933518198997337069323757088389499609603749012011435690924530893049509133293720902475793977562535428584461890457151663846860184248942626378057586876967229445997085141550213446192079606677155519318218903005495901938901679865369869397991276656340122101385603885591523735698037732693094010759746327506223964996570343863472386956538279457502121611424758348525262022722253540458636959984193680483955042143140825955008032593319083114894945508139194815005781808616338553454541116457335790005424367288491839264974474706721771818919101827704859652584825024430952093013376345922922946474418773444973461917886898671075314504233676200280847485751224053966257031121614387353474683948600568717913873016591782048153967410109225955836053242763154270155138461203300437309283616362069837080014529992314326750044464904901537965016846315423553089592123021287364700784918273562321814964612129558235401718655162427388910314927423456152468326569072856206070162535159877195379806799961340549196569604763391214082719294909055117393431902361500559420227235633728088717149162482996847599368630278780496585959494283568399373477920987280911592443466503939395252096824772997869131006279562601197271002735034881170358314349520250062700222682419434661372355880690864167047086474256461288170675349819448518816317137465612387185099064699019903529978848621216966430677654496909523483199420649793053149406436109820973355723645687404215370620482383864986429877973348147401563259694122502522304081884292895309273123864903113205198598130374419211930419246448501392194993510864468998580959250694316558897717277884546765492723157444627315505297201064322839105891922689247926966403302045718513115413058747315661278912855702254104379649213788674200180130570570903259335935937345257125664261533234839237321575509994496017202047113966354095216678324366958506716059451818871028724787320530960976598943660876604751003466687521946725001045339812758172272273899826559227329923136427476222071547007416758805077061684092217491499468991980112069324569361631183886115412425595388436905423803601251526696856622766069404895968443596765910663898253715315800544922864900430085746464306553794659063128038762026829687043263142541655246241022657214340415850666224846885249041456508333733925581199065971462294767263594404730933210514800751972217580742490135875955535843264568889395626499955244585453649104400258540931023527963398066396723394739577263855102707097818201911411707466895316919773294026799430539833324019346977883862563801874558029813446853488635171294756478488499001953558841307674872629971694428977852.....................................</p>\n<p>with number of digits:5051358</p>\n<p>maximum number to calculate:913999</p>\n"}],"owner":{"account_id":277620,"reputation":10448,"user_id":571718,"accept_rate":73,"display_name":"Vinoth Kumar C M"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18335,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":8992471,"answer_count":6,"score":16,"last_activity_date":1678904730,"creation_date":1327431475,"question_id":8992437,"body_markdown":"I am trying to write a Java program to calculate factorial of a large number. It seems `BigInteger` is not able to hold such a large number.\r\n\r\nThe below is the (straightforward) code I wrote.\r\n\r\n     public static BigInteger getFactorial(BigInteger num) {\r\n          if (num.intValue() == 0) return BigInteger.valueOf(1);\r\n\r\n          if (num.intValue() == 1) return BigInteger.valueOf(1);\r\n\r\n          return num.multiply(getFactorial(num.subtract(BigInteger.valueOf(1))));\r\n      }\r\n\r\n\r\nThe maximum number the above program handles in 5022, after that the program throws a `StackOverflowError`. Are there any other ways to handle it?\r\n         ","title":"StackOverflowError computing factorial of a BigInteger?","body":"<p>I am trying to write a Java program to calculate factorial of a large number. It seems <code>BigInteger</code> is not able to hold such a large number.</p>\n\n<p>The below is the (straightforward) code I wrote.</p>\n\n<pre><code> public static BigInteger getFactorial(BigInteger num) {\n      if (num.intValue() == 0) return BigInteger.valueOf(1);\n\n      if (num.intValue() == 1) return BigInteger.valueOf(1);\n\n      return num.multiply(getFactorial(num.subtract(BigInteger.valueOf(1))));\n  }\n</code></pre>\n\n<p>The maximum number the above program handles in 5022, after that the program throws a <code>StackOverflowError</code>. Are there any other ways to handle it?</p>\n"},{"tags":["java","jakarta-ee","init"],"answers":[{"comments":[{"owner":{"account_id":4133167,"reputation":4169,"user_id":3390466,"accept_rate":100,"display_name":"Victor2748"},"score":0,"creation_date":1413941820,"post_id":26499072,"comment_id":41630693,"body_markdown":"What method should be called? When will it be called? on startup, or first request?","body":"What method should be called? When will it be called? on startup, or first request?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1413941898,"post_id":26499072,"comment_id":41630712,"body_markdown":"Upon loading of the context (i.e. at startup or deployment)","body":"Upon loading of the context (i.e. at startup or deployment)"}],"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1413944670,"creation_date":1413941758,"answer_id":26499072,"question_id":26499064,"body_markdown":"Have a class that \r\n\r\n    implements ServletContextListener\r\n\r\nand in your web.xml\r\n\r\n    &lt;listener&gt;\r\n\t    &lt;listener-class&gt; myPackage.MyServletContextListener &lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\nsee http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContextListener.html\r\n\r\nand override\r\n\r\n    void contextInitialized(ServletContextEvent sce)","title":"Java Web Application on startup","body":"<p>Have a class that </p>\n\n<pre><code>implements ServletContextListener\n</code></pre>\n\n<p>and in your web.xml</p>\n\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt; myPackage.MyServletContextListener &lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n\n<p>see <a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContextListener.html\" rel=\"noreferrer\">http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContextListener.html</a></p>\n\n<p>and override</p>\n\n<pre><code>void contextInitialized(ServletContextEvent sce)\n</code></pre>\n"}],"owner":{"account_id":4133167,"reputation":4169,"user_id":3390466,"accept_rate":100,"display_name":"Victor2748"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1225,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":26499072,"answer_count":1,"score":3,"last_activity_date":1678904463,"creation_date":1413941659,"question_id":26499064,"body_markdown":"Is there a way to execute java code, when a Java EE (Java web project) starts up (or receives a first request)? I know that servlets have `init()` methods, but is there such method for an entire application?","title":"Java Web Application on startup","body":"<p>Is there a way to execute java code, when a Java EE (Java web project) starts up (or receives a first request)? I know that servlets have <code>init()</code> methods, but is there such method for an entire application?</p>\n"},{"tags":["java","gradle"],"answers":[{"comments":[{"owner":{"account_id":19912683,"reputation":346,"user_id":14590393,"display_name":"Shehan DMG"},"score":0,"creation_date":1678954014,"post_id":71796288,"comment_id":133633545,"body_markdown":"do i have to clean gradle cache after adding this line when i build again?","body":"do i have to clean gradle cache after adding this line when i build again?"}],"tags":[],"owner":{"account_id":4234413,"reputation":1351,"user_id":3650662,"accept_rate":75,"display_name":"helencrump"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677847279,"creation_date":1649417593,"answer_id":71796288,"question_id":71740807,"body_markdown":"I&#39;ve solved this by adding the JVM arguments `-XX:ThreadStackSize=4096 -XX:CompilerThreadStackSize=4096` to my `gradle.properties` file:\r\n```\r\norg.gradle.jvmargs=-Xmx2048m -Xms2048m -XX:ThreadStackSize=4096 -XX:CompilerThreadStackSize=4096\r\n```\r\n\r\nRunning `java -XX:+PrintFlagsFinal -version | grep ThreadStackSize` on my machine gave me the default values (`1024`) for each of these settings, and upping them has sorted out my problem.","title":"Gradle 7 StackOverflowError when building","body":"<p>I've solved this by adding the JVM arguments <code>-XX:ThreadStackSize=4096 -XX:CompilerThreadStackSize=4096</code> to my <code>gradle.properties</code> file:</p>\n<pre><code>org.gradle.jvmargs=-Xmx2048m -Xms2048m -XX:ThreadStackSize=4096 -XX:CompilerThreadStackSize=4096\n</code></pre>\n<p>Running <code>java -XX:+PrintFlagsFinal -version | grep ThreadStackSize</code> on my machine gave me the default values (<code>1024</code>) for each of these settings, and upping them has sorted out my problem.</p>\n"}],"owner":{"account_id":4234413,"reputation":1351,"user_id":3650662,"accept_rate":75,"display_name":"helencrump"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10322,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71796288,"answer_count":1,"score":4,"last_activity_date":1678904388,"creation_date":1649090506,"question_id":71740807,"body_markdown":"I&#39;ve got a large Gradle project that I&#39;m attempting to upgrade from Gradle 6 to Gradle 7.4.2. After the upgrade, I see inconsistent `StackOverflowError`s when running `gradle build` - sometimes the command is successful and sometimes it&#39;s not.\r\n\r\nError:\r\n```\r\n&gt; Task :compileJava FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:compileJava&#39;.\r\n&gt; Multiple build operations failed.\r\n      null\r\n      null\r\n      null\r\n      null\r\n   &gt; java.lang.StackOverflowError (no error message)\r\n   &gt; java.lang.StackOverflowError (no error message)\r\n   &gt; java.lang.StackOverflowError (no error message)\r\n   &gt; java.lang.StackOverflowError (no error message)\r\n```\r\n\r\nStack trace:\r\n```\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:compileJava&#39;.\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:38)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: org.gradle.internal.operations.MultipleBuildOperationFailures: Multiple build operations failed.\r\n    null\r\n    null\r\n    null\r\n    null\r\n        at org.gradle.internal.operations.DefaultBuildOperationQueue.markFinished(DefaultBuildOperationQueue.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationQueue.lambda$waitForWorkToComplete$0(DefaultBuildOperationQueue.java:147)\r\n        at org.gradle.internal.work.DefaultWorkerLeaseService.blocking(DefaultWorkerLeaseService.java:223)\r\n        at org.gradle.internal.operations.DefaultBuildOperationQueue.waitForWorkToComplete(DefaultBuildOperationQueue.java:135)\r\n        at org.gradle.internal.operations.DefaultBuildOperationQueue.waitForCompletion(DefaultBuildOperationQueue.java:106)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.executeInParallel(DefaultBuildOperationExecutor.java:143)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.runAll(DefaultBuildOperationExecutor.java:102)\r\n        at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ParallelResolveArtifactSet$VisitingSet.visit(ParallelResolveArtifactSet.java:66)\r\n        at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.visitArtifacts(DefaultLenientConfiguration.java:296)\r\n        at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.access$500(DefaultLenientConfiguration.java:74)\r\n        at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$3.run(DefaultLenientConfiguration.java:244)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n        at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.visitArtifactsWithBuildOperation(DefaultLenientConfiguration.java:241)\r\n        at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.access$200(DefaultLenientConfiguration.java:74)\r\n        at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$2.visitArtifacts(DefaultLenientConfiguration.java:144)\r\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.visitContents(DefaultConfiguration.java:1473)\r\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.visitContents(DefaultConfiguration.java:509)\r\n        at org.gradle.api.internal.file.AbstractFileCollection.visitStructure(AbstractFileCollection.java:351)\r\n        at org.gradle.api.internal.file.CompositeFileCollection.lambda$visitContents$0(CompositeFileCollection.java:119)\r\n        at org.gradle.api.internal.file.collections.UnpackingVisitor.add(UnpackingVisitor.java:64)\r\n        at org.gradle.api.internal.file.collections.UnpackingVisitor.add(UnpackingVisitor.java:89)\r\n        at org.gradle.api.internal.file.DefaultFileCollectionFactory$ResolvingFileCollection.visitChildren(DefaultFileCollectionFactory.java:333)\r\n        at org.gradle.api.internal.file.CompositeFileCollection.visitContents(CompositeFileCollection.java:119)\r\n        at org.gradle.api.internal.file.AbstractFileCollection.visitStructure(AbstractFileCollection.java:351)\r\n        at org.gradle.api.internal.file.CompositeFileCollection.lambda$visitContents$0(CompositeFileCollection.java:119)\r\n        at org.gradle.api.internal.tasks.PropertyFileCollection.visitChildren(PropertyFileCollection.java:48)\r\n        at org.gradle.api.internal.file.CompositeFileCollection.visitContents(CompositeFileCollection.java:119)\r\n        at org.gradle.api.internal.file.AbstractFileCollection.visitStructure(AbstractFileCollection.java:351)\r\n        at org.gradle.internal.fingerprint.impl.DefaultFileCollectionSnapshotter.snapshot(DefaultFileCollectionSnapshotter.java:51)\r\n        at org.gradle.internal.execution.fingerprint.impl.DefaultInputFingerprinter$InputCollectingVisitor.visitInputFileProperty(DefaultInputFingerprinter.java:131)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution.visitRegularInputs(TaskExecution.java:328)\r\n        at org.gradle.internal.execution.fingerprint.impl.DefaultInputFingerprinter.fingerprintInputProperties(DefaultInputFingerprinter.java:61)\r\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.captureExecutionStateWithOutputs(CaptureStateBeforeExecutionStep.java:193)\r\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.lambda$captureExecutionState$1(CaptureStateBeforeExecutionStep.java:141)\r\n        at org.gradle.internal.execution.steps.BuildOperationStep$1.call(BuildOperationStep.java:37)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.internal.execution.steps.BuildOperationStep.operation(BuildOperationStep.java:34)\r\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.captureExecutionState(CaptureStateBeforeExecutionStep.java:130)\r\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.lambda$execute$0(CaptureStateBeforeExecutionStep.java:75)\r\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:75)\r\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:204)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:83)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\r\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n        at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCause 1: java.lang.StackOverflowError\r\n        at org.gradle.internal.component.model.ImmutableModuleSources.getSource(ImmutableModuleSources.java:79)\r\n        at org.gradle.internal.component.model.ImmutableModuleSources.getSource(ImmutableModuleSources.java:83)\r\n...\r\n        at org.gradle.internal.component.model.ImmutableModuleSources.getSource(ImmutableModuleSources.java:83)\r\n        at org.gradle.internal.component.model.ImmutableModuleSources.getSource(ImmutableModuleSources.java:83)\r\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.CachingModuleComponentRepository.findCachingModuleSource(CachingModuleComponentRepository.java:363)\r\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.CachingModuleComponentRepository.access$1100(CachingModuleComponentRepository.java:79)\r\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.CachingModuleComponentRepository$LocateInCacheRepositoryAccess.resolveArtifactFromCache(CachingModuleComponentRepository.java:335)\r\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.CachingModuleComponentRepository$LocateInCacheRepositoryAccess.resolveArtifact(CachingModuleComponentRepository.java:300)\r\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ErrorHandlingModuleComponentRepository$ErrorHandlingModuleComponentRepositoryAccess.lambda$resolveArtifact$15(ErrorHandlingModuleComponentRepository.java:181)\r\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ErrorHandlingModuleComponentRepository$ErrorHandlingModuleComponentRepositoryAccess.tryResolveAndMaybeBlacklist(ErrorHandlingModuleComponentRepository.java:237)\r\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ErrorHandlingModuleComponentRepository$ErrorHandlingModuleComponentRepositoryAccess.performOperationWithRetries(ErrorHandlingModuleComponentRepository.java:203)\r\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ErrorHandlingModuleComponentRepository$ErrorHandlingModuleComponentRepositoryAccess.resolveArtifact(ErrorHandlingModuleComponentRepository.java:179)\r\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainArtifactResolver.resolveArtifact(RepositoryChainArtifactResolver.java:100)\r\n        at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.DefaultArtifactSet$LazyArtifactSupplier.calculateValue(DefaultArtifactSet.java:284)\r\n        at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.DefaultArtifactSet$LazyArtifactSupplier.calculateValue(DefaultArtifactSet.java:255)\r\n        at org.gradle.internal.model.CalculatedValueContainer$CalculationState.lambda$attachValue$0(CalculatedValueContainer.java:218)\r\n        at org.gradle.internal.Try.ofFailable(Try.java:41)\r\n        at org.gradle.internal.model.CalculatedValueContainer$CalculationState.attachValue(CalculatedValueContainer.java:213)\r\n        at org.gradle.internal.model.CalculatedValueContainer.finalizeIfNotAlready(CalculatedValueContainer.java:186)\r\n        at org.gradle.internal.model.CalculatedValueContainer.finalizeIfNotAlready(CalculatedValueContainer.java:177)\r\n        at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ArtifactBackedResolvedVariant$DownloadArtifactFile.run(ArtifactBackedResolvedVariant.java:182)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$QueueWorker.execute(DefaultBuildOperationExecutor.java:238)\r\n        at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.runOperation(DefaultBuildOperationQueue.java:266)\r\n        at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.doRunBatch(DefaultBuildOperationQueue.java:247)\r\n        at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.lambda$runBatch$0(DefaultBuildOperationQueue.java:237)\r\n        at org.gradle.internal.resources.AbstractResourceLockRegistry.whileDisallowingLockChanges(AbstractResourceLockRegistry.java:69)\r\n        at org.gradle.internal.work.DefaultWorkerLeaseService.whileDisallowingProjectLockChanges(DefaultWorkerLeaseService.java:242)\r\n        at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.lambda$runBatch$1(DefaultBuildOperationQueue.java:237)\r\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n        at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\r\n        at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.runBatch(DefaultBuildOperationQueue.java:223)\r\n        at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.run(DefaultBuildOperationQueue.java:191)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n`build.gradle` file:\r\n```\r\nplugins {\r\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;7.1.0&quot;\r\n    id &quot;io.ratpack.ratpack-java&quot; version &quot;1.8.0&quot;\r\n    id &quot;idea&quot;\r\n    id &quot;eclipse&quot;\r\n    id &quot;jacoco&quot;\r\n    id &quot;java&quot;\r\n}\r\n\r\next {\r\n    applicationName = &quot;my-application&quot;\r\n}\r\n\r\nsourceCompatibility = JavaVersion.VERSION_11\r\ntargetCompatibility = JavaVersion.VERSION_11\r\n\r\napplicationDefaultJvmArgs = [\r\n        &quot;-Dapplication.home=.&quot;, &quot;-Dapplication.name=$project.name&quot;, &quot;-Dapplication.environment=dev&quot;,\r\n]\r\n\r\ndependencies {\r\n    &lt;redacted&gt;\r\n}\r\n\r\nmainClassName = &quot;com.myApp.MainClass&quot;\r\n\r\narchivesBaseName = applicationName\r\n\r\njar {\r\n    manifest {\r\n        attributes(\r\n                &quot;Application-Name&quot;: applicationName,\r\n                &lt;redacted&gt;\r\n                &quot;Main-Class&quot;: &quot;com.myApp.MainClass&quot;\r\n        )\r\n    }\r\n}\r\n\r\nshadowJar {\r\n    // TODO: uncomment this config once https://github.com/johnrengelman/shadow/issues/751 is resolved\r\n    // archiveClassifier.set(&quot;&quot;)\r\n    archiveVersion.set(&quot;&quot;)\r\n    archiveBaseName.set(applicationName)\r\n}\r\n\r\ntest {\r\n    useTestNG { TestNGOptions options -&gt;\r\n        maxParallelForks = Runtime.runtime.availableProcessors().intdiv(2) ?: 1\r\n        options.useDefaultListeners = true\r\n        options.threadCount(Runtime.runtime.availableProcessors().intdiv(2) ?: 1)\r\n        options.parallel(&quot;tests&quot;)\r\n    }\r\n\r\n    finalizedBy jacocoTestReport\r\n}\r\n\r\njacocoTestReport { JacocoReport report -&gt;\r\n    report.reports { JacocoReportsContainer reports -&gt;\r\n        reports.xml.required = true\r\n        reports.csv.required = true\r\n        reports.html.required = true\r\n    }\r\n}\r\n\r\njacocoTestCoverageVerification {\r\n    violationRules {\r\n        rule {\r\n            enabled = true\r\n            limit {\r\n                minimum = 0.9\r\n                counter = &quot;CLASS&quot;\r\n                value = &quot;COVEREDRATIO&quot;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n// https://github.com/johnrengelman/shadow/issues/713\r\ndistTar.dependsOn shadowJar\r\ndistZip.dependsOn shadowJar\r\nstartScripts.dependsOn shadowJar\r\nstartShadowScripts.dependsOn jar\r\nshadowDistTar.dependsOn jar\r\nshadowDistZip.dependsOn jar\r\n```\r\n\r\n`gradle.properties` file:\r\n```\r\norg.gradle.caching=true\r\norg.gradle.parallel=true\r\norg.gradle.jvmargs=-Xmx2048m -Xms2048m\r\norg.gradle.vfs.watch=true\r\n```\r\n\r\nDoes anyone have any tips or recommendations for working out what might be causing this problem?","title":"Gradle 7 StackOverflowError when building","body":"<p>I've got a large Gradle project that I'm attempting to upgrade from Gradle 6 to Gradle 7.4.2. After the upgrade, I see inconsistent <code>StackOverflowError</code>s when running <code>gradle build</code> - sometimes the command is successful and sometimes it's not.</p>\n<p>Error:</p>\n<pre><code>&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Multiple build operations failed.\n      null\n      null\n      null\n      null\n   &gt; java.lang.StackOverflowError (no error message)\n   &gt; java.lang.StackOverflowError (no error message)\n   &gt; java.lang.StackOverflowError (no error message)\n   &gt; java.lang.StackOverflowError (no error message)\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':compileJava'.\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:38)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.internal.operations.MultipleBuildOperationFailures: Multiple build operations failed.\n    null\n    null\n    null\n    null\n        at org.gradle.internal.operations.DefaultBuildOperationQueue.markFinished(DefaultBuildOperationQueue.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationQueue.lambda$waitForWorkToComplete$0(DefaultBuildOperationQueue.java:147)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.blocking(DefaultWorkerLeaseService.java:223)\n        at org.gradle.internal.operations.DefaultBuildOperationQueue.waitForWorkToComplete(DefaultBuildOperationQueue.java:135)\n        at org.gradle.internal.operations.DefaultBuildOperationQueue.waitForCompletion(DefaultBuildOperationQueue.java:106)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.executeInParallel(DefaultBuildOperationExecutor.java:143)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.runAll(DefaultBuildOperationExecutor.java:102)\n        at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ParallelResolveArtifactSet$VisitingSet.visit(ParallelResolveArtifactSet.java:66)\n        at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.visitArtifacts(DefaultLenientConfiguration.java:296)\n        at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.access$500(DefaultLenientConfiguration.java:74)\n        at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$3.run(DefaultLenientConfiguration.java:244)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n        at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.visitArtifactsWithBuildOperation(DefaultLenientConfiguration.java:241)\n        at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.access$200(DefaultLenientConfiguration.java:74)\n        at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$2.visitArtifacts(DefaultLenientConfiguration.java:144)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.visitContents(DefaultConfiguration.java:1473)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.visitContents(DefaultConfiguration.java:509)\n        at org.gradle.api.internal.file.AbstractFileCollection.visitStructure(AbstractFileCollection.java:351)\n        at org.gradle.api.internal.file.CompositeFileCollection.lambda$visitContents$0(CompositeFileCollection.java:119)\n        at org.gradle.api.internal.file.collections.UnpackingVisitor.add(UnpackingVisitor.java:64)\n        at org.gradle.api.internal.file.collections.UnpackingVisitor.add(UnpackingVisitor.java:89)\n        at org.gradle.api.internal.file.DefaultFileCollectionFactory$ResolvingFileCollection.visitChildren(DefaultFileCollectionFactory.java:333)\n        at org.gradle.api.internal.file.CompositeFileCollection.visitContents(CompositeFileCollection.java:119)\n        at org.gradle.api.internal.file.AbstractFileCollection.visitStructure(AbstractFileCollection.java:351)\n        at org.gradle.api.internal.file.CompositeFileCollection.lambda$visitContents$0(CompositeFileCollection.java:119)\n        at org.gradle.api.internal.tasks.PropertyFileCollection.visitChildren(PropertyFileCollection.java:48)\n        at org.gradle.api.internal.file.CompositeFileCollection.visitContents(CompositeFileCollection.java:119)\n        at org.gradle.api.internal.file.AbstractFileCollection.visitStructure(AbstractFileCollection.java:351)\n        at org.gradle.internal.fingerprint.impl.DefaultFileCollectionSnapshotter.snapshot(DefaultFileCollectionSnapshotter.java:51)\n        at org.gradle.internal.execution.fingerprint.impl.DefaultInputFingerprinter$InputCollectingVisitor.visitInputFileProperty(DefaultInputFingerprinter.java:131)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.visitRegularInputs(TaskExecution.java:328)\n        at org.gradle.internal.execution.fingerprint.impl.DefaultInputFingerprinter.fingerprintInputProperties(DefaultInputFingerprinter.java:61)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.captureExecutionStateWithOutputs(CaptureStateBeforeExecutionStep.java:193)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.lambda$captureExecutionState$1(CaptureStateBeforeExecutionStep.java:141)\n        at org.gradle.internal.execution.steps.BuildOperationStep$1.call(BuildOperationStep.java:37)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.internal.execution.steps.BuildOperationStep.operation(BuildOperationStep.java:34)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.captureExecutionState(CaptureStateBeforeExecutionStep.java:130)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.lambda$execute$0(CaptureStateBeforeExecutionStep.java:75)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:75)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:204)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:83)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n        at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n        at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCause 1: java.lang.StackOverflowError\n        at org.gradle.internal.component.model.ImmutableModuleSources.getSource(ImmutableModuleSources.java:79)\n        at org.gradle.internal.component.model.ImmutableModuleSources.getSource(ImmutableModuleSources.java:83)\n...\n        at org.gradle.internal.component.model.ImmutableModuleSources.getSource(ImmutableModuleSources.java:83)\n        at org.gradle.internal.component.model.ImmutableModuleSources.getSource(ImmutableModuleSources.java:83)\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.CachingModuleComponentRepository.findCachingModuleSource(CachingModuleComponentRepository.java:363)\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.CachingModuleComponentRepository.access$1100(CachingModuleComponentRepository.java:79)\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.CachingModuleComponentRepository$LocateInCacheRepositoryAccess.resolveArtifactFromCache(CachingModuleComponentRepository.java:335)\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.CachingModuleComponentRepository$LocateInCacheRepositoryAccess.resolveArtifact(CachingModuleComponentRepository.java:300)\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ErrorHandlingModuleComponentRepository$ErrorHandlingModuleComponentRepositoryAccess.lambda$resolveArtifact$15(ErrorHandlingModuleComponentRepository.java:181)\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ErrorHandlingModuleComponentRepository$ErrorHandlingModuleComponentRepositoryAccess.tryResolveAndMaybeBlacklist(ErrorHandlingModuleComponentRepository.java:237)\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ErrorHandlingModuleComponentRepository$ErrorHandlingModuleComponentRepositoryAccess.performOperationWithRetries(ErrorHandlingModuleComponentRepository.java:203)\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ErrorHandlingModuleComponentRepository$ErrorHandlingModuleComponentRepositoryAccess.resolveArtifact(ErrorHandlingModuleComponentRepository.java:179)\n        at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainArtifactResolver.resolveArtifact(RepositoryChainArtifactResolver.java:100)\n        at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.DefaultArtifactSet$LazyArtifactSupplier.calculateValue(DefaultArtifactSet.java:284)\n        at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.DefaultArtifactSet$LazyArtifactSupplier.calculateValue(DefaultArtifactSet.java:255)\n        at org.gradle.internal.model.CalculatedValueContainer$CalculationState.lambda$attachValue$0(CalculatedValueContainer.java:218)\n        at org.gradle.internal.Try.ofFailable(Try.java:41)\n        at org.gradle.internal.model.CalculatedValueContainer$CalculationState.attachValue(CalculatedValueContainer.java:213)\n        at org.gradle.internal.model.CalculatedValueContainer.finalizeIfNotAlready(CalculatedValueContainer.java:186)\n        at org.gradle.internal.model.CalculatedValueContainer.finalizeIfNotAlready(CalculatedValueContainer.java:177)\n        at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ArtifactBackedResolvedVariant$DownloadArtifactFile.run(ArtifactBackedResolvedVariant.java:182)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$QueueWorker.execute(DefaultBuildOperationExecutor.java:238)\n        at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.runOperation(DefaultBuildOperationQueue.java:266)\n        at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.doRunBatch(DefaultBuildOperationQueue.java:247)\n        at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.lambda$runBatch$0(DefaultBuildOperationQueue.java:237)\n        at org.gradle.internal.resources.AbstractResourceLockRegistry.whileDisallowingLockChanges(AbstractResourceLockRegistry.java:69)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.whileDisallowingProjectLockChanges(DefaultWorkerLeaseService.java:242)\n        at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.lambda$runBatch$1(DefaultBuildOperationQueue.java:237)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\n        at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.runBatch(DefaultBuildOperationQueue.java:223)\n        at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.run(DefaultBuildOperationQueue.java:191)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p><code>build.gradle</code> file:</p>\n<pre><code>plugins {\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;7.1.0&quot;\n    id &quot;io.ratpack.ratpack-java&quot; version &quot;1.8.0&quot;\n    id &quot;idea&quot;\n    id &quot;eclipse&quot;\n    id &quot;jacoco&quot;\n    id &quot;java&quot;\n}\n\next {\n    applicationName = &quot;my-application&quot;\n}\n\nsourceCompatibility = JavaVersion.VERSION_11\ntargetCompatibility = JavaVersion.VERSION_11\n\napplicationDefaultJvmArgs = [\n        &quot;-Dapplication.home=.&quot;, &quot;-Dapplication.name=$project.name&quot;, &quot;-Dapplication.environment=dev&quot;,\n]\n\ndependencies {\n    &lt;redacted&gt;\n}\n\nmainClassName = &quot;com.myApp.MainClass&quot;\n\narchivesBaseName = applicationName\n\njar {\n    manifest {\n        attributes(\n                &quot;Application-Name&quot;: applicationName,\n                &lt;redacted&gt;\n                &quot;Main-Class&quot;: &quot;com.myApp.MainClass&quot;\n        )\n    }\n}\n\nshadowJar {\n    // TODO: uncomment this config once https://github.com/johnrengelman/shadow/issues/751 is resolved\n    // archiveClassifier.set(&quot;&quot;)\n    archiveVersion.set(&quot;&quot;)\n    archiveBaseName.set(applicationName)\n}\n\ntest {\n    useTestNG { TestNGOptions options -&gt;\n        maxParallelForks = Runtime.runtime.availableProcessors().intdiv(2) ?: 1\n        options.useDefaultListeners = true\n        options.threadCount(Runtime.runtime.availableProcessors().intdiv(2) ?: 1)\n        options.parallel(&quot;tests&quot;)\n    }\n\n    finalizedBy jacocoTestReport\n}\n\njacocoTestReport { JacocoReport report -&gt;\n    report.reports { JacocoReportsContainer reports -&gt;\n        reports.xml.required = true\n        reports.csv.required = true\n        reports.html.required = true\n    }\n}\n\njacocoTestCoverageVerification {\n    violationRules {\n        rule {\n            enabled = true\n            limit {\n                minimum = 0.9\n                counter = &quot;CLASS&quot;\n                value = &quot;COVEREDRATIO&quot;\n            }\n        }\n    }\n}\n\n\n// https://github.com/johnrengelman/shadow/issues/713\ndistTar.dependsOn shadowJar\ndistZip.dependsOn shadowJar\nstartScripts.dependsOn shadowJar\nstartShadowScripts.dependsOn jar\nshadowDistTar.dependsOn jar\nshadowDistZip.dependsOn jar\n</code></pre>\n<p><code>gradle.properties</code> file:</p>\n<pre><code>org.gradle.caching=true\norg.gradle.parallel=true\norg.gradle.jvmargs=-Xmx2048m -Xms2048m\norg.gradle.vfs.watch=true\n</code></pre>\n<p>Does anyone have any tips or recommendations for working out what might be causing this problem?</p>\n"},{"tags":["java","groovy","process","io"],"answers":[{"tags":[],"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1407995749,"creation_date":1407995749,"answer_id":25300958,"question_id":25300550,"body_markdown":"The first approach fills a buffer up and then blocks waiting for more room to write output to.\r\n\r\nThe second approach streams output from the buffer via a separate thread as the process is running, so the process doesn&#39;t block.","title":"Difference in collecting output of executing external command in Groovy","body":"<p>The first approach fills a buffer up and then blocks waiting for more room to write output to.</p>\n\n<p>The second approach streams output from the buffer via a separate thread as the process is running, so the process doesn't block.</p>\n"}],"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2642,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":25300958,"answer_count":1,"score":7,"last_activity_date":1678904385,"creation_date":1407993358,"question_id":25300550,"body_markdown":"The following code gets stuck (which I think is blocking I/O) many times (it works sometimes).\r\n\r\n    def static executeCurlCommand(URL){\r\n        def url = &quot;curl &quot; + URL;\r\n        def proc = url.execute();\r\n        def output = proc.in.text;\r\n        return output;\r\n    }\r\n\r\nBut when I changes the code to\r\n\r\n    def static executeCurlCommand(URL){\r\n        def url = &quot;curl &quot; + URL;\r\n        def proc = url.execute();\r\n        def outputStream = new StringBuffer();\r\n        proc.waitForProcessOutput(outputStream, System.err)\r\n        return outputStream.toString();\r\n    }\r\n\r\nit works fine every time. Why does the first way, i.e., taking input by `proc.in.text` hang some time? It does not look like an environment-specific problem as I tried it on Windows as well as Cygwin.\r\n\r\nTo test/run the above method I have tried -\r\n\r\n    public static void main(def args){\r\n        def url = &#39;http://mail.google.com&#39;;\r\n        println(&quot;Output: &quot; + executeCurlCommand(url));\r\n    }\r\n\r\nI have seen multiple questions on SO and all provide the second approach. Although it works good, I wish I could know what’s wrong with the first approach.\r\n\r\n","title":"Difference in collecting output of executing external command in Groovy","body":"<p>The following code gets stuck (which I think is blocking I/O) many times (it works sometimes).</p>\n<pre><code>def static executeCurlCommand(URL){\n    def url = &quot;curl &quot; + URL;\n    def proc = url.execute();\n    def output = proc.in.text;\n    return output;\n}\n</code></pre>\n<p>But when I changes the code to</p>\n<pre><code>def static executeCurlCommand(URL){\n    def url = &quot;curl &quot; + URL;\n    def proc = url.execute();\n    def outputStream = new StringBuffer();\n    proc.waitForProcessOutput(outputStream, System.err)\n    return outputStream.toString();\n}\n</code></pre>\n<p>it works fine every time. Why does the first way, i.e., taking input by <code>proc.in.text</code> hang some time? It does not look like an environment-specific problem as I tried it on Windows as well as Cygwin.</p>\n<p>To test/run the above method I have tried -</p>\n<pre><code>public static void main(def args){\n    def url = 'http://mail.google.com';\n    println(&quot;Output: &quot; + executeCurlCommand(url));\n}\n</code></pre>\n<p>I have seen multiple questions on SO and all provide the second approach. Although it works good, I wish I could know what’s wrong with the first approach.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678904277,"creation_date":1678904277,"answer_id":75748656,"question_id":75748553,"body_markdown":"The repository method save() has a return value and it will be the saved entity, complete with the id. You can use it in the setter:\r\n\r\n    servidor = servidorRepository.save(servidor);\r\n    sal.setServidor(servidor);","title":"Java Cannot convert from Object to Integer","body":"<p>The repository method save() has a return value and it will be the saved entity, complete with the id. You can use it in the setter:</p>\n<pre><code>servidor = servidorRepository.save(servidor);\nsal.setServidor(servidor);\n</code></pre>\n"}],"owner":{"account_id":1697447,"reputation":33,"user_id":1558523,"display_name":"Gustavo Rodrigues"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75748656,"answer_count":1,"score":0,"last_activity_date":1678904277,"creation_date":1678903616,"question_id":75748553,"body_markdown":"My saldoservidor entity has a one to one association with servidor. I created this table to hold the records of the employee id and the amount of money they can spend (which is 30% of their salary). \r\n\r\nSo I tried creating a service class for that, but I&#39;m stuck... I thought about saving the servidor entity and then getting and setting the respective fields for saldoservidor. But since idservidor is an integer, how am I going to set it on saldoservidor?\r\n\r\n``` package com.camaratapira.syspharma.service;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport com.camaratapira.syspharma.entity.SaldoServidor;\r\nimport com.camaratapira.syspharma.entity.Servidor;\r\nimport com.camaratapira.syspharma.repositories.SaldoServidorRepository;\r\nimport com.camaratapira.syspharma.repositories.ServidorRepository;\r\n\r\n@Service\r\npublic class ServidorService {\r\n\t\r\n\t@Autowired\r\n\tServidorRepository servidorRepository;\t\r\n\t@Autowired\r\n\tSaldoServidorRepository saldoServidorRepository;\r\n\r\n\tpublic void addServidor(Servidor servidor) {\r\n\t\t\r\n\t\tSaldoServidor sal = new SaldoServidor();\r\n\t\t\r\n\t\tservidorRepository.save(servidor);\r\n\t\t\r\n\t\tdouble salario = servidor.getSalario();\r\n\t\tdouble saldo = (salario * 30 / 100);\r\n\t\t\r\n\t\tsal.setIdsaldo(sal.getIdsaldo());\r\n\t\tsal.setServidor(servidor); // how can I set this property?\r\n\t\tsal.setSaldo(saldo);\r\n\t\tsaldoServidorRepository.save(sal);\r\n\t\t\t\t\r\n\t}\t\r\n}\r\n ```\r\n\r\nServidor entity\r\n\r\n```\r\npackage com.camaratapira.syspharma.entity;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.ManyToOne;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;servidor&quot;)\r\npublic class Servidor {\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;idservidor&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY) // outras estrat&#233;gias precisam de tabelas espec&#237;ficas no Banco de dados\r\n\tprivate Integer idservidor;\r\n\t\r\n\t@Column(name = &quot;nomeservidor&quot;)\r\n\tprivate String nomeservidor;\r\n\t\r\n\t@Column(name = &quot;cpf&quot;)\r\n\tprivate String cpf;\r\n\t\r\n\t@Column(name = &quot;rg&quot;)\r\n\tprivate String rg;\r\n\t\r\n\t@Column(name = &quot;salario&quot;)\r\n\tprivate double salario;\r\n\r\n\t@Column(name = &quot;ativo&quot;)\r\n\tprivate boolean ativo;\r\n\t\t\r\n\t@ManyToOne()\r\n\t@JoinColumn(name = &quot;idfuncao&quot;)\r\n\tprivate Funcao funcao; // necess&#225;rio fazer os m&#233;todos getters e setters dessas fun&#231;&#245;es para poderem retornar as \r\n\t// chaves estrangeiras quando voc&#234; fizer uma requisi&#231;&#227;o GET, caso contr&#225;rio, o sistema n&#227;o vai saber onde procurar.\r\n\r\n\tpublic Integer getIdservidor() {\r\n\t\treturn idservidor;\r\n\t}\r\n\t\r\n\tpublic Servidor() {}\r\n\t\r\n\tpublic Servidor(Integer idservidor, String nomeservidor, String cpf, String rg, double salario, boolean ativo,\r\n\t\t\tFuncao funcao) {\r\n\t\tsuper();\r\n\t\tthis.idservidor = idservidor;\r\n\t\tthis.nomeservidor = nomeservidor;\r\n\t\tthis.cpf = cpf;\r\n\t\tthis.rg = rg;\r\n\t\tthis.salario = salario;\r\n\t\tthis.ativo = ativo;\r\n\t\tthis.funcao = funcao;\r\n\t}\r\n\r\n\tpublic void setIdservidor(Integer idservidor) {\r\n\t\tthis.idservidor = idservidor;\r\n\t}\r\n\r\n\tpublic String getNomeservidor() {\r\n\t\treturn nomeservidor;\r\n\t}\r\n\r\n\tpublic void setNomeservidor(String nomeservidor) {\r\n\t\tthis.nomeservidor = nomeservidor;\r\n\t}\r\n\r\n\tpublic String getCpf() {\r\n\t\treturn cpf;\r\n\t}\r\n\r\n\tpublic void setCpf(String cpf) {\r\n\t\tthis.cpf = cpf;\r\n\t}\r\n\r\n\tpublic String getRg() {\r\n\t\treturn rg;\r\n\t}\r\n\r\n\tpublic void setRg(String rg) {\r\n\t\tthis.rg = rg;\r\n\t}\r\n\r\n\tpublic double getSalario() {\r\n\t\treturn salario;\r\n\t}\r\n\r\n\tpublic void setSalario(double salario) {\r\n\t\tthis.salario = salario;\r\n\t}\r\n\r\n\tpublic boolean isAtivo() {\r\n\t\treturn ativo;\r\n\t}\r\n\r\n\tpublic void setAtivo(boolean ativo) {\r\n\t\tthis.ativo = ativo;\r\n\t}\r\n\r\n\r\n\tpublic Funcao getFuncao() {\r\n\t\treturn funcao;\r\n\t}\r\n\r\n\tpublic void setFuncao(Funcao funcao) {\r\n\t\tthis.funcao = funcao;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nSaldoServidor entity\r\n\r\n```\r\npackage com.camaratapira.syspharma.entity;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.OneToOne;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;saldoservidor&quot;)\r\npublic class SaldoServidor {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int idsaldo;\r\n\t@Column(name = &quot;saldo&quot;)\r\n\tprivate double saldo;\r\n\t\r\n\t@OneToOne(targetEntity = Servidor.class)\r\n\t@JoinColumn(name = &quot;matricula&quot;, referencedColumnName = &quot;idservidor&quot;)\r\n\tprivate Servidor matricula;\r\n\r\n\tpublic int getIdsaldo() {\r\n\t\treturn idsaldo;\r\n\t}\r\n\t\r\n\tpublic SaldoServidor() {}\r\n\r\n\tpublic SaldoServidor(int idsaldo, double saldo, Servidor matricula) {\r\n\t\tsuper();\r\n\t\tthis.idsaldo = idsaldo;\r\n\t\tthis.saldo = saldo;\r\n\t\tthis.matricula = matricula;\r\n\t}\r\n\r\n\tpublic void setIdsaldo(int idsaldo) {\r\n\t\tthis.idsaldo = idsaldo;\r\n\t}\r\n\r\n\t\r\n\tpublic double getSaldo() {\r\n\t\treturn saldo;\r\n\t}\r\n\r\n\tpublic void setSaldo(double saldo) {\r\n\t\tthis.saldo = saldo;\r\n\t}\r\n\r\n\tpublic Servidor getServidor() {\r\n\t\treturn matricula;\r\n\t}\r\n\r\n\tpublic void setServidor(Servidor matricula) {\r\n\t\tthis.matricula = matricula;\r\n\t}\r\n\t\r\n}\r\n```\r\nMatricula on the saldoservidor table is a foreign key referencing idservidor on the servidor table.\r\n\r\n[![servidor table][1]][1]\r\n\r\n[![saldoservidor table][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2CEFz.png\r\n  [2]: https://i.stack.imgur.com/3ZbbS.png","title":"Java Cannot convert from Object to Integer","body":"<p>My saldoservidor entity has a one to one association with servidor. I created this table to hold the records of the employee id and the amount of money they can spend (which is 30% of their salary).</p>\n<p>So I tried creating a service class for that, but I'm stuck... I thought about saving the servidor entity and then getting and setting the respective fields for saldoservidor. But since idservidor is an integer, how am I going to set it on saldoservidor?</p>\n<pre><code>\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport com.camaratapira.syspharma.entity.SaldoServidor;\nimport com.camaratapira.syspharma.entity.Servidor;\nimport com.camaratapira.syspharma.repositories.SaldoServidorRepository;\nimport com.camaratapira.syspharma.repositories.ServidorRepository;\n\n@Service\npublic class ServidorService {\n    \n    @Autowired\n    ServidorRepository servidorRepository;  \n    @Autowired\n    SaldoServidorRepository saldoServidorRepository;\n\n    public void addServidor(Servidor servidor) {\n        \n        SaldoServidor sal = new SaldoServidor();\n        \n        servidorRepository.save(servidor);\n        \n        double salario = servidor.getSalario();\n        double saldo = (salario * 30 / 100);\n        \n        sal.setIdsaldo(sal.getIdsaldo());\n        sal.setServidor(servidor); // how can I set this property?\n        sal.setSaldo(saldo);\n        saldoServidorRepository.save(sal);\n                \n    }   \n}\n</code></pre>\n<p>Servidor entity</p>\n<pre><code>package com.camaratapira.syspharma.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;servidor&quot;)\npublic class Servidor {\n    \n    @Id\n    @Column(name = &quot;idservidor&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY) // outras estratégias precisam de tabelas específicas no Banco de dados\n    private Integer idservidor;\n    \n    @Column(name = &quot;nomeservidor&quot;)\n    private String nomeservidor;\n    \n    @Column(name = &quot;cpf&quot;)\n    private String cpf;\n    \n    @Column(name = &quot;rg&quot;)\n    private String rg;\n    \n    @Column(name = &quot;salario&quot;)\n    private double salario;\n\n    @Column(name = &quot;ativo&quot;)\n    private boolean ativo;\n        \n    @ManyToOne()\n    @JoinColumn(name = &quot;idfuncao&quot;)\n    private Funcao funcao; // necessário fazer os métodos getters e setters dessas funções para poderem retornar as \n    // chaves estrangeiras quando você fizer uma requisição GET, caso contrário, o sistema não vai saber onde procurar.\n\n    public Integer getIdservidor() {\n        return idservidor;\n    }\n    \n    public Servidor() {}\n    \n    public Servidor(Integer idservidor, String nomeservidor, String cpf, String rg, double salario, boolean ativo,\n            Funcao funcao) {\n        super();\n        this.idservidor = idservidor;\n        this.nomeservidor = nomeservidor;\n        this.cpf = cpf;\n        this.rg = rg;\n        this.salario = salario;\n        this.ativo = ativo;\n        this.funcao = funcao;\n    }\n\n    public void setIdservidor(Integer idservidor) {\n        this.idservidor = idservidor;\n    }\n\n    public String getNomeservidor() {\n        return nomeservidor;\n    }\n\n    public void setNomeservidor(String nomeservidor) {\n        this.nomeservidor = nomeservidor;\n    }\n\n    public String getCpf() {\n        return cpf;\n    }\n\n    public void setCpf(String cpf) {\n        this.cpf = cpf;\n    }\n\n    public String getRg() {\n        return rg;\n    }\n\n    public void setRg(String rg) {\n        this.rg = rg;\n    }\n\n    public double getSalario() {\n        return salario;\n    }\n\n    public void setSalario(double salario) {\n        this.salario = salario;\n    }\n\n    public boolean isAtivo() {\n        return ativo;\n    }\n\n    public void setAtivo(boolean ativo) {\n        this.ativo = ativo;\n    }\n\n\n    public Funcao getFuncao() {\n        return funcao;\n    }\n\n    public void setFuncao(Funcao funcao) {\n        this.funcao = funcao;\n    }\n    \n}\n</code></pre>\n<p>SaldoServidor entity</p>\n<pre><code>package com.camaratapira.syspharma.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.OneToOne;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;saldoservidor&quot;)\npublic class SaldoServidor {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int idsaldo;\n    @Column(name = &quot;saldo&quot;)\n    private double saldo;\n    \n    @OneToOne(targetEntity = Servidor.class)\n    @JoinColumn(name = &quot;matricula&quot;, referencedColumnName = &quot;idservidor&quot;)\n    private Servidor matricula;\n\n    public int getIdsaldo() {\n        return idsaldo;\n    }\n    \n    public SaldoServidor() {}\n\n    public SaldoServidor(int idsaldo, double saldo, Servidor matricula) {\n        super();\n        this.idsaldo = idsaldo;\n        this.saldo = saldo;\n        this.matricula = matricula;\n    }\n\n    public void setIdsaldo(int idsaldo) {\n        this.idsaldo = idsaldo;\n    }\n\n    \n    public double getSaldo() {\n        return saldo;\n    }\n\n    public void setSaldo(double saldo) {\n        this.saldo = saldo;\n    }\n\n    public Servidor getServidor() {\n        return matricula;\n    }\n\n    public void setServidor(Servidor matricula) {\n        this.matricula = matricula;\n    }\n    \n}\n</code></pre>\n<p>Matricula on the saldoservidor table is a foreign key referencing idservidor on the servidor table.</p>\n<p><a href=\"https://i.stack.imgur.com/2CEFz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2CEFz.png\" alt=\"servidor table\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/3ZbbS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3ZbbS.png\" alt=\"saldoservidor table\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"score":0,"creation_date":1678888979,"post_id":75745748,"comment_id":133620480,"body_markdown":"https://www.baeldung.com/java-array-sum-average","body":"<a href=\"https://www.baeldung.com/java-array-sum-average\" rel=\"nofollow noreferrer\">baeldung.com/java-array-sum-average</a>"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1678890790,"post_id":75745748,"comment_id":133621095,"body_markdown":"I don&#39;t see an ARRAY being declared and used anywhere in your code.  Also, if &quot;grade&quot; is declared of type `int`, and you are getting an integer with `.nextInt()`, how will it ever be equal to 3.5, which is not an integer?!...","body":"I don&#39;t see an ARRAY being declared and used anywhere in your code.  Also, if &quot;grade&quot; is declared of type <code>int</code>, and you are getting an integer with <code>.nextInt()</code>, how will it ever be equal to 3.5, which is not an integer?!..."},{"owner":{"account_id":19458827,"reputation":1,"user_id":19877935,"display_name":"wraith"},"score":0,"creation_date":1678891426,"post_id":75745748,"comment_id":133621352,"body_markdown":"@Idle_Mind hello, sorry its my first time but i do understand what you mean by using the proper datatype and i fixed it. regarding the array I just dont know how to declare it properly thatll work in my code? any suggestion would be helpful thanks","body":"@Idle_Mind hello, sorry its my first time but i do understand what you mean by using the proper datatype and i fixed it. regarding the array I just dont know how to declare it properly thatll work in my code? any suggestion would be helpful thanks"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1678891466,"post_id":75745748,"comment_id":133621370,"body_markdown":"For example, here&#39;s how to make an array of double that can hold ten doubles: `double[] scores = new double[10];`","body":"For example, here&#39;s how to make an array of double that can hold ten doubles: <code>double[] scores = new double[10];</code>"},{"owner":{"account_id":19458827,"reputation":1,"user_id":19877935,"display_name":"wraith"},"score":0,"creation_date":1678891685,"post_id":75745748,"comment_id":133621434,"body_markdown":"@Idle_Mind would you know how I&#39;d make an array variable for &quot;newgrade&quot; so that when the user inputs it will go through the same process and then the first value of the newgrade will then be stored and so on?","body":"@Idle_Mind would you know how I&#39;d make an array variable for &quot;newgrade&quot; so that when the user inputs it will go through the same process and then the first value of the newgrade will then be stored and so on?"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1678895097,"post_id":75745748,"comment_id":133622574,"body_markdown":"You need a LOOP to get multiple grades. A `for` loop would make sense here as you can go from 0 to less than the `.length` of the array.","body":"You need a LOOP to get multiple grades. A <code>for</code> loop would make sense here as you can go from 0 to less than the <code>.length</code> of the array."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1678976157,"post_id":75745748,"comment_id":133640165,"body_markdown":"*I have no experience with java at all*.  For extra help in learning the language, check out [The Java Tutorials](https://docs.oracle.com/javase/tutorial/index.html)","body":"<i>I have no experience with java at all</i>.  For extra help in learning the language, check out <a href=\"https://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">The Java Tutorials</a>"}],"answers":[{"comments":[{"owner":{"account_id":19458827,"reputation":1,"user_id":19877935,"display_name":"wraith"},"score":0,"creation_date":1678975743,"post_id":75746388,"comment_id":133640020,"body_markdown":"Hello good sir, thank you for this suggestion really helped me out and I finally got it to all workout god bless.","body":"Hello good sir, thank you for this suggestion really helped me out and I finally got it to all workout god bless."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1678978101,"post_id":75746388,"comment_id":133640840,"body_markdown":"&quot;I know it has to do something with arrays&quot; You&#39;re allowed to use a `List&lt;Integer&gt;`, instead of an `Array`, in a beginning Java course?...","body":"&quot;I know it has to do something with arrays&quot; You&#39;re allowed to use a <code>List&lt;Integer&gt;</code>, instead of an <code>Array</code>, in a beginning Java course?..."}],"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678891918,"creation_date":1678891918,"answer_id":75746388,"question_id":75745748,"body_markdown":"As the array size is not known initially, you might add the intermediate result of every loop to ```ArrayList&lt;Integer&gt;``` which size could adjust dynamically. Then you can use stream api to sum up if need. For stream you could refer to another thread at https://stackoverflow.com/questions/48906552/using-java-stream-to-get-a-sum-average-and-sort\r\n\r\n","title":"How to get the values of a variable and store it into an array so that I can sum it?","body":"<p>As the array size is not known initially, you might add the intermediate result of every loop to <code>ArrayList&lt;Integer&gt;</code> which size could adjust dynamically. Then you can use stream api to sum up if need. For stream you could refer to another thread at <a href=\"https://stackoverflow.com/questions/48906552/using-java-stream-to-get-a-sum-average-and-sort\">using java Stream to get a sum, average, and sort</a></p>\n"},{"tags":[],"owner":{"account_id":27444648,"reputation":1,"user_id":21404419,"display_name":"Jose Henrique"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678904264,"creation_date":1678904264,"answer_id":75748654,"question_id":75745748,"body_markdown":"I believe you can do this using the &quot;for&quot; and placing indexes as below:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class QPI {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            double grade, total=0;\r\n            int  response;        \r\n            \r\n            System.out.println(&quot;Enter how many quality equivalent points for each subject:&quot;);\r\n            response = scanner.nextInt();\r\n    \r\n            double[] newgrade = new double[response];\r\n            double[] qpi = new double[response];\r\n    \r\n            for(int i = 0; i&lt;response; i++){\r\n    \r\n                System.out.println(&quot;Enter your quality point equivalent for each subject:&quot;);\r\n                grade = scanner.nextDouble();\r\n    \r\n                System.out.println(&quot;Enter your total units for this subject:&quot;);\r\n                total = scanner.nextInt();\r\n                \r\n                if (grade == 4) {System.out.println(&quot;Equivalent to A&quot;); newgrade[i] = total * grade; qpi[i] = newgrade[i]/total;}            \r\n                if (grade == 3.5) {System.out.println(&quot;Equivalent to B+&quot;); newgrade[i] = total * grade; qpi[i] = newgrade[i]/total;}            \r\n                if (grade == 3) {System.out.println(&quot;Equivalent to B&quot;); newgrade[i] = total * grade; qpi[i] = newgrade[i]/total;}            \r\n                if (grade == 2.5) {System.out.println(&quot;Equivalent to C+&quot;); newgrade[i] = total * grade; qpi[i] = newgrade[i]/total;}            \r\n                if (grade == 2) {System.out.println(&quot;Equivalent to C&quot;); newgrade[i] = total * grade; qpi[i] = newgrade[i]/total;}            \r\n                if (grade == 1) {System.out.println(&quot;Equivalent to D&quot;); newgrade[i] = total * grade; qpi[i] = newgrade[i]/total;}            \r\n                if (grade == 0) {System.out.println(&quot;Equivalent to F&quot;); newgrade[i] = total * grade; qpi[i] = newgrade[i]/total;}            \r\n                \r\n            }\r\n    \r\n            for(double newgrades : newgrade) System.out.println(&quot;Newgrade: &quot; + newgrades);\r\n            for(double qpis : qpi) System.out.println(&quot;Qpi: &quot; + qpis); \r\n    \r\n            scanner.close();    \r\n        }\r\n    }\r\n\r\n","title":"How to get the values of a variable and store it into an array so that I can sum it?","body":"<p>I believe you can do this using the &quot;for&quot; and placing indexes as below:</p>\n<pre><code>import java.util.Scanner;\n\npublic class QPI {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        double grade, total=0;\n        int  response;        \n        \n        System.out.println(&quot;Enter how many quality equivalent points for each subject:&quot;);\n        response = scanner.nextInt();\n\n        double[] newgrade = new double[response];\n        double[] qpi = new double[response];\n\n        for(int i = 0; i&lt;response; i++){\n\n            System.out.println(&quot;Enter your quality point equivalent for each subject:&quot;);\n            grade = scanner.nextDouble();\n\n            System.out.println(&quot;Enter your total units for this subject:&quot;);\n            total = scanner.nextInt();\n            \n            if (grade == 4) {System.out.println(&quot;Equivalent to A&quot;); newgrade[i] = total * grade; qpi[i] = newgrade[i]/total;}            \n            if (grade == 3.5) {System.out.println(&quot;Equivalent to B+&quot;); newgrade[i] = total * grade; qpi[i] = newgrade[i]/total;}            \n            if (grade == 3) {System.out.println(&quot;Equivalent to B&quot;); newgrade[i] = total * grade; qpi[i] = newgrade[i]/total;}            \n            if (grade == 2.5) {System.out.println(&quot;Equivalent to C+&quot;); newgrade[i] = total * grade; qpi[i] = newgrade[i]/total;}            \n            if (grade == 2) {System.out.println(&quot;Equivalent to C&quot;); newgrade[i] = total * grade; qpi[i] = newgrade[i]/total;}            \n            if (grade == 1) {System.out.println(&quot;Equivalent to D&quot;); newgrade[i] = total * grade; qpi[i] = newgrade[i]/total;}            \n            if (grade == 0) {System.out.println(&quot;Equivalent to F&quot;); newgrade[i] = total * grade; qpi[i] = newgrade[i]/total;}            \n            \n        }\n\n        for(double newgrades : newgrade) System.out.println(&quot;Newgrade: &quot; + newgrades);\n        for(double qpis : qpi) System.out.println(&quot;Qpi: &quot; + qpis); \n\n        scanner.close();    \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19458827,"reputation":1,"user_id":19877935,"display_name":"wraith"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75746388,"answer_count":2,"score":0,"last_activity_date":1678904264,"creation_date":1678888761,"question_id":75745748,"body_markdown":"I have no experience with java at all but its for school project and I&#39;m just confused and have tried to look around for my answer but it just wasnt going anywhere so I&#39;ll try asking here. That is what I tried to do. I basically need to get all the values from newgrade and sum it up. I know it has to do something with arrays but I do not know how to do it. itd be very helpful if i could get a clear and simple way of doing it. thank you\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class QPI\r\n{\r\n    public static void main(String args[])\r\n    {\r\n        int grade, response,total,qpi;\r\n\r\n\r\n    \tScanner scanner = new Scanner(System.in);\r\n\r\n        \r\n    \r\n        System.out.println(&quot;Enter your quality point equivalent for each subject:&quot;);\r\n        grade = scanner.nextInt();\r\n       \r\n\r\n        if (grade == 4 )\r\n        System.out.println(&quot;A&quot;);\r\n        if (grade == 3.5 )\r\n        System.out.println(&quot;B+&quot;);\r\n        if (grade == 3 )\r\n        System.out.println(&quot;B&quot;);\r\n        if (grade == 2.5 )\r\n        System.out.println(&quot;C+&quot;);\r\n        if (grade == 2 )\r\n        System.out.println(&quot;C&quot;);\r\n        if (grade == 1 )\r\n        System.out.println(&quot;D&quot;);\r\n        if (grade == 0 )\r\n        System.out.println(&quot;F&quot;);\r\n\r\n        System.out.println(&quot;Enter your total units for this subject:&quot;);\r\n        total = scanner.nextInt();\r\n\r\n        int newgrade = total*grade;\r\n        System.out.println(newgrade);\r\n\r\n        \r\n\r\n    \r\n\r\n        System.out.println(&quot;type 1 to continue adding type 2 to calculate qpi:&quot;);\r\n        response = scanner.nextInt();\r\n\r\n        if (response == 1);\r\n        do {\r\n            System.out.println(&quot;Enter your quality point equivalent for each subject:&quot;);\r\n            grade = scanner.nextInt();\r\n            \r\n           \r\n    \r\n            if (grade == 4 )\r\n            System.out.println(&quot;A&quot;);\r\n            if (grade == 3.5 )\r\n            System.out.println(&quot;B+&quot;);\r\n            if (grade == 3 )\r\n            System.out.println(&quot;B&quot;);\r\n            if (grade == 2.5 )\r\n            System.out.println(&quot;C+&quot;);\r\n            if (grade == 2 )\r\n            System.out.println(&quot;C&quot;);\r\n            if (grade == 1 )\r\n            System.out.println(&quot;D&quot;);\r\n            if (grade == 0 )\r\n            System.out.println(&quot;F&quot;);\r\n\r\n            System.out.println(&quot;Enter your total units for this subject:&quot;);\r\n        total = scanner.nextInt();\r\n\r\n         newgrade = total*grade;\r\n        System.out.println(newgrade);\r\n\r\n\r\n\r\n            System.out.println(&quot;type 1 to continue adding type 2 to calculate qpi:&quot;);\r\n        response = scanner.nextInt(); \r\n        } while (response != 2);\r\n\r\n\r\n\r\n        if (response == 2);\r\n    \r\n        qpi = newgrade/total;\r\n        System.out.println(&quot;Your QPI is:&quot; + qpi);\r\n\r\n         \r\n        \r\n    }\r\n}\r\n```\r\n","title":"How to get the values of a variable and store it into an array so that I can sum it?","body":"<p>I have no experience with java at all but its for school project and I'm just confused and have tried to look around for my answer but it just wasnt going anywhere so I'll try asking here. That is what I tried to do. I basically need to get all the values from newgrade and sum it up. I know it has to do something with arrays but I do not know how to do it. itd be very helpful if i could get a clear and simple way of doing it. thank you</p>\n<pre><code>import java.util.Scanner;\n\npublic class QPI\n{\n    public static void main(String args[])\n    {\n        int grade, response,total,qpi;\n\n\n        Scanner scanner = new Scanner(System.in);\n\n        \n    \n        System.out.println(&quot;Enter your quality point equivalent for each subject:&quot;);\n        grade = scanner.nextInt();\n       \n\n        if (grade == 4 )\n        System.out.println(&quot;A&quot;);\n        if (grade == 3.5 )\n        System.out.println(&quot;B+&quot;);\n        if (grade == 3 )\n        System.out.println(&quot;B&quot;);\n        if (grade == 2.5 )\n        System.out.println(&quot;C+&quot;);\n        if (grade == 2 )\n        System.out.println(&quot;C&quot;);\n        if (grade == 1 )\n        System.out.println(&quot;D&quot;);\n        if (grade == 0 )\n        System.out.println(&quot;F&quot;);\n\n        System.out.println(&quot;Enter your total units for this subject:&quot;);\n        total = scanner.nextInt();\n\n        int newgrade = total*grade;\n        System.out.println(newgrade);\n\n        \n\n    \n\n        System.out.println(&quot;type 1 to continue adding type 2 to calculate qpi:&quot;);\n        response = scanner.nextInt();\n\n        if (response == 1);\n        do {\n            System.out.println(&quot;Enter your quality point equivalent for each subject:&quot;);\n            grade = scanner.nextInt();\n            \n           \n    \n            if (grade == 4 )\n            System.out.println(&quot;A&quot;);\n            if (grade == 3.5 )\n            System.out.println(&quot;B+&quot;);\n            if (grade == 3 )\n            System.out.println(&quot;B&quot;);\n            if (grade == 2.5 )\n            System.out.println(&quot;C+&quot;);\n            if (grade == 2 )\n            System.out.println(&quot;C&quot;);\n            if (grade == 1 )\n            System.out.println(&quot;D&quot;);\n            if (grade == 0 )\n            System.out.println(&quot;F&quot;);\n\n            System.out.println(&quot;Enter your total units for this subject:&quot;);\n        total = scanner.nextInt();\n\n         newgrade = total*grade;\n        System.out.println(newgrade);\n\n\n\n            System.out.println(&quot;type 1 to continue adding type 2 to calculate qpi:&quot;);\n        response = scanner.nextInt(); \n        } while (response != 2);\n\n\n\n        if (response == 2);\n    \n        qpi = newgrade/total;\n        System.out.println(&quot;Your QPI is:&quot; + qpi);\n\n         \n        \n    }\n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1678661401,"post_id":75716584,"comment_id":133572213,"body_markdown":"I would expect an [`fx:controller`](https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#controller_method_event_handlers) attribute in your FXML file.","body":"I would expect an <a href=\"https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#controller_method_event_handlers\" rel=\"nofollow noreferrer\"><code>fx:controller</code></a> attribute in your FXML file."},{"owner":{"account_id":28001300,"reputation":11,"user_id":21385512,"display_name":"HiThere"},"score":0,"creation_date":1678662398,"post_id":75716584,"comment_id":133572362,"body_markdown":"@trashgod, yes you are correct, I changed the code above, but it still doesn&#39;t fix the error and my new GameController is now underlined red beside where I declared the fx:controller","body":"@trashgod, yes you are correct, I changed the code above, but it still doesn&#39;t fix the error and my new GameController is now underlined red beside where I declared the fx:controller"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1678662536,"post_id":75716584,"comment_id":133572382,"body_markdown":"What package is `GameController` in? What actually happens now when you run it?","body":"What package is <code>GameController</code> in? What actually happens now when you run it?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1678662676,"post_id":75716584,"comment_id":133572407,"body_markdown":"Assuming package `game`, try `fx:controller=&quot;game.GameController&quot;`.","body":"Assuming package <code>game</code>, try <code>fx:controller=&quot;game.GameController&quot;</code>."},{"owner":{"account_id":28001300,"reputation":11,"user_id":21385512,"display_name":"HiThere"},"score":0,"creation_date":1678663882,"post_id":75716584,"comment_id":133572546,"body_markdown":"@James_D package ```com.example.gameofchance;```","body":"@James_D package <code>com.example.gameofchance;</code>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1678663931,"post_id":75716584,"comment_id":133572552,"body_markdown":"But in the `fx:controller` attribute, you just have `com.example`.","body":"But in the <code>fx:controller</code> attribute, you just have <code>com.example</code>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1678664858,"post_id":75716584,"comment_id":133572660,"body_markdown":"When posting code, please don’t omit the `package` statements.  As can be seen from comments, they are important and without them there can be errors and confusion.","body":"When posting code, please don’t omit the <code>package</code> statements.  As can be seen from comments, they are important and without them there can be errors and confusion."},{"owner":{"account_id":28001300,"reputation":11,"user_id":21385512,"display_name":"HiThere"},"score":0,"creation_date":1678665488,"post_id":75716584,"comment_id":133572752,"body_markdown":"@James_D  Sorry, does it really, I saw it on my screen. I retyped that line so it should be there now. It&#39;s also at the top of my other files as well.","body":"@James_D  Sorry, does it really, I saw it on my screen. I retyped that line so it should be there now. It&#39;s also at the top of my other files as well."},{"owner":{"account_id":28001300,"reputation":11,"user_id":21385512,"display_name":"HiThere"},"score":0,"creation_date":1678665541,"post_id":75716584,"comment_id":133572757,"body_markdown":"@jewelsea I thought it was in the code my mistake, I fixed it so I hope you can see it now.","body":"@jewelsea I thought it was in the code my mistake, I fixed it so I hope you can see it now."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1678665713,"post_id":75716584,"comment_id":133572785,"body_markdown":"The `fx:controller` needs to be the fully qualified class name (ie the class name with the full package prepended). You just have the package name. It needs to be `fx:controller = “com.example.gameofchance.GameController”`.","body":"The <code>fx:controller</code> needs to be the fully qualified class name (ie the class name with the full package prepended). You just have the package name. It needs to be <code>fx:controller = “com.example.gameofchance.GameController”</code>."},{"owner":{"account_id":28001300,"reputation":11,"user_id":21385512,"display_name":"HiThere"},"score":0,"creation_date":1678666596,"post_id":75716584,"comment_id":133572887,"body_markdown":"@James_D Thanks for that, I missed that when reviewing my code but GameController doesn&#39;t work in the class name","body":"@James_D Thanks for that, I missed that when reviewing my code but GameController doesn&#39;t work in the class name"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678670109,"post_id":75716584,"comment_id":133573260,"body_markdown":"as @James_D already noted: you fx:controller attribute is wrong .. the solution is to fix it. If it&#39;s still not working, edit the question to include your changes (and all imports and package declarations - which also already was suggested ;)","body":"as @James_D already noted: you fx:controller attribute is wrong .. the solution is to fix it. If it&#39;s still not working, edit the question to include your changes (and all imports and package declarations - which also already was suggested ;)"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1678709820,"post_id":75716584,"comment_id":133580323,"body_markdown":"I see a problem: as listed, the opening code fence and package declaration were on the same line, obscuring the latter. The `fx:controller` should indeed be a fully qualified classname, not just a package name, as suggested by @James_D and shown below.","body":"I see a problem: as listed, the opening code fence and package declaration were on the same line, obscuring the latter. The <code>fx:controller</code> should indeed be a fully qualified classname, not just a package name, as suggested by @James_D and shown below."}],"answers":[{"comments":[{"owner":{"account_id":28001300,"reputation":11,"user_id":21385512,"display_name":"HiThere"},"score":0,"creation_date":1678664235,"post_id":75717007,"comment_id":133572595,"body_markdown":"There is an error with ```&lt;VBox fx:controller=&quot;game.GameController&quot; spacing=&quot;10&quot; xmlns=&quot;http://javafx.com/javafx/21&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;``` where game.GameController is underlined. I will update the code above.","body":"There is an error with <code>&lt;VBox fx:controller=&quot;game.GameController&quot; spacing=&quot;10&quot; xmlns=&quot;http:&#47;&#47;javafx.com&#47;javafx&#47;21&quot; xmlns:fx=&quot;http:&#47;&#47;javafx.com&#47;fxml&#47;1&quot;&gt;</code> where game.GameController is underlined. I will update the code above."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1678665744,"post_id":75717007,"comment_id":133572788,"body_markdown":"Both `Main` and `GameController` should start with your chosen package name.","body":"Both <code>Main</code> and <code>GameController</code> should start with your chosen package name."},{"owner":{"account_id":28001300,"reputation":11,"user_id":21385512,"display_name":"HiThere"},"score":0,"creation_date":1678665759,"post_id":75717007,"comment_id":133572791,"body_markdown":"Yes, I have put ```package game;``` for both, but the same error still pops up, should I use a different jdk and sdk","body":"Yes, I have put <code>package game;</code> for both, but the same error still pops up, should I use a different jdk and sdk"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1678709932,"post_id":75717007,"comment_id":133580354,"body_markdown":"Using your revised code, edited to reveal your chosen package name, try `fx:controller=&quot;com.example.gameofchance.GameController&quot;`.","body":"Using your revised code, edited to reveal your chosen package name, try <code>fx:controller=&quot;com.example.gameofchance.GameController&quot;</code>."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678801090,"creation_date":1678663584,"answer_id":75717007,"question_id":75716584,"body_markdown":"As shown in [_Controller Method Event Handlers_][1], your `Game.fxml` file must specify its associated controller as an attribute of the root element. As you are using a package named `com.example.gameofchance`; both `Main` and `GameController` should start with this:\r\n\r\n    package com.example.gameofchance;\r\n\r\nYour `Game.fxml` should then include this:\r\n\r\n    &lt;VBox fx:controller=&quot;com.example.gameofchance.GameController&quot; … &gt;\r\n\r\n[![Game screenshot][2]][2]\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#controller_method_event_handlers\r\n  [2]: https://i.stack.imgur.com/HKB4O.png","title":"Buttons not working in JavaFX game of chance?","body":"<p>As shown in <a href=\"https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#controller_method_event_handlers\" rel=\"nofollow noreferrer\"><em>Controller Method Event Handlers</em></a>, your <code>Game.fxml</code> file must specify its associated controller as an attribute of the root element. As you are using a package named <code>com.example.gameofchance</code>; both <code>Main</code> and <code>GameController</code> should start with this:</p>\n<pre><code>package com.example.gameofchance;\n</code></pre>\n<p>Your <code>Game.fxml</code> should then include this:</p>\n<pre><code>&lt;VBox fx:controller=&quot;com.example.gameofchance.GameController&quot; … &gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HKB4O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HKB4O.png\" alt=\"Game screenshot\" /></a></p>\n"}],"owner":{"account_id":28001300,"reputation":11,"user_id":21385512,"display_name":"HiThere"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1678903985,"creation_date":1678657749,"question_id":75716584,"body_markdown":"I&#39;m trying to create a simple game of chance in JavaFX where the user rolls a dice, guesses whether the next roll will be higher or lower, and bets points from a pool. However, I&#39;m running into an issue where the buttons for rolling the dice, guessing higher/lower, and resetting the game don&#39;t seem to be working.\r\n\r\nHere&#39;s the code for my GameController.java file:\r\n```\r\npackage com.example.gameofchance;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TextField;\r\n\r\nimport java.util.Random;\r\n\r\npublic class GameController {\r\n\r\n    @FXML\r\n    private Label poolLabel;\r\n    @FXML\r\n    private Label roll1Label;\r\n    @FXML\r\n    private TextField guessField;\r\n    @FXML\r\n    private Label resultLabel;\r\n\r\n    private int pointPool;\r\n    private int roll1Value;\r\n\r\n    public void initialize() {\r\n        // Set the initial point pool\r\n        pointPool = 100;\r\n        poolLabel.setText(String.valueOf(pointPool));\r\n    }\r\n\r\n    public void rollDice() {\r\n        // Generate a random value for the first dice roll\r\n        Random random = new Random();\r\n        roll1Value = random.nextInt(6) + 1;\r\n        roll1Label.setText(String.valueOf(roll1Value));\r\n    }\r\n\r\n    public void guessHigher() {\r\n        // Check if the second dice roll is higher than the first\r\n        int guessValue = Integer.parseInt(guessField.getText());\r\n        int roll2Value = new Random().nextInt(6) + 1;\r\n        if (roll2Value &gt; roll1Value) {\r\n            resultLabel.setText(&quot;You win!&quot;);\r\n            pointPool += guessValue;\r\n        } else {\r\n            resultLabel.setText(&quot;You lose!&quot;);\r\n            pointPool -= guessValue;\r\n        }\r\n        // Update the point pool label\r\n        poolLabel.setText(String.valueOf(pointPool));\r\n    }\r\n\r\n    public void guessLower() {\r\n        // Check if the second dice roll is lower than the first\r\n        int guessValue = Integer.parseInt(guessField.getText());\r\n        int roll2Value = new Random().nextInt(6) + 1;\r\n        if (roll2Value &lt; roll1Value) {\r\n            resultLabel.setText(&quot;You win!&quot;);\r\n            pointPool += guessValue;\r\n        } else {\r\n            resultLabel.setText(&quot;You lose!&quot;);\r\n            pointPool -= guessValue;\r\n        }\r\n        // Update the point pool label\r\n        poolLabel.setText(String.valueOf(pointPool));\r\n    }\r\n\r\n    public void resetGame() {\r\n        // Reset the point pool and clear the labels\r\n        pointPool = 100;\r\n        poolLabel.setText(String.valueOf(pointPool));\r\n        roll1Label.setText(&quot;&quot;);\r\n        guessField.setText(&quot;&quot;);\r\n        resultLabel.setText(&quot;&quot;);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAnd here&#39;s the code for my Game.fxml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n&lt;VBox fx:controller=&quot;com.example.gameofchance.GameController&quot; spacing=&quot;10&quot; xmlns=&quot;http://javafx.com/javafx/21&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n\r\n    &lt;Label text=&quot;Welcome to the Game of Chance!&quot; /&gt;\r\n    &lt;HBox spacing=&quot;10&quot;&gt;\r\n        &lt;Label text=&quot;Point/Money Pool:&quot; /&gt;\r\n        &lt;Label fx:id=&quot;poolLabel&quot; /&gt;\r\n    &lt;/HBox&gt;\r\n    &lt;HBox spacing=&quot;10&quot;&gt;\r\n        &lt;Label text=&quot;Roll 1: &quot; /&gt;\r\n        &lt;Label fx:id=&quot;roll1Label&quot; /&gt;\r\n    &lt;/HBox&gt;\r\n    &lt;HBox spacing=&quot;10&quot;&gt;\r\n        &lt;Label text=&quot;Guess: &quot; /&gt;\r\n        &lt;TextField fx:id=&quot;guessField&quot; /&gt;\r\n    &lt;/HBox&gt;\r\n    &lt;HBox spacing=&quot;10&quot;&gt;\r\n        &lt;Button text=&quot;Higher&quot; onAction=&quot;#guessHigher&quot; /&gt;\r\n        &lt;Button text=&quot;Lower&quot; onAction=&quot;#guessLower&quot; /&gt;\r\n    &lt;/HBox&gt;\r\n    &lt;HBox spacing=&quot;10&quot;&gt;\r\n        &lt;Button text=&quot;Roll&quot; onAction=&quot;#rollDice&quot; /&gt;\r\n        &lt;Button text=&quot;Reset&quot; onAction=&quot;#resetGame&quot; /&gt;\r\n    &lt;/HBox&gt;\r\n    &lt;Label fx:id=&quot;resultLabel&quot; /&gt;\r\n&lt;/VBox&gt;\r\n\r\n```\r\nAnd here is my main if needed:\r\n```\r\npackage com.example.gameofchance;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception{\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;game.fxml&quot;));\r\n        primaryStage.setTitle(&quot;Game of Chance&quot;);\r\n        primaryStage.setScene(new Scene(root, 600, 400));\r\n        primaryStage.show();\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m relatively new to JavaFX, so I&#39;m not sure where to start debugging this issue. Can someone help me figure out why my buttons aren&#39;t working and how to fix it? I am also using JDK 19 and JavaFX SDK 21 (Scene Builder)\r\n\r\nWhen I run the program, I can see the GUI and the labels for the point pool, the first roll, the guess, and the result all update correctly. However, clicking on any of the buttons doesn&#39;t seem to do anything.\r\n\r\nI&#39;ve tried adding debug statements to the methods in my GameController class, and it looks like the methods are getting called correctly when I click on the buttons. However, the expected behavior (updating the labels, modifying the point pool, etc.) doesn&#39;t seem to be happening.\r\n\r\nAt the end of the program, I want to have a functional game of chance that meets the requirements, most of which I already have with the buttons being the part i&#39;m stuck on. Here are some things you can expect the program to do:\r\n\r\nDisplay a GUI with labels for the current point/money pool, the value of the first roll, the user&#39;s guess, and the result of the game\r\nAllow the user to input a bet and click a &quot;Roll Dice&quot; button to roll the first die and display its value\r\nEnable the &quot;Guess Higher&quot; and &quot;Guess Lower&quot; buttons, which allow the user to guess whether the second roll will be higher or lower than the first roll\r\nAfter the user has made a guess, enable a &quot;Roll Second Dice&quot; button that rolls the second die and displays its value\r\nUpdate the GUI to display the user&#39;s guess, the result of the game (win or lose), and the updated point/money pool based on the bet and the result of the game\r\nDisable the &quot;Guess Higher&quot; and &quot;Guess Lower&quot; buttons until the next game starts\r\nAllow the user to reset the game and start over with a new point/money pool\r\n\r\nPS. I only included all the other requirements because I thought it would be helpful to know what the whole program does.\r\n","title":"Buttons not working in JavaFX game of chance?","body":"<p>I'm trying to create a simple game of chance in JavaFX where the user rolls a dice, guesses whether the next roll will be higher or lower, and bets points from a pool. However, I'm running into an issue where the buttons for rolling the dice, guessing higher/lower, and resetting the game don't seem to be working.</p>\n<p>Here's the code for my GameController.java file:</p>\n<pre><code>package com.example.gameofchance;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\n\nimport java.util.Random;\n\npublic class GameController {\n\n    @FXML\n    private Label poolLabel;\n    @FXML\n    private Label roll1Label;\n    @FXML\n    private TextField guessField;\n    @FXML\n    private Label resultLabel;\n\n    private int pointPool;\n    private int roll1Value;\n\n    public void initialize() {\n        // Set the initial point pool\n        pointPool = 100;\n        poolLabel.setText(String.valueOf(pointPool));\n    }\n\n    public void rollDice() {\n        // Generate a random value for the first dice roll\n        Random random = new Random();\n        roll1Value = random.nextInt(6) + 1;\n        roll1Label.setText(String.valueOf(roll1Value));\n    }\n\n    public void guessHigher() {\n        // Check if the second dice roll is higher than the first\n        int guessValue = Integer.parseInt(guessField.getText());\n        int roll2Value = new Random().nextInt(6) + 1;\n        if (roll2Value &gt; roll1Value) {\n            resultLabel.setText(&quot;You win!&quot;);\n            pointPool += guessValue;\n        } else {\n            resultLabel.setText(&quot;You lose!&quot;);\n            pointPool -= guessValue;\n        }\n        // Update the point pool label\n        poolLabel.setText(String.valueOf(pointPool));\n    }\n\n    public void guessLower() {\n        // Check if the second dice roll is lower than the first\n        int guessValue = Integer.parseInt(guessField.getText());\n        int roll2Value = new Random().nextInt(6) + 1;\n        if (roll2Value &lt; roll1Value) {\n            resultLabel.setText(&quot;You win!&quot;);\n            pointPool += guessValue;\n        } else {\n            resultLabel.setText(&quot;You lose!&quot;);\n            pointPool -= guessValue;\n        }\n        // Update the point pool label\n        poolLabel.setText(String.valueOf(pointPool));\n    }\n\n    public void resetGame() {\n        // Reset the point pool and clear the labels\n        pointPool = 100;\n        poolLabel.setText(String.valueOf(pointPool));\n        roll1Label.setText(&quot;&quot;);\n        guessField.setText(&quot;&quot;);\n        resultLabel.setText(&quot;&quot;);\n    }\n\n}\n\n</code></pre>\n<p>And here's the code for my Game.fxml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;VBox fx:controller=&quot;com.example.gameofchance.GameController&quot; spacing=&quot;10&quot; xmlns=&quot;http://javafx.com/javafx/21&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n\n    &lt;Label text=&quot;Welcome to the Game of Chance!&quot; /&gt;\n    &lt;HBox spacing=&quot;10&quot;&gt;\n        &lt;Label text=&quot;Point/Money Pool:&quot; /&gt;\n        &lt;Label fx:id=&quot;poolLabel&quot; /&gt;\n    &lt;/HBox&gt;\n    &lt;HBox spacing=&quot;10&quot;&gt;\n        &lt;Label text=&quot;Roll 1: &quot; /&gt;\n        &lt;Label fx:id=&quot;roll1Label&quot; /&gt;\n    &lt;/HBox&gt;\n    &lt;HBox spacing=&quot;10&quot;&gt;\n        &lt;Label text=&quot;Guess: &quot; /&gt;\n        &lt;TextField fx:id=&quot;guessField&quot; /&gt;\n    &lt;/HBox&gt;\n    &lt;HBox spacing=&quot;10&quot;&gt;\n        &lt;Button text=&quot;Higher&quot; onAction=&quot;#guessHigher&quot; /&gt;\n        &lt;Button text=&quot;Lower&quot; onAction=&quot;#guessLower&quot; /&gt;\n    &lt;/HBox&gt;\n    &lt;HBox spacing=&quot;10&quot;&gt;\n        &lt;Button text=&quot;Roll&quot; onAction=&quot;#rollDice&quot; /&gt;\n        &lt;Button text=&quot;Reset&quot; onAction=&quot;#resetGame&quot; /&gt;\n    &lt;/HBox&gt;\n    &lt;Label fx:id=&quot;resultLabel&quot; /&gt;\n&lt;/VBox&gt;\n\n</code></pre>\n<p>And here is my main if needed:</p>\n<pre><code>package com.example.gameofchance;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;game.fxml&quot;));\n        primaryStage.setTitle(&quot;Game of Chance&quot;);\n        primaryStage.setScene(new Scene(root, 600, 400));\n        primaryStage.show();\n    }\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>I'm relatively new to JavaFX, so I'm not sure where to start debugging this issue. Can someone help me figure out why my buttons aren't working and how to fix it? I am also using JDK 19 and JavaFX SDK 21 (Scene Builder)</p>\n<p>When I run the program, I can see the GUI and the labels for the point pool, the first roll, the guess, and the result all update correctly. However, clicking on any of the buttons doesn't seem to do anything.</p>\n<p>I've tried adding debug statements to the methods in my GameController class, and it looks like the methods are getting called correctly when I click on the buttons. However, the expected behavior (updating the labels, modifying the point pool, etc.) doesn't seem to be happening.</p>\n<p>At the end of the program, I want to have a functional game of chance that meets the requirements, most of which I already have with the buttons being the part i'm stuck on. Here are some things you can expect the program to do:</p>\n<p>Display a GUI with labels for the current point/money pool, the value of the first roll, the user's guess, and the result of the game\nAllow the user to input a bet and click a &quot;Roll Dice&quot; button to roll the first die and display its value\nEnable the &quot;Guess Higher&quot; and &quot;Guess Lower&quot; buttons, which allow the user to guess whether the second roll will be higher or lower than the first roll\nAfter the user has made a guess, enable a &quot;Roll Second Dice&quot; button that rolls the second die and displays its value\nUpdate the GUI to display the user's guess, the result of the game (win or lose), and the updated point/money pool based on the bet and the result of the game\nDisable the &quot;Guess Higher&quot; and &quot;Guess Lower&quot; buttons until the next game starts\nAllow the user to reset the game and start over with a new point/money pool</p>\n<p>PS. I only included all the other requirements because I thought it would be helpful to know what the whole program does.</p>\n"},{"tags":["java","spring","http","streaming","webclient"],"comments":[{"owner":{"account_id":8076068,"reputation":55,"user_id":6087094,"display_name":"Max"},"score":0,"creation_date":1651753570,"post_id":57162062,"comment_id":127440925,"body_markdown":"Hi! Could you find solution for your problem?","body":"Hi! Could you find solution for your problem?"},{"owner":{"account_id":62423,"reputation":3486,"user_id":185498,"display_name":"Manushin Igor"},"score":0,"creation_date":1672775067,"post_id":57162062,"comment_id":132348955,"body_markdown":"Unfortunately, no. Please see my answer below. I just use synchronous client for this instead. I tried working with ktor client, however it went to infinite loop for line-by-line reading mode.","body":"Unfortunately, no. Please see my answer below. I just use synchronous client for this instead. I tried working with ktor client, however it went to infinite loop for line-by-line reading mode."}],"answers":[{"tags":[],"owner":{"account_id":62423,"reputation":3486,"user_id":185498,"display_name":"Manushin Igor"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1563957642,"creation_date":1563957642,"answer_id":57178714,"question_id":57162062,"body_markdown":"Code below works, however this is fully synchronous code (probably with just prefetching ability). It uses [Apache Http Components][1].\r\n\r\n\r\n    HttpClientBuilder.create().build().use { client -&gt;\r\n        val responseHandler = ResponseHandler { response -&gt;\r\n            response.entity.content.use { content -&gt;\r\n                content.bufferedReader().use { buffered -&gt;\r\n                    // create class, which can process each line. \r\n                    val processor = StreamedLinesProcessor&lt;TResult&gt;()\r\n                    \r\n                    do {\r\n                        val nextLine = buffered.readLine()\r\n                        val needContinue = processor.processNextLine(nextLine)\r\n                    } while (needContinue)\r\n                    processor.getResult()\r\n                }\r\n            }\r\n        }\r\n        \r\n        client.execute(HttpGet(url.toString()), responseHandler)\r\n    }\r\n\r\n\r\n  [1]: https://hc.apache.org/","title":"Read lines reactively with Spring WebClient","body":"<p>Code below works, however this is fully synchronous code (probably with just prefetching ability). It uses <a href=\"https://hc.apache.org/\" rel=\"nofollow noreferrer\">Apache Http Components</a>.</p>\n\n<pre><code>HttpClientBuilder.create().build().use { client -&gt;\n    val responseHandler = ResponseHandler { response -&gt;\n        response.entity.content.use { content -&gt;\n            content.bufferedReader().use { buffered -&gt;\n                // create class, which can process each line. \n                val processor = StreamedLinesProcessor&lt;TResult&gt;()\n\n                do {\n                    val nextLine = buffered.readLine()\n                    val needContinue = processor.processNextLine(nextLine)\n                } while (needContinue)\n                processor.getResult()\n            }\n        }\n    }\n\n    client.execute(HttpGet(url.toString()), responseHandler)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3048069,"reputation":2704,"user_id":2583229,"accept_rate":29,"display_name":"revau.lt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678903681,"creation_date":1678902904,"answer_id":75748447,"question_id":57162062,"body_markdown":"I Haven&#39;t found an embedded one, I&#39;m using something like the code below. I&#39;m assuming you are using single char `\\n` line endings and that `\\n` is always encoded as a single byte char in any encoding this class sees, e.g. UTF16 would not be supported.\r\n\r\n```java\r\nMono&lt;ResponseEntity&lt;Flux&lt;String&gt;&gt;&gt;  = webclient\r\n                .post()\r\n                .uri(...)\r\n                .contentType(...)\r\n                .bodyValue(...)\r\n                .retrieve()\r\n                .toEntityFlux(new LineBodyExtractor());\r\n```\r\n\r\n\r\n```java\r\n\r\n\r\nimport lombok.NonNull;\r\nimport org.springframework.core.io.buffer.DataBuffer;\r\nimport org.springframework.core.io.buffer.DataBufferUtils;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.client.reactive.ClientHttpResponse;\r\nimport org.springframework.util.MimeType;\r\nimport org.springframework.web.reactive.function.BodyExtractor;\r\nimport reactor.core.publisher.Flux;\r\n\r\nimport static java.nio.charset.StandardCharsets.UTF_8;\r\nimport static java.util.Optional.of;\r\n\r\n\r\n/**\r\n * Only supports single char separators and charsets\r\n **/\r\npublic class LineBodyExtractor implements BodyExtractor&lt;Flux&lt;String&gt;, ClientHttpResponse&gt; {\r\n    private static final String SEPARATOR_CHAR = &quot;\\n&quot;;\r\n\r\n    @NonNull\r\n    @Override\r\n    public Flux&lt;String&gt; extract(ClientHttpResponse inputMessage, @NonNull Context ignored) {\r\n        var charSet = of(inputMessage.getHeaders())\r\n                .map(HttpHeaders::getContentType)\r\n                .map(MimeType::getCharset)\r\n                .orElse(UTF_8);\r\n        var separatorBytes = SEPARATOR_CHAR.getBytes(charSet);\r\n        if (separatorBytes.length != 1) {\r\n            throw new IllegalStateException(&quot;Charset %s doesn&#39;t encode separator %s to a single byte and is unsupported&quot;.formatted(charSet, SEPARATOR_CHAR));\r\n        }\r\n        byte separator = separatorBytes[0];\r\n        return inputMessage.getBody()\r\n                .flatMap(buf -&gt; this.splitBy(separator, buf))\r\n                .windowUntil(buf -&gt; buf.indexOf(i -&gt; i == separator, 0) == 0)\r\n                // need to join byte buffers before calling to string, UTF8 is multi byte\r\n                .flatMap(DataBufferUtils::join)\r\n                .map(buf -&gt; buf.toString(charSet));\r\n    }\r\n\r\n    Flux&lt;DataBuffer&gt; splitBy(Byte separator, DataBuffer buf) {\r\n        if (buf.capacity() &lt;= 0) { // e.g. an empty trailing line should still emit an event\r\n            return Flux.just(buf);\r\n        }\r\n        Flux&lt;DataBuffer&gt; r = Flux.empty();\r\n        int separatorIndex;\r\n        while ((separatorIndex = buf.indexOf(i -&gt; i == separator, 0)) &gt;= 0) {\r\n            r = Flux.concat(r, Flux.just(buf.split(separatorIndex), buf.split(1)));\r\n        }\r\n        return Flux.concat(r, Flux.just(buf)).filter(b -&gt; b.capacity() &gt; 0);\r\n    }\r\n}\r\n\r\n```","title":"Read lines reactively with Spring WebClient","body":"<p>I Haven't found an embedded one, I'm using something like the code below. I'm assuming you are using single char <code>\\n</code> line endings and that <code>\\n</code> is always encoded as a single byte char in any encoding this class sees, e.g. UTF16 would not be supported.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;ResponseEntity&lt;Flux&lt;String&gt;&gt;&gt;  = webclient\n                .post()\n                .uri(...)\n                .contentType(...)\n                .bodyValue(...)\n                .retrieve()\n                .toEntityFlux(new LineBodyExtractor());\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n\nimport lombok.NonNull;\nimport org.springframework.core.io.buffer.DataBuffer;\nimport org.springframework.core.io.buffer.DataBufferUtils;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.client.reactive.ClientHttpResponse;\nimport org.springframework.util.MimeType;\nimport org.springframework.web.reactive.function.BodyExtractor;\nimport reactor.core.publisher.Flux;\n\nimport static java.nio.charset.StandardCharsets.UTF_8;\nimport static java.util.Optional.of;\n\n\n/**\n * Only supports single char separators and charsets\n **/\npublic class LineBodyExtractor implements BodyExtractor&lt;Flux&lt;String&gt;, ClientHttpResponse&gt; {\n    private static final String SEPARATOR_CHAR = &quot;\\n&quot;;\n\n    @NonNull\n    @Override\n    public Flux&lt;String&gt; extract(ClientHttpResponse inputMessage, @NonNull Context ignored) {\n        var charSet = of(inputMessage.getHeaders())\n                .map(HttpHeaders::getContentType)\n                .map(MimeType::getCharset)\n                .orElse(UTF_8);\n        var separatorBytes = SEPARATOR_CHAR.getBytes(charSet);\n        if (separatorBytes.length != 1) {\n            throw new IllegalStateException(&quot;Charset %s doesn't encode separator %s to a single byte and is unsupported&quot;.formatted(charSet, SEPARATOR_CHAR));\n        }\n        byte separator = separatorBytes[0];\n        return inputMessage.getBody()\n                .flatMap(buf -&gt; this.splitBy(separator, buf))\n                .windowUntil(buf -&gt; buf.indexOf(i -&gt; i == separator, 0) == 0)\n                // need to join byte buffers before calling to string, UTF8 is multi byte\n                .flatMap(DataBufferUtils::join)\n                .map(buf -&gt; buf.toString(charSet));\n    }\n\n    Flux&lt;DataBuffer&gt; splitBy(Byte separator, DataBuffer buf) {\n        if (buf.capacity() &lt;= 0) { // e.g. an empty trailing line should still emit an event\n            return Flux.just(buf);\n        }\n        Flux&lt;DataBuffer&gt; r = Flux.empty();\n        int separatorIndex;\n        while ((separatorIndex = buf.indexOf(i -&gt; i == separator, 0)) &gt;= 0) {\n            r = Flux.concat(r, Flux.just(buf.split(separatorIndex), buf.split(1)));\n        }\n        return Flux.concat(r, Flux.just(buf)).filter(b -&gt; b.capacity() &gt; 0);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":62423,"reputation":3486,"user_id":185498,"display_name":"Manushin Igor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678903681,"creation_date":1563877741,"question_id":57162062,"body_markdown":"TLDR: how can I process GET response line-by-line by using Spring WebClient (reactive one)?\r\n\r\nDetails:\r\n\r\n* Remote server returns response with size up to 20 Gb\r\n* My service parses lines separately (each line is encoded into UTF8) and streams the result (99% of lines are skipped)\r\n* I don&#39;t want to load whole response into the memory, e.g. I&#39;d like to parse server update line-by-line.\r\n\r\nUnfortunately I did not find any solutions to convert ```Flux&lt;ByteBuffer&gt;``` to ```Flux&lt;String&gt;``` (by splitting at the end of line).\r\n\r\n**Question:** are there any embedded converters/decoders to do this?\r\n\r\nPossible solution:\r\n\r\n* Create temporary buffer (which is empty initially)\r\n* For each input buffer:\r\n  * Prepend temporary buffer to the new, re-create temporary buffer.\r\n  * Try read single line from this buffer (e.g. read until end of line):\r\n    * If there are bytes left - return this string and repeat line reading\r\n    * If buffer is finished (e.g. no line separators there): just copy these bytes to the temporary buffer.\r\n* After the last buffer: read temporary buffer until end.\r\n\r\nAlso: you could not just convert input buffer to string, because some utf8 characters can start at the buffer N and continue at the buffer N+1.\r\n","title":"Read lines reactively with Spring WebClient","body":"<p>TLDR: how can I process GET response line-by-line by using Spring WebClient (reactive one)?</p>\n\n<p>Details:</p>\n\n<ul>\n<li>Remote server returns response with size up to 20 Gb</li>\n<li>My service parses lines separately (each line is encoded into UTF8) and streams the result (99% of lines are skipped)</li>\n<li>I don't want to load whole response into the memory, e.g. I'd like to parse server update line-by-line.</li>\n</ul>\n\n<p>Unfortunately I did not find any solutions to convert <code>Flux&lt;ByteBuffer&gt;</code> to <code>Flux&lt;String&gt;</code> (by splitting at the end of line).</p>\n\n<p><strong>Question:</strong> are there any embedded converters/decoders to do this?</p>\n\n<p>Possible solution:</p>\n\n<ul>\n<li>Create temporary buffer (which is empty initially)</li>\n<li>For each input buffer:\n\n<ul>\n<li>Prepend temporary buffer to the new, re-create temporary buffer.</li>\n<li>Try read single line from this buffer (e.g. read until end of line):</li>\n<li>If there are bytes left - return this string and repeat line reading</li>\n<li>If buffer is finished (e.g. no line separators there): just copy these bytes to the temporary buffer.</li>\n</ul></li>\n<li>After the last buffer: read temporary buffer until end.</li>\n</ul>\n\n<p>Also: you could not just convert input buffer to string, because some utf8 characters can start at the buffer N and continue at the buffer N+1.</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":12,"creation_date":1610698753,"post_id":65732622,"comment_id":116219468,"body_markdown":"Without being too snide, read up on how the language works?","body":"Without being too snide, read up on how the language works?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":4,"creation_date":1610698887,"post_id":65732622,"comment_id":116219516,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html -&gt; &quot;_The break statements are necessary because without them, statements in switch blocks fall through: All statements after the matching case label are executed in sequence, regardless of the expression of subsequent case labels, until a break statement is encountered._&quot;","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.htm&zwnj;&#8203;l</a> -&gt; &quot;<i>The break statements are necessary because without them, statements in switch blocks fall through: All statements after the matching case label are executed in sequence, regardless of the expression of subsequent case labels, until a break statement is encountered.</i>&quot;"},{"owner":{"display_name":"user10992464"},"score":1,"creation_date":1610698905,"post_id":65732622,"comment_id":116219523,"body_markdown":"If you don&#39;t break out of the switch, the first matching case and all below cases are executed (until the first break). You can use the -&gt; instead of : in newer java versions, which makes sure only one case is executed.","body":"If you don&#39;t break out of the switch, the first matching case and all below cases are executed (until the first break). You can use the -&gt; instead of : in newer java versions, which makes sure only one case is executed."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1610699426,"post_id":65732622,"comment_id":116219741,"body_markdown":"The same is also true in many (most?) other languages. According to your profile, I guess you are most familiar with [php](https://www.php.net/manual/en/control-structures.switch.php): &quot;If you don&#39;t write a break statement at the end of a case&#39;s statement list, PHP will go on executing the statements of the following case.&quot;. So I&#39;m a bit surprised that this surprises you.","body":"The same is also true in many (most?) other languages. According to your profile, I guess you are most familiar with <a href=\"https://www.php.net/manual/en/control-structures.switch.php\" rel=\"nofollow noreferrer\">php</a>: &quot;If you don&#39;t write a break statement at the end of a case&#39;s statement list, PHP will go on executing the statements of the following case.&quot;. So I&#39;m a bit surprised that this surprises you."},{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1610700903,"post_id":65732622,"comment_id":116220290,"body_markdown":"TLDR; Thats how switch statements in Java work.  Like most languages that share a heritage with C Java allows the cases in Switch statements to &quot;fall through&quot; to the next case if the case statement isint ended with a break statement.  This can be useful, though can also lead to bugs.  Java 12 introduced a Switch expression that has slightly different syntax and semantics.","body":"TLDR; Thats how switch statements in Java work.  Like most languages that share a heritage with C Java allows the cases in Switch statements to &quot;fall through&quot; to the next case if the case statement isint ended with a break statement.  This can be useful, though can also lead to bugs.  Java 12 introduced a Switch expression that has slightly different syntax and semantics."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1610698904,"creation_date":1610698904,"answer_id":65732670,"question_id":65732622,"body_markdown":"Your question is probably a duplicate of something else, but the reason is that `case` statement within a Java `switch` by default will flow onto the next `case` statement unless a `break` be explicitly mentioned.  To better understand _why_ the case statements behave this way, an example would make this clear.  Let&#39;s say that you wanted the same logic to happen for Monday, Tuesday, and Wednesday.  Then, you could use the following:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    switch (day) {\r\n        case 1:\r\n        case 2:\r\n        case 3:\r\n            System.out.println(&quot;Today is Monday, Tuesday, or Wednesday&quot;);\r\n            break;\r\n\r\n        case 4:\r\n            System.out.println(&quot;Today is Thursday&quot;);\r\n            break;\r\n\r\n        case 7:\r\n            System.out.println(&quot;Today is Sunday&quot;);\r\n            break;\r\n    }","title":"Java switch runs all cases if no break","body":"<p>Your question is probably a duplicate of something else, but the reason is that <code>case</code> statement within a Java <code>switch</code> by default will flow onto the next <code>case</code> statement unless a <code>break</code> be explicitly mentioned.  To better understand <em>why</em> the case statements behave this way, an example would make this clear.  Let's say that you wanted the same logic to happen for Monday, Tuesday, and Wednesday.  Then, you could use the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (day) {\n    case 1:\n    case 2:\n    case 3:\n        System.out.println(&quot;Today is Monday, Tuesday, or Wednesday&quot;);\n        break;\n\n    case 4:\n        System.out.println(&quot;Today is Thursday&quot;);\n        break;\n\n    case 7:\n        System.out.println(&quot;Today is Sunday&quot;);\n        break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19040192,"reputation":1,"user_id":13900473,"display_name":"ria monga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610700063,"creation_date":1610700063,"answer_id":65732910,"question_id":65732622,"body_markdown":"&gt; **Break statement:** Break statement is used to terminate the loop. When a break statement is encountered inside a loop, the loop is\r\n&gt; immediately terminated.\r\n\r\nTherefore, when we use the **break** statement inside the **switch** statement, it terminates the loop at that case, and the program control resumes at the next statement following the loop.\r\n\r\n**Answer to your Question:** When the **break** statement is not used, the control of the program flows through each and every case until either it reaches the end of the **switch** block or a **break** statement is encountered.","title":"Java switch runs all cases if no break","body":"<blockquote>\n<p><strong>Break statement:</strong> Break statement is used to terminate the loop. When a break statement is encountered inside a loop, the loop is\nimmediately terminated.</p>\n</blockquote>\n<p>Therefore, when we use the <strong>break</strong> statement inside the <strong>switch</strong> statement, it terminates the loop at that case, and the program control resumes at the next statement following the loop.</p>\n<p><strong>Answer to your Question:</strong> When the <strong>break</strong> statement is not used, the control of the program flows through each and every case until either it reaches the end of the <strong>switch</strong> block or a <strong>break</strong> statement is encountered.</p>\n"}],"owner":{"account_id":5059535,"reputation":7641,"user_id":4061644,"accept_rate":48,"display_name":"alex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":922,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"accepted_answer_id":65732670,"answer_count":2,"score":-5,"last_activity_date":1678903467,"creation_date":1610698652,"question_id":65732622,"body_markdown":"I&#39;m confused about this example. If `break` is deleted then both `Today is Saturday` and `Today is Sunday` will be printed. I would like to know why this happens.\r\n\r\n    int day = 4;\r\n    switch (day) {\r\n      case 4:\r\n        System.out.println(&quot;Today is Saturday&quot;);\r\n       // break;\r\n      case 7:\r\n        System.out.println(&quot;Today is Sunday&quot;);\r\n       // break;\r\n     \r\n    }\r\n\r\n----\r\n\r\nP.S: to those who are surprised why I asked such a simple question:     \r\nIts been a while, I am learning [Kotlin](https://kotlinlang.org/docs/reference/control-flow.html#when-expression), that does not need to add breaks in the `when` expression, so it made me confused when Ii was working on a Java project that needs breaks in a `switch` statement.","title":"Java switch runs all cases if no break","body":"<p>I'm confused about this example. If <code>break</code> is deleted then both <code>Today is Saturday</code> and <code>Today is Sunday</code> will be printed. I would like to know why this happens.</p>\n<pre><code>int day = 4;\nswitch (day) {\n  case 4:\n    System.out.println(&quot;Today is Saturday&quot;);\n   // break;\n  case 7:\n    System.out.println(&quot;Today is Sunday&quot;);\n   // break;\n \n}\n</code></pre>\n<hr />\n<p>P.S: to those who are surprised why I asked such a simple question:<br />\nIts been a while, I am learning <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"nofollow noreferrer\">Kotlin</a>, that does not need to add breaks in the <code>when</code> expression, so it made me confused when Ii was working on a Java project that needs breaks in a <code>switch</code> statement.</p>\n"},{"tags":["java","android","android-webview"],"owner":{"account_id":10290727,"reputation":378,"user_id":7592568,"display_name":"Sara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2968,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":0,"score":14,"last_activity_date":1678903369,"creation_date":1565787637,"question_id":57495245,"body_markdown":"Independently from what solutions I keep having this log:\r\n\r\n&gt;W/cr_AwAutofillManager: WebView autofill is disabled because WebView isn&#39;t created with activity context.\r\n\r\n1. Why is this log appearing? I don&#39;t find any example of this online.\r\n2. Is there any way to solve this / use autofill without JavaScript?\r\n\r\nI don&#39;t have much experience with android and I have tried some tweaks such as calling `setImportantForAutofill()` and `setAutofillHints` and other method calls referring autofill. \r\n\r\nJava code of **`LoginApplication.java`** (extends `AppCompatActivity`):\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        MainApplication.getMyComponent().inject(this);\r\n\r\n        setContentView(R.layout.activity_login);\r\n        WebView loginWebView = findViewById(R.id.weblogin);\r\n\r\n        loginWebView.setWebViewClient(new CustomWebClient(storage, keycloakService, this));\r\n        WebSettings webSettings = loginWebView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webSettings.setSupportMultipleWindows(true);\r\n        loginWebView.loadUrl(authCodeUrl.toString());\r\n    }\r\nXML code of **`activity_login.xml`**:\r\n\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.auth.LoginApplication&quot;&gt;\r\n\r\n        &lt;WebView\r\n            android:id=&quot;@+id/weblogin&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;/FrameLayout&gt;\r\nXML code of **`AndroidManifest.xml`**:\r\n\r\n    &lt;activity\r\n        android:name=&quot;.auth.LoginApplication&quot;&gt;\r\n        &lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\r\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\r\n            &lt;data\r\n                android:host=&quot;com.criticalsoftware.pulsar.android.client&quot;\r\n                android:path=&quot;/oauth2redirect&quot;\r\n                android:scheme=&quot;https&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;","title":"WebView autofill is disabled because WebView isn&#39;t created with activity context","body":"<p>Independently from what solutions I keep having this log:</p>\n<blockquote>\n<p>W/cr_AwAutofillManager: WebView autofill is disabled because WebView isn't created with activity context.</p>\n</blockquote>\n<ol>\n<li>Why is this log appearing? I don't find any example of this online.</li>\n<li>Is there any way to solve this / use autofill without JavaScript?</li>\n</ol>\n<p>I don't have much experience with android and I have tried some tweaks such as calling <code>setImportantForAutofill()</code> and <code>setAutofillHints</code> and other method calls referring autofill.</p>\n<p>Java code of <strong><code>LoginApplication.java</code></strong> (extends <code>AppCompatActivity</code>):</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    MainApplication.getMyComponent().inject(this);\n\n    setContentView(R.layout.activity_login);\n    WebView loginWebView = findViewById(R.id.weblogin);\n\n    loginWebView.setWebViewClient(new CustomWebClient(storage, keycloakService, this));\n    WebSettings webSettings = loginWebView.getSettings();\n    webSettings.setJavaScriptEnabled(true);\n    webSettings.setSupportMultipleWindows(true);\n    loginWebView.loadUrl(authCodeUrl.toString());\n}\n</code></pre>\n<p>XML code of <strong><code>activity_login.xml</code></strong>:</p>\n<pre><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.auth.LoginApplication&quot;&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/weblogin&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>XML code of <strong><code>AndroidManifest.xml</code></strong>:</p>\n<pre><code>&lt;activity\n    android:name=&quot;.auth.LoginApplication&quot;&gt;\n    &lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n\n        &lt;data\n            android:host=&quot;com.criticalsoftware.pulsar.android.client&quot;\n            android:path=&quot;/oauth2redirect&quot;\n            android:scheme=&quot;https&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n"},{"tags":["java","android","multithreading","thread-safety","background-process"],"comments":[{"owner":{"account_id":10145571,"reputation":4044,"user_id":7493840,"accept_rate":79,"display_name":"Zazaeil"},"score":0,"creation_date":1678822676,"post_id":75732753,"comment_id":133607271,"body_markdown":"You posted too much not really relevant code and it makes almost impossible to break through easily. Please consider to simplify your question. With that said, it sounds wrong that some operation takes as much as 10 seconds; I would definitely to try to profile what&#39;s going on.","body":"You posted too much not really relevant code and it makes almost impossible to break through easily. Please consider to simplify your question. With that said, it sounds wrong that some operation takes as much as 10 seconds; I would definitely to try to profile what&#39;s going on."},{"owner":{"account_id":12339438,"reputation":81,"user_id":9003215,"display_name":"DevPeter"},"score":0,"creation_date":1678829955,"post_id":75732753,"comment_id":133609089,"body_markdown":"The live app has more than 500 lines of code, for that reason, I simplify the code so everyone can copy/paste the code and try it.\n\nMy question is simple: &quot;How to use background threads sequentially the correct way?&quot;\n\nIn my example, I am using &quot;for loop&quot; to check if the thread is running sequentially or not and to check that I am using the Handler that shows the result in the &quot;Log.d&quot;.\n\nI am not sure how to  &quot;profile what&#39;s going on&quot;. I know that from the point when the code reache notifyDataSetChanged() to the point to display the data in the recycler view takes 10 seconds for 400 items.","body":"The live app has more than 500 lines of code, for that reason, I simplify the code so everyone can copy/paste the code and try it.  My question is simple: &quot;How to use background threads sequentially the correct way?&quot;  In my example, I am using &quot;for loop&quot; to check if the thread is running sequentially or not and to check that I am using the Handler that shows the result in the &quot;Log.d&quot;.  I am not sure how to  &quot;profile what&#39;s going on&quot;. I know that from the point when the code reache notifyDataSetChanged() to the point to display the data in the recycler view takes 10 seconds for 400 items."}],"answers":[{"tags":[],"owner":{"account_id":10145571,"reputation":4044,"user_id":7493840,"accept_rate":79,"display_name":"Zazaeil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678903097,"creation_date":1678902226,"answer_id":75748334,"question_id":75732753,"body_markdown":"Okay. I did not run your code, but in the comments you say that:\r\n&gt; My question is simple: &quot;How to use background threads sequentially the correct way?&quot;\r\n\r\nThe answer is: that&#39;s plain wrong. Threads concept is all about doing things _in parallel_ which is by the definition confronts a _sequential_ execution. Multithreading suppose to be non-sequential by it&#39;s nature (except relevantly small pieces of code named &quot;critical sections&quot; which indeed must run sequentially otherwise you gonna get a &quot;race condition&quot; and a broken program).\r\n\r\nIf you want number of tasks to be processed _strictly sequentially_, you *do not* use multiple threads, rather you re-use a single one that does the processing in the one-by-one fashion. Sequentially.\r\n\r\n____\r\n\r\nIf you find this answer misleading or not related, then please, ask more questions in the comments and I will update my answer with more details.\r\n","title":"How to use background threads sequentially the correct way?","body":"<p>Okay. I did not run your code, but in the comments you say that:</p>\n<blockquote>\n<p>My question is simple: &quot;How to use background threads sequentially the correct way?&quot;</p>\n</blockquote>\n<p>The answer is: that's plain wrong. Threads concept is all about doing things <em>in parallel</em> which is by the definition confronts a <em>sequential</em> execution. Multithreading suppose to be non-sequential by it's nature (except relevantly small pieces of code named &quot;critical sections&quot; which indeed must run sequentially otherwise you gonna get a &quot;race condition&quot; and a broken program).</p>\n<p>If you want number of tasks to be processed <em>strictly sequentially</em>, you <em>do not</em> use multiple threads, rather you re-use a single one that does the processing in the one-by-one fashion. Sequentially.</p>\n<hr />\n<p>If you find this answer misleading or not related, then please, ask more questions in the comments and I will update my answer with more details.</p>\n"}],"owner":{"account_id":12339438,"reputation":81,"user_id":9003215,"display_name":"DevPeter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678903097,"creation_date":1678794451,"question_id":75732753,"body_markdown":"Currently, my app uses one background thread in the method to iterate through the list of some items and based on that item type I am adding more information to it using other methods and then storing the new data in the Array List. Then when the background thread finished I am informed about that by the Handler and I am using the  &quot;.notifyDataSetChanged() inside the Handler&quot;. \r\n\r\nThe main disadvantage of calling the  &quot;.notifyDataSetChanged()&quot; is that takes 10 seconds to display 400 items in the recycler view. \r\n\r\nMy goal here is to use all background threads sequentially with one main background thread to iterate through the list of some items and add more information to it using other methods that have to have sequential background threads also to get more information from the SugarORM database. Every background thread must communicate with the UI thread safely for instance by using Handler. The reason for that is that the handler then can use &quot;.notifyItemChanged(_position)&quot; and that hopefully can shrink the time to display from 10 seconds to much less.\r\n\r\nThe code below is my test code where I try to implement the background threads sequentially, however, that does not work correctly at the moment.\r\n\r\n\r\n    ThreadGroup mMainThreadForLoopThreadGroup;\r\n    ThreadGroup mThreadGroupMethodOne;\r\n    ThreadGroup mThreadGroupMethodTwo;\r\n\r\n\r\n\r\n    onCreate(Bundle savedInstanceState) {\r\n          callMainThread();\r\n        }\r\n\r\n    private void callMainThread() {\r\n        mMainThreadForLoopThreadGroup = new ThreadGroup(&quot;mMainThreadForLoopThreadGroup&quot;);\r\n        startMainThreadForLoop(mMainThreadForLoopThreadGroup, &quot;mMainThreadForLoop&quot;);\r\n    }\r\n\r\n\r\n    private void startMainThreadForLoop(ThreadGroup _threadGroup, String _threadName) {\r\n        if (_threadName != null &amp;&amp; !_threadName.isEmpty() &amp;&amp; _threadGroup!=null) {\r\n            final String mThreadName = _threadName;\r\n            Thread mThread = new Thread(_threadGroup, new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    final Message mMessage = mHandler.obtainMessage();\r\n                    Bundle mBundle = new Bundle();\r\n                    SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;HH:mm:ss dd/MM/yyyy&quot;, Locale.getDefault());\r\n                    String mDateString = mDateFormat.format(new Date()) + &quot; /startMainThreadForLoop&quot;;\r\n                    mBundle.putString(&quot;messageString&quot;, mDateString);\r\n                    mBundle.putBoolean(_threadName + &quot;Boolean&quot;, true);\r\n                    try {\r\n                        for (int n=0; n&lt;=4; n++) {\r\n                            if (n % 2==0){\r\n                                methodOne();\r\n                        } else {\r\n                                methodTwo();\r\n                            }\r\n                        }\r\n                        try {\r\n                            Thread.sleep(5000);\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    } catch (Exception ex) {\r\n    \r\n                    }\r\n                    mMessage.setData(mBundle);\r\n                    mHandler.sendMessage(mMessage);\r\n                }\r\n            }, mThreadName);\r\n            mThread.start();\r\n        }\r\n    }\r\n\r\n    private void methodOne() {\r\n        mThreadGroupMethodOne = new ThreadGroup(&quot;mThreadGroupMethodOne&quot;);\r\n        for (int n=0; n&lt;=4; n++) {\r\n            if (n % 2==0){\r\n                startThreadMethodOneA(mThreadGroupMethodOne, &quot;mThreadMethodOneA&quot;);\r\n            } else {\r\n                startThreadMethodOneB(mThreadGroupMethodOne, &quot;mThreadMethodOneB&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void methodTwo() {\r\n        mThreadGroupMethodTwo = new ThreadGroup(&quot;mThreadGroupMethodTwo&quot;);\r\n        for (int n=0; n&lt;=4; n++) {\r\n            if (n % 2==0){\r\n                startThreadMethodTwoA(mThreadGroupMethodTwo, &quot;mThreadMethodTwoA&quot;);\r\n            } else {\r\n                startThreadMethodTwoB(mThreadGroupMethodTwo, &quot;mThreadMethodTwoB&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private void startThreadMethodOneA(ThreadGroup _threadGroup, String _threadName) {\r\n        if (_threadName != null &amp;&amp; !_threadName.isEmpty() &amp;&amp; _threadGroup!=null) {\r\n            final String mThreadName = _threadName;\r\n            Thread mThread = new Thread(_threadGroup, new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    final Message mMessage = mHandler.obtainMessage();\r\n                    Bundle mBundle = new Bundle();\r\n                    SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;HH:mm:ss dd/MM/yyyy&quot;, Locale.getDefault());\r\n                    String mDateString = mDateFormat.format(new Date()) + &quot; /startThreadMethodOneA&quot;;\r\n                    mBundle.putString(&quot;messageString&quot;, mDateString);\r\n                    mBundle.putBoolean(_threadName + &quot;Boolean&quot;, true);\r\n                    try {\r\n                        try {\r\n                            Thread.sleep(5000);\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    } catch (Exception ex) {\r\n                    }\r\n                    mMessage.setData(mBundle);\r\n                    mHandler.sendMessage(mMessage);\r\n                }\r\n            }, mThreadName);\r\n            mThread.start();\r\n        }\r\n    }\r\n    \r\n\r\n    private void startThreadMethodOneB(ThreadGroup _threadGroup, String _threadName) {\r\n            if (_threadName != null &amp;&amp; !_threadName.isEmpty() &amp;&amp; _threadGroup!=null) {\r\n                final String mThreadName = _threadName;\r\n                Thread mThread = new Thread(_threadGroup, new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        final Message mMessage = mHandler.obtainMessage();\r\n                        Bundle mBundle = new Bundle();\r\n                        SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;HH:mm:ss dd/MM/yyyy&quot;, Locale.getDefault());\r\n                        String mDateString = mDateFormat.format(new Date()) + &quot; /startThreadMethodOneB&quot;;\r\n                        mBundle.putString(&quot;messageString&quot;, mDateString);\r\n                        mBundle.putBoolean(_threadName + &quot;Boolean&quot;, true);\r\n                        try {\r\n                            try {\r\n                                Thread.sleep(5000);\r\n                            } catch (InterruptedException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        } catch (Exception ex) {\r\n                        }\r\n                        mMessage.setData(mBundle);\r\n                        mHandler.sendMessage(mMessage);\r\n                    }\r\n                }, mThreadName);\r\n                mThread.start();\r\n    \r\n            }\r\n        }\r\n\r\n\r\n    private void startThreadMethodTwoA(ThreadGroup _threadGroup, String _threadName) {\r\n        if (_threadName != null &amp;&amp; !_threadName.isEmpty() &amp;&amp; _threadGroup!=null) {\r\n            final String mThreadName = _threadName;\r\n            Thread mThread = new Thread(_threadGroup, new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    final Message mMessage = mHandler.obtainMessage();\r\n                    Bundle mBundle = new Bundle();\r\n                    SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;HH:mm:ss dd/MM/yyyy&quot;, Locale.getDefault());\r\n                    String mDateString = mDateFormat.format(new Date()) + &quot; /startThreadMethodTwoA&quot;;\r\n                    mBundle.putString(&quot;messageString&quot;, mDateString);\r\n                    mBundle.putBoolean(_threadName + &quot;Boolean&quot;, true);\r\n                    try {\r\n                        try {\r\n                            Thread.sleep(5000);\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    } catch (Exception ex) {\r\n                    }\r\n                    mMessage.setData(mBundle);\r\n                    mHandler.sendMessage(mMessage);\r\n                }\r\n            }, mThreadName);\r\n            mThread.start();\r\n        }\r\n    }\r\n    \r\n\r\n    private void startThreadMethodTwoB(ThreadGroup _threadGroup, String _threadName) {\r\n            if (_threadName != null &amp;&amp; !_threadName.isEmpty() &amp;&amp; _threadGroup!=null) {\r\n                final String mThreadName = _threadName;\r\n                Thread mThread = new Thread(_threadGroup, new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        final Message mMessage = mHandler.obtainMessage();\r\n                        Bundle mBundle = new Bundle();\r\n                        SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;HH:mm:ss dd/MM/yyyy&quot;, Locale.getDefault());\r\n                        String mDateString = mDateFormat.format(new Date()) + &quot; /startThreadMethodTwoB&quot;;\r\n                        mBundle.putString(&quot;messageString&quot;, mDateString);\r\n                        mBundle.putBoolean(_threadName + &quot;Boolean&quot;, true);\r\n                        try {\r\n                            try {\r\n                                Thread.sleep(5000);\r\n                            } catch (InterruptedException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        } catch (Exception ex) {\r\n                        }\r\n                        mMessage.setData(mBundle);\r\n                        mHandler.sendMessage(mMessage);\r\n                    }\r\n                }, mThreadName);\r\n                mThread.start();\r\n            }\r\n        }\r\n\r\n\r\n    @SuppressLint(&quot;HandlerLeak&quot;)\r\n    Handler mHandler = new Handler() {\r\n        @Override\r\n        public void handleMessage(Message msg) {\r\n            Bundle mBundle = msg.getData();\r\n            String mNewString = mBundle.getString(&quot;messageString&quot;);\r\n            boolean mBooleanMainThreadForLoopValue = mBundle.getBoolean(&quot;mMainThreadForLoopBoolean&quot;);\r\n            boolean mBooleanThreadMethodOneAValue = mBundle.getBoolean(&quot;mThreadMethodOneABoolean&quot;);\r\n            boolean mBooleanThreadMethodOneBValue = mBundle.getBoolean(&quot;mThreadMethodOneBBoolean&quot;);\r\n            boolean mBooleanThreadMethodTwoAValue = mBundle.getBoolean(&quot;mThreadMethodTwoABoolean&quot;);\r\n            boolean mBooleanThreadMethodTwoBValue = mBundle.getBoolean(&quot;mThreadMethodTwoBBoolean&quot;);\r\n            if (mBooleanMainThreadForLoopValue) {\r\n                if (mBundle.getString(&quot;messageString&quot;)!=null &amp;&amp;\r\n                        !mBundle.getString(&quot;messageString&quot;).isEmpty() ) {\r\n                    Log.d(&quot;Handler Response&quot;, &quot;\\nmMainThreadForLoopBoolean Finished, value: &quot; +\r\n                            mBundle.getString(&quot;messageString&quot;));\r\n                    dateTextView.setText(mBundle.getString(&quot;messageString&quot;));\r\n                }\r\n            } else if (mBooleanThreadMethodOneAValue) {\r\n                if (mBundle.getString(&quot;messageString&quot;)!=null &amp;&amp;\r\n                        !mBundle.getString(&quot;messageString&quot;).isEmpty() ) {\r\n                    Log.d(&quot;Handler Response&quot;, &quot;\\nmThreadMethodOneABoolean Finished, value: &quot; +\r\n                            mBundle.getString(&quot;messageString&quot;));\r\n                    dateTextViewSecond.setText(mBundle.getString(&quot;messageString&quot;));\r\n                }\r\n            } else if (mBooleanThreadMethodOneBValue) {\r\n                if (mBundle.getString(&quot;messageString&quot;)!=null &amp;&amp;\r\n                        !mBundle.getString(&quot;messageString&quot;).isEmpty() ) {\r\n                    Log.d(&quot;Handler Response&quot;, &quot;\\nmThreadMethodOneBBoolean Finished, value: &quot; +\r\n                            mBundle.getString(&quot;messageString&quot;));\r\n                    dateTextViewSecond.setText(mBundle.getString(&quot;messageString&quot;));\r\n                }\r\n            } else if (mBooleanThreadMethodTwoAValue) {\r\n                if (mBundle.getString(&quot;messageString&quot;)!=null &amp;&amp;\r\n                        !mBundle.getString(&quot;messageString&quot;).isEmpty() ) {\r\n                    Log.d(&quot;Handler Response&quot;, &quot;\\nmThreadMethodTwoABoolean Finished, value: &quot; +\r\n                            mBundle.getString(&quot;messageString&quot;));\r\n                    dateTextViewSecond.setText(mBundle.getString(&quot;messageString&quot;));\r\n                }\r\n            } else if (mBooleanThreadMethodTwoBValue) {\r\n                if (mBundle.getString(&quot;messageString&quot;)!=null &amp;&amp;\r\n                        !mBundle.getString(&quot;messageString&quot;).isEmpty() ) {\r\n                    Log.d(&quot;Handler Response&quot;, &quot;\\nmThreadMethodTwoBBoolean Finished, value: &quot; +\r\n                            mBundle.getString(&quot;messageString&quot;));\r\n                    dateTextViewSecond.setText(mBundle.getString(&quot;messageString&quot;));\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to use background threads sequentially the correct way?","body":"<p>Currently, my app uses one background thread in the method to iterate through the list of some items and based on that item type I am adding more information to it using other methods and then storing the new data in the Array List. Then when the background thread finished I am informed about that by the Handler and I am using the  &quot;.notifyDataSetChanged() inside the Handler&quot;.</p>\n<p>The main disadvantage of calling the  &quot;.notifyDataSetChanged()&quot; is that takes 10 seconds to display 400 items in the recycler view.</p>\n<p>My goal here is to use all background threads sequentially with one main background thread to iterate through the list of some items and add more information to it using other methods that have to have sequential background threads also to get more information from the SugarORM database. Every background thread must communicate with the UI thread safely for instance by using Handler. The reason for that is that the handler then can use &quot;.notifyItemChanged(_position)&quot; and that hopefully can shrink the time to display from 10 seconds to much less.</p>\n<p>The code below is my test code where I try to implement the background threads sequentially, however, that does not work correctly at the moment.</p>\n<pre><code>ThreadGroup mMainThreadForLoopThreadGroup;\nThreadGroup mThreadGroupMethodOne;\nThreadGroup mThreadGroupMethodTwo;\n\n\n\nonCreate(Bundle savedInstanceState) {\n      callMainThread();\n    }\n\nprivate void callMainThread() {\n    mMainThreadForLoopThreadGroup = new ThreadGroup(&quot;mMainThreadForLoopThreadGroup&quot;);\n    startMainThreadForLoop(mMainThreadForLoopThreadGroup, &quot;mMainThreadForLoop&quot;);\n}\n\n\nprivate void startMainThreadForLoop(ThreadGroup _threadGroup, String _threadName) {\n    if (_threadName != null &amp;&amp; !_threadName.isEmpty() &amp;&amp; _threadGroup!=null) {\n        final String mThreadName = _threadName;\n        Thread mThread = new Thread(_threadGroup, new Runnable() {\n            @Override\n            public void run() {\n                final Message mMessage = mHandler.obtainMessage();\n                Bundle mBundle = new Bundle();\n                SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;HH:mm:ss dd/MM/yyyy&quot;, Locale.getDefault());\n                String mDateString = mDateFormat.format(new Date()) + &quot; /startMainThreadForLoop&quot;;\n                mBundle.putString(&quot;messageString&quot;, mDateString);\n                mBundle.putBoolean(_threadName + &quot;Boolean&quot;, true);\n                try {\n                    for (int n=0; n&lt;=4; n++) {\n                        if (n % 2==0){\n                            methodOne();\n                    } else {\n                            methodTwo();\n                        }\n                    }\n                    try {\n                        Thread.sleep(5000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                } catch (Exception ex) {\n\n                }\n                mMessage.setData(mBundle);\n                mHandler.sendMessage(mMessage);\n            }\n        }, mThreadName);\n        mThread.start();\n    }\n}\n\nprivate void methodOne() {\n    mThreadGroupMethodOne = new ThreadGroup(&quot;mThreadGroupMethodOne&quot;);\n    for (int n=0; n&lt;=4; n++) {\n        if (n % 2==0){\n            startThreadMethodOneA(mThreadGroupMethodOne, &quot;mThreadMethodOneA&quot;);\n        } else {\n            startThreadMethodOneB(mThreadGroupMethodOne, &quot;mThreadMethodOneB&quot;);\n        }\n    }\n}\n\nprivate void methodTwo() {\n    mThreadGroupMethodTwo = new ThreadGroup(&quot;mThreadGroupMethodTwo&quot;);\n    for (int n=0; n&lt;=4; n++) {\n        if (n % 2==0){\n            startThreadMethodTwoA(mThreadGroupMethodTwo, &quot;mThreadMethodTwoA&quot;);\n        } else {\n            startThreadMethodTwoB(mThreadGroupMethodTwo, &quot;mThreadMethodTwoB&quot;);\n        }\n    }\n}\n\n\nprivate void startThreadMethodOneA(ThreadGroup _threadGroup, String _threadName) {\n    if (_threadName != null &amp;&amp; !_threadName.isEmpty() &amp;&amp; _threadGroup!=null) {\n        final String mThreadName = _threadName;\n        Thread mThread = new Thread(_threadGroup, new Runnable() {\n            @Override\n            public void run() {\n                final Message mMessage = mHandler.obtainMessage();\n                Bundle mBundle = new Bundle();\n                SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;HH:mm:ss dd/MM/yyyy&quot;, Locale.getDefault());\n                String mDateString = mDateFormat.format(new Date()) + &quot; /startThreadMethodOneA&quot;;\n                mBundle.putString(&quot;messageString&quot;, mDateString);\n                mBundle.putBoolean(_threadName + &quot;Boolean&quot;, true);\n                try {\n                    try {\n                        Thread.sleep(5000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                } catch (Exception ex) {\n                }\n                mMessage.setData(mBundle);\n                mHandler.sendMessage(mMessage);\n            }\n        }, mThreadName);\n        mThread.start();\n    }\n}\n\n\nprivate void startThreadMethodOneB(ThreadGroup _threadGroup, String _threadName) {\n        if (_threadName != null &amp;&amp; !_threadName.isEmpty() &amp;&amp; _threadGroup!=null) {\n            final String mThreadName = _threadName;\n            Thread mThread = new Thread(_threadGroup, new Runnable() {\n                @Override\n                public void run() {\n                    final Message mMessage = mHandler.obtainMessage();\n                    Bundle mBundle = new Bundle();\n                    SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;HH:mm:ss dd/MM/yyyy&quot;, Locale.getDefault());\n                    String mDateString = mDateFormat.format(new Date()) + &quot; /startThreadMethodOneB&quot;;\n                    mBundle.putString(&quot;messageString&quot;, mDateString);\n                    mBundle.putBoolean(_threadName + &quot;Boolean&quot;, true);\n                    try {\n                        try {\n                            Thread.sleep(5000);\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (Exception ex) {\n                    }\n                    mMessage.setData(mBundle);\n                    mHandler.sendMessage(mMessage);\n                }\n            }, mThreadName);\n            mThread.start();\n\n        }\n    }\n\n\nprivate void startThreadMethodTwoA(ThreadGroup _threadGroup, String _threadName) {\n    if (_threadName != null &amp;&amp; !_threadName.isEmpty() &amp;&amp; _threadGroup!=null) {\n        final String mThreadName = _threadName;\n        Thread mThread = new Thread(_threadGroup, new Runnable() {\n            @Override\n            public void run() {\n                final Message mMessage = mHandler.obtainMessage();\n                Bundle mBundle = new Bundle();\n                SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;HH:mm:ss dd/MM/yyyy&quot;, Locale.getDefault());\n                String mDateString = mDateFormat.format(new Date()) + &quot; /startThreadMethodTwoA&quot;;\n                mBundle.putString(&quot;messageString&quot;, mDateString);\n                mBundle.putBoolean(_threadName + &quot;Boolean&quot;, true);\n                try {\n                    try {\n                        Thread.sleep(5000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                } catch (Exception ex) {\n                }\n                mMessage.setData(mBundle);\n                mHandler.sendMessage(mMessage);\n            }\n        }, mThreadName);\n        mThread.start();\n    }\n}\n\n\nprivate void startThreadMethodTwoB(ThreadGroup _threadGroup, String _threadName) {\n        if (_threadName != null &amp;&amp; !_threadName.isEmpty() &amp;&amp; _threadGroup!=null) {\n            final String mThreadName = _threadName;\n            Thread mThread = new Thread(_threadGroup, new Runnable() {\n                @Override\n                public void run() {\n                    final Message mMessage = mHandler.obtainMessage();\n                    Bundle mBundle = new Bundle();\n                    SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;HH:mm:ss dd/MM/yyyy&quot;, Locale.getDefault());\n                    String mDateString = mDateFormat.format(new Date()) + &quot; /startThreadMethodTwoB&quot;;\n                    mBundle.putString(&quot;messageString&quot;, mDateString);\n                    mBundle.putBoolean(_threadName + &quot;Boolean&quot;, true);\n                    try {\n                        try {\n                            Thread.sleep(5000);\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (Exception ex) {\n                    }\n                    mMessage.setData(mBundle);\n                    mHandler.sendMessage(mMessage);\n                }\n            }, mThreadName);\n            mThread.start();\n        }\n    }\n\n\n@SuppressLint(&quot;HandlerLeak&quot;)\nHandler mHandler = new Handler() {\n    @Override\n    public void handleMessage(Message msg) {\n        Bundle mBundle = msg.getData();\n        String mNewString = mBundle.getString(&quot;messageString&quot;);\n        boolean mBooleanMainThreadForLoopValue = mBundle.getBoolean(&quot;mMainThreadForLoopBoolean&quot;);\n        boolean mBooleanThreadMethodOneAValue = mBundle.getBoolean(&quot;mThreadMethodOneABoolean&quot;);\n        boolean mBooleanThreadMethodOneBValue = mBundle.getBoolean(&quot;mThreadMethodOneBBoolean&quot;);\n        boolean mBooleanThreadMethodTwoAValue = mBundle.getBoolean(&quot;mThreadMethodTwoABoolean&quot;);\n        boolean mBooleanThreadMethodTwoBValue = mBundle.getBoolean(&quot;mThreadMethodTwoBBoolean&quot;);\n        if (mBooleanMainThreadForLoopValue) {\n            if (mBundle.getString(&quot;messageString&quot;)!=null &amp;&amp;\n                    !mBundle.getString(&quot;messageString&quot;).isEmpty() ) {\n                Log.d(&quot;Handler Response&quot;, &quot;\\nmMainThreadForLoopBoolean Finished, value: &quot; +\n                        mBundle.getString(&quot;messageString&quot;));\n                dateTextView.setText(mBundle.getString(&quot;messageString&quot;));\n            }\n        } else if (mBooleanThreadMethodOneAValue) {\n            if (mBundle.getString(&quot;messageString&quot;)!=null &amp;&amp;\n                    !mBundle.getString(&quot;messageString&quot;).isEmpty() ) {\n                Log.d(&quot;Handler Response&quot;, &quot;\\nmThreadMethodOneABoolean Finished, value: &quot; +\n                        mBundle.getString(&quot;messageString&quot;));\n                dateTextViewSecond.setText(mBundle.getString(&quot;messageString&quot;));\n            }\n        } else if (mBooleanThreadMethodOneBValue) {\n            if (mBundle.getString(&quot;messageString&quot;)!=null &amp;&amp;\n                    !mBundle.getString(&quot;messageString&quot;).isEmpty() ) {\n                Log.d(&quot;Handler Response&quot;, &quot;\\nmThreadMethodOneBBoolean Finished, value: &quot; +\n                        mBundle.getString(&quot;messageString&quot;));\n                dateTextViewSecond.setText(mBundle.getString(&quot;messageString&quot;));\n            }\n        } else if (mBooleanThreadMethodTwoAValue) {\n            if (mBundle.getString(&quot;messageString&quot;)!=null &amp;&amp;\n                    !mBundle.getString(&quot;messageString&quot;).isEmpty() ) {\n                Log.d(&quot;Handler Response&quot;, &quot;\\nmThreadMethodTwoABoolean Finished, value: &quot; +\n                        mBundle.getString(&quot;messageString&quot;));\n                dateTextViewSecond.setText(mBundle.getString(&quot;messageString&quot;));\n            }\n        } else if (mBooleanThreadMethodTwoBValue) {\n            if (mBundle.getString(&quot;messageString&quot;)!=null &amp;&amp;\n                    !mBundle.getString(&quot;messageString&quot;).isEmpty() ) {\n                Log.d(&quot;Handler Response&quot;, &quot;\\nmThreadMethodTwoBBoolean Finished, value: &quot; +\n                        mBundle.getString(&quot;messageString&quot;));\n                dateTextViewSecond.setText(mBundle.getString(&quot;messageString&quot;));\n            }\n        }\n    }\n};\n</code></pre>\n"},{"tags":["java","pom.xml","logback","classnotfoundexception"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1678901199,"post_id":75747579,"comment_id":133624503,"body_markdown":"It seems that the trace you provided is not complete. Could you please check that?","body":"It seems that the trace you provided is not complete. Could you please check that?"},{"owner":{"account_id":21942625,"reputation":11,"user_id":16222956,"display_name":"Prachi Soni"},"score":0,"creation_date":1679380231,"post_id":75747579,"comment_id":133706737,"body_markdown":"I added whole trace for component error","body":"I added whole trace for component error"},{"owner":{"account_id":3243973,"reputation":370,"user_id":2736145,"display_name":"Ashish Singh"},"score":0,"creation_date":1685598680,"post_id":75747579,"comment_id":134683029,"body_markdown":"its look like M1 issue","body":"its look like M1 issue"}],"owner":{"account_id":21942625,"reputation":11,"user_id":16222956,"display_name":"Prachi Soni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678903002,"creation_date":1678898097,"question_id":75747579,"body_markdown":"I am trying to implement logback in my maven project. I have added a class named AUDITJsonLayout which is extending JsonLayout for populating custom JSON fields in my log file/console inside message:&quot;&quot;  (for eg: &quot;trace-id&quot;, &quot;operation-name:&quot;,&quot;URI:&quot;&quot;) \r\n\r\nHowever I am getting exception as ClassNotfound.\r\nI have tried changing the filepath and saved at src_boot/main/resources as well however same error. Not sure what went wrong. \r\nI am stuck for days trying to resolve the same.\r\n\r\nBelow are the files that I have created along with the exception details.\r\n\r\n```\r\n|-ERROR in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Could not create component [layout] of type [main.resources.logging.AUDITJsonLayout] java.lang.ClassNotFoundException: main.resources.logging.AUDITJsonLayout\r\n\tat java.lang.ClassNotFoundException: main.resources.logging.AUDITJsonLayout\r\n\tat \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat \tat ch.qos.logback.core.util.Loader.loadClass(Loader.java:120)\r\n\tat \tat ch.qos.logback.core.joran.action.NestedComplexPropertyIA.begin(NestedComplexPropertyIA.java:102)\r\n\tat \tat ch.qos.logback.core.joran.spi.Interpreter.callBeginAction(Interpreter.java:269)\r\n\tat \tat ch.qos.logback.core.joran.spi.Interpreter.startElement(Interpreter.java:145)\r\n\tat \tat ch.qos.logback.core.joran.spi.Interpreter.startElement(Interpreter.java:128)\r\n\tat \tat ch.qos.logback.core.joran.spi.EventPlayer.play(EventPlayer.java:50)\r\n\tat \tat ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:165)\r\n\tat \tat ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:152)\r\n\tat \tat ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:110)\r\n\tat \tat ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:53)\r\n\tat \tat ch.qos.logback.classic.util.ContextInitializer.configureByResource(ContextInitializer.java:75)\r\n\tat \tat ch.qos.logback.classic.util.ContextInitializer.autoConfig(ContextInitializer.java:150)\r\n\tat \tat org.slf4j.impl.StaticLoggerBinder.init(StaticLoggerBinder.java:84)\r\n\tat \tat org.slf4j.impl.StaticLoggerBinder.&lt;clinit&gt;(StaticLoggerBinder.java:55)\r\n\tat \tat org.slf4j.LoggerFactory.bind(LoggerFactory.java:128)\r\n\tat \tat org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:107)\r\n\tat \tat org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:295)\r\n\tat \tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:269)\r\n\tat \tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:281)\r\n\tat \tat org.apache.geronimo.transaction.manager.TransactionManagerImpl.&lt;clinit&gt;(TransactionManagerImpl.java:42)\r\n\tat \tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat \tat java.base/java.lang.Class.forName(Class.java:315)\r\n\tat \tat amdocs.ecommerce.esi.utils.db.geronimo.GeronimoFactory.initTransactionManager(GeronimoFactory.java:61)\r\n\tat \tat amdocs.ecommerce.esi.utils.db.geronimo.GeronimoFactory.&lt;clinit&gt;(GeronimoFactory.java:23)\r\n\tat \tat amdocs.ecommerce.esi.utils.db.dbcp.GeronimoTXDataSourceFactory.createDataSource(GeronimoTXDataSourceFactory.java:16)\r\n\tat \tat amdocs.ecommerce.esi.utils.db.dbcp.BasicEncryptedDataSourceFactory.getObjectInstance(BasicEncryptedDataSourceFactory.java:193)\r\n\tat \tat org.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:96)\r\n\tat \tat java.naming/javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:341)\r\n\tat \tat org.apache.naming.NamingContext.lookup(NamingContext.java:864)\r\n\tat \tat org.apache.naming.NamingContext.lookup(NamingContext.java:172)\r\n\tat \tat org.apache.catalina.core.NamingContextListener.addResource(NamingContextListener.java:1020)\r\n\tat \tat org.apache.catalina.core.NamingContextListener.createNamingContext(NamingContextListener.java:559)\r\n\tat \tat org.apache.catalina.core.NamingContextListener.lifecycleEvent(NamingContextListener.java:252)\r\n\tat \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\tat \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:926)\r\n\tat \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat \tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\tat \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n08:23:43,769 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@14:88 - no appli\r\n```\r\n\r\nBelow are the configuration details that i have added in my project \r\n\r\n**pom.xml**\r\n```xml\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.o2alib.lib.ext.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-jackson-0.1.5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.o2alib.lib.ext.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-json-classic-0.1.5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.o2alib.lib.ext.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-json-core-0.1.5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.o2alib.lib.endorsed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api-1.7.25&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.o2alib.lib.endorsed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-simple-1.7.25&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n**logback.xml:**\r\n```xml\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;JESIWF_LOG&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;!--See also http://logback.qos.ch/manual/appenders.html#RollingFileAppender--&gt;\r\n        &lt;File&gt;./logs/JESIWF.log&lt;/File&gt;\r\n        &lt;encoder&gt;\r\n            &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n                &lt;prettyPrint&gt;false&lt;/prettyPrint&gt;\r\n            &lt;/jsonFormatter&gt;\r\n            &lt;timestampFormat&gt;yyyy-MM-dd&#39; &#39;HH:mm:ss.SSS&lt;/timestampFormat&gt;\r\n            &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\r\n\r\n            &lt;!--pattern&gt;&amp;lt;%d&amp;gt; &amp;lt;%p&amp;gt; &amp;lt;Amdocs&amp;gt; &amp;lt;%c{1}&amp;gt; %m%n&lt;/pattern--&gt;\r\n            &lt;pattern&gt;\r\n                {&quot;timestamp&quot;: &quot;%d{yyyy-MM-dd}T%d{HH:mm:ss.SSS}&quot;,&quot;level&quot;: &quot;%p&quot;,&quot;logger&quot;: &quot;%c&quot;,&quot;message&quot;:&quot;%m&quot;}%n\r\n            &lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.FixedWindowRollingPolicy&quot;&gt;\r\n            &lt;maxIndex&gt;5&lt;/maxIndex&gt;\r\n            &lt;FileNamePattern&gt;./logs/JESIWF.log.%i&lt;/FileNamePattern&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\r\n            &lt;MaxFileSize&gt;1000KB&lt;/MaxFileSize&gt;\r\n        &lt;/triggeringPolicy&gt;\r\n    &lt;/appender&gt;\r\n\r\n    \r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n                &lt;layout class=&quot;src.main.java.AUDITLayoutClass&quot;&gt;\r\n            &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n                &lt;prettyPrint&gt;false&lt;/prettyPrint&gt;\r\n            &lt;/jsonFormatter&gt;\r\n            &lt;timestampFormat&gt;yyyy-MM-dd&#39; &#39;HH:mm:ss.SSS&lt;/timestampFormat&gt;\r\n            &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;appender name=&quot;ASYNC_CONSOLE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n        &lt;queueSize&gt;3072&lt;/queueSize&gt;\r\n        &lt;discardingThreshold&gt;10&lt;/discardingThreshold&gt;\r\n        &lt;includeCallerData&gt;true&lt;/includeCallerData&gt;\r\n        &lt;neverBlock&gt;true&lt;/neverBlock&gt;\r\n    &lt;/appender&gt;\r\n    &lt;logger name=&quot;JESIWF&quot; additivity=&quot;false&quot; level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_CONSOLE&quot;/&gt;\r\n    &lt;/logger&gt;\r\n    &lt;logger name=&quot;net.sf.dozer&quot; additivity=&quot;false&quot; level=&quot;WARN&quot;&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_CONSOLE&quot;/&gt;\r\n    &lt;/logger&gt;\r\n \r\n    &lt;logger name=&quot;console&quot; additivity=&quot;false&quot; level=&quot;INFO&quot;&gt;\r\n         &lt;appender-ref ref=&quot;ASYNC_CONSOLE&quot;/&gt;\r\n    &lt;/logger&gt;\r\n    &lt;root level=&quot;ERROR&quot;&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_CONSOLE&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n**AUDITLayoutClass.java**\r\n\r\n```java\r\nimport ch.qos.logback.contrib.json.classic.JsonLayout;\r\nimport ch.qos.logback;\r\n\r\nimport java.util.Map;\r\n\r\n\r\npublic class AUDITLayoutClass extends JsonLayout {\r\n    @Override\r\n    protected void addCustomDataToJsonMap(Map&lt;String, Object&gt; map, ILoggingEvent event)\r\n    {\r\n        add(&quot;Operation-Type&quot;, true, &quot;AUDIT&quot;, map);\r\n        add(&quot;Operation-Name&quot;, true, &quot;Kafka&quot;, map);\r\n        add(&quot;Operation-Description&quot;, true, &quot;checking kafka&quot;, map);\r\n        add(&quot;Operation-Status-as-Success&quot;, true, &quot;fail&quot;, map);\r\n    }\r\n}\r\n```","title":"ClassNotFoundException - ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Could not create component [layout]","body":"<p>I am trying to implement logback in my maven project. I have added a class named AUDITJsonLayout which is extending JsonLayout for populating custom JSON fields in my log file/console inside message:&quot;&quot;  (for eg: &quot;trace-id&quot;, &quot;operation-name:&quot;,&quot;URI:&quot;&quot;)</p>\n<p>However I am getting exception as ClassNotfound.\nI have tried changing the filepath and saved at src_boot/main/resources as well however same error. Not sure what went wrong.\nI am stuck for days trying to resolve the same.</p>\n<p>Below are the files that I have created along with the exception details.</p>\n<pre><code>|-ERROR in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Could not create component [layout] of type [main.resources.logging.AUDITJsonLayout] java.lang.ClassNotFoundException: main.resources.logging.AUDITJsonLayout\n    at java.lang.ClassNotFoundException: main.resources.logging.AUDITJsonLayout\n    at  at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at  at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at  at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at  at ch.qos.logback.core.util.Loader.loadClass(Loader.java:120)\n    at  at ch.qos.logback.core.joran.action.NestedComplexPropertyIA.begin(NestedComplexPropertyIA.java:102)\n    at  at ch.qos.logback.core.joran.spi.Interpreter.callBeginAction(Interpreter.java:269)\n    at  at ch.qos.logback.core.joran.spi.Interpreter.startElement(Interpreter.java:145)\n    at  at ch.qos.logback.core.joran.spi.Interpreter.startElement(Interpreter.java:128)\n    at  at ch.qos.logback.core.joran.spi.EventPlayer.play(EventPlayer.java:50)\n    at  at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:165)\n    at  at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:152)\n    at  at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:110)\n    at  at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:53)\n    at  at ch.qos.logback.classic.util.ContextInitializer.configureByResource(ContextInitializer.java:75)\n    at  at ch.qos.logback.classic.util.ContextInitializer.autoConfig(ContextInitializer.java:150)\n    at  at org.slf4j.impl.StaticLoggerBinder.init(StaticLoggerBinder.java:84)\n    at  at org.slf4j.impl.StaticLoggerBinder.&lt;clinit&gt;(StaticLoggerBinder.java:55)\n    at  at org.slf4j.LoggerFactory.bind(LoggerFactory.java:128)\n    at  at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:107)\n    at  at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:295)\n    at  at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:269)\n    at  at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:281)\n    at  at org.apache.geronimo.transaction.manager.TransactionManagerImpl.&lt;clinit&gt;(TransactionManagerImpl.java:42)\n    at  at java.base/java.lang.Class.forName0(Native Method)\n    at  at java.base/java.lang.Class.forName(Class.java:315)\n    at  at amdocs.ecommerce.esi.utils.db.geronimo.GeronimoFactory.initTransactionManager(GeronimoFactory.java:61)\n    at  at amdocs.ecommerce.esi.utils.db.geronimo.GeronimoFactory.&lt;clinit&gt;(GeronimoFactory.java:23)\n    at  at amdocs.ecommerce.esi.utils.db.dbcp.GeronimoTXDataSourceFactory.createDataSource(GeronimoTXDataSourceFactory.java:16)\n    at  at amdocs.ecommerce.esi.utils.db.dbcp.BasicEncryptedDataSourceFactory.getObjectInstance(BasicEncryptedDataSourceFactory.java:193)\n    at  at org.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:96)\n    at  at java.naming/javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:341)\n    at  at org.apache.naming.NamingContext.lookup(NamingContext.java:864)\n    at  at org.apache.naming.NamingContext.lookup(NamingContext.java:172)\n    at  at org.apache.catalina.core.NamingContextListener.addResource(NamingContextListener.java:1020)\n    at  at org.apache.catalina.core.NamingContextListener.createNamingContext(NamingContextListener.java:559)\n    at  at org.apache.catalina.core.NamingContextListener.lifecycleEvent(NamingContextListener.java:252)\n    at  at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at  at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:926)\n    at  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at  at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at  at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at  at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n    at  at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n08:23:43,769 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@14:88 - no appli\n</code></pre>\n<p>Below are the configuration details that i have added in my project</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.o2alib.lib.ext.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-jackson-0.1.5&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.o2alib.lib.ext.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-json-classic-0.1.5&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.o2alib.lib.ext.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-json-core-0.1.5&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.o2alib.lib.endorsed&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api-1.7.25&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.o2alib.lib.endorsed&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple-1.7.25&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><strong>logback.xml:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;appender name=&quot;JESIWF_LOG&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;!--See also http://logback.qos.ch/manual/appenders.html#RollingFileAppender--&gt;\n        &lt;File&gt;./logs/JESIWF.log&lt;/File&gt;\n        &lt;encoder&gt;\n            &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n                &lt;prettyPrint&gt;false&lt;/prettyPrint&gt;\n            &lt;/jsonFormatter&gt;\n            &lt;timestampFormat&gt;yyyy-MM-dd' 'HH:mm:ss.SSS&lt;/timestampFormat&gt;\n            &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\n\n            &lt;!--pattern&gt;&amp;lt;%d&amp;gt; &amp;lt;%p&amp;gt; &amp;lt;Amdocs&amp;gt; &amp;lt;%c{1}&amp;gt; %m%n&lt;/pattern--&gt;\n            &lt;pattern&gt;\n                {&quot;timestamp&quot;: &quot;%d{yyyy-MM-dd}T%d{HH:mm:ss.SSS}&quot;,&quot;level&quot;: &quot;%p&quot;,&quot;logger&quot;: &quot;%c&quot;,&quot;message&quot;:&quot;%m&quot;}%n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.FixedWindowRollingPolicy&quot;&gt;\n            &lt;maxIndex&gt;5&lt;/maxIndex&gt;\n            &lt;FileNamePattern&gt;./logs/JESIWF.log.%i&lt;/FileNamePattern&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\n            &lt;MaxFileSize&gt;1000KB&lt;/MaxFileSize&gt;\n        &lt;/triggeringPolicy&gt;\n    &lt;/appender&gt;\n\n    \n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n                &lt;layout class=&quot;src.main.java.AUDITLayoutClass&quot;&gt;\n            &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n                &lt;prettyPrint&gt;false&lt;/prettyPrint&gt;\n            &lt;/jsonFormatter&gt;\n            &lt;timestampFormat&gt;yyyy-MM-dd' 'HH:mm:ss.SSS&lt;/timestampFormat&gt;\n            &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\n            &lt;/layout&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;appender name=&quot;ASYNC_CONSOLE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n        &lt;queueSize&gt;3072&lt;/queueSize&gt;\n        &lt;discardingThreshold&gt;10&lt;/discardingThreshold&gt;\n        &lt;includeCallerData&gt;true&lt;/includeCallerData&gt;\n        &lt;neverBlock&gt;true&lt;/neverBlock&gt;\n    &lt;/appender&gt;\n    &lt;logger name=&quot;JESIWF&quot; additivity=&quot;false&quot; level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;ASYNC_CONSOLE&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;logger name=&quot;net.sf.dozer&quot; additivity=&quot;false&quot; level=&quot;WARN&quot;&gt;\n        &lt;appender-ref ref=&quot;ASYNC_CONSOLE&quot;/&gt;\n    &lt;/logger&gt;\n \n    &lt;logger name=&quot;console&quot; additivity=&quot;false&quot; level=&quot;INFO&quot;&gt;\n         &lt;appender-ref ref=&quot;ASYNC_CONSOLE&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;root level=&quot;ERROR&quot;&gt;\n        &lt;appender-ref ref=&quot;ASYNC_CONSOLE&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p><strong>AUDITLayoutClass.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import ch.qos.logback.contrib.json.classic.JsonLayout;\nimport ch.qos.logback;\n\nimport java.util.Map;\n\n\npublic class AUDITLayoutClass extends JsonLayout {\n    @Override\n    protected void addCustomDataToJsonMap(Map&lt;String, Object&gt; map, ILoggingEvent event)\n    {\n        add(&quot;Operation-Type&quot;, true, &quot;AUDIT&quot;, map);\n        add(&quot;Operation-Name&quot;, true, &quot;Kafka&quot;, map);\n        add(&quot;Operation-Description&quot;, true, &quot;checking kafka&quot;, map);\n        add(&quot;Operation-Status-as-Success&quot;, true, &quot;fail&quot;, map);\n    }\n}\n</code></pre>\n"},{"tags":["java","decimal"],"comments":[{"owner":{"account_id":3138548,"reputation":10293,"user_id":2654518,"accept_rate":80,"display_name":"ericbn"},"score":2,"creation_date":1411679515,"post_id":26048153,"comment_id":40806035,"body_markdown":"What have you tried so far? Try to post a [Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve).","body":"What have you tried so far? Try to post a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":4986647,"reputation":53,"user_id":4010046,"display_name":"Salma Hassan"},"score":0,"creation_date":1411681496,"post_id":26048153,"comment_id":40806844,"body_markdown":"@ericbn Unfortunately, I wasn&#39;t be able to make any code but here is what I am trying to do : if I have a float that have 2 numbers after the decimal point , I want to check if the SECOND number is bigger than 5 or not ?! I have no idea how can I do it.","body":"@ericbn Unfortunately, I wasn&#39;t be able to make any code but here is what I am trying to do : if I have a float that have 2 numbers after the decimal point , I want to check if the SECOND number is bigger than 5 or not ?! I have no idea how can I do it."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1411682576,"post_id":26048153,"comment_id":40807263,"body_markdown":"Be aware that 5.26 cannot be exactly represented as a floating point value. [What Every Computer Scientist Should Know About Floating-Point Arithmetic](http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html)","body":"Be aware that 5.26 cannot be exactly represented as a floating point value. <a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>"},{"owner":{"account_id":4986647,"reputation":53,"user_id":4010046,"display_name":"Salma Hassan"},"score":0,"creation_date":1411683798,"post_id":26048153,"comment_id":40807705,"body_markdown":"float x = (float) 5.26; this is how I used to write it . Is this wrong sir?","body":"float x = (float) 5.26; this is how I used to write it . Is this wrong sir?"},{"owner":{"account_id":1165974,"reputation":4349,"user_id":1144275,"display_name":"TechTrip"},"score":0,"creation_date":1411684280,"post_id":26048153,"comment_id":40807859,"body_markdown":"float x = 5.26f; is the way to write it.","body":"float x = 5.26f; is the way to write it."},{"owner":{"account_id":4986647,"reputation":53,"user_id":4010046,"display_name":"Salma Hassan"},"score":0,"creation_date":1411685529,"post_id":26048153,"comment_id":40808273,"body_markdown":"Thank you sir! but can you tell me what&#39;s the difference between using float num = 0.12438f; and  float num = (float) 0.12438; ??","body":"Thank you sir! but can you tell me what&#39;s the difference between using float num = 0.12438f; and  float num = (float) 0.12438; ??"},{"owner":{"account_id":1165974,"reputation":4349,"user_id":1144275,"display_name":"TechTrip"},"score":1,"creation_date":1411692066,"post_id":26048153,"comment_id":40809879,"body_markdown":"If you do float x = (float) 5.26 you are casting to a float from a double which in effect is doing an implicit conversion from double to float and can result in a loss of precision. Such and assignment can in fact result in two different numbers being represented (one on the left and one on the right). A float is a 32 bit number and double is 64 bits. Try comparing a float rep of a number to the double equivalent using == and you will see that they don&#39;t always equate. For example if (1.32f == 1.32) vs if (6f == 6). You shouldn&#39;t mix the two in the manner above.","body":"If you do float x = (float) 5.26 you are casting to a float from a double which in effect is doing an implicit conversion from double to float and can result in a loss of precision. Such and assignment can in fact result in two different numbers being represented (one on the left and one on the right). A float is a 32 bit number and double is 64 bits. Try comparing a float rep of a number to the double equivalent using == and you will see that they don&#39;t always equate. For example if (1.32f == 1.32) vs if (6f == 6). You shouldn&#39;t mix the two in the manner above."},{"owner":{"account_id":1365525,"reputation":10303,"user_id":2623899,"accept_rate":90,"display_name":"abcd"},"score":1,"creation_date":1442597507,"post_id":26048153,"comment_id":53162029,"body_markdown":"@SalmaHassan thank you for keeping this question up despite the downvotes!  great question!  not sure why it got so derailed with this talk of exact representation . . .","body":"@SalmaHassan thank you for keeping this question up despite the downvotes!  great question!  not sure why it got so derailed with this talk of exact representation . . ."},{"owner":{"account_id":4986647,"reputation":53,"user_id":4010046,"display_name":"Salma Hassan"},"score":0,"creation_date":1585157071,"post_id":26048153,"comment_id":107666963,"body_markdown":"Dear @dbliss, I haven&#39;t logged in to this account for ages and I just saw your comment, thank you! :)","body":"Dear @dbliss, I haven&#39;t logged in to this account for ages and I just saw your comment, thank you! :)"}],"answers":[{"tags":[],"owner":{"account_id":5042904,"reputation":2074,"user_id":4049748,"accept_rate":100,"display_name":"Vincent Beltman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411679530,"creation_date":1411679530,"answer_id":26048185,"question_id":26048153,"body_markdown":"Not sure if this is the best solution, but...\r\n\r\nMake a string of it;\r\nLoop through the string;\r\nCheck what you wanna check.","title":"Getting the Nth digit after the decimal point in Java","body":"<p>Not sure if this is the best solution, but...</p>\n\n<p>Make a string of it;\nLoop through the string;\nCheck what you wanna check.</p>\n"},{"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1411680535,"post_id":26048414,"comment_id":40806470,"body_markdown":"Do you mean 10 to the power of n, or 10 XOR n?  Because you have the latter there.","body":"Do you mean 10 to the power of n, or 10 XOR n?  Because you have the latter there."},{"owner":{"account_id":3895256,"reputation":3542,"user_id":3224483,"accept_rate":70,"display_name":"Rainbolt"},"score":0,"creation_date":1411680671,"post_id":26048414,"comment_id":40806520,"body_markdown":"@Makoto Whoops. Thanks for catching that. I haven&#39;t been actually coding in Java for a while.","body":"@Makoto Whoops. Thanks for catching that. I haven&#39;t been actually coding in Java for a while."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1411680806,"post_id":26048414,"comment_id":40806566,"body_markdown":"It seems like you&#39;re in C# (somewhat, although I&#39;m sure it uses caret for XOR) - you&#39;ve got `Pow` capitalized when it shouldn&#39;t be.  I know what your&#39;e going for, so I edited your multiplication statement, but decided to leave the code alone.","body":"It seems like you&#39;re in C# (somewhat, although I&#39;m sure it uses caret for XOR) - you&#39;ve got <code>Pow</code> capitalized when it shouldn&#39;t be.  I know what your&#39;e going for, so I edited your multiplication statement, but decided to leave the code alone."},{"owner":{"account_id":3895256,"reputation":3542,"user_id":3224483,"accept_rate":70,"display_name":"Rainbolt"},"score":0,"creation_date":1411682536,"post_id":26048414,"comment_id":40807250,"body_markdown":"@Makoto I misunderstood the question when I read it for the first time. The OP didn&#39;t want the first N decimals. The OP wanted the Nth decimal. I think I fixed it.","body":"@Makoto I misunderstood the question when I read it for the first time. The OP didn&#39;t want the first N decimals. The OP wanted the Nth decimal. I think I fixed it."},{"owner":{"account_id":4986647,"reputation":53,"user_id":4010046,"display_name":"Salma Hassan"},"score":0,"creation_date":1411683630,"post_id":26048414,"comment_id":40807640,"body_markdown":"YES , this is exactly what I am trying to do ! Thank you very much sir.\nBut I don&#39;t know why when I ran the code and print &quot;fifthDecimal&quot; it printed out 7 instead of 8 , while &quot;thridDecimal&quot; was correct !!","body":"YES , this is exactly what I am trying to do ! Thank you very much sir. But I don&#39;t know why when I ran the code and print &quot;fifthDecimal&quot; it printed out 7 instead of 8 , while &quot;thridDecimal&quot; was correct !!"},{"owner":{"account_id":1165974,"reputation":4349,"user_id":1144275,"display_name":"TechTrip"},"score":1,"creation_date":1411684403,"post_id":26048414,"comment_id":40807915,"body_markdown":"This won&#39;t compile unless you change to use float num = 0.12438f;","body":"This won&#39;t compile unless you change to use float num = 0.12438f;"},{"owner":{"account_id":4986647,"reputation":53,"user_id":4010046,"display_name":"Salma Hassan"},"score":0,"creation_date":1411685695,"post_id":26048414,"comment_id":40808323,"body_markdown":"Yes I did that before running the program , should I edit the answer too ?","body":"Yes I did that before running the program , should I edit the answer too ?"},{"owner":{"account_id":3895256,"reputation":3542,"user_id":3224483,"accept_rate":70,"display_name":"Rainbolt"},"score":0,"creation_date":1411736926,"post_id":26048414,"comment_id":40827848,"body_markdown":"@SalmaHassan I fixed it. Only the author is allowed to make 1 character edits to an answer, unfortunately.","body":"@SalmaHassan I fixed it. Only the author is allowed to make 1 character edits to an answer, unfortunately."},{"owner":{"account_id":1365525,"reputation":10303,"user_id":2623899,"accept_rate":90,"display_name":"abcd"},"score":0,"creation_date":1442614191,"post_id":26048414,"comment_id":53169873,"body_markdown":"@Rainbolt fair enough.  i&#39;m using python, not java, so that may be the difference.  the difference between floats and doubles isn&#39;t something i pay attention to, so i&#39;m interested in a general solution for all of these.  but you&#39;re right -- the question was about floats.  either way, taking the absolute value at the very end does nothing, i&#39;m pretty sure.  (bolded comment above removed.)","body":"@Rainbolt fair enough.  i&#39;m using python, not java, so that may be the difference.  the difference between floats and doubles isn&#39;t something i pay attention to, so i&#39;m interested in a general solution for all of these.  but you&#39;re right -- the question was about floats.  either way, taking the absolute value at the very end does nothing, i&#39;m pretty sure.  (bolded comment above removed.)"},{"owner":{"account_id":3895256,"reputation":3542,"user_id":3224483,"accept_rate":70,"display_name":"Rainbolt"},"score":1,"creation_date":1442614486,"post_id":26048414,"comment_id":53169980,"body_markdown":"@dbliss When you put it like that, it makes sense to change the answer. One moment. Edit: There, it is fixed. Thanks for the help!","body":"@dbliss When you put it like that, it makes sense to change the answer. One moment. Edit: There, it is fixed. Thanks for the help!"}],"tags":[],"owner":{"account_id":3895256,"reputation":3542,"user_id":3224483,"accept_rate":70,"display_name":"Rainbolt"},"comment_count":10,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1442614542,"creation_date":1411680457,"answer_id":26048414,"question_id":26048153,"body_markdown":"**Getting the Nth Decimal of a Float**\r\n\r\nHere is a trick for getting the Nth decimal place of a float:\r\n\r\n - Take the absolute value\r\n - Multiply by 10&lt;sup&gt;n&lt;/sup&gt;\r\n - Cast to an int\r\n - Modulus by 10\r\n\r\n**Example**\r\n\r\nGet the third decimal of 0.12438. We would expect the answer to be 4.\r\n\r\n - 0.12438\r\n   - Take the absolute value\r\n - 0.12438\r\n   - Multiply by 10&lt;sup&gt;3&lt;/sup&gt;\r\n - 124.38 \r\n   - Cast to an int\r\n - 124 \r\n   - Modulus by 10\r\n - 4\r\n\r\n**How It Works**\r\n\r\nMultiplying by 10&lt;sup&gt;n&lt;/sup&gt; gets the decimal you care about into the ones place. Casting to an int drops the decimals. Modulus by 10 drops all but the ones place.\r\n\r\nWe take the absolute value in case the input is negative.\r\n\r\n**Code Snippet**\r\n\r\n    float num = 0.12438f;\r\n    int thirdDecimal = (int)(Math.abs(num) * Math.pow(10,3)) % 10; // Equals 4\r\n    int fifthDecimal = (int)(Math.abs(num) * Math.pow(10,4)) % 10; // Equals 3","title":"Getting the Nth digit after the decimal point in Java","body":"<p><strong>Getting the Nth Decimal of a Float</strong></p>\n\n<p>Here is a trick for getting the Nth decimal place of a float:</p>\n\n<ul>\n<li>Take the absolute value</li>\n<li>Multiply by 10<sup>n</sup></li>\n<li>Cast to an int</li>\n<li>Modulus by 10</li>\n</ul>\n\n<p><strong>Example</strong></p>\n\n<p>Get the third decimal of 0.12438. We would expect the answer to be 4.</p>\n\n<ul>\n<li>0.12438\n\n<ul>\n<li>Take the absolute value</li>\n</ul></li>\n<li>0.12438\n\n<ul>\n<li>Multiply by 10<sup>3</sup></li>\n</ul></li>\n<li>124.38 \n\n<ul>\n<li>Cast to an int</li>\n</ul></li>\n<li>124 \n\n<ul>\n<li>Modulus by 10</li>\n</ul></li>\n<li>4</li>\n</ul>\n\n<p><strong>How It Works</strong></p>\n\n<p>Multiplying by 10<sup>n</sup> gets the decimal you care about into the ones place. Casting to an int drops the decimals. Modulus by 10 drops all but the ones place.</p>\n\n<p>We take the absolute value in case the input is negative.</p>\n\n<p><strong>Code Snippet</strong></p>\n\n<pre><code>float num = 0.12438f;\nint thirdDecimal = (int)(Math.abs(num) * Math.pow(10,3)) % 10; // Equals 4\nint fifthDecimal = (int)(Math.abs(num) * Math.pow(10,4)) % 10; // Equals 3\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1411682805,"post_id":26048588,"comment_id":40807344,"body_markdown":"That&#39;s not converting `double` to `String`.  That&#39;s taking a `Double` and converting it to a `String`.  Subtle difference.","body":"That&#39;s not converting <code>double</code> to <code>String</code>.  That&#39;s taking a <code>Double</code> and converting it to a <code>String</code>.  Subtle difference."}],"tags":[],"owner":{"account_id":1888905,"reputation":15363,"user_id":1707520,"accept_rate":100,"display_name":"sol4me"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411683043,"creation_date":1411681175,"answer_id":26048588,"question_id":26048153,"body_markdown":"You can take a `Double` and call `toString` on it and then iterate over charArray like this\r\n\r\n    public class TestIndexOf {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDouble d = 5.26;\r\n    \t\tString source = d.toString();\r\n    \r\n    \t\tchar[] chars = source.toCharArray();\r\n    \r\n    \t\tchar max = source.charAt(source.length() - 1);\r\n    \t\tboolean isMax = true;\r\n    \t\tfor (char aChar : chars) {\r\n    \t\t\tif (max &lt; aChar) {\r\n    \t\t\t\tmax = aChar;\r\n    \t\t\t\tisMax = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(max + &quot; is max?&quot; + isMax);\r\n    \t}\r\n    }","title":"Getting the Nth digit after the decimal point in Java","body":"<p>You can take a <code>Double</code> and call <code>toString</code> on it and then iterate over charArray like this</p>\n\n<pre><code>public class TestIndexOf {\n    public static void main(String[] args) {\n        Double d = 5.26;\n        String source = d.toString();\n\n        char[] chars = source.toCharArray();\n\n        char max = source.charAt(source.length() - 1);\n        boolean isMax = true;\n        for (char aChar : chars) {\n            if (max &lt; aChar) {\n                max = aChar;\n                isMax = false;\n            }\n        }\n        System.out.println(max + \" is max?\" + isMax);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4986647,"reputation":53,"user_id":4010046,"display_name":"Salma Hassan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3214,"favorite_count":0,"down_vote_count":4,"up_vote_count":3,"accepted_answer_id":26048414,"answer_count":3,"score":-1,"last_activity_date":1678902786,"creation_date":1411679415,"question_id":26048153,"body_markdown":"How can I get the Nth digit after the decimal point, using Java?\r\n\r\n**For example:**\r\n\r\nIf the decimal number is `64890.1527`, then: \r\n- 1st digit is 1 \r\n- 2nd digit is 5\r\n- 3rd digit is 2 \r\n\r\nand so on .. ","title":"Getting the Nth digit after the decimal point in Java","body":"<p>How can I get the Nth digit after the decimal point, using Java?</p>\n<p><strong>For example:</strong></p>\n<p>If the decimal number is <code>64890.1527</code>, then:</p>\n<ul>\n<li>1st digit is 1</li>\n<li>2nd digit is 5</li>\n<li>3rd digit is 2</li>\n</ul>\n<p>and so on ..</p>\n"},{"tags":["java","ios","automated-tests","appium-ios","appium-java"],"answers":[{"comments":[{"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"score":0,"creation_date":1674743543,"post_id":75247053,"comment_id":132782165,"body_markdown":"Some field elements dont have a keyboard close button","body":"Some field elements dont have a keyboard close button"},{"owner":{"account_id":26782210,"reputation":96,"user_id":20376910,"display_name":"valies"},"score":0,"creation_date":1674743867,"post_id":75247053,"comment_id":132782287,"body_markdown":"If the keyboard is shown, you can check the close button of that keyboard its element selector via the Appium Inspector for example.","body":"If the keyboard is shown, you can check the close button of that keyboard its element selector via the Appium Inspector for example."},{"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"score":0,"creation_date":1674748091,"post_id":75247053,"comment_id":132783899,"body_markdown":"not every instance of the iOS keyboard has a close button....","body":"not every instance of the iOS keyboard has a close button...."},{"owner":{"account_id":26782210,"reputation":96,"user_id":20376910,"display_name":"valies"},"score":0,"creation_date":1674758009,"post_id":75247053,"comment_id":132787155,"body_markdown":"There must be something to close/hide the keyboard, no? Or some other user action that might close the keyboard, perhaps by pressing Done on the keyboard?","body":"There must be something to close/hide the keyboard, no? Or some other user action that might close the keyboard, perhaps by pressing Done on the keyboard?"}],"tags":[],"owner":{"account_id":26782210,"reputation":96,"user_id":20376910,"display_name":"valies"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674741222,"creation_date":1674741222,"answer_id":75247053,"question_id":75187963,"body_markdown":"I&#39;ve noticed the same and did a workaround by doing it like an actual user and clicking on the hide keyboard button. You might want to add a check to only click if the element is visible to avoid trying to close the keyboard when it&#39;s not there.\r\n\r\n    driver.findElement(By.xpath(&quot;your_keyboard_close_button&quot;)).click();","title":"How can I disable/dismiss the keyboard on iOS with Appium","body":"<p>I've noticed the same and did a workaround by doing it like an actual user and clicking on the hide keyboard button. You might want to add a check to only click if the element is visible to avoid trying to close the keyboard when it's not there.</p>\n<pre><code>driver.findElement(By.xpath(&quot;your_keyboard_close_button&quot;)).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25118363,"reputation":11,"user_id":18967050,"display_name":"wojciowojcio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678902585,"creation_date":1678902585,"answer_id":75748403,"question_id":75187963,"body_markdown":"had the same issue.\r\n\r\nyou can basically try to fix it in two ways:\r\n- click &quot;return&quot; button on keyboard (if available)\r\n- use tap method from TouchAction to tap somewhere on screen, but just make sure that tapping in that spot hides the keyboard","title":"How can I disable/dismiss the keyboard on iOS with Appium","body":"<p>had the same issue.</p>\n<p>you can basically try to fix it in two ways:</p>\n<ul>\n<li>click &quot;return&quot; button on keyboard (if available)</li>\n<li>use tap method from TouchAction to tap somewhere on screen, but just make sure that tapping in that spot hides the keyboard</li>\n</ul>\n"}],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":768,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1678902585,"creation_date":1674238741,"question_id":75187963,"body_markdown":"Is there anyway to dismiss the iPhone keyboard or disable it from popping up at all while Appium tests are being run?\r\n\r\n`driver.hideKeyboard()` doesn&#39;t work, half the time a &quot;DONE&quot; or &quot;RETURN&quot; button isn&#39;t present and I can&#39;t just tap randomly on the screen because I can not guarantee that the code won&#39;t accidentally tap a link or active element.\r\n\r\nI don&#39;t understand why it doesn&#39;t just function like on Android and just never display the keyboard when using driver.sendKeys().","title":"How can I disable/dismiss the keyboard on iOS with Appium","body":"<p>Is there anyway to dismiss the iPhone keyboard or disable it from popping up at all while Appium tests are being run?</p>\n<p><code>driver.hideKeyboard()</code> doesn't work, half the time a &quot;DONE&quot; or &quot;RETURN&quot; button isn't present and I can't just tap randomly on the screen because I can not guarantee that the code won't accidentally tap a link or active element.</p>\n<p>I don't understand why it doesn't just function like on Android and just never display the keyboard when using driver.sendKeys().</p>\n"},{"tags":["java","machine-learning","stanford-nlp"],"comments":[{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1678882282,"post_id":75744401,"comment_id":133618423,"body_markdown":"is this useful somehow? https://developers.google.com/machine-learning/data-prep/construct/construct-intro?hl=en","body":"is this useful somehow? <a href=\"https://developers.google.com/machine-learning/data-prep/construct/construct-intro?hl=en\" rel=\"nofollow noreferrer\">developers.google.com/machine-learning/data-prep/construct/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24089116,"reputation":15,"user_id":18062643,"display_name":"Rus Kuzmin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678902308,"creation_date":1678888842,"answer_id":75745771,"question_id":75744401,"body_markdown":"Okay.. So I&#39;ve done some more digging and have started to finally understand (some what) as how to create a Dataset Tree and will try to break it down for anyone who stumbles upon this post with the same troubles as I&#39;ve been having.\r\n\r\nStep 1.\r\n\r\n - Find your data. (In my case it&#39;s news articles about the UK housing\r\n   market)\r\n\r\n```\r\nUK renters: are you living with someone you’ve fallen out with?\r\nUK property asking prices stagnating, lifting hopes of softer landing for housing market\r\n```\r\n\r\nStep 2.\r\n\r\n - Annotate your data\r\n\r\n```\r\n2 UK renters: are you living with someone you’ve fallen out with?\r\n1 fallen out with\r\n1 fallen out\r\n2 UK renters\r\n2 living with someone\r\n3 fallen\r\n2 :\r\n2 ?\r\n2 living with\r\n2 someone\r\n\r\n3 UK property asking prices stagnating, lifting hopes of softer landing for housing market\r\n2 UK property\r\n3 asking prices stagnating\r\n2 asking prices\r\n4 lifting hopes\r\n2 hopes\r\n4 lifting hopes of softer landing\r\n3 softer landing for housing market\r\n2 housing market\r\n2 lifting\r\n2 landing\r\n2 , \r\n```\r\n*Annotation Meanings*\r\n\r\n```\r\nVery Positive= 4\r\nPositive = 3\r\nNeutral = 2\r\nNegative = 1\r\nVery Negative = 0\r\n```\r\n\r\n*Structure*\r\n```\r\n2 UK renters: are you living with someone you’ve fallen out with?\r\n   //Overall sentiment\r\n\r\n1 fallen out with\r\n   // Negative\r\n\r\n1 fallen out\r\n   // Negative\r\n\r\n2 UK renters\r\n   // Neutral\r\n\r\n...etc..\r\n```\r\n\r\n  - Save the annotated data to a .txt (sample.txt)\r\n\r\nStep 3:\r\n\r\n - Locate your `stanford-corenlp-4.5.2.jar`\r\n\r\n    - *example* ` ~/.m2/repository/edu/stanford/nlp/stanford-corenlp/4.5.2`\r\n\r\nStep 4:\r\n - Open Bash and run\r\n   - `java -cp &quot;*&quot; -mx5g edu.stanford.nlp.sentiment.BuildBinarizedDataset -input /c/Users/rusku/Desktop/StanfordNPL/rusSample/sample.txt`\r\n   - *replace the above data location*\r\n\r\nStep 5:\r\n - Result\r\n```\r\n(2 (2 (2 (2 UK) (2 renters)) (2 :)) (2 (2 (2 (2 are) (2 you)) (2 (2 living) (2 (2 with) (2 (2 someone) (2 (2 you) (2 (2 ▒ve) (1 (1 (3 fallen) (2 out)) (2 with)))))))) (2 ?)))\r\n(3 (3 (2 (3 UK) (3 property)) (2 (3 asking) (3 prices))) (3 (3 (3 stagnating) (3 (2 ,) (4 (2 lifting) (2 hopes)))) (3 (3 of) (3 (3 (3 softer) (2 landing)) (3 (3 for) (2 (3 housing) (3 market)))))))\r\n```\r\n\r\nResource: [Train Stanford CoreNLP about the sentiment of domain-specific phrases][1]\r\n\r\nThis is as far as I&#39;ve currently gotten.\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: https://blogs.oracle.com/javamagazine/post/java-sentiment-analysis-domain-specific-phrases","title":"Can someone explain how to create a PTB Dataset And/Or Train my own model using StanfordNLP?","body":"<p>Okay.. So I've done some more digging and have started to finally understand (some what) as how to create a Dataset Tree and will try to break it down for anyone who stumbles upon this post with the same troubles as I've been having.</p>\n<p>Step 1.</p>\n<ul>\n<li>Find your data. (In my case it's news articles about the UK housing\nmarket)</li>\n</ul>\n<pre><code>UK renters: are you living with someone you’ve fallen out with?\nUK property asking prices stagnating, lifting hopes of softer landing for housing market\n</code></pre>\n<p>Step 2.</p>\n<ul>\n<li>Annotate your data</li>\n</ul>\n<pre><code>2 UK renters: are you living with someone you’ve fallen out with?\n1 fallen out with\n1 fallen out\n2 UK renters\n2 living with someone\n3 fallen\n2 :\n2 ?\n2 living with\n2 someone\n\n3 UK property asking prices stagnating, lifting hopes of softer landing for housing market\n2 UK property\n3 asking prices stagnating\n2 asking prices\n4 lifting hopes\n2 hopes\n4 lifting hopes of softer landing\n3 softer landing for housing market\n2 housing market\n2 lifting\n2 landing\n2 , \n</code></pre>\n<p><em>Annotation Meanings</em></p>\n<pre><code>Very Positive= 4\nPositive = 3\nNeutral = 2\nNegative = 1\nVery Negative = 0\n</code></pre>\n<p><em>Structure</em></p>\n<pre><code>2 UK renters: are you living with someone you’ve fallen out with?\n   //Overall sentiment\n\n1 fallen out with\n   // Negative\n\n1 fallen out\n   // Negative\n\n2 UK renters\n   // Neutral\n\n...etc..\n</code></pre>\n<ul>\n<li>Save the annotated data to a .txt (sample.txt)</li>\n</ul>\n<p>Step 3:</p>\n<ul>\n<li><p>Locate your <code>stanford-corenlp-4.5.2.jar</code></p>\n<ul>\n<li><em>example</em> <code> ~/.m2/repository/edu/stanford/nlp/stanford-corenlp/4.5.2</code></li>\n</ul>\n</li>\n</ul>\n<p>Step 4:</p>\n<ul>\n<li>Open Bash and run\n<ul>\n<li><code>java -cp &quot;*&quot; -mx5g edu.stanford.nlp.sentiment.BuildBinarizedDataset -input /c/Users/rusku/Desktop/StanfordNPL/rusSample/sample.txt</code></li>\n<li><em>replace the above data location</em></li>\n</ul>\n</li>\n</ul>\n<p>Step 5:</p>\n<ul>\n<li>Result</li>\n</ul>\n<pre><code>(2 (2 (2 (2 UK) (2 renters)) (2 :)) (2 (2 (2 (2 are) (2 you)) (2 (2 living) (2 (2 with) (2 (2 someone) (2 (2 you) (2 (2 ▒ve) (1 (1 (3 fallen) (2 out)) (2 with)))))))) (2 ?)))\n(3 (3 (2 (3 UK) (3 property)) (2 (3 asking) (3 prices))) (3 (3 (3 stagnating) (3 (2 ,) (4 (2 lifting) (2 hopes)))) (3 (3 of) (3 (3 (3 softer) (2 landing)) (3 (3 for) (2 (3 housing) (3 market)))))))\n</code></pre>\n<p>Resource: <a href=\"https://blogs.oracle.com/javamagazine/post/java-sentiment-analysis-domain-specific-phrases\" rel=\"nofollow noreferrer\">Train Stanford CoreNLP about the sentiment of domain-specific phrases</a></p>\n<p>This is as far as I've currently gotten.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":24089116,"reputation":15,"user_id":18062643,"display_name":"Rus Kuzmin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75745771,"answer_count":1,"score":0,"last_activity_date":1678902308,"creation_date":1678881525,"question_id":75744401,"body_markdown":"I&#39;m learning about sentiment analysis and I can&#39;t seem to find anything online that outlines how to create a PTB Dataset. I&#39;m using StanfordNLP with Java. I&#39;ve downloaded the test, dev and validate data that they used and I can&#39;t get my head around how these have been outlined:\r\n\r\ntest.txt:\r\n```\r\n(3 (2 (2 The) (2 Rock)) (4 (3 (2 is) (4 (2 destined) (2 (2 (2 (2 (2 to) (2 (2 be) (2 (2 the) (2 (2 21st) (2 (2 (2 Century) (2 &#39;s)) (2 (3 new) (2 (2 ``) (2 Conan)))))))) (2 &#39;&#39;)) (2 and)) (3 (2 that) (3 (2 he) (3 (2 &#39;s) (3 (2 going) (3 (2 to) (4 (3 (2 make) (3 (3 (2 a) (3 splash)) (2 (2 even) (3 greater)))) (2 (2 than) (2 (2 (2 (2 (1 (2 Arnold) (2 Schwarzenegger)) (2 ,)) (2 (2 Jean-Claud) (2 (2 Van) (2 Damme)))) (2 or)) (2 (2 Steven) (2 Segal))))))))))))) (2 .)))\r\n```\r\n\r\nI figure that numbers are aligned to sentiment value but I&#39;m still not sure how it works.\r\n\r\nTLDR; I&#39;m trying to develop my own model for news analysis and have seen that the StanfordNLP model has been trained on movie reviews which is leading to poor sentiment analysis so, I thought to attempt to develop my own but I can&#39;t find anything online that teaches what each element is or how to even do this. \r\n\r\nAt best; outlined on this page: https://nlp.stanford.edu/sentiment/code.html\r\n\r\nIs the dataset available and the code to train.\r\n\r\n```\r\nModels can be retrained using the following command using the PTB format dataset:\r\n\r\njava -mx8g edu.stanford.nlp.sentiment.SentimentTraining -numHid 25 -trainPath train.txt -devPath dev.txt -train -model model.ser.gz\r\n```\r\n\r\nI have the data that I need to parse ready.\r\n\r\n","title":"Can someone explain how to create a PTB Dataset And/Or Train my own model using StanfordNLP?","body":"<p>I'm learning about sentiment analysis and I can't seem to find anything online that outlines how to create a PTB Dataset. I'm using StanfordNLP with Java. I've downloaded the test, dev and validate data that they used and I can't get my head around how these have been outlined:</p>\n<p>test.txt:</p>\n<pre><code>(3 (2 (2 The) (2 Rock)) (4 (3 (2 is) (4 (2 destined) (2 (2 (2 (2 (2 to) (2 (2 be) (2 (2 the) (2 (2 21st) (2 (2 (2 Century) (2 's)) (2 (3 new) (2 (2 ``) (2 Conan)))))))) (2 '')) (2 and)) (3 (2 that) (3 (2 he) (3 (2 's) (3 (2 going) (3 (2 to) (4 (3 (2 make) (3 (3 (2 a) (3 splash)) (2 (2 even) (3 greater)))) (2 (2 than) (2 (2 (2 (2 (1 (2 Arnold) (2 Schwarzenegger)) (2 ,)) (2 (2 Jean-Claud) (2 (2 Van) (2 Damme)))) (2 or)) (2 (2 Steven) (2 Segal))))))))))))) (2 .)))\n</code></pre>\n<p>I figure that numbers are aligned to sentiment value but I'm still not sure how it works.</p>\n<p>TLDR; I'm trying to develop my own model for news analysis and have seen that the StanfordNLP model has been trained on movie reviews which is leading to poor sentiment analysis so, I thought to attempt to develop my own but I can't find anything online that teaches what each element is or how to even do this.</p>\n<p>At best; outlined on this page: <a href=\"https://nlp.stanford.edu/sentiment/code.html\" rel=\"nofollow noreferrer\">https://nlp.stanford.edu/sentiment/code.html</a></p>\n<p>Is the dataset available and the code to train.</p>\n<pre><code>Models can be retrained using the following command using the PTB format dataset:\n\njava -mx8g edu.stanford.nlp.sentiment.SentimentTraining -numHid 25 -trainPath train.txt -devPath dev.txt -train -model model.ser.gz\n</code></pre>\n<p>I have the data that I need to parse ready.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1678898529,"post_id":75747634,"comment_id":133623713,"body_markdown":"what is your question/issue ?","body":"what is your question/issue ?"},{"owner":{"account_id":23402904,"reputation":1,"user_id":17465790,"display_name":"Ayaan"},"score":0,"creation_date":1678899463,"post_id":75747634,"comment_id":133623986,"body_markdown":"Im supposed to use a random-number generation to choose a number from 1 to 4 that will be used to select one of the four appropriate responses to each correct or incorrect answer. Thats my issue I dont know where to start doing that","body":"Im supposed to use a random-number generation to choose a number from 1 to 4 that will be used to select one of the four appropriate responses to each correct or incorrect answer. Thats my issue I dont know where to start doing that"}],"answers":[{"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1678954704,"post_id":75748303,"comment_id":133633699,"body_markdown":"the switch is a bit overkill. Using an array and this random value as index would be easier","body":"the switch is a bit overkill. Using an array and this random value as index would be easier"},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1678954843,"post_id":75748303,"comment_id":133633747,"body_markdown":"The OP specified `Im also supposed to use a switch statement to issue the responses.` in their question.","body":"The OP specified <code>Im also supposed to use a switch statement to issue the responses.</code> in their question."}],"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678902054,"creation_date":1678902054,"answer_id":75748303,"question_id":75747634,"body_markdown":"Firstly, Stack Overflow isn&#39;t the place to get your homework solved.\r\n\r\nHowever, helping you manage to do it yourself is fine, so I&#39;ll attempt that here.\r\n\r\nI see that you already used `SecureRandom` in your code, so I&#39;d assume you were handed this way by your teacher.\r\n\r\nBasically, what you want to do is to first check if the answer given is right.&lt;br&gt;\r\nNext, generate a random number using the code you already have.&lt;br&gt;\r\nFinally, create a `switch` statement that selects what answer to use based on the random number generated.","title":"I&#39;m trying to add functionality to ensure that my program randomly selects an answer to respond to a student","body":"<p>Firstly, Stack Overflow isn't the place to get your homework solved.</p>\n<p>However, helping you manage to do it yourself is fine, so I'll attempt that here.</p>\n<p>I see that you already used <code>SecureRandom</code> in your code, so I'd assume you were handed this way by your teacher.</p>\n<p>Basically, what you want to do is to first check if the answer given is right.<br>\nNext, generate a random number using the code you already have.<br>\nFinally, create a <code>switch</code> statement that selects what answer to use based on the random number generated.</p>\n"}],"owner":{"account_id":23402904,"reputation":1,"user_id":17465790,"display_name":"Ayaan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678902054,"creation_date":1678898309,"question_id":75747634,"body_markdown":"Various comments that should be displayed for each answer are as follows:\r\nPossible response to a correct answer:\r\nVery Good!\r\nExcellent!\r\nNice work!\r\nKeep up the good work!\r\nPossible responses to an incorrect answer should be:\r\nNo.Please try again\r\nWrong.Try once more.\r\nDont give up\r\nNo. Keep trying.\r\n\r\nIm supposed to use a random-number generation to choose a number from 1 to 4 that will be used to select one of the four appropriate responses to each correct or incorrect answer. Im also supposed to use a switch statement to issue the responses.\r\n\r\n\r\n\r\n    package com.mycompany.multiplicationquiz;\r\n    import java.security.SecureRandom;\r\n    import java.util.Scanner;\r\n    /**\r\n     *\r\n     * @author Ayaan\r\n     */\r\n    public class MultiplicationQuiz {\r\n\r\n     public static void main(String[] args) {\r\n      \r\n        generateRandomNumbers();\r\n        \r\n    }\r\n    \r\n    public static void generateRandomNumbers(){\r\n        SecureRandom rand = new SecureRandom();\r\n        Scanner sc = new Scanner (System.in);\r\n        \r\n        int n1 = rand.nextInt(9) + 1;\r\n        int n2 = rand.nextInt(9) + 1;\r\n        \r\n        generateQuestion(n1,n2);\r\n        \r\n    }\r\n    \r\n    public static void generateQuestion (int n1, int n2){\r\n        \r\n        Scanner sc = new Scanner (System.in);\r\n        \r\n        System.out.print(&quot;How much is &quot; + n1 + &quot; x &quot; + n2 + &quot; ?&quot;);\r\n        \r\n        int typedAnswer = sc.nextInt();\r\n        \r\n  \r\n        \r\n        if(typedAnswer == (n1*n2)) {\r\n            System.out.println(&quot;Very good!&quot;);\r\n            generateRandomNumbers();\r\n        }else {\r\n            System.out.println(&quot;No. Please try again.&quot;);\r\n            generateQuestion(n1,n2);\r\n        }\r\n        \r\n    }\r\n}\r\n","title":"I&#39;m trying to add functionality to ensure that my program randomly selects an answer to respond to a student","body":"<p>Various comments that should be displayed for each answer are as follows:\nPossible response to a correct answer:\nVery Good!\nExcellent!\nNice work!\nKeep up the good work!\nPossible responses to an incorrect answer should be:\nNo.Please try again\nWrong.Try once more.\nDont give up\nNo. Keep trying.</p>\n<p>Im supposed to use a random-number generation to choose a number from 1 to 4 that will be used to select one of the four appropriate responses to each correct or incorrect answer. Im also supposed to use a switch statement to issue the responses.</p>\n<pre><code>package com.mycompany.multiplicationquiz;\nimport java.security.SecureRandom;\nimport java.util.Scanner;\n/**\n *\n * @author Ayaan\n */\npublic class MultiplicationQuiz {\n\n public static void main(String[] args) {\n  \n    generateRandomNumbers();\n    \n}\n\npublic static void generateRandomNumbers(){\n    SecureRandom rand = new SecureRandom();\n    Scanner sc = new Scanner (System.in);\n    \n    int n1 = rand.nextInt(9) + 1;\n    int n2 = rand.nextInt(9) + 1;\n    \n    generateQuestion(n1,n2);\n    \n}\n\npublic static void generateQuestion (int n1, int n2){\n    \n    Scanner sc = new Scanner (System.in);\n    \n    System.out.print(&quot;How much is &quot; + n1 + &quot; x &quot; + n2 + &quot; ?&quot;);\n    \n    int typedAnswer = sc.nextInt();\n    \n\n    \n    if(typedAnswer == (n1*n2)) {\n        System.out.println(&quot;Very good!&quot;);\n        generateRandomNumbers();\n    }else {\n        System.out.println(&quot;No. Please try again.&quot;);\n        generateQuestion(n1,n2);\n    }\n    \n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","collections","java-8","java-stream"],"comments":[{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1617015395,"post_id":43848984,"comment_id":118173337,"body_markdown":"See https://stackoverflow.com/questions/28856781 for a similar problem","body":"See <a href=\"https://stackoverflow.com/questions/28856781\">stackoverflow.com/questions/28856781</a> for a similar problem"}],"answers":[{"comments":[{"owner":{"account_id":3090265,"reputation":8447,"user_id":2616537,"accept_rate":33,"display_name":"msayag"},"score":3,"creation_date":1494250672,"post_id":43849065,"comment_id":74734249,"body_markdown":"It should be: filter(Objects::nonNull) not map","body":"It should be: filter(Objects::nonNull) not map"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1494250798,"post_id":43849065,"comment_id":74734339,"body_markdown":"@msayag Thanks, I mis-typed","body":"@msayag Thanks, I mis-typed"},{"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"score":5,"creation_date":1494252354,"post_id":43849065,"comment_id":74735436,"body_markdown":"@Eran You can also reduce `map(id -&gt; personMap.get(id))` to `map(personMap::get)`","body":"@Eran You can also reduce <code>map(id -&gt; personMap.get(id))</code> to <code>map(personMap::get)</code>"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1494252414,"post_id":43849065,"comment_id":74735471,"body_markdown":"@Flown Good suggestion","body":"@Flown Good suggestion"}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":4,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1494252442,"creation_date":1494250366,"answer_id":43849065,"question_id":43848984,"body_markdown":"It would be more efficient to iterate over the identifiers of the `List` and look them up in the `Map`, since search by key in a `HashMap` takes expected `O(1)` time, while the search in the `List` can take `O(n)` time at the worst case.\r\n\r\n    List&lt;Person&gt; people = \r\n        coolPeople.stream()\r\n                  .map(id -&gt; personMap.get(id)) // or map(personMap::get)\r\n                  .filter(Objects::nonNull)\r\n                  .collect(Collectors.toList());","title":"Filtering a map based on a list of keys","body":"<p>It would be more efficient to iterate over the identifiers of the <code>List</code> and look them up in the <code>Map</code>, since search by key in a <code>HashMap</code> takes expected <code>O(1)</code> time, while the search in the <code>List</code> can take <code>O(n)</code> time at the worst case.</p>\n\n<pre><code>List&lt;Person&gt; people = \n    coolPeople.stream()\n              .map(id -&gt; personMap.get(id)) // or map(personMap::get)\n              .filter(Objects::nonNull)\n              .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9685245,"reputation":9531,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1494333553,"creation_date":1494250397,"answer_id":43849075,"question_id":43848984,"body_markdown":"Correct this : \r\n\r\n    List&lt;Long&gt; coolPeople = new ArrayList();\r\n\r\nand for the other part : \r\n\r\n    List&lt;Person&gt; coolPersons=new ArrayList&lt;Person&gt;();\r\n    for (Long id:coolPeople) {\r\n         Person p=map.get(id);\r\n         coolPersons.add(p);\r\n    }\r\n\r\nFeel free to comment if you are having any questions.             \r\n","title":"Filtering a map based on a list of keys","body":"<p>Correct this : </p>\n\n<pre><code>List&lt;Long&gt; coolPeople = new ArrayList();\n</code></pre>\n\n<p>and for the other part : </p>\n\n<pre><code>List&lt;Person&gt; coolPersons=new ArrayList&lt;Person&gt;();\nfor (Long id:coolPeople) {\n     Person p=map.get(id);\n     coolPersons.add(p);\n}\n</code></pre>\n\n<p>Feel free to comment if you are having any questions.             </p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1494250510,"creation_date":1494250510,"answer_id":43849125,"question_id":43848984,"body_markdown":"An alternative solution (and possibly more efficient - depending on the size of the map / list) would be to copy the map and act on the `keySet` directly:\r\n\r\n    Map&lt;Long, Person&gt; copy = new HashMap&lt;&gt; (personMap);\r\n    copy.keySet().retainAll(coolPeople);\r\n\r\n    Collection&lt;Person&gt; result = copy.values();","title":"Filtering a map based on a list of keys","body":"<p>An alternative solution (and possibly more efficient - depending on the size of the map / list) would be to copy the map and act on the <code>keySet</code> directly:</p>\n\n<pre><code>Map&lt;Long, Person&gt; copy = new HashMap&lt;&gt; (personMap);\ncopy.keySet().retainAll(coolPeople);\n\nCollection&lt;Person&gt; result = copy.values();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4080253,"reputation":430,"user_id":3350921,"display_name":"saygley"},"score":0,"creation_date":1609332441,"post_id":57168887,"comment_id":115813917,"body_markdown":"I think adding a usage example would make this answer more beneficial.","body":"I think adding a usage example would make this answer more beneficial."}],"tags":[],"owner":{"account_id":11150814,"reputation":29,"user_id":8184129,"display_name":"Adam Morawski"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563900635,"creation_date":1563900635,"answer_id":57168887,"question_id":43848984,"body_markdown":"If you are interested in returning a map, you could use the following:\r\n\r\n    public static &lt;K, V&gt; Map&lt;K, V&gt; filterByKeys(final Map&lt;K, V&gt; map, final Iterable&lt;K&gt; keys) {\r\n        final Map&lt;K, V&gt; newMap = new HashMap&lt;&gt;();\r\n        keys.forEach(key -&gt; Optional.ofNullable(map.get(key))\r\n                .ifPresent(value -&gt; newMap.put(key, value)));\r\n        return newMap;\r\n    }\r\n","title":"Filtering a map based on a list of keys","body":"<p>If you are interested in returning a map, you could use the following:</p>\n\n<pre><code>public static &lt;K, V&gt; Map&lt;K, V&gt; filterByKeys(final Map&lt;K, V&gt; map, final Iterable&lt;K&gt; keys) {\n    final Map&lt;K, V&gt; newMap = new HashMap&lt;&gt;();\n    keys.forEach(key -&gt; Optional.ofNullable(map.get(key))\n            .ifPresent(value -&gt; newMap.put(key, value)));\n    return newMap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":444866,"reputation":328,"user_id":836956,"display_name":"jcvalverde"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678901726,"creation_date":1678901726,"answer_id":75748241,"question_id":43848984,"body_markdown":"I found this question looking for a way to filter the entries in a map using `stream()` and after reading the current answers I feel like this one is missing:\r\n\r\n    Map&lt;String, String&gt; result = myMap.entrySet().stream()\r\n                    .filter(entry -&gt; { /* apply conditions for entry.getKey() and entry.getValue() here */})\r\n                    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));","title":"Filtering a map based on a list of keys","body":"<p>I found this question looking for a way to filter the entries in a map using <code>stream()</code> and after reading the current answers I feel like this one is missing:</p>\n<pre><code>Map&lt;String, String&gt; result = myMap.entrySet().stream()\n                .filter(entry -&gt; { /* apply conditions for entry.getKey() and entry.getValue() here */})\n                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n"}],"owner":{"display_name":"user7950856"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27596,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":43849065,"answer_count":5,"score":13,"last_activity_date":1678901726,"creation_date":1494250096,"question_id":43848984,"body_markdown":"I have a map like the following:\r\n\r\n    class Person {\r\n    \r\n        Long personId;\r\n        String name;\r\n    \r\n        /*Getters and Setters*/\r\n    }\r\n\r\nI have populated a map `Map&lt;Long, Person&gt; personMap = new HashMap&lt;&gt;();`\r\n\r\nThe key of the map is the personId itself.\r\nI have a list of personIds like so,\r\n\r\n`List&lt;Long&gt; coolPeople = new ArrayList&lt;&gt;();`\r\n\r\nnow I want to iterate through the map and get all the values with the keys corresponding the ids in the list `coolPeople`, and then store it in a List&lt;Person&gt;.\r\n\r\nHow can I achieve this in Java 8 optimally?\r\n\r\n","title":"Filtering a map based on a list of keys","body":"<p>I have a map like the following:</p>\n\n<pre><code>class Person {\n\n    Long personId;\n    String name;\n\n    /*Getters and Setters*/\n}\n</code></pre>\n\n<p>I have populated a map <code>Map&lt;Long, Person&gt; personMap = new HashMap&lt;&gt;();</code></p>\n\n<p>The key of the map is the personId itself.\nI have a list of personIds like so,</p>\n\n<p><code>List&lt;Long&gt; coolPeople = new ArrayList&lt;&gt;();</code></p>\n\n<p>now I want to iterate through the map and get all the values with the keys corresponding the ids in the list <code>coolPeople</code>, and then store it in a List.</p>\n\n<p>How can I achieve this in Java 8 optimally?</p>\n"},{"tags":["javascript","java","typescript","spring-boot","hilla"],"comments":[{"owner":{"account_id":4059918,"reputation":1722,"user_id":3336733,"display_name":"Artur Signell"},"score":0,"creation_date":1678796009,"post_id":75732547,"comment_id":133599261,"body_markdown":"Was this a one time error or does it reproduce on every startup?","body":"Was this a one time error or does it reproduce on every startup?"},{"owner":{"account_id":28013747,"reputation":1,"user_id":21395836,"display_name":"Gezahegn Geleta"},"score":0,"creation_date":1678800549,"post_id":75732547,"comment_id":133600632,"body_markdown":"Dear Artur, thanks for your support. This error occurred when compiled with &#39;mvn clean install&#39; and then &#39;mvn spring-boot:run&#39;. Otherwise if run without compile, the error will not happen","body":"Dear Artur, thanks for your support. This error occurred when compiled with &#39;mvn clean install&#39; and then &#39;mvn spring-boot:run&#39;. Otherwise if run without compile, the error will not happen"},{"owner":{"account_id":4059918,"reputation":1722,"user_id":3336733,"display_name":"Artur Signell"},"score":0,"creation_date":1678869359,"post_id":75732547,"comment_id":133614856,"body_markdown":"The real error is probably above that stacktrace as it says &quot;this web application instance has been stopped already&quot;. The problem is that the application instance has been stopped too early, for some other reason","body":"The real error is probably above that stacktrace as it says &quot;this web application instance has been stopped already&quot;. The problem is that the application instance has been stopped too early, for some other reason"}],"owner":{"account_id":28013747,"reputation":1,"user_id":21395836,"display_name":"Gezahegn Geleta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678901698,"creation_date":1678793423,"question_id":75732547,"body_markdown":"After upgrading to hilla 2, I got run time error,\r\n\r\n&gt;java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [META-INF/frontend/lumo-includes.ts]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n\r\nI just create a new project using vs code  \r\n\r\n 1. `npx @hilla/cli init --react my-hilla-app` \r\n 2. compile it using `mvn clean install`\r\n 3. run it using `mnvw`\r\n\r\nat run time,  \r\n\r\n&lt;pre&gt;\r\njava.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [META-INF/frontend/lumo-includes.ts]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n        at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1457) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.catalina.loader.WebappClassLoaderBase.getResource(WebappClassLoaderBase.java:1047) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at com.vaadin.flow.server.frontend.scanner.ClassFinder$DefaultClassFinder.getResource(ClassFinder.java:105) ~[flow-server-24.0.0.jar:24.0.0]\r\n        at com.vaadin.flow.server.frontend.scanner.ClassFinder$CachedClassFinder.getResource(ClassFinder.java:159) ~[flow-server-24.0.0.jar:24.0.0]\r\n        at com.vaadin.flow.server.frontend.TaskUpdateImports$UpdateMainImportsFile.getResource(TaskUpdateImports.java:181) ~[flow-server-24.0.0.jar:24.0.0]\r\n        at com.vaadin.flow.server.frontend.AbstractUpdateImports.hasMetaInfResource(AbstractUpdateImports.java:573) ~[flow-server-24.0.0.jar:24.0.0]\r\n        at com.vaadin.flow.server.frontend.AbstractUpdateImports.resolveResource(AbstractUpdateImports.java:264) ~[flow-server-24.0.0.jar:24.0.0]\r\n        at com.vaadin.flow.server.frontend.AbstractUpdateImports.lambda$resolveModules$1(AbstractUpdateImports.java:192) ~[flow-server-24.0.0.jar:24.0.0]\r\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\r\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n        at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\r\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n        at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n        at com.vaadin.flow.server.frontend.AbstractUpdateImports.resolveModules(AbstractUpdateImports.java:193) ~[flow-server-24.0.0.jar:24.0.0]\r\n        at com.vaadin.flow.server.frontend.AbstractUpdateImports.collectModules(AbstractUpdateImports.java:289) ~[flow-server-24.0.0.jar:24.0.0]\r\n        at com.vaadin.flow.server.frontend.AbstractUpdateImports.run(AbstractUpdateImports.java:102) ~[flow-server-24.0.0.jar:24.0.0]\r\n        at com.vaadin.flow.server.frontend.TaskUpdateImports.execute(TaskUpdateImports.java:362) ~[flow-server-24.0.0.jar:24.0.0]  \r\n        at com.vaadin.flow.server.frontend.NodeTasks.execute(NodeTasks.java:301) ~[flow-server-24.0.0.jar:24.0.0]\r\n        at com.vaadin.base.devserver.startup.DevModeInitializer.runNodeTasks(DevModeInitializer.java:372) ~[vaadin-dev-server-24.0.0.jar:na]\r\n        at com.vaadin.base.devserver.startup.DevModeInitializer.lambda$initDevModeHandler$0(DevModeInitializer.java:313) ~[vaadin-dev-server-24.0.0.jar:na]\r\n        at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[na:na]\r\n        at java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) ~[na:na]\r\n        at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[na:na]\r\n        at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[na:na]\r\n        at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[na:na]\r\n        at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[na:na]\r\n        at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[na:na]\r\n&lt;/pre&gt;","title":"Could not load [META-INF/frontend/lumo-includes.ts]","body":"<p>After upgrading to hilla 2, I got run time error,</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [META-INF/frontend/lumo-includes.ts]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.</p>\n</blockquote>\n<p>I just create a new project using vs code</p>\n<ol>\n<li><code>npx @hilla/cli init --react my-hilla-app</code></li>\n<li>compile it using <code>mvn clean install</code></li>\n<li>run it using <code>mnvw</code></li>\n</ol>\n<p>at run time,</p>\n<pre>\njava.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [META-INF/frontend/lumo-includes.ts]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n        at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1457) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.catalina.loader.WebappClassLoaderBase.getResource(WebappClassLoaderBase.java:1047) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at com.vaadin.flow.server.frontend.scanner.ClassFinder$DefaultClassFinder.getResource(ClassFinder.java:105) ~[flow-server-24.0.0.jar:24.0.0]\n        at com.vaadin.flow.server.frontend.scanner.ClassFinder$CachedClassFinder.getResource(ClassFinder.java:159) ~[flow-server-24.0.0.jar:24.0.0]\n        at com.vaadin.flow.server.frontend.TaskUpdateImports$UpdateMainImportsFile.getResource(TaskUpdateImports.java:181) ~[flow-server-24.0.0.jar:24.0.0]\n        at com.vaadin.flow.server.frontend.AbstractUpdateImports.hasMetaInfResource(AbstractUpdateImports.java:573) ~[flow-server-24.0.0.jar:24.0.0]\n        at com.vaadin.flow.server.frontend.AbstractUpdateImports.resolveResource(AbstractUpdateImports.java:264) ~[flow-server-24.0.0.jar:24.0.0]\n        at com.vaadin.flow.server.frontend.AbstractUpdateImports.lambda$resolveModules$1(AbstractUpdateImports.java:192) ~[flow-server-24.0.0.jar:24.0.0]\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n        at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\n        at com.vaadin.flow.server.frontend.AbstractUpdateImports.resolveModules(AbstractUpdateImports.java:193) ~[flow-server-24.0.0.jar:24.0.0]\n        at com.vaadin.flow.server.frontend.AbstractUpdateImports.collectModules(AbstractUpdateImports.java:289) ~[flow-server-24.0.0.jar:24.0.0]\n        at com.vaadin.flow.server.frontend.AbstractUpdateImports.run(AbstractUpdateImports.java:102) ~[flow-server-24.0.0.jar:24.0.0]\n        at com.vaadin.flow.server.frontend.TaskUpdateImports.execute(TaskUpdateImports.java:362) ~[flow-server-24.0.0.jar:24.0.0]  \n        at com.vaadin.flow.server.frontend.NodeTasks.execute(NodeTasks.java:301) ~[flow-server-24.0.0.jar:24.0.0]\n        at com.vaadin.base.devserver.startup.DevModeInitializer.runNodeTasks(DevModeInitializer.java:372) ~[vaadin-dev-server-24.0.0.jar:na]\n        at com.vaadin.base.devserver.startup.DevModeInitializer.lambda$initDevModeHandler$0(DevModeInitializer.java:313) ~[vaadin-dev-server-24.0.0.jar:na]\n        at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[na:na]\n        at java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) ~[na:na]\n        at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[na:na]\n        at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[na:na]\n        at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[na:na]\n        at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[na:na]\n        at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[na:na]\n</pre>\n"},{"tags":["java","converters","modelmapper"],"comments":[{"owner":{"account_id":8888235,"reputation":682,"user_id":6635832,"display_name":"MD KAMRUL HASAN SHAHED"},"score":0,"creation_date":1678901861,"post_id":75748115,"comment_id":133624678,"body_markdown":"You&#39;re creating the model mapper to map from `Order` class to `OrderDto` class but when you&#39;re doing the mapping, you&#39;re giving the `map` method an instance of `Data` class. That seems like the main problem. You can share all class definitions if this isn&#39;t the problem.","body":"You&#39;re creating the model mapper to map from <code>Order</code> class to <code>OrderDto</code> class but when you&#39;re doing the mapping, you&#39;re giving the <code>map</code> method an instance of <code>Data</code> class. That seems like the main problem. You can share all class definitions if this isn&#39;t the problem."}],"owner":{"account_id":4999034,"reputation":1880,"user_id":6722075,"display_name":"Tohid Makari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678900923,"creation_date":1678900923,"question_id":75748115,"body_markdown":"I have sample as following and it dose not work, result is still null:\r\n\r\n    public static void main(String[] args) {\r\n        ModelMapper modelMapper  =  new ModelMapper();\r\n    \r\n        Data data = Data.builder()\r\n                .order(Order.builder().id(500).build())\r\n                .build();\r\n    \r\n        modelMapper.createTypeMap(Order.class, OrderDto.class);\r\n        DataDto dto = modelMapper.map(data,DataDto.class);\r\n        System.out.printf(&quot;===&quot;+dto);\r\n    \r\n    \r\n    }","title":"ModelMapper not working and returns null in nested object","body":"<p>I have sample as following and it dose not work, result is still null:</p>\n<pre><code>public static void main(String[] args) {\n    ModelMapper modelMapper  =  new ModelMapper();\n\n    Data data = Data.builder()\n            .order(Order.builder().id(500).build())\n            .build();\n\n    modelMapper.createTypeMap(Order.class, OrderDto.class);\n    DataDto dto = modelMapper.map(data,DataDto.class);\n    System.out.printf(&quot;===&quot;+dto);\n\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","module","android-library"],"comments":[{"owner":{"account_id":4830859,"reputation":1876,"user_id":6005977,"display_name":"Ankita Shah"},"score":0,"creation_date":1483536828,"post_id":41465053,"comment_id":70135660,"body_markdown":"You have to add this line into your manifest file.\n`&lt;activity\n        android:name=&quot;com.nextgis.mobileactivity.MainActivity&quot; /&gt;`","body":"You have to add this line into your manifest file. <code>&lt;activity         android:name=&quot;com.nextgis.mobileactivity.MainActivity&quot; &#47;&gt;</code>"},{"owner":{"account_id":6877685,"reputation":2418,"user_id":5285588,"accept_rate":80,"display_name":"Arka Prava Basu"},"score":0,"creation_date":1483537187,"post_id":41465053,"comment_id":70135911,"body_markdown":"@AnkitaShah same result on adding this line to the app manifest.","body":"@AnkitaShah same result on adding this line to the app manifest."},{"owner":{"account_id":6418526,"reputation":283,"user_id":4975906,"display_name":"Kostek"},"score":0,"creation_date":1669311005,"post_id":41465053,"comment_id":131620563,"body_markdown":"You are including the library project in your app module which means you know its classes at the compile time, so what is stopping you from referencing it directly rather than via activity resolver. Are you sure the library&#39;s activity in the version that you included has the manifest declaration done right?","body":"You are including the library project in your app module which means you know its classes at the compile time, so what is stopping you from referencing it directly rather than via activity resolver. Are you sure the library&#39;s activity in the version that you included has the manifest declaration done right?"}],"owner":{"account_id":6877685,"reputation":2418,"user_id":5285588,"accept_rate":80,"display_name":"Arka Prava Basu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13846,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":0,"score":12,"last_activity_date":1678900881,"creation_date":1483536644,"question_id":41465053,"body_markdown":"I am trying to call an activity from a library module in my application. I keep getting the error:\r\n\r\n&gt;android.content.ActivityNotFoundException: Unable to find explicit activity class {com.nextgis.mobile/com.nextgis.mobile.activity.MainActivity}; have you declared this activity in your AndroidManifest.xml?\r\n\r\nI am calling the activity as :\r\n\r\n    Intent intentGIS = new Intent(android.content.Intent.ACTION_VIEW);\r\n    intentGIS.setComponent(new ComponentName(&quot;com.nextgis.mobile&quot;,\r\n                        &quot;com.nextgis.mobile.activity.MainActivity&quot;));\r\n    startActivity(intentGIS);\r\n\r\nApp manifest: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.disarm.sanna.pdm&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CLEAR_APP_CACHE&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission-sdk-23 android:name=&quot;android.permission.WRITE_SETTINGS&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.AUTHENTICATE_ACCOUNTS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.GET_ACCOUNTS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_ACCOUNTS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_SYNC_SETTINGS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_SYNC_STATS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.USE_CREDENTIALS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_SYNC_SETTINGS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\r\n\r\n\r\n    &lt;!--\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\r\n    --&gt;\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.location&quot;\r\n        android:required=&quot;true&quot;\r\n        /&gt;\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.telephony&quot;\r\n        android:required=&quot;false&quot;\r\n        /&gt;\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.wifi&quot;\r\n        android:required=&quot;false&quot;\r\n        /&gt;\r\n    &lt;!--\r\n        &lt;uses-feature\r\n            android:name=&quot;android.hardware.camera&quot;\r\n            android:required=&quot;false&quot;\r\n            /&gt;\r\n        &lt;uses-feature\r\n            android:name=&quot;android.hardware.compass&quot;\r\n            android:required=&quot;false&quot;\r\n            /&gt;\r\n    --&gt;\r\n\r\n\r\n    &lt;supports-screens\r\n        android:largeScreens=&quot;true&quot;\r\n        android:smallScreens=&quot;true&quot;\r\n        android:anyDensity=&quot;true&quot;\r\n        android:normalScreens=&quot;true&quot;\r\n        android:xlargeScreens=&quot;true&quot;\r\n        android:resizeable=&quot;true&quot;\r\n        /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@drawable/logo&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        tools:node=&quot;replace&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.SplashActivity&quot;\r\n            android:windowSoftInputMode=&quot;stateHidden|adjustUnspecified&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;com.disarm.sanna.pdm.ShareActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity android:name=&quot;.SelectCategoryActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity android:name=&quot;.SocialShareActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ActivityList&quot;\r\n            android:windowSoftInputMode=&quot;stateHidden|adjustPan&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Capture.Photo&quot;\r\n            android:theme=&quot;@style/AppCompatAlertDialogStyle&quot;\r\n            &gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Capture.Video&quot;\r\n            android:theme=&quot;@style/AppCompatAlertDialogStyle&quot;\r\n            &gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:label=&quot;Record Audio&quot;\r\n            android:name=&quot;.Capture.AudioCapture&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.Light.Dialog&quot;\r\n            &gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:label=&quot;@string/allow_setting&quot;\r\n            android:name=&quot;.WriteSettingActivity&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;\r\n            &gt;\r\n        &lt;/activity&gt;\r\n        &lt;service\r\n            android:name=&quot;.Service.SyncService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n        &lt;service android:name=&quot;.DisarmConnect.MyService&quot; /&gt;\r\n    &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nLibrary manifest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!--\r\n    ~ Project:  NextGIS Mobile\r\n    ~ Purpose:  Mobile GIS for Android.\r\n    ~ Author:   Dmitry Baryshnikov (aka Bishop), bishop.dev@gmail.com\r\n    ~ Author:   NikitaFeodonit, nfeodonit@yandex.com\r\n    ~ Author:   Stanislav Petriakov, becomeglory@gmail.com\r\n    ~      ******************************************************************************\r\n    ~ Copyright (c) 2012-2016 NextGIS, info@nextgis.com\r\n    ~\r\n    ~ This program is free software: you can redistribute it and/or modify\r\n    ~ it under the terms of the GNU General Public License as published by\r\n    ~ the Free Software Foundation, either version 3 of the License, or\r\n    ~ (at your option) any later version.\r\n    ~\r\n    ~ This program is distributed in the hope that it will be useful,\r\n    ~ but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    ~ GNU General Public License for more details.\r\n    ~\r\n    ~ You should have received a copy of the GNU General Public License\r\n    ~ along with this program.  If not, see     &lt;http://www.gnu.org/licenses/&gt;.\r\n    --&gt;\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n          package=&quot;com.nextgis.mobile&quot;\r\n    &gt;\r\n\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        &gt;\r\n        &lt;activity\r\n            android:name=&quot;.activity.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            &gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.activity.SettingsActivity&quot;\r\n            android:label=&quot;@string/action_settings&quot;\r\n            /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.activity.NGWSettingsActivityProxy&quot;\r\n            android:label=&quot;@string/ngw_settings&quot;\r\n            /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.activity.AboutActivity&quot;\r\n            android:label=&quot;@string/action_help&quot;\r\n            /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.activity.CreateVectorLayerActivity&quot;\r\n            android:label=&quot;@string/create_layer&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            /&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;com.nextgis.mobile.datasource.SyncService&quot;\r\n            &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action\r\n                    android:name=&quot;android.content.SyncAdapter&quot;\r\n                    /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.content.SyncAdapter&quot;\r\n                android:resource=&quot;@xml/syncadapter&quot;\r\n                /&gt;\r\n        &lt;/service&gt;\r\n\r\n        &lt;provider\r\n            android:name=&quot;com.nextgis.maplib.datasource.LayerContentProvider&quot;\r\n            android:authorities=&quot;com.nextgis.mobile.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:syncable=&quot;true&quot;\r\n            /&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\nI have added `compile project(&#39;:gisapp&#39;)` in the gradle file for the module app. I know gradle does manifest merging automatically but I could be wrong. \r\n\r\nWhat am I doing wrong here? \r\n\r\n**Note:** [This](https://github.com/nextgis/android_gisapp) is the project which I am using as library. ","title":"How to call activity from a library module in android studio","body":"<p>I am trying to call an activity from a library module in my application. I keep getting the error:</p>\n<blockquote>\n<p>android.content.ActivityNotFoundException: Unable to find explicit activity class {com.nextgis.mobile/com.nextgis.mobile.activity.MainActivity}; have you declared this activity in your AndroidManifest.xml?</p>\n</blockquote>\n<p>I am calling the activity as :</p>\n<pre><code>Intent intentGIS = new Intent(android.content.Intent.ACTION_VIEW);\nintentGIS.setComponent(new ComponentName(&quot;com.nextgis.mobile&quot;,\n                    &quot;com.nextgis.mobile.activity.MainActivity&quot;));\nstartActivity(intentGIS);\n</code></pre>\n<p>App manifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\npackage=&quot;com.disarm.sanna.pdm&quot;&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CLEAR_APP_CACHE&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission-sdk-23 android:name=&quot;android.permission.WRITE_SETTINGS&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.AUTHENTICATE_ACCOUNTS&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.GET_ACCOUNTS&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_ACCOUNTS&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_SYNC_SETTINGS&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_SYNC_STATS&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.USE_CREDENTIALS&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_SYNC_SETTINGS&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\n\n\n&lt;!--\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\n--&gt;\n\n&lt;uses-feature\n    android:name=&quot;android.hardware.location&quot;\n    android:required=&quot;true&quot;\n    /&gt;\n&lt;uses-feature\n    android:name=&quot;android.hardware.telephony&quot;\n    android:required=&quot;false&quot;\n    /&gt;\n&lt;uses-feature\n    android:name=&quot;android.hardware.wifi&quot;\n    android:required=&quot;false&quot;\n    /&gt;\n&lt;!--\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;false&quot;\n        /&gt;\n    &lt;uses-feature\n        android:name=&quot;android.hardware.compass&quot;\n        android:required=&quot;false&quot;\n        /&gt;\n--&gt;\n\n\n&lt;supports-screens\n    android:largeScreens=&quot;true&quot;\n    android:smallScreens=&quot;true&quot;\n    android:anyDensity=&quot;true&quot;\n    android:normalScreens=&quot;true&quot;\n    android:xlargeScreens=&quot;true&quot;\n    android:resizeable=&quot;true&quot;\n    /&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@drawable/logo&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/AppTheme&quot;\n    tools:node=&quot;replace&quot;&gt;\n    &lt;activity\n        android:name=&quot;.SplashActivity&quot;\n        android:windowSoftInputMode=&quot;stateHidden|adjustUnspecified&quot;\n        android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;activity\n        android:name=&quot;com.disarm.sanna.pdm.ShareActivity&quot;\n        android:label=&quot;@string/app_name&quot;&gt;\n    &lt;/activity&gt;\n\n    &lt;activity android:name=&quot;.SelectCategoryActivity&quot;\n        android:label=&quot;@string/app_name&quot;&gt;\n    &lt;/activity&gt;\n\n    &lt;activity android:name=&quot;.SocialShareActivity&quot;\n        android:label=&quot;@string/app_name&quot;&gt;\n    &lt;/activity&gt;\n\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=&quot;.ActivityList&quot;\n        android:windowSoftInputMode=&quot;stateHidden|adjustPan&quot;\n        android:theme=&quot;@style/Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=&quot;.Capture.Photo&quot;\n        android:theme=&quot;@style/AppCompatAlertDialogStyle&quot;\n        &gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=&quot;.Capture.Video&quot;\n        android:theme=&quot;@style/AppCompatAlertDialogStyle&quot;\n        &gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:label=&quot;Record Audio&quot;\n        android:name=&quot;.Capture.AudioCapture&quot;\n        android:theme=&quot;@style/Theme.AppCompat.Light.Dialog&quot;\n        &gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:label=&quot;@string/allow_setting&quot;\n        android:name=&quot;.WriteSettingActivity&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        &gt;\n    &lt;/activity&gt;\n    &lt;service\n        android:name=&quot;.Service.SyncService&quot;\n        android:enabled=&quot;true&quot;\n        android:exported=&quot;true&quot; /&gt;\n    &lt;service android:name=&quot;.DisarmConnect.MyService&quot; /&gt;\n&lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>Library manifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;!--\n~ Project:  NextGIS Mobile\n~ Purpose:  Mobile GIS for Android.\n~ Author:   Dmitry Baryshnikov (aka Bishop), bishop.dev@gmail.com\n~ Author:   NikitaFeodonit, nfeodonit@yandex.com\n~ Author:   Stanislav Petriakov, becomeglory@gmail.com\n~      ******************************************************************************\n~ Copyright (c) 2012-2016 NextGIS, info@nextgis.com\n~\n~ This program is free software: you can redistribute it and/or modify\n~ it under the terms of the GNU General Public License as published by\n~ the Free Software Foundation, either version 3 of the License, or\n~ (at your option) any later version.\n~\n~ This program is distributed in the hope that it will be useful,\n~ but WITHOUT ANY WARRANTY; without even the implied warranty of\n~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n~ GNU General Public License for more details.\n~\n~ You should have received a copy of the GNU General Public License\n~ along with this program.  If not, see     &lt;http://www.gnu.org/licenses/&gt;.\n--&gt;\n\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n      package=&quot;com.nextgis.mobile&quot;\n&gt;\n\n\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:label=&quot;@string/app_name&quot;\n    &gt;\n    &lt;activity\n        android:name=&quot;.activity.MainActivity&quot;\n        android:label=&quot;@string/app_name&quot;\n        &gt;\n    &lt;/activity&gt;\n\n    &lt;activity\n        android:name=&quot;.activity.SettingsActivity&quot;\n        android:label=&quot;@string/action_settings&quot;\n        /&gt;\n\n    &lt;activity\n        android:name=&quot;.activity.NGWSettingsActivityProxy&quot;\n        android:label=&quot;@string/ngw_settings&quot;\n        /&gt;\n\n    &lt;activity\n        android:name=&quot;.activity.AboutActivity&quot;\n        android:label=&quot;@string/action_help&quot;\n        /&gt;\n\n    &lt;activity\n        android:name=&quot;.activity.CreateVectorLayerActivity&quot;\n        android:label=&quot;@string/create_layer&quot;\n        android:screenOrientation=&quot;portrait&quot;\n        /&gt;\n\n    &lt;service\n        android:name=&quot;com.nextgis.mobile.datasource.SyncService&quot;\n        &gt;\n        &lt;intent-filter&gt;\n            &lt;action\n                android:name=&quot;android.content.SyncAdapter&quot;\n                /&gt;\n        &lt;/intent-filter&gt;\n        &lt;meta-data\n            android:name=&quot;android.content.SyncAdapter&quot;\n            android:resource=&quot;@xml/syncadapter&quot;\n            /&gt;\n    &lt;/service&gt;\n\n    &lt;provider\n        android:name=&quot;com.nextgis.maplib.datasource.LayerContentProvider&quot;\n        android:authorities=&quot;com.nextgis.mobile.provider&quot;\n        android:exported=&quot;false&quot;\n        android:syncable=&quot;true&quot;\n        /&gt;\n\n&lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I have added <code>compile project(':gisapp')</code> in the gradle file for the module app. I know gradle does manifest merging automatically but I could be wrong.</p>\n<p>What am I doing wrong here?</p>\n<p><strong>Note:</strong> <a href=\"https://github.com/nextgis/android_gisapp\" rel=\"nofollow noreferrer\">This</a> is the project which I am using as library.</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1678901814,"post_id":75748065,"comment_id":133624671,"body_markdown":"The `initialize()` method is called on the corresponding controller each time the FXML file is loaded via `FXMLLoader.load()`. It has nothing to do with the stage. It&#39;s not really clear what you mean here. Create and post a complete [mre] which demonstrates the problem (i.e. an example which shows where you want `initialize()` to be called but isn&#39;t being called).","body":"The <code>initialize()</code> method is called on the corresponding controller each time the FXML file is loaded via <code>FXMLLoader.load()</code>. It has nothing to do with the stage. It&#39;s not really clear what you mean here. Create and post a complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates the problem (i.e. an example which shows where you want <code>initialize()</code> to be called but isn&#39;t being called)."},{"owner":{"account_id":27502309,"reputation":11,"user_id":20985731,"display_name":"Elijah Hunter"},"score":0,"creation_date":1678902264,"post_id":75748065,"comment_id":133624779,"body_markdown":"I need the initialize method to be called after stage2.show() is called within the onPrint method in the HelloController1.java class","body":"I need the initialize method to be called after stage2.show() is called within the onPrint method in the HelloController1.java class"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1678902669,"post_id":75748065,"comment_id":133624891,"body_markdown":"Keep a reference to the controller after loading the FXML, and call `stage2.setOnShown(e -&gt; controller.initialize());`. If all you&#39;re doing is updating the view from the data, it&#39;s probably better to use a MVC approach here (with observable properties in the model, so the controller can observe them and update the label itself). But again, create and post a [mre] so it&#39;s clear what you mean.","body":"Keep a reference to the controller after loading the FXML, and call <code>stage2.setOnShown(e -&gt; controller.initialize());</code>. If all you&#39;re doing is updating the view from the data, it&#39;s probably better to use a MVC approach here (with observable properties in the model, so the controller can observe them and update the label itself). But again, create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so it&#39;s clear what you mean."},{"owner":{"account_id":2876507,"reputation":786,"user_id":2468417,"display_name":"Viraj Shah"},"score":0,"creation_date":1678948545,"post_id":75748065,"comment_id":133632427,"body_markdown":"Thank you for posting this kind of question. Although you have a valid question, please consider reducing your code snippets to only include a minimum viable example so that community member don&#39;t have to shuffle through large blocks of code to assist you. The next comment will provide links to help you improve this post, and hopefully, community members will respond by helping you out.","body":"Thank you for posting this kind of question. Although you have a valid question, please consider reducing your code snippets to only include a minimum viable example so that community member don&#39;t have to shuffle through large blocks of code to assist you. The next comment will provide links to help you improve this post, and hopefully, community members will respond by helping you out."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1678948562,"post_id":75748065,"comment_id":133632429,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":27502309,"reputation":11,"user_id":20985731,"display_name":"Elijah Hunter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678900644,"creation_date":1678900644,"question_id":75748065,"body_markdown":"I need a method to be ran (inside of my second controller) each time I run stage2.show(); I was originally doing this by using the initialize method, however this only works one time.\r\n\r\n\r\n```\r\nhello-view.fxml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.CheckBox?&gt;\r\n&lt;?import javafx.scene.control.ComboBox?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.Separator?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;VBox fx:id=&quot;vbox&quot; alignment=&quot;CENTER&quot; onMouseClicked=&quot;#onVboxClick&quot; spacing=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.orderingapp.HelloController&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n    &lt;/padding&gt;\r\n   &lt;children&gt;\r\n      &lt;AnchorPane fx:id=&quot;anchorpane&quot; onMouseClicked=&quot;#onVboxClick&quot; prefHeight=&quot;580.0&quot; prefWidth=&quot;968.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;TextField fx:id=&quot;nameField&quot; layoutX=&quot;253.0&quot; layoutY=&quot;23.0&quot; onAction=&quot;#enterName&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;378.0&quot; promptText=&quot;Enter your name&quot; /&gt;\r\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;10.0&quot; layoutY=&quot;59.0&quot; prefHeight=&quot;174.0&quot; prefWidth=&quot;220.0&quot; /&gt;\r\n            &lt;ImageView fx:id=&quot;logo&quot; fitHeight=&quot;200.0&quot; fitWidth=&quot;200.0&quot; layoutX=&quot;21.0&quot; layoutY=&quot;47.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;addressField&quot; layoutX=&quot;253.0&quot; layoutY=&quot;87.0&quot; onAction=&quot;#enterAddress&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;378.0&quot; promptText=&quot;Enter your address&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;cityField&quot; layoutX=&quot;253.0&quot; layoutY=&quot;158.0&quot; onAction=&quot;#enterCity&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; promptText=&quot;Enter your city&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;zipField&quot; layoutX=&quot;550.0&quot; layoutY=&quot;158.0&quot; onAction=&quot;#enterZip&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Zipcode&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;stateField&quot; layoutX=&quot;421.0&quot; layoutY=&quot;158.0&quot; onAction=&quot;#enterState&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;111.0&quot; promptText=&quot;State&quot; /&gt;\r\n            &lt;Label fx:id=&quot;nameLabel&quot; layoutX=&quot;253.0&quot; layoutY=&quot;6.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;378.0&quot; text=&quot;Name:&quot; /&gt;\r\n            &lt;Label fx:id=&quot;addressLabel&quot; layoutX=&quot;253.0&quot; layoutY=&quot;70.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;378.0&quot; text=&quot;Address:&quot; /&gt;\r\n            &lt;Label fx:id=&quot;cityLabel&quot; layoutX=&quot;253.0&quot; layoutY=&quot;141.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;159.0&quot; text=&quot;City:&quot; /&gt;\r\n            &lt;Label fx:id=&quot;stateLabel&quot; layoutX=&quot;421.0&quot; layoutY=&quot;141.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;111.0&quot; text=&quot;State:&quot; /&gt;\r\n            &lt;Label fx:id=&quot;zipLabel&quot; layoutX=&quot;550.0&quot; layoutY=&quot;141.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;81.0&quot; text=&quot;Zip:&quot; /&gt;\r\n            &lt;Separator layoutY=&quot;254.0&quot; prefHeight=&quot;3.0&quot; prefWidth=&quot;962.0&quot; /&gt;\r\n            &lt;Separator layoutX=&quot;240.0&quot; orientation=&quot;VERTICAL&quot; prefHeight=&quot;244.0&quot; prefWidth=&quot;6.0&quot; /&gt;\r\n            &lt;Separator layoutY=&quot;34.0&quot; prefHeight=&quot;0.0&quot; prefWidth=&quot;232.0&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;dateLabel&quot; alignment=&quot;CENTER&quot; editable=&quot;false&quot; layoutX=&quot;40.0&quot; layoutY=&quot;2.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;149.0&quot; /&gt;\r\n            &lt;ComboBox fx:id=&quot;memoryTypes&quot; layoutY=&quot;355.0&quot; onAction=&quot;#memoryTypeSelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Type&quot; /&gt;\r\n            &lt;ComboBox fx:id=&quot;mouseTypes&quot; layoutY=&quot;395.0&quot; onAction=&quot;#mouseTypeSelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Type&quot; /&gt;\r\n            &lt;ComboBox fx:id=&quot;driveTypes&quot; layoutY=&quot;435.0&quot; onAction=&quot;#driveTypeSelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Type&quot; /&gt;\r\n            &lt;ComboBox fx:id=&quot;boardQuantity&quot; layoutX=&quot;94.0&quot; layoutY=&quot;275.0&quot; onAction=&quot;#boardQuantitySelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; promptText=&quot;0&quot; /&gt;\r\n            &lt;ComboBox fx:id=&quot;cardQuantity&quot; layoutX=&quot;94.0&quot; layoutY=&quot;315.0&quot; onAction=&quot;#cardQuantitySelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; promptText=&quot;0&quot; /&gt;\r\n            &lt;ComboBox fx:id=&quot;memoryQuantity&quot; layoutX=&quot;94.0&quot; layoutY=&quot;355.0&quot; onAction=&quot;#memoryQuantitySelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; promptText=&quot;0&quot; /&gt;\r\n            &lt;ComboBox fx:id=&quot;mouseQuantity&quot; layoutX=&quot;94.0&quot; layoutY=&quot;395.0&quot; onAction=&quot;#mouseQuantitySelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; promptText=&quot;0&quot; /&gt;\r\n            &lt;ComboBox fx:id=&quot;driveQuantity&quot; layoutX=&quot;94.0&quot; layoutY=&quot;435.0&quot; onAction=&quot;#driveQuantitySelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; promptText=&quot;0&quot; /&gt;\r\n            &lt;ComboBox fx:id=&quot;monitorQuantity&quot; layoutX=&quot;94.0&quot; layoutY=&quot;475.0&quot; onAction=&quot;#monitorQuantitySelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; promptText=&quot;0&quot; /&gt;\r\n            &lt;ComboBox fx:id=&quot;desktopQuantity&quot; layoutX=&quot;94.0&quot; layoutY=&quot;515.0&quot; onAction=&quot;#desktopQuantitySelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; promptText=&quot;0&quot; /&gt;\r\n            &lt;ComboBox fx:id=&quot;laptopQuantity&quot; layoutX=&quot;94.0&quot; layoutY=&quot;555.0&quot; onAction=&quot;#laptopQuantitySelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; promptText=&quot;0&quot; /&gt;\r\n            &lt;Separator layoutX=&quot;640.0&quot; orientation=&quot;VERTICAL&quot; prefHeight=&quot;244.0&quot; prefWidth=&quot;6.0&quot; /&gt;\r\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;196.0&quot; layoutY=&quot;275.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; text=&quot;Monster Mother Boards&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;boardCosts&quot; editable=&quot;false&quot; layoutX=&quot;361.0&quot; layoutY=&quot;275.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;boardPrices&quot; editable=&quot;false&quot; layoutX=&quot;458.0&quot; layoutY=&quot;275.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;boardProfits&quot; editable=&quot;false&quot; layoutX=&quot;550.0&quot; layoutY=&quot;275.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;boardSubtotal&quot; editable=&quot;false&quot; layoutX=&quot;643.0&quot; layoutY=&quot;275.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;196.0&quot; layoutY=&quot;315.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; text=&quot;GForce Graphics Cards&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;cardCosts&quot; editable=&quot;false&quot; layoutX=&quot;361.0&quot; layoutY=&quot;315.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;cardPrices&quot; editable=&quot;false&quot; layoutX=&quot;458.0&quot; layoutY=&quot;315.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;cardProfits&quot; editable=&quot;false&quot; layoutX=&quot;550.0&quot; layoutY=&quot;315.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;cardSubtotal&quot; editable=&quot;false&quot; layoutX=&quot;643.0&quot; layoutY=&quot;315.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;196.0&quot; layoutY=&quot;355.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; text=&quot;Monster Memory Sticks&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;memoryCosts&quot; editable=&quot;false&quot; layoutX=&quot;361.0&quot; layoutY=&quot;355.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;memoryPrices&quot; editable=&quot;false&quot; layoutX=&quot;458.0&quot; layoutY=&quot;355.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;memoryProfits&quot; editable=&quot;false&quot; layoutX=&quot;550.0&quot; layoutY=&quot;355.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;memorySubtotal&quot; editable=&quot;false&quot; layoutX=&quot;643.0&quot; layoutY=&quot;355.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;196.0&quot; layoutY=&quot;395.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; text=&quot;Wacky Wireless Mouse&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;mouseCosts&quot; editable=&quot;false&quot; layoutX=&quot;361.0&quot; layoutY=&quot;395.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;mousePrices&quot; editable=&quot;false&quot; layoutX=&quot;458.0&quot; layoutY=&quot;395.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;mouseProfits&quot; editable=&quot;false&quot; layoutX=&quot;550.0&quot; layoutY=&quot;395.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;mouseSubtotal&quot; editable=&quot;false&quot; layoutX=&quot;643.0&quot; layoutY=&quot;395.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;196.0&quot; layoutY=&quot;435.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; text=&quot;Hard Drive(s) 500 GB&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;driveCosts&quot; editable=&quot;false&quot; layoutX=&quot;361.0&quot; layoutY=&quot;435.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;drivePrices&quot; editable=&quot;false&quot; layoutX=&quot;458.0&quot; layoutY=&quot;435.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;driveProfits&quot; editable=&quot;false&quot; layoutX=&quot;550.0&quot; layoutY=&quot;435.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;driveSubtotal&quot; editable=&quot;false&quot; layoutX=&quot;643.0&quot; layoutY=&quot;435.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;196.0&quot; layoutY=&quot;475.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; text=&quot;ACME Monitor&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;monitorCosts&quot; editable=&quot;false&quot; layoutX=&quot;361.0&quot; layoutY=&quot;475.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;monitorPrices&quot; editable=&quot;false&quot; layoutX=&quot;458.0&quot; layoutY=&quot;475.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;monitorProfits&quot; editable=&quot;false&quot; layoutX=&quot;550.0&quot; layoutY=&quot;475.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;monitorSubtotal&quot; editable=&quot;false&quot; layoutX=&quot;643.0&quot; layoutY=&quot;475.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;196.0&quot; layoutY=&quot;515.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; text=&quot;ACME Desktop PC&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;desktopCosts&quot; editable=&quot;false&quot; layoutX=&quot;361.0&quot; layoutY=&quot;515.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;desktopPrices&quot; editable=&quot;false&quot; layoutX=&quot;458.0&quot; layoutY=&quot;515.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;desktopProfits&quot; editable=&quot;false&quot; layoutX=&quot;550.0&quot; layoutY=&quot;515.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;desktopSubtotal&quot; editable=&quot;false&quot; layoutX=&quot;643.0&quot; layoutY=&quot;515.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;196.0&quot; layoutY=&quot;554.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; text=&quot;ACME Laptop PC&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;laptopCosts&quot; editable=&quot;false&quot; layoutX=&quot;361.0&quot; layoutY=&quot;554.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;laptopPrices&quot; editable=&quot;false&quot; layoutX=&quot;458.0&quot; layoutY=&quot;554.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;laptopProfits&quot; editable=&quot;false&quot; layoutX=&quot;550.0&quot; layoutY=&quot;554.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;laptopSubtotal&quot; editable=&quot;false&quot; layoutX=&quot;643.0&quot; layoutY=&quot;554.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;Separator layoutX=&quot;732.0&quot; layoutY=&quot;262.0&quot; orientation=&quot;VERTICAL&quot; prefHeight=&quot;320.0&quot; prefWidth=&quot;6.0&quot; /&gt;\r\n            &lt;Label layoutY=&quot;254.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;Types:&quot; /&gt;\r\n            &lt;Label layoutX=&quot;94.0&quot; layoutY=&quot;258.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;89.0&quot; text=&quot;Quantities:&quot; /&gt;\r\n            &lt;Label layoutX=&quot;196.0&quot; layoutY=&quot;258.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;159.0&quot; text=&quot;Items:&quot; /&gt;\r\n            &lt;Label layoutX=&quot;361.0&quot; layoutY=&quot;258.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;81.0&quot; text=&quot;Unit Cost:&quot; /&gt;\r\n            &lt;Label layoutX=&quot;458.0&quot; layoutY=&quot;258.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;81.0&quot; text=&quot;Retail Price:&quot; /&gt;\r\n            &lt;Label layoutX=&quot;550.0&quot; layoutY=&quot;258.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;81.0&quot; text=&quot;Profit:&quot; /&gt;\r\n            &lt;Label layoutX=&quot;643.0&quot; layoutY=&quot;258.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;81.0&quot; text=&quot;Subtotal:&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;cumulativeQuantities&quot; editable=&quot;false&quot; layoutX=&quot;803.0&quot; layoutY=&quot;22.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; promptText=&quot;Cumulative Quantity (Day)&quot; text=&quot;0&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;cumulativeProfits&quot; editable=&quot;false&quot; layoutX=&quot;803.0&quot; layoutY=&quot;158.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; promptText=&quot;Cumulative Profit (Day)&quot; text=&quot;0&quot; /&gt;\r\n            &lt;Label layoutX=&quot;649.0&quot; layoutY=&quot;18.0&quot; prefHeight=&quot;33.0&quot; prefWidth=&quot;149.0&quot; text=&quot;Cumulative Day&#39;s Quantity:&quot; /&gt;\r\n            &lt;Label layoutX=&quot;649.0&quot; layoutY=&quot;154.0&quot; prefHeight=&quot;33.0&quot; prefWidth=&quot;149.0&quot; text=&quot;Cumulative Day&#39;s Profit:&quot; /&gt;\r\n            &lt;Label layoutX=&quot;738.0&quot; layoutY=&quot;279.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;89.0&quot; text=&quot;Sales Tax:&quot; /&gt;\r\n            &lt;Label layoutX=&quot;738.0&quot; layoutY=&quot;319.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;89.0&quot; text=&quot;Order With Tax:&quot; /&gt;\r\n            &lt;Label layoutX=&quot;738.0&quot; layoutY=&quot;359.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;89.0&quot; text=&quot;Processing Fee&#39;s:&quot; /&gt;\r\n            &lt;Label layoutX=&quot;738.0&quot; layoutY=&quot;399.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;89.0&quot; text=&quot;Order Total:&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;salesTaxes&quot; editable=&quot;false&quot; layoutX=&quot;830.0&quot; layoutY=&quot;278.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;127.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;orderWithTaxes&quot; editable=&quot;false&quot; layoutX=&quot;830.0&quot; layoutY=&quot;315.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;127.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;processFees&quot; editable=&quot;false&quot; layoutX=&quot;830.0&quot; layoutY=&quot;355.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;127.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;orderTotals&quot; editable=&quot;false&quot; layoutX=&quot;830.0&quot; layoutY=&quot;395.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;127.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;AnchorPane layoutX=&quot;738.0&quot; layoutY=&quot;395.0&quot; /&gt;\r\n            &lt;Button fx:id=&quot;quit&quot; layoutX=&quot;832.0&quot; layoutY=&quot;448.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onQuit&quot; text=&quot;Quit&quot; /&gt;\r\n            &lt;Button fx:id=&quot;clearOrder&quot; layoutX=&quot;744.0&quot; layoutY=&quot;448.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onClearOrder&quot; text=&quot;Clear Order&quot; /&gt;\r\n            &lt;Separator layoutX=&quot;744.0&quot; layoutY=&quot;434.0&quot; prefHeight=&quot;3.0&quot; prefWidth=&quot;214.0&quot; /&gt;\r\n            &lt;Button fx:id=&quot;print&quot; layoutX=&quot;883.0&quot; layoutY=&quot;448.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onPrint&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;77.0&quot; text=&quot;Print&quot; /&gt;\r\n            &lt;Button fx:id=&quot;calculate&quot; layoutX=&quot;748.0&quot; layoutY=&quot;478.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onCalculate&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;207.0&quot; text=&quot;Calculate&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Button&gt;\r\n            &lt;Separator layoutX=&quot;738.0&quot; layoutY=&quot;514.0&quot; prefHeight=&quot;3.0&quot; prefWidth=&quot;214.0&quot; /&gt;\r\n            &lt;Label layoutX=&quot;738.0&quot; layoutY=&quot;519.0&quot; text=&quot;Profit Total:&quot; /&gt;\r\n            &lt;Label layoutX=&quot;738.0&quot; layoutY=&quot;559.0&quot; text=&quot;Subtotal Total:&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;profitTotals&quot; editable=&quot;false&quot; layoutX=&quot;830.0&quot; layoutY=&quot;515.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;127.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;subtotalTotals&quot; editable=&quot;false&quot; layoutX=&quot;830.0&quot; layoutY=&quot;554.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;127.0&quot; text=&quot;0.00&quot; /&gt;\r\n            &lt;ComboBox layoutY=&quot;475.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Default&quot; /&gt;\r\n            &lt;ComboBox layoutY=&quot;515.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Default&quot; visibleRowCount=&quot;0&quot; /&gt;\r\n            &lt;ComboBox layoutY=&quot;555.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Default&quot; visibleRowCount=&quot;0&quot; /&gt;\r\n            &lt;ComboBox layoutY=&quot;275.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Default&quot; /&gt;\r\n            &lt;ComboBox layoutY=&quot;315.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Default&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;memberField&quot; layoutX=&quot;417.0&quot; layoutY=&quot;219.0&quot; onAction=&quot;#onEnterMember&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;214.0&quot; promptText=&quot;Enter member ID&quot; visible=&quot;false&quot; /&gt;\r\n            &lt;CheckBox fx:id=&quot;memberCheck&quot; layoutX=&quot;253.0&quot; layoutY=&quot;223.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#checkMember&quot; text=&quot;Are you a member?&quot; /&gt;\r\n            &lt;Label fx:id=&quot;memberLabel&quot; layoutX=&quot;417.0&quot; layoutY=&quot;202.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;214.0&quot; text=&quot;Enter your member ID&quot; visible=&quot;false&quot; /&gt;\r\n         &lt;/children&gt;\r\n      &lt;/AnchorPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n\r\nhello-view2.fxml\r\n\r\n(imports)\r\n\r\n&lt;VBox alignment=&quot;CENTER&quot; prefHeight=&quot;423.0&quot; prefWidth=&quot;575.0&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; fx:controller=&quot;com.example.orderingapp.HelloController2&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n    &lt;/padding&gt;\r\n   &lt;children&gt;\r\n      &lt;AnchorPane prefHeight=&quot;490.0&quot; prefWidth=&quot;535.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label fx:id=&quot;label&quot; alignment=&quot;TOP_LEFT&quot; prefHeight=&quot;389.0&quot; prefWidth=&quot;535.0&quot; text=&quot;Label&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;18.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n         &lt;/children&gt;\r\n      &lt;/AnchorPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\n```\r\nHelloController.java\r\n\r\npackage com.example.orderingapp;\r\n\r\n// all my imports\r\n\r\npublic class HelloController\r\n{\r\n    // all of my FXML objects and variables\r\n\r\n    public Stage stage2 = new Stage();\r\n    public FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view2.fxml&quot;));\r\n\r\n    @FXML\r\n    public void initialize()\r\n    {\r\n        Image img = new Image(String.valueOf(getClass().getResource(&quot;laptop.png&quot;)));\r\n        logo.setImage(img);\r\n        // sets text for all of them (deleted for character limits)\r\n        // Creates ComboBox options for laptops.\r\n        laptopCosts.setText(String.valueOf(laptopCost));\r\n        laptopPrices.setText(String.valueOf(laptopPrice));\r\n        laptopProfits.setText(String.valueOf(laptopProfit));\r\n        // Adds numbers 0 to 10 for each quantity ComboBox.\r\n        for (int i = 0; i &lt;= 10; i++)\r\n        {\r\n            monitorQuantity.getItems().add(i);\r\n            desktopQuantity.getItems().add(i);\r\n            laptopQuantity.getItems().add(i);\r\n            boardQuantity.getItems().add(i);\r\n            cardQuantity.getItems().add(i);\r\n            memoryQuantity.getItems().add(i);\r\n            mouseQuantity.getItems().add(i);\r\n            driveQuantity.getItems().add(i);\r\n        }\r\n        // Creates ComboBox options for each drive type.\r\n        driveTypes.getItems().addAll(&quot;Type&quot;, &quot;IDE&quot;, &quot;SATA&quot;, &quot;SSD&quot;);\r\n        // Creates ComboBox options for each mouse type.\r\n        mouseTypes.getItems().addAll(&quot;Type&quot;, &quot;Blue&quot;, &quot;Black&quot;, &quot;Pink&quot;);\r\n        // Creates ComboBox options for each memory type.\r\n        memoryTypes.getItems().addAll(&quot;Type&quot;, &quot;32GB&quot;, &quot;64GB&quot;, &quot;128GB&quot;);\r\n\r\n        // sets all quantity variables to 0\r\n\r\n        // Gets the date\r\n        LocalDate date = LocalDate.now();\r\n        // Gets the time\r\n        LocalTime time = LocalTime.now();\r\n        int min = time.getMinute();\r\n        int hr = time.getHour();\r\n        String timeString = &quot;&quot;;\r\n        String PmAm = &quot;&quot;;\r\n        // Checks if time is AM or PM\r\n        // If the time is exactly 12, then there is no need to subtract 12.\r\n        if (hr == 12)\r\n        {\r\n            PmAm = &quot;PM&quot;;\r\n        }\r\n        if (hr &lt; 12)\r\n        {\r\n            PmAm = &quot;AM&quot;;\r\n        }\r\n        // If the time is PM, then subtract 12 (13 in military time (13-12) is 1 in normal time)\r\n        if (hr &gt; 12)\r\n        {\r\n            PmAm = &quot;PM&quot;;\r\n            hr = hr - 12;\r\n        }\r\n        // Adds the : and a Zero if the current time is not a double-digit number.\r\n        if (min &lt; 10)\r\n        {\r\n            timeString = hr + &quot;:0&quot; + min + &quot; &quot; + PmAm;\r\n        } else {\r\n            timeString = hr + &quot;:&quot; + min + &quot; &quot; + PmAm;\r\n        }\r\n        orderTime = timeString;\r\n        // Sets the date label\r\n        dateLabel.setText(date + &quot; | &quot; + timeString);\r\n        // Initializes every value to zero\r\n        onClearOrder();\r\n        nameField.requestFocus();\r\n    }\r\n\r\n    public double calculate(int quant, int val, double sub, double price, TextField text)\r\n    {\r\n        // Calculates the price\r\n        String rounded = &quot;&quot;;\r\n        quant = val;\r\n        sub = price * quant;\r\n        // Rounds the price to the hundredths place\r\n        rounded = twoPlaces.format(sub);\r\n        // Sets the text to the rounded value\r\n        text.setText(rounded);\r\n        // Returns the price (unrounded)\r\n        return sub;\r\n    }\r\n\r\n    @FXML\r\n    public void boardQuantitySelect()\r\n    {\r\n        // Gets and Sets the quantity\r\n        boardQuant = boardQuantity.getValue();\r\n        // Calculates the subtotal\r\n        boardSub = calculate(boardQuant, boardQuantity.getValue(), boardSub, boardPrice, boardSubtotal);\r\n    }\r\n\r\n    @FXML\r\n    public void cardQuantitySelect()\r\n    {\r\n        // all quantity selects are same as the motherboard one\r\n    }\r\n\r\n    @FXML\r\n    public void desktopQuantitySelect()\r\n    {\r\n       // same as others\r\n    }\r\n\r\n    @FXML\r\n    public void driveQuantitySelect()\r\n    {\r\n        // same as others\r\n    }\r\n\r\n    @FXML\r\n    public void driveTypeSelect()\r\n    {\r\n        // Gets the index of the currently selected item\r\n        int index = driveTypes.getItems().indexOf(driveTypes.getValue());\r\n        // Sets the selected item values based off of the current index\r\n        selectedDriveCost = driveCost[index];\r\n        selectedDrivePrice = drivePrice[index];\r\n        selectedDriveProfit = driveProfit[index];\r\n        // Sets the text\r\n        driveCosts.setText(String.valueOf(selectedDriveCost));\r\n        drivePrices.setText(String.valueOf(selectedDrivePrice));\r\n        driveProfits.setText(String.valueOf(selectedDriveProfit));\r\n        // Calculates the subtotal\r\n        driveSub = calculate(driveQuant, driveQuantity.getValue(), driveSub, selectedDrivePrice, driveSubtotal);\r\n    }\r\n\r\n    @FXML\r\n    public void enterAddress()\r\n    {\r\n        // Sets and gets the address\r\n        address = addressField.getText();\r\n    }\r\n\r\n    @FXML\r\n    public void enterCity()\r\n    {\r\n        // Sets and gets the city\r\n        city = cityField.getText();\r\n    }\r\n\r\n    @FXML\r\n    public void enterName()\r\n    {\r\n        // Sets and gets the name\r\n        name = nameField.getText();\r\n    }\r\n\r\n    @FXML\r\n    public void enterState()\r\n    {\r\n        // Sets and gets the state\r\n        state = stateField.getText();\r\n    }\r\n\r\n    @FXML\r\n    public void enterZip()\r\n    {\r\n        // Sets and gets the zipcode\r\n        if(isDigit(zipField.getText()))\r\n        {\r\n            zip = zipField.getText();\r\n        }\r\n    }\r\n    @FXML\r\n    public void laptopQuantitySelect()\r\n    {\r\n        // same as others\r\n    }\r\n\r\n    @FXML\r\n    public void memoryQuantitySelect()\r\n    {\r\n        // same as others\r\n    }\r\n\r\n    @FXML\r\n    public void memoryTypeSelect()\r\n    {\r\n        // same as other type select\r\n    }\r\n\r\n    @FXML\r\n    public void monitorQuantitySelect()\r\n    {\r\n        // same as others\r\n    }\r\n\r\n    @FXML\r\n    public void mouseQuantitySelect()\r\n    {\r\n        // same as others\r\n\r\n    @FXML\r\n    public void mouseTypeSelect()\r\n    {\r\n        // same as other type select\r\n    }\r\n\r\n    @FXML\r\n    public void onCalculate()\r\n    {\r\n        // Sets values to 0\r\n        processFee = 0.00;\r\n        orderTotal = 0.00;\r\n        // Calculates the total of all the subtotals\r\n        subtotalTotal = boardSub + cardSub + memorySub + mouseSub + driveSub + monitorSub + desktopSub + laptopSub;\r\n        // Calculates sales tax (rate is 6%)\r\n        salesTax = subtotalTotal * 0.06;\r\n        // adds the total of all subtotals to the just calculated sales tax amount\r\n        orderWithTax = subtotalTotal + salesTax;\r\n        // Checks if the user is a member\r\n        if (!isMember)\r\n        {\r\n            String rounded = &quot;&quot;;\r\n            // If the user is not a member, then the process fee is 1.5%\r\n            orderTotal = orderWithTax;\r\n            processFee = orderWithTax * 0.015;\r\n            orderTotal += processFee;\r\n            // Rounds each value and sets text\r\n            rounded = twoPlaces.format(subtotalTotal);\r\n            subtotalTotals.setText(rounded);\r\n            rounded = twoPlaces.format(salesTax);\r\n            salesTaxes.setText(rounded);\r\n            rounded = twoPlaces.format(orderWithTax);\r\n            orderWithTaxes.setText(rounded);\r\n            rounded = twoPlaces.format(orderTotal);\r\n            orderTotals.setText(rounded);\r\n            rounded = twoPlaces.format(processFee);\r\n            processFees.setText(rounded);\r\n        } else\r\n        {\r\n            // If the user IS a member, then there is no process fee.\r\n            orderTotal = orderWithTax;\r\n            String rounded = &quot;&quot;;\r\n            // Rounds and sets text.\r\n            rounded = twoPlaces.format(subtotalTotal);\r\n            subtotalTotals.setText(rounded);\r\n            rounded = twoPlaces.format(salesTax);\r\n            salesTaxes.setText(rounded);\r\n            rounded = twoPlaces.format(orderWithTax);\r\n            orderWithTaxes.setText(rounded);\r\n            rounded = twoPlaces.format(orderTotal);\r\n            orderTotals.setText(rounded);\r\n            orderTotal = orderWithTax;\r\n            processFee = 0;\r\n            processFees.setText(&quot;0.00&quot;);\r\n        }\r\n        // Initializes profit total to 0\r\n        profitTotal = 0;\r\n        // Calculates the profit total\r\n        profitTotal += boardProfit * boardQuant;\r\n        // adds the rest of the profits to the profit total\r\n    }\r\n\r\n    @FXML\r\n    public void onEnterMember()\r\n    {\r\n        // Gets the user&#39;s member ID\r\n        isMember = !(memberField.getText().isBlank()) &amp;&amp; isDigit(memberField.getText());\r\n    }\r\n\r\n    @FXML\r\n    public void checkMember()\r\n    {\r\n        // Makes the member display text and member text field to be visible or invisible based off the checkbox.\r\n        memberLabel.setVisible(memberCheck.isSelected());\r\n        memberField.setVisible(memberCheck.isSelected());\r\n    }\r\n\r\n    @FXML\r\n    public void onClearOrder()\r\n    {\r\n        // Initializes all quantities to zero\r\n        \r\n        // Initializes all types to nothing\r\n        \r\n        // Initializes all subtotals to 0\r\n        \r\n        // Resets user information to empty\r\n        \r\n        // Set member check box to false\r\n        memberCheck.setSelected(false);\r\n        // Set booleans to false\r\n        \r\n        // Close the invoice window\r\n        stage2.close();\r\n        // Sets the current selection of all quantiy combo boxes to 0\r\n        \r\n        // Sets the current selection of all types to the default value.\r\n        memoryTypes.valueProperty().set(&quot;Type&quot;);\r\n        // others were cut out\r\n\r\n        // Initializes the profit total, sales tax, process fee, order total, order with tax, and total of all subtotals to 0\r\n        \r\n        // Clears the text.\r\n        \r\n    }\r\n\r\n    @FXML\r\n    public void onPrint() throws IOException\r\n    {\r\n        // If the order is the same as the last order, then set the isOld order boolean to true\r\n        if(oldTotal == orderWithTax)\r\n        {\r\n            isOld = true;\r\n        } else {\r\n            isOld = false;\r\n        }\r\n        // If the order is not the same as the old order, then calculate the cumulative values.\r\n        if(!isOld)\r\n        {\r\n            cumulativeProfit += profitTotal;\r\n            cumulativeQuantity += (boardQuant + cardQuant + memoryQuant + mouseQuant + driveQuant + monitorQuant + desktopQuant + laptopQuant);\r\n        }\r\n        // Sets the old total to the current total\r\n        oldTotal = orderWithTax;\r\n        // Rounds and sets text\r\n        String rounded = &quot;&quot;;\r\n        rounded = twoPlaces.format(profitTotal);\r\n        profitTotals.setText(rounded);\r\n        rounded = twoPlaces.format(cumulativeProfit);\r\n        // Sets text for cumulative profits and cumulative quantities.\r\n        cumulativeProfits.setText(rounded);\r\n        cumulativeQuantities.setText(String.valueOf(cumulativeQuantity));\r\n        if(!windowOpened)\r\n        {\r\n            staticStorage.set(boardPrice, cardPrice, selectedMemoryPrice, selectedMousePrice, selectedDrivePrice, monitorPrice, desktopPrice, laptopPrice,\r\n                    boardQuant, cardQuant, memoryQuant, mouseQuant, driveQuant, monitorQuant, desktopQuant, laptopQuant, orderTotal, orderTime, name, address,\r\n                        city, state, zip);\r\n            Scene scene = new Scene(fxmlLoader.load());\r\n            stage2.setScene(scene);\r\n            stage2.setTitle(&quot;Stage 2&quot;);\r\n            stage2.show();\r\n            windowOpened = true;\r\n        }\r\n    }\r\n\r\n    @FXML\r\n    public void onQuit()\r\n    {\r\n        // Exits the program\r\n        Platform.exit();\r\n    }\r\n\r\n    @FXML\r\n    public void onVboxClick(MouseEvent event)\r\n    {\r\n\r\n    }\r\n\r\n    public boolean isDigit(String s)\r\n    {\r\n        // Initialize Boolean\r\n        boolean x = false;\r\n        // Test if parsing will create an error\r\n        try{\r\n            // If parsing throws no errors, then the program will say that the input IS a digit (true)\r\n            Integer.parseInt(s);\r\n            x = true;\r\n        } catch(Exception e)\r\n        {\r\n            x = false;\r\n            // If parsing does create an error, then the program will say that the input is not a digit (false)\r\n        }\r\n        // The program then returns the value.\r\n        return x;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nHelloController2.java\r\n\r\npackage com.example.orderingapp;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Label;\r\n\r\npublic class HelloController2\r\n{\r\n    @FXML\r\n    public Label label;\r\n\r\n    @FXML\r\n    public void initialize()\r\n    {\r\n        label.setText(&quot;Invoice&quot;);\r\n        label.setText(&quot;Motherboard quantity: &quot; + staticStorage.boardQuant);\r\n    }\r\n}\r\n```\r\n\r\n```\r\nstaticStorage.java\r\npublic class staticStorage\r\n{\r\n    // all vars\r\n\r\n    public static void set(// arguments to set everything)\r\n    {\r\n        // im past max chars but this sets everything\r\n    }\r\n}\r\n```\r\n\r\nThe static storage class is used so that I can share data between my controllers.\r\n\r\n\r\nI tried to use the initialize method but this only works once, because the stage is only initialized once. I tried searching for an onShow method but all I could find was stage2.setOnShowing(event); \r\nNone of these worked.","title":"Is there a onShow method for a second controller?","body":"<p>I need a method to be ran (inside of my second controller) each time I run stage2.show(); I was originally doing this by using the initialize method, however this only works one time.</p>\n<pre><code>hello-view.fxml\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.CheckBox?&gt;\n&lt;?import javafx.scene.control.ComboBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.Separator?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;VBox fx:id=&quot;vbox&quot; alignment=&quot;CENTER&quot; onMouseClicked=&quot;#onVboxClick&quot; spacing=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.orderingapp.HelloController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n    &lt;/padding&gt;\n   &lt;children&gt;\n      &lt;AnchorPane fx:id=&quot;anchorpane&quot; onMouseClicked=&quot;#onVboxClick&quot; prefHeight=&quot;580.0&quot; prefWidth=&quot;968.0&quot;&gt;\n         &lt;children&gt;\n            &lt;TextField fx:id=&quot;nameField&quot; layoutX=&quot;253.0&quot; layoutY=&quot;23.0&quot; onAction=&quot;#enterName&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;378.0&quot; promptText=&quot;Enter your name&quot; /&gt;\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;10.0&quot; layoutY=&quot;59.0&quot; prefHeight=&quot;174.0&quot; prefWidth=&quot;220.0&quot; /&gt;\n            &lt;ImageView fx:id=&quot;logo&quot; fitHeight=&quot;200.0&quot; fitWidth=&quot;200.0&quot; layoutX=&quot;21.0&quot; layoutY=&quot;47.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; /&gt;\n            &lt;TextField fx:id=&quot;addressField&quot; layoutX=&quot;253.0&quot; layoutY=&quot;87.0&quot; onAction=&quot;#enterAddress&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;378.0&quot; promptText=&quot;Enter your address&quot; /&gt;\n            &lt;TextField fx:id=&quot;cityField&quot; layoutX=&quot;253.0&quot; layoutY=&quot;158.0&quot; onAction=&quot;#enterCity&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; promptText=&quot;Enter your city&quot; /&gt;\n            &lt;TextField fx:id=&quot;zipField&quot; layoutX=&quot;550.0&quot; layoutY=&quot;158.0&quot; onAction=&quot;#enterZip&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Zipcode&quot; /&gt;\n            &lt;TextField fx:id=&quot;stateField&quot; layoutX=&quot;421.0&quot; layoutY=&quot;158.0&quot; onAction=&quot;#enterState&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;111.0&quot; promptText=&quot;State&quot; /&gt;\n            &lt;Label fx:id=&quot;nameLabel&quot; layoutX=&quot;253.0&quot; layoutY=&quot;6.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;378.0&quot; text=&quot;Name:&quot; /&gt;\n            &lt;Label fx:id=&quot;addressLabel&quot; layoutX=&quot;253.0&quot; layoutY=&quot;70.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;378.0&quot; text=&quot;Address:&quot; /&gt;\n            &lt;Label fx:id=&quot;cityLabel&quot; layoutX=&quot;253.0&quot; layoutY=&quot;141.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;159.0&quot; text=&quot;City:&quot; /&gt;\n            &lt;Label fx:id=&quot;stateLabel&quot; layoutX=&quot;421.0&quot; layoutY=&quot;141.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;111.0&quot; text=&quot;State:&quot; /&gt;\n            &lt;Label fx:id=&quot;zipLabel&quot; layoutX=&quot;550.0&quot; layoutY=&quot;141.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;81.0&quot; text=&quot;Zip:&quot; /&gt;\n            &lt;Separator layoutY=&quot;254.0&quot; prefHeight=&quot;3.0&quot; prefWidth=&quot;962.0&quot; /&gt;\n            &lt;Separator layoutX=&quot;240.0&quot; orientation=&quot;VERTICAL&quot; prefHeight=&quot;244.0&quot; prefWidth=&quot;6.0&quot; /&gt;\n            &lt;Separator layoutY=&quot;34.0&quot; prefHeight=&quot;0.0&quot; prefWidth=&quot;232.0&quot; /&gt;\n            &lt;TextField fx:id=&quot;dateLabel&quot; alignment=&quot;CENTER&quot; editable=&quot;false&quot; layoutX=&quot;40.0&quot; layoutY=&quot;2.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;149.0&quot; /&gt;\n            &lt;ComboBox fx:id=&quot;memoryTypes&quot; layoutY=&quot;355.0&quot; onAction=&quot;#memoryTypeSelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Type&quot; /&gt;\n            &lt;ComboBox fx:id=&quot;mouseTypes&quot; layoutY=&quot;395.0&quot; onAction=&quot;#mouseTypeSelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Type&quot; /&gt;\n            &lt;ComboBox fx:id=&quot;driveTypes&quot; layoutY=&quot;435.0&quot; onAction=&quot;#driveTypeSelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Type&quot; /&gt;\n            &lt;ComboBox fx:id=&quot;boardQuantity&quot; layoutX=&quot;94.0&quot; layoutY=&quot;275.0&quot; onAction=&quot;#boardQuantitySelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; promptText=&quot;0&quot; /&gt;\n            &lt;ComboBox fx:id=&quot;cardQuantity&quot; layoutX=&quot;94.0&quot; layoutY=&quot;315.0&quot; onAction=&quot;#cardQuantitySelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; promptText=&quot;0&quot; /&gt;\n            &lt;ComboBox fx:id=&quot;memoryQuantity&quot; layoutX=&quot;94.0&quot; layoutY=&quot;355.0&quot; onAction=&quot;#memoryQuantitySelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; promptText=&quot;0&quot; /&gt;\n            &lt;ComboBox fx:id=&quot;mouseQuantity&quot; layoutX=&quot;94.0&quot; layoutY=&quot;395.0&quot; onAction=&quot;#mouseQuantitySelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; promptText=&quot;0&quot; /&gt;\n            &lt;ComboBox fx:id=&quot;driveQuantity&quot; layoutX=&quot;94.0&quot; layoutY=&quot;435.0&quot; onAction=&quot;#driveQuantitySelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; promptText=&quot;0&quot; /&gt;\n            &lt;ComboBox fx:id=&quot;monitorQuantity&quot; layoutX=&quot;94.0&quot; layoutY=&quot;475.0&quot; onAction=&quot;#monitorQuantitySelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; promptText=&quot;0&quot; /&gt;\n            &lt;ComboBox fx:id=&quot;desktopQuantity&quot; layoutX=&quot;94.0&quot; layoutY=&quot;515.0&quot; onAction=&quot;#desktopQuantitySelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; promptText=&quot;0&quot; /&gt;\n            &lt;ComboBox fx:id=&quot;laptopQuantity&quot; layoutX=&quot;94.0&quot; layoutY=&quot;555.0&quot; onAction=&quot;#laptopQuantitySelect&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; promptText=&quot;0&quot; /&gt;\n            &lt;Separator layoutX=&quot;640.0&quot; orientation=&quot;VERTICAL&quot; prefHeight=&quot;244.0&quot; prefWidth=&quot;6.0&quot; /&gt;\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;196.0&quot; layoutY=&quot;275.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; text=&quot;Monster Mother Boards&quot; /&gt;\n            &lt;TextField fx:id=&quot;boardCosts&quot; editable=&quot;false&quot; layoutX=&quot;361.0&quot; layoutY=&quot;275.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;boardPrices&quot; editable=&quot;false&quot; layoutX=&quot;458.0&quot; layoutY=&quot;275.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;boardProfits&quot; editable=&quot;false&quot; layoutX=&quot;550.0&quot; layoutY=&quot;275.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;boardSubtotal&quot; editable=&quot;false&quot; layoutX=&quot;643.0&quot; layoutY=&quot;275.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;196.0&quot; layoutY=&quot;315.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; text=&quot;GForce Graphics Cards&quot; /&gt;\n            &lt;TextField fx:id=&quot;cardCosts&quot; editable=&quot;false&quot; layoutX=&quot;361.0&quot; layoutY=&quot;315.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;cardPrices&quot; editable=&quot;false&quot; layoutX=&quot;458.0&quot; layoutY=&quot;315.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;cardProfits&quot; editable=&quot;false&quot; layoutX=&quot;550.0&quot; layoutY=&quot;315.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;cardSubtotal&quot; editable=&quot;false&quot; layoutX=&quot;643.0&quot; layoutY=&quot;315.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;196.0&quot; layoutY=&quot;355.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; text=&quot;Monster Memory Sticks&quot; /&gt;\n            &lt;TextField fx:id=&quot;memoryCosts&quot; editable=&quot;false&quot; layoutX=&quot;361.0&quot; layoutY=&quot;355.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;memoryPrices&quot; editable=&quot;false&quot; layoutX=&quot;458.0&quot; layoutY=&quot;355.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;memoryProfits&quot; editable=&quot;false&quot; layoutX=&quot;550.0&quot; layoutY=&quot;355.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;memorySubtotal&quot; editable=&quot;false&quot; layoutX=&quot;643.0&quot; layoutY=&quot;355.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;196.0&quot; layoutY=&quot;395.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; text=&quot;Wacky Wireless Mouse&quot; /&gt;\n            &lt;TextField fx:id=&quot;mouseCosts&quot; editable=&quot;false&quot; layoutX=&quot;361.0&quot; layoutY=&quot;395.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;mousePrices&quot; editable=&quot;false&quot; layoutX=&quot;458.0&quot; layoutY=&quot;395.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;mouseProfits&quot; editable=&quot;false&quot; layoutX=&quot;550.0&quot; layoutY=&quot;395.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;mouseSubtotal&quot; editable=&quot;false&quot; layoutX=&quot;643.0&quot; layoutY=&quot;395.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;196.0&quot; layoutY=&quot;435.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; text=&quot;Hard Drive(s) 500 GB&quot; /&gt;\n            &lt;TextField fx:id=&quot;driveCosts&quot; editable=&quot;false&quot; layoutX=&quot;361.0&quot; layoutY=&quot;435.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;drivePrices&quot; editable=&quot;false&quot; layoutX=&quot;458.0&quot; layoutY=&quot;435.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;driveProfits&quot; editable=&quot;false&quot; layoutX=&quot;550.0&quot; layoutY=&quot;435.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;driveSubtotal&quot; editable=&quot;false&quot; layoutX=&quot;643.0&quot; layoutY=&quot;435.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;196.0&quot; layoutY=&quot;475.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; text=&quot;ACME Monitor&quot; /&gt;\n            &lt;TextField fx:id=&quot;monitorCosts&quot; editable=&quot;false&quot; layoutX=&quot;361.0&quot; layoutY=&quot;475.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;monitorPrices&quot; editable=&quot;false&quot; layoutX=&quot;458.0&quot; layoutY=&quot;475.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;monitorProfits&quot; editable=&quot;false&quot; layoutX=&quot;550.0&quot; layoutY=&quot;475.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;monitorSubtotal&quot; editable=&quot;false&quot; layoutX=&quot;643.0&quot; layoutY=&quot;475.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;196.0&quot; layoutY=&quot;515.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; text=&quot;ACME Desktop PC&quot; /&gt;\n            &lt;TextField fx:id=&quot;desktopCosts&quot; editable=&quot;false&quot; layoutX=&quot;361.0&quot; layoutY=&quot;515.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;desktopPrices&quot; editable=&quot;false&quot; layoutX=&quot;458.0&quot; layoutY=&quot;515.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;desktopProfits&quot; editable=&quot;false&quot; layoutX=&quot;550.0&quot; layoutY=&quot;515.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;desktopSubtotal&quot; editable=&quot;false&quot; layoutX=&quot;643.0&quot; layoutY=&quot;515.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField editable=&quot;false&quot; layoutX=&quot;196.0&quot; layoutY=&quot;554.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; text=&quot;ACME Laptop PC&quot; /&gt;\n            &lt;TextField fx:id=&quot;laptopCosts&quot; editable=&quot;false&quot; layoutX=&quot;361.0&quot; layoutY=&quot;554.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;laptopPrices&quot; editable=&quot;false&quot; layoutX=&quot;458.0&quot; layoutY=&quot;554.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;laptopProfits&quot; editable=&quot;false&quot; layoutX=&quot;550.0&quot; layoutY=&quot;554.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;laptopSubtotal&quot; editable=&quot;false&quot; layoutX=&quot;643.0&quot; layoutY=&quot;554.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;Separator layoutX=&quot;732.0&quot; layoutY=&quot;262.0&quot; orientation=&quot;VERTICAL&quot; prefHeight=&quot;320.0&quot; prefWidth=&quot;6.0&quot; /&gt;\n            &lt;Label layoutY=&quot;254.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; text=&quot;Types:&quot; /&gt;\n            &lt;Label layoutX=&quot;94.0&quot; layoutY=&quot;258.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;89.0&quot; text=&quot;Quantities:&quot; /&gt;\n            &lt;Label layoutX=&quot;196.0&quot; layoutY=&quot;258.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;159.0&quot; text=&quot;Items:&quot; /&gt;\n            &lt;Label layoutX=&quot;361.0&quot; layoutY=&quot;258.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;81.0&quot; text=&quot;Unit Cost:&quot; /&gt;\n            &lt;Label layoutX=&quot;458.0&quot; layoutY=&quot;258.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;81.0&quot; text=&quot;Retail Price:&quot; /&gt;\n            &lt;Label layoutX=&quot;550.0&quot; layoutY=&quot;258.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;81.0&quot; text=&quot;Profit:&quot; /&gt;\n            &lt;Label layoutX=&quot;643.0&quot; layoutY=&quot;258.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;81.0&quot; text=&quot;Subtotal:&quot; /&gt;\n            &lt;TextField fx:id=&quot;cumulativeQuantities&quot; editable=&quot;false&quot; layoutX=&quot;803.0&quot; layoutY=&quot;22.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; promptText=&quot;Cumulative Quantity (Day)&quot; text=&quot;0&quot; /&gt;\n            &lt;TextField fx:id=&quot;cumulativeProfits&quot; editable=&quot;false&quot; layoutX=&quot;803.0&quot; layoutY=&quot;158.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;159.0&quot; promptText=&quot;Cumulative Profit (Day)&quot; text=&quot;0&quot; /&gt;\n            &lt;Label layoutX=&quot;649.0&quot; layoutY=&quot;18.0&quot; prefHeight=&quot;33.0&quot; prefWidth=&quot;149.0&quot; text=&quot;Cumulative Day's Quantity:&quot; /&gt;\n            &lt;Label layoutX=&quot;649.0&quot; layoutY=&quot;154.0&quot; prefHeight=&quot;33.0&quot; prefWidth=&quot;149.0&quot; text=&quot;Cumulative Day's Profit:&quot; /&gt;\n            &lt;Label layoutX=&quot;738.0&quot; layoutY=&quot;279.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;89.0&quot; text=&quot;Sales Tax:&quot; /&gt;\n            &lt;Label layoutX=&quot;738.0&quot; layoutY=&quot;319.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;89.0&quot; text=&quot;Order With Tax:&quot; /&gt;\n            &lt;Label layoutX=&quot;738.0&quot; layoutY=&quot;359.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;89.0&quot; text=&quot;Processing Fee's:&quot; /&gt;\n            &lt;Label layoutX=&quot;738.0&quot; layoutY=&quot;399.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;89.0&quot; text=&quot;Order Total:&quot; /&gt;\n            &lt;TextField fx:id=&quot;salesTaxes&quot; editable=&quot;false&quot; layoutX=&quot;830.0&quot; layoutY=&quot;278.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;127.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;orderWithTaxes&quot; editable=&quot;false&quot; layoutX=&quot;830.0&quot; layoutY=&quot;315.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;127.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;processFees&quot; editable=&quot;false&quot; layoutX=&quot;830.0&quot; layoutY=&quot;355.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;127.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;orderTotals&quot; editable=&quot;false&quot; layoutX=&quot;830.0&quot; layoutY=&quot;395.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;127.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;AnchorPane layoutX=&quot;738.0&quot; layoutY=&quot;395.0&quot; /&gt;\n            &lt;Button fx:id=&quot;quit&quot; layoutX=&quot;832.0&quot; layoutY=&quot;448.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onQuit&quot; text=&quot;Quit&quot; /&gt;\n            &lt;Button fx:id=&quot;clearOrder&quot; layoutX=&quot;744.0&quot; layoutY=&quot;448.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onClearOrder&quot; text=&quot;Clear Order&quot; /&gt;\n            &lt;Separator layoutX=&quot;744.0&quot; layoutY=&quot;434.0&quot; prefHeight=&quot;3.0&quot; prefWidth=&quot;214.0&quot; /&gt;\n            &lt;Button fx:id=&quot;print&quot; layoutX=&quot;883.0&quot; layoutY=&quot;448.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onPrint&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;77.0&quot; text=&quot;Print&quot; /&gt;\n            &lt;Button fx:id=&quot;calculate&quot; layoutX=&quot;748.0&quot; layoutY=&quot;478.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onCalculate&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;207.0&quot; text=&quot;Calculate&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Button&gt;\n            &lt;Separator layoutX=&quot;738.0&quot; layoutY=&quot;514.0&quot; prefHeight=&quot;3.0&quot; prefWidth=&quot;214.0&quot; /&gt;\n            &lt;Label layoutX=&quot;738.0&quot; layoutY=&quot;519.0&quot; text=&quot;Profit Total:&quot; /&gt;\n            &lt;Label layoutX=&quot;738.0&quot; layoutY=&quot;559.0&quot; text=&quot;Subtotal Total:&quot; /&gt;\n            &lt;TextField fx:id=&quot;profitTotals&quot; editable=&quot;false&quot; layoutX=&quot;830.0&quot; layoutY=&quot;515.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;127.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;TextField fx:id=&quot;subtotalTotals&quot; editable=&quot;false&quot; layoutX=&quot;830.0&quot; layoutY=&quot;554.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;127.0&quot; text=&quot;0.00&quot; /&gt;\n            &lt;ComboBox layoutY=&quot;475.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Default&quot; /&gt;\n            &lt;ComboBox layoutY=&quot;515.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Default&quot; visibleRowCount=&quot;0&quot; /&gt;\n            &lt;ComboBox layoutY=&quot;555.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Default&quot; visibleRowCount=&quot;0&quot; /&gt;\n            &lt;ComboBox layoutY=&quot;275.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Default&quot; /&gt;\n            &lt;ComboBox layoutY=&quot;315.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;81.0&quot; promptText=&quot;Default&quot; /&gt;\n            &lt;TextField fx:id=&quot;memberField&quot; layoutX=&quot;417.0&quot; layoutY=&quot;219.0&quot; onAction=&quot;#onEnterMember&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;214.0&quot; promptText=&quot;Enter member ID&quot; visible=&quot;false&quot; /&gt;\n            &lt;CheckBox fx:id=&quot;memberCheck&quot; layoutX=&quot;253.0&quot; layoutY=&quot;223.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#checkMember&quot; text=&quot;Are you a member?&quot; /&gt;\n            &lt;Label fx:id=&quot;memberLabel&quot; layoutX=&quot;417.0&quot; layoutY=&quot;202.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;214.0&quot; text=&quot;Enter your member ID&quot; visible=&quot;false&quot; /&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n\nhello-view2.fxml\n\n(imports)\n\n&lt;VBox alignment=&quot;CENTER&quot; prefHeight=&quot;423.0&quot; prefWidth=&quot;575.0&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; fx:controller=&quot;com.example.orderingapp.HelloController2&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n    &lt;/padding&gt;\n   &lt;children&gt;\n      &lt;AnchorPane prefHeight=&quot;490.0&quot; prefWidth=&quot;535.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Label fx:id=&quot;label&quot; alignment=&quot;TOP_LEFT&quot; prefHeight=&quot;389.0&quot; prefWidth=&quot;535.0&quot; text=&quot;Label&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;18.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n<pre><code>HelloController.java\n\npackage com.example.orderingapp;\n\n// all my imports\n\npublic class HelloController\n{\n    // all of my FXML objects and variables\n\n    public Stage stage2 = new Stage();\n    public FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view2.fxml&quot;));\n\n    @FXML\n    public void initialize()\n    {\n        Image img = new Image(String.valueOf(getClass().getResource(&quot;laptop.png&quot;)));\n        logo.setImage(img);\n        // sets text for all of them (deleted for character limits)\n        // Creates ComboBox options for laptops.\n        laptopCosts.setText(String.valueOf(laptopCost));\n        laptopPrices.setText(String.valueOf(laptopPrice));\n        laptopProfits.setText(String.valueOf(laptopProfit));\n        // Adds numbers 0 to 10 for each quantity ComboBox.\n        for (int i = 0; i &lt;= 10; i++)\n        {\n            monitorQuantity.getItems().add(i);\n            desktopQuantity.getItems().add(i);\n            laptopQuantity.getItems().add(i);\n            boardQuantity.getItems().add(i);\n            cardQuantity.getItems().add(i);\n            memoryQuantity.getItems().add(i);\n            mouseQuantity.getItems().add(i);\n            driveQuantity.getItems().add(i);\n        }\n        // Creates ComboBox options for each drive type.\n        driveTypes.getItems().addAll(&quot;Type&quot;, &quot;IDE&quot;, &quot;SATA&quot;, &quot;SSD&quot;);\n        // Creates ComboBox options for each mouse type.\n        mouseTypes.getItems().addAll(&quot;Type&quot;, &quot;Blue&quot;, &quot;Black&quot;, &quot;Pink&quot;);\n        // Creates ComboBox options for each memory type.\n        memoryTypes.getItems().addAll(&quot;Type&quot;, &quot;32GB&quot;, &quot;64GB&quot;, &quot;128GB&quot;);\n\n        // sets all quantity variables to 0\n\n        // Gets the date\n        LocalDate date = LocalDate.now();\n        // Gets the time\n        LocalTime time = LocalTime.now();\n        int min = time.getMinute();\n        int hr = time.getHour();\n        String timeString = &quot;&quot;;\n        String PmAm = &quot;&quot;;\n        // Checks if time is AM or PM\n        // If the time is exactly 12, then there is no need to subtract 12.\n        if (hr == 12)\n        {\n            PmAm = &quot;PM&quot;;\n        }\n        if (hr &lt; 12)\n        {\n            PmAm = &quot;AM&quot;;\n        }\n        // If the time is PM, then subtract 12 (13 in military time (13-12) is 1 in normal time)\n        if (hr &gt; 12)\n        {\n            PmAm = &quot;PM&quot;;\n            hr = hr - 12;\n        }\n        // Adds the : and a Zero if the current time is not a double-digit number.\n        if (min &lt; 10)\n        {\n            timeString = hr + &quot;:0&quot; + min + &quot; &quot; + PmAm;\n        } else {\n            timeString = hr + &quot;:&quot; + min + &quot; &quot; + PmAm;\n        }\n        orderTime = timeString;\n        // Sets the date label\n        dateLabel.setText(date + &quot; | &quot; + timeString);\n        // Initializes every value to zero\n        onClearOrder();\n        nameField.requestFocus();\n    }\n\n    public double calculate(int quant, int val, double sub, double price, TextField text)\n    {\n        // Calculates the price\n        String rounded = &quot;&quot;;\n        quant = val;\n        sub = price * quant;\n        // Rounds the price to the hundredths place\n        rounded = twoPlaces.format(sub);\n        // Sets the text to the rounded value\n        text.setText(rounded);\n        // Returns the price (unrounded)\n        return sub;\n    }\n\n    @FXML\n    public void boardQuantitySelect()\n    {\n        // Gets and Sets the quantity\n        boardQuant = boardQuantity.getValue();\n        // Calculates the subtotal\n        boardSub = calculate(boardQuant, boardQuantity.getValue(), boardSub, boardPrice, boardSubtotal);\n    }\n\n    @FXML\n    public void cardQuantitySelect()\n    {\n        // all quantity selects are same as the motherboard one\n    }\n\n    @FXML\n    public void desktopQuantitySelect()\n    {\n       // same as others\n    }\n\n    @FXML\n    public void driveQuantitySelect()\n    {\n        // same as others\n    }\n\n    @FXML\n    public void driveTypeSelect()\n    {\n        // Gets the index of the currently selected item\n        int index = driveTypes.getItems().indexOf(driveTypes.getValue());\n        // Sets the selected item values based off of the current index\n        selectedDriveCost = driveCost[index];\n        selectedDrivePrice = drivePrice[index];\n        selectedDriveProfit = driveProfit[index];\n        // Sets the text\n        driveCosts.setText(String.valueOf(selectedDriveCost));\n        drivePrices.setText(String.valueOf(selectedDrivePrice));\n        driveProfits.setText(String.valueOf(selectedDriveProfit));\n        // Calculates the subtotal\n        driveSub = calculate(driveQuant, driveQuantity.getValue(), driveSub, selectedDrivePrice, driveSubtotal);\n    }\n\n    @FXML\n    public void enterAddress()\n    {\n        // Sets and gets the address\n        address = addressField.getText();\n    }\n\n    @FXML\n    public void enterCity()\n    {\n        // Sets and gets the city\n        city = cityField.getText();\n    }\n\n    @FXML\n    public void enterName()\n    {\n        // Sets and gets the name\n        name = nameField.getText();\n    }\n\n    @FXML\n    public void enterState()\n    {\n        // Sets and gets the state\n        state = stateField.getText();\n    }\n\n    @FXML\n    public void enterZip()\n    {\n        // Sets and gets the zipcode\n        if(isDigit(zipField.getText()))\n        {\n            zip = zipField.getText();\n        }\n    }\n    @FXML\n    public void laptopQuantitySelect()\n    {\n        // same as others\n    }\n\n    @FXML\n    public void memoryQuantitySelect()\n    {\n        // same as others\n    }\n\n    @FXML\n    public void memoryTypeSelect()\n    {\n        // same as other type select\n    }\n\n    @FXML\n    public void monitorQuantitySelect()\n    {\n        // same as others\n    }\n\n    @FXML\n    public void mouseQuantitySelect()\n    {\n        // same as others\n\n    @FXML\n    public void mouseTypeSelect()\n    {\n        // same as other type select\n    }\n\n    @FXML\n    public void onCalculate()\n    {\n        // Sets values to 0\n        processFee = 0.00;\n        orderTotal = 0.00;\n        // Calculates the total of all the subtotals\n        subtotalTotal = boardSub + cardSub + memorySub + mouseSub + driveSub + monitorSub + desktopSub + laptopSub;\n        // Calculates sales tax (rate is 6%)\n        salesTax = subtotalTotal * 0.06;\n        // adds the total of all subtotals to the just calculated sales tax amount\n        orderWithTax = subtotalTotal + salesTax;\n        // Checks if the user is a member\n        if (!isMember)\n        {\n            String rounded = &quot;&quot;;\n            // If the user is not a member, then the process fee is 1.5%\n            orderTotal = orderWithTax;\n            processFee = orderWithTax * 0.015;\n            orderTotal += processFee;\n            // Rounds each value and sets text\n            rounded = twoPlaces.format(subtotalTotal);\n            subtotalTotals.setText(rounded);\n            rounded = twoPlaces.format(salesTax);\n            salesTaxes.setText(rounded);\n            rounded = twoPlaces.format(orderWithTax);\n            orderWithTaxes.setText(rounded);\n            rounded = twoPlaces.format(orderTotal);\n            orderTotals.setText(rounded);\n            rounded = twoPlaces.format(processFee);\n            processFees.setText(rounded);\n        } else\n        {\n            // If the user IS a member, then there is no process fee.\n            orderTotal = orderWithTax;\n            String rounded = &quot;&quot;;\n            // Rounds and sets text.\n            rounded = twoPlaces.format(subtotalTotal);\n            subtotalTotals.setText(rounded);\n            rounded = twoPlaces.format(salesTax);\n            salesTaxes.setText(rounded);\n            rounded = twoPlaces.format(orderWithTax);\n            orderWithTaxes.setText(rounded);\n            rounded = twoPlaces.format(orderTotal);\n            orderTotals.setText(rounded);\n            orderTotal = orderWithTax;\n            processFee = 0;\n            processFees.setText(&quot;0.00&quot;);\n        }\n        // Initializes profit total to 0\n        profitTotal = 0;\n        // Calculates the profit total\n        profitTotal += boardProfit * boardQuant;\n        // adds the rest of the profits to the profit total\n    }\n\n    @FXML\n    public void onEnterMember()\n    {\n        // Gets the user's member ID\n        isMember = !(memberField.getText().isBlank()) &amp;&amp; isDigit(memberField.getText());\n    }\n\n    @FXML\n    public void checkMember()\n    {\n        // Makes the member display text and member text field to be visible or invisible based off the checkbox.\n        memberLabel.setVisible(memberCheck.isSelected());\n        memberField.setVisible(memberCheck.isSelected());\n    }\n\n    @FXML\n    public void onClearOrder()\n    {\n        // Initializes all quantities to zero\n        \n        // Initializes all types to nothing\n        \n        // Initializes all subtotals to 0\n        \n        // Resets user information to empty\n        \n        // Set member check box to false\n        memberCheck.setSelected(false);\n        // Set booleans to false\n        \n        // Close the invoice window\n        stage2.close();\n        // Sets the current selection of all quantiy combo boxes to 0\n        \n        // Sets the current selection of all types to the default value.\n        memoryTypes.valueProperty().set(&quot;Type&quot;);\n        // others were cut out\n\n        // Initializes the profit total, sales tax, process fee, order total, order with tax, and total of all subtotals to 0\n        \n        // Clears the text.\n        \n    }\n\n    @FXML\n    public void onPrint() throws IOException\n    {\n        // If the order is the same as the last order, then set the isOld order boolean to true\n        if(oldTotal == orderWithTax)\n        {\n            isOld = true;\n        } else {\n            isOld = false;\n        }\n        // If the order is not the same as the old order, then calculate the cumulative values.\n        if(!isOld)\n        {\n            cumulativeProfit += profitTotal;\n            cumulativeQuantity += (boardQuant + cardQuant + memoryQuant + mouseQuant + driveQuant + monitorQuant + desktopQuant + laptopQuant);\n        }\n        // Sets the old total to the current total\n        oldTotal = orderWithTax;\n        // Rounds and sets text\n        String rounded = &quot;&quot;;\n        rounded = twoPlaces.format(profitTotal);\n        profitTotals.setText(rounded);\n        rounded = twoPlaces.format(cumulativeProfit);\n        // Sets text for cumulative profits and cumulative quantities.\n        cumulativeProfits.setText(rounded);\n        cumulativeQuantities.setText(String.valueOf(cumulativeQuantity));\n        if(!windowOpened)\n        {\n            staticStorage.set(boardPrice, cardPrice, selectedMemoryPrice, selectedMousePrice, selectedDrivePrice, monitorPrice, desktopPrice, laptopPrice,\n                    boardQuant, cardQuant, memoryQuant, mouseQuant, driveQuant, monitorQuant, desktopQuant, laptopQuant, orderTotal, orderTime, name, address,\n                        city, state, zip);\n            Scene scene = new Scene(fxmlLoader.load());\n            stage2.setScene(scene);\n            stage2.setTitle(&quot;Stage 2&quot;);\n            stage2.show();\n            windowOpened = true;\n        }\n    }\n\n    @FXML\n    public void onQuit()\n    {\n        // Exits the program\n        Platform.exit();\n    }\n\n    @FXML\n    public void onVboxClick(MouseEvent event)\n    {\n\n    }\n\n    public boolean isDigit(String s)\n    {\n        // Initialize Boolean\n        boolean x = false;\n        // Test if parsing will create an error\n        try{\n            // If parsing throws no errors, then the program will say that the input IS a digit (true)\n            Integer.parseInt(s);\n            x = true;\n        } catch(Exception e)\n        {\n            x = false;\n            // If parsing does create an error, then the program will say that the input is not a digit (false)\n        }\n        // The program then returns the value.\n        return x;\n    }\n}\n</code></pre>\n<pre><code>HelloController2.java\n\npackage com.example.orderingapp;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\n\npublic class HelloController2\n{\n    @FXML\n    public Label label;\n\n    @FXML\n    public void initialize()\n    {\n        label.setText(&quot;Invoice&quot;);\n        label.setText(&quot;Motherboard quantity: &quot; + staticStorage.boardQuant);\n    }\n}\n</code></pre>\n<pre><code>staticStorage.java\npublic class staticStorage\n{\n    // all vars\n\n    public static void set(// arguments to set everything)\n    {\n        // im past max chars but this sets everything\n    }\n}\n</code></pre>\n<p>The static storage class is used so that I can share data between my controllers.</p>\n<p>I tried to use the initialize method but this only works once, because the stage is only initialized once. I tried searching for an onShow method but all I could find was stage2.setOnShowing(event);\nNone of these worked.</p>\n"},{"tags":["java","jframe","path-finding"],"owner":{"account_id":22415934,"reputation":1,"user_id":16624010,"display_name":"QUACK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678900482,"creation_date":1678899306,"question_id":75747825,"body_markdown":"I have a code (in java) which makes an npc follow an already determined path. The path is correct, i checked it, but when i give it to the npc to follow, it screws up and is always 1 tileSize (48 pixels) off the path ONLY when its going from left -&gt; down, and left -&gt; up, in all other cases its fine, and i did debug print statements, and the first 2 if statements dont even run. If you need me to give more code, ask and i&#39;ll edit the post with the code, but i cant for the life of god figure out the error. In the tutorial it was working ([link](https://www.youtube.com/watch?v=Hd0D68guFKg&amp;t=1850s)), the code is the exact same as in the tutorial but its still not working. Please help.\r\n\r\nMy path following code:\r\n\r\n```java\r\n    public void searchPath(int goalCol, int goalRow) {\r\n        int startCol = (worldX + solidArea.x) / gp.tileSize;\r\n        int startRow = (worldY + solidArea.y) / gp.tileSize;\r\n        gp.pFinder.setNodes(startCol, startRow, goalCol, goalRow);\r\n        if(gp.pFinder.search()) {\r\n            int nextX = gp.pFinder.pathList.get(0).col * gp.tileSize;\r\n            int nextY = gp.pFinder.pathList.get(0).row * gp.tileSize;\r\n\r\n            int enLeftX = worldX + solidArea.x;\r\n            int enRightX = worldX + solidArea.x + solidArea.width;\r\n            int enTopY = worldY + solidArea.y;\r\n            int enBottomY = worldY + solidArea.y + solidArea.height;\r\n            if(enTopY &gt; nextY &amp;&amp; enLeftX &gt;= nextX &amp;&amp; enRightX &lt; nextX + gp.tileSize) {\r\n                direction = &quot;up&quot;;\r\n                System.out.println(&quot;up only&quot;);\r\n            }\r\n            else if(enTopY &lt; nextY &amp;&amp; enLeftX &gt;= nextX &amp;&amp; enRightX &lt; nextX + gp.tileSize) {\r\n                direction = &quot;down&quot;;\r\n                System.out.println(&quot;down only&quot;);\r\n            }\r\n            else if(enTopY &gt;= nextY &amp;&amp; enBottomY &lt; nextY + gp.tileSize) {\r\n                if(enLeftX &gt; nextX) {\r\n                    direction = &quot;left&quot;;\r\n                    System.out.println(&quot;left only&quot;);\r\n                }\r\n                if(enLeftX &lt; nextX) {\r\n                    direction = &quot;right&quot;;\r\n                    System.out.println(&quot;right only&quot;);\r\n                }\r\n            }\r\n            else if(enTopY &gt; nextY &amp;&amp; enLeftX &gt; nextX) {\r\n                System.out.println(&#39;*&#39;);\r\n                System.out.println(&quot;UP left&quot;);\r\n                direction = &quot;up&quot;;\r\n                checkCollision();\r\n                if(collisionOn) {\r\n                    direction = &quot;left&quot;;\r\n                    System.out.println(&quot;up LEFT&quot;);\r\n                }\r\n                System.out.println(&#39;*&#39;);\r\n            }\r\n            else if(enTopY &gt; nextY &amp;&amp; enLeftX &lt; nextX) {\r\n                System.out.println(&#39;*&#39;);\r\n                System.out.println(&quot;UP left&quot;);\r\n                direction = &quot;up&quot;;\r\n                checkCollision();\r\n                if(collisionOn) {\r\n                    direction = &quot;right&quot;;\r\n                    System.out.println(&quot;up RIGHT&quot;);\r\n                }\r\n                System.out.println(&#39;*&#39;);\r\n            }\r\n            else if(enTopY &lt; nextY &amp;&amp; enLeftX &gt; nextX) {\r\n                System.out.println(&#39;*&#39;);\r\n                System.out.println(&quot;DOWN left&quot;);\r\n                direction = &quot;down&quot;;\r\n                checkCollision();\r\n                if(collisionOn) {\r\n                    direction = &quot;left&quot;;\r\n                    System.out.println(&quot;down LEFT&quot;);\r\n                }\r\n                System.out.println(&#39;*&#39;);\r\n            }\r\n            else if(enTopY &lt; nextY &amp;&amp; enLeftX + gp.tileSize &lt; nextX) {\r\n                System.out.println(&#39;*&#39;);\r\n                direction = &quot;down&quot;;\r\n                System.out.println(&quot;DOWN right&quot;);\r\n                checkCollision();\r\n                if(collisionOn) {\r\n                    direction = &quot;right&quot;;\r\n                    System.out.println(&quot;down RIGHT&quot;);\r\n                }\r\n                System.out.println(&#39;*&#39;);\r\n            }\r\n            int nextCol = gp.pFinder.pathList.get(0).col;\r\n            int nextRow = gp.pFinder.pathList.get(0).row;\r\n            if(nextCol == goalCol &amp;&amp; nextRow == goalRow) {\r\n                onPath = false;\r\n            }\r\n        }\r\n    }\r\n```\r\ncheckCollision():\r\n\r\n```java\r\n    public void checkCollision() {\r\n        collisionOn = false;\r\n        gp.cChecker.checkTile(this);\r\n        gp.cChecker.checkObject(this, false);\r\n        gp.cChecker.checkEntity(this, gp.npc);\r\n        gp.cChecker.checkEntity(this, gp.monster);\r\n        gp.cChecker.checkEntity(this, gp.iTile);\r\n        boolean contactPlayer = gp.cChecker.checkPlayer(this);\r\n        if(this.type == type_monster &amp;&amp; contactPlayer) {\r\n            damagePlayer(attack);\r\n        }\r\n    }\r\n```\r\nOh and also, i used A* pathfinding for the path.","title":"Why is it that when my npc tries following a path, its always off the path by 48 pixels?","body":"<p>I have a code (in java) which makes an npc follow an already determined path. The path is correct, i checked it, but when i give it to the npc to follow, it screws up and is always 1 tileSize (48 pixels) off the path ONLY when its going from left -&gt; down, and left -&gt; up, in all other cases its fine, and i did debug print statements, and the first 2 if statements dont even run. If you need me to give more code, ask and i'll edit the post with the code, but i cant for the life of god figure out the error. In the tutorial it was working (<a href=\"https://www.youtube.com/watch?v=Hd0D68guFKg&amp;t=1850s\" rel=\"nofollow noreferrer\">link</a>), the code is the exact same as in the tutorial but its still not working. Please help.</p>\n<p>My path following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void searchPath(int goalCol, int goalRow) {\n        int startCol = (worldX + solidArea.x) / gp.tileSize;\n        int startRow = (worldY + solidArea.y) / gp.tileSize;\n        gp.pFinder.setNodes(startCol, startRow, goalCol, goalRow);\n        if(gp.pFinder.search()) {\n            int nextX = gp.pFinder.pathList.get(0).col * gp.tileSize;\n            int nextY = gp.pFinder.pathList.get(0).row * gp.tileSize;\n\n            int enLeftX = worldX + solidArea.x;\n            int enRightX = worldX + solidArea.x + solidArea.width;\n            int enTopY = worldY + solidArea.y;\n            int enBottomY = worldY + solidArea.y + solidArea.height;\n            if(enTopY &gt; nextY &amp;&amp; enLeftX &gt;= nextX &amp;&amp; enRightX &lt; nextX + gp.tileSize) {\n                direction = &quot;up&quot;;\n                System.out.println(&quot;up only&quot;);\n            }\n            else if(enTopY &lt; nextY &amp;&amp; enLeftX &gt;= nextX &amp;&amp; enRightX &lt; nextX + gp.tileSize) {\n                direction = &quot;down&quot;;\n                System.out.println(&quot;down only&quot;);\n            }\n            else if(enTopY &gt;= nextY &amp;&amp; enBottomY &lt; nextY + gp.tileSize) {\n                if(enLeftX &gt; nextX) {\n                    direction = &quot;left&quot;;\n                    System.out.println(&quot;left only&quot;);\n                }\n                if(enLeftX &lt; nextX) {\n                    direction = &quot;right&quot;;\n                    System.out.println(&quot;right only&quot;);\n                }\n            }\n            else if(enTopY &gt; nextY &amp;&amp; enLeftX &gt; nextX) {\n                System.out.println('*');\n                System.out.println(&quot;UP left&quot;);\n                direction = &quot;up&quot;;\n                checkCollision();\n                if(collisionOn) {\n                    direction = &quot;left&quot;;\n                    System.out.println(&quot;up LEFT&quot;);\n                }\n                System.out.println('*');\n            }\n            else if(enTopY &gt; nextY &amp;&amp; enLeftX &lt; nextX) {\n                System.out.println('*');\n                System.out.println(&quot;UP left&quot;);\n                direction = &quot;up&quot;;\n                checkCollision();\n                if(collisionOn) {\n                    direction = &quot;right&quot;;\n                    System.out.println(&quot;up RIGHT&quot;);\n                }\n                System.out.println('*');\n            }\n            else if(enTopY &lt; nextY &amp;&amp; enLeftX &gt; nextX) {\n                System.out.println('*');\n                System.out.println(&quot;DOWN left&quot;);\n                direction = &quot;down&quot;;\n                checkCollision();\n                if(collisionOn) {\n                    direction = &quot;left&quot;;\n                    System.out.println(&quot;down LEFT&quot;);\n                }\n                System.out.println('*');\n            }\n            else if(enTopY &lt; nextY &amp;&amp; enLeftX + gp.tileSize &lt; nextX) {\n                System.out.println('*');\n                direction = &quot;down&quot;;\n                System.out.println(&quot;DOWN right&quot;);\n                checkCollision();\n                if(collisionOn) {\n                    direction = &quot;right&quot;;\n                    System.out.println(&quot;down RIGHT&quot;);\n                }\n                System.out.println('*');\n            }\n            int nextCol = gp.pFinder.pathList.get(0).col;\n            int nextRow = gp.pFinder.pathList.get(0).row;\n            if(nextCol == goalCol &amp;&amp; nextRow == goalRow) {\n                onPath = false;\n            }\n        }\n    }\n</code></pre>\n<p>checkCollision():</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void checkCollision() {\n        collisionOn = false;\n        gp.cChecker.checkTile(this);\n        gp.cChecker.checkObject(this, false);\n        gp.cChecker.checkEntity(this, gp.npc);\n        gp.cChecker.checkEntity(this, gp.monster);\n        gp.cChecker.checkEntity(this, gp.iTile);\n        boolean contactPlayer = gp.cChecker.checkPlayer(this);\n        if(this.type == type_monster &amp;&amp; contactPlayer) {\n            damagePlayer(attack);\n        }\n    }\n</code></pre>\n<p>Oh and also, i used A* pathfinding for the path.</p>\n"},{"tags":["java","wix","jpackage"],"owner":{"account_id":14795183,"reputation":33,"user_id":10684999,"display_name":"Jkh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678900259,"creation_date":1678900259,"question_id":75748004,"body_markdown":"I am building a Java application image with a runtime image using Jlink and Jpackage to be distributed for Windows via a MSI installer also generated by JPackage. I would like to add a step in the installer to be able to let the user configure a working directory for the application (located somewhere the user has read and write access) that is different from the installation directory and use the default AppData if the user skips this step.\r\n\r\nI am using OpenJDK 19.0.2, testing on Windows 10 Pro 21H2\r\n\r\nJPackage documentation specifies in its &#39;Resources Used in Packaging&#39; section :\r\n\r\n&gt; To override resources that can&#39;t be overridden from the command line, add your customized files to the resource directory that you pass to jpackage\r\n\r\nUsing the &#39;--temp&#39; JPackage option, I was able to see all the WIX configuration files used to generate the final MSI. Even if I can modify some of them (main.wxs for instance) and re rerun JPackage with &#39;--resource-dir&#39; to point on the modified files, it seems that JPackage doesn&#39;t allow the integration of NEW custom dialogs (by integration I mean dialogs relying on wixhelper.dll, localization string templates etc...)\r\n\r\nFrom this quote I understand that I am trying to achieve something out of the scope of JPackage but I was wondering if my only solution is to integrate an outside WIX project configuration to my packaging process.\r\nif not, what would be the right way to handle this use case?\r\n\r\nThank you","title":"Is it possible to add custom dialogs in a JPackage generated MSI installer","body":"<p>I am building a Java application image with a runtime image using Jlink and Jpackage to be distributed for Windows via a MSI installer also generated by JPackage. I would like to add a step in the installer to be able to let the user configure a working directory for the application (located somewhere the user has read and write access) that is different from the installation directory and use the default AppData if the user skips this step.</p>\n<p>I am using OpenJDK 19.0.2, testing on Windows 10 Pro 21H2</p>\n<p>JPackage documentation specifies in its 'Resources Used in Packaging' section :</p>\n<blockquote>\n<p>To override resources that can't be overridden from the command line, add your customized files to the resource directory that you pass to jpackage</p>\n</blockquote>\n<p>Using the '--temp' JPackage option, I was able to see all the WIX configuration files used to generate the final MSI. Even if I can modify some of them (main.wxs for instance) and re rerun JPackage with '--resource-dir' to point on the modified files, it seems that JPackage doesn't allow the integration of NEW custom dialogs (by integration I mean dialogs relying on wixhelper.dll, localization string templates etc...)</p>\n<p>From this quote I understand that I am trying to achieve something out of the scope of JPackage but I was wondering if my only solution is to integrate an outside WIX project configuration to my packaging process.\nif not, what would be the right way to handle this use case?</p>\n<p>Thank you</p>\n"},{"tags":["java","regex","regex-group"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1678408357,"post_id":75691237,"comment_id":133531552,"body_markdown":"The documentation seems to indicate that you can use a back reference to match something later in the pattern, but I think referring to a back reference in a count specification is not allowed.","body":"The documentation seems to indicate that you can use a back reference to match something later in the pattern, but I think referring to a back reference in a count specification is not allowed."},{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1678431576,"post_id":75691237,"comment_id":133534513,"body_markdown":"I don&#39;t think any regex engine can do this, what you can do is read `N`, `M`, and one word, using regex. And then check whether `N + M` is the length of the matched word.","body":"I don&#39;t think any regex engine can do this, what you can do is read <code>N</code>, <code>M</code>, and one word, using regex. And then check whether <code>N + M</code> is the length of the matched word."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1678444584,"post_id":75691237,"comment_id":133537784,"body_markdown":"No, this is not possible. Regexes don&#39;t parse strings to their numerical value, giving access to that numerical value for use as a qualifier.","body":"No, this is not possible. Regexes don&#39;t parse strings to their numerical value, giving access to that numerical value for use as a qualifier."}],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678900208,"creation_date":1678899042,"answer_id":75747773,"question_id":75691237,"body_markdown":"&gt; Can a capturing group value be used in the definition of another capturing group?\r\n\r\ngenerally speaking - yes. you can write your own pattern compilation logic to support such feature.\r\n\r\nis this feature supported by Jdk - no (afaik).\r\n\r\nalso you need to keep in mind a **type** of the back reference - its `char[]`, not a `number`. thus `\\\\w{\\\\1}` would require some non-trivial assumptions or explicit type conversion syntax.\r\n\r\nalso while keeping in mind back reference **type**, you can make quite tricky manipulations, e.g.:\r\n\r\n```\r\nPattern pattern = Pattern.compile(&quot;^&lt;(\\\\w+)&gt;(.*?)&lt;/((?:(?!\\\\1).)*)&gt;$&quot;);\r\nStream.of(\r\n    &quot;&lt;leg&gt;hello123&lt;/leg&gt;&quot;,\r\n    &quot;&lt;leg&gt;hello123&lt;/hand&gt;&quot;\r\n).forEach(input -&gt; {\r\n    Matcher matcher = pattern.matcher(input);\r\n    System.out.println(&quot;input: &quot; + input);\r\n    if (matcher.matches()) {\r\n        for (int i = 0; i &lt;= matcher.groupCount(); i++) {\r\n            System.out.println(&quot;group(&quot; + i + &quot;): &quot; + matcher.group(i));\r\n        }\r\n    } else {\r\n        System.out.println(&quot;The input string does not match the regex pattern.&quot;);\r\n    }\r\n});\r\n```\r\n\r\nOutput:\r\n```\r\ninput: &lt;leg&gt;hello123&lt;/leg&gt;\r\nThe input string does not match the regex pattern.\r\n\r\ninput: &lt;leg&gt;hello123&lt;/hand&gt;\r\ngroup(0): &lt;leg&gt;hello123&lt;/hand&gt;\r\ngroup(1): leg\r\ngroup(2): hello123\r\ngroup(3): hand\r\n```","title":"Java - Regex - Can a capturing group value be used in the definition of another capturing group?","body":"<blockquote>\n<p>Can a capturing group value be used in the definition of another capturing group?</p>\n</blockquote>\n<p>generally speaking - yes. you can write your own pattern compilation logic to support such feature.</p>\n<p>is this feature supported by Jdk - no (afaik).</p>\n<p>also you need to keep in mind a <strong>type</strong> of the back reference - its <code>char[]</code>, not a <code>number</code>. thus <code>\\\\w{\\\\1}</code> would require some non-trivial assumptions or explicit type conversion syntax.</p>\n<p>also while keeping in mind back reference <strong>type</strong>, you can make quite tricky manipulations, e.g.:</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;^&lt;(\\\\w+)&gt;(.*?)&lt;/((?:(?!\\\\1).)*)&gt;$&quot;);\nStream.of(\n    &quot;&lt;leg&gt;hello123&lt;/leg&gt;&quot;,\n    &quot;&lt;leg&gt;hello123&lt;/hand&gt;&quot;\n).forEach(input -&gt; {\n    Matcher matcher = pattern.matcher(input);\n    System.out.println(&quot;input: &quot; + input);\n    if (matcher.matches()) {\n        for (int i = 0; i &lt;= matcher.groupCount(); i++) {\n            System.out.println(&quot;group(&quot; + i + &quot;): &quot; + matcher.group(i));\n        }\n    } else {\n        System.out.println(&quot;The input string does not match the regex pattern.&quot;);\n    }\n});\n</code></pre>\n<p>Output:</p>\n<pre><code>input: &lt;leg&gt;hello123&lt;/leg&gt;\nThe input string does not match the regex pattern.\n\ninput: &lt;leg&gt;hello123&lt;/hand&gt;\ngroup(0): &lt;leg&gt;hello123&lt;/hand&gt;\ngroup(1): leg\ngroup(2): hello123\ngroup(3): hand\n</code></pre>\n"}],"owner":{"account_id":10343160,"reputation":73,"user_id":7628885,"display_name":"Damiano Caprari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678900208,"creation_date":1678407823,"question_id":75691237,"body_markdown":"I have a string that follows this format:\r\n\r\n    &quot;&lt;N&gt;|&lt;M&gt;|&lt;word_of_size_N&gt;&lt;word_of_size_M&gt;&quot;\r\n\r\nIs there a *single* regex that can find the values of `&lt;N&gt;` and `&lt;M&gt;` and use those values to extract the `&lt;word_of_size_N&gt;` and `&lt;word_of_size_M&gt;` ?\r\n\r\nI have tried the following snippet\r\n\r\n    import java.util.regex.*;\r\n    \r\n    public class RegexExample {\r\n        public static void main(String[] args) {\r\n            String input = &quot;5|3|hello123&quot;;\r\n            String regex = &quot;^(\\\\d+)\\\\|(\\\\d+)\\\\|(\\\\w{\\\\1})(\\\\w{\\\\2})$&quot;;\r\n            Pattern pattern = Pattern.compile(regex);\r\n            Matcher matcher = pattern.matcher(input);\r\n            \r\n            if (matcher.matches()) {\r\n                String n = matcher.group(1);\r\n                String m = matcher.group(2);\r\n                String wordN = matcher.group(3);\r\n                String wordM = matcher.group(4);\r\n                System.out.println(&quot;The input string matches the regex pattern.&quot;);\r\n                System.out.println(&quot;N = &quot; + n + &quot;, M = &quot; + m);\r\n                System.out.println(&quot;word of size N = &quot; + wordN);\r\n                System.out.println(&quot;word of size M = &quot; + wordM);\r\n            } else {\r\n                System.out.println(&quot;The input string does not match the regex pattern.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nBut it raises an exception:\r\n\r\n    Exception in thread &quot;main&quot; java.util.regex.PatternSyntaxException: Illegal repetition near index 17\r\n    ^(\\d+)\\|(\\d+)\\|(\\w{\\1})(\\w{\\2})$\r\n                     ^\r\n    at java.base/java.util.regex.Pattern.error(Pattern.java:2028)\r\n    at java.base/java.util.regex.Pattern.closure(Pattern.java:3323)\r\n    \tat java.base/java.util.regex.Pattern.sequence(Pattern.java:2214)\r\n    \tat java.base/java.util.regex.Pattern.expr(Pattern.java:2069)\r\n    \tat java.base/java.util.regex.Pattern.group0(Pattern.java:3060)\r\n    \tat java.base/java.util.regex.Pattern.sequence(Pattern.java:2124)\r\n    \tat java.base/java.util.regex.Pattern.expr(Pattern.java:2069)\r\n    \tat java.base/java.util.regex.Pattern.compile(Pattern.java:1783)\r\n    \tat java.base/java.util.regex.Pattern.&lt;init&gt;(Pattern.java:1429)\r\n    \tat java.base/java.util.regex.Pattern.compile(Pattern.java:1069)\r\n    \tat RegexExample.main(RegexExample.java:7)\r\n\r\nI know i could simply do it in two steps\r\n\r\n- use a regex (or other string manipulation) to find `&lt;N&gt;` and `&lt;M&gt;`\r\n- read two substrings of length `&lt;N&gt;` and `&lt;M&gt;` \r\n\r\nBut i&#39;m curious to know if regex can reference itself in some way.\r\n\r\n*Bonus:* are there other regex engines that can do this?","title":"Java - Regex - Can a capturing group value be used in the definition of another capturing group?","body":"<p>I have a string that follows this format:</p>\n<pre><code>&quot;&lt;N&gt;|&lt;M&gt;|&lt;word_of_size_N&gt;&lt;word_of_size_M&gt;&quot;\n</code></pre>\n<p>Is there a <em>single</em> regex that can find the values of <code>&lt;N&gt;</code> and <code>&lt;M&gt;</code> and use those values to extract the <code>&lt;word_of_size_N&gt;</code> and <code>&lt;word_of_size_M&gt;</code> ?</p>\n<p>I have tried the following snippet</p>\n<pre><code>import java.util.regex.*;\n\npublic class RegexExample {\n    public static void main(String[] args) {\n        String input = &quot;5|3|hello123&quot;;\n        String regex = &quot;^(\\\\d+)\\\\|(\\\\d+)\\\\|(\\\\w{\\\\1})(\\\\w{\\\\2})$&quot;;\n        Pattern pattern = Pattern.compile(regex);\n        Matcher matcher = pattern.matcher(input);\n        \n        if (matcher.matches()) {\n            String n = matcher.group(1);\n            String m = matcher.group(2);\n            String wordN = matcher.group(3);\n            String wordM = matcher.group(4);\n            System.out.println(&quot;The input string matches the regex pattern.&quot;);\n            System.out.println(&quot;N = &quot; + n + &quot;, M = &quot; + m);\n            System.out.println(&quot;word of size N = &quot; + wordN);\n            System.out.println(&quot;word of size M = &quot; + wordM);\n        } else {\n            System.out.println(&quot;The input string does not match the regex pattern.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>But it raises an exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.regex.PatternSyntaxException: Illegal repetition near index 17\n^(\\d+)\\|(\\d+)\\|(\\w{\\1})(\\w{\\2})$\n                 ^\nat java.base/java.util.regex.Pattern.error(Pattern.java:2028)\nat java.base/java.util.regex.Pattern.closure(Pattern.java:3323)\n    at java.base/java.util.regex.Pattern.sequence(Pattern.java:2214)\n    at java.base/java.util.regex.Pattern.expr(Pattern.java:2069)\n    at java.base/java.util.regex.Pattern.group0(Pattern.java:3060)\n    at java.base/java.util.regex.Pattern.sequence(Pattern.java:2124)\n    at java.base/java.util.regex.Pattern.expr(Pattern.java:2069)\n    at java.base/java.util.regex.Pattern.compile(Pattern.java:1783)\n    at java.base/java.util.regex.Pattern.&lt;init&gt;(Pattern.java:1429)\n    at java.base/java.util.regex.Pattern.compile(Pattern.java:1069)\n    at RegexExample.main(RegexExample.java:7)\n</code></pre>\n<p>I know i could simply do it in two steps</p>\n<ul>\n<li>use a regex (or other string manipulation) to find <code>&lt;N&gt;</code> and <code>&lt;M&gt;</code></li>\n<li>read two substrings of length <code>&lt;N&gt;</code> and <code>&lt;M&gt;</code></li>\n</ul>\n<p>But i'm curious to know if regex can reference itself in some way.</p>\n<p><em>Bonus:</em> are there other regex engines that can do this?</p>\n"},{"tags":["java","android","android-studio","lockscreen"],"owner":{"account_id":23216552,"reputation":21,"user_id":17309390,"display_name":"Pankaj Bansal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678900201,"creation_date":1678900201,"question_id":75747989,"body_markdown":"I am not able to take permission from android for customize and don&#39;t know how to add something in the lock screen.\r\nI tried to use lock task code , use some git hub code , but not able to crack it ","title":"how to customize screen lock using android studio?","body":"<p>I am not able to take permission from android for customize and don't know how to add something in the lock screen.\nI tried to use lock task code , use some git hub code , but not able to crack it</p>\n"},{"tags":["java","mapping","mapstruct"],"answers":[{"comments":[{"owner":{"account_id":285780,"reputation":61,"user_id":584651,"display_name":"Mobius"},"score":0,"creation_date":1678961409,"post_id":75747903,"comment_id":133635550,"body_markdown":"Thanks for your answer.\nSpliting the methods in 2 different classes does not change the original request (and your example is very close to what I currently have but I wanted to simplify the example as possible to clearly explain my point).\nIf I want to do that way is because the BMapper and CMapper are in 2 different projects and I don&#39;t want to rewrite the BMapper logic (that is complex). I want to reuse existing methods and only add missing mapping in order to avoid duplicate code, potential bugs and reduce the complexity and maintenance cost.","body":"Thanks for your answer. Spliting the methods in 2 different classes does not change the original request (and your example is very close to what I currently have but I wanted to simplify the example as possible to clearly explain my point). If I want to do that way is because the BMapper and CMapper are in 2 different projects and I don&#39;t want to rewrite the BMapper logic (that is complex). I want to reuse existing methods and only add missing mapping in order to avoid duplicate code, potential bugs and reduce the complexity and maintenance cost."}],"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678899770,"creation_date":1678899770,"answer_id":75747903,"question_id":75742150,"body_markdown":"I don&#39;t think there is a feature for that, but you can do it on your own:\r\n\r\nBMapper:\r\n\r\n    @Mapper\r\n    public abstract class BMapper {\r\n        \r\n        BMapper INSTANCE = Mappers.getMapper(BMapper.class);\r\n\r\n        public abstract B toB(A a);\r\n            \r\n        @AfterMapping\r\n        protected void additionalStuff(A a, @MappingTarget B b) {\r\n            // some additional mapping logic\r\n        }\r\n\r\n    }\r\n\r\nCMapper:\r\n\r\n    @Mapper\r\n    public abstract class CMapper {\r\n        \r\n        CMapper INSTANCE = Mappers.getMapper(CMapper.class);\r\n\r\n        public abstract C toC(B b);\r\n\r\n        public C toC(A a) {\r\n            C c = toC(BMapper.INSTANCE.toB(a));\r\n            additionalStuff(a, c);\r\n            return c;\r\n        }\r\n\r\n        private void additionalStuff(A a, C c) {\r\n            // some additional mapping logic\r\n        }\r\n\r\n    }\r\n\r\nDocumentation:&lt;br&gt;\r\n[Adding custom methods to mappers][1]\r\n\r\nPersonal opinion:&lt;br&gt;\r\nThis can be a bit confusing, so it would be better to have a direct mapping between a and c.\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods","title":"Is it possible to chain mappers using mapstruct","body":"<p>I don't think there is a feature for that, but you can do it on your own:</p>\n<p>BMapper:</p>\n<pre><code>@Mapper\npublic abstract class BMapper {\n    \n    BMapper INSTANCE = Mappers.getMapper(BMapper.class);\n\n    public abstract B toB(A a);\n        \n    @AfterMapping\n    protected void additionalStuff(A a, @MappingTarget B b) {\n        // some additional mapping logic\n    }\n\n}\n</code></pre>\n<p>CMapper:</p>\n<pre><code>@Mapper\npublic abstract class CMapper {\n    \n    CMapper INSTANCE = Mappers.getMapper(CMapper.class);\n\n    public abstract C toC(B b);\n\n    public C toC(A a) {\n        C c = toC(BMapper.INSTANCE.toB(a));\n        additionalStuff(a, c);\n        return c;\n    }\n\n    private void additionalStuff(A a, C c) {\n        // some additional mapping logic\n    }\n\n}\n</code></pre>\n<p>Documentation:<br>\n<a href=\"https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\" rel=\"nofollow noreferrer\">Adding custom methods to mappers</a></p>\n<p>Personal opinion:<br>\nThis can be a bit confusing, so it would be better to have a direct mapping between a and c.</p>\n"}],"owner":{"account_id":285780,"reputation":61,"user_id":584651,"display_name":"Mobius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678899770,"creation_date":1678868887,"question_id":75742150,"body_markdown":"I have 3 classes : A, B and C\r\n\r\nand some mappers : A -&gt; B -&gt; C\r\n\r\nI want to create a third mapper (A -&gt; C) that use the first two.\r\n\r\n```java\r\n@Mapper\r\npublic abstract class TestMapper {\r\n\r\n    public abstract B toB(A a);\r\n    public abstract C toC(B b);\r\n\r\n    public abstract C toC(A a); // How to chain existing mapper methods ?\r\n/*\r\n    // Expected implementation\r\n    public C toC(A a) {\r\n        C c = toC(toB(a));\r\n        additionalStuff(a, c);\r\n        return c;\r\n    }\r\n*/\r\n\r\n    @AfterMapping\r\n    protected void additionalStuff(A a, @MappingTarget B b) {\r\n        // some mapping logic\r\n    }\r\n\r\n    @AfterMapping\r\n    protected void additionalStuff(A a, @MappingTarget C c) {\r\n        // some mapping logic\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t want to rewrite the mapper from A to C and prefer reuse the existing one because A to B is  a bit complex (so A to C also) but reusing the existing methods will be quite simple.\r\n\r\nI can write the expected implementation by myself but I think it&#39;s a pity.\r\n\r\nAny ideas?","title":"Is it possible to chain mappers using mapstruct","body":"<p>I have 3 classes : A, B and C</p>\n<p>and some mappers : A -&gt; B -&gt; C</p>\n<p>I want to create a third mapper (A -&gt; C) that use the first two.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic abstract class TestMapper {\n\n    public abstract B toB(A a);\n    public abstract C toC(B b);\n\n    public abstract C toC(A a); // How to chain existing mapper methods ?\n/*\n    // Expected implementation\n    public C toC(A a) {\n        C c = toC(toB(a));\n        additionalStuff(a, c);\n        return c;\n    }\n*/\n\n    @AfterMapping\n    protected void additionalStuff(A a, @MappingTarget B b) {\n        // some mapping logic\n    }\n\n    @AfterMapping\n    protected void additionalStuff(A a, @MappingTarget C c) {\n        // some mapping logic\n    }\n}\n</code></pre>\n<p>I don't want to rewrite the mapper from A to C and prefer reuse the existing one because A to B is  a bit complex (so A to C also) but reusing the existing methods will be quite simple.</p>\n<p>I can write the expected implementation by myself but I think it's a pity.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","spring","spring-boot","jakarta-ee"],"answers":[{"tags":[],"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678899624,"creation_date":1678899624,"answer_id":75747880,"question_id":75747743,"body_markdown":"You could try using a stack, you start iterating the string and every time you find a parenthesis you check it with the last element of the stack:\r\n- if the stack is empty and you have an open parenthesis insert it into the stack\r\n- if the stack has an open parenthesis at the top and you have a closed one then they must be of the same type (so you can remove the last element in the stack) otherwise you return false\r\n- if the stack has an open parenthesis at the top and you have an open one, check that it is regular, if so, insert it into the stack otherwise you will return false\r\n\r\nIf all goes well and you manage to empty the stack and scroll through the complete list you can return true","title":"String parenthesis in right order and valid properly closed","body":"<p>You could try using a stack, you start iterating the string and every time you find a parenthesis you check it with the last element of the stack:</p>\n<ul>\n<li>if the stack is empty and you have an open parenthesis insert it into the stack</li>\n<li>if the stack has an open parenthesis at the top and you have a closed one then they must be of the same type (so you can remove the last element in the stack) otherwise you return false</li>\n<li>if the stack has an open parenthesis at the top and you have an open one, check that it is regular, if so, insert it into the stack otherwise you will return false</li>\n</ul>\n<p>If all goes well and you manage to empty the stack and scroll through the complete list you can return true</p>\n"}],"owner":{"account_id":18624916,"reputation":33,"user_id":13574257,"display_name":"Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678899624,"creation_date":1678898872,"question_id":75747743,"body_markdown":"Need some help trying to come up with a java utility that returns true/false if string contains the parenthesis and are in order of precedence and properly closed if nested **{**, **[**, **(** i.e. ( should be inside [ and same way [ should be inside { if all three present.\r\n\r\n\r\n    [a(b)c]    // here have only [ &amp; ( and it&#39;s valid as ( is nested inside [\r\n    {a[b(c)d]e}  // here have all {, [, ( and it&#39;s valid as ( is nested insdie [ and [ is nested inside {\r\n    (abc)  // is valid as only have (\r\n    {a}+[b]+[c]+(d)  // is valid as no nesting but individually closed\r\n    {a[b]c}  // is valid as nesting following the order [ is inside { even though ( is missing\r\n    {a[b[c(d)e]f]g}  // here have all {, [, ( and it&#39;s valid as ( is nested inside [ and [ is nested inside {\r\n    \r\n    \r\n    (a[b{c}d]e)   // this is invalid as nesting is not in order should be {, [, (\r\n    {9+{(3-3)}+1}  // this is invalid as nesting should be in order {, [, (\r\n\r\nThanks","title":"String parenthesis in right order and valid properly closed","body":"<p>Need some help trying to come up with a java utility that returns true/false if string contains the parenthesis and are in order of precedence and properly closed if nested <strong>{</strong>, <strong>[</strong>, <strong>(</strong> i.e. ( should be inside [ and same way [ should be inside { if all three present.</p>\n<pre><code>[a(b)c]    // here have only [ &amp; ( and it's valid as ( is nested inside [\n{a[b(c)d]e}  // here have all {, [, ( and it's valid as ( is nested insdie [ and [ is nested inside {\n(abc)  // is valid as only have (\n{a}+[b]+[c]+(d)  // is valid as no nesting but individually closed\n{a[b]c}  // is valid as nesting following the order [ is inside { even though ( is missing\n{a[b[c(d)e]f]g}  // here have all {, [, ( and it's valid as ( is nested inside [ and [ is nested inside {\n\n\n(a[b{c}d]e)   // this is invalid as nesting is not in order should be {, [, (\n{9+{(3-3)}+1}  // this is invalid as nesting should be in order {, [, (\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","header","apache-poi","xwpf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1678902640,"post_id":75747848,"comment_id":133624881,"body_markdown":"&quot;I am copying the header from this Word document to a new Word document&quot;: No.you are only copying the `org.openxmlformats.schemas.wordprocessingml.x2006.main.CTHdrFtr` from one `XWPFHeaderFooter` to the other. But that `CTHdrFtr` only contains the XML of `/word/header1.xml` which **links** to the picture in `/word/media` and **links** to the styles in `/word/styles.xml` in the `*.docx` ZIP archive .","body":"&quot;I am copying the header from this Word document to a new Word document&quot;: No.you are only copying the <code>org.openxmlformats.schemas.wordprocessingml.x2006.main.CTHdr&zwnj;&#8203;Ftr</code> from one <code>XWPFHeaderFooter</code> to the other. But that <code>CTHdrFtr</code> only contains the XML of <code>&#47;word&#47;header1.xml</code> which <b>links</b> to the picture in <code>&#47;word&#47;media</code> and <b>links</b> to the styles in <code>&#47;word&#47;styles.xml</code> in the <code>*.docx</code> ZIP archive ."},{"owner":{"account_id":28024987,"reputation":1,"user_id":21405160,"display_name":"pronob"},"score":0,"creation_date":1678903317,"post_id":75747848,"comment_id":133625067,"body_markdown":"okay, and how can i then ilustrate the exact header template with the picture and the exact format in the generated word document?","body":"okay, and how can i then ilustrate the exact header template with the picture and the exact format in the generated word document?"}],"owner":{"account_id":28024987,"reputation":1,"user_id":21405160,"display_name":"pronob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678899445,"creation_date":1678899445,"question_id":75747848,"body_markdown":"I have here a header [header template](https://i.stack.imgur.com/BNOzS.png) saved in a Word document (Dok3.docx). I am loading this Word document as an XWPFDocument. I am copying the header from this Word document to a new Word document (CreateWordHeader.docx). But the header does not load correctly [incorrect header](https://i.stack.imgur.com/Y3bYB.png). As you can see, the image is not loaded, and the format of the header is a mess.  And when opening the generated CreatWordHeader Word document, i get the error: `Word found unreadable content error.`Anyone an idea?\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        XWPFDocument doc = new XWPFDocument();\r\n        XWPFHeader header = doc.createHeader(HeaderFooterType.DEFAULT);\r\n        header.setHeaderFooter(loadHeader().getHeaderArray(0)._getHdrFtr());\r\n        FileOutputStream out = new FileOutputStream(&quot;CreateWordHeader.docx&quot;);\r\n        doc.write(out);\r\n        out.close();\r\n        doc.close();\r\n\r\n    }\r\n\r\n    private static XWPFDocument loadHeader() {\r\n        try {\r\n            return new XWPFDocument(Objects.requireNonNull(Main.class.getClassLoader().\r\n                    getResourceAsStream(&quot;Dok3.docx&quot;)));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n```","title":"apache poi: header does not load correctly","body":"<p>I have here a header <a href=\"https://i.stack.imgur.com/BNOzS.png\" rel=\"nofollow noreferrer\">header template</a> saved in a Word document (Dok3.docx). I am loading this Word document as an XWPFDocument. I am copying the header from this Word document to a new Word document (CreateWordHeader.docx). But the header does not load correctly <a href=\"https://i.stack.imgur.com/Y3bYB.png\" rel=\"nofollow noreferrer\">incorrect header</a>. As you can see, the image is not loaded, and the format of the header is a mess.  And when opening the generated CreatWordHeader Word document, i get the error: <code>Word found unreadable content error.</code>Anyone an idea?</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws IOException {\n        XWPFDocument doc = new XWPFDocument();\n        XWPFHeader header = doc.createHeader(HeaderFooterType.DEFAULT);\n        header.setHeaderFooter(loadHeader().getHeaderArray(0)._getHdrFtr());\n        FileOutputStream out = new FileOutputStream(&quot;CreateWordHeader.docx&quot;);\n        doc.write(out);\n        out.close();\n        doc.close();\n\n    }\n\n    private static XWPFDocument loadHeader() {\n        try {\n            return new XWPFDocument(Objects.requireNonNull(Main.class.getClassLoader().\n                    getResourceAsStream(&quot;Dok3.docx&quot;)));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","java-8","javassist","reflections"],"comments":[{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1469452076,"post_id":30313255,"comment_id":64526929,"body_markdown":"Possible duplicate of [Error creating entityManagerFactory due to error tying to scan &lt;jar-file&gt;](http://stackoverflow.com/questions/24281235/error-creating-entitymanagerfactory-due-to-error-tying-to-scan-jar-file)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/24281235/error-creating-entitymanagerfactory-due-to-error-tying-to-scan-jar-file\">Error creating entityManagerFactory due to error tying to scan &lt;jar-file&gt;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2022651,"reputation":517,"user_id":1808454,"accept_rate":29,"display_name":"Lukasz"},"score":2,"creation_date":1432106091,"post_id":30320312,"comment_id":48778805,"body_markdown":"I saw this solution but I used newest version of these libs. Finally I removed reflection lib and wrote own reflection for sub types of class with Guava lib.\nThanks for reply.","body":"I saw this solution but I used newest version of these libs. Finally I removed reflection lib and wrote own reflection for sub types of class with Guava lib. Thanks for reply."},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":2,"creation_date":1481904302,"post_id":30320312,"comment_id":69576245,"body_markdown":"Same problem here : I had different versions of javassist in 3 frameworks (HikariCP, Orika and Swagger-jaxrs) and Maven picked the oldest one as automatic resolution (3.16-1.-GA instead of the latest one 3.19.0-GA)","body":"Same problem here : I had different versions of javassist in 3 frameworks (HikariCP, Orika and Swagger-jaxrs) and Maven picked the oldest one as automatic resolution (3.16-1.-GA instead of the latest one 3.19.0-GA)"},{"owner":{"account_id":316230,"reputation":4519,"user_id":632293,"display_name":"jediz"},"score":1,"creation_date":1500059371,"post_id":30320312,"comment_id":77191642,"body_markdown":"javassist is also in powermock","body":"javassist is also in powermock"},{"owner":{"account_id":316230,"reputation":4519,"user_id":632293,"display_name":"jediz"},"score":1,"creation_date":1500063129,"post_id":30320312,"comment_id":77193402,"body_markdown":"bingo, it was brought transitively by `jersey-client` and `jersey-core` in my case. all jersey versions ranging from 2.23.2 to 2.25.1 have 3.18-1.-GA bundled. Filed an issue github.com/jersey/jersey/issues/3618","body":"bingo, it was brought transitively by <code>jersey-client</code> and <code>jersey-core</code> in my case. all jersey versions ranging from 2.23.2 to 2.25.1 have 3.18-1.-GA bundled. Filed an issue github.com/jersey/jersey/issues/3618"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":4,"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1678899438,"creation_date":1432023781,"answer_id":30320312,"question_id":30313255,"body_markdown":"If you look at [this table](https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4), you’ll see that “constant type: 18” refers to the [`CONSTANT_InvokeDynamic`](https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4.10) attribute whose tag value is `18` (`0x12`).\r\n\r\nSo you are using a library which has a class parser which is not Java&#160;8 compatible. Actually, this class parser even isn’t Java&#160;7 compatible as this constant value is specified since Java&#160;7. It just got away with that as ordinary Java code doesn’t use this feature in Java&#160;7. But when interacting with code produced by different programming languages for the JVM, it could even fail with Java&#160;7.\r\n\r\nThere’s [an item in the bug tracker of Reflections](https://code.google.com/p/reflections/issues/detail?id=178) describing your problem. At the bottom, you will find the notice:\r\n\r\n&gt; With this fix: https://issues.jboss.org/browse/JASSIST-174 javassist got support for this constant. So with 3.18.2-GA this error doesn&#39;t occur.","title":"Reflections - Java 8 - invalid constant type","body":"<p>If you look at <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4\" rel=\"nofollow noreferrer\">this table</a>, you’ll see that “constant type: 18” refers to the <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4.10\" rel=\"nofollow noreferrer\"><code>CONSTANT_InvokeDynamic</code></a> attribute whose tag value is <code>18</code> (<code>0x12</code>).</p>\n<p>So you are using a library which has a class parser which is not Java 8 compatible. Actually, this class parser even isn’t Java 7 compatible as this constant value is specified since Java 7. It just got away with that as ordinary Java code doesn’t use this feature in Java 7. But when interacting with code produced by different programming languages for the JVM, it could even fail with Java 7.</p>\n<p>There’s <a href=\"https://code.google.com/p/reflections/issues/detail?id=178\" rel=\"nofollow noreferrer\">an item in the bug tracker of Reflections</a> describing your problem. At the bottom, you will find the notice:</p>\n<blockquote>\n<p>With this fix: <a href=\"https://issues.jboss.org/browse/JASSIST-174\" rel=\"nofollow noreferrer\">https://issues.jboss.org/browse/JASSIST-174</a> javassist got support for this constant. So with 3.18.2-GA this error doesn't occur.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":63165,"reputation":2268,"user_id":187148,"display_name":"Bruno Medeiros"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1523348038,"creation_date":1471804394,"answer_id":39067583,"question_id":30313255,"body_markdown":"I just fixed a similar issue here. In my case, there were two javassist jars on my class-path. I use maven and it was supposed to avoid that, but one of the dependencies used a different groupId (`javassist` for the old one and `org.javassist` for the new one, imported by `org.reflections`), so maven handled them as different artifacts.\r\n\r\nI just changed the library depending the old one to depend on the new one and everything is fixed!","title":"Reflections - Java 8 - invalid constant type","body":"<p>I just fixed a similar issue here. In my case, there were two javassist jars on my class-path. I use maven and it was supposed to avoid that, but one of the dependencies used a different groupId (<code>javassist</code> for the old one and <code>org.javassist</code> for the new one, imported by <code>org.reflections</code>), so maven handled them as different artifacts.</p>\n\n<p>I just changed the library depending the old one to depend on the new one and everything is fixed!</p>\n"},{"comments":[{"owner":{"account_id":63165,"reputation":2268,"user_id":187148,"display_name":"Bruno Medeiros"},"score":3,"creation_date":1498704216,"post_id":43451386,"comment_id":76611310,"body_markdown":"You should consider all the restrictions in the original question, downgrade is not really a fix to any problem.","body":"You should consider all the restrictions in the original question, downgrade is not really a fix to any problem."}],"tags":[],"owner":{"account_id":232048,"reputation":917,"user_id":496637,"display_name":"linhadiretalipe"},"comment_count":1,"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1492431615,"creation_date":1492431615,"answer_id":43451386,"question_id":30313255,"body_markdown":"I had this problem so I did the downgrade temporarily from my jdk, EXPORT JAVA_HOME=&quot;/home/user/jdk1.7.0_55&quot; and everything worked fine.","title":"Reflections - Java 8 - invalid constant type","body":"<p>I had this problem so I did the downgrade temporarily from my jdk, EXPORT JAVA_HOME=\"/home/user/jdk1.7.0_55\" and everything worked fine.</p>\n"},{"tags":[],"owner":{"account_id":316230,"reputation":4519,"user_id":632293,"display_name":"jediz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500454513,"creation_date":1500454083,"answer_id":45185440,"question_id":30313255,"body_markdown":"If you use weblogic it may be a conflict with the libraries already loaded by it&#39;s classloader. You can override them by putting\r\n\r\n    ...\r\n    &lt;weblogic-web-app&gt;\r\n        &lt;container-descriptor&gt;\r\n            &lt;prefer-application-packages&gt;\r\n                &lt;package-name&gt;javassist.*&lt;/package-name&gt;\r\n    ...\r\n\r\nin your web projects&#39;s `weblogic.xml` config file. Note the real java package is just `javassist`, not `org.javassist` (maven groupId).","title":"Reflections - Java 8 - invalid constant type","body":"<p>If you use weblogic it may be a conflict with the libraries already loaded by it's classloader. You can override them by putting</p>\n\n<pre><code>...\n&lt;weblogic-web-app&gt;\n    &lt;container-descriptor&gt;\n        &lt;prefer-application-packages&gt;\n            &lt;package-name&gt;javassist.*&lt;/package-name&gt;\n...\n</code></pre>\n\n<p>in your web projects's <code>weblogic.xml</code> config file. Note the real java package is just <code>javassist</code>, not <code>org.javassist</code> (maven groupId).</p>\n"},{"comments":[{"owner":{"account_id":8936007,"reputation":1340,"user_id":6735277,"display_name":"Roberto"},"score":0,"creation_date":1579706330,"post_id":50257772,"comment_id":105857125,"body_markdown":"Which file must be for webshere?","body":"Which file must be for webshere?"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1654074411,"post_id":50257772,"comment_id":128003072,"body_markdown":"No luck, things are not working for me. `Caused by: java.lang.RuntimeException: java.io.IOException: invalid constant type: 18`","body":"No luck, things are not working for me. <code>Caused by: java.lang.RuntimeException: java.io.IOException: invalid constant type: 18</code>"}],"tags":[],"owner":{"account_id":4521299,"reputation":300,"user_id":3674437,"display_name":"mehmetunluu"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1525882234,"creation_date":1525882234,"answer_id":50257772,"question_id":30313255,"body_markdown":"I solved this problem that;\r\n\r\nFirst upgrade `javassist` jar to -&gt; `3.18.2-GA`\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n        &lt;version&gt;3.18.2-GA&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nSecondly add weblogic.xml \r\n \r\n     &lt;wls:package-name&gt;javassist.*&lt;/wls:package-name&gt;\r\n\r\n","title":"Reflections - Java 8 - invalid constant type","body":"<p>I solved this problem that;</p>\n\n<p>First upgrade <code>javassist</code> jar to -> <code>3.18.2-GA</code></p>\n\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n    &lt;version&gt;3.18.2-GA&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n\n<p>Secondly add weblogic.xml </p>\n\n<pre><code> &lt;wls:package-name&gt;javassist.*&lt;/wls:package-name&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550680917,"creation_date":1550680917,"answer_id":54791338,"question_id":30313255,"body_markdown":"On Websphere I solved the problem by enabling the &quot;parent last&quot; classloader for that application so that the JARs packaged with the application take precedence over the ones provided by the server.","title":"Reflections - Java 8 - invalid constant type","body":"<p>On Websphere I solved the problem by enabling the \"parent last\" classloader for that application so that the JARs packaged with the application take precedence over the ones provided by the server.</p>\n"}],"owner":{"account_id":2022651,"reputation":517,"user_id":1808454,"accept_rate":29,"display_name":"Lukasz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70413,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":30320312,"answer_count":6,"score":35,"last_activity_date":1678899438,"creation_date":1431985213,"question_id":30313255,"body_markdown":"I have a problem with [Reflections][1] library.\r\nI am trying to load dynamically all classes which implement specific interface.\r\nEverything works fine (all classes are loaded) as long as I do not use lambda expression in these classes (java 8).\r\nI tried upgrade lib version but effect was the same (`java.io.IOException: invalid constant type: 18`).\r\n\r\nDependency and build in `pom.xml`:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.reflections&lt;/groupId&gt;\r\n    &lt;artifactId&gt;reflections&lt;/artifactId&gt;\r\n    &lt;version&gt;0.9.10&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;javassist&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n    &lt;version&gt;3.19.0-GA&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\nwithout exclusion is the same effect.\r\n\r\nCode:\r\n\r\n```java\r\nURL jarUrl = jarFile.toURI().toURL();\r\nURLClassLoader child = new URLClassLoader(new URL[]{jarUrl}, this.getClass().getClassLoader());\r\nConfigurationBuilder builder = new ConfigurationBuilder()\r\n        .addClassLoader(child)\r\n        .addUrls(jarUrl)\r\n        .setScanners(new SubTypesScanner());\r\nReflections r = new Reflections(builder);\r\nreturn r.getSubTypesOf(cls);\r\n```\r\nHow can I load classes with lambda expression?\r\n\r\nP.S Sorry for English :)\r\n\r\n  [1]: https://code.google.com/p/reflections/","title":"Reflections - Java 8 - invalid constant type","body":"<p>I have a problem with <a href=\"https://code.google.com/p/reflections/\" rel=\"nofollow noreferrer\">Reflections</a> library.\nI am trying to load dynamically all classes which implement specific interface.\nEverything works fine (all classes are loaded) as long as I do not use lambda expression in these classes (java 8).\nI tried upgrade lib version but effect was the same (<code>java.io.IOException: invalid constant type: 18</code>).</p>\n<p>Dependency and build in <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.reflections&lt;/groupId&gt;\n    &lt;artifactId&gt;reflections&lt;/artifactId&gt;\n    &lt;version&gt;0.9.10&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;javassist&lt;/groupId&gt;\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n    &lt;version&gt;3.19.0-GA&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>without exclusion is the same effect.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL jarUrl = jarFile.toURI().toURL();\nURLClassLoader child = new URLClassLoader(new URL[]{jarUrl}, this.getClass().getClassLoader());\nConfigurationBuilder builder = new ConfigurationBuilder()\n        .addClassLoader(child)\n        .addUrls(jarUrl)\n        .setScanners(new SubTypesScanner());\nReflections r = new Reflections(builder);\nreturn r.getSubTypesOf(cls);\n</code></pre>\n<p>How can I load classes with lambda expression?</p>\n<p>P.S Sorry for English :)</p>\n"},{"tags":["java","docker","shell","posix","alpine-linux"],"comments":[{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":1,"creation_date":1678890159,"post_id":75745719,"comment_id":133620864,"body_markdown":"You needed to look at the error more closely. It did not say your file was not found - it was complaining about lines inside the file so it was obviously able to find and process the `posix-compile.sh` file itself. That meant it was having a problem with the content of the file and I guess only trial/error/experience (I&#39;ve been there!) would help you understand that the line endings might be the problem.","body":"You needed to look at the error more closely. It did not say your file was not found - it was complaining about lines inside the file so it was obviously able to find and process the <code>posix-compile.sh</code> file itself. That meant it was having a problem with the content of the file and I guess only trial/error/experience (I&#39;ve been there!) would help you understand that the line endings might be the problem."},{"owner":{"account_id":21597866,"reputation":123,"user_id":15926514,"display_name":"AndyLee"},"score":0,"creation_date":1678899294,"post_id":75745719,"comment_id":133623936,"body_markdown":"True. The hints were the lines. Although it really was a quite ambiguous message especially combined with the `No such file or directory`... Nice spot.","body":"True. The hints were the lines. Although it really was a quite ambiguous message especially combined with the <code>No such file or directory</code>... Nice spot."}],"answers":[{"tags":[],"owner":{"account_id":21597866,"reputation":123,"user_id":15926514,"display_name":"AndyLee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678899211,"creation_date":1678889641,"answer_id":75745928,"question_id":75745719,"body_markdown":"It turns out that it was the eol (end of line) problem.\r\nWhen I created the shell script files on Windows, it automatically used the CRLF format that can&#39;t be read in linux.\r\nI re-formatted them in LF and it works perfectly now.","title":"Docker image build error: shell script file is copied in the workdir but it says the file is not found","body":"<p>It turns out that it was the eol (end of line) problem.\nWhen I created the shell script files on Windows, it automatically used the CRLF format that can't be read in linux.\nI re-formatted them in LF and it works perfectly now.</p>\n"}],"owner":{"account_id":21597866,"reputation":123,"user_id":15926514,"display_name":"AndyLee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678899211,"creation_date":1678888643,"question_id":75745719,"body_markdown":"I am trying to dockerize a legacy java project using alpine.\r\nMy machine is running on Windows 10 and I am using Docker Desktop for Windows.\r\n\r\nHere is my `Dockerfile`:\r\n\r\n```dockerfile\r\nFROM openjdk:8u171-jdk-alpine\r\nRUN apk -U add tini\r\nWORKDIR /mnt\r\nCOPY ./ ./\r\nRUN chmod +x ./posix-compile.sh &amp;&amp; ls &amp;&amp; sh ./posix-compile.sh\r\nADD https://github.com/ufoscout/docker-compose-wait/releases/download/2.6.0/wait /wait\r\nRUN chmod +x /wait\r\n\r\nEXPOSE 8484\r\nENTRYPOINT [&quot;tini&quot;, &quot;--&quot;]\r\nCMD /wait &amp;&amp; sh ./posix-launch.sh\r\n```\r\n\r\nAnd this is `docker-compose.yml`\r\n```yml\r\nversion: &#39;3&#39;\r\nservices:\r\n  test_server:\r\n    network_mode: &quot;host&quot;\r\n    build: .\r\n    depends_on:\r\n      - db\r\n    environment:\r\n      WAIT_HOSTS: localhost:3306\r\n    \r\n  db:\r\n    network_mode: &quot;host&quot;\r\n    image: mysql:5.6\r\n    environment:\r\n      MYSQL_ALLOW_EMPTY_PASSWORD: &quot;yes&quot;\r\n      MYSQL_DATABASE: &quot;test&quot;\r\n      MYSQL_USER: &quot;root&quot;\r\n      MYSQL_PASSWORD: &quot;&quot;\r\n    volumes:\r\n      - ./sql:/docker-entrypoint-initdb.d\r\n\r\n```\r\n\r\nAnd the infamous `posix-compile.sh`\r\n```shell\r\n#!/bin/bash\r\n\r\nsrc=src\r\ndist=dist\r\n\r\ncores=$(echo cores/*)\r\ncores=${cores// /:}\r\n\r\nmkdir -p $dist\r\njavac -d $dist -cp $cores $(find $src -name &quot;*.java&quot;)\r\n```\r\n\r\nI tried to build the image by running this command:\r\n\r\n```\r\ndocker build --progress=plain --no-cache -t image_name:test_server .\r\n```\r\n\r\nHere are the error logs:\r\n```\r\n#1 [internal] load build definition from Dockerfile\r\n#1 sha256:734b5acd3990699a89640afb38e612dcd101941fa334de84db76e0ef22a09a5c\r\n#1 transferring dockerfile: 32B done\r\n#1 DONE 0.0s\r\n\r\n#2 [internal] load .dockerignore\r\n#2 sha256:0798a5154adb31bf1ecaeae8a0e68f072b7918021ba50681ef94b7c7fc95c9d2\r\n#2 transferring context: 2B done\r\n#2 DONE 0.0s\r\n\r\n#3 [internal] load metadata for docker.io/library/openjdk:8u171-jdk-alpine\r\n#3 sha256:082938b39d87076fb3dd83e3b06c987c66345165a901b4b2a8daff42aa3e073e\r\n#3 ...\r\n\r\n#4 [auth] library/openjdk:pull token for registry-1.docker.io\r\n#4 sha256:d7d7bd54dd220e3a332acfbd133903ef12601aeac31ac9eca3e7d27be90a00f4\r\n#4 DONE 0.0s\r\n\r\n#3 [internal] load metadata for docker.io/library/openjdk:8u171-jdk-alpine\r\n#3 sha256:082938b39d87076fb3dd83e3b06c987c66345165a901b4b2a8daff42aa3e073e\r\n#3 DONE 1.0s\r\n\r\n#5 [1/7] FROM docker.io/library/openjdk:8u171-jdk-alpine@sha256:a2d7b02891b158d01523e26ad069d40d5eb2c14d6943cf4df969b097acaa77d3\r\n#5 sha256:c5bf96b6cf0bb3e3a19eb27818366c65d6f0a496829955612c998c4a5020f471\r\n#5 CACHED\r\n\r\n#8 [internal] load build context\r\n#8 sha256:b6ac95785d97e335c0770a7341974fecce99dea7a6ee67dabf0c292ee17c876a\r\n#8 transferring context: 257.03kB 0.4s done\r\n#8 DONE 0.4s\r\n\r\n#11 https://github.com/ufoscout/docker-compose-wait/releases/download/2.6.0/wait\r\n#11 sha256:772645aa2e9596a9e400a39317096d2758fef9afc8f072168bdd012fbf19df9d\r\n#11 CACHED\r\n\r\n#6 [2/7] RUN apk -U add tini\r\n#6 sha256:07339a1c0a2f75fcc8bbf72f912365594e3fee755a0d89a61a140b919773cec0\r\n#6 0.432 fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\r\n#6 0.645 fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\r\n#6 0.796 (1/1) Installing tini (0.18.0-r0)\r\n#6 0.837 Executing busybox-1.28.4-r1.trigger\r\n#6 0.841 OK: 101 MiB in 54 packages\r\n#6 DONE 0.9s\r\n\r\n#7 [3/7] WORKDIR /mnt\r\n#7 sha256:f3e442bf975f4c835b95cc860e90d21cc7d4355767d706b9875f300eb48b9d8b\r\n#7 DONE 0.1s\r\n\r\n#9 [4/7] COPY ./ ./\r\n#9 sha256:e792397fe61887dc71f5994ad4ae2cb2a221433ec61a167e127fc1201fba66d0\r\n#9 DONE 0.3s\r\n\r\n#10 [5/7] RUN chmod +x ./posix-compile.sh &amp;&amp; ls &amp;&amp; sh ./posix-compile.sh\r\n#10 sha256:25c8585839839af83a646d324377d4be64ee481e18347151ce18c6852d916443\r\n#10 0.418 Dockerfile\r\n#10 0.418 LICENSE\r\n#10 0.418 README.md\r\n#10 0.418 config.yaml\r\n#10 0.418 cores\r\n#10 0.418 dist_test\r\n#10 0.418 docker-compose.yml\r\n#10 0.418 linux-compile.sh\r\n#10 0.418 linux-launch.sh\r\n#10 0.418 logs\r\n#10 0.418 manifest.mf\r\n#10 0.418 posix-compile.sh\r\n#10 0.418 posix-launch.sh\r\n#10 0.418 scripts\r\n#10 0.418 sql\r\n#10 0.418 src\r\n#10 0.418 tools\r\n: not found/posix-compile.sh: line 2:\r\n: not found/posix-compile.sh: line 5:\r\n: not found/posix-compile.sh: line 8:\r\n: No such file or directory\r\n#10 0.545 javac: invalid flag:\r\n#10 0.545 Usage: javac &lt;options&gt; &lt;source files&gt;\r\n#10 0.545 use -help for a list of possible options\r\n#10 ERROR: executor failed running [/bin/sh -c chmod +x ./posix-compile.sh &amp;&amp; ls &amp;&amp; sh ./posix-compile.sh]: exit code: 2\r\n------\r\n &gt; [5/7] RUN chmod +x ./posix-compile.sh &amp;&amp; ls &amp;&amp; sh ./posix-compile.sh:\r\n------\r\nexecutor failed running [/bin/sh -c chmod +x ./posix-compile.sh &amp;&amp; ls &amp;&amp; sh ./posix-compile.sh]: exit code: 2\r\n```\r\n\r\nAnd this is a snapshot of root directory of my project to help understand the project structure.\r\n[![enter image description here](https://i.stack.imgur.com/3v17e.png)](https://i.stack.imgur.com/3v17e.png)\r\n\r\nAs the result of `ls` shows, the `posic-compile.sh` IS there, and I don&#39;t understand why or how it says this file is not found.\r\n\r\nI thought it maybe the permission problem, that&#39;s why I added at the beginning of the 5th line of the `Dockerfile`, `chmod +x ./posix-compile.sh`, however it did not change anything.\r\n\r\nI tried to use the absolute path by specifying `/mnt/posix-compile.sh`, it didn&#39;t work either.","title":"Docker image build error: shell script file is copied in the workdir but it says the file is not found","body":"<p>I am trying to dockerize a legacy java project using alpine.\nMy machine is running on Windows 10 and I am using Docker Desktop for Windows.</p>\n<p>Here is my <code>Dockerfile</code>:</p>\n<pre><code>FROM openjdk:8u171-jdk-alpine\nRUN apk -U add tini\nWORKDIR /mnt\nCOPY ./ ./\nRUN chmod +x ./posix-compile.sh &amp;&amp; ls &amp;&amp; sh ./posix-compile.sh\nADD https://github.com/ufoscout/docker-compose-wait/releases/download/2.6.0/wait /wait\nRUN chmod +x /wait\n\nEXPOSE 8484\nENTRYPOINT [&quot;tini&quot;, &quot;--&quot;]\nCMD /wait &amp;&amp; sh ./posix-launch.sh\n</code></pre>\n<p>And this is <code>docker-compose.yml</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: '3'\nservices:\n  test_server:\n    network_mode: &quot;host&quot;\n    build: .\n    depends_on:\n      - db\n    environment:\n      WAIT_HOSTS: localhost:3306\n    \n  db:\n    network_mode: &quot;host&quot;\n    image: mysql:5.6\n    environment:\n      MYSQL_ALLOW_EMPTY_PASSWORD: &quot;yes&quot;\n      MYSQL_DATABASE: &quot;test&quot;\n      MYSQL_USER: &quot;root&quot;\n      MYSQL_PASSWORD: &quot;&quot;\n    volumes:\n      - ./sql:/docker-entrypoint-initdb.d\n\n</code></pre>\n<p>And the infamous <code>posix-compile.sh</code></p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\nsrc=src\ndist=dist\n\ncores=$(echo cores/*)\ncores=${cores// /:}\n\nmkdir -p $dist\njavac -d $dist -cp $cores $(find $src -name &quot;*.java&quot;)\n</code></pre>\n<p>I tried to build the image by running this command:</p>\n<pre><code>docker build --progress=plain --no-cache -t image_name:test_server .\n</code></pre>\n<p>Here are the error logs:</p>\n<pre><code>#1 [internal] load build definition from Dockerfile\n#1 sha256:734b5acd3990699a89640afb38e612dcd101941fa334de84db76e0ef22a09a5c\n#1 transferring dockerfile: 32B done\n#1 DONE 0.0s\n\n#2 [internal] load .dockerignore\n#2 sha256:0798a5154adb31bf1ecaeae8a0e68f072b7918021ba50681ef94b7c7fc95c9d2\n#2 transferring context: 2B done\n#2 DONE 0.0s\n\n#3 [internal] load metadata for docker.io/library/openjdk:8u171-jdk-alpine\n#3 sha256:082938b39d87076fb3dd83e3b06c987c66345165a901b4b2a8daff42aa3e073e\n#3 ...\n\n#4 [auth] library/openjdk:pull token for registry-1.docker.io\n#4 sha256:d7d7bd54dd220e3a332acfbd133903ef12601aeac31ac9eca3e7d27be90a00f4\n#4 DONE 0.0s\n\n#3 [internal] load metadata for docker.io/library/openjdk:8u171-jdk-alpine\n#3 sha256:082938b39d87076fb3dd83e3b06c987c66345165a901b4b2a8daff42aa3e073e\n#3 DONE 1.0s\n\n#5 [1/7] FROM docker.io/library/openjdk:8u171-jdk-alpine@sha256:a2d7b02891b158d01523e26ad069d40d5eb2c14d6943cf4df969b097acaa77d3\n#5 sha256:c5bf96b6cf0bb3e3a19eb27818366c65d6f0a496829955612c998c4a5020f471\n#5 CACHED\n\n#8 [internal] load build context\n#8 sha256:b6ac95785d97e335c0770a7341974fecce99dea7a6ee67dabf0c292ee17c876a\n#8 transferring context: 257.03kB 0.4s done\n#8 DONE 0.4s\n\n#11 https://github.com/ufoscout/docker-compose-wait/releases/download/2.6.0/wait\n#11 sha256:772645aa2e9596a9e400a39317096d2758fef9afc8f072168bdd012fbf19df9d\n#11 CACHED\n\n#6 [2/7] RUN apk -U add tini\n#6 sha256:07339a1c0a2f75fcc8bbf72f912365594e3fee755a0d89a61a140b919773cec0\n#6 0.432 fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz\n#6 0.645 fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz\n#6 0.796 (1/1) Installing tini (0.18.0-r0)\n#6 0.837 Executing busybox-1.28.4-r1.trigger\n#6 0.841 OK: 101 MiB in 54 packages\n#6 DONE 0.9s\n\n#7 [3/7] WORKDIR /mnt\n#7 sha256:f3e442bf975f4c835b95cc860e90d21cc7d4355767d706b9875f300eb48b9d8b\n#7 DONE 0.1s\n\n#9 [4/7] COPY ./ ./\n#9 sha256:e792397fe61887dc71f5994ad4ae2cb2a221433ec61a167e127fc1201fba66d0\n#9 DONE 0.3s\n\n#10 [5/7] RUN chmod +x ./posix-compile.sh &amp;&amp; ls &amp;&amp; sh ./posix-compile.sh\n#10 sha256:25c8585839839af83a646d324377d4be64ee481e18347151ce18c6852d916443\n#10 0.418 Dockerfile\n#10 0.418 LICENSE\n#10 0.418 README.md\n#10 0.418 config.yaml\n#10 0.418 cores\n#10 0.418 dist_test\n#10 0.418 docker-compose.yml\n#10 0.418 linux-compile.sh\n#10 0.418 linux-launch.sh\n#10 0.418 logs\n#10 0.418 manifest.mf\n#10 0.418 posix-compile.sh\n#10 0.418 posix-launch.sh\n#10 0.418 scripts\n#10 0.418 sql\n#10 0.418 src\n#10 0.418 tools\n: not found/posix-compile.sh: line 2:\n: not found/posix-compile.sh: line 5:\n: not found/posix-compile.sh: line 8:\n: No such file or directory\n#10 0.545 javac: invalid flag:\n#10 0.545 Usage: javac &lt;options&gt; &lt;source files&gt;\n#10 0.545 use -help for a list of possible options\n#10 ERROR: executor failed running [/bin/sh -c chmod +x ./posix-compile.sh &amp;&amp; ls &amp;&amp; sh ./posix-compile.sh]: exit code: 2\n------\n &gt; [5/7] RUN chmod +x ./posix-compile.sh &amp;&amp; ls &amp;&amp; sh ./posix-compile.sh:\n------\nexecutor failed running [/bin/sh -c chmod +x ./posix-compile.sh &amp;&amp; ls &amp;&amp; sh ./posix-compile.sh]: exit code: 2\n</code></pre>\n<p>And this is a snapshot of root directory of my project to help understand the project structure.\n<a href=\"https://i.stack.imgur.com/3v17e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3v17e.png\" alt=\"enter image description here\" /></a></p>\n<p>As the result of <code>ls</code> shows, the <code>posic-compile.sh</code> IS there, and I don't understand why or how it says this file is not found.</p>\n<p>I thought it maybe the permission problem, that's why I added at the beginning of the 5th line of the <code>Dockerfile</code>, <code>chmod +x ./posix-compile.sh</code>, however it did not change anything.</p>\n<p>I tried to use the absolute path by specifying <code>/mnt/posix-compile.sh</code>, it didn't work either.</p>\n"},{"tags":["java","mongodb","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673821410,"post_id":75128766,"comment_id":132577710,"body_markdown":"You can&#39;t use argument Matchers like that. They can only be passed to the method you are mocking -- use `any(Document.class)` and get the strings out of the Document instance.","body":"You can&#39;t use argument Matchers like that. They can only be passed to the method you are mocking -- use <code>any(Document.class)</code> and get the strings out of the Document instance."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1673821445,"post_id":75128766,"comment_id":132577719,"body_markdown":"You need to think about how you want Mockito to decide whether the `when` is applicable, when a call to `updateOne` occurs.  Is it enough to have `mongoCollection.updateOne(any(document.class), any(Document.class), any(UpdateOptions.class))`?  If so, then write that.  If not, you might have to use some more sophisticated matchers to detect whether the method was called with the right kinds of `Document`.","body":"You need to think about how you want Mockito to decide whether the <code>when</code> is applicable, when a call to <code>updateOne</code> occurs.  Is it enough to have <code>mongoCollection.updateOne(any(document.class), any(Document.class), any(UpdateOptions.class))</code>?  If so, then write that.  If not, you might have to use some more sophisticated matchers to detect whether the method was called with the right kinds of <code>Document</code>."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673822201,"post_id":75128766,"comment_id":132577836,"body_markdown":"Mockito cannot &quot;destructure&quot; your arguments. Your method expects 3 arguments, so you have to use exactly 0 or 3 matchers (for the top-level arguments; you cannot supply arguments that are part real, part matchers).","body":"Mockito cannot &quot;destructure&quot; your arguments. Your method expects 3 arguments, so you have to use exactly 0 or 3 matchers (for the top-level arguments; you cannot supply arguments that are part real, part matchers)."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673832162,"post_id":75128766,"comment_id":132579124,"body_markdown":"You may find [Jeff Bowman&#39;s excellent self-answered question](https://stackoverflow.com/q/22822512) useful if you&#39;re trying to understand how to use matchers.","body":"You may find <a href=\"https://stackoverflow.com/q/22822512\">Jeff Bowman&#39;s excellent self-answered question</a> useful if you&#39;re trying to understand how to use matchers."},{"owner":{"account_id":20516369,"reputation":3,"user_id":15056922,"display_name":"Tanish azad"},"score":0,"creation_date":1673851207,"post_id":75128766,"comment_id":132581271,"body_markdown":"@tgdavies ok that helped thanks man appreciate that","body":"@tgdavies ok that helped thanks man appreciate that"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678898766,"creation_date":1673849582,"answer_id":75130740,"question_id":75128766,"body_markdown":"Mockito cannot and will not &quot;destructure&quot; complex arguments for you. And it cannot match chained method calls (at least not in the way you expect). To set up stubs for a method call, you need to either provide 0 matchers or match exactly the number of formal parameters.\r\n\r\nYour method has 3 parameters, so you need to pass 3 matchers:\r\n\r\n    when(mongoCollection.updateOne(any(Document.class), any(Document.class), any(Document.class)))\r\n        .then(i -&gt; fundsByAccount.put(i.getArgument(0), i.getArgument(2)));\r\n\r\nIf both calls are important, you can either create the mock with `Answers.RETURNS_DEEP_STUBS` (read the disclaimer in its JavaDoc!); or set up `updateOne` to return another mock:\r\n\r\n    final Appender appendMock = Mockito.mock(Appender.class); // I don&#39;t know your type, use the correct one\r\n    when(mongoCollection.updateOne(any(Document.class), any(Document.class), any(Document.class)))\r\n            .thenReturn(appendMock);\r\n    when(appendMock.append(&quot;funds&quot;, anyInt()), any(UpdateOptions.class)))\r\n            .thenAnswer(....);\r\n\r\nIf you need your method call to be only matched when it is called with specific instances, you can use the `Mockito#argThat` matcher:\r\n\r\n```\r\nMockito.argThat(doc -&gt; Objects.equals(doc.getKey(), &quot;_id&quot;)),\r\nMockito.argThat(doc -&gt; Objects.equals(doc.getKey(), &quot;$set&quot;)\r\n        &amp;&amp; Objects.equals(doc.getValue().getKey(), &quot;funds&quot;));\r\n```\r\n\r\nBut maybe you have less trouble if you implement the interface of `mongoCollection` in your own custom class, which can then hold the state in memory. This might be easier, especially if you mock this class in many different tests.","title":"Mockito Error more matchers than expected","body":"<p>Mockito cannot and will not &quot;destructure&quot; complex arguments for you. And it cannot match chained method calls (at least not in the way you expect). To set up stubs for a method call, you need to either provide 0 matchers or match exactly the number of formal parameters.</p>\n<p>Your method has 3 parameters, so you need to pass 3 matchers:</p>\n<pre><code>when(mongoCollection.updateOne(any(Document.class), any(Document.class), any(Document.class)))\n    .then(i -&gt; fundsByAccount.put(i.getArgument(0), i.getArgument(2)));\n</code></pre>\n<p>If both calls are important, you can either create the mock with <code>Answers.RETURNS_DEEP_STUBS</code> (read the disclaimer in its JavaDoc!); or set up <code>updateOne</code> to return another mock:</p>\n<pre><code>final Appender appendMock = Mockito.mock(Appender.class); // I don't know your type, use the correct one\nwhen(mongoCollection.updateOne(any(Document.class), any(Document.class), any(Document.class)))\n        .thenReturn(appendMock);\nwhen(appendMock.append(&quot;funds&quot;, anyInt()), any(UpdateOptions.class)))\n        .thenAnswer(....);\n</code></pre>\n<p>If you need your method call to be only matched when it is called with specific instances, you can use the <code>Mockito#argThat</code> matcher:</p>\n<pre><code>Mockito.argThat(doc -&gt; Objects.equals(doc.getKey(), &quot;_id&quot;)),\nMockito.argThat(doc -&gt; Objects.equals(doc.getKey(), &quot;$set&quot;)\n        &amp;&amp; Objects.equals(doc.getValue().getKey(), &quot;funds&quot;));\n</code></pre>\n<p>But maybe you have less trouble if you implement the interface of <code>mongoCollection</code> in your own custom class, which can then hold the state in memory. This might be easier, especially if you mock this class in many different tests.</p>\n"}],"owner":{"account_id":20516369,"reputation":3,"user_id":15056922,"display_name":"Tanish azad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75130740,"answer_count":1,"score":0,"last_activity_date":1678898766,"creation_date":1673820957,"question_id":75128766,"body_markdown":"```java\r\n    when(mongoCollection.updateOne(new Document(&quot;_id&quot;, anyString()), new Document(&quot;$set&quot;, new Document(&quot;_id&quot;, anyString()).append(&quot;funds&quot;, anyInt())), any(UpdateOptions.class)))\r\n        .then(i -&gt; fundsByAccount.put(i.getArgument(0), i.getArgument(2)));\r\n```\r\n\r\nI have this java code i take in 4 matchers, but only 3 is expected, the first `anyString()` call and the second should be same, i want to reuse it so that i&#39;ll be able to do this in only 3 matchers call.\r\n\r\n[Code snippet and error](https://i.stack.imgur.com/L5px1.png)\r\n\r\n```java\r\n    when(mongoCollection.updateOne(new Document(&quot;_id&quot;, anyString()), new Document(&quot;$set&quot;, any(Document.class).append(&quot;funds&quot;, anyInt())), any(UpdateOptions.class)))\r\n        .then(i -&gt; fundsByAccount.put(i.getArgument(0), i.getArgument(2)));\r\n```\r\n\r\nI tried this but again this takes in 4 matcher calls, i need some way to reuse already captured values","title":"Mockito Error more matchers than expected","body":"<pre class=\"lang-java prettyprint-override\"><code>    when(mongoCollection.updateOne(new Document(&quot;_id&quot;, anyString()), new Document(&quot;$set&quot;, new Document(&quot;_id&quot;, anyString()).append(&quot;funds&quot;, anyInt())), any(UpdateOptions.class)))\n        .then(i -&gt; fundsByAccount.put(i.getArgument(0), i.getArgument(2)));\n</code></pre>\n<p>I have this java code i take in 4 matchers, but only 3 is expected, the first <code>anyString()</code> call and the second should be same, i want to reuse it so that i'll be able to do this in only 3 matchers call.</p>\n<p><a href=\"https://i.stack.imgur.com/L5px1.png\" rel=\"nofollow noreferrer\">Code snippet and error</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>    when(mongoCollection.updateOne(new Document(&quot;_id&quot;, anyString()), new Document(&quot;$set&quot;, any(Document.class).append(&quot;funds&quot;, anyInt())), any(UpdateOptions.class)))\n        .then(i -&gt; fundsByAccount.put(i.getArgument(0), i.getArgument(2)));\n</code></pre>\n<p>I tried this but again this takes in 4 matcher calls, i need some way to reuse already captured values</p>\n"},{"tags":["java","hibernate","weblogic"],"owner":{"account_id":21596179,"reputation":1,"user_id":15925113,"display_name":"Stefano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678898572,"creation_date":1678888801,"question_id":75745761,"body_markdown":"I have a problem that happens randomly using this query:\r\n\r\n    testataG = (TestataG) em.createQuery(&quot;SELECT &quot; +\r\n    \t\t\t\t\t&quot;new **.**.giornali.model.TestataG(a.ean, a.descrizione, a.inserto, a.quotidiano, a.utenteCreazione, a.schedulazioneSettimanaleAuto) &quot; +\r\n    \t\t\t\t\t&quot;FROM TestataG a WHERE a.ean = :testataEan&quot;)\r\n    \t\t\t.setParameter(&quot;testataEan&quot;, ean13)\r\n    \t\t\t.getSingleResult();\r\n\r\n\r\nSometimes but not always it throws me an exception like this:\r\n\r\n    ERROR i.e.giornali.ejb.GiornaleBean - GiornaleBean - errore su query TestataG (parametri: 977278492200730009 - 5153 ): org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1542) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1581) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat **.**.giornali.ejb.GiornaleBean.findGiornale(GiornaleBean.java:47) ~[Giornali-ejb.jar:na]\r\n    \tat sun.reflect.GeneratedMethodAccessor17011.invoke(Unknown Source) ~[na:na]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_201]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_201]\r\n    \tat com.bea.core.repackaged.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\r\n    \tat com.bea.core.repackaged.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\r\n    \tat com.bea.core.repackaged.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\r\n    \tat com.oracle.pitchfork.intercept.MethodInvocationInvocationContext.proceed(MethodInvocationInvocationContext.java:101) [com.bea.core.repackaged.springframework.pitchfork.jar:12.2.1.4]\r\n    \tat com.oracle.pitchfork.intercept.JeeInterceptorInterceptor.invoke(JeeInterceptorInterceptor.java:101) [com.bea.core.repackaged.springframework.pitchfork.jar:12.2.1.4]\r\n    \tat com.bea.core.repackaged.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\r\n    \tat com.oracle.pitchfork.intercept.MethodInvocationInvocationContext.proceed(MethodInvocationInvocationContext.java:101) [com.bea.core.repackaged.springframework.pitchfork.jar:12.2.1.4]\r\n    \tat org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:64) [org.jboss.weld.weld-core.jar:2.3.2.Final]\r\n    \tat org.jboss.weld.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52) [org.jboss.weld.weld-core.jar:2.3.2.Final]\r\n    \tat sun.reflect.GeneratedMethodAccessor16947.invoke(Unknown Source) ~[na:na]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_201]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_201]\r\n    \tat com.oracle.pitchfork.intercept.JeeInterceptorInterceptor.invoke(JeeInterceptorInterceptor.java:94) [com.bea.core.repackaged.springframework.pitchfork.jar:12.2.1.4]\r\n    \tat com.bea.core.repackaged.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\r\n    \tat com.bea.core.repackaged.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\r\n    \tat com.bea.core.repackaged.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\r\n    \tat com.bea.core.repackaged.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\r\n    \tat com.bea.core.repackaged.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\r\n    \tat com.sun.proxy.$Proxy961.findGiornale(Unknown Source) [na:na]\r\n    \tat **.**.giornali.ejb.GiornaleBean_fde08y_GiornaleServiceImpl.__WL_invoke(Unknown Source) [null:na]\r\n    \tat weblogic.ejb.container.internal.SessionLocalMethodInvoker.invoke(SessionLocalMethodInvoker.java:33) [com.oracle.weblogic.ejb.jar:12.2.1.4]\r\n    \tat **.**.giornali.ejb.GiornaleBean_fde08y_GiornaleServiceImpl.findGiornale(Unknown Source) [null:na]\r\n    \tat **.**.giornali.servlet.GiornaleServlet.findGiornale(GiornaleServlet.java:35) [_wl_cls_gen.jar:na]\r\n    \tat sun.reflect.GeneratedMethodAccessor17010.invoke(Unknown Source) ~[na:na]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_201]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_201]\r\n    \tat com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:587) [gwt-servlet-2.7.0.jar:na]\r\n    \tat com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:333) [gwt-servlet-2.7.0.jar:na]\r\n    \tat com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:303) [gwt-servlet-2.7.0.jar:na]\r\n    \tat com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:373) [gwt-servlet-2.7.0.jar:na]\r\n    \tat com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62) [gwt-servlet-2.7.0.jar:na]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707) [javax.servlet.javax.servlet-api.jar:3.1.0]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet.javax.servlet-api.jar:3.1.0]\r\n    \tat weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:295) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:260) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:137) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:353) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:25) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat org.googlecode.gwt.server.filters.ServletContextFilter.doFilter(ServletContextFilter.java:29) [gwt-framework-server-4.2.3.jar:na]\r\n    \tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.servlet.internal.RequestEventsFilter.doFilter(RequestEventsFilter.java:32) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3800) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3766) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:344) [com.oracle.weblogic.security.subject.jar:12.2.1.4]\r\n    \tat weblogic.security.service.SecurityManager.runAsForUserCode(SecurityManager.java:197) [com.oracle.weblogic.security.subject.jar:12.2.1.4]\r\n    \tat weblogic.servlet.provider.WlsSecurityProvider.runAsForUserCode(WlsSecurityProvider.java:203) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:71) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.servlet.internal.WebAppServletContext.doSecuredExecute(WebAppServletContext.java:2454) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2302) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2280) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.servlet.internal.ServletRequestImpl.runInternal(ServletRequestImpl.java:1721) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1681) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.servlet.provider.ContainerSupportProviderImpl$WlsRequestExecutor.run(ContainerSupportProviderImpl.java:272) [com.oracle.weblogic.servlet.jar:12.2.1.4]\r\n    \tat weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352) [com.bea.core.utils.full.jar:12.2.1.4]\r\n    \tat weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337) [com.bea.core.utils.full.jar:12.2.1.4]\r\n    \tat weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57) [com.oracle.weblogic.work.jar:12.2.1.4]\r\n    \tat weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41) [com.bea.core.weblogic.workmanager.jar:12.2.1.4]\r\n    \tat weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:655) [com.bea.core.weblogic.workmanager.jar:12.2.1.4]\r\n    \tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:420) [com.bea.core.weblogic.workmanager.jar:12.2.1.4]\r\n    \tat weblogic.work.ExecuteThread.run(ExecuteThread.java:360) [com.bea.core.weblogic.workmanager.jar:12.2.1.4]\r\n    Caused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.loader.Loader.getResultSet(Loader.java:2341) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2094) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2056) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:953) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:350) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2887) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2869) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2701) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2696) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1415) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1565) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1533) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \t... 67 common frames omitted\r\n    Caused by: java.sql.SQLSyntaxErrorException: ORA-02067: transaction or savepoint rollback required\r\n    \tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:509) ~[ojdbc8.jar:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:461) ~[ojdbc8.jar:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1104) ~[ojdbc8.jar:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:550) ~[ojdbc8.jar:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:268) ~[ojdbc8.jar:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:655) ~[ojdbc8.jar:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:270) ~[ojdbc8.jar:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:91) ~[ojdbc8.jar:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:807) ~[ojdbc8.jar:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:983) ~[ojdbc8.jar:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1168) ~[ojdbc8.jar:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3666) ~[ojdbc8.jar:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1426) ~[ojdbc8.jar:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3713) ~[ojdbc8.jar:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1167) ~[ojdbc8.jar:19.3.0.0.0]\r\n    \tat weblogic.jdbc.wrapper.PreparedStatement.executeQuery(PreparedStatement.java:144) ~[com.bea.core.datasource6.jar:12.2.1.4]\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\r\n    \t... 82 common frames omitted\r\n    Caused by: oracle.jdbc.OracleDatabaseException: ORA-02067: transaction or savepoint rollback required\r\n    \tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:513) ~[ojdbc8.jar:19.3.0.0.0]\r\n    \t... 98 common frames omitted\r\n\r\nI don&#39;t understand the reason for this error, which doesn&#39;t depend on the parameters passed.\r\nBelow I report how the query is translated by hibernate (when it goes):\r\n\r\n    select\r\n        testatag0_.EAN as col_0_0_,\r\n        testatag0_.DESCRIZIONE as col_1_0_,\r\n        testatag0_.inserto as col_2_0_,\r\n        testatag0_.quotidiano as col_3_0_,\r\n        testatag0_.UTENTE_CREAZIONE as col_4_0_,\r\n        testatag0_.SCHED_SETT as col_5_0_ \r\n    from\r\n        TestataG testatag0_ \r\n    where\r\n        testatag0_.EAN=?\r\n\r\nI use hibernate 5.4.21.Final with Weblogic 12.2.1.4. \r\nThe problem occurs exclusively in the production environment, sometimes it returns by itself and mainly always occurs in a certain time slot.\r\nI thought there is something external but I was told me that there were no problems with the system or the db.\r\nI don&#39;t particularly understand the following oracle exception (see exception reported):\r\nORA-02067: transaction or savepoint rollback required\r\nas there are only selects and no updates, inserts or deletes.\r\nCan anyone help me? Thanks in advance.","title":"Hibernate org.hibernate.exception.SQLGrammarException with a Select query","body":"<p>I have a problem that happens randomly using this query:</p>\n<pre><code>testataG = (TestataG) em.createQuery(&quot;SELECT &quot; +\n                    &quot;new **.**.giornali.model.TestataG(a.ean, a.descrizione, a.inserto, a.quotidiano, a.utenteCreazione, a.schedulazioneSettimanaleAuto) &quot; +\n                    &quot;FROM TestataG a WHERE a.ean = :testataEan&quot;)\n            .setParameter(&quot;testataEan&quot;, ean13)\n            .getSingleResult();\n</code></pre>\n<p>Sometimes but not always it throws me an exception like this:</p>\n<pre><code>ERROR i.e.giornali.ejb.GiornaleBean - GiornaleBean - errore su query TestataG (parametri: 977278492200730009 - 5153 ): org.hibernate.exception.SQLGrammarException: could not extract ResultSet\njavax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1542) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1581) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at **.**.giornali.ejb.GiornaleBean.findGiornale(GiornaleBean.java:47) ~[Giornali-ejb.jar:na]\n    at sun.reflect.GeneratedMethodAccessor17011.invoke(Unknown Source) ~[na:na]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_201]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_201]\n    at com.bea.core.repackaged.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\n    at com.bea.core.repackaged.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\n    at com.bea.core.repackaged.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\n    at com.oracle.pitchfork.intercept.MethodInvocationInvocationContext.proceed(MethodInvocationInvocationContext.java:101) [com.bea.core.repackaged.springframework.pitchfork.jar:12.2.1.4]\n    at com.oracle.pitchfork.intercept.JeeInterceptorInterceptor.invoke(JeeInterceptorInterceptor.java:101) [com.bea.core.repackaged.springframework.pitchfork.jar:12.2.1.4]\n    at com.bea.core.repackaged.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\n    at com.oracle.pitchfork.intercept.MethodInvocationInvocationContext.proceed(MethodInvocationInvocationContext.java:101) [com.bea.core.repackaged.springframework.pitchfork.jar:12.2.1.4]\n    at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:64) [org.jboss.weld.weld-core.jar:2.3.2.Final]\n    at org.jboss.weld.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52) [org.jboss.weld.weld-core.jar:2.3.2.Final]\n    at sun.reflect.GeneratedMethodAccessor16947.invoke(Unknown Source) ~[na:na]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_201]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_201]\n    at com.oracle.pitchfork.intercept.JeeInterceptorInterceptor.invoke(JeeInterceptorInterceptor.java:94) [com.bea.core.repackaged.springframework.pitchfork.jar:12.2.1.4]\n    at com.bea.core.repackaged.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\n    at com.bea.core.repackaged.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\n    at com.bea.core.repackaged.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\n    at com.bea.core.repackaged.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\n    at com.bea.core.repackaged.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [com.bea.core.repackaged.springframework.spring.jar:12.2.1.4]\n    at com.sun.proxy.$Proxy961.findGiornale(Unknown Source) [na:na]\n    at **.**.giornali.ejb.GiornaleBean_fde08y_GiornaleServiceImpl.__WL_invoke(Unknown Source) [null:na]\n    at weblogic.ejb.container.internal.SessionLocalMethodInvoker.invoke(SessionLocalMethodInvoker.java:33) [com.oracle.weblogic.ejb.jar:12.2.1.4]\n    at **.**.giornali.ejb.GiornaleBean_fde08y_GiornaleServiceImpl.findGiornale(Unknown Source) [null:na]\n    at **.**.giornali.servlet.GiornaleServlet.findGiornale(GiornaleServlet.java:35) [_wl_cls_gen.jar:na]\n    at sun.reflect.GeneratedMethodAccessor17010.invoke(Unknown Source) ~[na:na]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_201]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_201]\n    at com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:587) [gwt-servlet-2.7.0.jar:na]\n    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:333) [gwt-servlet-2.7.0.jar:na]\n    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:303) [gwt-servlet-2.7.0.jar:na]\n    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:373) [gwt-servlet-2.7.0.jar:na]\n    at com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62) [gwt-servlet-2.7.0.jar:na]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) [javax.servlet.javax.servlet-api.jar:3.1.0]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet.javax.servlet-api.jar:3.1.0]\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:295) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:260) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:137) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:353) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:25) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at org.googlecode.gwt.server.filters.ServletContextFilter.doFilter(ServletContextFilter.java:29) [gwt-framework-server-4.2.3.jar:na]\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.servlet.internal.RequestEventsFilter.doFilter(RequestEventsFilter.java:32) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3800) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3766) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:344) [com.oracle.weblogic.security.subject.jar:12.2.1.4]\n    at weblogic.security.service.SecurityManager.runAsForUserCode(SecurityManager.java:197) [com.oracle.weblogic.security.subject.jar:12.2.1.4]\n    at weblogic.servlet.provider.WlsSecurityProvider.runAsForUserCode(WlsSecurityProvider.java:203) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:71) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.servlet.internal.WebAppServletContext.doSecuredExecute(WebAppServletContext.java:2454) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2302) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2280) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.servlet.internal.ServletRequestImpl.runInternal(ServletRequestImpl.java:1721) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1681) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.servlet.provider.ContainerSupportProviderImpl$WlsRequestExecutor.run(ContainerSupportProviderImpl.java:272) [com.oracle.weblogic.servlet.jar:12.2.1.4]\n    at weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352) [com.bea.core.utils.full.jar:12.2.1.4]\n    at weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337) [com.bea.core.utils.full.jar:12.2.1.4]\n    at weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57) [com.oracle.weblogic.work.jar:12.2.1.4]\n    at weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41) [com.bea.core.weblogic.workmanager.jar:12.2.1.4]\n    at weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:655) [com.bea.core.weblogic.workmanager.jar:12.2.1.4]\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:420) [com.bea.core.weblogic.workmanager.jar:12.2.1.4]\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:360) [com.bea.core.weblogic.workmanager.jar:12.2.1.4]\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2341) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2094) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2056) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.loader.Loader.doQuery(Loader.java:953) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:350) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2887) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2869) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2701) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.loader.Loader.list(Loader.java:2696) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1415) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1565) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1533) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    ... 67 common frames omitted\nCaused by: java.sql.SQLSyntaxErrorException: ORA-02067: transaction or savepoint rollback required\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:509) ~[ojdbc8.jar:19.3.0.0.0]\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:461) ~[ojdbc8.jar:19.3.0.0.0]\n    at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1104) ~[ojdbc8.jar:19.3.0.0.0]\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:550) ~[ojdbc8.jar:19.3.0.0.0]\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:268) ~[ojdbc8.jar:19.3.0.0.0]\n    at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:655) ~[ojdbc8.jar:19.3.0.0.0]\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:270) ~[ojdbc8.jar:19.3.0.0.0]\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:91) ~[ojdbc8.jar:19.3.0.0.0]\n    at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:807) ~[ojdbc8.jar:19.3.0.0.0]\n    at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:983) ~[ojdbc8.jar:19.3.0.0.0]\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1168) ~[ojdbc8.jar:19.3.0.0.0]\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3666) ~[ojdbc8.jar:19.3.0.0.0]\n    at oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1426) ~[ojdbc8.jar:19.3.0.0.0]\n    at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3713) ~[ojdbc8.jar:19.3.0.0.0]\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1167) ~[ojdbc8.jar:19.3.0.0.0]\n    at weblogic.jdbc.wrapper.PreparedStatement.executeQuery(PreparedStatement.java:144) ~[com.bea.core.datasource6.jar:12.2.1.4]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-5.4.21.Final.jar:5.4.21.Final]\n    ... 82 common frames omitted\nCaused by: oracle.jdbc.OracleDatabaseException: ORA-02067: transaction or savepoint rollback required\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:513) ~[ojdbc8.jar:19.3.0.0.0]\n    ... 98 common frames omitted\n</code></pre>\n<p>I don't understand the reason for this error, which doesn't depend on the parameters passed.\nBelow I report how the query is translated by hibernate (when it goes):</p>\n<pre><code>select\n    testatag0_.EAN as col_0_0_,\n    testatag0_.DESCRIZIONE as col_1_0_,\n    testatag0_.inserto as col_2_0_,\n    testatag0_.quotidiano as col_3_0_,\n    testatag0_.UTENTE_CREAZIONE as col_4_0_,\n    testatag0_.SCHED_SETT as col_5_0_ \nfrom\n    TestataG testatag0_ \nwhere\n    testatag0_.EAN=?\n</code></pre>\n<p>I use hibernate 5.4.21.Final with Weblogic 12.2.1.4.\nThe problem occurs exclusively in the production environment, sometimes it returns by itself and mainly always occurs in a certain time slot.\nI thought there is something external but I was told me that there were no problems with the system or the db.\nI don't particularly understand the following oracle exception (see exception reported):\nORA-02067: transaction or savepoint rollback required\nas there are only selects and no updates, inserts or deletes.\nCan anyone help me? Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","apache-camel","junit5"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1678905446,"post_id":75747606,"comment_id":133625587,"body_markdown":"if you are using latest camel and spring boot, hopefully this will help you to navigate this issue: https://camel.apache.org/components/3.20.x/others/test-spring-junit5.html","body":"if you are using latest camel and spring boot, hopefully this will help you to navigate this issue: <a href=\"https://camel.apache.org/components/3.20.x/others/test-spring-junit5.html\" rel=\"nofollow noreferrer\">camel.apache.org/components/3.20.x/others/&hellip;</a>"},{"owner":{"account_id":24182486,"reputation":91,"user_id":18142927,"display_name":"u4963840"},"score":0,"creation_date":1678960429,"post_id":75747606,"comment_id":133635280,"body_markdown":"That is I should add `properties = { &quot;camel.springboot.name=customName&quot; }` to `@SpringBootTest`? That Didn&#39;t help. Also `@CamelSpringTest` didn&#39;t help.","body":"That is I should add <code>properties = { &quot;camel.springboot.name=customName&quot; }</code> to <code>@SpringBootTest</code>? That Didn&#39;t help. Also <code>@CamelSpringTest</code> didn&#39;t help."},{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":1,"creation_date":1679048132,"post_id":75747606,"comment_id":133654813,"body_markdown":"Generate new project using [camel-spring-boot-archetype](https://camel.apache.org/manual/camel-maven-archetypes.html) and it shows you how to setup camel and camel unit tests. Camel 3.20.2 example unit test class only has annotations `@SpringBootTest` and `@CamelSpringBootTest` and the test works fine at least on my machine.","body":"Generate new project using <a href=\"https://camel.apache.org/manual/camel-maven-archetypes.html\" rel=\"nofollow noreferrer\">camel-spring-boot-archetype</a> and it shows you how to setup camel and camel unit tests. Camel 3.20.2 example unit test class only has annotations <code>@SpringBootTest</code> and <code>@CamelSpringBootTest</code> and the test works fine at least on my machine."},{"owner":{"account_id":24182486,"reputation":91,"user_id":18142927,"display_name":"u4963840"},"score":0,"creation_date":1679305207,"post_id":75747606,"comment_id":133691213,"body_markdown":"Tnx. Whyle I never learned what was wrong in my original post, at least this archetype helped me to get some project where I can lean and practice camel.","body":"Tnx. Whyle I never learned what was wrong in my original post, at least this archetype helped me to get some project where I can lean and practice camel."}],"owner":{"account_id":24182486,"reputation":91,"user_id":18142927,"display_name":"u4963840"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1258,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678898197,"creation_date":1678898197,"question_id":75747606,"body_markdown":"I have a very simple camel route that I want to run:\r\n```java\r\n@Component\r\npublic class MyRoute extends RouteBuilder {\r\n\r\n  @Override\r\n  public void configure() throws Exception {\r\n    from(&quot;direct:start&quot;)\r\n    .log(LoggingLevel.INFO, &quot;Hello World&quot;);\r\n  }\r\n\r\n}\r\n```\r\n\r\nTo do this I wrote a test\r\n```java\r\n@SpringBootTest\r\n@CamelSpringBootTest\r\n@DisableJmx\r\n@BootstrapWith(SpringBootTestContextBootstrapper.class)\r\npublic class MyRouteTest {\r\n\r\n  @Autowired\r\n  private ProducerTemplate producerTemplate;\r\n\r\n  @Test\r\n  void testRoute(){\r\n    producerTemplate.requestBody(&quot;direct:start&quot;, &quot;test&quot;);\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\nI get error:\r\n```\r\nUnsatisfied dependency expressed through field &#39;producerTemplate&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.apache.camel.ProducerTemplate&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n```\r\n\r\nI found something similar from here:\r\nhttps://stackoverflow.com/questions/45874617/spring-boot-camel-testing\r\n\r\nI tried @BootstrapWith and also @EnableAutoConfiguration but they don&#39;t seem to help either.\r\n","title":"Testing Camel route No qualifying bean of type &#39;org.apache.camel.ProducerTemplate&#39;","body":"<p>I have a very simple camel route that I want to run:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MyRoute extends RouteBuilder {\n\n  @Override\n  public void configure() throws Exception {\n    from(&quot;direct:start&quot;)\n    .log(LoggingLevel.INFO, &quot;Hello World&quot;);\n  }\n\n}\n</code></pre>\n<p>To do this I wrote a test</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@CamelSpringBootTest\n@DisableJmx\n@BootstrapWith(SpringBootTestContextBootstrapper.class)\npublic class MyRouteTest {\n\n  @Autowired\n  private ProducerTemplate producerTemplate;\n\n  @Test\n  void testRoute(){\n    producerTemplate.requestBody(&quot;direct:start&quot;, &quot;test&quot;);\n\n  }\n\n}\n</code></pre>\n<p>I get error:</p>\n<pre><code>Unsatisfied dependency expressed through field 'producerTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.apache.camel.ProducerTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n<p>I found something similar from here:\n<a href=\"https://stackoverflow.com/questions/45874617/spring-boot-camel-testing\">Spring Boot Camel Testing</a></p>\n<p>I tried @BootstrapWith and also @EnableAutoConfiguration but they don't seem to help either.</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":3045270,"reputation":3818,"user_id":2581128,"display_name":"lkamal"},"score":0,"creation_date":1384877243,"post_id":20076142,"comment_id":29907651,"body_markdown":"array index starts with 0, so bot of your for loops should have set the int value to 0.","body":"array index starts with 0, so bot of your for loops should have set the int value to 0."}],"answers":[{"tags":[],"owner":{"account_id":3205495,"reputation":3179,"user_id":2706605,"accept_rate":89,"display_name":"Mengjun"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1384876878,"creation_date":1384876878,"answer_id":20076260,"question_id":20076142,"body_markdown":"The index of Array should start `0` rather `1`.\r\n\r\n\r\nChange to the following code and have a try.\r\n\r\n\tpublic static int[][] timesTable(int r, int c)\r\n\t{\r\n\t    int [][] yes = new int[r][c];\r\n\t    for (int row = 0; row &lt; yes.length ; row++)\r\n\t    {\r\n\t        for (int column = 0; column &lt; yes[row].length; column++)\r\n\t        {\r\n\t             yes[row][column] = (row+1)*(column+1);\t        }\r\n\r\n\t    }\r\n\t    return yes;\r\n\t}\r\n\r\nTest code and output in console is as follows:\r\n\r\n    public class Test1 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint[][] data = new int[5][5];\r\n\t\t\r\n\t\tdata = timesTable(5,5);\r\n\t\t\r\n\t\t\r\n\t    for (int row = 0; row &lt; data.length ; row++)\r\n\t    {\r\n\t        for (int column = 0; column &lt; data[row].length; column++)\r\n\t        {\r\n\t            System.out.printf(&quot;%2d &quot;,data[row][column]);\r\n\t        }\r\n\t        System.out.println();\r\n\r\n\t    }\r\n\t}\r\n\t\r\n\tpublic static int[][] timesTable(int r, int c)\r\n\t{\r\n\t    int [][] yes = new int[r][c];\r\n\t    for (int row = 0; row &lt; yes.length ; row++)\r\n\t    {\r\n\t        for (int column = 0; column &lt; yes[row].length; column++)\r\n\t        {\r\n\t            yes[row][column] = (row+1)*(column+1);\r\n\t        }\r\n\r\n\t    }\r\n\t    return yes;\r\n\t}\r\n\r\n    }\r\n\r\nOutput in Console:\r\n\r\n     1  2  3  4  5 \r\n     2  4  6  8 10 \r\n     3  6  9 12 15 \r\n     4  8 12 16 20 \r\n     5 10 15 20 25 ","title":"Java 2D Array: Multiplication Table","body":"<p>The index of Array should start <code>0</code> rather <code>1</code>.</p>\n\n<p>Change to the following code and have a try.</p>\n\n<pre><code>public static int[][] timesTable(int r, int c)\n{\n    int [][] yes = new int[r][c];\n    for (int row = 0; row &lt; yes.length ; row++)\n    {\n        for (int column = 0; column &lt; yes[row].length; column++)\n        {\n             yes[row][column] = (row+1)*(column+1);         }\n\n    }\n    return yes;\n}\n</code></pre>\n\n<p>Test code and output in console is as follows:</p>\n\n<pre><code>public class Test1 {\n\npublic static void main(String[] args) {\n\n    int[][] data = new int[5][5];\n\n    data = timesTable(5,5);\n\n\n    for (int row = 0; row &lt; data.length ; row++)\n    {\n        for (int column = 0; column &lt; data[row].length; column++)\n        {\n            System.out.printf(\"%2d \",data[row][column]);\n        }\n        System.out.println();\n\n    }\n}\n\npublic static int[][] timesTable(int r, int c)\n{\n    int [][] yes = new int[r][c];\n    for (int row = 0; row &lt; yes.length ; row++)\n    {\n        for (int column = 0; column &lt; yes[row].length; column++)\n        {\n            yes[row][column] = (row+1)*(column+1);\n        }\n\n    }\n    return yes;\n}\n\n}\n</code></pre>\n\n<p>Output in Console:</p>\n\n<pre><code> 1  2  3  4  5 \n 2  4  6  8 10 \n 3  6  9 12 15 \n 4  8 12 16 20 \n 5 10 15 20 25 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1308679,"reputation":1372,"user_id":1257146,"accept_rate":89,"display_name":"Harry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384877261,"creation_date":1384877261,"answer_id":20076396,"question_id":20076142,"body_markdown":"If you&#39;re getting ArrayIndexOutOfBounds its because you are starting from index 1, when it should be 0.\r\n\r\nThis should do the job:\r\n\r\n    public static int[][] timesTable(int r, int c)\r\n    {\r\n        int [][] yes = new int[r][c];\r\n        for (int row = 1; row &lt;= yes.length ; row++)\r\n        {\r\n          for (int column = 1; column &lt;= yes[row].length; column++)\r\n          {\r\n            yes[row-1][column-1] = (row)*(column);\r\n          }\r\n\r\n        }\r\n        return yes;\r\n    }","title":"Java 2D Array: Multiplication Table","body":"<p>If you're getting ArrayIndexOutOfBounds its because you are starting from index 1, when it should be 0.</p>\n\n<p>This should do the job:</p>\n\n<pre><code>public static int[][] timesTable(int r, int c)\n{\n    int [][] yes = new int[r][c];\n    for (int row = 1; row &lt;= yes.length ; row++)\n    {\n      for (int column = 1; column &lt;= yes[row].length; column++)\n      {\n        yes[row-1][column-1] = (row)*(column);\n      }\n\n    }\n    return yes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5340815,"reputation":11,"user_id":4257996,"display_name":"Anurag Suman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416143175,"creation_date":1416143175,"answer_id":26957230,"question_id":20076142,"body_markdown":"\r\n    int a[][]={{2,3},{3,4}};\r\n    int b[][]={{2,3},{3,4}};\r\n    int c[][]=new int[2][2];\r\n     for(int i=0;i&lt;2;i++){\r\n     for(int j=0;j&lt;2;j++){\r\n       c[i][j]=a[i][j]*b[i][j];\r\n       System.out.print(c[i][j]+&quot;\\t&quot;); \r\n     }   \r\n     System.out.println();\r\n    }    \r\n\r\n","title":"Java 2D Array: Multiplication Table","body":"<pre><code>int a[][]={{2,3},{3,4}};\nint b[][]={{2,3},{3,4}};\nint c[][]=new int[2][2];\n for(int i=0;i&lt;2;i++){\n for(int j=0;j&lt;2;j++){\n   c[i][j]=a[i][j]*b[i][j];\n   System.out.print(c[i][j]+\"\\t\"); \n }   \n System.out.println();\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":21768596,"reputation":1,"user_id":16072058,"display_name":"twede"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678898026,"creation_date":1678898026,"answer_id":75747565,"question_id":20076142,"body_markdown":"    public static int[][] productTable(int r, int c){\r\n    int [][] table = new int[r][c];\r\n    for (int row = 0; row &lt; table.length ; row++)\r\n    {\r\n      for (int column = 0; column &lt; table[row].length; column++)\r\n         {\r\n            table[row][column] = (row)*(column);\r\n          }\r\n\r\n        }\r\n        return table;\r\n    }","title":"Java 2D Array: Multiplication Table","body":"<pre><code>public static int[][] productTable(int r, int c){\nint [][] table = new int[r][c];\nfor (int row = 0; row &lt; table.length ; row++)\n{\n  for (int column = 0; column &lt; table[row].length; column++)\n     {\n        table[row][column] = (row)*(column);\n      }\n\n    }\n    return table;\n}\n</code></pre>\n"}],"owner":{"account_id":3582979,"reputation":43,"user_id":2990722,"accept_rate":100,"display_name":"user2990722"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37764,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":20076260,"answer_count":4,"score":0,"last_activity_date":1678898026,"creation_date":1384876588,"question_id":20076142,"body_markdown":"I&#39;m not sure why my code will not work. Help please! :D\r\n\r\n    public static int[][] timesTable(int r, int c)\r\n    {\r\n        int [][] yes = new int[r][c];\r\n        for (int row = 1; row &lt;= yes.length ; row++)\r\n        {\r\n            for (int column = 1; column &lt;= yes[row].length; column++)\r\n            {\r\n                yes[row][column] = (row)*(column);\r\n            }\r\n            \r\n        }\r\n        return yes;","title":"Java 2D Array: Multiplication Table","body":"<p>I'm not sure why my code will not work. Help please! :D</p>\n\n<pre><code>public static int[][] timesTable(int r, int c)\n{\n    int [][] yes = new int[r][c];\n    for (int row = 1; row &lt;= yes.length ; row++)\n    {\n        for (int column = 1; column &lt;= yes[row].length; column++)\n        {\n            yes[row][column] = (row)*(column);\n        }\n\n    }\n    return yes;\n</code></pre>\n"},{"tags":["java","class","arraylist"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1678896263,"post_id":75747161,"comment_id":133622968,"body_markdown":"MyArray needs a private field.  The MyArray class declaration needs to define `&lt;T&gt;`.  And you will need to decide what class, exactly, you want your main method to pass to your MyArray constructor.  String.class?  Integer.class?","body":"MyArray needs a private field.  The MyArray class declaration needs to define <code>&lt;T&gt;</code>.  And you will need to decide what class, exactly, you want your main method to pass to your MyArray constructor.  String.class?  Integer.class?"}],"answers":[{"tags":[],"owner":{"account_id":11171483,"reputation":71,"user_id":8198330,"display_name":"Xavier DEJONGHE"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678898009,"creation_date":1678898009,"answer_id":75747564,"question_id":75747161,"body_markdown":"I may say so, I think you&#39;re are not doing the more useful exercice.&lt;br&gt;\r\nIndeed, you try to implement what the ArrayList already do.\r\nYou should check how the ArrayList is implemented.\r\n\r\n```java\r\npublic class ArrayList&lt;E&gt; \r\nextends AbstractList&lt;E&gt; \r\nimplements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable \r\n```\r\n\r\nAs you can see, the class use the generics.\r\n\r\nMoreover, it&#39;s a good practice to always use the contract interface to reference an object instead of the implementation.\r\n\r\nExample:\r\n```java\r\nList&lt;Integer&gt; positions = new ArrayList&lt;Integer&gt;();\r\n```\r\n\r\nI know it&#39;s just a draft code, but you should always be careful of the semantic used to name the method, class and so on.\r\nIn you&#39;re code, the method ArrSize should be start by a lower letter and have a more expressive name like printArraySize or something like that.\r\n","title":"How do i store a class in a variable in a constructor","body":"<p>I may say so, I think you're are not doing the more useful exercice.<br>\nIndeed, you try to implement what the ArrayList already do.\nYou should check how the ArrayList is implemented.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayList&lt;E&gt; \nextends AbstractList&lt;E&gt; \nimplements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable \n</code></pre>\n<p>As you can see, the class use the generics.</p>\n<p>Moreover, it's a good practice to always use the contract interface to reference an object instead of the implementation.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; positions = new ArrayList&lt;Integer&gt;();\n</code></pre>\n<p>I know it's just a draft code, but you should always be careful of the semantic used to name the method, class and so on.\nIn you're code, the method ArrSize should be start by a lower letter and have a more expressive name like printArraySize or something like that.</p>\n"}],"owner":{"account_id":26559163,"reputation":21,"user_id":20187275,"display_name":"NTZ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678898009,"creation_date":1678895891,"question_id":75747161,"body_markdown":"Hello i&#39;m new to java i&#39;m trying to store a class in a variable and then use ir to set array list type\r\n\r\ni was trying to do it like this\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class MyArray\r\n{\r\n    MyArray (class&lt;T&gt; Type)\r\n    {\r\n        ArrayList&lt;Type&gt; Arr = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public void ArrSize()\r\n    {\r\n        System.out.println(Arr.size());\r\n    }\r\n    \r\n}\r\n```\r\n```\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Main {\r\n    public static void main(String[] args)\r\n    {\r\n        MyArray Array = new MyArray(class);\r\n\r\n        Array.ArrSize();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"How do i store a class in a variable in a constructor","body":"<p>Hello i'm new to java i'm trying to store a class in a variable and then use ir to set array list type</p>\n<p>i was trying to do it like this</p>\n<pre><code>import java.util.ArrayList;\n\npublic class MyArray\n{\n    MyArray (class&lt;T&gt; Type)\n    {\n        ArrayList&lt;Type&gt; Arr = new ArrayList&lt;&gt;();\n    }\n\n    public void ArrSize()\n    {\n        System.out.println(Arr.size());\n    }\n    \n}\n</code></pre>\n<pre><code>\nimport java.util.ArrayList;\n\npublic class Main {\n    public static void main(String[] args)\n    {\n        MyArray Array = new MyArray(class);\n\n        Array.ArrSize();\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1678816761,"post_id":75729461,"comment_id":133605702,"body_markdown":"when I create the interface with the method onResult(boolean), they are telling me that the method need to have a return type, please how should I go about it @Daniel Knauf?","body":"when I create the interface with the method onResult(boolean), they are telling me that the method need to have a return type, please how should I go about it @Daniel Knauf?"},{"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"score":1,"creation_date":1678817835,"post_id":75729461,"comment_id":133605986,"body_markdown":"Ah yes sorry. Tried to do Java but am so used to Kotlin. The return type should be void. Usually you do not return anything from callbacks","body":"Ah yes sorry. Tried to do Java but am so used to Kotlin. The return type should be void. Usually you do not return anything from callbacks"},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1678888623,"post_id":75729461,"comment_id":133620348,"body_markdown":"The stuff is still requesting that I must have a return statement of type boolean when I implemented this your code @Daniel Knauf. Please any way out?","body":"The stuff is still requesting that I must have a return statement of type boolean when I implemented this your code @Daniel Knauf. Please any way out?"},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1678889372,"post_id":75729461,"comment_id":133620609,"body_markdown":"I needed a situation whereby I will only call the method if and only if the two conditions in the authentication were true","body":"I needed a situation whereby I will only call the method if and only if the two conditions in the authentication were true"},{"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"score":1,"creation_date":1678897895,"post_id":75729461,"comment_id":133623498,"body_markdown":"Sorry again for being careless. I forgot to change the return type from boolean to void : private void authenticateRegistrationNumber(...){} - I also updated my answer.","body":"Sorry again for being careless. I forgot to change the return type from boolean to void : private void authenticateRegistrationNumber(...){} - I also updated my answer."}],"tags":[],"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678897808,"creation_date":1678772668,"answer_id":75729461,"question_id":75728904,"body_markdown":"You cannot use a return value when using listener because what happens is that you add the listener and then your code keeps on executing and immediately returns `success`. If you add a Log inside the listener methods you should see it.\r\n\r\n     private boolean authenticateRegistrationNumber(String registrationNumber){\r\n                \r\n                final DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference()\r\n                        .child(&quot;Registration Numbers&quot;).child(registrationNumber);\r\n                databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                  // code runs later\r\n                });\r\n                Log.d(&quot;Main&quot;,&quot;the success status is &quot;+success);\r\n                return success;\r\n            }\r\n\r\nWhat you need is a callback which is given to your method and then called when the listener receives data and decides if the condition is `true` or `false`.\r\n\r\n    interface ResultListener {\r\n        void onResult(boolean)\r\n    }\r\n\r\n\r\n    private void authenticateRegistrationNumber(\r\n            String registrationNumber,\r\n            resultListener: ResultListener\r\n    ){\r\n               final DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference()\r\n                        .child(&quot;Registration Numbers&quot;).child(registrationNumber);\r\n                databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        if (!snapshot.exists()){\r\n                            loadingDialog.dismiss();\r\n                            success = false;\r\n                            showMessage(&quot;Error&quot;,&quot;This Registration Number does not exist in the database&quot;);\r\n                        }else {\r\n                            success = true;\r\n                        }\r\n\r\n                        listener.onResult(success)                      \r\n                    }\r\n        \r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                        listener.onResult(false)\r\n                        loadingDialog.dismiss();\r\n                        Toast.makeText(StudentRegistrationActivity.this, &quot;Database Error &quot;+error.toString(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n\r\n\r\nYou create the listener outside the method and handle any result in its callback. I would suggest that you also move the second part inside the listener callback to have a better separation\r\n\r\n    onResult(boolean success) {\r\n        if(!success) return\r\n    \r\n        final DatabaseReference studentDatabase = FirebaseDatabase.getInstance().getReference()\r\n                                        .child(&quot;Students&quot;).child(registrationNumber);\r\n                                studentDatabase.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                                    @Override\r\n                                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                                        if (snapshot.exists()){\r\n                                            success = false;\r\n                                            loadingDialog.dismiss();\r\n                                            showMessage(&quot;Error&quot;,&quot;Student with this Registration Number has Already Registered&quot;);\r\n                                        }else {\r\n                                            success = true;\r\n                                        }\r\n                                    }\r\n            \r\n                                    @Override\r\n                                    public void onCancelled(@NonNull DatabaseError error) {\r\n                                        loadingDialog.dismiss();\r\n                                        Toast.makeText(StudentRegistrationActivity.this, &quot;Database Error &quot;+error.toString(), Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                });\r\n    }\r\n\r\n                        \r\nAlso all your code which is working with the result of `authenticateRegistrationNumber()` must be placed inside the `Listener` method.","title":"how to check for multiple boolean function","body":"<p>You cannot use a return value when using listener because what happens is that you add the listener and then your code keeps on executing and immediately returns <code>success</code>. If you add a Log inside the listener methods you should see it.</p>\n<pre><code> private boolean authenticateRegistrationNumber(String registrationNumber){\n            \n            final DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference()\n                    .child(&quot;Registration Numbers&quot;).child(registrationNumber);\n            databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n              // code runs later\n            });\n            Log.d(&quot;Main&quot;,&quot;the success status is &quot;+success);\n            return success;\n        }\n</code></pre>\n<p>What you need is a callback which is given to your method and then called when the listener receives data and decides if the condition is <code>true</code> or <code>false</code>.</p>\n<pre><code>interface ResultListener {\n    void onResult(boolean)\n}\n\n\nprivate void authenticateRegistrationNumber(\n        String registrationNumber,\n        resultListener: ResultListener\n){\n           final DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference()\n                    .child(&quot;Registration Numbers&quot;).child(registrationNumber);\n            databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                    if (!snapshot.exists()){\n                        loadingDialog.dismiss();\n                        success = false;\n                        showMessage(&quot;Error&quot;,&quot;This Registration Number does not exist in the database&quot;);\n                    }else {\n                        success = true;\n                    }\n\n                    listener.onResult(success)                      \n                }\n    \n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n                    listener.onResult(false)\n                    loadingDialog.dismiss();\n                    Toast.makeText(StudentRegistrationActivity.this, &quot;Database Error &quot;+error.toString(), Toast.LENGTH_SHORT).show();\n                }\n            });\n        }\n</code></pre>\n<p>You create the listener outside the method and handle any result in its callback. I would suggest that you also move the second part inside the listener callback to have a better separation</p>\n<pre><code>onResult(boolean success) {\n    if(!success) return\n\n    final DatabaseReference studentDatabase = FirebaseDatabase.getInstance().getReference()\n                                    .child(&quot;Students&quot;).child(registrationNumber);\n                            studentDatabase.addListenerForSingleValueEvent(new ValueEventListener() {\n                                @Override\n                                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                                    if (snapshot.exists()){\n                                        success = false;\n                                        loadingDialog.dismiss();\n                                        showMessage(&quot;Error&quot;,&quot;Student with this Registration Number has Already Registered&quot;);\n                                    }else {\n                                        success = true;\n                                    }\n                                }\n        \n                                @Override\n                                public void onCancelled(@NonNull DatabaseError error) {\n                                    loadingDialog.dismiss();\n                                    Toast.makeText(StudentRegistrationActivity.this, &quot;Database Error &quot;+error.toString(), Toast.LENGTH_SHORT).show();\n                                }\n                            });\n}\n\n                    \n</code></pre>\n<p>Also all your code which is working with the result of <code>authenticateRegistrationNumber()</code> must be placed inside the <code>Listener</code> method.</p>\n"}],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678897808,"creation_date":1678765304,"question_id":75728904,"body_markdown":"I am trying to validate the registration number of a student before registration with firebase. I a created a method of type Boolean to validate the info but the issue I am having is that the method returns false even when the two conditions were true. I don&#39;t really know what I did wrong. thanks for your contributions\r\n        \r\n        private boolean success = false;\r\n        \r\n        \r\n        private boolean authenticateRegistrationNumber(String registrationNumber){\r\n                \r\n                final DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference()\r\n                        .child(&quot;Registration Numbers&quot;).child(registrationNumber);\r\n                databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        if (!snapshot.exists()){\r\n                            loadingDialog.dismiss();\r\n                            success = false;\r\n                            showMessage(&quot;Error&quot;,&quot;This Registration Number does not exist in the database&quot;);\r\n                        }else {\r\n                            success = true;\r\n                        }\r\n                        if (success){\r\n        \r\n                            final DatabaseReference studentDatabase = FirebaseDatabase.getInstance().getReference()\r\n                                    .child(&quot;Students&quot;).child(registrationNumber);\r\n                            studentDatabase.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                                @Override\r\n                                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                                    if (snapshot.exists()){\r\n                                        success = false;\r\n                                        loadingDialog.dismiss();\r\n                                        showMessage(&quot;Error&quot;,&quot;Student with this Registration Number has Already Registered&quot;);\r\n                                    }else {\r\n                                        success = true;\r\n                                    }\r\n                                }\r\n        \r\n                                @Override\r\n                                public void onCancelled(@NonNull DatabaseError error) {\r\n                                    loadingDialog.dismiss();\r\n                                    Toast.makeText(StudentRegistrationActivity.this, &quot;Database Error &quot;+error.toString(), Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                        }\r\n        \r\n                    }\r\n        \r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                        loadingDialog.dismiss();\r\n                        Toast.makeText(StudentRegistrationActivity.this, &quot;Database Error &quot;+error.toString(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n                Log.d(&quot;Main&quot;,&quot;the success status is &quot;+success);\r\n                return success;\r\n            }\r\n\r\n","title":"how to check for multiple boolean function","body":"<p>I am trying to validate the registration number of a student before registration with firebase. I a created a method of type Boolean to validate the info but the issue I am having is that the method returns false even when the two conditions were true. I don't really know what I did wrong. thanks for your contributions</p>\n<pre><code>    private boolean success = false;\n    \n    \n    private boolean authenticateRegistrationNumber(String registrationNumber){\n            \n            final DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference()\n                    .child(&quot;Registration Numbers&quot;).child(registrationNumber);\n            databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                    if (!snapshot.exists()){\n                        loadingDialog.dismiss();\n                        success = false;\n                        showMessage(&quot;Error&quot;,&quot;This Registration Number does not exist in the database&quot;);\n                    }else {\n                        success = true;\n                    }\n                    if (success){\n    \n                        final DatabaseReference studentDatabase = FirebaseDatabase.getInstance().getReference()\n                                .child(&quot;Students&quot;).child(registrationNumber);\n                        studentDatabase.addListenerForSingleValueEvent(new ValueEventListener() {\n                            @Override\n                            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                                if (snapshot.exists()){\n                                    success = false;\n                                    loadingDialog.dismiss();\n                                    showMessage(&quot;Error&quot;,&quot;Student with this Registration Number has Already Registered&quot;);\n                                }else {\n                                    success = true;\n                                }\n                            }\n    \n                            @Override\n                            public void onCancelled(@NonNull DatabaseError error) {\n                                loadingDialog.dismiss();\n                                Toast.makeText(StudentRegistrationActivity.this, &quot;Database Error &quot;+error.toString(), Toast.LENGTH_SHORT).show();\n                            }\n                        });\n                    }\n    \n                }\n    \n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n                    loadingDialog.dismiss();\n                    Toast.makeText(StudentRegistrationActivity.this, &quot;Database Error &quot;+error.toString(), Toast.LENGTH_SHORT).show();\n                }\n            });\n            Log.d(&quot;Main&quot;,&quot;the success status is &quot;+success);\n            return success;\n        }\n</code></pre>\n"},{"tags":["java","android","mvvm","fragment","android-jetpack"],"comments":[{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1587749131,"post_id":61395560,"comment_id":108641512,"body_markdown":"&quot;All theses four codes are failed&quot; - do you get runtime errors? If yes, what error messages are there in Logcat? And please show more of your code/ project structure (what about the ViewModel? and its parent class, constructor, ...) *TL;DR* please add enough information so that we can set up a small sample app and try to reproduce the error","body":"&quot;All theses four codes are failed&quot; - do you get runtime errors? If yes, what error messages are there in Logcat? And please show more of your code/ project structure (what about the ViewModel? and its parent class, constructor, ...) <i>TL;DR</i> please add enough information so that we can set up a small sample app and try to reproduce the error"},{"owner":{"account_id":10487899,"reputation":414,"user_id":7730795,"accept_rate":50,"display_name":"Manan"},"score":1,"creation_date":1587797214,"post_id":61395560,"comment_id":108655078,"body_markdown":"I have solved it. actually it was room annotation dependency which was failing me to create the database singletone object and eventually failing to initialize the viewmodel.","body":"I have solved it. actually it was room annotation dependency which was failing me to create the database singletone object and eventually failing to initialize the viewmodel."},{"owner":{"account_id":4405649,"reputation":1782,"user_id":3590155,"accept_rate":60,"display_name":"Leonardo Sibela"},"score":0,"creation_date":1698545838,"post_id":61395560,"comment_id":136418911,"body_markdown":"@Manan if my answer helped you or if it is correct according to your question, please, considere accepting it :)","body":"@Manan if my answer helped you or if it is correct according to your question, please, considere accepting it :)"}],"answers":[{"comments":[{"owner":{"account_id":10487899,"reputation":414,"user_id":7730795,"accept_rate":50,"display_name":"Manan"},"score":0,"creation_date":1587698090,"post_id":61395648,"comment_id":108618761,"body_markdown":"ViewModelProviders is depreciated. In the [docs](https://developer.android.com/reference/androidx/lifecycle/ViewModelProviders) it is told to use the ViewModelProvider constructor directly.","body":"ViewModelProviders is depreciated. In the <a href=\"https://developer.android.com/reference/androidx/lifecycle/ViewModelProviders\" rel=\"nofollow noreferrer\">docs</a> it is told to use the ViewModelProvider constructor directly."}],"tags":[],"owner":{"account_id":17166193,"reputation":1363,"user_id":12424486,"display_name":"MustafaKhaled"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1587723465,"creation_date":1587671035,"answer_id":61395648,"question_id":61395560,"body_markdown":"Initializing your viewModel goes like: \r\n\r\nif you are using \r\n\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.0.0&#39;\r\nand Intialize your viewModel\r\n\r\n    viewModel = ViewModelProviders.of(this,viewModelFactory).get(MyViewModel.class);\r\n\r\nbut it&#39;s deprecated now. \r\nSo update the dependency to: \r\n\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n\r\nand initial your viewModel as follow: \r\n\r\n    viewModel = new ViewModelProvider(this,viewModelFactory).get(MyViewModel.class);\r\n\r\n\r\nviewModelFactory is optional.","title":"Initializing ViewModel in fragment Android java","body":"<p>Initializing your viewModel goes like: </p>\n\n<p>if you are using </p>\n\n<pre><code>implementation 'androidx.lifecycle:lifecycle-extensions:2.0.0'\n</code></pre>\n\n<p>and Intialize your viewModel</p>\n\n<pre><code>viewModel = ViewModelProviders.of(this,viewModelFactory).get(MyViewModel.class);\n</code></pre>\n\n<p>but it's deprecated now. \nSo update the dependency to: </p>\n\n<pre><code>implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n</code></pre>\n\n<p>and initial your viewModel as follow: </p>\n\n<pre><code>viewModel = new ViewModelProvider(this,viewModelFactory).get(MyViewModel.class);\n</code></pre>\n\n<p>viewModelFactory is optional.</p>\n"},{"tags":[],"owner":{"account_id":4405649,"reputation":1782,"user_id":3590155,"accept_rate":60,"display_name":"Leonardo Sibela"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678897391,"creation_date":1678897391,"answer_id":75747431,"question_id":61395560,"body_markdown":"You can initialize it like this:\r\n\r\n```kotlin\r\nclass FooFragment : Fragment() {\r\n\r\n    private lateinit var viewModel: MyViewModel\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        viewModel = ViewModelProvider(this)[MyViewModel::class.java]\r\n    }\r\n}\r\n```\r\n\r\n&lt;br&gt;\r\n\r\nNow, if your viewmodel receives a parameter, you can do it like this:\r\n\r\n```kotlin\r\nclass MyViewModel(application, Application, bar: Bar) : AndroidViewModel(application) {\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\nclass FooViewModelFactory(val application: Application, val foo: Foo): ViewModelProvider.AndroidViewModelFactory(application) {\r\n\r\n    override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;): T {\r\n        return FooViewModel(application, foo) as T\r\n    }\r\n}\r\n```","title":"Initializing ViewModel in fragment Android java","body":"<p>You can initialize it like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class FooFragment : Fragment() {\n\n    private lateinit var viewModel: MyViewModel\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        viewModel = ViewModelProvider(this)[MyViewModel::class.java]\n    }\n}\n</code></pre>\n<br>\n<p>Now, if your viewmodel receives a parameter, you can do it like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyViewModel(application, Application, bar: Bar) : AndroidViewModel(application) {\n\n}\n\n</code></pre>\n<pre><code>class FooViewModelFactory(val application: Application, val foo: Foo): ViewModelProvider.AndroidViewModelFactory(application) {\n\n    override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;): T {\n        return FooViewModel(application, foo) as T\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10487899,"reputation":414,"user_id":7730795,"accept_rate":50,"display_name":"Manan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7300,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1678897391,"creation_date":1587670722,"question_id":61395560,"body_markdown":"I am trying to initialize my viewmodel object in the `FirstFragment.java` file of `BasicActivity`. All theses four codes are failed. The documentation could not help me much. \r\n \r\n    mViewModel = new ViewModelProvider(this).get(MyViewModel.class);\r\n    mViewModel = new ViewModelProvider(requireActivity()).get(MyViewModel.class);\r\n    mViewModel = new ViewModelProvider(getActivity()).get(MyViewModel.class);\r\n    mViewModel = new ViewModelProvider(FirstFragment.class).get(MyViewModel.class);\r\n\r\nOn the other hand, `public ViewModelProvider(@NonNull ViewModelStoreOwner owner)` ViewModelProvider is taking ViewModelStoreOwner as its parameter and in the `FragmentActivity.java` `ViewModelStore getViewModelStore()` method of `ViewModelStore` interface is implemented may be in a factory pattern. \r\n\r\n    @NonNull\r\n            @Override\r\n            public ViewModelStore getViewModelStore() {\r\n                return FragmentActivity.this.getViewModelStore();\r\n            }\r\n\r\nHelp me initializing ViewModel","title":"Initializing ViewModel in fragment Android java","body":"<p>I am trying to initialize my viewmodel object in the <code>FirstFragment.java</code> file of <code>BasicActivity</code>. All theses four codes are failed. The documentation could not help me much. </p>\n\n<pre><code>mViewModel = new ViewModelProvider(this).get(MyViewModel.class);\nmViewModel = new ViewModelProvider(requireActivity()).get(MyViewModel.class);\nmViewModel = new ViewModelProvider(getActivity()).get(MyViewModel.class);\nmViewModel = new ViewModelProvider(FirstFragment.class).get(MyViewModel.class);\n</code></pre>\n\n<p>On the other hand, <code>public ViewModelProvider(@NonNull ViewModelStoreOwner owner)</code> ViewModelProvider is taking ViewModelStoreOwner as its parameter and in the <code>FragmentActivity.java</code> <code>ViewModelStore getViewModelStore()</code> method of <code>ViewModelStore</code> interface is implemented may be in a factory pattern. </p>\n\n<pre><code>@NonNull\n        @Override\n        public ViewModelStore getViewModelStore() {\n            return FragmentActivity.this.getViewModelStore();\n        }\n</code></pre>\n\n<p>Help me initializing ViewModel</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":7815822,"reputation":8701,"user_id":5910563,"display_name":"Horia Coman"},"score":0,"creation_date":1500184710,"post_id":45125497,"comment_id":77221318,"body_markdown":"There&#39;s not really enough context for us to understand what you&#39;re asking. But indeed, if the key space is larger than your table, you&#39;re guaranteed to get collisions sometimes.","body":"There&#39;s not really enough context for us to understand what you&#39;re asking. But indeed, if the key space is larger than your table, you&#39;re guaranteed to get collisions sometimes."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1500189941,"post_id":45125497,"comment_id":77222324,"body_markdown":"The code in the title is a newer version of `HashMap#hash` but the explanation of the dupe still works.","body":"The code in the title is a newer version of <code>HashMap#hash</code> but the explanation of the dupe still works."},{"owner":{"account_id":4427703,"reputation":3041,"user_id":3605712,"accept_rate":97,"display_name":"Malakai"},"score":0,"creation_date":1500191581,"post_id":45125497,"comment_id":77222706,"body_markdown":"Please provide  code so we could reproduce your issue.","body":"Please provide  code so we could reproduce your issue."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1500213289,"post_id":45125497,"comment_id":77228261,"body_markdown":"Java uses polynomial hashing everywhere.  This has the unfortunate result that the lower N bits of a hash only depend on the lower N bits of all the data items being hashed.  In a hashmap of even integers, for example, using a power-of-two table length and masking to generate the bucket index would leave *half the buckets in the hash table completely unused!*  Such patterns in the data are common, so this is a real problem.","body":"Java uses polynomial hashing everywhere.  This has the unfortunate result that the lower N bits of a hash only depend on the lower N bits of all the data items being hashed.  In a hashmap of even integers, for example, using a power-of-two table length and masking to generate the bucket index would leave <i>half the buckets in the hash table completely unused!</i>  Such patterns in the data are common, so this is a real problem."}],"answers":[{"comments":[{"owner":{"account_id":10046659,"reputation":363,"user_id":7624033,"display_name":"caisil"},"score":0,"creation_date":1500211721,"post_id":45126036,"comment_id":77227778,"body_markdown":"&quot;This will cause lots of collisions if your object&#39;s hashcode only differ in the upper bits.&quot; This scenario is right, but what if for the scenario that lower bits are different. I think by shifting the upper 8 bit downward, the main purpose of JDK programmer is not trying to avoid collision but promote calculation speed.","body":"&quot;This will cause lots of collisions if your object&#39;s hashcode only differ in the upper bits.&quot; This scenario is right, but what if for the scenario that lower bits are different. I think by shifting the upper 8 bit downward, the main purpose of JDK programmer is not trying to avoid collision but promote calculation speed."},{"owner":{"account_id":8180268,"reputation":604,"user_id":6157725,"display_name":"Evan Darke"},"score":1,"creation_date":1500226018,"post_id":45126036,"comment_id":77232125,"body_markdown":"@caisil As Tom pointed out, this code comes from JDK8&#39;s HashMap. The Javadoc comment states the purpose of the function is to &#39;spread the impact of the higher bits downward&#39; and that the quality of spreading comes at the cost of speed. To be clear, the index is now computed as (hashcode ^ (hashcode &gt;&gt;&gt; 16)) % table.length; So it is strictly slower than the naive calculation.","body":"@caisil As Tom pointed out, this code comes from JDK8&#39;s HashMap. The Javadoc comment states the purpose of the function is to &#39;spread the impact of the higher bits downward&#39; and that the quality of spreading comes at the cost of speed. To be clear, the index is now computed as (hashcode ^ (hashcode &gt;&gt;&gt; 16)) % table.length; So it is strictly slower than the naive calculation."},{"owner":{"account_id":10046659,"reputation":363,"user_id":7624033,"display_name":"caisil"},"score":0,"creation_date":1500259606,"post_id":45126036,"comment_id":77239880,"body_markdown":"No, I don&#39;t think so. From the `putVal` of HashMap, we can see the index is represented by `(n - 1) &amp; hash`, `hash ` is equal to `hashcode ^ (hashcode &gt;&gt;&gt; 16)`. These are all about bit operation no modulo, and [mudulo is slower than bitwise operation](http://www.theeggeadventure.com/wikimedia/index.php/And_vs_Modulo_performance).","body":"No, I don&#39;t think so. From the <code>putVal</code> of HashMap, we can see the index is represented by <code>(n - 1) &amp; hash</code>, <code>hash </code> is equal to <code>hashcode ^ (hashcode &gt;&gt;&gt; 16)</code>. These are all about bit operation no modulo, and <a href=\"http://www.theeggeadventure.com/wikimedia/index.php/And_vs_Modulo_performance\" rel=\"nofollow noreferrer\">mudulo is slower than bitwise operation</a>."},{"owner":{"account_id":8180268,"reputation":604,"user_id":6157725,"display_name":"Evan Darke"},"score":2,"creation_date":1500279011,"post_id":45126036,"comment_id":77246995,"body_markdown":"@caisil Yes, I&#39;m aware. hash % table.length is mathematically equivalent to (n - 1) &amp; hash where n = table.length and table.length is a power of two. But the bitshift and XOR that OP asked about has nothing to do with it. The bitshifting is a common technique used to improve the quality of poor hash functions.","body":"@caisil Yes, I&#39;m aware. hash % table.length is mathematically equivalent to (n - 1) &amp; hash where n = table.length and table.length is a power of two. But the bitshift and XOR that OP asked about has nothing to do with it. The bitshifting is a common technique used to improve the quality of poor hash functions."}],"tags":[],"owner":{"account_id":8180268,"reputation":604,"user_id":6157725,"display_name":"Evan Darke"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1500189552,"creation_date":1500189218,"answer_id":45126036,"question_id":45125497,"body_markdown":"Let&#39;s say you naively index into a hashtable using\r\n\r\n    int index = hashcode % table.length;\r\n\r\nThis may lead to many collisions in some common use cases. For example, assume table.length is a small power of two (like 32 or 64). In this case only the low order bits of the hashcode determine the index. This will cause lots of collisions if your object&#39;s hashcode only differ in the upper bits. The bit shift allows the upper bits of the hashcode to also influence the computed index.\r\n\r\n","title":"Why return (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16) other than key.hashcode?","body":"<p>Let's say you naively index into a hashtable using</p>\n\n<pre><code>int index = hashcode % table.length;\n</code></pre>\n\n<p>This may lead to many collisions in some common use cases. For example, assume table.length is a small power of two (like 32 or 64). In this case only the low order bits of the hashcode determine the index. This will cause lots of collisions if your object's hashcode only differ in the upper bits. The bit shift allows the upper bits of the hashcode to also influence the computed index.</p>\n"},{"comments":[{"owner":{"account_id":10046659,"reputation":363,"user_id":7624033,"display_name":"caisil"},"score":0,"creation_date":1500330170,"post_id":45140621,"comment_id":77278180,"body_markdown":"As you say, &quot;The reason that XOR is used - because it has 50/50% distribution of 1 and 0&quot;. Since to acheive nice distributed hash function, why not choose a random 32 bit like 101001....11 do XOR with the original key.hashcode, just curious. By spreading the higher 16 bit downward in JDK, the higher bit will be omitted if the table.length is larger 2^16.","body":"As you say, &quot;The reason that XOR is used - because it has 50/50% distribution of 1 and 0&quot;. Since to acheive nice distributed hash function, why not choose a random 32 bit like 101001....11 do XOR with the original key.hashcode, just curious. By spreading the higher 16 bit downward in JDK, the higher bit will be omitted if the table.length is larger 2^16."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1500365553,"post_id":45140621,"comment_id":77290390,"body_markdown":"@caisil what do you mean they will be omitted? even if there are more then 2 pow 16 buckets, the bits to decide the bucket are still taken into consideration, I don&#39;t get it... and about the random number, if you&#39;re hashcode has the last 16 bits the same, XOR with a random number will yield the same result same result (last 16 bits) for all those entries and obviously you don&#39;t want that.","body":"@caisil what do you mean they will be omitted? even if there are more then 2 pow 16 buckets, the bits to decide the bucket are still taken into consideration, I don&#39;t get it... and about the random number, if you&#39;re hashcode has the last 16 bits the same, XOR with a random number will yield the same result same result (last 16 bits) for all those entries and obviously you don&#39;t want that."}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1500284027,"creation_date":1500284027,"answer_id":45140621,"question_id":45125497,"body_markdown":"The reason for that is in the comments:\r\n\r\n &gt; Computes key.hashCode() and spreads (XORs) higher bits of hash to lower.  Because the table uses power-of-two masking, sets of hashes that vary only in bits above the current mask will always collide. (Among known examples are sets of Float keys holding consecutive whole numbers in small tables.)\r\n\r\nWhat that is saying in simple words is that `Key#hashcode` (last bits that we care about) would be the same for Keys that are actually different. And that would create collisions since these entries will end-up in the same bucket. \r\n\r\nWhere an Entry goes is decided based on the number of existing buckets or from the last n - bits as you have already seen from :\r\n\r\n    int index = (n - 1) &amp; hash\r\n\r\n If hashmap would not re-hash again - it means that entries that don&#39;t differ in those last bits would end up in the same bucket, search time == slower. \r\n\r\nThe reason that `XOR` is used - because it has 50/50% distribution of `1` and `0` (as opposed to `|` or `&amp;` that have 75/25 or 25/75). \r\n\r\nAnd the `&amp;` operation is used instead of `%`, not for speed only, but because hashcodes are `int`s and can be negative. modulo on a negative number will be negative - meaning a negative bucket... Thus `&amp;` is used which will generate a positive index. \r\n","title":"Why return (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16) other than key.hashcode?","body":"<p>The reason for that is in the comments:</p>\n\n<blockquote>\n  <p>Computes key.hashCode() and spreads (XORs) higher bits of hash to lower.  Because the table uses power-of-two masking, sets of hashes that vary only in bits above the current mask will always collide. (Among known examples are sets of Float keys holding consecutive whole numbers in small tables.)</p>\n</blockquote>\n\n<p>What that is saying in simple words is that <code>Key#hashcode</code> (last bits that we care about) would be the same for Keys that are actually different. And that would create collisions since these entries will end-up in the same bucket. </p>\n\n<p>Where an Entry goes is decided based on the number of existing buckets or from the last n - bits as you have already seen from :</p>\n\n<pre><code>int index = (n - 1) &amp; hash\n</code></pre>\n\n<p>If hashmap would not re-hash again - it means that entries that don't differ in those last bits would end up in the same bucket, search time == slower. </p>\n\n<p>The reason that <code>XOR</code> is used - because it has 50/50% distribution of <code>1</code> and <code>0</code> (as opposed to <code>|</code> or <code>&amp;</code> that have 75/25 or 25/75). </p>\n\n<p>And the <code>&amp;</code> operation is used instead of <code>%</code>, not for speed only, but because hashcodes are <code>int</code>s and can be negative. modulo on a negative number will be negative - meaning a negative bucket... Thus <code>&amp;</code> is used which will generate a positive index. </p>\n"},{"tags":[],"owner":{"account_id":8859262,"reputation":405,"user_id":6615961,"display_name":"Zied Yazidi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678897279,"creation_date":1678897279,"answer_id":75747415,"question_id":45125497,"body_markdown":"Using `h ^ (h &gt; &gt; &gt; 16)` shifts the higher-order bits in the hashCode, to the right and spreads the effect to the lower bits using XOR operation so that those actually participate in the index calculation logic and eventually helps in avoiding collisions.  \r\nIt is clearly explained in this link with examples:\r\nhttps://jvmaware.com/hashcode-calculation/","title":"Why return (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16) other than key.hashcode?","body":"<p>Using <code>h ^ (h &gt; &gt; &gt; 16)</code> shifts the higher-order bits in the hashCode, to the right and spreads the effect to the lower bits using XOR operation so that those actually participate in the index calculation logic and eventually helps in avoiding collisions.<br />\nIt is clearly explained in this link with examples:\n<a href=\"https://jvmaware.com/hashcode-calculation/\" rel=\"nofollow noreferrer\">https://jvmaware.com/hashcode-calculation/</a></p>\n"}],"owner":{"account_id":10046659,"reputation":363,"user_id":7624033,"display_name":"caisil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3874,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1678897279,"creation_date":1500184355,"question_id":45125497,"body_markdown":"I don&#39;t see this approach avoid the collision. I think if the key.hashcode is larger than table.length, there will be collision.\r\n\r\nUpdates：\r\nActually I refer to the `HashMap#hash` in JDK 1.8, and was a little confused about the benifit of spread the higher bits downward.\r\nNow, I think I&#39;m clear with the help of this [link](https://stackoverflow.com/questions/2414117/explanation-of-hashmaphashint-method), the benifits is:\r\n\r\n- We don&#39;t need to do the % calculation, but using a more faster way - bit shift.\r\n\r\nFor the collision, if the number of key is larger than the length of the table, then there will be a collision no matter what hash method is used.","title":"Why return (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16) other than key.hashcode?","body":"<p>I don't see this approach avoid the collision. I think if the key.hashcode is larger than table.length, there will be collision.</p>\n\n<p>Updates：\nActually I refer to the <code>HashMap#hash</code> in JDK 1.8, and was a little confused about the benifit of spread the higher bits downward.\nNow, I think I'm clear with the help of this <a href=\"https://stackoverflow.com/questions/2414117/explanation-of-hashmaphashint-method\">link</a>, the benifits is:</p>\n\n<ul>\n<li>We don't need to do the % calculation, but using a more faster way - bit shift.</li>\n</ul>\n\n<p>For the collision, if the number of key is larger than the length of the table, then there will be a collision no matter what hash method is used.</p>\n"},{"tags":["java","android","xml","hyperlink"],"comments":[{"owner":{"account_id":342351,"reputation":1344,"user_id":3187366,"accept_rate":54,"display_name":"issamux"},"score":0,"creation_date":1600815811,"post_id":56523065,"comment_id":113206069,"body_markdown":"same issue when using LinkMovementMethod.getInstance() , the text is no more justified","body":"same issue when using LinkMovementMethod.getInstance() , the text is no more justified"},{"owner":{"account_id":1440678,"reputation":2393,"user_id":1360930,"accept_rate":79,"display_name":"qkx"},"score":0,"creation_date":1606810762,"post_id":56523065,"comment_id":115067495,"body_markdown":"same issue. I guess its (another) bug in android","body":"same issue. I guess its (another) bug in android"},{"owner":{"account_id":1901580,"reputation":1558,"user_id":1717339,"accept_rate":53,"display_name":"rams"},"score":0,"creation_date":1614151883,"post_id":56523065,"comment_id":117294643,"body_markdown":"Any solution for this @Martin","body":"Any solution for this @Martin"},{"owner":{"account_id":9664503,"reputation":225,"user_id":7171394,"display_name":"Martin Rupert Bulquerin"},"score":0,"creation_date":1614607139,"post_id":56523065,"comment_id":117428528,"body_markdown":"@ram sorry man I have no solution on this issue.","body":"@ram sorry man I have no solution on this issue."}],"owner":{"account_id":9664503,"reputation":225,"user_id":7171394,"display_name":"Martin Rupert Bulquerin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":0,"score":14,"last_activity_date":1678897158,"creation_date":1560156020,"question_id":56523065,"body_markdown":"This is my XML code:\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txt_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/img_banner&quot;\r\n        android:justificationMode=&quot;inter_word&quot;\r\n        android:paddingEnd=&quot;@dimen/margin_size&quot;\r\n        android:paddingStart=&quot;@dimen/margin_size&quot;\r\n        android:paddingTop=&quot;@dimen/margin_size&quot;\r\n        android:linksClickable=&quot;true&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:autoLink=&quot;web&quot;\r\n        android:layout_marginTop=&quot;@dimen/spacing&quot;\r\n        android:textSize=&quot;15sp&quot; /&gt;\r\nAnd, I&#39;m using this code to allow clickable links in `textview`:\r\n\r\n    txtView.setMovementMethod(LinkMovementMethod.getInstance());\r\nWithout `setMovementMethod()`, the text is justified but the links aren&#39;t clickable. And, when I set `setMovementMethod()` the links are clickable but the justification is disabled.","title":"textView.setMovementMethod(LinkMovementMethod.getInstance()) is removing justification in textview","body":"<p>This is my XML code:</p>\n<pre><code>&lt;TextView\n    android:id=&quot;@+id/txt_content&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_below=&quot;@id/img_banner&quot;\n    android:justificationMode=&quot;inter_word&quot;\n    android:paddingEnd=&quot;@dimen/margin_size&quot;\n    android:paddingStart=&quot;@dimen/margin_size&quot;\n    android:paddingTop=&quot;@dimen/margin_size&quot;\n    android:linksClickable=&quot;true&quot;\n    android:clickable=&quot;true&quot;\n    android:focusable=&quot;true&quot;\n    android:autoLink=&quot;web&quot;\n    android:layout_marginTop=&quot;@dimen/spacing&quot;\n    android:textSize=&quot;15sp&quot; /&gt;\n</code></pre>\n<p>And, I'm using this code to allow clickable links in <code>textview</code>:</p>\n<pre><code>txtView.setMovementMethod(LinkMovementMethod.getInstance());\n</code></pre>\n<p>Without <code>setMovementMethod()</code>, the text is justified but the links aren't clickable. And, when I set <code>setMovementMethod()</code> the links are clickable but the justification is disabled.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":543582,"reputation":2626,"user_id":912772,"accept_rate":32,"display_name":"vic"},"score":0,"creation_date":1678895860,"post_id":75741339,"comment_id":133622845,"body_markdown":"Thanks for the info. After adding the extension JpaSpecificationExecutor&lt;Foo&gt;, I get the second set of errors for some reason.","body":"Thanks for the info. After adding the extension JpaSpecificationExecutor&lt;Foo&gt;, I get the second set of errors for some reason."},{"owner":{"account_id":543582,"reputation":2626,"user_id":912772,"accept_rate":32,"display_name":"vic"},"score":0,"creation_date":1678896439,"post_id":75741339,"comment_id":133623031,"body_markdown":"Not sure whether it is something messed up in my IDE or not.","body":"Not sure whether it is something messed up in my IDE or not."},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1678896555,"post_id":75741339,"comment_id":133623061,"body_markdown":"What set of errors you got?","body":"What set of errors you got?"},{"owner":{"account_id":543582,"reputation":2626,"user_id":912772,"accept_rate":32,"display_name":"vic"},"score":0,"creation_date":1678898504,"post_id":75741339,"comment_id":133623703,"body_markdown":"The second set, I mentioned in my post. Its client classes don&#39;t recognize it anymore. I can build the project outside of IntelliJ Idea. So, it is something wrong with Idea. I need to ask the Intellij about the error.","body":"The second set, I mentioned in my post. Its client classes don&#39;t recognize it anymore. I can build the project outside of IntelliJ Idea. So, it is something wrong with Idea. I need to ask the Intellij about the error."},{"owner":{"account_id":543582,"reputation":2626,"user_id":912772,"accept_rate":32,"display_name":"vic"},"score":0,"creation_date":1678898687,"post_id":75741339,"comment_id":133623759,"body_markdown":"By the way, the solution was provided by ChatGPT. It missed mentioning the JpaSpecification extension. My post likely would get deleted if I didn&#39;t mention ChatGPT in my post.","body":"By the way, the solution was provided by ChatGPT. It missed mentioning the JpaSpecification extension. My post likely would get deleted if I didn&#39;t mention ChatGPT in my post."}],"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678863520,"creation_date":1678863128,"answer_id":75741339,"question_id":75740973,"body_markdown":"Your repository should, in addition to `JpaRepository`, extend [`JpaSpecificationExecutor`][1] which provides several methods for `Specification`s execution including the `Optional&lt;T&gt; findOne(Specification&lt;T&gt; spec)`.\r\n\r\n```java\r\npublic interface FooRepository extends JpaRepository&lt;Foo, Long&gt;, JpaSpecificationExecutor&lt;Foo&gt; { ... }\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html","title":"How to write a method returning an entity with either matched one attribute or partially matched another attribute?","body":"<p>Your repository should, in addition to <code>JpaRepository</code>, extend <a href=\"https://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html\" rel=\"nofollow noreferrer\"><code>JpaSpecificationExecutor</code></a> which provides several methods for <code>Specification</code>s execution including the <code>Optional&lt;T&gt; findOne(Specification&lt;T&gt; spec)</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface FooRepository extends JpaRepository&lt;Foo, Long&gt;, JpaSpecificationExecutor&lt;Foo&gt; { ... }\n</code></pre>\n"}],"owner":{"account_id":543582,"reputation":2626,"user_id":912772,"accept_rate":32,"display_name":"vic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75741339,"answer_count":1,"score":0,"last_activity_date":1678896820,"creation_date":1678859516,"question_id":75740973,"body_markdown":"An entity class as\r\n```java\r\n@Entity\r\n@Table(name = &quot;foo&quot;)\r\nclass Foo {\r\n ...\r\n  private String symbol;\r\n  private String name;\r\n ...\r\n}\r\n```\r\nNow, I need to have a method of Spring Data JPA so that it takes one String parameter and it will return an entity if its `symbol` attribute matches the parameter. If there is not a matched symbol, it could return an entity if the name attribute partially matched the parameter. The order of search shall be the `symbol` first and then the `name`. I ask how to come up with a such method to someone who is an expert on the subject. After seven rounds, I don&#39;t have the right method. The method is something like the following.\r\n```java\r\ndefault Optional&lt;Foo&gt; findBySymbolOrName(String term) {\r\n    Specification&lt;Foo&gt; spec = Specification.where(\r\n        (root, query, cb) -&gt; cb.equal(root.get(&quot;symbol&quot;), term)\r\n    );\r\n\r\n    Optional&lt;Foo&gt; foo = findOne(spec);\r\n\r\n    if (foo.isPresent()) {\r\n        return foo;\r\n    }\r\n\r\n    spec = Specification.where(\r\n        (root, query, cb) -&gt; cb.like(root.get(&quot;name&quot;), &quot;%&quot; + term + &quot;%&quot;)\r\n    );\r\n\r\n    return findOne(spec);\r\n}\r\n```\r\nFor this version, the issue is about the `fineOne` method:\r\n\r\n&gt; Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound;\r\n&gt; should extend &#39;com.abc.domain.Foo&#39;\r\n\r\nIf I replace `findOne` with \r\n```java\r\nOptional&lt;Stock&gt; findById(Specification&lt;Foo&gt; spec);\r\n```\r\n\r\nThe IDE shows multiple errors\r\n\r\n&gt;  Cannot resolve symbol &#39;FooRepository&#39; in a class importing the\r\n&gt; repository and \r\n&gt; \r\n&gt;  Cannot resolve method &#39;existsById(Long)&#39;\r\n\r\nin a class using the method. The repository is defined as\r\n```java\r\n@SuppressWarnings(&quot;unused&quot;)\r\n@Repository\r\npublic interface FooRepository extends JpaRepository&lt;Foo, Long&gt; { ...}\r\n```\r\nHow to have a correct method?\r\n    \r\n    ","title":"How to write a method returning an entity with either matched one attribute or partially matched another attribute?","body":"<p>An entity class as</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;foo&quot;)\nclass Foo {\n ...\n  private String symbol;\n  private String name;\n ...\n}\n</code></pre>\n<p>Now, I need to have a method of Spring Data JPA so that it takes one String parameter and it will return an entity if its <code>symbol</code> attribute matches the parameter. If there is not a matched symbol, it could return an entity if the name attribute partially matched the parameter. The order of search shall be the <code>symbol</code> first and then the <code>name</code>. I ask how to come up with a such method to someone who is an expert on the subject. After seven rounds, I don't have the right method. The method is something like the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>default Optional&lt;Foo&gt; findBySymbolOrName(String term) {\n    Specification&lt;Foo&gt; spec = Specification.where(\n        (root, query, cb) -&gt; cb.equal(root.get(&quot;symbol&quot;), term)\n    );\n\n    Optional&lt;Foo&gt; foo = findOne(spec);\n\n    if (foo.isPresent()) {\n        return foo;\n    }\n\n    spec = Specification.where(\n        (root, query, cb) -&gt; cb.like(root.get(&quot;name&quot;), &quot;%&quot; + term + &quot;%&quot;)\n    );\n\n    return findOne(spec);\n}\n</code></pre>\n<p>For this version, the issue is about the <code>fineOne</code> method:</p>\n<blockquote>\n<p>Inferred type 'S' for type parameter 'S' is not within its bound;\nshould extend 'com.abc.domain.Foo'</p>\n</blockquote>\n<p>If I replace <code>findOne</code> with</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Stock&gt; findById(Specification&lt;Foo&gt; spec);\n</code></pre>\n<p>The IDE shows multiple errors</p>\n<blockquote>\n<p>Cannot resolve symbol 'FooRepository' in a class importing the\nrepository and</p>\n<p>Cannot resolve method 'existsById(Long)'</p>\n</blockquote>\n<p>in a class using the method. The repository is defined as</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressWarnings(&quot;unused&quot;)\n@Repository\npublic interface FooRepository extends JpaRepository&lt;Foo, Long&gt; { ...}\n</code></pre>\n<p>How to have a correct method?</p>\n"},{"tags":["java","string","newline"],"answers":[{"tags":[],"owner":{"account_id":27169,"reputation":4357,"user_id":71410,"accept_rate":78,"display_name":"Andrea Girardi"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1343830506,"creation_date":1319102422,"answer_id":7833702,"question_id":7833689,"body_markdown":"Try:\r\n\r\n    System.out.println(&quot;I\\nam\\na\\nboy&quot;);","title":"How can I print a string adding newlines in Java?","body":"<p>Try:</p>\n\n<pre><code>System.out.println(\"I\\nam\\na\\nboy\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":277279,"reputation":62850,"user_id":571189,"display_name":"Prince John Wesley"},"score":0,"creation_date":1449568587,"post_id":7833713,"comment_id":56052385,"body_markdown":"@the_prole explained [here](http://stackoverflow.com/questions/3925947/what-is-portability-how-is-java-more-portable-than-other-languages)","body":"@the_prole explained <a href=\"http://stackoverflow.com/questions/3925947/what-is-portability-how-is-java-more-portable-than-other-languages\">here</a>"},{"owner":{"account_id":5862559,"reputation":494,"user_id":4617741,"accept_rate":86,"display_name":"Amos Bordowitz"},"score":0,"creation_date":1543756676,"post_id":7833713,"comment_id":94024641,"body_markdown":"The third option is best for portability.","body":"The third option is best for portability."}],"tags":[],"owner":{"account_id":277279,"reputation":62850,"user_id":571189,"display_name":"Prince John Wesley"},"comment_count":2,"down_vote_count":2,"up_vote_count":159,"is_accepted":false,"score":157,"last_activity_date":1319104420,"creation_date":1319102468,"answer_id":7833713,"question_id":7833689,"body_markdown":"    System.out.println(&quot;I\\nam\\na\\nboy&quot;);\r\n\r\n    System.out.println(&quot;I am a boy&quot;.replaceAll(&quot;\\\\s+&quot;,&quot;\\n&quot;));\r\n\r\n    System.out.println(&quot;I am a boy&quot;.replaceAll(&quot;\\\\s+&quot;,System.getProperty(&quot;line.separator&quot;))); // portable way\r\n\r\n","title":"How can I print a string adding newlines in Java?","body":"<pre><code>System.out.println(\"I\\nam\\na\\nboy\");\n\nSystem.out.println(\"I am a boy\".replaceAll(\"\\\\s+\",\"\\n\"));\n\nSystem.out.println(\"I am a boy\".replaceAll(\"\\\\s+\",System.getProperty(\"line.separator\"))); // portable way\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4964441,"reputation":1426,"user_id":3994304,"accept_rate":38,"display_name":"Disapamok"},"score":0,"creation_date":1499754774,"post_id":7833716,"comment_id":77027967,"body_markdown":"This works for me. And I am using unicode font. This works better.","body":"This works for me. And I am using unicode font. This works better."}],"tags":[],"owner":{"account_id":389200,"reputation":4415,"user_id":748524,"accept_rate":95,"display_name":"Stephan"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1636463424,"creation_date":1319102484,"answer_id":7833716,"question_id":7833689,"body_markdown":"If you simply want to print a newline in the console you can use `\\n` for newlines.\r\n\r\nIf you want to break text in Swing components you can use HTML and its `&lt;br&gt;`:\r\n\r\n    String str = &quot;&lt;html&gt;first line&lt;br&gt;second line&lt;/html&gt;&quot;;","title":"How can I print a string adding newlines in Java?","body":"<p>If you simply want to print a newline in the console you can use <code>\\n</code> for newlines.</p>\n<p>If you want to break text in Swing components you can use HTML and its <code>&lt;br&gt;</code>:</p>\n<pre><code>String str = &quot;&lt;html&gt;first line&lt;br&gt;second line&lt;/html&gt;&quot;;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":3,"creation_date":1366609384,"post_id":7833774,"comment_id":23058159,"body_markdown":"This is not a good solution to write too many System.out.println()","body":"This is not a good solution to write too many System.out.println()"},{"owner":{"account_id":200015,"reputation":4010,"user_id":445651,"accept_rate":82,"display_name":"Wolfpack&#39;08"},"score":0,"creation_date":1400219495,"post_id":7833774,"comment_id":36406781,"body_markdown":"@op Remember that `println()` adds a newline character at the *end* of the string (not the beginning).","body":"@op Remember that <code>println()</code> adds a newline character at the <i>end</i> of the string (not the beginning)."},{"owner":{"account_id":3796206,"reputation":916,"user_id":3151210,"accept_rate":100,"display_name":"Ashish Kumar"},"score":0,"creation_date":1485929317,"post_id":7833774,"comment_id":71124066,"body_markdown":"@Hachi, `System.lineSeparator()` or `System.getProperty(&quot;line.separator&quot;)` can used to make code system independent.","body":"@Hachi, <code>System.lineSeparator()</code> or <code>System.getProperty(&quot;line.separator&quot;)</code> can used to make code system independent."}],"tags":[],"owner":{"account_id":928629,"reputation":3257,"user_id":958918,"accept_rate":77,"display_name":"Hachi"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1319102746,"creation_date":1319102746,"answer_id":7833774,"question_id":7833689,"body_markdown":"If you want to have your code os-unspecific you should use println for each word\r\n\r\n    System.out.println(&quot;I&quot;);\r\n    System.out.println(&quot;am&quot;);\r\n    System.out.println(&quot;a&quot;);\r\n    System.out.println(&quot;boy&quot;);\r\n\r\nbecause Windows uses &quot;\\r\\n&quot; as newline and unixoid systems use just &quot;\\n&quot;\r\n\r\nprintln always uses the correct one","title":"How can I print a string adding newlines in Java?","body":"<p>If you want to have your code os-unspecific you should use println for each word</p>\n\n<pre><code>System.out.println(\"I\");\nSystem.out.println(\"am\");\nSystem.out.println(\"a\");\nSystem.out.println(\"boy\");\n</code></pre>\n\n<p>because Windows uses \"\\r\\n\" as newline and unixoid systems use just \"\\n\"</p>\n\n<p>println always uses the correct one</p>\n"},{"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"comment_count":0,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1467790324,"creation_date":1366610330,"answer_id":16140353,"question_id":7833689,"body_markdown":"It can be done several ways. I am mentioning 2 simple ways.\r\n\r\n1. Very simple way as below:\r\n\r\n        System.out.println(&quot;I\\nam\\na\\nboy&quot;);\r\n\r\n2. It can also be done with concatenation as below:\r\n\r\n        System.out.println(&quot;I&quot; + &#39;\\n&#39; + &quot;am&quot; + &#39;\\n&#39; + &quot;a&quot; + &#39;\\n&#39; + &quot;boy&quot;);","title":"How can I print a string adding newlines in Java?","body":"<p>It can be done several ways. I am mentioning 2 simple ways.</p>\n\n<ol>\n<li><p>Very simple way as below:</p>\n\n<pre><code>System.out.println(\"I\\nam\\na\\nboy\");\n</code></pre></li>\n<li><p>It can also be done with concatenation as below:</p>\n\n<pre><code>System.out.println(\"I\" + '\\n' + \"am\" + '\\n' + \"a\" + '\\n' + \"boy\");\n</code></pre></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":0,"creation_date":1418164348,"post_id":23706932,"comment_id":43228219,"body_markdown":"You do not need two loops. Either pass `args` directly to `nlSeparated()` or make `nlSeparated()` take a scalar `String` instead of an array. First option is probably better. Also, print your signature with `println` instead of `print`.","body":"You do not need two loops. Either pass <code>args</code> directly to <code>nlSeparated()</code> or make <code>nlSeparated()</code> take a scalar <code>String</code> instead of an array. First option is probably better. Also, print your signature with <code>println</code> instead of <code>print</code>."},{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":0,"creation_date":1478795913,"post_id":23706932,"comment_id":68305229,"body_markdown":"In `main`, replace `for (String arg : args) { nlSeparated(arg); }` with just `nlSeparated(args);`. `nlSeparated` already accepts a list of `String`s. For a better explanation, see here: http://stackoverflow.com/a/12534579/2988730","body":"In <code>main</code>, replace <code>for (String arg : args) { nlSeparated(arg); }</code> with just <code>nlSeparated(args);</code>. <code>nlSeparated</code> already accepts a list of <code>String</code>s. For a better explanation, see here: <a href=\"http://stackoverflow.com/a/12534579/2988730\">stackoverflow.com/a/12534579/2988730</a>"}],"tags":[],"owner":{"account_id":200015,"reputation":4010,"user_id":445651,"accept_rate":82,"display_name":"Wolfpack&#39;08"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400292601,"creation_date":1400292601,"answer_id":23706932,"question_id":7833689,"body_markdown":"Full program example, with a fun twist:\r\n\r\n\r\nOpen a new blank document and save it as `%yourJavaDirectory%/iAmABoy/iAmABoy.java`.  &quot;iAmABoy&quot; is the class name.\r\n\r\nPaste the following code in and read through it.  Remember, I&#39;m a beginner, so I appreciate all feedback!\r\n\r\n\r\n\r\n    //The class name should be the same as your Java-file and directory name.\r\n    class iAmABoy {\r\n    \r\n        //Create a variable number of String-type arguments, &quot;strs&quot;; this is a useful line of code worth memorizing.\r\n    \tpublic static void nlSeparated(String... strs) {\r\n    \t\r\n    \t    //Each argument is an str that is printed.\r\n    \t\tfor (String str : strs) {\r\n    \t\t\r\n    \t\t\tSystem.out.println(str);\r\n            \r\n    \t\t}\r\n    \t\r\n    \t}\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n    \t    //This loop uses &#39;args&#39; .  &#39;Args&#39; can be accessed at runtime.  The method declaration (above) uses &#39;str&#39;, but the method instances (as seen below) can take variables of any name in the place of &#39;str&#39;.\r\n    \t\tfor (String arg : args) {\r\n    \t\t\r\n    \t\t\tnlSeparated(arg);\r\n    \r\n    \t\t}\r\n    \t\t\r\n    \t\t//This is a signature.  ^^\r\n    \t\tSystem.out.print(&quot;\\nThanks, Wolfpack08!&quot;);\r\n        } \r\n    \r\n    }\r\n\r\n\r\nNow, in terminal/cmd, browse to `%yourJavaDirectory%/iAmABoy` and type:\r\n\r\n    javac iAmABoy.java\r\n    java iAmABoy I am a boy\r\n\r\nYou can replace the args `I am a boy` with anything!","title":"How can I print a string adding newlines in Java?","body":"<p>Full program example, with a fun twist:</p>\n\n<p>Open a new blank document and save it as <code>%yourJavaDirectory%/iAmABoy/iAmABoy.java</code>.  \"iAmABoy\" is the class name.</p>\n\n<p>Paste the following code in and read through it.  Remember, I'm a beginner, so I appreciate all feedback!</p>\n\n<pre><code>//The class name should be the same as your Java-file and directory name.\nclass iAmABoy {\n\n    //Create a variable number of String-type arguments, \"strs\"; this is a useful line of code worth memorizing.\n    public static void nlSeparated(String... strs) {\n\n        //Each argument is an str that is printed.\n        for (String str : strs) {\n\n            System.out.println(str);\n\n        }\n\n    }\n\n    public static void main(String[] args) {\n\n        //This loop uses 'args' .  'Args' can be accessed at runtime.  The method declaration (above) uses 'str', but the method instances (as seen below) can take variables of any name in the place of 'str'.\n        for (String arg : args) {\n\n            nlSeparated(arg);\n\n        }\n\n        //This is a signature.  ^^\n        System.out.print(\"\\nThanks, Wolfpack08!\");\n    } \n\n}\n</code></pre>\n\n<p>Now, in terminal/cmd, browse to <code>%yourJavaDirectory%/iAmABoy</code> and type:</p>\n\n<pre><code>javac iAmABoy.java\njava iAmABoy I am a boy\n</code></pre>\n\n<p>You can replace the args <code>I am a boy</code> with anything!</p>\n"},{"tags":[],"owner":{"account_id":5862559,"reputation":494,"user_id":4617741,"accept_rate":86,"display_name":"Amos Bordowitz"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1438291004,"creation_date":1432471415,"answer_id":30423625,"question_id":7833689,"body_markdown":"To make the code portable to any system, I would use: \r\n\r\n    public static String newline = System.getProperty(&quot;line.separator&quot;);\r\n\r\nThis is important because different OSs use different notations for newline: Windows uses &quot;\\r\\n&quot;, Classic Mac uses &quot;\\r&quot;, and Mac and Linux both use &quot;\\n&quot;.\r\n\r\nCommentors - please correct me if I&#39;m wrong on this... ","title":"How can I print a string adding newlines in Java?","body":"<p>To make the code portable to any system, I would use: </p>\n\n<pre><code>public static String newline = System.getProperty(\"line.separator\");\n</code></pre>\n\n<p>This is important because different OSs use different notations for newline: Windows uses \"\\r\\n\", Classic Mac uses \"\\r\", and Mac and Linux both use \"\\n\".</p>\n\n<p>Commentors - please correct me if I'm wrong on this... </p>\n"},{"comments":[{"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"score":9,"creation_date":1456740521,"post_id":31599937,"comment_id":59070250,"body_markdown":"In the older Java versions: `System.getProperty(&quot;line.separator&quot;)`.","body":"In the older Java versions: <code>System.getProperty(&quot;line.separator&quot;)</code>."},{"owner":{"account_id":1183832,"reputation":4336,"user_id":1158189,"accept_rate":49,"display_name":"Manoj Shrestha"},"score":2,"creation_date":1527883588,"post_id":31599937,"comment_id":88311584,"body_markdown":"Shortcut: `String x = &quot;Hello, %n there&quot;;` . Added spaces around `%n` just for the sake of readability.","body":"Shortcut: <code>String x = &quot;Hello, %n there&quot;;</code> . Added spaces around <code>%n</code> just for the sake of readability."}],"tags":[],"owner":{"account_id":6675441,"reputation":1489,"user_id":5150242,"display_name":"Emalton"},"comment_count":2,"down_vote_count":1,"up_vote_count":149,"is_accepted":false,"score":148,"last_activity_date":1456202667,"creation_date":1437695189,"answer_id":31599937,"question_id":7833689,"body_markdown":"You can also use [`System.lineSeparator()`][1]:\r\n    \r\n    String x = &quot;Hello,&quot; + System.lineSeparator() + &quot;there&quot;;\r\n\r\n[1]: http://docs.oracle.com/javase/8/docs/api/java/lang/System.html#lineSeparator--","title":"How can I print a string adding newlines in Java?","body":"<p>You can also use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/System.html#lineSeparator--\" rel=\"noreferrer\"><code>System.lineSeparator()</code></a>:</p>\n\n<pre><code>String x = \"Hello,\" + System.lineSeparator() + \"there\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4970489,"reputation":2647,"user_id":3998458,"accept_rate":100,"display_name":"Alex S. Diaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1438293483,"creation_date":1438293483,"answer_id":31734800,"question_id":7833689,"body_markdown":"What about `%n` using a formatter like **`String.format()`**?:\r\n\r\n    String s = String.format(&quot;I%nam%na%nboy&quot;);\r\n\r\nAs [this answer](https://stackoverflow.com/a/209771/3998458) says, its available from java 1.5 and is another way to `System.getProperty(&quot;line.separator&quot;)` or `System.lineSeparator()` and, like this two, is **OS independent**.","title":"How can I print a string adding newlines in Java?","body":"<p>What about <code>%n</code> using a formatter like <strong><code>String.format()</code></strong>?:</p>\n\n<pre><code>String s = String.format(\"I%nam%na%nboy\");\n</code></pre>\n\n<p>As <a href=\"https://stackoverflow.com/a/209771/3998458\">this answer</a> says, its available from java 1.5 and is another way to <code>System.getProperty(\"line.separator\")</code> or <code>System.lineSeparator()</code> and, like this two, is <strong>OS independent</strong>.</p>\n"},{"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":4,"creation_date":1438329407,"post_id":31740494,"comment_id":51415918,"body_markdown":"Please read other answers first. Your solution is already there.","body":"Please read other answers first. Your solution is already there."}],"tags":[],"owner":{"account_id":4264857,"reputation":5594,"user_id":3488208,"accept_rate":20,"display_name":"Surendar D"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1624280900,"creation_date":1438327747,"answer_id":31740494,"question_id":7833689,"body_markdown":"`\\n` is used for making separate line;\r\n\r\n**Example:** \r\n\r\n    System.out.print(&quot;I&quot; +&#39;\\n&#39;+ &quot;am&quot; +&#39;\\n&#39;+ &quot;a&quot; +&#39;\\n&#39;+ &quot;boy&quot;); \r\n\r\n**Result:**\r\n\r\n    I\r\n    am\r\n    a\r\n    boy","title":"How can I print a string adding newlines in Java?","body":"<p><code>\\n</code> is used for making separate line;</p>\n<p><strong>Example:</strong></p>\n<pre><code>System.out.print(&quot;I&quot; +'\\n'+ &quot;am&quot; +'\\n'+ &quot;a&quot; +'\\n'+ &quot;boy&quot;); \n</code></pre>\n<p><strong>Result:</strong></p>\n<pre><code>I\nam\na\nboy\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26625,"reputation":3060,"user_id":69471,"display_name":"TMN"},"score":2,"creation_date":1519308333,"post_id":35312118,"comment_id":84865272,"body_markdown":"It&#39;s always a bad idea to embed markup in your output. You never know what display technology your users are using. Best to keep it as generic as possible, and use a formatting filter for display if needed.","body":"It&#39;s always a bad idea to embed markup in your output. You never know what display technology your users are using. Best to keep it as generic as possible, and use a formatting filter for display if needed."},{"owner":{"account_id":6931778,"reputation":493,"user_id":5321043,"display_name":"Mehdi Roostaeian"},"score":0,"creation_date":1531395463,"post_id":35312118,"comment_id":89585813,"body_markdown":"I said it just works in html page, it&#39;s just a suggest for who want to show a simple text in web pages.","body":"I said it just works in html page, it&#39;s just a suggest for who want to show a simple text in web pages."}],"tags":[],"owner":{"account_id":6931778,"reputation":493,"user_id":5321043,"display_name":"Mehdi Roostaeian"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1455098757,"creation_date":1455098757,"answer_id":35312118,"question_id":7833689,"body_markdown":"you can use `&lt;br&gt;` tag in your string for show in html pages","title":"How can I print a string adding newlines in Java?","body":"<p>you can use <code>&lt;br&gt;</code> tag in your string for show in html pages</p>\n"},{"tags":[],"owner":{"account_id":2307170,"reputation":995,"user_id":2026223,"display_name":"mrVoid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455099841,"creation_date":1455099841,"answer_id":35312533,"question_id":7833689,"body_markdown":"*Go for a split.*\r\n\r\n    String string = &quot;I am a boy&quot;;\r\n    for (String part : string.split(&quot; &quot;)) {\r\n\t    System.out.println(part);\r\n\t}","title":"How can I print a string adding newlines in Java?","body":"<p><em>Go for a split.</em></p>\n\n<pre><code>String string = \"I am a boy\";\nfor (String part : string.split(\" \")) {\n    System.out.println(part);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":1,"creation_date":1527501944,"post_id":38077906,"comment_id":88137942,"body_markdown":"see [Line Separator section](https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#dls) in docs","body":"see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#dls\" rel=\"nofollow noreferrer\">Line Separator section</a> in docs"}],"tags":[],"owner":{"account_id":3765239,"reputation":11306,"user_id":3128926,"accept_rate":76,"display_name":"Levent Divilioglu"},"comment_count":1,"down_vote_count":1,"up_vote_count":63,"is_accepted":false,"score":62,"last_activity_date":1467122379,"creation_date":1467121309,"answer_id":38077906,"question_id":7833689,"body_markdown":"&lt;h3&gt;Example&lt;/h3&gt;\r\n\r\n    System.out.printf(&quot;I %n am %n a %n boy&quot;);\r\n\r\n&lt;h3&gt;Output&lt;/h3&gt;\r\n\r\n    I \r\n     am \r\n     a \r\n     boy\r\n\r\n&lt;h3&gt;Explanation&lt;/h3&gt;\r\n\r\nIt&#39;s better to use `%n` as an OS independent new-line character instead of `\\n` and it&#39;s easier than using `System.lineSeparator()`\r\n\r\nWhy to use `%n`, because on each OS, new line refers to a different set of character(s);\r\n\r\n    Unix and modern Mac&#39;s   :   LF     (\\n)\r\n    Windows                 :   CR LF  (\\r\\n)\r\n    Older Macintosh Systems :   CR     (\\r)\r\n\r\n**LF** is the acronym of **Line Feed** and **CR** is the acronym of **Carriage Return**. The escape characters are written inside the parenthesis. So on each OS, new line stands for something specific to the system. `%n` is OS agnostic, it is portable. It stands for `\\n` on Unix systems or `\\r\\n` on Windows systems and so on. Thus, Do not use `\\n`, instead use `%n`.","title":"How can I print a string adding newlines in Java?","body":"<h3>Example</h3>\n\n<pre><code>System.out.printf(\"I %n am %n a %n boy\");\n</code></pre>\n\n<h3>Output</h3>\n\n<pre><code>I \n am \n a \n boy\n</code></pre>\n\n<h3>Explanation</h3>\n\n<p>It's better to use <code>%n</code> as an OS independent new-line character instead of <code>\\n</code> and it's easier than using <code>System.lineSeparator()</code></p>\n\n<p>Why to use <code>%n</code>, because on each OS, new line refers to a different set of character(s);</p>\n\n<pre><code>Unix and modern Mac's   :   LF     (\\n)\nWindows                 :   CR LF  (\\r\\n)\nOlder Macintosh Systems :   CR     (\\r)\n</code></pre>\n\n<p><strong>LF</strong> is the acronym of <strong>Line Feed</strong> and <strong>CR</strong> is the acronym of <strong>Carriage Return</strong>. The escape characters are written inside the parenthesis. So on each OS, new line stands for something specific to the system. <code>%n</code> is OS agnostic, it is portable. It stands for <code>\\n</code> on Unix systems or <code>\\r\\n</code> on Windows systems and so on. Thus, Do not use <code>\\n</code>, instead use <code>%n</code>.</p>\n"},{"tags":[],"owner":{"account_id":10835118,"reputation":1166,"user_id":7968337,"display_name":"Tung Duong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538285414,"creation_date":1538285414,"answer_id":52574941,"question_id":7833689,"body_markdown":"I use this code ` String result = args[0].replace(&quot;\\\\n&quot;, &quot;\\n&quot;);`\r\n\r\n    public class HelloWorld {\r\n    \r\n        public static void main(String[] args) {\r\n            String result = args[0].replace(&quot;\\\\n&quot;, &quot;\\n&quot;);\r\n            System.out.println(result);\r\n        }\r\n    }\r\nwith terminal I can use arg `I\\\\nam\\\\na\\\\boy` to make `System.out.println` print out\r\n\r\n    I\r\n    am\r\n    a\r\n    boy\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ziTff.png","title":"How can I print a string adding newlines in Java?","body":"<p>I use this code <code>String result = args[0].replace(\"\\\\n\", \"\\n\");</code></p>\n\n<pre><code>public class HelloWorld {\n\n    public static void main(String[] args) {\n        String result = args[0].replace(\"\\\\n\", \"\\n\");\n        System.out.println(result);\n    }\n}\n</code></pre>\n\n<p>with terminal I can use arg <code>I\\\\nam\\\\na\\\\boy</code> to make <code>System.out.println</code> print out</p>\n\n<pre><code>I\nam\na\nboy\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ziTff.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ziTff.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":10250039,"reputation":1867,"user_id":7564593,"display_name":"Bandham Manikanta"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1621943083,"creation_date":1571836431,"answer_id":58523714,"question_id":7833689,"body_markdown":"Platform-Independent Line Breaks:\r\n\r\n    finalString = &quot;physical&quot; + System.lineSeparator() + &quot;distancing&quot;;\r\n    System.out.println(finalString);\r\n\r\n**Output:**\r\n\r\n    physical\r\n    distancing\r\n---------\r\n\r\n*Notes:*\r\n\r\n- Java 6: `System.getProperty(&quot;line.separator&quot;)`\r\n- Java 7 &amp; above: `System.lineSeparator()`","title":"How can I print a string adding newlines in Java?","body":"<p>Platform-Independent Line Breaks:</p>\n<pre><code>finalString = &quot;physical&quot; + System.lineSeparator() + &quot;distancing&quot;;\nSystem.out.println(finalString);\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>physical\ndistancing\n</code></pre>\n<hr />\n<p><em>Notes:</em></p>\n<ul>\n<li>Java 6: <code>System.getProperty(&quot;line.separator&quot;)</code></li>\n<li>Java 7 &amp; above: <code>System.lineSeparator()</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18271816,"reputation":537,"user_id":13302453,"display_name":"Harisudha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601975547,"creation_date":1601975230,"answer_id":64222645,"question_id":7833689,"body_markdown":"Here it is!!\r\nNewLine is known as **CRLF**(Carriage Return and Line Feed).\r\n\r\n - For Linux and Mac, we can use &quot;\\n&quot;. \r\n - For Windows, we can use &quot;\\r\\n&quot;.\r\n\r\nSample: \r\n\r\n    System.out.println(&quot;I\\r\\nam\\r\\na\\r\\nboy&quot;);\r\nResult:    \r\n[![output][1]][1]\r\n\r\nIt worked for me.\n\r\n\r\n  [1]: https://i.stack.imgur.com/i6CKO.png","title":"How can I print a string adding newlines in Java?","body":"<p>Here it is!!\nNewLine is known as <strong>CRLF</strong>(Carriage Return and Line Feed).</p>\n<ul>\n<li>For Linux and Mac, we can use &quot;\\n&quot;.</li>\n<li>For Windows, we can use &quot;\\r\\n&quot;.</li>\n</ul>\n<p>Sample:</p>\n<pre><code>System.out.println(&quot;I\\r\\nam\\r\\na\\r\\nboy&quot;);\n</code></pre>\n<p>Result:<br />\n<a href=\"https://i.stack.imgur.com/i6CKO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i6CKO.png\" alt=\"output\" /></a></p>\n<p>It worked for me.</p>\n"},{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1621943022,"post_id":67681207,"comment_id":119640702,"body_markdown":"`input` is not defined. That&#39;s not an issue when you&#39;re just providing some exemplary code, but this code block gives the impression of being a full runnable example (since it has a `public static void main`, however it doesn&#39;t compile. So *either* make it a short 3-line sample that references &quot;invisible&quot; variables or make it an actually runnable sample, this mixture is just confusing.","body":"<code>input</code> is not defined. That&#39;s not an issue when you&#39;re just providing some exemplary code, but this code block gives the impression of being a full runnable example (since it has a <code>public static void main</code>, however it doesn&#39;t compile. So <i>either</i> make it a short 3-line sample that references &quot;invisible&quot; variables or make it an actually runnable sample, this mixture is just confusing."}],"tags":[],"owner":{"account_id":9268720,"reputation":679,"user_id":6883436,"display_name":"Vipin Pandey"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1621953091,"creation_date":1621911795,"answer_id":67681207,"question_id":7833689,"body_markdown":"Here I am using the split function. I braked String from spaces. then I used println function and printed the value.\r\n\r\n \r\n\r\n\r\n        public class HelloWorld{\r\n    \r\n         public static void main(String []args){\r\n                  String input = &quot;I am a boy&quot;;\r\n                  String[] opuput = input.split(&quot; &quot;);\r\n              for (int i = 0; i &lt; opuput.length; i++)\r\n                    System.out.println(opuput[i]);\r\n             }        \r\n    }","title":"How can I print a string adding newlines in Java?","body":"<p>Here I am using the split function. I braked String from spaces. then I used println function and printed the value.</p>\n<pre><code>    public class HelloWorld{\n\n     public static void main(String []args){\n              String input = &quot;I am a boy&quot;;\n              String[] opuput = input.split(&quot; &quot;);\n          for (int i = 0; i &lt; opuput.length; i++)\n                System.out.println(opuput[i]);\n         }        \n}\n</code></pre>\n"}],"owner":{"account_id":540955,"reputation":1759,"user_id":909325,"accept_rate":0,"display_name":"Md. Rashedul Hasan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1116863,"favorite_count":0,"down_vote_count":1,"up_vote_count":160,"answer_count":17,"score":159,"last_activity_date":1678896468,"creation_date":1319102343,"question_id":7833689,"body_markdown":"I have a string like \r\n\r\n    &quot;I am a boy&quot;.\r\n\r\nI would like to print it this way\r\n\r\n    &quot;I \r\n    am \r\n    a\r\n    boy&quot;.\r\n\r\nCan anybody help me?","title":"How can I print a string adding newlines in Java?","body":"<p>I have a string like</p>\n<pre><code>&quot;I am a boy&quot;.\n</code></pre>\n<p>I would like to print it this way</p>\n<pre><code>&quot;I \nam \na\nboy&quot;.\n</code></pre>\n<p>Can anybody help me?</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":3,"creation_date":1678524870,"post_id":75703765,"comment_id":133552289,"body_markdown":"You can’t. Use two different implementation classes.","body":"You can’t. Use two different implementation classes."}],"answers":[{"tags":[],"owner":{"account_id":27989115,"reputation":41,"user_id":21375352,"display_name":"Viktor Reichert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678527321,"creation_date":1678527232,"answer_id":75703994,"question_id":75703765,"body_markdown":"Unfortunately that is not possible. At runtime, the information about which interface you used to instantiate the class is no longer available. Add the following lines to your code:\r\n\r\n    System.out.println(a.getClass()); // ImplementationAB\r\n    System.out.println(b.getClass()); // ImplementationAB\r\n\r\nHere you can see that only information about the interfaces is available, but only about the class.","title":"How to separate the logic in the implementation of a method whose signature is in two interfaces implemented by the class?","body":"<p>Unfortunately that is not possible. At runtime, the information about which interface you used to instantiate the class is no longer available. Add the following lines to your code:</p>\n<pre><code>System.out.println(a.getClass()); // ImplementationAB\nSystem.out.println(b.getClass()); // ImplementationAB\n</code></pre>\n<p>Here you can see that only information about the interfaces is available, but only about the class.</p>\n"}],"owner":{"account_id":22922007,"reputation":5,"user_id":17057696,"display_name":"Vasily"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75703994,"answer_count":1,"score":0,"last_activity_date":1678896424,"creation_date":1678524540,"question_id":75703765,"body_markdown":"Question from interview:\r\n\r\nHow can I separate logic in method `getString()` of class `ImplementationAB` depending on the type of interface to which an instance of this class is assigned?\r\n\r\n\r\n`instanceof` is not suitable for this task, it determines whether a class implements an interface:\r\n```\r\ninterface A {\r\n    public String getString();\r\n}\r\n\r\ninterface B {\r\n    public String getString();\r\n}\r\n\r\nclass ImplementationAB implements A, B {\r\n    \r\n    @Override\r\n    public String getString() {\r\n        //TODO\r\n    }\r\n}\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t    A a = new ImplementationAB();\r\n\t    B b = new ImplementationAB();\r\n\t   \r\n\t    System.out.println(a instanceof B); //true\r\n        System.out.println(b instanceof A); //true\r\n        a.getString();\r\n        b.getString();              \r\n\t}\r\n}\r\n```\r\n","title":"How to separate the logic in the implementation of a method whose signature is in two interfaces implemented by the class?","body":"<p>Question from interview:</p>\n<p>How can I separate logic in method <code>getString()</code> of class <code>ImplementationAB</code> depending on the type of interface to which an instance of this class is assigned?</p>\n<p><code>instanceof</code> is not suitable for this task, it determines whether a class implements an interface:</p>\n<pre><code>interface A {\n    public String getString();\n}\n\ninterface B {\n    public String getString();\n}\n\nclass ImplementationAB implements A, B {\n    \n    @Override\n    public String getString() {\n        //TODO\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        A a = new ImplementationAB();\n        B b = new ImplementationAB();\n       \n        System.out.println(a instanceof B); //true\n        System.out.println(b instanceof A); //true\n        a.getString();\n        b.getString();              \n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9652,"page":573,"page_size":100}
