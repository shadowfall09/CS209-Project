{"items":[{"tags":["java","jdbc","connection","connection-pooling","c3p0"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1678899221,"post_id":75746242,"comment_id":133623911,"body_markdown":"Closing a connection obtained from a pool is what allows it to be reused.  So, you were correct to put the Connection in a try-with-resources statement.","body":"Closing a connection obtained from a pool is what allows it to be reused.  So, you were correct to put the Connection in a try-with-resources statement."}],"owner":{"account_id":2048111,"reputation":1313,"user_id":1827757,"accept_rate":93,"display_name":"RadleyMith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678891153,"creation_date":1678891153,"question_id":75746242,"body_markdown":"Using `ComboPooledDataSource` as a db connection pool. It seems like connections are being opened to frequently against my database. All of the queries use a `try-with-resources` block when opening the connection. My hypothesis is that using the `try-with-resources` block when opening the connection is also auto closing it, so the connection with my DB never gets re-used.  Code in question looks like:\r\n\r\n```\r\ntry (Connection conn = comboPooledDataSource.getConnection()) {\r\n    // ... do stuff with conn\r\n} \r\n```\r\n\r\nI&#39;m thinking that instead of using the try with resources it should just be a regular try statement and should not close the connection... leave that up to the `ComboPooledDataSource`. It would look like:\r\n\r\n```\r\ntry {\r\n    Connection conn = comboPooledDataSource.getConnection()\r\n    // ... do stuff with conn but don&#39;t close it\r\n} \r\n```","title":"Should I use try-with-resources on ComboPooledDataSource","body":"<p>Using <code>ComboPooledDataSource</code> as a db connection pool. It seems like connections are being opened to frequently against my database. All of the queries use a <code>try-with-resources</code> block when opening the connection. My hypothesis is that using the <code>try-with-resources</code> block when opening the connection is also auto closing it, so the connection with my DB never gets re-used.  Code in question looks like:</p>\n<pre><code>try (Connection conn = comboPooledDataSource.getConnection()) {\n    // ... do stuff with conn\n} \n</code></pre>\n<p>I'm thinking that instead of using the try with resources it should just be a regular try statement and should not close the connection... leave that up to the <code>ComboPooledDataSource</code>. It would look like:</p>\n<pre><code>try {\n    Connection conn = comboPooledDataSource.getConnection()\n    // ... do stuff with conn but don't close it\n} \n</code></pre>\n"},{"tags":["java","spring-boot","maven","liquibase"],"comments":[{"owner":{"account_id":5340830,"reputation":668,"user_id":4258006,"display_name":"Shiva kumar"},"score":0,"creation_date":1686057097,"post_id":37708145,"comment_id":134744517,"body_markdown":"How will you run Liquibase Manually?","body":"How will you run Liquibase Manually?"}],"answers":[{"tags":[],"owner":{"account_id":3361564,"reputation":1216,"user_id":2823270,"display_name":"C&#232;sar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1465414219,"creation_date":1465414219,"answer_id":37711291,"question_id":37708145,"body_markdown":"If you want to run Liquibase manually, you could use the liquibase maven plugin. Just add something like this to your pom.xml:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n        &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${liquibase.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;changeLogFile&gt;src/main/liquibase/master.xml&lt;/changeLogFile&gt;\r\n          &lt;propertyFile&gt;src/main/liquibase/liquibase.properties&lt;/propertyFile&gt;\r\n          &lt;promptOnNonLocalDatabase&gt;false&lt;/promptOnNonLocalDatabase&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nYou can take a look at the [plugin documentation][1] for the configuration details.\r\n\r\nAnd don&#39;t use the liquibase support from Spring Boot, as it is only meant to be used in runtime. Just remove the liquibase starter and/or any related dependencies as you&#39;ll only need the maven plugin.\r\n\r\n\r\n  [1]: http://www.liquibase.org/documentation/maven/","title":"Spring boot - disable Liquibase at startup","body":"<p>If you want to run Liquibase manually, you could use the liquibase maven plugin. Just add something like this to your pom.xml:</p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n    &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${liquibase.version}&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;changeLogFile&gt;src/main/liquibase/master.xml&lt;/changeLogFile&gt;\n      &lt;propertyFile&gt;src/main/liquibase/liquibase.properties&lt;/propertyFile&gt;\n      &lt;promptOnNonLocalDatabase&gt;false&lt;/promptOnNonLocalDatabase&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>You can take a look at the <a href=\"http://www.liquibase.org/documentation/maven/\" rel=\"nofollow\">plugin documentation</a> for the configuration details.</p>\n\n<p>And don't use the liquibase support from Spring Boot, as it is only meant to be used in runtime. Just remove the liquibase starter and/or any related dependencies as you'll only need the maven plugin.</p>\n"},{"tags":[],"owner":{"account_id":2260035,"reputation":2448,"user_id":1990359,"display_name":"Sangram Jadhav"},"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1465445222,"creation_date":1465445222,"answer_id":37716621,"question_id":37708145,"body_markdown":"Add `liquibase.enabled=false` in your application.properties file\r\n\r\n[Reference](http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html)\r\n\r\nBut if you don&#39;t want to use liquibase from application anymore, remove liquibase starter altogether from pom.","title":"Spring boot - disable Liquibase at startup","body":"<p>Add <code>liquibase.enabled=false</code> in your application.properties file</p>\n\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">Reference</a></p>\n\n<p>But if you don't want to use liquibase from application anymore, remove liquibase starter altogether from pom.</p>\n"},{"tags":[],"owner":{"account_id":7496424,"reputation":171,"user_id":5903088,"display_name":"D&#225;vid Elek"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1518798515,"creation_date":1518798515,"answer_id":48830995,"question_id":37708145,"body_markdown":"I faced an issue where I wasn&#39;t able to disable Liquibase from properties for some reason, so this is how I disabled Liquibase with `@Bean` annotation:\r\n\r\n    @Bean\r\n    public SpringLiquibase liquibase() {\r\n      SpringLiquibase liquibase = new SpringLiquibase();\r\n      liquibase.setShouldRun(false);\r\n      return liquibase;\r\n    }\r\n\r\n","title":"Spring boot - disable Liquibase at startup","body":"<p>I faced an issue where I wasn't able to disable Liquibase from properties for some reason, so this is how I disabled Liquibase with <code>@Bean</code> annotation:</p>\n\n<pre><code>@Bean\npublic SpringLiquibase liquibase() {\n  SpringLiquibase liquibase = new SpringLiquibase();\n  liquibase.setShouldRun(false);\n  return liquibase;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":369180,"reputation":1875,"user_id":716404,"display_name":"maruf571"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1520584332,"creation_date":1518930543,"answer_id":48848660,"question_id":37708145,"body_markdown":"If you see on the LiquibaseProperties, there is a prefix like\r\n\r\n     prefix = &quot;spring.liquibase&quot;\r\nSo, My suggestion is to use\r\n\r\n    spring.liquibase.enabled=false\r\n\r\nIt solved my problem with spring boot 2.0.0.RC1","title":"Spring boot - disable Liquibase at startup","body":"<p>If you see on the LiquibaseProperties, there is a prefix like</p>\n\n<pre><code> prefix = \"spring.liquibase\"\n</code></pre>\n\n<p>So, My suggestion is to use</p>\n\n<pre><code>spring.liquibase.enabled=false\n</code></pre>\n\n<p>It solved my problem with spring boot 2.0.0.RC1</p>\n"},{"tags":[],"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"down_vote_count":0,"up_vote_count":119,"is_accepted":false,"score":119,"last_activity_date":1562683963,"creation_date":1522088114,"answer_id":49498048,"question_id":37708145,"body_markdown":"The relevant property name has changed between Spring versions:\r\n\r\n* For **Spring 4.x.x**: the `liquibase.enabled=false` application property disables Liquibase.\r\n\r\n* For **Spring 5.x.x**: the `spring.liquibase.enabled=false` application property disables Liquibase.\r\n\r\n----\r\n\r\nP.S. And for Flyway: \r\n\r\n* **Spring 4.x.x**: `flyway.enabled=false`\r\n\r\n* **Spring 5.x.x**: `spring.flyway.enabled=false`\r\n","title":"Spring boot - disable Liquibase at startup","body":"<p>The relevant property name has changed between Spring versions:</p>\n\n<ul>\n<li><p>For <strong>Spring 4.x.x</strong>: the <code>liquibase.enabled=false</code> application property disables Liquibase.</p></li>\n<li><p>For <strong>Spring 5.x.x</strong>: the <code>spring.liquibase.enabled=false</code> application property disables Liquibase.</p></li>\n</ul>\n\n<hr>\n\n<p>P.S. And for Flyway: </p>\n\n<ul>\n<li><p><strong>Spring 4.x.x</strong>: <code>flyway.enabled=false</code></p></li>\n<li><p><strong>Spring 5.x.x</strong>: <code>spring.flyway.enabled=false</code></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1716149,"reputation":1981,"user_id":1573161,"accept_rate":56,"display_name":"Abhishek Chatterjee"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1599631917,"creation_date":1597214143,"answer_id":63371087,"question_id":37708145,"body_markdown":"There is one more programmatic approach.\r\n\r\n`@EnableAutoConfiguration(exclude = LiquibaseAutoConfiguration.class)`\r\n\r\non Application main class","title":"Spring boot - disable Liquibase at startup","body":"<p>There is one more programmatic approach.</p>\n<p><code>@EnableAutoConfiguration(exclude = LiquibaseAutoConfiguration.class)</code></p>\n<p>on Application main class</p>\n"},{"tags":[],"owner":{"account_id":10669178,"reputation":26,"user_id":13891755,"display_name":"EthanHunt007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673507958,"creation_date":1673507958,"answer_id":75092772,"question_id":37708145,"body_markdown":"You can use the spring.liquibase.enabled=true/false","title":"Spring boot - disable Liquibase at startup","body":"<p>You can use the spring.liquibase.enabled=true/false</p>\n"},{"tags":[],"owner":{"account_id":389040,"reputation":385,"user_id":748285,"accept_rate":25,"display_name":"RJC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674032653,"creation_date":1674031719,"answer_id":75156640,"question_id":37708145,"body_markdown":"Whilst the documented Spring Boot solution is `spring.liquibase.enabled=false`, it didn&#39;t work for me. To disable liquibase you can also use the following property:\r\n\r\n    liquibase.shouldRun=false\r\n\r\nI passed this as a command line parameter when launching the Spring Boot jar\r\n\r\n    -Dliquibase.shouldRun=false\r\n\r\nsee https://docs.liquibase.com/parameters/should-run.html","title":"Spring boot - disable Liquibase at startup","body":"<p>Whilst the documented Spring Boot solution is <code>spring.liquibase.enabled=false</code>, it didn't work for me. To disable liquibase you can also use the following property:</p>\n<pre><code>liquibase.shouldRun=false\n</code></pre>\n<p>I passed this as a command line parameter when launching the Spring Boot jar</p>\n<pre><code>-Dliquibase.shouldRun=false\n</code></pre>\n<p>see <a href=\"https://docs.liquibase.com/parameters/should-run.html\" rel=\"nofollow noreferrer\">https://docs.liquibase.com/parameters/should-run.html</a></p>\n"},{"tags":[],"owner":{"account_id":1642693,"reputation":1020,"user_id":1514845,"display_name":"Denis.Kipchakbaev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678891143,"creation_date":1678891143,"answer_id":75746241,"question_id":37708145,"body_markdown":"Another approach for `application.yml`:\r\n\r\n    spring:\r\n      autoconfigure:\r\n        exclude:\r\n          - org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration","title":"Spring boot - disable Liquibase at startup","body":"<p>Another approach for <code>application.yml</code>:</p>\n<pre><code>spring:\n  autoconfigure:\n    exclude:\n      - org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration\n</code></pre>\n"}],"owner":{"account_id":2538779,"reputation":967,"user_id":2205123,"accept_rate":56,"display_name":"Gravian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100886,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"answer_count":9,"score":83,"last_activity_date":1678891143,"creation_date":1465403622,"question_id":37708145,"body_markdown":"I want to have **Liquibase** configured with my **Spring Boot** application, so I added dependencies to `pom.xml` and set the path to `master.xml` in `application.properties`. This works fine and **Spring Boot** runs **Liquibase** at startup. The problem is that now I want to run **Liquibase** manually, not at startup of application. Should I completely disable auto-configuration for **Liquibase** or can I use it and only disable running evaluations at startup?","title":"Spring boot - disable Liquibase at startup","body":"<p>I want to have <strong>Liquibase</strong> configured with my <strong>Spring Boot</strong> application, so I added dependencies to <code>pom.xml</code> and set the path to <code>master.xml</code> in <code>application.properties</code>. This works fine and <strong>Spring Boot</strong> runs <strong>Liquibase</strong> at startup. The problem is that now I want to run <strong>Liquibase</strong> manually, not at startup of application. Should I completely disable auto-configuration for <strong>Liquibase</strong> or can I use it and only disable running evaluations at startup?</p>\n"},{"tags":["java","wait","sleep"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678889659,"post_id":75745862,"comment_id":133620700,"body_markdown":"[mcve] please .. including imports ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. including imports .."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1678889871,"post_id":75745862,"comment_id":133620778,"body_markdown":"Should be `TimeUnit.SECONDS.sleep(10);`.","body":"Should be <code>TimeUnit.SECONDS.sleep(10);</code>."}],"answers":[{"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678889871,"creation_date":1678889871,"answer_id":75745978,"question_id":75745862,"body_markdown":"Firstly, there&#39;s [Thread.sleep(int)](https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#sleep-long-) that you can use to **block** the current thread.\r\n\r\nSecondly, you can utilize [ScheduledExecutorService](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html)  to **schedule** the task for later, **not blocking** the current thread.","title":"Adding a Wait or Delay to Java","body":"<p>Firstly, there's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#sleep-long-\" rel=\"nofollow noreferrer\">Thread.sleep(int)</a> that you can use to <strong>block</strong> the current thread.</p>\n<p>Secondly, you can utilize <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a>  to <strong>schedule</strong> the task for later, <strong>not blocking</strong> the current thread.</p>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678890013,"creation_date":1678890013,"answer_id":75746008,"question_id":75745862,"body_markdown":"Instead of:\r\n\r\n    TimeUnits.Second.sleep(10)\r\n\r\nIt should be:\r\n\r\n    TimeUnit.SECONDS.sleep(10); \r\n\r\nComplete working example:\r\n\r\n    import java.util.concurrent.*;\r\n    class Main { \r\n    \r\n      public static void main(String[] args) {\r\n        System.out.println(&quot;a&quot;);\r\n    \r\n        try {\r\n          TimeUnit.SECONDS.sleep(10); // 10 second delay\r\n        }\r\n        catch (InterruptedException e) {}\r\n        \r\n        System.out.println(&quot;b&quot;);\r\n      }\r\n      \r\n    }","title":"Adding a Wait or Delay to Java","body":"<p>Instead of:</p>\n<pre><code>TimeUnits.Second.sleep(10)\n</code></pre>\n<p>It should be:</p>\n<pre><code>TimeUnit.SECONDS.sleep(10); \n</code></pre>\n<p>Complete working example:</p>\n<pre><code>import java.util.concurrent.*;\nclass Main { \n\n  public static void main(String[] args) {\n    System.out.println(&quot;a&quot;);\n\n    try {\n      TimeUnit.SECONDS.sleep(10); // 10 second delay\n    }\n    catch (InterruptedException e) {}\n    \n    System.out.println(&quot;b&quot;);\n  }\n  \n}\n</code></pre>\n"}],"owner":{"account_id":27686158,"reputation":1,"user_id":21133877,"display_name":"Macattack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1678890106,"accepted_answer_id":75746008,"answer_count":2,"score":-2,"last_activity_date":1678890536,"creation_date":1678889301,"question_id":75745862,"body_markdown":"So I have some Java code that once it has ran through that part, I want it wait/delay for some amount of time. Here is the code I have: \r\n\r\n\r\n\r\n\r\n```\r\nTrajectory exampleTrajectory =\r\n        TrajectoryGenerator.generateTrajectory(trajectory);\r\n        TimeUnits.Second.sleep(10)\r\n```\r\n\r\n\r\n\r\nI have tried using TimeUnits.Second.sleep(10) but I keep getting an error saying that it cannot be resolved. ","title":"Adding a Wait or Delay to Java","body":"<p>So I have some Java code that once it has ran through that part, I want it wait/delay for some amount of time. Here is the code I have:</p>\n<pre><code>Trajectory exampleTrajectory =\n        TrajectoryGenerator.generateTrajectory(trajectory);\n        TimeUnits.Second.sleep(10)\n</code></pre>\n<p>I have tried using TimeUnits.Second.sleep(10) but I keep getting an error saying that it cannot be resolved.</p>\n"},{"tags":["java","spring","jakarta-ee","ejb"],"comments":[{"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1460033806,"post_id":15120141,"comment_id":60563767,"body_markdown":"Heva a look at this answer: http://stackoverflow.com/questions/6437828/spring-transactions-with-supports-propagation#6437924","body":"Heva a look at this answer: <a href=\"http://stackoverflow.com/questions/6437828/spring-transactions-with-supports-propagation#6437924\" title=\"spring transactions with supports propagation%236437924\">stackoverflow.com/questions/6437828/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1361991994,"creation_date":1361991994,"answer_id":15120243,"question_id":15120141,"body_markdown":"Easiest example I can think of would be a method that sends some content to a JMS server.  If you are in the context of a transaction, you want the message to be coupled to the transaction scope.  But if there isn&#39;t already a transaction running, why bother calling the transaction server also and starting one just to do a one-off message?\r\n\r\nRemember these can be declared on an API as well as an implementation.  So even if there isn&#39;t much difference for your use case between putting it there and putting nothing there, it still adds value for an API author to specify what operations are able to be included in a transaction, as opposed to operations that perhaps call an external system that does not participate in transactions.\r\n\r\nThis is of course in a JTA context.  The feature doesn&#39;t really have much practical use in a system where transactions are limited to resource-local physical database transactions.","title":"When to use Spring @Transactional (propagation = Propagation.SUPPORTS)?","body":"<p>Easiest example I can think of would be a method that sends some content to a JMS server.  If you are in the context of a transaction, you want the message to be coupled to the transaction scope.  But if there isn't already a transaction running, why bother calling the transaction server also and starting one just to do a one-off message?</p>\n\n<p>Remember these can be declared on an API as well as an implementation.  So even if there isn't much difference for your use case between putting it there and putting nothing there, it still adds value for an API author to specify what operations are able to be included in a transaction, as opposed to operations that perhaps call an external system that does not participate in transactions.</p>\n\n<p>This is of course in a JTA context.  The feature doesn't really have much practical use in a system where transactions are limited to resource-local physical database transactions.</p>\n"},{"tags":[],"owner":{"account_id":62516,"reputation":20965,"user_id":185723,"accept_rate":89,"display_name":"dimitrisli"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1370819720,"creation_date":1370819720,"answer_id":17015104,"question_id":15120141,"body_markdown":"It makes a good pair along with the `readOnly=true` Transactional flag on a select operation especially when ORM is used:\r\n\r\n    @Transactional(readOnly = true, propagation=Propagation.SUPPORTS)\r\n    public Pojo findPojo(long pojoId) throws Exception {\r\n       return em.find(Pojo.class, pojoId);\r\n    }\r\n\r\nIn this case you make sure not to pay to price of creating a new transaction if there isn&#39;t one already just for performing a select operation.\r\n\r\nAlthough if you have been in that thought process already you might even consider ditch the Transactional aspect all together:\r\n\r\n    public Pojo findPojo(long pojoId) throws Exception {\r\n       return em.find(Pojo.class, pojoId);\r\n    }","title":"When to use Spring @Transactional (propagation = Propagation.SUPPORTS)?","body":"<p>It makes a good pair along with the <code>readOnly=true</code> Transactional flag on a select operation especially when ORM is used:</p>\n\n<pre><code>@Transactional(readOnly = true, propagation=Propagation.SUPPORTS)\npublic Pojo findPojo(long pojoId) throws Exception {\n   return em.find(Pojo.class, pojoId);\n}\n</code></pre>\n\n<p>In this case you make sure not to pay to price of creating a new transaction if there isn't one already just for performing a select operation.</p>\n\n<p>Although if you have been in that thought process already you might even consider ditch the Transactional aspect all together:</p>\n\n<pre><code>public Pojo findPojo(long pojoId) throws Exception {\n   return em.find(Pojo.class, pojoId);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460034189,"creation_date":1460034189,"answer_id":36477059,"question_id":15120141,"body_markdown":"According this issues &lt;a href=&quot;https://jira.spring.io/browse/DATAJPA-601&quot;&gt;Improve performance with Propagation.SUPPORTS for readOnly operation&lt;/a&gt; you should not set read-only transaction with Propagation.SUPPORTS:\r\n\r\nIt&#39;s by no means clear that the change would actually improve performance. There&#39;s multiple aspects in this. First of them is that the linked article is dated and incredibly flawed as it aggressively simplifies things. I can go into details if you want but I&#39;ll leave it at that for now. There are a lot of things playing into execution performance here. Without a transaction in progress neither the readOnly flag is propagated to the JDBC driver (which would cause optimizations for a lot of databases not being applied) nor would you apply the optimizations in Spring&#39;s JPA resource management code like explicitly turning off flushing, which - if applied - can dramatically improve performance in case you read a lot of data.","title":"When to use Spring @Transactional (propagation = Propagation.SUPPORTS)?","body":"<p>According this issues <a href=\"https://jira.spring.io/browse/DATAJPA-601\" rel=\"nofollow\">Improve performance with Propagation.SUPPORTS for readOnly operation</a> you should not set read-only transaction with Propagation.SUPPORTS:</p>\n\n<p>It's by no means clear that the change would actually improve performance. There's multiple aspects in this. First of them is that the linked article is dated and incredibly flawed as it aggressively simplifies things. I can go into details if you want but I'll leave it at that for now. There are a lot of things playing into execution performance here. Without a transaction in progress neither the readOnly flag is propagated to the JDBC driver (which would cause optimizations for a lot of databases not being applied) nor would you apply the optimizations in Spring's JPA resource management code like explicitly turning off flushing, which - if applied - can dramatically improve performance in case you read a lot of data.</p>\n"},{"tags":[],"owner":{"account_id":66967,"reputation":500,"user_id":196207,"display_name":"Sankozi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678890526,"creation_date":1678890526,"answer_id":75746111,"question_id":15120141,"body_markdown":"Using `Propagation.SUPPORTS` you can trigger setting rollback only flag when exception is thrown. For example in the following code although there is a catch block `UnexpectedRollbackException` will be thrown when leaving `txRequired` block.\r\n\r\n    TransactionTemplate txRequired = new TransactionTemplate(platformTransactionManager);\r\n    TransactionTemplate txSupports = new TransactionTemplate(platformTransactionManager);\r\n    txRequired.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRED);\r\n    txSupports.setPropagationBehavior(TransactionDefinition.PROPAGATION_SUPPORTS);\r\n\r\n    //prints &#39;Exception handled&#39; and then throws UnexpectedRollbackException\r\n    txRequired.executeWithoutResult(tx -&gt; {\r\n        try {\r\n            txSupports.executeWithoutResult(tx2 -&gt; {\r\n                throw new RuntimeException();\r\n            });\r\n        } catch (Exception ex) {\r\n            System.out.println(&quot;Exception handled&quot;);\r\n        }\r\n    }); \r\n\r\nCode below will obviously not throw any exception. The only difference is lack of `PROPAGATION_SUPPORTS` block.\r\n\r\n    txRequired.executeWithoutResult((tx) -&gt; {\r\n        try {\r\n            throw new RuntimeException();\r\n        } catch (Exception ex) {\r\n            System.out.println(&quot;Exception handled&quot;);\r\n        }\r\n    });","title":"When to use Spring @Transactional (propagation = Propagation.SUPPORTS)?","body":"<p>Using <code>Propagation.SUPPORTS</code> you can trigger setting rollback only flag when exception is thrown. For example in the following code although there is a catch block <code>UnexpectedRollbackException</code> will be thrown when leaving <code>txRequired</code> block.</p>\n<pre><code>TransactionTemplate txRequired = new TransactionTemplate(platformTransactionManager);\nTransactionTemplate txSupports = new TransactionTemplate(platformTransactionManager);\ntxRequired.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRED);\ntxSupports.setPropagationBehavior(TransactionDefinition.PROPAGATION_SUPPORTS);\n\n//prints 'Exception handled' and then throws UnexpectedRollbackException\ntxRequired.executeWithoutResult(tx -&gt; {\n    try {\n        txSupports.executeWithoutResult(tx2 -&gt; {\n            throw new RuntimeException();\n        });\n    } catch (Exception ex) {\n        System.out.println(&quot;Exception handled&quot;);\n    }\n}); \n</code></pre>\n<p>Code below will obviously not throw any exception. The only difference is lack of <code>PROPAGATION_SUPPORTS</code> block.</p>\n<pre><code>txRequired.executeWithoutResult((tx) -&gt; {\n    try {\n        throw new RuntimeException();\n    } catch (Exception ex) {\n        System.out.println(&quot;Exception handled&quot;);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":195439,"reputation":60906,"user_id":438319,"accept_rate":73,"display_name":"ams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28578,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":15120243,"answer_count":4,"score":30,"last_activity_date":1678890526,"creation_date":1361991671,"question_id":15120141,"body_markdown":"According to the Spring javadoc `@Transactional(propagation = Propagation.SUPPORTS)` \r\n\r\n&gt; Support a current transaction, execute non-transactionally if none\r\n&gt; exists. Analogous to EJB transaction attribute of the same name.\r\n\r\nIt seems that I can just declare methods non transactionaly and be just done with it so my questions are.\r\n\r\n* What are some situations where SUPPORTS propagation is needed? \r\n* What is the point of the Supports propagation? \r\n\r\nCan anyone give a real world example / scenario where SUPPORTS was actually useful?","title":"When to use Spring @Transactional (propagation = Propagation.SUPPORTS)?","body":"<p>According to the Spring javadoc <code>@Transactional(propagation = Propagation.SUPPORTS)</code> </p>\n\n<blockquote>\n  <p>Support a current transaction, execute non-transactionally if none\n  exists. Analogous to EJB transaction attribute of the same name.</p>\n</blockquote>\n\n<p>It seems that I can just declare methods non transactionaly and be just done with it so my questions are.</p>\n\n<ul>\n<li>What are some situations where SUPPORTS propagation is needed? </li>\n<li>What is the point of the Supports propagation? </li>\n</ul>\n\n<p>Can anyone give a real world example / scenario where SUPPORTS was actually useful?</p>\n"},{"tags":["java","maven","maven-surefire-plugin"],"comments":[{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1606307591,"post_id":65004670,"comment_id":114923949,"body_markdown":"Initial `mvn install` for `dad` is the idiomatic way with Maven for this type of work. Though you also have an option to run them from IDE :)","body":"Initial <code>mvn install</code> for <code>dad</code> is the idiomatic way with Maven for this type of work. Though you also have an option to run them from IDE :)"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1606308111,"post_id":65004670,"comment_id":114924158,"body_markdown":"So you want to __compile__  &quot;dad&quot;&#39;s classes but you don&#39;t want to run its tests, right?","body":"So you want to <b>compile</b>  &quot;dad&quot;&#39;s classes but you don&#39;t want to run its tests, right?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1606308697,"post_id":65004670,"comment_id":114924410,"body_markdown":"What about simply not using the `-am` cause it says: `If project list is specified, also build projects required by the list`...... Why do you do such things on command line and not within your ide?  Apart from that what is so problematic to use the `install .. ` and `mvn -pl son test` approach? So your local repository can be cleaned up easy? ...Running tests from a module or parts of it ... just using the IDE ... never doing that on command line ... the CI runs all tests on my branches...","body":"What about simply not using the <code>-am</code> cause it says: <code>If project list is specified, also build projects required by the list</code>...... Why do you do such things on command line and not within your ide?  Apart from that what is so problematic to use the <code>install .. </code> and <code>mvn -pl son test</code> approach? So your local repository can be cleaned up easy? ...Running tests from a module or parts of it ... just using the IDE ... never doing that on command line ... the CI runs all tests on my branches..."},{"owner":{"account_id":1336198,"reputation":1595,"user_id":1278899,"accept_rate":20,"display_name":"Volkan Yazıcı"},"score":0,"creation_date":1606308974,"post_id":65004670,"comment_id":114924527,"body_markdown":"@StanislavBashkyrtsev Polluting `~/.m2` with partial work just to run the tests of a single module doesn&#39;t sound *idiomatic* to me.","body":"@StanislavBashkyrtsev Polluting <code>~&#47;.m2</code> with partial work just to run the tests of a single module doesn&#39;t sound <i>idiomatic</i> to me."},{"owner":{"account_id":1336198,"reputation":1595,"user_id":1278899,"accept_rate":20,"display_name":"Volkan Yazıcı"},"score":0,"creation_date":1606309101,"post_id":65004670,"comment_id":114924579,"body_markdown":"@MarkBramnik, right. To be honest, I don&#39;t even want to compile `dad`, though if you don&#39;t provide `-am` to compile the dependency modules, Maven complains that `dad` is not found.","body":"@MarkBramnik, right. To be honest, I don&#39;t even want to compile <code>dad</code>, though if you don&#39;t provide <code>-am</code> to compile the dependency modules, Maven complains that <code>dad</code> is not found."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1606309119,"post_id":65004670,"comment_id":114924591,"body_markdown":"The `$HOME/.m2/repository` is a cache nothing else... polluting? There are then SNAPSHOT&#39;s etc.. So what?","body":"The <code>$HOME&#47;.m2&#47;repository</code> is a cache nothing else... polluting? There are then SNAPSHOT&#39;s etc.. So what?"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":1,"creation_date":1606309139,"post_id":65004670,"comment_id":114924603,"body_markdown":"@VolkanYazıcı, it&#39;s local repo, it doesn&#39;t matter what you have here. It exists to be polluted since it may contain SNAPSHOTs.","body":"@VolkanYazıcı, it&#39;s local repo, it doesn&#39;t matter what you have here. It exists to be polluted since it may contain SNAPSHOTs."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1606309188,"post_id":65004670,"comment_id":114924623,"body_markdown":"Yes of course cause it&#39;s a dependency...than you have to go the way `mvn install` for the whole project. Than you can use `mvn -pl son` from the root which will resolve the dependency from your local cache...","body":"Yes of course cause it&#39;s a dependency...than you have to go the way <code>mvn install</code> for the whole project. Than you can use <code>mvn -pl son</code> from the root which will resolve the dependency from your local cache..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1606309280,"post_id":65004670,"comment_id":114924661,"body_markdown":"The cache is on your local machine which you can delete any time if it becomes to large ... then everything will be downloaded again... except we are talking about a setup for a CI solution like Jenkins ... I suppose we are talking about local development on dev machine...","body":"The cache is on your local machine which you can delete any time if it becomes to large ... then everything will be downloaded again... except we are talking about a setup for a CI solution like Jenkins ... I suppose we are talking about local development on dev machine..."},{"owner":{"account_id":1336198,"reputation":1595,"user_id":1278899,"accept_rate":20,"display_name":"Volkan Yazıcı"},"score":0,"creation_date":1606309628,"post_id":65004670,"comment_id":114924822,"body_markdown":"Regarding running from the IDE... IntelliJ IDEA 2019.3.5 cannot run tests for `log4j-layout-template-json` module due to its complex setup. Hence, it is not an option always. Thanks for your kind *alternative* work arounds, though in the question I explicitly stated that I want to avoid `install` and want to do this using `mvn`, not an IDE.","body":"Regarding running from the IDE... IntelliJ IDEA 2019.3.5 cannot run tests for <code>log4j-layout-template-json</code> module due to its complex setup. Hence, it is not an option always. Thanks for your kind <i>alternative</i> work arounds, though in the question I explicitly stated that I want to avoid <code>install</code> and want to do this using <code>mvn</code>, not an IDE."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1606310097,"post_id":65004670,"comment_id":114925060,"body_markdown":"@VolkanYazıcı I guess it is good to have alternative approaches because the thing you asked for is probably not really possible.","body":"@VolkanYazıcı I guess it is good to have alternative approaches because the thing you asked for is probably not really possible."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1606310111,"post_id":65004670,"comment_id":114925071,"body_markdown":"If you can&#39;t run your tests from your IDE then the tests are too complex or wrongly done...and must be simplified/changed...Furthermore that is an indication to run such tests on a CI solution like Jenkins...   Apart from that I strongly recommend to upgrade your IDE ... 2020.2 (2020.3 is around the corner already in beta)... Do not use old Software...The test sounds more like an integration tests ? Complex setup? What is the real problem here? Because you are insistence on not to use `install` but you do ???","body":"If you can&#39;t run your tests from your IDE then the tests are too complex or wrongly done...and must be simplified/changed...Furthermore that is an indication to run such tests on a CI solution like Jenkins...   Apart from that I strongly recommend to upgrade your IDE ... 2020.2 (2020.3 is around the corner already in beta)... Do not use old Software...The test sounds more like an integration tests ? Complex setup? What is the real problem here? Because you are insistence on not to use <code>install</code> but you do ???"},{"owner":{"account_id":1336198,"reputation":1595,"user_id":1278899,"accept_rate":20,"display_name":"Volkan Yazıcı"},"score":0,"creation_date":1606312110,"post_id":65004670,"comment_id":114926076,"body_markdown":"@JFabianMeier, sadly, I think so. Just wanted to double-check before creating a Maven ticket.","body":"@JFabianMeier, sadly, I think so. Just wanted to double-check before creating a Maven ticket."}],"answers":[{"tags":[],"owner":{"account_id":16434980,"reputation":11,"user_id":11872795,"display_name":"Roiocam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673333563,"creation_date":1673333563,"answer_id":75066423,"question_id":65004670,"body_markdown":"I am stuck on this for a while, but eventually, I got the solution.\r\n\r\nThis is my condition:\r\n\r\n- I have many submodules: A, B, and C.  some of them are independent, and some of them are dependent.\r\n- I want to only run the Module-C test, but C dependence on A and B.\r\n- `mvn clean test -pl C ` does not work for me, because of 2.\r\n- `mvn clean test -pl C -am ` work for me, but it runs all of the module tests.\r\n\r\nThis is my thought:\r\n\r\nthe reason why `mvn clean test -pl C -am` run all tests, is because C has a dependence on A and B, So module C must compile A and B first, and then compile C.\r\n\r\nThese is the Resolutions:\r\n\r\n1. make parent Pom skip all of the module tests. \r\n2. make a profile on Module C, and enable the test.\r\n3. just run  `mvn clean test -DmoduleCTest=true`\r\n\r\nThe module C pom is like this, and another module is the same way but has diff profile id.\r\n\r\n```xml\r\n&lt;profiles&gt;\r\n    &lt;profile&gt;\r\n        &lt;id&gt;moduleCTest&lt;/id&gt;\r\n        &lt;activation&gt;\r\n            &lt;property&gt;\r\n                &lt;name&gt;moduleCTest&lt;/name&gt;\r\n                &lt;value&gt;true&lt;/value&gt;\r\n            &lt;/property&gt;\r\n        &lt;/activation&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skipTests&gt;false&lt;/skipTests&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n\r\n```\r\n\r\n\r\n\r\n","title":"How to run tests only for a single Maven module?","body":"<p>I am stuck on this for a while, but eventually, I got the solution.</p>\n<p>This is my condition:</p>\n<ul>\n<li>I have many submodules: A, B, and C.  some of them are independent, and some of them are dependent.</li>\n<li>I want to only run the Module-C test, but C dependence on A and B.</li>\n<li><code>mvn clean test -pl C </code> does not work for me, because of 2.</li>\n<li><code>mvn clean test -pl C -am </code> work for me, but it runs all of the module tests.</li>\n</ul>\n<p>This is my thought:</p>\n<p>the reason why <code>mvn clean test -pl C -am</code> run all tests, is because C has a dependence on A and B, So module C must compile A and B first, and then compile C.</p>\n<p>These is the Resolutions:</p>\n<ol>\n<li>make parent Pom skip all of the module tests.</li>\n<li>make a profile on Module C, and enable the test.</li>\n<li>just run  <code>mvn clean test -DmoduleCTest=true</code></li>\n</ol>\n<p>The module C pom is like this, and another module is the same way but has diff profile id.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;moduleCTest&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;property&gt;\n                &lt;name&gt;moduleCTest&lt;/name&gt;\n                &lt;value&gt;true&lt;/value&gt;\n            &lt;/property&gt;\n        &lt;/activation&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;skipTests&gt;false&lt;/skipTests&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7647173,"reputation":2122,"user_id":5797400,"display_name":"jpllosa"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1676976663,"creation_date":1676976663,"answer_id":75519452,"question_id":65004670,"body_markdown":"On maven 3.3.9, I ran:\r\n\r\n`mvn test -pl :web-module`\r\n\r\nto ran the web module. In the POM, should look like this, `&lt;module&gt;web-module&lt;/module&gt;`, inside the `modules` tag.\r\n\r\nTo test a specific class inside that module:\r\n\r\n`mvn test -pl :web-module -Dtest=&quot;ClassUnderTest&quot;`","title":"How to run tests only for a single Maven module?","body":"<p>On maven 3.3.9, I ran:</p>\n<p><code>mvn test -pl :web-module</code></p>\n<p>to ran the web module. In the POM, should look like this, <code>&lt;module&gt;web-module&lt;/module&gt;</code>, inside the <code>modules</code> tag.</p>\n<p>To test a specific class inside that module:</p>\n<p><code>mvn test -pl :web-module -Dtest=&quot;ClassUnderTest&quot;</code></p>\n"}],"owner":{"account_id":1336198,"reputation":1595,"user_id":1278899,"accept_rate":20,"display_name":"Volkan Yazıcı"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2162,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1678890522,"creation_date":1606307109,"question_id":65004670,"body_markdown":"Given a Maven project with modules `dad` and `son`, where `son` depends on `dad`, `mvn -am -pl son test` runs the tests for `dad` too. Is there a way to avoid this and only run tests for `son` module?\r\n\r\nNote that there a couple of ways to achieve this, though each has its own caveats which I don&#39;t prefer:\r\n\r\n- Using `-Dtest=&quot;**/son/*Test.java&quot; -DfailIfNoTests=false` overrides the `maven-surefire-plugin` config in the module.\r\n- Similar to `-Dtest`, JUnit 5 tags could also be filtered, but this approach suffers from the same shortcoming aforementioned.\r\n- One can first do an `install -DskipTests=true` and then `mvn -pl son test`, though this pollutes the local Maven repository with partial work.","title":"How to run tests only for a single Maven module?","body":"<p>Given a Maven project with modules <code>dad</code> and <code>son</code>, where <code>son</code> depends on <code>dad</code>, <code>mvn -am -pl son test</code> runs the tests for <code>dad</code> too. Is there a way to avoid this and only run tests for <code>son</code> module?</p>\n<p>Note that there a couple of ways to achieve this, though each has its own caveats which I don't prefer:</p>\n<ul>\n<li>Using <code>-Dtest=&quot;**/son/*Test.java&quot; -DfailIfNoTests=false</code> overrides the <code>maven-surefire-plugin</code> config in the module.</li>\n<li>Similar to <code>-Dtest</code>, JUnit 5 tags could also be filtered, but this approach suffers from the same shortcoming aforementioned.</li>\n<li>One can first do an <code>install -DskipTests=true</code> and then <code>mvn -pl son test</code>, though this pollutes the local Maven repository with partial work.</li>\n</ul>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":15136060,"reputation":1,"user_id":10922542,"display_name":"shashi mishra"},"score":0,"creation_date":1547643863,"post_id":4968491,"comment_id":95317068,"body_markdown":"The resource type `PDDocument` does not implement `java.lang.AutoCloseable` so we can&#39;t go with try with resource for current scenario.","body":"The resource type <code>PDDocument</code> does not implement <code>java.lang.AutoCloseable</code> so we can&#39;t go with try with resource for current scenario."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1547724563,"post_id":4968491,"comment_id":95317069,"body_markdown":"Maybe you&#39;re using an old version of PDFBox. In 2.0.13 it is Closeable which extends AutoCloseable. Btw this is not an answer.","body":"Maybe you&#39;re using an old version of PDFBox. In 2.0.13 it is Closeable which extends AutoCloseable. Btw this is not an answer."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1297424136,"creation_date":1297424136,"answer_id":4968514,"question_id":4968491,"body_markdown":"You&#39;re loading a `PDDocument` but not closing it. I suspect you need to do:\r\n\r\n    String textOfPdf;\r\n    PDDocument doc = PDDocument.load(&quot;doc&quot;);\r\n    try {\r\n        textOfPdf = pdfs.getText(doc);\r\n    } finally {\r\n        doc.close();\r\n    }","title":"Java close PDF error","body":"<p>You're loading a <code>PDDocument</code> but not closing it. I suspect you need to do:</p>\n\n<pre><code>String textOfPdf;\nPDDocument doc = PDDocument.load(\"doc\");\ntry {\n    textOfPdf = pdfs.getText(doc);\n} finally {\n    doc.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1297424469,"creation_date":1297424469,"answer_id":4968572,"question_id":4968491,"body_markdown":"This warning is emitted when the pdf document is finalised and hasn&#39;t been closed.\r\n\r\nHere is the `finalize` method from [COSDocument][1]:\r\n\r\n    /**\r\n     * Warn the user in the finalizer if he didn&#39;t close the PDF document. The method also\r\n     * closes the document just in case, to avoid abandoned temporary files. It&#39;s still a good\r\n     * idea for the user to close the PDF document at the earliest possible to conserve resources.\r\n     * @throws IOException if an error occurs while closing the temporary files\r\n     */\r\n    protected void finalize() throws IOException\r\n    {\r\n        if (!closed) {\r\n            if (warnMissingClose) {\r\n                log.warn( &quot;Warning: You did not close a PDF Document&quot; );\r\n            }\r\n            close();\r\n        }\r\n    }\r\n\r\nTo get rid of this warning, you should explicitly call `close` on the document when you are done with it.\r\n\r\n\r\n[1]: http://svn.apache.org/repos/asf/pdfbox/trunk/pdfbox/src/main/java/org/apache/pdfbox/cos/COSDocument.java","title":"Java close PDF error","body":"<p>This warning is emitted when the pdf document is finalised and hasn't been closed.</p>\n\n<p>Here is the <code>finalize</code> method from <a href=\"http://svn.apache.org/repos/asf/pdfbox/trunk/pdfbox/src/main/java/org/apache/pdfbox/cos/COSDocument.java\" rel=\"noreferrer\">COSDocument</a>:</p>\n\n<pre><code>/**\n * Warn the user in the finalizer if he didn't close the PDF document. The method also\n * closes the document just in case, to avoid abandoned temporary files. It's still a good\n * idea for the user to close the PDF document at the earliest possible to conserve resources.\n * @throws IOException if an error occurs while closing the temporary files\n */\nprotected void finalize() throws IOException\n{\n    if (!closed) {\n        if (warnMissingClose) {\n            log.warn( \"Warning: You did not close a PDF Document\" );\n        }\n        close();\n    }\n}\n</code></pre>\n\n<p>To get rid of this warning, you should explicitly call <code>close</code> on the document when you are done with it.</p>\n"},{"tags":[],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1497275675,"creation_date":1436209243,"answer_id":31253584,"question_id":4968491,"body_markdown":"Just had this issue, too. With Java 7 you can do this:\r\n\r\n    try(PDDocument document = PDDocument.load(input)) {\r\n      // do something  \r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n\r\nBecause `PDDocument implements Closeable`, the `try` block will automagically call its `close()` method at the end.","title":"Java close PDF error","body":"<p>Just had this issue, too. With Java 7 you can do this:</p>\n\n<pre><code>try(PDDocument document = PDDocument.load(input)) {\n  // do something  \n} catch (IOException e) {\n  e.printStackTrace();\n}\n</code></pre>\n\n<p>Because <code>PDDocument implements Closeable</code>, the <code>try</code> block will automagically call its <code>close()</code> method at the end.</p>\n"},{"tags":[],"owner":{"account_id":19046906,"reputation":1,"user_id":13905908,"display_name":"Richard N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678890379,"creation_date":1678890379,"answer_id":75746086,"question_id":4968491,"body_markdown":"For anybody using Kotlin, the extension function *use* takes care of any Closable for you:\r\n\r\n\r\n    val textOfPdf = PDDocument.load(&quot;doc&quot;).use { pdfs.getText(it) }\r\n\r\ncf. https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html","title":"Java close PDF error","body":"<p>For anybody using Kotlin, the extension function <em>use</em> takes care of any Closable for you:</p>\n<pre><code>val textOfPdf = PDDocument.load(&quot;doc&quot;).use { pdfs.getText(it) }\n</code></pre>\n<p>cf. <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html</a></p>\n"}],"owner":{"account_id":303775,"reputation":131,"user_id":612918,"accept_rate":38,"display_name":"bonsai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20931,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":4968514,"answer_count":4,"score":9,"last_activity_date":1678890379,"creation_date":1297423887,"question_id":4968491,"body_markdown":"I have this java code:\r\n\r\n    try {\r\n    \tPDFTextStripper pdfs = new PDFTextStripper();\r\n    \r\n    \tString textOfPDF = pdfs.getText(PDDocument.load(&quot;doc&quot;));\r\n    \r\n    \tdoc.add(new Field(campo.getDestino(),\r\n    \t\t\ttextOfPDF,\r\n    \t\t\tField.Store.NO,\r\n    \t\t\tField.Index.ANALYZED));\r\n    \r\n    } catch (Exception exep) {\r\n    \tSystem.out.println(exep);\r\n    \tSystem.out.println(&quot;PDF fail&quot;);\r\n    }\r\n\r\n\r\nAnd throws this:\r\n\r\n    11:45:07,017 WARN  [COSDocument] Warning: You did not close a PDF Document\r\n\r\nAnd I don&#39;t know why but throw this 1, 2, 3, or more.\r\n\r\nI find that COSDocument is a class and have close() method, but I don&#39;t use this class nowhere.\r\n\r\n\r\nI have this imports:\r\n\r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.util.PDFTextStripper;\r\n\r\nThanks :)","title":"Java close PDF error","body":"<p>I have this java code:</p>\n\n<pre><code>try {\n    PDFTextStripper pdfs = new PDFTextStripper();\n\n    String textOfPDF = pdfs.getText(PDDocument.load(\"doc\"));\n\n    doc.add(new Field(campo.getDestino(),\n            textOfPDF,\n            Field.Store.NO,\n            Field.Index.ANALYZED));\n\n} catch (Exception exep) {\n    System.out.println(exep);\n    System.out.println(\"PDF fail\");\n}\n</code></pre>\n\n<p>And throws this:</p>\n\n<pre><code>11:45:07,017 WARN  [COSDocument] Warning: You did not close a PDF Document\n</code></pre>\n\n<p>And I don't know why but throw this 1, 2, 3, or more.</p>\n\n<p>I find that COSDocument is a class and have close() method, but I don't use this class nowhere.</p>\n\n<p>I have this imports:</p>\n\n<pre><code>import org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.util.PDFTextStripper;\n</code></pre>\n\n<p>Thanks :)</p>\n"},{"tags":["java","service","sql++"],"answers":[{"tags":[],"owner":{"account_id":8066583,"reputation":7244,"user_id":6080536,"display_name":"vsr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678890289,"creation_date":1678890289,"answer_id":75746059,"question_id":75704393,"body_markdown":"You can add separate node with query service.\r\nYou will not able to add service existing node (unless remove the node and re add)","title":"Enabling Query Service in Couchbase","body":"<p>You can add separate node with query service.\nYou will not able to add service existing node (unless remove the node and re add)</p>\n"}],"owner":{"account_id":27989913,"reputation":1,"user_id":21375996,"display_name":"Vinay Salunke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678890289,"creation_date":1678531895,"question_id":75704393,"body_markdown":"Creating this topic as i have query on the couchbase.\r\n\r\nI have setup. cocuhabase Node and i have missed to enable the query service while setting up the node.\r\n\r\nCan somone help me to enable the query service as i need to run som N1QL queries from the console,\r\n\r\nHi Team\r\n\r\nCreating this topic as i have query on the couchbase.\r\n\r\nI have setup. cocuhabase Node and i have missed to enable the query service while setting up the node.\r\n\r\nCan someone help me to enable the query service as i need to run som N1QL queries from the console,","title":"Enabling Query Service in Couchbase","body":"<p>Creating this topic as i have query on the couchbase.</p>\n<p>I have setup. cocuhabase Node and i have missed to enable the query service while setting up the node.</p>\n<p>Can somone help me to enable the query service as i need to run som N1QL queries from the console,</p>\n<p>Hi Team</p>\n<p>Creating this topic as i have query on the couchbase.</p>\n<p>I have setup. cocuhabase Node and i have missed to enable the query service while setting up the node.</p>\n<p>Can someone help me to enable the query service as i need to run som N1QL queries from the console,</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1678898561,"post_id":75746014,"comment_id":133623723,"body_markdown":"Not possible. No app will listen to a mime type specification.","body":"Not possible. No app will listen to a mime type specification."}],"owner":{"account_id":34170,"reputation":5366,"user_id":96313,"accept_rate":40,"display_name":"Viktor Brešan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678890055,"creation_date":1678890055,"question_id":75746014,"body_markdown":"From my app, I want to launch a default file manager that will filter content based on mime type that I provide. **I am not interested in the eventual user-selected file, i.e. I don&#39;t want the file content or control to be returned back to my app. Instead, I want the file manager to show default choices once the file is selected.**\r\n\r\nI wasn&#39;t able to find any documentation or code samples that would achieve such a thing. \r\n\r\nObviously, these are not intents with actions:\r\n\r\n    Intent.ACTION_GET_CONTENT\r\n    Intent.ACTION_OPEN_DOCUMENT\r\n\r\n","title":"How to launch default file manager with mime type filtering - while not being interested in picked file?","body":"<p>From my app, I want to launch a default file manager that will filter content based on mime type that I provide. <strong>I am not interested in the eventual user-selected file, i.e. I don't want the file content or control to be returned back to my app. Instead, I want the file manager to show default choices once the file is selected.</strong></p>\n<p>I wasn't able to find any documentation or code samples that would achieve such a thing.</p>\n<p>Obviously, these are not intents with actions:</p>\n<pre><code>Intent.ACTION_GET_CONTENT\nIntent.ACTION_OPEN_DOCUMENT\n</code></pre>\n"},{"tags":["java","apache-kafka","memory-leaks","spring-kafka","bytebuffer"],"owner":{"account_id":21472532,"reputation":91,"user_id":15821295,"display_name":"Taliebram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678889985,"creation_date":1678107340,"question_id":75651128,"body_markdown":"We have a service that listens on an mqtt channel for measurements. After some conversions these measurements get put on kafka. This all works fairly well, but there is a memory leak, somewhere, which I can&#39;t pinpoint.\r\n\r\nThe memory profile of my application can be seen here:\r\n\r\n[![Memory leak over time][1]][1]\r\n\r\nThe yellow line corresponds to the direct byte buffer pool.\r\n\r\nAfter investigating the heap dump with MAT and applying this OQL query: `SELECT x AS ByteBuffer, x.capacity AS Capacity, x.limit AS Limit, x.mark AS Mark, x.position AS Position FROM java.nio.DirectByteBuffer x WHERE ((x.capacity &gt; (1024 * 1024)) and (x.cleaner != null))` we see that there are roughly 400 direct bytebuffers, each with a capacity of roughly 4MB. \r\n\r\n[![OQL response][2]][2]\r\n\r\nIf you follow this to the GC root you see that it is used by a kafka producer:\r\n[![GC root][3]][3]\r\n\r\nThis led me to applying this OQL query: `select * from org.apache.kafka.common.utils.KafkaThread` which returns the following response:\r\n[![OQL Kafka threads response][4]][4]\r\n\r\nWhich seems like a logical response, however if you dive a bit deeper into the contents of the kafka producer you see that it is keeping a lot of direct byte buffers:\r\n[![kafka thread expand][5]][5]\r\n\r\n\r\nThe producer gets made here:\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class BxKafkaProducerFactory {\r\n\r\n    private final KafkaProperties kafkaProperties;\r\n\r\n    public &lt;K, V&gt; Producer&lt;K, V&gt; getProducer() {\r\n        return new KafkaProducer&lt;&gt;(getKafkaProducerProperties());\r\n    }\r\n}\r\n```\r\nWe use default settings for almost all things. Whe use `acks=all`, the lingering time is `100ms`, security protocol `SASL_PLAINTEXT`, `PLAIN` for the saslMechanism,KafkaAvroSerializer for the key and value serializer, compression type of `snappy`. The same settings we use in different (relatable) services where we don&#39;t see this memory issue.\r\n\r\nWe just have 3 producers that get created on startup, and removed on shutdown, so it is not that we are leaking producers (I checked this by adding a log statement on the producer creation). It looks more like the producers themselves are leaking memory. \r\n\r\nDoes anybody have any idea what could cause this? Or have any good pointers on how to debug this next? As you can see in the first image the memory is steadily increasing and it doesn&#39;t come down even after a week or so.\r\n\r\nEDIT:\r\n\r\nAfter some more debugging and following all the byte buffers to their gc root, we see this progress:\r\n\r\n```\r\n15:23\r\nTotal 18:\r\nGlobalStream: 1\r\nHearthBeat: 1\r\nJava Thread: 1\r\nNio FastThread: 5\r\nProducer 1: 1\r\nProducer 2: 2\r\nProducer 3: 2\r\nCleaner: 5\r\n\r\n16:04\r\nTotal 23:\r\nGlobalStream: HearthBeat 1\r\nJava Thread: 1\r\nNio FashThread: 6\r\nProducer 1: 0\r\nProducer 2: 8\r\nProdcuer 3: 2\r\nCleaner: 4\r\n\r\n17:04\r\nTotal 25:\r\nGlobalStream: HearthBeat 2\r\nJava Thread: 1\r\nNio FashThread: 7\r\nProducer 1: 2\r\nProducer 2: 8\r\nProdcuer 3: 4\r\nCleaner: 0\r\n```\r\n\r\nWe clearly see the number of bytebuffers of the kafka producer increasing over time. This also matches to the jvm metrics we catch:\r\n[![DirectByteBuffer bumps][6]][6]\r\n\r\n\r\nThanks in advance!\r\n\r\nPS: I have also investigated it with jeprof and jemalloc, but couldn&#39;t find anomalies there.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kIDo1.png\r\n  [2]: https://i.stack.imgur.com/KXsoG.png\r\n  [3]: https://i.stack.imgur.com/EBd6K.png\r\n  [4]: https://i.stack.imgur.com/1RG8s.png\r\n  [5]: https://i.stack.imgur.com/hMXDO.png\r\n  [6]: https://i.stack.imgur.com/LASGZ.png","title":"Kafka producer, direct byte buffer memory leak","body":"<p>We have a service that listens on an mqtt channel for measurements. After some conversions these measurements get put on kafka. This all works fairly well, but there is a memory leak, somewhere, which I can't pinpoint.</p>\n<p>The memory profile of my application can be seen here:</p>\n<p><a href=\"https://i.stack.imgur.com/kIDo1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kIDo1.png\" alt=\"Memory leak over time\" /></a></p>\n<p>The yellow line corresponds to the direct byte buffer pool.</p>\n<p>After investigating the heap dump with MAT and applying this OQL query: <code>SELECT x AS ByteBuffer, x.capacity AS Capacity, x.limit AS Limit, x.mark AS Mark, x.position AS Position FROM java.nio.DirectByteBuffer x WHERE ((x.capacity &gt; (1024 * 1024)) and (x.cleaner != null))</code> we see that there are roughly 400 direct bytebuffers, each with a capacity of roughly 4MB.</p>\n<p><a href=\"https://i.stack.imgur.com/KXsoG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KXsoG.png\" alt=\"OQL response\" /></a></p>\n<p>If you follow this to the GC root you see that it is used by a kafka producer:\n<a href=\"https://i.stack.imgur.com/EBd6K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EBd6K.png\" alt=\"GC root\" /></a></p>\n<p>This led me to applying this OQL query: <code>select * from org.apache.kafka.common.utils.KafkaThread</code> which returns the following response:\n<a href=\"https://i.stack.imgur.com/1RG8s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1RG8s.png\" alt=\"OQL Kafka threads response\" /></a></p>\n<p>Which seems like a logical response, however if you dive a bit deeper into the contents of the kafka producer you see that it is keeping a lot of direct byte buffers:\n<a href=\"https://i.stack.imgur.com/hMXDO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hMXDO.png\" alt=\"kafka thread expand\" /></a></p>\n<p>The producer gets made here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class BxKafkaProducerFactory {\n\n    private final KafkaProperties kafkaProperties;\n\n    public &lt;K, V&gt; Producer&lt;K, V&gt; getProducer() {\n        return new KafkaProducer&lt;&gt;(getKafkaProducerProperties());\n    }\n}\n</code></pre>\n<p>We use default settings for almost all things. Whe use <code>acks=all</code>, the lingering time is <code>100ms</code>, security protocol <code>SASL_PLAINTEXT</code>, <code>PLAIN</code> for the saslMechanism,KafkaAvroSerializer for the key and value serializer, compression type of <code>snappy</code>. The same settings we use in different (relatable) services where we don't see this memory issue.</p>\n<p>We just have 3 producers that get created on startup, and removed on shutdown, so it is not that we are leaking producers (I checked this by adding a log statement on the producer creation). It looks more like the producers themselves are leaking memory.</p>\n<p>Does anybody have any idea what could cause this? Or have any good pointers on how to debug this next? As you can see in the first image the memory is steadily increasing and it doesn't come down even after a week or so.</p>\n<p>EDIT:</p>\n<p>After some more debugging and following all the byte buffers to their gc root, we see this progress:</p>\n<pre><code>15:23\nTotal 18:\nGlobalStream: 1\nHearthBeat: 1\nJava Thread: 1\nNio FastThread: 5\nProducer 1: 1\nProducer 2: 2\nProducer 3: 2\nCleaner: 5\n\n16:04\nTotal 23:\nGlobalStream: HearthBeat 1\nJava Thread: 1\nNio FashThread: 6\nProducer 1: 0\nProducer 2: 8\nProdcuer 3: 2\nCleaner: 4\n\n17:04\nTotal 25:\nGlobalStream: HearthBeat 2\nJava Thread: 1\nNio FashThread: 7\nProducer 1: 2\nProducer 2: 8\nProdcuer 3: 4\nCleaner: 0\n</code></pre>\n<p>We clearly see the number of bytebuffers of the kafka producer increasing over time. This also matches to the jvm metrics we catch:\n<a href=\"https://i.stack.imgur.com/LASGZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LASGZ.png\" alt=\"DirectByteBuffer bumps\" /></a></p>\n<p>Thanks in advance!</p>\n<p>PS: I have also investigated it with jeprof and jemalloc, but couldn't find anomalies there.</p>\n"},{"tags":["java","spring","intellij-idea"],"comments":[{"owner":{"account_id":1948424,"reputation":12649,"user_id":1753073,"display_name":"navylover"},"score":1,"creation_date":1644469065,"post_id":71059967,"comment_id":125616768,"body_markdown":"why do you think this is &quot;wrong&quot;?","body":"why do you think this is &quot;wrong&quot;?"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1644469117,"post_id":71059967,"comment_id":125616776,"body_markdown":"Is there any reason to have the test classes in main/java instead of test/java. Typically you wont ship test classes with the final product.","body":"Is there any reason to have the test classes in main/java instead of test/java. Typically you wont ship test classes with the final product."},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1644472138,"post_id":71059967,"comment_id":125617270,"body_markdown":"src/test/java is the standard test directory location for maven projects (https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html).","body":"src/test/java is the standard test directory location for maven projects (<a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>)."},{"owner":{"account_id":10878273,"reputation":334,"user_id":7998077,"display_name":"iambk"},"score":1,"creation_date":1644476285,"post_id":71059967,"comment_id":125618160,"body_markdown":"It is weird, shouldn&#39;t be happening. Do you see the `java` folder under `src/test`?","body":"It is weird, shouldn&#39;t be happening. Do you see the <code>java</code> folder under <code>src&#47;test</code>?"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1644500258,"post_id":71059967,"comment_id":125626891,"body_markdown":"Nope, no /java directory gets created there.","body":"Nope, no /java directory gets created there."}],"answers":[{"tags":[],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678889876,"creation_date":1644530456,"answer_id":71072818,"question_id":71059967,"body_markdown":"I ran some tests and it seems the problem arises when you don&#39;t already have that test directory location, *src/test/java*, in your project layout. \r\n\r\nIf you don&#39;t have it already you can create it via the IntelliJ Project Structure panel (&lt;kbd&gt;Ctrl+Alt+Shift+S&lt;/kbd&gt;, then click *Modules*). \r\n\r\nI do notice that if you open an existing maven project into IntelliJ (File &gt; Open) that already has that standard test library directory in its layout structure, IntelliJ does actually seem to know to put its generated test classes into that directory.","title":"IntelliJ generates java test class in non-standard location","body":"<p>I ran some tests and it seems the problem arises when you don't already have that test directory location, <em>src/test/java</em>, in your project layout.</p>\n<p>If you don't have it already you can create it via the IntelliJ Project Structure panel (<kbd>Ctrl+Alt+Shift+S</kbd>, then click <em>Modules</em>).</p>\n<p>I do notice that if you open an existing maven project into IntelliJ (File &gt; Open) that already has that standard test library directory in its layout structure, IntelliJ does actually seem to know to put its generated test classes into that directory.</p>\n"}],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71072818,"answer_count":1,"score":0,"last_activity_date":1678889876,"creation_date":1644468798,"question_id":71059967,"body_markdown":"I have a Spring Boot app using maven as the build tool and I&#39;m working from within IntelliJ IDEA. When I have IntelliJ generate a test from an existing class (&lt;kbd&gt;Ctl&lt;/kbd&gt;+ &lt;kbd&gt;Shift&lt;/kbd&gt;+ &lt;kbd&gt;T&lt;/kbd&gt;), IntelliJ puts that test class into the corresponding package under directory *src/test*, followed by the package name, rather than the [maven standard][1] *src/test/java*. \r\n\r\nThe source class from which I’m asking IntelliJ to generate a test class is under *src/main/java*, the standard maven source directory. So I would expect the generated test to end up by default under the corresponding *src/test/java* location, since that’s the standard maven test directory.\r\n\r\nIt seems strange to me that IntelliJ would put tests directly under *src/test* rather than the standard *src/test/java*. Is there some setting in IntelliJ to specify where the generated classes go?\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html","title":"IntelliJ generates java test class in non-standard location","body":"<p>I have a Spring Boot app using maven as the build tool and I'm working from within IntelliJ IDEA. When I have IntelliJ generate a test from an existing class (<kbd>Ctl</kbd>+ <kbd>Shift</kbd>+ <kbd>T</kbd>), IntelliJ puts that test class into the corresponding package under directory <em>src/test</em>, followed by the package name, rather than the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">maven standard</a> <em>src/test/java</em>.</p>\n<p>The source class from which I’m asking IntelliJ to generate a test class is under <em>src/main/java</em>, the standard maven source directory. So I would expect the generated test to end up by default under the corresponding <em>src/test/java</em> location, since that’s the standard maven test directory.</p>\n<p>It seems strange to me that IntelliJ would put tests directly under <em>src/test</em> rather than the standard <em>src/test/java</em>. Is there some setting in IntelliJ to specify where the generated classes go?</p>\n"},{"tags":["java","cookies","weblogic12c"],"owner":{"account_id":3002295,"reputation":475,"user_id":2547551,"display_name":"Jameson_uk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678889494,"creation_date":1678889494,"question_id":75745899,"body_markdown":"I have an Oracle application running on Weblogic (OAS) that has some additional functionality deployed as an EJB.\r\n\r\nThat EJB interacts with an external service and in doing so makes calls out to to get a SAML token but in doing so it needs to pass some cookies around.\r\n\r\nNow I currently have this setup in my EJB\r\n```\r\nCookieManagemer cm = new CookieManager();\r\nCookieHandler.setDefault(cm);\r\n```\r\nwhich works but as the EJB is deployed to the same managed server as the main application they are running in the same JVM so the `setDefault` means this CookieHandler is then used across all the deployments on the managed server.\r\n\r\nAIUI running `CookieHandler.getDefault()` in another deployment would give me access to these cookies which I would prefer to be isolated to the specific deployment in which they are needed.\r\n\r\nIdeally I need to avoid using something like the Apache HTTP client as that causes some conflicts with some of the Weblogic classes that are used elsewhere in the EJB so would like to use standard JDK functionality.\r\n\r\nOther than manually reading the response headers, parsing the `Set-Cookie headers`, adding cookies back as request headers I am struggling to find a clean way of doing this (the manual approach gets quite messy when redirects are involved too).\r\n\r\nAny suggestions on how to handle this?","title":"Isolate Cookies to Weblogic application where they are needed","body":"<p>I have an Oracle application running on Weblogic (OAS) that has some additional functionality deployed as an EJB.</p>\n<p>That EJB interacts with an external service and in doing so makes calls out to to get a SAML token but in doing so it needs to pass some cookies around.</p>\n<p>Now I currently have this setup in my EJB</p>\n<pre><code>CookieManagemer cm = new CookieManager();\nCookieHandler.setDefault(cm);\n</code></pre>\n<p>which works but as the EJB is deployed to the same managed server as the main application they are running in the same JVM so the <code>setDefault</code> means this CookieHandler is then used across all the deployments on the managed server.</p>\n<p>AIUI running <code>CookieHandler.getDefault()</code> in another deployment would give me access to these cookies which I would prefer to be isolated to the specific deployment in which they are needed.</p>\n<p>Ideally I need to avoid using something like the Apache HTTP client as that causes some conflicts with some of the Weblogic classes that are used elsewhere in the EJB so would like to use standard JDK functionality.</p>\n<p>Other than manually reading the response headers, parsing the <code>Set-Cookie headers</code>, adding cookies back as request headers I am struggling to find a clean way of doing this (the manual approach gets quite messy when redirects are involved too).</p>\n<p>Any suggestions on how to handle this?</p>\n"},{"tags":["java","azure-active-directory","microsoft-graph-api","azure-identity"],"answers":[{"tags":[],"owner":{"account_id":24283882,"reputation":7637,"user_id":18229928,"display_name":"Rukmini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678889261,"creation_date":1678883568,"answer_id":75744741,"question_id":75737945,"body_markdown":"***I tried to reproduce the same in my environment and got the similar error like below:***\r\n\r\n![enter image description here](https://i.stack.imgur.com/8UDql.png)\r\n\r\nThe error &quot;*Admin consent is required for the permissions requested by this application. Ask your tenant administrator to provide consent for this application*&quot; usually occurs if the admin consent is not granted to the API permissions of the Azure AD Application.\r\n\r\nAs mentioned, you have granted Admin consent to the API permissions. To resolve the error, try the below:\r\n\r\n*Go to Azure Portal -&gt; Enterprise Applications -&gt; Consent and Permissions -&gt; User consent settings*\r\n\r\nCheck whether the `Do not allow user consent` is enabled, if yes set the setting to **`Allow user consent for apps`** like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/ld2KZ.png)\r\n\r\nOtherwise, try granting **tenant-wide admin consent** like below:\r\n```json\r\nhttps://login.microsoftonline.com/  \r\nOrganisation/adminconsent?client_id=ClientID\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/A9c5O.png)\r\n\r\nSet Assignment required setting as **`NO`** like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/Jokde.png)","title":"Why do my collegues keep getting the &quot;admin consent required&quot; page, but I don&#39;t when trying to log into my MSGraph cl-app?","body":"<p><em><strong>I tried to reproduce the same in my environment and got the similar error like below:</strong></em></p>\n<p><img src=\"https://i.stack.imgur.com/8UDql.png\" alt=\"enter image description here\" /></p>\n<p>The error &quot;<em>Admin consent is required for the permissions requested by this application. Ask your tenant administrator to provide consent for this application</em>&quot; usually occurs if the admin consent is not granted to the API permissions of the Azure AD Application.</p>\n<p>As mentioned, you have granted Admin consent to the API permissions. To resolve the error, try the below:</p>\n<p><em>Go to Azure Portal -&gt; Enterprise Applications -&gt; Consent and Permissions -&gt; User consent settings</em></p>\n<p>Check whether the <code>Do not allow user consent</code> is enabled, if yes set the setting to <strong><code>Allow user consent for apps</code></strong> like below:</p>\n<p><img src=\"https://i.stack.imgur.com/ld2KZ.png\" alt=\"enter image description here\" /></p>\n<p>Otherwise, try granting <strong>tenant-wide admin consent</strong> like below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>https://login.microsoftonline.com/  \nOrganisation/adminconsent?client_id=ClientID\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/A9c5O.png\" alt=\"enter image description here\" /></p>\n<p>Set Assignment required setting as <strong><code>NO</code></strong> like below:</p>\n<p><img src=\"https://i.stack.imgur.com/Jokde.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":7184196,"reputation":129,"user_id":5486863,"display_name":"Mark Rensen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75744741,"answer_count":1,"score":0,"last_activity_date":1678889261,"creation_date":1678824773,"question_id":75737945,"body_markdown":"I&#39;ve made a command-line app in java that uses the MS Graph api. It interacts with my school&#39;s Teams environment, so it largely uses the Education api from MS Graph, which consists almost solely of &quot;admin consent&quot; endpoints.\r\n\r\nI have based my app on the &quot;build java apps with microsoft Graph&quot; tutorial: https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad\r\n\r\nThe login in my app is still exactly the same: https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad&amp;tutorial-step=3\r\n\r\nIn Azure AD we (the admin and I) have consented to all the permissions. [![permissions granted][1]][1]\r\n\r\nBut still the app asks for admin consent when someone besides myself tries to log in.\r\nIt gives the response: **90094 Admin consent is required for the permissions requested by this application. Ask your tenant administrator to provide consent for this application.**\r\n\r\nMy collegues have the same permissions as I have. We&#39;ve checked and compared, but our accounts seem identical. \r\n\r\nIt is a mystery to me why my collegues can&#39;t log in. \r\nAny advice is appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1rpPx.png","title":"Why do my collegues keep getting the &quot;admin consent required&quot; page, but I don&#39;t when trying to log into my MSGraph cl-app?","body":"<p>I've made a command-line app in java that uses the MS Graph api. It interacts with my school's Teams environment, so it largely uses the Education api from MS Graph, which consists almost solely of &quot;admin consent&quot; endpoints.</p>\n<p>I have based my app on the &quot;build java apps with microsoft Graph&quot; tutorial: <a href=\"https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad</a></p>\n<p>The login in my app is still exactly the same: <a href=\"https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad&amp;tutorial-step=3\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad&amp;tutorial-step=3</a></p>\n<p>In Azure AD we (the admin and I) have consented to all the permissions. <a href=\"https://i.stack.imgur.com/1rpPx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1rpPx.png\" alt=\"permissions granted\" /></a></p>\n<p>But still the app asks for admin consent when someone besides myself tries to log in.\nIt gives the response: <strong>90094 Admin consent is required for the permissions requested by this application. Ask your tenant administrator to provide consent for this application.</strong></p>\n<p>My collegues have the same permissions as I have. We've checked and compared, but our accounts seem identical.</p>\n<p>It is a mystery to me why my collegues can't log in.\nAny advice is appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1678888170,"post_id":75745591,"comment_id":133620173,"body_markdown":"BTW there is no inner class in posted code - only nested interfaces. At least using official nomenclature - Java Language Specification [8.1.3. Inner Classes and Enclosing Instances](https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.1.3) states: &quot;*An inner class is a nested class that is not explicitly or implicitly static.*&quot; - an interface is not a class and always `static` (&quot;*A nested interface is implicitly static.*&quot;)","body":"BTW there is no inner class in posted code - only nested interfaces. At least using official nomenclature - Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.1.3\" rel=\"nofollow noreferrer\">8.1.3. Inner Classes and Enclosing Instances</a> states: &quot;<i>An inner class is a nested class that is not explicitly or implicitly static.</i>&quot; - an interface is not a class and always <code>static</code> (&quot;<i>A nested interface is implicitly static.</i>&quot;)"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1678888176,"post_id":75745591,"comment_id":133620176,"body_markdown":"Make an `interface MyInnerClasses { }`, have those inner classes implement (or extend for co-interfaces) it, and then you would accept a `Class&lt;? extends MyInnerClasses&gt;`","body":"Make an <code>interface MyInnerClasses { }</code>, have those inner classes implement (or extend for co-interfaces) it, and then you would accept a <code>Class&lt;? extends MyInnerClasses&gt;</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678900989,"post_id":75745591,"comment_id":133624444,"body_markdown":"Another option is making the first line of myFunction `if (!Views.class.equals(viewsClass.getEnclosingClass())) throw new IllegalArgumentException(&quot;Not a nested class of Views: &quot; + viewsClass);`","body":"Another option is making the first line of myFunction <code>if (!Views.class.equals(viewsClass.getEnclosingClass())) throw new IllegalArgumentException(&quot;Not a nested class of Views: &quot; + viewsClass);</code>"}],"answers":[{"tags":[],"owner":{"account_id":463036,"reputation":5197,"user_id":865695,"accept_rate":56,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678888181,"creation_date":1678888181,"answer_id":75745617,"question_id":75745591,"body_markdown":"That&#39;s not directly possible. Simply have all the inner classes implement the same empty interface (or the inner interfaces extend this empty interface)\r\n\r\nThen just use the interface in the signature instead of Class&lt;&gt;.","title":"How to define a generic type parameter for inner class in Java","body":"<p>That's not directly possible. Simply have all the inner classes implement the same empty interface (or the inner interfaces extend this empty interface)</p>\n<p>Then just use the interface in the signature instead of Class&lt;&gt;.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678888470,"creation_date":1678888470,"answer_id":75745683,"question_id":75745591,"body_markdown":"The only way to do this is to provide three overloads, one for each of your inner classes:\r\n\r\n```\r\npublic String myFunction(Internal instance) { ... }\r\n\r\npublic String myFunction(Public instance) { ... }\r\n\r\npublic String myFunction(Export instance) { ... }\r\n```\r\n\r\nThere is no type relationship between these inner classes; but if there is something you can do with `instance` as an `Object`, you can have these overloads each delegate to a private method:\r\n\r\n```\r\npublic String myFunction(Internal instance) { return myFunctionInternal(instance); }\r\n\r\npublic String myFunction(Public instance) { return myFunctionInternal(instance); }\r\n\r\npublic String myFunction(Export instance) { return myFunctionInternal(instance); }\r\n\r\nprivate String myFunctionInternal(Object instance) { ... }\r\n\r\n```","title":"How to define a generic type parameter for inner class in Java","body":"<p>The only way to do this is to provide three overloads, one for each of your inner classes:</p>\n<pre><code>public String myFunction(Internal instance) { ... }\n\npublic String myFunction(Public instance) { ... }\n\npublic String myFunction(Export instance) { ... }\n</code></pre>\n<p>There is no type relationship between these inner classes; but if there is something you can do with <code>instance</code> as an <code>Object</code>, you can have these overloads each delegate to a private method:</p>\n<pre><code>public String myFunction(Internal instance) { return myFunctionInternal(instance); }\n\npublic String myFunction(Public instance) { return myFunctionInternal(instance); }\n\npublic String myFunction(Export instance) { return myFunctionInternal(instance); }\n\nprivate String myFunctionInternal(Object instance) { ... }\n\n</code></pre>\n"}],"owner":{"account_id":976610,"reputation":1541,"user_id":997566,"accept_rate":69,"display_name":"Nayan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75745617,"answer_count":2,"score":0,"last_activity_date":1678888470,"creation_date":1678888015,"question_id":75745591,"body_markdown":"I&#39;ve the following interface: \r\n\r\n    public interface Views {\r\n        \r\n        interface Internal extends Public, Export {}\r\n       \r\n        interface Public {}\r\n    \r\n        interface Export {}\r\n    }\r\n\r\nI want to write a function that&#39;ll receive a `Class` of any of the inner classes of my `Views` class. Here is a sample: \r\n\r\n    public String myFunction(Class viewsClass) {\r\n    \r\n    }\r\n\r\nHow can I restrict the `viewsClass` parameter so that it&#39;ll only allow inner classes of the `Views` class? If there was a child, I would&#39;ve used something like `Class &lt;? extends Views&gt;`. Is there anything similar for this case?","title":"How to define a generic type parameter for inner class in Java","body":"<p>I've the following interface:</p>\n<pre><code>public interface Views {\n    \n    interface Internal extends Public, Export {}\n   \n    interface Public {}\n\n    interface Export {}\n}\n</code></pre>\n<p>I want to write a function that'll receive a <code>Class</code> of any of the inner classes of my <code>Views</code> class. Here is a sample:</p>\n<pre><code>public String myFunction(Class viewsClass) {\n\n}\n</code></pre>\n<p>How can I restrict the <code>viewsClass</code> parameter so that it'll only allow inner classes of the <code>Views</code> class? If there was a child, I would've used something like <code>Class &lt;? extends Views&gt;</code>. Is there anything similar for this case?</p>\n"},{"tags":["java","json","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1678860894,"post_id":75740859,"comment_id":133613125,"body_markdown":"Can you check what are you getting when calling responseEntity.getBody()","body":"Can you check what are you getting when calling responseEntity.getBody()"},{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1678863099,"post_id":75740859,"comment_id":133613502,"body_markdown":"I am pretty sure that&#39;s due to the fact that the generic type parameter is Object and not the concrete type. I don&#39;t think RestTemplate can handle it like that. I think the best option is to probably use JsonNode as a response type and parse it yourself.","body":"I am pretty sure that&#39;s due to the fact that the generic type parameter is Object and not the concrete type. I don&#39;t think RestTemplate can handle it like that. I think the best option is to probably use JsonNode as a response type and parse it yourself."},{"owner":{"account_id":15223312,"reputation":13,"user_id":10984627,"display_name":"Ramya"},"score":0,"creation_date":1678876770,"post_id":75740859,"comment_id":133616811,"body_markdown":"responseEntity.getBody() from source prints {&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:[{&quot;x&quot;:&quot;val1&quot;},{&quot;y&quot;:&quot;val2},{&quot;z&quot;:&quot;val3}], &quot;d&quot;:&quot;cherry&quot;}\nresponseEntity.getBody() from destination prints {&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:{&quot;z&quot;:&quot;val3}, &quot;d&quot;:&quot;cherry&quot;}","body":"responseEntity.getBody() from source prints {&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:[{&quot;x&quot;:&quot;val1&quot;},{&quot;y&quot;:&quot;val2},{&quot;z&quot;:&quot;val3}], &quot;d&quot;:&quot;cherry&quot;} responseEntity.getBody() from destination prints {&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:{&quot;z&quot;:&quot;val3}, &quot;d&quot;:&quot;cherry&quot;}"},{"owner":{"account_id":15223312,"reputation":13,"user_id":10984627,"display_name":"Ramya"},"score":0,"creation_date":1678877449,"post_id":75740859,"comment_id":133616990,"body_markdown":"Let me try to use JsonNode now","body":"Let me try to use JsonNode now"},{"owner":{"account_id":15223312,"reputation":13,"user_id":10984627,"display_name":"Ramya"},"score":0,"creation_date":1678884493,"post_id":75740859,"comment_id":133619041,"body_markdown":"cool! using JsonNode solved the issue. thanks @berse2212","body":"cool! using JsonNode solved the issue. thanks @berse2212"}],"owner":{"account_id":15223312,"reputation":13,"user_id":10984627,"display_name":"Ramya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678888339,"creation_date":1678858217,"question_id":75740859,"body_markdown":"We send a JSON (Map&lt;String,Object&gt;) from service A to service B. \r\neg: from source - `{&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:[{&quot;x&quot;:&quot;val1&quot;},{&quot;y&quot;:&quot;val2},{&quot;z&quot;:&quot;val3}], &quot;d&quot;:&quot;cherry&quot;}`\r\nthe json i received at destination is \r\n`{&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:{&quot;z&quot;:&quot;val3}, &quot;d&quot;:&quot;cherry&quot;}`\r\n\r\nC is expected to have list of nested json. Instead received only one value.\r\n\r\nBoth microservices are deployed in openshift - same cluster\r\n\r\nsource code\r\n```\r\nresponseEntity = this.restTemplateAnsible().exchange(ansiblePBNamesUrl + repoName, HttpMethod.GET, request, Map.class);\r\nLOGGER.info(&quot;responseEntity in callAnsiblePlaybookNamesList: {}&quot;, responseEntity); //nested json is printed here\r\nMap&lt;String, Object&gt; mapResponse = responseEntity.getBody();\r\nreturn mapResponse;\r\n```\r\n\r\ndestination code\r\n```\r\nResponseEntity&lt;Map&lt;String, Object&gt;&gt;\t responseEntity = restTemplate\r\n\t\t\t\t.exchange(cmtServiceAPIName + ansibleServiceUrl, HttpMethod.POST, request, mapClass);\r\n\t\tLOGGER.info(&quot;responseEntity: &quot; + responseEntity);\r\n```\r\n\r\n**Update**\r\nUsing JSONNode as return type solved the problem\r\n```\r\nResponseEntity&lt;JsonNode&gt;\t responseEntity = restTemplate\r\n\t\t\t\t.exchange(cmtServiceAPIName + ansibleServiceUrl, HttpMethod.POST, request, JsonNode.class);\r\n```\r\n\r\nBut again src json is {&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:[{&quot;x&quot;:&quot;val1&quot;, &quot;params&quot;:[{&quot;key&quot;:&quot;value&quot;}]},{&quot;y&quot;:&quot;val2, &quot;params&quot;:[{&quot;key&quot;:&quot;value&quot;}]},{&quot;z&quot;:&quot;val3, &quot;params&quot;:[{&quot;key&quot;:&quot;value&quot;}]}], &quot;d&quot;:&quot;cherry&quot;}\r\n\r\nMain json has playbook which is list of json. One of the property inside playbook is params which is again a list. But it is observed that params always contain only one json\r\n\r\nIn destination, i receive json as {&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:[{&quot;x&quot;:&quot;val1&quot;, &quot;params&quot;:{&quot;key&quot;:&quot;value&quot;}},{&quot;y&quot;:&quot;val2, &quot;params&quot;:{&quot;key&quot;:&quot;value&quot;}},{&quot;z&quot;:&quot;val3, &quot;params&quot;:{&quot;key&quot;:&quot;value&quot;}}], &quot;d&quot;:&quot;cherry&quot;}\r\n\r\nIs it because params contain only one entry? This data is from third party API. So it may contain more than 1 entry in future. In that case, I dont want my code to break","title":"JSON when sent over interservice call using rest template losses some of its value:","body":"<p>We send a JSON (Map&lt;String,Object&gt;) from service A to service B.\neg: from source - <code>{&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:[{&quot;x&quot;:&quot;val1&quot;},{&quot;y&quot;:&quot;val2},{&quot;z&quot;:&quot;val3}], &quot;d&quot;:&quot;cherry&quot;}</code>\nthe json i received at destination is\n<code>{&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:{&quot;z&quot;:&quot;val3}, &quot;d&quot;:&quot;cherry&quot;}</code></p>\n<p>C is expected to have list of nested json. Instead received only one value.</p>\n<p>Both microservices are deployed in openshift - same cluster</p>\n<p>source code</p>\n<pre><code>responseEntity = this.restTemplateAnsible().exchange(ansiblePBNamesUrl + repoName, HttpMethod.GET, request, Map.class);\nLOGGER.info(&quot;responseEntity in callAnsiblePlaybookNamesList: {}&quot;, responseEntity); //nested json is printed here\nMap&lt;String, Object&gt; mapResponse = responseEntity.getBody();\nreturn mapResponse;\n</code></pre>\n<p>destination code</p>\n<pre><code>ResponseEntity&lt;Map&lt;String, Object&gt;&gt;  responseEntity = restTemplate\n                .exchange(cmtServiceAPIName + ansibleServiceUrl, HttpMethod.POST, request, mapClass);\n        LOGGER.info(&quot;responseEntity: &quot; + responseEntity);\n</code></pre>\n<p><strong>Update</strong>\nUsing JSONNode as return type solved the problem</p>\n<pre><code>ResponseEntity&lt;JsonNode&gt;     responseEntity = restTemplate\n                .exchange(cmtServiceAPIName + ansibleServiceUrl, HttpMethod.POST, request, JsonNode.class);\n</code></pre>\n<p>But again src json is {&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:[{&quot;x&quot;:&quot;val1&quot;, &quot;params&quot;:[{&quot;key&quot;:&quot;value&quot;}]},{&quot;y&quot;:&quot;val2, &quot;params&quot;:[{&quot;key&quot;:&quot;value&quot;}]},{&quot;z&quot;:&quot;val3, &quot;params&quot;:[{&quot;key&quot;:&quot;value&quot;}]}], &quot;d&quot;:&quot;cherry&quot;}</p>\n<p>Main json has playbook which is list of json. One of the property inside playbook is params which is again a list. But it is observed that params always contain only one json</p>\n<p>In destination, i receive json as {&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:[{&quot;x&quot;:&quot;val1&quot;, &quot;params&quot;:{&quot;key&quot;:&quot;value&quot;}},{&quot;y&quot;:&quot;val2, &quot;params&quot;:{&quot;key&quot;:&quot;value&quot;}},{&quot;z&quot;:&quot;val3, &quot;params&quot;:{&quot;key&quot;:&quot;value&quot;}}], &quot;d&quot;:&quot;cherry&quot;}</p>\n<p>Is it because params contain only one entry? This data is from third party API. So it may contain more than 1 entry in future. In that case, I dont want my code to break</p>\n"},{"tags":["java","jackson","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678887213,"creation_date":1678887213,"answer_id":75745437,"question_id":75741141,"body_markdown":"&gt;advantages \r\n\r\nLess code for you to write.\r\n\r\nThere should be no performance impacts since the deserializer is doing exactly the same thing that your code would be.\r\n\r\nIt will be decoded directly from the `byte[]`. If you use a `StringDeserializer` and decode it yourself, there would be an unnecessary `byte[]-&gt;String` conversion.\r\n\r\nIf you want to do it yourself for some reason, better to use a `ByteArrayDeserializer` and consume it as a `byte[]`.","title":"Advantage of using JsonSerializer kafka over manually parsing String","body":"<blockquote>\n<p>advantages</p>\n</blockquote>\n<p>Less code for you to write.</p>\n<p>There should be no performance impacts since the deserializer is doing exactly the same thing that your code would be.</p>\n<p>It will be decoded directly from the <code>byte[]</code>. If you use a <code>StringDeserializer</code> and decode it yourself, there would be an unnecessary <code>byte[]-&gt;String</code> conversion.</p>\n<p>If you want to do it yourself for some reason, better to use a <code>ByteArrayDeserializer</code> and consume it as a <code>byte[]</code>.</p>\n"}],"owner":{"account_id":28003007,"reputation":47,"user_id":21386865,"display_name":"Pauls Baby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75745437,"answer_count":1,"score":0,"last_activity_date":1678888030,"creation_date":1678861376,"question_id":75741141,"body_markdown":"Are there any advantages or disadvantages for using JsonDeserializer in kafka consumer over manually parsing received JSON String using Jackson inside the application?\r\n\r\nWill be there any kind of impacts in performance etc?","title":"Advantage of using JsonSerializer kafka over manually parsing String","body":"<p>Are there any advantages or disadvantages for using JsonDeserializer in kafka consumer over manually parsing received JSON String using Jackson inside the application?</p>\n<p>Will be there any kind of impacts in performance etc?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":27811853,"reputation":323,"user_id":21234100,"display_name":"WebDesk Solution"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678887999,"creation_date":1678887999,"answer_id":75745587,"question_id":75744680,"body_markdown":"You just update the below code in your build.gradle file.\r\n\r\n    buildscript {\r\n        repositories {\r\n            google() \r\n            jcenter()\r\n            mavenCentral()\r\n             maven { url &#39;https://jitpack.io&#39; }\r\n         }\r\n         dependencies {\r\n             classpath &#39;com.android.tools.build:gradle:7.4.2&#39;\r\n             classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n       }\r\n    }\r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            jcenter() // Warning: this repository is going to shut down soon\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n     }\r\n    task clean(type: Delete) {\r\n           delete rootProject.buildDir\r\n    }","title":"editing android studio dependencies","body":"<p>You just update the below code in your build.gradle file.</p>\n<pre><code>buildscript {\n    repositories {\n        google() \n        jcenter()\n        mavenCentral()\n         maven { url 'https://jitpack.io' }\n     }\n     dependencies {\n         classpath 'com.android.tools.build:gradle:7.4.2'\n         classpath 'com.google.gms:google-services:4.3.15'\n   }\n}\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        jcenter() // Warning: this repository is going to shut down soon\n        maven { url 'https://jitpack.io' }\n    }\n }\ntask clean(type: Delete) {\n       delete rootProject.buildDir\n}\n</code></pre>\n"}],"owner":{"account_id":26542405,"reputation":1,"user_id":20172946,"display_name":"Mehdi Zivdari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678887999,"creation_date":1678883240,"question_id":75744680,"body_markdown":"I am new on android studio so I created a new project when I try to debug and run the application on external emulator android studio will shown this error got this error : \r\n\r\n&#39;app process Debug Resource&#39; failure then I added this lines to &quot;build.gradle&quot;:  \r\n```script\r\nbuildscript {\r\n    repositories {\r\n        google() \r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.4.2&#39;\r\n    }\r\n}\r\nallprojects {\r\n    repositories {\r\n        google() \r\n        jcenter()\r\n    }\r\n}\r\n```\r\nthen I tried to run it again I got this error : \r\nbuild was configured to prefer settings repositories but repository google was added by build file &#39;build.gradle&#39;:17 \r\nplease help me.\r\n\r\n...........................","title":"editing android studio dependencies","body":"<p>I am new on android studio so I created a new project when I try to debug and run the application on external emulator android studio will shown this error got this error :</p>\n<p>'app process Debug Resource' failure then I added this lines to &quot;build.gradle&quot;:</p>\n<pre><code>buildscript {\n    repositories {\n        google() \n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.2'\n    }\n}\nallprojects {\n    repositories {\n        google() \n        jcenter()\n    }\n}\n</code></pre>\n<p>then I tried to run it again I got this error :\nbuild was configured to prefer settings repositories but repository google was added by build file 'build.gradle':17\nplease help me.</p>\n<p>...........................</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":16992153,"reputation":513,"user_id":12291497,"display_name":"lugiorgi"},"score":1,"creation_date":1602678832,"post_id":64353250,"comment_id":113795810,"body_markdown":"Can you add the full stacktrace?","body":"Can you add the full stacktrace?"},{"owner":{"account_id":4184400,"reputation":931,"user_id":3428499,"accept_rate":57,"display_name":"codemania23"},"score":0,"creation_date":1602679166,"post_id":64353250,"comment_id":113795978,"body_markdown":"was just adding the same, its there now.","body":"was just adding the same, its there now."},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":5,"creation_date":1602679367,"post_id":64353250,"comment_id":113796080,"body_markdown":"What is `mapsList`? Important is the actual type, not just the declared type. Or in other words: Is that collection/Map synchronized? If it is not, then your question might be a dupllicate of https://stackoverflow.com/questions/31014333/random-arrayindexoutofboundsexception-using-stream-to-order-map-elements-by-val","body":"What is <code>mapsList</code>? Important is the actual type, not just the declared type. Or in other words: Is that collection/Map synchronized? If it is not, then your question might be a dupllicate of <a href=\"https://stackoverflow.com/questions/31014333/random-arrayindexoutofboundsexception-using-stream-to-order-map-elements-by-val\" title=\"random arrayindexoutofboundsexception using stream to order map elements by val\">stackoverflow.com/questions/31014333/&hellip;</a>"},{"owner":{"account_id":4501373,"reputation":954,"user_id":3659807,"display_name":"Omar Abdel Bari"},"score":0,"creation_date":1602680033,"post_id":64353250,"comment_id":113796428,"body_markdown":"agree with @Tom we need to know the type of *mapsList* here.","body":"agree with @Tom we need to know the type of <i>mapsList</i> here."},{"owner":{"account_id":4184400,"reputation":931,"user_id":3428499,"accept_rate":57,"display_name":"codemania23"},"score":0,"creation_date":1602680269,"post_id":64353250,"comment_id":113796539,"body_markdown":"@OmarAbdelBari and Tom, its an arraylist.","body":"@OmarAbdelBari and Tom, its an arraylist."},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1602680472,"post_id":64353250,"comment_id":113796648,"body_markdown":"Then try a synchronized list instead and check what happens","body":"Then try a synchronized list instead and check what happens"},{"owner":{"account_id":4184400,"reputation":931,"user_id":3428499,"accept_rate":57,"display_name":"codemania23"},"score":1,"creation_date":1602680541,"post_id":64353250,"comment_id":113796679,"body_markdown":"okay I&#39;ll make the change and monitor our production setup, as this happens only occasionally . Will keep you posted. But, that sounds to be the culprit.","body":"okay I&#39;ll make the change and monitor our production setup, as this happens only occasionally . Will keep you posted. But, that sounds to be the culprit."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1602703860,"post_id":64353250,"comment_id":113807957,"body_markdown":"@Tom even if that would be a thread safe container, you have no idea about the order in which those will be put in...","body":"@Tom even if that would be a thread safe container, you have no idea about the order in which those will be put in..."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1602706215,"creation_date":1602706215,"answer_id":64360810,"question_id":64353250,"body_markdown":"Even if you change that to a `synchronized` (or better said a thread-safe `List`), with your current approach, you still don&#39;t have a guaranteed  _order_ of how the elements are going to be put in. The documentation, btw, is very clear to discourage such things via `forEach`, [here][1]. Just look-up `Side-Effects`.\r\n\r\n\r\nThis entire thing can be done in far better way (and easier to read too):\r\n\r\n\r\n     deviceMessageInfoList\r\n          .stream()\r\n          .parallel()\r\n          .filter(Objects::notNull)\r\n          .map(x -&gt; x.getMessageVO())\r\n          .filter(Objects::notNull) \r\n          .map(x -&gt; (DeviceTripMessageInfo) x.getMessageVO())\r\n          .map(DeviceTripMessageInfo::getValueMap)\r\n          .filter(Objects::notNull)\r\n          .collect(Collectors.toList());\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html","title":"Getting ArrayIndexOutOfBoundsException when using parallel stream","body":"<p>Even if you change that to a <code>synchronized</code> (or better said a thread-safe <code>List</code>), with your current approach, you still don't have a guaranteed  <em>order</em> of how the elements are going to be put in. The documentation, btw, is very clear to discourage such things via <code>forEach</code>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">here</a>. Just look-up <code>Side-Effects</code>.</p>\n<p>This entire thing can be done in far better way (and easier to read too):</p>\n<pre><code> deviceMessageInfoList\n      .stream()\n      .parallel()\n      .filter(Objects::notNull)\n      .map(x -&gt; x.getMessageVO())\n      .filter(Objects::notNull) \n      .map(x -&gt; (DeviceTripMessageInfo) x.getMessageVO())\n      .map(DeviceTripMessageInfo::getValueMap)\n      .filter(Objects::notNull)\n      .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1678887744,"creation_date":1611735095,"answer_id":65915160,"question_id":64353250,"body_markdown":"## Summary\r\n\r\nThe problem is that `ArrayList` is by design not safe for modification by multiple threads concurrently, but the parallel stream is writing to the list from multiple threads.  A good solution is to switch to an idiomatic stream implementation:\r\n\r\n```lang-java\r\nList msgList = deviceMessageInfoList.parallelStream() // Declare generic type, e.g. List&lt;Map&lt;String, Object&gt;&gt;\r\n                .filter(Objects::nonNull)\r\n                .map(m -&gt; (DeviceTripMessageInfo) m.getMessageVO())\r\n                .filter(Objects::nonNull)\r\n                .map(DeviceTripMessageInfo::getValueMap)\r\n                .filter(Objects::nonNull)\r\n                .toList();\r\n```\r\n\r\n## Issue: concurrent modification\r\n\r\nThe `ArrayList` [Javadocs](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ArrayList.html) explain the concurrent modification issue:\r\n\r\n&gt; **Note that this implementation is not synchronized.** If multiple threads access an `ArrayList` instance concurrently, and at least one of the threads modifies the list structurally, it _must_ be synchronized externally. (A structural modification is any operation that adds or deletes one or more elements, or explicitly resizes the backing array; merely setting the value of an element is not a structural modification.) This is typically accomplished by synchronizing on some object that naturally encapsulates the list. If no such object exists, the list should be &quot;wrapped&quot; using the [`Collections.synchronizedList`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Collections.html#synchronizedList(java.util.List)) method. This is best done at creation time, to prevent accidental unsynchronized access to the list\r\n\r\nNote that the exception you&#39;re seeing is not the only incorrect behavior you might encounter.  In my own tests of your code against large lists, the code sometimes completed without exception, but the resulting list contained only some of the elements from the source list.\r\n\r\nNote that while switching from a parallel stream to a sequential stream would likely fix the issue in practice, it is dependent on the stream implementation, and not guaranteed by the API.  Therefore, such an approach is inadvisable, as it could break in future versions of the library.  Per the [`forEach` Javadocs](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Stream.html#forEach(java.util.function.Consumer)):\r\n\r\n&gt; For any given element, the action may be performed at whatever time and in whatever thread the library chooses. If the action accesses shared state, it is responsible for providing the required synchronization.\r\n\r\n## Issue: not idiomatic\r\n\r\nAside from the correctness issue, another issue with this approach is that it&#39;s not particularly idiomatic to use side effects within stream code.  The [stream documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/package-summary.html#SideEffects) explicitly discourages them.\r\n\r\n&gt; Side-effects in behavioral parameters to stream operations are, in general, discouraged, as they can often lead to unwitting violations of the statelessness requirement, as well as other thread-safety hazards.\r\n&gt;\r\n&gt; [...]\r\n&gt;\r\n&gt; Many computations where one might be tempted to use side-effects can be more safely and efficiently expressed without side-effects, such as using [reduction](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/package-summary.html#Reduction) instead of mutable accumulators.\r\n\r\nOf particular note, the documentation goes on to describe the exact scenario posted in this question as an inappropriate use of side-effects in a stream:\r\n\r\n&gt; As an example of how to transform a stream pipeline that inappropriately uses side-effects to one that does not, the following code searches a stream of strings for those matching a given regular expression, and puts the matches in a list.\r\n&gt; \r\n&gt; ```lang-java\r\n&gt;      ArrayList&lt;String&gt; results = new ArrayList&lt;&gt;();\r\n&gt;      stream.filter(s -&gt; pattern.matcher(s).matches())\r\n&gt;            .forEach(s -&gt; results.add(s));  // Unnecessary use of side-effects!\r\n&gt; ```\r\n&gt;\r\n&gt; This code unnecessarily uses side-effects. If executed in parallel, the non-thread-safety of `ArrayList` would cause incorrect results, and adding needed synchronization would cause contention, undermining the benefit of parallelism.\r\n\r\n## Aside: traditional non-stream solution\r\n\r\nAs an aside, this points to a solution one might use using traditional non-stream code.  I will discuss it briefly, since it&#39;s helpful to understand traditional solutions to the issue of concurrent list modification.  Traditionally, one might replace the `ArrayList` with either a wrapped syncnhronized version using [`Collections.synchronizedList`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Collections.html#synchronizedList(java.util.List)) or an inherently concurrent collection type such as [`ConcurrentLinkedQueue`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ConcurrentLinkedQueue.html).  Since these approaches are designed for concurrent insertion, they solve the parallel insert issue, though possibly with additional synchronization contention overhead.\r\n\r\n## Stream solution\r\n\r\nThe stream documentation continues on with a replacement for the inappropriate use of side effects:\r\n\r\n&gt; Furthermore, using side-effects here is completely unnecessary; the `forEach()` can simply be replaced with a reduction operation that is safer, more efficient, and more amenable to parallelization:\r\n&gt;\r\n&gt;```lang-java\r\n&gt;      List&lt;String&gt;results =\r\n&gt;          stream.filter(s -&gt; pattern.matcher(s).matches())\r\n&gt;                .toList();  // No side-effects!\r\n&gt; ```\r\n\r\nApplying this approach to your code, you get:\r\n\r\n```lang-java\r\nList msgList = deviceMessageInfoList.parallelStream() // Declare generic type, e.g. List&lt;Map&lt;String, Object&gt;&gt;\r\n                .filter(Objects::nonNull)\r\n                .map(m -&gt; (DeviceTripMessageInfo) m.getMessageVO())\r\n                .filter(Objects::nonNull)\r\n                .map(DeviceTripMessageInfo::getValueMap)\r\n                .filter(Objects::nonNull)\r\n                .toList();\r\n```\r\n","title":"Getting ArrayIndexOutOfBoundsException when using parallel stream","body":"<h2>Summary</h2>\n<p>The problem is that <code>ArrayList</code> is by design not safe for modification by multiple threads concurrently, but the parallel stream is writing to the list from multiple threads.  A good solution is to switch to an idiomatic stream implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List msgList = deviceMessageInfoList.parallelStream() // Declare generic type, e.g. List&lt;Map&lt;String, Object&gt;&gt;\n                .filter(Objects::nonNull)\n                .map(m -&gt; (DeviceTripMessageInfo) m.getMessageVO())\n                .filter(Objects::nonNull)\n                .map(DeviceTripMessageInfo::getValueMap)\n                .filter(Objects::nonNull)\n                .toList();\n</code></pre>\n<h2>Issue: concurrent modification</h2>\n<p>The <code>ArrayList</code> <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">Javadocs</a> explain the concurrent modification issue:</p>\n<blockquote>\n<p><strong>Note that this implementation is not synchronized.</strong> If multiple threads access an <code>ArrayList</code> instance concurrently, and at least one of the threads modifies the list structurally, it <em>must</em> be synchronized externally. (A structural modification is any operation that adds or deletes one or more elements, or explicitly resizes the backing array; merely setting the value of an element is not a structural modification.) This is typically accomplished by synchronizing on some object that naturally encapsulates the list. If no such object exists, the list should be &quot;wrapped&quot; using the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Collections.html#synchronizedList(java.util.List)\" rel=\"nofollow noreferrer\"><code>Collections.synchronizedList</code></a> method. This is best done at creation time, to prevent accidental unsynchronized access to the list</p>\n</blockquote>\n<p>Note that the exception you're seeing is not the only incorrect behavior you might encounter.  In my own tests of your code against large lists, the code sometimes completed without exception, but the resulting list contained only some of the elements from the source list.</p>\n<p>Note that while switching from a parallel stream to a sequential stream would likely fix the issue in practice, it is dependent on the stream implementation, and not guaranteed by the API.  Therefore, such an approach is inadvisable, as it could break in future versions of the library.  Per the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Stream.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>forEach</code> Javadocs</a>:</p>\n<blockquote>\n<p>For any given element, the action may be performed at whatever time and in whatever thread the library chooses. If the action accesses shared state, it is responsible for providing the required synchronization.</p>\n</blockquote>\n<h2>Issue: not idiomatic</h2>\n<p>Aside from the correctness issue, another issue with this approach is that it's not particularly idiomatic to use side effects within stream code.  The <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\">stream documentation</a> explicitly discourages them.</p>\n<blockquote>\n<p>Side-effects in behavioral parameters to stream operations are, in general, discouraged, as they can often lead to unwitting violations of the statelessness requirement, as well as other thread-safety hazards.</p>\n<p>[...]</p>\n<p>Many computations where one might be tempted to use side-effects can be more safely and efficiently expressed without side-effects, such as using <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/package-summary.html#Reduction\" rel=\"nofollow noreferrer\">reduction</a> instead of mutable accumulators.</p>\n</blockquote>\n<p>Of particular note, the documentation goes on to describe the exact scenario posted in this question as an inappropriate use of side-effects in a stream:</p>\n<blockquote>\n<p>As an example of how to transform a stream pipeline that inappropriately uses side-effects to one that does not, the following code searches a stream of strings for those matching a given regular expression, and puts the matches in a list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>     ArrayList&lt;String&gt; results = new ArrayList&lt;&gt;();\n     stream.filter(s -&gt; pattern.matcher(s).matches())\n           .forEach(s -&gt; results.add(s));  // Unnecessary use of side-effects!\n</code></pre>\n<p>This code unnecessarily uses side-effects. If executed in parallel, the non-thread-safety of <code>ArrayList</code> would cause incorrect results, and adding needed synchronization would cause contention, undermining the benefit of parallelism.</p>\n</blockquote>\n<h2>Aside: traditional non-stream solution</h2>\n<p>As an aside, this points to a solution one might use using traditional non-stream code.  I will discuss it briefly, since it's helpful to understand traditional solutions to the issue of concurrent list modification.  Traditionally, one might replace the <code>ArrayList</code> with either a wrapped syncnhronized version using <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Collections.html#synchronizedList(java.util.List)\" rel=\"nofollow noreferrer\"><code>Collections.synchronizedList</code></a> or an inherently concurrent collection type such as <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ConcurrentLinkedQueue.html\" rel=\"nofollow noreferrer\"><code>ConcurrentLinkedQueue</code></a>.  Since these approaches are designed for concurrent insertion, they solve the parallel insert issue, though possibly with additional synchronization contention overhead.</p>\n<h2>Stream solution</h2>\n<p>The stream documentation continues on with a replacement for the inappropriate use of side effects:</p>\n<blockquote>\n<p>Furthermore, using side-effects here is completely unnecessary; the <code>forEach()</code> can simply be replaced with a reduction operation that is safer, more efficient, and more amenable to parallelization:</p>\n<pre class=\"lang-java prettyprint-override\"><code>     List&lt;String&gt;results =\n         stream.filter(s -&gt; pattern.matcher(s).matches())\n               .toList();  // No side-effects!\n</code></pre>\n</blockquote>\n<p>Applying this approach to your code, you get:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List msgList = deviceMessageInfoList.parallelStream() // Declare generic type, e.g. List&lt;Map&lt;String, Object&gt;&gt;\n                .filter(Objects::nonNull)\n                .map(m -&gt; (DeviceTripMessageInfo) m.getMessageVO())\n                .filter(Objects::nonNull)\n                .map(DeviceTripMessageInfo::getValueMap)\n                .filter(Objects::nonNull)\n                .toList();\n</code></pre>\n"}],"owner":{"account_id":4184400,"reputation":931,"user_id":3428499,"accept_rate":57,"display_name":"codemania23"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4490,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1678887744,"creation_date":1602678420,"question_id":64353250,"body_markdown":"I am ending up with occasional array index out of bounds exception when using the following code. Any leads? The size of the array is always approximately around 29-30.\r\n\r\n```lang-java\r\nlogger.info(&quot;devicetripmessageinfo size :{}&quot;,deviceMessageInfoList.size());\r\ndeviceMessageInfoList.parallelStream().forEach(msg-&gt;{\r\n    if(msg!=null &amp;&amp; msg.getMessageVO()!=null)\r\n    {\r\n        \r\n        DeviceTripMessageInfo currentDevTripMsgInfo = \r\n                        (DeviceTripMessageInfo) msg.getMessageVO();\r\n        if(currentDevTripMsgInfo.getValueMap()!=null)\r\n        {mapsList.add(currentDevTripMsgInfo.getValueMap());}\r\n    }\r\n});\r\n```\r\n\r\n```lang-none\r\njava.lang.ArrayIndexOutOfBoundsException: null\r\n        at java.base/jdk.internal.reflect.GeneratedConstructorAccessor26.newInstance(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n        at java.base/java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:603)\r\n        at java.base/java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:678)\r\n        at java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:737)\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)\r\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\r\n        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:661)\r\n        at com.*.*.*.*.worker.*.process(*.java:96)\r\n        at com.*.jms.consumer.JMSWorker.processList(JMSWorker.java:279)\r\n        at com.*.jms.consumer.JMSWorker.process(JMSWorker.java:244)\r\n        at com.*.jms.consumer.JMSWorker.processMessages(JMSWorker.java:200)\r\n        at com.*.jms.consumer.JMSWorker.run(JMSWorker.java:136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: null\r\n```","title":"Getting ArrayIndexOutOfBoundsException when using parallel stream","body":"<p>I am ending up with occasional array index out of bounds exception when using the following code. Any leads? The size of the array is always approximately around 29-30.</p>\n<pre class=\"lang-java prettyprint-override\"><code>logger.info(&quot;devicetripmessageinfo size :{}&quot;,deviceMessageInfoList.size());\ndeviceMessageInfoList.parallelStream().forEach(msg-&gt;{\n    if(msg!=null &amp;&amp; msg.getMessageVO()!=null)\n    {\n        \n        DeviceTripMessageInfo currentDevTripMsgInfo = \n                        (DeviceTripMessageInfo) msg.getMessageVO();\n        if(currentDevTripMsgInfo.getValueMap()!=null)\n        {mapsList.add(currentDevTripMsgInfo.getValueMap());}\n    }\n});\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ArrayIndexOutOfBoundsException: null\n        at java.base/jdk.internal.reflect.GeneratedConstructorAccessor26.newInstance(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n        at java.base/java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:603)\n        at java.base/java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:678)\n        at java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:737)\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\n        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:661)\n        at com.*.*.*.*.worker.*.process(*.java:96)\n        at com.*.jms.consumer.JMSWorker.processList(JMSWorker.java:279)\n        at com.*.jms.consumer.JMSWorker.process(JMSWorker.java:244)\n        at com.*.jms.consumer.JMSWorker.processMessages(JMSWorker.java:200)\n        at com.*.jms.consumer.JMSWorker.run(JMSWorker.java:136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.ArrayIndexOutOfBoundsException: null\n</code></pre>\n"},{"tags":["java","linux","bash","shell","maven"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":1,"creation_date":1678878551,"post_id":75743836,"comment_id":133617314,"body_markdown":"`/usr/bin/java` is probably a symbolic link to the `java` executable. Try `ls -al /usr/bin/java`.","body":"<code>&#47;usr&#47;bin&#47;java</code> is probably a symbolic link to the <code>java</code> executable. Try <code>ls -al &#47;usr&#47;bin&#47;java</code>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1678878743,"post_id":75743836,"comment_id":133617370,"body_markdown":"&quot;I thought that the command `which` will point to me to the location where java 15 is stored&quot; no, it points you to the (potentially linked) binary that gets executed when you run `java`.","body":"&quot;I thought that the command <code>which</code> will point to me to the location where java 15 is stored&quot; no, it points you to the (potentially linked) binary that gets executed when you run <code>java</code>."},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1678879151,"post_id":75743836,"comment_id":133617490,"body_markdown":"what is `$JAVA_HOME` set to?","body":"what is <code>$JAVA_HOME</code> set to?"},{"owner":{"account_id":4311827,"reputation":9286,"user_id":3522687,"accept_rate":52,"display_name":"paulalexandru"},"score":0,"creation_date":1678879541,"post_id":75743836,"comment_id":133617595,"body_markdown":"@SIMULATAN empty as i said","body":"@SIMULATAN empty as i said"},{"owner":{"account_id":4311827,"reputation":9286,"user_id":3522687,"accept_rate":52,"display_name":"paulalexandru"},"score":0,"creation_date":1678879564,"post_id":75743836,"comment_id":133617602,"body_markdown":"@FedericoklezCulloca I&#39;ve updated the question with the response for you","body":"@FedericoklezCulloca I&#39;ve updated the question with the response for you"},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1678879607,"post_id":75743836,"comment_id":133617618,"body_markdown":"well, try setting it to the right JDK, apparently maven uses the JDK pointed to by this variable","body":"well, try setting it to the right JDK, apparently maven uses the JDK pointed to by this variable"},{"owner":{"account_id":4311827,"reputation":9286,"user_id":3522687,"accept_rate":52,"display_name":"paulalexandru"},"score":0,"creation_date":1678879638,"post_id":75743836,"comment_id":133617626,"body_markdown":"what is the right path ?  have you read my question ?","body":"what is the right path ?  have you read my question ?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1678883096,"post_id":75743836,"comment_id":133618635,"body_markdown":"If you have 2 or more JDKs installed and want to switch between them, this might be worth a read if you are using [homebrew switching between multiple JDKs](https://medium.com/@manvendrapsingh/installing-many-jdk-versions-on-macos-dfc177bc8c2b) or use something like https://sdkman.io/","body":"If you have 2 or more JDKs installed and want to switch between them, this might be worth a read if you are using <a href=\"https://medium.com/@manvendrapsingh/installing-many-jdk-versions-on-macos-dfc177bc8c2b\" rel=\"nofollow noreferrer\">homebrew switching between multiple JDKs</a> or use something like <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman.io</a>"}],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678882201,"creation_date":1678882201,"answer_id":75744500,"question_id":75743836,"body_markdown":"You should change your `JAVA_HOME` variable or as alternative:\r\n\r\n```shell\r\nexport PATH=&lt;YOUR_JRE_BIN_PATH&gt;:${PATH}\r\nmvn &lt;MAVEN_ARGUMENTS&gt;\r\n```","title":"What is my java location and how can I point maven to it?","body":"<p>You should change your <code>JAVA_HOME</code> variable or as alternative:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export PATH=&lt;YOUR_JRE_BIN_PATH&gt;:${PATH}\nmvn &lt;MAVEN_ARGUMENTS&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678887740,"creation_date":1678886756,"answer_id":75745341,"question_id":75743836,"body_markdown":"Get JAVA_HOME from the `java` command with \r\n\r\n`java -XshowSettings:properties -version 2&gt;&amp;1 | grep -E &#39;java\\.home&#39;`\r\n\r\nResult\r\n\r\n     java.home = /usr/lib64/jvm/java-11-openjdk-11\r\n\r\nThen add an export for JAVA_HOME variable or use it on maven command as\r\n\r\n    JAVA_HOME=&#39;/usr/lib64/jvm/java-11-openjdk-11&#39; mvn &lt;something&gt;","title":"What is my java location and how can I point maven to it?","body":"<p>Get JAVA_HOME from the <code>java</code> command with</p>\n<p><code>java -XshowSettings:properties -version 2&gt;&amp;1 | grep -E 'java\\.home'</code></p>\n<p>Result</p>\n<pre><code> java.home = /usr/lib64/jvm/java-11-openjdk-11\n</code></pre>\n<p>Then add an export for JAVA_HOME variable or use it on maven command as</p>\n<pre><code>JAVA_HOME='/usr/lib64/jvm/java-11-openjdk-11' mvn &lt;something&gt;\n</code></pre>\n"}],"owner":{"account_id":4311827,"reputation":9286,"user_id":3522687,"accept_rate":52,"display_name":"paulalexandru"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1678887740,"creation_date":1678878119,"question_id":75743836,"body_markdown":"I am a UI dev with no experience in Java whatsoever. However, I have a dilema.\r\n\r\n    &gt; / % java --version\r\n    openjdk 15.0.1 2020-10-20\r\n    OpenJDK Runtime Environment AdoptOpenJDK (build 15.0.1+9)\r\n    OpenJDK 64-Bit Server VM AdoptOpenJDK (build 15.0.1+9, mixed mode, sharing)\r\n\r\nand:\r\n\r\n    &gt; / % mvn -v\r\n    Apache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\n    Maven home: /usr/local/Cellar/maven/3.8.6/libexec\r\n    Java version: 18.0.1.1, vendor: Homebrew, runtime: /usr/local/Cellar/openjdk/18.0.1.1/libexec/openjdk.jdk/Contents/Home\r\n    Default locale: en_RO, platform encoding: UTF-8\r\n    OS name: &quot;mac os x&quot;, version: &quot;12.4&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n\r\nThe question I have is, why does maven have another version of java, and how can I make it point to the java 15 ?\r\n\r\nI also tried this:\r\n\r\n    &gt; / % which java\r\n    /usr/bin/java\r\n    &gt; / % cd /usr/bin/java\r\n    cd: not a directory: /usr/bin/java\r\n\r\nI thought that the command `which` will point to me to the location where java 15 is stored, however that path does not seem to exist on my computer.\r\n\r\nAnother thing that I saw is that I do not hava JAVA_HOME set, it is missing. \r\n\r\nI am very confused, can somebody help me surpass this issue please? \r\n\r\nEdit: Response to the comments:\r\n\r\n    &gt; / % ls -al /usr/bin/java\r\n    -rwxr-xr-x  52 root  wheel  168432 May 10  2022 /usr/bin/java\r\n","title":"What is my java location and how can I point maven to it?","body":"<p>I am a UI dev with no experience in Java whatsoever. However, I have a dilema.</p>\n<pre><code>&gt; / % java --version\nopenjdk 15.0.1 2020-10-20\nOpenJDK Runtime Environment AdoptOpenJDK (build 15.0.1+9)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 15.0.1+9, mixed mode, sharing)\n</code></pre>\n<p>and:</p>\n<pre><code>&gt; / % mvn -v\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: /usr/local/Cellar/maven/3.8.6/libexec\nJava version: 18.0.1.1, vendor: Homebrew, runtime: /usr/local/Cellar/openjdk/18.0.1.1/libexec/openjdk.jdk/Contents/Home\nDefault locale: en_RO, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;12.4&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>The question I have is, why does maven have another version of java, and how can I make it point to the java 15 ?</p>\n<p>I also tried this:</p>\n<pre><code>&gt; / % which java\n/usr/bin/java\n&gt; / % cd /usr/bin/java\ncd: not a directory: /usr/bin/java\n</code></pre>\n<p>I thought that the command <code>which</code> will point to me to the location where java 15 is stored, however that path does not seem to exist on my computer.</p>\n<p>Another thing that I saw is that I do not hava JAVA_HOME set, it is missing.</p>\n<p>I am very confused, can somebody help me surpass this issue please?</p>\n<p>Edit: Response to the comments:</p>\n<pre><code>&gt; / % ls -al /usr/bin/java\n-rwxr-xr-x  52 root  wheel  168432 May 10  2022 /usr/bin/java\n</code></pre>\n"},{"tags":["java","groovy","comparator"],"answers":[{"tags":[],"owner":{"account_id":20511355,"reputation":500,"user_id":15053047,"display_name":"IWilms"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678818003,"creation_date":1678816927,"answer_id":75736820,"question_id":75736498,"body_markdown":"Does it need to be a comparator? First thing that comes to my mind is to `groupBy` the `id` and then look for `min()` of `type`:\r\n\r\n```\r\nList list = [[\r\n                     &quot;id&quot;  : 1,\r\n                     &quot;type&quot;: &quot;A1&quot;,\r\n                     &quot;text&quot;: &quot;Bla bla bla 1 - A1&quot;\r\n             ],\r\n             [\r\n                     &quot;id&quot;  : 2,\r\n                     &quot;type&quot;: &quot;A1&quot;,\r\n                     &quot;text&quot;: &quot;Bla bla bla 2 - A1&quot;\r\n             ],\r\n             [\r\n                     &quot;id&quot;  : 3,\r\n                     &quot;type&quot;: &quot;A1&quot;,\r\n                     &quot;text&quot;: &quot;Bla bla bla 3 - A1&quot;\r\n             ],\r\n             [\r\n                     &quot;id&quot;  : 1,\r\n                     &quot;type&quot;: &quot;A2&quot;,\r\n                     &quot;text&quot;: &quot;Bla bla bla 1 - A2&quot;\r\n             ]]\r\n\r\nMap rank = [A1:1, A2:2, R5:3, R8:4, A4:5]\r\n\r\nList cleaned = list.groupBy { it.id }\r\n        .collect { k, v -&gt; v.min { rank[it.type] } }\r\n```","title":"Java/Groovy Custom comparator and filter array to leaveonly lowest values","body":"<p>Does it need to be a comparator? First thing that comes to my mind is to <code>groupBy</code> the <code>id</code> and then look for <code>min()</code> of <code>type</code>:</p>\n<pre><code>List list = [[\n                     &quot;id&quot;  : 1,\n                     &quot;type&quot;: &quot;A1&quot;,\n                     &quot;text&quot;: &quot;Bla bla bla 1 - A1&quot;\n             ],\n             [\n                     &quot;id&quot;  : 2,\n                     &quot;type&quot;: &quot;A1&quot;,\n                     &quot;text&quot;: &quot;Bla bla bla 2 - A1&quot;\n             ],\n             [\n                     &quot;id&quot;  : 3,\n                     &quot;type&quot;: &quot;A1&quot;,\n                     &quot;text&quot;: &quot;Bla bla bla 3 - A1&quot;\n             ],\n             [\n                     &quot;id&quot;  : 1,\n                     &quot;type&quot;: &quot;A2&quot;,\n                     &quot;text&quot;: &quot;Bla bla bla 1 - A2&quot;\n             ]]\n\nMap rank = [A1:1, A2:2, R5:3, R8:4, A4:5]\n\nList cleaned = list.groupBy { it.id }\n        .collect { k, v -&gt; v.min { rank[it.type] } }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678887570,"creation_date":1678887570,"answer_id":75745504,"question_id":75736498,"body_markdown":"Straigt-forward way to use simple sorting by two fields:\r\n\r\n```\r\nList list = [[\r\n  &quot;id&quot;  : 1,\r\n  &quot;type&quot;: &quot;A1&quot;,\r\n  &quot;text&quot;: &quot;Bla bla bla 1 - A1&quot;\r\n],\r\n[\r\n  &quot;id&quot;  : 2,\r\n  &quot;type&quot;: &quot;A1&quot;,\r\n  &quot;text&quot;: &quot;Bla bla bla 2 - A1&quot;\r\n],\r\n[\r\n  &quot;id&quot;  : 3,\r\n  &quot;type&quot;: &quot;A1&quot;,\r\n  &quot;text&quot;: &quot;Bla bla bla 3 - A1&quot;\r\n],\r\n[\r\n  &quot;id&quot;  : 1,\r\n  &quot;type&quot;: &quot;A2&quot;,\r\n  &quot;text&quot;: &quot;Bla bla bla 1 - A2&quot;\r\n]]\r\n\r\ndef res = list.sort{ a, b -&gt; a.id &lt;=&gt; b.id ?: b.type &lt;=&gt; a.type }.collectEntries{ [ it.id, it ] }.values()\r\n\r\nassert res.toString() == &#39;[[id:1, type:A1, text:Bla bla bla 1 - A1], [id:2, type:A1, text:Bla bla bla 2 - A1], [id:3, type:A1, text:Bla bla bla 3 - A1]]&#39;\r\n```","title":"Java/Groovy Custom comparator and filter array to leaveonly lowest values","body":"<p>Straigt-forward way to use simple sorting by two fields:</p>\n<pre><code>List list = [[\n  &quot;id&quot;  : 1,\n  &quot;type&quot;: &quot;A1&quot;,\n  &quot;text&quot;: &quot;Bla bla bla 1 - A1&quot;\n],\n[\n  &quot;id&quot;  : 2,\n  &quot;type&quot;: &quot;A1&quot;,\n  &quot;text&quot;: &quot;Bla bla bla 2 - A1&quot;\n],\n[\n  &quot;id&quot;  : 3,\n  &quot;type&quot;: &quot;A1&quot;,\n  &quot;text&quot;: &quot;Bla bla bla 3 - A1&quot;\n],\n[\n  &quot;id&quot;  : 1,\n  &quot;type&quot;: &quot;A2&quot;,\n  &quot;text&quot;: &quot;Bla bla bla 1 - A2&quot;\n]]\n\ndef res = list.sort{ a, b -&gt; a.id &lt;=&gt; b.id ?: b.type &lt;=&gt; a.type }.collectEntries{ [ it.id, it ] }.values()\n\nassert res.toString() == '[[id:1, type:A1, text:Bla bla bla 1 - A1], [id:2, type:A1, text:Bla bla bla 2 - A1], [id:3, type:A1, text:Bla bla bla 3 - A1]]'\n</code></pre>\n"}],"owner":{"account_id":2225617,"reputation":778,"user_id":1964474,"display_name":"andQlimax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678887570,"creation_date":1678814872,"question_id":75736498,"body_markdown":"I have this array:\r\n\r\n    [{\r\n\t\t&quot;id&quot;: 1,\r\n\t\t&quot;type&quot;: &quot;A1&quot;,\r\n\t\t&quot;text&quot;: &quot;Bla bla bla 1 - A1&quot;\t\t\r\n\t},\r\n\t{\r\n\t\t&quot;id&quot;: 2,\r\n\t\t&quot;type&quot;: &quot;A1&quot;,\r\n\t\t&quot;text&quot;: &quot;Bla bla bla 2 - A1&quot;\t\t\t\t\r\n\t},\r\n\t{\r\n\t\t&quot;id&quot;: 3,\r\n\t\t&quot;type&quot;: &quot;A1&quot;,\r\n\t\t&quot;text&quot;: &quot;Bla bla bla 3 - A1&quot;\t\t\r\n\t}\r\n\t,\r\n\t{\r\n\t\t&quot;id&quot;: 1,\r\n\t\t&quot;type&quot;: &quot;A2&quot;,\r\n\t\t&quot;text&quot;: &quot;Bla bla bla 1 - A2&quot;\t\t\t\r\n\t}]\r\n\r\nI need to remove the duplicated &quot;ids&quot; leaving the one with the lower values (example A1 is lower than A2). So in the above example the record with id=1 and type=A2 should be removed.\r\n\r\nIn groovy I create this comparator:\r\n\r\n    class CustomComparator implements Comparator&lt;Object&gt;{\r\n\r\n    private HashMap&lt;String, Integer&gt; rank;\r\n\r\n    CustomComparator(){\r\n        this.rank = new HashMap&lt;&gt;();\r\n        this.rank.put(&quot;A1&quot;, 1);\r\n        this.rank.put(&quot;A2&quot;, 2);\r\n        this.rank.put(&quot;R5&quot;, 3);\r\n        this.rank.put(&quot;R8&quot;, 4);\r\n        this.rank.put(&quot;A4&quot;, 5);\r\n    }\r\n\r\n    @Override\r\n    public int compare(Object a , Object b){\r\n       if(rank.get(a.type).intValue() &lt; rank.get(b.type).intValue()){\r\n           return -1;\r\n       }\r\n       if(rank.get(a.type).intValue() == rank.get(b.type).intValue()){\r\n           return 0;\r\n       }\r\n       return 1;\r\n    }\r\n}\r\n\r\nAnd I&#39;m trying to remove the duplicated using array.removeAll{} but can&#39;t find the right way. Any help?\r\n\r\n","title":"Java/Groovy Custom comparator and filter array to leaveonly lowest values","body":"<p>I have this array:</p>\n<pre><code>[{\n    &quot;id&quot;: 1,\n    &quot;type&quot;: &quot;A1&quot;,\n    &quot;text&quot;: &quot;Bla bla bla 1 - A1&quot;        \n},\n{\n    &quot;id&quot;: 2,\n    &quot;type&quot;: &quot;A1&quot;,\n    &quot;text&quot;: &quot;Bla bla bla 2 - A1&quot;                \n},\n{\n    &quot;id&quot;: 3,\n    &quot;type&quot;: &quot;A1&quot;,\n    &quot;text&quot;: &quot;Bla bla bla 3 - A1&quot;        \n}\n,\n{\n    &quot;id&quot;: 1,\n    &quot;type&quot;: &quot;A2&quot;,\n    &quot;text&quot;: &quot;Bla bla bla 1 - A2&quot;            \n}]\n</code></pre>\n<p>I need to remove the duplicated &quot;ids&quot; leaving the one with the lower values (example A1 is lower than A2). So in the above example the record with id=1 and type=A2 should be removed.</p>\n<p>In groovy I create this comparator:</p>\n<pre><code>class CustomComparator implements Comparator&lt;Object&gt;{\n\nprivate HashMap&lt;String, Integer&gt; rank;\n\nCustomComparator(){\n    this.rank = new HashMap&lt;&gt;();\n    this.rank.put(&quot;A1&quot;, 1);\n    this.rank.put(&quot;A2&quot;, 2);\n    this.rank.put(&quot;R5&quot;, 3);\n    this.rank.put(&quot;R8&quot;, 4);\n    this.rank.put(&quot;A4&quot;, 5);\n}\n\n@Override\npublic int compare(Object a , Object b){\n   if(rank.get(a.type).intValue() &lt; rank.get(b.type).intValue()){\n       return -1;\n   }\n   if(rank.get(a.type).intValue() == rank.get(b.type).intValue()){\n       return 0;\n   }\n   return 1;\n}\n</code></pre>\n<p>}</p>\n<p>And I'm trying to remove the duplicated using array.removeAll{} but can't find the right way. Any help?</p>\n"},{"tags":["java","serialization","sap-commerce-cloud","objectinputstream","bytearrayoutputstream"],"comments":[{"owner":{"account_id":8963389,"reputation":121,"user_id":6685089,"display_name":"maharr"},"score":0,"creation_date":1680043707,"post_id":75745497,"comment_id":133829167,"body_markdown":"How do you do the upload? Via FTP and Hotfolder?","body":"How do you do the upload? Via FTP and Hotfolder?"}],"owner":{"account_id":19687197,"reputation":1,"user_id":14412908,"display_name":"Olga grts"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678887517,"creation_date":1678887517,"question_id":75745497,"body_markdown":"**task: create file with serialized objects in one hybris instance and upload it to another hybris instance, read and get desirialized objects.**\r\n\r\nI create file with serialized objects and write it to media:\r\n\r\n```\r\nList&lt;DeliveryPointDTO&gt; deliveryPointDtos = IntegrationClient.getAllDeliveryPoints();\r\n\r\ntry \r\n{     \r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();     \r\n    ObjectOutputStream oos = new ObjectOutputStream(baos);     \r\n    oos.writeObject(deliveryPointDtos);     \r\n    oos.flush();     \r\n    oos.close();      \r\n    InputStream is = new ByteArrayInputStream(baos.toByteArray());      \r\n    String fileName = &quot;&quot;deliveryPointsDTO&quot;&quot;;     \r\n    String fileNameFull = fileName + &quot;&quot;.txt&quot;&quot;;      \r\n    final MediaModel media = modelService.create(MediaModel.class);     \r\n    media.setCode(fileName);     \r\n    media.setMime(&quot;text/csv&quot;);     \r\n    media.setRealFileName(fileNameFull);         \r\n    modelService.save(media);      \r\n    LOG.info(&#39;Write to media&#39;)     \r\n    try \r\n        {         \r\n        final InputStream inputStream = is;         \r\n        mediaService.setStreamForMedia(media, inputStream, fileNameFull, mimeType);            \r\n        } \r\n        catch (Exception e) \r\n        {         \r\n        LOG.error(e.getMessage(), e);     \r\n        } \r\n}  \r\ncatch (IOException e) \r\n{     \r\nLOG.info(&#39;Error initializing stream&#39;); \r\n}\r\n```\r\n\r\nThen I download file and create media with it in another hybris instance, but after uploading I get corrupted symbols and exception, when I try to desirialize:\r\n\r\n`MediaModel media_deliveryPointsDTO = mediaService.getMedia(&#39;LodisticsDeliveryPointsDTO&#39;)`\r\n\r\n`final InputStream inputStream = mediaService.getStreamFromMedia(media_DeliveryPointsDTO)`  \r\n`ObjectInputStream ois = new ObjectInputStream(inputStream);`  \r\n`List&lt;DeliveryPointDTO&gt; deliveryPointDTOs = (List&lt;DeliveryPointDTO&gt;) ois.readObject();`  \r\n`ois.close();`\r\n\r\n**Exception in thread &quot;main&quot; java.io.StreamCorruptedException: invalid stream header: EFBFBDEF**\r\n\r\nWonder what I misunderstood in process or do wrong :(\r\n\r\nI can desirialize first file in new java project, so I think nothing wrong with encoding.\r\n\r\nBut second file (**after upload to hybris as media and again download) I get same exception**","title":"hybris import txt file as media","body":"<p><strong>task: create file with serialized objects in one hybris instance and upload it to another hybris instance, read and get desirialized objects.</strong></p>\n<p>I create file with serialized objects and write it to media:</p>\n<pre><code>List&lt;DeliveryPointDTO&gt; deliveryPointDtos = IntegrationClient.getAllDeliveryPoints();\n\ntry \n{     \n    ByteArrayOutputStream baos = new ByteArrayOutputStream();     \n    ObjectOutputStream oos = new ObjectOutputStream(baos);     \n    oos.writeObject(deliveryPointDtos);     \n    oos.flush();     \n    oos.close();      \n    InputStream is = new ByteArrayInputStream(baos.toByteArray());      \n    String fileName = &quot;&quot;deliveryPointsDTO&quot;&quot;;     \n    String fileNameFull = fileName + &quot;&quot;.txt&quot;&quot;;      \n    final MediaModel media = modelService.create(MediaModel.class);     \n    media.setCode(fileName);     \n    media.setMime(&quot;text/csv&quot;);     \n    media.setRealFileName(fileNameFull);         \n    modelService.save(media);      \n    LOG.info('Write to media')     \n    try \n        {         \n        final InputStream inputStream = is;         \n        mediaService.setStreamForMedia(media, inputStream, fileNameFull, mimeType);            \n        } \n        catch (Exception e) \n        {         \n        LOG.error(e.getMessage(), e);     \n        } \n}  \ncatch (IOException e) \n{     \nLOG.info('Error initializing stream'); \n}\n</code></pre>\n<p>Then I download file and create media with it in another hybris instance, but after uploading I get corrupted symbols and exception, when I try to desirialize:</p>\n<p><code>MediaModel media_deliveryPointsDTO = mediaService.getMedia('LodisticsDeliveryPointsDTO')</code></p>\n<p><code>final InputStream inputStream = mediaService.getStreamFromMedia(media_DeliveryPointsDTO)</code><br />\n<code>ObjectInputStream ois = new ObjectInputStream(inputStream);</code><br />\n<code>List&lt;DeliveryPointDTO&gt; deliveryPointDTOs = (List&lt;DeliveryPointDTO&gt;) ois.readObject();</code><br />\n<code>ois.close();</code></p>\n<p><strong>Exception in thread &quot;main&quot; java.io.StreamCorruptedException: invalid stream header: EFBFBDEF</strong></p>\n<p>Wonder what I misunderstood in process or do wrong :(</p>\n<p>I can desirialize first file in new java project, so I think nothing wrong with encoding.</p>\n<p>But second file (<strong>after upload to hybris as media and again download) I get same exception</strong></p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678887364,"creation_date":1678887364,"answer_id":75745471,"question_id":75741531,"body_markdown":"You should not interact with the consumer directly.\r\n\r\nThe container will automatically commit any acknowledged offsets when it is stopped. So stop the container.","title":"Committing latest processed Kafka offset from SmartLifeCycle stop() correctly when application is stopping","body":"<p>You should not interact with the consumer directly.</p>\n<p>The container will automatically commit any acknowledged offsets when it is stopped. So stop the container.</p>\n"}],"owner":{"account_id":28003007,"reputation":47,"user_id":21386865,"display_name":"Pauls Baby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678887364,"creation_date":1678864650,"question_id":75741531,"body_markdown":"&lt;https://stackoverflow.com/questions/69008922/kafka-commiting-offset-before-consumer-is-shut-down-on-app-stop-commiting-of&gt;\r\n\r\nThe answer here suggests to commit from the stop() method of SmartLifeCycle.\r\n\r\nI am using spring-kafka and @KafkaListener annotation. How can I get the Acknowledgement object from listener in SmartLifeCycle stop() method correctly? What I did for now is to create a global variable for consumer and then assign it with the consumer obtained inside from listener. Then in stop() I had called:\r\n\r\n```\r\n consumer.commitSync(processedOffsets)\r\n```\r\n\r\nIt is working as expected. But I don&#39;t think it is correct!\r\n\r\nAlso committing inside stop() method raises a warning:\r\n&gt; &quot;Kafka consumer is not safe for Multithread processing&quot;\r\n\r\nsince it is running on shutdown thread rather than Kafka listener thread.\r\n\r\nMay I know the correct way to commit latest offset from stop() method?\r\n\r\n","title":"Committing latest processed Kafka offset from SmartLifeCycle stop() correctly when application is stopping","body":"<p><a href=\"https://stackoverflow.com/questions/69008922/kafka-commiting-offset-before-consumer-is-shut-down-on-app-stop-commiting-of\">Kafka - commiting offset before consumer is shut down on app stop + commiting offset from the past</a></p>\n<p>The answer here suggests to commit from the stop() method of SmartLifeCycle.</p>\n<p>I am using spring-kafka and @KafkaListener annotation. How can I get the Acknowledgement object from listener in SmartLifeCycle stop() method correctly? What I did for now is to create a global variable for consumer and then assign it with the consumer obtained inside from listener. Then in stop() I had called:</p>\n<pre><code> consumer.commitSync(processedOffsets)\n</code></pre>\n<p>It is working as expected. But I don't think it is correct!</p>\n<p>Also committing inside stop() method raises a warning:</p>\n<blockquote>\n<p>&quot;Kafka consumer is not safe for Multithread processing&quot;</p>\n</blockquote>\n<p>since it is running on shutdown thread rather than Kafka listener thread.</p>\n<p>May I know the correct way to commit latest offset from stop() method?</p>\n"},{"tags":["java","spring","spring-boot","maven","environment-variables"],"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1679129871,"post_id":75742838,"comment_id":133668640,"body_markdown":"**Comments have been [moved to chat](https://chat.stackoverflow.com/rooms/252589/discussion-on-question-by-cecilia-reading-env-and-properties-yml-files-based-on); please do not continue the discussion here.** Before posting a comment below this one, please review the [purposes of comments](/help/privileges/comment). Comments that do not request clarification or suggest improvements usually belong as an [answer](/help/how-to-answer), on [meta], or in [chat]. Comments continuing discussion may be removed.","body":"<b>Comments have been <a href=\"https://chat.stackoverflow.com/rooms/252589/discussion-on-question-by-cecilia-reading-env-and-properties-yml-files-based-on\">moved to chat</a>; please do not continue the discussion here.</b> Before posting a comment below this one, please review the <a href=\"/help/privileges/comment\">purposes of comments</a>. Comments that do not request clarification or suggest improvements usually belong as an <a href=\"/help/how-to-answer\">answer</a>, on <a href=\"https://meta.stackoverflow.com\">Meta Stack Overflow</a>, or in <a href=\"https://chat.stackoverflow.com/\">Stack Overflow Chat</a>. Comments continuing discussion may be removed."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678887072,"creation_date":1678885840,"answer_id":75745196,"question_id":75742838,"body_markdown":"Don&#39;t panic! It is/*must be* working...\r\n\r\nStart simple:  \r\n1. [quickstart-maven, dependencies: web (only)](https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.4&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web)\r\n\r\n2. Just a demo (no/empty `application.properties`, *according to `foo.bar, foo.baz` we can refer to any [common][1]/custom &quot;property&quot;* ;):\r\n   ```lang-java\r\n   package com.example.demo;\r\n\r\n   import org.springframework.beans.factory.InitializingBean;\r\n   import org.springframework.beans.factory.annotation.Value;\r\n   import org.springframework.boot.SpringApplication;\r\n   import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n   import org.springframework.context.annotation.Bean;\r\n\r\n   @SpringBootApplication\r\n   public class DemoConfigApplication {\r\n\r\n     public static void main(String[] args) {\r\n       SpringApplication.run(DemoConfigApplication.class, args);\r\n     }\r\n\r\n     @Bean\r\n     InitializingBean test(\r\n         @Value(&quot;${foo.bar:undefined}&quot;) String fooBar,\r\n         @Value(&quot;${foo.baz:undefined}&quot;) String fooBaz\r\n     ) {\r\n       return () -&gt; {\r\n         System.err.format(&quot;foo.bar: %s%n&quot;, fooBar);\r\n         System.err.format(&quot;foo.baz: %s%n&quot;, fooBaz);\r\n       };\r\n     }\r\n\r\n   }\r\n   ```\r\n3. Build \r\n   ```lang-bash\r\n   ./mvnw clean test\r\n   ```\r\n   prints:\r\n   ```lang-bash\r\n   ...\r\n   foo.bar:\tundefined\r\n   foo.baz:\tundefined\r\n   ...\r\n   ```\r\n\r\n\r\n----------\r\n\r\nTo set these via (springboot-)maven-plugin, we can:\r\n\r\n### ((Git)Ba)sh\r\n\r\n1. Via &quot;Command Line Arguments&quot; \r\n   (with blanks, with my win+gitbash: \r\n   ```$ bash --version\r\n   GNU bash, version 5.2.12(1)-release (x86_64-pc-msys)\r\n   ```\r\n   )\r\n   \r\n   **Syntax**:\r\n   ```lang-bash\r\n   ./mvnw spring-boot:run -Dspring-boot.run.arguments=&quot;--foo.bar=&#39;Foo Bar&#39; --foo.baz=&#39;Foo Baz&#39;&quot;\r\n   ```\r\n   (prints):\r\n   ```lang-bash\r\n   ...\r\n   2023-03-15T13:45:52.849+01:00  INFO 4196 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1106 ms\r\n   foo.bar: Foo Bar\r\n   foo.baz: Foo Baz\r\n   ...\r\n   ```\r\n2. Via &quot;System Properties&quot; (same git bash):\r\n\r\n   **Syntax**:\r\n   ```lang-bash\r\n   ./mvnw spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Dfoo.bar=&#39;Foo Bar&#39; -Dfoo.baz=&#39;Foo Baz&#39;&quot;\r\n   ```\r\n\r\n\r\n----------\r\n\r\nTo make (e.g.) 1. work in \r\n\r\n### cmd.exe \r\n(Version 10.0.19045.2673), same quoting as gitbash:\r\n\r\n```lang-dos\r\n.\\mvnw.cmd spring-boot:run -Dspring-boot.run.arguments=&quot;--foo.bar=&#39;Foo Bar&#39; --foo.baz=&#39;Foo Baz&#39;&quot;\r\n```\r\n\r\n### PowerShell\r\n(v7.3.3)\r\nMore complicated, due to/with [ref][2]:\r\n```lang-powershell\r\n.\\mvnw.cmd spring-boot:run &#39;-Dspring-boot.run.arguments=&quot;--foo.bar=&quot;&quot;Foo Bar&quot;&quot; --foo.baz=&quot;&quot;Foo Baz&quot;&quot;&quot;&#39;\r\n```\r\n   \r\n...\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\r\n  [2]: https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_quoting_rules?view=powershell-7.3","title":"Reading .env and properties.yml files based on profile in Spring Boot?","body":"<p>Don't panic! It is/<em>must be</em> working...</p>\n<p>Start simple:</p>\n<ol>\n<li><p><a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.4&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web\" rel=\"nofollow noreferrer\">quickstart-maven, dependencies: web (only)</a></p>\n</li>\n<li><p>Just a demo (no/empty <code>application.properties</code>, <em>according to <code>foo.bar, foo.baz</code> we can refer to any <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\" rel=\"nofollow noreferrer\">common</a>/custom &quot;property&quot;</em> ;):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport org.springframework.beans.factory.InitializingBean;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class DemoConfigApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(DemoConfigApplication.class, args);\n  }\n\n  @Bean\n  InitializingBean test(\n      @Value(&quot;${foo.bar:undefined}&quot;) String fooBar,\n      @Value(&quot;${foo.baz:undefined}&quot;) String fooBaz\n  ) {\n    return () -&gt; {\n      System.err.format(&quot;foo.bar: %s%n&quot;, fooBar);\n      System.err.format(&quot;foo.baz: %s%n&quot;, fooBaz);\n    };\n  }\n\n}\n</code></pre>\n</li>\n<li><p>Build</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./mvnw clean test\n</code></pre>\n<p>prints:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>...\nfoo.bar: undefined\nfoo.baz: undefined\n...\n</code></pre>\n</li>\n</ol>\n<hr />\n<p>To set these via (springboot-)maven-plugin, we can:</p>\n<h3>((Git)Ba)sh</h3>\n<ol>\n<li><p>Via &quot;Command Line Arguments&quot;\n(with blanks, with my win+gitbash:</p>\n<pre><code>GNU bash, version 5.2.12(1)-release (x86_64-pc-msys)\n</code></pre>\n<p>)</p>\n<p><strong>Syntax</strong>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./mvnw spring-boot:run -Dspring-boot.run.arguments=&quot;--foo.bar='Foo Bar' --foo.baz='Foo Baz'&quot;\n</code></pre>\n<p>(prints):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>...\n2023-03-15T13:45:52.849+01:00  INFO 4196 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1106 ms\nfoo.bar: Foo Bar\nfoo.baz: Foo Baz\n...\n</code></pre>\n</li>\n<li><p>Via &quot;System Properties&quot; (same git bash):</p>\n<p><strong>Syntax</strong>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./mvnw spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Dfoo.bar='Foo Bar' -Dfoo.baz='Foo Baz'&quot;\n</code></pre>\n</li>\n</ol>\n<hr />\n<p>To make (e.g.) 1. work in</p>\n<h3>cmd.exe</h3>\n<p>(Version 10.0.19045.2673), same quoting as gitbash:</p>\n<pre class=\"lang-dos prettyprint-override\"><code>.\\mvnw.cmd spring-boot:run -Dspring-boot.run.arguments=&quot;--foo.bar='Foo Bar' --foo.baz='Foo Baz'&quot;\n</code></pre>\n<h3>PowerShell</h3>\n<p>(v7.3.3)\nMore complicated, due to/with <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_quoting_rules?view=powershell-7.3\" rel=\"nofollow noreferrer\">ref</a>:</p>\n<pre class=\"lang-powershell prettyprint-override\"><code>.\\mvnw.cmd spring-boot:run '-Dspring-boot.run.arguments=&quot;--foo.bar=&quot;&quot;Foo Bar&quot;&quot; --foo.baz=&quot;&quot;Foo Baz&quot;&quot;&quot;'\n</code></pre>\n<p>...</p>\n"}],"owner":{"display_name":"user21393940"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75745196,"answer_count":1,"score":3,"last_activity_date":1678887072,"creation_date":1678872863,"question_id":75742838,"body_markdown":"I am using `.env` and `properties.yml` files in my Spring Boot apps and need to be clarified for using them properly. After that, I will also use the other profiles of these files e.g.  `.env-dev` and `properties-dev.yml`.\r\n\r\nCould you please explain these issues? \r\n\r\n**1.** As far as I know, these files are automatically read based on the Run/Debug profile of Intellij or maven. If the active profile is dev, only `.env-dev` and `properties-dev.yml` files are read, if the profile is prod, only `.env-prod` and `properties-prod.yml` files are read. If the profile &quot;dev,prod&quot;, then both of these files are read. Is that true? \r\n\r\n**2.** What if there are only `.env` and `properties.yml` files in the project. Then, are these files always read when profile is selected or not? \r\n\r\n\r\n\r\n**3.** Can I read environment variables from `.env` file when running/debugging app via Maven by giving file name to the following command?\r\n\r\n```\r\nmvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug&quot; \r\n-Dspring-boot.run.profiles=dev -Dspring-boot.run.arguments=&quot;DB_NAME=employee_db \r\nDB_USERNAME=postgres DB_PASSWORD=******&quot;\r\n```","title":"Reading .env and properties.yml files based on profile in Spring Boot?","body":"<p>I am using <code>.env</code> and <code>properties.yml</code> files in my Spring Boot apps and need to be clarified for using them properly. After that, I will also use the other profiles of these files e.g.  <code>.env-dev</code> and <code>properties-dev.yml</code>.</p>\n<p>Could you please explain these issues?</p>\n<p><strong>1.</strong> As far as I know, these files are automatically read based on the Run/Debug profile of Intellij or maven. If the active profile is dev, only <code>.env-dev</code> and <code>properties-dev.yml</code> files are read, if the profile is prod, only <code>.env-prod</code> and <code>properties-prod.yml</code> files are read. If the profile &quot;dev,prod&quot;, then both of these files are read. Is that true?</p>\n<p><strong>2.</strong> What if there are only <code>.env</code> and <code>properties.yml</code> files in the project. Then, are these files always read when profile is selected or not?</p>\n<p><strong>3.</strong> Can I read environment variables from <code>.env</code> file when running/debugging app via Maven by giving file name to the following command?</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug&quot; \n-Dspring-boot.run.profiles=dev -Dspring-boot.run.arguments=&quot;DB_NAME=employee_db \nDB_USERNAME=postgres DB_PASSWORD=******&quot;\n</code></pre>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1678804946,"post_id":75734574,"comment_id":133602112,"body_markdown":"[mcve] please - demonstrating the usage of that class, including the stacktrace. That said: for java 11, you can simply loosen the module encapsulation constraints","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please - demonstrating the usage of that class, including the stacktrace. That said: for java 11, you can simply loosen the module encapsulation constraints"},{"owner":{"account_id":8012418,"reputation":1,"user_id":6043693,"display_name":"Magnus Skaar"},"score":0,"creation_date":1678806895,"post_id":75734574,"comment_id":133602767,"body_markdown":"It simply won&#39;t compile: package sun.awt is not visible\n[ERROR]   (package sun.awt is declared in module java.desktop, which does not export it to the unnamed module)","body":"It simply won&#39;t compile: package sun.awt is not visible [ERROR]   (package sun.awt is declared in module java.desktop, which does not export it to the unnamed module)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678807688,"post_id":75734574,"comment_id":133603003,"body_markdown":"learn about the java module system - pretty sure there are tons of questions here that will  be helpful, you might find them by searching the error message in your favorite search engine (sry, in a hurry right now - no time for duplicate hunting, will try later :)","body":"learn about the java module system - pretty sure there are tons of questions here that will  be helpful, you might find them by searching the error message in your favorite search engine (sry, in a hurry right now - no time for duplicate hunting, will try later :)"},{"owner":{"account_id":8012418,"reputation":1,"user_id":6043693,"display_name":"Magnus Skaar"},"score":0,"creation_date":1678809292,"post_id":75734574,"comment_id":133603536,"body_markdown":"Ty for input:) The quick fix is to use --add-exports for compiler. I was hoping for a better solution tho.","body":"Ty for input:) The quick fix is to use --add-exports for compiler. I was hoping for a better solution tho."}],"answers":[{"tags":[],"owner":{"account_id":8012418,"reputation":1,"user_id":6043693,"display_name":"Magnus Skaar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678886960,"creation_date":1678886960,"answer_id":75745384,"question_id":75734574,"body_markdown":"I ended up by exporting the offending classes. Not perfect.\r\n\r\n                &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;--add-exports=java.desktop/sun.awt=ALL-UNNAMED&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n","title":"Using SunToolkit for testing swing app - need replacement","body":"<p>I ended up by exporting the offending classes. Not perfect.</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;--add-exports=java.desktop/sun.awt=ALL-UNNAMED&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":8012418,"reputation":1,"user_id":6043693,"display_name":"Magnus Skaar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75745384,"answer_count":1,"score":-1,"last_activity_date":1678886960,"creation_date":1678804596,"question_id":75734574,"body_markdown":"I maintain a swing application and some of my testclasses use sun.awt.SunToolkit#flushPendingEvents()\r\n\r\nThis works fine with java 1.8, but migrating to java 11 breaks it (class invisible).\r\n\r\nI think my best option is to find a suitable replacement for this specific method.\r\nIf anyone solved this, your insight will be greatly appreciated.\r\n\r\nI have searched for answers online but have come up empty.","title":"Using SunToolkit for testing swing app - need replacement","body":"<p>I maintain a swing application and some of my testclasses use sun.awt.SunToolkit#flushPendingEvents()</p>\n<p>This works fine with java 1.8, but migrating to java 11 breaks it (class invisible).</p>\n<p>I think my best option is to find a suitable replacement for this specific method.\nIf anyone solved this, your insight will be greatly appreciated.</p>\n<p>I have searched for answers online but have come up empty.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1678885895,"post_id":75744857,"comment_id":133619424,"body_markdown":"you can also use `@JsonSubTypes` https://www.baeldung.com/jackson-inheritance","body":"you can also use <code>@JsonSubTypes</code> <a href=\"https://www.baeldung.com/jackson-inheritance\" rel=\"nofollow noreferrer\">baeldung.com/jackson-inheritance</a>"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1678886282,"post_id":75744857,"comment_id":133619541,"body_markdown":"@Chaosfire would you write it as an answer? It&#39;s exactly what I was hoping for","body":"@Chaosfire would you write it as an answer? It&#39;s exactly what I was hoping for"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678884679,"creation_date":1678884679,"answer_id":75744970,"question_id":75744857,"body_markdown":"The simplest way is to deserialize it as a `Map&lt;String, Object&gt;` and than treat your map the same way except when retrieving someList* property instead of looking for a particular key such as `someListA` or `SomeListB` just search for the key that starts with `&quot;someList&quot;` prefix","title":"How can I model a generic Jackson POJO with a field that is changing the name?","body":"<p>The simplest way is to deserialize it as a <code>Map&lt;String, Object&gt;</code> and than treat your map the same way except when retrieving someList* property instead of looking for a particular key such as <code>someListA</code> or <code>SomeListB</code> just search for the key that starts with <code>&quot;someList&quot;</code> prefix</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678886758,"creation_date":1678886758,"answer_id":75745342,"question_id":75744857,"body_markdown":"If the list of options for the name is not too long, you can use [JsonAlias][1].\r\n\r\n&gt; Annotation that can be used to define one or more alternative names for a property, accepted during deserialization as alternative to the official name. Alias information is also exposed during POJO introspection, but has no effect during serialization where primary name is always used.\r\n\r\nExample:\r\n```\r\npublic class CommonClass&lt;T&gt; {\r\n    @JsonProperty(&quot;common1&quot;)\r\n    private final CommonType1 common1;\r\n    @JsonProperty(&quot;common2&quot;)\r\n    private final CommonType2 common2;\r\n    @JsonProperty(&quot;common3&quot;)\r\n    private final CommonType3 common3;\r\n    @JsonProperty(&quot;someList&quot;)//official name, used during serialization\r\n    @JsonAlias({&quot;someListA&quot;, &quot;someListB&quot;})//aliases used during deserialization, if the official name was not found\r\n    private final List&lt;T&gt; someList;\r\n}\r\n```\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonAlias.html","title":"How can I model a generic Jackson POJO with a field that is changing the name?","body":"<p>If the list of options for the name is not too long, you can use <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonAlias.html\" rel=\"nofollow noreferrer\">JsonAlias</a>.</p>\n<blockquote>\n<p>Annotation that can be used to define one or more alternative names for a property, accepted during deserialization as alternative to the official name. Alias information is also exposed during POJO introspection, but has no effect during serialization where primary name is always used.</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>public class CommonClass&lt;T&gt; {\n    @JsonProperty(&quot;common1&quot;)\n    private final CommonType1 common1;\n    @JsonProperty(&quot;common2&quot;)\n    private final CommonType2 common2;\n    @JsonProperty(&quot;common3&quot;)\n    private final CommonType3 common3;\n    @JsonProperty(&quot;someList&quot;)//official name, used during serialization\n    @JsonAlias({&quot;someListA&quot;, &quot;someListB&quot;})//aliases used during deserialization, if the official name was not found\n    private final List&lt;T&gt; someList;\n}\n</code></pre>\n"}],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75745342,"answer_count":2,"score":0,"last_activity_date":1678886758,"creation_date":1678884115,"question_id":75744857,"body_markdown":"I interact with a set of APIs that all return a similar response: \r\n\r\n    {\r\n        &quot;common1&quot;: ...,\r\n        &quot;common2&quot;: ...,\r\n        &quot;common3&quot;: ...,\r\n        &quot;someList&quot;: [\r\n            //polymorph objects here\r\n        ]\r\n    }\r\n\r\nCurrently, I have a separate POJO for each of these responses. However I would like to factorize this in a common object since I always perform the same actions with such object and that makes a lot of code duplication. \r\n\r\nInitially, I had thought to create a similar Jackson class:\r\n\r\n    public class CommonClass&lt;T&gt; {\r\n        @JsonProperty(&quot;common1&quot;)\r\n        private final CommonType1 common1;\r\n        @JsonProperty(&quot;common2&quot;)\r\n        private final CommonType2 common2;\r\n        @JsonProperty(&quot;common3&quot;)\r\n        private final CommonType3 common3;\r\n        @JsonProperty(&quot;someList&quot;)\r\n        private final List&lt;T&gt; someList;\r\n\r\n        //constructor and getters here\r\n    }\r\n\r\nThis would work fine, except for an issue: the Json name of `someList` changes as well. Sometimes it&#39;s `someListA`, sometimes it&#39;s `someListB`... basically it changes depending on the type it contains.\r\n\r\nThat makes it impossible to follow this approach (at least I think) since I can&#39;t dynamically change the value of the `JsonProperty()` annotations in my POJO. \r\n\r\nI know that I could create a base class and then multiple extensions of such class, each one with a different list (differently named), but that wouldn&#39;t be my ideal solution because I wouldn&#39;t be able to have a common getter to process the elements without downcasting to the concrete type of POJO that I&#39;m handling. \r\n\r\nDo you have any idea/suggestion/approach for such problem? ","title":"How can I model a generic Jackson POJO with a field that is changing the name?","body":"<p>I interact with a set of APIs that all return a similar response:</p>\n<pre><code>{\n    &quot;common1&quot;: ...,\n    &quot;common2&quot;: ...,\n    &quot;common3&quot;: ...,\n    &quot;someList&quot;: [\n        //polymorph objects here\n    ]\n}\n</code></pre>\n<p>Currently, I have a separate POJO for each of these responses. However I would like to factorize this in a common object since I always perform the same actions with such object and that makes a lot of code duplication.</p>\n<p>Initially, I had thought to create a similar Jackson class:</p>\n<pre><code>public class CommonClass&lt;T&gt; {\n    @JsonProperty(&quot;common1&quot;)\n    private final CommonType1 common1;\n    @JsonProperty(&quot;common2&quot;)\n    private final CommonType2 common2;\n    @JsonProperty(&quot;common3&quot;)\n    private final CommonType3 common3;\n    @JsonProperty(&quot;someList&quot;)\n    private final List&lt;T&gt; someList;\n\n    //constructor and getters here\n}\n</code></pre>\n<p>This would work fine, except for an issue: the Json name of <code>someList</code> changes as well. Sometimes it's <code>someListA</code>, sometimes it's <code>someListB</code>... basically it changes depending on the type it contains.</p>\n<p>That makes it impossible to follow this approach (at least I think) since I can't dynamically change the value of the <code>JsonProperty()</code> annotations in my POJO.</p>\n<p>I know that I could create a base class and then multiple extensions of such class, each one with a different list (differently named), but that wouldn't be my ideal solution because I wouldn't be able to have a common getter to process the elements without downcasting to the concrete type of POJO that I'm handling.</p>\n<p>Do you have any idea/suggestion/approach for such problem?</p>\n"},{"tags":["java","oracle","pentaho","pentaho-spoon","pentaho-data-integration"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678742097,"post_id":75726742,"comment_id":133589685,"body_markdown":"Please don&#39;t post images of text.","body":"Please don&#39;t post images of text."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1678754024,"post_id":75726742,"comment_id":133591517,"body_markdown":"RDB is not that driver.","body":"RDB is not that driver."},{"owner":{"account_id":2876507,"reputation":786,"user_id":2468417,"display_name":"Viraj Shah"},"score":0,"creation_date":1678760458,"post_id":75726742,"comment_id":133592268,"body_markdown":"Do not include links to images and do not include images of text/code.","body":"Do not include links to images and do not include images of text/code."}],"answers":[{"tags":[],"owner":{"account_id":6514367,"reputation":1462,"user_id":5040684,"display_name":"Ana GH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678796776,"creation_date":1678796776,"answer_id":75733113,"question_id":75726742,"body_markdown":"As @OldProgrammer has stated, you are not using the correct driver, with the ojdbc8.jar driver library, you have to use the Oracle (without RDB) driver:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HwXD3.png","title":"Could not connect pentaho with oracle","body":"<p>As @OldProgrammer has stated, you are not using the correct driver, with the ojdbc8.jar driver library, you have to use the Oracle (without RDB) driver:\n<a href=\"https://i.stack.imgur.com/HwXD3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HwXD3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":27582926,"reputation":72,"user_id":21051730,"display_name":"TM01"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678885990,"creation_date":1678885990,"answer_id":75745218,"question_id":75726742,"body_markdown":"make sure the version of ojdbc is compatible with the version of the oracle database, I already had a similar problem that resolved when returning to ojdbc 6","title":"Could not connect pentaho with oracle","body":"<p>make sure the version of ojdbc is compatible with the version of the oracle database, I already had a similar problem that resolved when returning to ojdbc 6</p>\n"}],"owner":{"account_id":28009075,"reputation":1,"user_id":21391954,"display_name":"Muhammad Muizzuddin Muskamal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1678885990,"creation_date":1678740307,"question_id":75726742,"body_markdown":"[enter image description here](https://i.stack.imgur.com/CKB5T.png)\r\n\r\nthis is my first time to use pentaho woth oracle. I tried to add ojdbc8.jar file into /lib but nothing changed. Can someone help on how to connect them\r\n\r\nI tried to add ojdbc8.jar file into /lib but nothing changed. I expect there is a problem with my java installed","title":"Could not connect pentaho with oracle","body":"<p><a href=\"https://i.stack.imgur.com/CKB5T.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>this is my first time to use pentaho woth oracle. I tried to add ojdbc8.jar file into /lib but nothing changed. Can someone help on how to connect them</p>\n<p>I tried to add ojdbc8.jar file into /lib but nothing changed. I expect there is a problem with my java installed</p>\n"},{"tags":["java","sql-server","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1678886161,"post_id":75745212,"comment_id":133619499,"body_markdown":"Try `jdbc:sqlserver://localhost;encrypt=true;user=jay;password=M@nUnit3dBaCk0nT0p;`","body":"Try <code>jdbc:sqlserver:&#47;&#47;localhost;encrypt=true;user=jay;password=M@&zwnj;&#8203;nUnit3dBaCk0nT0p;</code>"},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1678886758,"post_id":75745212,"comment_id":133619701,"body_markdown":"@ElliottFrisch no still getting errors, for example this is just one of them `org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table user (user_id bigint identity not null, email varchar(255), first_name varchar(255), last_name varchar(255), mobile_number varchar(255), password varchar(255), primary key (user_id))&quot; via JDBC Statement`","body":"@ElliottFrisch no still getting errors, for example this is just one of them <code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table user (user_id bigint identity not null, email varchar(255), first_name varchar(255), last_name varchar(255), mobile_number varchar(255), password varchar(255), primary key (user_id))&quot; via JDBC Statement</code>"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1678886898,"post_id":75745212,"comment_id":133619743,"body_markdown":"Are you using [JDBC Driver 10.2 for SQL Server](https://techcommunity.microsoft.com/t5/sql-server-blog/jdbc-driver-10-2-for-sql-server-released/ba-p/3100754) or later? It defaults to `encrypt=true;` but requires `trustServerCertificate=true;` when connecting to SQL Servers with self-signed certificates (which is pretty much everything outside of Azure).","body":"Are you using <a href=\"https://techcommunity.microsoft.com/t5/sql-server-blog/jdbc-driver-10-2-for-sql-server-released/ba-p/3100754\" rel=\"nofollow noreferrer\">JDBC Driver 10.2 for SQL Server</a> or later? It defaults to <code>encrypt=true;</code> but requires <code>trustServerCertificate=true;</code> when connecting to SQL Servers with self-signed certificates (which is pretty much everything outside of Azure)."},{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":1,"creation_date":1678887179,"post_id":75745212,"comment_id":133619840,"body_markdown":"Please add the full error here, because it is impossible to say what is your problem. And the good idea is to not share your password on the internet &#128521;","body":"Please add the full error here, because it is impossible to say what is your problem. And the good idea is to not share your password on the internet 😉"},{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1678887310,"post_id":75745212,"comment_id":133619888,"body_markdown":"The server name is `A003-E5490` do you need to put it in the url instead of `localhost`: `spring.datasource.url=jdbc:A003-E5490;databaseName=brs`","body":"The server name is <code>A003-E5490</code> do you need to put it in the url instead of <code>localhost</code>: <code>spring.datasource.url=jdbc:A003-E5490;databaseName=brs</code>"},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1678887494,"post_id":75745212,"comment_id":133619942,"body_markdown":"@AlwaysLearning I&#39;m not sure, I&#39;m using Microsoft SQL Server Management Studio 18, and the JDBC driver dependency from the Spring Initializer.","body":"@AlwaysLearning I&#39;m not sure, I&#39;m using Microsoft SQL Server Management Studio 18, and the JDBC driver dependency from the Spring Initializer."},{"owner":{"account_id":18891758,"reputation":144,"user_id":13781909,"display_name":"Danny Briskin"},"score":0,"creation_date":1678888212,"post_id":75745212,"comment_id":133620189,"body_markdown":"could be also a port issue &quot;jdbc:sqlserver://&lt;server&gt;:&lt;port&gt; ....&quot;, consult with your DBA","body":"could be also a port issue &quot;jdbc:sqlserver://&lt;server&gt;:&lt;port&gt; ....&quot;, consult with your DBA"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1678890622,"post_id":75745212,"comment_id":133621024,"body_markdown":"you probably need to set the database in jdbc url as well. You can also see which port number it uses by running following query: select distinct local_net_address, local_tcp_port from sys.dm_exec_connections where local_net_address is not null","body":"you probably need to set the database in jdbc url as well. You can also see which port number it uses by running following query: select distinct local_net_address, local_tcp_port from sys.dm_exec_connections where local_net_address is not null"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1678890667,"post_id":75745212,"comment_id":133621044,"body_markdown":"or exec xp_readerrorlog 0, 1, N&#39;Server is listening on&#39;","body":"or exec xp_readerrorlog 0, 1, N&#39;Server is listening on&#39;"}],"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678885949,"creation_date":1678885949,"question_id":75745212,"body_markdown":"I am trying to change my database from MySQL to MS SQL Server in order to use live update in Microsoft Power Bi, however, I am having some issues when trying to create the configuration for the connection in the `application.properties` file. When I run the program I see a lot of errors too many to print but I think it&#39;s fair to assume that the configuration causes them because it works fine if I were to migrate back to a MySQL Database.\r\n\r\nThis is the configuration code:  \r\n```\r\nspring.datasource.url=jdbc:sqlserver://localhost;databaseName=brs\r\nspring.datasource.username=jay\r\nspring.datasource.password=M@nUnit3dBaCk0nT0p\r\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2019Dialect\r\nspring.jpa.hibernate.ddl-auto = update\r\n```\r\n\r\nThese are the parameters used to connect to the server `A003-E5490` is the PCs name\r\n[![Connection to the Server][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qenGN.png\r\n\r\nWhat am I doing wrong?","title":"How to configure connection between Spring boot application and MS SQL Server?","body":"<p>I am trying to change my database from MySQL to MS SQL Server in order to use live update in Microsoft Power Bi, however, I am having some issues when trying to create the configuration for the connection in the <code>application.properties</code> file. When I run the program I see a lot of errors too many to print but I think it's fair to assume that the configuration causes them because it works fine if I were to migrate back to a MySQL Database.</p>\n<p>This is the configuration code:</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://localhost;databaseName=brs\nspring.datasource.username=jay\nspring.datasource.password=M@nUnit3dBaCk0nT0p\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.show-sql=true\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2019Dialect\nspring.jpa.hibernate.ddl-auto = update\n</code></pre>\n<p>These are the parameters used to connect to the server <code>A003-E5490</code> is the PCs name\n<a href=\"https://i.stack.imgur.com/qenGN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qenGN.png\" alt=\"Connection to the Server\" /></a></p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","android","ios","flutter","react-native"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678865170,"post_id":75741593,"comment_id":133613881,"body_markdown":"&quot;I haven&#39;t tried anything.&quot; Even though I applaud your honesty, that&#39;s not an approach that will convince many to help you out.","body":"&quot;I haven&#39;t tried anything.&quot; Even though I applaud your honesty, that&#39;s not an approach that will convince many to help you out."},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1678865611,"post_id":75741593,"comment_id":133613973,"body_markdown":"Did you really search in Google? Just putting your title lead me to many links for me.","body":"Did you really search in Google? Just putting your title lead me to many links for me."},{"owner":{"account_id":26107900,"reputation":76,"user_id":19802321,"display_name":"Shaikh Faizan"},"score":0,"creation_date":1678865824,"post_id":75741593,"comment_id":133614017,"body_markdown":"I have found changing it programatically but i want to change in background like this clock app it changes the position of minute app and hour hand as the time changes","body":"I have found changing it programatically but i want to change in background like this clock app it changes the position of minute app and hour hand as the time changes"},{"owner":{"account_id":2441570,"reputation":109948,"user_id":3418066,"accept_rate":100,"display_name":"Paulw11"},"score":0,"creation_date":1678866617,"post_id":75741593,"comment_id":133614191,"body_markdown":"You can&#39;t do this on iOS.","body":"You can&#39;t do this on iOS."}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678885758,"creation_date":1678869432,"answer_id":75742256,"question_id":75741593,"body_markdown":"practically thats not possible. on iOS not at all, on Android there is a way (search for `&lt;activity-alias` tag and switching app launcher icon), but isn&#39;t desired to such often changes, thus probably not efficient, not &quot;device-friendly&quot;. There is a chance that Android itself or fork of it from some manufacturer may limit your app in such possibility recognizing this behavior as impersonation\r\n\r\nnote that app which can change icon oftenly is always a system app - clock, calendar, etc. Such apps have special privileges added to them by manufacturers (Apple, Samsung, Xiaomi etc.), not possible to be granted for common non-system apps. On Android you can install a different &quot;desktop app&quot;, called App launcher, and I bet these &quot;live icons&quot; aren&#39;t working on some of them, maybe all\r\n\r\nFor Android you may consider [App widget](https://developer.android.com/develop/ui/views/appwidgets/overview) for oftenly-changed data presentation, but even this feature have some limitation: &quot;default&quot; smallest refreshing interval is [15 minutes](https://developer.android.com/develop/ui/views/appwidgets/advanced#periodic), performance reasons ofc. but in here you may ommit this limitation with own refreshing mechanism based e.g. on `AlarmManager` and/or `WorkManager`. Widgets were introduced also for iOS, so it looks thats a best way for you","title":"How to make a dynamic app icon in android/ios which changes in the background automatically?","body":"<p>practically thats not possible. on iOS not at all, on Android there is a way (search for <code>&lt;activity-alias</code> tag and switching app launcher icon), but isn't desired to such often changes, thus probably not efficient, not &quot;device-friendly&quot;. There is a chance that Android itself or fork of it from some manufacturer may limit your app in such possibility recognizing this behavior as impersonation</p>\n<p>note that app which can change icon oftenly is always a system app - clock, calendar, etc. Such apps have special privileges added to them by manufacturers (Apple, Samsung, Xiaomi etc.), not possible to be granted for common non-system apps. On Android you can install a different &quot;desktop app&quot;, called App launcher, and I bet these &quot;live icons&quot; aren't working on some of them, maybe all</p>\n<p>For Android you may consider <a href=\"https://developer.android.com/develop/ui/views/appwidgets/overview\" rel=\"nofollow noreferrer\">App widget</a> for oftenly-changed data presentation, but even this feature have some limitation: &quot;default&quot; smallest refreshing interval is <a href=\"https://developer.android.com/develop/ui/views/appwidgets/advanced#periodic\" rel=\"nofollow noreferrer\">15 minutes</a>, performance reasons ofc. but in here you may ommit this limitation with own refreshing mechanism based e.g. on <code>AlarmManager</code> and/or <code>WorkManager</code>. Widgets were introduced also for iOS, so it looks thats a best way for you</p>\n"}],"owner":{"account_id":26107900,"reputation":76,"user_id":19802321,"display_name":"Shaikh Faizan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678876287,"accepted_answer_id":75742256,"answer_count":1,"score":0,"last_activity_date":1678885758,"creation_date":1678865074,"question_id":75741593,"body_markdown":"If anyone knows the realme mobile in that the clock app icon is dynamic means that it changes according to current time how to achieve this in android or in java or flutter or react native\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have search but found nothing.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ADcG7.jpg","title":"How to make a dynamic app icon in android/ios which changes in the background automatically?","body":"<p>If anyone knows the realme mobile in that the clock app icon is dynamic means that it changes according to current time how to achieve this in android or in java or flutter or react native</p>\n<p><a href=\"https://i.stack.imgur.com/ADcG7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ADcG7.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I have search but found nothing.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679909267,"post_id":75741392,"comment_id":133799011,"body_markdown":"It is not just the fact `super()` or `this()` must be first (the JVM itself is OK with putting it later), and there are plans to relax this requirement for Java in [JEP draft: Statements before super()](https://openjdk.org/jeps/8300786). The problem of allowing a `super()` or `this()` to occur in a try-catch would allow you to ignore problems in initializing the object, and thus allow the construction of a partially initialized object, which is not a good thing. Even the proposed relaxation of the rules will not allow you to use try-catch.","body":"It is not just the fact <code>super()</code> or <code>this()</code> must be first (the JVM itself is OK with putting it later), and there are plans to relax this requirement for Java in <a href=\"https://openjdk.org/jeps/8300786\" rel=\"nofollow noreferrer\">JEP draft: Statements before super()</a>. The problem of allowing a <code>super()</code> or <code>this()</code> to occur in a try-catch would allow you to ignore problems in initializing the object, and thus allow the construction of a partially initialized object, which is not a good thing. Even the proposed relaxation of the rules will not allow you to use try-catch."}],"answers":[{"tags":[],"owner":{"account_id":21820459,"reputation":73,"user_id":16116728,"display_name":"samann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678864400,"creation_date":1678864400,"answer_id":75741499,"question_id":75741392,"body_markdown":"The JLD does not allow it. There could be multiple reasons why they do not allow it but i guess it is because a constructor is not a method it does not return any value. So it means there went something wrong with creating the class. In this case the initialization of the class went wrong and it is not guaranteed that it will work properly and it should be checked that all parameters given to the constructor should be correct before it is getting called. ","title":"why I can&#39;t wrap super with try catch with throw exception in the catch","body":"<p>The JLD does not allow it. There could be multiple reasons why they do not allow it but i guess it is because a constructor is not a method it does not return any value. So it means there went something wrong with creating the class. In this case the initialization of the class went wrong and it is not guaranteed that it will work properly and it should be checked that all parameters given to the constructor should be correct before it is getting called.</p>\n"}],"owner":{"account_id":7038592,"reputation":344,"user_id":8244472,"display_name":"R Nanthak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678866203,"answer_count":1,"score":0,"last_activity_date":1678885685,"creation_date":1678863521,"question_id":75741392,"body_markdown":"Why the following code is not getting compiled. Generally super is not allowed to be wrapped in try-catch, because if exception thrown in super shows that super didn&#39;t complete, so it shouldn&#39;t be wrapped. But what if I throw exception in the try catch block. This still indicates that the class is not constructed completely right. So java developers could have allowed this case when they throw exception in the try catch block around super right. Is there any reason for why this is not allowed. The other question which made this as duplicate asks about why the super has to be first statement in the constructor. But this one is regarding throwing different exception instead superclass&#39;s thrown exception. \r\n```\r\nclass AA\r\n{\r\n\tAA() throws FileNotFoundException\r\n\t{\r\n\t\tthrow new FileNotFoundException();\r\n\t}\r\n}\r\nclass BB extends AA\r\n{\r\n\tBB() throws Exception\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tsuper();\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tthrows new Exception();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n```","title":"why I can&#39;t wrap super with try catch with throw exception in the catch","body":"<p>Why the following code is not getting compiled. Generally super is not allowed to be wrapped in try-catch, because if exception thrown in super shows that super didn't complete, so it shouldn't be wrapped. But what if I throw exception in the try catch block. This still indicates that the class is not constructed completely right. So java developers could have allowed this case when they throw exception in the try catch block around super right. Is there any reason for why this is not allowed. The other question which made this as duplicate asks about why the super has to be first statement in the constructor. But this one is regarding throwing different exception instead superclass's thrown exception.</p>\n<pre><code>class AA\n{\n    AA() throws FileNotFoundException\n    {\n        throw new FileNotFoundException();\n    }\n}\nclass BB extends AA\n{\n    BB() throws Exception\n    {\n        try\n        {\n            super();\n        }\n        catch(Exception e)\n        {\n            throws new Exception();\n        }\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":3,"creation_date":1678883145,"post_id":75744625,"comment_id":133618651,"body_markdown":"Why not simply `protected HashMap&lt;String, Song&gt; songsCollection = new HashMap&lt;&gt;();` ?","body":"Why not simply <code>protected HashMap&lt;String, Song&gt; songsCollection = new HashMap&lt;&gt;();</code> ?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678883195,"post_id":75744625,"comment_id":133618665,"body_markdown":"@racraman And generally the first type should be `Map`, not `HashMap` (not your mistake, but you did preserve it)","body":"@racraman And generally the first type should be <code>Map</code>, not <code>HashMap</code> (not your mistake, but you did preserve it)"},{"owner":{"account_id":28022978,"reputation":1,"user_id":21403470,"display_name":"BaronVice"},"score":0,"creation_date":1678885234,"post_id":75744625,"comment_id":133619248,"body_markdown":"@racraman In that case `@RequiredArgsConstructor` will not generate argument for `songsCollection`","body":"@racraman In that case <code>@RequiredArgsConstructor</code> will not generate argument for <code>songsCollection</code>"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678885263,"post_id":75744625,"comment_id":133619256,"body_markdown":"@racraman Then use &quot;AllArgsConstructor&quot;","body":"@racraman Then use &quot;AllArgsConstructor&quot;"},{"owner":{"account_id":28022978,"reputation":1,"user_id":21403470,"display_name":"BaronVice"},"score":0,"creation_date":1678885420,"post_id":75744625,"comment_id":133619281,"body_markdown":"@Michael Indeed it should. Thanks!","body":"@Michael Indeed it should. Thanks!"}],"owner":{"account_id":28022978,"reputation":1,"user_id":21403470,"display_name":"BaronVice"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678885453,"creation_date":1678882862,"question_id":75744625,"body_markdown":"Is it possible to roll a constructor with no arguments like below into lombok annotation?\r\n\r\n```\r\n@RequiredArgsConstructor\r\npublic abstract class Music implements IMusic {\r\n\r\n    @NonNull\r\n    protected Map&lt;String, Song&gt; songsCollection;\r\n\r\n    // This one\r\n    public Music(){\r\n        songsCollection = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    ...\r\n}\r\n```\r\n\r\nI tried it with `@NoArgsConstructor` but it&#39;s just an empty block. I also combined `@Builder`, `@Singular`, `@Default` with no success.","title":"Lombok initialization inside NoArgsConstructor","body":"<p>Is it possible to roll a constructor with no arguments like below into lombok annotation?</p>\n<pre><code>@RequiredArgsConstructor\npublic abstract class Music implements IMusic {\n\n    @NonNull\n    protected Map&lt;String, Song&gt; songsCollection;\n\n    // This one\n    public Music(){\n        songsCollection = new HashMap&lt;&gt;();\n    }\n\n    ...\n}\n</code></pre>\n<p>I tried it with <code>@NoArgsConstructor</code> but it's just an empty block. I also combined <code>@Builder</code>, <code>@Singular</code>, <code>@Default</code> with no success.</p>\n"},{"tags":["java","maven","intellij-idea","amazon-ecr"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1679336621,"post_id":75745078,"comment_id":133700357,"body_markdown":"Are there any errors in idea.log (&quot;Help | Show Log in...&quot;)? Is your local repo checked according to recorded events in log?","body":"Are there any errors in idea.log (&quot;Help | Show Log in...&quot;)? Is your local repo checked according to recorded events in log?"},{"owner":{"account_id":25715412,"reputation":13,"user_id":19473280,"display_name":"RanAbitbul"},"score":0,"creation_date":1679836254,"post_id":75745078,"comment_id":133788417,"body_markdown":"@y.bedrov nope, I cleared the logs and tried again, nothing there","body":"@y.bedrov nope, I cleared the logs and tried again, nothing there"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1679905506,"post_id":75745078,"comment_id":133798107,"body_markdown":"No maven related records about downloading?","body":"No maven related records about downloading?"},{"owner":{"account_id":25715412,"reputation":13,"user_id":19473280,"display_name":"RanAbitbul"},"score":0,"creation_date":1679922526,"post_id":75745078,"comment_id":133802518,"body_markdown":"@y.bedrov nothing..","body":"@y.bedrov nothing.."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1680870539,"post_id":75745078,"comment_id":133972893,"body_markdown":"Is your internal repository mentioned in &quot;Settings/Preferences | Build, Execution, Deployment | Build Tools | Maven | Repositories&quot;?","body":"Is your internal repository mentioned in &quot;Settings/Preferences | Build, Execution, Deployment | Build Tools | Maven | Repositories&quot;?"},{"owner":{"account_id":25715412,"reputation":13,"user_id":19473280,"display_name":"RanAbitbul"},"score":0,"creation_date":1681722073,"post_id":75745078,"comment_id":134096587,"body_markdown":"@y.bedrov is, it is","body":"@y.bedrov is, it is"}],"owner":{"account_id":25715412,"reputation":13,"user_id":19473280,"display_name":"RanAbitbul"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678885210,"creation_date":1678885210,"question_id":75745078,"body_markdown":"I am receiving the following IntelliJ error - \r\n\r\n```\r\nCannot download sources\r\n\r\nsources not found for: &lt;my-artifact&gt;\r\n```\r\n\r\nThis only happens when I try to download sources that are in my company&#39;s AWS ECR. \r\n\r\nI am connected to the company&#39;s VPN, and I have a fresh AWS Code Artifact token.\r\n\r\nI have tried running:\r\n```\r\nmvn dependency:sources\r\n```\r\n\r\nAny ideas to how I can get this to download internal sources?\r\n\r\nThanks.","title":"IntelliJ cannot download sources from private ECR","body":"<p>I am receiving the following IntelliJ error -</p>\n<pre><code>Cannot download sources\n\nsources not found for: &lt;my-artifact&gt;\n</code></pre>\n<p>This only happens when I try to download sources that are in my company's AWS ECR.</p>\n<p>I am connected to the company's VPN, and I have a fresh AWS Code Artifact token.</p>\n<p>I have tried running:</p>\n<pre><code>mvn dependency:sources\n</code></pre>\n<p>Any ideas to how I can get this to download internal sources?</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678885009,"creation_date":1678885009,"answer_id":75745033,"question_id":75744826,"body_markdown":"From the [Kotlin documentation](https://kotlinlang.org/docs/java-interop.html#getters-and-setters):\r\n\r\n&gt;Note that, if the Java class only has a setter, it isn&#39;t visible as a property in Kotlin because Kotlin doesn&#39;t support set-only properties.\r\n\r\n`ImageView` has a `setImageResource` but no `getImageResource`, so it falls into the category mentioned above.","title":"What does it depend on, whether you can or cannot call a Java getter/setter method using Kotlin&#39;s property access syntax, in one case or another?","body":"<p>From the <a href=\"https://kotlinlang.org/docs/java-interop.html#getters-and-setters\" rel=\"nofollow noreferrer\">Kotlin documentation</a>:</p>\n<blockquote>\n<p>Note that, if the Java class only has a setter, it isn't visible as a property in Kotlin because Kotlin doesn't support set-only properties.</p>\n</blockquote>\n<p><code>ImageView</code> has a <code>setImageResource</code> but no <code>getImageResource</code>, so it falls into the category mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678885185,"creation_date":1678885185,"answer_id":75745073,"question_id":75744826,"body_markdown":"It only creates a property if it can find a getter and setter with matching type. In your ImageView example, there&#39;s a `setImageReference` but no `getImageReference`, so no property.\r\n\r\nAnother example would be with TextView. You can do\r\n\r\n```kotlin\r\ntextView.text = &quot;hello&quot;\r\n```\r\nbut you cannot do\r\n```kotlin\r\ntextView.text = R.string.hello // have to use textView.setText(R.string.hello)\r\n```\r\nThis is because `TextView.getText()` returns a CharSequence so the only `setText` overload that matches is the one that takes a CharSequence argument.","title":"What does it depend on, whether you can or cannot call a Java getter/setter method using Kotlin&#39;s property access syntax, in one case or another?","body":"<p>It only creates a property if it can find a getter and setter with matching type. In your ImageView example, there's a <code>setImageReference</code> but no <code>getImageReference</code>, so no property.</p>\n<p>Another example would be with TextView. You can do</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>textView.text = &quot;hello&quot;\n</code></pre>\n<p>but you cannot do</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>textView.text = R.string.hello // have to use textView.setText(R.string.hello)\n</code></pre>\n<p>This is because <code>TextView.getText()</code> returns a CharSequence so the only <code>setText</code> overload that matches is the one that takes a CharSequence argument.</p>\n"}],"owner":{"account_id":23842063,"reputation":646,"user_id":17846993,"display_name":"bighugedev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75745073,"answer_count":2,"score":0,"last_activity_date":1678885185,"creation_date":1678883919,"question_id":75744826,"body_markdown":"In some cases you are able to use property access syntax to reference Java getters/setters, in some cases you aren&#39;t. What defines this behaviour?\r\n\r\n```kotlin\r\nval tv = TextView(this)\r\ntv.setText(&quot;&quot;) // WEAK WARNING: Use of setter method instead of property access syntax\r\ntv.text = &quot;&quot; // OK\r\n\r\nval iv = ImageView(this)\r\niv.setImageResource(R.drawable.ic_launcher_background) // no weak warning, meant to be used that way\r\niv.imageResource = R.drawable.ic_launcher_background // ERROR: Unresolved reference: imageResource\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2n0pR.png","title":"What does it depend on, whether you can or cannot call a Java getter/setter method using Kotlin&#39;s property access syntax, in one case or another?","body":"<p>In some cases you are able to use property access syntax to reference Java getters/setters, in some cases you aren't. What defines this behaviour?</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val tv = TextView(this)\ntv.setText(&quot;&quot;) // WEAK WARNING: Use of setter method instead of property access syntax\ntv.text = &quot;&quot; // OK\n\nval iv = ImageView(this)\niv.setImageResource(R.drawable.ic_launcher_background) // no weak warning, meant to be used that way\niv.imageResource = R.drawable.ic_launcher_background // ERROR: Unresolved reference: imageResource\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2n0pR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2n0pR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","wiremock"],"owner":{"account_id":8138072,"reputation":41,"user_id":7701126,"display_name":"Rohit Binjagermath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678884915,"creation_date":1678883384,"question_id":75744708,"body_markdown":"There is multimodule wiremock spring boot app consisting of root pom (packaging as pom) and other two submodules (maven app packaged as jar). The existing module has boot starter class which is returning correct response and evaluation request correctly but when we call for particular mock response from newly added module it is always returning 404 not found.\r\n\r\nBasically, we have 2 modules having corresponding __files and mapping folders for request and responses and we need to call matching response from newly added module.And also existing module will be the main jar which will be deployed.\r\n\r\nNew module dependency is injected in pom.xml of existing module although it is not working. can anyone please help how to scan new request and responses from new module to get correct mocked response.    \r\n","title":"How to load json request and response from mapping and __files from another module in multimodule spring boot wiremock application","body":"<p>There is multimodule wiremock spring boot app consisting of root pom (packaging as pom) and other two submodules (maven app packaged as jar). The existing module has boot starter class which is returning correct response and evaluation request correctly but when we call for particular mock response from newly added module it is always returning 404 not found.</p>\n<p>Basically, we have 2 modules having corresponding __files and mapping folders for request and responses and we need to call matching response from newly added module.And also existing module will be the main jar which will be deployed.</p>\n<p>New module dependency is injected in pom.xml of existing module although it is not working. can anyone please help how to scan new request and responses from new module to get correct mocked response.</p>\n"},{"tags":["java","android","android-appwidget"],"comments":[{"owner":{"account_id":2102282,"reputation":496,"user_id":1869576,"display_name":"mray190"},"score":0,"creation_date":1463070671,"post_id":37192445,"comment_id":61917863,"body_markdown":"I do not believe that this is possible... Example app that does this?","body":"I do not believe that this is possible... Example app that does this?"},{"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"score":0,"creation_date":1463206924,"post_id":37192445,"comment_id":61976853,"body_markdown":"The contacts apps put contact shortcuts on the home screen by demand. Maybe this is not app widget? Maybe that is indeed something else which is a shortcut which gets specific contact parameters?\nI do not need my widget to get updated periodically, so maybe the answer is there.","body":"The contacts apps put contact shortcuts on the home screen by demand. Maybe this is not app widget? Maybe that is indeed something else which is a shortcut which gets specific contact parameters? I do not need my widget to get updated periodically, so maybe the answer is there."},{"owner":{"account_id":1706823,"reputation":538,"user_id":1565731,"display_name":"Stas Lelyuk"},"score":0,"creation_date":1465636096,"post_id":37192445,"comment_id":62992553,"body_markdown":"@Doron have you found any way to add widget programicaly?","body":"@Doron have you found any way to add widget programicaly?"}],"answers":[{"tags":[],"owner":{"account_id":1706823,"reputation":538,"user_id":1565731,"display_name":"Stas Lelyuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463070729,"creation_date":1463070729,"answer_id":37192669,"question_id":37192445,"body_markdown":"There is no way to put widget on the &quot;Home&quot; screen programicaly.","title":"Adding app widget from my app","body":"<p>There is no way to put widget on the \"Home\" screen programicaly.</p>\n"}],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678884591,"creation_date":1463070015,"question_id":37192445,"body_markdown":"I have written an app which has main activity and app widget.\r\nDragging the widget to the home screen creates new widgets, as it should. I am looking for the way to do it when the user presses a button in the app activity.\r\n","title":"Adding app widget from my app","body":"<p>I have written an app which has main activity and app widget.\nDragging the widget to the home screen creates new widgets, as it should. I am looking for the way to do it when the user presses a button in the app activity.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678883644,"post_id":75744645,"comment_id":133618804,"body_markdown":"Not quite clear what the question is. Also we need to see an example","body":"Not quite clear what the question is. Also we need to see an example"}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678884274,"creation_date":1678884274,"answer_id":75744889,"question_id":75744645,"body_markdown":"If you want to find matching numerical values that are preceded by a label, you can try something like the following:\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\n\r\npublic class Bank {\r\n    private static final Pattern accountPattern;\r\n    private static final Pattern routingPattern;\r\n\r\n    static {\r\n        accountPattern = Pattern.compile(&quot;(?&lt;=account\\\\D{0,10})(\\\\d+)&quot;, Pattern.CASE_INSENSITIVE);\r\n        routingPattern = Pattern.compile(&quot;(?&lt;=routing\\\\D{0,10})(\\\\d+)&quot;, Pattern.CASE_INSENSITIVE);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String pdfText = &quot;...\\n account: 12345 ...\\n routing: 1122334455 ...\\n ...&quot;;\r\n        Map&lt;String, Long&gt; accountInfo = extractAccountInfo(pdfText);\r\n\r\n        System.out.println(accountInfo);\r\n    }\r\n\r\n    public static Map&lt;String, Long&gt; extractAccountInfo(String text) {\r\n        Map&lt;String, Long&gt; result = new HashMap&lt;&gt;();\r\n        Matcher accountMatcher = accountPattern.matcher(text);\r\n        Matcher routingMatcher = routingPattern.matcher(text);\r\n\r\n        if (accountMatcher.find() &amp;&amp; routingMatcher.find()) {\r\n            result.put(&quot;account&quot;, Long.parseLong(accountMatcher.group()));\r\n            result.put(&quot;routing&quot;, Long.parseLong(routingMatcher.group()));\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\n## Output\r\n\r\n```\r\n{routing=1122334455, account=12345}\r\n```","title":"string key with co-responding right next integer value","body":"<p>If you want to find matching numerical values that are preceded by a label, you can try something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.regex.*;\n\npublic class Bank {\n    private static final Pattern accountPattern;\n    private static final Pattern routingPattern;\n\n    static {\n        accountPattern = Pattern.compile(&quot;(?&lt;=account\\\\D{0,10})(\\\\d+)&quot;, Pattern.CASE_INSENSITIVE);\n        routingPattern = Pattern.compile(&quot;(?&lt;=routing\\\\D{0,10})(\\\\d+)&quot;, Pattern.CASE_INSENSITIVE);\n    }\n\n    public static void main(String[] args) {\n        String pdfText = &quot;...\\n account: 12345 ...\\n routing: 1122334455 ...\\n ...&quot;;\n        Map&lt;String, Long&gt; accountInfo = extractAccountInfo(pdfText);\n\n        System.out.println(accountInfo);\n    }\n\n    public static Map&lt;String, Long&gt; extractAccountInfo(String text) {\n        Map&lt;String, Long&gt; result = new HashMap&lt;&gt;();\n        Matcher accountMatcher = accountPattern.matcher(text);\n        Matcher routingMatcher = routingPattern.matcher(text);\n\n        if (accountMatcher.find() &amp;&amp; routingMatcher.find()) {\n            result.put(&quot;account&quot;, Long.parseLong(accountMatcher.group()));\n            result.put(&quot;routing&quot;, Long.parseLong(routingMatcher.group()));\n        }\n\n        return result;\n    }\n}\n</code></pre>\n<h2>Output</h2>\n<pre><code>{routing=1122334455, account=12345}\n</code></pre>\n"}],"owner":{"account_id":15691429,"reputation":1,"user_id":11322390,"display_name":"IA Nadir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678884274,"creation_date":1678883001,"question_id":75744645,"body_markdown":"I am new to java. I am working on a particular problem where routing and account number is given I have to find for routing and account number as string key with co-responding right next integer value (Key- value pair )\r\n\r\nOn whatever page it will finds routing and account number it will return it anyways with co-responding right next integer value\r\n\r\n   \r\n\r\n        String aRegex = &quot;account&quot;; \r\n    \tString rRegex = &quot;routing&quot;; \r\n    \r\n        Pattern aPattern = Pattern.compile(aRegex, Pattern.CASE_INSENSITIVE);\r\n        Matcher aMatcher = aPattern.matcher(text);\r\n        Pattern aPattern = Pattern.compile(rRegex, Pattern.CASE_INSENSITIVE);\r\n        Matcher aMatcher = aPattern.matcher(text);\r\n    \r\n        if (aMatcher.find() &amp;&amp; rMatcher.find()) {\r\n        //Add to a map\r\n            \r\n    \r\n        } else {\r\n            throw new RuntimeException(&quot;Failed to find zip or phone number in PDF.&quot;);\r\n        }\r\n        //i want a map which can get  routing and account number as string key with co-responding right next integer value\r\n\r\n\r\n\r\n","title":"string key with co-responding right next integer value","body":"<p>I am new to java. I am working on a particular problem where routing and account number is given I have to find for routing and account number as string key with co-responding right next integer value (Key- value pair )</p>\n<p>On whatever page it will finds routing and account number it will return it anyways with co-responding right next integer value</p>\n<pre><code>    String aRegex = &quot;account&quot;; \n    String rRegex = &quot;routing&quot;; \n\n    Pattern aPattern = Pattern.compile(aRegex, Pattern.CASE_INSENSITIVE);\n    Matcher aMatcher = aPattern.matcher(text);\n    Pattern aPattern = Pattern.compile(rRegex, Pattern.CASE_INSENSITIVE);\n    Matcher aMatcher = aPattern.matcher(text);\n\n    if (aMatcher.find() &amp;&amp; rMatcher.find()) {\n    //Add to a map\n        \n\n    } else {\n        throw new RuntimeException(&quot;Failed to find zip or phone number in PDF.&quot;);\n    }\n    //i want a map which can get  routing and account number as string key with co-responding right next integer value\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"score":8,"creation_date":1440404169,"post_id":32176782,"comment_id":52240528,"body_markdown":"`resultTable.getItems().clear();` is all you need.","body":"<code>resultTable.getItems().clear();</code> is all you need."},{"owner":{"account_id":6592296,"reputation":101,"user_id":5093107,"display_name":"Fubby Jim-George Fubarata"},"score":1,"creation_date":1440409035,"post_id":32176782,"comment_id":52243475,"body_markdown":"I have already done that but it only removes only the first row.","body":"I have already done that but it only removes only the first row."},{"owner":{"account_id":6592296,"reputation":101,"user_id":5093107,"display_name":"Fubby Jim-George Fubarata"},"score":0,"creation_date":1440411086,"post_id":32176782,"comment_id":52244673,"body_markdown":"Thanks.. user7144965..It was a debugging issue.","body":"Thanks.. user7144965..It was a debugging issue."},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":1,"creation_date":1539359259,"post_id":32176782,"comment_id":92487363,"body_markdown":"You may have to do `resultTable.refresh()` after.","body":"You may have to do <code>resultTable.refresh()</code> after."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678887375,"post_id":32176782,"comment_id":133619908,"body_markdown":"@trilogy _You may have to do resultTable.refresh()_ not if the all is wired as it should (except in extremely rare corner cases which most certainly is not the case here ;).","body":"@trilogy <i>You may have to do resultTable.refresh()</i> not if the all is wired as it should (except in extremely rare corner cases which most certainly is not the case here ;)."}],"answers":[{"tags":[],"owner":{"account_id":6857280,"reputation":51,"user_id":5272474,"display_name":"Khush"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1483653173,"creation_date":1483650491,"answer_id":41494726,"question_id":32176782,"body_markdown":"Try using the following: Name &quot;tableView&quot; to whatever your `FXMLtable` is called\r\n\r\n    for ( int i = 0; i&lt;tableView.getItems().size(); i++) {\r\n        tableView.getItems().clear();\r\n    }","title":"How can i clear the all contents of the cell data in every row in my tableview in JAVA FX","body":"<p>Try using the following: Name \"tableView\" to whatever your <code>FXMLtable</code> is called</p>\n\n<pre><code>for ( int i = 0; i&lt;tableView.getItems().size(); i++) {\n    tableView.getItems().clear();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7763775,"reputation":1330,"user_id":5875610,"accept_rate":54,"display_name":"Kevin Hernandez"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1539302951,"creation_date":1539302951,"answer_id":52770465,"question_id":32176782,"body_markdown":"`tableView.getItems().clear()`\r\n\r\nWill do the trick","title":"How can i clear the all contents of the cell data in every row in my tableview in JAVA FX","body":"<p><code>tableView.getItems().clear()</code></p>\n\n<p>Will do the trick</p>\n"},{"tags":[],"owner":{"account_id":7667723,"reputation":41,"user_id":5810983,"display_name":"Arun Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678884059,"creation_date":1678884059,"answer_id":75744851,"question_id":32176782,"body_markdown":"To entirely clear/reset the table (including header), I used this \r\n\r\n        tableView.getColumns().clear();\r\n        tableView.getItems().clear();\r\n\r\nmight help somebody","title":"How can i clear the all contents of the cell data in every row in my tableview in JAVA FX","body":"<p>To entirely clear/reset the table (including header), I used this</p>\n<pre><code>    tableView.getColumns().clear();\n    tableView.getItems().clear();\n</code></pre>\n<p>might help somebody</p>\n"}],"owner":{"account_id":6592296,"reputation":101,"user_id":5093107,"display_name":"Fubby Jim-George Fubarata"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40411,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":3,"score":9,"last_activity_date":1678884059,"creation_date":1440401892,"question_id":32176782,"body_markdown":"I am finding hard to clear the table contents in my table. I have tried this code.\r\n\r\n    for ( int i = 0; i&lt;resultTable.getItems().size(); i++) {\r\n        resultTable.getItems().clear();\r\n    }\r\n\r\nTo clarify my question, the problem I am having is that i want to delete the values in my table. This was the first code i used;\r\n\r\n\r\n    public void removeRow(){\r\n        allFiles = table.getItems(); fileSelected = table.getSelectionModel().getSelectedItems(); \r\n        fileSelected.forEach(allFiles :: remove); \r\n    }\r\n\r\nBut it only removes a particular selected row. I want to clear all the rows and leave the table empty at once, without having to select any row. I tried to use this code; \r\n\r\n\r\n\r\n    public void removeAllRows(){\r\n        for ( int i = 0; i&lt;resultTable.getItems().size(); i++) {\r\n            resultTable.getItems().clear(); \r\n        } \r\n    }\r\n\r\n\r\n\r\nbut it does not clear all the rows in the table\r\n\r\nMy plan is to use this method as an action for a button.\r\ne.g\r\n\r\n\r\n    Button btn = new (&quot;Clear Table&quot;);\r\n    btn..setOnAction(e-&gt;{removeAllRows();});\r\n\r\n\r\nWhen this button is clicked, it should delete all rows in the table at once.","title":"How can i clear the all contents of the cell data in every row in my tableview in JAVA FX","body":"<p>I am finding hard to clear the table contents in my table. I have tried this code.</p>\n\n<pre><code>for ( int i = 0; i&lt;resultTable.getItems().size(); i++) {\n    resultTable.getItems().clear();\n}\n</code></pre>\n\n<p>To clarify my question, the problem I am having is that i want to delete the values in my table. This was the first code i used;</p>\n\n<pre><code>public void removeRow(){\n    allFiles = table.getItems(); fileSelected = table.getSelectionModel().getSelectedItems(); \n    fileSelected.forEach(allFiles :: remove); \n}\n</code></pre>\n\n<p>But it only removes a particular selected row. I want to clear all the rows and leave the table empty at once, without having to select any row. I tried to use this code; </p>\n\n<pre><code>public void removeAllRows(){\n    for ( int i = 0; i&lt;resultTable.getItems().size(); i++) {\n        resultTable.getItems().clear(); \n    } \n}\n</code></pre>\n\n<p>but it does not clear all the rows in the table</p>\n\n<p>My plan is to use this method as an action for a button.\ne.g</p>\n\n<pre><code>Button btn = new (\"Clear Table\");\nbtn..setOnAction(e-&gt;{removeAllRows();});\n</code></pre>\n\n<p>When this button is clicked, it should delete all rows in the table at once.</p>\n"},{"tags":["java","asynchronous","synchronization"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1678842056,"post_id":75739455,"comment_id":133610917,"body_markdown":"Can you give an example how this class is initialized and used?","body":"Can you give an example how this class is initialized and used?"},{"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"score":0,"creation_date":1678846580,"post_id":75739455,"comment_id":133611464,"body_markdown":"It is used as a singleton managed by Spring and to be used like `payloadFetcher.fetch()`","body":"It is used as a singleton managed by Spring and to be used like <code>payloadFetcher.fetch()</code>"},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1678880761,"post_id":75739455,"comment_id":133617960,"body_markdown":"Shouldn&#39;t your private Consumer consumer; be static (so you&#39;ve the same instance accross all the classes)?","body":"Shouldn&#39;t your private Consumer consumer; be static (so you&#39;ve the same instance accross all the classes)?"},{"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"score":0,"creation_date":1678883882,"post_id":75739455,"comment_id":133618867,"body_markdown":"`PayloadFetcher` will be set up as a singleton so I don&#39;t think it matters @Joan","body":"<code>PayloadFetcher</code> will be set up as a singleton so I don&#39;t think it matters @Joan"},{"owner":{"account_id":73540,"reputation":12590,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"score":0,"creation_date":1678884204,"post_id":75739455,"comment_id":133618960,"body_markdown":"SpotBugs uses &quot;static analysis&quot; to look for bugs in Java. Maybe it doesn&#39;t understand what Spring is actually doing, and how it manages the scope of the beans.","body":"SpotBugs uses &quot;static analysis&quot; to look for bugs in Java. Maybe it doesn&#39;t understand what Spring is actually doing, and how it manages the scope of the beans."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678922479,"post_id":75739455,"comment_id":133629233,"body_markdown":"Can you post a complete, minimal example (including a pom which runs SpotBugs) which reproduces this?","body":"Can you post a complete, minimal example (including a pom which runs SpotBugs) which reproduces this?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679041013,"post_id":75739455,"comment_id":133653031,"body_markdown":"Most likely, SpotBugs infers from the fact that `initConsumer()` is `synchronized` that it is expected to be executed by multiple threads, which implies that `doFetch()` may be executed by multiple threads and hence, must be thread safe. Is `doFetch()` thread safe? We don’t know. Everything but the first line has been omitted. SpotBugs complains about the entire method, you ask us about its first line only…","body":"Most likely, SpotBugs infers from the fact that <code>initConsumer()</code> is <code>synchronized</code> that it is expected to be executed by multiple threads, which implies that <code>doFetch()</code> may be executed by multiple threads and hence, must be thread safe. Is <code>doFetch()</code> thread safe? We don’t know. Everything but the first line has been omitted. SpotBugs complains about the entire method, you ask us about its first line only…"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679193561,"post_id":75739455,"comment_id":133676978,"body_markdown":"What&#39;s the *complete* message from spotbugs? Reading [this question](https://stackoverflow.com/questions/4187286/what-inconsistent-synchronization-means) I&#39;d expect it to be giving you some more detail...","body":"What&#39;s the <i>complete</i> message from spotbugs? Reading <a href=\"https://stackoverflow.com/questions/4187286/what-inconsistent-synchronization-means\">this question</a> I&#39;d expect it to be giving you some more detail..."}],"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678883945,"creation_date":1678839015,"question_id":75739455,"body_markdown":"I have a singleton `PayloadFetcher` that uses a `consumer` to fetch payload.  \r\nI have the `initConsumer` function `synchronized` so that `consumer` singleton is visible across multiple threads.\r\nHowver SpotBugs complains about &quot;Inconsistent synchronization&quot; unless I add `synchronized` to `doFetch` function too, which doesn&#39;t seem necessary to me.  \r\nCould anyone help with my understanding?\r\n```java\r\n\r\npublic class PayloadFetcher {\r\n\r\n  private Consumer consumer;\r\n\r\n  public Payload fetch() {\r\n    final Payload payload = doFetch();\r\n    // ...\r\n    return payload;\r\n  }\r\n\r\n  // SpotBugs want this to be synchronized too\r\n  private Payload doFetch() {\r\n    final Consumer consumer = initConsumer();\r\n    // ...\r\n  }\r\n\r\n  private synchronized Consumer initConsumer() {\r\n    if (consumer == null) {\r\n      // init consumer\r\n    } else {\r\n      return consumer;\r\n    }\r\n  }\r\n\r\n}\r\n```","title":"Inconsistent synchronization during singleton initialization","body":"<p>I have a singleton <code>PayloadFetcher</code> that uses a <code>consumer</code> to fetch payload.<br />\nI have the <code>initConsumer</code> function <code>synchronized</code> so that <code>consumer</code> singleton is visible across multiple threads.\nHowver SpotBugs complains about &quot;Inconsistent synchronization&quot; unless I add <code>synchronized</code> to <code>doFetch</code> function too, which doesn't seem necessary to me.<br />\nCould anyone help with my understanding?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class PayloadFetcher {\n\n  private Consumer consumer;\n\n  public Payload fetch() {\n    final Payload payload = doFetch();\n    // ...\n    return payload;\n  }\n\n  // SpotBugs want this to be synchronized too\n  private Payload doFetch() {\n    final Consumer consumer = initConsumer();\n    // ...\n  }\n\n  private synchronized Consumer initConsumer() {\n    if (consumer == null) {\n      // init consumer\n    } else {\n      return consumer;\n    }\n  }\n\n}\n</code></pre>\n"},{"tags":["java","jobrunr"],"answers":[{"tags":[],"owner":{"account_id":986840,"reputation":784,"user_id":1005124,"accept_rate":29,"display_name":"rdehuyss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678883619,"creation_date":1678883619,"answer_id":75744752,"question_id":75743974,"body_markdown":"JobRunr uses the default log level you setup using SLF4J.\r\n\r\nIf you add a SLF4J implementation (e.g. logback), you can configure everything using logback.xml or via spring boot.","title":"Setting log level for JobRunr","body":"<p>JobRunr uses the default log level you setup using SLF4J.</p>\n<p>If you add a SLF4J implementation (e.g. logback), you can configure everything using logback.xml or via spring boot.</p>\n"}],"owner":{"account_id":3165443,"reputation":15,"user_id":2675587,"display_name":"Oliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75744752,"answer_count":1,"score":0,"last_activity_date":1678883619,"creation_date":1678879005,"question_id":75743974,"body_markdown":"I am using the JobRunr framework, but cannot set the log level, which is &quot;DEBUG&quot; by default.\r\n\r\nDid Google research, but to no avail.\r\n\r\nThis is how I initialize JobRunr:\r\n\r\n`JobRunr.configure().useStorageProvider(new InMemoryStorageProvider()).useBackgroundJobServer().initialize();`","title":"Setting log level for JobRunr","body":"<p>I am using the JobRunr framework, but cannot set the log level, which is &quot;DEBUG&quot; by default.</p>\n<p>Did Google research, but to no avail.</p>\n<p>This is how I initialize JobRunr:</p>\n<p><code>JobRunr.configure().useStorageProvider(new InMemoryStorageProvider()).useBackgroundJobServer().initialize();</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15988,"reputation":872868,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":7,"creation_date":1396808321,"post_id":22897992,"comment_id":34944417,"body_markdown":"**How** doesn&#39;t it work? Does it explode?","body":"<b>How</b> doesn&#39;t it work? Does it explode?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1396808379,"post_id":22897992,"comment_id":34944442,"body_markdown":"What do you call your &quot;current IP&quot; anyway? It is a vague notion. `ip addr` will show all my IP addresses on my system.","body":"What do you call your &quot;current IP&quot; anyway? It is a vague notion. <code>ip addr</code> will show all my IP addresses on my system."},{"owner":{"account_id":241731,"reputation":8846,"user_id":512728,"accept_rate":80,"display_name":"Jan Doggen"},"score":0,"creation_date":1407518044,"post_id":22897992,"comment_id":39260651,"body_markdown":"I&#39;m not a Java programmer, but this does not look like &quot;getting the IP&quot; at all. You are reading web site contents from a URL. So what do you actually want? If you indeed want the current IP use http://stackoverflow.com/questions/9481865/how-to-get-ip-address-of-current-machine-using-java","body":"I&#39;m not a Java programmer, but this does not look like &quot;getting the IP&quot; at all. You are reading web site contents from a URL. So what do you actually want? If you indeed want the current IP use <a href=\"http://stackoverflow.com/questions/9481865/how-to-get-ip-address-of-current-machine-using-java\" title=\"how to get ip address of current machine using java\">stackoverflow.com/questions/9481865/&hellip;</a>"},{"owner":{"account_id":2980285,"reputation":31,"user_id":2530386,"display_name":"Prakash Selvam"},"score":0,"creation_date":1410859306,"post_id":22897992,"comment_id":40473662,"body_markdown":"i can&#39;t post more quetions on this site by above question please.. i am poor in english.. here after  i post clear question. please remove the badges for this question.. i don&#39;t know how to improve this question...pls","body":"i can&#39;t post more quetions on this site by above question please.. i am poor in english.. here after  i post clear question. please remove the badges for this question.. i don&#39;t know how to improve this question...pls"}],"answers":[{"tags":[],"owner":{"account_id":2629478,"reputation":7484,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1396811032,"creation_date":1396808902,"answer_id":22898109,"question_id":22897992,"body_markdown":"You can use **Will&#39;s code** on this Thread : https://stackoverflow.com/questions/2939218/getting-the-external-ip-address-in-java#14541376\r\n\r\nHe use Amazon service to get his &quot;external IP&quot;.\r\n\r\nHere his code :\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n\r\n    public class IpChecker {\r\n\r\n        public static String getIp() throws Exception {\r\n            URL whatismyip = new URL(&quot;http://checkip.amazonaws.com&quot;);\r\n            BufferedReader in = null;\r\n            try {\r\n                in = new BufferedReader(new InputStreamReader(\r\n                        whatismyip.openStream()));\r\n                String ip = in.readLine();\r\n                return ip;\r\n            } finally {\r\n                if (in != null) {\r\n                    try {\r\n                        in.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**All credits goes to Will.**","title":"How to get IP address in windows machine using java","body":"<p>You can use <strong>Will's code</strong> on this Thread : <a href=\"https://stackoverflow.com/questions/2939218/getting-the-external-ip-address-in-java#14541376\">Getting the &#39;external&#39; IP address in Java</a></p>\n\n<p>He use Amazon service to get his \"external IP\".</p>\n\n<p>Here his code :</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.URL;\n\npublic class IpChecker {\n\n    public static String getIp() throws Exception {\n        URL whatismyip = new URL(\"http://checkip.amazonaws.com\");\n        BufferedReader in = null;\n        try {\n            in = new BufferedReader(new InputStreamReader(\n                    whatismyip.openStream()));\n            String ip = in.readLine();\n            return ip;\n        } finally {\n            if (in != null) {\n                try {\n                    in.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>All credits goes to Will.</strong></p>\n"}],"owner":{"account_id":2980285,"reputation":31,"user_id":2530386,"display_name":"Prakash Selvam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":6,"up_vote_count":2,"closed_date":1396816844,"accepted_answer_id":22898109,"answer_count":1,"score":-4,"last_activity_date":1678883263,"creation_date":1396808248,"question_id":22897992,"body_markdown":"I use this code to get my current IP:\r\n\r\n    public String getIpAddress() throws NullPointerException,\r\n    \t\tMalformedURLException, IOException {\r\n    \tURL whatismyip = new URL(&quot;http://checkip.amazonaws.com&quot;);\r\n    \tBufferedReader in = null;\r\n    \ttry {\r\n    \t\tin = new BufferedReader(new InputStreamReader(\r\n    \t\t\t\twhatismyip.openStream()));\r\n    \t\tString ip = in.readLine();\r\n    \t\treturn ip;\r\n    \t} finally {\r\n    \t\tif (in != null) {\r\n    \t\t\ttry {\r\n    \t\t\t\tin.close();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nbut the return value is incorrect. how to get the IP properly   \r\n\r\n\r\n","title":"How to get IP address in windows machine using java","body":"<p>I use this code to get my current IP:</p>\n<pre><code>public String getIpAddress() throws NullPointerException,\n        MalformedURLException, IOException {\n    URL whatismyip = new URL(&quot;http://checkip.amazonaws.com&quot;);\n    BufferedReader in = null;\n    try {\n        in = new BufferedReader(new InputStreamReader(\n                whatismyip.openStream()));\n        String ip = in.readLine();\n        return ip;\n    } finally {\n        if (in != null) {\n            try {\n                in.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>but the return value is incorrect. how to get the IP properly</p>\n"},{"tags":["java","visualvm"],"answers":[{"tags":[],"owner":{"account_id":3146286,"reputation":2046,"user_id":2660707,"display_name":"rafalopez79"},"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1415646888,"creation_date":1415646888,"answer_id":26851207,"question_id":26834651,"body_markdown":"Here https://netbeans.org/bugzilla/show_bug.cgi?id=191297 appears a workaround:\r\nrun profiled application with -Xverify:none","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>Here <a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=191297\" rel=\"noreferrer\">https://netbeans.org/bugzilla/show_bug.cgi?id=191297</a> appears a workaround:\nrun profiled application with -Xverify:none</p>\n"},{"tags":[],"owner":{"account_id":12186961,"reputation":21,"user_id":8896346,"display_name":"Stuart Hansen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1509999209,"creation_date":1509999209,"answer_id":47144976,"question_id":26834651,"body_markdown":"The workaround I found using IntelliJ is to compile to Java 1.6 byte code.\r\nThe menu option to do so is:  File - Project Structure, then set Project language level to 6.\r\n\r\nThis precludes you from using Java features only available with Java 7 or 8.\r\n","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>The workaround I found using IntelliJ is to compile to Java 1.6 byte code.\nThe menu option to do so is:  File - Project Structure, then set Project language level to 6.</p>\n\n<p>This precludes you from using Java features only available with Java 7 or 8.</p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1549442250,"creation_date":1518047010,"answer_id":48675199,"question_id":26834651,"body_markdown":"According to this [GitHub issue][1], it&#39;s been fixed. Updating to [version 1.4][2] solved the problem for me.\r\n\r\n\r\n  [1]: https://github.com/oracle/visualvm/issues/33\r\n  [2]: https://visualvm.github.io/download.html","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>According to this <a href=\"https://github.com/oracle/visualvm/issues/33\" rel=\"nofollow noreferrer\">GitHub issue</a>, it's been fixed. Updating to <a href=\"https://visualvm.github.io/download.html\" rel=\"nofollow noreferrer\">version 1.4</a> solved the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1561473809,"creation_date":1561473809,"answer_id":56756636,"question_id":26834651,"body_markdown":"If you are using eclipse, then go to **Run/Debug** configuration.\r\nSelect your application from left side and click on **Arguments.**\r\n\r\nHere you will see two text boxes.\r\n\r\n    1. Program Arguments\r\n    2. VM Arguments\r\n\r\nIn VM arguments, enter below commands.\r\n**-Xverify:none**\r\n\r\nClick on apply and then Run/Debug.","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>If you are using eclipse, then go to <strong>Run/Debug</strong> configuration.\nSelect your application from left side and click on <strong>Arguments.</strong></p>\n\n<p>Here you will see two text boxes.</p>\n\n<pre><code>1. Program Arguments\n2. VM Arguments\n</code></pre>\n\n<p>In VM arguments, enter below commands.\n<strong>-Xverify:none</strong></p>\n\n<p>Click on apply and then Run/Debug.</p>\n"},{"tags":[],"owner":{"account_id":3702556,"reputation":323,"user_id":3081830,"display_name":"Spacha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649935140,"creation_date":1649935140,"answer_id":71870788,"question_id":26834651,"body_markdown":"For **IntelliJ**, you can set `-Xverify:none` as follows:\r\n\r\n**Run** &gt; **Edit Configurations...** &gt; **Modify options (Alt + M)** &gt; **Add VM options**.\r\n\r\nThis should reveal a new field **VM options**, to which you can write `-Xverify:none`.","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>For <strong>IntelliJ</strong>, you can set <code>-Xverify:none</code> as follows:</p>\n<p><strong>Run</strong> &gt; <strong>Edit Configurations...</strong> &gt; <strong>Modify options (Alt + M)</strong> &gt; <strong>Add VM options</strong>.</p>\n<p>This should reveal a new field <strong>VM options</strong>, to which you can write <code>-Xverify:none</code>.</p>\n"},{"tags":[],"owner":{"account_id":2387373,"reputation":4304,"user_id":2088053,"accept_rate":50,"display_name":"Yuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678882995,"creation_date":1678882995,"answer_id":75744644,"question_id":26834651,"body_markdown":"Just letting others know, adding the VM option `-Xverify:none` is the recommended way as per the official [Troubleshooting Guide][1].\r\n\r\n\r\n  [1]: https://visualvm.github.io/troubleshooting.html","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>Just letting others know, adding the VM option <code>-Xverify:none</code> is the recommended way as per the official <a href=\"https://visualvm.github.io/troubleshooting.html\" rel=\"nofollow noreferrer\">Troubleshooting Guide</a>.</p>\n"}],"owner":{"account_id":1200939,"reputation":29479,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24785,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"answer_count":6,"score":62,"last_activity_date":1678882995,"creation_date":1415576485,"question_id":26834651,"body_markdown":"If I try to profile application, (which is prepared under Eclipse, but running from command line) with the help of VisualVM, I get the following error message\r\n\r\n![enter image description here][1]\r\n\r\nSimultaneously, the project folder is fouled with newly created class files. Although they are already existing in `target/classes`.\r\n\r\nThe project structure is Maven&#39;s, i.e. there is a foder `target/classes` in current directory and I us the following command to run the application\r\n\r\n    java -Xmx16g -cp target/classes tests.Runner01\r\n\r\nHow to fix?\r\n\r\n**UPDATE** \r\n\r\nThe same occurs with conventional java project too.\r\n\r\nBelow it the picture of populated class files, which located where they should not \r\n\r\n![enter image description here][2]\r\n\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/GPhyQ.png\r\n  [2]: http://i.stack.imgur.com/zuetp.png","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>If I try to profile application, (which is prepared under Eclipse, but running from command line) with the help of VisualVM, I get the following error message</p>\n\n<p><img src=\"https://i.stack.imgur.com/GPhyQ.png\" alt=\"enter image description here\"></p>\n\n<p>Simultaneously, the project folder is fouled with newly created class files. Although they are already existing in <code>target/classes</code>.</p>\n\n<p>The project structure is Maven's, i.e. there is a foder <code>target/classes</code> in current directory and I us the following command to run the application</p>\n\n<pre><code>java -Xmx16g -cp target/classes tests.Runner01\n</code></pre>\n\n<p>How to fix?</p>\n\n<p><strong>UPDATE</strong> </p>\n\n<p>The same occurs with conventional java project too.</p>\n\n<p>Below it the picture of populated class files, which located where they should not </p>\n\n<p><img src=\"https://i.stack.imgur.com/zuetp.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","udp","netty"],"comments":[{"owner":{"account_id":26544556,"reputation":190,"user_id":20174801,"display_name":"Synopsis"},"score":0,"creation_date":1678311342,"post_id":75649400,"comment_id":133510304,"body_markdown":"I&#39;m not sure about that framework, but you give the port 5555 **two** times for each channel and additionally a bind() function usually binds a local socket to listen. I would guess, by using bind() you force the system to use the same local port twice, which does not work.\n\nTry using different port numbers in the bind() call and I **think** you could succeed.","body":"I&#39;m not sure about that framework, but you give the port 5555 <b>two</b> times for each channel and additionally a bind() function usually binds a local socket to listen. I would guess, by using bind() you force the system to use the same local port twice, which does not work.  Try using different port numbers in the bind() call and I <b>think</b> you could succeed."},{"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"score":0,"creation_date":1678334045,"post_id":75649400,"comment_id":133513438,"body_markdown":"In NIO, this should be fine because I am using the reuse_address option. I did however try to use different port numbers, however it only listens to the first channel regardless","body":"In NIO, this should be fine because I am using the reuse_address option. I did however try to use different port numbers, however it only listens to the first channel regardless"}],"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678882912,"creation_date":1678096793,"question_id":75649400,"body_markdown":"I have a UDP Multicast application which will be hardcoded to listen to specific groups of multicasts addresses. However, while I am able to have one NioDatagramChannel that joins multiple groups, my code cannot handle multiple NioDatagramChannels that listens to separate groups (somewhat like Java NIO selector). The following is the code I wrote:\r\n\r\n```\r\npublic class NettyTest implements Runnable {\r\n    public static void main(String[] args){\r\n        new NettyTest().run();\r\n    }\r\n    @Override\r\n    public void run() {\r\n        MulticastHandler handler = new MulticastHandler();\r\n        MulticastHandler handler2 = new MulticastHandler();\r\n        EventLoopGroup group = new NioEventLoopGroup();\r\n        try{\r\n            UDPChannel channel = new UDPChannel(5555, &quot;eth0&quot;, &quot;239.1.1.1&quot;);\r\n            UDPChannel channel2 = new UDPChannel(5556, &quot;eth0&quot;, &quot;225.1.1.1&quot;);\r\n\r\n            Bootstrap b = new Bootstrap();\r\n            NetworkInterface ni = NetworkInterface.getByName(&quot;eth0&quot;);\r\n            b.group(group)\r\n                    .channel(NioDatagramChannel.class)\r\n                    .option(ChannelOption.SO_REUSEADDR, true)\r\n                    .option(ChannelOption.IP_MULTICAST_IF, ni)\r\n                    .option(ChannelOption.SO_RCVBUF, 1500 * 200)\r\n                    .handler(new ChannelInitializer&lt;NioDatagramChannel&gt;() {\r\n                        @Override\r\n                        protected void initChannel(NioDatagramChannel nioDatagramChannel) throws Exception {\r\n                            nioDatagramChannel.pipeline().addLast(new MulticastHandler());  //&lt;------------- modification\r\n                        }\r\n                    });\r\n\r\n            System.out.println(channel.getMULTICAST_STRING()+&quot; &quot;+channel2.getMULTICAST_STRING());\r\n\r\n            AttributeKey&lt;String&gt; markerKey = AttributeKey.valueOf(&quot;Marker&quot;);\r\n            NioDatagramChannel ch = (NioDatagramChannel)b.bind(5555).sync().channel();\r\n            ch.attr(markerKey).set(channel.getMULTICAST_STRING());\r\n            ch.joinGroup(new InetSocketAddress(&quot;239.1.1.1&quot;, 5555), ni).sync();\r\n            group.register(ch);\r\n\r\n            NioDatagramChannel ch1 =(NioDatagramChannel)b.bind(5556).sync().channel();\r\n            ch1.attr(markerKey).set(channel2.getMULTICAST_STRING());\r\n            ch1.joinGroup(new InetSocketAddress(&quot;225.1.1.1&quot;, 5556), ni).sync();\r\n            group.register(ch1);\r\n\r\n//            ch.closeFuture().await();\r\n//            ch1.closeFuture().await();\r\n            ch.closeFuture();\r\n            ch1.closeFuture();\r\n        } catch (InterruptedException | SocketException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nclass MulticastHandler extends SimpleChannelInboundHandler&lt;DatagramPacket&gt;{\r\n    private MoldUdpHeader moldUdpHeader = new MoldUdpHeader();\r\n    AttributeKey&lt;String&gt; markerKey = AttributeKey.valueOf(&quot;Marker&quot;);\r\n    @Override\r\n    protected void channelRead0(ChannelHandlerContext channelHandlerContext, DatagramPacket datagramPacket) throws Exception {\r\n        moldUdpHeader.decode(datagramPacket.content().nioBuffer(), 0);\r\n        System.out.println(channelHandlerContext.channel().attr(markerKey).get()+&quot; &quot;+moldUdpHeader.getSeqNum());\r\n    }\r\n}\r\n```\r\n\r\nI have tried the above but it gives a `io.netty.channel.StacklessClosedChannelException at io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(ChannelPromise)(Unknown Source)`. What is the proper way to be able to process both of these channels? I do not want to combine both into one channel, because the messages on both channels can have same ID but different values (values are specific for that channel).\r\n\r\nEdit: I just found out that either Netty or Log4j (i m not sure which) has been suppressing the console output for the errors that has happened with the sample code above. I found an inconspicuous log file which contains all the error messages Netty has been writing, even though the above does not use loggers at all. The following is the error logs. I have checked up some of the errors and modified my code above (it turns out each channel needs a new handle)\r\n\r\n    2023-03-15 13:56:50,688 WARN  method: [main] bootstrap.AbstractBootstrap (AbstractBootstrap.java:467) - Failed to set channel option &#39;IP_MULTICAST_IF&#39; with value &#39;name:eth0 (eth0)&#39; for channel &#39;[id: 0xf46f62a3]&#39;\r\n    io.netty.channel.ChannelException: java.lang.reflect.InvocationTargetException\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:206) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setNetworkInterface(NioDatagramChannelConfig.java:161) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.DefaultDatagramChannelConfig.setOption(DefaultDatagramChannelConfig.java:126) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption(NioDatagramChannelConfig.java:216) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.setChannelOption(AbstractBootstrap.java:463) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.setChannelOptions(AbstractBootstrap.java:455) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.Bootstrap.init(Bootstrap.java:264) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:311) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.doBind(AbstractBootstrap.java:272) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:268) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:246) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat udp.NettyTest.run(NettyTest.java:52) ~[classes/:?]\r\n    \tat udp.NettyTest.main(NettyTest.java:24) ~[classes/:?]\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \t... 12 more\r\n    Caused by: java.net.SocketException: No such file or directory\r\n    \tat sun.nio.ch.Net.setInterface6(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:226) ~[?:1.8.0_351]\r\n    \tat sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:42) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \t... 12 more\r\n    2023-03-15 13:56:50,733 WARN  method: [main] bootstrap.AbstractBootstrap (AbstractBootstrap.java:467) - Failed to set channel option &#39;IP_MULTICAST_IF&#39; with value &#39;name:eth0 (eth0)&#39; for channel &#39;[id: 0x5085932f]&#39;\r\n    io.netty.channel.ChannelException: java.lang.reflect.InvocationTargetException\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:206) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setNetworkInterface(NioDatagramChannelConfig.java:161) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.DefaultDatagramChannelConfig.setOption(DefaultDatagramChannelConfig.java:126) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption(NioDatagramChannelConfig.java:216) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.setChannelOption(AbstractBootstrap.java:463) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.setChannelOptions(AbstractBootstrap.java:455) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.Bootstrap.init(Bootstrap.java:264) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:311) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.doBind(AbstractBootstrap.java:272) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:268) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:246) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat udp.NettyTest.run(NettyTest.java:57) ~[classes/:?]\r\n    \tat udp.NettyTest.main(NettyTest.java:24) ~[classes/:?]\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \t... 12 more\r\n    Caused by: java.net.SocketException: No such file or directory\r\n    \tat sun.nio.ch.Net.setInterface6(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:226) ~[?:1.8.0_351]\r\n    \tat sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:42) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \t... 12 more\r\n\r\n\r\nIt looks like it now receives both channels packets, so thats pretty great.\r\n\r\noutput:\r\n\r\n    239.1.1.1 225.1.1.1\r\n    239.1.1.1 0\r\n    225.1.1.1 0\r\n    225.1.1.1 1\r\n    239.1.1.1 1\r\n    225.1.1.1 2\r\n    239.1.1.1 2\r\n    225.1.1.1 3\r\n    239.1.1.1 3","title":"What is the proper procedure for working with multiple channels in netty?","body":"<p>I have a UDP Multicast application which will be hardcoded to listen to specific groups of multicasts addresses. However, while I am able to have one NioDatagramChannel that joins multiple groups, my code cannot handle multiple NioDatagramChannels that listens to separate groups (somewhat like Java NIO selector). The following is the code I wrote:</p>\n<pre><code>public class NettyTest implements Runnable {\n    public static void main(String[] args){\n        new NettyTest().run();\n    }\n    @Override\n    public void run() {\n        MulticastHandler handler = new MulticastHandler();\n        MulticastHandler handler2 = new MulticastHandler();\n        EventLoopGroup group = new NioEventLoopGroup();\n        try{\n            UDPChannel channel = new UDPChannel(5555, &quot;eth0&quot;, &quot;239.1.1.1&quot;);\n            UDPChannel channel2 = new UDPChannel(5556, &quot;eth0&quot;, &quot;225.1.1.1&quot;);\n\n            Bootstrap b = new Bootstrap();\n            NetworkInterface ni = NetworkInterface.getByName(&quot;eth0&quot;);\n            b.group(group)\n                    .channel(NioDatagramChannel.class)\n                    .option(ChannelOption.SO_REUSEADDR, true)\n                    .option(ChannelOption.IP_MULTICAST_IF, ni)\n                    .option(ChannelOption.SO_RCVBUF, 1500 * 200)\n                    .handler(new ChannelInitializer&lt;NioDatagramChannel&gt;() {\n                        @Override\n                        protected void initChannel(NioDatagramChannel nioDatagramChannel) throws Exception {\n                            nioDatagramChannel.pipeline().addLast(new MulticastHandler());  //&lt;------------- modification\n                        }\n                    });\n\n            System.out.println(channel.getMULTICAST_STRING()+&quot; &quot;+channel2.getMULTICAST_STRING());\n\n            AttributeKey&lt;String&gt; markerKey = AttributeKey.valueOf(&quot;Marker&quot;);\n            NioDatagramChannel ch = (NioDatagramChannel)b.bind(5555).sync().channel();\n            ch.attr(markerKey).set(channel.getMULTICAST_STRING());\n            ch.joinGroup(new InetSocketAddress(&quot;239.1.1.1&quot;, 5555), ni).sync();\n            group.register(ch);\n\n            NioDatagramChannel ch1 =(NioDatagramChannel)b.bind(5556).sync().channel();\n            ch1.attr(markerKey).set(channel2.getMULTICAST_STRING());\n            ch1.joinGroup(new InetSocketAddress(&quot;225.1.1.1&quot;, 5556), ni).sync();\n            group.register(ch1);\n\n//            ch.closeFuture().await();\n//            ch1.closeFuture().await();\n            ch.closeFuture();\n            ch1.closeFuture();\n        } catch (InterruptedException | SocketException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\nclass MulticastHandler extends SimpleChannelInboundHandler&lt;DatagramPacket&gt;{\n    private MoldUdpHeader moldUdpHeader = new MoldUdpHeader();\n    AttributeKey&lt;String&gt; markerKey = AttributeKey.valueOf(&quot;Marker&quot;);\n    @Override\n    protected void channelRead0(ChannelHandlerContext channelHandlerContext, DatagramPacket datagramPacket) throws Exception {\n        moldUdpHeader.decode(datagramPacket.content().nioBuffer(), 0);\n        System.out.println(channelHandlerContext.channel().attr(markerKey).get()+&quot; &quot;+moldUdpHeader.getSeqNum());\n    }\n}\n</code></pre>\n<p>I have tried the above but it gives a <code>io.netty.channel.StacklessClosedChannelException at io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(ChannelPromise)(Unknown Source)</code>. What is the proper way to be able to process both of these channels? I do not want to combine both into one channel, because the messages on both channels can have same ID but different values (values are specific for that channel).</p>\n<p>Edit: I just found out that either Netty or Log4j (i m not sure which) has been suppressing the console output for the errors that has happened with the sample code above. I found an inconspicuous log file which contains all the error messages Netty has been writing, even though the above does not use loggers at all. The following is the error logs. I have checked up some of the errors and modified my code above (it turns out each channel needs a new handle)</p>\n<pre><code>2023-03-15 13:56:50,688 WARN  method: [main] bootstrap.AbstractBootstrap (AbstractBootstrap.java:467) - Failed to set channel option 'IP_MULTICAST_IF' with value 'name:eth0 (eth0)' for channel '[id: 0xf46f62a3]'\nio.netty.channel.ChannelException: java.lang.reflect.InvocationTargetException\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:206) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setNetworkInterface(NioDatagramChannelConfig.java:161) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.DefaultDatagramChannelConfig.setOption(DefaultDatagramChannelConfig.java:126) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption(NioDatagramChannelConfig.java:216) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.setChannelOption(AbstractBootstrap.java:463) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.setChannelOptions(AbstractBootstrap.java:455) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.Bootstrap.init(Bootstrap.java:264) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:311) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.doBind(AbstractBootstrap.java:272) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:268) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:246) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at udp.NettyTest.run(NettyTest.java:52) ~[classes/:?]\n    at udp.NettyTest.main(NettyTest.java:24) ~[classes/:?]\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    ... 12 more\nCaused by: java.net.SocketException: No such file or directory\n    at sun.nio.ch.Net.setInterface6(Native Method) ~[?:1.8.0_351]\n    at sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:226) ~[?:1.8.0_351]\n    at sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:42) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    ... 12 more\n2023-03-15 13:56:50,733 WARN  method: [main] bootstrap.AbstractBootstrap (AbstractBootstrap.java:467) - Failed to set channel option 'IP_MULTICAST_IF' with value 'name:eth0 (eth0)' for channel '[id: 0x5085932f]'\nio.netty.channel.ChannelException: java.lang.reflect.InvocationTargetException\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:206) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setNetworkInterface(NioDatagramChannelConfig.java:161) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.DefaultDatagramChannelConfig.setOption(DefaultDatagramChannelConfig.java:126) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption(NioDatagramChannelConfig.java:216) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.setChannelOption(AbstractBootstrap.java:463) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.setChannelOptions(AbstractBootstrap.java:455) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.Bootstrap.init(Bootstrap.java:264) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:311) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.doBind(AbstractBootstrap.java:272) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:268) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:246) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at udp.NettyTest.run(NettyTest.java:57) ~[classes/:?]\n    at udp.NettyTest.main(NettyTest.java:24) ~[classes/:?]\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    ... 12 more\nCaused by: java.net.SocketException: No such file or directory\n    at sun.nio.ch.Net.setInterface6(Native Method) ~[?:1.8.0_351]\n    at sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:226) ~[?:1.8.0_351]\n    at sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:42) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    ... 12 more\n</code></pre>\n<p>It looks like it now receives both channels packets, so thats pretty great.</p>\n<p>output:</p>\n<pre><code>239.1.1.1 225.1.1.1\n239.1.1.1 0\n225.1.1.1 0\n225.1.1.1 1\n239.1.1.1 1\n225.1.1.1 2\n239.1.1.1 2\n225.1.1.1 3\n239.1.1.1 3\n</code></pre>\n"},{"tags":["java","logging","apache-beam","apache-beam-kafkaio"],"answers":[{"tags":[],"owner":{"account_id":27886429,"reputation":1,"user_id":21293767,"display_name":"Alberto Serna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678882876,"creation_date":1677500550,"answer_id":75580441,"question_id":75211881,"body_markdown":"SOLUTION 1: I made it work with **org.apache.log4j.Logger** \r\n\r\n```\r\n   import org.apache.log4j.Logger\r\n//import org.slf4j.{Logger, LoggerFactory}\r\n\r\nobject KafkaConsumer {\r\n\r\n  // NOTE 1: I did not have to set up the below JVM flags in the end\r\n  // (it was only filtering out the logs from the app not the internal beam ones)\r\n  // -Dlog4j.configurationFile=src/main/resources/log4j2.properties\r\n  // -Djava.util.logging.config.file=src/main/resources/log4j2.properties\r\n  //  --beam.log4j2ConfigurationFile=src/main/resources/log4j2.properties\r\n  val log = Logger.getLogger(this.getClass.getName)\r\n\r\n// NOTE 2: it did not work out either\r\n// --sdkHarnessLogLevelOverrides={\\&quot;org.apache.kafka.clients.consumer.internals\\&quot;:\\&quot;ERROR\\&quot;}\r\n\r\n// NOTE 3: I have not been able to filter out using slf4j\r\n//  val log: Logger = LoggerFactory getLogger getClass.getName\r\n\r\n  def main(cmdlineArgs: Array[String]): Unit = {\r\n    import org.apache.logging.log4j.core.config.Configurator\r\n    Configurator.initialize(null, &quot;log4j2.xml&quot;)\r\n    log.info(&quot;Init SCIO Context...&quot;)\r\n```\r\n\r\nbeing log4j2.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;org.apache.kafka.clients.consumer.internals.SubscriptionState&quot; level=&quot;ERROR&quot;/&gt;\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nand build.sbt (I am using SCIO) and I had multiple slfj4 bindings\r\n```\r\nlibraryDependencies ++= Seq(\r\n      &quot;com.spotify&quot; %% &quot;scio-extra&quot; % scioVersion,\r\n      &quot;com.spotify&quot; %% &quot;scio-avro&quot; % scioVersion,\r\n      &quot;com.spotify&quot; %% &quot;scio-core&quot; % scioVersion,\r\n      &quot;com.spotify&quot; %% &quot;scio-test&quot; % scioVersion % Test,\r\n      &quot;com.spotify&quot; %% &quot;scio-google-cloud-platform&quot; % scioVersion,\r\n      &quot;org.apache.beam&quot; % &quot;beam-runners-direct-java&quot; % beamVersion,\r\n      &quot;org.apache.beam&quot; % &quot;beam-runners-google-cloud-dataflow-java&quot; % beamVersion,\r\n//      &quot;org.slf4j&quot; % &quot;slf4j-simple&quot; % &quot;1.7.36&quot;,\r\n//      &quot;org.slf4j&quot; % &quot;slf4j-api&quot; % &quot;1.7.36&quot;,\r\n      &quot;com.google.cloud&quot; % &quot;google-cloud-bigquery&quot; % &quot;2.13.2&quot;,\r\n      &quot;com.google.cloud&quot; % &quot;google-cloud-storage&quot; % &quot;1.17.0&quot;,\r\n      &quot;org.mockito&quot; %% &quot;mockito-scala&quot; % &quot;1.16.34&quot; % Test,\r\n      &quot;org.mockito&quot; %% &quot;mockito-scala-scalatest&quot; % &quot;1.16.15&quot; % Test,\r\n      &quot;org.mockito&quot; %% &quot;mockito-scala-specs2&quot; % &quot;1.16.15&quot; % Test,\r\n      &quot;org.mockito&quot; %% &quot;mockito-scala-cats&quot; % &quot;1.16.15&quot; % Test,\r\n      &quot;org.mockito&quot; %% &quot;mockito-scala-scalaz&quot; % &quot;1.16.15&quot; % Test,\r\n      &quot;jp.ne.opt&quot; %% &quot;bigquery-fake-client&quot; % &quot;0.1.0&quot; % Test,\r\n      (&quot;com.my.jar&quot; % myJar&quot; % jarVersion)\r\n        .exclude(&quot;com.twitter&quot;, &quot;chill_2.11&quot;)\r\n        .exclude(&quot;org.scala-lang.modules&quot;, &quot;scala-xml_2.11&quot;)\r\n        .exclude(&quot;com.fasterxml.jackson.module&quot;, &quot;jackson-module-scala_2.11&quot;)\r\n        .exclude(&quot;org.scala-lang.modules&quot;, &quot;scala-parser-combinators_2.11&quot;)\r\n        .exclude(&quot;org.slf4j&quot;, &quot;slf4j-log4j12&quot;)\r\n    )\r\n```\r\nwith &quot;-Dlog4j.configurationFile=src/main/resources/log4j2.xml&quot; and these dependencies should suffice too:\r\n\r\n```\r\n&quot;org.slf4j&quot; % &quot;slf4j-simple&quot; % &quot;1.7.36&quot;,\r\n&quot;org.apache.logging.log4j&quot; % &quot;log4j-core&quot; % &quot;2.19.0&quot;,\r\n&quot;org.apache.logging.log4j&quot; % &quot;log4j-api&quot; % &quot;2.19.0&quot;,\r\n &quot;org.apache.logging.log4j&quot; % &quot;log4j-slf4j-impl&quot; % &quot;2.19.0&quot;,\r\n```\r\n\r\nSOLUTION 2:\r\n\r\nwith JVM -Dlog4j.configurationFile=src/main/resources/log4j2.xml\r\n\r\nand \r\n\r\n```\r\nimport org.slf4j.{Logger, LoggerFactory}\r\n\r\nclass MyClass[T] {\r\n  val log: Logger = LoggerFactory getLogger getClass.getName\r\n```\r\n\r\n\r\nafter:\r\n[after_Configurator_initialize][1]\r\n\r\n\r\nbefore:\r\n[before_Configurator_initialize][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yvidz.png\r\n  [2]: https://i.stack.imgur.com/kwVIu.png","title":"Disable Direct Runner Logs in Apache Beam for Kafka Consumer","body":"<p>SOLUTION 1: I made it work with <strong>org.apache.log4j.Logger</strong></p>\n<pre><code>   import org.apache.log4j.Logger\n//import org.slf4j.{Logger, LoggerFactory}\n\nobject KafkaConsumer {\n\n  // NOTE 1: I did not have to set up the below JVM flags in the end\n  // (it was only filtering out the logs from the app not the internal beam ones)\n  // -Dlog4j.configurationFile=src/main/resources/log4j2.properties\n  // -Djava.util.logging.config.file=src/main/resources/log4j2.properties\n  //  --beam.log4j2ConfigurationFile=src/main/resources/log4j2.properties\n  val log = Logger.getLogger(this.getClass.getName)\n\n// NOTE 2: it did not work out either\n// --sdkHarnessLogLevelOverrides={\\&quot;org.apache.kafka.clients.consumer.internals\\&quot;:\\&quot;ERROR\\&quot;}\n\n// NOTE 3: I have not been able to filter out using slf4j\n//  val log: Logger = LoggerFactory getLogger getClass.getName\n\n  def main(cmdlineArgs: Array[String]): Unit = {\n    import org.apache.logging.log4j.core.config.Configurator\n    Configurator.initialize(null, &quot;log4j2.xml&quot;)\n    log.info(&quot;Init SCIO Context...&quot;)\n</code></pre>\n<p>being log4j2.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;org.apache.kafka.clients.consumer.internals.SubscriptionState&quot; level=&quot;ERROR&quot;/&gt;\n        &lt;Root level=&quot;INFO&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>and build.sbt (I am using SCIO) and I had multiple slfj4 bindings</p>\n<pre><code>libraryDependencies ++= Seq(\n      &quot;com.spotify&quot; %% &quot;scio-extra&quot; % scioVersion,\n      &quot;com.spotify&quot; %% &quot;scio-avro&quot; % scioVersion,\n      &quot;com.spotify&quot; %% &quot;scio-core&quot; % scioVersion,\n      &quot;com.spotify&quot; %% &quot;scio-test&quot; % scioVersion % Test,\n      &quot;com.spotify&quot; %% &quot;scio-google-cloud-platform&quot; % scioVersion,\n      &quot;org.apache.beam&quot; % &quot;beam-runners-direct-java&quot; % beamVersion,\n      &quot;org.apache.beam&quot; % &quot;beam-runners-google-cloud-dataflow-java&quot; % beamVersion,\n//      &quot;org.slf4j&quot; % &quot;slf4j-simple&quot; % &quot;1.7.36&quot;,\n//      &quot;org.slf4j&quot; % &quot;slf4j-api&quot; % &quot;1.7.36&quot;,\n      &quot;com.google.cloud&quot; % &quot;google-cloud-bigquery&quot; % &quot;2.13.2&quot;,\n      &quot;com.google.cloud&quot; % &quot;google-cloud-storage&quot; % &quot;1.17.0&quot;,\n      &quot;org.mockito&quot; %% &quot;mockito-scala&quot; % &quot;1.16.34&quot; % Test,\n      &quot;org.mockito&quot; %% &quot;mockito-scala-scalatest&quot; % &quot;1.16.15&quot; % Test,\n      &quot;org.mockito&quot; %% &quot;mockito-scala-specs2&quot; % &quot;1.16.15&quot; % Test,\n      &quot;org.mockito&quot; %% &quot;mockito-scala-cats&quot; % &quot;1.16.15&quot; % Test,\n      &quot;org.mockito&quot; %% &quot;mockito-scala-scalaz&quot; % &quot;1.16.15&quot; % Test,\n      &quot;jp.ne.opt&quot; %% &quot;bigquery-fake-client&quot; % &quot;0.1.0&quot; % Test,\n      (&quot;com.my.jar&quot; % myJar&quot; % jarVersion)\n        .exclude(&quot;com.twitter&quot;, &quot;chill_2.11&quot;)\n        .exclude(&quot;org.scala-lang.modules&quot;, &quot;scala-xml_2.11&quot;)\n        .exclude(&quot;com.fasterxml.jackson.module&quot;, &quot;jackson-module-scala_2.11&quot;)\n        .exclude(&quot;org.scala-lang.modules&quot;, &quot;scala-parser-combinators_2.11&quot;)\n        .exclude(&quot;org.slf4j&quot;, &quot;slf4j-log4j12&quot;)\n    )\n</code></pre>\n<p>with &quot;-Dlog4j.configurationFile=src/main/resources/log4j2.xml&quot; and these dependencies should suffice too:</p>\n<pre><code>&quot;org.slf4j&quot; % &quot;slf4j-simple&quot; % &quot;1.7.36&quot;,\n&quot;org.apache.logging.log4j&quot; % &quot;log4j-core&quot; % &quot;2.19.0&quot;,\n&quot;org.apache.logging.log4j&quot; % &quot;log4j-api&quot; % &quot;2.19.0&quot;,\n &quot;org.apache.logging.log4j&quot; % &quot;log4j-slf4j-impl&quot; % &quot;2.19.0&quot;,\n</code></pre>\n<p>SOLUTION 2:</p>\n<p>with JVM -Dlog4j.configurationFile=src/main/resources/log4j2.xml</p>\n<p>and</p>\n<pre><code>import org.slf4j.{Logger, LoggerFactory}\n\nclass MyClass[T] {\n  val log: Logger = LoggerFactory getLogger getClass.getName\n</code></pre>\n<p>after:\n<a href=\"https://i.stack.imgur.com/Yvidz.png\" rel=\"nofollow noreferrer\">after_Configurator_initialize</a></p>\n<p>before:\n<a href=\"https://i.stack.imgur.com/kwVIu.png\" rel=\"nofollow noreferrer\">before_Configurator_initialize</a></p>\n"}],"owner":{"account_id":21783085,"reputation":43,"user_id":16084537,"display_name":"Lemon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678882876,"creation_date":1674489213,"question_id":75211881,"body_markdown":"Seen a similar question asked, but on dataflow logging and not direct logging.\r\n\r\nBasically, I want to turn off the wave of KafkaIO read (consumer) logs. I have tried setting the logging levels in SDK harness as follows.\r\n```\r\nvar kafkasLogs =\r\n        SdkHarnessOptions.SdkHarnessLogLevelOverrides.from(\r\n            new HashMap&lt;&gt;(\r\n                Map.of(\r\n                    &quot;org.apache.kafka.clients.consumer.internals.SubscriptionState&quot;,\r\n                    SdkHarnessOptions.LogLevel.ERROR.name())));\r\n    options.setSdkHarnessLogLevelOverrides(kafkasLogs); // extends sdkharnessoptions\r\n```\r\nI have also tried variations of the above but have not been successful in my bid to silence the consumer logs. \r\n\r\nWhat is the way I can shut these logs off without messing with the additional logging of my pipeline?","title":"Disable Direct Runner Logs in Apache Beam for Kafka Consumer","body":"<p>Seen a similar question asked, but on dataflow logging and not direct logging.</p>\n<p>Basically, I want to turn off the wave of KafkaIO read (consumer) logs. I have tried setting the logging levels in SDK harness as follows.</p>\n<pre><code>var kafkasLogs =\n        SdkHarnessOptions.SdkHarnessLogLevelOverrides.from(\n            new HashMap&lt;&gt;(\n                Map.of(\n                    &quot;org.apache.kafka.clients.consumer.internals.SubscriptionState&quot;,\n                    SdkHarnessOptions.LogLevel.ERROR.name())));\n    options.setSdkHarnessLogLevelOverrides(kafkasLogs); // extends sdkharnessoptions\n</code></pre>\n<p>I have also tried variations of the above but have not been successful in my bid to silence the consumer logs.</p>\n<p>What is the way I can shut these logs off without messing with the additional logging of my pipeline?</p>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1420037306,"creation_date":1420034123,"answer_id":27722113,"question_id":27722094,"body_markdown":"You forgot to collect the elements of the `Stream` in a list. It should be:\r\n\r\n    List&lt;Optional&lt;Object&gt;&gt; convertedList  = originalList.stream()\r\n                                                        .map((o) -&gt; Optional.of(o))\r\n                                                        .collect(Collectors.toList()); \r\n                                                   //or .collect(Collectors.toCollection(LinkedList::new)); if you want a specific List implementation\r\n\r\nNote that you could avoid the creation of a lamdba and use a method reference in this case with `.map(Optional::of)`. \r\n\r\nI don&#39;t see why you would get a `List` of `Optional` if you know in advance that the elements in the list are non-null. Maybe it was just to get in practice with Java 8, but as @Eran said you should use `Optional::ofNullable` instead.\r\n\r\n","title":"Converting a list of objects to a list of optional objects in Java","body":"<p>You forgot to collect the elements of the <code>Stream</code> in a list. It should be:</p>\n\n<pre><code>List&lt;Optional&lt;Object&gt;&gt; convertedList  = originalList.stream()\n                                                    .map((o) -&gt; Optional.of(o))\n                                                    .collect(Collectors.toList()); \n                                               //or .collect(Collectors.toCollection(LinkedList::new)); if you want a specific List implementation\n</code></pre>\n\n<p>Note that you could avoid the creation of a lamdba and use a method reference in this case with <code>.map(Optional::of)</code>. </p>\n\n<p>I don't see why you would get a <code>List</code> of <code>Optional</code> if you know in advance that the elements in the list are non-null. Maybe it was just to get in practice with Java 8, but as @Eran said you should use <code>Optional::ofNullable</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1420034205,"creation_date":1420034205,"answer_id":27722127,"question_id":27722094,"body_markdown":"It looks like you forgot to collect the Stream to a list :\r\n\r\n    List&lt;Optional&lt;Object&gt;&gt; convertedList = \r\n        originalList.stream()\r\n                    .map((o) -&gt; Optional.ofNullable(o))\r\n                    .collect(Collectors.toList());\r\n\r\nYou should use `ofNullable` though, since `of` required a non null object (it will throw a `NullPointerException` when passed a null reference).","title":"Converting a list of objects to a list of optional objects in Java","body":"<p>It looks like you forgot to collect the Stream to a list :</p>\n\n<pre><code>List&lt;Optional&lt;Object&gt;&gt; convertedList = \n    originalList.stream()\n                .map((o) -&gt; Optional.ofNullable(o))\n                .collect(Collectors.toList());\n</code></pre>\n\n<p>You should use <code>ofNullable</code> though, since <code>of</code> required a non null object (it will throw a <code>NullPointerException</code> when passed a null reference).</p>\n"}],"owner":{"account_id":3845622,"reputation":470,"user_id":3187267,"display_name":"kentsurrey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17730,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":27722113,"answer_count":2,"score":11,"last_activity_date":1678882775,"creation_date":1420034007,"question_id":27722094,"body_markdown":"The following code converts a list of objects into a list of optional objects. Is there an elegant way to do this using Java 8&#39;s streams?\r\n\r\n    List&lt;Object&gt; originalList = Arrays.asList(new Object(), new Object());\r\n    List&lt;Optional&lt;Object&gt;&gt; convertedList = new ArrayList&lt;&gt;();\r\n    for (Object object : originalList) {\r\n        convertedList.add(Optional.of(object));\r\n    }\r\n\r\nI tried the following piece of code.\r\n\r\n    List&lt;Optional&lt;Object&gt;&gt; convertedList = originalList.stream().map((o) -&gt; Optional.of(o));\r\n\r\nHowever this gives the following compile error:\r\n\r\n    of(T) in Optional cannot be applied to (java.lang.Object)\r\n\r\nThis is using the java.util.Optional class rather than the Guava one.","title":"Converting a list of objects to a list of optional objects in Java","body":"<p>The following code converts a list of objects into a list of optional objects. Is there an elegant way to do this using Java 8's streams?</p>\n\n<pre><code>List&lt;Object&gt; originalList = Arrays.asList(new Object(), new Object());\nList&lt;Optional&lt;Object&gt;&gt; convertedList = new ArrayList&lt;&gt;();\nfor (Object object : originalList) {\n    convertedList.add(Optional.of(object));\n}\n</code></pre>\n\n<p>I tried the following piece of code.</p>\n\n<pre><code>List&lt;Optional&lt;Object&gt;&gt; convertedList = originalList.stream().map((o) -&gt; Optional.of(o));\n</code></pre>\n\n<p>However this gives the following compile error:</p>\n\n<pre><code>of(T) in Optional cannot be applied to (java.lang.Object)\n</code></pre>\n\n<p>This is using the java.util.Optional class rather than the Guava one.</p>\n"},{"tags":["java","string","collections"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1345139190,"post_id":11992694,"comment_id":15992732,"body_markdown":"*&quot;I believe the last 2 checks for keys.contains(null) and keys.contains(&quot;&quot;) are incorrect and will likely thrown runtime exceptions.&quot;*: Why? What exception do you expect?","body":"<i>&quot;I believe the last 2 checks for keys.contains(null) and keys.contains(&quot;&quot;) are incorrect and will likely thrown runtime exceptions.&quot;</i>: Why? What exception do you expect?"},{"owner":{"account_id":1290912,"reputation":1167,"user_id":1243038,"display_name":"Kevin Mangold"},"score":0,"creation_date":1345139234,"post_id":11992694,"comment_id":15992744,"body_markdown":"keys.contains(null) will be fine however keys.contains(&quot;&quot;) will only work in certain situations but shouldn&#39;t throw an exception.","body":"keys.contains(null) will be fine however keys.contains(&quot;&quot;) will only work in certain situations but shouldn&#39;t throw an exception."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1345139613,"post_id":11992694,"comment_id":15992879,"body_markdown":"Man, you have too many nulls flying around your app...","body":"Man, you have too many nulls flying around your app..."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":4,"creation_date":1345142346,"post_id":11992694,"comment_id":15994014,"body_markdown":"Doc says that NPE could be thrown. Anyway some implementations of `List` use `Collection#contains` make me sure to believe the docs.","body":"Doc says that NPE could be thrown. Anyway some implementations of <code>List</code> use <code>Collection#contains</code> make me sure to believe the docs."}],"answers":[{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":6,"up_vote_count":47,"is_accepted":true,"score":41,"last_activity_date":1345139217,"creation_date":1345139217,"answer_id":11992730,"question_id":11992694,"body_markdown":"     keys.contains(null) || keys.contains(&quot;&quot;)\r\n\r\nDoesn&#39;t throw any runtime exceptions and results `true` if your list has either null (or) empty String.","title":"How to determine if a list of string contains null or empty elements","body":"<pre><code> keys.contains(null) || keys.contains(\"\")\n</code></pre>\n\n<p>Doesn't throw any runtime exceptions and results <code>true</code> if your list has either null (or) empty String.</p>\n"},{"tags":[],"owner":{"account_id":1018999,"reputation":8457,"user_id":1029916,"accept_rate":94,"display_name":"NominSim"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1345139281,"creation_date":1345139281,"answer_id":11992737,"question_id":11992694,"body_markdown":"This looks fine to me, the only exceptions you would get from `keys.contains(null)` and `keys.contains(&quot;&quot;)` would be if `keys` itself was `null`.\r\n\r\nHowever since you check for that first you know that at this point `keys` is not `null`, so no runtime exceptions will occur.\r\n","title":"How to determine if a list of string contains null or empty elements","body":"<p>This looks fine to me, the only exceptions you would get from <code>keys.contains(null)</code> and <code>keys.contains(\"\")</code> would be if <code>keys</code> itself was <code>null</code>.</p>\n\n<p>However since you check for that first you know that at this point <code>keys</code> is not <code>null</code>, so no runtime exceptions will occur.</p>\n"},{"tags":[],"owner":{"account_id":556659,"reputation":9922,"user_id":892535,"accept_rate":85,"display_name":"sheidaei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345140063,"creation_date":1345140063,"answer_id":11992892,"question_id":11992694,"body_markdown":"I am not sure but isn&#39;t there any helper class in ApacheCommon library to do that? like when you have the isEmpty for a string and you have isNullOrEmpty in ApacheCommons library ","title":"How to determine if a list of string contains null or empty elements","body":"<p>I am not sure but isn't there any helper class in ApacheCommon library to do that? like when you have the isEmpty for a string and you have isNullOrEmpty in ApacheCommons library </p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398285606,"creation_date":1345140626,"answer_id":11993031,"question_id":11992694,"body_markdown":"Check the list in one pass \r\n\r\n      public static boolean empty(String s) {\r\n        if (s == null)\r\n          return true;\r\n        else if (s.length() == 0)\r\n          return true;\r\n        return false;\r\n      }  \r\n    \r\n      public String normalize(List&lt;String&gt; keys) {\r\n        if(keys == null || keys.size() == 0)\r\n            throw new IllegalArgumentException(&quot;Bad!&quot;);\r\n        for (String key: keys)\r\n          if(empty(key))\r\n             throw new IllegalArgumentException(&quot;Empty!&quot;);\r\n    \r\n        // Rest of method...\r\n        return null;\r\n      }\r\n\r\n","title":"How to determine if a list of string contains null or empty elements","body":"<p>Check the list in one pass </p>\n\n<pre><code>  public static boolean empty(String s) {\n    if (s == null)\n      return true;\n    else if (s.length() == 0)\n      return true;\n    return false;\n  }  \n\n  public String normalize(List&lt;String&gt; keys) {\n    if(keys == null || keys.size() == 0)\n        throw new IllegalArgumentException(\"Bad!\");\n    for (String key: keys)\n      if(empty(key))\n         throw new IllegalArgumentException(\"Empty!\");\n\n    // Rest of method...\n    return null;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1132853,"reputation":2896,"user_id":1118527,"accept_rate":83,"display_name":"Lama"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1503914995,"creation_date":1503914995,"answer_id":45916582,"question_id":11992694,"body_markdown":"You could also use Apache StringUtils and check if the string isBlank, this will check for null, Emptystring and will also trim your value.\r\n\r\n    if(StringUtils.isBlank(listItemString)){...}\r\n\r\nCheckout StringUtils Docs here:\r\n\r\nhttps://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html","title":"How to determine if a list of string contains null or empty elements","body":"<p>You could also use Apache StringUtils and check if the string isBlank, this will check for null, Emptystring and will also trim your value.</p>\n\n<pre><code>if(StringUtils.isBlank(listItemString)){...}\n</code></pre>\n\n<p>Checkout StringUtils Docs here:</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html</a></p>\n"},{"tags":[],"owner":{"account_id":5482003,"reputation":696,"user_id":4358134,"accept_rate":88,"display_name":"call-me"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1547146782,"creation_date":1547146782,"answer_id":54135282,"question_id":11992694,"body_markdown":"With java 8 you can do:\r\n\r\n\tpublic String normalizeList(List&lt;String&gt; keys) {\r\n\t    boolean bad = keys.stream().anyMatch(s -&gt; (s == null || s.equals(&quot;&quot;)));\r\n\t    if(bad) {\r\n\t    \t//... do whatever you want to do\r\n\t    }\r\n\t}","title":"How to determine if a list of string contains null or empty elements","body":"<p>With java 8 you can do:</p>\n\n<pre><code>public String normalizeList(List&lt;String&gt; keys) {\n    boolean bad = keys.stream().anyMatch(s -&gt; (s == null || s.equals(\"\")));\n    if(bad) {\n        //... do whatever you want to do\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4503853,"reputation":536,"user_id":3661748,"display_name":"cody.tv.weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658858331,"creation_date":1658858331,"answer_id":73127830,"question_id":11992694,"body_markdown":"Aniket gave a really good answer for this as a comment:\r\n\r\n    if( keys.stream().anyMatch(String::isBlank) ) { .... String::isBlank is since Java11. – \r\n    Aniket Sahrawat\r\n    Apr 6, 2019 at 2:30\r\n\r\nSo to tweak your original solution using Aniket&#39;s comment:\r\n\r\n    public String normalize(List&lt;String&gt; keys) {\r\n        if(keys == null || keys.size() == 0  || keys.stream().anyMatch(String::isBlank)){\r\n            throw new IllegalArgumentException(&quot;Bad!&quot;);\r\n        }\r\n    \r\n        // Rest of method...\r\n    }\r\n\r\n","title":"How to determine if a list of string contains null or empty elements","body":"<p>Aniket gave a really good answer for this as a comment:</p>\n<pre><code>if( keys.stream().anyMatch(String::isBlank) ) { .... String::isBlank is since Java11. – \nAniket Sahrawat\nApr 6, 2019 at 2:30\n</code></pre>\n<p>So to tweak your original solution using Aniket's comment:</p>\n<pre><code>public String normalize(List&lt;String&gt; keys) {\n    if(keys == null || keys.size() == 0  || keys.stream().anyMatch(String::isBlank)){\n        throw new IllegalArgumentException(&quot;Bad!&quot;);\n    }\n\n    // Rest of method...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2563057,"reputation":99,"user_id":2223787,"display_name":"Denis Orlov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661938203,"creation_date":1661938203,"answer_id":73553756,"question_id":11992694,"body_markdown":"if you can use [org.springframework.util.CollectionUtils][1]\r\nyou can apply this\r\n\r\n    if(CollectionUtils.isEmpty(coll) || CollectionUtils.containsInstance(coll, null)) {\r\n            // throw ...;\r\n    }\r\n\r\nIt does not throw NullPointerException for immutable collection as List.of().\r\n\r\n  [1]: https://docs.spring.io/spring-android/docs/current/api/org/springframework/util/CollectionUtils.html","title":"How to determine if a list of string contains null or empty elements","body":"<p>if you can use <a href=\"https://docs.spring.io/spring-android/docs/current/api/org/springframework/util/CollectionUtils.html\" rel=\"nofollow noreferrer\">org.springframework.util.CollectionUtils</a>\nyou can apply this</p>\n<pre><code>if(CollectionUtils.isEmpty(coll) || CollectionUtils.containsInstance(coll, null)) {\n        // throw ...;\n}\n</code></pre>\n<p>It does not throw NullPointerException for immutable collection as List.of().</p>\n"},{"tags":[],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678882761,"creation_date":1678871969,"answer_id":75742691,"question_id":11992694,"body_markdown":"    boolean badListInRequest = CollectionUtils.isEmpty(request.getIdList()) ||\r\n                    request.getIdList().stream().anyMatch(s -&gt; (StringUtils.isBlank(s)));\r\n\r\n    if(badListInRequest){\r\n        throw new Exception...\r\n    }","title":"How to determine if a list of string contains null or empty elements","body":"<pre><code>boolean badListInRequest = CollectionUtils.isEmpty(request.getIdList()) ||\n                request.getIdList().stream().anyMatch(s -&gt; (StringUtils.isBlank(s)));\n\nif(badListInRequest){\n    throw new Exception...\n}\n</code></pre>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114071,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":11992730,"answer_count":9,"score":28,"last_activity_date":1678882761,"creation_date":1345139096,"question_id":11992694,"body_markdown":"In Java, I have the following method:\r\n\r\n    public String normalizeList(List&lt;String&gt; keys) {\r\n        // ...\r\n    }\r\n\r\nI want to check that `keys`:\r\n\r\n* Is not `null` itself; and\r\n* Is not empty (`size() == 0`); and\r\n* Does not have any `String` elements that are `null`; and\r\n* Does not have any `String` elements that are empty (&quot;&quot;)\r\n\r\nThis is a utility method that will go in a &quot;commons&quot;-style JAR (the class wil be something like `DataUtils`). Here is what I have, but I believe its incorrect:\r\n\r\n    public String normalize(List&lt;String&gt; keys) {\r\n        if(keys == null || keys.size() == 0 || keys.contains(null) || keys.contains(&quot;&quot;))\r\n            throw new IllegalArgumentException(&quot;Bad!&quot;);\r\n\r\n        // Rest of method...\r\n    }\r\n\r\nI believe the last 2 checks for `keys.contains(null)` and `keys.contains(&quot;&quot;)` are incorrect and will likely thrown runtime exceptions. **I know I can just loop through the list inside the `if` statement, and check for nulls/empties there, but I&#39;m looking for a more elegant solution if it exists.**\r\n","title":"How to determine if a list of string contains null or empty elements","body":"<p>In Java, I have the following method:</p>\n\n<pre><code>public String normalizeList(List&lt;String&gt; keys) {\n    // ...\n}\n</code></pre>\n\n<p>I want to check that <code>keys</code>:</p>\n\n<ul>\n<li>Is not <code>null</code> itself; and</li>\n<li>Is not empty (<code>size() == 0</code>); and</li>\n<li>Does not have any <code>String</code> elements that are <code>null</code>; and</li>\n<li>Does not have any <code>String</code> elements that are empty (\"\")</li>\n</ul>\n\n<p>This is a utility method that will go in a \"commons\"-style JAR (the class wil be something like <code>DataUtils</code>). Here is what I have, but I believe its incorrect:</p>\n\n<pre><code>public String normalize(List&lt;String&gt; keys) {\n    if(keys == null || keys.size() == 0 || keys.contains(null) || keys.contains(\"\"))\n        throw new IllegalArgumentException(\"Bad!\");\n\n    // Rest of method...\n}\n</code></pre>\n\n<p>I believe the last 2 checks for <code>keys.contains(null)</code> and <code>keys.contains(\"\")</code> are incorrect and will likely thrown runtime exceptions. <strong>I know I can just loop through the list inside the <code>if</code> statement, and check for nulls/empties there, but I'm looking for a more elegant solution if it exists.</strong></p>\n"},{"tags":["java","spring-boot","performance","spring-integration","spring-integration-http"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1670590736,"post_id":74741273,"comment_id":131914966,"body_markdown":"I&#39;d suggest to start disabling some of your services to spot a bottleneck. For example I think your &quot;auditing we have another application which we call via Rest api&quot; is guilty. Just turn this option off and you should see a difference. Does it really required to be called within the current request thread? Cannot you put your auditing into some `QueueChannel` to let it to be processed on background in the other thread?","body":"I&#39;d suggest to start disabling some of your services to spot a bottleneck. For example I think your &quot;auditing we have another application which we call via Rest api&quot; is guilty. Just turn this option off and you should see a difference. Does it really required to be called within the current request thread? Cannot you put your auditing into some <code>QueueChannel</code> to let it to be processed on background in the other thread?"},{"owner":{"account_id":5189029,"reputation":216,"user_id":4314527,"display_name":"Ashish Kathait"},"score":0,"creation_date":1671463163,"post_id":74741273,"comment_id":132098685,"body_markdown":"@ArtemBilan I checked Datadog but i don&#39;t see that auditservice is taking more time.","body":"@ArtemBilan I checked Datadog but i don&#39;t see that auditservice is taking more time."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1671463585,"post_id":74741273,"comment_id":132098851,"body_markdown":"As you wish. I&#39;m not familiar with any profiling tools. That&#39;s why I suggest to disable services or one by one or all together and turn on one by one to spot the culprit. The audit service might not take too much time by itself, but requests might wait for free thread in the pool. And that might block your application process.","body":"As you wish. I&#39;m not familiar with any profiling tools. That&#39;s why I suggest to disable services or one by one or all together and turn on one by one to spot the culprit. The audit service might not take too much time by itself, but requests might wait for free thread in the pool. And that might block your application process."}],"answers":[{"tags":[],"owner":{"account_id":5189029,"reputation":216,"user_id":4314527,"display_name":"Ashish Kathait"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678882518,"creation_date":1678727222,"answer_id":75724887,"question_id":74741273,"body_markdown":"I found the root cause of this problem.\r\nThe problem was in the spring core library. We were using the version : 4.3.5 In our code we were using  @Header annotation which was triggering the Spring **GenericConversionService** where there is a converterCache getting created and there was always a cache miss happening because the equals method of TypeDescriptor class had faulty logic for Annotations. Because of this when we were performing the load test, with the increase in the request the performance was degrading rapidly due to increase in Map size and cache miss everytime. \r\n\r\n github url for this issue : https://github.com/spring-projects/spring-framework/issues/19626\r\n\r\ncommit url for fix https://github.com/spring-projects/spring-framework/commit/e38c020535dc5d6b326d5e22f8a59dc35ba7361a: \r\n \r\n\r\n - **Fix 1** : Update Spring version to 4.3.6 or above.\r\n\r\n\r\n - **Fix 2** : I removed reference of @Header annotation as they were few and i could get the header value using the Message object of Spring integration(We also upgraded to the latest version of Spring and SpringBoot later after issue identification).","title":"Spring integration request slowness on increase in load into application","body":"<p>I found the root cause of this problem.\nThe problem was in the spring core library. We were using the version : 4.3.5 In our code we were using  @Header annotation which was triggering the Spring <strong>GenericConversionService</strong> where there is a converterCache getting created and there was always a cache miss happening because the equals method of TypeDescriptor class had faulty logic for Annotations. Because of this when we were performing the load test, with the increase in the request the performance was degrading rapidly due to increase in Map size and cache miss everytime.</p>\n<p>github url for this issue : <a href=\"https://github.com/spring-projects/spring-framework/issues/19626\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/19626</a></p>\n<p>commit url for fix <a href=\"https://github.com/spring-projects/spring-framework/commit/e38c020535dc5d6b326d5e22f8a59dc35ba7361a\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/commit/e38c020535dc5d6b326d5e22f8a59dc35ba7361a</a>:</p>\n<ul>\n<li><p><strong>Fix 1</strong> : Update Spring version to 4.3.6 or above.</p>\n</li>\n<li><p><strong>Fix 2</strong> : I removed reference of @Header annotation as they were few and i could get the header value using the Message object of Spring integration(We also upgraded to the latest version of Spring and SpringBoot later after issue identification).</p>\n</li>\n</ul>\n"}],"owner":{"account_id":5189029,"reputation":216,"user_id":4314527,"display_name":"Ashish Kathait"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678882518,"creation_date":1670578763,"question_id":74741273,"body_markdown":"We have a web application with java8+Springboot+Spring Integration. We are using the DirectChannels for message transfers within our application. There are two inboundadapter to this application a-SOAP web service b- MQ, Also we have outbound adapter calls to two applications : \r\n\r\n 1. For auditing we have another application which we call via Rest api.\r\n 2. The request recieved by our application is sent to x application these are rest calls.\r\n\r\nFor x application we are doing httpConnection pooling and we have defaultMaxPerRoute value as 100 and maxTotal value as 200.\r\n\r\n**Problem :**\r\n\r\n \r\nwe are doing a load test of our application using 60 users for around 30 mins. intially the application is processing the message really quickly. The request is within application for max 1sec before it makes the call to x application above. \r\n\r\nHowever what we are observing is that after some point the app becomes really slow even simple method execution for a particular request is taking around 2 seconds and the request remains in the application for around 10-15 seconds which is hampering the performance of the application. This is observed for all requests not specific to any type or api.\r\n\r\nWe are not able to understand what is causing this slowness. We have added multiple loggers into our application but still not getting any clue. We even checked applciation logs there is no Out of memory error or there is no CPU getting fully utilized. \r\n\r\nIt will be great if anyone can share some input on what could be wrong or what else should we check. \r\n\r\nBelow is the logs statement for one of the request which is taking time. \r\nI have added loggers at the start and end of each channel. It is evident that even when passing the request from one channel to another it is taking around 2 seconds. Also a simple transformer is taking 2 seconds. So I am not able to identify the root cause for this.\r\n\r\n\r\n \r\n\r\n    channel 1\r\n    2022-11-22 09:24:51 Transformer [INFO] converted the Source object to String xml for message \r\n    2022-11-22 09:24:54 AuditService [DEBUG] Completed first channel for : \r\n    \r\n    \r\n    channel 2\r\n    2022-11-22 09:24:56 AuditService[DEBUG] Creating entry audit for operation\r\n    2022-11-22 09:24:59 AuditService [DEBUG] log just before pre rest channel call\r\n    \r\n    channel 3 \r\n    2022-11-22 09:25:02 AuditService [DEBUG] starting rest pre channel \r\n    \r\n    2022-11-22 09:25:05 RequestTransformer [DEBUG] About to process request \r\n    \r\n    2022-11-22 09:25:05 RequestTransformer [DEBUG] The json after conversion \r\n    \r\n    \r\n    \r\n    channel 4\r\n    2022-11-22 09:25:07 AuditService [DEBUG] Completed request sent audit for operation\r\n    2022-11-22 09:25:08 AuditService[DEBUG] Completed request sent audit for operation\r\n\r\n\r\n\r\n \r\n\r\n\r\n","title":"Spring integration request slowness on increase in load into application","body":"<p>We have a web application with java8+Springboot+Spring Integration. We are using the DirectChannels for message transfers within our application. There are two inboundadapter to this application a-SOAP web service b- MQ, Also we have outbound adapter calls to two applications :</p>\n<ol>\n<li>For auditing we have another application which we call via Rest api.</li>\n<li>The request recieved by our application is sent to x application these are rest calls.</li>\n</ol>\n<p>For x application we are doing httpConnection pooling and we have defaultMaxPerRoute value as 100 and maxTotal value as 200.</p>\n<p><strong>Problem :</strong></p>\n<p>we are doing a load test of our application using 60 users for around 30 mins. intially the application is processing the message really quickly. The request is within application for max 1sec before it makes the call to x application above.</p>\n<p>However what we are observing is that after some point the app becomes really slow even simple method execution for a particular request is taking around 2 seconds and the request remains in the application for around 10-15 seconds which is hampering the performance of the application. This is observed for all requests not specific to any type or api.</p>\n<p>We are not able to understand what is causing this slowness. We have added multiple loggers into our application but still not getting any clue. We even checked applciation logs there is no Out of memory error or there is no CPU getting fully utilized.</p>\n<p>It will be great if anyone can share some input on what could be wrong or what else should we check.</p>\n<p>Below is the logs statement for one of the request which is taking time.\nI have added loggers at the start and end of each channel. It is evident that even when passing the request from one channel to another it is taking around 2 seconds. Also a simple transformer is taking 2 seconds. So I am not able to identify the root cause for this.</p>\n<pre><code>channel 1\n2022-11-22 09:24:51 Transformer [INFO] converted the Source object to String xml for message \n2022-11-22 09:24:54 AuditService [DEBUG] Completed first channel for : \n\n\nchannel 2\n2022-11-22 09:24:56 AuditService[DEBUG] Creating entry audit for operation\n2022-11-22 09:24:59 AuditService [DEBUG] log just before pre rest channel call\n\nchannel 3 \n2022-11-22 09:25:02 AuditService [DEBUG] starting rest pre channel \n\n2022-11-22 09:25:05 RequestTransformer [DEBUG] About to process request \n\n2022-11-22 09:25:05 RequestTransformer [DEBUG] The json after conversion \n\n\n\nchannel 4\n2022-11-22 09:25:07 AuditService [DEBUG] Completed request sent audit for operation\n2022-11-22 09:25:08 AuditService[DEBUG] Completed request sent audit for operation\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678480658,"post_id":75699957,"comment_id":133547389,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":25638157,"reputation":3,"user_id":21372388,"display_name":"Yaya38"},"score":0,"creation_date":1678481421,"post_id":75699957,"comment_id":133547582,"body_markdown":"the code above is ok, but i want to, when i click on txt7, can read .txt and show that .txt in secondactivity","body":"the code above is ok, but i want to, when i click on txt7, can read .txt and show that .txt in secondactivity"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1678564794,"post_id":75699957,"comment_id":133559714,"body_markdown":"If you&#39;re saying you want to click a thing in ActivityA and then open ActivityB and display the text, you&#39;ll need to pass some data to ActivityB through the `Intent` you use to open it. E.g. pass the filename (`&quot;mytextfile.txt&quot;`) and then use the same code up there to open the file and get the text for display: https://developer.android.com/guide/components/activities/parcelables-and-bundles#sdba","body":"If you&#39;re saying you want to click a thing in ActivityA and then open ActivityB and display the text, you&#39;ll need to pass some data to ActivityB through the <code>Intent</code> you use to open it. E.g. pass the filename (<code>&quot;mytextfile.txt&quot;</code>) and then use the same code up there to open the file and get the text for display: <a href=\"https://developer.android.com/guide/components/activities/parcelables-and-bundles#sdba\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/activities/&hellip;</a>"},{"owner":{"account_id":25638157,"reputation":3,"user_id":21372388,"display_name":"Yaya38"},"score":0,"creation_date":1678654539,"post_id":75699957,"comment_id":133571193,"body_markdown":"Yes, but how i do that, im new to coding","body":"Yes, but how i do that, im new to coding"},{"owner":{"account_id":25638157,"reputation":3,"user_id":21372388,"display_name":"Yaya38"},"score":0,"creation_date":1678739581,"post_id":75699957,"comment_id":133589143,"body_markdown":"@cactustictacs And one more thing, in ActivityA, i have many Textview, so if i click on any one, he can shiw specific &quot;textfile.txt&quot;","body":"@cactustictacs And one more thing, in ActivityA, i have many Textview, so if i click on any one, he can shiw specific &quot;textfile.txt&quot;"}],"answers":[{"tags":[],"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678882366,"creation_date":1678882366,"answer_id":75744528,"question_id":75699957,"body_markdown":"\r\nTo show the contents of your text file in a textview in another activity you have to pass it through Intent.\r\nHere is your code after clicking on the txt7:\r\n\r\n    txt7.setOnClickListener(View.OnClickListener {\r\n        try {\r\n            val inputStream = assets.open(&quot;mytextfile.txt&quot;)\r\n            val size: Int = inputStream.available()\r\n            val buffer = ByteArray(size)\r\n            inputStream.read(buffer).toString()\r\n            string = String(buffer)\r\n            val intent = Intent(this, SecondActivity::class.java)\r\n            intent.putExtra(&quot;textfile&quot;, string)\r\n            startActivity(intent)\r\n    \r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        }\r\n    })\r\n\r\nAnd in the SecondActivity:\r\n\r\n    val textfile = intent.getStringExtra(&quot;textfile&quot;)\r\n    \r\n    val textView = findViewById&lt;TextView&gt;(R.id.textView)\r\n    textView.text = textfile\r\n\r\n","title":"how to Read .txt file on new activity when i click textview","body":"<p>To show the contents of your text file in a textview in another activity you have to pass it through Intent.\nHere is your code after clicking on the txt7:</p>\n<pre><code>txt7.setOnClickListener(View.OnClickListener {\n    try {\n        val inputStream = assets.open(&quot;mytextfile.txt&quot;)\n        val size: Int = inputStream.available()\n        val buffer = ByteArray(size)\n        inputStream.read(buffer).toString()\n        string = String(buffer)\n        val intent = Intent(this, SecondActivity::class.java)\n        intent.putExtra(&quot;textfile&quot;, string)\n        startActivity(intent)\n\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n})\n</code></pre>\n<p>And in the SecondActivity:</p>\n<pre><code>val textfile = intent.getStringExtra(&quot;textfile&quot;)\n\nval textView = findViewById&lt;TextView&gt;(R.id.textView)\ntextView.text = textfile\n</code></pre>\n"}],"owner":{"account_id":25638157,"reputation":3,"user_id":21372388,"display_name":"Yaya38"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75744528,"answer_count":1,"score":0,"last_activity_date":1678882366,"creation_date":1678474200,"question_id":75699957,"body_markdown":"I want to read a .txt file on new activity (for example &quot;secondactivity.tk&quot;). When I click Textview, I succefully read text, but just in the same Activity.\r\n \r\nHere is my code:\r\n\r\n```\r\npackage com.example.coding\r\n\r\nimport android.content.Intent\r\nimport android.os.Bundle\r\nimport android.view.View\r\nimport android.widget.TextView\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport java.io.IOException\r\n\r\nclass Dusterlist : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_dacialist)\r\n        var string = &quot;&quot;\r\n        var myoutput = string\r\n        val txtsh1 = findViewById&lt;TextView&gt;(R.id.txtsh1)\r\n        val txt7 = findViewById&lt;TextView&gt;(R.id.textView7);\r\n        txt7.setOnClickListener(View.OnClickListener {\r\n            try {\r\n                val inputStream = assets.open(&quot;mytextfile.txt&quot;)\r\n                val size: Int = inputStream.available()\r\n                val buffer = ByteArray(size)\r\n                inputStream.read(buffer).toString()\r\n                string = String(buffer)\r\n                var txtdetail = String(buffer)\r\n                txtsh1.text = txtdetail\r\n\r\n            } catch (e: IOException) {\r\n                e.printStackTrace()\r\n                }\r\n\r\n\r\n        } )}\r\n\r\n    }\r\n```\r\n\r\nSo, please, what should I add in the mainactivity and secondactivity?","title":"how to Read .txt file on new activity when i click textview","body":"<p>I want to read a .txt file on new activity (for example &quot;secondactivity.tk&quot;). When I click Textview, I succefully read text, but just in the same Activity.</p>\n<p>Here is my code:</p>\n<pre><code>package com.example.coding\n\nimport android.content.Intent\nimport android.os.Bundle\nimport android.view.View\nimport android.widget.TextView\nimport androidx.appcompat.app.AppCompatActivity\nimport java.io.IOException\n\nclass Dusterlist : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_dacialist)\n        var string = &quot;&quot;\n        var myoutput = string\n        val txtsh1 = findViewById&lt;TextView&gt;(R.id.txtsh1)\n        val txt7 = findViewById&lt;TextView&gt;(R.id.textView7);\n        txt7.setOnClickListener(View.OnClickListener {\n            try {\n                val inputStream = assets.open(&quot;mytextfile.txt&quot;)\n                val size: Int = inputStream.available()\n                val buffer = ByteArray(size)\n                inputStream.read(buffer).toString()\n                string = String(buffer)\n                var txtdetail = String(buffer)\n                txtsh1.text = txtdetail\n\n            } catch (e: IOException) {\n                e.printStackTrace()\n                }\n\n\n        } )}\n\n    }\n</code></pre>\n<p>So, please, what should I add in the mainactivity and secondactivity?</p>\n"},{"tags":["java","multithreading","concurrency","java-memory-model","jls"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1669580624,"post_id":74593077,"comment_id":131668571,"body_markdown":"It&#39;s customary to refer to some classes as &quot;thread safe&quot; if all methods use the keyword `synchronized` for example, or if the class is immutable.  There can be some debate over exactly what that means and how it should be implemented, so I think it&#39;s best to add an implementation note what is going on.  To summarize: I think you can say that a class is &quot;correctly synchronized,&quot; but be aware that some folks might debate you.","body":"It&#39;s customary to refer to some classes as &quot;thread safe&quot; if all methods use the keyword <code>synchronized</code> for example, or if the class is immutable.  There can be some debate over exactly what that means and how it should be implemented, so I think it&#39;s best to add an implementation note what is going on.  To summarize: I think you can say that a class is &quot;correctly synchronized,&quot; but be aware that some folks might debate you."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669582068,"post_id":74593077,"comment_id":131668866,"body_markdown":"I use the term _correctly synchronized_ as it&#39;s defined in the JLS (the quote is given in the question).","body":"I use the term <i>correctly synchronized</i> as it&#39;s defined in the JLS (the quote is given in the question)."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669582380,"post_id":74593077,"comment_id":131668933,"body_markdown":"@markspace regarding the term &quot;thread safe&quot; I prefer the definition from Java Concurrency in Practice:\n_&quot;A class is thread-safe if it behaves correctly when accessed from multiple threads, regardless of the scheduling or interleaving of the execution of those threads by the runtime environment, and with no additional synchronization or other coordination on the part of the calling code.&quot;_","body":"@markspace regarding the term &quot;thread safe&quot; I prefer the definition from Java Concurrency in Practice: <i>&quot;A class is thread-safe if it behaves correctly when accessed from multiple threads, regardless of the scheduling or interleaving of the execution of those threads by the runtime environment, and with no additional synchronization or other coordination on the part of the calling code.&quot;</i>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669583652,"post_id":74593077,"comment_id":131669159,"body_markdown":"@JJJ, Re, &quot;correctly synchronized,&quot; I _mostly_ agree with the Brian Goetz definition, but it only works if everybody agrees on what &quot;behaves correctly&quot; means. Sometimes, what is &quot;correct&quot; for a class that can be used in a multi-threaded environment is not always obvious. Sometimes, I like to say that a class is &quot;thread safe&quot; if it doesn&#39;t do anything in a multi-threaded program that would surprise a competent developer _who has read the documentation._","body":"@JJJ, Re, &quot;correctly synchronized,&quot; I <i>mostly</i> agree with the Brian Goetz definition, but it only works if everybody agrees on what &quot;behaves correctly&quot; means. Sometimes, what is &quot;correct&quot; for a class that can be used in a multi-threaded environment is not always obvious. Sometimes, I like to say that a class is &quot;thread safe&quot; if it doesn&#39;t do anything in a multi-threaded program that would surprise a competent developer <i>who has read the documentation.</i>"},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669584145,"post_id":74593077,"comment_id":131669237,"body_markdown":"@markspace I suppose I can rephrase the question this way: imagine that I want to create a thread-safe collection. In order to guarantee thread-safety of my collection I can use happens-before, but then I would have to check all possible executions. The JLS provides a way to reduce the number of executions to check for the whole program  - it&#39;s called &quot;correctly synchronized&quot; and it requires checking of only sequential executions. I&#39;m asking if this method can be used on just my collection class, not only on the whole program.","body":"@markspace I suppose I can rephrase the question this way: imagine that I want to create a thread-safe collection. In order to guarantee thread-safety of my collection I can use happens-before, but then I would have to check all possible executions. The JLS provides a way to reduce the number of executions to check for the whole program  - it&#39;s called &quot;correctly synchronized&quot; and it requires checking of only sequential executions. I&#39;m asking if this method can be used on just my collection class, not only on the whole program."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669584715,"post_id":74593077,"comment_id":131669341,"body_markdown":"@SolomonSlow I don&#39;t use &quot;correctly synchronized&quot; as a synonym for &quot;thread safe&quot;. I use &quot;correctly synchronized&quot; as it&#39;s defined in the JLS: the quote with the definition is given in the question. In short &quot;correctly synchronized&quot; == &quot;you only need to check that sequential executions have no data races, and then you are automatically guaranteed that every execution will have no data races, and that every execution will be sequentially consistent&quot;.","body":"@SolomonSlow I don&#39;t use &quot;correctly synchronized&quot; as a synonym for &quot;thread safe&quot;. I use &quot;correctly synchronized&quot; as it&#39;s defined in the JLS: the quote with the definition is given in the question. In short &quot;correctly synchronized&quot; == &quot;you only need to check that sequential executions have no data races, and then you are automatically guaranteed that every execution will have no data races, and that every execution will be sequentially consistent&quot;."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669584955,"post_id":74593077,"comment_id":131669400,"body_markdown":"D&#39;Oh!. I did not mean to say &quot;correctly synchronized.&quot; I meant to say &quot;thread-safe.&quot; At the same time as I was typing that comment, I also was pondering a possible answer\\* to your question, and I guess I mixed them up. Sorry. [\\* I decided against actually answering though.]","body":"D&#39;Oh!. I did not mean to say &quot;correctly synchronized.&quot; I meant to say &quot;thread-safe.&quot; At the same time as I was typing that comment, I also was pondering a possible answer* to your question, and I guess I mixed them up. Sorry. [* I decided against actually answering though.]"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1672735363,"post_id":74593077,"comment_id":132336369,"body_markdown":"@JJJ the quoted text says “*sequentially consistent*” which does *not* mean “sequential executions”. Any non-trivial program still has a practically infinite number of “possible executions”, even when correctly synchronized, so this formal definition was never meant as a “check them all” tool. Besides that, &#167;17.4.3. says “*If a program has no data races, then all executions of the program will appear to be sequentially consistent.*” so you would have to assume that there are no data races before you can rely on the sequential consistency to “prove” the correctness with circular reasoning…","body":"@JJJ the quoted text says “<i>sequentially consistent</i>” which does <i>not</i> mean “sequential executions”. Any non-trivial program still has a practically infinite number of “possible executions”, even when correctly synchronized, so this formal definition was never meant as a “check them all” tool. Besides that, &#167;17.4.3. says “<i>If a program has no data races, then all executions of the program will appear to be sequentially consistent.</i>” so you would have to assume that there are no data races before you can rely on the sequential consistency to “prove” the correctness with circular reasoning…"},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672865287,"post_id":74593077,"comment_id":132371988,"body_markdown":"@Holger I&#39;m not sure I understand what you mean. I could replace &quot;sequential execution&quot; with &quot;sequentially consistent execution&quot; in the question, but IMO the meaning would stay the same: we only need to check that sequential (or SC) executions has no data races in order to guarantee that every possible execution has no data races + in this case every possible execution will appear to be sequential (or SC). (this is what the quote in the question says)","body":"@Holger I&#39;m not sure I understand what you mean. I could replace &quot;sequential execution&quot; with &quot;sequentially consistent execution&quot; in the question, but IMO the meaning would stay the same: we only need to check that sequential (or SC) executions has no data races in order to guarantee that every possible execution has no data races + in this case every possible execution will appear to be sequential (or SC). (this is what the quote in the question says)"},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672866764,"post_id":74593077,"comment_id":132372459,"body_markdown":"@Holger _Any non-trivial program still has a practically infinite number of “possible executions”, even when correctly synchronized, so this formal definition was never meant as a “check them all” tool_ How do you know what the authors of the JMM meant? IMO since only SC executions need to be checked for the absence of data races, then it&#39;s possible to create a tool that does it automatically.","body":"@Holger <i>Any non-trivial program still has a practically infinite number of “possible executions”, even when correctly synchronized, so this formal definition was never meant as a “check them all” tool</i> How do you know what the authors of the JMM meant? IMO since only SC executions need to be checked for the absence of data races, then it&#39;s possible to create a tool that does it automatically."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672867283,"post_id":74593077,"comment_id":132372599,"body_markdown":"@Holger _so you would have to assume that there are no data races before you can rely on the sequential consistency_ No. You can rely on SC after you check that there are no data races in SC executions of your program. The quote I gave in the question (from [&#167;17.4.5 of the JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5)) says literally that.","body":"@Holger <i>so you would have to assume that there are no data races before you can rely on the sequential consistency</i> No. You can rely on SC after you check that there are no data races in SC executions of your program. The quote I gave in the question (from <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">&#167;17.4.5 of the JLS</a>) says literally that."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1672905510,"post_id":74593077,"comment_id":132379353,"body_markdown":"Do you know about the [Halting problem](https://en.wikipedia.org/wiki/Halting_problem)? It implies that you can not even prove whether the number of possible executions is finite or infinite, not to speak of the idea to check them all for the presence of data races. But anyway, there’s a much simpler practical consideration: if it was possible to write such a checking tool, what do you think is the reason that no such tool exist?","body":"Do you know about the <a href=\"https://en.wikipedia.org/wiki/Halting_problem\" rel=\"nofollow noreferrer\">Halting problem</a>? It implies that you can not even prove whether the number of possible executions is finite or infinite, not to speak of the idea to check them all for the presence of data races. But anyway, there’s a much simpler practical consideration: if it was possible to write such a checking tool, what do you think is the reason that no such tool exist?"},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672931688,"post_id":74593077,"comment_id":132388219,"body_markdown":"@Holger the halting problem means that there could be no algorithm that can efficiently determine if a program halts for EVERY POSSIBLE program, but an effective algorithm for some specific subset of programs is possible. In other words, there can be no tool that can effectively check for data races EVERY POSSIBLE java program, but a tool that works for some subset of java programs is possible. [Java Pathfinder](https://github.com/javapathfinder/jpf-core/wiki/Testing-vs.-Model-Checking) is one example of such tools.","body":"@Holger the halting problem means that there could be no algorithm that can efficiently determine if a program halts for EVERY POSSIBLE program, but an effective algorithm for some specific subset of programs is possible. In other words, there can be no tool that can effectively check for data races EVERY POSSIBLE java program, but a tool that works for some subset of java programs is possible. <a href=\"https://github.com/javapathfinder/jpf-core/wiki/Testing-vs.-Model-Checking\" rel=\"nofollow noreferrer\">Java Pathfinder</a> is one example of such tools."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672932021,"post_id":74593077,"comment_id":132388362,"body_markdown":"@Holger Of course, as the program gets bigger the number of possible executions to check grows exponentially, but fortunately there are some tricks to deal with that. For example Lincheck (another similar tool which for some unknown reason doesn&#39;t have data race detection yet) allows modularity: if an object (no matter how complex it&#39;s inside) is linearizable, then we can consider all its methods atomic and ignore possible interleavings inside them - this drastically reduces the number of interleavings to check and allows us to create and check for data races very large programs.","body":"@Holger Of course, as the program gets bigger the number of possible executions to check grows exponentially, but fortunately there are some tricks to deal with that. For example Lincheck (another similar tool which for some unknown reason doesn&#39;t have data race detection yet) allows modularity: if an object (no matter how complex it&#39;s inside) is linearizable, then we can consider all its methods atomic and ignore possible interleavings inside them - this drastically reduces the number of interleavings to check and allows us to create and check for data races very large programs."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672932195,"post_id":74593077,"comment_id":132388431,"body_markdown":"@Holger [here](https://github.com/Kotlin/kotlinx-lincheck#modular-testing) the modularity in Lincheck is explained.","body":"@Holger <a href=\"https://github.com/Kotlin/kotlinx-lincheck#modular-testing\" rel=\"nofollow noreferrer\">here</a> the modularity in Lincheck is explained."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672932599,"post_id":74593077,"comment_id":132388602,"body_markdown":"@Holger I hope that my original question is more clear to you now. The original question is also (kind of) about modularity: I ask if we can use &quot;correctly synchronized&quot; (as defined in the JLS) with a single class instead of the whole program.","body":"@Holger I hope that my original question is more clear to you now. The original question is also (kind of) about modularity: I ask if we can use &quot;correctly synchronized&quot; (as defined in the JLS) with a single class instead of the whole program."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1673009343,"post_id":74593077,"comment_id":132406624,"body_markdown":"correction: the number of possible SC executions grows not exponentially but [as _O(n!)_](https://math.stackexchange.com/a/77736)","body":"correction: the number of possible SC executions grows not exponentially but <a href=\"https://math.stackexchange.com/a/77736\">as <i>O(n!)</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672764840,"creation_date":1669578398,"answer_id":74593294,"question_id":74593077,"body_markdown":"You need to ensure that there would be no *race conditions* is your concurrent custom collection.\r\n\r\nI.e. multiple threads can access the same element simultaneously only if they are trying to read its value, that&#39;s fine. But if it&#39;s possible if one thread is trying to update the element while another is trying to retrieve its value, or multiple threads a trying to change the same element at the same time (overriding results produced by one-another), that&#39;s a problem. And it can be avoided by synchronizing the mutating code.\r\n\r\n[&#167;17.4.5.&#160;Happens-before Order][data race]\r\n\r\n&gt; When a program contains two **conflicting accesses** (&#167;17.4.1) that are not ordered by a happens-before relationship, it is said to contain a **data race**.\r\n\r\n[&#167;17.4.1.&#160;Shared Variables][conflicting accesses]\r\n\r\n&gt; Two accesses to (reads of or writes to) the same variable are said to be **conflicting** if at least **one of the accesses is a write**.\r\n\r\nHere&#39;s a dummy example of the concurrent list which allows reading its value from multiple threads simultaneously, but if one of the threads is writing a value, all others would be blocked.\r\n\r\nThis can be achieved by using [`ReentrantReadWriteLock`][readWriteLock].\r\n\r\n    public class MyConcurrentArrayList&lt;T&gt; {\r\n        private Object[] array;\r\n        private int size;\r\n        \r\n        private final ReadWriteLock lock = new ReentrantReadWriteLock();\r\n        private final Lock read = lock.readLock();\r\n        private final Lock write = lock.readLock();\r\n        \r\n        // non-mutating operation\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public T get(int i) {\r\n            T result;\r\n            \r\n            read.lock(); // lock the read-lock, from that moment only non-mutating operations (guarded by the readLock) are allowed\r\n            // access the element under the given index\r\n            try {\r\n                result = (T) array[i];\r\n            } finally {\r\n                read.unlock(); // release the read-lock\r\n            }\r\n            return result;\r\n        }\r\n        \r\n        // mutating operation\r\n        public void add(T item) {\r\n            write.lock(); // lock the write-lock, none of the threads would be able to read or update the list until this lock is not released\r\n            \r\n            try {\r\n                // check if the list needs to grow (omitted)\r\n\r\n                array[size++] = item; // add a new element\r\n            } finally {\r\n                write.unlock(); // release the write-lock\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n   [data race]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\r\n\r\n   [conflicting accesses]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.1\r\n\r\n   [readWriteLock]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantReadWriteLock.html","title":"Could &quot;correctly synchronized&quot; be applied to a class instead of the whole program?","body":"<p>You need to ensure that there would be no <em>race conditions</em> is your concurrent custom collection.</p>\n<p>I.e. multiple threads can access the same element simultaneously only if they are trying to read its value, that's fine. But if it's possible if one thread is trying to update the element while another is trying to retrieve its value, or multiple threads a trying to change the same element at the same time (overriding results produced by one-another), that's a problem. And it can be avoided by synchronizing the mutating code.</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">§17.4.5. Happens-before Order</a></p>\n<blockquote>\n<p>When a program contains two <strong>conflicting accesses</strong> (§17.4.1) that are not ordered by a happens-before relationship, it is said to contain a <strong>data race</strong>.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.1\" rel=\"nofollow noreferrer\">§17.4.1. Shared Variables</a></p>\n<blockquote>\n<p>Two accesses to (reads of or writes to) the same variable are said to be <strong>conflicting</strong> if at least <strong>one of the accesses is a write</strong>.</p>\n</blockquote>\n<p>Here's a dummy example of the concurrent list which allows reading its value from multiple threads simultaneously, but if one of the threads is writing a value, all others would be blocked.</p>\n<p>This can be achieved by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantReadWriteLock.html\" rel=\"nofollow noreferrer\"><code>ReentrantReadWriteLock</code></a>.</p>\n<pre><code>public class MyConcurrentArrayList&lt;T&gt; {\n    private Object[] array;\n    private int size;\n    \n    private final ReadWriteLock lock = new ReentrantReadWriteLock();\n    private final Lock read = lock.readLock();\n    private final Lock write = lock.readLock();\n    \n    // non-mutating operation\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public T get(int i) {\n        T result;\n        \n        read.lock(); // lock the read-lock, from that moment only non-mutating operations (guarded by the readLock) are allowed\n        // access the element under the given index\n        try {\n            result = (T) array[i];\n        } finally {\n            read.unlock(); // release the read-lock\n        }\n        return result;\n    }\n    \n    // mutating operation\n    public void add(T item) {\n        write.lock(); // lock the write-lock, none of the threads would be able to read or update the list until this lock is not released\n        \n        try {\n            // check if the list needs to grow (omitted)\n\n            array[size++] = item; // add a new element\n        } finally {\n            write.unlock(); // release the write-lock\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28023034,"reputation":26,"user_id":21403513,"display_name":"user21403513"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678882099,"creation_date":1678881936,"answer_id":75744464,"question_id":74593077,"body_markdown":"In my opinion, it&#39;s possible.\r\n\r\nIf the internal state of the collection is not accessible from the outside, then we can consider the corresponding to the state [shared variables](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.1) (that is what the JLS operates with) in isolation from the shared variables in the rest of the program.\r\n\r\n[This answer](https://stackoverflow.com/a/74421466) cites the proof for the whole program. But as I understand, the proofs for both Lemma 2 and Theorem 3 holds even if we add additional restriction that we only consider some shared variables.  \r\nDon&#39;t take my word for it and check [the proofs](https://stackoverflow.com/a/74421466) yourself, but to me it seems like it works.  \r\nThis holds as long as all the actions (reads and writes) on the selected shared variables are taken into consideration.\r\n\r\nP.S. it&#39;s totally possible when simultaneously:\r\n- actions on the selected shared variables (the ones which constitute the internal state of our collection) are sequentially consistent\r\n- actions on the ignored shared variables contain data races\r\n\r\nbecause:\r\n1. it&#39;s always possible to find a total order of all actions in an execution, consistent with program order and synchronization order. From [the citation](https://stackoverflow.com/a/74421466):\r\n    &gt; A topological sort on the happens-before edges of the actions in an execution gives a total order consistent with program order and synchronization order.\r\n2. actions on a shared variable are sequentially consistent if every read of the variable returns the latest (in this total order) write to the variable.\r\n3. actions on a shared variable are non-sequentially-consistent if there is a read of the variable which returns a write to the variable that is not the latest (in this total order).\r\n4. it&#39;s possible when both (2) and (3) are present in the execution","title":"Could &quot;correctly synchronized&quot; be applied to a class instead of the whole program?","body":"<p>In my opinion, it's possible.</p>\n<p>If the internal state of the collection is not accessible from the outside, then we can consider the corresponding to the state <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.1\" rel=\"nofollow noreferrer\">shared variables</a> (that is what the JLS operates with) in isolation from the shared variables in the rest of the program.</p>\n<p><a href=\"https://stackoverflow.com/a/74421466\">This answer</a> cites the proof for the whole program. But as I understand, the proofs for both Lemma 2 and Theorem 3 holds even if we add additional restriction that we only consider some shared variables.<br />\nDon't take my word for it and check <a href=\"https://stackoverflow.com/a/74421466\">the proofs</a> yourself, but to me it seems like it works.<br />\nThis holds as long as all the actions (reads and writes) on the selected shared variables are taken into consideration.</p>\n<p>P.S. it's totally possible when simultaneously:</p>\n<ul>\n<li>actions on the selected shared variables (the ones which constitute the internal state of our collection) are sequentially consistent</li>\n<li>actions on the ignored shared variables contain data races</li>\n</ul>\n<p>because:</p>\n<ol>\n<li>it's always possible to find a total order of all actions in an execution, consistent with program order and synchronization order. From <a href=\"https://stackoverflow.com/a/74421466\">the citation</a>:\n<blockquote>\n<p>A topological sort on the happens-before edges of the actions in an execution gives a total order consistent with program order and synchronization order.</p>\n</blockquote>\n</li>\n<li>actions on a shared variable are sequentially consistent if every read of the variable returns the latest (in this total order) write to the variable.</li>\n<li>actions on a shared variable are non-sequentially-consistent if there is a read of the variable which returns a write to the variable that is not the latest (in this total order).</li>\n<li>it's possible when both (2) and (3) are present in the execution</li>\n</ol>\n"}],"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75744464,"answer_count":2,"score":1,"last_activity_date":1678882099,"creation_date":1669576637,"question_id":74593077,"body_markdown":"There is a term _correctly synchronized_ [in the JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5):\r\n&gt; A program is correctly synchronized if and only if all sequentially consistent executions are free of data races.\r\n&gt; \r\n&gt; If a program is correctly synchronized, then all executions of the program will appear to be sequentially consistent (&#167;17.4.3).\r\n\r\nCan this _correctly synchronized_ be applied to something smaller than the whole program, like some collection class?\r\n\r\nIn other words, imagine that I want to create my custom concurrent collection class.  \r\nI want the code of my collection to never produce data races in any program which uses my collection.  \r\nWould it be enough to only check that every possible sequential execution has no data races in order to guarantee that non-sequential executions also cannot produce data races?","title":"Could &quot;correctly synchronized&quot; be applied to a class instead of the whole program?","body":"<p>There is a term <em>correctly synchronized</em> <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">in the JLS</a>:</p>\n<blockquote>\n<p>A program is correctly synchronized if and only if all sequentially consistent executions are free of data races.</p>\n<p>If a program is correctly synchronized, then all executions of the program will appear to be sequentially consistent (§17.4.3).</p>\n</blockquote>\n<p>Can this <em>correctly synchronized</em> be applied to something smaller than the whole program, like some collection class?</p>\n<p>In other words, imagine that I want to create my custom concurrent collection class.<br />\nI want the code of my collection to never produce data races in any program which uses my collection.<br />\nWould it be enough to only check that every possible sequential execution has no data races in order to guarantee that non-sequential executions also cannot produce data races?</p>\n"},{"tags":["java","selenium-webdriver","automated-tests","instance"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678786050,"post_id":75731199,"comment_id":133596560,"body_markdown":"and what is your actual question? Have you tried using an initializer method with the Before annotation?","body":"and what is your actual question? Have you tried using an initializer method with the Before annotation?"},{"owner":{"account_id":26875593,"reputation":11,"user_id":20456900,"display_name":"As_Ah"},"score":0,"creation_date":1678786531,"post_id":75731199,"comment_id":133596698,"body_markdown":"My actual question is how do I spare these code lines and use the initialize only one time in the test class file? I don&#39;t want to write these code lines in every test I create. seems that it is a redundant duplication. I hope I wrote the question in the best simple way... :)","body":"My actual question is how do I spare these code lines and use the initialize only one time in the test class file? I don&#39;t want to write these code lines in every test I create. seems that it is a redundant duplication. I hope I wrote the question in the best simple way... :)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678787183,"post_id":75731199,"comment_id":133596873,"body_markdown":"so ... again: did you try using an initializer method with the Before annotation?","body":"so ... again: did you try using an initializer method with the Before annotation?"},{"owner":{"account_id":26875593,"reputation":11,"user_id":20456900,"display_name":"As_Ah"},"score":0,"creation_date":1678787316,"post_id":75731199,"comment_id":133596906,"body_markdown":"Not sure I really know what you mean.\nI can provide more info about my setup method in my baseTest file...","body":"Not sure I really know what you mean. I can provide more info about my setup method in my baseTest file..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678787448,"post_id":75731199,"comment_id":133596948,"body_markdown":"so, you want to go selenium testing without knowing the basics of tests? what part of my suggestion didn&#39;t you understand?","body":"so, you want to go selenium testing without knowing the basics of tests? what part of my suggestion didn&#39;t you understand?"},{"owner":{"account_id":26875593,"reputation":11,"user_id":20456900,"display_name":"As_Ah"},"score":0,"creation_date":1678827615,"post_id":75731199,"comment_id":133608560,"body_markdown":"Well, I mean what you wrote &quot;initializer method&quot;( not sure if you mean to Java method). BTW- \n1. I&#39;m doing my first steps in selenium testing \n2. I know the &quot;Before&quot; annotation. I used this already\n3. Note that I edit again my main question and I provide more info...","body":"Well, I mean what you wrote &quot;initializer method&quot;( not sure if you mean to Java method). BTW-  1. I&#39;m doing my first steps in selenium testing  2. I know the &quot;Before&quot; annotation. I used this already 3. Note that I edit again my main question and I provide more info..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678865067,"post_id":75731199,"comment_id":133613864,"body_markdown":"using a method that initializes your tests (annotated with Before) is an initializer method. Since you &#39;ve already used that, how don&#39;t you see that that is the answer to your question?","body":"using a method that initializes your tests (annotated with Before) is an initializer method. Since you &#39;ve already used that, how don&#39;t you see that that is the answer to your question?"},{"owner":{"account_id":26875593,"reputation":11,"user_id":20456900,"display_name":"As_Ah"},"score":0,"creation_date":1678873693,"post_id":75731199,"comment_id":133615986,"body_markdown":"Never mind. SORRY. I thought you mean other &quot;Before&quot; annotations (like BeforeTest e.g.) I didn&#39;t know this annotation before. I&#39;m still In the learning process","body":"Never mind. SORRY. I thought you mean other &quot;Before&quot; annotations (like BeforeTest e.g.) I didn&#39;t know this annotation before. I&#39;m still In the learning process"}],"owner":{"account_id":26875593,"reputation":11,"user_id":20456900,"display_name":"As_Ah"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678882074,"creation_date":1678785822,"question_id":75731199,"body_markdown":"In order to avoid duplicating my code and not inserting these code lines in every test, I would like to know if there is an effective/efficient way that I&#39;ll use only one time in the class/page. I want to initialize the objects at just one time. Thanks for your assistance!\r\n\r\nHere is my code:\r\n\r\n```\r\npublic class ContributionTests extends BaseTest {\r\n    @Test (priority = 1)\r\n    @Severity(SeverityLevel.CRITICAL)\r\n    @Description(&quot;Create a Contribution E2E, using only required fields, and validate the new creation contribution name&quot;)\r\n    public void tc1_CreateContribution() throws InterruptedException {\r\n        MainPage mainPageGP = new MainPage(driver);\r\n        AssetTabPage assetTabPage = new AssetTabPage(driver);\r\n        UnderManagementAssetPage umap = new UnderManagementAssetPage(driver);\r\n        ContributionTabPage ctp = new ContributionTabPage(driver);\r\n        NewContributionFormPage ncp = new NewContributionFormPage(driver);\r\n        NewCreatedContributionPage nccp = new NewCreatedContributionPage(driver);\r\n        ExistingContributionPage ecp = new ExistingContributionPage(driver);\r\n\r\n        mainPageGP.setMainTab(&quot;Assets&quot;);\r\n        assetTabPage.selectUnderManagementTab();\r\n        getSleep(500);\r\n        assetTabPage.selectAsset(&quot;new Asset- Test on Edge&quot;);\r\n        getSleep(500);\r\n        umap.selectInnerTab(&quot;Contributions&quot;);\r\n}\r\n```\r\n\r\nI didn&#39;t try anything yet but expect to spare a lot of code lines in my test classes.\r\n\r\nAt this time, I insert these initializers in every test:\r\n\r\n```\r\n        MainPage mainPageGP = new MainPage(driver);\r\n        AssetTabPage assetTabPage = new AssetTabPage(driver);\r\n        UnderManagementAssetPage umap = new UnderManagementAssetPage(driver);\r\n        ContributionTabPage ctp = new ContributionTabPage(driver);\r\n        NewContributionFormPage ncp = new NewContributionFormPage(driver);\r\n        NewCreatedContributionPage nccp = new NewCreatedContributionPage(driver);\r\n        ExistingContributionPage ecp = new ExistingContributionPage(driver);\r\n```\r\n\r\nThis is my &quot;setup&quot; method that I extend from the `BaseTest` class:\r\n\r\n```\r\n    @BeforeClass\r\n    public void setup() throws InterruptedException {\r\n        WebDriverManager.chromedriver().setup();\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        chromeOptions.addArguments(&quot;remote-allow-origins=*&quot;);\r\n        driver = new ChromeDriver(chromeOptions);\r\n        driver.manage().window().maximize();\r\n        PropertyUtils u = new PropertyUtils();\r\n        driver.get(u.readProperty(&quot;url&quot;));\r\n        LoginPage lp = new LoginPage(driver);\r\n        lp.loginToPage();\r\n    }\r\n```","title":"Java - Selenium &gt; I want to make the instance one time per page class","body":"<p>In order to avoid duplicating my code and not inserting these code lines in every test, I would like to know if there is an effective/efficient way that I'll use only one time in the class/page. I want to initialize the objects at just one time. Thanks for your assistance!</p>\n<p>Here is my code:</p>\n<pre><code>public class ContributionTests extends BaseTest {\n    @Test (priority = 1)\n    @Severity(SeverityLevel.CRITICAL)\n    @Description(&quot;Create a Contribution E2E, using only required fields, and validate the new creation contribution name&quot;)\n    public void tc1_CreateContribution() throws InterruptedException {\n        MainPage mainPageGP = new MainPage(driver);\n        AssetTabPage assetTabPage = new AssetTabPage(driver);\n        UnderManagementAssetPage umap = new UnderManagementAssetPage(driver);\n        ContributionTabPage ctp = new ContributionTabPage(driver);\n        NewContributionFormPage ncp = new NewContributionFormPage(driver);\n        NewCreatedContributionPage nccp = new NewCreatedContributionPage(driver);\n        ExistingContributionPage ecp = new ExistingContributionPage(driver);\n\n        mainPageGP.setMainTab(&quot;Assets&quot;);\n        assetTabPage.selectUnderManagementTab();\n        getSleep(500);\n        assetTabPage.selectAsset(&quot;new Asset- Test on Edge&quot;);\n        getSleep(500);\n        umap.selectInnerTab(&quot;Contributions&quot;);\n}\n</code></pre>\n<p>I didn't try anything yet but expect to spare a lot of code lines in my test classes.</p>\n<p>At this time, I insert these initializers in every test:</p>\n<pre><code>        MainPage mainPageGP = new MainPage(driver);\n        AssetTabPage assetTabPage = new AssetTabPage(driver);\n        UnderManagementAssetPage umap = new UnderManagementAssetPage(driver);\n        ContributionTabPage ctp = new ContributionTabPage(driver);\n        NewContributionFormPage ncp = new NewContributionFormPage(driver);\n        NewCreatedContributionPage nccp = new NewCreatedContributionPage(driver);\n        ExistingContributionPage ecp = new ExistingContributionPage(driver);\n</code></pre>\n<p>This is my &quot;setup&quot; method that I extend from the <code>BaseTest</code> class:</p>\n<pre><code>    @BeforeClass\n    public void setup() throws InterruptedException {\n        WebDriverManager.chromedriver().setup();\n        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.addArguments(&quot;remote-allow-origins=*&quot;);\n        driver = new ChromeDriver(chromeOptions);\n        driver.manage().window().maximize();\n        PropertyUtils u = new PropertyUtils();\n        driver.get(u.readProperty(&quot;url&quot;));\n        LoginPage lp = new LoginPage(driver);\n        lp.loginToPage();\n    }\n</code></pre>\n"},{"tags":["java","redis","rabbitmq","microservices"],"owner":{"account_id":28022929,"reputation":11,"user_id":21403428,"display_name":"Nifi Logstash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678881605,"creation_date":1678881605,"question_id":75744413,"body_markdown":"I have one listener service in my microservice and two scheduler service. In the listener service after receiving the message save the last updated date time and scheduler name in &#160;Redis DB.\r\n\r\nCan anyone write a demo code for me?","title":"How to save message coming from RabbitMQ into Redis Cache/DB?","body":"<p>I have one listener service in my microservice and two scheduler service. In the listener service after receiving the message save the last updated date time and scheduler name in  Redis DB.</p>\n<p>Can anyone write a demo code for me?</p>\n"},{"tags":["java","android","gradle","android-gradle-plugin","build.gradle"],"owner":{"account_id":27742782,"reputation":51,"user_id":21178914,"display_name":"Eren Talan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678881602,"creation_date":1678881602,"question_id":75744411,"body_markdown":"I&#39;m trying to compile a 6 years old project. I use gradle jdk version 11. I fixed lots of problem but now i&#39;m stuck at this problem. In :app:mergeDebugResources it gaves 2 errors. ( i should say i actually dont know java i just need this project&#39;s apk)\r\n\r\nthe changes i made:\r\n\r\ncom.android.tools.build:gradle:2.3.3 --&gt; com.android.tools.build:gradle:3.6.4\r\n\r\nbuildToolsVersion &#39;25.0.0&#39; --&gt; buildToolsVersion &#39;28.0.3&#39;\r\n\r\n\r\nError 1:\r\n``` \r\n162 exceptions were raised by workers:\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n\r\n```\r\n\r\nError 2 : \r\n\r\n```\r\nError while processing /Users/username/source_ST25NFCApplication_V1.0.6/app/src/main/res/drawable/ic_memory_st_dark_blue_24dp.xml : Can&#39;t process attribute android:fillColor=&quot;@color/st_dark_blue&quot;: references to other resources are not supported by build-time PNG generation\r\n```","title":"android build :app:mergeDebugResources fail","body":"<p>I'm trying to compile a 6 years old project. I use gradle jdk version 11. I fixed lots of problem but now i'm stuck at this problem. In :app:mergeDebugResources it gaves 2 errors. ( i should say i actually dont know java i just need this project's apk)</p>\n<p>the changes i made:</p>\n<p>com.android.tools.build:gradle:2.3.3 --&gt; com.android.tools.build:gradle:3.6.4</p>\n<p>buildToolsVersion '25.0.0' --&gt; buildToolsVersion '28.0.3'</p>\n<p>Error 1:</p>\n<pre><code>162 exceptions were raised by workers:\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n\n</code></pre>\n<p>Error 2 :</p>\n<pre><code>Error while processing /Users/username/source_ST25NFCApplication_V1.0.6/app/src/main/res/drawable/ic_memory_st_dark_blue_24dp.xml : Can't process attribute android:fillColor=&quot;@color/st_dark_blue&quot;: references to other resources are not supported by build-time PNG generation\n</code></pre>\n"},{"tags":["java","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678881523,"creation_date":1678803912,"answer_id":75734445,"question_id":75726661,"body_markdown":"[`XYShapeAnnotation`][1] notes that &quot;shape coordinates are specified in data space.&quot; For a `DateAxis`, this is milliseconds since the Java epoch. As an example, the following _ad hoc_ fragment added to your example produces the ellipse show below. It&#39;s a half-day wide and one price unit high.\r\n\r\n    double w = 12 * 60 * 60 * 1000;\r\n    double t = dataset.getX(0, 1).doubleValue() - w;\r\n    final Ellipse2D point2d =\r\n        new Ellipse2D.Double(t + w / 2, 10, w, 1);\r\n\r\n[![Annotation image][2]][2]\r\n\r\n\r\n  [1]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/annotations/XYShapeAnnotation.html\r\n  [2]: https://i.stack.imgur.com/36ZCP.png","title":"Why circle is not displayed in JFreeChart?","body":"<p><a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/annotations/XYShapeAnnotation.html\" rel=\"nofollow noreferrer\"><code>XYShapeAnnotation</code></a> notes that &quot;shape coordinates are specified in data space.&quot; For a <code>DateAxis</code>, this is milliseconds since the Java epoch. As an example, the following <em>ad hoc</em> fragment added to your example produces the ellipse show below. It's a half-day wide and one price unit high.</p>\n<pre><code>double w = 12 * 60 * 60 * 1000;\ndouble t = dataset.getX(0, 1).doubleValue() - w;\nfinal Ellipse2D point2d =\n    new Ellipse2D.Double(t + w / 2, 10, w, 1);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/36ZCP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/36ZCP.png\" alt=\"Annotation image\" /></a></p>\n"}],"owner":{"account_id":7740038,"reputation":37,"user_id":5860178,"display_name":"Igor Choriy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75734445,"answer_count":1,"score":1,"last_activity_date":1678881523,"creation_date":1678739643,"question_id":75726661,"body_markdown":"I am currently experimenting with the JFreeChart library to create an OHLC chart. I would like to draw a horizontal line at a certain price level, for example, at 10.5, and place a point on the line at a specific date, for example, &quot;2021-01-02&quot;. Although my code successfully draws the axis, bars, and a horizontal line at 10.5, but the filled circle/point (point2d) I tried to add is not visible by some reason (probably because of wrong coordinates).\r\n\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.geom.Ellipse2D;\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.annotations.XYShapeAnnotation;\r\nimport org.jfree.chart.axis.DateAxis;\r\nimport org.jfree.chart.axis.NumberAxis;\r\nimport org.jfree.chart.plot.ValueMarker;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.renderer.xy.CandlestickRenderer;\r\nimport org.jfree.data.xy.DefaultHighLowDataset;\r\nimport org.jfree.data.xy.OHLCDataset;\r\nimport org.jfree.data.xy.XYDataset;\r\nimport org.jfree.ui.ApplicationFrame;\r\nimport org.jfree.ui.RectangleInsets;\r\n\r\npublic class OHLCChartDemo extends ApplicationFrame {\r\n\r\n\tpublic OHLCChartDemo(final String title) throws ParseException {\r\n\t\tsuper(title);\r\n\t\tfinal JFreeChart chart = createChart(createDataset());\r\n\t\tsetContentPane(new ChartPanel(chart));\r\n\t}\r\n\r\n\tprivate OHLCDataset createDataset() throws ParseException {\r\n\t\tfinal SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\t\tfinal DefaultHighLowDataset dataset = new DefaultHighLowDataset(&quot;Series 1&quot;,\r\n\t\t\t\tnew Date[] { new Date(df.parse(&quot;2021-01-01&quot;).getTime()), new Date(df.parse(&quot;2021-01-02&quot;).getTime()),\r\n\t\t\t\t\t\tnew Date(df.parse(&quot;2021-01-03&quot;).getTime()), new Date(df.parse(&quot;2021-01-04&quot;).getTime()) },\r\n\t\t\t\tnew double[] { 11.0, 13.0, 9.0, 12.0 }, new double[] { 8.0, 9.0, 7.0, 8.5 },\r\n\t\t\t\tnew double[] { 10.0, 11.0, 8.0, 10.5 }, new double[] { 9.0, 10.0, 8.5, 9.5 },\r\n\t\t\t\tnew double[] { 11.0, 11.0, 9.0, 9.5 });\r\n\t\treturn dataset;\r\n\t}\r\n\r\n\tprivate JFreeChart createChart(final XYDataset dataset) throws ParseException {\r\n\t\tfinal JFreeChart chart = ChartFactory.createCandlestickChart(&quot;OHLC Chart&quot;, &quot;Date&quot;, &quot;Price&quot;, (OHLCDataset) dataset, false);\r\n\t\tchart.setBackgroundPaint(Color.white);\r\n\t\tfinal XYPlot plot = (XYPlot) chart.getPlot();\r\n\t\tplot.setBackgroundPaint(Color.white);\r\n\t\tplot.setDomainGridlinePaint(Color.lightGray);\r\n\t\tplot.setRangeGridlinePaint(Color.lightGray);\r\n\t\tplot.setAxisOffset(new RectangleInsets(5.0, 5.0, 5.0, 5.0));\r\n\t\tplot.setDomainCrosshairVisible(true);\r\n\t\tplot.setRangeCrosshairVisible(true);\r\n\t\tfinal CandlestickRenderer renderer = new CandlestickRenderer();\r\n\t\trenderer.setDrawVolume(false);\r\n\t\tplot.setRenderer(renderer);\r\n\t\tfinal DateAxis axis = (DateAxis) plot.getDomainAxis();\r\n\t\taxis.setDateFormatOverride(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;));\r\n\t\tfinal NumberAxis rangeAxis = (NumberAxis) plot.getRangeAxis();\r\n\t\trangeAxis.setAutoRangeIncludesZero(false);\r\n\r\n\t\tdouble price = 10.5;\r\n\t\tfinal ValueMarker marker = new ValueMarker(price);\r\n\t\tmarker.setPaint(Color.blue);\r\n\t\tplot.addRangeMarker(marker);\r\n\r\n\t\tfinal Ellipse2D point2d = new Ellipse2D.Double(2.5, 10.5, 20, 20);\r\n\t\tXYShapeAnnotation annotation = new XYShapeAnnotation(point2d, new BasicStroke(2.0f), Color.BLACK, Color.BLUE);\r\n\t\tplot.addAnnotation(annotation);\r\n\t\t\r\n\t\treturn chart;\r\n\t}\r\n\r\n\tpublic static void main(final String[] args) throws ParseException {\r\n\t\tfinal OHLCChartDemo demo = new OHLCChartDemo(&quot;OHLC Chart Demo&quot;);\r\n\t\tdemo.pack();\r\n\t\tdemo.setVisible(true);\r\n\t}\r\n}\r\n```\r\n\r\nHow can I draw a filled circle at the intersection of the horizontal line at level (FEX)10.5 and the date (FEX)&quot;2021-01-02&quot;? Alternatively, how can I draw a horizontal line starting from that point and extending to the right end of the chart?","title":"Why circle is not displayed in JFreeChart?","body":"<p>I am currently experimenting with the JFreeChart library to create an OHLC chart. I would like to draw a horizontal line at a certain price level, for example, at 10.5, and place a point on the line at a specific date, for example, &quot;2021-01-02&quot;. Although my code successfully draws the axis, bars, and a horizontal line at 10.5, but the filled circle/point (point2d) I tried to add is not visible by some reason (probably because of wrong coordinates).</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.geom.Ellipse2D;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.annotations.XYShapeAnnotation;\nimport org.jfree.chart.axis.DateAxis;\nimport org.jfree.chart.axis.NumberAxis;\nimport org.jfree.chart.plot.ValueMarker;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.xy.CandlestickRenderer;\nimport org.jfree.data.xy.DefaultHighLowDataset;\nimport org.jfree.data.xy.OHLCDataset;\nimport org.jfree.data.xy.XYDataset;\nimport org.jfree.ui.ApplicationFrame;\nimport org.jfree.ui.RectangleInsets;\n\npublic class OHLCChartDemo extends ApplicationFrame {\n\n    public OHLCChartDemo(final String title) throws ParseException {\n        super(title);\n        final JFreeChart chart = createChart(createDataset());\n        setContentPane(new ChartPanel(chart));\n    }\n\n    private OHLCDataset createDataset() throws ParseException {\n        final SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        final DefaultHighLowDataset dataset = new DefaultHighLowDataset(&quot;Series 1&quot;,\n                new Date[] { new Date(df.parse(&quot;2021-01-01&quot;).getTime()), new Date(df.parse(&quot;2021-01-02&quot;).getTime()),\n                        new Date(df.parse(&quot;2021-01-03&quot;).getTime()), new Date(df.parse(&quot;2021-01-04&quot;).getTime()) },\n                new double[] { 11.0, 13.0, 9.0, 12.0 }, new double[] { 8.0, 9.0, 7.0, 8.5 },\n                new double[] { 10.0, 11.0, 8.0, 10.5 }, new double[] { 9.0, 10.0, 8.5, 9.5 },\n                new double[] { 11.0, 11.0, 9.0, 9.5 });\n        return dataset;\n    }\n\n    private JFreeChart createChart(final XYDataset dataset) throws ParseException {\n        final JFreeChart chart = ChartFactory.createCandlestickChart(&quot;OHLC Chart&quot;, &quot;Date&quot;, &quot;Price&quot;, (OHLCDataset) dataset, false);\n        chart.setBackgroundPaint(Color.white);\n        final XYPlot plot = (XYPlot) chart.getPlot();\n        plot.setBackgroundPaint(Color.white);\n        plot.setDomainGridlinePaint(Color.lightGray);\n        plot.setRangeGridlinePaint(Color.lightGray);\n        plot.setAxisOffset(new RectangleInsets(5.0, 5.0, 5.0, 5.0));\n        plot.setDomainCrosshairVisible(true);\n        plot.setRangeCrosshairVisible(true);\n        final CandlestickRenderer renderer = new CandlestickRenderer();\n        renderer.setDrawVolume(false);\n        plot.setRenderer(renderer);\n        final DateAxis axis = (DateAxis) plot.getDomainAxis();\n        axis.setDateFormatOverride(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;));\n        final NumberAxis rangeAxis = (NumberAxis) plot.getRangeAxis();\n        rangeAxis.setAutoRangeIncludesZero(false);\n\n        double price = 10.5;\n        final ValueMarker marker = new ValueMarker(price);\n        marker.setPaint(Color.blue);\n        plot.addRangeMarker(marker);\n\n        final Ellipse2D point2d = new Ellipse2D.Double(2.5, 10.5, 20, 20);\n        XYShapeAnnotation annotation = new XYShapeAnnotation(point2d, new BasicStroke(2.0f), Color.BLACK, Color.BLUE);\n        plot.addAnnotation(annotation);\n        \n        return chart;\n    }\n\n    public static void main(final String[] args) throws ParseException {\n        final OHLCChartDemo demo = new OHLCChartDemo(&quot;OHLC Chart Demo&quot;);\n        demo.pack();\n        demo.setVisible(true);\n    }\n}\n</code></pre>\n<p>How can I draw a filled circle at the intersection of the horizontal line at level (FEX)10.5 and the date (FEX)&quot;2021-01-02&quot;? Alternatively, how can I draw a horizontal line starting from that point and extending to the right end of the chart?</p>\n"},{"tags":["java","android","subscribe","in-app","android-inapp-purchase"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678936902,"post_id":75743988,"comment_id":133631016,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":5491348,"reputation":1,"user_id":4364487,"display_name":"Yusuf Adıbelli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678881467,"creation_date":1678879084,"question_id":75743988,"body_markdown":" In-app purchase functionality available in my VPN App. But especially in android 10 version, subscription is not approved. A &quot;confirm the plan&quot; warning appears in the Play store and after a while the subscription is canceled by itself. On other android versions, &quot;confirm plan&quot; message sometimes pops up, but usually it&#39;s confirmed.Also, I added the acknowledge available in my app myself.\r\nPhoto firebase:https://prnt.sc/9ygv1S-LB8YY firebase working.\r\n\r\n\r\n`\r\n```\r\npackage com.svpn.sec.Activities;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.CountDownTimer;\r\nimport android.util.Log;\r\nimport android.util.TypedValue;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.CompoundButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.RadioButton;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.Observer;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.android.billingclient.api.AcknowledgePurchaseParams;\r\nimport com.android.billingclient.api.AcknowledgePurchaseResponseListener;\r\nimport com.android.billingclient.api.BillingClient;\r\nimport com.android.billingclient.api.BillingClientStateListener;\r\nimport com.android.billingclient.api.BillingFlowParams;\r\nimport com.android.billingclient.api.BillingResult;\r\nimport com.android.billingclient.api.ConsumeParams;\r\nimport com.android.billingclient.api.ConsumeResponseListener;\r\nimport com.android.billingclient.api.Purchase;\r\nimport com.android.billingclient.api.PurchasesResponseListener;\r\nimport com.android.billingclient.api.PurchasesUpdatedListener;\r\nimport com.android.billingclient.api.SkuDetails;\r\nimport com.android.billingclient.api.SkuDetailsParams;\r\nimport com.android.billingclient.api.SkuDetailsResponseListener;\r\nimport com.android.billingclient.api.PurchaseHistoryRecord;\r\n\r\nimport com.android.billingclient.api.BillingClient;\r\nimport com.android.billingclient.api.BillingClientStateListener;\r\nimport com.android.billingclient.api.BillingFlowParams;\r\nimport com.android.billingclient.api.BillingResult;\r\nimport com.android.billingclient.api.Purchase;\r\nimport com.android.billingclient.api.PurchasesUpdatedListener;\r\nimport com.android.billingclient.api.SkuDetails;\r\nimport com.android.billingclient.api.SkuDetailsParams;\r\nimport com.android.volley.Request;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.bumptech.glide.Glide;\r\nimport com.svpn.sec.R;\r\nimport com.svpn.sec.Config;\r\nimport com.svpn.sec.Utils.Constants;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.zip.Inflater;\r\n\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\nimport butterknife.OnClick;\r\nimport pl.droidsonroids.gif.GifImageView;\r\n\r\npublic class UnlockAllActivity&lt;fun&gt; extends AppCompatActivity implements PurchasesUpdatedListener, BillingClientStateListener {\r\n\r\n\r\n    private BillingClient billingClient;\r\n    private Map&lt;String, SkuDetails&gt; skusWithSkuDetails = new HashMap&lt;&gt;();\r\n    private final List&lt;String&gt; allSubs = new ArrayList&lt;&gt;(Arrays.asList(\r\n            Config.all_month_id,\r\n            Config.all_threemonths_id,\r\n            Config.all_sixmonths_id,\r\n            Config.all_yearly_id));\r\n\r\n    private MutableLiveData&lt;Integer&gt; all_check = new MutableLiveData&lt;&gt;();\r\n    @BindView(R.id.one_month)\r\n    RadioButton oneMonth;\r\n    @BindView(R.id.three_month)\r\n    RadioButton threeMonth;\r\n    @BindView(R.id.six_month)\r\n    RadioButton sixMonth;\r\n    @BindView(R.id.one_year)\r\n    RadioButton oneYear;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        billingClient = BillingClient.newBuilder(this)\r\n                .enablePendingPurchases()\r\n                .setListener((billingResult, list) -&gt; {\r\n                    if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\r\n                        for(Purchase purchase: list) {\r\n                            if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\r\n                                    !purchase.isAcknowledged()) {\r\n                                verifyPurchase(purchase);\r\n                            }\r\n                        }\r\n                    }\r\n                }).build();\r\n        connectToBillingService();\r\n\r\n        setContentView(R.layout.activity_unlock_all_indratech);\r\n\r\n        LayoutInflater inflater = LayoutInflater.from(this);\r\n        View viewUnlockAll = inflater.inflate(R.layout.activity_unlock_all_indratech, null);\r\n        ViewGroup rootUnlockAll = (ViewGroup) viewUnlockAll.getRootView();\r\n        for(int i=0; i&lt;rootUnlockAll.getChildCount(); i++) {\r\n            View child = rootUnlockAll.getChildAt(i);\r\n            if (child instanceof TextView) {\r\n                TextView textView = (TextView) child;\r\n                float sizeInDp = 20;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int sizeInPx = (int) (sizeInDp * density);\r\n                textView.setLayoutParams(new ViewGroup.LayoutParams(\r\n                        ViewGroup.LayoutParams.WRAP_CONTENT,\r\n                        ViewGroup.LayoutParams.WRAP_CONTENT));\r\n                textView.setTextSize(TypedValue.COMPLEX_UNIT_PX, sizeInPx);\r\n            } else if (child instanceof ProgressBar) {\r\n                ProgressBar progressBar = (ProgressBar) child;\r\n                float sizeInDp = 20;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int sizeInPx = (int) (sizeInDp * density);\r\n                progressBar.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\r\n            } else if (child instanceof ImageView) {\r\n                ImageView imageView = (ImageView) child;\r\n                float sizeInDp = 20;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int sizeInPx = (int) (sizeInDp * density);\r\n                imageView.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\r\n            } else if (child instanceof CardView) {\r\n                CardView cardView = (CardView) child;\r\n                float radiusInDp = 10;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int radiusInPx = (int) (radiusInDp * density);\r\n                cardView.setRadius(radiusInPx);\r\n            } else if (child instanceof GifImageView) {\r\n                GifImageView gifImageView = (GifImageView) child;\r\n                float sizeInDp = 20;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int sizeInPx = (int) (sizeInDp * density);\r\n                gifImageView.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\r\n            } else if (child instanceof LinearLayout) {\r\n                LinearLayout linearLayout = (LinearLayout) child;\r\n                float paddingInDp = 10;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int paddingInPx = (int) (paddingInDp * density);\r\n                linearLayout.setPadding(paddingInPx, paddingInPx, paddingInPx, paddingInPx);\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n        billingClient = BillingClient\r\n                .newBuilder(this)\r\n                .setListener(this)\r\n                .enablePendingPurchases()\r\n                .build();\r\n\r\n        connectToBillingService();\r\n\r\n        ButterKnife.bind(this);\r\n        all_check.setValue(-1);\r\n        all_check.observe(this, integer -&gt; {\r\n            switch (integer) {\r\n                case 0:\r\n                    threeMonth.setChecked(false);\r\n                    sixMonth.setChecked(false);\r\n                    oneYear.setChecked(false);\r\n                    break;\r\n                case 1:\r\n                    oneMonth.setChecked(false);\r\n                    sixMonth.setChecked(false);\r\n                    oneYear.setChecked(false);\r\n                    break;\r\n                case 2:\r\n                    threeMonth.setChecked(false);\r\n                    oneMonth.setChecked(false);\r\n                    oneYear.setChecked(false);\r\n                    break;\r\n                case 3:\r\n                    threeMonth.setChecked(false);\r\n                    sixMonth.setChecked(false);\r\n                    oneMonth.setChecked(false);\r\n                    break;\r\n\r\n            }\r\n\r\n            billingClient = BillingClient.newBuilder(this)\r\n                    .enablePendingPurchases()\r\n                    .setListener((billingResult, list) -&gt; {\r\n                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\r\n                            for(Purchase purchase: list) {\r\n                                if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\r\n                                        !purchase.isAcknowledged()) {\r\n                                    verifyPurchase(purchase);\r\n                                }\r\n                            }\r\n                        }\r\n                    }).build();\r\n            connectToBillingService();\r\n\r\n        });\r\n\r\n        oneMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n            if (isChecked) all_check.postValue(0);\r\n        });\r\n        threeMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n            if (isChecked) all_check.postValue(1);\r\n        });\r\n        sixMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n            if (isChecked) all_check.postValue(2);\r\n        });\r\n        oneYear.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n            if (isChecked) all_check.postValue(3);\r\n        });\r\n\r\n    }\r\n\r\n    private void verifyPurchase(Purchase purchase) {\r\n        String requestUrl = &quot;https://us-central1-settrailvpn.cloudfunctions.net/verifyPurchases?&quot; +\r\n                &quot;purchaseToken=&quot; + purchase.getPurchaseToken() + &quot;&amp;&quot; +\r\n                &quot;purchaseTime=&quot; + purchase.getPurchaseTime() + &quot;&amp;&quot; +\r\n                &quot;orderId=&quot; + purchase.getOrderId();\r\n        Activity activity = UnlockAllActivity.this;\r\n\r\n        StringRequest stringRequest = new StringRequest(\r\n                Request.Method.POST,\r\n                requestUrl,\r\n                response -&gt; {\r\n                    try {\r\n                        JSONObject purchaseInfoFromServer = new JSONObject(response);\r\n                        if(purchaseInfoFromServer.getBoolean(&quot;isValid&quot;)) {\r\n\r\n                            AcknowledgePurchaseParams acknowledgePurchaseParams = AcknowledgePurchaseParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\r\n                            billingClient.acknowledgePurchase(\r\n                                    acknowledgePurchaseParams,\r\n                                    billingResult -&gt; {\r\n                                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                                            trainers();\r\n                                            querySkuDetailsAsync(\r\n                                                    BillingClient.SkuType.SUBS,\r\n                                                    new ArrayList&lt;&gt;(allSubs));\r\n                                        }\r\n                                    }\r\n                            );\r\n                            ConsumeParams consumeParams = ConsumeParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\r\n                            billingClient.consumeAsync(\r\n                                    consumeParams,\r\n                                    (billingResult, s) -&gt; {\r\n                                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                                        }\r\n                                    }\r\n                            );\r\n                        }\r\n                    } catch (Exception err) {\r\n\r\n                    }\r\n                },\r\n                error -&gt; {\r\n\r\n                }\r\n        );\r\n\r\n        Volley.newRequestQueue(this).add(stringRequest);\r\n\r\n    }\r\n    protected void onResume() {\r\n        super.onResume();\r\n        Glide.with(this).resumeRequests();\r\n        billingClient.queryPurchasesAsync(\r\n                BillingClient.SkuType.INAPP,\r\n                (billingResult, list) -&gt; {\r\n                    if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                        for(Purchase purchase: list) {\r\n                            if(purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\r\n                                    !purchase.isAcknowledged()) {\r\n                                verifyPurchase(purchase);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    private void trainers() {\r\n        Purchase.PurchasesResult result = billingClient.queryPurchases(BillingClient.SkuType.SUBS);\r\n        List&lt;Purchase&gt; purchases = result.getPurchasesList();\r\n        List&lt;String&gt; skus = new ArrayList&lt;&gt;();\r\n\r\n        if (purchases != null) {\r\n            int i = 0;\r\n            for (Purchase purchase : purchases) {\r\n                skus.add(purchase.getSkus().get(i));\r\n                Log.v(&quot;CHECKBILLING&quot;, purchase.getSkus().get(i));\r\n                i++;\r\n            }\r\n\r\n            if (skus.contains(Config.all_month_id) ||\r\n                    skus.contains(Config.all_threemonths_id) ||\r\n                    skus.contains(Config.all_sixmonths_id) ||\r\n                    skus.contains(Config.all_yearly_id)\r\n            ) {\r\n                Config.all_subscription = true;\r\n            } else {\r\n                Config.all_subscription = false;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    private void connectToBillingService(){\r\n        billingClient.startConnection(\r\n                new BillingClientStateListener() {\r\n                    @Override\r\n                    public void onBillingServiceDisconnected() {\r\n                        connectToBillingService();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\r\n                        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                            Purchase.PurchasesResult result = billingClient.queryPurchases(BillingClient.SkuType.SUBS);\r\n                            List&lt;Purchase&gt; purchases = result.getPurchasesList();\r\n                            List&lt;String&gt; skus = new ArrayList&lt;&gt;();\r\n\r\n                            if (purchases != null) {\r\n                                int i = 0;\r\n                                for (Purchase purchase : purchases) {\r\n                                    skus.add(purchase.getSkus().get(i));\r\n                                    Log.v(&quot;CHECKBILLING&quot;, purchase.getSkus().get(i));\r\n                                    i++;\r\n                                }\r\n\r\n                                if (skus.contains(Config.all_month_id) ||\r\n                                        skus.contains(Config.all_threemonths_id) ||\r\n                                        skus.contains(Config.all_sixmonths_id) ||\r\n                                        skus.contains(Config.all_yearly_id)\r\n                                ) {\r\n                                    Config.all_subscription = true;\r\n                                } else {\r\n                                    Config.all_subscription = false;\r\n                                }\r\n                            }\r\n                            querySkuDetailsAsync(\r\n                                    BillingClient.SkuType.SUBS,\r\n                                    new ArrayList&lt;&gt;(allSubs));\r\n\r\n                            new CountDownTimer(8000, 4000) {\r\n\r\n                                @Override\r\n                                public void onTick(long millisUntilFinished) {\r\n                                    // Her saniye işlem yapılacaksa burada kod yazılabilir.\r\n                                    onResume();\r\n                                }\r\n\r\n                                @Override\r\n                                public void onFinish() {\r\n                                    onResume();\r\n                                }\r\n\r\n                            }.start();\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n        );\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\r\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n            trainers();\r\n            querySkuDetailsAsync(\r\n                    BillingClient.SkuType.SUBS,\r\n                    new ArrayList&lt;&gt;(allSubs));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBillingServiceDisconnected() {\r\n        connectToBillingService();\r\n    }\r\n\r\n    @Override\r\n    public void onPurchasesUpdated(@NonNull BillingResult billingResult, @Nullable List&lt;Purchase&gt; list) {\r\n        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\r\n            for(Purchase purchase: list) {\r\n                if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\r\n                        !purchase.isAcknowledged()) {\r\n                    verifyPurchase(purchase);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void querySkuDetailsAsync(@BillingClient.SkuType String skuType, List&lt;String&gt; skuList) {\r\n        SkuDetailsParams params = SkuDetailsParams\r\n                .newBuilder()\r\n                .setSkusList(skuList)\r\n                .setType(skuType)\r\n                .build();\r\n\r\n        billingClient.querySkuDetailsAsync(\r\n                params, (billingResult, skuDetailsList) -&gt; {\r\n                    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; skuDetailsList != null) {\r\n                        for (SkuDetails details : skuDetailsList) {\r\n                            skusWithSkuDetails.put(details.getSku(), details);\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n    private void purchase(SkuDetails skuDetails) {\r\n        BillingFlowParams params = BillingFlowParams\r\n                .newBuilder()\r\n                .setSkuDetails(skuDetails)\r\n                .build();\r\n\r\n        billingClient.launchBillingFlow(this, params);\r\n    }\r\n\r\n\r\n    @OnClick(R.id.all_pur)\r\n    void unlockAll() {\r\n        if (all_check.getValue() != null) {\r\n            SkuDetails skuDetails = null;\r\n\r\n            switch (all_check.getValue()) {\r\n                case 0:\r\n                    skuDetails = skusWithSkuDetails.get(Config.all_month_id);\r\n                    break;\r\n                case 1:\r\n                    skuDetails = skusWithSkuDetails.get(Config.all_threemonths_id);\r\n                    break;\r\n                case 2:\r\n                    skuDetails = skusWithSkuDetails.get(Config.all_sixmonths_id);\r\n                    break;\r\n                case 3:\r\n                    skuDetails = skusWithSkuDetails.get(Config.all_yearly_id);\r\n                    break;\r\n            }\r\n\r\n            if (skuDetails != null) purchase(skuDetails);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n````\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n52za.png","title":"Can&#39;t fix in-app purchase &quot;confirm plan&quot; issue (Acknowledge)","body":"<p>In-app purchase functionality available in my VPN App. But especially in android 10 version, subscription is not approved. A &quot;confirm the plan&quot; warning appears in the Play store and after a while the subscription is canceled by itself. On other android versions, &quot;confirm plan&quot; message sometimes pops up, but usually it's confirmed.Also, I added the acknowledge available in my app myself.\nPhoto firebase:<a href=\"https://prnt.sc/9ygv1S-LB8YY\" rel=\"nofollow noreferrer\">https://prnt.sc/9ygv1S-LB8YY</a> firebase working.</p>\n<p>`</p>\n<pre><code>package com.svpn.sec.Activities;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.CountDownTimer;\nimport android.util.Log;\nimport android.util.TypedValue;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.CompoundButton;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.ProgressBar;\nimport android.widget.RadioButton;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.cardview.widget.CardView;\nimport androidx.lifecycle.MutableLiveData;\nimport androidx.lifecycle.Observer;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.android.billingclient.api.AcknowledgePurchaseParams;\nimport com.android.billingclient.api.AcknowledgePurchaseResponseListener;\nimport com.android.billingclient.api.BillingClient;\nimport com.android.billingclient.api.BillingClientStateListener;\nimport com.android.billingclient.api.BillingFlowParams;\nimport com.android.billingclient.api.BillingResult;\nimport com.android.billingclient.api.ConsumeParams;\nimport com.android.billingclient.api.ConsumeResponseListener;\nimport com.android.billingclient.api.Purchase;\nimport com.android.billingclient.api.PurchasesResponseListener;\nimport com.android.billingclient.api.PurchasesUpdatedListener;\nimport com.android.billingclient.api.SkuDetails;\nimport com.android.billingclient.api.SkuDetailsParams;\nimport com.android.billingclient.api.SkuDetailsResponseListener;\nimport com.android.billingclient.api.PurchaseHistoryRecord;\n\nimport com.android.billingclient.api.BillingClient;\nimport com.android.billingclient.api.BillingClientStateListener;\nimport com.android.billingclient.api.BillingFlowParams;\nimport com.android.billingclient.api.BillingResult;\nimport com.android.billingclient.api.Purchase;\nimport com.android.billingclient.api.PurchasesUpdatedListener;\nimport com.android.billingclient.api.SkuDetails;\nimport com.android.billingclient.api.SkuDetailsParams;\nimport com.android.volley.Request;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.StringRequest;\nimport com.android.volley.toolbox.Volley;\nimport com.bumptech.glide.Glide;\nimport com.svpn.sec.R;\nimport com.svpn.sec.Config;\nimport com.svpn.sec.Utils.Constants;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.zip.Inflater;\n\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\nimport butterknife.OnClick;\nimport pl.droidsonroids.gif.GifImageView;\n\npublic class UnlockAllActivity&lt;fun&gt; extends AppCompatActivity implements PurchasesUpdatedListener, BillingClientStateListener {\n\n\n    private BillingClient billingClient;\n    private Map&lt;String, SkuDetails&gt; skusWithSkuDetails = new HashMap&lt;&gt;();\n    private final List&lt;String&gt; allSubs = new ArrayList&lt;&gt;(Arrays.asList(\n            Config.all_month_id,\n            Config.all_threemonths_id,\n            Config.all_sixmonths_id,\n            Config.all_yearly_id));\n\n    private MutableLiveData&lt;Integer&gt; all_check = new MutableLiveData&lt;&gt;();\n    @BindView(R.id.one_month)\n    RadioButton oneMonth;\n    @BindView(R.id.three_month)\n    RadioButton threeMonth;\n    @BindView(R.id.six_month)\n    RadioButton sixMonth;\n    @BindView(R.id.one_year)\n    RadioButton oneYear;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        billingClient = BillingClient.newBuilder(this)\n                .enablePendingPurchases()\n                .setListener((billingResult, list) -&gt; {\n                    if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\n                        for(Purchase purchase: list) {\n                            if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\n                                    !purchase.isAcknowledged()) {\n                                verifyPurchase(purchase);\n                            }\n                        }\n                    }\n                }).build();\n        connectToBillingService();\n\n        setContentView(R.layout.activity_unlock_all_indratech);\n\n        LayoutInflater inflater = LayoutInflater.from(this);\n        View viewUnlockAll = inflater.inflate(R.layout.activity_unlock_all_indratech, null);\n        ViewGroup rootUnlockAll = (ViewGroup) viewUnlockAll.getRootView();\n        for(int i=0; i&lt;rootUnlockAll.getChildCount(); i++) {\n            View child = rootUnlockAll.getChildAt(i);\n            if (child instanceof TextView) {\n                TextView textView = (TextView) child;\n                float sizeInDp = 20;\n                float density = getResources().getDisplayMetrics().density;\n                int sizeInPx = (int) (sizeInDp * density);\n                textView.setLayoutParams(new ViewGroup.LayoutParams(\n                        ViewGroup.LayoutParams.WRAP_CONTENT,\n                        ViewGroup.LayoutParams.WRAP_CONTENT));\n                textView.setTextSize(TypedValue.COMPLEX_UNIT_PX, sizeInPx);\n            } else if (child instanceof ProgressBar) {\n                ProgressBar progressBar = (ProgressBar) child;\n                float sizeInDp = 20;\n                float density = getResources().getDisplayMetrics().density;\n                int sizeInPx = (int) (sizeInDp * density);\n                progressBar.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\n            } else if (child instanceof ImageView) {\n                ImageView imageView = (ImageView) child;\n                float sizeInDp = 20;\n                float density = getResources().getDisplayMetrics().density;\n                int sizeInPx = (int) (sizeInDp * density);\n                imageView.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\n            } else if (child instanceof CardView) {\n                CardView cardView = (CardView) child;\n                float radiusInDp = 10;\n                float density = getResources().getDisplayMetrics().density;\n                int radiusInPx = (int) (radiusInDp * density);\n                cardView.setRadius(radiusInPx);\n            } else if (child instanceof GifImageView) {\n                GifImageView gifImageView = (GifImageView) child;\n                float sizeInDp = 20;\n                float density = getResources().getDisplayMetrics().density;\n                int sizeInPx = (int) (sizeInDp * density);\n                gifImageView.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\n            } else if (child instanceof LinearLayout) {\n                LinearLayout linearLayout = (LinearLayout) child;\n                float paddingInDp = 10;\n                float density = getResources().getDisplayMetrics().density;\n                int paddingInPx = (int) (paddingInDp * density);\n                linearLayout.setPadding(paddingInPx, paddingInPx, paddingInPx, paddingInPx);\n\n            }\n\n        }\n\n\n        billingClient = BillingClient\n                .newBuilder(this)\n                .setListener(this)\n                .enablePendingPurchases()\n                .build();\n\n        connectToBillingService();\n\n        ButterKnife.bind(this);\n        all_check.setValue(-1);\n        all_check.observe(this, integer -&gt; {\n            switch (integer) {\n                case 0:\n                    threeMonth.setChecked(false);\n                    sixMonth.setChecked(false);\n                    oneYear.setChecked(false);\n                    break;\n                case 1:\n                    oneMonth.setChecked(false);\n                    sixMonth.setChecked(false);\n                    oneYear.setChecked(false);\n                    break;\n                case 2:\n                    threeMonth.setChecked(false);\n                    oneMonth.setChecked(false);\n                    oneYear.setChecked(false);\n                    break;\n                case 3:\n                    threeMonth.setChecked(false);\n                    sixMonth.setChecked(false);\n                    oneMonth.setChecked(false);\n                    break;\n\n            }\n\n            billingClient = BillingClient.newBuilder(this)\n                    .enablePendingPurchases()\n                    .setListener((billingResult, list) -&gt; {\n                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\n                            for(Purchase purchase: list) {\n                                if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\n                                        !purchase.isAcknowledged()) {\n                                    verifyPurchase(purchase);\n                                }\n                            }\n                        }\n                    }).build();\n            connectToBillingService();\n\n        });\n\n        oneMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n            if (isChecked) all_check.postValue(0);\n        });\n        threeMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n            if (isChecked) all_check.postValue(1);\n        });\n        sixMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n            if (isChecked) all_check.postValue(2);\n        });\n        oneYear.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n            if (isChecked) all_check.postValue(3);\n        });\n\n    }\n\n    private void verifyPurchase(Purchase purchase) {\n        String requestUrl = &quot;https://us-central1-settrailvpn.cloudfunctions.net/verifyPurchases?&quot; +\n                &quot;purchaseToken=&quot; + purchase.getPurchaseToken() + &quot;&amp;&quot; +\n                &quot;purchaseTime=&quot; + purchase.getPurchaseTime() + &quot;&amp;&quot; +\n                &quot;orderId=&quot; + purchase.getOrderId();\n        Activity activity = UnlockAllActivity.this;\n\n        StringRequest stringRequest = new StringRequest(\n                Request.Method.POST,\n                requestUrl,\n                response -&gt; {\n                    try {\n                        JSONObject purchaseInfoFromServer = new JSONObject(response);\n                        if(purchaseInfoFromServer.getBoolean(&quot;isValid&quot;)) {\n\n                            AcknowledgePurchaseParams acknowledgePurchaseParams = AcknowledgePurchaseParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\n                            billingClient.acknowledgePurchase(\n                                    acknowledgePurchaseParams,\n                                    billingResult -&gt; {\n                                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                                            trainers();\n                                            querySkuDetailsAsync(\n                                                    BillingClient.SkuType.SUBS,\n                                                    new ArrayList&lt;&gt;(allSubs));\n                                        }\n                                    }\n                            );\n                            ConsumeParams consumeParams = ConsumeParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\n                            billingClient.consumeAsync(\n                                    consumeParams,\n                                    (billingResult, s) -&gt; {\n                                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                                        }\n                                    }\n                            );\n                        }\n                    } catch (Exception err) {\n\n                    }\n                },\n                error -&gt; {\n\n                }\n        );\n\n        Volley.newRequestQueue(this).add(stringRequest);\n\n    }\n    protected void onResume() {\n        super.onResume();\n        Glide.with(this).resumeRequests();\n        billingClient.queryPurchasesAsync(\n                BillingClient.SkuType.INAPP,\n                (billingResult, list) -&gt; {\n                    if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                        for(Purchase purchase: list) {\n                            if(purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\n                                    !purchase.isAcknowledged()) {\n                                verifyPurchase(purchase);\n                            }\n                        }\n                    }\n                }\n        );\n    }\n\n\n\n\n\n    private void trainers() {\n        Purchase.PurchasesResult result = billingClient.queryPurchases(BillingClient.SkuType.SUBS);\n        List&lt;Purchase&gt; purchases = result.getPurchasesList();\n        List&lt;String&gt; skus = new ArrayList&lt;&gt;();\n\n        if (purchases != null) {\n            int i = 0;\n            for (Purchase purchase : purchases) {\n                skus.add(purchase.getSkus().get(i));\n                Log.v(&quot;CHECKBILLING&quot;, purchase.getSkus().get(i));\n                i++;\n            }\n\n            if (skus.contains(Config.all_month_id) ||\n                    skus.contains(Config.all_threemonths_id) ||\n                    skus.contains(Config.all_sixmonths_id) ||\n                    skus.contains(Config.all_yearly_id)\n            ) {\n                Config.all_subscription = true;\n            } else {\n                Config.all_subscription = false;\n            }\n        }\n    }\n\n\n\n\n    private void connectToBillingService(){\n        billingClient.startConnection(\n                new BillingClientStateListener() {\n                    @Override\n                    public void onBillingServiceDisconnected() {\n                        connectToBillingService();\n                    }\n\n                    @Override\n                    public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\n                        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                            Purchase.PurchasesResult result = billingClient.queryPurchases(BillingClient.SkuType.SUBS);\n                            List&lt;Purchase&gt; purchases = result.getPurchasesList();\n                            List&lt;String&gt; skus = new ArrayList&lt;&gt;();\n\n                            if (purchases != null) {\n                                int i = 0;\n                                for (Purchase purchase : purchases) {\n                                    skus.add(purchase.getSkus().get(i));\n                                    Log.v(&quot;CHECKBILLING&quot;, purchase.getSkus().get(i));\n                                    i++;\n                                }\n\n                                if (skus.contains(Config.all_month_id) ||\n                                        skus.contains(Config.all_threemonths_id) ||\n                                        skus.contains(Config.all_sixmonths_id) ||\n                                        skus.contains(Config.all_yearly_id)\n                                ) {\n                                    Config.all_subscription = true;\n                                } else {\n                                    Config.all_subscription = false;\n                                }\n                            }\n                            querySkuDetailsAsync(\n                                    BillingClient.SkuType.SUBS,\n                                    new ArrayList&lt;&gt;(allSubs));\n\n                            new CountDownTimer(8000, 4000) {\n\n                                @Override\n                                public void onTick(long millisUntilFinished) {\n                                    // Her saniye işlem yapılacaksa burada kod yazılabilir.\n                                    onResume();\n                                }\n\n                                @Override\n                                public void onFinish() {\n                                    onResume();\n                                }\n\n                            }.start();\n\n                        }\n\n                    }\n\n                }\n        );\n    }\n\n\n    @Override\n    public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n            trainers();\n            querySkuDetailsAsync(\n                    BillingClient.SkuType.SUBS,\n                    new ArrayList&lt;&gt;(allSubs));\n        }\n    }\n\n    @Override\n    public void onBillingServiceDisconnected() {\n        connectToBillingService();\n    }\n\n    @Override\n    public void onPurchasesUpdated(@NonNull BillingResult billingResult, @Nullable List&lt;Purchase&gt; list) {\n        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\n            for(Purchase purchase: list) {\n                if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\n                        !purchase.isAcknowledged()) {\n                    verifyPurchase(purchase);\n                }\n            }\n        }\n    }\n\n    private void querySkuDetailsAsync(@BillingClient.SkuType String skuType, List&lt;String&gt; skuList) {\n        SkuDetailsParams params = SkuDetailsParams\n                .newBuilder()\n                .setSkusList(skuList)\n                .setType(skuType)\n                .build();\n\n        billingClient.querySkuDetailsAsync(\n                params, (billingResult, skuDetailsList) -&gt; {\n                    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; skuDetailsList != null) {\n                        for (SkuDetails details : skuDetailsList) {\n                            skusWithSkuDetails.put(details.getSku(), details);\n                        }\n                    }\n                }\n        );\n    }\n\n    private void purchase(SkuDetails skuDetails) {\n        BillingFlowParams params = BillingFlowParams\n                .newBuilder()\n                .setSkuDetails(skuDetails)\n                .build();\n\n        billingClient.launchBillingFlow(this, params);\n    }\n\n\n    @OnClick(R.id.all_pur)\n    void unlockAll() {\n        if (all_check.getValue() != null) {\n            SkuDetails skuDetails = null;\n\n            switch (all_check.getValue()) {\n                case 0:\n                    skuDetails = skusWithSkuDetails.get(Config.all_month_id);\n                    break;\n                case 1:\n                    skuDetails = skusWithSkuDetails.get(Config.all_threemonths_id);\n                    break;\n                case 2:\n                    skuDetails = skusWithSkuDetails.get(Config.all_sixmonths_id);\n                    break;\n                case 3:\n                    skuDetails = skusWithSkuDetails.get(Config.all_yearly_id);\n                    break;\n            }\n\n            if (skuDetails != null) purchase(skuDetails);\n        }\n\n    }\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","if-statement","conditional-operator"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1678876184,"post_id":75743442,"comment_id":133616647,"body_markdown":"There&#39;s nothing to optimize there. It&#39;s fine as it is and the conditional operator is meant to return a result, not for side effects.","body":"There&#39;s nothing to optimize there. It&#39;s fine as it is and the conditional operator is meant to return a result, not for side effects."},{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1678876214,"post_id":75743442,"comment_id":133616653,"body_markdown":"The complexity will stay the same, you could only play code golf","body":"The complexity will stay the same, you could only play code golf"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1678880784,"post_id":75743442,"comment_id":133617968,"body_markdown":"Something to be aware of: using a ternary can cause unintended promotion of arguments, e.g. `return true ? Integer.parseInt(0) : Double.parseInt(0)` would always return a `Double` (on a method with a `Number` return type, for instance).","body":"Something to be aware of: using a ternary can cause unintended promotion of arguments, e.g. <code>return true ? Integer.parseInt(0) : Double.parseInt(0)</code> would always return a <code>Double</code> (on a method with a <code>Number</code> return type, for instance)."}],"answers":[{"tags":[],"owner":{"account_id":17755377,"reputation":15,"user_id":12983404,"display_name":"Notlimitedwolf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678880302,"creation_date":1678880302,"answer_id":75744185,"question_id":75743442,"body_markdown":"Ternary operator is used to choose a value, not a variable.\r\n```java\r\npublic void someFunc(Boolean multiplied) {\r\n    Integer counter = multiplied?1:2; //chooses a value 1 or 2 depending on boolean\r\n}\r\n```\r\nSticking to common if-else is the best solution here. However, if you reallt want to go with a ternary operator (and I do not recommend doing this) you can do the following:\r\n\r\n```java\r\nboolean value = getResult();\r\nInteger[] counters = new Integer[] {0, 0};\r\ncounters[value?0:1]+=1;\r\n```","title":"Using ternary operators with boolean return function in java","body":"<p>Ternary operator is used to choose a value, not a variable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void someFunc(Boolean multiplied) {\n    Integer counter = multiplied?1:2; //chooses a value 1 or 2 depending on boolean\n}\n</code></pre>\n<p>Sticking to common if-else is the best solution here. However, if you reallt want to go with a ternary operator (and I do not recommend doing this) you can do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean value = getResult();\nInteger[] counters = new Integer[] {0, 0};\ncounters[value?0:1]+=1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678881316,"creation_date":1678881316,"answer_id":75744369,"question_id":75743442,"body_markdown":"In case your if statement grows and you have a great number of variables that you want to modify dynamically, look into the [Map](https://en.wikipedia.org/wiki/Associative_array) data structure, in Java specifically, the implementation you&#39;ll most likely end up using is [HashMap](https://www.baeldung.com/java-hashmap).\r\n\r\nHowever, in this case, using a Map is absolutely oversized and only reduces the safety of your code and readability.","title":"Using ternary operators with boolean return function in java","body":"<p>In case your if statement grows and you have a great number of variables that you want to modify dynamically, look into the <a href=\"https://en.wikipedia.org/wiki/Associative_array\" rel=\"nofollow noreferrer\">Map</a> data structure, in Java specifically, the implementation you'll most likely end up using is <a href=\"https://www.baeldung.com/java-hashmap\" rel=\"nofollow noreferrer\">HashMap</a>.</p>\n<p>However, in this case, using a Map is absolutely oversized and only reduces the safety of your code and readability.</p>\n"}],"owner":{"account_id":27474068,"reputation":33,"user_id":20962379,"display_name":"user20962379"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678881316,"creation_date":1678876091,"question_id":75743442,"body_markdown":"    boolean value = getResult();\r\n    if(value)\r\n    \tcount1++;\r\n    else\r\n    \tcount2++;\r\n\r\nHow to optimize it using ternary operator\r\n\r\nto reduce complexity\r\n","title":"Using ternary operators with boolean return function in java","body":"<pre><code>boolean value = getResult();\nif(value)\n    count1++;\nelse\n    count2++;\n</code></pre>\n<p>How to optimize it using ternary operator</p>\n<p>to reduce complexity</p>\n"},{"tags":["java","android","android-studio","dependency-injection","dagger-2"],"comments":[{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":2,"creation_date":1542735618,"post_id":53391806,"comment_id":93672337,"body_markdown":"Sounds like Guava version mismatch. Can&#39;t tell you who&#39;s conflicting with who, though. Another possibility is that your &quot;image loader library&quot; if it is a library module, then it should specify Dagger as `api` instead of `implementation`.","body":"Sounds like Guava version mismatch. Can&#39;t tell you who&#39;s conflicting with who, though. Another possibility is that your &quot;image loader library&quot; if it is a library module, then it should specify Dagger as <code>api</code> instead of <code>implementation</code>."},{"owner":{"account_id":6855147,"reputation":2428,"user_id":5270947,"display_name":"Juanes30"},"score":0,"creation_date":1542746717,"post_id":53391806,"comment_id":93677675,"body_markdown":"Do you have additional dependencies to Dagger?","body":"Do you have additional dependencies to Dagger?"},{"owner":{"account_id":6893618,"reputation":1888,"user_id":5296262,"display_name":"Sajid Zeb"},"score":0,"creation_date":1542885754,"post_id":53391806,"comment_id":93733712,"body_markdown":"I just have these dagger dependencies in build.gradle. \n    implementation &quot;com.google.dagger:dagger:2.16&quot;\n    implementation &quot;com.google.dagger:dagger-android-support:2.16&quot;\n    annotationProcessor &quot;com.google.dagger:dagger-compiler:2.16&quot;\n    annotationProcessor &quot;com.google.dagger:dagger-android-processor:2.16&quot;","body":"I just have these dagger dependencies in build.gradle.      implementation &quot;com.google.dagger:dagger:2.16&quot;     implementation &quot;com.google.dagger:dagger-android-support:2.16&quot;     annotationProcessor &quot;com.google.dagger:dagger-compiler:2.16&quot;     annotationProcessor &quot;com.google.dagger:dagger-android-processor:2.16&quot;"},{"owner":{"account_id":6893618,"reputation":1888,"user_id":5296262,"display_name":"Sajid Zeb"},"score":1,"creation_date":1542887967,"post_id":53391806,"comment_id":93734945,"body_markdown":"@EpicPandaForce thanks for your suggestion. I just add guava api in my build.gradle file. and problem resolved. Thanks again","body":"@EpicPandaForce thanks for your suggestion. I just add guava api in my build.gradle file. and problem resolved. Thanks again"}],"answers":[{"tags":[],"owner":{"account_id":6893618,"reputation":1888,"user_id":5296262,"display_name":"Sajid Zeb"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1678881119,"creation_date":1542888152,"answer_id":53430599,"question_id":53391806,"body_markdown":"Dagger 2 needs Guava so I added Guava library in my `build.gradle` file and problem is resolved.\r\n\r\nAdd this line in `build.gradle`:\r\n\r\n     api &#39;com.google.guava:guava:24.1-android&#39;\r\n","title":"Failed resolution of: Lcom/google/common/collect/ImmutableMap; at com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(","body":"<p>Dagger 2 needs Guava so I added Guava library in my <code>build.gradle</code> file and problem is resolved.</p>\n<p>Add this line in <code>build.gradle</code>:</p>\n<pre><code> api 'com.google.guava:guava:24.1-android'\n</code></pre>\n"}],"owner":{"account_id":6893618,"reputation":1888,"user_id":5296262,"display_name":"Sajid Zeb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3060,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53430599,"answer_count":1,"score":2,"last_activity_date":1678881119,"creation_date":1542712525,"question_id":53391806,"body_markdown":"I am getting this issue after integrating Dagger 2 to implement dependency injection of ImageDownloader library while running the app.\r\n\r\nThis is what I did:\r\n\r\nIn build.gradle. I added these lines:\r\n\r\n    implementation &quot;com.google.dagger:dagger:2.16&quot;\r\n    implementation &quot;com.google.dagger:dagger-android-support:2.16&quot;\r\n    annotationProcessor &quot;com.google.dagger:dagger-compiler:2.16&quot;\r\n    annotationProcessor &quot;com.google.dagger:dagger-android-processor:2.16&quot;\r\n\r\nThis is my class API in which I wanted to separate dependencies from the activity class:\r\n\r\n    public class ImageDownloaderApi {\r\n\r\n        @Inject\r\n        public ImageDownloaderApi(){\r\n        }\r\n    \r\n        //some other methods here\r\n    }\r\n\r\nIn my `MainActivity` I added these lines:\r\n\r\n    public class MainActivity extends Activity {\r\n\r\n        @Inject\r\n        ImageDownloaderApi imageDownloaderApi;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            AndroidInjection.inject(this);\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    }\r\n\r\nThen created an `Application` object:\r\n\r\n    public class MyApplication extends Application {\r\n\r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n        }\r\n    }\r\n\r\nThen registered the `Application` class via the manifest like this:\r\n\r\n    &lt;application\r\n        android:name=&quot;.MyApplication&quot;\r\n\r\nI created a module named `MyApplicationModule` like this:\r\n\r\n    @Module\r\n    public abstract class MyApplicationModule {\r\n        @ContributesAndroidInjector\r\n        abstract MainActivity contributeActivityInjector();\r\n    }\r\n\r\nI created an interface named `MyApplicationComponent`:\r\n\r\n    @Component(modules = { AndroidInjectionModule.class, MyApplicationModule.class})\r\n    public interface MyApplicationComponent extends AndroidInjector&lt;MyApplication&gt; {\r\n    }\r\n\r\n`MyApplication` class:\r\n\r\n    public class MyApplication extends Application implements HasActivityInjector {\r\n        @Inject\r\n        DispatchingAndroidInjector&lt;Activity&gt; dispatchingAndroidInjector;\r\n\r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            DaggerMyApplicationComponent.create().inject(this);\r\n        }\r\n\r\n        @Override\r\n        public DispatchingAndroidInjector&lt;Activity&gt; activityInjector() {\r\n            return dispatchingAndroidInjector;\r\n        }\r\n    }\r\n\r\nNow after this implementation when I run the app in the emulator, the app crashes with the following logs:\r\n\r\n      --------- beginning of crash\r\n\t11-20 14:51:03.201 6745-6745/com.my.app E/AndroidRuntime: FATAL EXCEPTION: main\r\n\t    Process: com.my.app, PID: 6745\r\n\t    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/common/collect/ImmutableMap;\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(DaggerMyApplicationComponent.java:36)\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.getDispatchingAndroidInjectorOfActivity(DaggerMyApplicationComponent.java:42)\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.injectMyApplication(DaggerMyApplicationComponent.java:68)\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:62)\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:16)\r\n\t\tat com.my.app.di.MyApplication.onCreate(MyApplication.java:19)\r\n\t\tat android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1012)\r\n\t\tat android.app.ActivityThread.handleBindApplication(ActivityThread.java:4553)\r\n\t\tat android.app.ActivityThread.access$1500(ActivityThread.java:151)\r\n\t\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1364)\r\n\t\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\t\tat android.os.Looper.loop(Looper.java:135)\r\n\t\tat android.app.ActivityThread.main(ActivityThread.java:5254)\r\n\t\tat java.lang.reflect.Method.invoke(Native Method)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:372)\r\n\t\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\r\n\t\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\r\n\t     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.common.collect.ImmutableMap&quot; on path: DexPathList[[zip file &quot;/data/app/com.my.app-1/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.my.app-1/lib/x86, /vendor/lib, /system/lib]]\r\n\t\tat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n\t\tat java.lang.ClassLoader.loadClass(ClassLoader.java:511)\r\n\t\tat java.lang.ClassLoader.loadClass(ClassLoader.java:469)\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(DaggerMyApplicationComponent.java:36)&#160;\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.getDispatchingAndroidInjectorOfActivity(DaggerMyApplicationComponent.java:42)&#160;\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.injectMyApplication(DaggerMyApplicationComponent.java:68)&#160;\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:62)&#160;\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:16)&#160;\r\n\t\tat com.my.app.di.MyApplication.onCreate(MyApplication.java:19)&#160;\r\n\t\tat android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1012)&#160;\r\n\t\tat android.app.ActivityThread.handleBindApplication(ActivityThread.java:4553)&#160;\r\n\t\tat android.app.ActivityThread.access$1500(ActivityThread.java:151)&#160;\r\n\t\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1364)&#160;\r\n\t\tat android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n\t\tat android.os.Looper.loop(Looper.java:135)&#160;\r\n\t\tat android.app.ActivityThread.main(ActivityThread.java:5254)&#160;\r\n\t\tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:372)&#160;\r\n\t\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)&#160;\r\n\t\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)&#160;\r\n\t    \tSuppressed: java.lang.ClassNotFoundException: com.google.common.collect.ImmutableMap\r\n\t\tat java.lang.Class.classForName(Native Method)\r\n\t\tat java.lang.BootClassLoader.findClass(ClassLoader.java:781)\r\n\t\tat java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\r\n\t\tat java.lang.ClassLoader.loadClass(ClassLoader.java:504)\r\n\t\t\t\t... 18 more\r\n\t     Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack available\r\n\r\n\r\n\r\nFor additional info. I am also getting this warning line before the logs i posted above\r\n\r\n    11-20 14:51:03.172 6745-6745/? E/libprocessgroup: failed to make and chown /acct/uid_10058: Read-only file system","title":"Failed resolution of: Lcom/google/common/collect/ImmutableMap; at com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(","body":"<p>I am getting this issue after integrating Dagger 2 to implement dependency injection of ImageDownloader library while running the app.</p>\n\n<p>This is what I did:</p>\n\n<p>In build.gradle. I added these lines:</p>\n\n<pre><code>implementation \"com.google.dagger:dagger:2.16\"\nimplementation \"com.google.dagger:dagger-android-support:2.16\"\nannotationProcessor \"com.google.dagger:dagger-compiler:2.16\"\nannotationProcessor \"com.google.dagger:dagger-android-processor:2.16\"\n</code></pre>\n\n<p>This is my class API in which I wanted to separate dependencies from the activity class:</p>\n\n<pre><code>public class ImageDownloaderApi {\n\n    @Inject\n    public ImageDownloaderApi(){\n    }\n\n    //some other methods here\n}\n</code></pre>\n\n<p>In my <code>MainActivity</code> I added these lines:</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n    @Inject\n    ImageDownloaderApi imageDownloaderApi;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        AndroidInjection.inject(this);\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n\n<p>Then created an <code>Application</code> object:</p>\n\n<pre><code>public class MyApplication extends Application {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n}\n</code></pre>\n\n<p>Then registered the <code>Application</code> class via the manifest like this:</p>\n\n<pre><code>&lt;application\n    android:name=\".MyApplication\"\n</code></pre>\n\n<p>I created a module named <code>MyApplicationModule</code> like this:</p>\n\n<pre><code>@Module\npublic abstract class MyApplicationModule {\n    @ContributesAndroidInjector\n    abstract MainActivity contributeActivityInjector();\n}\n</code></pre>\n\n<p>I created an interface named <code>MyApplicationComponent</code>:</p>\n\n<pre><code>@Component(modules = { AndroidInjectionModule.class, MyApplicationModule.class})\npublic interface MyApplicationComponent extends AndroidInjector&lt;MyApplication&gt; {\n}\n</code></pre>\n\n<p><code>MyApplication</code> class:</p>\n\n<pre><code>public class MyApplication extends Application implements HasActivityInjector {\n    @Inject\n    DispatchingAndroidInjector&lt;Activity&gt; dispatchingAndroidInjector;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        DaggerMyApplicationComponent.create().inject(this);\n    }\n\n    @Override\n    public DispatchingAndroidInjector&lt;Activity&gt; activityInjector() {\n        return dispatchingAndroidInjector;\n    }\n}\n</code></pre>\n\n<p>Now after this implementation when I run the app in the emulator, the app crashes with the following logs:</p>\n\n<pre><code>  --------- beginning of crash\n11-20 14:51:03.201 6745-6745/com.my.app E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.my.app, PID: 6745\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/common/collect/ImmutableMap;\n    at com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(DaggerMyApplicationComponent.java:36)\n    at com.my.app.di.DaggerMyApplicationComponent.getDispatchingAndroidInjectorOfActivity(DaggerMyApplicationComponent.java:42)\n    at com.my.app.di.DaggerMyApplicationComponent.injectMyApplication(DaggerMyApplicationComponent.java:68)\n    at com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:62)\n    at com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:16)\n    at com.my.app.di.MyApplication.onCreate(MyApplication.java:19)\n    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1012)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4553)\n    at android.app.ActivityThread.access$1500(ActivityThread.java:151)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1364)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:135)\n    at android.app.ActivityThread.main(ActivityThread.java:5254)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.google.common.collect.ImmutableMap\" on path: DexPathList[[zip file \"/data/app/com.my.app-1/base.apk\"],nativeLibraryDirectories=[/data/app/com.my.app-1/lib/x86, /vendor/lib, /system/lib]]\n    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:511)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:469)\n    at com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(DaggerMyApplicationComponent.java:36) \n    at com.my.app.di.DaggerMyApplicationComponent.getDispatchingAndroidInjectorOfActivity(DaggerMyApplicationComponent.java:42) \n    at com.my.app.di.DaggerMyApplicationComponent.injectMyApplication(DaggerMyApplicationComponent.java:68) \n    at com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:62) \n    at com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:16) \n    at com.my.app.di.MyApplication.onCreate(MyApplication.java:19) \n    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1012) \n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4553) \n    at android.app.ActivityThread.access$1500(ActivityThread.java:151) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1364) \n    at android.os.Handler.dispatchMessage(Handler.java:102) \n    at android.os.Looper.loop(Looper.java:135) \n    at android.app.ActivityThread.main(ActivityThread.java:5254) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at java.lang.reflect.Method.invoke(Method.java:372) \n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) \n        Suppressed: java.lang.ClassNotFoundException: com.google.common.collect.ImmutableMap\n    at java.lang.Class.classForName(Native Method)\n    at java.lang.BootClassLoader.findClass(ClassLoader.java:781)\n    at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:504)\n            ... 18 more\n     Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack available\n</code></pre>\n\n<p>For additional info. I am also getting this warning line before the logs i posted above</p>\n\n<pre><code>11-20 14:51:03.172 6745-6745/? E/libprocessgroup: failed to make and chown /acct/uid_10058: Read-only file system\n</code></pre>\n"},{"tags":["java","azure-devops","azure-pipelines","sonatype","nexus-iq"],"comments":[{"owner":{"account_id":10291434,"reputation":3048,"user_id":7593083,"accept_rate":86,"display_name":"Maryann Atakpa"},"score":0,"creation_date":1662547659,"post_id":70218995,"comment_id":130029507,"body_markdown":"Did you find a solution to this?","body":"Did you find a solution to this?"},{"owner":{"account_id":17662980,"reputation":41,"user_id":12824396,"display_name":"alexis19apl"},"score":0,"creation_date":1667470946,"post_id":70218995,"comment_id":131176315,"body_markdown":"Hi @Emmac, yes, I did update the java version in our testing server to 14, that solved the issue, hope this helps you as well","body":"Hi @Emmac, yes, I did update the java version in our testing server to 14, that solved the issue, hope this helps you as well"},{"owner":{"account_id":10291434,"reputation":3048,"user_id":7593083,"accept_rate":86,"display_name":"Maryann Atakpa"},"score":0,"creation_date":1667476350,"post_id":70218995,"comment_id":131178153,"body_markdown":"Thanks Alexis. This was what worked for me also to resolve this issue.","body":"Thanks Alexis. This was what worked for me also to resolve this issue."}],"answers":[{"tags":[],"owner":{"account_id":17662980,"reputation":41,"user_id":12824396,"display_name":"alexis19apl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678880145,"creation_date":1678880145,"answer_id":75744154,"question_id":70218995,"body_markdown":"# Solution for this threat\r\nWe performed an update of the **java version** in our testing server to **version 14**, which solved the issue, hope this helps you all the community as well","title":"Azure DevOps NexusIQ task &#39;Error from CLI Command failed with exit code 1: java -jar&#39;","body":"<h1>Solution for this threat</h1>\n<p>We performed an update of the <strong>java version</strong> in our testing server to <strong>version 14</strong>, which solved the issue, hope this helps you all the community as well</p>\n"}],"owner":{"account_id":17662980,"reputation":41,"user_id":12824396,"display_name":"alexis19apl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75744154,"answer_count":1,"score":2,"last_activity_date":1678880894,"creation_date":1638555419,"question_id":70218995,"body_markdown":"# What do I want to accomplish? #\r\n&#39;*Hello to the incredible community of StackOverflow*&#39;\r\n\r\nScan the **packages** of our code with **NexusIQ Task**, in an **Azure DevOps Services Pipeline**\r\n\r\n## Environment ##\r\n\r\n 1. **Azure DevOps Services**--&gt;Pipelines--&gt;Task--&gt;**NexusIQ**\r\n \r\n 2. **NexusIQ Task Parameter(s)**:\r\n\r\n - **Service Connection** = Stablished and whitelisted\r\n\r\n - **Scan Targets** = `**/*.jar, **/*.war, **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll`\r\n\r\n## Error output ##\r\nPerforming the **Scan** of our code the last bit throws the next error:\r\n\r\n`Error from CLI: Error: Command failed with exit code 1: java -jar`\r\n\r\n## Error log detailed ##\r\n`Error from CLI: Error: Command failed with exit code 1: java -jar F:\\AzureAgents\\Agent01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.19\\resources\\nexus-iq-cli-1.128.0-01.jar @F:\\AzureAgents\\Agent01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.19\\resources\\cli-params.txt\r\n`\r\n##  Troubleshooting details ##\r\n - I did test changing the **Scan Tartget** from `**/*.jar, **/*.war,\r\n   **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll` to `**/*.war, **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll`\r\n - As can be seen above the `**/*.jar` **file extension** was removed but either way the error output remains the same:\r\n\r\n`Error from CLI: Error: Command failed with exit code 1: java -jar F:\\AzureServicesAgents\\AgentU01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.21\\resources\\nexus-iq-cli-1.128.0-01.jar @F:\\AzureServicesAgents\\AgentU01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.21\\resources\\cli-params.txt`\r\n\r\n","title":"Azure DevOps NexusIQ task &#39;Error from CLI Command failed with exit code 1: java -jar&#39;","body":"<h1>What do I want to accomplish?</h1>\n<p>'<em>Hello to the incredible community of StackOverflow</em>'</p>\n<p>Scan the <strong>packages</strong> of our code with <strong>NexusIQ Task</strong>, in an <strong>Azure DevOps Services Pipeline</strong></p>\n<h2>Environment</h2>\n<ol>\n<li><p><strong>Azure DevOps Services</strong>--&gt;Pipelines--&gt;Task--&gt;<strong>NexusIQ</strong></p>\n</li>\n<li><p><strong>NexusIQ Task Parameter(s)</strong>:</p>\n</li>\n</ol>\n<ul>\n<li><p><strong>Service Connection</strong> = Stablished and whitelisted</p>\n</li>\n<li><p><strong>Scan Targets</strong> = <code>**/*.jar, **/*.war, **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll</code></p>\n</li>\n</ul>\n<h2>Error output</h2>\n<p>Performing the <strong>Scan</strong> of our code the last bit throws the next error:</p>\n<p><code>Error from CLI: Error: Command failed with exit code 1: java -jar</code></p>\n<h2>Error log detailed</h2>\n<p><code>Error from CLI: Error: Command failed with exit code 1: java -jar F:\\AzureAgents\\Agent01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.19\\resources\\nexus-iq-cli-1.128.0-01.jar @F:\\AzureAgents\\Agent01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.19\\resources\\cli-params.txt </code></p>\n<h2>Troubleshooting details</h2>\n<ul>\n<li>I did test changing the <strong>Scan Tartget</strong> from <code>**/*.jar, **/*.war, **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll</code> to <code>**/*.war, **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll</code></li>\n<li>As can be seen above the <code>**/*.jar</code> <strong>file extension</strong> was removed but either way the error output remains the same:</li>\n</ul>\n<p><code>Error from CLI: Error: Command failed with exit code 1: java -jar F:\\AzureServicesAgents\\AgentU01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.21\\resources\\nexus-iq-cli-1.128.0-01.jar @F:\\AzureServicesAgents\\AgentU01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.21\\resources\\cli-params.txt</code></p>\n"},{"tags":["java","logging","spring-cloud-sleuth","zipkin"],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676377817,"creation_date":1676377817,"answer_id":75447857,"question_id":75436884,"body_markdown":"There&#39;s nothing else there in Sleuth / Micrometer Tracing better than what you&#39;re currently doing as a custom solution","title":"How to propagate updated baggage key back to client from remote server? || spring cloud sleuth","body":"<p>There's nothing else there in Sleuth / Micrometer Tracing better than what you're currently doing as a custom solution</p>\n"},{"tags":[],"owner":{"account_id":4278417,"reputation":1,"user_id":3498496,"display_name":"Ramazan Guner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678880599,"creation_date":1678826034,"answer_id":75738125,"question_id":75436884,"body_markdown":"All services can use a filter class. If request has a baggage field, filter concats -&gt; and appRoute of current service. If there is no baggage field, filter sets appRoute of current service.\r\n\r\nFor example;\r\n&lt;br&gt;\r\nif A calls B and B calls C :\r\n&lt;br&gt;\r\n*A service output:*\r\n&lt;br&gt;\r\nRoute=A\r\n&lt;br&gt;\r\n*B service output:*\r\n&lt;br&gt;\r\nRoute=A-&gt;B\r\n&lt;br&gt;\r\n*C service output:*\r\nRoute:A-&gt;B-&gt;C\r\n&lt;br&gt;\r\n\r\napplication.yaml file for A service:\r\n-----------------------\r\n    spring:\r\n      application:\r\n        name: A-service\r\n      sleuth:\r\n        baggage:\r\n          remote-fields: app-route\r\n          correlation-enabled: true\r\n          correlation-fields: app-route\r\n    system:\r\n      app-route:\r\n       name: A\r\nOther services system.app-route.name value could be B and C\r\n\r\nConfiguration for injecting BaggageField\r\n------------------------------------------\r\n    @Configuration\r\n    public class SleuthConfiguration {\r\n\r\n         @Bean\r\n         BaggageField appRouteField() {\r\n            return BaggageField.create(&quot;app-route&quot;);\r\n         }\r\n    }\r\n\r\nFilter class for all services:\r\n------------------------------------------\r\n    public class LogFilter implements Filter {\r\n\r\n    @Autowired\r\n    private BaggageField appRouteBaggageField;\r\n\r\n    @Value(value = &quot;${system.app-route.name:}&quot;)\r\n    private String appRouteName;\r\n\r\n    @Value(value = &quot;${spring.application.name:-}&quot;)\r\n    private String applicationName;\r\n\r\n    private String appName;\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) {\r\n        appName = (appRouteName == null || appRouteName.isEmpty()) ? applicationName : appRouteName;\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) {\r\n        updateAppRouteBaggageField();\r\n        logger.info(&quot;Route={}&quot;,appRouteBaggageField.getValue());\r\n    }\r\n\r\n    private void updateAppRouteBaggageField() {\r\n        String appRouteBaggageFieldValue = appRouteBaggageField.getValue();\r\n        appRouteBaggageField.updateValue((appRouteBaggageFieldValue == null || appRouteBaggageFieldValue.isEmpty())\r\n                ? appName : (appRouteBaggageFieldValue + &quot;-&gt;&quot; + appName));\r\n    }\r\n    }\r\n\r\nbuild.gradle file:\r\n------------------\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-sleuth&#39;\r\n\r\n","title":"How to propagate updated baggage key back to client from remote server? || spring cloud sleuth","body":"<p>All services can use a filter class. If request has a baggage field, filter concats -&gt; and appRoute of current service. If there is no baggage field, filter sets appRoute of current service.</p>\n<p>For example;\n<br>\nif A calls B and B calls C :\n<br>\n<em>A service output:</em>\n<br>\nRoute=A\n<br>\n<em>B service output:</em>\n<br>\nRoute=A-&gt;B\n<br>\n<em>C service output:</em>\nRoute:A-&gt;B-&gt;C\n<br></p>\n<h2>application.yaml file for A service:</h2>\n<pre><code>spring:\n  application:\n    name: A-service\n  sleuth:\n    baggage:\n      remote-fields: app-route\n      correlation-enabled: true\n      correlation-fields: app-route\nsystem:\n  app-route:\n   name: A\n</code></pre>\n<p>Other services system.app-route.name value could be B and C</p>\n<h2>Configuration for injecting BaggageField</h2>\n<pre><code>@Configuration\npublic class SleuthConfiguration {\n\n     @Bean\n     BaggageField appRouteField() {\n        return BaggageField.create(&quot;app-route&quot;);\n     }\n}\n</code></pre>\n<h2>Filter class for all services:</h2>\n<pre><code>public class LogFilter implements Filter {\n\n@Autowired\nprivate BaggageField appRouteBaggageField;\n\n@Value(value = &quot;${system.app-route.name:}&quot;)\nprivate String appRouteName;\n\n@Value(value = &quot;${spring.application.name:-}&quot;)\nprivate String applicationName;\n\nprivate String appName;\n\n@Override\npublic void init(FilterConfig filterConfig) {\n    appName = (appRouteName == null || appRouteName.isEmpty()) ? applicationName : appRouteName;\n}\n\n@Override\npublic void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) {\n    updateAppRouteBaggageField();\n    logger.info(&quot;Route={}&quot;,appRouteBaggageField.getValue());\n}\n\nprivate void updateAppRouteBaggageField() {\n    String appRouteBaggageFieldValue = appRouteBaggageField.getValue();\n    appRouteBaggageField.updateValue((appRouteBaggageFieldValue == null || appRouteBaggageFieldValue.isEmpty())\n            ? appName : (appRouteBaggageFieldValue + &quot;-&gt;&quot; + appName));\n}\n}\n</code></pre>\n<h2>build.gradle file:</h2>\n<pre><code>implementation 'org.springframework.cloud:spring-cloud-starter-sleuth'\n</code></pre>\n"}],"owner":{"account_id":7843297,"reputation":117,"user_id":5929089,"display_name":"Adi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75447857,"answer_count":2,"score":0,"last_activity_date":1678880599,"creation_date":1676296983,"question_id":75436884,"body_markdown":"We are currently using spring cloud sleuth for trace context propagation throughout our microservices and it is working perfectly fine.\r\n\r\nI have one requirement where let us say we have three services **A,B and C** and for every request we receive, we create one custom [baggage key][1] at service A and propogate it through B and C.\r\n\r\nhere is the ask, the flow of any request is like **A-&gt;B-&gt;C**\r\n. \r\nI want to update the Baggage key in service B and propagate this update to A so that server A will start printing new Baggage key in its trace context once it receives response from B.\r\n\r\nAs a custom solution, we can receive this updated baggage key in the response header and set it on the trace context but I am looking for more clean approach to handle this through sping cloud sleuth.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/project-features.html#features-baggage","title":"How to propagate updated baggage key back to client from remote server? || spring cloud sleuth","body":"<p>We are currently using spring cloud sleuth for trace context propagation throughout our microservices and it is working perfectly fine.</p>\n<p>I have one requirement where let us say we have three services <strong>A,B and C</strong> and for every request we receive, we create one custom <a href=\"https://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/project-features.html#features-baggage\" rel=\"nofollow noreferrer\">baggage key</a> at service A and propogate it through B and C.</p>\n<p>here is the ask, the flow of any request is like <strong>A-&gt;B-&gt;C</strong>\n.\nI want to update the Baggage key in service B and propagate this update to A so that server A will start printing new Baggage key in its trace context once it receives response from B.</p>\n<p>As a custom solution, we can receive this updated baggage key in the response header and set it on the trace context but I am looking for more clean approach to handle this through sping cloud sleuth.</p>\n"},{"tags":["java","jboss"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1678886010,"post_id":75744232,"comment_id":133619459,"body_markdown":"Are you storing these conf. files inside the exploded WAR file? Because if they need to be modifiable, that&#39;s a terrible practice. As you&#39;ve seen, every redeploy can cause the current contents to be replaced. Try storing the config files outside of the WAR file, and refer to the location using a system property defined in JBoss that the application can read.","body":"Are you storing these conf. files inside the exploded WAR file? Because if they need to be modifiable, that&#39;s a terrible practice. As you&#39;ve seen, every redeploy can cause the current contents to be replaced. Try storing the config files outside of the WAR file, and refer to the location using a system property defined in JBoss that the application can read."},{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1678886982,"post_id":75744232,"comment_id":133619775,"body_markdown":"When you restart your jboss, you have to deploy the application if you want to run it. If you want to remove the application from jboss - just remove the war. There is no way to have the application without deploying it","body":"When you restart your jboss, you have to deploy the application if you want to run it. If you want to remove the application from jboss - just remove the war. There is no way to have the application without deploying it"},{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1678888421,"post_id":75744232,"comment_id":133620280,"body_markdown":"The scanner can be set not to auto-deploy","body":"The scanner can be set not to auto-deploy"},{"owner":{"account_id":6782356,"reputation":66,"user_id":5222152,"display_name":"alexkidd"},"score":0,"creation_date":1678897936,"post_id":75744232,"comment_id":133623515,"body_markdown":"@ehsavoie ty for the reply, I tried to Scan Enabled = false. But at that time it&#39;s not auto-starting the application. You have to reach the management console and start the app yourself.\nI need a configuration that will not redeploy my .war file in cases where it is necessary to restart the server.","body":"@ehsavoie ty for the reply, I tried to Scan Enabled = false. But at that time it&#39;s not auto-starting the application. You have to reach the management console and start the app yourself. I need a configuration that will not redeploy my .war file in cases where it is necessary to restart the server."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1678984378,"post_id":75744232,"comment_id":133642901,"body_markdown":"Note that if your application is not deployed it won&#39;t work. There is a deployment process that occurs when a deployment is found. This can be disable, however the server will effectively not have the deployment.","body":"Note that if your application is not deployed it won&#39;t work. There is a deployment process that occurs when a deployment is found. This can be disable, however the server will effectively not have the deployment."}],"owner":{"account_id":6782356,"reputation":66,"user_id":5222152,"display_name":"alexkidd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678880574,"creation_date":1678880574,"question_id":75744232,"body_markdown":"I&#39;m using JBoss 7.2 eap (WIN10) for a project. Whenever I restart the JBoss for some reason, it redeploys my .war file. This situation causes rewrite my conf. files. I searched for some resources and questions about this topic. So I change the &quot;deployment scanner subsystem&quot; config default to this from standalone.xml. But it still redeploys my .war file after the restart. How can I solve this?\r\n\r\n**Auto Deploy Exploded**\r\n*false*\r\n\r\n**Auto Deploy Xml**\r\n*true*\r\n\r\n**Auto Deploy Zipped**\r\n*false*\r\n\r\n**Deployment Timeout**\r\n*600*\r\n\r\n**Path**\r\n*deployments*\r\n\r\n**Relative To**\r\n*jboss.server.base.dir*\r\n\r\n**Runtime Failure Causes Rollback**\r\n*${jboss.deployment.scanner.rollback.on.failure:false}*\r\n\r\n**Scan Enabled**\r\n*true*\r\n\r\n**Scan Interval** \r\n*5000*","title":"How to disable .war redeploy when JBoss 7.2 restart?","body":"<p>I'm using JBoss 7.2 eap (WIN10) for a project. Whenever I restart the JBoss for some reason, it redeploys my .war file. This situation causes rewrite my conf. files. I searched for some resources and questions about this topic. So I change the &quot;deployment scanner subsystem&quot; config default to this from standalone.xml. But it still redeploys my .war file after the restart. How can I solve this?</p>\n<p><strong>Auto Deploy Exploded</strong>\n<em>false</em></p>\n<p><strong>Auto Deploy Xml</strong>\n<em>true</em></p>\n<p><strong>Auto Deploy Zipped</strong>\n<em>false</em></p>\n<p><strong>Deployment Timeout</strong>\n<em>600</em></p>\n<p><strong>Path</strong>\n<em>deployments</em></p>\n<p><strong>Relative To</strong>\n<em>jboss.server.base.dir</em></p>\n<p><strong>Runtime Failure Causes Rollback</strong>\n<em>${jboss.deployment.scanner.rollback.on.failure:false}</em></p>\n<p><strong>Scan Enabled</strong>\n<em>true</em></p>\n<p><strong>Scan Interval</strong>\n<em>5000</em></p>\n"},{"tags":["java","spring","hibernate","lazydatamodel"],"owner":{"account_id":6678367,"reputation":1,"user_id":5152329,"display_name":"FATİH Okyay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678880473,"creation_date":1678873964,"question_id":75743037,"body_markdown":"The problem is that when a person&#39;s Doctorate school information changes, other school information also changes. İt has degree title, school and department values. For example, the Master&#39;s, Bachelor&#39;s, Associate&#39;s and high school information cannot be changed through the web interface until the doctorate values are changed. When Doctorate values changed, Master&#39;s, Bachelor&#39;s, Associate&#39;s and high school values changed in the same way as Doctorate values on website.\r\n\r\nI am new at Java and can&#39;t figure Hibernate or lazy model caused it.\r\n\r\n```\r\npublic boolean merge(EmployeeEducationInfo obj) {\r\n\tthis.highSchool.merge(obj.getHighSchool());\r\n\tthis.associate.merge(obj.getAssociate());\r\n\tthis.bachelor.merge(obj.getBachelor());\r\n\tthis.master.merge(obj.getMaster());\r\n\tthis.doctoral.merge(obj.getDoctoral());\r\n\r\n\tif(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\r\n\t     this.setEducationStatus(obj.getEducationStatus());\r\n\t}\r\n\tif(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\r\n\t     this.setShortDescription(obj.getShortDescription());\r\n\t}\r\n\tif(this.getDescription().compareTo(obj.getDescription()) != 0) {\r\n\t     this.setDescription(obj.getDescription());\r\n\t}\r\n    \r\n    return true;\r\n}\r\n```\r\nWhen I comment this line `this.doctoral.merge(obj.getDoctoral());` and enter new values on web site, Master&#39;s values now replace license and other values. When I comment the Master&#39;s` //this.master.merge(obj.getMaster());`, Bachelor&#39;s, Associate&#39;s and high school lines respectively by one by, all the values are corrected when I get rid of the comment line. but it only happens for one person, the same error is repeated for a new person on the website.\r\n\r\n```\r\n@With\r\n@Getter\r\n@AllArgsConstructor\r\n@Table(name = &quot;----&quot;, schema = &quot;---&quot;)\r\n@Entity(name = &quot;EmployeeEducationInfo&quot;)\r\n@EqualsAndHashCode(callSuper = false)\r\npublic class EmployeeEducationInfo extends BaseEntity {\r\n\r\n\tprivate static final long serialVersionUID = -1644326415323600803L;\r\n\r\n\t@NonNull\r\n\t@Id\r\n\t@Column(name = &quot;ID&quot;, unique = true)\r\n\t@GeneratedValue(generator = &quot;employeeEducationInfoSequence&quot;)\r\n\t@GenericGenerator(name = &quot;employeeEducationInfoSequence&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;, parameters = {\r\n\t\t\t@Parameter(name = &quot;---&quot;, value = &quot;---&quot;),\r\n\t\t\t@Parameter(name = &quot;---&quot;, value = &quot;1000&quot;), @Parameter(name = &quot;---&quot;, value = &quot;1&quot;),\r\n\t\t\t@Parameter(name = &quot;---&quot;, value = &quot;---&quot;) })\r\n\tprivate Integer id;\r\n\r\n\tpublic EmployeeEducationInfo() {\r\n\t\tdescription = &quot; &quot;;\r\n\t\tshortDescription = &quot; &quot;;\r\n\t}\r\n\r\n\tpublic void setHighSchool(  EmployeeDegreeInfo newhighSchool) {\r\n\t    this. highSchool = newhighSchool;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;HIGH_SCHOOL_DEGREE_ID&quot;)\r\n\tprivate EmployeeDegreeInfo highSchool;\r\n\t\r\n\tpublic void setAssociate(EmployeeDegreeInfo newAssociate) {\r\n\t    this.associate = newAssociate;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;ASSOCIATE_DEGREE_ID&quot;)\r\n\tprivate EmployeeDegreeInfo associate;\r\n\t\r\n\tpublic void setBachelor(EmployeeDegreeInfo newBachelor) {\r\n\t    this.bachelor = newBachelor;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;BACHELOR_DEGREE_ID&quot;, nullable = false, unique = true)\r\n\tprivate EmployeeDegreeInfo bachelor;\r\n\t\r\n\tpublic void setMaster(EmployeeDegreeInfo newMaster) {\r\n\t    this.master = newMaster;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;MASTER_DEGREE_ID&quot;, nullable = false, unique = true)\r\n\tprivate EmployeeDegreeInfo master;\r\n\r\n\tpublic void setDoctoral(EmployeeDegreeInfo newDoctoral) {\r\n\t    this.doctoral = newDoctoral;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;DOCTORAL_DEGREE_ID&quot;, nullable = false, unique = true)\r\n\tprivate EmployeeDegreeInfo doctoral;\r\n\r\n\tpublic void setEducationStatus(EducationStatus newEducationStatus) {\r\n\t    this.educationStatus = newEducationStatus;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(targetEntity = EducationStatus.class, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;EDUCATION_STATUS_ID&quot;, nullable = false)\r\n\tprivate EducationStatus educationStatus;\r\n\r\n\tpublic int compareTo(EmployeeEducationInfo other) {\r\n\t\treturn this.description.compareTo(other.getDescription());\r\n\t}\r\n\r\n\tpublic EmployeeEducationInfo clone() {\r\n\t\tEmployeeEducationInfo clone = withId(getId());\r\n\r\n\t\tif (getHighSchool() != null) {\r\n\t\t\tclone.setHighSchool(getHighSchool());\r\n\t\t}\r\n\r\n\t\tif (getAssociate() != null) {\r\n\t\t\tclone.setAssociate(getAssociate());\r\n\t\t}\r\n\r\n\t\tif (getBachelor() != null) {\r\n\t\t\tclone.setBachelor(getBachelor());\r\n\t\t}\r\n\r\n\t\tif (getMaster() != null) {\r\n\t\t\tclone.setMaster(getMaster());\r\n\t\t}\r\n\r\n\t\tif (getDoctoral() != null) {\r\n\t\t\tclone.setDoctoral(getDoctoral());\r\n\t\t}\r\n\r\n\t\tif (getEducationStatus() != null) {\r\n\t\t\tclone.setEducationStatus(getEducationStatus());\r\n\t\t}\r\n\r\n\t\treturn clone;\r\n\t}\r\n\t\r\n\tpublic boolean haveDifference(EmployeeEducationInfo obj) {\r\n\t\treturn !(this.id.compareTo(obj.getId()) == 0\r\n\t\t\t\t&amp;&amp; this.educationStatus.getId().compareTo(obj.getEducationStatus().getId()) == 0\r\n\t\t\t\t&amp;&amp; this.shortDescription.compareTo(obj.getShortDescription()) == 0\r\n\t\t\t\t&amp;&amp; this.description.compareTo(obj.getDescription()) == 0);\r\n\t}\r\n\t\r\n\tpublic boolean merge(EmployeeEducationInfo obj) {\r\n//\t\tif(!haveDifference(obj)) {\r\n//\t\t\treturn false;\r\n//\t\t}\r\n\t\t\r\n\t\tthis.highSchool.merge(obj.getHighSchool());\r\n\t\tthis.associate.merge(obj.getAssociate());\r\n\t\tthis.bachelor.merge(obj.getBachelor());\r\n\t\tthis.master.merge(obj.getMaster());\r\n\t\tthis.doctoral.merge(obj.getDoctoral());\r\n\t\t\r\n\t\tif(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\r\n\t\t     this.setEducationStatus(obj.getEducationStatus());\r\n\t\t}\r\n\t\tif(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\r\n\t\t     this.setShortDescription(obj.getShortDescription());\r\n\t\t}\r\n\t\tif(this.getDescription().compareTo(obj.getDescription()) != 0) {\r\n\t\t     this.setDescription(obj.getDescription());\r\n\t\t}\r\n\t    \r\n\t    return true;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n@With\r\n@Getter \r\n@AllArgsConstructor\r\n@Table(name = &quot;---&quot;, schema = &quot;---&quot;)\r\n@Entity(name = &quot;-----&quot;)\r\n@EqualsAndHashCode(callSuper = false)\r\npublic class EmployeeDegreeInfo extends BaseEntity {\r\n\tprivate static final long serialVersionUID = -1644326415323600803L;\r\n\r\n\t@NonNull\r\n\t@Id\r\n\t@Column(name = &quot;ID&quot;, unique = true)\r\n\t@GenericGenerator(name = &quot;employeeDegreeInfoSequence&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;, parameters = {\r\n\t    @Parameter(name = &quot;---&quot;, value = &quot;----&quot;),\r\n\t    @Parameter(name = &quot;---&quot;, value = &quot;1000&quot;),\r\n        @Parameter(name = &quot;-----&quot;, value = &quot;1&quot;),\r\n        @Parameter(name = &quot;-----&quot;, value = &quot;----&quot;)\r\n\t})\r\n\t@GeneratedValue(generator = &quot;employeeDegreeInfoSequence&quot;)\r\n\tprivate Integer id;\r\n\t\r\n\tpublic EmployeeDegreeInfo() {\r\n\t\tdescription      = &quot; &quot;;\r\n\t\tshortDescription = &quot; &quot;;\r\n\t}\r\n\t\r\n\tpublic void setGraduationDate(Date newGraduationDate) {\r\n\t    this.graduationDate = newGraduationDate;\r\n\t}\r\n\r\n\t@Temporal(TemporalType.DATE)\r\n\t@Column(name = &quot;GRADUATION_DATE&quot;)\r\n\tprivate Date graduationDate;\r\n\t\r\n\tpublic void setDegree( Degree newDegree) {\r\n\t    this.degree = newDegree;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@ManyToOne(optional = false, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;DEGREE_ID&quot;, nullable = false)\r\n\tprivate Degree degree;\r\n\t\r\n\tpublic void setDegreeTitle(DegreeTitle newDegreeTitle) {\r\n\t    this.degreeTitle = newDegreeTitle;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@ManyToOne(optional = false, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;DEGREE_TITLE_ID&quot;, nullable = false)\r\n\tprivate DegreeTitle degreeTitle;\r\n\t\r\n\tpublic void setSchool(School newSchool) {\r\n\t    this.school = newSchool;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@ManyToOne(optional = false, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;SCHOOL_ID&quot;)\r\n\tprivate School school;\r\n\t\r\n\tpublic void setEducationStatus(EducationStatus neweducationStatus) {\r\n\t    this.educationStatus = neweducationStatus;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@ManyToOne(optional = false, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;EDUCATION_STATUS_ID&quot;)\r\n\tprivate EducationStatus educationStatus;\r\n\t\r\n\tpublic int compareTo(EmployeeDegreeInfo other) {\r\n\t\treturn this.description.compareTo(other.getDescription());\r\n    }\r\n\t\r\n\tpublic EmployeeDegreeInfo clone() {\r\n\t\tEmployeeDegreeInfo clone = withId(getId());\r\n\t\t\r\n\t\tif(getDegree() != null) {\r\n\t\t\tclone.setDegree(getDegree());\r\n\t\t}\r\n\t\t\r\n\t\tif(getSchool() != null) {\r\n\t\t\tclone.setSchool(getSchool());\r\n\t\t}\r\n    \t\r\n\t\tif(getEducationStatus() != null) {\r\n\t\t\tclone.setEducationStatus(getEducationStatus().clone());\r\n\t\t}\r\n\t\t\r\n\t\treturn clone;\r\n\t}\r\n\t\r\n\tpublic boolean merge(EmployeeDegreeInfo obj) {\r\n\t\tif(compareDatesWithNullControl(this.graduationDate, obj.getGraduationDate()) != 0) {\r\n\t\t     this.setGraduationDate(obj.getGraduationDate());\r\n\t\t}\r\n\t\tif(this.getDegree().getId().compareTo(obj.getDegree().getId()) != 0) {\r\n\t\t     this.setDegree(obj.getDegree());\r\n\t\t}\r\n\t\tif(this.getDegreeTitle().getId().compareTo(obj.getDegreeTitle().getId()) != 0) {\r\n\t\t     this.setDegreeTitle(obj.getDegreeTitle());\r\n\t\t}\r\n\t\tif(this.getSchool().getId().compareTo(obj.getSchool().getId()) != 0) {\r\n\t\t     this.setSchool(obj.getSchool());\r\n\t\t}\r\n\t\tif(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\r\n\t\t     this.setEducationStatus(obj.getEducationStatus());\r\n\t\t}\r\n\t\tif(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\r\n\t\t     this.setShortDescription(obj.getShortDescription());\r\n\t\t}\r\n\t\tif(this.getDescription().compareTo(obj.getDescription()) != 0) {\r\n\t\t     this.setDescription(obj.getDescription());\r\n\t\t}\r\n\t    \r\n\t    return true;\r\n\t}\r\n}\r\n```\r\n\r\nOn these pages I tried to code setters instead of lazy model. İt doesn&#39;t work.","title":"The values of one object affect and change the values of other objects","body":"<p>The problem is that when a person's Doctorate school information changes, other school information also changes. İt has degree title, school and department values. For example, the Master's, Bachelor's, Associate's and high school information cannot be changed through the web interface until the doctorate values are changed. When Doctorate values changed, Master's, Bachelor's, Associate's and high school values changed in the same way as Doctorate values on website.</p>\n<p>I am new at Java and can't figure Hibernate or lazy model caused it.</p>\n<pre><code>public boolean merge(EmployeeEducationInfo obj) {\n    this.highSchool.merge(obj.getHighSchool());\n    this.associate.merge(obj.getAssociate());\n    this.bachelor.merge(obj.getBachelor());\n    this.master.merge(obj.getMaster());\n    this.doctoral.merge(obj.getDoctoral());\n\n    if(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\n         this.setEducationStatus(obj.getEducationStatus());\n    }\n    if(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\n         this.setShortDescription(obj.getShortDescription());\n    }\n    if(this.getDescription().compareTo(obj.getDescription()) != 0) {\n         this.setDescription(obj.getDescription());\n    }\n    \n    return true;\n}\n</code></pre>\n<p>When I comment this line <code>this.doctoral.merge(obj.getDoctoral());</code> and enter new values on web site, Master's values now replace license and other values. When I comment the Master's<code> //this.master.merge(obj.getMaster());</code>, Bachelor's, Associate's and high school lines respectively by one by, all the values are corrected when I get rid of the comment line. but it only happens for one person, the same error is repeated for a new person on the website.</p>\n<pre><code>@With\n@Getter\n@AllArgsConstructor\n@Table(name = &quot;----&quot;, schema = &quot;---&quot;)\n@Entity(name = &quot;EmployeeEducationInfo&quot;)\n@EqualsAndHashCode(callSuper = false)\npublic class EmployeeEducationInfo extends BaseEntity {\n\n    private static final long serialVersionUID = -1644326415323600803L;\n\n    @NonNull\n    @Id\n    @Column(name = &quot;ID&quot;, unique = true)\n    @GeneratedValue(generator = &quot;employeeEducationInfoSequence&quot;)\n    @GenericGenerator(name = &quot;employeeEducationInfoSequence&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;, parameters = {\n            @Parameter(name = &quot;---&quot;, value = &quot;---&quot;),\n            @Parameter(name = &quot;---&quot;, value = &quot;1000&quot;), @Parameter(name = &quot;---&quot;, value = &quot;1&quot;),\n            @Parameter(name = &quot;---&quot;, value = &quot;---&quot;) })\n    private Integer id;\n\n    public EmployeeEducationInfo() {\n        description = &quot; &quot;;\n        shortDescription = &quot; &quot;;\n    }\n\n    public void setHighSchool(  EmployeeDegreeInfo newhighSchool) {\n        this. highSchool = newhighSchool;\n    }\n\n    @NonNull\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;HIGH_SCHOOL_DEGREE_ID&quot;)\n    private EmployeeDegreeInfo highSchool;\n    \n    public void setAssociate(EmployeeDegreeInfo newAssociate) {\n        this.associate = newAssociate;\n    }\n\n    @NonNull\n    @OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;ASSOCIATE_DEGREE_ID&quot;)\n    private EmployeeDegreeInfo associate;\n    \n    public void setBachelor(EmployeeDegreeInfo newBachelor) {\n        this.bachelor = newBachelor;\n    }\n\n    @NonNull\n    @OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;BACHELOR_DEGREE_ID&quot;, nullable = false, unique = true)\n    private EmployeeDegreeInfo bachelor;\n    \n    public void setMaster(EmployeeDegreeInfo newMaster) {\n        this.master = newMaster;\n    }\n\n    @NonNull\n    @OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;MASTER_DEGREE_ID&quot;, nullable = false, unique = true)\n    private EmployeeDegreeInfo master;\n\n    public void setDoctoral(EmployeeDegreeInfo newDoctoral) {\n        this.doctoral = newDoctoral;\n    }\n\n    @NonNull\n    @OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;DOCTORAL_DEGREE_ID&quot;, nullable = false, unique = true)\n    private EmployeeDegreeInfo doctoral;\n\n    public void setEducationStatus(EducationStatus newEducationStatus) {\n        this.educationStatus = newEducationStatus;\n    }\n\n    @NonNull\n    @OneToOne(targetEntity = EducationStatus.class, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;EDUCATION_STATUS_ID&quot;, nullable = false)\n    private EducationStatus educationStatus;\n\n    public int compareTo(EmployeeEducationInfo other) {\n        return this.description.compareTo(other.getDescription());\n    }\n\n    public EmployeeEducationInfo clone() {\n        EmployeeEducationInfo clone = withId(getId());\n\n        if (getHighSchool() != null) {\n            clone.setHighSchool(getHighSchool());\n        }\n\n        if (getAssociate() != null) {\n            clone.setAssociate(getAssociate());\n        }\n\n        if (getBachelor() != null) {\n            clone.setBachelor(getBachelor());\n        }\n\n        if (getMaster() != null) {\n            clone.setMaster(getMaster());\n        }\n\n        if (getDoctoral() != null) {\n            clone.setDoctoral(getDoctoral());\n        }\n\n        if (getEducationStatus() != null) {\n            clone.setEducationStatus(getEducationStatus());\n        }\n\n        return clone;\n    }\n    \n    public boolean haveDifference(EmployeeEducationInfo obj) {\n        return !(this.id.compareTo(obj.getId()) == 0\n                &amp;&amp; this.educationStatus.getId().compareTo(obj.getEducationStatus().getId()) == 0\n                &amp;&amp; this.shortDescription.compareTo(obj.getShortDescription()) == 0\n                &amp;&amp; this.description.compareTo(obj.getDescription()) == 0);\n    }\n    \n    public boolean merge(EmployeeEducationInfo obj) {\n//      if(!haveDifference(obj)) {\n//          return false;\n//      }\n        \n        this.highSchool.merge(obj.getHighSchool());\n        this.associate.merge(obj.getAssociate());\n        this.bachelor.merge(obj.getBachelor());\n        this.master.merge(obj.getMaster());\n        this.doctoral.merge(obj.getDoctoral());\n        \n        if(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\n             this.setEducationStatus(obj.getEducationStatus());\n        }\n        if(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\n             this.setShortDescription(obj.getShortDescription());\n        }\n        if(this.getDescription().compareTo(obj.getDescription()) != 0) {\n             this.setDescription(obj.getDescription());\n        }\n        \n        return true;\n    }\n}\n</code></pre>\n<pre><code>@With\n@Getter \n@AllArgsConstructor\n@Table(name = &quot;---&quot;, schema = &quot;---&quot;)\n@Entity(name = &quot;-----&quot;)\n@EqualsAndHashCode(callSuper = false)\npublic class EmployeeDegreeInfo extends BaseEntity {\n    private static final long serialVersionUID = -1644326415323600803L;\n\n    @NonNull\n    @Id\n    @Column(name = &quot;ID&quot;, unique = true)\n    @GenericGenerator(name = &quot;employeeDegreeInfoSequence&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;, parameters = {\n        @Parameter(name = &quot;---&quot;, value = &quot;----&quot;),\n        @Parameter(name = &quot;---&quot;, value = &quot;1000&quot;),\n        @Parameter(name = &quot;-----&quot;, value = &quot;1&quot;),\n        @Parameter(name = &quot;-----&quot;, value = &quot;----&quot;)\n    })\n    @GeneratedValue(generator = &quot;employeeDegreeInfoSequence&quot;)\n    private Integer id;\n    \n    public EmployeeDegreeInfo() {\n        description      = &quot; &quot;;\n        shortDescription = &quot; &quot;;\n    }\n    \n    public void setGraduationDate(Date newGraduationDate) {\n        this.graduationDate = newGraduationDate;\n    }\n\n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;GRADUATION_DATE&quot;)\n    private Date graduationDate;\n    \n    public void setDegree( Degree newDegree) {\n        this.degree = newDegree;\n    }\n\n    @NonNull\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;DEGREE_ID&quot;, nullable = false)\n    private Degree degree;\n    \n    public void setDegreeTitle(DegreeTitle newDegreeTitle) {\n        this.degreeTitle = newDegreeTitle;\n    }\n\n    @NonNull\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;DEGREE_TITLE_ID&quot;, nullable = false)\n    private DegreeTitle degreeTitle;\n    \n    public void setSchool(School newSchool) {\n        this.school = newSchool;\n    }\n\n    @NonNull\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;SCHOOL_ID&quot;)\n    private School school;\n    \n    public void setEducationStatus(EducationStatus neweducationStatus) {\n        this.educationStatus = neweducationStatus;\n    }\n\n    @NonNull\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;EDUCATION_STATUS_ID&quot;)\n    private EducationStatus educationStatus;\n    \n    public int compareTo(EmployeeDegreeInfo other) {\n        return this.description.compareTo(other.getDescription());\n    }\n    \n    public EmployeeDegreeInfo clone() {\n        EmployeeDegreeInfo clone = withId(getId());\n        \n        if(getDegree() != null) {\n            clone.setDegree(getDegree());\n        }\n        \n        if(getSchool() != null) {\n            clone.setSchool(getSchool());\n        }\n        \n        if(getEducationStatus() != null) {\n            clone.setEducationStatus(getEducationStatus().clone());\n        }\n        \n        return clone;\n    }\n    \n    public boolean merge(EmployeeDegreeInfo obj) {\n        if(compareDatesWithNullControl(this.graduationDate, obj.getGraduationDate()) != 0) {\n             this.setGraduationDate(obj.getGraduationDate());\n        }\n        if(this.getDegree().getId().compareTo(obj.getDegree().getId()) != 0) {\n             this.setDegree(obj.getDegree());\n        }\n        if(this.getDegreeTitle().getId().compareTo(obj.getDegreeTitle().getId()) != 0) {\n             this.setDegreeTitle(obj.getDegreeTitle());\n        }\n        if(this.getSchool().getId().compareTo(obj.getSchool().getId()) != 0) {\n             this.setSchool(obj.getSchool());\n        }\n        if(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\n             this.setEducationStatus(obj.getEducationStatus());\n        }\n        if(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\n             this.setShortDescription(obj.getShortDescription());\n        }\n        if(this.getDescription().compareTo(obj.getDescription()) != 0) {\n             this.setDescription(obj.getDescription());\n        }\n        \n        return true;\n    }\n}\n</code></pre>\n<p>On these pages I tried to code setters instead of lazy model. İt doesn't work.</p>\n"},{"tags":["java","arraylist","hashmap","set"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678867888,"post_id":75741797,"comment_id":133614455,"body_markdown":"as commented in code `// if all indices match, set allMismatch to false` - `&quot;cherry&quot;` does not match `&quot;cherries&quot;` -&gt; not all indices match -&gt; allMismatch is not set to false (BTW no CSV, no file related question)","body":"as commented in code <code>&#47;&#47; if all indices match, set allMismatch to false</code> - <code>&quot;cherry&quot;</code> does not match <code>&quot;cherries&quot;</code> -&gt; not all indices match -&gt; allMismatch is not set to false (BTW no CSV, no file related question)"},{"owner":{"account_id":22027676,"reputation":1,"user_id":16295416,"display_name":"Hariharan Murugan"},"score":0,"creation_date":1678868557,"post_id":75741797,"comment_id":133614630,"body_markdown":"@user16320675 thanks for your quick reply ! , yes in the above list only cherry is not matching with cherries where as the other two (apple and banana ) are matching so it shouldnt be considered as a missing list, it is a mismatchedata","body":"@user16320675 thanks for your quick reply ! , yes in the above list only cherry is not matching with cherries where as the other two (apple and banana ) are matching so it shouldnt be considered as a missing list, it is a mismatchedata"},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1678869128,"post_id":75741797,"comment_id":133614800,"body_markdown":"Precisely define &quot;missing list&quot; and &quot;mistmatch data&quot; first, please. With the help of &quot;some match&quot;, &quot;all match&quot;, &quot;no match&quot; or alike at least.","body":"Precisely define &quot;missing list&quot; and &quot;mistmatch data&quot; first, please. With the help of &quot;some match&quot;, &quot;all match&quot;, &quot;no match&quot; or alike at least."},{"owner":{"account_id":22027676,"reputation":1,"user_id":16295416,"display_name":"Hariharan Murugan"},"score":0,"creation_date":1678870208,"post_id":75741797,"comment_id":133615084,"body_markdown":"@user16320675 if all the elements of prelist is not matched then it should be considered as missing list other wise it&#39;s a mistmatch. For example instead of cherries if it is a mango then also it should be considered as a mismatch not a missinglist","body":"@user16320675 if all the elements of prelist is not matched then it should be considered as missing list other wise it&#39;s a mistmatch. For example instead of cherries if it is a mango then also it should be considered as a mismatch not a missinglist"}],"answers":[{"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678880296,"creation_date":1678880296,"answer_id":75744181,"question_id":75741797,"body_markdown":"Maybe someone else can resolve it by using stream to simplify your code, but anyway it works now and hopefully, it helps you to resolve the problem! Good luck \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.function.Consumer;\r\n    \r\n    \r\n    public class CSVFileComparison {\r\n        public static void main(String[] args) {\r\n            List&lt;List&lt;String&gt;&gt; preCSV = new ArrayList&lt;&gt;();\r\n            List&lt;List&lt;String&gt;&gt; postCSV = new ArrayList&lt;&gt;();\r\n    \r\n            // Add data to preCSV\r\n            List&lt;String&gt; preList1 = new ArrayList&lt;&gt;();\r\n            preList1.add(&quot;apple&quot;);\r\n            preList1.add(&quot;cherries&quot;);\r\n            preList1.add(&quot;banana&quot;);\r\n            preCSV.add(preList1);\r\n    \r\n            List&lt;String&gt; preList2 = new ArrayList&lt;&gt;();\r\n            preList2.add(&quot;orange&quot;);\r\n            preList2.add(&quot;pear&quot;);\r\n            preList2.add(&quot;grape&quot;);\r\n            preCSV.add(preList2);\r\n    \r\n            List&lt;String&gt; preList3 = new ArrayList&lt;&gt;();\r\n            preList3.add(&quot;watermelon&quot;);\r\n            preList3.add(&quot;kiwi&quot;);\r\n            preList3.add(&quot;pineapple&quot;);\r\n            preCSV.add(preList3);\r\n    \r\n            // Add data to postCSV\r\n            List&lt;String&gt; postList1 = new ArrayList&lt;&gt;();\r\n            postList1.add(&quot;apple&quot;);\r\n            postList1.add(&quot;banana&quot;);\r\n            postList1.add(&quot;cherry&quot;);\r\n            postCSV.add(postList1);\r\n    \r\n            List&lt;String&gt; postList2 = new ArrayList&lt;&gt;();\r\n            postList2.add(&quot;orange&quot;);\r\n            postList2.add(&quot;pear&quot;);\r\n            postList2.add(&quot;grape&quot;);\r\n            postCSV.add(postList2);\r\n    \r\n            List&lt;List&lt;String&gt;&gt; missingLists = new ArrayList&lt;&gt;();\r\n            List&lt;List&lt;String&gt;&gt; mismatchedData= new ArrayList&lt;&gt;();\r\n    \r\n            Consumer&lt;List&lt;String&gt;&gt; searchList = element -&gt; {\r\n                boolean isfound = false;\r\n                boolean isEqual = false;\r\n                for (List&lt;String&gt; list : postCSV) {\r\n                    List&lt;String&gt; listCopy = new ArrayList&lt;&gt;(list);\r\n                    listCopy.retainAll(element);\r\n                    if (listCopy.size() &gt; 0 &amp;&amp; listCopy.size() != list.size()) {\r\n                        isfound = true;\r\n                    } else if (listCopy.size() == element.size()) {\r\n                        isEqual = true;\r\n                    }\r\n                }\r\n                if (isfound)\r\n                    mismatchedData.add(element);\r\n                else if (!isEqual)\r\n                    missingLists.add(element);\r\n            };\r\n    \r\n            preCSV.stream().forEach(searchList);\r\n    \r\n    \r\n    \r\n            System.out.println(missingLists); // Output: 1\r\n            System.out.println(mismatchedData); // Output: 1\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Compare two List&lt;List&lt;String&gt;&gt; in java and find the incorrect data and missing rows","body":"<p>Maybe someone else can resolve it by using stream to simplify your code, but anyway it works now and hopefully, it helps you to resolve the problem! Good luck</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.Consumer;\n\n\npublic class CSVFileComparison {\n    public static void main(String[] args) {\n        List&lt;List&lt;String&gt;&gt; preCSV = new ArrayList&lt;&gt;();\n        List&lt;List&lt;String&gt;&gt; postCSV = new ArrayList&lt;&gt;();\n\n        // Add data to preCSV\n        List&lt;String&gt; preList1 = new ArrayList&lt;&gt;();\n        preList1.add(&quot;apple&quot;);\n        preList1.add(&quot;cherries&quot;);\n        preList1.add(&quot;banana&quot;);\n        preCSV.add(preList1);\n\n        List&lt;String&gt; preList2 = new ArrayList&lt;&gt;();\n        preList2.add(&quot;orange&quot;);\n        preList2.add(&quot;pear&quot;);\n        preList2.add(&quot;grape&quot;);\n        preCSV.add(preList2);\n\n        List&lt;String&gt; preList3 = new ArrayList&lt;&gt;();\n        preList3.add(&quot;watermelon&quot;);\n        preList3.add(&quot;kiwi&quot;);\n        preList3.add(&quot;pineapple&quot;);\n        preCSV.add(preList3);\n\n        // Add data to postCSV\n        List&lt;String&gt; postList1 = new ArrayList&lt;&gt;();\n        postList1.add(&quot;apple&quot;);\n        postList1.add(&quot;banana&quot;);\n        postList1.add(&quot;cherry&quot;);\n        postCSV.add(postList1);\n\n        List&lt;String&gt; postList2 = new ArrayList&lt;&gt;();\n        postList2.add(&quot;orange&quot;);\n        postList2.add(&quot;pear&quot;);\n        postList2.add(&quot;grape&quot;);\n        postCSV.add(postList2);\n\n        List&lt;List&lt;String&gt;&gt; missingLists = new ArrayList&lt;&gt;();\n        List&lt;List&lt;String&gt;&gt; mismatchedData= new ArrayList&lt;&gt;();\n\n        Consumer&lt;List&lt;String&gt;&gt; searchList = element -&gt; {\n            boolean isfound = false;\n            boolean isEqual = false;\n            for (List&lt;String&gt; list : postCSV) {\n                List&lt;String&gt; listCopy = new ArrayList&lt;&gt;(list);\n                listCopy.retainAll(element);\n                if (listCopy.size() &gt; 0 &amp;&amp; listCopy.size() != list.size()) {\n                    isfound = true;\n                } else if (listCopy.size() == element.size()) {\n                    isEqual = true;\n                }\n            }\n            if (isfound)\n                mismatchedData.add(element);\n            else if (!isEqual)\n                missingLists.add(element);\n        };\n\n        preCSV.stream().forEach(searchList);\n\n\n\n        System.out.println(missingLists); // Output: 1\n        System.out.println(mismatchedData); // Output: 1\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22027676,"reputation":1,"user_id":16295416,"display_name":"Hariharan Murugan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678880296,"creation_date":1678866486,"question_id":75741797,"body_markdown":"\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n        List&lt;List&lt;String&gt;&gt; preCSV = new ArrayList&lt;&gt;();\r\n        List&lt;List&lt;String&gt;&gt; postCSV = new ArrayList&lt;&gt;();\r\n\r\n        // Add data to preCSV\r\n        List&lt;String&gt; preList1 = new ArrayList&lt;&gt;();\r\n        preList1.add(&quot;apple&quot;);\r\n        preList1.add(&quot;banana&quot;);\r\n        preList1.add(&quot;cherries&quot;);\r\n        preCSV.add(preList1);\r\n\r\n        List&lt;String&gt; preList2 = new ArrayList&lt;&gt;();\r\n        preList2.add(&quot;orange&quot;);\r\n        preList2.add(&quot;pear&quot;);\r\n        preList2.add(&quot;grape&quot;);\r\n        preCSV.add(preList2);\r\n\r\n        List&lt;String&gt; preList3 = new ArrayList&lt;&gt;();\r\n        preList3.add(&quot;watermelon&quot;);\r\n        preList3.add(&quot;kiwi&quot;);\r\n        preList3.add(&quot;pineapple&quot;);\r\n        preCSV.add(preList3);\r\n\r\n       // Add data to postCSV\r\n        List&lt;String&gt; postList1 = new ArrayList&lt;&gt;();\r\n        postList1.add(&quot;apple&quot;);\r\n        postList1.add(&quot;banana&quot;);\r\n        postList1.add(&quot;cherry&quot;);\r\n        postCSV.add(postList1);\r\n\r\n        List&lt;String&gt; postList2 = new ArrayList&lt;&gt;();\r\n        postList2.add(&quot;orange&quot;);\r\n        postList2.add(&quot;pear&quot;);\r\n        postList2.add(&quot;grape&quot;);\r\n        postCSV.add(postList2);\r\n\r\n        List&lt;List&lt;String&gt;&gt; missingLists = new ArrayList&lt;&gt;();\r\n        List&lt;List&lt;String&gt;&gt; mismatchedData= new ArrayList&lt;&gt;();\r\n\r\n\r\n        for (int i = 0; i &lt; preCSV.size(); i++) {\r\n            List&lt;String&gt; preList = preCSV.get(i);\r\n            boolean rowFound = false;\r\n            for (List&lt;String&gt; postList : postCSV) {\r\n                if (preList.size() == postList.size() &amp;&amp; preList.equals(postList)) {\r\n                    rowFound = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!rowFound) {\r\n                boolean allMismatch = true; // assume all indices mismatch\r\n                for (int j = 0; j &lt; postCSV.size(); j++) {\r\n                    List&lt;String&gt; postList = postCSV.get(j);\r\n                    int mismatch = 0;\r\n                    if (preList.size() == postList.size()) {\r\n                        for (int k = 0; k &lt; preList.size(); k++) {\r\n                            if (!preList.get(k).equals(postList.get(k))) {\r\n                                mismatch++;\r\n                                break; // break as soon as a mismatch is found\r\n                            }\r\n                        }\r\n                        if (mismatch == 0) { // if all indices match, set allMismatch to false\r\n                            allMismatch = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (allMismatch) { // add preList to missingLists if all indices mismatch\r\n                    missingLists.add(preList);\r\n                }\r\n            }\r\n        }\r\n\r\n        System.out.println(missingLists.size()); // Output: 1\r\n        System.out.println(missingLists.get(0)+&quot; &quot;+ missingLists.get(1)); // Output should only contain [watermelon, kiwi, pineapple]\r\n\r\n\r\n    }\r\n\r\n```\r\n\r\n\r\nThe above code consider prelist1 as a missing list but it should not be considered as missinglist it should be a mismatched data\r\n\r\n\r\n**Actual Output:** missing contains [apple, banana, cherries] [watermelon, kiwi, pineapple]\r\n**Expected Output:**\r\nmissingLists = [watermelon, kiwi, pineapple]  and \r\nmismatchedData = [apple, banana, cherries]","title":"Compare two List&lt;List&lt;String&gt;&gt; in java and find the incorrect data and missing rows","body":"<pre><code>public static void main(String[] args) throws Exception {\n        List&lt;List&lt;String&gt;&gt; preCSV = new ArrayList&lt;&gt;();\n        List&lt;List&lt;String&gt;&gt; postCSV = new ArrayList&lt;&gt;();\n\n        // Add data to preCSV\n        List&lt;String&gt; preList1 = new ArrayList&lt;&gt;();\n        preList1.add(&quot;apple&quot;);\n        preList1.add(&quot;banana&quot;);\n        preList1.add(&quot;cherries&quot;);\n        preCSV.add(preList1);\n\n        List&lt;String&gt; preList2 = new ArrayList&lt;&gt;();\n        preList2.add(&quot;orange&quot;);\n        preList2.add(&quot;pear&quot;);\n        preList2.add(&quot;grape&quot;);\n        preCSV.add(preList2);\n\n        List&lt;String&gt; preList3 = new ArrayList&lt;&gt;();\n        preList3.add(&quot;watermelon&quot;);\n        preList3.add(&quot;kiwi&quot;);\n        preList3.add(&quot;pineapple&quot;);\n        preCSV.add(preList3);\n\n       // Add data to postCSV\n        List&lt;String&gt; postList1 = new ArrayList&lt;&gt;();\n        postList1.add(&quot;apple&quot;);\n        postList1.add(&quot;banana&quot;);\n        postList1.add(&quot;cherry&quot;);\n        postCSV.add(postList1);\n\n        List&lt;String&gt; postList2 = new ArrayList&lt;&gt;();\n        postList2.add(&quot;orange&quot;);\n        postList2.add(&quot;pear&quot;);\n        postList2.add(&quot;grape&quot;);\n        postCSV.add(postList2);\n\n        List&lt;List&lt;String&gt;&gt; missingLists = new ArrayList&lt;&gt;();\n        List&lt;List&lt;String&gt;&gt; mismatchedData= new ArrayList&lt;&gt;();\n\n\n        for (int i = 0; i &lt; preCSV.size(); i++) {\n            List&lt;String&gt; preList = preCSV.get(i);\n            boolean rowFound = false;\n            for (List&lt;String&gt; postList : postCSV) {\n                if (preList.size() == postList.size() &amp;&amp; preList.equals(postList)) {\n                    rowFound = true;\n                    break;\n                }\n            }\n            if (!rowFound) {\n                boolean allMismatch = true; // assume all indices mismatch\n                for (int j = 0; j &lt; postCSV.size(); j++) {\n                    List&lt;String&gt; postList = postCSV.get(j);\n                    int mismatch = 0;\n                    if (preList.size() == postList.size()) {\n                        for (int k = 0; k &lt; preList.size(); k++) {\n                            if (!preList.get(k).equals(postList.get(k))) {\n                                mismatch++;\n                                break; // break as soon as a mismatch is found\n                            }\n                        }\n                        if (mismatch == 0) { // if all indices match, set allMismatch to false\n                            allMismatch = false;\n                            break;\n                        }\n                    }\n                }\n                if (allMismatch) { // add preList to missingLists if all indices mismatch\n                    missingLists.add(preList);\n                }\n            }\n        }\n\n        System.out.println(missingLists.size()); // Output: 1\n        System.out.println(missingLists.get(0)+&quot; &quot;+ missingLists.get(1)); // Output should only contain [watermelon, kiwi, pineapple]\n\n\n    }\n\n</code></pre>\n<p>The above code consider prelist1 as a missing list but it should not be considered as missinglist it should be a mismatched data</p>\n<p><strong>Actual Output:</strong> missing contains [apple, banana, cherries] [watermelon, kiwi, pineapple]\n<strong>Expected Output:</strong>\nmissingLists = [watermelon, kiwi, pineapple]  and\nmismatchedData = [apple, banana, cherries]</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1427096513,"creation_date":1427095981,"answer_id":29205130,"question_id":29204840,"body_markdown":"You need to copy the &quot;provider-configuration file&quot; into your test class directory.\r\n\r\nassuming your test class files are located at \r\n\r\n    test/classes/\r\n\r\nyou need to copy the &quot;provider-configuration file&quot; to \r\n\r\n    test/classes/META-INF/services/your.package.ContextPlugin\r\n\r\nHow to copy the files depend on your build tool (e.g. maven, gradle, ant, ...)\r\n\r\nAs example for maven you should store them in the test resources folder.\r\n\r\n    src/test/resources/META-INF/services/your.package.ContextPlugin","title":"Unit test ServiceLoader","body":"<p>You need to copy the \"provider-configuration file\" into your test class directory.</p>\n\n<p>assuming your test class files are located at </p>\n\n<pre><code>test/classes/\n</code></pre>\n\n<p>you need to copy the \"provider-configuration file\" to </p>\n\n<pre><code>test/classes/META-INF/services/your.package.ContextPlugin\n</code></pre>\n\n<p>How to copy the files depend on your build tool (e.g. maven, gradle, ant, ...)</p>\n\n<p>As example for maven you should store them in the test resources folder.</p>\n\n<pre><code>src/test/resources/META-INF/services/your.package.ContextPlugin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357783,"reputation":5010,"user_id":698168,"display_name":"Julien Kronegg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678880153,"creation_date":1678880153,"answer_id":75744158,"question_id":29204840,"body_markdown":"# One test configuration\r\nIf you have only one configuration to test, you can use a `test/resources/META-INF/services/mypackage.MyInterface` file, see @SubOptimal answer. However, if you need to test more than one configuration, this approach does not work. \r\n\r\n# Multiple test configurations\r\nTo test more than configuration, I&#39;m using a custom classloader which overrides the `META-INF/services/mypackage.MyInterface`. Basically, you use this classloader as parameter in `ServiceLoader.load(MyInterface.class, customClassLoader)`.\r\n\r\nThe advantage of this approach is that it does not rely on mocking libraries such as Mockito or Powermock.\r\n\r\nTo create a classloader without `META-INF/services/mypackage.MyInterface` file:\r\n\r\n    new ServiceLoaderTestClassLoader(MyInterface.class)\r\n\r\nTo create a classloader with a `META-INF/services/mypackage.MyInterface` file containing two lines with classes `SubClassOfMyInterface` and `OtherSubClassOfMyInterface`:\r\n\r\n    new ServiceLoaderTestClassLoader(MyInterface.class, SubClassOfMyInterface.class, OtherSubClassOfMyInterface.class) \r\n\r\nThis is the custom classloader source code:\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.URL;\r\n    import java.net.URLClassLoader;\r\n    import java.net.URLConnection;\r\n    import java.net.URLStreamHandler;\r\n    import java.util.Collections;\r\n    import java.util.Enumeration;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    /**\r\n     * Testing classloader for ServiceLoader.\r\n     * This classloader overrides the META-INF/services/&lt;interface&gt; file with a custom definition.\r\n     */\r\n    public class ServiceLoaderTestClassLoader extends URLClassLoader {\r\n        Class&lt;?&gt; metaInfInterface;\r\n        Class&lt;?&gt;[] implementingClasses;\r\n    \r\n        /**\r\n         * Constructs a classloader which has no META-INF/services/&lt;metaInfInterface&gt;.\r\n         *\r\n         * @param metaInfInterface ServiceLoader interface\r\n         */\r\n        public ServiceLoaderTestClassLoader(Class&lt;?&gt; metaInfInterface) {\r\n            this(metaInfInterface, (Class&lt;?&gt;[]) null);\r\n        }\r\n    \r\n        /**\r\n         * Constructs a fake META-INF/services/&lt;metaInfInterface&gt; file which contains the provided array of classes.\r\n         * When the implementingClasses array is null, the META-INF file will not be constructed.\r\n         * The classes from implementingClasses are not required to implement the metaInfInterface.\r\n         *\r\n         * @param metaInfInterface    ServiceLoader interface\r\n         * @param implementingClasses potential subclasses of the ServiceLoader metaInfInterface\r\n         */\r\n        public ServiceLoaderTestClassLoader(Class&lt;?&gt; metaInfInterface, Class&lt;?&gt;... implementingClasses) {\r\n            super(new URL[0], metaInfInterface.getClassLoader());\r\n            if (!metaInfInterface.isInterface()) {\r\n                throw new IllegalArgumentException(&quot;the META-INF service &quot; + metaInfInterface + &quot; should be an interface&quot;);\r\n            }\r\n            this.metaInfInterface = metaInfInterface;\r\n            this.implementingClasses = implementingClasses;\r\n        }\r\n    \r\n        @Override\r\n        public Enumeration&lt;URL&gt; getResources(String name) throws IOException {\r\n            if (name.equals(&quot;META-INF/services/&quot; + metaInfInterface.getName())) {\r\n                if (implementingClasses == null) {\r\n                    return Collections.emptyEnumeration();\r\n                }\r\n                URL url = new URL(&quot;foo&quot;, &quot;bar&quot;, 99, &quot;/foobar&quot;, new URLStreamHandler() {\r\n                    @Override\r\n                    protected URLConnection openConnection(URL u) {\r\n                    return new URLConnection(u) {\r\n                        @Override\r\n                        public void connect() {\r\n                        }\r\n    \r\n                        @Override\r\n                        public InputStream getInputStream() throws IOException {\r\n                            return new ByteArrayInputStream(Stream.of(implementingClasses)\r\n                                    .map(Class::getName)\r\n                                    .collect(Collectors.joining(&quot;\\n&quot;))\r\n                                    .getBytes());\r\n                        }\r\n                    };\r\n                    }\r\n                });\r\n    \r\n                return new Enumeration&lt;&gt;() {\r\n                    boolean hasNext = true;\r\n    \r\n                    @Override\r\n                    public boolean hasMoreElements() {\r\n                        return hasNext;\r\n                    }\r\n    \r\n                    @Override\r\n                    public URL nextElement() {\r\n                        hasNext = false;\r\n                        return url;\r\n                    }\r\n                };\r\n            }\r\n            return super.getResources(name);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Unit test ServiceLoader","body":"<h1>One test configuration</h1>\n<p>If you have only one configuration to test, you can use a <code>test/resources/META-INF/services/mypackage.MyInterface</code> file, see @SubOptimal answer. However, if you need to test more than one configuration, this approach does not work.</p>\n<h1>Multiple test configurations</h1>\n<p>To test more than configuration, I'm using a custom classloader which overrides the <code>META-INF/services/mypackage.MyInterface</code>. Basically, you use this classloader as parameter in <code>ServiceLoader.load(MyInterface.class, customClassLoader)</code>.</p>\n<p>The advantage of this approach is that it does not rely on mocking libraries such as Mockito or Powermock.</p>\n<p>To create a classloader without <code>META-INF/services/mypackage.MyInterface</code> file:</p>\n<pre><code>new ServiceLoaderTestClassLoader(MyInterface.class)\n</code></pre>\n<p>To create a classloader with a <code>META-INF/services/mypackage.MyInterface</code> file containing two lines with classes <code>SubClassOfMyInterface</code> and <code>OtherSubClassOfMyInterface</code>:</p>\n<pre><code>new ServiceLoaderTestClassLoader(MyInterface.class, SubClassOfMyInterface.class, OtherSubClassOfMyInterface.class) \n</code></pre>\n<p>This is the custom classloader source code:</p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.net.URLClassLoader;\nimport java.net.URLConnection;\nimport java.net.URLStreamHandler;\nimport java.util.Collections;\nimport java.util.Enumeration;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\n/**\n * Testing classloader for ServiceLoader.\n * This classloader overrides the META-INF/services/&lt;interface&gt; file with a custom definition.\n */\npublic class ServiceLoaderTestClassLoader extends URLClassLoader {\n    Class&lt;?&gt; metaInfInterface;\n    Class&lt;?&gt;[] implementingClasses;\n\n    /**\n     * Constructs a classloader which has no META-INF/services/&lt;metaInfInterface&gt;.\n     *\n     * @param metaInfInterface ServiceLoader interface\n     */\n    public ServiceLoaderTestClassLoader(Class&lt;?&gt; metaInfInterface) {\n        this(metaInfInterface, (Class&lt;?&gt;[]) null);\n    }\n\n    /**\n     * Constructs a fake META-INF/services/&lt;metaInfInterface&gt; file which contains the provided array of classes.\n     * When the implementingClasses array is null, the META-INF file will not be constructed.\n     * The classes from implementingClasses are not required to implement the metaInfInterface.\n     *\n     * @param metaInfInterface    ServiceLoader interface\n     * @param implementingClasses potential subclasses of the ServiceLoader metaInfInterface\n     */\n    public ServiceLoaderTestClassLoader(Class&lt;?&gt; metaInfInterface, Class&lt;?&gt;... implementingClasses) {\n        super(new URL[0], metaInfInterface.getClassLoader());\n        if (!metaInfInterface.isInterface()) {\n            throw new IllegalArgumentException(&quot;the META-INF service &quot; + metaInfInterface + &quot; should be an interface&quot;);\n        }\n        this.metaInfInterface = metaInfInterface;\n        this.implementingClasses = implementingClasses;\n    }\n\n    @Override\n    public Enumeration&lt;URL&gt; getResources(String name) throws IOException {\n        if (name.equals(&quot;META-INF/services/&quot; + metaInfInterface.getName())) {\n            if (implementingClasses == null) {\n                return Collections.emptyEnumeration();\n            }\n            URL url = new URL(&quot;foo&quot;, &quot;bar&quot;, 99, &quot;/foobar&quot;, new URLStreamHandler() {\n                @Override\n                protected URLConnection openConnection(URL u) {\n                return new URLConnection(u) {\n                    @Override\n                    public void connect() {\n                    }\n\n                    @Override\n                    public InputStream getInputStream() throws IOException {\n                        return new ByteArrayInputStream(Stream.of(implementingClasses)\n                                .map(Class::getName)\n                                .collect(Collectors.joining(&quot;\\n&quot;))\n                                .getBytes());\n                    }\n                };\n                }\n            });\n\n            return new Enumeration&lt;&gt;() {\n                boolean hasNext = true;\n\n                @Override\n                public boolean hasMoreElements() {\n                    return hasNext;\n                }\n\n                @Override\n                public URL nextElement() {\n                    hasNext = false;\n                    return url;\n                }\n            };\n        }\n        return super.getResources(name);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1506669,"reputation":585,"user_id":1409896,"accept_rate":73,"display_name":"Prabhath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5286,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":29205130,"answer_count":2,"score":13,"last_activity_date":1678880153,"creation_date":1427094522,"question_id":29204840,"body_markdown":"I have a method that uses `ServiceLoader` to load services using resources.\r\n    \r\n    public List&lt;String&gt; getContextData(int Id)\r\n    {\r\n      List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n      ServiceLoader&lt;ContextPlugin&gt; serviceLoader =  ServiceLoader.load(ContextPlugin.class);\r\n      for (Iterator&lt;ContextPlugin&gt; iterator = serviceLoader.iterator(); iterator.hasNext();)\r\n      {\r\n        list .addAll(iterator.next().getContextData(Id));\r\n      }\r\n      return list;\r\n    }\r\n\r\nHow should I unit test above method using Junit?","title":"Unit test ServiceLoader","body":"<p>I have a method that uses <code>ServiceLoader</code> to load services using resources.</p>\n\n<pre><code>public List&lt;String&gt; getContextData(int Id)\n{\n  List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n  ServiceLoader&lt;ContextPlugin&gt; serviceLoader =  ServiceLoader.load(ContextPlugin.class);\n  for (Iterator&lt;ContextPlugin&gt; iterator = serviceLoader.iterator(); iterator.hasNext();)\n  {\n    list .addAll(iterator.next().getContextData(Id));\n  }\n  return list;\n}\n</code></pre>\n\n<p>How should I unit test above method using Junit?</p>\n"},{"tags":["java","android-studio","android-fragments"],"owner":{"account_id":28007541,"reputation":1,"user_id":21390682,"display_name":"Sharmika Mahesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678879788,"creation_date":1678878452,"question_id":75743891,"body_markdown":"I want to implement just 3 fixed tabs in my application to profile fragment to tab layout fragment.\r\n\r\nIn my VPadapter class I&#39;m getting this error:\r\n\r\n```\r\nFragmentStatePagerAdapter(android.support.v4.app.FragmentManager)in android.support.v4.app.FragmentStatePagerAdapter cant be applied \r\n```\r\n\r\n`VPadapter class`\r\n\r\n```\r\npackage com.app.greenmoon;\r\n\r\nimport  android.support.v4.app.FragmentManager;\r\nimport android.support.v4.app.Fragment;\r\nimport android.support.v4.app.FragmentStatePagerAdapter;\r\n\r\npublic class VPAdapter extends FragmentStatePagerAdapter {\r\n    public VPAdapter(ProfileFragment fm) {\r\n        super(fm); // got error in this line\r\n    }\r\n\r\n    @Override\r\n    public Fragment getItem(int i) {\r\n        switch (i){\r\n            case 0:\r\n                return new ArticleFragment();\r\n            case 1:\r\n                return new SpeciesFragment();\r\n            case 2:\r\n                return new LikesFragment();\r\n            default:\r\n                return new SpeciesFragment();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return 3;\r\n    }\r\n}\r\n```\r\n\r\n**Why is that error caused and how to solve it?**","title":"How to solve this FragmentStatePagerAdapter(android.support.v4.app.FragmentManager)in android.support.v4.app.FragmentStatePagerAdapter cant be applied","body":"<p>I want to implement just 3 fixed tabs in my application to profile fragment to tab layout fragment.</p>\n<p>In my VPadapter class I'm getting this error:</p>\n<pre><code>FragmentStatePagerAdapter(android.support.v4.app.FragmentManager)in android.support.v4.app.FragmentStatePagerAdapter cant be applied \n</code></pre>\n<p><code>VPadapter class</code></p>\n<pre><code>package com.app.greenmoon;\n\nimport  android.support.v4.app.FragmentManager;\nimport android.support.v4.app.Fragment;\nimport android.support.v4.app.FragmentStatePagerAdapter;\n\npublic class VPAdapter extends FragmentStatePagerAdapter {\n    public VPAdapter(ProfileFragment fm) {\n        super(fm); // got error in this line\n    }\n\n    @Override\n    public Fragment getItem(int i) {\n        switch (i){\n            case 0:\n                return new ArticleFragment();\n            case 1:\n                return new SpeciesFragment();\n            case 2:\n                return new LikesFragment();\n            default:\n                return new SpeciesFragment();\n        }\n    }\n\n    @Override\n    public int getCount() {\n        return 3;\n    }\n}\n</code></pre>\n<p><strong>Why is that error caused and how to solve it?</strong></p>\n"},{"tags":["java","spring","spring-boot","tomcat","keycloak"],"comments":[{"owner":{"account_id":2558390,"reputation":3993,"user_id":2219920,"accept_rate":71,"display_name":"Pulkit"},"score":0,"creation_date":1629462187,"post_id":68861416,"comment_id":121699641,"body_markdown":"can you share the keycloak configuration also.","body":"can you share the keycloak configuration also."}],"answers":[{"tags":[],"owner":{"account_id":22834154,"reputation":1,"user_id":16982151,"display_name":"ZZ_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632386713,"creation_date":1632385291,"answer_id":69296431,"question_id":68861416,"body_markdown":"I have the same problem as you.I found that I use tomcat keycloak adapter, but I also import the springboot-keycloak-adapter in `pom.xml`, I deleted this in my `pom.xml`, package again and `deploy.my` program works fine... Maybe you could check it out. ","title":"Keycloak error with Spring Boot: &quot;not a subtype&quot; on tomcat","body":"<p>I have the same problem as you.I found that I use tomcat keycloak adapter, but I also import the springboot-keycloak-adapter in <code>pom.xml</code>, I deleted this in my <code>pom.xml</code>, package again and <code>deploy.my</code> program works fine... Maybe you could check it out.</p>\n"},{"tags":[],"owner":{"account_id":21910001,"reputation":247,"user_id":16194563,"display_name":"Ramya Musunuru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678879770,"creation_date":1678879770,"answer_id":75744091,"question_id":68861416,"body_markdown":"org.keycloak.adapters.authorization.cip.ClaimsInformationPointProviderFactory **not a subtype**\r\n\r\nThis means that the class ClaimsInformationPointProviderFactory is loaded differently/conflicting in the tomcat and in your application.\r\n**Solution for this is to Check for the jar in tomcat/lib and delete it and restart the server**","title":"Keycloak error with Spring Boot: &quot;not a subtype&quot; on tomcat","body":"<p>org.keycloak.adapters.authorization.cip.ClaimsInformationPointProviderFactory <strong>not a subtype</strong></p>\n<p>This means that the class ClaimsInformationPointProviderFactory is loaded differently/conflicting in the tomcat and in your application.\n<strong>Solution for this is to Check for the jar in tomcat/lib and delete it and restart the server</strong></p>\n"}],"owner":{"account_id":2855339,"reputation":107,"user_id":2451717,"display_name":"bluen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678879770,"creation_date":1629458557,"question_id":68861416,"body_markdown":"While developing a spring boot app we are using keycloak. When starting it with the embedded tomcat in vscode everything works as it should.\r\n\r\nOn time of deployment we want to put it on a standalone tomcat server, so we copy the war file over and the application gets started.\r\nWe get a redirect to the keycloak server and after completing the login the redirect back to the page works fine.\r\n\r\nUp on loading the page we get the following error:\r\n```\r\n20-Aug-2021 13:15:31.341 SCHWERWIEGEND [http-nio-8080-exec-10] org.apache.catalina.core.StandardHostValve.invoke Exception Processing /myapplicationpath/\r\n\tjava.util.ServiceConfigurationError: org.keycloak.adapters.authorization.ClaimInformationPointProviderFactory: org.keycloak.adapters.authorization.cip.ClaimsInformationPointProviderFactory not a subtype\r\n\t\tat java.base/java.util.ServiceLoader.fail(ServiceLoader.java:590)\r\n\t\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1237)\r\n\t\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1265)\r\n\t\tat java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1300)\r\n\t\tat java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1385)\r\n\t\tat org.keycloak.adapters.authorization.PolicyEnforcer.loadClaimInformationPointProviders(PolicyEnforcer.java:134)\r\n\t\tat org.keycloak.adapters.authorization.PolicyEnforcer.&lt;init&gt;(PolicyEnforcer.java:87)\r\n\t\tat org.keycloak.adapters.KeycloakDeploymentBuilder$1.call(KeycloakDeploymentBuilder.java:154)\r\n\t\tat org.keycloak.adapters.KeycloakDeploymentBuilder$1.call(KeycloakDeploymentBuilder.java:147)\r\n\t\tat org.keycloak.adapters.KeycloakDeployment.getPolicyEnforcer(KeycloakDeployment.java:537)\r\n\t\tat org.keycloak.adapters.AuthenticatedActionsHandler.isAuthorized(AuthenticatedActionsHandler.java:150)\r\n\t\tat org.keycloak.adapters.AuthenticatedActionsHandler.handledRequest(AuthenticatedActionsHandler.java:60)\r\n\t\tat org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve.invoke(AbstractAuthenticatedActionsValve.java:62)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:607)\r\n\t\tat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:181)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:678)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:835)\r\n```\r\n\r\nThis is our current keycloak.json file:\r\n```\r\n{\r\n  &quot;realm&quot;: &quot;realmname&quot;,\r\n  &quot;auth-server-url&quot;: &quot;https://ourkeycloakserver.com/auth/&quot;,\r\n  &quot;ssl-required&quot;: &quot;none&quot;,\r\n  &quot;resource&quot;: &quot;clientname&quot;,\r\n  &quot;verify-token-audience&quot;: true,\r\n  &quot;credentials&quot;: {\r\n    &quot;secret&quot;: &quot;secret&quot;\r\n  },\r\n  &quot;use-resource-role-mappings&quot;: true,\r\n  &quot;confidential-port&quot;: 0,\r\n  &quot;policy-enforcer&quot;: {}\r\n}\r\n```\r\n\r\nAny idea what we should look at?\r\nThe keycloak configuration is in our application.properties of spring and works fine with embedded tomcat.","title":"Keycloak error with Spring Boot: &quot;not a subtype&quot; on tomcat","body":"<p>While developing a spring boot app we are using keycloak. When starting it with the embedded tomcat in vscode everything works as it should.</p>\n<p>On time of deployment we want to put it on a standalone tomcat server, so we copy the war file over and the application gets started.\nWe get a redirect to the keycloak server and after completing the login the redirect back to the page works fine.</p>\n<p>Up on loading the page we get the following error:</p>\n<pre><code>20-Aug-2021 13:15:31.341 SCHWERWIEGEND [http-nio-8080-exec-10] org.apache.catalina.core.StandardHostValve.invoke Exception Processing /myapplicationpath/\n    java.util.ServiceConfigurationError: org.keycloak.adapters.authorization.ClaimInformationPointProviderFactory: org.keycloak.adapters.authorization.cip.ClaimsInformationPointProviderFactory not a subtype\n        at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:590)\n        at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1237)\n        at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1265)\n        at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1300)\n        at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1385)\n        at org.keycloak.adapters.authorization.PolicyEnforcer.loadClaimInformationPointProviders(PolicyEnforcer.java:134)\n        at org.keycloak.adapters.authorization.PolicyEnforcer.&lt;init&gt;(PolicyEnforcer.java:87)\n        at org.keycloak.adapters.KeycloakDeploymentBuilder$1.call(KeycloakDeploymentBuilder.java:154)\n        at org.keycloak.adapters.KeycloakDeploymentBuilder$1.call(KeycloakDeploymentBuilder.java:147)\n        at org.keycloak.adapters.KeycloakDeployment.getPolicyEnforcer(KeycloakDeployment.java:537)\n        at org.keycloak.adapters.AuthenticatedActionsHandler.isAuthorized(AuthenticatedActionsHandler.java:150)\n        at org.keycloak.adapters.AuthenticatedActionsHandler.handledRequest(AuthenticatedActionsHandler.java:60)\n        at org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve.invoke(AbstractAuthenticatedActionsValve.java:62)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:607)\n        at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:181)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:678)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:835)\n</code></pre>\n<p>This is our current keycloak.json file:</p>\n<pre><code>{\n  &quot;realm&quot;: &quot;realmname&quot;,\n  &quot;auth-server-url&quot;: &quot;https://ourkeycloakserver.com/auth/&quot;,\n  &quot;ssl-required&quot;: &quot;none&quot;,\n  &quot;resource&quot;: &quot;clientname&quot;,\n  &quot;verify-token-audience&quot;: true,\n  &quot;credentials&quot;: {\n    &quot;secret&quot;: &quot;secret&quot;\n  },\n  &quot;use-resource-role-mappings&quot;: true,\n  &quot;confidential-port&quot;: 0,\n  &quot;policy-enforcer&quot;: {}\n}\n</code></pre>\n<p>Any idea what we should look at?\nThe keycloak configuration is in our application.properties of spring and works fine with embedded tomcat.</p>\n"},{"tags":["java","sonarlint"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1649172446,"post_id":71754314,"comment_id":126806007,"body_markdown":"Note: If that bug (the presence of `RegieI18n.KEY_ACTION_EXECUTE`) is introduced, your approach won&#39;t prevent it, only conceal it. Existing code will be compiled against the superclass constant anyway.","body":"Note: If that bug (the presence of <code>RegieI18n.KEY_ACTION_EXECUTE</code>) is introduced, your approach won&#39;t prevent it, only conceal it. Existing code will be compiled against the superclass constant anyway."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649172779,"creation_date":1649172779,"answer_id":71754576,"question_id":71754314,"body_markdown":"This is steering dangerously close to &#39;opinion&#39; which is beyond the scope of SO. Hence, not much opinion in this answer - just the objective basis on which S3252 is based.\r\n\r\nJava is generally called &#39;Object Oriented&#39; and as a consequence, most of its concepts are explained in terms of OO - and presumably your average java coder&#39;s instincts lie in the OO direction.\r\n\r\nThat&#39;s a problem in this case: `static` stuff __does not &quot;do&quot; OO. AT ALL.__ - for example, dynamic dispatch (where if you call `someAnimalRef.makeNoise()` will actually call the Dog class&#39;s `makeNoise()` method if the ref turns out to be referencing an instance of Dog, even though the variable `someAnimalRef` is typed `Animal`) - __does not apply to `static` at all__.\r\n\r\nIn other words, given that this is static stuff, `javac` decides which constant to use (and for an encore, if said constant is Compile Time Constant - i.e. a string or number literal or could have been derived using only baked-in math (no libraries) that involves only literals – then any refs to this variable are straight up replaced with the constant directly).\r\n\r\nThis could be confusing. The way you wrote it, you&#39;re still getting &#39;inheritance&#39; of sorts - but it&#39;s compile time inheritance. Specifically, if you have (store these 3 in separate files):\r\n\r\n```\r\ninterface CommonI18n {\r\n  String KEY_ACTION_EXECUTE = &quot;Execute&quot;;\r\n}\r\n\r\ninterface RegieI18N extends  CommonI18n {\r\n}\r\n\r\nclass Test {\r\n  public static void main(String[] args) {\r\n    System.out.println(RegieI18N.KEY_ACTION_EXECUTE);\r\n  }\r\n}\r\n```\r\n\r\nand run:\r\n\r\n```\r\njavac *.java; java Test\r\n```\r\n\r\nIt prints `Execute`, obviously. If you then edit `RegieI18N.java` to this and recompile __just it__:\r\n\r\n```\r\ninterface RegieI18N extends CommonI18n {\r\n  String KEY_ACTION_EXECUTE = &quot;Uitvoeren&quot;;\r\n}\r\n\r\n// and then on the command line:\r\n\r\njavac RegieI18N.java\r\njava Test\r\n```\r\n\r\nIt __still__ prints `Execute`, even though your intent was obviously that it should be printing `Uitvoeren` now. There are 2 separate reasons for this (and either one is sufficient): [A] Static stuff is resolved 100% by `javac`, so unless you&#39;re recompiling `Test.java`, it&#39;ll never work, and [B] constants like this are inlined.\r\n\r\nThat&#39;s what the underlying idea behind the warning: That this is confusing, and even if not, that this is hampering your future flexibility. You __cannot__ introduce/change any of the i18n stuff unless you recompile __the entire application__. Given that some &#39;incremental compilation&#39; tools will not recompile Test if `Test.class` is newer than `Test.java`, that&#39;s quite a big deal.\r\n\r\n## So to avoid this?\r\n\r\nSimple - don&#39;t use constants. Don&#39;t use `static` if you want the ability to &#39;override in a subtype&#39;. Java has i18n stuff baked in, where you put the data in properties files which you can then ship together with your class files (inside jars, if you want). This interface based strategy seems to have essentially no upside (I guess technically its more performant, but I doubt you could ever measure it, and given that i18n kinda implies &#39;strings that are meant for human eyeballs&#39;, and &#39;meant for human eyeballs&#39; kinda implies: The CPU is so not going to be the bottleneck, you can completely ignore it), the performance upside seems like a _farcically crazy_ misunderstanding of perspective here. Worrying about performance for this is completely wrong. Most likely - there are exceptions to every rule, of course.\r\n\r\nIf somehow you don&#39;t want to use java&#39;s stuff, a good first start is to invoke a method (static if you really need it to be) to get these strings; you don&#39;t want to write `RegieI18N.KEY_ACTION_EXECUTE`, you want to write something like `RegieI18N.getKeyActionExecute()`, or even `RegieI18n.KEY_ACTION_EXECUTE()` (note the parentheses at the end there). You can use code-gen to create these methods if you must. You now have the flexibility to write whatever you feel like in these, and the JVM will never inline or otherwise just eliminate such a call. If later on you decide you want that method to return something else, and you want to deploy it by recompiling _just_ RegieI18n, then now you can.\r\n\r\nYou&#39;re just reinventing wheels badly of course, but that gets rid of the primary concern that S3252 is trying to address.\r\n","title":"SonarLint rule Java:S3252 (&quot;static&quot; base class members should not be accessed via derived types)","body":"<p>This is steering dangerously close to 'opinion' which is beyond the scope of SO. Hence, not much opinion in this answer - just the objective basis on which S3252 is based.</p>\n<p>Java is generally called 'Object Oriented' and as a consequence, most of its concepts are explained in terms of OO - and presumably your average java coder's instincts lie in the OO direction.</p>\n<p>That's a problem in this case: <code>static</code> stuff <strong>does not &quot;do&quot; OO. AT ALL.</strong> - for example, dynamic dispatch (where if you call <code>someAnimalRef.makeNoise()</code> will actually call the Dog class's <code>makeNoise()</code> method if the ref turns out to be referencing an instance of Dog, even though the variable <code>someAnimalRef</code> is typed <code>Animal</code>) - <strong>does not apply to <code>static</code> at all</strong>.</p>\n<p>In other words, given that this is static stuff, <code>javac</code> decides which constant to use (and for an encore, if said constant is Compile Time Constant - i.e. a string or number literal or could have been derived using only baked-in math (no libraries) that involves only literals – then any refs to this variable are straight up replaced with the constant directly).</p>\n<p>This could be confusing. The way you wrote it, you're still getting 'inheritance' of sorts - but it's compile time inheritance. Specifically, if you have (store these 3 in separate files):</p>\n<pre><code>interface CommonI18n {\n  String KEY_ACTION_EXECUTE = &quot;Execute&quot;;\n}\n\ninterface RegieI18N extends  CommonI18n {\n}\n\nclass Test {\n  public static void main(String[] args) {\n    System.out.println(RegieI18N.KEY_ACTION_EXECUTE);\n  }\n}\n</code></pre>\n<p>and run:</p>\n<pre><code>javac *.java; java Test\n</code></pre>\n<p>It prints <code>Execute</code>, obviously. If you then edit <code>RegieI18N.java</code> to this and recompile <strong>just it</strong>:</p>\n<pre><code>interface RegieI18N extends CommonI18n {\n  String KEY_ACTION_EXECUTE = &quot;Uitvoeren&quot;;\n}\n\n// and then on the command line:\n\njavac RegieI18N.java\njava Test\n</code></pre>\n<p>It <strong>still</strong> prints <code>Execute</code>, even though your intent was obviously that it should be printing <code>Uitvoeren</code> now. There are 2 separate reasons for this (and either one is sufficient): [A] Static stuff is resolved 100% by <code>javac</code>, so unless you're recompiling <code>Test.java</code>, it'll never work, and [B] constants like this are inlined.</p>\n<p>That's what the underlying idea behind the warning: That this is confusing, and even if not, that this is hampering your future flexibility. You <strong>cannot</strong> introduce/change any of the i18n stuff unless you recompile <strong>the entire application</strong>. Given that some 'incremental compilation' tools will not recompile Test if <code>Test.class</code> is newer than <code>Test.java</code>, that's quite a big deal.</p>\n<h2>So to avoid this?</h2>\n<p>Simple - don't use constants. Don't use <code>static</code> if you want the ability to 'override in a subtype'. Java has i18n stuff baked in, where you put the data in properties files which you can then ship together with your class files (inside jars, if you want). This interface based strategy seems to have essentially no upside (I guess technically its more performant, but I doubt you could ever measure it, and given that i18n kinda implies 'strings that are meant for human eyeballs', and 'meant for human eyeballs' kinda implies: The CPU is so not going to be the bottleneck, you can completely ignore it), the performance upside seems like a <em>farcically crazy</em> misunderstanding of perspective here. Worrying about performance for this is completely wrong. Most likely - there are exceptions to every rule, of course.</p>\n<p>If somehow you don't want to use java's stuff, a good first start is to invoke a method (static if you really need it to be) to get these strings; you don't want to write <code>RegieI18N.KEY_ACTION_EXECUTE</code>, you want to write something like <code>RegieI18N.getKeyActionExecute()</code>, or even <code>RegieI18n.KEY_ACTION_EXECUTE()</code> (note the parentheses at the end there). You can use code-gen to create these methods if you must. You now have the flexibility to write whatever you feel like in these, and the JVM will never inline or otherwise just eliminate such a call. If later on you decide you want that method to return something else, and you want to deploy it by recompiling <em>just</em> RegieI18n, then now you can.</p>\n<p>You're just reinventing wheels badly of course, but that gets rid of the primary concern that S3252 is trying to address.</p>\n"}],"owner":{"account_id":16365212,"reputation":21,"user_id":11819862,"display_name":"Micha&#235;l Droz-dit-Busset"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2038,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1649172932,"accepted_answer_id":71754576,"answer_count":1,"score":1,"last_activity_date":1678879397,"creation_date":1649171747,"question_id":71754314,"body_markdown":"I&#39;ve installed SonarLint for STS a few days ago and I would like to ask a question about the rule [Java:S3252 (&quot;static&quot; base class members should not be accessed via derived types)][1].\r\n\r\nIn my code, for some reason (I&#39;m not the company&#39;s architect), there are interfaces containing i18n keys used across many programs. One of those interfaces is called `RegieI18n` and extends `CommonI18n`. When I need a key from `CommonI18n`, I use `RegieI18n` if the class concerns &quot;Regie&quot;, for example `RegieI18n.KEY_ACTION_EXECUTE`, instead of `CommonI18n.KEY_ACTION_EXECUTE`. The rule S3252 is not respected in that case.\r\n\r\nIn my mind, using `RegieI18n` (the child) is useful to prevent developers to re-write some code when, one day, someone decides to override `KEY_ACTION_EXECUTE` with another value for `RegieI18n`. The rule can also be applied to methods (in fact, all accessible members), please don&#39;t focus on the fact that we use i18n keys for the example.\r\n\r\nWhat could be the problem if I use `RegieI18n.KEY_ACTION_EXECUTE` instead of `CommonI18n.KEY_ACTION_EXECUTE`?\r\n\r\n  [1]: https://rules.sonarsource.com/java/RSPEC-3252","title":"SonarLint rule Java:S3252 (&quot;static&quot; base class members should not be accessed via derived types)","body":"<p>I've installed SonarLint for STS a few days ago and I would like to ask a question about the rule <a href=\"https://rules.sonarsource.com/java/RSPEC-3252\" rel=\"nofollow noreferrer\">Java:S3252 (&quot;static&quot; base class members should not be accessed via derived types)</a>.</p>\n<p>In my code, for some reason (I'm not the company's architect), there are interfaces containing i18n keys used across many programs. One of those interfaces is called <code>RegieI18n</code> and extends <code>CommonI18n</code>. When I need a key from <code>CommonI18n</code>, I use <code>RegieI18n</code> if the class concerns &quot;Regie&quot;, for example <code>RegieI18n.KEY_ACTION_EXECUTE</code>, instead of <code>CommonI18n.KEY_ACTION_EXECUTE</code>. The rule S3252 is not respected in that case.</p>\n<p>In my mind, using <code>RegieI18n</code> (the child) is useful to prevent developers to re-write some code when, one day, someone decides to override <code>KEY_ACTION_EXECUTE</code> with another value for <code>RegieI18n</code>. The rule can also be applied to methods (in fact, all accessible members), please don't focus on the fact that we use i18n keys for the example.</p>\n<p>What could be the problem if I use <code>RegieI18n.KEY_ACTION_EXECUTE</code> instead of <code>CommonI18n.KEY_ACTION_EXECUTE</code>?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1678562022,"post_id":75707844,"comment_id":133559318,"body_markdown":"Duplicate? https://stackoverflow.com/questions/9475589/how-to-get-string-from-different-locales-in-android","body":"Duplicate? <a href=\"https://stackoverflow.com/questions/9475589/how-to-get-string-from-different-locales-in-android\" title=\"how to get string from different locales in android\">stackoverflow.com/questions/9475589/&hellip;</a>"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1678562555,"post_id":75707844,"comment_id":133559386,"body_markdown":"If you&#39;re looking for missing translations you could try the Translations Editor in Android Studio (https://developer.android.com/studio/write/translations-editor#correct)","body":"If you&#39;re looking for missing translations you could try the Translations Editor in Android Studio (<a href=\"https://developer.android.com/studio/write/translations-editor#correct\" rel=\"nofollow noreferrer\">developer.android.com/studio/write/translations-editor#corr&zwnj;&#8203;ect</a>)"}],"answers":[{"tags":[],"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678879283,"creation_date":1678879253,"answer_id":75744013,"question_id":75707844,"body_markdown":"From directory-tree expand the &quot;values&quot; folder and right click on the strings.xml.\r\nOpen Translator Editor. From there you can check all of your strings and their translations in different languages.","title":"Android how to identify the string is present in string.xml file?","body":"<p>From directory-tree expand the &quot;values&quot; folder and right click on the strings.xml.\nOpen Translator Editor. From there you can check all of your strings and their translations in different languages.</p>\n"}],"owner":{"account_id":3871229,"reputation":474,"user_id":3206452,"display_name":"mdroid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678879283,"creation_date":1678558670,"question_id":75707844,"body_markdown":"How to identify one string is present into string.xml file for one locale and not for other locale?","title":"Android how to identify the string is present in string.xml file?","body":"<p>How to identify one string is present into string.xml file for one locale and not for other locale?</p>\n"},{"tags":["java","android-studio","exoplayer","android-video-player","m3u"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678378967,"post_id":75682891,"comment_id":133524979,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":13962640,"reputation":723,"user_id":10086742,"display_name":"mahdi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678874942,"creation_date":1678874942,"answer_id":75743238,"question_id":75682891,"body_markdown":"As mentioned in [Exoplayer release notes][1], `DefaultHttpDataSourceFactory` is removed in version 2.16.0 and you should use `DefaultHttpDataSource.Factory` instead.\r\n\r\n\r\n  [1]: https://github.com/google/ExoPlayer/blob/release-v2/RELEASENOTES.md","title":"error: cannot find symbol import com.google.android.exoplayer2.upstream.DefaultHttpDataSourceFactory","body":"<p>As mentioned in <a href=\"https://github.com/google/ExoPlayer/blob/release-v2/RELEASENOTES.md\" rel=\"nofollow noreferrer\">Exoplayer release notes</a>, <code>DefaultHttpDataSourceFactory</code> is removed in version 2.16.0 and you should use <code>DefaultHttpDataSource.Factory</code> instead.</p>\n"}],"owner":{"account_id":25464479,"reputation":11,"user_id":19263741,"display_name":"Saif Uddin Shrabon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2306,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678879264,"creation_date":1678355494,"question_id":75682891,"body_markdown":"There is an error when building project\r\n\r\n```none\r\nerror: cannot find symbol\r\nimport com.google.android.exoplayer2.upstream.DefaultHttpDataSourceFactory;\r\n^\r\nsymbol:   class DefaultHttpDataSourceFactory\r\nlocation: package com.google.android.exoplayer2.upstream\r\n```\r\n\r\nCan not import the DefaultHttpDataSourceFactory class. but all dependencies are added. What is this problem&#39;s solution?\r\n\r\nHere is my Gradle dependencies\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.testiptv&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.testiptv&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n\r\n    implementation &#39;com.google.android.exoplayer:exoplayer:2.18.4&#39;\r\n//    implementation &#39;com.google.android.exoplayer:exoplayer-ui:2.18.4&#39;\r\n//    implementation &#39;com.google.android.exoplayer:exoplayer-hls:2.18.4&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer:2.18.4&#39;\r\n  //  implementation &#39;com.google.android.exoplayer:exoplayer-core:2.18.4&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer:2.11.8&#39;\r\n\r\n\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-core:2.18.4&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-dash:2.18.4&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-hls:2.18.4&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-smoothstreaming:2.18.4&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-ui:2.18.4&#39;\r\n}\r\n```\r\n\r\nHere is my Manifest file\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.TestIPTV&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.videoplayer&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;\r\n            android:screenOrientation=&quot;sensor&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nHere is exoplayer xml design\r\n\r\n```xml\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/root&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.videoplayer&quot;\r\n    android:keepScreenOn=&quot;true&quot;&gt;\r\n\r\n&lt;com.google.android.exoplayer2.ui.PlayerView\r\n    android:id=&quot;@+id/player_view&quot;\r\n    app:show_subtitle_button=&quot;false&quot;\r\n    app:hide_on_touch=&quot;true&quot;\r\n    app:use_controller=&quot;true&quot;\r\n    app:controller_layout_id=&quot;@layout/custom_exo_view&quot;\r\n    app:show_vr_button=&quot;false&quot;\r\n    app:resize_mode=&quot;fill&quot;\r\n    app:show_shuffle_button=&quot;false&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\nHere is my Java code that inserts a M3U link that is trying to play Exoplayer.\r\n\r\n```java\r\npackage com.example.testiptv;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.exoplayer2.SimpleExoPlayer;\r\nimport com.google.android.exoplayer2.source.MediaSource;\r\nimport com.google.android.exoplayer2.source.hls.HlsMediaSource;\r\nimport com.google.android.exoplayer2.ui.PlayerView;\r\nimport com.google.android.exoplayer2.upstream.DataSource;\r\nimport com.google.android.exoplayer2.upstream.DefaultHttpDataSource;\r\nimport com.google.android.exoplayer2.upstream.DefaultHttpDataSourceFactory;\r\n\r\npublic class videoplayer extends AppCompatActivity {\r\n\r\n    protected PlayerView playerView;\r\n\r\n    SimpleExoPlayer player;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_videoplayer);\r\n\r\n        playerView = findViewById(R.id.player_view);\r\n        playvideo();\r\n    }\r\n\r\n    private void playvideo() {\r\n        //String videouri = getIntent().getStringExtra(&quot;keyName&quot;);\r\n        String videouri = &quot;https://stmv.video.expressolider.com.br/ghostv/ghostv/playlist.m3u8&quot;;\r\n\r\n        try {\r\n            Uri uri = Uri.parse(videouri);\r\n            player = new SimpleExoPlayer(videoplayer.this);\r\n\r\n            playerView.setPlayer(player);\r\n\r\n            // Create an HTTPS data source factory\r\n            DataSource.Factory dataSourceFactory = new DefaultHttpDataSourceFactory(\r\n                    &quot;exoplayer-codelab&quot;,\r\n                    DefaultHttpDataSource.DEFAULT_CONNECT_TIMEOUT_MILLIS,\r\n                    DefaultHttpDataSource.DEFAULT_READ_TIMEOUT_MILLIS,\r\n                    true /* allowCrossProtocolRedirects */,\r\n                    DefaultHttpDataSourceFactory.DEFAULT_SSL_SOCKET_FACTORY);\r\n\r\n            // Create a media source using the data source factory\r\n            MediaSource mediaSource = new HlsMediaSource.Factory(dataSourceFactory).createMediaSource(uri);\r\n            Log.d(TAG, &quot;Media source created: &quot; + (mediaSource != null));\r\n\r\n            // Set the media source for the player\r\n            player.setMediaSource(mediaSource);\r\n\r\n            // Prepare the player\r\n            player.prepare();\r\n\r\n            // Start playing the video\r\n            player.setPlayWhenReady(true);\r\n\r\n        } catch (Exception e) {\r\n            Log.e(TAG, &quot;Error initializing player&quot;, e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        player.pause();\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        player.release();\r\n    }\r\n}\r\n```","title":"error: cannot find symbol import com.google.android.exoplayer2.upstream.DefaultHttpDataSourceFactory","body":"<p>There is an error when building project</p>\n<pre class=\"lang-none prettyprint-override\"><code>error: cannot find symbol\nimport com.google.android.exoplayer2.upstream.DefaultHttpDataSourceFactory;\n^\nsymbol:   class DefaultHttpDataSourceFactory\nlocation: package com.google.android.exoplayer2.upstream\n</code></pre>\n<p>Can not import the DefaultHttpDataSourceFactory class. but all dependencies are added. What is this problem's solution?</p>\n<p>Here is my Gradle dependencies</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.testiptv'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.testiptv&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    implementation 'com.android.volley:volley:1.2.1'\n\n    implementation 'com.google.android.exoplayer:exoplayer:2.18.4'\n//    implementation 'com.google.android.exoplayer:exoplayer-ui:2.18.4'\n//    implementation 'com.google.android.exoplayer:exoplayer-hls:2.18.4'\n    implementation 'com.google.android.exoplayer:exoplayer:2.18.4'\n  //  implementation 'com.google.android.exoplayer:exoplayer-core:2.18.4'\n    implementation 'com.google.android.exoplayer:exoplayer:2.11.8'\n\n\n    implementation 'com.google.android.exoplayer:exoplayer-core:2.18.4'\n    implementation 'com.google.android.exoplayer:exoplayer-dash:2.18.4'\n    implementation 'com.google.android.exoplayer:exoplayer-hls:2.18.4'\n    implementation 'com.google.android.exoplayer:exoplayer-smoothstreaming:2.18.4'\n    implementation 'com.google.android.exoplayer:exoplayer-ui:2.18.4'\n}\n</code></pre>\n<p>Here is my Manifest file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n\n    &lt;application\n        android:usesCleartextTraffic=&quot;true&quot;\n\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.TestIPTV&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.videoplayer&quot;\n            android:usesCleartextTraffic=&quot;true&quot;\n            android:screenOrientation=&quot;sensor&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Here is exoplayer xml design</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/root&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.videoplayer&quot;\n    android:keepScreenOn=&quot;true&quot;&gt;\n\n&lt;com.google.android.exoplayer2.ui.PlayerView\n    android:id=&quot;@+id/player_view&quot;\n    app:show_subtitle_button=&quot;false&quot;\n    app:hide_on_touch=&quot;true&quot;\n    app:use_controller=&quot;true&quot;\n    app:controller_layout_id=&quot;@layout/custom_exo_view&quot;\n    app:show_vr_button=&quot;false&quot;\n    app:resize_mode=&quot;fill&quot;\n    app:show_shuffle_button=&quot;false&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>Here is my Java code that inserts a M3U link that is trying to play Exoplayer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.testiptv;\n\nimport static android.content.ContentValues.TAG;\n\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.android.exoplayer2.SimpleExoPlayer;\nimport com.google.android.exoplayer2.source.MediaSource;\nimport com.google.android.exoplayer2.source.hls.HlsMediaSource;\nimport com.google.android.exoplayer2.ui.PlayerView;\nimport com.google.android.exoplayer2.upstream.DataSource;\nimport com.google.android.exoplayer2.upstream.DefaultHttpDataSource;\nimport com.google.android.exoplayer2.upstream.DefaultHttpDataSourceFactory;\n\npublic class videoplayer extends AppCompatActivity {\n\n    protected PlayerView playerView;\n\n    SimpleExoPlayer player;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_videoplayer);\n\n        playerView = findViewById(R.id.player_view);\n        playvideo();\n    }\n\n    private void playvideo() {\n        //String videouri = getIntent().getStringExtra(&quot;keyName&quot;);\n        String videouri = &quot;https://stmv.video.expressolider.com.br/ghostv/ghostv/playlist.m3u8&quot;;\n\n        try {\n            Uri uri = Uri.parse(videouri);\n            player = new SimpleExoPlayer(videoplayer.this);\n\n            playerView.setPlayer(player);\n\n            // Create an HTTPS data source factory\n            DataSource.Factory dataSourceFactory = new DefaultHttpDataSourceFactory(\n                    &quot;exoplayer-codelab&quot;,\n                    DefaultHttpDataSource.DEFAULT_CONNECT_TIMEOUT_MILLIS,\n                    DefaultHttpDataSource.DEFAULT_READ_TIMEOUT_MILLIS,\n                    true /* allowCrossProtocolRedirects */,\n                    DefaultHttpDataSourceFactory.DEFAULT_SSL_SOCKET_FACTORY);\n\n            // Create a media source using the data source factory\n            MediaSource mediaSource = new HlsMediaSource.Factory(dataSourceFactory).createMediaSource(uri);\n            Log.d(TAG, &quot;Media source created: &quot; + (mediaSource != null));\n\n            // Set the media source for the player\n            player.setMediaSource(mediaSource);\n\n            // Prepare the player\n            player.prepare();\n\n            // Start playing the video\n            player.setPlayWhenReady(true);\n\n        } catch (Exception e) {\n            Log.e(TAG, &quot;Error initializing player&quot;, e);\n        }\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        player.pause();\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        player.release();\n    }\n}\n</code></pre>\n"},{"tags":["java","sftp","kerberos","jsch"],"comments":[{"owner":{"account_id":2287959,"reputation":11,"user_id":2011563,"display_name":"Aaron"},"score":0,"creation_date":1366907822,"post_id":10881981,"comment_id":23200048,"body_markdown":"For posterity, thuis may be related to: https://issues.apache.org/bugzilla/show_bug.cgi?id=53437","body":"For posterity, thuis may be related to: <a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=53437\" rel=\"nofollow noreferrer\">issues.apache.org/bugzilla/show_bug.cgi?id=53437</a>"}],"answers":[{"tags":[],"owner":{"account_id":914685,"reputation":2471,"user_id":947756,"accept_rate":94,"display_name":"cardician"},"down_vote_count":0,"up_vote_count":90,"is_accepted":true,"score":90,"last_activity_date":1338830671,"creation_date":1338830671,"answer_id":10885420,"question_id":10881981,"body_markdown":"Thought I&#39;d post an answer here since in case anyone else ends up running into a similar issue. Turns out I am missing a piece of code that makes all the difference. I just needed to add\r\n\r\n    session.setConfig(&quot;PreferredAuthentications&quot;, \r\n                      &quot;publickey,keyboard-interactive,password&quot;);\r\n\r\nbefore\r\n\r\n    session.connect();\r\n\r\nand everything works perfectly now.","title":"SFTP connection through Java asking for weird authentication","body":"<p>Thought I'd post an answer here since in case anyone else ends up running into a similar issue. Turns out I am missing a piece of code that makes all the difference. I just needed to add</p>\n\n<pre><code>session.setConfig(\"PreferredAuthentications\", \n                  \"publickey,keyboard-interactive,password\");\n</code></pre>\n\n<p>before</p>\n\n<pre><code>session.connect();\n</code></pre>\n\n<p>and everything works perfectly now.</p>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1633504492,"creation_date":1492673462,"answer_id":43512959,"question_id":10881981,"body_markdown":"*While the solution in the self-accepted answer is correct, it lacks any explanation.*\r\n\r\nThe problem is that the OP have a Kerberos/GSSAPI authentication set as the preferred (the JSch default). Yet OP does not seem to actually use/want it, as OP claims not to specify any username or password for the Kerberos prompts.\r\n\r\n*This problem can appear spontaneously, when either Kerberos gets installed on the the client PC or the server starts to support Kerberos.*\r\n\r\nThe solution is to remove the Kerberos/GSSAPI (`gssapi-with-mic`) from the list of preferred authentication methods in JSch:\r\n\r\n    session.setConfig(\r\n        &quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);\r\n","title":"SFTP connection through Java asking for weird authentication","body":"<p><em>While the solution in the self-accepted answer is correct, it lacks any explanation.</em></p>\n<p>The problem is that the OP have a Kerberos/GSSAPI authentication set as the preferred (the JSch default). Yet OP does not seem to actually use/want it, as OP claims not to specify any username or password for the Kerberos prompts.</p>\n<p><em>This problem can appear spontaneously, when either Kerberos gets installed on the the client PC or the server starts to support Kerberos.</em></p>\n<p>The solution is to remove the Kerberos/GSSAPI (<code>gssapi-with-mic</code>) from the list of preferred authentication methods in JSch:</p>\n<pre><code>session.setConfig(\n    &quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4220736,"reputation":603,"user_id":3455589,"display_name":"hmojica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601050166,"creation_date":1601050166,"answer_id":64067713,"question_id":10881981,"body_markdown":"All answers are correct, I&#39;ll just add here the way it can be done for Spring Integration when trying to integrate with an SFTP server.\r\n\r\nSo, if you are using SFTP Spring Integration and the weird user and password for Kerberos is prompting in the same way the OP is asking.\r\n\r\nThen modify your Spring configuration (I&#39;m using Java Spring Integration config, if you are using XML config you can try to translate it yourself - I really don&#39;t like XML config :P ):\r\n\r\nSo in the bean you are using as SessionFactory you need to add this change in config:\r\n\r\n    @Bean\r\n    public SessionFactory&lt;LsEntry&gt; sftpSessionFactory() {\r\n        DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\r\n        factory.setHost(&quot;hostname&quot;);\r\n        factory.setPort(22);\r\n        factory.setUser(&quot;username&quot;);\r\n        factory.setPassword(&quot;superstrongpassword&quot;);\r\n        factory.setAllowUnknownKeys(true);\r\n        factory.setSessionConfig(buildSessionProperties());\r\n        return new CachingSessionFactory&lt;&gt;(factory);\r\n    }\r\n\r\n    /**\r\n     * Build JSch property PreferredAuthentications without &quot;gssapi-with-mic&quot;\r\n     * This way it won&#39;t prompt for Kerberos authentication every time it tries to connect\r\n     * to the SFTP.\r\n     */\r\n    private Properties buildSessionProperties() {\r\n        Properties sessionProperties = new Properties();\r\n        sessionProperties.setProperty(&quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);\r\n        return sessionProperties;\r\n    }","title":"SFTP connection through Java asking for weird authentication","body":"<p>All answers are correct, I'll just add here the way it can be done for Spring Integration when trying to integrate with an SFTP server.</p>\n<p>So, if you are using SFTP Spring Integration and the weird user and password for Kerberos is prompting in the same way the OP is asking.</p>\n<p>Then modify your Spring configuration (I'm using Java Spring Integration config, if you are using XML config you can try to translate it yourself - I really don't like XML config :P ):</p>\n<p>So in the bean you are using as SessionFactory you need to add this change in config:</p>\n<pre><code>@Bean\npublic SessionFactory&lt;LsEntry&gt; sftpSessionFactory() {\n    DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\n    factory.setHost(&quot;hostname&quot;);\n    factory.setPort(22);\n    factory.setUser(&quot;username&quot;);\n    factory.setPassword(&quot;superstrongpassword&quot;);\n    factory.setAllowUnknownKeys(true);\n    factory.setSessionConfig(buildSessionProperties());\n    return new CachingSessionFactory&lt;&gt;(factory);\n}\n\n/**\n * Build JSch property PreferredAuthentications without &quot;gssapi-with-mic&quot;\n * This way it won't prompt for Kerberos authentication every time it tries to connect\n * to the SFTP.\n */\nprivate Properties buildSessionProperties() {\n    Properties sessionProperties = new Properties();\n    sessionProperties.setProperty(&quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);\n    return sessionProperties;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22714252,"reputation":43,"user_id":16879770,"display_name":"vaibhavp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678879096,"creation_date":1678879096,"answer_id":75743992,"question_id":10881981,"body_markdown":"I came across the same issue. But i realised that the application is not blocked if i run the jar file command with `nohup`. It simply ignores the prompt.","title":"SFTP connection through Java asking for weird authentication","body":"<p>I came across the same issue. But i realised that the application is not blocked if i run the jar file command with <code>nohup</code>. It simply ignores the prompt.</p>\n"}],"owner":{"account_id":914685,"reputation":2471,"user_id":947756,"accept_rate":94,"display_name":"cardician"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27435,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":10885420,"answer_count":4,"score":50,"last_activity_date":1678879096,"creation_date":1338815654,"question_id":10881981,"body_markdown":"So I&#39;m writing a little program that needs to connect to a remote server through SFTP, pull down a file, and then processes the file. I came across JSch through some answers here and it looked perfect for the task. So far, easy to use and I&#39;ve got it working, with one minor thing I&#39;d like to fix. I&#39;m using the following code to connect and pull the file down:\r\n\r\n        JSch jsch = new JSch();\r\n        Session session = null;\r\n        try {\r\n            session = jsch.getSession(&quot;username&quot;, &quot;127.0.0.1&quot;, 22);\r\n            session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n            session.setPassword(&quot;password&quot;);\r\n            session.connect();\r\n\r\n            Channel channel = session.openChannel(&quot;sftp&quot;);\r\n            channel.connect();\r\n            ChannelSftp sftpChannel = (ChannelSftp) channel;\r\n            sftpChannel.cd(REMOTE_FTP_DIR);\r\n            sftpChannel.lcd(INCOMING_DIR);\r\n            sftpChannel.get(TMP_FILE, TMP_FILE);\r\n            sftpChannel.exit();\r\n            session.disconnect();\r\n        } catch (JSchException e) {\r\n            e.printStackTrace();\r\n        } catch (SftpException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nSo this works and I get the file. I&#39;m running this code on a linux server and when I run the code JSch asks me for my Kerberos username and password. It looks like:\r\n\r\nKerberos username [george]:\r\n\r\nKerberos password for george:\r\n\r\nI just hit enter for both questions and then the program seems to continue on with no problems. However I need this code to be automated through a cron task and so I&#39;d rather not having it pausing the program to ask me these two questions. Is there something I&#39;m not supplying it so that it won&#39;t ask this? Something I need to do to stop it asking? Hopefully someone has some ideas. Thanks.\r\n","title":"SFTP connection through Java asking for weird authentication","body":"<p>So I'm writing a little program that needs to connect to a remote server through SFTP, pull down a file, and then processes the file. I came across JSch through some answers here and it looked perfect for the task. So far, easy to use and I've got it working, with one minor thing I'd like to fix. I'm using the following code to connect and pull the file down:</p>\n\n<pre><code>    JSch jsch = new JSch();\n    Session session = null;\n    try {\n        session = jsch.getSession(\"username\", \"127.0.0.1\", 22);\n        session.setConfig(\"StrictHostKeyChecking\", \"no\");\n        session.setPassword(\"password\");\n        session.connect();\n\n        Channel channel = session.openChannel(\"sftp\");\n        channel.connect();\n        ChannelSftp sftpChannel = (ChannelSftp) channel;\n        sftpChannel.cd(REMOTE_FTP_DIR);\n        sftpChannel.lcd(INCOMING_DIR);\n        sftpChannel.get(TMP_FILE, TMP_FILE);\n        sftpChannel.exit();\n        session.disconnect();\n    } catch (JSchException e) {\n        e.printStackTrace();\n    } catch (SftpException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>So this works and I get the file. I'm running this code on a linux server and when I run the code JSch asks me for my Kerberos username and password. It looks like:</p>\n\n<p>Kerberos username [george]:</p>\n\n<p>Kerberos password for george:</p>\n\n<p>I just hit enter for both questions and then the program seems to continue on with no problems. However I need this code to be automated through a cron task and so I'd rather not having it pausing the program to ask me these two questions. Is there something I'm not supplying it so that it won't ask this? Something I need to do to stop it asking? Hopefully someone has some ideas. Thanks.</p>\n"},{"tags":["java","spring-boot","maven","jakarta-ee","repository"],"comments":[{"owner":{"account_id":13545735,"reputation":102,"user_id":9772107,"display_name":"Mojtaba jalambadani"},"score":0,"creation_date":1678875928,"post_id":75743339,"comment_id":133616574,"body_markdown":"You can use the OrderBy function provided by Spring Data JPA, see this https://stackoverflow.com/a/27427359/9772107","body":"You can use the OrderBy function provided by Spring Data JPA, see this <a href=\"https://stackoverflow.com/a/27427359/9772107\">stackoverflow.com/a/27427359/9772107</a>"}],"answers":[{"tags":[],"owner":{"account_id":13175119,"reputation":56,"user_id":9516271,"display_name":"Hashila"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678876442,"creation_date":1678876442,"answer_id":75743506,"question_id":75743339,"body_markdown":"You can use order by queries in JPA queries, \r\nas an example, there is a table called Student (entity name also Student) with their age and name. You need to query the student list ordered by name. \r\n\r\nthen you can use a JPA repository method like this \r\n\r\n    List&lt;Student&gt; findByOrderByNameDesc();\r\n\r\nor \r\n\r\n    List&lt;Student&gt; findByOrderByNameAsc();","title":"How can I sort string values from DB in repository in functional Queries?","body":"<p>You can use order by queries in JPA queries,\nas an example, there is a table called Student (entity name also Student) with their age and name. You need to query the student list ordered by name.</p>\n<p>then you can use a JPA repository method like this</p>\n<pre><code>List&lt;Student&gt; findByOrderByNameDesc();\n</code></pre>\n<p>or</p>\n<pre><code>List&lt;Student&gt; findByOrderByNameAsc();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27840367,"reputation":1,"user_id":21256954,"display_name":"JoFyNi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678878921,"creation_date":1678878921,"answer_id":75743960,"question_id":75743339,"body_markdown":"    public List&lt;String&gt; getSortedNames() {\r\n    String query = &quot;SELECT name FROM my_table ORDER BY name ASC&quot;;\r\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n\r\n    try (Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/my_database&quot;, &quot;username&quot;, &quot;password&quot;);\r\n         Statement stmt = conn.createStatement();\r\n         ResultSet rs = stmt.executeQuery(query)) {\r\n\r\n        while (rs.next()) {\r\n            String name = rs.getString(&quot;name&quot;);\r\n            names.add(name);\r\n        }\r\n    } catch (SQLException ex) {\r\n        ex.printStackTrace();\r\n    }\r\n\r\n    return names;\r\n}\r\n\r\nThis method retrieves the name column values from the my_table table in ascending order using the ASC keyword in the ORDER BY clause. The retrieved names are stored in a List&lt;String&gt; and returned by the method. Note that you will need to handle any exceptions that may occur during the database access.","title":"How can I sort string values from DB in repository in functional Queries?","body":"<pre><code>public List&lt;String&gt; getSortedNames() {\nString query = &quot;SELECT name FROM my_table ORDER BY name ASC&quot;;\nList&lt;String&gt; names = new ArrayList&lt;&gt;();\n\ntry (Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/my_database&quot;, &quot;username&quot;, &quot;password&quot;);\n     Statement stmt = conn.createStatement();\n     ResultSet rs = stmt.executeQuery(query)) {\n\n    while (rs.next()) {\n        String name = rs.getString(&quot;name&quot;);\n        names.add(name);\n    }\n} catch (SQLException ex) {\n    ex.printStackTrace();\n}\n\nreturn names;\n</code></pre>\n<p>}</p>\n<p>This method retrieves the name column values from the my_table table in ascending order using the ASC keyword in the ORDER BY clause. The retrieved names are stored in a List and returned by the method. Note that you will need to handle any exceptions that may occur during the database access.</p>\n"}],"owner":{"account_id":28022165,"reputation":1,"user_id":21402782,"display_name":"Praneeth Mopuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678878921,"creation_date":1678875506,"question_id":75743339,"body_markdown":"How can I sort a string values from DB in repository layer in functional Query?\r\n\r\nException the query that can be utilized","title":"How can I sort string values from DB in repository in functional Queries?","body":"<p>How can I sort a string values from DB in repository layer in functional Query?</p>\n<p>Exception the query that can be utilized</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1673529556,"post_id":75096891,"comment_id":132522945,"body_markdown":"You need [edit] your question to explain in more detail what you&#39;re trying to achieve here, because otherwise a simple `System.out.println(`&quot;[20, 10] [33, 22]&quot;)` is the simplest solution to your issue. Why would you expect the output you give when none of the lists you have contain 20 and 10 in that order and why do you add both to the list 3 times when you only want stuff to be output once? None of that code makes much sense without an explanation of *what* you are trying to do and *why*.","body":"You need <a href=\"https://stackoverflow.com/posts/75096891/edit\">edit</a> your question to explain in more detail what you&#39;re trying to achieve here, because otherwise a simple <code>System.out.println(</code>&quot;[20, 10] [33, 22]&quot;)` is the simplest solution to your issue. Why would you expect the output you give when none of the lists you have contain 20 and 10 in that order and why do you add both to the list 3 times when you only want stuff to be output once? None of that code makes much sense without an explanation of <i>what</i> you are trying to do and <i>why</i>."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1673529642,"post_id":75096891,"comment_id":132522975,"body_markdown":"So you don&#39;t want duplicates? Then you should just use a `Set`, like `Set&lt;List&lt;Integer&gt;&gt;`","body":"So you don&#39;t want duplicates? Then you should just use a <code>Set</code>, like <code>Set&lt;List&lt;Integer&gt;&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":7247431,"reputation":27,"user_id":5528906,"accept_rate":75,"display_name":"mavok"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1673530141,"creation_date":1673530141,"answer_id":75097030,"question_id":75096891,"body_markdown":"I don&#39;t understand why you need a loop here. It doesn&#39;t make sense, because you are overwriting your values when you use:\r\n\r\n    arrlist.add(count,one);\r\n    arrlist.add(count,two);\r\ncount has the same value in these lines.\r\n\r\nTry this:\r\n\r\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; arrlist = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n    ArrayList&lt;Integer&gt; one = new ArrayList&lt;&gt;();\r\n    one.add(10);\r\n    one.add(22);\r\n    ArrayList&lt;Integer&gt; two = new ArrayList&lt;&gt;();\r\n    two.add(20);\r\n    two.add(33);\r\n    arrlist.add(0,one);\r\n    arrlist.add(1,two);\r\n    System.out.println(arrlist);\r\n\r\n\r\nAnd the output will be: [[10, 22], [20, 33]]\r\n\r\nEdit: But i am still not sure if this is what you want.\r\n","title":"Need to Check the Combination of List2 and List3 in List 1. For Example:- [125, 600] **exists in** [[160, 600], [125, 600],[120,600]]","body":"<p>I don't understand why you need a loop here. It doesn't make sense, because you are overwriting your values when you use:</p>\n<pre><code>arrlist.add(count,one);\narrlist.add(count,two);\n</code></pre>\n<p>count has the same value in these lines.</p>\n<p>Try this:</p>\n<pre><code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; arrlist = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\nArrayList&lt;Integer&gt; one = new ArrayList&lt;&gt;();\none.add(10);\none.add(22);\nArrayList&lt;Integer&gt; two = new ArrayList&lt;&gt;();\ntwo.add(20);\ntwo.add(33);\narrlist.add(0,one);\narrlist.add(1,two);\nSystem.out.println(arrlist);\n</code></pre>\n<p>And the output will be: [[10, 22], [20, 33]]</p>\n<p>Edit: But i am still not sure if this is what you want.</p>\n"}],"owner":{"account_id":27509184,"reputation":1,"user_id":20991405,"display_name":"Sudhir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"answer_count":1,"score":-7,"last_activity_date":1678878861,"creation_date":1673529387,"question_id":75096891,"body_markdown":"I have Three list\r\n- List 1 `[[[160, 600], [125, 600],[120,600]], [[1003, 70], [1000, 60]], [[1003,90], [970,90],[728, 90]],[[300,250],[300,600],[300,292],[300,600]],[300, 100], [300, 250], [300, 250], [300, 250], [[728, 90], [1003, 90]], [1, 1]]`\r\n\r\n- List 2 `[125, 1000px, 1003, 300px, 300px, 300, 300, 300, 728]`\r\n- List 3 `[600, 50px, 80, 600px, 100px, 250, 250, 250, 90]`\r\n\r\nMy Requirement is, I have to check the Combination of List2 &amp; List3 exists in List 1 or not.\r\n\r\n**For Example:-**\r\n [125, 600]  **exists in**  [[160, 600], [125, 600],[120,600]]\r\n\r\nI am looking for the best possible approach here. ","title":"Need to Check the Combination of List2 and List3 in List 1. For Example:- [125, 600] **exists in** [[160, 600], [125, 600],[120,600]]","body":"<p>I have Three list</p>\n<ul>\n<li><p>List 1 <code>[[[160, 600], [125, 600],[120,600]], [[1003, 70], [1000, 60]], [[1003,90], [970,90],[728, 90]],[[300,250],[300,600],[300,292],[300,600]],[300, 100], [300, 250], [300, 250], [300, 250], [[728, 90], [1003, 90]], [1, 1]]</code></p>\n</li>\n<li><p>List 2 <code>[125, 1000px, 1003, 300px, 300px, 300, 300, 300, 728]</code></p>\n</li>\n<li><p>List 3 <code>[600, 50px, 80, 600px, 100px, 250, 250, 250, 90]</code></p>\n</li>\n</ul>\n<p>My Requirement is, I have to check the Combination of List2 &amp; List3 exists in List 1 or not.</p>\n<p><strong>For Example:-</strong>\n[125, 600]  <strong>exists in</strong>  [[160, 600], [125, 600],[120,600]]</p>\n<p>I am looking for the best possible approach here.</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1678877876,"post_id":75743660,"comment_id":133617114,"body_markdown":"IIRC the language specification doesn&#39;t say, so the answer to &quot;how does the lambda store reference to this object&quot; is &quot;however you like as long as it works&quot; :) If you want to ask about a specific implementation of the JVM, please [edit].","body":"IIRC the language specification doesn&#39;t say, so the answer to &quot;how does the lambda store reference to this object&quot; is &quot;however you like as long as it works&quot; :) If you want to ask about a specific implementation of the JVM, please <a href=\"https://stackoverflow.com/posts/75743660/edit\">edit</a>."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1678877975,"post_id":75743660,"comment_id":133617144,"body_markdown":"Also try printing `Arrays.toString(myLambda.getClass().getDeclaredFields())` :-)","body":"Also try printing <code>Arrays.toString(myLambda.getClass().getDeclaredFields())</code> :-)"},{"owner":{"account_id":10337248,"reputation":1807,"user_id":7624937,"accept_rate":40,"display_name":"LLL"},"score":0,"creation_date":1678878040,"post_id":75743660,"comment_id":133617164,"body_markdown":"I&#39;m asking from memory leak perspective, since if lambda will store reference then object will not be garbage collected, so it might cause leaks, right? That&#39;s why I would like to understand it better.","body":"I&#39;m asking from memory leak perspective, since if lambda will store reference then object will not be garbage collected, so it might cause leaks, right? That&#39;s why I would like to understand it better."},{"owner":{"account_id":10337248,"reputation":1807,"user_id":7624937,"accept_rate":40,"display_name":"LLL"},"score":0,"creation_date":1678878184,"post_id":75743660,"comment_id":133617210,"body_markdown":"Good hint with the print, it gives:\n[private final MyClass MyClass$$Lambda$1/0x0000000800000c08.arg$1]\nso it must be stored there!","body":"Good hint with the print, it gives: [private final MyClass MyClass$$Lambda$1/0x0000000800000c08.arg$1] so it must be stored there!"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678878460,"post_id":75743660,"comment_id":133617287,"body_markdown":"&quot;I&#39;m asking from memory leak perspective&quot;. It&#39;s no different from any reference-holding thing. The lambda will prevent `xxx` from being GC-d until itself can be GC-d. In your example, the lambda goes out of scope at the end of `main` and both could be GC-d then.","body":"&quot;I&#39;m asking from memory leak perspective&quot;. It&#39;s no different from any reference-holding thing. The lambda will prevent <code>xxx</code> from being GC-d until itself can be GC-d. In your example, the lambda goes out of scope at the end of <code>main</code> and both could be GC-d then."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678878258,"creation_date":1678878258,"answer_id":75743862,"question_id":75743660,"body_markdown":"First let me just doublecheck that you understand the way java references and objects work or the explanation isn&#39;t going to make any sense:\r\n\r\n&gt; `MyClass xxx = new MyClass();`\r\n\r\nThis [A] reserves some space on the heap large enough to store 1 instance of `MyClass`, [B] constructs a new instance of MyClass into that space, and then [C] assigns the pointer pointing at the location where this object now resides on the heap to `xxx`. Because &#39;pointer&#39;, from C, kinda implies you can e.g. increment it or print it, as an encore, we shall not call it a &#39;pointer&#39; and instead we call it a &#39;reference&#39;. But, it&#39;s.. a pointer.\r\n\r\n&gt; `xxx.value = 777;`\r\n\r\nThis doesn&#39;t &#39;change&#39; anything - `xxx.` is &#39;take variable `xxx`, _follow the pointer_, then go change stuff over on the heap. Which, crucially, means `xxx` does not change. Only the object `xxx` is pointing at is being changed here.\r\n\r\nThus, `xxx` is __effectively final__ throughout this method. It&#39;s a constant. Which means the only thing we need to do here is ensure the lambda continues to know about it. Given that a lambda can &#39;outlive&#39; the context of the method it is created in, this is a bit of an issue: _Ordinarily_, local variables (and method parameters are a kind of local var) are declared on stack and therefore poof out of existence when a method ends. Clearly then, `xxx` cannot live there. At least, not the one the lambda uses.\r\n\r\nJava solves this problem __not__ in the way most languages do. Most languages realize `xxx` has to outlive the method and &#39;hoist it onto the heap&#39;. Java doesn&#39;t do this (after all, things that live on heap, or can escape via lambdas to other threads, all of a sudden need to answer hairy questions such as &quot;does that mean local variables can now be marked `volatile`?&quot;). Instead, java just clones it. Because clones would get real confusing if code also modifies the variable (which of the clones are you modifying?), __your code wouldn&#39;t even compile unless `xxx` is `final`!__ - the one &#39;gift&#39; java gives you is that if your variable _could have been_ marked as `final` without causing issues, i.e. you only write to it once, then you can omit `final` and java will just assume it. Try it! Take that code and reassign `xxx` anywhere (in the lambda or outside of it; does not matter), and you&#39;ll get an error that you can&#39;t use `xxx` in the lambda at all as it is not &#39;effectively final&#39; (the java spec&#39;s term for &quot;either marked final, or could have been so marked without issue&quot;).\r\n\r\nSo now it&#39;s simply: `xxx` in the context of the method itself remains a stack-allocated variable as normal. And the lambda gets a clone of it, which.. yes, lives on heap. There is an object representing this lambda that contains its captured state. Javac knows that only the variables actually used by the lambda need capturing (which may include `this`!), and captures only what is needed.\r\n\r\nLambdas which capture zero state are special in that they don&#39;t need an object at all to represent their state. Instead, those end up, effectively, as static methods and the lambda exists as a MethodRef object at the class/JVM level.\r\n\r\nRegardless of whether your lambda has state or not, you should never use the object identity of one; the JVM spec says your code won&#39;t straight up crash but whether that identity has a meaningful uniqueness is not guaranteed. In other words, don&#39;t use them as keys in maps, don&#39;t lock on them (`synchronized`). Don&#39;t `==` them.","title":"How do lambdas store references to variables","body":"<p>First let me just doublecheck that you understand the way java references and objects work or the explanation isn't going to make any sense:</p>\n<blockquote>\n<p><code>MyClass xxx = new MyClass();</code></p>\n</blockquote>\n<p>This [A] reserves some space on the heap large enough to store 1 instance of <code>MyClass</code>, [B] constructs a new instance of MyClass into that space, and then [C] assigns the pointer pointing at the location where this object now resides on the heap to <code>xxx</code>. Because 'pointer', from C, kinda implies you can e.g. increment it or print it, as an encore, we shall not call it a 'pointer' and instead we call it a 'reference'. But, it's.. a pointer.</p>\n<blockquote>\n<p><code>xxx.value = 777;</code></p>\n</blockquote>\n<p>This doesn't 'change' anything - <code>xxx.</code> is 'take variable <code>xxx</code>, <em>follow the pointer</em>, then go change stuff over on the heap. Which, crucially, means <code>xxx</code> does not change. Only the object <code>xxx</code> is pointing at is being changed here.</p>\n<p>Thus, <code>xxx</code> is <strong>effectively final</strong> throughout this method. It's a constant. Which means the only thing we need to do here is ensure the lambda continues to know about it. Given that a lambda can 'outlive' the context of the method it is created in, this is a bit of an issue: <em>Ordinarily</em>, local variables (and method parameters are a kind of local var) are declared on stack and therefore poof out of existence when a method ends. Clearly then, <code>xxx</code> cannot live there. At least, not the one the lambda uses.</p>\n<p>Java solves this problem <strong>not</strong> in the way most languages do. Most languages realize <code>xxx</code> has to outlive the method and 'hoist it onto the heap'. Java doesn't do this (after all, things that live on heap, or can escape via lambdas to other threads, all of a sudden need to answer hairy questions such as &quot;does that mean local variables can now be marked <code>volatile</code>?&quot;). Instead, java just clones it. Because clones would get real confusing if code also modifies the variable (which of the clones are you modifying?), <strong>your code wouldn't even compile unless <code>xxx</code> is <code>final</code>!</strong> - the one 'gift' java gives you is that if your variable <em>could have been</em> marked as <code>final</code> without causing issues, i.e. you only write to it once, then you can omit <code>final</code> and java will just assume it. Try it! Take that code and reassign <code>xxx</code> anywhere (in the lambda or outside of it; does not matter), and you'll get an error that you can't use <code>xxx</code> in the lambda at all as it is not 'effectively final' (the java spec's term for &quot;either marked final, or could have been so marked without issue&quot;).</p>\n<p>So now it's simply: <code>xxx</code> in the context of the method itself remains a stack-allocated variable as normal. And the lambda gets a clone of it, which.. yes, lives on heap. There is an object representing this lambda that contains its captured state. Javac knows that only the variables actually used by the lambda need capturing (which may include <code>this</code>!), and captures only what is needed.</p>\n<p>Lambdas which capture zero state are special in that they don't need an object at all to represent their state. Instead, those end up, effectively, as static methods and the lambda exists as a MethodRef object at the class/JVM level.</p>\n<p>Regardless of whether your lambda has state or not, you should never use the object identity of one; the JVM spec says your code won't straight up crash but whether that identity has a meaningful uniqueness is not guaranteed. In other words, don't use them as keys in maps, don't lock on them (<code>synchronized</code>). Don't <code>==</code> them.</p>\n"}],"owner":{"account_id":10337248,"reputation":1807,"user_id":7624937,"accept_rate":40,"display_name":"LLL"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678878742,"creation_date":1678877317,"question_id":75743660,"body_markdown":"I feel that this is an easy question but I was unable to find answer. After executing this simple code:\r\n\r\n    public class MyClass {\r\n        \r\n        int value;\r\n    \r\n        static interface MyFunctionalInterface {\r\n            void foo();\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n           MyClass xxx = new MyClass();\r\n           MyFunctionalInterface myLambda = () -&gt; System.out.println(&quot;Value: &quot; + xxx.value);\r\n    \r\n           xxx.value = 777;\r\n           myLambda.foo();\r\n           \r\n           xxx.value = 888;\r\n           bar(myLambda);\r\n        }\r\n        \r\n        static void bar(MyFunctionalInterface myLambda) {\r\n            myLambda.foo();\r\n        }\r\n    \r\n    }\r\n\r\nThe result (as expected) is just:\r\n\r\n    Value: 777\r\n    Value: 888\r\n\r\nMy question is about **xxx** object. How does the lambda store reference to this object? Is there some anonymous class created which stores &quot;Value: &quot; string and xxx object? This object still exists in bar function, so it has to be stored somehow somewhere.\r\n\r\n**Edit:**\r\nBasing on hint from @Sweeper it can be concluded that lambdas store references to such variables inside themselves.\r\nIf (with above code) we print:\r\n\r\n    System.out.println(Arrays.toString(myLambda.getClass().getDeclaredFields()));\r\n\r\nwe will get:\r\n\r\n    [private final MyClass MyClass$$Lambda$1/0x0000000800000c08.arg$1]\r\n\r\nHowever, if code is modified and lambda created without xxx:\r\n\r\n    MyFunctionalInterface myLambda = () -&gt; System.out.println(&quot;Just string&quot;);\r\n\r\nThen declared fields will be empty and it will print just &quot;[]&quot;","title":"How do lambdas store references to variables","body":"<p>I feel that this is an easy question but I was unable to find answer. After executing this simple code:</p>\n<pre><code>public class MyClass {\n    \n    int value;\n\n    static interface MyFunctionalInterface {\n        void foo();\n    }\n\n    public static void main(String args[]) {\n       MyClass xxx = new MyClass();\n       MyFunctionalInterface myLambda = () -&gt; System.out.println(&quot;Value: &quot; + xxx.value);\n\n       xxx.value = 777;\n       myLambda.foo();\n       \n       xxx.value = 888;\n       bar(myLambda);\n    }\n    \n    static void bar(MyFunctionalInterface myLambda) {\n        myLambda.foo();\n    }\n\n}\n</code></pre>\n<p>The result (as expected) is just:</p>\n<pre><code>Value: 777\nValue: 888\n</code></pre>\n<p>My question is about <strong>xxx</strong> object. How does the lambda store reference to this object? Is there some anonymous class created which stores &quot;Value: &quot; string and xxx object? This object still exists in bar function, so it has to be stored somehow somewhere.</p>\n<p><strong>Edit:</strong>\nBasing on hint from @Sweeper it can be concluded that lambdas store references to such variables inside themselves.\nIf (with above code) we print:</p>\n<pre><code>System.out.println(Arrays.toString(myLambda.getClass().getDeclaredFields()));\n</code></pre>\n<p>we will get:</p>\n<pre><code>[private final MyClass MyClass$$Lambda$1/0x0000000800000c08.arg$1]\n</code></pre>\n<p>However, if code is modified and lambda created without xxx:</p>\n<pre><code>MyFunctionalInterface myLambda = () -&gt; System.out.println(&quot;Just string&quot;);\n</code></pre>\n<p>Then declared fields will be empty and it will print just &quot;[]&quot;</p>\n"},{"tags":["java","spring","spring-boot","aspect"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678866016,"post_id":75741645,"comment_id":133614057,"body_markdown":"you can create your own annotation, and pass the priority as a parameter to it","body":"you can create your own annotation, and pass the priority as a parameter to it"}],"answers":[{"tags":[],"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678878515,"creation_date":1678878515,"answer_id":75743895,"question_id":75741645,"body_markdown":"As @Stultuske said in his comment you can create a custom @Priority annotation.\r\n\r\nYou can create the annotation as follows:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.FIELD)\r\n    public @interface Priority {\r\n        public String value() default &quot;LOW&quot;;\r\n    }\r\n\r\nThen you can read the value of this annotation as follows:\r\n\r\n    public Object createErrorEntryLogger(final ProceedingJoinPoint proceedingJoinPoint ) throws Throwable {\r\n        final MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint .getSignature();\r\n        final Method method = methodSignature.getMethod();\r\n        final Priority priority = method.getAnnotation(Priority.class);\r\n        // Do whatever you want with priority.value()\r\n    }","title":"First time trying to use Aspect. What if I want to output a different value for specific logs?","body":"<p>As @Stultuske said in his comment you can create a custom @Priority annotation.</p>\n<p>You can create the annotation as follows:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface Priority {\n    public String value() default &quot;LOW&quot;;\n}\n</code></pre>\n<p>Then you can read the value of this annotation as follows:</p>\n<pre><code>public Object createErrorEntryLogger(final ProceedingJoinPoint proceedingJoinPoint ) throws Throwable {\n    final MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint .getSignature();\n    final Method method = methodSignature.getMethod();\n    final Priority priority = method.getAnnotation(Priority.class);\n    // Do whatever you want with priority.value()\n}\n</code></pre>\n"}],"owner":{"account_id":26074175,"reputation":41,"user_id":19773336,"display_name":"Maflec"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678878515,"creation_date":1678865456,"question_id":75741645,"body_markdown":"First of all, I am not 100% sure if my code is correct, since this is the first time I am ever using Aspect in Spring, so I will be happy if you point out any errors.\r\n\r\nFirst a little background.\r\nI have an application that uses a logging method that returns a stacktrace, an error message and the priority of that error (Low, Medium, Critical).\r\nIn my manager it looks like this:\r\n\r\n    public UUID createErrorLogEntry(UUID userId, Throwable throwable, ErrorLogEntryPriorityType priority, String errorMessage) {\r\n        ErrorLogEntryEntity errorLogEntryEntity = new ErrorLogEntryEntity(priority, errorMessage);\r\n        errorLogEntryEntity.setNew(true);\r\n        errorLogEntryEntity.setId(UUID.randomUUID());\r\n        if (throwable != null)\r\n            errorLogEntryEntity.setStackTrace(ExceptionUtils.getStackTrace(throwable));\r\n        errorLogEntryEntity.setCreationDateTime(DateTimeUtils.nowUtc());\r\n        errorLogEntryEntity.setCreationUserId(userId);\r\n        errorLogEntryEntity.setChangedDateTime(errorLogEntryEntity.getCreationDateTime());\r\n        errorLogEntryEntity.setChangedUserId(userId);\r\n        errorLogEntryEntity.setPriority(errorLogEntryEntity.getPriority());\r\n        errorLogEntryEntity.setDone(errorLogEntryEntity.isDone());\r\n        errorLogEntryEntity.setMessage(errorLogEntryEntity.getMessage());\r\n        errorLogEntryRepository.save(errorLogEntryEntity);\r\n        return errorLogEntryEntity.getId();\r\n    }\r\n\r\nUp until now I have been manually inserting this into try-blocks on every class in the system, which is very tedious. So I wanted to use Aspect and only target async and scheduled jobs, so I made this class:\r\n\r\n    @Aspect\r\n    @Component\r\n    public class errorEntryLogger {\r\n    \r\n        @Autowired\r\n        private ErrorLogEntryManager errorLogEntryManager;\r\n    \r\n        @Around(&quot;@annotation(org.springframework.scheduling.annotation.Scheduled) &amp;&amp; @annotation(org.springframework.scheduling.annotation.Async)&quot;)\r\n        public Object createErrorEntryLogger(ProceedingJoinPoint pjp) throws Throwable {\r\n            try {\r\n                pjp.proceed();\r\n            } catch (Exception e) {\r\n                errorLogEntryManager.createErrorLogEntry(null, e.fillInStackTrace(), ErrorLogEntryPriorityType.LOW, &quot;An error occurred&quot;);\r\n            }\r\n            return createErrorEntryLogger(pjp);\r\n        }\r\n    }\r\n\r\nBut here is the issue. Doing it this way, all error logs will have a priority of &quot;Low&quot; and a generic error message. \r\nBut what if I have classes where I want to set the priority higher or create more detailed error messages? How would I deal with these while using aspect?\r\n\r\nAgain, if there are better ways to write this code, let me know.","title":"First time trying to use Aspect. What if I want to output a different value for specific logs?","body":"<p>First of all, I am not 100% sure if my code is correct, since this is the first time I am ever using Aspect in Spring, so I will be happy if you point out any errors.</p>\n<p>First a little background.\nI have an application that uses a logging method that returns a stacktrace, an error message and the priority of that error (Low, Medium, Critical).\nIn my manager it looks like this:</p>\n<pre><code>public UUID createErrorLogEntry(UUID userId, Throwable throwable, ErrorLogEntryPriorityType priority, String errorMessage) {\n    ErrorLogEntryEntity errorLogEntryEntity = new ErrorLogEntryEntity(priority, errorMessage);\n    errorLogEntryEntity.setNew(true);\n    errorLogEntryEntity.setId(UUID.randomUUID());\n    if (throwable != null)\n        errorLogEntryEntity.setStackTrace(ExceptionUtils.getStackTrace(throwable));\n    errorLogEntryEntity.setCreationDateTime(DateTimeUtils.nowUtc());\n    errorLogEntryEntity.setCreationUserId(userId);\n    errorLogEntryEntity.setChangedDateTime(errorLogEntryEntity.getCreationDateTime());\n    errorLogEntryEntity.setChangedUserId(userId);\n    errorLogEntryEntity.setPriority(errorLogEntryEntity.getPriority());\n    errorLogEntryEntity.setDone(errorLogEntryEntity.isDone());\n    errorLogEntryEntity.setMessage(errorLogEntryEntity.getMessage());\n    errorLogEntryRepository.save(errorLogEntryEntity);\n    return errorLogEntryEntity.getId();\n}\n</code></pre>\n<p>Up until now I have been manually inserting this into try-blocks on every class in the system, which is very tedious. So I wanted to use Aspect and only target async and scheduled jobs, so I made this class:</p>\n<pre><code>@Aspect\n@Component\npublic class errorEntryLogger {\n\n    @Autowired\n    private ErrorLogEntryManager errorLogEntryManager;\n\n    @Around(&quot;@annotation(org.springframework.scheduling.annotation.Scheduled) &amp;&amp; @annotation(org.springframework.scheduling.annotation.Async)&quot;)\n    public Object createErrorEntryLogger(ProceedingJoinPoint pjp) throws Throwable {\n        try {\n            pjp.proceed();\n        } catch (Exception e) {\n            errorLogEntryManager.createErrorLogEntry(null, e.fillInStackTrace(), ErrorLogEntryPriorityType.LOW, &quot;An error occurred&quot;);\n        }\n        return createErrorEntryLogger(pjp);\n    }\n}\n</code></pre>\n<p>But here is the issue. Doing it this way, all error logs will have a priority of &quot;Low&quot; and a generic error message.\nBut what if I have classes where I want to set the priority higher or create more detailed error messages? How would I deal with these while using aspect?</p>\n<p>Again, if there are better ways to write this code, let me know.</p>\n"},{"tags":["java","elasticsearch","elasticsearch-aggregation","opensearch"],"answers":[{"tags":[],"owner":{"account_id":3633664,"reputation":2409,"user_id":3029337,"display_name":"glenacota"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678871330,"creation_date":1678871330,"answer_id":75742560,"question_id":75740522,"body_markdown":"Assuming that your `userId` field has high cardinality (it&#39;s an identifier, after all), my guess is that the performance of your `terms` aggregation is impaired by the calculation of the global ordinals for that field ([docs][1]). The higher the cardinality of a field, the more resources/time are needed to calculate global ordinals.\r\n\r\nYou can find the recommendations from Elastic to handle these cases in the docs I linked above, basically:\r\n- enabling `eager_global_ordinals` as opposed to the default lazy loading --&gt; you won&#39;t have performance issues at query time because you go through the computation effort at index time (whose performance will be affected, though)\r\n- disabling global ordinals altogether at the expense of higher memory use and of losing their benefits in your sub-aggregation &quot;raf&quot;\r\n\r\nFinal important note: you&#39;re using the `must` compound query for filtering, I would recommend you use the more performant and appropriate `filter` compound query ([docs][2]) (or even a Filter aggregation - [docs][3])\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/eager-global-ordinals.html#_what_are_global_ordinals\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html\r\n  [3]: https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-filter-aggregation.html","title":"slow ElasticSearch query while using term aggregation","body":"<p>Assuming that your <code>userId</code> field has high cardinality (it's an identifier, after all), my guess is that the performance of your <code>terms</code> aggregation is impaired by the calculation of the global ordinals for that field (<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/eager-global-ordinals.html#_what_are_global_ordinals\" rel=\"nofollow noreferrer\">docs</a>). The higher the cardinality of a field, the more resources/time are needed to calculate global ordinals.</p>\n<p>You can find the recommendations from Elastic to handle these cases in the docs I linked above, basically:</p>\n<ul>\n<li>enabling <code>eager_global_ordinals</code> as opposed to the default lazy loading --&gt; you won't have performance issues at query time because you go through the computation effort at index time (whose performance will be affected, though)</li>\n<li>disabling global ordinals altogether at the expense of higher memory use and of losing their benefits in your sub-aggregation &quot;raf&quot;</li>\n</ul>\n<p>Final important note: you're using the <code>must</code> compound query for filtering, I would recommend you use the more performant and appropriate <code>filter</code> compound query (<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html\" rel=\"nofollow noreferrer\">docs</a>) (or even a Filter aggregation - <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-filter-aggregation.html\" rel=\"nofollow noreferrer\">docs</a>)</p>\n"},{"tags":[],"owner":{"account_id":14795454,"reputation":1996,"user_id":10685211,"display_name":"Musab Dogan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678877606,"creation_date":1678877606,"answer_id":75743717,"question_id":75740522,"body_markdown":"To tune the high cardinality field search you can use [mapper murmur3 plugin][1]\r\n\r\n&gt; The mapper-murmur3 plugin provides the ability to compute hash of\r\n&gt; field values at index-time and store them in the index. This can\r\n&gt; sometimes be helpful when running cardinality aggregations on\r\n&gt; high-cardinality and large string fields.\r\n\r\n\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/plugins/current/mapper-murmur3.html","title":"slow ElasticSearch query while using term aggregation","body":"<p>To tune the high cardinality field search you can use <a href=\"https://www.elastic.co/guide/en/elasticsearch/plugins/current/mapper-murmur3.html\" rel=\"nofollow noreferrer\">mapper murmur3 plugin</a></p>\n<blockquote>\n<p>The mapper-murmur3 plugin provides the ability to compute hash of\nfield values at index-time and store them in the index. This can\nsometimes be helpful when running cardinality aggregations on\nhigh-cardinality and large string fields.</p>\n</blockquote>\n"}],"owner":{"account_id":1738585,"reputation":795,"user_id":1590595,"accept_rate":16,"display_name":"user1590595"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678877606,"creation_date":1678854140,"question_id":75740522,"body_markdown":"I am having around 20million data in ES, If I only query\r\n\r\n```\r\n&quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;must&quot;: [\r\n              {\r\n                  &quot;term&quot;: {\r\n                      &quot;uniqueId&quot;: &quot;10921152912079&quot;\r\n                  }\r\n              }\r\n          ]\r\n       \r\n    }\r\n  }\r\n```\r\nThen I am getting results in 1ms, but If I add aggregation on this filtered data, then it is taking around 2sec to execute the query\r\n\r\n```\r\n&quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;must&quot;: [\r\n              {\r\n                  &quot;term&quot;: {\r\n                      &quot;uniqueId&quot;: &quot;10921152912079&quot;\r\n                  }\r\n              }\r\n          ]\r\n       \r\n    }\r\n  },\r\n  &quot;aggs&quot;: {\r\n    &quot;users&quot;: {\r\n      &quot;terms&quot;: {\r\n        &quot;field&quot;: &quot;userId&quot;\r\n      },\r\n      &quot;aggs&quot;: {\r\n        &quot;raf&quot;: {\r\n          &quot;terms&quot;: {\r\n            &quot;field&quot;: &quot;randomId&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nSo my question is, If I am aggregating on queried result (max 10 document), why aggregation is so slow that its taking 2sec? Or is it not working on queried result.\r\n\r\nwhile profiling I see high nano seconds during aggregation\r\n\r\n```\r\n&quot;aggregations&quot; : [\r\n          {\r\n            &quot;type&quot; : &quot;GlobalOrdinalsStringTermsAggregator&quot;,\r\n            &quot;description&quot; : &quot;users&quot;,\r\n            &quot;time_in_nanos&quot; : 91737162,\r\n            &quot;breakdown&quot; : {\r\n              &quot;reduce&quot; : 0,\r\n              &quot;build_aggregation_count&quot; : 1,\r\n              &quot;post_collection&quot; : 1878,\r\n              &quot;initialize_count&quot; : 1,\r\n              &quot;reduce_count&quot; : 0,\r\n              &quot;collect_count&quot; : 5,\r\n              &quot;post_collection_count&quot; : 1,\r\n              &quot;build_leaf_collector&quot; : 15302476,\r\n              &quot;build_aggregation&quot; : 76398285,\r\n              &quot;build_leaf_collector_count&quot; : 28,\r\n              &quot;initialize&quot; : 23555,\r\n              &quot;collect&quot; : 10968\r\n            },\r\n            &quot;debug&quot; : {\r\n              &quot;segments_with_multi_valued_ords&quot; : 0,\r\n              &quot;collection_strategy&quot; : &quot;dense&quot;,\r\n              &quot;segments_with_single_valued_ords&quot; : 28,\r\n              &quot;deferred_aggregators&quot; : [\r\n                &quot;raf&quot;\r\n              ],\r\n              &quot;total_buckets&quot; : 9942540,\r\n              &quot;built_buckets&quot; : 1,\r\n              &quot;result_strategy&quot; : &quot;terms&quot;,\r\n              &quot;has_filter&quot; : false\r\n            },\r\n```\r\n\r\nAny help would mean a lot.","title":"slow ElasticSearch query while using term aggregation","body":"<p>I am having around 20million data in ES, If I only query</p>\n<pre><code>&quot;query&quot;: {\n        &quot;bool&quot;: {\n          &quot;must&quot;: [\n              {\n                  &quot;term&quot;: {\n                      &quot;uniqueId&quot;: &quot;10921152912079&quot;\n                  }\n              }\n          ]\n       \n    }\n  }\n</code></pre>\n<p>Then I am getting results in 1ms, but If I add aggregation on this filtered data, then it is taking around 2sec to execute the query</p>\n<pre><code>&quot;query&quot;: {\n        &quot;bool&quot;: {\n          &quot;must&quot;: [\n              {\n                  &quot;term&quot;: {\n                      &quot;uniqueId&quot;: &quot;10921152912079&quot;\n                  }\n              }\n          ]\n       \n    }\n  },\n  &quot;aggs&quot;: {\n    &quot;users&quot;: {\n      &quot;terms&quot;: {\n        &quot;field&quot;: &quot;userId&quot;\n      },\n      &quot;aggs&quot;: {\n        &quot;raf&quot;: {\n          &quot;terms&quot;: {\n            &quot;field&quot;: &quot;randomId&quot;\n          }\n        }\n      }\n    }\n  }\n</code></pre>\n<p>So my question is, If I am aggregating on queried result (max 10 document), why aggregation is so slow that its taking 2sec? Or is it not working on queried result.</p>\n<p>while profiling I see high nano seconds during aggregation</p>\n<pre><code>&quot;aggregations&quot; : [\n          {\n            &quot;type&quot; : &quot;GlobalOrdinalsStringTermsAggregator&quot;,\n            &quot;description&quot; : &quot;users&quot;,\n            &quot;time_in_nanos&quot; : 91737162,\n            &quot;breakdown&quot; : {\n              &quot;reduce&quot; : 0,\n              &quot;build_aggregation_count&quot; : 1,\n              &quot;post_collection&quot; : 1878,\n              &quot;initialize_count&quot; : 1,\n              &quot;reduce_count&quot; : 0,\n              &quot;collect_count&quot; : 5,\n              &quot;post_collection_count&quot; : 1,\n              &quot;build_leaf_collector&quot; : 15302476,\n              &quot;build_aggregation&quot; : 76398285,\n              &quot;build_leaf_collector_count&quot; : 28,\n              &quot;initialize&quot; : 23555,\n              &quot;collect&quot; : 10968\n            },\n            &quot;debug&quot; : {\n              &quot;segments_with_multi_valued_ords&quot; : 0,\n              &quot;collection_strategy&quot; : &quot;dense&quot;,\n              &quot;segments_with_single_valued_ords&quot; : 28,\n              &quot;deferred_aggregators&quot; : [\n                &quot;raf&quot;\n              ],\n              &quot;total_buckets&quot; : 9942540,\n              &quot;built_buckets&quot; : 1,\n              &quot;result_strategy&quot; : &quot;terms&quot;,\n              &quot;has_filter&quot; : false\n            },\n</code></pre>\n<p>Any help would mean a lot.</p>\n"},{"tags":["java","user-interface","dockerfile","x11-forwarding"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678877539,"post_id":75743235,"comment_id":133617011,"body_markdown":"Do you know what `Xvfb` does? It&#39;s a X11 server that renders to some virtual frame buffer (i.e. only into memory) and doesn&#39;t display anything. That means that your application might actually be running, and simply doesn&#39;t show anything, as it runs against that virtual X11 server. Does your app print anything to `stdout`? Did you try putting `System.out.println(&quot;Hello World!&quot;)`  as the first statement in its `main`?","body":"Do you know what <code>Xvfb</code> does? It&#39;s a X11 server that renders to some virtual frame buffer (i.e. only into memory) and doesn&#39;t display anything. That means that your application might actually be running, and simply doesn&#39;t show anything, as it runs against that virtual X11 server. Does your app print anything to <code>stdout</code>? Did you try putting <code>System.out.println(&quot;Hello World!&quot;)</code>  as the first statement in its <code>main</code>?"},{"owner":{"account_id":17193228,"reputation":1,"user_id":12446621,"display_name":"pieterjan"},"score":0,"creation_date":1678964565,"post_id":75743235,"comment_id":133636578,"body_markdown":"@joachimSauer thanks for the input. I resolved the issue since then and have gone the path of combining xming installed locally connected to the docker container. This works. Still had to change a lot of path issues but it&#39;s working now.","body":"@joachimSauer thanks for the input. I resolved the issue since then and have gone the path of combining xming installed locally connected to the docker container. This works. Still had to change a lot of path issues but it&#39;s working now."}],"owner":{"account_id":17193228,"reputation":1,"user_id":12446621,"display_name":"pieterjan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678877409,"creation_date":1678874933,"question_id":75743235,"body_markdown":"I have the following dockerfile \r\n\r\n```none\r\n# Set the base image to openjdk:8-jdk\r\nFROM openjdk:8-jdk\r\n\r\n# Set environment variables\r\nENV DISPLAY=:99\r\n\r\n# Install required packages\r\nRUN apt-get update &amp;&amp; \\\r\napt-get install -y \\\r\ncurl \\\r\nuuid-runtime \\\r\nx11-apps \\\r\nxvfb \\\r\nlibxtst6 &amp;&amp; \\\r\nrm -rf /var/lib/apt/lists/*\r\n\r\n# Set the working directory to /app\r\nWORKDIR /app\r\n\r\n# Create the properties directory and copy the jar file and properties file to the container\r\nCOPY merlin.jar ./\r\nCOPY ./properties/message.properties properties/\r\n\r\n# Start Xvfb and the Java application\r\nCMD [&quot;sh&quot;, &quot;-c&quot;, &quot;Xvfb :99 -screen 0 1024x768x16 &amp; \\n\\\r\njava -jar -Dserver.address=0.0.0.0 -Dserver.port=8080 merlin.jar &gt; /app/app.log&quot;]\r\n```\r\n\r\nmy file structure is directory: merlin.jar, dockerfile, properties folder containing message.properties file. This was needed since the jar file for some reason contains the file but still can&#39;t be found so I did the commands manually. \r\n\r\nI can build my image just fine but when running it using docker run -it --rm -p 8080:8080 myapp the cli becomes stuck and unresponsive until I ctrl+C. the app.log gives no output. When executing the `CMD [&quot;sh&quot;, &quot;-c&quot;, &quot;Xvfb :99 -screen 0 1024x768x16 &amp; ]` and `\\n\\\r\n    java -jar -Dserver.address=0.0.0.0 -Dserver.port=8080 merlin.jar &gt; /app/app.log&quot;` seperately using commando: docker run -it --rm myapp /bin/bash it indicates the xvfb server works and is running. The second command however makes the cli freeze. I want that users with 0 technical skills can just download docker run this image and have the java GUI open for it&#39;s intended usage. The user shouldn&#39;t have to download anything else. No local x11 servers as they should be done in the dockerfile. I have been stuck on this for a bit now since I lack log information and have limited knowledge about this. Hope someone can assist, thanks in advance!\r\n\r\nedit: I did manage to get it working with a locally setup xming server but i&#39;d like this to work inside the docker container.","title":"java GUI inside docker container stuck on running container","body":"<p>I have the following dockerfile</p>\n<pre class=\"lang-none prettyprint-override\"><code># Set the base image to openjdk:8-jdk\nFROM openjdk:8-jdk\n\n# Set environment variables\nENV DISPLAY=:99\n\n# Install required packages\nRUN apt-get update &amp;&amp; \\\napt-get install -y \\\ncurl \\\nuuid-runtime \\\nx11-apps \\\nxvfb \\\nlibxtst6 &amp;&amp; \\\nrm -rf /var/lib/apt/lists/*\n\n# Set the working directory to /app\nWORKDIR /app\n\n# Create the properties directory and copy the jar file and properties file to the container\nCOPY merlin.jar ./\nCOPY ./properties/message.properties properties/\n\n# Start Xvfb and the Java application\nCMD [&quot;sh&quot;, &quot;-c&quot;, &quot;Xvfb :99 -screen 0 1024x768x16 &amp; \\n\\\njava -jar -Dserver.address=0.0.0.0 -Dserver.port=8080 merlin.jar &gt; /app/app.log&quot;]\n</code></pre>\n<p>my file structure is directory: merlin.jar, dockerfile, properties folder containing message.properties file. This was needed since the jar file for some reason contains the file but still can't be found so I did the commands manually.</p>\n<p>I can build my image just fine but when running it using docker run -it --rm -p 8080:8080 myapp the cli becomes stuck and unresponsive until I ctrl+C. the app.log gives no output. When executing the <code>CMD [&quot;sh&quot;, &quot;-c&quot;, &quot;Xvfb :99 -screen 0 1024x768x16 &amp; ]</code> and <code>\\n\\ java -jar -Dserver.address=0.0.0.0 -Dserver.port=8080 merlin.jar &gt; /app/app.log&quot;</code> seperately using commando: docker run -it --rm myapp /bin/bash it indicates the xvfb server works and is running. The second command however makes the cli freeze. I want that users with 0 technical skills can just download docker run this image and have the java GUI open for it's intended usage. The user shouldn't have to download anything else. No local x11 servers as they should be done in the dockerfile. I have been stuck on this for a bit now since I lack log information and have limited knowledge about this. Hope someone can assist, thanks in advance!</p>\n<p>edit: I did manage to get it working with a locally setup xming server but i'd like this to work inside the docker container.</p>\n"},{"tags":["java","image","image-processing"],"answers":[{"tags":[],"owner":{"account_id":19065426,"reputation":36,"user_id":13920601,"display_name":"butcher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1595227796,"creation_date":1595226751,"answer_id":62989791,"question_id":62989677,"body_markdown":"[Pixymeta][1] might be the library you are looking for. It is commercially usable and is free of charge. It&#39;s a successor of [iCafe][2]. \r\n\r\nFor example of the use of the iCafe library for writing to IPTC see [this thread][3].\r\n\r\n\r\n  [1]: https://github.com/dragon66/pixymeta\r\n  [2]: https://github.com/dragon66/icafe\r\n  [3]: https://stackoverflow.com/a/50732994/13920601","title":"How to update metadata of png/jpg/tif images using Java?","body":"<p><a href=\"https://github.com/dragon66/pixymeta\" rel=\"nofollow noreferrer\">Pixymeta</a> might be the library you are looking for. It is commercially usable and is free of charge. It's a successor of <a href=\"https://github.com/dragon66/icafe\" rel=\"nofollow noreferrer\">iCafe</a>.</p>\n<p>For example of the use of the iCafe library for writing to IPTC see <a href=\"https://stackoverflow.com/a/50732994/13920601\">this thread</a>.</p>\n"},{"tags":[],"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678876821,"creation_date":1678876821,"answer_id":75743571,"question_id":62989677,"body_markdown":"It&#39;s supported by the standard Java API since at least Java 1.5 as far as I remember, use the package javax.imageio.metadata, especially [IIOMetadata][1]. There&#39;s an [example in the official documentation][2]. JPEG and PNG are fully supported, [TIFF requires at least Java 9][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/metadata/IIOMetadata.html\r\n  [2]: https://docs.oracle.com/javase/1.5.0/docs/guide/imageio/spec/apps.fm5.html\r\n  [3]: https://openjdk.org/jeps/262","title":"How to update metadata of png/jpg/tif images using Java?","body":"<p>It's supported by the standard Java API since at least Java 1.5 as far as I remember, use the package javax.imageio.metadata, especially <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/metadata/IIOMetadata.html\" rel=\"nofollow noreferrer\">IIOMetadata</a>. There's an <a href=\"https://docs.oracle.com/javase/1.5.0/docs/guide/imageio/spec/apps.fm5.html\" rel=\"nofollow noreferrer\">example in the official documentation</a>. JPEG and PNG are fully supported, <a href=\"https://openjdk.org/jeps/262\" rel=\"nofollow noreferrer\">TIFF requires at least Java 9</a>.</p>\n"}],"owner":{"account_id":7373609,"reputation":59,"user_id":13222106,"display_name":"Johannes1509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":62989791,"answer_count":2,"score":1,"last_activity_date":1678876821,"creation_date":1595226160,"question_id":62989677,"body_markdown":"Which possibility do I have to write meta data in the form of key-value strings into the file formats .jpg, .tif, .png using Java? In the best case I am looking for a uniform procedure using standard Java tools or a library. Is there a suitable library that can be used free of charge for commercial purposes or can I otherwise access the metadata to change it?","title":"How to update metadata of png/jpg/tif images using Java?","body":"<p>Which possibility do I have to write meta data in the form of key-value strings into the file formats .jpg, .tif, .png using Java? In the best case I am looking for a uniform procedure using standard Java tools or a library. Is there a suitable library that can be used free of charge for commercial purposes or can I otherwise access the metadata to change it?</p>\n"},{"tags":["java","spring","date","jackson","annotations"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1553722984,"post_id":55386761,"comment_id":97495737,"body_markdown":"Take a look on this question: [Spring Boot Jackson date and timestamp Format](https://stackoverflow.com/questions/55256567/spring-boot-jackson-date-and-timestamp-format)","body":"Take a look on this question: <a href=\"https://stackoverflow.com/questions/55256567/spring-boot-jackson-date-and-timestamp-format\">Spring Boot Jackson date and timestamp Format</a>"}],"answers":[{"tags":[],"owner":{"account_id":12614113,"reputation":173,"user_id":9172181,"display_name":"codiallo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1553722717,"creation_date":1553722717,"answer_id":55386863,"question_id":55386761,"body_markdown":"Try this\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;)\r\n\tprivate Date callStartTime;","title":"Jackson @JsonFormat converting date with incorrect timezone","body":"<p>Try this</p>\n\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd'T'HH:mm:ss.SSSXXX\")\nprivate Date callStartTime;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15487418,"reputation":1884,"user_id":11173046,"display_name":"Not a JD"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1553728700,"creation_date":1553723040,"answer_id":55386929,"question_id":55386761,"body_markdown":"[java.util.Date][1] does not capture time zone data. It only knows about number of millis since the epoch.\r\n\r\nYou could try using one of the modules in [jackson-modules-java8][2] and deserialize into an instance of [ZonedDateTime][3] instead, which is time-zone aware.\r\n\r\nEDIT: try this as a basis for getting it to work:\r\n\r\n    public class SoTest {\r\n        public static void main(String[] args) throws Exception {\r\n            ObjectMapper om = new ObjectMapper().registerModule(new ParameterNamesModule())\r\n                                                .registerModule(new JavaTimeModule());\r\n    \r\n            String s = &quot;{\\&quot;callStartTime\\&quot; : \\&quot;2019-03-27T13:00:00Z\\&quot; }&quot;;\r\n    \r\n            MyType mt = om.readValue(s, MyType.class);\r\n    \r\n            System.out.println(mt.getCallStartTime());\r\n        }\r\n    }\r\n    \r\n    class MyType {\r\n        @JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssX&quot;, lenient = OptBoolean.FALSE)\r\n        private ZonedDateTime callStartTime;\r\n    \r\n        public ZonedDateTime getCallStartTime() {\r\n            return callStartTime;\r\n        }\r\n    \r\n        public void setCallStartTime(ZonedDateTime date) {\r\n            this.callStartTime = date;\r\n        }\r\n    \r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\r\n  [2]: https://github.com/FasterXML/jackson-modules-java8\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n","title":"Jackson @JsonFormat converting date with incorrect timezone","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\">java.util.Date</a> does not capture time zone data. It only knows about number of millis since the epoch.</p>\n\n<p>You could try using one of the modules in <a href=\"https://github.com/FasterXML/jackson-modules-java8\" rel=\"nofollow noreferrer\">jackson-modules-java8</a> and deserialize into an instance of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\">ZonedDateTime</a> instead, which is time-zone aware.</p>\n\n<p>EDIT: try this as a basis for getting it to work:</p>\n\n<pre><code>public class SoTest {\n    public static void main(String[] args) throws Exception {\n        ObjectMapper om = new ObjectMapper().registerModule(new ParameterNamesModule())\n                                            .registerModule(new JavaTimeModule());\n\n        String s = \"{\\\"callStartTime\\\" : \\\"2019-03-27T13:00:00Z\\\" }\";\n\n        MyType mt = om.readValue(s, MyType.class);\n\n        System.out.println(mt.getCallStartTime());\n    }\n}\n\nclass MyType {\n    @JsonFormat(pattern = \"yyyy-MM-dd'T'HH:mm:ssX\", lenient = OptBoolean.FALSE)\n    private ZonedDateTime callStartTime;\n\n    public ZonedDateTime getCallStartTime() {\n        return callStartTime;\n    }\n\n    public void setCallStartTime(ZonedDateTime date) {\n        this.callStartTime = date;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9084001,"reputation":627,"user_id":6762781,"display_name":"Utkarsh Gandhi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1553806216,"creation_date":1553806216,"answer_id":55406647,"question_id":55386761,"body_markdown":"**Simple solution:** I solved it by changing the data type to `String` which completes my aim to capture the value as it is coming from JSON payload. Using `Date` and other data types were converting the value to some different timezone.\r\n\r\n    @JsonProperty(&quot;callStartTime&quot;)\r\n    @Column(name = &quot;call_start_dt&quot;, nullable = false)\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, lenient = OptBoolean.FALSE)\r\n    private **String** callStartTime;\r\n\r\n","title":"Jackson @JsonFormat converting date with incorrect timezone","body":"<p><strong>Simple solution:</strong> I solved it by changing the data type to <code>String</code> which completes my aim to capture the value as it is coming from JSON payload. Using <code>Date</code> and other data types were converting the value to some different timezone.</p>\n\n<pre><code>@JsonProperty(\"callStartTime\")\n@Column(name = \"call_start_dt\", nullable = false)\n@JsonFormat(pattern = \"yyyy-MM-dd HH:mm:ss\", lenient = OptBoolean.FALSE)\nprivate **String** callStartTime;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10728079,"reputation":1543,"user_id":7895005,"display_name":"Pramod H G"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1600064132,"creation_date":1600064132,"answer_id":63878979,"question_id":55386761,"body_markdown":"There are two possible solutions for this :\r\n\r\n**1. Define ObjectMapper bean and set date format.**\r\n\r\n    @Bean\r\n\tpublic ObjectMapper objectMapper()\r\n\t{\r\n\t   ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n\t   DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t   objectMapper.setDateFormat(df);\r\n\t\t   return objectMapper;\r\n\t}\r\n\r\n**2. Set date format for the particular field using @JsonFormat**\r\n\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, lenient = OptBoolean.FALSE)\r\n    private Date createTime;","title":"Jackson @JsonFormat converting date with incorrect timezone","body":"<p>There are two possible solutions for this :</p>\n<p><strong>1. Define ObjectMapper bean and set date format.</strong></p>\n<pre><code>@Bean\npublic ObjectMapper objectMapper()\n{\n   ObjectMapper objectMapper = new ObjectMapper();\n\n   DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n   objectMapper.setDateFormat(df);\n       return objectMapper;\n}\n</code></pre>\n<p><strong>2. Set date format for the particular field using @JsonFormat</strong></p>\n<pre><code>@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, lenient = OptBoolean.FALSE)\nprivate Date createTime;\n</code></pre>\n"}],"owner":{"account_id":9084001,"reputation":627,"user_id":6762781,"display_name":"Utkarsh Gandhi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15344,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55406647,"answer_count":4,"score":4,"last_activity_date":1678876541,"creation_date":1553722273,"question_id":55386761,"body_markdown":"I have a value coming in from JSON payload as: \r\n\r\n    &quot;callStartTime&quot; : &quot;2019-03-27 13:00:00&quot;\r\n\r\nEntity.java\r\n\r\n    @JsonProperty(&quot;callStartTime&quot;)\r\n    @Column(name = &quot;call_start_dt&quot;, nullable = false)\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, lenient = OptBoolean.FALSE)\r\n    private Date callStartTime;\r\n\r\nWhen I printed it on console, it says:\r\n\r\n    Wed Mar 27 08:00:00 CDT 2019\r\n\r\nI wanted to be the same as it was in json payload. How I can fix it?\r\n\r\nI am just taking date from json and writing it to mysql db in a datetime column. \r\n\r\n","title":"Jackson @JsonFormat converting date with incorrect timezone","body":"<p>I have a value coming in from JSON payload as: </p>\n\n<pre><code>\"callStartTime\" : \"2019-03-27 13:00:00\"\n</code></pre>\n\n<p>Entity.java</p>\n\n<pre><code>@JsonProperty(\"callStartTime\")\n@Column(name = \"call_start_dt\", nullable = false)\n@JsonFormat(pattern = \"yyyy-MM-dd HH:mm:ss\", lenient = OptBoolean.FALSE)\nprivate Date callStartTime;\n</code></pre>\n\n<p>When I printed it on console, it says:</p>\n\n<pre><code>Wed Mar 27 08:00:00 CDT 2019\n</code></pre>\n\n<p>I wanted to be the same as it was in json payload. How I can fix it?</p>\n\n<p>I am just taking date from json and writing it to mysql db in a datetime column. </p>\n"},{"tags":["java","android","hotspot"],"owner":{"account_id":22821029,"reputation":96,"user_id":16970888,"display_name":"Jamebes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678876524,"creation_date":1678876524,"question_id":75743519,"body_markdown":"My Android 7.1, I cannot turnon hotspot. \r\n[![enter image description here](https://i.stack.imgur.com/2tatP.png)](https://i.stack.imgur.com/2tatP.png)\r\nIf i click switch to turn on then It ok \r\n[![enter image description here](https://i.stack.imgur.com/PlzvP.png)](https://i.stack.imgur.com/PlzvP.png)\r\nMy code to turn on that: ([similar example code in SO](https://stackoverflow.com/questions/6394599/android-turn-on-off-wifi-hotspot-programmatically))\r\nGet wifi config\r\n\r\n    public WifiConfiguration getWifiApConfiguration(Context context) {\r\n    \tWifiManager wifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\r\n    \ttry {\r\n    \t\tMethod method = wifiManager.getClass().getMethod(&quot;getWifiApConfiguration&quot;);\r\n    \t\t\treturn (WifiConfiguration) method.invoke(wifiManager);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLog.e(this.getClass().toString(), &quot;&quot;, e);\r\n    \t\t\treturn null;\r\n    \t}\r\n    }\r\n\r\nTurn on hotspot\r\n\r\n    public boolean setWifiEnabled(Context context, WifiConfiguration wifiConfig, boolean enabled) {\r\n    \tWifiManager wifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\r\n    \ttry {\r\n    \t\tif (enabled) { //disables wifi if it&#39;s already enabled\r\n    \t\t\twifiManager.setWifiEnabled(false);\r\n    \t\t}\r\n    \r\n    \t\tMethod method = wifiManager.getClass()\r\n    \t\t\t.getMethod(&quot;setWifiApEnabled&quot;, WifiConfiguration.class, boolean.class);\r\n    \r\n    \t\treturn (Boolean) method.invoke(wifiManager, wifiConfig, enabled);\r\n    \t} catch (Exception e) {\r\n    \t\tLog.e(this.getClass().toString(), &quot;&quot;, e);\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nMy app granded full permssions, I checked :\r\n\r\n    private void checkPermissions() {\r\n    \tPackageManager pm = weakReference.get(). getPackageManager();\r\n    \tString packageName =weakReference.get(). getPackageName();\r\n    \ttry {\r\n    \t\tPackageInfo packageInfo = pm.getPackageInfo(packageName, PackageManager.GET_PERMISSIONS);\r\n    \t\tString[] permissions = packageInfo.requestedPermissions;\r\n    \t\t\tif (permissions != null) {\r\n    \t\t\t\tfor (String permission : permissions) {\r\n    \t\t\t\t\tint hasPermission = ContextCompat.checkSelfPermission(weakReference.get(), permission);\r\n    \t\t\t\t\tif (hasPermission != PackageManager.PERMISSION_GRANTED) {\r\n    \t\t\t\t\tLog.d(&quot;Permission&quot;, &quot;Permission denied for: &quot; + permission);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\tLog.d(&quot;Permission&quot;, &quot;Permission granted for: &quot; + permission);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (PackageManager.NameNotFoundException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n\r\n&gt; Permission granted for: android.permission.ACCESS_WIFI_STATE\r\n&gt; D/Permission: Permission granted for:\r\n&gt; android.permission.CHANGE_WIFI_STATE D/Permission: Permission granted\r\n&gt; for: android.permission.WRITE_SETTINGS D/Permission: Permission\r\n&gt; granted for: android.permission.CHANGE_NETWORK_STATE\r\n\r\n","title":"Can not turn on Hotspot Android","body":"<p>My Android 7.1, I cannot turnon hotspot.\n<a href=\"https://i.stack.imgur.com/2tatP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2tatP.png\" alt=\"enter image description here\" /></a>\nIf i click switch to turn on then It ok\n<a href=\"https://i.stack.imgur.com/PlzvP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PlzvP.png\" alt=\"enter image description here\" /></a>\nMy code to turn on that: (<a href=\"https://stackoverflow.com/questions/6394599/android-turn-on-off-wifi-hotspot-programmatically\">similar example code in SO</a>)\nGet wifi config</p>\n<pre><code>public WifiConfiguration getWifiApConfiguration(Context context) {\n    WifiManager wifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\n    try {\n        Method method = wifiManager.getClass().getMethod(&quot;getWifiApConfiguration&quot;);\n            return (WifiConfiguration) method.invoke(wifiManager);\n        } catch (Exception e) {\n            Log.e(this.getClass().toString(), &quot;&quot;, e);\n            return null;\n    }\n}\n</code></pre>\n<p>Turn on hotspot</p>\n<pre><code>public boolean setWifiEnabled(Context context, WifiConfiguration wifiConfig, boolean enabled) {\n    WifiManager wifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\n    try {\n        if (enabled) { //disables wifi if it's already enabled\n            wifiManager.setWifiEnabled(false);\n        }\n\n        Method method = wifiManager.getClass()\n            .getMethod(&quot;setWifiApEnabled&quot;, WifiConfiguration.class, boolean.class);\n\n        return (Boolean) method.invoke(wifiManager, wifiConfig, enabled);\n    } catch (Exception e) {\n        Log.e(this.getClass().toString(), &quot;&quot;, e);\n        return false;\n    }\n}\n</code></pre>\n<p>My app granded full permssions, I checked :</p>\n<pre><code>private void checkPermissions() {\n    PackageManager pm = weakReference.get(). getPackageManager();\n    String packageName =weakReference.get(). getPackageName();\n    try {\n        PackageInfo packageInfo = pm.getPackageInfo(packageName, PackageManager.GET_PERMISSIONS);\n        String[] permissions = packageInfo.requestedPermissions;\n            if (permissions != null) {\n                for (String permission : permissions) {\n                    int hasPermission = ContextCompat.checkSelfPermission(weakReference.get(), permission);\n                    if (hasPermission != PackageManager.PERMISSION_GRANTED) {\n                    Log.d(&quot;Permission&quot;, &quot;Permission denied for: &quot; + permission);\n                    } else {\n                    Log.d(&quot;Permission&quot;, &quot;Permission granted for: &quot; + permission);\n                    }\n                }\n            }\n        } catch (PackageManager.NameNotFoundException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<blockquote>\n<p>Permission granted for: android.permission.ACCESS_WIFI_STATE\nD/Permission: Permission granted for:\nandroid.permission.CHANGE_WIFI_STATE D/Permission: Permission granted\nfor: android.permission.WRITE_SETTINGS D/Permission: Permission\ngranted for: android.permission.CHANGE_NETWORK_STATE</p>\n</blockquote>\n"},{"tags":["java","file","upload"],"answers":[{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669673466,"creation_date":1669673466,"answer_id":74607010,"question_id":74603705,"body_markdown":"There&#39;s this [stackoverflow answer][1] for implementing resumable downloads. \r\n\r\nPerhaps you can use [Google APIs - Direct and Resumable Media Uploads][2]. This is just a suggestion: I haven&#39;t used it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22107823/1271785\r\n  [2]: https://developers.google.com/api-client-library/java/google-api-java-client/media-upload","title":"Resumable upload and download code implementation in Java spring boot","body":"<p>There's this <a href=\"https://stackoverflow.com/a/22107823/1271785\">stackoverflow answer</a> for implementing resumable downloads.</p>\n<p>Perhaps you can use <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/media-upload\" rel=\"nofollow noreferrer\">Google APIs - Direct and Resumable Media Uploads</a>. This is just a suggestion: I haven't used it.</p>\n"}],"owner":{"account_id":27075007,"reputation":13,"user_id":20625086,"display_name":"Ajith S P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74607010,"answer_count":1,"score":1,"last_activity_date":1678876304,"creation_date":1669653140,"question_id":74603705,"body_markdown":"Please help me with the code implementation for resumable upload and download of file in Java spring boot.\r\n\r\nIs there any library to use for resumable upload and download files in java   \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Resumable upload and download code implementation in Java spring boot","body":"<p>Please help me with the code implementation for resumable upload and download of file in Java spring boot.</p>\n<p>Is there any library to use for resumable upload and download files in java</p>\n"},{"tags":["java","oop","generics"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1571766434,"post_id":58509727,"comment_id":103347222,"body_markdown":"Even for things that don&#39;t make any sense to be added together?","body":"Even for things that don&#39;t make any sense to be added together?"},{"owner":{"account_id":7501556,"reputation":2621,"user_id":5699679,"display_name":"Avi"},"score":0,"creation_date":1571766462,"post_id":58509727,"comment_id":103347240,"body_markdown":"Not possible, not desirable.","body":"Not possible, not desirable."},{"owner":{"account_id":16220731,"reputation":719,"user_id":11712317,"display_name":"Prince Vegeta"},"score":1,"creation_date":1571767319,"post_id":58509727,"comment_id":103347615,"body_markdown":"@ayush If you are sure that both numbers input will be of same data type, using a `generic` method might help.","body":"@ayush If you are sure that both numbers input will be of same data type, using a <code>generic</code> method might help."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1571768060,"post_id":58509727,"comment_id":103347927,"body_markdown":"If you take a look at the `Arrays class` you will see that methods that do the same operation for primitive types need to be overloaded.","body":"If you take a look at the <code>Arrays class</code> you will see that methods that do the same operation for primitive types need to be overloaded."}],"answers":[{"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571768137,"creation_date":1571767832,"answer_id":58510096,"question_id":58509727,"body_markdown":"This is not possible because you can&#39;t add arbitrary objects using the `+` operator (see [Java specification for &#39;+&#39; operator](https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.18)).\r\n\r\nIf you don&#39;t care about losing precision in some cases, you could define the type of the parameters to be [`Number`](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Number.html) and then call `doubleValue` and/ or `longValue` before doing the addition. The only other way is to write a separate method for each of the primitive types.\r\n\r\nHowever, if you want to add arbitrary objects together, you could create an `Addable` interface which defines an `add(Addable other)` method and implement that method in your classes. I don&#39;t know how you would define such an addition, but ultimately that&#39;s up to you.\r\n\r\nSome classes, like `BigInteger` already have such a method. It is, however, not defined by an interface and only takes objects of the same type.","title":"Generalized method to get sum of any data type in java","body":"<p>This is not possible because you can't add arbitrary objects using the <code>+</code> operator (see <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.18\" rel=\"nofollow noreferrer\">Java specification for '+' operator</a>).</p>\n\n<p>If you don't care about losing precision in some cases, you could define the type of the parameters to be <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Number.html\" rel=\"nofollow noreferrer\"><code>Number</code></a> and then call <code>doubleValue</code> and/ or <code>longValue</code> before doing the addition. The only other way is to write a separate method for each of the primitive types.</p>\n\n<p>However, if you want to add arbitrary objects together, you could create an <code>Addable</code> interface which defines an <code>add(Addable other)</code> method and implement that method in your classes. I don't know how you would define such an addition, but ultimately that's up to you.</p>\n\n<p>Some classes, like <code>BigInteger</code> already have such a method. It is, however, not defined by an interface and only takes objects of the same type.</p>\n"}],"owner":{"account_id":4650743,"reputation":1,"user_id":3767710,"display_name":"asur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678875682,"creation_date":1571766216,"question_id":58509727,"body_markdown":"I want a general method which can give me output for any data type passed to its arguments.\r\n\r\nFor example:\r\n\r\nWe have to write many same implementations for different data types.\r\n\r\n```\r\nclass Test {\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tint x=sum(1,2);\r\n\t\tdouble y=sum(1.11,2.22);\r\n\t\tString z=sum(&quot;1&quot;,&quot;2&quot;);\r\n\t}\r\n\r\n\tstatic public int sum(int a, int b) {\r\n\t\treturn a + b;\r\n\t}\r\n\r\n\tstatic public double sum(double a, double b) {\r\n\t\treturn a + b;\r\n\t}\r\n\r\n\tstatic public String sum(String a, String b) {\r\n\t\treturn a + b;\r\n\t}\r\n}\r\n```\r\n\r\nNeed only one method which can accept any data type and return the output.\r\n","title":"Generalized method to get sum of any data type in java","body":"<p>I want a general method which can give me output for any data type passed to its arguments.</p>\n\n<p>For example:</p>\n\n<p>We have to write many same implementations for different data types.</p>\n\n<pre><code>class Test {\n\n    public static void main(String args[]) {\n        int x=sum(1,2);\n        double y=sum(1.11,2.22);\n        String z=sum(\"1\",\"2\");\n    }\n\n    static public int sum(int a, int b) {\n        return a + b;\n    }\n\n    static public double sum(double a, double b) {\n        return a + b;\n    }\n\n    static public String sum(String a, String b) {\n        return a + b;\n    }\n}\n</code></pre>\n\n<p>Need only one method which can accept any data type and return the output.</p>\n"},{"tags":["java","json","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":19114960,"reputation":508,"user_id":14438633,"display_name":"Gilad Dahan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678874567,"creation_date":1678874567,"answer_id":75743156,"question_id":75742582,"body_markdown":"My issue was with my ObjectMapper that was from package org.codehaus.jackson and my JSON annotations were from fasterxml","title":"Json polymorphism deserialization","body":"<p>My issue was with my ObjectMapper that was from package org.codehaus.jackson and my JSON annotations were from fasterxml</p>\n"}],"owner":{"account_id":19114960,"reputation":508,"user_id":14438633,"display_name":"Gilad Dahan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678874567,"creation_date":1678871440,"question_id":75742582,"body_markdown":"I am trying to deserialize a JSON file to my classes in Java. I have tried all possible solutions I could find with the JSON annotations, such as `@JsonSubTypes`, `@JsonTypeInfo` and with CLASS, NAME and all I can find. However, none of the solutions worked.\r\n\r\nPlease see below the raw JSON file and classes before the changes.\r\n\r\nJSON file:\r\n```json\r\n{\r\n  &quot;data&quot;: [\r\n    {\r\n        &quot;error_msg&quot;: &quot;error msg 1&quot;,\r\n        &quot;error_code&quot;: &quot;error code 1&quot;,\r\n\t\t&quot;type&quot;: &quot;error&quot;\r\n    },\r\n    {\r\n        &quot;data&quot;: [\r\n          {\r\n\t\t    &quot;error_msg&quot;: &quot;error msg 2&quot;,\r\n\t\t    &quot;error_code&quot;: &quot;error code 2&quot;,\r\n\t\t\t&quot;type&quot;: &quot;error&quot;\r\n          }\r\n        ],\r\n        &quot;name&quot;: &quot;group1&quot;,\r\n\t\t&quot;type&quot;: &quot;group&quot;\r\n     }\r\n  ],\r\n  &quot;name&quot;: &quot;exceptions_db&quot;,\r\n  &quot;version&quot;: &quot;1&quot;\r\n}\r\n```\r\n\r\nJava classes:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ExceptionsModel implements JsonModel{\r\n    private String version;\r\n    private String name;\r\n    private List&lt;ExceptionItem&gt; data;\r\n\r\n    public void setData(List&lt;ExceptionItem&gt; data) {\r\n        if (data.size() &lt; 1) {\r\n            throw new IllegalArgumentException(&quot;Data array must contain at least one item&quot;);\r\n        }\r\n        this.data = data;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Error extends ExceptionItem {\r\n    private String error_msg;\r\n    private String error_code;\r\n}\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Group extends ExceptionItem {\r\n    private String name;\r\n    private List&lt;ExceptionItem&gt; data;\r\n\r\n    public Group(String name, List&lt;ExceptionItem&gt; data) {\r\n        if (data.size() &lt; 1) {\r\n            throw new IllegalArgumentException(&quot;Data array must contain at least one item&quot;);\r\n        }\r\n        this.name = name;\r\n        this.data = data;\r\n    }\r\n\r\n    public void setData(List&lt;ExceptionItem&gt; data) {\r\n        if (data.size() &lt; 1) {\r\n            throw new IllegalArgumentException(&quot;Data array must contain at least one item&quot;);\r\n        }\r\n        this.data = data;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic abstract class ExceptionItem {\r\n}\r\n```\r\n\r\nEach item in my model and JSON, under data property, can be either a group or error object.\r\n\r\nUPDATE:\r\n\r\nI have tried to add the json annotations to ExceptionItem but still did not work\r\n\r\n```\r\n@JsonTypeInfo(use=JsonTypeInfo.Id.CLASS, include=JsonTypeInfo.As.PROPERTY, property=&quot;type&quot;)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Error.class, name = &quot;error&quot;),\r\n        @JsonSubTypes.Type(value = Group.class, name = &quot;group&quot;),\r\n})\r\npublic abstract class ExceptionItem {\r\n}\r\n```\r\n\r\nI am getting the following error:\r\n\r\n```\r\n Can not construct instance of com.altair.infrastructures.propertiesFile.jsonResourceLoader.exceptions.ExceptionItem, problem: abstract types can only be instantiated with additional type information\r\n at [Source: C:\\QA\\TestCaseGenerator\\systemFiles\\exceptions\\Exceptions_DB.json; line: 3, column: 5] (through reference chain: com.altair.infrastructures.propertiesFile.jsonResourceLoader.exceptions.ExceptionsModel[&quot;data&quot;])\r\n```","title":"Json polymorphism deserialization","body":"<p>I am trying to deserialize a JSON file to my classes in Java. I have tried all possible solutions I could find with the JSON annotations, such as <code>@JsonSubTypes</code>, <code>@JsonTypeInfo</code> and with CLASS, NAME and all I can find. However, none of the solutions worked.</p>\n<p>Please see below the raw JSON file and classes before the changes.</p>\n<p>JSON file:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot;: [\n    {\n        &quot;error_msg&quot;: &quot;error msg 1&quot;,\n        &quot;error_code&quot;: &quot;error code 1&quot;,\n        &quot;type&quot;: &quot;error&quot;\n    },\n    {\n        &quot;data&quot;: [\n          {\n            &quot;error_msg&quot;: &quot;error msg 2&quot;,\n            &quot;error_code&quot;: &quot;error code 2&quot;,\n            &quot;type&quot;: &quot;error&quot;\n          }\n        ],\n        &quot;name&quot;: &quot;group1&quot;,\n        &quot;type&quot;: &quot;group&quot;\n     }\n  ],\n  &quot;name&quot;: &quot;exceptions_db&quot;,\n  &quot;version&quot;: &quot;1&quot;\n}\n</code></pre>\n<p>Java classes:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ExceptionsModel implements JsonModel{\n    private String version;\n    private String name;\n    private List&lt;ExceptionItem&gt; data;\n\n    public void setData(List&lt;ExceptionItem&gt; data) {\n        if (data.size() &lt; 1) {\n            throw new IllegalArgumentException(&quot;Data array must contain at least one item&quot;);\n        }\n        this.data = data;\n    }\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Error extends ExceptionItem {\n    private String error_msg;\n    private String error_code;\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class Group extends ExceptionItem {\n    private String name;\n    private List&lt;ExceptionItem&gt; data;\n\n    public Group(String name, List&lt;ExceptionItem&gt; data) {\n        if (data.size() &lt; 1) {\n            throw new IllegalArgumentException(&quot;Data array must contain at least one item&quot;);\n        }\n        this.name = name;\n        this.data = data;\n    }\n\n    public void setData(List&lt;ExceptionItem&gt; data) {\n        if (data.size() &lt; 1) {\n            throw new IllegalArgumentException(&quot;Data array must contain at least one item&quot;);\n        }\n        this.data = data;\n    }\n}\n</code></pre>\n<pre><code>public abstract class ExceptionItem {\n}\n</code></pre>\n<p>Each item in my model and JSON, under data property, can be either a group or error object.</p>\n<p>UPDATE:</p>\n<p>I have tried to add the json annotations to ExceptionItem but still did not work</p>\n<pre><code>@JsonTypeInfo(use=JsonTypeInfo.Id.CLASS, include=JsonTypeInfo.As.PROPERTY, property=&quot;type&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = Error.class, name = &quot;error&quot;),\n        @JsonSubTypes.Type(value = Group.class, name = &quot;group&quot;),\n})\npublic abstract class ExceptionItem {\n}\n</code></pre>\n<p>I am getting the following error:</p>\n<pre><code> Can not construct instance of com.altair.infrastructures.propertiesFile.jsonResourceLoader.exceptions.ExceptionItem, problem: abstract types can only be instantiated with additional type information\n at [Source: C:\\QA\\TestCaseGenerator\\systemFiles\\exceptions\\Exceptions_DB.json; line: 3, column: 5] (through reference chain: com.altair.infrastructures.propertiesFile.jsonResourceLoader.exceptions.ExceptionsModel[&quot;data&quot;])\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":103891,"reputation":17673,"user_id":278042,"accept_rate":51,"display_name":"jkff"},"score":0,"creation_date":1499976172,"post_id":45069550,"comment_id":77152360,"body_markdown":"This seems strange - the transform appears to be working on my machine. What command are you using to run your pipeline? This class is defined in one of the maven dependencies of the &quot;sorter&quot; module, so I suppose for some reason it&#39;s just not making it into the classpath of your invocation.","body":"This seems strange - the transform appears to be working on my machine. What command are you using to run your pipeline? This class is defined in one of the maven dependencies of the &quot;sorter&quot; module, so I suppose for some reason it&#39;s just not making it into the classpath of your invocation."},{"owner":{"account_id":6100220,"reputation":573,"user_id":4759491,"accept_rate":62,"display_name":"bignano"},"score":0,"creation_date":1499985798,"post_id":45069550,"comment_id":77156648,"body_markdown":"Do you have Hadoop installed on your local Windows machine?","body":"Do you have Hadoop installed on your local Windows machine?"},{"owner":{"account_id":103891,"reputation":17673,"user_id":278042,"accept_rate":51,"display_name":"jkff"},"score":0,"creation_date":1500011624,"post_id":45069550,"comment_id":77163412,"body_markdown":"No, and this transform does not require having Hadoop installed. It only requires having the &quot;hadoop-core&quot; library jar in your classpath, and this jar is a maven dependency of the Apache Beam module that contains the SortValues transform, so if you&#39;re using Apache Beam as a maven dependency, then you definitely have this jar and you don&#39;t need anything else. That&#39;s why my hypothesis is that there&#39;s simply something wrong with the classpath of your program.","body":"No, and this transform does not require having Hadoop installed. It only requires having the &quot;hadoop-core&quot; library jar in your classpath, and this jar is a maven dependency of the Apache Beam module that contains the SortValues transform, so if you&#39;re using Apache Beam as a maven dependency, then you definitely have this jar and you don&#39;t need anything else. That&#39;s why my hypothesis is that there&#39;s simply something wrong with the classpath of your program."},{"owner":{"account_id":6100220,"reputation":573,"user_id":4759491,"accept_rate":62,"display_name":"bignano"},"score":0,"creation_date":1500032417,"post_id":45069550,"comment_id":77175106,"body_markdown":"Ok, does SortValues transform have a dependency on the version of Apache Beam (I am using 0.6)? Thanks","body":"Ok, does SortValues transform have a dependency on the version of Apache Beam (I am using 0.6)? Thanks"},{"owner":{"account_id":103891,"reputation":17673,"user_id":278042,"accept_rate":51,"display_name":"jkff"},"score":0,"creation_date":1500059270,"post_id":45069550,"comment_id":77191595,"body_markdown":"Not sure what you mean by dependency? SortValues is a *part* of Apache Beam.","body":"Not sure what you mean by dependency? SortValues is a <i>part</i> of Apache Beam."},{"owner":{"account_id":6100220,"reputation":573,"user_id":4759491,"accept_rate":62,"display_name":"bignano"},"score":0,"creation_date":1500062272,"post_id":45069550,"comment_id":77192975,"body_markdown":"what I mean is that whether the hadoop-core library jar being a maven dependency of Apache beam module depends on the version of beam version. I am using release-0.6.0 Beam, and I just checked that it doesn&#39;t contain hadoop-core, and nor does any release version below release-2.0.0.","body":"what I mean is that whether the hadoop-core library jar being a maven dependency of Apache beam module depends on the version of beam version. I am using release-0.6.0 Beam, and I just checked that it doesn&#39;t contain hadoop-core, and nor does any release version below release-2.0.0."},{"owner":{"account_id":103891,"reputation":17673,"user_id":278042,"accept_rate":51,"display_name":"jkff"},"score":0,"creation_date":1500063303,"post_id":45069550,"comment_id":77193496,"body_markdown":"Oh I see. Apologies, I was missing some context here. Looks like this JIRA issue specifically talks about this dependency: https://issues.apache.org/jira/browse/BEAM-1859 - and now I&#39;m no longer sure that the dependency being provided in Beam 2.0.0 is a good thing... So yeah, seems like you need to either use a newer version of Beam which provides it by default, or provide the dependency yourself in your maven file.","body":"Oh I see. Apologies, I was missing some context here. Looks like this JIRA issue specifically talks about this dependency: <a href=\"https://issues.apache.org/jira/browse/BEAM-1859\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/BEAM-1859</a> - and now I&#39;m no longer sure that the dependency being provided in Beam 2.0.0 is a good thing... So yeah, seems like you need to either use a newer version of Beam which provides it by default, or provide the dependency yourself in your maven file."},{"owner":{"account_id":6100220,"reputation":573,"user_id":4759491,"accept_rate":62,"display_name":"bignano"},"score":0,"creation_date":1500063769,"post_id":45069550,"comment_id":77193744,"body_markdown":"thanks jkff. your input is very helpful here. I just added two hadoop dependencies and it works now. thanks again.","body":"thanks jkff. your input is very helpful here. I just added two hadoop dependencies and it works now. thanks again."},{"owner":{"account_id":6100220,"reputation":573,"user_id":4759491,"accept_rate":62,"display_name":"bignano"},"score":0,"creation_date":1500064303,"post_id":45069550,"comment_id":77194045,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/149261/discussion-between-bignano-and-jkff).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/149261/discussion-between-bignano-and-jkff\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":6100220,"reputation":573,"user_id":4759491,"accept_rate":62,"display_name":"bignano"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1500064578,"creation_date":1500063950,"answer_id":45111111,"question_id":45069550,"body_markdown":"As of today, if you use Beam with release version below 2.0.0, you will have to add two hadoop dependencies in your maven pom file  for this SortValues module to work.\r\n\r\n1. add `hadoop-common` version 2.7.3 or later\r\n2. add `hadoop-mapreduce-client-core` version 2.7.3 or later.\r\n\r\nOtherwise, you will just need to use Beam with release version &gt;= 2.0.0.","title":"Does SortValues transform Java SDK extension in Beam only run in hadoop environment?","body":"<p>As of today, if you use Beam with release version below 2.0.0, you will have to add two hadoop dependencies in your maven pom file  for this SortValues module to work.</p>\n\n<ol>\n<li>add <code>hadoop-common</code> version 2.7.3 or later</li>\n<li>add <code>hadoop-mapreduce-client-core</code> version 2.7.3 or later.</li>\n</ol>\n\n<p>Otherwise, you will just need to use Beam with release version >= 2.0.0.</p>\n"}],"owner":{"account_id":6100220,"reputation":573,"user_id":4759491,"accept_rate":62,"display_name":"bignano"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45111111,"answer_count":1,"score":2,"last_activity_date":1678874532,"creation_date":1499905344,"question_id":45069550,"body_markdown":"I have tried the example code of [SortValues][1] transform using `DirectRunner` on local machine (Windows)\r\n\r\n    PCollection&lt;KV&lt;String, KV&lt;String, Integer&gt;&gt;&gt; input = ...\r\n\r\n    PCollection&lt;KV&lt;String, Iterable&lt;KV&lt;String, Integer&gt;&gt;&gt;&gt; grouped =\r\n    input.apply(GroupByKey.&lt;String, KV&lt;String, Integer&gt;&gt;create());\r\n\r\n    PCollection&lt;KV&lt;String, Iterable&lt;KV&lt;String, Integer&gt;&gt;&gt;&gt; groupedAndSorted =\r\n    grouped.apply(SortValues.&lt;String, String, Integer&gt;create(BufferedExternalSorter.options()));\r\n\r\nbut I got the error `PipelineExecutionException: java.lang.NoClassDefFoundError: org/apache/hadoop/io/Writable`. Does this mean this transform function only works in Hadoop environment?  \r\n\r\n  [1]: https://beam.apache.org/documentation/sdks/java-extensions/#sorter","title":"Does SortValues transform Java SDK extension in Beam only run in hadoop environment?","body":"<p>I have tried the example code of <a href=\"https://beam.apache.org/documentation/sdks/java-extensions/#sorter\" rel=\"nofollow noreferrer\">SortValues</a> transform using <code>DirectRunner</code> on local machine (Windows)</p>\n\n<pre><code>PCollection&lt;KV&lt;String, KV&lt;String, Integer&gt;&gt;&gt; input = ...\n\nPCollection&lt;KV&lt;String, Iterable&lt;KV&lt;String, Integer&gt;&gt;&gt;&gt; grouped =\ninput.apply(GroupByKey.&lt;String, KV&lt;String, Integer&gt;&gt;create());\n\nPCollection&lt;KV&lt;String, Iterable&lt;KV&lt;String, Integer&gt;&gt;&gt;&gt; groupedAndSorted =\ngrouped.apply(SortValues.&lt;String, String, Integer&gt;create(BufferedExternalSorter.options()));\n</code></pre>\n\n<p>but I got the error <code>PipelineExecutionException: java.lang.NoClassDefFoundError: org/apache/hadoop/io/Writable</code>. Does this mean this transform function only works in Hadoop environment?  </p>\n"},{"tags":["java","android","countdowntimer"],"comments":[{"owner":{"account_id":11524089,"reputation":161,"user_id":8445079,"display_name":"Paolino L Angeletti"},"score":0,"creation_date":1678872967,"post_id":75742788,"comment_id":133615798,"body_markdown":"you have to set before an alarm service (https://stackoverflow.com/questions/24822506/how-to-start-a-service-at-a-specific-time) and when service is invoked you can start your CountDownTimer.\nWith code you posted, the CountDownTimer starts in invocation-time.","body":"you have to set before an alarm service (<a href=\"https://stackoverflow.com/questions/24822506/how-to-start-a-service-at-a-specific-time\" title=\"how to start a service at a specific time\">stackoverflow.com/questions/24822506/&hellip;</a>) and when service is invoked you can start your CountDownTimer. With code you posted, the CountDownTimer starts in invocation-time."},{"owner":{"account_id":26590140,"reputation":1,"user_id":20213493,"display_name":"Ravi Dixit"},"score":0,"creation_date":1678873070,"post_id":75742788,"comment_id":133615820,"body_markdown":"how to get next 5th min?","body":"how to get next 5th min?"}],"answers":[{"tags":[],"owner":{"account_id":11524089,"reputation":161,"user_id":8445079,"display_name":"Paolino L Angeletti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678874493,"creation_date":1678874493,"answer_id":75743138,"question_id":75742788,"body_markdown":"try with this code:\r\n\r\n    try with this code:\r\n\r\n    import java.time.LocalDateTime;\r\n\r\n    public class HelloWorld{\r\n\r\n     public static void main(String []args){\r\n        final LocalDateTime now = LocalDateTime.now();\r\n        System.out.println(&quot;Current time: &quot; + now);\r\n        final int minute = now.getMinute();\r\n        System.out.println(&quot;Current minute: &quot; + minute);\r\n        final int time_to_add = get_time_to_add(minute);\r\n        System.out.println(&quot;Time to add: &quot; + time_to_add);\r\n        final int next_5_minute = (minute + time_to_add) &lt; 60 ? (minute + time_to_add) : 0;\r\n        System.out.println(&quot;Next 5 minute: &quot; + next_5_minute);\r\n     }\r\n     \r\n     private static int get_time_to_add(final int currMinutes)\r\n     {\r\n         int toReturn = 5;\r\n         int newMinute = currMinutes + toReturn;\r\n         while(newMinute % 5 != 0){\r\n             toReturn -= 1;\r\n             newMinute = currMinutes + toReturn;\r\n         }\r\n         return toReturn;\r\n     }\r\n}","title":"Android countdown timer run in every 5th min","body":"<p>try with this code:</p>\n<pre><code>try with this code:\n\nimport java.time.LocalDateTime;\n\npublic class HelloWorld{\n\n public static void main(String []args){\n    final LocalDateTime now = LocalDateTime.now();\n    System.out.println(&quot;Current time: &quot; + now);\n    final int minute = now.getMinute();\n    System.out.println(&quot;Current minute: &quot; + minute);\n    final int time_to_add = get_time_to_add(minute);\n    System.out.println(&quot;Time to add: &quot; + time_to_add);\n    final int next_5_minute = (minute + time_to_add) &lt; 60 ? (minute + time_to_add) : 0;\n    System.out.println(&quot;Next 5 minute: &quot; + next_5_minute);\n }\n \n private static int get_time_to_add(final int currMinutes)\n {\n     int toReturn = 5;\n     int newMinute = currMinutes + toReturn;\n     while(newMinute % 5 != 0){\n         toReturn -= 1;\n         newMinute = currMinutes + toReturn;\n     }\n     return toReturn;\n }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":26590140,"reputation":1,"user_id":20213493,"display_name":"Ravi Dixit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678874493,"creation_date":1678872623,"question_id":75742788,"body_markdown":"I want android countdown timer that run every 5th mins, If current time is 02:33 then timer should run automatically at 02:35 for 5 mins and then stop and start again at 02:40.\r\n\r\nhere i want to pass Int T = next 5th min, if current min is 31 then i want 35.\r\n```\r\nprivate void Timer(int t){\r\n        Log.i(&quot;snake&quot;, String.valueOf(t));\r\n        new CountDownTimer(t*1000,1000) {\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n                long second = (millisUntilFinished / 1000) % 60;\r\n                long minutes = (millisUntilFinished/(1000*60)) % 60;\r\n                timer.setText(&quot;Time Left - &quot; + minutes + &quot;:&quot; + second);\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n               \r\n                timer.setText(&quot;Finish&quot;);\r\n               // Timer();\r\n            }\r\n        }.start();\r\n    }\r\n```\r\n","title":"Android countdown timer run in every 5th min","body":"<p>I want android countdown timer that run every 5th mins, If current time is 02:33 then timer should run automatically at 02:35 for 5 mins and then stop and start again at 02:40.</p>\n<p>here i want to pass Int T = next 5th min, if current min is 31 then i want 35.</p>\n<pre><code>private void Timer(int t){\n        Log.i(&quot;snake&quot;, String.valueOf(t));\n        new CountDownTimer(t*1000,1000) {\n            @Override\n            public void onTick(long millisUntilFinished) {\n                long second = (millisUntilFinished / 1000) % 60;\n                long minutes = (millisUntilFinished/(1000*60)) % 60;\n                timer.setText(&quot;Time Left - &quot; + minutes + &quot;:&quot; + second);\n\n            }\n\n            @Override\n            public void onFinish() {\n               \n                timer.setText(&quot;Finish&quot;);\n               // Timer();\n            }\n        }.start();\n    }\n</code></pre>\n"},{"tags":["java","kotlin","swagger-codegen","openapi-generator"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1678888626,"post_id":75743079,"comment_id":133620349,"body_markdown":"openapi-generator has the [Kotlin client generator](https://openapi-generator.tech/docs/generators#client-generators). Have you tried it?","body":"openapi-generator has the <a href=\"https://openapi-generator.tech/docs/generators#client-generators\" rel=\"nofollow noreferrer\">Kotlin client generator</a>. Have you tried it?"},{"owner":{"account_id":19843435,"reputation":11,"user_id":14535747,"display_name":"drugzverya"},"score":0,"creation_date":1678962424,"post_id":75743079,"comment_id":133635871,"body_markdown":"Yes, but I couldn&#39;t to make what I need","body":"Yes, but I couldn&#39;t to make what I need"}],"owner":{"account_id":19843435,"reputation":11,"user_id":14535747,"display_name":"drugzverya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678874159,"creation_date":1678874159,"question_id":75743079,"body_markdown":"I need to generate **client&#39;s code in kotlin** using **swagger-codegen-maven-plugin or openapi-generator-maven-plugin**. For example in Java I can  set plugin **library** as **resttemplate** and I can autowire generated code. Or I can generate **feign client**. I want to do the same in kotlin, but I don&#39;t want to use java-code in kotlin.\r\n\r\nI tried different settings for plugins. I could generate java-code and use it in kotlin, but I want  to generate kotlin code only. And I want to use generated code with spring(If generate java code and set library as resttemplate, then generated code is ready to be autowired without additional settings)","title":"How to generate client code using openapi-maven-plugin or swagger-codegen-maven-plugin in kotlin","body":"<p>I need to generate <strong>client's code in kotlin</strong> using <strong>swagger-codegen-maven-plugin or openapi-generator-maven-plugin</strong>. For example in Java I can  set plugin <strong>library</strong> as <strong>resttemplate</strong> and I can autowire generated code. Or I can generate <strong>feign client</strong>. I want to do the same in kotlin, but I don't want to use java-code in kotlin.</p>\n<p>I tried different settings for plugins. I could generate java-code and use it in kotlin, but I want  to generate kotlin code only. And I want to use generated code with spring(If generate java code and set library as resttemplate, then generated code is ready to be autowired without additional settings)</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":381969,"reputation":616,"user_id":736922,"accept_rate":90,"display_name":"Lutosław"},"score":0,"creation_date":1678874916,"post_id":75743032,"comment_id":133616303,"body_markdown":"From my tests it seems to be true, but I&#39;d love to have a confirmation from SO JPA experts.","body":"From my tests it seems to be true, but I&#39;d love to have a confirmation from SO JPA experts."}],"owner":{"account_id":381969,"reputation":616,"user_id":736922,"accept_rate":90,"display_name":"Lutosław"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678873945,"creation_date":1678873945,"question_id":75743032,"body_markdown":"In a spring boot application which uses JpaRepositories, if I refresh a Postgres&#39; materialized view immediately after calling `repository.save(entity)`, will the view contain new entities?\r\n\r\nIn a code like this:\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class MyService {\r\n    private final MyRepository repository\r\n\r\n    @Transactional\r\n    public Collection&lt;FooEntity&gt; updateDatabaseEntries() {\r\n        // ...\r\n        val saved = repository.saveAll(dataRecords);\r\n        repository.refreshMyView();\r\n        return saved;\r\n    }\r\n}\r\n```\r\n\r\nand Repository:\r\n\r\n``` \r\n@Repository\r\npublic interface MyRepository extends JpaRepository&lt;FooEntity, UUID&gt; {\r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(value = &quot;REFRESH MATERIALIZED VIEW myView&quot;, nativeQuery = true)\r\n    void refreshMyView();\r\n}\r\n```\r\n\r\nand a view which accesses Foo entities, for example:\r\n\r\n```\r\nCREATE MATERIALIZED VIEW myView AS SELECT * from foo;\r\n```\r\n\r\nWill `myView` always contain data saved with `saveAll` in the `updateDatabaseEntries` method?\r\n\r\n","title":"Refresh Postgres Materialized view after calling Spring JPA save()","body":"<p>In a spring boot application which uses JpaRepositories, if I refresh a Postgres' materialized view immediately after calling <code>repository.save(entity)</code>, will the view contain new entities?</p>\n<p>In a code like this:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class MyService {\n    private final MyRepository repository\n\n    @Transactional\n    public Collection&lt;FooEntity&gt; updateDatabaseEntries() {\n        // ...\n        val saved = repository.saveAll(dataRecords);\n        repository.refreshMyView();\n        return saved;\n    }\n}\n</code></pre>\n<p>and Repository:</p>\n<pre><code>@Repository\npublic interface MyRepository extends JpaRepository&lt;FooEntity, UUID&gt; {\n\n    @Modifying\n    @Transactional\n    @Query(value = &quot;REFRESH MATERIALIZED VIEW myView&quot;, nativeQuery = true)\n    void refreshMyView();\n}\n</code></pre>\n<p>and a view which accesses Foo entities, for example:</p>\n<pre><code>CREATE MATERIALIZED VIEW myView AS SELECT * from foo;\n</code></pre>\n<p>Will <code>myView</code> always contain data saved with <code>saveAll</code> in the <code>updateDatabaseEntries</code> method?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1607639785,"post_id":64810320,"comment_id":115343924,"body_markdown":"there are 3 ways you can do it this in spring boot, check https://stackoverflow.com/questions/42367975/disable-http-options-method-in-spring-boot-application","body":"there are 3 ways you can do it this in spring boot, check <a href=\"https://stackoverflow.com/questions/42367975/disable-http-options-method-in-spring-boot-application\" title=\"disable http options method in spring boot application\">stackoverflow.com/questions/42367975/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20846237,"reputation":1,"user_id":15311676,"display_name":"iwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614656819,"creation_date":1614656819,"answer_id":66433046,"question_id":64810320,"body_markdown":"you can set \r\n\r\n    spring.mvc.dispatch-trace-request: true\r\n\r\nin your application.yml.\r\n\r\nthen, &quot;org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController&quot;\r\nwill create error response without any trace information.\r\n\r\nregards.\r\n","title":"Customize Spring Boot HTTP TRACE disabled error response","body":"<p>you can set</p>\n<pre><code>spring.mvc.dispatch-trace-request: true\n</code></pre>\n<p>in your application.yml.</p>\n<p>then, &quot;org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController&quot;\nwill create error response without any trace information.</p>\n<p>regards.</p>\n"},{"tags":[],"owner":{"account_id":9686495,"reputation":411,"user_id":7186122,"display_name":"C. Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658866623,"creation_date":1658866623,"answer_id":73129281,"question_id":64810320,"body_markdown":"I was faced with this same issue.\r\n\r\nI found a discussion about this issue here:\r\nhttps://github.com/spring-projects/spring-boot/issues/27372\r\n\r\nExample fix is here:\r\nhttps://github.com/juliojgd/sb-trace-http-test/pull/1/files#diff-aa5c385c4035be84995a138ca69a667c1d5e1460c4d675ab70275b1783f222c3\r\n\r\nNote: Where that example has @Import, replace that with @ImportAutoConfiguration instead.\r\n\r\n\r\nThis resolved the issue for me. Hopefully you have the same experience if you haven&#39;t already addressed it.","title":"Customize Spring Boot HTTP TRACE disabled error response","body":"<p>I was faced with this same issue.</p>\n<p>I found a discussion about this issue here:\n<a href=\"https://github.com/spring-projects/spring-boot/issues/27372\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/27372</a></p>\n<p>Example fix is here:\n<a href=\"https://github.com/juliojgd/sb-trace-http-test/pull/1/files#diff-aa5c385c4035be84995a138ca69a667c1d5e1460c4d675ab70275b1783f222c3\" rel=\"nofollow noreferrer\">https://github.com/juliojgd/sb-trace-http-test/pull/1/files#diff-aa5c385c4035be84995a138ca69a667c1d5e1460c4d675ab70275b1783f222c3</a></p>\n<p>Note: Where that example has @Import, replace that with @ImportAutoConfiguration instead.</p>\n<p>This resolved the issue for me. Hopefully you have the same experience if you haven't already addressed it.</p>\n"},{"tags":[],"owner":{"account_id":11602657,"reputation":99,"user_id":8499316,"display_name":"Pritam Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678873908,"creation_date":1678873908,"answer_id":75743023,"question_id":64810320,"body_markdown":"to enable TRACE in your application we need to add below in \r\n**application.yml**\r\n\r\n    spring:\r\n        mvc:\r\n            dispatch-trace-request: true\r\n\r\n**application.properties**\r\n\r\n    spring.mvc.dispatch-trace-request: true","title":"Customize Spring Boot HTTP TRACE disabled error response","body":"<p>to enable TRACE in your application we need to add below in\n<strong>application.yml</strong></p>\n<pre><code>spring:\n    mvc:\n        dispatch-trace-request: true\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.mvc.dispatch-trace-request: true\n</code></pre>\n"}],"owner":{"account_id":18062591,"reputation":733,"user_id":13129361,"display_name":"Jesse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2519,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1678873908,"creation_date":1605208444,"question_id":64810320,"body_markdown":"A security company has flagged our Spring Boot 2.3.4 applications for the error response returned when an HTTP TRACE request is sent.  We are using the Tomcat container which already has the HTTP TRACE disabled by default, however the response does contain TRACE information.  This is the output:\r\n\r\n```\r\n$ curl -k -i -X TRACE --cookie &quot;VULNERABLE=Yes&quot; http://localhost:9090\r\n\r\nHTTP/1.1 405\r\nAllow: HEAD, DELETE, POST, GET, OPTIONS, PUT\r\nContent-Type: message/http\r\nContent-Length: 116\r\nDate: Fri, 16 Oct 2020 20:41:51 GMT\r\n\r\nTRACE /error HTTP/1.1\r\nhost: localhost:9090\r\nuser-agent: curl/7.64.1\r\naccept: */*\r\ncookie: VULNERABLE=Yes\r\n```\r\nThe only way I have been able to change this is to enable HTTP TRACE requests with this code in the configuration class annotated with &quot;@Configuration&quot;:\r\n\r\n```\r\n    @Bean\r\n    public WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; tomcatCustomizer() {\r\n        return customizer -&gt; customizer.addConnectorCustomizers(connector -&gt; {\r\n            connector.setAllowTrace(true);  // filtered in the SecurityFilter with custom error\r\n        });\r\n    }\r\n```\r\nThen I have added a servlet filter to intercept the request and return a custom response:\r\n```\r\n@Component\r\n@Order(1)\r\npublic class SecurityFilter implements Filter {\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest,\r\n                         ServletResponse servletResponse,\r\n                         FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\r\n        if (HttpMethod.TRACE.name().equals(request.getMethod())) {\r\n            // trace not allowed\r\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n            response.setStatus(HttpServletResponse.SC_METHOD_NOT_ALLOWED);\r\n            response.setContentType(&quot;message/http&quot;);\r\n            response.getWriter().println(&quot;TRACE method not allowed&quot;);\r\n            response.getWriter().flush();\r\n            return;\r\n        }\r\n        filterChain.doFilter(servletRequest,servletResponse);\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n    }\r\n}\r\n```\r\nThe response from that same curl request is:\r\n```\r\nHTTP/1.1 405 \r\nContent-Type: message/http;charset=ISO-8859-1\r\nTransfer-Encoding: chunked\r\nDate: Thu, 12 Nov 2020 19:11:13 GMT\r\n\r\nTRACE method not allowed\r\n```\r\nHas anyone encountered a similar issue?  It seems like enabling trace just to be able to change the response body is not a good idea.","title":"Customize Spring Boot HTTP TRACE disabled error response","body":"<p>A security company has flagged our Spring Boot 2.3.4 applications for the error response returned when an HTTP TRACE request is sent.  We are using the Tomcat container which already has the HTTP TRACE disabled by default, however the response does contain TRACE information.  This is the output:</p>\n<pre><code>$ curl -k -i -X TRACE --cookie &quot;VULNERABLE=Yes&quot; http://localhost:9090\n\nHTTP/1.1 405\nAllow: HEAD, DELETE, POST, GET, OPTIONS, PUT\nContent-Type: message/http\nContent-Length: 116\nDate: Fri, 16 Oct 2020 20:41:51 GMT\n\nTRACE /error HTTP/1.1\nhost: localhost:9090\nuser-agent: curl/7.64.1\naccept: */*\ncookie: VULNERABLE=Yes\n</code></pre>\n<p>The only way I have been able to change this is to enable HTTP TRACE requests with this code in the configuration class annotated with &quot;@Configuration&quot;:</p>\n<pre><code>    @Bean\n    public WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; tomcatCustomizer() {\n        return customizer -&gt; customizer.addConnectorCustomizers(connector -&gt; {\n            connector.setAllowTrace(true);  // filtered in the SecurityFilter with custom error\n        });\n    }\n</code></pre>\n<p>Then I have added a servlet filter to intercept the request and return a custom response:</p>\n<pre><code>@Component\n@Order(1)\npublic class SecurityFilter implements Filter {\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest,\n                         ServletResponse servletResponse,\n                         FilterChain filterChain) throws IOException, ServletException {\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\n        if (HttpMethod.TRACE.name().equals(request.getMethod())) {\n            // trace not allowed\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\n            response.setStatus(HttpServletResponse.SC_METHOD_NOT_ALLOWED);\n            response.setContentType(&quot;message/http&quot;);\n            response.getWriter().println(&quot;TRACE method not allowed&quot;);\n            response.getWriter().flush();\n            return;\n        }\n        filterChain.doFilter(servletRequest,servletResponse);\n    }\n\n    @Override\n    public void destroy() {\n    }\n}\n</code></pre>\n<p>The response from that same curl request is:</p>\n<pre><code>HTTP/1.1 405 \nContent-Type: message/http;charset=ISO-8859-1\nTransfer-Encoding: chunked\nDate: Thu, 12 Nov 2020 19:11:13 GMT\n\nTRACE method not allowed\n</code></pre>\n<p>Has anyone encountered a similar issue?  It seems like enabling trace just to be able to change the response body is not a good idea.</p>\n"},{"tags":["java","spring","spring-boot","maven","environment-variables"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1678868883,"post_id":75741631,"comment_id":133614730,"body_markdown":"I have developed my own [IntelliJ plugin](https://plugins.jetbrains.com/plugin/18734-springboot-patcher) to be able to launch spring-boot applications via green &quot;play button&quot; and configure launch parameters in pom.xml/settings.xml. Another option is to share run configurations in IntelliJ: https://www.jetbrains.com/help/idea/run-debug-configuration.html#share-configurations","body":"I have developed my own <a href=\"https://plugins.jetbrains.com/plugin/18734-springboot-patcher\" rel=\"nofollow noreferrer\">IntelliJ plugin</a> to be able to launch spring-boot applications via green &quot;play button&quot; and configure launch parameters in pom.xml/settings.xml. Another option is to share run configurations in IntelliJ: <a href=\"https://www.jetbrains.com/help/idea/run-debug-configuration.html#share-configurations\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678869087,"post_id":75741631,"comment_id":133614788,"body_markdown":"AndreyB.Panfilov I actually use IntelliJ, but I want to use maven at this time and it is really strange that no one else have no idea except from @JavaLearner1. I tried many examples, but even not running by passing parameters that I normally can with Run configuration.","body":"AndreyB.Panfilov I actually use IntelliJ, but I want to use maven at this time and it is really strange that no one else have no idea except from @JavaLearner1. I tried many examples, but even not running by passing parameters that I normally can with Run configuration."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678870169,"post_id":75741631,"comment_id":133615070,"body_markdown":"I tried this command, but still gives password error. I use &quot;dev&quot; in IntelliJ, I don&#39;t see any problem with this command: `mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug&quot; -Dspring-boot.run.profiles=dev \n-Dspring-boot.run.arguments=&quot;&#39;DB_NAME=demo&#39;,&#39;DB_USERNAME=postgres&#39;,DB_PASSWORD=pass&#39;,&#39;JWT_SECRET=appSecretKey&#39;&quot;`","body":"I tried this command, but still gives password error. I use &quot;dev&quot; in IntelliJ, I don&#39;t see any problem with this command: <code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug&quot; -Dspring-boot.run.profiles=dev  -Dspring-boot.run.arguments=&quot;&#39;DB_NAME=demo&#39;,&#39;DB_USERNAME=pos&zwnj;&#8203;tgres&#39;,DB_PASSWORD=p&zwnj;&#8203;ass&#39;,&#39;JWT_SECRET=app&zwnj;&#8203;SecretKey&#39;&quot;</code>"},{"owner":{"account_id":544843,"reputation":2223,"user_id":914422,"accept_rate":60,"display_name":"ameenhere"},"score":0,"creation_date":1678870451,"post_id":75741631,"comment_id":133615154,"body_markdown":"Can you try removing the leading hyphens (-) and add spaces between properties instead of the comma (,) only for the run.arguments section. So something like `-Dspring-boot.run.arguments=&quot;DB_NAME=demo DB_USERNAME=postgres DB_PASSWORD=pass JWT_SECRET=appSecretKey&quot;`","body":"Can you try removing the leading hyphens (-) and add spaces between properties instead of the comma (,) only for the run.arguments section. So something like <code>-Dspring-boot.run.arguments=&quot;DB_NAME=demo DB_USERNAME=postgres DB_PASSWORD=pass JWT_SECRET=appSecretKey&quot;</code>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678870674,"post_id":75741631,"comment_id":133615217,"body_markdown":"Do you mean `mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug&quot; -Dspring-boot.run.profiles=dev \n-Dspring-boot.run.arguments=&quot;DB_NAME=demo DB_USERNAME=postgres DB_PASSWORD=pass JWT_SECRET=appSecretKey&quot;` ? I tried it and still get &quot;FATAL: password authentication failed for user &quot;${DB_USERNAME}&quot;&quot;. Any idea?","body":"Do you mean <code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug&quot; -Dspring-boot.run.profiles=dev  -Dspring-boot.run.arguments=&quot;DB_NAME=demo DB_USERNAME=postgres DB_PASSWORD=pass JWT_SECRET=appSecretKey&quot;</code> ? I tried it and still get &quot;FATAL: password authentication failed for user &quot;${DB_USERNAME}&quot;&quot;. Any idea?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678870735,"post_id":75741631,"comment_id":133615231,"body_markdown":"Actually, I normally use these parameters (`DB_NAME=demo DB_USERNAME=postgres DB_PASSWORD=pass JWT_SECRET=appSecretKey`) as Environment Variables in IntelliJ. But ı am not sure if I should convert them as Run argument.","body":"Actually, I normally use these parameters (<code>DB_NAME=demo DB_USERNAME=postgres DB_PASSWORD=pass JWT_SECRET=appSecretKey</code>) as Environment Variables in IntelliJ. But ı am not sure if I should convert them as Run argument."},{"owner":{"account_id":544843,"reputation":2223,"user_id":914422,"accept_rate":60,"display_name":"ameenhere"},"score":0,"creation_date":1678872114,"post_id":75741631,"comment_id":133615567,"body_markdown":"Can you share where are you using ${DB_USERNAME}? Is it in your application.properties file?","body":"Can you share where are you using ${DB_USERNAME}? Is it in your application.properties file?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678872246,"post_id":75741631,"comment_id":133615610,"body_markdown":"No, it is in `.env` file.","body":"No, it is in <code>.env</code> file."},{"owner":{"account_id":544843,"reputation":2223,"user_id":914422,"accept_rate":60,"display_name":"ameenhere"},"score":0,"creation_date":1678873951,"post_id":75741631,"comment_id":133616046,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/252531/discussion-between-ameenhere-and-carol).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/252531/discussion-between-ameenhere-and-carol\">continue this discussion in chat</a>."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678873992,"post_id":75741631,"comment_id":133616056,"body_markdown":"But I could not understand the relation with the `.env` files. Because, in here we are trying to pass these values via command. Of course we can also read from file, but I am not sure if we can read while we pass these variables via command","body":"But I could not understand the relation with the <code>.env</code> files. Because, in here we are trying to pass these values via command. Of course we can also read from file, but I am not sure if we can read while we pass these variables via command"}],"answers":[{"tags":[],"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678867889,"creation_date":1678867889,"answer_id":75741996,"question_id":75741631,"body_markdown":"-Dspring-boot.run.jvmArguments\r\nJVM arguments are used to specify arguments that are passed directly to JVM (Java Virtual Machine). These arguments control the **behavior of JVM itself rather than the Spring Boot Application.** \r\nEx: -Xmx, -XX:+UseG1GC\r\n\r\n-Dspring-boot.run.arguments\r\nArguments are used to specify the arguments that are passed to the Spring Boot application itself. These arguments configure the **behavior of Spring Boot application or provide inputs to it.**\r\nEx: --server.port","title":"Cannot pass environment variables via Maven command in Spring Boot?","body":"<p>-Dspring-boot.run.jvmArguments\nJVM arguments are used to specify arguments that are passed directly to JVM (Java Virtual Machine). These arguments control the <strong>behavior of JVM itself rather than the Spring Boot Application.</strong>\nEx: -Xmx, -XX:+UseG1GC</p>\n<p>-Dspring-boot.run.arguments\nArguments are used to specify the arguments that are passed to the Spring Boot application itself. These arguments configure the <strong>behavior of Spring Boot application or provide inputs to it.</strong>\nEx: --server.port</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":668,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678873836,"creation_date":1678865339,"question_id":75741631,"body_markdown":"I am trying to run my Spring Boot app using maven command and pass some environment variables to this command. Normally, I create some definition on README.md for running application by describing the menus on IntelliJ, but I think it is much better to describe and let users to run or debug app via maven command. \r\n\r\nOn the other hand, there may be an alternative way to run or debug Spring Boot app via Spring commands e.g. `spring-boot:run`. In each case, could you please give an example for:\r\n\r\n- run / debug app via maven commands by passing environment variables  \r\n- run / debug app via maven by READING environment variables from .env file\r\n\r\nI also read [Running your Application with Maven](https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run), but could not see debug and reading variables from environment file.\r\n\r\nAlso, could not understand the difference between these:\r\n\r\n```\r\nmvn spring-boot:run -Dspring-boot.run.jvmArguments=...\r\n\r\nmvn spring-boot:run -Dspring-boot.run.arguments=...\r\n```\r\n\r\nHere is my `.env` file; I also copy it and keep as `.env-dev` in case dev profile reads from dev version. Both of them has the following content:\r\n\r\n\r\n```\r\nDB_NAME=demo\r\nDB_USERNAME=postgres\r\nDB_PASSWORD=pass\r\nJWT_SECRET=appSecretKey\r\n```","title":"Cannot pass environment variables via Maven command in Spring Boot?","body":"<p>I am trying to run my Spring Boot app using maven command and pass some environment variables to this command. Normally, I create some definition on README.md for running application by describing the menus on IntelliJ, but I think it is much better to describe and let users to run or debug app via maven command.</p>\n<p>On the other hand, there may be an alternative way to run or debug Spring Boot app via Spring commands e.g. <code>spring-boot:run</code>. In each case, could you please give an example for:</p>\n<ul>\n<li>run / debug app via maven commands by passing environment variables</li>\n<li>run / debug app via maven by READING environment variables from .env file</li>\n</ul>\n<p>I also read <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run\" rel=\"nofollow noreferrer\">Running your Application with Maven</a>, but could not see debug and reading variables from environment file.</p>\n<p>Also, could not understand the difference between these:</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=...\n\nmvn spring-boot:run -Dspring-boot.run.arguments=...\n</code></pre>\n<p>Here is my <code>.env</code> file; I also copy it and keep as <code>.env-dev</code> in case dev profile reads from dev version. Both of them has the following content:</p>\n<pre><code>DB_NAME=demo\nDB_USERNAME=postgres\nDB_PASSWORD=pass\nJWT_SECRET=appSecretKey\n</code></pre>\n"},{"tags":["java","email","smtp","jakarta-mail"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1678690444,"post_id":75718474,"comment_id":133575416,"body_markdown":"No code, no complete error or stack trace, the log seems incomplete and there is not even a question. How can we help?","body":"No code, no complete error or stack trace, the log seems incomplete and there is not even a question. How can we help?"}],"owner":{"account_id":4354622,"reputation":1,"user_id":3553701,"display_name":"Kamlesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678873574,"creation_date":1678687279,"question_id":75718474,"body_markdown":"I am trying to send HTML mail using javax mail library. It throws SMTPFailedException: [EOF] afer waiting for long time. \r\n\r\nNote : This error occurs when mail containing attachment is being sent. \r\n\r\nException from code\r\n\r\n```SMTPFailedException: [EOF] : com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2358)```\r\n\r\nAttached debug logs of javax mail. After this logs it waits for 10 minutes to throw SMTPSendFailedException EOF exception.\r\n\r\n```MIME-Version: 1.0\r\nContent-Type: multipart/related;\r\n        boundary=&quot;----=_Part_0_652648141.1678461860465&quot;\r\n\r\n------=_Part_0_652648141.1678461860465\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;html&gt;&lt;head&gt;&lt;style&gt;table {border-collapse: collapse;width: 100%;} th, td {t=\r\next-align: left;padding: 8px;}tr:nth-child(even) {background-color: #f2f2f2=\r\n;}&lt;/style&gt;&lt;/head&gt;&lt;body style=3D&quot;padding-top:#030303; padding-left:20px; fon=\r\nt:Verdana, Geneva, sans-serif; font-size:17px;&quot;&gt;&lt;div id=3D&quot;main&quot; style=3D&quot;p=\r\nadding-left:50px;padding-top:50px;&quot;&gt;&lt;img src=3D&quot;cid:image&quot; &gt;&lt;br&gt;&lt;div style=\r\n=3D&quot;border: 1px solid black;height:80px;color:#ffffff;background-color:#2e5=\r\ncb8&quot;&gt;&lt;b style=3D&quot;font-size:20px&quot;&gt; 0 finding(s) observed. Runs completed on =\r\nall systems. &lt;/b&gt;&lt;br&gt;&lt;br&gt; Find below a summary  of the checks executed, the=\r\n findings detected and their impact on compliance of the enterprise. &lt;/div&gt;=\r\n&lt;br&gt;&lt;b&gt;&lt;h3&gt;Compliance Summary: &lt;/h3&gt;&lt;/b&gt;&lt;br&gt;&lt;b&gt;Policy name: &lt;/b&gt;admin-OSP_C=\r\nM-policy3&lt;br&gt;&lt;br&gt; On Demand run by started on  2023-03-10 2=\r\n0:54:13 and lasted for 7 seconds..&lt;br&gt;&lt;br&gt;&lt;table style=3D&quot;width:100%;border=\r\n: 1px solid black&quot;&gt;&lt;tr&gt;&lt;th style=3D&quot;border: 1px solid black&quot;&gt;  System Name =\r\n&lt;/th&gt;&lt;th style=3D&quot;border: 1px solid black&quot;&gt;  Status &lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=\r\n=3D&quot;border: 1px solid black&quot;&gt;IN-MUM-ACM1&lt;/td&gt;&lt;td style=3D&quot;border: 1px solid=\r\n black&quot;&gt;Run completed without any errors&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;br&gt;&lt;b&gt;&lt;h3&gt;Findin=\r\ngs Summary (Only Failed Controls) : &lt;/h3&gt;&lt;/b&gt;&lt;b&gt;Findings&lt;/b&gt;&lt;br&gt;&lt;br&gt; No fai=\r\nled controls found.&lt;br&gt;&lt;br&gt;For a detailed view of all the findings and obse=\r\nrvations login to Assertion Studio (https://localhost/login.=\r\nhtml)&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div id=3D&quot;footer&quot; style=3D&quot;padding-left:50px; border-bott=\r\nom-style: solid; border-width:1px;&quot;&gt;&lt;/div&gt;&lt;table width=3D&quot;580&quot; border=3D&quot;0&quot;=\r\n&gt;&lt;tr&gt;&lt;td width=3D&quot;354&quot;&gt;2020 &amp;copy; Test&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n------=_Part_0_652648141.1678461860465--```\r\n","title":"Javax mail SMTPSendFailedException EOF while sending email","body":"<p>I am trying to send HTML mail using javax mail library. It throws SMTPFailedException: [EOF] afer waiting for long time.</p>\n<p>Note : This error occurs when mail containing attachment is being sent.</p>\n<p>Exception from code</p>\n<p><code>SMTPFailedException: [EOF] : com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2358)</code></p>\n<p>Attached debug logs of javax mail. After this logs it waits for 10 minutes to throw SMTPSendFailedException EOF exception.</p>\n<pre><code>Content-Type: multipart/related;\n        boundary=&quot;----=_Part_0_652648141.1678461860465&quot;\n\n------=_Part_0_652648141.1678461860465\nContent-Type: text/html; charset=UTF-8\nContent-Transfer-Encoding: quoted-printable\n\n&lt;html&gt;&lt;head&gt;&lt;style&gt;table {border-collapse: collapse;width: 100%;} th, td {t=\next-align: left;padding: 8px;}tr:nth-child(even) {background-color: #f2f2f2=\n;}&lt;/style&gt;&lt;/head&gt;&lt;body style=3D&quot;padding-top:#030303; padding-left:20px; fon=\nt:Verdana, Geneva, sans-serif; font-size:17px;&quot;&gt;&lt;div id=3D&quot;main&quot; style=3D&quot;p=\nadding-left:50px;padding-top:50px;&quot;&gt;&lt;img src=3D&quot;cid:image&quot; &gt;&lt;br&gt;&lt;div style=\n=3D&quot;border: 1px solid black;height:80px;color:#ffffff;background-color:#2e5=\ncb8&quot;&gt;&lt;b style=3D&quot;font-size:20px&quot;&gt; 0 finding(s) observed. Runs completed on =\nall systems. &lt;/b&gt;&lt;br&gt;&lt;br&gt; Find below a summary  of the checks executed, the=\n findings detected and their impact on compliance of the enterprise. &lt;/div&gt;=\n&lt;br&gt;&lt;b&gt;&lt;h3&gt;Compliance Summary: &lt;/h3&gt;&lt;/b&gt;&lt;br&gt;&lt;b&gt;Policy name: &lt;/b&gt;admin-OSP_C=\nM-policy3&lt;br&gt;&lt;br&gt; On Demand run by started on  2023-03-10 2=\n0:54:13 and lasted for 7 seconds..&lt;br&gt;&lt;br&gt;&lt;table style=3D&quot;width:100%;border=\n: 1px solid black&quot;&gt;&lt;tr&gt;&lt;th style=3D&quot;border: 1px solid black&quot;&gt;  System Name =\n&lt;/th&gt;&lt;th style=3D&quot;border: 1px solid black&quot;&gt;  Status &lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=\n=3D&quot;border: 1px solid black&quot;&gt;IN-MUM-ACM1&lt;/td&gt;&lt;td style=3D&quot;border: 1px solid=\n black&quot;&gt;Run completed without any errors&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;br&gt;&lt;b&gt;&lt;h3&gt;Findin=\ngs Summary (Only Failed Controls) : &lt;/h3&gt;&lt;/b&gt;&lt;b&gt;Findings&lt;/b&gt;&lt;br&gt;&lt;br&gt; No fai=\nled controls found.&lt;br&gt;&lt;br&gt;For a detailed view of all the findings and obse=\nrvations login to Assertion Studio (https://localhost/login.=\nhtml)&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div id=3D&quot;footer&quot; style=3D&quot;padding-left:50px; border-bott=\nom-style: solid; border-width:1px;&quot;&gt;&lt;/div&gt;&lt;table width=3D&quot;580&quot; border=3D&quot;0&quot;=\n&gt;&lt;tr&gt;&lt;td width=3D&quot;354&quot;&gt;2020 &amp;copy; Test&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\n------=_Part_0_652648141.1678461860465--```\n</code></pre>\n"},{"tags":["java","graphql","graphql-java","graphql-java-tools"],"comments":[{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1690371137,"post_id":75741783,"comment_id":135343338,"body_markdown":"Does this answer your question? [Java GraphQL - Pass field values to resolver for objects](https://stackoverflow.com/questions/44159753/java-graphql-pass-field-values-to-resolver-for-objects)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/44159753/java-graphql-pass-field-values-to-resolver-for-objects\">Java GraphQL - Pass field values to resolver for objects</a>"}],"answers":[{"tags":[],"owner":{"account_id":15276902,"reputation":455,"user_id":11023013,"display_name":"Itzhak Eretz Kdosha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678868873,"creation_date":1678868873,"answer_id":75742146,"question_id":75741783,"body_markdown":"The solution is to use `ExecutionStepInfo` like so:\r\n\r\n```\r\nenvironment.getExecutionStepInfo()\r\n      .getParent()\r\n      .getArgument(&quot;phone&quot;).toString()\r\n```","title":"How can I propagate graphQL query argument to child dataFetchers using graphQL java","body":"<p>The solution is to use <code>ExecutionStepInfo</code> like so:</p>\n<pre><code>environment.getExecutionStepInfo()\n      .getParent()\n      .getArgument(&quot;phone&quot;).toString()\n</code></pre>\n"}],"owner":{"account_id":15276902,"reputation":455,"user_id":11023013,"display_name":"Itzhak Eretz Kdosha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75742146,"answer_count":1,"score":0,"last_activity_date":1678873555,"creation_date":1678866359,"question_id":75741783,"body_markdown":"I am using those GraphQL Java dependencies:\r\n```non\r\n|  +- com.graphql-java:graphql-java:jar:17.3:compile\r\n|  |  +- com.graphql-java:java-dataloader:jar:3.1.0:compile\r\n```\r\n\r\nWith this schema:\r\n```\r\nschema {\r\n    query: Query\r\n}\r\n\r\ntype Query {\r\n    users: UsersNamespace\r\n}\r\n\r\n\r\ntype UsersNamespace {\r\n\r\n    userByPhone(phone: String!): User!\r\n}\r\n\r\ntype User {\r\n    id: String!\r\n    photoId: String\r\n}\r\n```\r\n\r\n\r\nUsing this query\r\n```\r\n{\r\n  user1: userByPhone(phone: &quot;375290201111&quot;) {\r\n\t  id\r\n\t  photoId\r\n  }\r\n  user2: userByPhone(phone: &quot;375290202222&quot;) {\r\n\t  id\r\n\t  photoId\r\n  }\r\n}\r\n```\r\n\r\nAssume I have a separate `dataFetcehr` for the User itself and the `photoId` which I get from a different source.\r\n\r\nI want to pass the `phone` argument (or even the alias of the parent user) down to the `photoId` data fetcher.\r\n\r\nI can not save the information on the `GraphQlContext` since the resolution is not performed &quot;Depth-first&quot;, meaning the data fetchers will be called in this order:\r\n 1. `Users` data fetcher for `user1`\r\n 2. `Users` data fetcher for `user2`\r\n 3. `photoId` data fetcher for `user1`\r\n 4. `photoId` data fetcher for `user2`\r\n \r\nSo anything I will save for `user1` will be overridden by `user` data-fetcher.\r\n\r\nHow can I pass down arguments / information to child resolvers under the same alias?\r\n\r\n*Note: `photoId` is always resolved only within a `User`\r\n\r\n\r\n","title":"How can I propagate graphQL query argument to child dataFetchers using graphQL java","body":"<p>I am using those GraphQL Java dependencies:</p>\n<pre><code>|  +- com.graphql-java:graphql-java:jar:17.3:compile\n|  |  +- com.graphql-java:java-dataloader:jar:3.1.0:compile\n</code></pre>\n<p>With this schema:</p>\n<pre><code>schema {\n    query: Query\n}\n\ntype Query {\n    users: UsersNamespace\n}\n\n\ntype UsersNamespace {\n\n    userByPhone(phone: String!): User!\n}\n\ntype User {\n    id: String!\n    photoId: String\n}\n</code></pre>\n<p>Using this query</p>\n<pre><code>{\n  user1: userByPhone(phone: &quot;375290201111&quot;) {\n      id\n      photoId\n  }\n  user2: userByPhone(phone: &quot;375290202222&quot;) {\n      id\n      photoId\n  }\n}\n</code></pre>\n<p>Assume I have a separate <code>dataFetcehr</code> for the User itself and the <code>photoId</code> which I get from a different source.</p>\n<p>I want to pass the <code>phone</code> argument (or even the alias of the parent user) down to the <code>photoId</code> data fetcher.</p>\n<p>I can not save the information on the <code>GraphQlContext</code> since the resolution is not performed &quot;Depth-first&quot;, meaning the data fetchers will be called in this order:</p>\n<ol>\n<li><code>Users</code> data fetcher for <code>user1</code></li>\n<li><code>Users</code> data fetcher for <code>user2</code></li>\n<li><code>photoId</code> data fetcher for <code>user1</code></li>\n<li><code>photoId</code> data fetcher for <code>user2</code></li>\n</ol>\n<p>So anything I will save for <code>user1</code> will be overridden by <code>user</code> data-fetcher.</p>\n<p>How can I pass down arguments / information to child resolvers under the same alias?</p>\n<p>*Note: <code>photoId</code> is always resolved only within a <code>User</code></p>\n"},{"tags":["java","spring","mongodb","configuration"],"owner":{"account_id":10178758,"reputation":1,"user_id":21402328,"display_name":"pawban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678873512,"creation_date":1678873416,"question_id":75742926,"body_markdown":"I&#39;m trying to build solution that will set up connection to MongoDB basing on properties from `application.yaml` file + custom annotation properties.\r\nIt should create mongo template for each datasource and initialize mongo repositories from the package pointed in properties/annotation.\r\n\r\nI used `BeanFacotryPostProcesor` to register `mongoTemplate` bean definition inside `postProcessBeanFactory()` method. Now I would also like to register Mongo repositories bean definitions, but I couldn&#39;t find a way to do it.\r\n","title":"How to register Mongo repository bean programmatically in Spring","body":"<p>I'm trying to build solution that will set up connection to MongoDB basing on properties from <code>application.yaml</code> file + custom annotation properties.\nIt should create mongo template for each datasource and initialize mongo repositories from the package pointed in properties/annotation.</p>\n<p>I used <code>BeanFacotryPostProcesor</code> to register <code>mongoTemplate</code> bean definition inside <code>postProcessBeanFactory()</code> method. Now I would also like to register Mongo repositories bean definitions, but I couldn't find a way to do it.</p>\n"},{"tags":["java","websocket","automated-tests","httpurlconnection","ioexception"],"owner":{"account_id":25732019,"reputation":11,"user_id":19487477,"display_name":"Someshwar Gore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678873477,"creation_date":1678873477,"question_id":75742943,"body_markdown":"FAILED CONFIGURATION: @BeforeMethod setUp\r\norg.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:53584/devtools/browser/87a1db2f-4f8a-436c-a8ba-00d0d29e67d2\r\nBuild info: version: &#39;4.4.0&#39;, revision: &#39;e5c75ed026a&#39;\r\nSystem info: host: &#39;QA&#39;, ip: &#39;192.168.0.38&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;16.0.1&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\r\n\tat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:106)\r\n\tat org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\r\n\tat java.base/java.util.Optional.map(Optional.java:260)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:114)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\r\n\tat TestNG_MyFleetMan.MyFleetManAddBookings.setUp(MyFleetManAddBookings.java:52)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n\tat org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:700)\r\n\tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:527)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n\tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n\tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n\tat org.testng.TestRunner.run(TestRunner.java:596)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n\tat org.testng.TestNG.run(TestNG.java:1031)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\nSKIPPED CONFIGURATION: @AfterMethod tearDown\r\nSKIPPED CONFIGURATION: @AfterClass tearDownAfterClass\r\nSKIPPED: test\r\norg.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:53584/devtools/browser/87a1db2f-4f8a-436c-a8ba-00d0d29e67d2\r\nBuild info: version: &#39;4.4.0&#39;, revision: &#39;e5c75ed026a&#39;\r\nSystem info: host: &#39;QA&#39;, ip: &#39;192.168.0.38&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;16.0.1&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\r\n\tat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:106)\r\n\tat org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\r\n\tat java.base/java.util.Optional.map(Optional.java:260)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:114)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\r\n\tat TestNG_MyFleetMan.MyFleetManAddBookings.setUp(MyFleetManAddBookings.java:52)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n\tat org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:700)\r\n\tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:527)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n\tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n\tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n\tat org.testng.TestRunner.run(TestRunner.java:596)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n\tat org.testng.TestNG.run(TestNG.java:1031)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\nI am performing MavenProject-Compile and then test. But showing org.openqa.selenium.remote.http.ConnectionFailedException error","title":"not able to execute the script. After Maver-Test, browser is opening and below errors are showing in the console","body":"<p>FAILED CONFIGURATION: @BeforeMethod setUp\norg.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:53584/devtools/browser/87a1db2f-4f8a-436c-a8ba-00d0d29e67d2\nBuild info: version: '4.4.0', revision: 'e5c75ed026a'\nSystem info: host: 'QA', ip: '192.168.0.38', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '16.0.1'\nDriver info: driver.version: ChromeDriver\nat org.openqa.selenium.remote.http.netty.NettyWebSocket.(NettyWebSocket.java:102)\nat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\nat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:106)\nat org.openqa.selenium.devtools.Connection.(Connection.java:77)\nat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\nat java.base/java.util.Optional.map(Optional.java:260)\nat org.openqa.selenium.chromium.ChromiumDriver.(ChromiumDriver.java:114)\nat org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:81)\nat org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:49)\nat TestNG_MyFleetMan.MyFleetManAddBookings.setUp(MyFleetManAddBookings.java:52)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\nat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\nat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\nat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\nat org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:700)\nat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:527)\nat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\nat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\nat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\nat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.testng.TestRunner.privateRun(TestRunner.java:794)\nat org.testng.TestRunner.run(TestRunner.java:596)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\nat org.testng.SuiteRunner.run(SuiteRunner.java:276)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\nat org.testng.TestNG.runSuites(TestNG.java:1063)\nat org.testng.TestNG.run(TestNG.java:1031)\nat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\nat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\nat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)</p>\n<p>SKIPPED CONFIGURATION: @AfterMethod tearDown\nSKIPPED CONFIGURATION: @AfterClass tearDownAfterClass\nSKIPPED: test\norg.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:53584/devtools/browser/87a1db2f-4f8a-436c-a8ba-00d0d29e67d2\nBuild info: version: '4.4.0', revision: 'e5c75ed026a'\nSystem info: host: 'QA', ip: '192.168.0.38', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '16.0.1'\nDriver info: driver.version: ChromeDriver\nat org.openqa.selenium.remote.http.netty.NettyWebSocket.(NettyWebSocket.java:102)\nat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\nat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:106)\nat org.openqa.selenium.devtools.Connection.(Connection.java:77)\nat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\nat java.base/java.util.Optional.map(Optional.java:260)\nat org.openqa.selenium.chromium.ChromiumDriver.(ChromiumDriver.java:114)\nat org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:81)\nat org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:49)\nat TestNG_MyFleetMan.MyFleetManAddBookings.setUp(MyFleetManAddBookings.java:52)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\nat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\nat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\nat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\nat org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:700)\nat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:527)\nat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\nat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\nat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\nat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.testng.TestRunner.privateRun(TestRunner.java:794)\nat org.testng.TestRunner.run(TestRunner.java:596)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\nat org.testng.SuiteRunner.run(SuiteRunner.java:276)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\nat org.testng.TestNG.runSuites(TestNG.java:1063)\nat org.testng.TestNG.run(TestNG.java:1031)\nat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\nat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\nat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)</p>\n<p>I am performing MavenProject-Compile and then test. But showing org.openqa.selenium.remote.http.ConnectionFailedException error</p>\n"},{"tags":["java","javascript","jsp"],"comments":[{"owner":{"account_id":188407,"reputation":15372,"user_id":427146,"accept_rate":83,"display_name":"sabithpocker"},"score":0,"creation_date":1372828876,"post_id":17440164,"comment_id":25335001,"body_markdown":"please add more code with an example data","body":"please add more code with an example data"}],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1455095666,"creation_date":1372828557,"answer_id":17440175,"question_id":17440164,"body_markdown":"When you use `&lt;%=arraylist%&gt;` it calls the `toString()` on list and prints  `[a,b,c]` \r\n\r\nAnd No,you cannot direclty convert From Java `arrayList` to javascript array ,Convert the Java `ArrayList` to `JSON String`, and use `JSON.parse()` to get Javascript `object`.\r\n\r\nHave a look at [*Json objet*][1]  and [*Json in java*][2] \r\n\r\n\r\n\r\n\r\n  [1]: http://www.json.org/\r\n  [2]: https://github.com/stleary/JSON-java","title":"Converting a Java ArrayList of strings to a JavaScript array","body":"<p>When you use <code>&lt;%=arraylist%&gt;</code> it calls the <code>toString()</code> on list and prints  <code>[a,b,c]</code> </p>\n\n<p>And No,you cannot direclty convert From Java <code>arrayList</code> to javascript array ,Convert the Java <code>ArrayList</code> to <code>JSON String</code>, and use <code>JSON.parse()</code> to get Javascript <code>object</code>.</p>\n\n<p>Have a look at <a href=\"http://www.json.org/\" rel=\"nofollow\"><em>Json objet</em></a>  and <a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow\"><em>Json in java</em></a> </p>\n"},{"tags":[],"owner":{"account_id":2664839,"reputation":2876,"user_id":2303568,"display_name":"chetan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372831193,"creation_date":1372831193,"answer_id":17440731,"question_id":17440164,"body_markdown":"try this way:\r\n\r\n    var myArray = &lt;%=net.sf.json.JSONSerializer.toJSON(arrayList) %&gt;;\r\n\r\n","title":"Converting a Java ArrayList of strings to a JavaScript array","body":"<p>try this way:</p>\n\n<pre><code>var myArray = &lt;%=net.sf.json.JSONSerializer.toJSON(arrayList) %&gt;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1399208,"reputation":6264,"user_id":1328300,"accept_rate":79,"display_name":"Uooo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1372831294,"creation_date":1372831294,"answer_id":17440755,"question_id":17440164,"body_markdown":"Withoug a library:\r\n\r\nJava:\r\n\r\n    public static String toJavascriptArray(String[] arr){\r\n        StringBuffer sb = new StringBuffer();\r\n        sb.append(&quot;[&quot;);\r\n        for(int i=0; i&lt;arr.length; i++){\r\n            sb.append(&quot;\\&quot;&quot;).append(arr[i]).append(&quot;\\&quot;&quot;);\r\n            if(i+1 &lt; arr.length){\r\n                sb.append(&quot;,&quot;);\r\n            }\r\n        }\r\n        sb.append(&quot;]&quot;);\r\n        return sb.toString();\r\n    }\r\n\r\nJSP:\r\n\r\n    var myArray = &lt;%= toJavascriptArray(arrayList) %&gt;;","title":"Converting a Java ArrayList of strings to a JavaScript array","body":"<p>Withoug a library:</p>\n\n<p>Java:</p>\n\n<pre><code>public static String toJavascriptArray(String[] arr){\n    StringBuffer sb = new StringBuffer();\n    sb.append(\"[\");\n    for(int i=0; i&lt;arr.length; i++){\n        sb.append(\"\\\"\").append(arr[i]).append(\"\\\"\");\n        if(i+1 &lt; arr.length){\n            sb.append(\",\");\n        }\n    }\n    sb.append(\"]\");\n    return sb.toString();\n}\n</code></pre>\n\n<p>JSP:</p>\n\n<pre><code>var myArray = &lt;%= toJavascriptArray(arrayList) %&gt;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39685,"reputation":12819,"user_id":114549,"display_name":"aaronvargas"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1377040352,"creation_date":1377040352,"answer_id":18346394,"question_id":17440164,"body_markdown":"Do the following in your JSP page\r\n\r\n    &lt;% List&lt;String&gt; strList = new ArrayList&lt;String&gt;();\r\n    strList.add(&quot;one&quot;);\r\n    strList.add(&quot;two&quot;);\r\n    strList.add(&quot;three&quot;); %&gt;\r\n\r\n    var jsArray = [&lt;% for (int i = 0; i &lt; strList.size(); i++) { %&gt;&quot;&lt;%= strList.get(i) %&gt;&quot;&lt;%= i + 1 &lt; strList.size() ? &quot;,&quot;:&quot;&quot; %&gt;&lt;% } %&gt;];\r\n\r\nThe output will be\r\n\r\n    var jsArray = [&quot;one&quot;,&quot;two&quot;,&quot;three&quot;];\r\n\r\nIf your List was empty it will output\r\n\r\n    var jsArray = [];\r\n","title":"Converting a Java ArrayList of strings to a JavaScript array","body":"<p>Do the following in your JSP page</p>\n\n<pre><code>&lt;% List&lt;String&gt; strList = new ArrayList&lt;String&gt;();\nstrList.add(\"one\");\nstrList.add(\"two\");\nstrList.add(\"three\"); %&gt;\n\nvar jsArray = [&lt;% for (int i = 0; i &lt; strList.size(); i++) { %&gt;\"&lt;%= strList.get(i) %&gt;\"&lt;%= i + 1 &lt; strList.size() ? \",\":\"\" %&gt;&lt;% } %&gt;];\n</code></pre>\n\n<p>The output will be</p>\n\n<pre><code>var jsArray = [\"one\",\"two\",\"three\"];\n</code></pre>\n\n<p>If your List was empty it will output</p>\n\n<pre><code>var jsArray = [];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3578274,"reputation":21,"user_id":2987031,"display_name":"Vivek Jain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545612858,"creation_date":1410697656,"answer_id":25833206,"question_id":17440164,"body_markdown":"The JavaScript split() method returns an array, so it&#39;s a simple way to convert a Java ArrayList into a JavaScript array.\r\n\r\n    function toJavascript(){\r\n        var array=&quot;&lt;%=javaArrayList%&gt;&quot;;\r\n        array=array.replace(&quot;[&quot;, &quot;&quot;);\r\n        array=array.replace(&quot;]&quot;, &quot;&quot;);\r\n        return javaArray.split(&quot;,&quot;);\r\n    }","title":"Converting a Java ArrayList of strings to a JavaScript array","body":"<p>The JavaScript split() method returns an array, so it's a simple way to convert a Java ArrayList into a JavaScript array.</p>\n\n<pre><code>function toJavascript(){\n    var array=\"&lt;%=javaArrayList%&gt;\";\n    array=array.replace(\"[\", \"\");\n    array=array.replace(\"]\", \"\");\n    return javaArray.split(\",\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5350815,"reputation":4694,"user_id":4264996,"accept_rate":0,"display_name":"madhu527"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678873458,"creation_date":1678873458,"answer_id":75742938,"question_id":17440164,"body_markdown":"Simple \r\n   \r\n\r\n     var jsArray = JSON.parse(yourJavaListObject)","title":"Converting a Java ArrayList of strings to a JavaScript array","body":"<p>Simple</p>\n<pre><code> var jsArray = JSON.parse(yourJavaListObject)\n</code></pre>\n"}],"owner":{"account_id":2999311,"reputation":155,"user_id":2545090,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87219,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":17440175,"answer_count":6,"score":12,"last_activity_date":1678873458,"creation_date":1372828477,"question_id":17440164,"body_markdown":"In my Java code, I have an `ArrayList` of `String`s. I&#39;d like to put this data in a JavaScript variable on a JSP page I&#39;m working on. My first thought was to include it directly, e.g.:\r\n\r\n    var myArray = &lt;%= arrayList %&gt;;\r\n\r\nUnfortunately, when executed, `myArray` is a string in the format `[a,b,c]`, not an actual JavaScript array. How do I get some data from a Java `ArrayList` to a JavaScript array?","title":"Converting a Java ArrayList of strings to a JavaScript array","body":"<p>In my Java code, I have an <code>ArrayList</code> of <code>String</code>s. I'd like to put this data in a JavaScript variable on a JSP page I'm working on. My first thought was to include it directly, e.g.:</p>\n\n<pre><code>var myArray = &lt;%= arrayList %&gt;;\n</code></pre>\n\n<p>Unfortunately, when executed, <code>myArray</code> is a string in the format <code>[a,b,c]</code>, not an actual JavaScript array. How do I get some data from a Java <code>ArrayList</code> to a JavaScript array?</p>\n"},{"tags":["java","http","utf-8","filenames","content-disposition"],"comments":[{"owner":{"account_id":1234261,"reputation":760,"user_id":1198203,"accept_rate":50,"display_name":"Peter Friend"},"score":0,"creation_date":1341273636,"post_id":11302361,"comment_id":14871983,"body_markdown":"Here is a sample header that is causing this issue: Content-Disposition:attachment; filename*=UTF-8&#39;&#39;Museum%20%5A%69%86.jpg","body":"Here is a sample header that is causing this issue: Content-Disposition:attachment; filename*=UTF-8&#39;&#39;Museum%20%5A%69%86.jpg"},{"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"score":0,"creation_date":1341296488,"post_id":11302361,"comment_id":14876212,"body_markdown":"See http://greenbytes.de/tech/tc2231/#attwithquotedsemicolon - that test case has a space character in a quoted-string and appears to work in Firefox. Are we testing different things?","body":"See <a href=\"http://greenbytes.de/tech/tc2231/#attwithquotedsemicolon\" rel=\"nofollow noreferrer\">greenbytes.de/tech/tc2231/#attwithquotedsemicolon</a> - that test case has a space character in a quoted-string and appears to work in Firefox. Are we testing different things?"},{"owner":{"account_id":1234261,"reputation":760,"user_id":1198203,"accept_rate":50,"display_name":"Peter Friend"},"score":0,"creation_date":1341301722,"post_id":11302361,"comment_id":14877927,"body_markdown":"That looks like something else. That test checks for semicolon within a quoted string. My problem is that I have a filename with Chinese characters as well as spaces, so I am using the filename* form, and in token not quoted form since I read some docs that recommended not using quotes with % escapes. With the example from my comment above the Chinese characters are recognized and converted properly, but the %20 is getting mapped to +.","body":"That looks like something else. That test checks for semicolon within a quoted string. My problem is that I have a filename with Chinese characters as well as spaces, so I am using the filename* form, and in token not quoted form since I read some docs that recommended not using quotes with % escapes. With the example from my comment above the Chinese characters are recognized and converted properly, but the %20 is getting mapped to +."},{"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"score":0,"creation_date":1341303559,"post_id":11302361,"comment_id":14878554,"body_markdown":"Peter: I was just trying to understand what the test case does on your system; could you please check? Also, your code looks incorrect in that it doesn&#39;t actually convert into UTF-8 first; your example above simply has three (encoded) US-ASCII characters after the whitespace.","body":"Peter: I was just trying to understand what the test case does on your system; could you please check? Also, your code looks incorrect in that it doesn&#39;t actually convert into UTF-8 first; your example above simply has three (encoded) US-ASCII characters after the whitespace."},{"owner":{"account_id":1234261,"reputation":760,"user_id":1198203,"accept_rate":50,"display_name":"Peter Friend"},"score":0,"creation_date":1341304610,"post_id":11302361,"comment_id":14878943,"body_markdown":"Julian: Ugh. I remember reading that UTF-8 conversion was needed first and forgot to add it. That is most likely the cause. Recoding now to test.","body":"Julian: Ugh. I remember reading that UTF-8 conversion was needed first and forgot to add it. That is most likely the cause. Recoding now to test."},{"owner":{"account_id":1234261,"reputation":760,"user_id":1198203,"accept_rate":50,"display_name":"Peter Friend"},"score":0,"creation_date":1341305864,"post_id":11302361,"comment_id":14879423,"body_markdown":"Yup that was it. I spaced on the UTF-16 to UTF-8 conversion. Sorry for wasting your time Julian. I will clean up my rewritten code and post an update with notes and solution tomorrow. Hopefully someone out there will benefit from my mistake. Thanks again!","body":"Yup that was it. I spaced on the UTF-16 to UTF-8 conversion. Sorry for wasting your time Julian. I will clean up my rewritten code and post an update with notes and solution tomorrow. Hopefully someone out there will benefit from my mistake. Thanks again!"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1341343691,"post_id":11302361,"comment_id":14896410,"body_markdown":"No, the problem was that you treated characters as bytes instead of converting them to bytes first.","body":"No, the problem was that you treated characters as bytes instead of converting them to bytes first."},{"owner":{"account_id":1234261,"reputation":760,"user_id":1198203,"accept_rate":50,"display_name":"Peter Friend"},"score":0,"creation_date":1341521431,"post_id":11302361,"comment_id":14951513,"body_markdown":"Balus: Correct. In my mind the UTF-8 conversion implies conversion to bytes. Also merely converting the raw chars to bytes would not be correct.","body":"Balus: Correct. In my mind the UTF-8 conversion implies conversion to bytes. Also merely converting the raw chars to bytes would not be correct."}],"answers":[{"tags":[],"owner":{"account_id":1234261,"reputation":760,"user_id":1198203,"accept_rate":50,"display_name":"Peter Friend"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1378883203,"creation_date":1341306874,"answer_id":11307864,"question_id":11302361,"body_markdown":"So as Julian pointed out in the comments, I made a rookie Java error and forgot to do my character to byte conversion (thus I encoded the character&#39;s codepoint instead of the character&#39;s byte representation), hence the encoding was completely incorrect. This is clearly mentioned as a requirement in RFC 5987. I will be posting corrected code for doing the conversion. Once the encoding is correct, the filename* parameter is recognized properly by the browser and the filename used for the download is correct.\r\n\r\nBelow is the corrected escaping code which operates on the UTF-8 bytes of the string. The filename that was giving me trouble, now properly encoded looks like this:\r\n\r\nContent-Disposition:attachment; filename*=UTF-8&#39;&#39;Museum%20%E5%8D%9A%E7%89%A9%E9%A6%86.jpg\r\n\r\n    public static String rfc5987_encode(final String s) throws UnsupportedEncodingException {\r\n        final byte[] s_bytes = s.getBytes(&quot;UTF-8&quot;);\r\n        final int len = s_bytes.length;\r\n        final StringBuilder sb = new StringBuilder(len &lt;&lt; 1);\r\n        final char[] digits = {&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;};\r\n        final byte[] attr_char = {&#39;!&#39;,&#39;#&#39;,&#39;$&#39;,&#39;&amp;&#39;,&#39;+&#39;,&#39;-&#39;,&#39;.&#39;,&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,           &#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;,&#39;G&#39;,&#39;H&#39;,&#39;I&#39;,&#39;J&#39;,&#39;K&#39;,&#39;L&#39;,&#39;M&#39;,&#39;N&#39;,&#39;O&#39;,&#39;P&#39;,&#39;Q&#39;,&#39;R&#39;,&#39;S&#39;,&#39;T&#39;,&#39;U&#39;,&#39;V&#39;,&#39;W&#39;,&#39;X&#39;,&#39;Y&#39;,&#39;Z&#39;,&#39;^&#39;,&#39;_&#39;,&#39;`&#39;,\t\t                 &#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;,&#39;g&#39;,&#39;h&#39;,&#39;i&#39;,&#39;j&#39;,&#39;k&#39;,&#39;l&#39;,&#39;m&#39;,&#39;n&#39;,&#39;o&#39;,&#39;p&#39;,&#39;q&#39;,&#39;r&#39;,&#39;s&#39;,&#39;t&#39;,&#39;u&#39;,&#39;v&#39;,&#39;w&#39;,&#39;x&#39;,&#39;y&#39;,&#39;z&#39;,&#39;|&#39;, &#39;~&#39;};\r\n        for (int i = 0; i &lt; len; ++i) {\r\n            final byte b = s_bytes[i];\r\n            if (Arrays.binarySearch(attr_char, b) &gt;= 0)\r\n                sb.append((char) b);\r\n            else {\r\n                sb.append(&#39;%&#39;);\r\n                sb.append(digits[0x0f &amp; (b &gt;&gt;&gt; 4)]);\r\n                sb.append(digits[b &amp; 0x0f]);\r\n            }\r\n        }\r\n\t\t\r\n        return sb.toString();\r\n    }","title":"handling filename* parameters with spaces via RFC 5987 results in &#39;+&#39; in filenames","body":"<p>So as Julian pointed out in the comments, I made a rookie Java error and forgot to do my character to byte conversion (thus I encoded the character's codepoint instead of the character's byte representation), hence the encoding was completely incorrect. This is clearly mentioned as a requirement in RFC 5987. I will be posting corrected code for doing the conversion. Once the encoding is correct, the filename* parameter is recognized properly by the browser and the filename used for the download is correct.</p>\n\n<p>Below is the corrected escaping code which operates on the UTF-8 bytes of the string. The filename that was giving me trouble, now properly encoded looks like this:</p>\n\n<p>Content-Disposition:attachment; filename*=UTF-8''Museum%20%E5%8D%9A%E7%89%A9%E9%A6%86.jpg</p>\n\n<pre><code>public static String rfc5987_encode(final String s) throws UnsupportedEncodingException {\n    final byte[] s_bytes = s.getBytes(\"UTF-8\");\n    final int len = s_bytes.length;\n    final StringBuilder sb = new StringBuilder(len &lt;&lt; 1);\n    final char[] digits = {'0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'};\n    final byte[] attr_char = {'!','#','$','&amp;','+','-','.','0','1','2','3','4','5','6','7','8','9',           'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','^','_','`',                        'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','|', '~'};\n    for (int i = 0; i &lt; len; ++i) {\n        final byte b = s_bytes[i];\n        if (Arrays.binarySearch(attr_char, b) &gt;= 0)\n            sb.append((char) b);\n        else {\n            sb.append('%');\n            sb.append(digits[0x0f &amp; (b &gt;&gt;&gt; 4)]);\n            sb.append(digits[b &amp; 0x0f]);\n        }\n    }\n\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":350059,"reputation":873,"user_id":685715,"accept_rate":50,"display_name":"Matt Wallis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651212120,"creation_date":1651163186,"answer_id":72047217,"question_id":11302361,"body_markdown":"## 2022 update\r\n\r\nThis answer adds to an [answer from 10 years ago](https://stackoverflow.com/a/11307864/685715), by providing information about an apache library that has methods to encode and decode strings according to [RFC 5987](https://datatracker.ietf.org/doc/html/rfc5987).\r\n\r\nAn RFC5987 encoder and decoder are available in the class \r\n[org.apache.cxf.attachment.Rfc5987Util](https://cxf.apache.org/javadoc/latest/org/apache/cxf/attachment/Rfc5987Util.html).\r\n\r\nI was able to import the jar into my maven project by adding the dependency:\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n   &lt;artifactId&gt;cxf-core&lt;/artifactId&gt;\r\n   &lt;version&gt;3.5.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n(check for the latest version at https://jar-download.com/artifacts/org.apache.cxf/cxf-core)\r\n\r\n### Test example\r\n```java\r\n@Test\r\npublic void verifyRfc5987EncodingandDecoding() throws UnsupportedEncodingException {\r\n   final String s = &quot;!\\&quot;$&#163;%^&amp;*()_-+={[}]:@~;&#39;#,./&lt;&gt;?\\\\|✓&#233;&#232;&#230;&#240;Ńœ&quot;;\r\n\r\n   assertThat(Rfc5987Util.decode(\r\n         Rfc5987Util.encode(s, &quot;UTF-8&quot;),\r\n               &quot;UTF-8&quot;),\r\n         equalTo(s));\r\n}\r\n```","title":"handling filename* parameters with spaces via RFC 5987 results in &#39;+&#39; in filenames","body":"<h2>2022 update</h2>\n<p>This answer adds to an <a href=\"https://stackoverflow.com/a/11307864/685715\">answer from 10 years ago</a>, by providing information about an apache library that has methods to encode and decode strings according to <a href=\"https://datatracker.ietf.org/doc/html/rfc5987\" rel=\"nofollow noreferrer\">RFC 5987</a>.</p>\n<p>An RFC5987 encoder and decoder are available in the class\n<a href=\"https://cxf.apache.org/javadoc/latest/org/apache/cxf/attachment/Rfc5987Util.html\" rel=\"nofollow noreferrer\">org.apache.cxf.attachment.Rfc5987Util</a>.</p>\n<p>I was able to import the jar into my maven project by adding the dependency:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n   &lt;artifactId&gt;cxf-core&lt;/artifactId&gt;\n   &lt;version&gt;3.5.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>(check for the latest version at <a href=\"https://jar-download.com/artifacts/org.apache.cxf/cxf-core\" rel=\"nofollow noreferrer\">https://jar-download.com/artifacts/org.apache.cxf/cxf-core</a>)</p>\n<h3>Test example</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void verifyRfc5987EncodingandDecoding() throws UnsupportedEncodingException {\n   final String s = &quot;!\\&quot;$£%^&amp;*()_-+={[}]:@~;'#,./&lt;&gt;?\\\\|✓éèæðŃœ&quot;;\n\n   assertThat(Rfc5987Util.decode(\n         Rfc5987Util.encode(s, &quot;UTF-8&quot;),\n               &quot;UTF-8&quot;),\n         equalTo(s));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21659471,"reputation":197,"user_id":15978784,"display_name":"chkpnt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678872992,"creation_date":1678872992,"answer_id":75742856,"question_id":11302361,"body_markdown":"In addition to @matt-wallis answer: In case you&#39;re already using `org.springframework:spring-web` in your project, you might want to use the `ContentDisposition`-builder:\r\n\r\n```java\r\nString contentDispositionHeaderValue = ContentDisposition.attachment()\r\n    .filename(someFilename, StandardCharsets.UTF_8)\r\n    .build()\r\n    .toString();\r\nresponse.addHeader(&quot;Content-Disposition&quot;, contentDispositionHeaderValue);\r\n```\r\n\r\nSee https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html","title":"handling filename* parameters with spaces via RFC 5987 results in &#39;+&#39; in filenames","body":"<p>In addition to @matt-wallis answer: In case you're already using <code>org.springframework:spring-web</code> in your project, you might want to use the <code>ContentDisposition</code>-builder:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String contentDispositionHeaderValue = ContentDisposition.attachment()\n    .filename(someFilename, StandardCharsets.UTF_8)\n    .build()\n    .toString();\nresponse.addHeader(&quot;Content-Disposition&quot;, contentDispositionHeaderValue);\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html</a></p>\n"}],"owner":{"account_id":1234261,"reputation":760,"user_id":1198203,"accept_rate":50,"display_name":"Peter Friend"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4259,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":11307864,"answer_count":3,"score":6,"last_activity_date":1678872992,"creation_date":1341270481,"question_id":11302361,"body_markdown":"I have some legacy code I am dealing with (so no I can&#39;t just use a URL with an encoded filename component) that allows a user to download a file from our website. Since our filenames are often in many different languages they are all stored as UTF-8. I wrote some code to handle the RFC5987 conversion to a proper filename* parameter. This works great until I have a filename with non-ascii characters **and** spaces. Per RFC, the space character is not part of attr_char so it gets encoded as %20. I have new versions of Chrome as well as Firefox and they are all converting to %20 to + on download. I have tried not encoding the space and putting the encoded filename in quotes and get the same result. I have sniffed the response coming from the server to verify that the servlet container wasn&#39;t mucking with my headers and they look correct to me. The RFC even has examples that contain %20. Am I missing something, or do all of these browsers have a bug related to this?\r\n\r\nMany thanks in advance. The code I use to encode the filename is below.\r\n\r\nPeter\r\n\r\n    public static boolean bcsrch(final char[] chars, final char c) {\r\n        final int len = chars.length;\r\n        int base = 0;\r\n        int last = len - 1; /* Last element in table */\r\n        int p;\r\n\r\n        while (last &gt;= base) {\r\n            p = base + ((last - base) &gt;&gt; 1);\r\n\r\n            if (c == chars[p])\r\n                return true; /* Key found */\r\n            else if (c &lt; chars[p])\r\n                last = p - 1;\r\n            else\r\n                base = p + 1;\r\n        }\r\n\r\n        return false; /* Key not found */\r\n    }\r\n    \r\n    public static String rfc5987_encode(final String s) {\r\n        final int len = s.length();\r\n        final StringBuilder sb = new StringBuilder(len &lt;&lt; 1);\r\n        final char[] digits = {&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;};\r\n        final char[] attr_char = {&#39;!&#39;,&#39;#&#39;,&#39;$&#39;,&#39;&amp;&#39;,&#39;\\&#39;&#39;,&#39;+&#39;,&#39;-&#39;,&#39;.&#39;,&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;,&#39;G&#39;,&#39;H&#39;,&#39;I&#39;,&#39;J&#39;,&#39;K&#39;,&#39;L&#39;,&#39;M&#39;,&#39;N&#39;,&#39;O&#39;,&#39;P&#39;,&#39;Q&#39;,&#39;R&#39;,&#39;S&#39;,&#39;T&#39;,&#39;U&#39;,&#39;V&#39;,&#39;W&#39;,&#39;X&#39;,&#39;Y&#39;,&#39;Z&#39;,&#39;^&#39;,&#39;_&#39;,&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;,&#39;g&#39;,&#39;h&#39;,&#39;i&#39;,&#39;j&#39;,&#39;k&#39;,&#39;l&#39;,&#39;m&#39;,&#39;n&#39;,&#39;o&#39;,&#39;p&#39;,&#39;q&#39;,&#39;r&#39;,&#39;s&#39;,&#39;t&#39;,&#39;u&#39;,&#39;v&#39;,&#39;w&#39;,&#39;x&#39;,&#39;y&#39;,&#39;z&#39;,&#39;|&#39;, &#39;~&#39;};\r\n        for (int i = 0; i &lt; len; ++i) {\r\n            final char c = s.charAt(i);\r\n            if (bcsrch(attr_char, c))\r\n                sb.append(c);\r\n            else {\r\n                final char[] encoded = {&#39;%&#39;, 0, 0};\r\n                encoded[1] = digits[0x0f &amp; (c &gt;&gt;&gt; 4)];\r\n                encoded[2] = digits[c &amp; 0x0f];\r\n                sb.append(encoded);\r\n            }\r\n        }\r\n    \t\r\n        return sb.toString();\r\n    }\r\n\r\n**Update**\r\n\r\nHere is a screen shot of the download dialog I get for a file with Chinese characters with spaces as mentioned in my comment.\r\n\r\n![screen cap of download dialog][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/nOpcA.jpg","title":"handling filename* parameters with spaces via RFC 5987 results in &#39;+&#39; in filenames","body":"<p>I have some legacy code I am dealing with (so no I can't just use a URL with an encoded filename component) that allows a user to download a file from our website. Since our filenames are often in many different languages they are all stored as UTF-8. I wrote some code to handle the RFC5987 conversion to a proper filename* parameter. This works great until I have a filename with non-ascii characters <strong>and</strong> spaces. Per RFC, the space character is not part of attr_char so it gets encoded as %20. I have new versions of Chrome as well as Firefox and they are all converting to %20 to + on download. I have tried not encoding the space and putting the encoded filename in quotes and get the same result. I have sniffed the response coming from the server to verify that the servlet container wasn't mucking with my headers and they look correct to me. The RFC even has examples that contain %20. Am I missing something, or do all of these browsers have a bug related to this?</p>\n\n<p>Many thanks in advance. The code I use to encode the filename is below.</p>\n\n<p>Peter</p>\n\n<pre><code>public static boolean bcsrch(final char[] chars, final char c) {\n    final int len = chars.length;\n    int base = 0;\n    int last = len - 1; /* Last element in table */\n    int p;\n\n    while (last &gt;= base) {\n        p = base + ((last - base) &gt;&gt; 1);\n\n        if (c == chars[p])\n            return true; /* Key found */\n        else if (c &lt; chars[p])\n            last = p - 1;\n        else\n            base = p + 1;\n    }\n\n    return false; /* Key not found */\n}\n\npublic static String rfc5987_encode(final String s) {\n    final int len = s.length();\n    final StringBuilder sb = new StringBuilder(len &lt;&lt; 1);\n    final char[] digits = {'0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'};\n    final char[] attr_char = {'!','#','$','&amp;','\\'','+','-','.','0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','^','_','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','|', '~'};\n    for (int i = 0; i &lt; len; ++i) {\n        final char c = s.charAt(i);\n        if (bcsrch(attr_char, c))\n            sb.append(c);\n        else {\n            final char[] encoded = {'%', 0, 0};\n            encoded[1] = digits[0x0f &amp; (c &gt;&gt;&gt; 4)];\n            encoded[2] = digits[c &amp; 0x0f];\n            sb.append(encoded);\n        }\n    }\n\n    return sb.toString();\n}\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>Here is a screen shot of the download dialog I get for a file with Chinese characters with spaces as mentioned in my comment.</p>\n\n<p><img src=\"https://i.stack.imgur.com/nOpcA.jpg\" alt=\"screen cap of download dialog\"></p>\n"},{"tags":["java","spring","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1678872437,"post_id":75741677,"comment_id":133615668,"body_markdown":"have u tried anything ? can u add the code ?","body":"have u tried anything ? can u add the code ?"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1678899242,"post_id":75741677,"comment_id":133623922,"body_markdown":"This is not really a use case to use Elasticsearch for. You would better be using a relational database for that.","body":"This is not really a use case to use Elasticsearch for. You would better be using a relational database for that."}],"answers":[{"tags":[],"owner":{"account_id":6529929,"reputation":1,"user_id":5051380,"display_name":"Allen Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678872987,"creation_date":1678872987,"answer_id":75742855,"question_id":75741677,"body_markdown":"Maybe you shold use [Multiple levels of parent join][1]. And use [has_child][2] Query.\r\n\r\nHere is my examples.\r\n\r\n    PUT my-index-000001\r\n    {\r\n      &quot;mappings&quot;: {\r\n        &quot;properties&quot;: {\r\n          &quot;my_join_field&quot;: {\r\n            &quot;type&quot;: &quot;join&quot;,\r\n            &quot;relations&quot;: {\r\n              &quot;country&quot;: &quot;address&quot;,  \r\n              &quot;address&quot;: &quot;person&quot; \r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    \r\n    PUT my-index-000001/_doc/1\r\n    {\r\n      &quot;id&quot;: &quot;COUNT_001&quot;,\r\n      &quot;type&quot;: &quot;country&quot;,\r\n      &quot;name&quot;: &quot;India&quot;,\r\n      &quot;my_join_field&quot;: {\r\n        &quot;name&quot;: &quot;country&quot;\r\n      }\r\n    }\r\n    \r\n    PUT my-index-000001/_doc/2?routing=1&amp;refresh\r\n    {\r\n     &quot;id&quot;:&quot;ADDR_001&quot;,\r\n    &quot;type&quot;:&quot;address&quot;,\r\n    &quot;countryId&quot;:&quot;COUNT_001&quot;,\r\n      &quot;my_join_field&quot;: {\r\n        &quot;name&quot;: &quot;address&quot;,\r\n        &quot;parent&quot;: &quot;1&quot;\r\n      }\r\n    }\r\n    \r\n    \r\n    PUT my-index-000001/_doc/3?routing=1&amp;refresh\r\n    {\r\n    &quot;id&quot;:&quot;PER_0001&quot;,\r\n    &quot;type&quot;:&quot;person&quot;,\r\n    &quot;addressId&quot;:&quot;ADDR_001&quot;,\r\n      &quot;my_join_field&quot;: {\r\n        &quot;name&quot;: &quot;person&quot;,\r\n        &quot;parent&quot;: &quot;2&quot;\r\n      }\r\n    }\r\n    \r\n    \r\n    GET my-index-000001/_search\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;has_child&quot;: {\r\n          &quot;type&quot;: &quot;address&quot;,\r\n          &quot;query&quot;: {\r\n            &quot;has_child&quot;: {\r\n              &quot;type&quot;: [\r\n                &quot;person&quot;\r\n              ],\r\n              &quot;query&quot;: {\r\n                &quot;bool&quot;: {\r\n                  &quot;must&quot;: [\r\n                    {\r\n                      &quot;term&quot;: {\r\n                        &quot;type.keyword&quot;: {\r\n                          &quot;value&quot;: &quot;person&quot;\r\n                        }\r\n                      }\r\n                    },\r\n                    {\r\n                      &quot;term&quot;: {\r\n                        &quot;id.keyword&quot;: {\r\n                          &quot;value&quot;: &quot;PER_0001&quot;\r\n                        }\r\n                      }\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/8.6/parent-join.html#_multiple_levels_of_parent_join\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/8.6/query-dsl-has-child-query.html","title":"Java Spring + Elasticsearch - Globalsearch: Resolving Logic From Person Type to Country Type","body":"<p>Maybe you shold use <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.6/parent-join.html#_multiple_levels_of_parent_join\" rel=\"nofollow noreferrer\">Multiple levels of parent join</a>. And use <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.6/query-dsl-has-child-query.html\" rel=\"nofollow noreferrer\">has_child</a> Query.</p>\n<p>Here is my examples.</p>\n<pre><code>PUT my-index-000001\n{\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;my_join_field&quot;: {\n        &quot;type&quot;: &quot;join&quot;,\n        &quot;relations&quot;: {\n          &quot;country&quot;: &quot;address&quot;,  \n          &quot;address&quot;: &quot;person&quot; \n        }\n      }\n    }\n  }\n}\n\n\nPUT my-index-000001/_doc/1\n{\n  &quot;id&quot;: &quot;COUNT_001&quot;,\n  &quot;type&quot;: &quot;country&quot;,\n  &quot;name&quot;: &quot;India&quot;,\n  &quot;my_join_field&quot;: {\n    &quot;name&quot;: &quot;country&quot;\n  }\n}\n\nPUT my-index-000001/_doc/2?routing=1&amp;refresh\n{\n &quot;id&quot;:&quot;ADDR_001&quot;,\n&quot;type&quot;:&quot;address&quot;,\n&quot;countryId&quot;:&quot;COUNT_001&quot;,\n  &quot;my_join_field&quot;: {\n    &quot;name&quot;: &quot;address&quot;,\n    &quot;parent&quot;: &quot;1&quot;\n  }\n}\n\n\nPUT my-index-000001/_doc/3?routing=1&amp;refresh\n{\n&quot;id&quot;:&quot;PER_0001&quot;,\n&quot;type&quot;:&quot;person&quot;,\n&quot;addressId&quot;:&quot;ADDR_001&quot;,\n  &quot;my_join_field&quot;: {\n    &quot;name&quot;: &quot;person&quot;,\n    &quot;parent&quot;: &quot;2&quot;\n  }\n}\n\n\nGET my-index-000001/_search\n{\n  &quot;query&quot;: {\n    &quot;has_child&quot;: {\n      &quot;type&quot;: &quot;address&quot;,\n      &quot;query&quot;: {\n        &quot;has_child&quot;: {\n          &quot;type&quot;: [\n            &quot;person&quot;\n          ],\n          &quot;query&quot;: {\n            &quot;bool&quot;: {\n              &quot;must&quot;: [\n                {\n                  &quot;term&quot;: {\n                    &quot;type.keyword&quot;: {\n                      &quot;value&quot;: &quot;person&quot;\n                    }\n                  }\n                },\n                {\n                  &quot;term&quot;: {\n                    &quot;id.keyword&quot;: {\n                      &quot;value&quot;: &quot;PER_0001&quot;\n                    }\n                  }\n                }\n              ]\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678872987,"creation_date":1678865649,"question_id":75741677,"body_markdown":"We have a &quot;globalsearch&quot; index that stores &quot;person&quot;, &quot;address&quot;, &quot;country&quot; information in one single index:\r\n\r\n    {\r\n    &quot;id&quot;:&quot;PER_0001&quot;,\r\n    &quot;type&quot;:&quot;person&quot;,\r\n    &quot;addressId&quot;:&quot;ADDR_001&quot;\r\n    },\r\n    {\r\n    &quot;id&quot;:&quot;ADDR_001&quot;,\r\n    &quot;type&quot;:&quot;address&quot;,\r\n    &quot;countryId&quot;:&quot;COUNT_001&quot;\r\n    },\r\n    {\r\n    &quot;id&quot;:&quot;COUNT_001&quot;,\r\n    &quot;type&quot;:&quot;country&quot;,\r\n    &quot;name&quot;:&quot;India&quot;\r\n    }\r\n\r\nGiven type=PERSON and id=&quot;PER_001&quot;, how can I &quot;map&quot; or query so that I can retrieve the country COUNT_001 details?\r\n","title":"Java Spring + Elasticsearch - Globalsearch: Resolving Logic From Person Type to Country Type","body":"<p>We have a &quot;globalsearch&quot; index that stores &quot;person&quot;, &quot;address&quot;, &quot;country&quot; information in one single index:</p>\n<pre><code>{\n&quot;id&quot;:&quot;PER_0001&quot;,\n&quot;type&quot;:&quot;person&quot;,\n&quot;addressId&quot;:&quot;ADDR_001&quot;\n},\n{\n&quot;id&quot;:&quot;ADDR_001&quot;,\n&quot;type&quot;:&quot;address&quot;,\n&quot;countryId&quot;:&quot;COUNT_001&quot;\n},\n{\n&quot;id&quot;:&quot;COUNT_001&quot;,\n&quot;type&quot;:&quot;country&quot;,\n&quot;name&quot;:&quot;India&quot;\n}\n</code></pre>\n<p>Given type=PERSON and id=&quot;PER_001&quot;, how can I &quot;map&quot; or query so that I can retrieve the country COUNT_001 details?</p>\n"},{"tags":["java","jdbc","sqlanywhere"],"comments":[{"owner":{"account_id":18824736,"reputation":241,"user_id":13729933,"display_name":"Zabon"},"score":0,"creation_date":1678698631,"post_id":75719088,"comment_id":133577173,"body_markdown":"Have you try to install the driver ? https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver16","body":"Have you try to install the driver ? <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver16\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/connect/jdbc/&hellip;</a>"},{"owner":{"account_id":8497379,"reputation":21,"user_id":6371567,"display_name":"user6371567"},"score":0,"creation_date":1678774839,"post_id":75719088,"comment_id":133593995,"body_markdown":"This are for MS sql server, I&#39;m using SQL Anywhere. Plus, the same code worked a few days ago, without installing anything.","body":"This are for MS sql server, I&#39;m using SQL Anywhere. Plus, the same code worked a few days ago, without installing anything."}],"answers":[{"tags":[],"owner":{"account_id":8497379,"reputation":21,"user_id":6371567,"display_name":"user6371567"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678872631,"creation_date":1678866935,"answer_id":75741867,"question_id":75719088,"body_markdown":"Well... judging by the logs, it turned out that the database had a forced shut down, like if power was cut. The problem started after that. Some files might got corrupted.","title":"Java and SQL Anywhere: No suitable driver found for jdbc:default:connection","body":"<p>Well... judging by the logs, it turned out that the database had a forced shut down, like if power was cut. The problem started after that. Some files might got corrupted.</p>\n"}],"owner":{"account_id":8497379,"reputation":21,"user_id":6371567,"display_name":"user6371567"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678872631,"creation_date":1678692991,"question_id":75719088,"body_markdown":"I wrote a simple Java (1.8) function which is stored and run on a SQL Anywhere database (17). It does some file processing with some SQL blob INSERT/UPDATE calls.\r\n\r\nSince it runs on a database, the connection was done (as on other functions) like this:\r\n```\r\nConnection conn;\r\nconn = DriverManager.getConnection(&quot;jdbc:default:connection&quot;);\r\n```\r\nThis worked fine across multiple functions and databases, until a client started having problems. When inspecting the server log, I found my exception printouts from try-catch statements:\r\n\r\n&gt; java.sql.SQLException: No suitable driver found for jdbc:default:connection\r\n\r\nNow here is the confusing part: it worked fine for weeks, nothing was changed on the server. Other clients don&#39;t have this problem. Did someone face something similar?","title":"Java and SQL Anywhere: No suitable driver found for jdbc:default:connection","body":"<p>I wrote a simple Java (1.8) function which is stored and run on a SQL Anywhere database (17). It does some file processing with some SQL blob INSERT/UPDATE calls.</p>\n<p>Since it runs on a database, the connection was done (as on other functions) like this:</p>\n<pre><code>Connection conn;\nconn = DriverManager.getConnection(&quot;jdbc:default:connection&quot;);\n</code></pre>\n<p>This worked fine across multiple functions and databases, until a client started having problems. When inspecting the server log, I found my exception printouts from try-catch statements:</p>\n<blockquote>\n<p>java.sql.SQLException: No suitable driver found for jdbc:default:connection</p>\n</blockquote>\n<p>Now here is the confusing part: it worked fine for weeks, nothing was changed on the server. Other clients don't have this problem. Did someone face something similar?</p>\n"},{"tags":["java","rabbitmq","spring-rabbit"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678887570,"post_id":75742601,"comment_id":133619967,"body_markdown":"Run with DEBUG logging enabled to get a full stack trace, and edit the question to add the stack trace. BTW, 2.3.x is no longer supported as OSS: https://spring.io/projects/spring-amqp#support","body":"Run with DEBUG logging enabled to get a full stack trace, and edit the question to add the stack trace. BTW, 2.3.x is no longer supported as OSS: <a href=\"https://spring.io/projects/spring-amqp#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-amqp#support</a>"},{"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"score":0,"creation_date":1678939849,"post_id":75742601,"comment_id":133631350,"body_markdown":"I used jdk1.8 and it only fit with version 2.3.x for version 52.  3.x is version 61.","body":"I used jdk1.8 and it only fit with version 2.3.x for version 52.  3.x is version 61."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678968531,"post_id":75742601,"comment_id":133637664,"body_markdown":"2.4.x works with Java 8.","body":"2.4.x works with Java 8."}],"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678872553,"creation_date":1678871540,"question_id":75742601,"body_markdown":"My project built in spring-boot swagger-ui and started ok.\r\nBut now, i want to add new app used Rabbit MQ in project. And I add maven lib in pom.xml.\r\nSource hasn&#39;t error, but when start, it raise error.\r\nSo, how can i fix it?\r\n\r\n     Application run failed\r\n        \r\n        org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.amqp.rabbit.config.internalRabbitListenerAnnotationProcessor&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.amqp.rabbit.annotation.RabbitListenerAnnotationBeanPostProcessor] from ClassLoader [sun.misc.Launcher$AppClassLoader@18b4aac2]\r\n    \r\n        Failed to introspect Class [org.springframework.amqp.rabbit.annotation.RabbitListenerAnnotationBeanPostProcessor] from ClassLoader [sun.misc.Launcher$AppClassLoader@18b4aac2]\r\n\r\nThis is my pom.xml\r\n\r\n    &lt;properties&gt;\r\n        \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        \t\t&lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\r\n        \t&lt;/properties&gt;\r\n        \t&lt;dependencies&gt;\r\n        \t\t\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t....\r\n     \t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n        \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n        \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.3.10&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t&lt;/dependencies&gt;\r\n        \t&lt;build&gt;\r\n        \t\t&lt;plugins&gt;\r\n        \t\t\t&lt;plugin&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        \t\t\t&lt;/plugin&gt;\r\n        \t\t&lt;/plugins&gt;\r\n        \t&lt;/build&gt;","title":"Error when add maven lib to use rabbit queue","body":"<p>My project built in spring-boot swagger-ui and started ok.\nBut now, i want to add new app used Rabbit MQ in project. And I add maven lib in pom.xml.\nSource hasn't error, but when start, it raise error.\nSo, how can i fix it?</p>\n<pre><code> Application run failed\n    \n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.amqp.rabbit.config.internalRabbitListenerAnnotationProcessor': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.amqp.rabbit.annotation.RabbitListenerAnnotationBeanPostProcessor] from ClassLoader [sun.misc.Launcher$AppClassLoader@18b4aac2]\n\n    Failed to introspect Class [org.springframework.amqp.rabbit.annotation.RabbitListenerAnnotationBeanPostProcessor] from ClassLoader [sun.misc.Launcher$AppClassLoader@18b4aac2]\n</code></pre>\n<p>This is my pom.xml</p>\n<pre><code>&lt;properties&gt;\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\n            &lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\n        &lt;/properties&gt;\n        &lt;dependencies&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            ....\n    &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n                &lt;version&gt;2.9.2&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n                &lt;version&gt;2.9.2&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\n                &lt;version&gt;2.3.10&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","android","timestamp","location","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1678877580,"post_id":75742768,"comment_id":133617027,"body_markdown":"Can you [edit] your question to add a sample of your csv file with the wrong timestamps as well as the timestamps you expected? Do you see the wrong timestamps in your csv or in your log?","body":"Can you <a href=\"https://stackoverflow.com/posts/75742768/edit\">edit</a> your question to add a sample of your csv file with the wrong timestamps as well as the timestamps you expected? Do you see the wrong timestamps in your csv or in your log?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678880848,"post_id":75742768,"comment_id":133617989,"body_markdown":"What relevant observations can you make in your debugger?","body":"What relevant observations can you make in your debugger?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678880931,"post_id":75742768,"comment_id":133618015,"body_markdown":"Consider not using `SimpleDateFormat` and `Date` since they are poorly designed and long outdated.  Look into [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). If for older Android devices (before API level 26), then through desugaring.","body":"Consider not using <code>SimpleDateFormat</code> and <code>Date</code> since they are poorly designed and long outdated.  Look into <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. If for older Android devices (before API level 26), then through desugaring."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678886315,"post_id":75742768,"comment_id":133619558,"body_markdown":"Is this relevant? According to [ScanResult Class](https://learn.microsoft.com/en-us/dotnet/api/android.bluetooth.le.scanresult?view=xamarin-android-sdk-13) `TimestampNanos` *Returns timestamp since boot when the scan record was observed.* Note: since boot, not since the epoch that a Java `Date` uses.","body":"Is this relevant? According to <a href=\"https://learn.microsoft.com/en-us/dotnet/api/android.bluetooth.le.scanresult?view=xamarin-android-sdk-13\" rel=\"nofollow noreferrer\">ScanResult Class</a> <code>TimestampNanos</code> <i>Returns timestamp since boot when the scan record was observed.</i> Note: since boot, not since the epoch that a Java <code>Date</code> uses."}],"owner":{"account_id":27900023,"reputation":1,"user_id":21304500,"display_name":"habascus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678872527,"creation_date":1678872527,"question_id":75742768,"body_markdown":"I&#39;m making a ble scan app for my internship to collect some that about the ble protocol. The problem is in the end of the scan i need it to generate a csv file containing a list of device address, rssi, timestamps of when that device was detected and finally the location of my location when i located that device, &#39;cause i&#39;m planning to use it in a moving car. \r\n\r\nMy problem is that i keep getting innacurate timestamps even if i change the phone i&#39;m using. the timestamps are way off (2002, 2011) and I&#39;m not sure what i&#39;m doing wrong. \r\n\r\nthis is the code i&#39;m using to see the time stamps:\r\n```\r\n            public void onScanResult(int callbackType, ScanResult result) {\r\n                super.onScanResult(callbackType, result);\r\n                String deviceAddress = result.getDevice().getAddress();\r\n                long timestamp = System.currentTimeMillis();\r\n                if (mDeviceTimestamps.containsKey(deviceAddress)) {\r\n                    // Ignore this scan result if we have seen this device within the last minute\r\n                    if (timestamp - mDeviceTimestamps.get(deviceAddress) &lt; 3000) {\r\n                        return;\r\n                    }\r\n                }\r\n                mDeviceTimestamps.put(deviceAddress, timestamp);\r\n                Log.d(TAG, &quot;New Device: &quot; + deviceAddress + &quot;, &quot; + result.getTimestampNanos()/1000);\r\n                mScanResults.add(result);\r\n                }\r\n```\r\n\r\n\r\n\r\n\r\nAnd this is the method I&#39;m using to generate the CSV file.\r\n \r\n```\r\nprivate void generateCsvFile(List&lt;ScanResult&gt; scanResults) {\r\n        if (scanResults.isEmpty()) {\r\n            return;\r\n        }\r\n\r\n\r\n        // Create directory for CSV file\r\n        File dir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\r\n        if (!((File) dir).exists()) {\r\n            if (!dir.mkdirs()) {\r\n                Log.e(TAG, &quot;generateCsvFile: failed to create directory&quot;);\r\n                return;\r\n            }\r\n        }\r\n        // Code for generating CSV file containing scan data\r\n        // Use OpenCSV library or similar\r\n        String filename = &quot;scan_&quot; + new Date().getTime() + &quot;.csv&quot;;\r\n        File file = new File(dir, filename);\r\n\r\n        try {\r\n            FileWriter fileWriter = new FileWriter(file, true);\r\n            CSVWriter csvWriter = new CSVWriter(fileWriter);\r\n\r\n            // Add header row to CSV file\r\n            String[] headerRow = {&quot;Device Name&quot;, &quot;Device Address&quot;, &quot;RSSI&quot;, &quot;Timestamp&quot;, &quot;Latitude&quot;, &quot;Longitude&quot;};\r\n            csvWriter.writeNext(headerRow);\r\n            String[] headerRow2 = {&quot;Number of devices&quot;};\r\n            csvWriter.writeNext(headerRow2);\r\n\r\n            // Add row for number of unique devices\r\n            Set&lt;String&gt; uniqueDeviceAddresses = new HashSet&lt;&gt;();\r\n            for (ScanResult result : scanResults) {\r\n                uniqueDeviceAddresses.add(result.getDevice().getAddress());\r\n            }\r\n            String[] numUniqueDevicesRow = {&quot;Number of Unique Devices:&quot;, String.valueOf(uniqueDeviceAddresses.size()), &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n            csvWriter.writeNext(numUniqueDevicesRow);\r\n\r\n            // Loop through scan results and write data to CSV file\r\n            // Replace with your own list of ScanResult objects\r\n            for (ScanResult result : scanResults) {\r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, REQUEST_BLUETOOTH_CONNECT_PERMISSION);\r\n                    return;\r\n                }\r\n                String deviceName = result.getDevice().getName();\r\n                if (deviceName == null) {\r\n                    deviceName = &quot;n/a&quot;;\r\n                }\r\n                String deviceAddress = result.getDevice().getAddress();\r\n                int rssi = result.getRssi();\r\n                long timestampMillis = result.getTimestampNanos() / 1000000; // Convert nanoseconds to milliseconds\r\n                String timestamp = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.getDefault()).format(new Date(timestampMillis));\r\n\r\n                // Find the most recent location update that occurred before the timestamp of this scan result\r\n                Location loc = null;\r\n                for (int i = mlocationUpdates.size() - 1; i &gt;= 0; i--) {\r\n                    Location update = mlocationUpdates.get(i);\r\n                    if (update.getTime() &lt;= timestampMillis) {\r\n                        loc = update;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                double lat = (loc != null) ? loc.getLatitude() : 0.0;\r\n                double lon = (loc != null) ? loc.getLongitude() : 0.0;\r\n\r\n                String[] row = {deviceName, deviceAddress, String.valueOf(rssi), timestamp, String.valueOf(lat), String.valueOf(lon)};\r\n                csvWriter.writeNext(row);\r\n            }\r\n\r\n            // Close CSV writer and file writer\r\n            csvWriter.close();\r\n            fileWriter.close();\r\n            Toast.makeText(this, &quot;CSV file generated successfully!&quot;, Toast.LENGTH_SHORT).show();\r\n        } catch (IOException e) {\r\n            Log.e(TAG, &quot;Error writing CSV file&quot;, e);\r\n            Toast.makeText(this, &quot;Error writing CSV file&quot;, Toast.LENGTH_SHORT).show();\r\n            e.printStackTrace();\r\n        }\r\n    }````\r\n`","title":"I want accurate BLE scan timestamps","body":"<p>I'm making a ble scan app for my internship to collect some that about the ble protocol. The problem is in the end of the scan i need it to generate a csv file containing a list of device address, rssi, timestamps of when that device was detected and finally the location of my location when i located that device, 'cause i'm planning to use it in a moving car.</p>\n<p>My problem is that i keep getting innacurate timestamps even if i change the phone i'm using. the timestamps are way off (2002, 2011) and I'm not sure what i'm doing wrong.</p>\n<p>this is the code i'm using to see the time stamps:</p>\n<pre><code>            public void onScanResult(int callbackType, ScanResult result) {\n                super.onScanResult(callbackType, result);\n                String deviceAddress = result.getDevice().getAddress();\n                long timestamp = System.currentTimeMillis();\n                if (mDeviceTimestamps.containsKey(deviceAddress)) {\n                    // Ignore this scan result if we have seen this device within the last minute\n                    if (timestamp - mDeviceTimestamps.get(deviceAddress) &lt; 3000) {\n                        return;\n                    }\n                }\n                mDeviceTimestamps.put(deviceAddress, timestamp);\n                Log.d(TAG, &quot;New Device: &quot; + deviceAddress + &quot;, &quot; + result.getTimestampNanos()/1000);\n                mScanResults.add(result);\n                }\n</code></pre>\n<p>And this is the method I'm using to generate the CSV file.</p>\n<pre><code>private void generateCsvFile(List&lt;ScanResult&gt; scanResults) {\n        if (scanResults.isEmpty()) {\n            return;\n        }\n\n\n        // Create directory for CSV file\n        File dir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\n        if (!((File) dir).exists()) {\n            if (!dir.mkdirs()) {\n                Log.e(TAG, &quot;generateCsvFile: failed to create directory&quot;);\n                return;\n            }\n        }\n        // Code for generating CSV file containing scan data\n        // Use OpenCSV library or similar\n        String filename = &quot;scan_&quot; + new Date().getTime() + &quot;.csv&quot;;\n        File file = new File(dir, filename);\n\n        try {\n            FileWriter fileWriter = new FileWriter(file, true);\n            CSVWriter csvWriter = new CSVWriter(fileWriter);\n\n            // Add header row to CSV file\n            String[] headerRow = {&quot;Device Name&quot;, &quot;Device Address&quot;, &quot;RSSI&quot;, &quot;Timestamp&quot;, &quot;Latitude&quot;, &quot;Longitude&quot;};\n            csvWriter.writeNext(headerRow);\n            String[] headerRow2 = {&quot;Number of devices&quot;};\n            csvWriter.writeNext(headerRow2);\n\n            // Add row for number of unique devices\n            Set&lt;String&gt; uniqueDeviceAddresses = new HashSet&lt;&gt;();\n            for (ScanResult result : scanResults) {\n                uniqueDeviceAddresses.add(result.getDevice().getAddress());\n            }\n            String[] numUniqueDevicesRow = {&quot;Number of Unique Devices:&quot;, String.valueOf(uniqueDeviceAddresses.size()), &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n            csvWriter.writeNext(numUniqueDevicesRow);\n\n            // Loop through scan results and write data to CSV file\n            // Replace with your own list of ScanResult objects\n            for (ScanResult result : scanResults) {\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, REQUEST_BLUETOOTH_CONNECT_PERMISSION);\n                    return;\n                }\n                String deviceName = result.getDevice().getName();\n                if (deviceName == null) {\n                    deviceName = &quot;n/a&quot;;\n                }\n                String deviceAddress = result.getDevice().getAddress();\n                int rssi = result.getRssi();\n                long timestampMillis = result.getTimestampNanos() / 1000000; // Convert nanoseconds to milliseconds\n                String timestamp = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.getDefault()).format(new Date(timestampMillis));\n\n                // Find the most recent location update that occurred before the timestamp of this scan result\n                Location loc = null;\n                for (int i = mlocationUpdates.size() - 1; i &gt;= 0; i--) {\n                    Location update = mlocationUpdates.get(i);\n                    if (update.getTime() &lt;= timestampMillis) {\n                        loc = update;\n                        break;\n                    }\n                }\n\n                double lat = (loc != null) ? loc.getLatitude() : 0.0;\n                double lon = (loc != null) ? loc.getLongitude() : 0.0;\n\n                String[] row = {deviceName, deviceAddress, String.valueOf(rssi), timestamp, String.valueOf(lat), String.valueOf(lon)};\n                csvWriter.writeNext(row);\n            }\n\n            // Close CSV writer and file writer\n            csvWriter.close();\n            fileWriter.close();\n            Toast.makeText(this, &quot;CSV file generated successfully!&quot;, Toast.LENGTH_SHORT).show();\n        } catch (IOException e) {\n            Log.e(TAG, &quot;Error writing CSV file&quot;, e);\n            Toast.makeText(this, &quot;Error writing CSV file&quot;, Toast.LENGTH_SHORT).show();\n            e.printStackTrace();\n        }\n    }````\n`\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":15234909,"reputation":2273,"user_id":10992886,"display_name":"Jordan"},"score":3,"creation_date":1580412608,"post_id":59993124,"comment_id":106099165,"body_markdown":"Is your `FileStorageService` class annotated with `@Service` or `@Component`?  It&#39;s not clear from the code that you&#39;ve included.","body":"Is your <code>FileStorageService</code> class annotated with <code>@Service</code> or <code>@Component</code>?  It&#39;s not clear from the code that you&#39;ve included."},{"owner":{"account_id":14248673,"reputation":153,"user_id":10292872,"display_name":"Akash "},"score":0,"creation_date":1580413508,"post_id":59993124,"comment_id":106099560,"body_markdown":"No jordan it is annotated with  @Autowired","body":"No jordan it is annotated with  @Autowired"},{"owner":{"account_id":15234909,"reputation":2273,"user_id":10992886,"display_name":"Jordan"},"score":0,"creation_date":1580413819,"post_id":59993124,"comment_id":106099694,"body_markdown":"Your constructor is annotated with `@Autowired`, but for Spring to be able to take a class and autowire it into other classes, the entire class needs to be annotated with `@Component`, or one of the other annotations that implement the same interface (such as `@Service` or `@Controller`).  This lets Spring know that this class should be managed by Spring.  If you annotate your service at the top level (just above `public class  FileStorageService`) with `@Service`, that should solve your issue.","body":"Your constructor is annotated with <code>@Autowired</code>, but for Spring to be able to take a class and autowire it into other classes, the entire class needs to be annotated with <code>@Component</code>, or one of the other annotations that implement the same interface (such as <code>@Service</code> or <code>@Controller</code>).  This lets Spring know that this class should be managed by Spring.  If you annotate your service at the top level (just above <code>public class  FileStorageService</code>) with <code>@Service</code>, that should solve your issue."},{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":0,"creation_date":1649181504,"post_id":59993124,"comment_id":126809395,"body_markdown":"It is possible that sometimes the class is already imported thru&#39; another Jar which interferes with the existing class or interface.","body":"It is possible that sometimes the class is already imported thru&#39; another Jar which interferes with the existing class or interface."},{"owner":{"account_id":18176022,"reputation":171,"user_id":13224739,"display_name":"Peter Gichia"},"score":0,"creation_date":1683359827,"post_id":59993124,"comment_id":134357705,"body_markdown":"Are your classes stored inside sub-packages ? Try removing them and putting them in the same package as the main class or the root package and try running your program.","body":"Are your classes stored inside sub-packages ? Try removing them and putting them in the same package as the main class or the root package and try running your program."}],"answers":[{"tags":[],"owner":{"account_id":17359971,"reputation":2702,"user_id":12576497,"display_name":"RUARO Thibault"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1580419889,"creation_date":1580419889,"answer_id":59994805,"question_id":59993124,"body_markdown":"The error seems to indicate that Spring does not know any bean of type `com.primesolutions.fileupload.service.FileStorageService`.\r\n\r\nAs said in the comment, make sure you class `FileStorageService`is annotated by `@Service` or `@Component`:\r\n```\r\n@Service\r\npublic class FileStorageService {\r\n...\r\n}\r\n```\r\nMake also sure that this class is located in a sub-package of your class `FileApplication`. For example, if your `FileApplication` class is located in a package `com.my.package`, make sure your `FileStorageService` is located in the package com.my.package.** (same package or any sub package).\r\n\r\nFew notes to improve your code by the way :\r\n\r\n - When your class has only one not default constructor, the use of `@Autowired` on the constructor is optional.\r\n\r\n - Do not put too much code in your constructor. Use instead the `@PostConstruct` annotation.\r\n```\r\n\r\n    @Service\r\n    public class FileStorageService {\r\n        private FileStorageProperties props;\r\n        // @Autowired is optional in this case\r\n        public FileStorageService (FileStorageProperties fileStorageProperties) {\r\n            this.props = fileStorageProperties;\r\n            this.fileStorageLocation = Paths.get(fileStorageProperties.getUploadDir())\r\n                    .toAbsolutePath().normalize();\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            try {\r\n                Files.createDirectories(this.fileStorageLocation);\r\n            } catch (Exception ex) {\r\n                throw new FileStorageException(&quot;Could not create the directory where the uploaded files will be stored.&quot;, ex);\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n\r\n - It is better to avoid the `@Autowired` on a field. Use the constructor instead. It is better for your tests, and more maintainable:\r\n```\r\npublic class FileController {\r\n    private FileStorageService service;\r\n\r\n    public FileController(FileStorageService service) {\r\n        this.service = service;\r\n    }\r\n}\r\n```\r\n","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>The error seems to indicate that Spring does not know any bean of type <code>com.primesolutions.fileupload.service.FileStorageService</code>.</p>\n\n<p>As said in the comment, make sure you class <code>FileStorageService</code>is annotated by <code>@Service</code> or <code>@Component</code>:</p>\n\n<pre><code>@Service\npublic class FileStorageService {\n...\n}\n</code></pre>\n\n<p>Make also sure that this class is located in a sub-package of your class <code>FileApplication</code>. For example, if your <code>FileApplication</code> class is located in a package <code>com.my.package</code>, make sure your <code>FileStorageService</code> is located in the package com.my.package.** (same package or any sub package).</p>\n\n<p>Few notes to improve your code by the way :</p>\n\n<ul>\n<li><p>When your class has only one not default constructor, the use of <code>@Autowired</code> on the constructor is optional.</p></li>\n<li><p>Do not put too much code in your constructor. Use instead the <code>@PostConstruct</code> annotation.</p></li>\n</ul>\n\n<pre><code>\n    @Service\n    public class FileStorageService {\n        private FileStorageProperties props;\n        // @Autowired is optional in this case\n        public FileStorageService (FileStorageProperties fileStorageProperties) {\n            this.props = fileStorageProperties;\n            this.fileStorageLocation = Paths.get(fileStorageProperties.getUploadDir())\n                    .toAbsolutePath().normalize();\n        }\n\n        @PostConstruct\n        public void init() {\n            try {\n                Files.createDirectories(this.fileStorageLocation);\n            } catch (Exception ex) {\n                throw new FileStorageException(\"Could not create the directory where the uploaded files will be stored.\", ex);\n            }\n        }\n    }\n\n</code></pre>\n\n<ul>\n<li>It is better to avoid the <code>@Autowired</code> on a field. Use the constructor instead. It is better for your tests, and more maintainable:</li>\n</ul>\n\n<pre><code>public class FileController {\n    private FileStorageService service;\n\n    public FileController(FileStorageService service) {\n        this.service = service;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594625717,"creation_date":1594625717,"answer_id":62871202,"question_id":59993124,"body_markdown":"**When @Autowired doesn’t work**\r\n\r\nThere are several reasons `@Autowired` might not work.\r\n\r\nWhen a new instance is created not by Spring but by for example manually calling a constructor, the instance of the class will not be registered in the Spring context and thus not available for dependency injection. Also when you use `@Autowired` in the class of which you created a new instance, the Spring context will not be known to it and thus most likely this will also fail.\r\nAnother reason can be that the class you want to use `@Autowired` in, is not picked up by the `ComponentScan`. This can basically be because of two reasons.\r\n\r\n 1. The package is outside the `ComponentScan` search path. Move the\r\n    package to a scanned location or configure the `ComponentScan` to\r\n    fix this.\r\n\r\n\r\n 2. The class in which you want to use `@Autowired` does not have a\r\n    Spring annotation. Add one of the following annotatons to the class:\r\n    `@Component`, `@Repository`, `@Service`, `@Controller`,\r\n    `@Configuration`. They have different behaviors so choose carefully!\r\n    Read more here.\r\n\r\nI solved this problem using : \r\n\r\n`@ComponentScan({ &quot;com.yourpkg.*&quot; })`\r\n\r\n\r\nMake sure you `@ComponentScan` cover all classes contains annotatons : `@Component`, `@Repository`, `@Service`, `@Controller`, `@Configuration`. \r\n\r\nReference : https://technology.amis.nl/2018/02/22/java-how-to-fix-spring-autowired-annotation-not-working-issues/","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p><strong>When @Autowired doesn’t work</strong></p>\n<p>There are several reasons <code>@Autowired</code> might not work.</p>\n<p>When a new instance is created not by Spring but by for example manually calling a constructor, the instance of the class will not be registered in the Spring context and thus not available for dependency injection. Also when you use <code>@Autowired</code> in the class of which you created a new instance, the Spring context will not be known to it and thus most likely this will also fail.\nAnother reason can be that the class you want to use <code>@Autowired</code> in, is not picked up by the <code>ComponentScan</code>. This can basically be because of two reasons.</p>\n<ol>\n<li><p>The package is outside the <code>ComponentScan</code> search path. Move the\npackage to a scanned location or configure the <code>ComponentScan</code> to\nfix this.</p>\n</li>\n<li><p>The class in which you want to use <code>@Autowired</code> does not have a\nSpring annotation. Add one of the following annotatons to the class:\n<code>@Component</code>, <code>@Repository</code>, <code>@Service</code>, <code>@Controller</code>,\n<code>@Configuration</code>. They have different behaviors so choose carefully!\nRead more here.</p>\n</li>\n</ol>\n<p>I solved this problem using :</p>\n<p><code>@ComponentScan({ &quot;com.yourpkg.*&quot; })</code></p>\n<p>Make sure you <code>@ComponentScan</code> cover all classes contains annotatons : <code>@Component</code>, <code>@Repository</code>, <code>@Service</code>, <code>@Controller</code>, <code>@Configuration</code>.</p>\n<p>Reference : <a href=\"https://technology.amis.nl/2018/02/22/java-how-to-fix-spring-autowired-annotation-not-working-issues/\" rel=\"nofollow noreferrer\">https://technology.amis.nl/2018/02/22/java-how-to-fix-spring-autowired-annotation-not-working-issues/</a></p>\n"},{"tags":[],"owner":{"account_id":1316659,"reputation":37,"user_id":7373817,"display_name":"Ramesh Bathini"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662463746,"creation_date":1601571623,"answer_id":64160057,"question_id":59993124,"body_markdown":"Make sure to have respective annotations for classes. The same issue  got solved for me when I add `@Service` annotation for interfaces and implemented service classes.","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>Make sure to have respective annotations for classes. The same issue  got solved for me when I add <code>@Service</code> annotation for interfaces and implemented service classes.</p>\n"},{"tags":[],"owner":{"account_id":12847964,"reputation":53,"user_id":9293747,"display_name":"Ajit A Ankalle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601730565,"creation_date":1601730565,"answer_id":64184647,"question_id":59993124,"body_markdown":"Tried with **removing the (exclude = {DataSourceAutoConfiguration.class })** parameter with @SpringBootApplication:\r\n\r\n**Before:**\r\n\r\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\r\n\r\npublic class SpringBootMain { ...\r\n\r\n**After:**\r\n\r\n@SpringBootApplication\r\n\r\npublic class SpringBootMain { ...\r\n\r\nWorked for me.","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>Tried with <strong>removing the (exclude = {DataSourceAutoConfiguration.class })</strong> parameter with @SpringBootApplication:</p>\n<p><strong>Before:</strong></p>\n<p>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })</p>\n<p>public class SpringBootMain { ...</p>\n<p><strong>After:</strong></p>\n<p>@SpringBootApplication</p>\n<p>public class SpringBootMain { ...</p>\n<p>Worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11697339,"reputation":1663,"user_id":8563654,"display_name":"Senthuran"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1630599904,"creation_date":1630599904,"answer_id":69033963,"question_id":59993124,"body_markdown":"The class which is going to be Autowired should be marked with **@Service** or **@Component**. Also if the class is in different package then need to add the **@ComponentScan** annotation in the main class as follows.\r\n\r\n    @ComponentScan({&quot;com.beta.replyservice&quot;, &quot;com.beta.ruleService&quot;})\r\n    @SpringBootApplication","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>The class which is going to be Autowired should be marked with <strong>@Service</strong> or <strong>@Component</strong>. Also if the class is in different package then need to add the <strong>@ComponentScan</strong> annotation in the main class as follows.</p>\n<pre><code>@ComponentScan({&quot;com.beta.replyservice&quot;, &quot;com.beta.ruleService&quot;})\n@SpringBootApplication\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22610028,"reputation":157,"user_id":16790372,"display_name":"wazirX"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1630665708,"creation_date":1630665708,"answer_id":69043609,"question_id":59993124,"body_markdown":"I solved this problem using where i use @Autowired annotation just replace with this`\r\n\r\n&gt; `@Autowired(required = false)`\r\n\r\n`","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>I solved this problem using where i use @Autowired annotation just replace with this`</p>\n<blockquote>\n<p><code>@Autowired(required = false)</code></p>\n</blockquote>\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":23767847,"reputation":1,"user_id":17782370,"display_name":"Sanjay Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662463767,"creation_date":1646062681,"answer_id":71297422,"question_id":59993124,"body_markdown":"I use `@Service` on the service class which has to be Autowired. It solves my error. or you can use `@Autowired(required = false)` to disable the auto wiring for a particular instance.","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>I use <code>@Service</code> on the service class which has to be Autowired. It solves my error. or you can use <code>@Autowired(required = false)</code> to disable the auto wiring for a particular instance.</p>\n"},{"tags":[],"owner":{"account_id":24890642,"reputation":1,"user_id":18762669,"display_name":"loubna damri"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649597205,"creation_date":1649594525,"answer_id":71816703,"question_id":59993124,"body_markdown":"I had the same issue.  It was solved for me when I added a dependency on &quot;spring-webmvc&quot;.\r\n","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>I had the same issue.  It was solved for me when I added a dependency on &quot;spring-webmvc&quot;.</p>\n"},{"tags":[],"owner":{"account_id":21944919,"reputation":1,"user_id":16224920,"display_name":"Shinto Chandy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662463631,"creation_date":1655235888,"answer_id":72622597,"question_id":59993124,"body_markdown":"\r\n=&gt; **Error should look like this:**\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    Description:\r\n    \r\n    Field accountPresentation in june14th.account.TestSpringBoot required a bean of type &#39;june14th.controller.AccountPresentation&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;june14th.controller.AccountPresentation&#39; in your configuration.\r\n\r\n**Solution to the problem:-**\r\n\r\n1. First and most important step is look whether your code has the needed dependencies.\r\n2. Check your Folder structure (this error is mainly due to this problem, always check your package structure) i.e, check wheather the main package and its sub packages are well structured\r\n\r\neg: \r\n\r\n    package X.account; //consider this is my main file package\r\n    package X.controller; //consider this as my presentation file package\r\n\r\nwhen you run this program this will cause our &quot;APPLICATION FAILED TO START&quot; error, because of our package structure..look \r\n\r\n    package X.account; //main file package [the next fie should inside this package i.e as a sub package]\r\n    \r\n    package.X.account.controller // this is the right way\r\n\r\n *I think this should solve your problem.*\r\n\r\n3. `Put @Autowired(required=true) //do only if above will not work`\r\n\r\n\r\n\r\n\r\n","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>=&gt; <strong>Error should look like this:</strong></p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\nDescription:\n\nField accountPresentation in june14th.account.TestSpringBoot required a bean of type 'june14th.controller.AccountPresentation' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\nAction:\n\nConsider defining a bean of type 'june14th.controller.AccountPresentation' in your configuration.\n</code></pre>\n<p><strong>Solution to the problem:-</strong></p>\n<ol>\n<li>First and most important step is look whether your code has the needed dependencies.</li>\n<li>Check your Folder structure (this error is mainly due to this problem, always check your package structure) i.e, check wheather the main package and its sub packages are well structured</li>\n</ol>\n<p>eg:</p>\n<pre><code>package X.account; //consider this is my main file package\npackage X.controller; //consider this as my presentation file package\n</code></pre>\n<p>when you run this program this will cause our &quot;APPLICATION FAILED TO START&quot; error, because of our package structure..look</p>\n<pre><code>package X.account; //main file package [the next fie should inside this package i.e as a sub package]\n\npackage.X.account.controller // this is the right way\n</code></pre>\n<p><em>I think this should solve your problem.</em></p>\n<ol start=\"3\">\n<li><code>Put @Autowired(required=true) //do only if above will not work</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26259403,"reputation":11,"user_id":19930976,"display_name":"Abhishek kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662463589,"creation_date":1662461908,"answer_id":73620868,"question_id":59993124,"body_markdown":"When I had the same problem, I just added a default constructor in my service class and it started working. ","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>When I had the same problem, I just added a default constructor in my service class and it started working.</p>\n"},{"tags":[],"owner":{"account_id":9005111,"reputation":574,"user_id":6712167,"display_name":"Ranushka Lakmal Sankalpa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668108757,"creation_date":1668108757,"answer_id":74394418,"question_id":59993124,"body_markdown":"\r\n*Solution is*\r\n\r\n\r\n    @Autowired(required = false) \r\n    private FileStorageService fileStorageService;\r\n\r\n","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p><em>Solution is</em></p>\n<pre><code>@Autowired(required = false) \nprivate FileStorageService fileStorageService;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17446692,"reputation":356,"user_id":12647580,"display_name":"menoktaokan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678872073,"creation_date":1678872073,"answer_id":75742709,"question_id":59993124,"body_markdown":"When I work with a microservice project I get this error while the project I currently work on has the model class but DB config even though the other microservices have the DB config. I created the DB config and the problem has been solved.","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>When I work with a microservice project I get this error while the project I currently work on has the model class but DB config even though the other microservices have the DB config. I created the DB config and the problem has been solved.</p>\n"}],"owner":{"account_id":14248673,"reputation":153,"user_id":10292872,"display_name":"Akash "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182301,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":59994805,"answer_count":12,"score":15,"last_activity_date":1678872073,"creation_date":1580412154,"question_id":59993124,"body_markdown":"I am new to Spring Boot and I&#39;m getting the following error when writing a file upload API: \r\n\r\n    Error:Description:\r\n    Field fileStorageService in com.primesolutions.fileupload.controller.FileController required a bean of type &#39;com.primesolutions.fileupload.service.FileStorageService&#39; that could not be found.\r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    Action:\r\n    Consider defining a bean of type &#39;com.primesolutions.fileupload.service.FileStorageService&#39; in your configuration.*\r\n\r\n\r\nController class:\r\n\r\n    public class FileController \r\n    {\r\n        private static final Logger logger = LoggerFactory.getLogger(FileController.class);\r\n    \r\n        @Autowired\r\n        private FileStorageService fileStorageService;\r\n    \r\n        @PostMapping(&quot;/uploadFile&quot;)\r\n        public UploadFileResponse uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n            String fileName = fileStorageService.storeFile(file);\r\n    \r\n            String fileDownloadUri = ServletUriComponentsBuilder.fromCurrentContextPath()\r\n                    .path(&quot;/downloadFile/&quot;)\r\n                    .path(fileName)\r\n                    .toUriString();\r\n    \r\n            return new UploadFileResponse(fileName, fileDownloadUri,\r\n                    file.getContentType(), file.getSize());\r\n        }\r\n    \r\n        @PostMapping(&quot;/uploadMultipleFiles&quot;)\r\n        public List&lt;UploadFileResponse&gt; uploadMultipleFiles(@RequestParam(&quot;files&quot;) MultipartFile[] files) {\r\n            return Arrays.asList(files)\r\n                    .stream()\r\n                    .map(file -&gt; uploadFile(file))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\nService class:\r\n \r\n\r\n    private final Path fileStorageLocation;\r\n    \r\n    \r\n        @Autowired\r\n        public FileStorageService(FileStorageProperties fileStorageProperties) {\r\n            this.fileStorageLocation = Paths.get(fileStorageProperties.getUploadDir())\r\n                    .toAbsolutePath().normalize();\r\n    \r\n            try {\r\n                Files.createDirectories(this.fileStorageLocation);\r\n            } catch (Exception ex) {\r\n                throw new FileStorageException(&quot;Could not create the directory where the uploaded files will be stored.&quot;, ex);\r\n            }\r\n        }\r\n    \r\n        public String storeFile(MultipartFile file) {\r\n            // Normalize file name\r\n            String fileName = StringUtils.cleanPath(file.getOriginalFilename());\r\n    \r\n            try {\r\n                // Check if the file&#39;s name contains invalid characters\r\n                if(fileName.contains(&quot;..&quot;)) {\r\n                    throw new FileStorageException(&quot;Sorry! Filename contains invalid path sequence &quot; + fileName);\r\n                }\r\n    \r\n                // Copy file to the target location (Replacing existing file with the same name)\r\n                Path targetLocation = this.fileStorageLocation.resolve(fileName);\r\n                Files.copy(file.getInputStream(), targetLocation, StandardCopyOption.REPLACE_EXISTING);\r\n    \r\n                return fileName;\r\n            } catch (IOException ex) {\r\n                throw new FileStorageException(&quot;Could not store file &quot; + fileName + &quot;. Please try again!&quot;, ex);\r\n            }\r\n        }\r\n\r\nConfiguration class:\r\n\r\n    @ConfigurationProperties(prefix = &quot;file&quot;)\r\n    public class FileStorageProperties {\r\n    \r\n        private String uploadDir;\r\n    \r\n        public String getUploadDir()\r\n        {\r\n            return uploadDir;\r\n        }\r\n    \r\n        public void setUploadDir(String uploadDir) {\r\n            this.uploadDir = uploadDir;\r\n        }\r\n    }\r\n\r\nMain:\r\n\r\n    @SpringBootApplication\r\n    @EnableConfigurationProperties({\r\n            FileStorageProperties.class\r\n    })\r\n    public class FileApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(FileApplication.class, args);\r\n        }\r\n    }\r\n\r\nproperties file\r\n\r\n    ## MULTIPART (MultipartProperties)\r\n    # Enable multipart uploads\r\n    spring.servlet.multipart.enabled=true\r\n    # Threshold after which files are written to disk.\r\n    spring.servlet.multipart.file-size-threshold=2KB\r\n    # Max file size.\r\n    spring.servlet.multipart.max-file-size=200MB\r\n    # Max Request Size\r\n    spring.servlet.multipart.max-request-size=215MB\r\n    \r\n    ## File Storage Properties\r\n    # All files uploaded through the REST API will be stored in this directory\r\n    file.upload-dir=C:/Projects/SpringBootProject/Primesolutions/PrimeSolutions/FileUpload\r\n\r\nI&#39;m trying to read the file upload property and pass it to the controller class.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>I am new to Spring Boot and I'm getting the following error when writing a file upload API: </p>\n\n<pre><code>Error:Description:\nField fileStorageService in com.primesolutions.fileupload.controller.FileController required a bean of type 'com.primesolutions.fileupload.service.FileStorageService' that could not be found.\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\nAction:\nConsider defining a bean of type 'com.primesolutions.fileupload.service.FileStorageService' in your configuration.*\n</code></pre>\n\n<p>Controller class:</p>\n\n<pre><code>public class FileController \n{\n    private static final Logger logger = LoggerFactory.getLogger(FileController.class);\n\n    @Autowired\n    private FileStorageService fileStorageService;\n\n    @PostMapping(\"/uploadFile\")\n    public UploadFileResponse uploadFile(@RequestParam(\"file\") MultipartFile file) {\n        String fileName = fileStorageService.storeFile(file);\n\n        String fileDownloadUri = ServletUriComponentsBuilder.fromCurrentContextPath()\n                .path(\"/downloadFile/\")\n                .path(fileName)\n                .toUriString();\n\n        return new UploadFileResponse(fileName, fileDownloadUri,\n                file.getContentType(), file.getSize());\n    }\n\n    @PostMapping(\"/uploadMultipleFiles\")\n    public List&lt;UploadFileResponse&gt; uploadMultipleFiles(@RequestParam(\"files\") MultipartFile[] files) {\n        return Arrays.asList(files)\n                .stream()\n                .map(file -&gt; uploadFile(file))\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n\n<p>Service class:</p>\n\n<pre><code>private final Path fileStorageLocation;\n\n\n    @Autowired\n    public FileStorageService(FileStorageProperties fileStorageProperties) {\n        this.fileStorageLocation = Paths.get(fileStorageProperties.getUploadDir())\n                .toAbsolutePath().normalize();\n\n        try {\n            Files.createDirectories(this.fileStorageLocation);\n        } catch (Exception ex) {\n            throw new FileStorageException(\"Could not create the directory where the uploaded files will be stored.\", ex);\n        }\n    }\n\n    public String storeFile(MultipartFile file) {\n        // Normalize file name\n        String fileName = StringUtils.cleanPath(file.getOriginalFilename());\n\n        try {\n            // Check if the file's name contains invalid characters\n            if(fileName.contains(\"..\")) {\n                throw new FileStorageException(\"Sorry! Filename contains invalid path sequence \" + fileName);\n            }\n\n            // Copy file to the target location (Replacing existing file with the same name)\n            Path targetLocation = this.fileStorageLocation.resolve(fileName);\n            Files.copy(file.getInputStream(), targetLocation, StandardCopyOption.REPLACE_EXISTING);\n\n            return fileName;\n        } catch (IOException ex) {\n            throw new FileStorageException(\"Could not store file \" + fileName + \". Please try again!\", ex);\n        }\n    }\n</code></pre>\n\n<p>Configuration class:</p>\n\n<pre><code>@ConfigurationProperties(prefix = \"file\")\npublic class FileStorageProperties {\n\n    private String uploadDir;\n\n    public String getUploadDir()\n    {\n        return uploadDir;\n    }\n\n    public void setUploadDir(String uploadDir) {\n        this.uploadDir = uploadDir;\n    }\n}\n</code></pre>\n\n<p>Main:</p>\n\n<pre><code>@SpringBootApplication\n@EnableConfigurationProperties({\n        FileStorageProperties.class\n})\npublic class FileApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(FileApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>properties file</p>\n\n<pre><code>## MULTIPART (MultipartProperties)\n# Enable multipart uploads\nspring.servlet.multipart.enabled=true\n# Threshold after which files are written to disk.\nspring.servlet.multipart.file-size-threshold=2KB\n# Max file size.\nspring.servlet.multipart.max-file-size=200MB\n# Max Request Size\nspring.servlet.multipart.max-request-size=215MB\n\n## File Storage Properties\n# All files uploaded through the REST API will be stored in this directory\nfile.upload-dir=C:/Projects/SpringBootProject/Primesolutions/PrimeSolutions/FileUpload\n</code></pre>\n\n<p>I'm trying to read the file upload property and pass it to the controller class.</p>\n"},{"tags":["java","http","oauth-2.0","google-oauth","vert.x"],"comments":[{"owner":{"account_id":13545735,"reputation":102,"user_id":9772107,"display_name":"Mojtaba jalambadani"},"score":0,"creation_date":1678872322,"post_id":75742696,"comment_id":133615641,"body_markdown":"Make sure that the scopes you define in authHandler and the scopes requested from the user (which are defined in the Google Cloud Console) match exactly.","body":"Make sure that the scopes you define in authHandler and the scopes requested from the user (which are defined in the Google Cloud Console) match exactly."},{"owner":{"account_id":28021535,"reputation":31,"user_id":21402255,"display_name":"Luis Gamez"},"score":0,"creation_date":1678872956,"post_id":75742696,"comment_id":133615796,"body_markdown":"Hey Mojtaba, yes I have added on OAuth consent screen the scopes &quot;./auth/userinfo.email&quot; and &quot;./auth/userinfo.profile&quot; to my app","body":"Hey Mojtaba, yes I have added on OAuth consent screen the scopes &quot;./auth/userinfo.email&quot; and &quot;./auth/userinfo.profile&quot; to my app"},{"owner":{"account_id":8805606,"reputation":93,"user_id":6580416,"display_name":"Yaz"},"score":0,"creation_date":1692117560,"post_id":75742696,"comment_id":135579724,"body_markdown":"You have to put the full scopes: https://www.googleapis.com/auth/userinfo.email, https://www.googleapis.com/auth/userinfo.profile","body":"You have to put the full scopes: <a href=\"https://www.googleapis.com/auth/userinfo.email\" rel=\"nofollow noreferrer\">googleapis.com/auth/userinfo.email</a>, <a href=\"https://www.googleapis.com/auth/userinfo.profile\" rel=\"nofollow noreferrer\">googleapis.com/auth/userinfo.profile</a>"}],"owner":{"account_id":28021535,"reputation":31,"user_id":21402255,"display_name":"Luis Gamez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1678871978,"creation_date":1678871978,"question_id":75742696,"body_markdown":"I&#39;m having some issues when implementing OAuth2.0 Google and Vertx. I&#39;m trying to make a simple example where user just have to ligon with google and after that we print a message on screen with the user name and email:\r\n\r\n```\r\n\r\npublic class MainVerticle extends AbstractVerticle {\r\n\r\n  public static void main(String[] args) {\r\n    Vertx.vertx().deployVerticle(new MainVerticle());\r\n  }\r\n\r\n  @Override\r\n  public void start(Promise&lt;Void&gt; startPromise) throws Exception {\r\n    final String CLIENT_ID = &quot;CLIENT_ID&quot;;\r\n\r\n    final String CLIENT_SECRET = &quot;CLIENT_SECRET&quot;;\r\n    \r\n    OAuth2Auth authProvider = GoogleAuth.create(vertx, CLIENT_ID,CLIENT_SECRET);\r\n\r\n\r\n    Router router = Router.router(vertx);\r\n\r\n    OAuth2AuthHandler authHandler = OAuth2AuthHandler.create(vertx, authProvider, &quot;http://localhost:8080/callback&quot;).withScopes(List.of(&quot;email&quot;, &quot;profile&quot;));\r\n\r\n\r\n    authHandler.setupCallback(router.route(&quot;/callback&quot;));\r\n\r\n\r\n    router.route(&quot;/login&quot;).handler(authHandler);\r\n\r\n    router.get(&quot;/callback&quot;).handler(ctx -&gt; {\r\n\r\n      String code = ctx.request().getParam(&quot;code&quot;);\r\n      System.out.println(code);\r\n      if(code != null){\r\n        //Obtenemos token de acceso\r\n        authProvider.authenticate(new Oauth2Credentials(new JsonObject().put(&quot;code&quot;, code)), res -&gt; {\r\n          if(res.succeeded()){\r\n            //Almacenamos el usuario\r\n            User user = res.result();\r\n            ctx.setUser(user);\r\n            ctx.put(&quot;token&quot;, user.principal());\r\n            ctx.response().putHeader(&quot;location&quot;, &quot;/protected&quot;).setStatusCode(302).end();\r\n          }else {\r\n            System.out.println(&quot;Error de authentication&quot;);\r\n            ctx.fail(401);\r\n          }\r\n        });\r\n      }else {\r\n        //El usuario ha denegado los permisos\r\n        System.out.println(&quot;El usuario ha denegado los permisos&quot;);\r\n        ctx.fail(401);\r\n      }\r\n    });\r\n\r\n    router.route(&quot;/protected&quot;).handler(RedirectAuthHandler.create(authProvider, &quot;/login&quot;));\r\n\r\n    router.route(&quot;/protected&quot;).handler(ctx -&gt;{\r\n\r\n      if(ctx.user() != null){\r\n        // Usuario identificado\r\n        JsonObject profile = ctx.user().principal();\r\n        String name = profile.getString(&quot;name&quot;);\r\n        String email = profile.getString(&quot;email&quot;);\r\n        ctx.response().end(&quot;Bienvenido, &quot;  + name + &quot; con email &quot; + email);\r\n      }\r\n      }\r\n\r\n    );\r\n\r\n\r\n    router\r\n      .get(&quot;/&quot;)\r\n        .handler(ctc -&gt; ctc.response()\r\n          .putHeader(&quot;content-type&quot;, &quot;text/html&quot;)\r\n          .end(&quot;Hello&lt;br&gt;&lt;a href=\\&quot;/login\\&quot;&gt;Protected by Google&lt;/a&gt;&quot;));\r\n\r\n    vertx.\r\n      createHttpServer()\r\n      .requestHandler(router)\r\n      .listen(8080, http -&gt; {\r\n      if (http.succeeded()) {\r\n        startPromise.complete();\r\n        System.out.println(&quot;HTTP server started on port 8080&quot;);\r\n      } else {\r\n        startPromise.fail(http.cause());\r\n      }\r\n    });\r\n  }\r\n}\r\n```\r\n\r\nAfter logging in with google and accepting the permissions when calling the calback I always get this error and it throw a 403 Forbidden\r\n\r\n```\r\nHTTP server started on port 8080\r\nmar 15, 2023 9:58:57 A.&#160;M. io.vertx.ext.web.RoutingContext\r\nGRAVE: Unhandled exception in router\r\njava.lang.IllegalStateException: principal scope != handler scopes\r\n\tat io.vertx.ext.web.handler.impl.OAuth2AuthHandlerImpl.postAuthentication(OAuth2AuthHandlerImpl.java:349)...\r\n```","title":"How handle scopes OAuth 2.0 Google and Vert.x","body":"<p>I'm having some issues when implementing OAuth2.0 Google and Vertx. I'm trying to make a simple example where user just have to ligon with google and after that we print a message on screen with the user name and email:</p>\n<pre><code>\npublic class MainVerticle extends AbstractVerticle {\n\n  public static void main(String[] args) {\n    Vertx.vertx().deployVerticle(new MainVerticle());\n  }\n\n  @Override\n  public void start(Promise&lt;Void&gt; startPromise) throws Exception {\n    final String CLIENT_ID = &quot;CLIENT_ID&quot;;\n\n    final String CLIENT_SECRET = &quot;CLIENT_SECRET&quot;;\n    \n    OAuth2Auth authProvider = GoogleAuth.create(vertx, CLIENT_ID,CLIENT_SECRET);\n\n\n    Router router = Router.router(vertx);\n\n    OAuth2AuthHandler authHandler = OAuth2AuthHandler.create(vertx, authProvider, &quot;http://localhost:8080/callback&quot;).withScopes(List.of(&quot;email&quot;, &quot;profile&quot;));\n\n\n    authHandler.setupCallback(router.route(&quot;/callback&quot;));\n\n\n    router.route(&quot;/login&quot;).handler(authHandler);\n\n    router.get(&quot;/callback&quot;).handler(ctx -&gt; {\n\n      String code = ctx.request().getParam(&quot;code&quot;);\n      System.out.println(code);\n      if(code != null){\n        //Obtenemos token de acceso\n        authProvider.authenticate(new Oauth2Credentials(new JsonObject().put(&quot;code&quot;, code)), res -&gt; {\n          if(res.succeeded()){\n            //Almacenamos el usuario\n            User user = res.result();\n            ctx.setUser(user);\n            ctx.put(&quot;token&quot;, user.principal());\n            ctx.response().putHeader(&quot;location&quot;, &quot;/protected&quot;).setStatusCode(302).end();\n          }else {\n            System.out.println(&quot;Error de authentication&quot;);\n            ctx.fail(401);\n          }\n        });\n      }else {\n        //El usuario ha denegado los permisos\n        System.out.println(&quot;El usuario ha denegado los permisos&quot;);\n        ctx.fail(401);\n      }\n    });\n\n    router.route(&quot;/protected&quot;).handler(RedirectAuthHandler.create(authProvider, &quot;/login&quot;));\n\n    router.route(&quot;/protected&quot;).handler(ctx -&gt;{\n\n      if(ctx.user() != null){\n        // Usuario identificado\n        JsonObject profile = ctx.user().principal();\n        String name = profile.getString(&quot;name&quot;);\n        String email = profile.getString(&quot;email&quot;);\n        ctx.response().end(&quot;Bienvenido, &quot;  + name + &quot; con email &quot; + email);\n      }\n      }\n\n    );\n\n\n    router\n      .get(&quot;/&quot;)\n        .handler(ctc -&gt; ctc.response()\n          .putHeader(&quot;content-type&quot;, &quot;text/html&quot;)\n          .end(&quot;Hello&lt;br&gt;&lt;a href=\\&quot;/login\\&quot;&gt;Protected by Google&lt;/a&gt;&quot;));\n\n    vertx.\n      createHttpServer()\n      .requestHandler(router)\n      .listen(8080, http -&gt; {\n      if (http.succeeded()) {\n        startPromise.complete();\n        System.out.println(&quot;HTTP server started on port 8080&quot;);\n      } else {\n        startPromise.fail(http.cause());\n      }\n    });\n  }\n}\n</code></pre>\n<p>After logging in with google and accepting the permissions when calling the calback I always get this error and it throw a 403 Forbidden</p>\n<pre><code>HTTP server started on port 8080\nmar 15, 2023 9:58:57 A. M. io.vertx.ext.web.RoutingContext\nGRAVE: Unhandled exception in router\njava.lang.IllegalStateException: principal scope != handler scopes\n    at io.vertx.ext.web.handler.impl.OAuth2AuthHandlerImpl.postAuthentication(OAuth2AuthHandlerImpl.java:349)...\n</code></pre>\n"},{"tags":["java","gmail","gmail-api"],"comments":[{"owner":{"account_id":23932132,"reputation":2036,"user_id":17926478,"display_name":"Lorena Gomez"},"score":0,"creation_date":1678807077,"post_id":75733821,"comment_id":133602836,"body_markdown":"Which email exactly do you want to change the subject to? Is it incoming email, outgoing, or draft? Also, what programming language are you using? Please specify, whenever possible, you need to include a minimal example that reproduces the issue. You can also include the expected behavior, the actual behavior, and how they differ, that would be helpful as well. Please visit [How to Ask](https://stackoverflow.com/help/how-to-ask) have some tips on how to write a question, so the community will be able to help you out in a better way.","body":"Which email exactly do you want to change the subject to? Is it incoming email, outgoing, or draft? Also, what programming language are you using? Please specify, whenever possible, you need to include a minimal example that reproduces the issue. You can also include the expected behavior, the actual behavior, and how they differ, that would be helpful as well. Please visit <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> have some tips on how to write a question, so the community will be able to help you out in a better way."}],"owner":{"account_id":1052697,"reputation":309,"user_id":1056194,"accept_rate":57,"display_name":"Cool Coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678871948,"creation_date":1678800733,"question_id":75733821,"body_markdown":"I am just struggling to update the incoming message subject using ModifyMessageRequest(Java API), but it does not work. Here is minimal code example:\r\n\r\n            MessagePart payload = m.getPayload();\r\n            List&lt;MessagePartHeader&gt; headers = payload.getHeaders();\r\n\r\n            for(MessagePartHeader h: headers){\r\n\r\n                if(h.getName().equals(&quot;Subject&quot;)){\r\n                    h.set(&quot;Subject&quot;, &quot;New Subject&quot;);\r\n                }\r\n            }\r\n\r\n            m.setPayload(payload);\r\n            ModifyMessageRequest modifyRequest = new ModifyMessageRequest()\r\n                    .setRemoveLabelIds(List.of(&quot;UNREAD&quot;))\r\n                    .setAddLabelIds(Collections.emptyList());\r\n\r\n\r\n            gmail.users().messages().modify(email, msgId, modifyRequest).execute();\r\n\r\nHowever, only unread messages label changed to Read and subject does not change. Anything missing? I would appreciate help.","title":"Gmail API update Message subject","body":"<p>I am just struggling to update the incoming message subject using ModifyMessageRequest(Java API), but it does not work. Here is minimal code example:</p>\n<pre><code>        MessagePart payload = m.getPayload();\n        List&lt;MessagePartHeader&gt; headers = payload.getHeaders();\n\n        for(MessagePartHeader h: headers){\n\n            if(h.getName().equals(&quot;Subject&quot;)){\n                h.set(&quot;Subject&quot;, &quot;New Subject&quot;);\n            }\n        }\n\n        m.setPayload(payload);\n        ModifyMessageRequest modifyRequest = new ModifyMessageRequest()\n                .setRemoveLabelIds(List.of(&quot;UNREAD&quot;))\n                .setAddLabelIds(Collections.emptyList());\n\n\n        gmail.users().messages().modify(email, msgId, modifyRequest).execute();\n</code></pre>\n<p>However, only unread messages label changed to Read and subject does not change. Anything missing? I would appreciate help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1531814849,"post_id":51376228,"comment_id":89724010,"body_markdown":"[This](https://stackoverflow.com/a/16611566/133203) may give you ideas.","body":"<a href=\"https://stackoverflow.com/a/16611566/133203\">This</a> may give you ideas."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1531814892,"post_id":51376228,"comment_id":89724032,"body_markdown":"[GraphicsEnvironment isHeadless()](https://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsEnvironment.html#isHeadless())","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsEnvironment.html#isHeadless()\" rel=\"nofollow noreferrer\">GraphicsEnvironment isHeadless()</a>"},{"owner":{"account_id":2577707,"reputation":2286,"user_id":2235015,"display_name":"Florian Albrecht"},"score":3,"creation_date":1531814909,"post_id":51376228,"comment_id":89724046,"body_markdown":"Possible duplicate of [Is there a safe, programmatic way to determine if it&#39;s safe to open a Swing window?](https://stackoverflow.com/questions/5893236/is-there-a-safe-programmatic-way-to-determine-if-its-safe-to-open-a-swing-wind)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/5893236/is-there-a-safe-programmatic-way-to-determine-if-its-safe-to-open-a-swing-wind\">Is there a safe, programmatic way to determine if it&#39;s safe to open a Swing window?</a>"}],"answers":[{"tags":[],"owner":{"account_id":223715,"reputation":12555,"user_id":483113,"accept_rate":89,"display_name":"sjngm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678871730,"creation_date":1678871730,"answer_id":75742636,"question_id":51376228,"body_markdown":"As this question doesn&#39;t seem to ask for a code-snippet and I was looking for a way to simply be able to tell if a Java-installation supports GUI or not and (at least my) Google doesn&#39;t have an answer for that, my current wisdom is to check what&#39;s installed.\r\n\r\nI&#39;m not sure, but I think on Windows there&#39;s a command `javaw` if Java supports GUI. On Linux one has to check what&#39;s installed:\r\n\r\n    [root@host ~]# yum list &quot;*jdk*&quot;\r\n    Last metadata expiration check: 4:50:52 ago on Wed 15 Mar 2023 05:08:08 CET.\r\n    Installed Packages\r\n    copy-jdk-configs.noarch             4.0-2.el8\r\n    java-1.8.0-openjdk.x86_64           1:1.8.0.362.b09-2.el8_7\r\n    java-1.8.0-openjdk-headless.x86_64  1:1.8.0.362.b09-2.el8_7\r\n    Available Packages\r\n    ...\r\n    [root@host ~]#\r\n\r\nSo the Java on this machine would provide a GUI as `java-1.8.0-openjdk.x86_64` is installed. If it would only show `java-1.8.0-openjdk-headless.x86_64` there won&#39;t be a GUI-mode.\r\n\r\nHowever, I don&#39;t see how I could tell it by showing the version as the output is the same for GUI and headless:\r\n\r\n    [user@host bin]$ java -version\r\n    openjdk version &quot;1.8.0_312&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_312-b07)\r\n    OpenJDK 64-Bit Server VM (build 25.312-b07, mixed mode)\r\n    [user@host bin]$","title":"Check installed JRE is headless or full JRE","body":"<p>As this question doesn't seem to ask for a code-snippet and I was looking for a way to simply be able to tell if a Java-installation supports GUI or not and (at least my) Google doesn't have an answer for that, my current wisdom is to check what's installed.</p>\n<p>I'm not sure, but I think on Windows there's a command <code>javaw</code> if Java supports GUI. On Linux one has to check what's installed:</p>\n<pre><code>[root@host ~]# yum list &quot;*jdk*&quot;\nLast metadata expiration check: 4:50:52 ago on Wed 15 Mar 2023 05:08:08 CET.\nInstalled Packages\ncopy-jdk-configs.noarch             4.0-2.el8\njava-1.8.0-openjdk.x86_64           1:1.8.0.362.b09-2.el8_7\njava-1.8.0-openjdk-headless.x86_64  1:1.8.0.362.b09-2.el8_7\nAvailable Packages\n...\n[root@host ~]#\n</code></pre>\n<p>So the Java on this machine would provide a GUI as <code>java-1.8.0-openjdk.x86_64</code> is installed. If it would only show <code>java-1.8.0-openjdk-headless.x86_64</code> there won't be a GUI-mode.</p>\n<p>However, I don't see how I could tell it by showing the version as the output is the same for GUI and headless:</p>\n<pre><code>[user@host bin]$ java -version\nopenjdk version &quot;1.8.0_312&quot;\nOpenJDK Runtime Environment (build 1.8.0_312-b07)\nOpenJDK 64-Bit Server VM (build 25.312-b07, mixed mode)\n[user@host bin]$\n</code></pre>\n"}],"owner":{"account_id":11730780,"reputation":336,"user_id":8586347,"display_name":"thebytewalker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1409,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678871730,"creation_date":1531814707,"question_id":51376228,"body_markdown":"How do I check whether the installed JRE is JRE-headless or the FULL-JRE?\r\n\r\nAs headless-JRE&#39;s are lightweight and they do not contain dependencies for GUI components, they are preferred for server applications and embedded systems.","title":"Check installed JRE is headless or full JRE","body":"<p>How do I check whether the installed JRE is JRE-headless or the FULL-JRE?</p>\n\n<p>As headless-JRE's are lightweight and they do not contain dependencies for GUI components, they are preferred for server applications and embedded systems.</p>\n"},{"tags":["java","android","google-play","google-play-console"],"owner":{"account_id":28021456,"reputation":1,"user_id":21402194,"display_name":"q5a6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678871688,"creation_date":1678870010,"question_id":75742350,"body_markdown":"&gt; Violation Request Install Packages Permission: Permission use is not\r\n&gt; directly related to your app&#39;s core purpose.\r\n&gt; \r\n&gt; We found that your app is not compliant with how\r\n&gt; REQUEST_INSTALL_PACKAGES permission is allowed to be used.\r\n&gt; Specifically, the use of the permission is not directly related to the\r\n&gt; core purpose of the app.\r\n\r\nI understand that to fix the issue I need to remove the REQUEST_INSTALL_PACKAGES\r\n\r\n    `&lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot;/&gt;`\r\n\r\n\r\nBut the problem is that my app is an APK Installer so it requires the REQUEST_INSTALL_PACKAGES permission I have explained that to the Google Play team via the form they provide but still got this email :\r\n\r\n******************\r\n\r\nIssue found: Permission use is not directly related to your app&#39;s core purpose.\r\n\r\n&gt; We found that your app is not compliant with how\r\n&gt; REQUEST_INSTALL_PACKAGES permission is allowed to be used.\r\n&gt; Specifically, the use of the permission is not directly related to the\r\n&gt; core purpose of the app.\r\n&gt; \r\n&gt; Issue details\r\n&gt; \r\n&gt; We found an issue in the following area(s):\r\n&gt; \r\n&gt;     APK 15\r\n&gt; \r\n&gt; Additionally, follow these steps to bring your app into compliance:\r\n&gt; \r\n&gt; Please remove the use of REQUEST_INSTALL_PACKAGES permission from all\r\n&gt; version codes within the submission. This includes both production and\r\n&gt; testing tracks.\r\n\r\n********\r\n\r\nCan you explain to me what I&#39;m doing wrong and how I can fix this and get my app update approved?!\r\n\r\nThank you","title":"My App update got rejected because of the Request Install Packages Permission","body":"<blockquote>\n<p>Violation Request Install Packages Permission: Permission use is not\ndirectly related to your app's core purpose.</p>\n<p>We found that your app is not compliant with how\nREQUEST_INSTALL_PACKAGES permission is allowed to be used.\nSpecifically, the use of the permission is not directly related to the\ncore purpose of the app.</p>\n</blockquote>\n<p>I understand that to fix the issue I need to remove the REQUEST_INSTALL_PACKAGES</p>\n<pre><code>`&lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot;/&gt;`\n</code></pre>\n<p>But the problem is that my app is an APK Installer so it requires the REQUEST_INSTALL_PACKAGES permission I have explained that to the Google Play team via the form they provide but still got this email :</p>\n<hr />\n<p>Issue found: Permission use is not directly related to your app's core purpose.</p>\n<blockquote>\n<p>We found that your app is not compliant with how\nREQUEST_INSTALL_PACKAGES permission is allowed to be used.\nSpecifically, the use of the permission is not directly related to the\ncore purpose of the app.</p>\n<p>Issue details</p>\n<p>We found an issue in the following area(s):</p>\n<pre><code>APK 15\n</code></pre>\n<p>Additionally, follow these steps to bring your app into compliance:</p>\n<p>Please remove the use of REQUEST_INSTALL_PACKAGES permission from all\nversion codes within the submission. This includes both production and\ntesting tracks.</p>\n</blockquote>\n<hr />\n<p>Can you explain to me what I'm doing wrong and how I can fix this and get my app update approved?!</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678871643,"creation_date":1678871643,"answer_id":75742621,"question_id":75739457,"body_markdown":"I would propose to create a dedicated object to store the answer of the user.\r\n\r\nStart by updating your `@GetMapping` to something like this:\r\n\r\n```\r\n@GetMapping(&quot;/play&quot;)\r\npublic String play(Model model) throws JsonProcessingException {\r\n   \r\n    Pokemon pokemon = p.getPokemon();\r\n\r\n    model.addAttribute(&quot;pokemonImage&quot;, pokemon.getImage());\r\n    model.addAttribute(&quot;answer&quot;, new AnswerFormData());\r\n        return &quot;displayPokemon&quot;;\r\n    }\r\n```\r\n\r\nThis makes sure there is an &quot;empty&quot; `AnswerFormData` instance for Thymeleaf to bind with the form in your HTML.\r\n\r\n\r\nWith `AnswerFormData`:\r\n\r\n```\r\npublic class AnswerFormData {\r\n  private String name;\r\n\r\n  // add getter and setter\r\n}\r\n```\r\n\r\nUpdate your template like this:\r\n\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Guess that Pokemon v1.0&lt;/title&gt;\r\n  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;img th:src=&quot;${pokemonImage}&quot;/&gt;\r\n&lt;h1&gt;Who&#39;s That Pokemon?!&lt;/h1&gt;\r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/play}&quot; th:object=&quot;${answer}&quot; method=&quot;post&quot;&gt;\r\n  &lt;p&gt;Guess: &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; id=&quot;name&quot; placeholder=&quot;Name&quot; /&gt;&lt;/p&gt;\r\n  &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt; &lt;input type=&quot;reset&quot; value=&quot;Reset&quot; /&gt;&lt;/p&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nFinally, update the `@PostMapping` like this:\r\n\r\n```\r\n@PostMapping(&quot;/play&quot;)\r\n    public String checkPokemonSubmit(@ModelAttribute(&quot;answer&quot;) AnswerFormData answer, Model model) {\r\n\r\n    // Compare answer.getName() with the name of the pokemon here\r\n    // You can add both the given name and the actual name as separate attributes to the model so the Thymeleaf template can show those\r\n\r\n    model.addAttribute(&quot;pokemon&quot;, pokemon);\r\n    model.addAttribute(&quot;answer&quot;, answer);\r\n\r\n    // It is probably better to use &quot;redirect:/result&quot; to force the browser to do a GET request\r\n    return &quot;simpleResult&quot;;\r\n    }\r\n```\r\n\r\nSee also [Form handling with Thymeleaf][1]\r\n\r\n\r\n  [1]: https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/","title":"How to validate if the textfield input is equal to the object&#39;s name property?","body":"<p>I would propose to create a dedicated object to store the answer of the user.</p>\n<p>Start by updating your <code>@GetMapping</code> to something like this:</p>\n<pre><code>@GetMapping(&quot;/play&quot;)\npublic String play(Model model) throws JsonProcessingException {\n   \n    Pokemon pokemon = p.getPokemon();\n\n    model.addAttribute(&quot;pokemonImage&quot;, pokemon.getImage());\n    model.addAttribute(&quot;answer&quot;, new AnswerFormData());\n        return &quot;displayPokemon&quot;;\n    }\n</code></pre>\n<p>This makes sure there is an &quot;empty&quot; <code>AnswerFormData</code> instance for Thymeleaf to bind with the form in your HTML.</p>\n<p>With <code>AnswerFormData</code>:</p>\n<pre><code>public class AnswerFormData {\n  private String name;\n\n  // add getter and setter\n}\n</code></pre>\n<p>Update your template like this:</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;title&gt;Guess that Pokemon v1.0&lt;/title&gt;\n  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;img th:src=&quot;${pokemonImage}&quot;/&gt;\n&lt;h1&gt;Who's That Pokemon?!&lt;/h1&gt;\n&lt;form action=&quot;#&quot; th:action=&quot;@{/play}&quot; th:object=&quot;${answer}&quot; method=&quot;post&quot;&gt;\n  &lt;p&gt;Guess: &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; id=&quot;name&quot; placeholder=&quot;Name&quot; /&gt;&lt;/p&gt;\n  &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt; &lt;input type=&quot;reset&quot; value=&quot;Reset&quot; /&gt;&lt;/p&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Finally, update the <code>@PostMapping</code> like this:</p>\n<pre><code>@PostMapping(&quot;/play&quot;)\n    public String checkPokemonSubmit(@ModelAttribute(&quot;answer&quot;) AnswerFormData answer, Model model) {\n\n    // Compare answer.getName() with the name of the pokemon here\n    // You can add both the given name and the actual name as separate attributes to the model so the Thymeleaf template can show those\n\n    model.addAttribute(&quot;pokemon&quot;, pokemon);\n    model.addAttribute(&quot;answer&quot;, answer);\n\n    // It is probably better to use &quot;redirect:/result&quot; to force the browser to do a GET request\n    return &quot;simpleResult&quot;;\n    }\n</code></pre>\n<p>See also <a href=\"https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/\" rel=\"nofollow noreferrer\">Form handling with Thymeleaf</a></p>\n"}],"owner":{"account_id":23289938,"reputation":15,"user_id":17372169,"display_name":"lostInCodeKeys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678871643,"creation_date":1678839033,"question_id":75739457,"body_markdown":"I&#39;m creating a &quot;guess that pokemon&quot; game using Spring Boot and Thymeleaf.  It&#39;s very simple.  Displays an image of a pokemon and a textbox that will take user input.  How would I check the textbox value against the pokemon&#39;s name?  \r\nThe Pokemon class has String name and String image (for the image url)\r\n\r\nCode used with the &quot;displayPokemon.html&quot; file\r\n    \r\n    @GetMapping(&quot;/play&quot;)\r\n    public String play(Model model) throws JsonProcessingException {\r\n       \r\n        Pokemon pokemon = p.getPokemon();\r\n\r\n        model.addAttribute(&quot;pokemon&quot;, pokemon);\r\n            return &quot;displayPokemon&quot;;\r\n        }\r\nThe .html file for displaying the pokemon and the textfield\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n      &lt;title&gt;Guess that Pokemon v1.0&lt;/title&gt;\r\n      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;img th:src=&quot;${pokemon.image}&quot;/&gt;\r\n    &lt;h1&gt;Who&#39;s That Pokemon?!&lt;/h1&gt;\r\n    &lt;form action=&quot;#&quot; th:action=&quot;@{/play}&quot; th:object=&quot;${pokemon}&quot; method=&quot;post&quot;&gt;\r\n      &lt;p&gt;Guess: &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; id=&quot;name&quot; placeholder=&quot;Name&quot; /&gt;&lt;/p&gt;\r\n      &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt; &lt;input type=&quot;reset&quot; value=&quot;Reset&quot; /&gt;&lt;/p&gt;\r\n    &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nThis is the current @PostMapping.  It displays the input from the textfield but that is all.\r\n\r\n        @PostMapping(&quot;/play&quot;)\r\n        public String checkPokemonSubmit(@ModelAttribute Pokemon pokemon, Model model) {\r\n\r\n        model.addAttribute(&quot;pokemon&quot;, pokemon);\r\n        return &quot;simpleResult&quot;;\r\n        }\r\n\r\nThe simpleResult.html page\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Guess that Pokemon - Result&lt;/title&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt;Result&lt;/h1&gt;\r\n    &lt;p th:text=&quot;&#39;Name: &#39; + ${pokemon.name}&quot; /&gt;\r\n    &lt;a href=&quot;/play&quot;&gt;Guess Another Pokemon&lt;/a&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nCurrently, the textfield is pre-filled with the pokemon&#39;s name upon hitting the /play endpoint.  I&#39;d like to have the field be empty then check the input in the field against the pokemon.name from the image it is displaying.  Hopefully that makes sense.  If any other info is needed, I&#39;d be happy to grab it for you guys.    ","title":"How to validate if the textfield input is equal to the object&#39;s name property?","body":"<p>I'm creating a &quot;guess that pokemon&quot; game using Spring Boot and Thymeleaf.  It's very simple.  Displays an image of a pokemon and a textbox that will take user input.  How would I check the textbox value against the pokemon's name?<br />\nThe Pokemon class has String name and String image (for the image url)</p>\n<p>Code used with the &quot;displayPokemon.html&quot; file</p>\n<pre><code>@GetMapping(&quot;/play&quot;)\npublic String play(Model model) throws JsonProcessingException {\n   \n    Pokemon pokemon = p.getPokemon();\n\n    model.addAttribute(&quot;pokemon&quot;, pokemon);\n        return &quot;displayPokemon&quot;;\n    }\n</code></pre>\n<p>The .html file for displaying the pokemon and the textfield</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;title&gt;Guess that Pokemon v1.0&lt;/title&gt;\n  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;img th:src=&quot;${pokemon.image}&quot;/&gt;\n&lt;h1&gt;Who's That Pokemon?!&lt;/h1&gt;\n&lt;form action=&quot;#&quot; th:action=&quot;@{/play}&quot; th:object=&quot;${pokemon}&quot; method=&quot;post&quot;&gt;\n  &lt;p&gt;Guess: &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; id=&quot;name&quot; placeholder=&quot;Name&quot; /&gt;&lt;/p&gt;\n  &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt; &lt;input type=&quot;reset&quot; value=&quot;Reset&quot; /&gt;&lt;/p&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>This is the current @PostMapping.  It displays the input from the textfield but that is all.</p>\n<pre><code>    @PostMapping(&quot;/play&quot;)\n    public String checkPokemonSubmit(@ModelAttribute Pokemon pokemon, Model model) {\n\n    model.addAttribute(&quot;pokemon&quot;, pokemon);\n    return &quot;simpleResult&quot;;\n    }\n</code></pre>\n<p>The simpleResult.html page</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Guess that Pokemon - Result&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Result&lt;/h1&gt;\n&lt;p th:text=&quot;'Name: ' + ${pokemon.name}&quot; /&gt;\n&lt;a href=&quot;/play&quot;&gt;Guess Another Pokemon&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Currently, the textfield is pre-filled with the pokemon's name upon hitting the /play endpoint.  I'd like to have the field be empty then check the input in the field against the pokemon.name from the image it is displaying.  Hopefully that makes sense.  If any other info is needed, I'd be happy to grab it for you guys.</p>\n"},{"tags":["java","dropwizard","java-17"],"comments":[{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":1,"creation_date":1678877946,"post_id":75742544,"comment_id":133617136,"body_markdown":"This is a guess, but try using the jakarta EL API instead of the javax. (jakarta.el-api and expressly)\nhttps://mvnrepository.com/artifact/jakarta.el/jakarta.el-api/5.0.1\nhttps://mvnrepository.com/artifact/org.glassfish.expressly/expressly/5.0.0","body":"This is a guess, but try using the jakarta EL API instead of the javax. (jakarta.el-api and expressly) <a href=\"https://mvnrepository.com/artifact/jakarta.el/jakarta.el-api/5.0.1\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/jakarta.el/jakarta.el-api/5.0.1</a> <a href=\"https://mvnrepository.com/artifact/org.glassfish.expressly/expressly/5.0.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.glassfish.expressly/expressly&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":1973116,"reputation":9881,"user_id":1771556,"display_name":"Vadim Ashikhman"},"score":0,"creation_date":1696953381,"post_id":75742544,"comment_id":136217174,"body_markdown":"@ThiagoHenriqueHupner Thanks, adding Expressly instead of `org.glassfish:javax.el` helped me to resolve the issue. It might be worth adding this as an answer to the question.","body":"@ThiagoHenriqueHupner Thanks, adding Expressly instead of <code>org.glassfish:javax.el</code> helped me to resolve the issue. It might be worth adding this as an answer to the question."}],"owner":{"account_id":2808554,"reputation":53,"user_id":2415278,"display_name":"siva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":986,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678871241,"creation_date":1678871241,"question_id":75742544,"body_markdown":"I am currently upgrading my project from Java 8 to Java 18, along with upgraded bunch of libraries like Apache Spark, Dropwizard, Hibernate, Swagger etc. Right now, my application is coming up in my local however when I try to deploy to servers, service is not coming up and throwing `javax.validation.ValidationException`. \r\n\r\nHere is the full stacktrace:\r\n\r\n```\r\njavax.validation.ValidationException: HV000183: Unable to initialize &#39;javax.el.ExpressionFactory&#39;. Check that you have the EL dependencies on the classpath, or use ParameterMessageInterpolator instead\r\n    at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.buildExpressionFactory(ResourceBundleMessageInterpolator.java:206)\r\n    at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.&lt;init&gt;(ResourceBundleMessageInterpolator.java:94)\r\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.getDefaultMessageInterpolator(AbstractConfigurationImpl.java:573)\r\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.getDefaultMessageInterpolatorConfiguredWithClassLoader(AbstractConfigurationImpl.java:822)\r\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.getMessageInterpolator(AbstractConfigurationImpl.java:483)\r\n    at org.hibernate.validator.internal.engine.ValidatorFactoryImpl.&lt;init&gt;(ValidatorFactoryImpl.java:154)\r\n    at org.hibernate.validator.HibernateValidator.buildValidatorFactory(HibernateValidator.java:38)\r\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.buildValidatorFactory(AbstractConfigurationImpl.java:433)\r\n    at io.dropwizard.jersey.validation.Validators.newValidatorFactory(Validators.java:26)\r\n    at io.dropwizard.setup.Bootstrap.&lt;init&gt;(Bootstrap.java:67)\r\n    at io.dropwizard.Application.run(Application.java:86)\r\n    at com.company.Service.main(Service.java:554)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    at javassist.Loader.run(Loader.java:328)\r\n    at com.company.custom.metadata.ServiceRun.run(AServiceRun.java:148)\r\n    at com.company.api.PartnerServiceRun.main(PartnerServiceRun.java:10)\r\n```\r\n\r\nI checked about this on Stackoverflow and some users suggested trying new versions of `Javax.el` libraries but I am still having issue with `3.0.0` and `3.0.1-b08` . Any suggestions or pointers are appreciated. Thanks\r\n\r\n**Trail 1**: Didn&#39;t work\r\n\r\n```\r\n&#39;javax.el:javax.el-api:3.0.0&#39;,\r\n&#39;org.glassfish:javax.el:3.0.0&#39;,\r\n```\r\n\r\n**Trail 2**: Didn&#39;t work\r\n\r\n```\r\n&#39;javax.el:javax.el-api:3.0.1-b06&#39;,\r\n&#39;org.glassfish:javax.el:3.0.1-b08&#39;,\r\n```","title":"Unable to initialize &#39;javax.el.ExpressionFactory&#39;. Check that you have the EL dependencies on the classpath","body":"<p>I am currently upgrading my project from Java 8 to Java 18, along with upgraded bunch of libraries like Apache Spark, Dropwizard, Hibernate, Swagger etc. Right now, my application is coming up in my local however when I try to deploy to servers, service is not coming up and throwing <code>javax.validation.ValidationException</code>.</p>\n<p>Here is the full stacktrace:</p>\n<pre><code>javax.validation.ValidationException: HV000183: Unable to initialize 'javax.el.ExpressionFactory'. Check that you have the EL dependencies on the classpath, or use ParameterMessageInterpolator instead\n    at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.buildExpressionFactory(ResourceBundleMessageInterpolator.java:206)\n    at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.&lt;init&gt;(ResourceBundleMessageInterpolator.java:94)\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.getDefaultMessageInterpolator(AbstractConfigurationImpl.java:573)\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.getDefaultMessageInterpolatorConfiguredWithClassLoader(AbstractConfigurationImpl.java:822)\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.getMessageInterpolator(AbstractConfigurationImpl.java:483)\n    at org.hibernate.validator.internal.engine.ValidatorFactoryImpl.&lt;init&gt;(ValidatorFactoryImpl.java:154)\n    at org.hibernate.validator.HibernateValidator.buildValidatorFactory(HibernateValidator.java:38)\n    at org.hibernate.validator.internal.engine.AbstractConfigurationImpl.buildValidatorFactory(AbstractConfigurationImpl.java:433)\n    at io.dropwizard.jersey.validation.Validators.newValidatorFactory(Validators.java:26)\n    at io.dropwizard.setup.Bootstrap.&lt;init&gt;(Bootstrap.java:67)\n    at io.dropwizard.Application.run(Application.java:86)\n    at com.company.Service.main(Service.java:554)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javassist.Loader.run(Loader.java:328)\n    at com.company.custom.metadata.ServiceRun.run(AServiceRun.java:148)\n    at com.company.api.PartnerServiceRun.main(PartnerServiceRun.java:10)\n</code></pre>\n<p>I checked about this on Stackoverflow and some users suggested trying new versions of <code>Javax.el</code> libraries but I am still having issue with <code>3.0.0</code> and <code>3.0.1-b08</code> . Any suggestions or pointers are appreciated. Thanks</p>\n<p><strong>Trail 1</strong>: Didn't work</p>\n<pre><code>'javax.el:javax.el-api:3.0.0',\n'org.glassfish:javax.el:3.0.0',\n</code></pre>\n<p><strong>Trail 2</strong>: Didn't work</p>\n<pre><code>'javax.el:javax.el-api:3.0.1-b06',\n'org.glassfish:javax.el:3.0.1-b08',\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9419,"page":573,"page_size":100}
