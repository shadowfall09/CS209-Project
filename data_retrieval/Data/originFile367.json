{"items":[{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686923148,"post_id":76490615,"comment_id":134869230,"body_markdown":"There is no field named code in your Category entity. Check your query.","body":"There is no field named code in your Category entity. Check your query."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686923238,"post_id":76490615,"comment_id":134869257,"body_markdown":"And also - do you have all getters and setters and a no-args constructor?","body":"And also - do you have all getters and setters and a no-args constructor?"},{"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"score":0,"creation_date":1686923786,"post_id":76490615,"comment_id":134869405,"body_markdown":"@Mar-Z, I&#39;m sorry, I made a mistake. I have corrected and added code, including constructors, etc.","body":"@Mar-Z, I&#39;m sorry, I made a mistake. I have corrected and added code, including constructors, etc."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686929036,"post_id":76490615,"comment_id":134870617,"body_markdown":"Try with `left join fetch` instead of just `join` in the query. Hibernate use lazy loading for many-to-many by default.","body":"Try with <code>left join fetch</code> instead of just <code>join</code> in the query. Hibernate use lazy loading for many-to-many by default."},{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":0,"creation_date":1686931435,"post_id":76490615,"comment_id":134871124,"body_markdown":"The code looks good, do you get any errors on the console?\n\nTry to enable `spring.jpa.show-sql=true` to see how the `JPQL`s are being translated into `SQL`, it can help in debugging.","body":"The code looks good, do you get any errors on the console?  Try to enable <code>spring.jpa.show-sql=true</code> to see how the <code>JPQL</code>s are being translated into <code>SQL</code>, it can help in debugging."},{"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"score":0,"creation_date":1686982195,"post_id":76490615,"comment_id":134876301,"body_markdown":"@atish.s, No, there are no mistakes. I just get an empty list. On Monday I will post the text of the JPQL query","body":"@atish.s, No, there are no mistakes. I just get an empty list. On Monday I will post the text of the JPQL query"}],"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686923444,"creation_date":1686921648,"question_id":76490615,"body_markdown":"Two entities linked by the ManyToMany relation:\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class Category {\r\n        @Id\r\n        @GeneratedValue(generator = Constants.ID_GENERATOR)\r\n        protected Long id;\r\n    \r\n        protected String code;\r\n    \r\n        @ManyToMany(CascadeType.PERSIST)\r\n        @JoinTable(\r\n            name = &quot;CATEGORY_ITEM&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;CATEGORY_ID&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;ITEM_ID&quot;)\r\n        )\r\n        protected Set&lt;Item&gt; items = new HashSet&lt;Item&gt;();\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n           if (this == o) return true;\r\n           if (o == null || getClass() != o.getClass()) return false;\r\n           Category category = (Category) o;\r\n          return Objects.equals(code, category.code);\r\n        }\r\n     \r\n        @Override\r\n        public int hashCode() {\r\n           return Objects.hash(code);\r\n        }\r\n\r\n    }   \r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class Item {\r\n    \r\n        @Id\r\n        @GeneratedValue(generator = Constants.ID_GENERATOR)\r\n        protected Long id;\r\n    \r\n        protected String code;\r\n    \r\n        @ManyToMany(mappedBy = &quot;items&quot;)\r\n        protected Set&lt;Category&gt; categories = new HashSet&lt;Category&gt;();\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n           if (this == o) return true;\r\n           if (o == null || getClass() != o.getClass()) return false;\r\n           Item item = (Item) o;\r\n          return Objects.equals(code, item.code);\r\n        }\r\n     \r\n        @Override\r\n        public int hashCode() {\r\n           return Objects.hash(code);\r\n        }\r\n\r\n    }\r\n\r\nI want to find a list of all items objects for a specific category.\r\n\r\nSo I need Item objects, and this information is only in the Category table, then I wrote such a query in CategoryRepository:\r\n\r\n    @Query(&quot;select i from Category c join с.items i where c.code = :code&quot;)\r\n    List&lt;Item&gt; findItemsWithCode(@Param(&quot;code&quot;) String code);    \r\n\r\nAs a result, I get an empty list.\r\n\r\nAlthough if you read a specific object\r\n\r\n    Category сategory = CategoryRepository.getId(1);\r\n\r\nif you extract a list from it, then the data is there\r\n\r\n    assertEquals(сategory.getItems().size(), 2);\r\n\r\nI tried this option, but I still get an empty list:\r\n\r\n    @Query(&quot;select c.items from Category с i where c.code = :code&quot;)\r\n    List&lt;Item&gt; findItemsWithCode(@Param(&quot;code&quot;) String code);    \r\n\r\nI tried to write a request on the Item Repository side and also an empty list:\r\n\r\n    @Query(&quot;select i from Item i join i.categories c where c.code = :code&quot;)\r\n    List&lt;Item&gt; findItemsWithCode(@Param(&quot;code&quot;) String code);    \r\n\r\nI want to find a list of all items objects for a specific category.\r\nHow do I get this data?\r\n\r\n","title":"How to select records from linked ManyToMany tables","body":"<p>Two entities linked by the ManyToMany relation:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Category {\n    @Id\n    @GeneratedValue(generator = Constants.ID_GENERATOR)\n    protected Long id;\n\n    protected String code;\n\n    @ManyToMany(CascadeType.PERSIST)\n    @JoinTable(\n        name = &quot;CATEGORY_ITEM&quot;,\n        joinColumns = @JoinColumn(name = &quot;CATEGORY_ID&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;ITEM_ID&quot;)\n    )\n    protected Set&lt;Item&gt; items = new HashSet&lt;Item&gt;();\n\n    @Override\n    public boolean equals(Object o) {\n       if (this == o) return true;\n       if (o == null || getClass() != o.getClass()) return false;\n       Category category = (Category) o;\n      return Objects.equals(code, category.code);\n    }\n \n    @Override\n    public int hashCode() {\n       return Objects.hash(code);\n    }\n\n}   \n\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Item {\n\n    @Id\n    @GeneratedValue(generator = Constants.ID_GENERATOR)\n    protected Long id;\n\n    protected String code;\n\n    @ManyToMany(mappedBy = &quot;items&quot;)\n    protected Set&lt;Category&gt; categories = new HashSet&lt;Category&gt;();\n\n    @Override\n    public boolean equals(Object o) {\n       if (this == o) return true;\n       if (o == null || getClass() != o.getClass()) return false;\n       Item item = (Item) o;\n      return Objects.equals(code, item.code);\n    }\n \n    @Override\n    public int hashCode() {\n       return Objects.hash(code);\n    }\n\n}\n</code></pre>\n<p>I want to find a list of all items objects for a specific category.</p>\n<p>So I need Item objects, and this information is only in the Category table, then I wrote such a query in CategoryRepository:</p>\n<pre><code>@Query(&quot;select i from Category c join с.items i where c.code = :code&quot;)\nList&lt;Item&gt; findItemsWithCode(@Param(&quot;code&quot;) String code);    \n</code></pre>\n<p>As a result, I get an empty list.</p>\n<p>Although if you read a specific object</p>\n<pre><code>Category сategory = CategoryRepository.getId(1);\n</code></pre>\n<p>if you extract a list from it, then the data is there</p>\n<pre><code>assertEquals(сategory.getItems().size(), 2);\n</code></pre>\n<p>I tried this option, but I still get an empty list:</p>\n<pre><code>@Query(&quot;select c.items from Category с i where c.code = :code&quot;)\nList&lt;Item&gt; findItemsWithCode(@Param(&quot;code&quot;) String code);    \n</code></pre>\n<p>I tried to write a request on the Item Repository side and also an empty list:</p>\n<pre><code>@Query(&quot;select i from Item i join i.categories c where c.code = :code&quot;)\nList&lt;Item&gt; findItemsWithCode(@Param(&quot;code&quot;) String code);    \n</code></pre>\n<p>I want to find a list of all items objects for a specific category.\nHow do I get this data?</p>\n"},{"tags":["java","http"],"comments":[{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":0,"creation_date":1686920029,"post_id":76490390,"comment_id":134868507,"body_markdown":"What&#39;s the concrete error in this case?","body":"What&#39;s the concrete error in this case?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686920076,"post_id":76490390,"comment_id":134868523,"body_markdown":"There is nothing inherent about a 4xx status code that makes you unable to read the body. Any reason you haven&#39;t actually shown us the error? It seems important in this case.","body":"There is nothing inherent about a 4xx status code that makes you unable to read the body. Any reason you haven&#39;t actually shown us the error? It seems important in this case."},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1686920094,"post_id":76490390,"comment_id":134868527,"body_markdown":"I forgot ... Added the error now.","body":"I forgot ... Added the error now."},{"owner":{"account_id":395867,"reputation":2757,"user_id":759049,"accept_rate":96,"display_name":"Pateman"},"score":0,"creation_date":1686920545,"post_id":76490390,"comment_id":134868636,"body_markdown":"https://stackoverflow.com/a/8329674/759049","body":"<a href=\"https://stackoverflow.com/a/8329674/759049\">stackoverflow.com/a/8329674/759049</a>"}],"answers":[{"tags":[],"owner":{"account_id":24403934,"reputation":31,"user_id":18332327,"display_name":"Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686920298,"creation_date":1686920298,"answer_id":76490438,"question_id":76490390,"body_markdown":"In case of non-successful response codes, you have to read the body with [HttpURLConnection.getErrorStream()](https://docs.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html#getErrorStream%28%29).","title":"How to read HTTP response in case of 400 error?","body":"<p>In case of non-successful response codes, you have to read the body with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html#getErrorStream%28%29\" rel=\"nofollow noreferrer\">HttpURLConnection.getErrorStream()</a>.</p>\n"},{"comments":[{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1686921588,"post_id":76490519,"comment_id":134868873,"body_markdown":"That&#39;s not my problem. I want to have a 400 error but I want to read the body when this scenario actually happens.","body":"That&#39;s not my problem. I want to have a 400 error but I want to read the body when this scenario actually happens."},{"owner":{"account_id":21615176,"reputation":1,"user_id":15941098,"display_name":"Ayan Shah"},"score":0,"creation_date":1686923425,"post_id":76490519,"comment_id":134869306,"body_markdown":"I have updated the post. Please check if it helps you or not.","body":"I have updated the post. Please check if it helps you or not."}],"tags":[],"owner":{"account_id":21615176,"reputation":1,"user_id":15941098,"display_name":"Ayan Shah"},"comment_count":2,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1686923313,"creation_date":1686920967,"answer_id":76490519,"question_id":76490390,"body_markdown":"Yes, there is a way to read the response body even when the response code is in the 4xx range. In such cases, you can use the getErrorStream() method instead of getInputStream() to obtain the response body.\r\n\r\nHere&#39;s an updated version of your code that handles both successful and error responses:\r\n\r\n\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String username = &quot;xxx&quot;;\r\n        String password = &quot;yyy&quot;;\r\n\r\n        URL url = new URL(&quot;http://host/path&quot;);\r\n        URLConnection uc = url.openConnection();\r\n        HttpURLConnection http = (HttpURLConnection) uc;\r\n\r\n        http.setRequestMethod(&quot;POST&quot;); // PUT is another valid option\r\n        http.setDoOutput(true);\r\n        http.setDoInput(true);\r\n\r\n        byte[] request = &quot;{ id: \\&quot;test2\\&quot; }&quot;.getBytes(StandardCharsets.UTF_8);\r\n        int length = request.length;\r\n\r\n        http.setFixedLengthStreamingMode(length);\r\n\r\n        String userpass = username + &quot;:&quot; + password;\r\n        String basicAuth = &quot;Basic &quot; + new String(Base64.getEncoder().encode(userpass.getBytes()));\r\n\r\n        http.setRequestProperty(&quot;Authorization&quot;, basicAuth);\r\n        http.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\r\n        // http.connect();\r\n\r\n        try (OutputStream os = http.getOutputStream()) {\r\n            os.write(request);\r\n            os.flush();\r\n\r\n            int responseCode = http.getResponseCode();\r\n            InputStream inputStream;\r\n            if (responseCode &gt;= 200 &amp;&amp; responseCode &lt; 300) {\r\n                inputStream = http.getInputStream();\r\n            } else {\r\n                inputStream = http.getErrorStream();\r\n            }\r\n\r\n            // Read and process the response body\r\n            byte[] responseBody = inputStream.readAllBytes();\r\n            String response = new String(responseBody, StandardCharsets.UTF_8);\r\n            System.out.println(&quot;Response Code: &quot; + responseCode);\r\n            System.out.println(&quot;Response Body: &quot; + response);\r\n        }\r\n    }\r\n\r\nIn this updated code, we first obtain the response code using getResponseCode(). If the response code is in the 2xx range, we use getInputStream() as before. However, if the response code is in the 4xx range, we use getErrorStream() to get the input stream and read the response body.\r\n\r\nI hope this helps! ","title":"How to read HTTP response in case of 400 error?","body":"<p>Yes, there is a way to read the response body even when the response code is in the 4xx range. In such cases, you can use the getErrorStream() method instead of getInputStream() to obtain the response body.</p>\n<p>Here's an updated version of your code that handles both successful and error responses:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    String username = &quot;xxx&quot;;\n    String password = &quot;yyy&quot;;\n\n    URL url = new URL(&quot;http://host/path&quot;);\n    URLConnection uc = url.openConnection();\n    HttpURLConnection http = (HttpURLConnection) uc;\n\n    http.setRequestMethod(&quot;POST&quot;); // PUT is another valid option\n    http.setDoOutput(true);\n    http.setDoInput(true);\n\n    byte[] request = &quot;{ id: \\&quot;test2\\&quot; }&quot;.getBytes(StandardCharsets.UTF_8);\n    int length = request.length;\n\n    http.setFixedLengthStreamingMode(length);\n\n    String userpass = username + &quot;:&quot; + password;\n    String basicAuth = &quot;Basic &quot; + new String(Base64.getEncoder().encode(userpass.getBytes()));\n\n    http.setRequestProperty(&quot;Authorization&quot;, basicAuth);\n    http.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\n    // http.connect();\n\n    try (OutputStream os = http.getOutputStream()) {\n        os.write(request);\n        os.flush();\n\n        int responseCode = http.getResponseCode();\n        InputStream inputStream;\n        if (responseCode &gt;= 200 &amp;&amp; responseCode &lt; 300) {\n            inputStream = http.getInputStream();\n        } else {\n            inputStream = http.getErrorStream();\n        }\n\n        // Read and process the response body\n        byte[] responseBody = inputStream.readAllBytes();\n        String response = new String(responseBody, StandardCharsets.UTF_8);\n        System.out.println(&quot;Response Code: &quot; + responseCode);\n        System.out.println(&quot;Response Body: &quot; + response);\n    }\n}\n</code></pre>\n<p>In this updated code, we first obtain the response code using getResponseCode(). If the response code is in the 2xx range, we use getInputStream() as before. However, if the response code is in the 4xx range, we use getErrorStream() to get the input stream and read the response body.</p>\n<p>I hope this helps!</p>\n"}],"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686922136,"answer_count":2,"score":0,"last_activity_date":1686923313,"creation_date":1686919889,"question_id":76490390,"body_markdown":"I am writing to an HTTP POST endpoint using code like this.   \r\n\r\nWhen the response code is 200 everything is OK.   \r\n\r\nWhen the response code is 400 though I cannot get `InputStream` and read the response.  \r\n\r\nI am just getting an exception on the line marked with  `/// error !!!`  \r\n\r\n\tException in thread &quot;main&quot; java.io.IOException: Server returned HTTP response code: 400 for URL: ... \r\n\t\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1924)\r\n\t\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)\r\n\t\tat com.test123.Main009.main(Main009.java:41)\r\n\r\n\r\nSo is there a way to read the response body even though the response code is 4xx ?    \r\n\r\n\r\n\r\n\r\n\tpackage com.test123;\r\n\t\r\n\timport java.io.InputStream;\r\n\timport java.io.OutputStream;\r\n\timport java.net.HttpURLConnection;\r\n\timport java.net.URL;\r\n\timport java.net.URLConnection;\r\n\timport java.nio.charset.StandardCharsets;\r\n\timport java.util.Base64;\r\n\t\r\n\tpublic class Main009 {\r\n\t\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tString username = &quot;xxx&quot;;\r\n\t\t\tString password = &quot;yyy&quot;;\r\n\t\t\t\r\n\t\t\tURL url = new URL(&quot;http://host/path&quot;);\r\n\t\t\tURLConnection uc = url.openConnection();\r\n\t\t\tHttpURLConnection http = (HttpURLConnection)uc;\r\n\t\t\t\r\n\t\t\thttp.setRequestMethod(&quot;POST&quot;); // PUT is another valid option\r\n\t\t\thttp.setDoOutput(true);\r\n\t\t\thttp.setDoInput(true);\r\n\t\r\n\t\t\tbyte[] request = &quot;{ id: \\&quot;test2\\&quot; }&quot;.getBytes(StandardCharsets.UTF_8);\r\n\t\t\tint length = request.length;\r\n\t\r\n\t\t\thttp.setFixedLengthStreamingMode(length);\r\n\t\t\t\r\n\t\t\tString userpass = username + &quot;:&quot; + password;\r\n\t\t\tString basicAuth = &quot;Basic &quot; + new String(Base64.getEncoder().encode(userpass.getBytes()));\r\n\t\t\t\r\n\t\t\thttp.setRequestProperty (&quot;Authorization&quot;, basicAuth);\r\n\t\t\thttp.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\r\n\t\t\t// http.connect();\r\n\t\t\t\r\n\t\t\ttry(OutputStream os = http.getOutputStream()) {\r\n\t\t\t    os.write(request);\r\n\t\t\t    os.flush();\r\n\t\t\t    \r\n\t\t\t    InputStream in = http.getInputStream(); /// error !!!  \r\n\t\t\t    System.out.println(in);\r\n\t\t\t}\r\n\t\t\t\r\n\t\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t}\r\n","title":"How to read HTTP response in case of 400 error?","body":"<p>I am writing to an HTTP POST endpoint using code like this.</p>\n<p>When the response code is 200 everything is OK.</p>\n<p>When the response code is 400 though I cannot get <code>InputStream</code> and read the response.</p>\n<p>I am just getting an exception on the line marked with  <code>/// error !!!</code></p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: Server returned HTTP response code: 400 for URL: ... \n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1924)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)\n    at com.test123.Main009.main(Main009.java:41)\n</code></pre>\n<p>So is there a way to read the response body even though the response code is 4xx ?</p>\n<pre><code>package com.test123;\n\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Base64;\n\npublic class Main009 {\n\n    public static void main(String[] args) throws Exception {\n        String username = &quot;xxx&quot;;\n        String password = &quot;yyy&quot;;\n        \n        URL url = new URL(&quot;http://host/path&quot;);\n        URLConnection uc = url.openConnection();\n        HttpURLConnection http = (HttpURLConnection)uc;\n        \n        http.setRequestMethod(&quot;POST&quot;); // PUT is another valid option\n        http.setDoOutput(true);\n        http.setDoInput(true);\n\n        byte[] request = &quot;{ id: \\&quot;test2\\&quot; }&quot;.getBytes(StandardCharsets.UTF_8);\n        int length = request.length;\n\n        http.setFixedLengthStreamingMode(length);\n        \n        String userpass = username + &quot;:&quot; + password;\n        String basicAuth = &quot;Basic &quot; + new String(Base64.getEncoder().encode(userpass.getBytes()));\n        \n        http.setRequestProperty (&quot;Authorization&quot;, basicAuth);\n        http.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\n        // http.connect();\n        \n        try(OutputStream os = http.getOutputStream()) {\n            os.write(request);\n            os.flush();\n            \n            InputStream in = http.getInputStream(); /// error !!!  \n            System.out.println(in);\n        }\n        \n\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","excel","xml","apache-poi"],"comments":[{"owner":{"account_id":6282355,"reputation":239,"user_id":4882889,"display_name":"Arnab Dhar"},"score":1,"creation_date":1566997265,"post_id":57693029,"comment_id":101830197,"body_markdown":"first google search result : https://javarevisited.blogspot.com/2015/06/how-to-read-write-excel-file-java-poi-example.html#axzz5xtszCBfW","body":"first google search result : <a href=\"https://javarevisited.blogspot.com/2015/06/how-to-read-write-excel-file-java-poi-example.html#axzz5xtszCBfW\" rel=\"nofollow noreferrer\">javarevisited.blogspot.com/2015/06/&hellip;</a>"},{"owner":{"account_id":4836073,"reputation":47,"user_id":3902737,"accept_rate":20,"display_name":"Andrei Mihuț"},"score":0,"creation_date":1566997468,"post_id":57693029,"comment_id":101830326,"body_markdown":"@ArnabDhar, I want to read and write XML maps in the excel.","body":"@ArnabDhar, I want to read and write XML maps in the excel."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686923084,"creation_date":1567071450,"answer_id":57707299,"question_id":57693029,"body_markdown":"To read XML mappings from existing workbooks there are `API` methods available.\r\n\r\nThere is [XSSFWorkbook.getMapInfo](https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFWorkbook.html#getMapInfo--) which gets the [MapInfo](https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/model/MapInfo.html). And there is [XSSFWorkbook.getCustomXMLMappings](https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFWorkbook.html#getCustomXMLMappings--) which gets a `List` of all the [XSSFMap](https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFMap.html). So reading should not be the problem.\r\n\r\nBut until now there is nothing to create new `MapInfo` and/or putting additional schemas and/or maps in that `MapInfo`. So to create a new workbook having XML mappings using the low level underlaying objects is necessary.\r\n\r\nThe following complete example shows this. It provides methods to create a `MapInfo` and add schemas and maps to it. It uses the following `class.xsd` file as schema definition:\r\n\r\n    &lt;xs:schema attributeFormDefault=&quot;unqualified&quot; elementFormDefault=&quot;qualified&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n     &lt;xs:element name=&quot;class&quot;&gt;\r\n      &lt;xs:complexType&gt;\r\n       &lt;xs:sequence&gt;\r\n        &lt;xs:element maxOccurs=&quot;unbounded&quot; name=&quot;student&quot;&gt;\r\n         &lt;xs:complexType&gt;\r\n          &lt;xs:sequence&gt;\r\n           &lt;xs:element name=&quot;rollno&quot; type=&quot;xs:string&quot;/&gt;\r\n           &lt;xs:element name=&quot;firstname&quot; type=&quot;xs:string&quot;/&gt;\r\n           &lt;xs:element name=&quot;lastname&quot; type=&quot;xs:string&quot;/&gt;\r\n           &lt;xs:element name=&quot;nickname&quot; type=&quot;xs:string&quot;/&gt;\r\n           &lt;xs:element name=&quot;marks&quot; type=&quot;xs:string&quot;/&gt;\r\n          &lt;/xs:sequence&gt;\r\n         &lt;/xs:complexType&gt;\r\n        &lt;/xs:element&gt;\r\n       &lt;/xs:sequence&gt;\r\n      &lt;/xs:complexType&gt;\r\n     &lt;/xs:element&gt;\r\n    &lt;/xs:schema&gt;\r\n\r\nIt creates a `MapInfo`, adds the schema and the map and creates a `XSSFMap`. Then it creates a `XSSFTable` in first scheet which refers to the map. So it is possible collecting data in that table to export as `XML` then.\r\n\r\nCode:\r\n\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ooxml.POIXMLRelation;\r\n    import static org.apache.poi.ooxml.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\r\n    \r\n    import org.apache.poi.openxml4j.opc.*;\r\n    \r\n    import org.apache.xmlbeans.XmlOptions;\r\n    \r\n    import org.apache.poi.ss.util.AreaReference;\r\n    import org.apache.poi.ss.SpreadsheetVersion;\r\n    \r\n    import org.apache.poi.xssf.model.MapInfo;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    \r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.*;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class CreateExcelWithXmlMap {\r\n    \r\n     private static CTMap addMap(MapInfo mapInfo, String mapName, String rootElement, String schemaId) {\r\n      CTMapInfo cTMapInfo = mapInfo.getCTMapInfo();\r\n      long id = 1;\r\n      for (CTMap map : cTMapInfo.getMapList()) {\r\n       if (map.getID() &gt;= id) id = map.getID() + 1;\r\n      }\r\n      CTMap map = cTMapInfo.addNewMap();\r\n      map.setID(id);\r\n      map.setName(mapName);\r\n      map.setRootElement(rootElement);\r\n      map.setSchemaID(schemaId);\r\n      map.setAutoFit(true);\r\n      map.setAppend(false);\r\n      map.setPreserveSortAFLayout(true);\r\n      map.setPreserveFormat(true);\r\n      return map;\r\n     }\r\n    \r\n     private static int addSchema(MapInfo mapInfo, InputStream schemaIn, String schemaIdPrefix) throws Exception {\r\n      CTMapInfo cTMapInfo = mapInfo.getCTMapInfo();\r\n      List&lt;CTSchema&gt; schemas = cTMapInfo.getSchemaList();\r\n      CTSchema[] schemaArray = new CTSchema[schemas.size()+1];\r\n      int i = 0;\r\n      int id = 1;\r\n      for (CTSchema schema : schemas) {\r\n       schemaArray[i++] = schema;\r\n       if (schema.getID().startsWith(schemaIdPrefix)) id++;\r\n      }\r\n      CTSchema schema = CTSchema.Factory.parse(schemaIn);\r\n      schema.setID(schemaIdPrefix + id);\r\n      schemaArray[i] = schema;\r\n      cTMapInfo.setSchemaArray(schemaArray);\r\n      return id;\r\n     }\r\n    \r\n     private static void writeMapInfoMinContent(PackagePart part) throws Exception {\r\n      CTMapInfo cTMapInfo = MapInfoDocument.Factory.newInstance().addNewMapInfo();\r\n      cTMapInfo.setSelectionNamespaces(&quot;&quot;);\r\n      XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\r\n      xmlOptions.setSaveSyntheticDocumentElement(new QName(CTMapInfo.type.getName().getNamespaceURI(), &quot;MapInfo&quot;));\r\n      OutputStream out = part.getOutputStream();\r\n      cTMapInfo.save(out, xmlOptions);\r\n      out.close();\r\n     }\r\n    \r\n     private static MapInfo createMapInfo(XSSFWorkbook workbook) throws Exception {\r\n      MapInfo mapInfo = workbook.getMapInfo();\r\n      if (mapInfo != null) {\r\n       return mapInfo;\r\n      } else {\r\n       OPCPackage oPCPackage = workbook.getPackage();\r\n       PackagePartName partName = PackagingURIHelper.createPartName(&quot;/xl/xmlMaps.xml&quot;);\r\n       PackagePart part = oPCPackage.createPart(partName, &quot;application/xml&quot;);\r\n       writeMapInfoMinContent(part);\r\n       mapInfo = new MapInfo(part);\r\n       String rId = workbook.addRelation(null, new XSSFXmlMapsRelation(), mapInfo).getRelationship().getId();\r\n      }\r\n      return mapInfo;\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      String schemaFilePath = &quot;./class.xsd&quot;;\r\n      String workbookFilePath = &quot;./ExcelWithXMLMap.xlsx&quot;;\r\n    \r\n      XSSFWorkbook workbook = new XSSFWorkbook();\r\n    \r\n      MapInfo mapInfo = createMapInfo(workbook);\r\n      InputStream schemaIn = new FileInputStream(schemaFilePath);\r\n      int schemaId = addSchema(mapInfo, schemaIn, &quot;Schema&quot;);\r\n      CTMap cTMap = addMap(mapInfo, &quot;class_Map&quot;, &quot;class&quot;, &quot;Schema&quot;+schemaId);\r\n      XSSFMap xssfMap = new XSSFMap(cTMap, mapInfo);\r\n      //ToDo: update private Map&lt;Integer, XSSFMap&gt; maps in MapInfo \r\n    \r\n      String[] headers = new String[]{&quot;rollno&quot;, &quot;firstname&quot;, &quot;lastname&quot;, &quot;nickname&quot;, &quot;marks&quot;};\r\n      //ToDo: get headers from schema\r\n    \r\n      XSSFSheet sheet = workbook.createSheet();\r\n      XSSFTable table = sheet.createTable(new AreaReference(&quot;A1:E2&quot;, SpreadsheetVersion.EXCEL2007));\r\n      table.setDisplayName(&quot;class&quot;);\r\n      table.getCTTable().addNewTableStyleInfo();\r\n      XSSFTableStyleInfo style = (XSSFTableStyleInfo)table.getStyle();\r\n      style.setName(&quot;TableStyleMedium2&quot;);\r\n      style.setShowColumnStripes(false);\r\n      style.setShowRowStripes(true);\r\n      table.getCTTable().setTableType(STTableType.XML);\r\n      int i = 0;\r\n      for (CTTableColumn ctTableColumn : table.getCTTable().getTableColumns().getTableColumnList()) {\r\n       ctTableColumn.setUniqueName(headers[i]);\r\n       CTXmlColumnPr xmlColumnPr = ctTableColumn.addNewXmlColumnPr();\r\n       xmlColumnPr.setXmlDataType(STXmlDataType.STRING);\r\n       xmlColumnPr.setXpath(&quot;/class/student/&quot; + headers[i++]);\r\n       xmlColumnPr.setMapId(xssfMap.getCtMap().getID());\r\n      }\r\n    \r\n      XSSFRow row = sheet.createRow(0);\r\n      int c = 0;\r\n      for (String header : headers) {\r\n       row.createCell(c++).setCellValue(header);\r\n      }\r\n    \r\n      FileOutputStream out = new FileOutputStream(workbookFilePath);\r\n      workbook.write(out);\r\n      out.close();\r\n      workbook.close();\r\n    \r\n     }\r\n    \r\n    \r\n     //the XSSFRelation for /xl/xmlMaps.xml\r\n     private final static class XSSFXmlMapsRelation extends POIXMLRelation {\r\n      private XSSFXmlMapsRelation() {\r\n       super(\r\n        &quot;application/xml&quot;,\r\n        &quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/xmlMaps&quot;,\r\n        &quot;/xl/xmlMaps.xml&quot;,\r\n        MapInfo.class);\r\n      }\r\n     }\r\n    }\r\n\r\n\r\n___________________________________________________________________________\r\n\r\nTo adopt above code to Apache POI 5:\r\n\r\n     private static MapInfo createMapInfo(XSSFWorkbook workbook) throws Exception {\r\n     ...\r\n       //String rId = workbook.addRelation(null, new XSSFXmlMapsRelation(), mapInfo).getRelationship().getId();\r\n       String rId = workbook.addRelation(null, XSSFRelation.CUSTOM_XML_MAPPINGS, mapInfo).getRelationship().getId();\r\n     ...\r\n     }\r\n\r\n     ...\r\n\r\n     public static void main(String[] args) throws Exception {\r\n     ...\r\n       //xmlColumnPr.setXmlDataType(STXmlDataType.STRING);\r\n       xmlColumnPr.setXmlDataType(&quot;string&quot;);\r\n     ...\r\n     }\r\n\r\nThe whole class `private final static class XSSFXmlMapsRelation extends POIXMLRelation` is not needed&#180;d as there is `XSSFRelation.CUSTOM_XML_MAPPINGS` now already.","title":"How to read/write XML maps from/in excel with Apache POI in Java?","body":"<p>To read XML mappings from existing workbooks there are <code>API</code> methods available.</p>\n<p>There is <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFWorkbook.html#getMapInfo--\" rel=\"nofollow noreferrer\">XSSFWorkbook.getMapInfo</a> which gets the <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/model/MapInfo.html\" rel=\"nofollow noreferrer\">MapInfo</a>. And there is <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFWorkbook.html#getCustomXMLMappings--\" rel=\"nofollow noreferrer\">XSSFWorkbook.getCustomXMLMappings</a> which gets a <code>List</code> of all the <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFMap.html\" rel=\"nofollow noreferrer\">XSSFMap</a>. So reading should not be the problem.</p>\n<p>But until now there is nothing to create new <code>MapInfo</code> and/or putting additional schemas and/or maps in that <code>MapInfo</code>. So to create a new workbook having XML mappings using the low level underlaying objects is necessary.</p>\n<p>The following complete example shows this. It provides methods to create a <code>MapInfo</code> and add schemas and maps to it. It uses the following <code>class.xsd</code> file as schema definition:</p>\n<pre><code>&lt;xs:schema attributeFormDefault=&quot;unqualified&quot; elementFormDefault=&quot;qualified&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n &lt;xs:element name=&quot;class&quot;&gt;\n  &lt;xs:complexType&gt;\n   &lt;xs:sequence&gt;\n    &lt;xs:element maxOccurs=&quot;unbounded&quot; name=&quot;student&quot;&gt;\n     &lt;xs:complexType&gt;\n      &lt;xs:sequence&gt;\n       &lt;xs:element name=&quot;rollno&quot; type=&quot;xs:string&quot;/&gt;\n       &lt;xs:element name=&quot;firstname&quot; type=&quot;xs:string&quot;/&gt;\n       &lt;xs:element name=&quot;lastname&quot; type=&quot;xs:string&quot;/&gt;\n       &lt;xs:element name=&quot;nickname&quot; type=&quot;xs:string&quot;/&gt;\n       &lt;xs:element name=&quot;marks&quot; type=&quot;xs:string&quot;/&gt;\n      &lt;/xs:sequence&gt;\n     &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n   &lt;/xs:sequence&gt;\n  &lt;/xs:complexType&gt;\n &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>It creates a <code>MapInfo</code>, adds the schema and the map and creates a <code>XSSFMap</code>. Then it creates a <code>XSSFTable</code> in first scheet which refers to the map. So it is possible collecting data in that table to export as <code>XML</code> then.</p>\n<p>Code:</p>\n<pre><code>import java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.ooxml.POIXMLRelation;\nimport static org.apache.poi.ooxml.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\n\nimport org.apache.poi.openxml4j.opc.*;\n\nimport org.apache.xmlbeans.XmlOptions;\n\nimport org.apache.poi.ss.util.AreaReference;\nimport org.apache.poi.ss.SpreadsheetVersion;\n\nimport org.apache.poi.xssf.model.MapInfo;\nimport org.apache.poi.xssf.usermodel.*;\n\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.*;\n\nimport javax.xml.namespace.QName;\n\nimport java.util.List;\n\npublic class CreateExcelWithXmlMap {\n\n private static CTMap addMap(MapInfo mapInfo, String mapName, String rootElement, String schemaId) {\n  CTMapInfo cTMapInfo = mapInfo.getCTMapInfo();\n  long id = 1;\n  for (CTMap map : cTMapInfo.getMapList()) {\n   if (map.getID() &gt;= id) id = map.getID() + 1;\n  }\n  CTMap map = cTMapInfo.addNewMap();\n  map.setID(id);\n  map.setName(mapName);\n  map.setRootElement(rootElement);\n  map.setSchemaID(schemaId);\n  map.setAutoFit(true);\n  map.setAppend(false);\n  map.setPreserveSortAFLayout(true);\n  map.setPreserveFormat(true);\n  return map;\n }\n\n private static int addSchema(MapInfo mapInfo, InputStream schemaIn, String schemaIdPrefix) throws Exception {\n  CTMapInfo cTMapInfo = mapInfo.getCTMapInfo();\n  List&lt;CTSchema&gt; schemas = cTMapInfo.getSchemaList();\n  CTSchema[] schemaArray = new CTSchema[schemas.size()+1];\n  int i = 0;\n  int id = 1;\n  for (CTSchema schema : schemas) {\n   schemaArray[i++] = schema;\n   if (schema.getID().startsWith(schemaIdPrefix)) id++;\n  }\n  CTSchema schema = CTSchema.Factory.parse(schemaIn);\n  schema.setID(schemaIdPrefix + id);\n  schemaArray[i] = schema;\n  cTMapInfo.setSchemaArray(schemaArray);\n  return id;\n }\n\n private static void writeMapInfoMinContent(PackagePart part) throws Exception {\n  CTMapInfo cTMapInfo = MapInfoDocument.Factory.newInstance().addNewMapInfo();\n  cTMapInfo.setSelectionNamespaces(&quot;&quot;);\n  XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\n  xmlOptions.setSaveSyntheticDocumentElement(new QName(CTMapInfo.type.getName().getNamespaceURI(), &quot;MapInfo&quot;));\n  OutputStream out = part.getOutputStream();\n  cTMapInfo.save(out, xmlOptions);\n  out.close();\n }\n\n private static MapInfo createMapInfo(XSSFWorkbook workbook) throws Exception {\n  MapInfo mapInfo = workbook.getMapInfo();\n  if (mapInfo != null) {\n   return mapInfo;\n  } else {\n   OPCPackage oPCPackage = workbook.getPackage();\n   PackagePartName partName = PackagingURIHelper.createPartName(&quot;/xl/xmlMaps.xml&quot;);\n   PackagePart part = oPCPackage.createPart(partName, &quot;application/xml&quot;);\n   writeMapInfoMinContent(part);\n   mapInfo = new MapInfo(part);\n   String rId = workbook.addRelation(null, new XSSFXmlMapsRelation(), mapInfo).getRelationship().getId();\n  }\n  return mapInfo;\n }\n\n public static void main(String[] args) throws Exception {\n\n  String schemaFilePath = &quot;./class.xsd&quot;;\n  String workbookFilePath = &quot;./ExcelWithXMLMap.xlsx&quot;;\n\n  XSSFWorkbook workbook = new XSSFWorkbook();\n\n  MapInfo mapInfo = createMapInfo(workbook);\n  InputStream schemaIn = new FileInputStream(schemaFilePath);\n  int schemaId = addSchema(mapInfo, schemaIn, &quot;Schema&quot;);\n  CTMap cTMap = addMap(mapInfo, &quot;class_Map&quot;, &quot;class&quot;, &quot;Schema&quot;+schemaId);\n  XSSFMap xssfMap = new XSSFMap(cTMap, mapInfo);\n  //ToDo: update private Map&lt;Integer, XSSFMap&gt; maps in MapInfo \n\n  String[] headers = new String[]{&quot;rollno&quot;, &quot;firstname&quot;, &quot;lastname&quot;, &quot;nickname&quot;, &quot;marks&quot;};\n  //ToDo: get headers from schema\n\n  XSSFSheet sheet = workbook.createSheet();\n  XSSFTable table = sheet.createTable(new AreaReference(&quot;A1:E2&quot;, SpreadsheetVersion.EXCEL2007));\n  table.setDisplayName(&quot;class&quot;);\n  table.getCTTable().addNewTableStyleInfo();\n  XSSFTableStyleInfo style = (XSSFTableStyleInfo)table.getStyle();\n  style.setName(&quot;TableStyleMedium2&quot;);\n  style.setShowColumnStripes(false);\n  style.setShowRowStripes(true);\n  table.getCTTable().setTableType(STTableType.XML);\n  int i = 0;\n  for (CTTableColumn ctTableColumn : table.getCTTable().getTableColumns().getTableColumnList()) {\n   ctTableColumn.setUniqueName(headers[i]);\n   CTXmlColumnPr xmlColumnPr = ctTableColumn.addNewXmlColumnPr();\n   xmlColumnPr.setXmlDataType(STXmlDataType.STRING);\n   xmlColumnPr.setXpath(&quot;/class/student/&quot; + headers[i++]);\n   xmlColumnPr.setMapId(xssfMap.getCtMap().getID());\n  }\n\n  XSSFRow row = sheet.createRow(0);\n  int c = 0;\n  for (String header : headers) {\n   row.createCell(c++).setCellValue(header);\n  }\n\n  FileOutputStream out = new FileOutputStream(workbookFilePath);\n  workbook.write(out);\n  out.close();\n  workbook.close();\n\n }\n\n\n //the XSSFRelation for /xl/xmlMaps.xml\n private final static class XSSFXmlMapsRelation extends POIXMLRelation {\n  private XSSFXmlMapsRelation() {\n   super(\n    &quot;application/xml&quot;,\n    &quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/xmlMaps&quot;,\n    &quot;/xl/xmlMaps.xml&quot;,\n    MapInfo.class);\n  }\n }\n}\n</code></pre>\n<hr />\n<p>To adopt above code to Apache POI 5:</p>\n<pre><code> private static MapInfo createMapInfo(XSSFWorkbook workbook) throws Exception {\n ...\n   //String rId = workbook.addRelation(null, new XSSFXmlMapsRelation(), mapInfo).getRelationship().getId();\n   String rId = workbook.addRelation(null, XSSFRelation.CUSTOM_XML_MAPPINGS, mapInfo).getRelationship().getId();\n ...\n }\n\n ...\n\n public static void main(String[] args) throws Exception {\n ...\n   //xmlColumnPr.setXmlDataType(STXmlDataType.STRING);\n   xmlColumnPr.setXmlDataType(&quot;string&quot;);\n ...\n }\n</code></pre>\n<p>The whole class <code>private final static class XSSFXmlMapsRelation extends POIXMLRelation</code> is not needed´d as there is <code>XSSFRelation.CUSTOM_XML_MAPPINGS</code> now already.</p>\n"}],"owner":{"account_id":4836073,"reputation":47,"user_id":3902737,"accept_rate":20,"display_name":"Andrei Mihuț"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57707299,"answer_count":1,"score":0,"last_activity_date":1686923084,"creation_date":1566997185,"question_id":57693029,"body_markdown":"A little bit of context, in excel there is a tab named **Developer**, where you can see/add XML maps in the current workbook:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/62FQV.png\r\n  [2]: https://i.stack.imgur.com/mujW7.png\r\n  [3]: https://i.stack.imgur.com/emaCj.png\r\nI am working with Apache POI and I want to read and also write XML maps in excel.\r\n\r\nDo you know where can I found documentation regarding on how to read/write XML maps in excel using Apache POI?","title":"How to read/write XML maps from/in excel with Apache POI in Java?","body":"<p>A little bit of context, in excel there is a tab named <strong>Developer</strong>, where you can see/add XML maps in the current workbook:</p>\n\n<p><a href=\"https://i.stack.imgur.com/62FQV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/62FQV.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/mujW7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mujW7.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/emaCj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/emaCj.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am working with Apache POI and I want to read and also write XML maps in excel.</p>\n\n<p>Do you know where can I found documentation regarding on how to read/write XML maps in excel using Apache POI?</p>\n"},{"tags":["java","spring-boot","maven","springdoc-openapi-ui","openapi-generator-maven-plugin"],"answers":[{"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":1,"creation_date":1677270705,"post_id":75488439,"comment_id":133311551,"body_markdown":"As I have seen this Bug is fixed now by version 6.4.0. Thus you can keep your tags in lowercase.","body":"As I have seen this Bug is fixed now by version 6.4.0. Thus you can keep your tags in lowercase."}],"tags":[],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676661410,"creation_date":1676661410,"answer_id":75488439,"question_id":75477445,"body_markdown":"There seems to be an issue with the opeanapi-generator-maven-plugin 6.3.0 because it converts the tag name from the yaml file, e.g.\r\n```\r\ntags:\r\n  - name: zuege\r\n```\r\ninto a slightly deviated annotation tag within the generated code, namely:\r\n\r\n```\r\n@Tag(name = &quot;Zuege&quot;, description = &quot;Zuege details&quot;)\r\npublic interface ZuegeApi {\r\n\r\n}\r\n```\r\nSo when you change the tag within the yaml file into the same style (first character is always in upper case), then the issue is gone:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/McJEH.png","title":"openapi-generator duplicates the endpoint in swagger-ui","body":"<p>There seems to be an issue with the opeanapi-generator-maven-plugin 6.3.0 because it converts the tag name from the yaml file, e.g.</p>\n<pre><code>tags:\n  - name: zuege\n</code></pre>\n<p>into a slightly deviated annotation tag within the generated code, namely:</p>\n<pre><code>@Tag(name = &quot;Zuege&quot;, description = &quot;Zuege details&quot;)\npublic interface ZuegeApi {\n\n}\n</code></pre>\n<p>So when you change the tag within the yaml file into the same style (first character is always in upper case), then the issue is gone:</p>\n<p><a href=\"https://i.stack.imgur.com/McJEH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/McJEH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3543091,"reputation":807,"user_id":2959707,"display_name":"Shirish Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686922872,"creation_date":1686922872,"answer_id":76490783,"question_id":75477445,"body_markdown":"Just capitalise first letter of your tag name\r\n\r\nFrom \r\n\r\n&gt;     tags:\r\n&gt;      - name: zuege\r\n\r\nTo\r\n\r\n&gt;     tags:\r\n&gt;       - name: Zuege","title":"openapi-generator duplicates the endpoint in swagger-ui","body":"<p>Just capitalise first letter of your tag name</p>\n<p>From</p>\n<blockquote>\n<pre><code>tags:\n - name: zuege\n</code></pre>\n</blockquote>\n<p>To</p>\n<blockquote>\n<pre><code>tags:\n  - name: Zuege\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1493,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75488439,"answer_count":2,"score":3,"last_activity_date":1686922872,"creation_date":1676578415,"question_id":75477445,"body_markdown":"The openapi-generator-maven-plugin (version 6.3.0) is configured as follows in a Spring-Boot 3 application:\r\n\r\n```\r\n          &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${openapi-maven-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/openApi.yaml&lt;/inputSpec&gt;\r\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n                            &lt;apiPackage&gt;com.company.api.v1&lt;/apiPackage&gt;\r\n                            &lt;modelPackage&gt;com.company.model.v1&lt;/modelPackage&gt;\r\n                            &lt;supportingFilesToGenerate&gt;ApiUtil.java&lt;/supportingFilesToGenerate&gt;\r\n                            &lt;configOptions&gt;\r\n                                &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n                                &lt;useSpringBoot3&gt;true&lt;/useSpringBoot3&gt;\r\n                            &lt;/configOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\nand in the Swagger/OpenAPI Yaml file is only one endpoint configured:\r\n\r\n```\r\npaths:\r\n  /table:\r\n    get:\r\n      summary: get all trains\r\n      operationId: trainsList\r\n      tags:\r\n        - zuege\r\n```\r\n\r\nThe issue here is in the Swagger-Ui; the endpoint is duplicated:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I remove the tag in the yaml then only the first endpoint is visible but actually this is the ugly one with the generated description. When I configure it with `&lt;useTags&gt;true&lt;/useTags&gt;` ([cf. config][2]) the two endpoints are still there but both with name `zuege`. \r\n\r\nAny idea how to reduce it to only one endpoint but consider the tag?\r\n\r\nWhen I add a global tag description as follows:\r\n\r\n```\r\ntags:\r\n  - name: zuege\r\n    description: &quot;Zuege details&quot;\r\n```\r\ntogether with `&lt;useTags&gt;true&lt;/useTags` it looks as follows:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nSo it is still duplicated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VtDpA.png\r\n  [2]: https://openapi-generator.tech/docs/generators/spring/\r\n  [3]: https://i.stack.imgur.com/kyV8o.png","title":"openapi-generator duplicates the endpoint in swagger-ui","body":"<p>The openapi-generator-maven-plugin (version 6.3.0) is configured as follows in a Spring-Boot 3 application:</p>\n<pre><code>          &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${openapi-maven-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/openApi.yaml&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                            &lt;apiPackage&gt;com.company.api.v1&lt;/apiPackage&gt;\n                            &lt;modelPackage&gt;com.company.model.v1&lt;/modelPackage&gt;\n                            &lt;supportingFilesToGenerate&gt;ApiUtil.java&lt;/supportingFilesToGenerate&gt;\n                            &lt;configOptions&gt;\n                                &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                                &lt;useSpringBoot3&gt;true&lt;/useSpringBoot3&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>and in the Swagger/OpenAPI Yaml file is only one endpoint configured:</p>\n<pre><code>paths:\n  /table:\n    get:\n      summary: get all trains\n      operationId: trainsList\n      tags:\n        - zuege\n</code></pre>\n<p>The issue here is in the Swagger-Ui; the endpoint is duplicated:</p>\n<p><a href=\"https://i.stack.imgur.com/VtDpA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VtDpA.png\" alt=\"enter image description here\" /></a></p>\n<p>When I remove the tag in the yaml then only the first endpoint is visible but actually this is the ugly one with the generated description. When I configure it with <code>&lt;useTags&gt;true&lt;/useTags&gt;</code> (<a href=\"https://openapi-generator.tech/docs/generators/spring/\" rel=\"nofollow noreferrer\">cf. config</a>) the two endpoints are still there but both with name <code>zuege</code>.</p>\n<p>Any idea how to reduce it to only one endpoint but consider the tag?</p>\n<p>When I add a global tag description as follows:</p>\n<pre><code>tags:\n  - name: zuege\n    description: &quot;Zuege details&quot;\n</code></pre>\n<p>together with <code>&lt;useTags&gt;true&lt;/useTags</code> it looks as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/kyV8o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kyV8o.png\" alt=\"enter image description here\" /></a></p>\n<p>So it is still duplicated.</p>\n"},{"tags":["java","android","admob"],"comments":[{"owner":{"account_id":13249526,"reputation":115,"user_id":19559632,"display_name":"IHateGoogle"},"score":7,"creation_date":1686944232,"post_id":76490774,"comment_id":134873364,"body_markdown":"ffs will google ever stop annoying us with stupid bs every week","body":"ffs will google ever stop annoying us with stupid bs every week"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":1,"creation_date":1686982533,"post_id":76490774,"comment_id":134876324,"body_markdown":"If you have users in EEA or UK, just add UMP implementation to those apps. Select them from the AdMob&#39;s dashboard &amp; select the apps.","body":"If you have users in EEA or UK, just add UMP implementation to those apps. Select them from the AdMob&#39;s dashboard &amp; select the apps."},{"owner":{"account_id":12409382,"reputation":141,"user_id":9042411,"display_name":"Abdul Basit"},"score":0,"creation_date":1686995070,"post_id":76490774,"comment_id":134877300,"body_markdown":"implement code in app or only make changes in admob?","body":"implement code in app or only make changes in admob?"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1687002284,"post_id":76490774,"comment_id":134878042,"body_markdown":"You need to create a GDPR message on AdMob dashboard &amp; implement UMP sdk in the app.","body":"You need to create a GDPR message on AdMob dashboard &amp; implement UMP sdk in the app."},{"owner":{"account_id":4033378,"reputation":93,"user_id":3318703,"display_name":"user3318703"},"score":0,"creation_date":1688053941,"post_id":76490774,"comment_id":135025279,"body_markdown":"@Darshan After creating GDPR message on AdMob what code need to write in iOS and as well in android?","body":"@Darshan After creating GDPR message on AdMob what code need to write in iOS and as well in android?"},{"owner":{"account_id":16114085,"reputation":563,"user_id":13452141,"display_name":"JP711"},"score":0,"creation_date":1688689151,"post_id":76490774,"comment_id":135111184,"body_markdown":"Does this mean we should no longer show ads to those who refuse consent? Can I prevent them from using my apps if they reject it?","body":"Does this mean we should no longer show ads to those who refuse consent? Can I prevent them from using my apps if they reject it?"},{"owner":{"account_id":1281993,"reputation":2211,"user_id":1235910,"accept_rate":60,"display_name":"Palejandro"},"score":1,"creation_date":1689602934,"post_id":76490774,"comment_id":135232887,"body_markdown":"@JP711 If they don&#39;t give you the consent, you can&#39;t show them personalized ads. Non-personalized ads can be shown. You just need to ask them at first launch, what they want to see...","body":"@JP711 If they don&#39;t give you the consent, you can&#39;t show them personalized ads. Non-personalized ads can be shown. You just need to ask them at first launch, what they want to see..."}],"owner":{"account_id":12409382,"reputation":141,"user_id":9042411,"display_name":"Abdul Basit"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1907,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"closed_date":1686941407,"answer_count":0,"score":12,"last_activity_date":1686922830,"creation_date":1686922830,"question_id":76490774,"body_markdown":"I recently opened AdMob and received this message:\r\n\r\n&gt; Later this year, Google will require all publishers serving ads to EEA and UK users to use a Google-certified Consent Management Platform (CMP). You can use any Google-certified CMP for this purpose, including Google&#39;s own consent management solution. If you are interested in using Google&#39;s consent management solution, start by setting up your GDPR message and implementing the UMP SDK.\r\n\r\nShould we update all applications?","title":"Google will Requrie all publisher serving ads to EEA and UK users GDPR","body":"<p>I recently opened AdMob and received this message:</p>\n<blockquote>\n<p>Later this year, Google will require all publishers serving ads to EEA and UK users to use a Google-certified Consent Management Platform (CMP). You can use any Google-certified CMP for this purpose, including Google's own consent management solution. If you are interested in using Google's consent management solution, start by setting up your GDPR message and implementing the UMP SDK.</p>\n</blockquote>\n<p>Should we update all applications?</p>\n"},{"tags":["java","xml","hibernate"],"comments":[{"owner":{"account_id":9172758,"reputation":995,"user_id":6819602,"accept_rate":55,"display_name":"Arvind Katte"},"score":0,"creation_date":1511966306,"post_id":47554697,"comment_id":82067394,"body_markdown":"can you check somewhere in the config file, have you missed `&lt;` or `&gt;` symbol","body":"can you check somewhere in the config file, have you missed <code>&lt;</code> or <code>&gt;</code> symbol"},{"owner":{"account_id":9172758,"reputation":995,"user_id":6819602,"accept_rate":55,"display_name":"Arvind Katte"},"score":0,"creation_date":1511966393,"post_id":47554697,"comment_id":82067464,"body_markdown":"also, look into this post https://stackoverflow.com/questions/5203312/javax-xml-bind-unmarshalexception-unexpected-element-uri-localgroup","body":"also, look into this post <a href=\"https://stackoverflow.com/questions/5203312/javax-xml-bind-unmarshalexception-unexpected-element-uri-localgroup\" title=\"javax xml bind unmarshalexception unexpected element uri localgroup\">stackoverflow.com/questions/5203312/&hellip;</a>"},{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":0,"creation_date":1511968609,"post_id":47554697,"comment_id":82069232,"body_markdown":"Please, add your `hibernate.cfg.xml`, at least part.","body":"Please, add your <code>hibernate.cfg.xml</code>, at least part."},{"owner":{"account_id":494894,"reputation":2183,"user_id":1006669,"accept_rate":52,"display_name":"Giovanni Lovato"},"score":0,"creation_date":1520872660,"post_id":47554697,"comment_id":85484094,"body_markdown":"Did you solve this issue? I&#39;m experiencing this too (using Java 9, if that matters).","body":"Did you solve this issue? I&#39;m experiencing this too (using Java 9, if that matters)."},{"owner":{"account_id":3522295,"reputation":2703,"user_id":2944265,"accept_rate":50,"display_name":"Zveratko"},"score":0,"creation_date":1520931203,"post_id":47554697,"comment_id":85506966,"body_markdown":"The update 3 fixed my error completely. Have you tried that? Or do you have other issues?","body":"The update 3 fixed my error completely. Have you tried that? Or do you have other issues?"}],"answers":[{"tags":[],"owner":{"account_id":7653789,"reputation":11,"user_id":5801470,"display_name":"aigyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511976265,"creation_date":1511976265,"answer_id":47558367,"question_id":47554697,"body_markdown":"can you try to change and use this template for hibernate.cfg.xml file: \r\n\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC \r\n     &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n     &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\r\n    &lt;hibernate-configuration&gt;\r\n     &lt;session-factory name=&quot;domain&quot;&gt;\r\n  \r\n      &lt;property name=&quot;hibernate.show_sql&quot;&gt;false&lt;/property&gt;\r\n      &lt;mapping package=&quot;com.example.dao.entity&quot;/&gt;\r\n\r\n      &lt;!-- etc --&gt;\r\n\r\n     &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;","title":"Unable to parse hibernate.cfg.xml","body":"<p>can you try to change and use this template for hibernate.cfg.xml file: </p>\n\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC \n \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n \"http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd\"&gt;\n\n&lt;hibernate-configuration&gt;\n &lt;session-factory name=\"domain\"&gt;\n\n  &lt;property name=\"hibernate.show_sql\"&gt;false&lt;/property&gt;\n  &lt;mapping package=\"com.example.dao.entity\"/&gt;\n\n  &lt;!-- etc --&gt;\n\n &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628617925,"creation_date":1628617925,"answer_id":68731471,"question_id":47554697,"body_markdown":"This error was raised in Hibernate 5.4.4 while using `java version &quot;14.0.1&quot;`.\r\n\r\n&gt; unexpected element (uri:&quot;http://www.hibernate.org/xsd/orm/cfg&quot;, local:&quot;hibernate-configuration&quot;). Expected elements are &lt;{}hibernate-configuration&gt;\r\n\r\nA simple downgrade to `java 8` resolve it.\r\n\r\nAs mentioned in the [documentation][1] the Hibernate up  to 5.4.4. supports Java `8` or `11`\r\n\r\n\r\n  [1]: https://hibernate.org/orm/releases/5.4/","title":"Unable to parse hibernate.cfg.xml","body":"<p>This error was raised in Hibernate 5.4.4 while using <code>java version &quot;14.0.1&quot;</code>.</p>\n<blockquote>\n<p>unexpected element (uri:&quot;http://www.hibernate.org/xsd/orm/cfg&quot;, local:&quot;hibernate-configuration&quot;). Expected elements are &lt;{}hibernate-configuration&gt;</p>\n</blockquote>\n<p>A simple downgrade to <code>java 8</code> resolve it.</p>\n<p>As mentioned in the <a href=\"https://hibernate.org/orm/releases/5.4/\" rel=\"nofollow noreferrer\">documentation</a> the Hibernate up  to 5.4.4. supports Java <code>8</code> or <code>11</code></p>\n"},{"tags":[],"owner":{"account_id":28834563,"reputation":1,"user_id":22084233,"display_name":"Galen Rhodes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686922697,"creation_date":1686922697,"answer_id":76490760,"question_id":47554697,"body_markdown":"I was having the same issue but the fix was simple.  I added the correct default namespace to the hibernate.cfg.xml file.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;hibernate-configuration\r\n            xsi:schemaLocation=&quot;http://www.hibernate.org/xsd/hibernate-configuration hibernate-configuration-4.0.xsd&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xmlns=&quot;http://www.hibernate.org/xsd/hibernate-configuration&quot;&gt;\r\n        &lt;session-factory&gt;\r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n","title":"Unable to parse hibernate.cfg.xml","body":"<p>I was having the same issue but the fix was simple.  I added the correct default namespace to the hibernate.cfg.xml file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;hibernate-configuration\n        xsi:schemaLocation=&quot;http://www.hibernate.org/xsd/hibernate-configuration hibernate-configuration-4.0.xsd&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xmlns=&quot;http://www.hibernate.org/xsd/hibernate-configuration&quot;&gt;\n    &lt;session-factory&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":3522295,"reputation":2703,"user_id":2944265,"accept_rate":50,"display_name":"Zveratko"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":738,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1686922697,"creation_date":1511964392,"question_id":47554697,"body_markdown":"I&#39;m unable to parse hibernate.cfg.xml and geting\r\n\r\n    Caused by: javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://www.hibernate.org/xsd/orm/cfg&quot;, local:&quot;hibernate-configuration&quot;). Expected elements are &lt;{}hibernate-configuration&gt;\r\n\r\nIt can be something with xml parser, it seams like it uses stax under the hood. We are on hibernate 5.2.3. The header of our  hibernate.cfg.xml file is correct I tried both Xsd\r\n\r\n \r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;hibernate-configuration\r\n        xsi:schemaLocation=&quot;http://www.hibernate.org/xsd/hibernate-configuration hibernate-configuration-4.0.xsd&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n        &lt;session-factory&gt;\r\n\r\nand DTD\r\n\r\n        &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration\r\n        PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    \r\n    &lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n\r\nBoth have the same error. I must be something with the parser. \r\n\r\n**UPDATE**\r\nI have fixed the question code was not properly visible. I&#39;m sure the XML is valid XML.\r\n\r\n**UPDATE 2**\r\nI start to get some clues. It can be caused by running the code as junit powermock test. Specifically `com.sun.xml.internal.stream.XMLEventReaderImpl` class reading the file, is loaded by MockClassLoader.\r\n\r\n**UPDATE 3**\r\nThey solved it [here][1] by taming powermock a little b\r\n\r\n    @PowerMockIgnore({ &quot;javax.xml.*&quot;, &quot;org.xml.sax.*&quot; })\r\n\r\nNow I have different error hope I&#39;m on the right track.\r\n\r\n    java.lang.LinkageError: loader constraint violation: when resolving overridden method &quot;com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(Lorg/w3c/dom/Node;)Ljava/lang/Object;&quot; the class loader (instance of org/powermock/core/classloader/MockClassLoader) of the current class, com/sun/xml/internal/bind/v2/runtime/unmarshaller/UnmarshallerImpl, and its superclass loader (instance of &lt;bootloader&gt;), have different Class objects for the type org/w3c/dom/Node used in the signature\r\n\r\nThat is resolved [here][2] by adding additional classes to the \r\n\r\n    @PowerMockIgnore({ &quot;javax.xml.*&quot;, &quot;org.xml.sax.*&quot;, &quot;com.sun.xml.*&quot;, &quot;com.sun.org.*&quot;})\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/34897047/2944265\r\n  [2]: https://stackoverflow.com/a/21558249/2944265","title":"Unable to parse hibernate.cfg.xml","body":"<p>I'm unable to parse hibernate.cfg.xml and geting</p>\n\n<pre><code>Caused by: javax.xml.bind.UnmarshalException: unexpected element (uri:\"http://www.hibernate.org/xsd/orm/cfg\", local:\"hibernate-configuration\"). Expected elements are &lt;{}hibernate-configuration&gt;\n</code></pre>\n\n<p>It can be something with xml parser, it seams like it uses stax under the hood. We are on hibernate 5.2.3. The header of our  hibernate.cfg.xml file is correct I tried both Xsd</p>\n\n<pre><code>   &lt;?xml version=\"1.0\" encoding='utf-8'?&gt;\n&lt;hibernate-configuration\n    xsi:schemaLocation=\"http://www.hibernate.org/xsd/hibernate-configuration hibernate-configuration-4.0.xsd\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n    &lt;session-factory&gt;\n</code></pre>\n\n<p>and DTD</p>\n\n<pre><code>    &lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration\n    PUBLIC \"-//Hibernate/Hibernate Configuration DTD//EN\"\n    \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n\n&lt;hibernate-configuration&gt;\n&lt;session-factory&gt;\n</code></pre>\n\n<p>Both have the same error. I must be something with the parser. </p>\n\n<p><strong>UPDATE</strong>\nI have fixed the question code was not properly visible. I'm sure the XML is valid XML.</p>\n\n<p><strong>UPDATE 2</strong>\nI start to get some clues. It can be caused by running the code as junit powermock test. Specifically <code>com.sun.xml.internal.stream.XMLEventReaderImpl</code> class reading the file, is loaded by MockClassLoader.</p>\n\n<p><strong>UPDATE 3</strong>\nThey solved it <a href=\"https://stackoverflow.com/a/34897047/2944265\">here</a> by taming powermock a little b</p>\n\n<pre><code>@PowerMockIgnore({ \"javax.xml.*\", \"org.xml.sax.*\" })\n</code></pre>\n\n<p>Now I have different error hope I'm on the right track.</p>\n\n<pre><code>java.lang.LinkageError: loader constraint violation: when resolving overridden method \"com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(Lorg/w3c/dom/Node;)Ljava/lang/Object;\" the class loader (instance of org/powermock/core/classloader/MockClassLoader) of the current class, com/sun/xml/internal/bind/v2/runtime/unmarshaller/UnmarshallerImpl, and its superclass loader (instance of &lt;bootloader&gt;), have different Class objects for the type org/w3c/dom/Node used in the signature\n</code></pre>\n\n<p>That is resolved <a href=\"https://stackoverflow.com/a/21558249/2944265\">here</a> by adding additional classes to the </p>\n\n<pre><code>@PowerMockIgnore({ \"javax.xml.*\", \"org.xml.sax.*\", \"com.sun.xml.*\", \"com.sun.org.*\"})\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":2,"creation_date":1686921359,"post_id":76490565,"comment_id":134868827,"body_markdown":"Pl. post the layout `activity_part_selection` file as well.","body":"Pl. post the layout <code>activity_part_selection</code> file as well."}],"owner":{"account_id":28834387,"reputation":1,"user_id":22084090,"display_name":"Pradeep Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686922652,"creation_date":1686921282,"question_id":76490565,"body_markdown":"Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.recyclerview.widget.RecyclerView.setAdapter(androidx.recyclerview.widget.RecyclerView$Adapter)&#39; on a null object reference at com.pradeepuct.biboxlabstask.PartSelection.onCreate(PartSelection.java:49)\r\n\r\n\r\n\r\n```\r\npackage com.pradeepuct.biboxlabstask;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class PartSelection extends AppCompatActivity implements PartShowListener {\r\n\r\n\r\n    Button buttonNext;\r\n\r\n    \\\\On create method\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_part_selection);\r\n\r\n\r\n        RecyclerView partsRecyclerView = findViewById(R.id.recyclerView);\r\n\r\n        buttonNext = findViewById(R.id.buttonNext);\r\n\r\n        List&lt;Parts&gt; parts = new ArrayList&lt;&gt;();\r\n\r\n        Parts handle = new Parts();\r\n        handle.image = R.drawable.handle;\r\n        handle.partName = &quot;Handle Bar&quot;;\r\n        parts.add(handle);\r\n\r\n        Parts frame = new Parts();\r\n        frame.image = R.drawable.frame;\r\n        handle.partName = &quot;Cycle Frame&quot;;\r\n        parts.add(frame);\r\n\r\n        Parts wheel = new Parts();\r\n        wheel.image = R.drawable.wheel;\r\n        wheel.partName = &quot;Cycle Wheel&quot;;\r\n        parts.add(wheel);\r\n\r\n        final PartsAdapter partsAdapter = new PartsAdapter(parts, this);\r\n        partsRecyclerView.setAdapter(partsAdapter);\r\n\r\n        buttonNext.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                List&lt;Parts&gt; selectedParts = partsAdapter.getSelectedParts();\r\n\r\n                StringBuilder partsNames = new StringBuilder();\r\n                for (int i = 0; i &lt; selectedParts.size(); i++) {\r\n                    if (i == 0) {\r\n                        partsNames.append(selectedParts.get(i).partName);\r\n                    } else {\r\n                        partsNames.append(&quot;\\n&quot;).append(selectedParts.get(i).partName);\r\n                    }\r\n                }\r\n                Toast.makeText(PartSelection.this, partsNames.toString(),Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    \\\\Part show action\r\n    @Override\r\n    public void onPartShowAction(boolean isSelected) {\r\n\r\n        if (isSelected) {\r\n            buttonNext.setVisibility(View.VISIBLE);\r\n        } else {\r\n            buttonNext.setVisibility(View.GONE);\r\n        }\r\n    }\r\n}\r\n```\r\nIt is throwing null pointer exception for the recycler view","title":"Attempt to invoke virtual method &#39;void androidx.recyclerview.widget.RecyclerView.setAdapter on a null object reference","body":"<p>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.recyclerview.widget.RecyclerView.setAdapter(androidx.recyclerview.widget.RecyclerView$Adapter)' on a null object reference at com.pradeepuct.biboxlabstask.PartSelection.onCreate(PartSelection.java:49)</p>\n<pre><code>package com.pradeepuct.biboxlabstask;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class PartSelection extends AppCompatActivity implements PartShowListener {\n\n\n    Button buttonNext;\n\n    \\\\On create method\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_part_selection);\n\n\n        RecyclerView partsRecyclerView = findViewById(R.id.recyclerView);\n\n        buttonNext = findViewById(R.id.buttonNext);\n\n        List&lt;Parts&gt; parts = new ArrayList&lt;&gt;();\n\n        Parts handle = new Parts();\n        handle.image = R.drawable.handle;\n        handle.partName = &quot;Handle Bar&quot;;\n        parts.add(handle);\n\n        Parts frame = new Parts();\n        frame.image = R.drawable.frame;\n        handle.partName = &quot;Cycle Frame&quot;;\n        parts.add(frame);\n\n        Parts wheel = new Parts();\n        wheel.image = R.drawable.wheel;\n        wheel.partName = &quot;Cycle Wheel&quot;;\n        parts.add(wheel);\n\n        final PartsAdapter partsAdapter = new PartsAdapter(parts, this);\n        partsRecyclerView.setAdapter(partsAdapter);\n\n        buttonNext.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                List&lt;Parts&gt; selectedParts = partsAdapter.getSelectedParts();\n\n                StringBuilder partsNames = new StringBuilder();\n                for (int i = 0; i &lt; selectedParts.size(); i++) {\n                    if (i == 0) {\n                        partsNames.append(selectedParts.get(i).partName);\n                    } else {\n                        partsNames.append(&quot;\\n&quot;).append(selectedParts.get(i).partName);\n                    }\n                }\n                Toast.makeText(PartSelection.this, partsNames.toString(),Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    \\\\Part show action\n    @Override\n    public void onPartShowAction(boolean isSelected) {\n\n        if (isSelected) {\n            buttonNext.setVisibility(View.VISIBLE);\n        } else {\n            buttonNext.setVisibility(View.GONE);\n        }\n    }\n}\n</code></pre>\n<p>It is throwing null pointer exception for the recycler view</p>\n"},{"tags":["java","crystal-reports"],"answers":[{"tags":[],"owner":{"account_id":371706,"reputation":146,"user_id":720380,"display_name":"Jett"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1303727828,"creation_date":1303727828,"answer_id":5777530,"question_id":5647165,"body_markdown":"Unfortunately, BusinessObjects/Crytal Enterprise does not provide a direct way of configuring the logon timeout. The only logon timeout setting available on CMC is for Trusted Authentication when it is enabled, and it defaults to 0 (no limit).\r\n\r\nMy experience with this type of error is related to the port used by the CMS service and the machine&#39;s firewall configuration. According to the [BOE XI 3.1 Administrator&#39;s Guide][1], the CMS service request port is 6400 by default and most firewalls do not open this port by default.\r\n\r\nFor more information on the CE platform, I recommend browsing the [BO section of the SAP developer network][2]. \r\n\r\n\r\n  [1]: http://help.sap.com/businessobject/product_guides/boexir31/en/xi3-1_bip_admin_en.pdf\r\n  [2]: http://www.sdn.sap.com/irj/sdn/boe-admin","title":"Crystal enterprise sessionMgr.logon setting connection timeout","body":"<p>Unfortunately, BusinessObjects/Crytal Enterprise does not provide a direct way of configuring the logon timeout. The only logon timeout setting available on CMC is for Trusted Authentication when it is enabled, and it defaults to 0 (no limit).</p>\n\n<p>My experience with this type of error is related to the port used by the CMS service and the machine's firewall configuration. According to the <a href=\"http://help.sap.com/businessobject/product_guides/boexir31/en/xi3-1_bip_admin_en.pdf\" rel=\"nofollow\">BOE XI 3.1 Administrator's Guide</a>, the CMS service request port is 6400 by default and most firewalls do not open this port by default.</p>\n\n<p>For more information on the CE platform, I recommend browsing the <a href=\"http://www.sdn.sap.com/irj/sdn/boe-admin\" rel=\"nofollow\">BO section of the SAP developer network</a>. </p>\n"}],"owner":{"account_id":344164,"reputation":2553,"user_id":676326,"accept_rate":50,"display_name":"TKV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":893,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1610797646,"accepted_answer_id":5777530,"answer_count":1,"score":-1,"last_activity_date":1686922453,"creation_date":1302687367,"question_id":5647165,"body_markdown":"How can I set the connection timeout option manually?\r\n\r\nWhen am trying to connect to the Crystal enterprise server programmatically it will show a connection timeout error.","title":"Crystal enterprise sessionMgr.logon setting connection timeout","body":"<p>How can I set the connection timeout option manually?</p>\n<p>When am trying to connect to the Crystal enterprise server programmatically it will show a connection timeout error.</p>\n"},{"tags":["java","crystal-reports"],"comments":[{"owner":{"account_id":12578778,"reputation":12323,"user_id":9150270,"display_name":"Sandra Rossi"},"score":0,"creation_date":1686922402,"post_id":5883905,"comment_id":134869068,"body_markdown":"Better add a comment under the answer if you need clarifications (rather than contacting Craig via the question).","body":"Better add a comment under the answer if you need clarifications (rather than contacting Craig via the question)."}],"answers":[{"tags":[],"owner":{"account_id":45568,"reputation":25836,"user_id":134367,"accept_rate":67,"display_name":"craig"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1304525671,"creation_date":1304525671,"answer_id":5886520,"question_id":5883905,"body_markdown":"EnterpriseSession.Logoff\r\n\r\n[SDK reference][1]\r\n\r\n\r\n  [1]: http://devlibrary.businessobjects.com/BusinessObjectsXIR2SP2/en/en/BOE_SDK/boesdk_dotNet_doc/doc/boesdk_net_doc/html/CrystalEnterpriseFrameworkLibrary44.html#2017965","title":"proper session closing from Crystal enterprise server","body":"<p>EnterpriseSession.Logoff</p>\n\n<p><a href=\"http://devlibrary.businessobjects.com/BusinessObjectsXIR2SP2/en/en/BOE_SDK/boesdk_dotNet_doc/doc/boesdk_net_doc/html/CrystalEnterpriseFrameworkLibrary44.html#2017965\" rel=\"nofollow\">SDK reference</a></p>\n"}],"owner":{"account_id":344164,"reputation":2553,"user_id":676326,"accept_rate":50,"display_name":"TKV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":5886520,"answer_count":1,"score":-1,"last_activity_date":1686922348,"creation_date":1304514483,"question_id":5883905,"body_markdown":"Can anyone tell the exact way to properly closing the session after login to the Crystal enterprise server?\r\n\r\nEdit after the question was answered by Craig, May 4th, 2011:\r\n- OK. `enterpriseSession.logoff()` works.\r\n- Suppose I am not having the enterpriseSession object and I am having a `serializedSession` object with me.\r\n- Is there any way to logoff using the `serializedSession` object am having instead of using `enterpriseSession.logoff()`?\r\n","title":"proper session closing from Crystal enterprise server","body":"<p>Can anyone tell the exact way to properly closing the session after login to the Crystal enterprise server?</p>\n<p>Edit after the question was answered by Craig, May 4th, 2011:</p>\n<ul>\n<li>OK. <code>enterpriseSession.logoff()</code> works.</li>\n<li>Suppose I am not having the enterpriseSession object and I am having a <code>serializedSession</code> object with me.</li>\n<li>Is there any way to logoff using the <code>serializedSession</code> object am having instead of using <code>enterpriseSession.logoff()</code>?</li>\n</ul>\n"},{"tags":["java","lambda"],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686922329,"creation_date":1686922329,"question_id":76490703,"body_markdown":"I&#39;m having a problem with this code. I expect it to propagate the `InvalidEntityIdException` to the caller of the `getById` method, but it won&#39;t:\r\n\r\n```java\r\n@Override\r\npublic T getById(String id) throws InvalidEntityIdException {\r\n    return computeInTransaction(txn -&gt; {\r\n        EntityId entityId = parseEntityId(id); // throws but not propagated outside computeInTransaction\r\n        Entity entity = txn.getEntity(entityId);\r\n        Class&lt;T&gt; objClass = getEntityClass();\r\n        if (entity != null) {\r\n            return new Unmarshaller&lt;&gt;(objClass, txn).unmarshal(entity);\r\n        }\r\n        return null;\r\n    });\r\n}\r\n```\r\n\r\n```java\r\nprivate &lt;R&gt; R computeInTransaction(ComputeTransactionWrapper&lt;R&gt; computeTransactionWrapper) {\r\n    return persistentEntityStore.computeInTransaction(txn -&gt; {\r\n        try {\r\n            return computeTransactionWrapper.compute(txn);\r\n        } catch (Exception e) {\r\n            if (txn != null &amp;&amp; !txn.isFinished()) {\r\n                txn.abort();\r\n            }\r\n            sneakyThrow(e);\r\n        } finally {\r\n            if (txn != null) {\r\n                txn.commit();\r\n            }\r\n        }\r\n        return null;\r\n    });\r\n}\r\n```\r\n\r\n```java\r\nprivate static void sneakyThrow(Throwable e) {\r\n    EntityBaseRepository.&lt;RuntimeException&gt;sneakyThrow0(e);\r\n}\r\n\r\nprivate static &lt;T extends Throwable&gt; void sneakyThrow0(Throwable e) throws T {\r\n   throw (T)e;\r\n}\r\n```\r\n\r\nI checked with the debugger on the line pointing to `sneakyThrow(e)`, and it shows `...exceptions.InvalidEntityIdException: Invalid id was supplied: null`. This is as far as the expected `InvalidEntityIdException` goes. Any hints on why this setup won&#39;t work and why the exception won&#39;t propagate?","title":"Propagate exceptions outside of lambda","body":"<p>I'm having a problem with this code. I expect it to propagate the <code>InvalidEntityIdException</code> to the caller of the <code>getById</code> method, but it won't:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic T getById(String id) throws InvalidEntityIdException {\n    return computeInTransaction(txn -&gt; {\n        EntityId entityId = parseEntityId(id); // throws but not propagated outside computeInTransaction\n        Entity entity = txn.getEntity(entityId);\n        Class&lt;T&gt; objClass = getEntityClass();\n        if (entity != null) {\n            return new Unmarshaller&lt;&gt;(objClass, txn).unmarshal(entity);\n        }\n        return null;\n    });\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private &lt;R&gt; R computeInTransaction(ComputeTransactionWrapper&lt;R&gt; computeTransactionWrapper) {\n    return persistentEntityStore.computeInTransaction(txn -&gt; {\n        try {\n            return computeTransactionWrapper.compute(txn);\n        } catch (Exception e) {\n            if (txn != null &amp;&amp; !txn.isFinished()) {\n                txn.abort();\n            }\n            sneakyThrow(e);\n        } finally {\n            if (txn != null) {\n                txn.commit();\n            }\n        }\n        return null;\n    });\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private static void sneakyThrow(Throwable e) {\n    EntityBaseRepository.&lt;RuntimeException&gt;sneakyThrow0(e);\n}\n\nprivate static &lt;T extends Throwable&gt; void sneakyThrow0(Throwable e) throws T {\n   throw (T)e;\n}\n</code></pre>\n<p>I checked with the debugger on the line pointing to <code>sneakyThrow(e)</code>, and it shows <code>...exceptions.InvalidEntityIdException: Invalid id was supplied: null</code>. This is as far as the expected <code>InvalidEntityIdException</code> goes. Any hints on why this setup won't work and why the exception won't propagate?</p>\n"},{"tags":["java","kotlin","jaxb","unmarshalling"],"answers":[{"comments":[{"owner":{"account_id":6430643,"reputation":1854,"user_id":4983983,"accept_rate":60,"display_name":"tryingHard"},"score":0,"creation_date":1687169062,"post_id":76490508,"comment_id":134894418,"body_markdown":"I have tried it but it did not help.\nI have changed logic in code to retrun &quot;errorValue&quot;\n\n   `val factory: DocumentBuilderFactory = DocumentBuilderFactory.newInstance()`\n\n    ```val builder: DocumentBuilder = factory.newDocumentBuilder()\n\n    val document: Document = builder.parse(InputSource(StringReader(xmlString)))\n\n    val rootElement: Element = document.documentElement\n\n    val errorValue: String? =\n\n        rootElement.firstChild.firstChild.attributes.getNamedItem(&quot;error&quot;).nodeValue;\n    return errorValue```","body":"I have tried it but it did not help. I have changed logic in code to retrun &quot;errorValue&quot;     <code>val factory: DocumentBuilderFactory = DocumentBuilderFactory.newInstance()</code>      <code>val builder: DocumentBuilder = factory.newDocumentBuilder()      val document: Document = builder.parse(InputSource(StringReader(xmlString)))      val rootElement: Element = document.documentElement      val errorValue: String? =          rootElement.firstChild.firstChild.attributes.getNamedItem(&quot;e&zwnj;&#8203;rror&quot;).nodeValue;     return errorValue</code>"}],"tags":[],"owner":{"account_id":7058464,"reputation":347,"user_id":5404773,"accept_rate":56,"display_name":"Jurgen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686922033,"creation_date":1686920904,"answer_id":76490508,"question_id":76482175,"body_markdown":"I was having similar issues going from the same version of Jaxb. See [question][1]\r\n\r\nI found my solution was a namespace issue, 2.2.11 is less strict and newer versions of java, spring are all above that.\r\n\r\nIt seems you aren&#39;t setting the correct namespace, `Response` is expecting a `Data` element with namespace `rs` but you&#39;re feeding it `urn:schemas-microsoft-com:rowset` in the sample. \r\n\r\nTry changing:\r\n\r\n`class Response(@XmlElement(name = &quot;data&quot;, namespace = &quot;rs&quot;) val data: Data? = null)`\r\n\r\nTo:\r\n\r\n`class Response(@XmlElement(name = &quot;data&quot;, namespace = &quot;urn:schemas-microsoft-com:rowset&quot;) val data: Data? = null)`\r\n\r\n  [1]: https://stackoverflow.com/questions/76483771/jaxb-error-when-unmarshalling-apache-cxf-soap-response-after-upgrading-from-vers","title":"Jaxb does not valid unmarschall after upgradeing java and springboot","body":"<p>I was having similar issues going from the same version of Jaxb. See <a href=\"https://stackoverflow.com/questions/76483771/jaxb-error-when-unmarshalling-apache-cxf-soap-response-after-upgrading-from-vers\">question</a></p>\n<p>I found my solution was a namespace issue, 2.2.11 is less strict and newer versions of java, spring are all above that.</p>\n<p>It seems you aren't setting the correct namespace, <code>Response</code> is expecting a <code>Data</code> element with namespace <code>rs</code> but you're feeding it <code>urn:schemas-microsoft-com:rowset</code> in the sample.</p>\n<p>Try changing:</p>\n<p><code>class Response(@XmlElement(name = &quot;data&quot;, namespace = &quot;rs&quot;) val data: Data? = null)</code></p>\n<p>To:</p>\n<p><code>class Response(@XmlElement(name = &quot;data&quot;, namespace = &quot;urn:schemas-microsoft-com:rowset&quot;) val data: Data? = null)</code></p>\n"}],"owner":{"account_id":6430643,"reputation":1854,"user_id":4983983,"accept_rate":60,"display_name":"tryingHard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686922033,"creation_date":1686829806,"question_id":76482175,"body_markdown":"I have the same code in `kotlin`:\r\n\r\n    import java.io.ByteArrayInputStream\r\n    import java.io.InputStream\r\n    import java.io.StringReader\r\n    import java.nio.charset.StandardCharsets\r\n    import javax.xml.bind.JAXBContext\r\n    import javax.xml.bind.JAXBElement\r\n    import javax.xml.bind.JAXBException\r\n    import javax.xml.bind.Unmarshaller\r\n    import javax.xml.bind.annotation.*\r\n    \r\n    \r\n    val jaxbContext: JAXBContext = JAXBContext.newInstance(Response::class.java)\r\n    val jaxbUnmarshaller: Unmarshaller = jaxbContext.createUnmarshaller()\r\n\r\n\r\n    @XmlRootElement(name = &quot;xml&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    data class Response(@XmlElement(name = &quot;data&quot;, namespace = &quot;rs&quot;) val data: Data? = null)\r\n    data class Data(@field:XmlElement(name = &quot;Row&quot;) val row: MutableList&lt;Row&gt;? = null)\r\n    data class Row(@XmlAttribute val error: String? = null)\r\n\r\nThe method for unmarschalling\r\n\r\n    fun umarshallAsSimpleResponse(xmlString: String): Response {\r\n        val reader = StringReader(xmlString)\r\n        return jaxbUnmarshaller.unmarshal(reader) as Response\r\n    }\r\n\r\nThe input (`xmlString`) is the same as before:\r\n\r\n      &lt;xml xmlns:s=&#39;uuid:BDC6E3FO-6DA3-1ldl-A2A3-00AA00C14882&#39; xmlns:dt=&#39;uuid:C2F41010-6583-1ldl-429F-OOAAOOC14882&#39;\r\n        xmlns:rs=&#39;urn:schemas-microsoft-com:rowset&#39; xmlns:z=&#39;#Rowsetschema&#39;&gt;\r\n        &lt;rs:data&gt;\r\n            &lt;Row error=&quot;0&quot; Usl=&quot; &quot; Data=&quot; &quot; Przedz=&quot; &quot; Cena=&quot; &quot; Ilosc=&quot;0&quot; Konto=&quot; &quot;\r\n            errorMessage=&quot;Status został zmieniony.&quot;&gt;&lt;/Row&gt;\r\n        &lt;/rs:data&gt;\r\n      &lt;/xml&gt;\r\n\r\n\r\nBut before upgrading to java 17 and newer SpringBoot\r\nthe result was:\r\n \r\n\r\n    Data(row=[Row(error=0)])\r\n\r\nNow the result is:\r\n\r\n    Response(data=null)\r\n\r\nWhat changed is jaxb library in `gradle`:\r\n\r\nbefore it was: `com.sun.xml.bind/jaxb-impl/2.2.11-xsd-doc-0.2.0`\r\nnow to make it work with java-17 it is: `org.glassfish.jaxb/jaxb-runtime/2.3.7/`\r\n\r\nHow can I make it work with the new library ?\r\nI think that this functionality has to work with new library as well as the old one. It&#39;s pretty standard functionality.","title":"Jaxb does not valid unmarschall after upgradeing java and springboot","body":"<p>I have the same code in <code>kotlin</code>:</p>\n<pre><code>import java.io.ByteArrayInputStream\nimport java.io.InputStream\nimport java.io.StringReader\nimport java.nio.charset.StandardCharsets\nimport javax.xml.bind.JAXBContext\nimport javax.xml.bind.JAXBElement\nimport javax.xml.bind.JAXBException\nimport javax.xml.bind.Unmarshaller\nimport javax.xml.bind.annotation.*\n\n\nval jaxbContext: JAXBContext = JAXBContext.newInstance(Response::class.java)\nval jaxbUnmarshaller: Unmarshaller = jaxbContext.createUnmarshaller()\n\n\n@XmlRootElement(name = &quot;xml&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\ndata class Response(@XmlElement(name = &quot;data&quot;, namespace = &quot;rs&quot;) val data: Data? = null)\ndata class Data(@field:XmlElement(name = &quot;Row&quot;) val row: MutableList&lt;Row&gt;? = null)\ndata class Row(@XmlAttribute val error: String? = null)\n</code></pre>\n<p>The method for unmarschalling</p>\n<pre><code>fun umarshallAsSimpleResponse(xmlString: String): Response {\n    val reader = StringReader(xmlString)\n    return jaxbUnmarshaller.unmarshal(reader) as Response\n}\n</code></pre>\n<p>The input (<code>xmlString</code>) is the same as before:</p>\n<pre><code>  &lt;xml xmlns:s='uuid:BDC6E3FO-6DA3-1ldl-A2A3-00AA00C14882' xmlns:dt='uuid:C2F41010-6583-1ldl-429F-OOAAOOC14882'\n    xmlns:rs='urn:schemas-microsoft-com:rowset' xmlns:z='#Rowsetschema'&gt;\n    &lt;rs:data&gt;\n        &lt;Row error=&quot;0&quot; Usl=&quot; &quot; Data=&quot; &quot; Przedz=&quot; &quot; Cena=&quot; &quot; Ilosc=&quot;0&quot; Konto=&quot; &quot;\n        errorMessage=&quot;Status został zmieniony.&quot;&gt;&lt;/Row&gt;\n    &lt;/rs:data&gt;\n  &lt;/xml&gt;\n</code></pre>\n<p>But before upgrading to java 17 and newer SpringBoot\nthe result was:</p>\n<pre><code>Data(row=[Row(error=0)])\n</code></pre>\n<p>Now the result is:</p>\n<pre><code>Response(data=null)\n</code></pre>\n<p>What changed is jaxb library in <code>gradle</code>:</p>\n<p>before it was: <code>com.sun.xml.bind/jaxb-impl/2.2.11-xsd-doc-0.2.0</code>\nnow to make it work with java-17 it is: <code>org.glassfish.jaxb/jaxb-runtime/2.3.7/</code></p>\n<p>How can I make it work with the new library ?\nI think that this functionality has to work with new library as well as the old one. It's pretty standard functionality.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1686921859,"post_id":76490617,"comment_id":134868939,"body_markdown":"Why did you put it in sub directory WEB-INF? It should be in resources/templates","body":"Why did you put it in sub directory WEB-INF? It should be in resources/templates"},{"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"score":0,"creation_date":1686922927,"post_id":76490617,"comment_id":134869176,"body_markdown":"follow the standard way, put views in  resources/templates","body":"follow the standard way, put views in  resources/templates"}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686921904,"creation_date":1686921904,"answer_id":76490661,"question_id":76490617,"body_markdown":"Short answer: Don&#39;t store your files in the WEB-INF directory.\r\n\r\nNote the part in bold below.\r\n\r\nFrom the Servlet 2.4 Spec: The WEB-INF node is not part of the public document tree of the application. **No file contained in the WEB-INF directory may be served directly to a client by the container.**\r\n\r\n\r\nThis is an excerpt from: https://stackoverflow.com/questions/19786142/what-is-web-inf-used-for-in-a-java-ee-web-application","title":"Spring Boot cant detect html files (Path with &quot;WEB-INF&quot; or &quot;META-INF)","body":"<p>Short answer: Don't store your files in the WEB-INF directory.</p>\n<p>Note the part in bold below.</p>\n<p>From the Servlet 2.4 Spec: The WEB-INF node is not part of the public document tree of the application. <strong>No file contained in the WEB-INF directory may be served directly to a client by the container.</strong></p>\n<p>This is an excerpt from: <a href=\"https://stackoverflow.com/questions/19786142/what-is-web-inf-used-for-in-a-java-ee-web-application\">What is WEB-INF used for in a Java EE web application?</a></p>\n"}],"owner":{"account_id":25897123,"reputation":57,"user_id":19623540,"display_name":"Shadow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76490661,"answer_count":1,"score":0,"last_activity_date":1686921904,"creation_date":1686921653,"question_id":76490617,"body_markdown":"I&#39;m using Spring Boot and running the webapp on the embedded Tomcat server \r\n\r\nI got this error: &quot;o.s.w.s.r.ResourceHttpRequestHandler     : &quot;Path with &quot;WEB-INF&quot; or &quot;META-INF&quot;: [static/WEB-INF/views/loginPage.html]&quot;&quot; \r\n\r\nHere&#39;s my controller:\r\n```\r\n@Controller\r\npublic class GreetingsController {\r\n\r\n    @GetMapping(value = &quot;/&quot;)\r\n    public String greetingText() {\r\n        return &quot;loginPage&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\napplication.properties:\r\n```\r\nserver.address=0.0.0.0\r\nserver.port=8080\r\n    \r\nspring.mvc.view.prefix= /static/WEB-INF/views/\r\nspring.mvc.view.suffix=.html\r\n```\r\n\r\nProject structure:\r\n\r\n[![enter image description here][1]][1]\r\n* webapp folder is empty\r\n\r\nI&#39;m confident that I have most necessary dependencies installed (Jasper, Spring Boot, Thymeleaf,..). I have done a good amount of searching on my own\r\n\r\nPlease do note that I have also tried moving the WEB-INF folder to the webapp and changing the view prefix accordingly, however, it did not come to fruition\r\n\r\n  [1]: https://i.stack.imgur.com/CSNhf.png","title":"Spring Boot cant detect html files (Path with &quot;WEB-INF&quot; or &quot;META-INF)","body":"<p>I'm using Spring Boot and running the webapp on the embedded Tomcat server</p>\n<p>I got this error: &quot;o.s.w.s.r.ResourceHttpRequestHandler     : &quot;Path with &quot;WEB-INF&quot; or &quot;META-INF&quot;: [static/WEB-INF/views/loginPage.html]&quot;&quot;</p>\n<p>Here's my controller:</p>\n<pre><code>@Controller\npublic class GreetingsController {\n\n    @GetMapping(value = &quot;/&quot;)\n    public String greetingText() {\n        return &quot;loginPage&quot;;\n    }\n}\n\n</code></pre>\n<p>application.properties:</p>\n<pre><code>server.address=0.0.0.0\nserver.port=8080\n    \nspring.mvc.view.prefix= /static/WEB-INF/views/\nspring.mvc.view.suffix=.html\n</code></pre>\n<p>Project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/CSNhf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CSNhf.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>webapp folder is empty</li>\n</ul>\n<p>I'm confident that I have most necessary dependencies installed (Jasper, Spring Boot, Thymeleaf,..). I have done a good amount of searching on my own</p>\n<p>Please do note that I have also tried moving the WEB-INF folder to the webapp and changing the view prefix accordingly, however, it did not come to fruition</p>\n"},{"tags":["java","android","nullpointerexception"],"comments":[{"owner":{"account_id":13026443,"reputation":1264,"user_id":9414294,"display_name":"Antonio"},"score":0,"creation_date":1561816791,"post_id":56817825,"comment_id":100189462,"body_markdown":"how are you getting the image and setting it to the view?","body":"how are you getting the image and setting it to the view?"},{"owner":{"account_id":7757150,"reputation":906,"user_id":5871026,"display_name":"Reza"},"score":0,"creation_date":1562341350,"post_id":56817825,"comment_id":100356631,"body_markdown":"@Antonio imageView.setImageDrawable(applicationInfo.loadIcon(context.getPackageManager()));","body":"@Antonio imageView.setImageDrawable(applicationInfo.loadIcon(context.&zwnj;&#8203;getPackageManager())&zwnj;&#8203;);"},{"owner":{"account_id":2246130,"reputation":614,"user_id":1979428,"display_name":"chjarder"},"score":0,"creation_date":1565763468,"post_id":56817825,"comment_id":101448532,"body_markdown":"This is related to https://stackoverflow.com/questions/52132029/exception-at-android-graphics-drawable-adaptiveicondrawable-isprojected-in-andr?noredirect=1&amp;lq=1. As per the link https://stackoverflow.com/questions/44447056/convert-adaptiveicondrawable-to-bitmap-in-android-o-preview that OP posted in the comments, the solution he found was to convert the `AdaptiveIconDrawable` to `Bitmap` which you can then use to create a `BitmapDrawable` if you wish to have `Drawable` objects.","body":"This is related to <a href=\"https://stackoverflow.com/questions/52132029/exception-at-android-graphics-drawable-adaptiveicondrawable-isprojected-in-andr?noredirect=1&amp;lq=1\" title=\"exception at android graphics drawable adaptiveicondrawable isprojected in andr\">stackoverflow.com/questions/52132029/&hellip;</a>. As per the link <a href=\"https://stackoverflow.com/questions/44447056/convert-adaptiveicondrawable-to-bitmap-in-android-o-preview\" title=\"convert adaptiveicondrawable to bitmap in android o preview\">stackoverflow.com/questions/44447056/&hellip;</a> that OP posted in the comments, the solution he found was to convert the <code>AdaptiveIconDrawable</code> to <code>Bitmap</code> which you can then use to create a <code>BitmapDrawable</code> if you wish to have <code>Drawable</code> objects."}],"answers":[{"tags":[],"owner":{"account_id":6097613,"reputation":1,"user_id":9640177,"display_name":"Mayank Kumar Chaudhari"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1585560498,"creation_date":1585560498,"answer_id":60927567,"question_id":56817825,"body_markdown":"I was getting the same error and I found that removing `&lt;item android:drawable=&quot;?attr/selectableItemBackground&quot; /&gt;` solved the issue.","title":"android.graphics.drawable.Drawable.isProjected()&#39; on a null object reference","body":"<p>I was getting the same error and I found that removing <code>&lt;item android:drawable=\"?attr/selectableItemBackground\" /&gt;</code> solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":1430835,"reputation":965,"user_id":1353292,"display_name":"4emodan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686921875,"creation_date":1686921875,"answer_id":76490653,"question_id":56817825,"body_markdown":"I had the same issue with adaptive icons for the SplashScreen API on Android 8 phones. The reason was that I had only `&lt;foreground&gt;` defined in the drawable and not `&lt;background&gt;`. So you need to define both, e.g:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;adaptive-icon xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;foreground android:drawable=&quot;@drawable/ic_splashscreen_fg&quot;/&gt;\r\n    &lt;background android:drawable=&quot;@drawable/ic_splashscreen_bg&quot;/&gt;\r\n&lt;/adaptive-icon&gt;\r\n```","title":"android.graphics.drawable.Drawable.isProjected()&#39; on a null object reference","body":"<p>I had the same issue with adaptive icons for the SplashScreen API on Android 8 phones. The reason was that I had only <code>&lt;foreground&gt;</code> defined in the drawable and not <code>&lt;background&gt;</code>. So you need to define both, e.g:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;adaptive-icon xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;foreground android:drawable=&quot;@drawable/ic_splashscreen_fg&quot;/&gt;\n    &lt;background android:drawable=&quot;@drawable/ic_splashscreen_bg&quot;/&gt;\n&lt;/adaptive-icon&gt;\n</code></pre>\n"}],"owner":{"account_id":7757150,"reputation":906,"user_id":5871026,"display_name":"Reza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3482,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1686921875,"creation_date":1561813859,"question_id":56817825,"body_markdown":"I have an application that loads users installed applications and shows the list inside recyclerview (App name &amp; icon).\r\nThis exception is thrown on android 8+ devices and also not on all device models (mostly on Samsung and Huawei devices)\r\n\r\n    View.java line 19595\r\n    android.view.View.getDrawableRenderNode\r\n\r\n    Fatal Exception: java.lang.NullPointerException\r\n    Attempt to invoke virtual method &#39;boolean android.graphics.drawable.Drawable.isProjected()&#39; on a null object reference\r\n    android.graphics.drawable.AdaptiveIconDrawable.isProjected + 551 (AdaptiveIconDrawable.java:551)\r\n    android.view.View.getDrawableRenderNode + 19595 (View.java:19595)\r\n    android.view.View.drawBackground + 19524 (View.java:19524)\r\n    com.android.internal.os.ZygoteInit.main + 857 (ZygoteInit.java:857)\r\n\r\nIts the exception log from fabric.\r\nAny help would be appreciated.","title":"android.graphics.drawable.Drawable.isProjected()&#39; on a null object reference","body":"<p>I have an application that loads users installed applications and shows the list inside recyclerview (App name &amp; icon).\nThis exception is thrown on android 8+ devices and also not on all device models (mostly on Samsung and Huawei devices)</p>\n\n<pre><code>View.java line 19595\nandroid.view.View.getDrawableRenderNode\n\nFatal Exception: java.lang.NullPointerException\nAttempt to invoke virtual method 'boolean android.graphics.drawable.Drawable.isProjected()' on a null object reference\nandroid.graphics.drawable.AdaptiveIconDrawable.isProjected + 551 (AdaptiveIconDrawable.java:551)\nandroid.view.View.getDrawableRenderNode + 19595 (View.java:19595)\nandroid.view.View.drawBackground + 19524 (View.java:19524)\ncom.android.internal.os.ZygoteInit.main + 857 (ZygoteInit.java:857)\n</code></pre>\n\n<p>Its the exception log from fabric.\nAny help would be appreciated.</p>\n"},{"tags":["java","android","xml","user-interface"],"answers":[{"tags":[],"owner":{"account_id":3804167,"reputation":1518,"user_id":3157020,"display_name":"SergeyBukarev"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1527885341,"creation_date":1527884588,"answer_id":50650555,"question_id":50650227,"body_markdown":"Possibly because your image resource density does not fit your screen density.\r\nCheck that your image resource files have correctly located in folders (mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi). The smallest image is located in the mdpi folder, and in the xxxhdpi folder is the biggest.\r\nMake sure that you have a division of same picture of different sizes into folders (mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi) by image size.\r\n\r\n**Image size ratios :** \r\n\r\n1) image in mdpi folder is 1dp == 1px\r\n\r\n2) image in hdpi folder is 1dp == 1.5px \r\n\r\n3) image in xhdpi folder is 1dp == 2px \r\n\r\n4) image in xxhdpi folder is 1dp == 3px \r\n\r\nResize largest image by that ratios and place in correct folder ","title":"In Android studio, all my icons are blurry and I can&#39;t figure out why","body":"<p>Possibly because your image resource density does not fit your screen density.\nCheck that your image resource files have correctly located in folders (mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi). The smallest image is located in the mdpi folder, and in the xxxhdpi folder is the biggest.\nMake sure that you have a division of same picture of different sizes into folders (mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi) by image size.</p>\n\n<p><strong>Image size ratios :</strong> </p>\n\n<p>1) image in mdpi folder is 1dp == 1px</p>\n\n<p>2) image in hdpi folder is 1dp == 1.5px </p>\n\n<p>3) image in xhdpi folder is 1dp == 2px </p>\n\n<p>4) image in xxhdpi folder is 1dp == 3px </p>\n\n<p>Resize largest image by that ratios and place in correct folder </p>\n"},{"tags":[],"owner":{"account_id":12165163,"reputation":169,"user_id":8881676,"display_name":"K.vijaiarivalagan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597728568,"creation_date":1595678041,"answer_id":63088012,"question_id":50650227,"body_markdown":"I also have the same problem. I resolve it by using svg format icons.\r\nUse Icon in svg format rather png. PNG formats are not good for smaller icons. The density of icon is change device to device. So use SVG format will solution to this problem.\r\n\r\nIf you create icons as mipmap, It may not accessible in many places like drawableleft in edittext. so in this places svg formated icons are the best solution.","title":"In Android studio, all my icons are blurry and I can&#39;t figure out why","body":"<p>I also have the same problem. I resolve it by using svg format icons.\nUse Icon in svg format rather png. PNG formats are not good for smaller icons. The density of icon is change device to device. So use SVG format will solution to this problem.</p>\n<p>If you create icons as mipmap, It may not accessible in many places like drawableleft in edittext. so in this places svg formated icons are the best solution.</p>\n"},{"tags":[],"owner":{"account_id":26932146,"reputation":1,"user_id":20504383,"display_name":"Touqeer Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686920952,"creation_date":1686920952,"answer_id":76490515,"question_id":50650227,"body_markdown":"Try to use vector drawables in other words SVG icons and if you have to use PNG then don&#39;t forget to make it 9-patch and for your launcher icons you can use mipmaps","title":"In Android studio, all my icons are blurry and I can&#39;t figure out why","body":"<p>Try to use vector drawables in other words SVG icons and if you have to use PNG then don't forget to make it 9-patch and for your launcher icons you can use mipmaps</p>\n"}],"owner":{"account_id":12610951,"reputation":71,"user_id":9170112,"display_name":"Sam Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2091,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50650555,"answer_count":3,"score":1,"last_activity_date":1686920952,"creation_date":1527882891,"question_id":50650227,"body_markdown":"In Android Studio, my app icons are coming out blurry and I can not figure out why. I made all my icons in sketch. Does anyone have a step by step process they follow when uploading icons to make sure they are clear and nice looking for all phone sizes?\r\n\r\nHere&#39;s a link to what my screen looks like:\r\nhttps://i.stack.imgur.com/CgoGV.jpg\r\n\r\nHere&#39;s my code for my XML files:\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;com.example.leoconnelly.connexus.MainActivity&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/ll_learn&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_gravity=&quot;center_vertical&quot;\r\n        android:layout_weight=&quot;1&quot;&gt;\r\n\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/learn&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            android:src=&quot;@mipmap/learn_tab_button&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:padding=&quot;0dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;@string/learn&quot;\r\n            android:textSize=&quot;22sp&quot;\r\n           /&gt;\r\n\r\n\r\n\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/ll_find_care&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_gravity=&quot;center_vertical&quot;&gt;\r\n\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/find_care_button&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            android:src=&quot;@mipmap/find_care_layer_button&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:padding=&quot;0dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;@string/learn&quot;\r\n            android:textSize=&quot;22sp&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/ll_talk_to_doctor&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_gravity=&quot;center_vertical&quot;&gt;\r\n\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/TalkToADocButton&quot;\r\n\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            android:src=&quot;@mipmap/talk_to_a_doctor_new_font_button&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:padding=&quot;0dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:textSize=&quot;22sp&quot; /&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/ll_visit_website&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_gravity=&quot;center_vertical&quot;&gt;\r\n\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/VisitWeb&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n\r\n            android:src=&quot;@mipmap/visit_web_icon_new_font_button&quot;\r\n\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:padding=&quot;0dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:textSize=&quot;22sp&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n","title":"In Android studio, all my icons are blurry and I can&#39;t figure out why","body":"<p>In Android Studio, my app icons are coming out blurry and I can not figure out why. I made all my icons in sketch. Does anyone have a step by step process they follow when uploading icons to make sure they are clear and nice looking for all phone sizes?</p>\n\n<p>Here's a link to what my screen looks like:\n<a href=\"https://i.stack.imgur.com/CgoGV.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/CgoGV.jpg</a></p>\n\n<p>Here's my code for my XML files:</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:orientation=\"vertical\"\ntools:context=\"com.example.leoconnelly.connexus.MainActivity\"&gt;\n\n&lt;LinearLayout\n    android:id=\"@+id/ll_learn\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_gravity=\"center_vertical\"\n    android:layout_weight=\"1\"&gt;\n\n    &lt;ImageButton\n        android:id=\"@+id/learn\"\n        android:layout_width=\"match_parent\"\n        android:scaleType=\"centerCrop\"\n        android:src=\"@mipmap/learn_tab_button\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"center_vertical\"\n        android:padding=\"0dp\"\n        android:layout_weight=\"1\"\n        android:text=\"@string/learn\"\n        android:textSize=\"22sp\"\n       /&gt;\n\n\n\n\n\n&lt;/LinearLayout&gt;\n\n&lt;LinearLayout\n    android:id=\"@+id/ll_find_care\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"1\"\n    android:layout_gravity=\"center_vertical\"&gt;\n\n    &lt;ImageButton\n        android:id=\"@+id/find_care_button\"\n        android:layout_width=\"match_parent\"\n        android:scaleType=\"centerCrop\"\n        android:src=\"@mipmap/find_care_layer_button\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"center_vertical\"\n        android:padding=\"0dp\"\n        android:layout_weight=\"1\"\n        android:text=\"@string/learn\"\n        android:textSize=\"22sp\" /&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;LinearLayout\n    android:id=\"@+id/ll_talk_to_doctor\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"1\"\n    android:layout_gravity=\"center_vertical\"&gt;\n\n    &lt;ImageButton\n        android:id=\"@+id/TalkToADocButton\"\n\n        android:layout_width=\"match_parent\"\n        android:scaleType=\"centerCrop\"\n        android:src=\"@mipmap/talk_to_a_doctor_new_font_button\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"center_vertical\"\n        android:padding=\"0dp\"\n        android:layout_weight=\"1\"\n        android:textSize=\"22sp\" /&gt;\n\n\n&lt;/LinearLayout&gt;\n\n&lt;LinearLayout\n    android:id=\"@+id/ll_visit_website\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"1\"\n    android:layout_gravity=\"center_vertical\"&gt;\n\n    &lt;ImageButton\n        android:id=\"@+id/VisitWeb\"\n        android:layout_width=\"match_parent\"\n        android:scaleType=\"centerCrop\"\n\n        android:src=\"@mipmap/visit_web_icon_new_font_button\"\n\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"center_vertical\"\n        android:padding=\"0dp\"\n        android:layout_weight=\"1\"\n        android:textSize=\"22sp\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","sqlite","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":10326336,"reputation":74,"user_id":7617697,"accept_rate":80,"display_name":"olizimmermann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490115771,"creation_date":1490115771,"answer_id":42933732,"question_id":42933570,"body_markdown":"I think you should check the connection to your database. \r\n\r\n    url - a database url of the form jdbc:subprotocol:subname\r\n\r\n\r\nCheck the Api \r\nhttps://docs.oracle.com/javase/7/docs/api/java/sql/DriverManager.html#getConnection(java.lang.String)\r\n\r\nDid you add the ODBC correct?\r\n\r\n","title":"No data sources are configured to run this SQL","body":"<p>I think you should check the connection to your database. </p>\n\n<pre><code>url - a database url of the form jdbc:subprotocol:subname\n</code></pre>\n\n<p>Check the Api \n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/DriverManager.html#getConnection(java.lang.String)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/sql/DriverManager.html#getConnection(java.lang.String)</a></p>\n\n<p>Did you add the ODBC correct?</p>\n"},{"comments":[{"owner":{"account_id":10292112,"reputation":327,"user_id":7593571,"display_name":"Ingialldus"},"score":0,"creation_date":1490172682,"post_id":42934705,"comment_id":72989060,"body_markdown":"Ahh ok. Thank you very much! That&#39;s what I was searching.","body":"Ahh ok. Thank you very much! That&#39;s what I was searching."}],"tags":[],"owner":{"account_id":3418535,"reputation":856,"user_id":2866793,"display_name":"Tomasz Jagiełło"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1566797311,"creation_date":1490118846,"answer_id":42934705,"question_id":42933570,"body_markdown":"This warning indicates that you have not configured data source in Database Tool Window in Intellij Idea. It doesn&#39;t mean that your code is wrong, it just shows that you don&#39;t have code completion based on your database schema.\r\n\r\nConfiguration of datasource in Intellij is described here https://www.jetbrains.com/help/idea/database-tool-window.html","title":"No data sources are configured to run this SQL","body":"<p>This warning indicates that you have not configured data source in Database Tool Window in Intellij Idea. It doesn't mean that your code is wrong, it just shows that you don't have code completion based on your database schema.</p>\n\n<p>Configuration of datasource in Intellij is described here <a href=\"https://www.jetbrains.com/help/idea/database-tool-window.html\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/database-tool-window.html</a></p>\n"},{"comments":[{"owner":{"account_id":160296,"reputation":1259,"user_id":380247,"accept_rate":100,"display_name":"Igor Mikushkin"},"score":5,"creation_date":1584828005,"post_id":49031494,"comment_id":107559608,"body_markdown":"Actually these days you need to disable as well Inspections -&gt; SQL -&gt; No data sources configured","body":"Actually these days you need to disable as well Inspections -&gt; SQL -&gt; No data sources configured"},{"owner":{"account_id":9223337,"reputation":2550,"user_id":6851904,"display_name":"dontknowhy"},"score":0,"creation_date":1667831841,"post_id":49031494,"comment_id":131255161,"body_markdown":"This should be an answer","body":"This should be an answer"}],"tags":[],"owner":{"account_id":5196485,"reputation":14200,"user_id":4157589,"accept_rate":100,"display_name":"valdeci"},"comment_count":2,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1686920754,"creation_date":1519826953,"answer_id":49031494,"question_id":42933570,"body_markdown":"The message:\r\n&gt;No data sources are configured to run this SQL and provide advanced code assistance. \r\n\r\nis a little explicit and IMHO a little unnecessary, because I really think that I don&#39;t need to configure a database for every project in which we have some SQL queries.\r\n\r\nTo handle this message, you have two options:\r\n\r\n 1. Configure a **Data Source** to your project, using the &lt;kbd&gt;ALT&lt;/kbd&gt; + &lt;kbd&gt;ENTER&lt;/kbd&gt; above the message and using the option *Configure a Data Source*:\r\n[![Add a data source][1]][1]\r\n\r\nor\r\n\r\n 2. Disable this *SQL dialect detection* inspection on the Inspection options on the IDE settings:\r\n\r\n [![Disable the SQL dialect detection][2]][2]\r\n\r\nYou may need to disable as well **No data sources configured** inspection on:\r\n\r\n`Inspections -&gt; SQL -&gt; No data sources configured`\r\n\r\n\r\nThe second option is the best approach for me unless you really want or need a Data Source in your project.\r\n\r\n  [1]: https://i.stack.imgur.com/nYC6O.png\r\n  [2]: https://i.stack.imgur.com/q2KZp.png","title":"No data sources are configured to run this SQL","body":"<p>The message:</p>\n<blockquote>\n<p>No data sources are configured to run this SQL and provide advanced code assistance.</p>\n</blockquote>\n<p>is a little explicit and IMHO a little unnecessary, because I really think that I don't need to configure a database for every project in which we have some SQL queries.</p>\n<p>To handle this message, you have two options:</p>\n<ol>\n<li>Configure a <strong>Data Source</strong> to your project, using the <kbd>ALT</kbd> + <kbd>ENTER</kbd> above the message and using the option <em>Configure a Data Source</em>:\n<a href=\"https://i.stack.imgur.com/nYC6O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nYC6O.png\" alt=\"Add a data source\" /></a></li>\n</ol>\n<p>or</p>\n<ol start=\"2\">\n<li>Disable this <em>SQL dialect detection</em> inspection on the Inspection options on the IDE settings:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/q2KZp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q2KZp.png\" alt=\"Disable the SQL dialect detection\" /></a></p>\n<p>You may need to disable as well <strong>No data sources configured</strong> inspection on:</p>\n<p><code>Inspections -&gt; SQL -&gt; No data sources configured</code></p>\n<p>The second option is the best approach for me unless you really want or need a Data Source in your project.</p>\n"},{"tags":[],"owner":{"account_id":4806468,"reputation":3469,"user_id":3881354,"accept_rate":75,"display_name":"Elyas Hadizadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1614844238,"creation_date":1614844238,"answer_id":66470666,"question_id":42933570,"body_markdown":"The IntelliJ Idea is an intelligent IDE, and sometimes need some configurations that can help you soon.\r\n\r\n&gt; No data sources are configured to run this SQL and provide advanced\r\n&gt; code assistance\r\n\r\nThe above-mentioned warning will never affect your application and you can easily skip it, but by setting the data source you can take advantage of IntelliJ&#39;s [Database tools and SQL][1]﻿ outstanding features.\r\n\r\nTo set the data-source follow View Tools Window Database and then click the Data Source Properties button. In the shown window select your database and fill in the required text fields.\r\n\r\nThe demonstration of steps are shown in the following GIF:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/relational-databases.html\r\n  [2]: https://i.stack.imgur.com/gIKZ5.gif","title":"No data sources are configured to run this SQL","body":"<p>The IntelliJ Idea is an intelligent IDE, and sometimes need some configurations that can help you soon.</p>\n<blockquote>\n<p>No data sources are configured to run this SQL and provide advanced\ncode assistance</p>\n</blockquote>\n<p>The above-mentioned warning will never affect your application and you can easily skip it, but by setting the data source you can take advantage of IntelliJ's <a href=\"https://www.jetbrains.com/help/idea/relational-databases.html\" rel=\"noreferrer\">Database tools and SQL</a>﻿ outstanding features.</p>\n<p>To set the data-source follow View Tools Window Database and then click the Data Source Properties button. In the shown window select your database and fill in the required text fields.</p>\n<p>The demonstration of steps are shown in the following GIF:</p>\n<p><a href=\"https://i.stack.imgur.com/gIKZ5.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gIKZ5.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":28177331,"reputation":1,"user_id":21534929,"display_name":"jccbc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680775364,"creation_date":1680539901,"answer_id":75921802,"question_id":42933570,"body_markdown":"I disable the *no data sources configured*, and I set a *ignore* option, no warning shows up.\r\nsetting -&gt; Inspections -&gt; no data sources configured -&gt; +\r\n\r\n[pycharm setting][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2zg3x.png","title":"No data sources are configured to run this SQL","body":"<p>I disable the <em>no data sources configured</em>, and I set a <em>ignore</em> option, no warning shows up.\nsetting -&gt; Inspections -&gt; no data sources configured -&gt; +</p>\n<p><a href=\"https://i.stack.imgur.com/2zg3x.png\" rel=\"nofollow noreferrer\">pycharm setting</a></p>\n"}],"owner":{"account_id":10292112,"reputation":327,"user_id":7593571,"display_name":"Ingialldus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61926,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":42934705,"answer_count":5,"score":31,"last_activity_date":1686920754,"creation_date":1490115356,"question_id":42933570,"body_markdown":"I have a little problem with the creation of a table (for a database) in Java.\r\n\r\nCurrently, I&#39;m using IntelliJ IDEA and when I write the code for creating a table the text is highlighted in yellow and when I look to the problem I see the following message:\r\n\r\n**&quot;No data sources are configured to run this SQL and provide advanced code assistance. Disable this inspection via problem menu (⌥⏎).&quot;**\r\n\r\nI tried with changing the SQL dialect (because before there was also that message that appeared) without result.\r\n\r\nWhat should I do? I wrote something wrong in the code but I don&#39;t know why whit other example work perfectly.\r\n\r\nHere&#39;s the code:\r\n\r\n    public static void createTable(){\r\n\r\n        //connect to database\r\n        String url = percorsoDatabase;\r\n\r\n        //Statement create new table\r\n        String sql = &quot;CREATE TABLE IF NOT EXISTS Tabella (id PRIMARY KEY,&quot; +\r\n                &quot;video TEXT,&quot; +\r\n                &quot;game TEXT,&quot; +\r\n                &quot;firstAction TEXT,&quot; +\r\n                &quot;secondAction TEXT,&quot; +\r\n                &quot;thirdAction TEXT);&quot;;\r\n\r\n        try {\r\n            Connection conn = DriverManager.getConnection(url);\r\n            Statement stmt = conn.createStatement();\r\n            stmt.execute(sql);\r\n        } catch (SQLException e ){\r\n                System.out.println(e.getMessage());\r\n        }\r\n\r\n    }\r\n\r\nI&#39;ve already create a SQLite database and established a connection that works (before that), here&#39;s the code if it could be useful.\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        createNewDatabase();\r\n        connection();\r\n        createTable();\r\n    }\r\n\r\n    public static void createNewDatabase(){\r\n\r\n        String url = percorsoDatabase;\r\n\r\n        Connection conn;\r\n        try {\r\n\r\n         conn = DriverManager.getConnection(url);\r\n            if (conn != null){\r\n                DatabaseMetaData meta = conn.getMetaData();\r\n                System.out.println(&quot;The driver name is&quot; + meta.getDriverName());\r\n                System.out.println(&quot;A new database has been created.&quot;);\r\n            }\r\n        } catch (SQLException e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n\r\n    }\r\n\r\n    public static void connection(){\r\n\r\n        Connection conn = null;\r\n        try {\r\n            //String url = &quot;jdbc:sqlite://Volumes/Isma/Documenti/SUPSI/APA/Stage/&quot;\r\n            //        + &quot;Beans/esperimento/dati.db&quot;;\r\n            conn = DriverManager.getConnection(percorsoDatabase);\r\n            System.out.println(&quot;Connection to SQLite established.&quot;);\r\n        } catch (SQLException e){\r\n            System.out.println(e.getMessage());\r\n        } finally {\r\n            try {\r\n                if (conn != null){\r\n                    conn.close();\r\n                }\r\n            } catch (SQLException e){\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n So... If you can help me I would be grateful.\r\n\r\nThanks in advance for the answer and have a nice day!","title":"No data sources are configured to run this SQL","body":"<p>I have a little problem with the creation of a table (for a database) in Java.</p>\n\n<p>Currently, I'm using IntelliJ IDEA and when I write the code for creating a table the text is highlighted in yellow and when I look to the problem I see the following message:</p>\n\n<p><strong>\"No data sources are configured to run this SQL and provide advanced code assistance. Disable this inspection via problem menu (⌥⏎).\"</strong></p>\n\n<p>I tried with changing the SQL dialect (because before there was also that message that appeared) without result.</p>\n\n<p>What should I do? I wrote something wrong in the code but I don't know why whit other example work perfectly.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>public static void createTable(){\n\n    //connect to database\n    String url = percorsoDatabase;\n\n    //Statement create new table\n    String sql = \"CREATE TABLE IF NOT EXISTS Tabella (id PRIMARY KEY,\" +\n            \"video TEXT,\" +\n            \"game TEXT,\" +\n            \"firstAction TEXT,\" +\n            \"secondAction TEXT,\" +\n            \"thirdAction TEXT);\";\n\n    try {\n        Connection conn = DriverManager.getConnection(url);\n        Statement stmt = conn.createStatement();\n        stmt.execute(sql);\n    } catch (SQLException e ){\n            System.out.println(e.getMessage());\n    }\n\n}\n</code></pre>\n\n<p>I've already create a SQLite database and established a connection that works (before that), here's the code if it could be useful.</p>\n\n<pre><code>public static void main(String[] args) {\n\n    createNewDatabase();\n    connection();\n    createTable();\n}\n\npublic static void createNewDatabase(){\n\n    String url = percorsoDatabase;\n\n    Connection conn;\n    try {\n\n     conn = DriverManager.getConnection(url);\n        if (conn != null){\n            DatabaseMetaData meta = conn.getMetaData();\n            System.out.println(\"The driver name is\" + meta.getDriverName());\n            System.out.println(\"A new database has been created.\");\n        }\n    } catch (SQLException e){\n        System.out.println(e.getMessage());\n    }\n\n}\n\npublic static void connection(){\n\n    Connection conn = null;\n    try {\n        //String url = \"jdbc:sqlite://Volumes/Isma/Documenti/SUPSI/APA/Stage/\"\n        //        + \"Beans/esperimento/dati.db\";\n        conn = DriverManager.getConnection(percorsoDatabase);\n        System.out.println(\"Connection to SQLite established.\");\n    } catch (SQLException e){\n        System.out.println(e.getMessage());\n    } finally {\n        try {\n            if (conn != null){\n                conn.close();\n            }\n        } catch (SQLException e){\n            System.out.println(e.getMessage());\n        }\n    }\n\n}\n</code></pre>\n\n<p>So... If you can help me I would be grateful.</p>\n\n<p>Thanks in advance for the answer and have a nice day!</p>\n"},{"tags":["java","amazon-s3"],"answers":[{"comments":[{"owner":{"account_id":4024436,"reputation":459,"user_id":3313379,"accept_rate":73,"display_name":"user3313379"},"score":1,"creation_date":1455357062,"post_id":35378252,"comment_id":58461957,"body_markdown":"I have millions of files in buckets, iterating them takes too much time. I was hoping is there some fastest approach to achieve this?","body":"I have millions of files in buckets, iterating them takes too much time. I was hoping is there some fastest approach to achieve this?"},{"owner":{"account_id":4024436,"reputation":459,"user_id":3313379,"accept_rate":73,"display_name":"user3313379"},"score":0,"creation_date":1455357951,"post_id":35378252,"comment_id":58462171,"body_markdown":"hi Istvan! thanks for your response, But is there similar java api for cloudwatch?","body":"hi Istvan! thanks for your response, But is there similar java api for cloudwatch?"},{"owner":{"account_id":43588,"reputation":7703,"user_id":127508,"accept_rate":85,"display_name":"Istvan"},"score":0,"creation_date":1455367414,"post_id":35378252,"comment_id":58464797,"body_markdown":"Have a look at the period 86400 parameter. it splits up the response to chunks specified with that.","body":"Have a look at the period 86400 parameter. it splits up the response to chunks specified with that."}],"tags":[],"owner":{"account_id":43588,"reputation":7703,"user_id":127508,"accept_rate":85,"display_name":"Istvan"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1455358729,"creation_date":1455356035,"answer_id":35378252,"question_id":35378200,"body_markdown":"You can find the extensive documentation of the AWS S3 Java library here:\r\n\r\nhttp://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/overview-summary.html\r\n\r\nAnswering your question, you can use getSize() for getting the size of an object in S3 and you can iterate over all of your files to get the size of your bucket.\r\n\r\nhttp://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/S3ObjectSummary.html#getSize()\r\n\r\nS3 does not support gathering disk usage directly (meaning not iterating through all of the items) but you can use CloudWatch to get the data you would like to use with a single request.\r\n\r\nExample query:\r\n\r\n    aws cloudwatch get-metric-statistics --namespace AWS/S3 --start-time 2016-01-01T10:00:00 --end-time 2016-02-12T01:00:00 --period 86400 --statistics Average --region us-east-1 --metric-name BucketSizeBytes --dimensions Name=BucketName,Value=www.streambrightdata.com Name=StorageType,Value=StandardStorage\r\n\r\nReturns:\r\n\r\n\r\n    {\r\n        &quot;Datapoints&quot;: [\r\n            {\r\n                &quot;Timestamp&quot;: &quot;2016-02-05T10:00:00Z&quot;,\r\n                &quot;Average&quot;: 54027423.0,\r\n                &quot;Unit&quot;: &quot;Bytes&quot;\r\n            },\r\n            {\r\n                &quot;Timestamp&quot;: &quot;2016-02-03T10:00:00Z&quot;,\r\n                &quot;Average&quot;: 52917504.0,\r\n                &quot;Unit&quot;: &quot;Bytes&quot;\r\n            },\r\n            {\r\n                &quot;Timestamp&quot;: &quot;2016-02-04T10:00:00Z&quot;,\r\n                &quot;Average&quot;: 53417421.0,\r\n                &quot;Unit&quot;: &quot;Bytes&quot;\r\n            },\r\n            {\r\n                &quot;Timestamp&quot;: &quot;2016-02-07T10:00:00Z&quot;,\r\n                &quot;Average&quot;: 54949563.0,\r\n                &quot;Unit&quot;: &quot;Bytes&quot;\r\n            },\r\n            {\r\n                &quot;Timestamp&quot;: &quot;2016-02-01T10:00:00Z&quot;,\r\n                &quot;Average&quot;: 24951965.0,\r\n                &quot;Unit&quot;: &quot;Bytes&quot;\r\n            },\r\n            {\r\n                &quot;Timestamp&quot;: &quot;2016-02-02T10:00:00Z&quot;,\r\n                &quot;Average&quot;: 28254636.0,\r\n                &quot;Unit&quot;: &quot;Bytes&quot;\r\n            },\r\n            {\r\n                &quot;Timestamp&quot;: &quot;2016-02-06T10:00:00Z&quot;,\r\n                &quot;Average&quot;: 54577328.0,\r\n                &quot;Unit&quot;: &quot;Bytes&quot;\r\n            }\r\n        ],\r\n        &quot;Label&quot;: &quot;BucketSizeBytes&quot;\r\n    }\r\n\r\n\r\nAWS Java SDK for CloudWatch:\r\n\r\nhttp://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudwatch/AmazonCloudWatchClient.html\r\n","title":"Aws get S3 Bucket Size using java api","body":"<p>You can find the extensive documentation of the AWS S3 Java library here:</p>\n\n<p><a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/overview-summary.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/overview-summary.html</a></p>\n\n<p>Answering your question, you can use getSize() for getting the size of an object in S3 and you can iterate over all of your files to get the size of your bucket.</p>\n\n<p><a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/S3ObjectSummary.html#getSize()\" rel=\"nofollow\">http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/S3ObjectSummary.html#getSize()</a></p>\n\n<p>S3 does not support gathering disk usage directly (meaning not iterating through all of the items) but you can use CloudWatch to get the data you would like to use with a single request.</p>\n\n<p>Example query:</p>\n\n<pre><code>aws cloudwatch get-metric-statistics --namespace AWS/S3 --start-time 2016-01-01T10:00:00 --end-time 2016-02-12T01:00:00 --period 86400 --statistics Average --region us-east-1 --metric-name BucketSizeBytes --dimensions Name=BucketName,Value=www.streambrightdata.com Name=StorageType,Value=StandardStorage\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>{\n    \"Datapoints\": [\n        {\n            \"Timestamp\": \"2016-02-05T10:00:00Z\",\n            \"Average\": 54027423.0,\n            \"Unit\": \"Bytes\"\n        },\n        {\n            \"Timestamp\": \"2016-02-03T10:00:00Z\",\n            \"Average\": 52917504.0,\n            \"Unit\": \"Bytes\"\n        },\n        {\n            \"Timestamp\": \"2016-02-04T10:00:00Z\",\n            \"Average\": 53417421.0,\n            \"Unit\": \"Bytes\"\n        },\n        {\n            \"Timestamp\": \"2016-02-07T10:00:00Z\",\n            \"Average\": 54949563.0,\n            \"Unit\": \"Bytes\"\n        },\n        {\n            \"Timestamp\": \"2016-02-01T10:00:00Z\",\n            \"Average\": 24951965.0,\n            \"Unit\": \"Bytes\"\n        },\n        {\n            \"Timestamp\": \"2016-02-02T10:00:00Z\",\n            \"Average\": 28254636.0,\n            \"Unit\": \"Bytes\"\n        },\n        {\n            \"Timestamp\": \"2016-02-06T10:00:00Z\",\n            \"Average\": 54577328.0,\n            \"Unit\": \"Bytes\"\n        }\n    ],\n    \"Label\": \"BucketSizeBytes\"\n}\n</code></pre>\n\n<p>AWS Java SDK for CloudWatch:</p>\n\n<p><a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudwatch/AmazonCloudWatchClient.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudwatch/AmazonCloudWatchClient.html</a></p>\n"},{"tags":[],"owner":{"account_id":3438933,"reputation":57,"user_id":2881308,"display_name":"Chandra Duddukuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683289366,"creation_date":1683289366,"answer_id":76182152,"question_id":35378200,"body_markdown":"with awssdk Java2.x\r\n\r\n\r\n\t\tSet&lt;String&gt; fileTypes = new HashSet&lt;&gt;();\r\n\t\tListObjectsResponse listObjResp = amazonS3Client.listObjects(ListObjectsRequest.builder().bucket(bucketName).build());\r\n\t\tint iCount=1;\r\n\t\t//********************************************************************//\r\n\t\tlog.info(&quot;listObjResp.isTruncated() : &quot;+listObjResp.isTruncated());\r\n\t\tString nextMarker = null;\r\n\t\tdo {\r\n\t\t\tString sKey = null;\r\n\t\t\tList&lt;S3Object&gt; s3ObjList = listObjResp.contents();\r\n\t\t\tfor (S3Object s3Obj: s3ObjList) {\r\n\t\t\t\tsKey = s3Obj.key();\r\n\t\t\t\tString[] sKeyValues = sKey.split(&quot;\\\\.&quot;);\r\n\t\t\t\tif(sKeyValues.length==2) {\r\n\t\t\t\t\tfileTypes.add(sKeyValues[1]);\r\n\t\t\t\t}else {\r\n\t\t\t\t\tfileTypes.add(NO_FILE_EXT);\r\n\t\t\t\t}\r\n\t\t\t\t++iCount;\r\n\t\t\t}\r\n\t\t\tnextMarker = listObjResp.nextMarker();\r\n\t\t\tlog.debug(&quot;listObjResp.nextMarker() : &quot;+nextMarker);\r\n\t\t\tlistObjResp = amazonS3Client.listObjects(ListObjectsRequest.builder().bucket(bucketName).marker(nextMarker).build());\r\n\t\t} while (nextMarker !=null);\r\n\t\t\r\n\t\tlog.info(&quot;iCount of &#39;&quot;+bucketName+&quot;&#39;: &quot;+(iCount-1));\r\n","title":"Aws get S3 Bucket Size using java api","body":"<p>with awssdk Java2.x</p>\n<pre><code>    Set&lt;String&gt; fileTypes = new HashSet&lt;&gt;();\n    ListObjectsResponse listObjResp = amazonS3Client.listObjects(ListObjectsRequest.builder().bucket(bucketName).build());\n    int iCount=1;\n    //********************************************************************//\n    log.info(&quot;listObjResp.isTruncated() : &quot;+listObjResp.isTruncated());\n    String nextMarker = null;\n    do {\n        String sKey = null;\n        List&lt;S3Object&gt; s3ObjList = listObjResp.contents();\n        for (S3Object s3Obj: s3ObjList) {\n            sKey = s3Obj.key();\n            String[] sKeyValues = sKey.split(&quot;\\\\.&quot;);\n            if(sKeyValues.length==2) {\n                fileTypes.add(sKeyValues[1]);\n            }else {\n                fileTypes.add(NO_FILE_EXT);\n            }\n            ++iCount;\n        }\n        nextMarker = listObjResp.nextMarker();\n        log.debug(&quot;listObjResp.nextMarker() : &quot;+nextMarker);\n        listObjResp = amazonS3Client.listObjects(ListObjectsRequest.builder().bucket(bucketName).marker(nextMarker).build());\n    } while (nextMarker !=null);\n    \n    log.info(&quot;iCount of '&quot;+bucketName+&quot;': &quot;+(iCount-1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16387499,"reputation":1,"user_id":15216202,"display_name":"imxo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686920281,"creation_date":1686825107,"answer_id":76481625,"question_id":35378200,"body_markdown":"You can use the `MinioAdminClient` and its `getDataUsageInfo()` method to get all the info you need.\r\n\r\nIt can be connected via this [link][1]\r\nand configured in the same way as `MinioClient` by passing parameters with the help of a builder instead of a constructor.\r\n\r\n    @Bean\r\n    public MinioClient minioClient(\r\n            @Value(&quot;${aws.endPoint}&quot;) String endPoint,\r\n            @Value(&quot;${aws.accessKey}&quot;) String accessKey,\r\n            @Value(&quot;${aws.secretKey}&quot;) String secretKey) throws InvalidPortException, InvalidEndpointException {\r\n\r\n        return new MinioClient(endPoint, accessKey, secretKey);\r\n    }\r\n\r\n    @Bean\r\n    public MinioAdminClient minioAdminClient(\r\n            @Value(&quot;${aws.endPoint}&quot;) String endPoint,\r\n            @Value(&quot;${aws.accessKey}&quot;) String accessKey,\r\n            @Value(&quot;${aws.secretKey}&quot;) String secretKey){\r\n\r\n        return MinioAdminClient\r\n                .builder()\r\n                .endpoint(endPoint)\r\n                .credentials(accessKey, secretKey)\r\n                .build();\r\n    }\r\n\r\n\r\nLink to the file in GitHub Repo: https://github.com/minio/minio-java/blob/master/adminapi/src/main/java/io/minio/admin/MinioAdminClient.java#L593\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/io.minio/minio/8.5.3","title":"Aws get S3 Bucket Size using java api","body":"<p>You can use the <code>MinioAdminClient</code> and its <code>getDataUsageInfo()</code> method to get all the info you need.</p>\n<p>It can be connected via this <a href=\"https://mvnrepository.com/artifact/io.minio/minio/8.5.3\" rel=\"nofollow noreferrer\">link</a>\nand configured in the same way as <code>MinioClient</code> by passing parameters with the help of a builder instead of a constructor.</p>\n<pre><code>@Bean\npublic MinioClient minioClient(\n        @Value(&quot;${aws.endPoint}&quot;) String endPoint,\n        @Value(&quot;${aws.accessKey}&quot;) String accessKey,\n        @Value(&quot;${aws.secretKey}&quot;) String secretKey) throws InvalidPortException, InvalidEndpointException {\n\n    return new MinioClient(endPoint, accessKey, secretKey);\n}\n\n@Bean\npublic MinioAdminClient minioAdminClient(\n        @Value(&quot;${aws.endPoint}&quot;) String endPoint,\n        @Value(&quot;${aws.accessKey}&quot;) String accessKey,\n        @Value(&quot;${aws.secretKey}&quot;) String secretKey){\n\n    return MinioAdminClient\n            .builder()\n            .endpoint(endPoint)\n            .credentials(accessKey, secretKey)\n            .build();\n}\n</code></pre>\n<p>Link to the file in GitHub Repo: <a href=\"https://github.com/minio/minio-java/blob/master/adminapi/src/main/java/io/minio/admin/MinioAdminClient.java#L593\" rel=\"nofollow noreferrer\">https://github.com/minio/minio-java/blob/master/adminapi/src/main/java/io/minio/admin/MinioAdminClient.java#L593</a></p>\n"}],"owner":{"account_id":4024436,"reputation":459,"user_id":3313379,"accept_rate":73,"display_name":"user3313379"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5338,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35378252,"answer_count":3,"score":3,"last_activity_date":1686920281,"creation_date":1455355593,"question_id":35378200,"body_markdown":"I have searched on google about efficient way to get metadata about S3 bucket like its size and number of files in it. I found [this][1] link discussing such problem. But it&#39;s for PHP and aws cli using cloud-watch. I want to know is there some java api to fetch the s3 bucket metadata? \r\n\r\nThanks\r\n\r\n\r\n  [1]: https://serverfault.com/questions/84815/how-can-i-get-the-size-of-an-amazon-s3-bucket","title":"Aws get S3 Bucket Size using java api","body":"<p>I have searched on google about efficient way to get metadata about S3 bucket like its size and number of files in it. I found <a href=\"https://serverfault.com/questions/84815/how-can-i-get-the-size-of-an-amazon-s3-bucket\">this</a> link discussing such problem. But it's for PHP and aws cli using cloud-watch. I want to know is there some java api to fetch the s3 bucket metadata? </p>\n\n<p>Thanks</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":4,"creation_date":1574939339,"post_id":59087458,"comment_id":104410078,"body_markdown":"Related: [How do I write a correct micro-benchmark in Java?](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java)","body":"Related: <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">How do I write a correct micro-benchmark in Java?</a>"},{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1574939445,"post_id":59087458,"comment_id":104410149,"body_markdown":"Also take a look at https://stackoverflow.com/a/53356309/1602555","body":"Also take a look at <a href=\"https://stackoverflow.com/a/53356309/1602555\">stackoverflow.com/a/53356309/1602555</a>"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1574939498,"post_id":59087458,"comment_id":104410193,"body_markdown":"Don&#39;t run your own benchmarks. You&#39;ll do it wrong, and you don&#39;t need to do it (you can surely find existing proper benchmarks). Secondly, even ignoring your faulty benchmark, that&#39;s just the way it is. Arrays are the fastest, but they have a fixed size. If you need a `List`, then `ArrayList` is your best bet, and `LinkedList` has *very few actual use cases*.","body":"Don&#39;t run your own benchmarks. You&#39;ll do it wrong, and you don&#39;t need to do it (you can surely find existing proper benchmarks). Secondly, even ignoring your faulty benchmark, that&#39;s just the way it is. Arrays are the fastest, but they have a fixed size. If you need a <code>List</code>, then <code>ArrayList</code> is your best bet, and <code>LinkedList</code> has <i>very few actual use cases</i>."},{"owner":{"account_id":12326812,"reputation":49,"user_id":8994215,"display_name":"z xt"},"score":0,"creation_date":1574940103,"post_id":59087458,"comment_id":104410531,"body_markdown":"hi, no matter how bad my benchmark program, the performance problem is there.\nAs this link https://stackoverflow.com/questions/19389609/array-vs-arraylist-in-performance said, I can ignore the performance. But the real case is I can&#39;t. The ArrayList is so slow and have a big influence on my job. So could you give some useful advice not just pay attention on how bad the benchmark code. Thanks.","body":"hi, no matter how bad my benchmark program, the performance problem is there. As this link <a href=\"https://stackoverflow.com/questions/19389609/array-vs-arraylist-in-performance\" title=\"array vs arraylist in performance\">stackoverflow.com/questions/19389609/&hellip;</a> said, I can ignore the performance. But the real case is I can&#39;t. The ArrayList is so slow and have a big influence on my job. So could you give some useful advice not just pay attention on how bad the benchmark code. Thanks."},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1574941386,"post_id":59087458,"comment_id":104411252,"body_markdown":"I believe the duplicate link is not a duplicate of this question. You can see this link for array vs ArrayList: https://stackoverflow.com/questions/19389609/array-vs-arraylist-in-performance, although this isn&#39;t the whole story. An int[] array is always going to be faster than a List (unless the optimizer does something really clever) as it uses int primitives and a List has to use objects which have to be dereferenced. You can&#39;t do anything to change that. In addition, a linked list is not efficient for iterating over as the code has to follow a reference chain.","body":"I believe the duplicate link is not a duplicate of this question. You can see this link for array vs ArrayList: <a href=\"https://stackoverflow.com/questions/19389609/array-vs-arraylist-in-performance\" title=\"array vs arraylist in performance\">stackoverflow.com/questions/19389609/&hellip;</a>, although this isn&#39;t the whole story. An int[] array is always going to be faster than a List (unless the optimizer does something really clever) as it uses int primitives and a List has to use objects which have to be dereferenced. You can&#39;t do anything to change that. In addition, a linked list is not efficient for iterating over as the code has to follow a reference chain."},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1574942463,"post_id":59087458,"comment_id":104411810,"body_markdown":"@zxt You should create a new question where you show the code that is so slow because of ArrayList, we might be able to help you improve its performances.","body":"@zxt You should create a new question where you show the code that is so slow because of ArrayList, we might be able to help you improve its performances."},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":2,"creation_date":1574942677,"post_id":59087458,"comment_id":104411902,"body_markdown":"I voted to reopen the question, I think OP is right, the question is not about benchmarking, it is about improving performances of his code. OP needs to add the code he wants to be looked up though","body":"I voted to reopen the question, I think OP is right, the question is not about benchmarking, it is about improving performances of his code. OP needs to add the code he wants to be looked up though"}],"answers":[{"tags":[],"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574946235,"creation_date":1574945163,"answer_id":59089250,"question_id":59087458,"body_markdown":"There are potential inaccuracies in your benchmark, but the overall ranking of the results is probably correct. You may get faster results for all of the benchmarks if you &quot;warm-up&quot; the code before taking timings to allow the JIT compiler to generate native code and optimise it. Some benchmark results may be closer or even equal.\r\n\r\nIterating over an `int` array is going to be much faster than iterating over a `List` of `Integer` objects. A `LinkedList` is going to be slowest of all. These statements assume the optimiser doesn&#39;t make radical changes.\r\n\r\nLet&#39;s look at why:\r\n\r\nAn `int` array (`int[]`) is a contiguous area of memory containing your 4 byte ints arranged end-to-end. The loop to iterate over this and set the elements just has to work its way through the block of memory setting each 4 bytes in turn. In principle an index check is required, but in practice the optimiser can realise this isn&#39;t necessary and remove it. The JIT compiler is well able to optimise this kind of thing based on native CPU instructions.\r\n\r\nAn `ArrayList` of `Integer` objects contains an array of references which point to individual `Integer` objects (or are null). Each `Integer` object will have to be allocated separately (although Java can re-use Integers of small numbers). There is an overhead to allocate new objects and in addition the reference may be 8 bytes instead of 4. Also, if the list size is not specified (though it is in your case) the internal array may need to be reallocated. There is an overhead due to calling the `add` method instead of assigning to the array directly (the optimizer may remove this though).\r\n\r\nYour array of `Integer` benchmark is similar to the array list but doesn&#39;t have the overhead of the list add method call (which has to track the list size). Probably your benchmark overstates the difference between this array and the array list though.\r\n\r\nA `LinkedList` is the worst case. Linked lists are optimised for inserting in the middle. They have references to point to the next item in the list and nodes to hold those references in addition to the `Integer` object that needs allocating. This is a big memory overhead that also requires some initialisation and you would not use a linked list unless you were expecting to insert a lot of elements into the middle of the list.\r\n\r\n","title":"Java Array/ArrayList/LinkedList performance","body":"<p>There are potential inaccuracies in your benchmark, but the overall ranking of the results is probably correct. You may get faster results for all of the benchmarks if you \"warm-up\" the code before taking timings to allow the JIT compiler to generate native code and optimise it. Some benchmark results may be closer or even equal.</p>\n\n<p>Iterating over an <code>int</code> array is going to be much faster than iterating over a <code>List</code> of <code>Integer</code> objects. A <code>LinkedList</code> is going to be slowest of all. These statements assume the optimiser doesn't make radical changes.</p>\n\n<p>Let's look at why:</p>\n\n<p>An <code>int</code> array (<code>int[]</code>) is a contiguous area of memory containing your 4 byte ints arranged end-to-end. The loop to iterate over this and set the elements just has to work its way through the block of memory setting each 4 bytes in turn. In principle an index check is required, but in practice the optimiser can realise this isn't necessary and remove it. The JIT compiler is well able to optimise this kind of thing based on native CPU instructions.</p>\n\n<p>An <code>ArrayList</code> of <code>Integer</code> objects contains an array of references which point to individual <code>Integer</code> objects (or are null). Each <code>Integer</code> object will have to be allocated separately (although Java can re-use Integers of small numbers). There is an overhead to allocate new objects and in addition the reference may be 8 bytes instead of 4. Also, if the list size is not specified (though it is in your case) the internal array may need to be reallocated. There is an overhead due to calling the <code>add</code> method instead of assigning to the array directly (the optimizer may remove this though).</p>\n\n<p>Your array of <code>Integer</code> benchmark is similar to the array list but doesn't have the overhead of the list add method call (which has to track the list size). Probably your benchmark overstates the difference between this array and the array list though.</p>\n\n<p>A <code>LinkedList</code> is the worst case. Linked lists are optimised for inserting in the middle. They have references to point to the next item in the list and nodes to hold those references in addition to the <code>Integer</code> object that needs allocating. This is a big memory overhead that also requires some initialisation and you would not use a linked list unless you were expecting to insert a lot of elements into the middle of the list.</p>\n"},{"tags":[],"owner":{"account_id":4506691,"reputation":209,"user_id":3663845,"display_name":"user3663845"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686920239,"creation_date":1686920239,"answer_id":76490432,"question_id":59087458,"body_markdown":"While the previous answer is true, `LinkedList` is in fact quite a bit slower than it needs to be. I have written quite a few JMH benchmarks that compare `ArrayList`, `LinkedList`, and two linked list implementations I wrote myself. The reason I wrote those implementations had nothing to do with performance. It&#39;s just that I also find `LinkedList` rather impractical. It sticks too closely to the `List` interface and does not provide the operations I expect a linked list to have.\r\n\r\nI only created the JMH tests to make sure my own implementations wouldn&#39;t be too much slower than `LinkedList`. To my surprise, however, for any measurement I did, my own implementations performed substantially better - sometimes even orders of magnitude better!\r\n\r\nI wrote a [blog post][1] that discusses the JMH tests. My conclusion was: unless you want to use `LinkedList` as a kind of queue, pushing/popping elements from the head or tail of the list, there really is no good reason for using it.\r\n\r\n\r\n  [1]: https://klojang.blogspot.com/2022/12/linkedlist-lost-opportunity.html","title":"Java Array/ArrayList/LinkedList performance","body":"<p>While the previous answer is true, <code>LinkedList</code> is in fact quite a bit slower than it needs to be. I have written quite a few JMH benchmarks that compare <code>ArrayList</code>, <code>LinkedList</code>, and two linked list implementations I wrote myself. The reason I wrote those implementations had nothing to do with performance. It's just that I also find <code>LinkedList</code> rather impractical. It sticks too closely to the <code>List</code> interface and does not provide the operations I expect a linked list to have.</p>\n<p>I only created the JMH tests to make sure my own implementations wouldn't be too much slower than <code>LinkedList</code>. To my surprise, however, for any measurement I did, my own implementations performed substantially better - sometimes even orders of magnitude better!</p>\n<p>I wrote a <a href=\"https://klojang.blogspot.com/2022/12/linkedlist-lost-opportunity.html\" rel=\"nofollow noreferrer\">blog post</a> that discusses the JMH tests. My conclusion was: unless you want to use <code>LinkedList</code> as a kind of queue, pushing/popping elements from the head or tail of the list, there really is no good reason for using it.</p>\n"}],"owner":{"account_id":12326812,"reputation":49,"user_id":8994215,"display_name":"z xt"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1686920239,"creation_date":1574939249,"question_id":59087458,"body_markdown":"I used the following code to test the performance between Array/ArrayList/LinkedList\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.LinkedList;\r\n    \r\n    public class Main3 {\r\n        public static void main(String[] args) throws Exception{\r\n    \r\n            int n = 20000000;\r\n            long bt = 0, et = 0;\r\n    \r\n            int[] a0 = new int[n];\r\n            ArrayList&lt;Integer&gt; a1 = new ArrayList&lt;&gt;(n);\r\n            LinkedList&lt;Integer&gt; a2 = new LinkedList&lt;&gt;();\r\n            Integer[] a3 = new Integer[n];\r\n    \r\n            bt = System.currentTimeMillis();\r\n            for(int i=0; i&lt;n; i++){\r\n                a0[i] = i;\r\n            }\r\n            et = System.currentTimeMillis();\r\n            System.out.println(&quot;===== loop0 time =======&quot; + (et - bt));\r\n    \r\n            bt = System.currentTimeMillis();\r\n            for(int i=0; i&lt;n; i++){\r\n                a1.add(i);\r\n            }\r\n            et = System.currentTimeMillis();\r\n            System.out.println(&quot;===== loop1 time =======&quot; + (et - bt));\r\n    \r\n            bt = System.currentTimeMillis();\r\n            for(int i=0; i&lt;n; i++){\r\n                a2.add(i);\r\n            }\r\n            et = System.currentTimeMillis();\r\n            System.out.println(&quot;===== loop2 time =======&quot; + (et - bt));\r\n    \r\n    \r\n            bt = System.currentTimeMillis();\r\n            for(int i=0; i&lt;n; i++){\r\n                a3[i] = i;\r\n            }\r\n            et = System.currentTimeMillis();\r\n            System.out.println(&quot;===== loop3 time =======&quot; + (et - bt));\r\n        }\r\n    }\r\n\r\nThe result is\r\n\r\n    ===== loop0 time =======11\r\n    ===== loop1 time =======6776\r\n    ===== loop2 time =======17305\r\n    ===== loop3 time =======56\r\n\r\nWhy the ArralyList/LinkedList is so slower than array ? \r\nHow could I improve the performance.\r\n\r\nenv:\r\nJava: jdk1.8.0_231\r\n\r\n\r\nThanks\r\n\r\n","title":"Java Array/ArrayList/LinkedList performance","body":"<p>I used the following code to test the performance between Array/ArrayList/LinkedList</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.LinkedList;\n\npublic class Main3 {\n    public static void main(String[] args) throws Exception{\n\n        int n = 20000000;\n        long bt = 0, et = 0;\n\n        int[] a0 = new int[n];\n        ArrayList&lt;Integer&gt; a1 = new ArrayList&lt;&gt;(n);\n        LinkedList&lt;Integer&gt; a2 = new LinkedList&lt;&gt;();\n        Integer[] a3 = new Integer[n];\n\n        bt = System.currentTimeMillis();\n        for(int i=0; i&lt;n; i++){\n            a0[i] = i;\n        }\n        et = System.currentTimeMillis();\n        System.out.println(\"===== loop0 time =======\" + (et - bt));\n\n        bt = System.currentTimeMillis();\n        for(int i=0; i&lt;n; i++){\n            a1.add(i);\n        }\n        et = System.currentTimeMillis();\n        System.out.println(\"===== loop1 time =======\" + (et - bt));\n\n        bt = System.currentTimeMillis();\n        for(int i=0; i&lt;n; i++){\n            a2.add(i);\n        }\n        et = System.currentTimeMillis();\n        System.out.println(\"===== loop2 time =======\" + (et - bt));\n\n\n        bt = System.currentTimeMillis();\n        for(int i=0; i&lt;n; i++){\n            a3[i] = i;\n        }\n        et = System.currentTimeMillis();\n        System.out.println(\"===== loop3 time =======\" + (et - bt));\n    }\n}\n</code></pre>\n\n<p>The result is</p>\n\n<pre><code>===== loop0 time =======11\n===== loop1 time =======6776\n===== loop2 time =======17305\n===== loop3 time =======56\n</code></pre>\n\n<p>Why the ArralyList/LinkedList is so slower than array ? \nHow could I improve the performance.</p>\n\n<p>env:\nJava: jdk1.8.0_231</p>\n\n<p>Thanks</p>\n"},{"tags":["java","arrays","json","arr"],"comments":[{"owner":{"account_id":9815188,"reputation":87,"user_id":7271917,"accept_rate":30,"display_name":"calculus"},"score":0,"creation_date":1656374788,"post_id":69173445,"comment_id":128551688,"body_markdown":"I&#39;m facing something similar too, did you ever manage to get to fix this? do let me know. Thanks.","body":"I&#39;m facing something similar too, did you ever manage to get to fix this? do let me know. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":9729937,"reputation":13,"user_id":7215355,"display_name":"Akash Mehta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686919608,"creation_date":1686830837,"answer_id":76482307,"question_id":69173445,"body_markdown":"Use `toMap()` and `toList()`.\r\n\r\nThis solution is for `org.json.JSONObject` and `org.json.JSONArray` specifically.\r\n\r\nExample\r\n\r\n    JSONObject object = new JSONObject()\r\n    JSONArray array = new JSONArray();\r\n    array.put(&quot;a&quot;);\r\n    array.put(&quot;b&quot;);\r\n    array.put(&quot;c&quot;);\r\n    object.put(&quot;list&quot;, array);\r\n\r\nobject now equal \r\n\r\n    {&quot;map&quot;: {&quot;list&quot;: {&quot;myArrayList&quot;: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]}}}\r\n\r\n`object.toMap()` equals\r\n\r\n    {&quot;list&quot;: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]}\r\n\r\n","title":"JSONObject return with &quot;map&quot; type and JSONArray return with &quot;myArrayList&quot; type","body":"<p>Use <code>toMap()</code> and <code>toList()</code>.</p>\n<p>This solution is for <code>org.json.JSONObject</code> and <code>org.json.JSONArray</code> specifically.</p>\n<p>Example</p>\n<pre><code>JSONObject object = new JSONObject()\nJSONArray array = new JSONArray();\narray.put(&quot;a&quot;);\narray.put(&quot;b&quot;);\narray.put(&quot;c&quot;);\nobject.put(&quot;list&quot;, array);\n</code></pre>\n<p>object now equal</p>\n<pre><code>{&quot;map&quot;: {&quot;list&quot;: {&quot;myArrayList&quot;: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]}}}\n</code></pre>\n<p><code>object.toMap()</code> equals</p>\n<pre><code>{&quot;list&quot;: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686832835,"creation_date":1686832835,"answer_id":76482584,"question_id":69173445,"body_markdown":"You are working way too hard. I would suggest using the Json-Jackson library but Gson should have similar functionality. with Jackson if you use `ObjectMapper` class you have the method `writeValueAsString` for converting any class to JSON string and the method `readValue` for parsing it into a class instance (deserializing). Here is [ObjectMapper Javadoc][1].\r\nBut if you want an even simpler solution, I wrote my own thin wrapper over Jackson Json that allows you to serialize an object to JSON or deserialize it from Json to Object. For your case the code could be as simple as this\r\n\r\n    Map&lt;String, Object&gt; map = ... //here is your map that you got from your source\r\n    String jsonString;\r\n    \r\n        try {\r\n          jsonString = JsonUtils.writeObjectToJsonString(map);\r\n        }catch(IOException ioe) {\r\n          //Handle exception\r\n        }\r\n\r\nIn the example above map is used , but the same would work for List (or any serializable class instance) \r\nHere is the [Javadoc for JsonUtils class][2]. It is part of MgntUtils open source library written and maintained by me. You can get the library as maven artifact [here][3] or from Github, including source code and Javadoc [here][4]\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectMapper.html\r\n  [2]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [3]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [4]: https://github.com/michaelgantman/Mgnt/releases","title":"JSONObject return with &quot;map&quot; type and JSONArray return with &quot;myArrayList&quot; type","body":"<p>You are working way too hard. I would suggest using the Json-Jackson library but Gson should have similar functionality. with Jackson if you use <code>ObjectMapper</code> class you have the method <code>writeValueAsString</code> for converting any class to JSON string and the method <code>readValue</code> for parsing it into a class instance (deserializing). Here is <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">ObjectMapper Javadoc</a>.\nBut if you want an even simpler solution, I wrote my own thin wrapper over Jackson Json that allows you to serialize an object to JSON or deserialize it from Json to Object. For your case the code could be as simple as this</p>\n<pre><code>Map&lt;String, Object&gt; map = ... //here is your map that you got from your source\nString jsonString;\n\n    try {\n      jsonString = JsonUtils.writeObjectToJsonString(map);\n    }catch(IOException ioe) {\n      //Handle exception\n    }\n</code></pre>\n<p>In the example above map is used , but the same would work for List (or any serializable class instance)\nHere is the <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">Javadoc for JsonUtils class</a>. It is part of MgntUtils open source library written and maintained by me. You can get the library as maven artifact <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">here</a> or from Github, including source code and Javadoc <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":19640046,"reputation":17,"user_id":14376374,"display_name":"daniel sinaga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686919608,"creation_date":1631603981,"question_id":69173445,"body_markdown":"So I converted object to json using JSONObject and also created json array using JSON array, the result is good but returned with an extra type in front which is &quot;map&quot; for JSONObject and &quot;myArrayList&quot; for JSONArray. \r\n\r\n    &quot;example&quot;: {\r\n      &quot;map&quot;: {\r\n        &quot;newCreditingAccountBalance&quot;: 1.0,\r\n        &quot;oldCreditingAccountName&quot;: &quot;string&quot;,\r\n        &quot;newDebitingAccountName&quot;: &quot;string&quot;,\r\n        &quot;newAutoDebitAmount&quot;: 1.0,\r\n        &quot;oldTenure&quot;: 1,\r\n        &quot;oldCreditingAccountNumber&quot;: &quot;string&quot;,\r\n      }\r\n\r\nthis is my Array Json\r\n\r\n    &quot;productList&quot;: {\r\n          &quot;myArrayList&quot;: [\r\n            0,\r\n            0,\r\n            &quot;string&quot;,\r\n            &quot;string&quot;,\r\n            0.0,\r\n            &quot;string&quot;,\r\n            &quot;string&quot;,\r\n            &quot;string&quot;,\r\n            true\r\n          ]\r\n        }\r\n\r\nthis is my code for JSONObject\r\n\r\n    I \r\n\r\n        Map&lt;String, Object&gt; json = new HashMap();\r\n        Map&lt;String, Object&gt; schema = new Gson().fromJson(\r\n                    new Gson().toJson(payload.get(&quot;schema&quot;)), new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType()\r\n            );\r\n       Iterator sIterator = schema.entrySet().iterator();\r\n\r\n\r\n        while (sIterator.hasNext()){\r\n            Map.Entry element = (Map.Entry)sIterator.next();\r\n\r\n            Map&lt;String, Object&gt; values = new Gson().fromJson(\r\n                    new Gson().toJson(schema.get(element.getKey())), new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType()\r\n            );\r\n\r\n            if (values.containsKey(&quot;type&quot;)){\r\n                if (values.get(&quot;type&quot;).equals(&quot;string&quot;)) {\r\n                    json.put(element.getKey().toString(), &quot;string&quot;);\r\n                }\r\n                else if (values.get(&quot;type&quot;).equals(&quot;number&quot;)){\r\n                    json.put(element.getKey().toString(), 1.0);\r\n                }\r\n                else if (values.get(&quot;type&quot;).equals(&quot;integer&quot;)){\r\n                    json.put(element.getKey().toString(), 1);\r\n                }\r\n                else if (values.get(&quot;type&quot;).equals(&quot;boolean&quot;)){\r\n                    json.put(element.getKey().toString(), true);\r\n\r\n\r\n    return new JSONObject(json)\r\n\r\nthis is my code for JsonArray: \r\n\r\n    Map&lt;String, Object&gt; arrayschema = new Gson().fromJson(\r\n                            new Gson().toJson(arrays.get(&quot;schema&quot;)), new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType()\r\n                    );\r\n\r\n                    JSONArray jsonArray = new JSONArray();\r\n                    arrayschema.keySet().forEach(it -&gt; {\r\n                        if (arrayschema.get(it).toString().contains(&quot;type=string&quot;)) jsonArray.put(&quot;string&quot;);\r\n                        else if (arrayschema.get(it).toString().contains(&quot;type=integer&quot;)) jsonArray.put(0);\r\n                        else if (arrayschema.get(it).toString().contains(&quot;type=number&quot;)) jsonArray.put(0.0);\r\n                        else if (arrayschema.get(it).toString().contains(&quot;type=boolean&quot;)) jsonArray.put(true);\r\n                    });\r\n\r\nhow to remove the &quot;map&quot; and &quot;myArrayList&quot;?","title":"JSONObject return with &quot;map&quot; type and JSONArray return with &quot;myArrayList&quot; type","body":"<p>So I converted object to json using JSONObject and also created json array using JSON array, the result is good but returned with an extra type in front which is &quot;map&quot; for JSONObject and &quot;myArrayList&quot; for JSONArray.</p>\n<pre><code>&quot;example&quot;: {\n  &quot;map&quot;: {\n    &quot;newCreditingAccountBalance&quot;: 1.0,\n    &quot;oldCreditingAccountName&quot;: &quot;string&quot;,\n    &quot;newDebitingAccountName&quot;: &quot;string&quot;,\n    &quot;newAutoDebitAmount&quot;: 1.0,\n    &quot;oldTenure&quot;: 1,\n    &quot;oldCreditingAccountNumber&quot;: &quot;string&quot;,\n  }\n</code></pre>\n<p>this is my Array Json</p>\n<pre><code>&quot;productList&quot;: {\n      &quot;myArrayList&quot;: [\n        0,\n        0,\n        &quot;string&quot;,\n        &quot;string&quot;,\n        0.0,\n        &quot;string&quot;,\n        &quot;string&quot;,\n        &quot;string&quot;,\n        true\n      ]\n    }\n</code></pre>\n<p>this is my code for JSONObject</p>\n<pre><code>I \n\n    Map&lt;String, Object&gt; json = new HashMap();\n    Map&lt;String, Object&gt; schema = new Gson().fromJson(\n                new Gson().toJson(payload.get(&quot;schema&quot;)), new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType()\n        );\n   Iterator sIterator = schema.entrySet().iterator();\n\n\n    while (sIterator.hasNext()){\n        Map.Entry element = (Map.Entry)sIterator.next();\n\n        Map&lt;String, Object&gt; values = new Gson().fromJson(\n                new Gson().toJson(schema.get(element.getKey())), new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType()\n        );\n\n        if (values.containsKey(&quot;type&quot;)){\n            if (values.get(&quot;type&quot;).equals(&quot;string&quot;)) {\n                json.put(element.getKey().toString(), &quot;string&quot;);\n            }\n            else if (values.get(&quot;type&quot;).equals(&quot;number&quot;)){\n                json.put(element.getKey().toString(), 1.0);\n            }\n            else if (values.get(&quot;type&quot;).equals(&quot;integer&quot;)){\n                json.put(element.getKey().toString(), 1);\n            }\n            else if (values.get(&quot;type&quot;).equals(&quot;boolean&quot;)){\n                json.put(element.getKey().toString(), true);\n\n\nreturn new JSONObject(json)\n</code></pre>\n<p>this is my code for JsonArray:</p>\n<pre><code>Map&lt;String, Object&gt; arrayschema = new Gson().fromJson(\n                        new Gson().toJson(arrays.get(&quot;schema&quot;)), new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType()\n                );\n\n                JSONArray jsonArray = new JSONArray();\n                arrayschema.keySet().forEach(it -&gt; {\n                    if (arrayschema.get(it).toString().contains(&quot;type=string&quot;)) jsonArray.put(&quot;string&quot;);\n                    else if (arrayschema.get(it).toString().contains(&quot;type=integer&quot;)) jsonArray.put(0);\n                    else if (arrayschema.get(it).toString().contains(&quot;type=number&quot;)) jsonArray.put(0.0);\n                    else if (arrayschema.get(it).toString().contains(&quot;type=boolean&quot;)) jsonArray.put(true);\n                });\n</code></pre>\n<p>how to remove the &quot;map&quot; and &quot;myArrayList&quot;?</p>\n"},{"tags":["java","list","sorting","guava"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1686912591,"post_id":76489408,"comment_id":134867046,"body_markdown":"What does &quot;sort listA based on the ordering defined by a comparator on listB&quot; mean? You can&#39;t sort A&#39;s using a comparator for B&#39;s. You will have to define that mapping.","body":"What does &quot;sort listA based on the ordering defined by a comparator on listB&quot; mean? You can&#39;t sort A&#39;s using a comparator for B&#39;s. You will have to define that mapping."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1687058619,"post_id":76489408,"comment_id":134883172,"body_markdown":"Creating a class that encapsulates both A and B will be by far the easiest, most readable, and best-performing option.","body":"Creating a class that encapsulates both A and B will be by far the easiest, most readable, and best-performing option."}],"answers":[{"comments":[{"owner":{"account_id":6981250,"reputation":629,"user_id":5524175,"display_name":"duplex143"},"score":0,"creation_date":1686918071,"post_id":76489441,"comment_id":134868109,"body_markdown":"I&#39;ve updated the question. There isn&#39;t any mapping b/w `listA` and `listB`.","body":"I&#39;ve updated the question. There isn&#39;t any mapping b/w <code>listA</code> and <code>listB</code>."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1686918500,"post_id":76489441,"comment_id":134868201,"body_markdown":"@duplex143 Oof... I&#39;d say the easiest way would be to make a wrapper containing A&#39;s and B&#39;s (exactly like you say you don&#39;t want to do), then sort on their B properties and extract the A&#39;s again. If you really don&#39;t want to... perhaps make an index-to-element mapping for all B&#39;s, then sort, then somehow use `Ordering.explicit` to apply that same reordering to A? That sounds way more complicated than necessary, though.","body":"@duplex143 Oof... I&#39;d say the easiest way would be to make a wrapper containing A&#39;s and B&#39;s (exactly like you say you don&#39;t want to do), then sort on their B properties and extract the A&#39;s again. If you really don&#39;t want to... perhaps make an index-to-element mapping for all B&#39;s, then sort, then somehow use <code>Ordering.explicit</code> to apply that same reordering to A? That sounds way more complicated than necessary, though."},{"owner":{"account_id":6981250,"reputation":629,"user_id":5524175,"display_name":"duplex143"},"score":0,"creation_date":1686918712,"post_id":76489441,"comment_id":134868252,"body_markdown":"I was under the impression that a simple one liner like you mentioned would be in Guava.  `listA.sort(Ordering.explicit(listB))` and somewhere pass the B&#39;s comparator.","body":"I was under the impression that a simple one liner like you mentioned would be in Guava.  <code>listA.sort(Ordering.explicit(listB))</code> and somewhere pass the B&#39;s comparator."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1686918769,"post_id":76489441,"comment_id":134868265,"body_markdown":"@duplex143 There is, but you&#39;ve explicitly excluded that option. In pseudo code: `zip(listA, listB).sortedWith(ComparatorB, it -&gt; it.b).map(it -&gt; it.a)`","body":"@duplex143 There is, but you&#39;ve explicitly excluded that option. In pseudo code: <code>zip(listA, listB).sortedWith(ComparatorB, it -&gt; it.b).map(it -&gt; it.a)</code>"}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686919350,"creation_date":1686912512,"answer_id":76489441,"question_id":76489408,"body_markdown":"How about this?\r\n```\r\nlistB.sort(new ComparatorB());\r\nlistA.sort(Ordering.explicit(listB)); // or possibly a mapped version\r\n```\r\n\r\nOr if you want to change a B-comparator into an A-comparator, you could do\r\n```\r\nlistA.sort(Ordering.from(new ComparatorB()).onResultOf(a -&gt; mapAtoB(a)))\r\n```\r\n\r\nUpdate after question update  \r\nYou could do it like this:\r\n```\r\nStreams.zip(listA.stream(), listB.stream(), Pair::new)\r\n                .sorted(Ordering.from(new ComparatorB()).onResultOf(Pair::getFirst))\r\n                .map(Pair::getSecond)\r\n                .collect(Collectors.toList());\r\n```\r\n\r\nI&#39;m not sure if you&#39;d count that `Pair` as &quot;creating a class that encapsulates both A &amp; B&quot;, but it&#39;s not clear why you don&#39;t want that anyway. This is probably your best bet.","title":"Sort list based on comparator defined on another list using Guava Ordering","body":"<p>How about this?</p>\n<pre><code>listB.sort(new ComparatorB());\nlistA.sort(Ordering.explicit(listB)); // or possibly a mapped version\n</code></pre>\n<p>Or if you want to change a B-comparator into an A-comparator, you could do</p>\n<pre><code>listA.sort(Ordering.from(new ComparatorB()).onResultOf(a -&gt; mapAtoB(a)))\n</code></pre>\n<p>Update after question update<br />\nYou could do it like this:</p>\n<pre><code>Streams.zip(listA.stream(), listB.stream(), Pair::new)\n                .sorted(Ordering.from(new ComparatorB()).onResultOf(Pair::getFirst))\n                .map(Pair::getSecond)\n                .collect(Collectors.toList());\n</code></pre>\n<p>I'm not sure if you'd count that <code>Pair</code> as &quot;creating a class that encapsulates both A &amp; B&quot;, but it's not clear why you don't want that anyway. This is probably your best bet.</p>\n"}],"owner":{"account_id":6981250,"reputation":629,"user_id":5524175,"display_name":"duplex143"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76489441,"answer_count":1,"score":0,"last_activity_date":1686919350,"creation_date":1686912308,"question_id":76489408,"body_markdown":"I&#39;ve two lists of same size : `List&lt;A&gt;listA`, `List&lt;B&gt;listB` that are completely independent of each other.\r\n\r\nI&#39;d like to sort `listA` based on how the elements move in `listB`. \r\n\r\nAssume there&#39;s an imaginary connection b/w the two lists. \r\n\r\nEg:\r\n```\r\nlistA = [a,b,c,d,e]\r\n         | | | | |\r\nlistB = [j,g,h,k,i]\r\n```\r\n\r\nIf the listB&#39;s comparator sorts it lexicographically, listA should be `b,c,e,a,d`\r\n\r\n```\r\nlistA = [b,c,e,a,d]\r\n         | | | | |\r\nlistB = [g,h,i,j,k]\r\n```\r\n\r\nI don&#39;t want to create a class that encapsulates both `A` &amp; `B`.\r\n\r\nI&#39;ve come across [Ordering.explicit()](https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Ordering.html#explicit(java.util.List)) but not able to figure it out.\r\n\r\n\r\n```\r\n  private static  class ComparatorB implements Comparator&lt;B&gt; {\r\n    @Override\r\n    public int compare(B left, B right) {\r\n      \r\n    }\r\n        \r\n    }\r\n\r\nOrdering&lt;B&gt; ordering = Ordering.from(new ComparatorB());\r\n```\r\nI&#39;m not able to figure out what to pass to sort method. `listA.sort(????)`","title":"Sort list based on comparator defined on another list using Guava Ordering","body":"<p>I've two lists of same size : <code>List&lt;A&gt;listA</code>, <code>List&lt;B&gt;listB</code> that are completely independent of each other.</p>\n<p>I'd like to sort <code>listA</code> based on how the elements move in <code>listB</code>.</p>\n<p>Assume there's an imaginary connection b/w the two lists.</p>\n<p>Eg:</p>\n<pre><code>listA = [a,b,c,d,e]\n         | | | | |\nlistB = [j,g,h,k,i]\n</code></pre>\n<p>If the listB's comparator sorts it lexicographically, listA should be <code>b,c,e,a,d</code></p>\n<pre><code>listA = [b,c,e,a,d]\n         | | | | |\nlistB = [g,h,i,j,k]\n</code></pre>\n<p>I don't want to create a class that encapsulates both <code>A</code> &amp; <code>B</code>.</p>\n<p>I've come across <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Ordering.html#explicit(java.util.List)\" rel=\"nofollow noreferrer\">Ordering.explicit()</a> but not able to figure it out.</p>\n<pre><code>  private static  class ComparatorB implements Comparator&lt;B&gt; {\n    @Override\n    public int compare(B left, B right) {\n      \n    }\n        \n    }\n\nOrdering&lt;B&gt; ordering = Ordering.from(new ComparatorB());\n</code></pre>\n<p>I'm not able to figure out what to pass to sort method. <code>listA.sort(????)</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3963457,"reputation":6910,"user_id":3270037,"accept_rate":100,"display_name":"Nick is tired"},"score":1,"creation_date":1686697866,"post_id":76469118,"comment_id":134834366,"body_markdown":"@user16320675 I mean, why _wouldn&#39;t_ you expect one, lots of compilers for lots of languages throw errors on undeclared fall throughs, C# has `Control cannot fall through from one case label to another` for example, and in C++ you can use `[[fallthrough]];` to make it explicit that fall through is intended. If for example OP was coming from another language, they have every reason to expect it to throw an error.","body":"@user16320675 I mean, why <i>wouldn&#39;t</i> you expect one, lots of compilers for lots of languages throw errors on undeclared fall throughs, C# has <code>Control cannot fall through from one case label to another</code> for example, and in C++ you can use <code>[[fallthrough]];</code> to make it explicit that fall through is intended. If for example OP was coming from another language, they have every reason to expect it to throw an error."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1686701875,"post_id":76469118,"comment_id":134834647,"body_markdown":"The compiler doesn&#39;t look at how much indentation you put on each line (like python, for example), so it sees that last `case` as AFTER the `default` block, not INSIDE it.  And there&#39;s no rule that says that `default` has to be the last branch.","body":"The compiler doesn&#39;t look at how much indentation you put on each line (like python, for example), so it sees that last <code>case</code> as AFTER the <code>default</code> block, not INSIDE it.  And there&#39;s no rule that says that <code>default</code> has to be the last branch."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1686747902,"post_id":76469118,"comment_id":134841587,"body_markdown":"@DawoodibnKareem I did not know that `default` is just another special type of `case` label and is treated similarly. I thought that `default` was a keyword reserved for all other values.","body":"@DawoodibnKareem I did not know that <code>default</code> is just another special type of <code>case</code> label and is treated similarly. I thought that <code>default</code> was a keyword reserved for all other values."}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686696572,"creation_date":1686696572,"answer_id":76469162,"question_id":76469118,"body_markdown":"If you would format that code (formatting doesn&#39;t influence on how code works), you see the answer:\r\n\r\n        var tailFeathers = 3;\r\n        final var one = 1;\r\n        switch (tailFeathers) {\r\n            case one:\r\n                System.out.print(3 + &quot; &quot;);\r\n            default:\r\n            case 44:\r\n                System.out.print(5 + &quot; &quot;);\r\n        }\r\n\r\nYour `case 44` follows the `default` branch. So with `tailFeathers = 3` your program jumps to default and since there is no `break` in it executes each of following branches. That&#39;s how java&#39;s swicth-case works.\r\n\r\nYou probably want to put `default` in the end.","title":"For this switch statement, why does the &#39;case&#39; inside a &#39;default&#39; get executed even when the case doesn&#39;t match?","body":"<p>If you would format that code (formatting doesn't influence on how code works), you see the answer:</p>\n<pre><code>    var tailFeathers = 3;\n    final var one = 1;\n    switch (tailFeathers) {\n        case one:\n            System.out.print(3 + &quot; &quot;);\n        default:\n        case 44:\n            System.out.print(5 + &quot; &quot;);\n    }\n</code></pre>\n<p>Your <code>case 44</code> follows the <code>default</code> branch. So with <code>tailFeathers = 3</code> your program jumps to default and since there is no <code>break</code> in it executes each of following branches. That's how java's swicth-case works.</p>\n<p>You probably want to put <code>default</code> in the end.</p>\n"},{"comments":[{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1686700220,"post_id":76469195,"comment_id":134834533,"body_markdown":"I don&#39;t understand how you can have a case statement inside a default statement.","body":"I don&#39;t understand how you can have a case statement inside a default statement."},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1686700544,"post_id":76469195,"comment_id":134834555,"body_markdown":"No, indentation before `case 44` in your snippet doesn&#39;t mean it&#39;s inside the default branch, it&#39;s still inside the switch statement, but it is executed because there is no break in the default branch. But the optimum thing as mentioned in the answer to get the default branch as the last branch, because it matches anything else that is narrowed upfront in other cases.","body":"No, indentation before <code>case 44</code> in your snippet doesn&#39;t mean it&#39;s inside the default branch, it&#39;s still inside the switch statement, but it is executed because there is no break in the default branch. But the optimum thing as mentioned in the answer to get the default branch as the last branch, because it matches anything else that is narrowed upfront in other cases."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1686700556,"post_id":76469195,"comment_id":134834557,"body_markdown":"@likejudo it is not a *case statement*, but a *case label* - and the Java Language Specification allows multiple labels to one statement block ( `SwitchLabel : {SwitchLabel :} BlockStatements` ) - I posted the link to the documentation in my comment 40 Minutes ago :-|","body":"@likejudo it is not a <i>case statement</i>, but a <i>case label</i> - and the Java Language Specification allows multiple labels to one statement block ( <code>SwitchLabel : {SwitchLabel :} BlockStatements</code> ) - I posted the link to the documentation in my comment 40 Minutes ago :-|"},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1686701448,"post_id":76469195,"comment_id":134834623,"body_markdown":"@user16320675 does that mean the default label is just another kind of case label? Furthermore that these are just like two case labels together?","body":"@user16320675 does that mean the default label is just another kind of case label? Furthermore that these are just like two case labels together?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1686703765,"post_id":76469195,"comment_id":134834786,"body_markdown":"@likejudo yes; see the [Grammar](https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-SwitchLabel) for it... same section, almost same link as I included in my 2nd comment; or as text: &quot;*... a switch label, which is either a case label or a default label.*&quot;","body":"@likejudo yes; see the <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-SwitchLabel\" rel=\"nofollow noreferrer\">Grammar</a> for it... same section, almost same link as I included in my 2nd comment; or as text: &quot;<i>... a switch label, which is either a case label or a default label.</i>&quot;"},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1686748270,"post_id":76469195,"comment_id":134841685,"body_markdown":"@user16320675 I did not know that default is just another special type of case label and is treated similarly. I thought that default was a keyword reserved for all other values. I am surprised to find that the case matching stops even though there is a `case 44:`. So the `default` overrides the `case`?","body":"@user16320675 I did not know that default is just another special type of case label and is treated similarly. I thought that default was a keyword reserved for all other values. I am surprised to find that the case matching stops even though there is a <code>case 44:</code>. So the <code>default</code> overrides the <code>case</code>?"}],"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686697953,"creation_date":1686697143,"answer_id":76469195,"question_id":76469118,"body_markdown":"Because the switch cases/branches are examined until finding a match; in your case, the match occurs in the `default` branch; once it finds a match, no more cases will be examined; but the code continues to execute until finding a `break` or to the end of the switch statement end brace if there is no `break`. \r\n\r\nImagine if the `default` case is the first branch, then the switch is useless; every time the `default` branch will be matched, and so it should be the last branch after any other case.\r\n\r\nEven if you put a `break` in the `default` branch that will fix your issue of not executing the next case, `case 44`, but any next cases to the `default` branch will be unreachable and useless.\r\n\r\nSo, the fix is to keep the `default` branch at the end of the switch statement.","title":"For this switch statement, why does the &#39;case&#39; inside a &#39;default&#39; get executed even when the case doesn&#39;t match?","body":"<p>Because the switch cases/branches are examined until finding a match; in your case, the match occurs in the <code>default</code> branch; once it finds a match, no more cases will be examined; but the code continues to execute until finding a <code>break</code> or to the end of the switch statement end brace if there is no <code>break</code>.</p>\n<p>Imagine if the <code>default</code> case is the first branch, then the switch is useless; every time the <code>default</code> branch will be matched, and so it should be the last branch after any other case.</p>\n<p>Even if you put a <code>break</code> in the <code>default</code> branch that will fix your issue of not executing the next case, <code>case 44</code>, but any next cases to the <code>default</code> branch will be unreachable and useless.</p>\n<p>So, the fix is to keep the <code>default</code> branch at the end of the switch statement.</p>\n"},{"comments":[{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":1,"creation_date":1686700136,"post_id":76469212,"comment_id":134834524,"body_markdown":"No, please remove the &#39;break&#39;. I don&#39;t understand how you can have a case statement inside a default statement.","body":"No, please remove the &#39;break&#39;. I don&#39;t understand how you can have a case statement inside a default statement."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1686700256,"post_id":76469212,"comment_id":134834535,"body_markdown":"You don&#39;t. `default` is a kind of `case` statement. It&#39;s the no-match `case` statement. It can appear in any order. And indentation is not significant.","body":"You don&#39;t. <code>default</code> is a kind of <code>case</code> statement. It&#39;s the no-match <code>case</code> statement. It can appear in any order. And indentation is not significant."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1686701172,"post_id":76469212,"comment_id":134834602,"body_markdown":"but then after the default there is a case keyword. I would expect a compiler error.","body":"but then after the default there is a case keyword. I would expect a compiler error."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1686702804,"post_id":76469212,"comment_id":134834720,"body_markdown":"case statements can appear in any order. `default` can be first. `default` can be last. `default` can be in the middle. Your expectations were incorrect.","body":"case statements can appear in any order. <code>default</code> can be first. <code>default</code> can be last. <code>default</code> can be in the middle. Your expectations were incorrect."},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":0,"creation_date":1686703257,"post_id":76469212,"comment_id":134834755,"body_markdown":"@likejudo The `case 44:` statement is _not **&quot;inside&quot;**_ the default statement. Just because you indented it in your originally posted code, that doesn&#39;t make it &quot;inside&quot;, you would need braces `{}` to create a block. Your &quot;default:&quot; and &quot;case 44:&quot; are just two case labels on the _same_ statement block, a block consisting of a single statement – `System.out.print(5 + &quot; &quot;);`","body":"@likejudo The <code>case 44:</code> statement is <i>not <b>&quot;inside&quot;</b></i> the default statement. Just because you indented it in your originally posted code, that doesn&#39;t make it &quot;inside&quot;, you would need braces <code>{}</code> to create a block. Your &quot;default:&quot; and &quot;case 44:&quot; are just two case labels on the <i>same</i> statement block, a block consisting of a single statement – <code>System.out.print(5 + &quot; &quot;);</code>"},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1686747740,"post_id":76469212,"comment_id":134841553,"body_markdown":"I did not know that `default` is just another special type of `case` label and is treated similarly. I thought that `default` was a keyword reserved for all other values.","body":"I did not know that <code>default</code> is just another special type of <code>case</code> label and is treated similarly. I thought that <code>default</code> was a keyword reserved for all other values."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1686748105,"post_id":76469212,"comment_id":134841649,"body_markdown":"I am surprised to find that the case matching stops even though there is a `case 44:`","body":"I am surprised to find that the case matching stops even though there is a <code>case 44:</code>"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1686748947,"post_id":76469212,"comment_id":134841831,"body_markdown":"Is that a new question? The case matching stops because the case matching is a type of jump table and the jump happens **once**. The value being examined is `tailFeathers` (`3`). `3` is not `44`. So why would the case matching consider `case 44`? The only matching label is `default`. So it jumps to the `default` label. Which is empty. If it has a `break` the `switch` ends. Without a `break` it *falls through* to the next case (if any), otherwise the `switch` ends. In no case does case matching continue.","body":"Is that a new question? The case matching stops because the case matching is a type of jump table and the jump happens <b>once</b>. The value being examined is <code>tailFeathers</code> (<code>3</code>). <code>3</code> is not <code>44</code>. So why would the case matching consider <code>case 44</code>? The only matching label is <code>default</code>. So it jumps to the <code>default</code> label. Which is empty. If it has a <code>break</code> the <code>switch</code> ends. Without a <code>break</code> it <i>falls through</i> to the next case (if any), otherwise the <code>switch</code> ends. In no case does case matching continue."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1686873252,"post_id":76469212,"comment_id":134861859,"body_markdown":"@ElliottFrisch can you please copy-paste your last comment into the answer? It explains it finally, for me. I shall accept your answer - thanks,","body":"@ElliottFrisch can you please copy-paste your last comment into the answer? It explains it finally, for me. I shall accept your answer - thanks,"}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686919350,"creation_date":1686697496,"answer_id":76469212,"question_id":76469118,"body_markdown":"Because `switch` case statements &quot;fall-through&quot;. You need a `break`.\r\n\r\n    switch (tailFeathers) {\r\n        case one:\r\n            System.out.print(3 + &quot; &quot;);\r\n            break; // One would fall through to default\r\n        default:\r\n            break; // Default would fall through to 44\r\n        case 44: System.out.print(5 + &quot; &quot;); // last statement\r\n    }\r\n\r\nCase matching is traditionally implemented as a type of jump table, and the jump happens once. The value being examined is `tailFeathers` (`3`). `3` is not `44` and `3` is not `1`. The only matching label is `default`. So it jumps to the `default` label. Which is empty. If it has a `break` the `switch` ends. Without a `break` it falls through to the next `case` (if any), otherwise the `switch` ends. In no case does case matching continue.\r\n\r\nNot legal in Java, in C this behavior was used to implement [Duff&#39;s Device](https://en.wikipedia.org/wiki/Duff%27s_device) (for loop unrolling). The kind of hack your elders warned you about.","title":"For this switch statement, why does the &#39;case&#39; inside a &#39;default&#39; get executed even when the case doesn&#39;t match?","body":"<p>Because <code>switch</code> case statements &quot;fall-through&quot;. You need a <code>break</code>.</p>\n<pre><code>switch (tailFeathers) {\n    case one:\n        System.out.print(3 + &quot; &quot;);\n        break; // One would fall through to default\n    default:\n        break; // Default would fall through to 44\n    case 44: System.out.print(5 + &quot; &quot;); // last statement\n}\n</code></pre>\n<p>Case matching is traditionally implemented as a type of jump table, and the jump happens once. The value being examined is <code>tailFeathers</code> (<code>3</code>). <code>3</code> is not <code>44</code> and <code>3</code> is not <code>1</code>. The only matching label is <code>default</code>. So it jumps to the <code>default</code> label. Which is empty. If it has a <code>break</code> the <code>switch</code> ends. Without a <code>break</code> it falls through to the next <code>case</code> (if any), otherwise the <code>switch</code> ends. In no case does case matching continue.</p>\n<p>Not legal in Java, in C this behavior was used to implement <a href=\"https://en.wikipedia.org/wiki/Duff%27s_device\" rel=\"nofollow noreferrer\">Duff's Device</a> (for loop unrolling). The kind of hack your elders warned you about.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686711274,"creation_date":1686705333,"answer_id":76469571,"question_id":76469118,"body_markdown":"It&#39;s somewhat of a trick question.&amp;nbsp; A _switch_ block is a unique programming structure.\r\n\r\nFirstly, the indentation they provide will throw you off.  \r\nThe question implies it is the following, which _does_ generate a compiler-error.\r\n\r\nThis is because the branches do not require a scope, since they are typically terminated with a _break_ keyword.\r\n\r\n```java\r\nstatic void f11(){\r\n    var tailFeathers = 3;\r\n    final var one = 1;\r\n    switch (tailFeathers) {\r\n        case one: {\r\n            System.out.print(3 + &quot; &quot;);\r\n        }\r\n        default: {\r\n            case 44: {\r\n                System.out.print(5 + &quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen the _default_ branch is reached, the exclusion of a _break_ keyword causes it to _fall-through_.\r\n\r\nAnd, since the _default_ branch had been reached, the compiler does no further evaluation of any subsequent branch.\r\n\r\nConsider the following.\r\n\r\n```java\r\nvoid example() {\r\n    int value = 1;\r\n    switch (value) {\r\n        case 2:\r\n        case 3:\r\n        default:\r\n        case 4: {\r\n            System.out.println(&quot;stack&quot;);\r\n        }\r\n        case 5: {\r\n            System.out.println(&quot;overflow&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nThis will print out, &quot;stack&quot; and &quot;overflow&quot;.","title":"For this switch statement, why does the &#39;case&#39; inside a &#39;default&#39; get executed even when the case doesn&#39;t match?","body":"<p>It's somewhat of a trick question.  A <em>switch</em> block is a unique programming structure.</p>\n<p>Firstly, the indentation they provide will throw you off.<br />\nThe question implies it is the following, which <em>does</em> generate a compiler-error.</p>\n<p>This is because the branches do not require a scope, since they are typically terminated with a <em>break</em> keyword.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void f11(){\n    var tailFeathers = 3;\n    final var one = 1;\n    switch (tailFeathers) {\n        case one: {\n            System.out.print(3 + &quot; &quot;);\n        }\n        default: {\n            case 44: {\n                System.out.print(5 + &quot; &quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>When the <em>default</em> branch is reached, the exclusion of a <em>break</em> keyword causes it to <em>fall-through</em>.</p>\n<p>And, since the <em>default</em> branch had been reached, the compiler does no further evaluation of any subsequent branch.</p>\n<p>Consider the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void example() {\n    int value = 1;\n    switch (value) {\n        case 2:\n        case 3:\n        default:\n        case 4: {\n            System.out.println(&quot;stack&quot;);\n        }\n        case 5: {\n            System.out.println(&quot;overflow&quot;);\n        }\n\n    }\n}\n</code></pre>\n<p>This will print out, &quot;stack&quot; and &quot;overflow&quot;.</p>\n"}],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76469212,"answer_count":4,"score":0,"last_activity_date":1686919350,"creation_date":1686695959,"question_id":76469118,"body_markdown":"For this `switch` statement, why does the &#39;`case`&#39; inside a &#39;`default`&#39; get executed even when there is no match?\r\n(from Java Certification by Boyarsky-Selikoff OCP-17)\r\n\r\nI expected a *compiler error*. I don&#39;t understand how you can have a case statement inside a default statement. \r\n\r\nI did not know that `default` is just another special type of `case` label and is treated similarly. I thought that default was a keyword reserved for all other values. I am surprised to find that the case matching stops even though there is a `case 44:`. So the `default` overrides the `case`?\r\n\r\nActual:\r\n\r\n    5 2 1 \r\n\r\n---\r\n\r\n    static void f11(){\r\n        var tailFeathers = 3;\r\n        final var one = 1;\r\n        switch (tailFeathers) {\r\n            case one: System.out.print(3 + &quot; &quot;);\r\n            default:\r\n                case 44: System.out.print(5 + &quot; &quot;);\r\n        }","title":"For this switch statement, why does the &#39;case&#39; inside a &#39;default&#39; get executed even when the case doesn&#39;t match?","body":"<p>For this <code>switch</code> statement, why does the '<code>case</code>' inside a '<code>default</code>' get executed even when there is no match?\n(from Java Certification by Boyarsky-Selikoff OCP-17)</p>\n<p>I expected a <em>compiler error</em>. I don't understand how you can have a case statement inside a default statement.</p>\n<p>I did not know that <code>default</code> is just another special type of <code>case</code> label and is treated similarly. I thought that default was a keyword reserved for all other values. I am surprised to find that the case matching stops even though there is a <code>case 44:</code>. So the <code>default</code> overrides the <code>case</code>?</p>\n<p>Actual:</p>\n<pre><code>5 2 1 \n</code></pre>\n<hr />\n<pre><code>static void f11(){\n    var tailFeathers = 3;\n    final var one = 1;\n    switch (tailFeathers) {\n        case one: System.out.print(3 + &quot; &quot;);\n        default:\n            case 44: System.out.print(5 + &quot; &quot;);\n    }\n</code></pre>\n"},{"tags":["java","jakarta-mail","mime"],"comments":[{"owner":{"account_id":1476987,"reputation":17785,"user_id":1387157,"accept_rate":94,"display_name":"MaVRoSCy"},"score":1,"creation_date":1382531712,"post_id":19541792,"comment_id":28994038,"body_markdown":"display it where? swing component? html page?","body":"display it where? swing component? html page?"},{"owner":{"account_id":967826,"reputation":879,"user_id":990923,"accept_rate":37,"display_name":"john"},"score":0,"creation_date":1382531803,"post_id":19541792,"comment_id":28994110,"body_markdown":"@MaVRoSCy I want to display the content in html page.","body":"@MaVRoSCy I want to display the content in html page."},{"owner":{"account_id":46951,"reputation":6126,"user_id":138933,"accept_rate":90,"display_name":"Benoit Wickramarachi"},"score":0,"creation_date":1382534036,"post_id":19541792,"comment_id":28995637,"body_markdown":"What is the type of the object? Is it a MimeMessage or a String containing the message?","body":"What is the type of the object? Is it a MimeMessage or a String containing the message?"},{"owner":{"account_id":967826,"reputation":879,"user_id":990923,"accept_rate":37,"display_name":"john"},"score":0,"creation_date":1382534743,"post_id":19541792,"comment_id":28996153,"body_markdown":"@BenoitWickramarachi String mime content ( The content same as show original message in gmail )","body":"@BenoitWickramarachi String mime content ( The content same as show original message in gmail )"},{"owner":{"account_id":46951,"reputation":6126,"user_id":138933,"accept_rate":90,"display_name":"Benoit Wickramarachi"},"score":0,"creation_date":1382536823,"post_id":19541792,"comment_id":28997708,"body_markdown":"Ok, can you show us some code. How are you retrieving the message?","body":"Ok, can you show us some code. How are you retrieving the message?"},{"owner":{"account_id":967826,"reputation":879,"user_id":990923,"accept_rate":37,"display_name":"john"},"score":0,"creation_date":1382537741,"post_id":19541792,"comment_id":28998409,"body_markdown":"@BenoitWickramarachi I have txt files which contains mime message, I am not retrieving message from mail server.","body":"@BenoitWickramarachi I have txt files which contains mime message, I am not retrieving message from mail server."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1609270916,"post_id":19541792,"comment_id":115797764,"body_markdown":"Does this answer your question? [How to find mimetype of response](https://stackoverflow.com/questions/9077933/how-to-find-mimetype-of-response)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9077933/how-to-find-mimetype-of-response\">How to find mimetype of response</a>"}],"answers":[{"comments":[{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1382685745,"post_id":19544796,"comment_id":29064896,"body_markdown":"You don&#39;t need to make a copy of the data before calling the MimeMessage constructor; just feed it the file directly, e.g., using a [SharedFileInputStream](https://javamail.java.net/nonav/docs/api/javax/mail/util/SharedFileInputStream.html).","body":"You don&#39;t need to make a copy of the data before calling the MimeMessage constructor; just feed it the file directly, e.g., using a <a href=\"https://javamail.java.net/nonav/docs/api/javax/mail/util/SharedFileInputStream.html\" rel=\"nofollow noreferrer\">SharedFileInputStream</a>."}],"tags":[],"owner":{"account_id":46951,"reputation":6126,"user_id":138933,"accept_rate":90,"display_name":"Benoit Wickramarachi"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1382540156,"creation_date":1382539196,"answer_id":19544796,"question_id":19541792,"body_markdown":"You need to read the file, then create a MimeMessage:\r\n\r\n       // read the file\r\n        StringBuffer fileData = new StringBuffer(1000);\r\n        BufferedReader reader = new BufferedReader(new FileReader(new File(/*PATH*/)));\r\n        char[] buf = new char[1024];\r\n        int numRead = 0;\r\n        while ((numRead = reader.read(buf)) != -1) {\r\n        \tfileData.append(buf, 0, numRead);\r\n        }\r\n        reader.close();\r\n\r\n    \r\n\r\n    // Create a MimeMessage\r\n\r\n    \r\n    Properties props = System.getProperties(); \r\n    Session session = Session.getInstance(props, null);\r\n    MimeMessage message = new MimeMessage(session, new ByteArrayInputStream(fileData.toString().getBytes()));\r\n\r\nNow that you have a mime message you can have access to its content using:\r\n\r\n    message.getContent();\r\n\r\nThe content type will depend on the mime type (could be a String, a Multipart object...)\r\n\r\nHere is the [JavaDoc][1] for MimeMessage.\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/mail/internet/MimeMessage.html#getContent%28%29","title":"How to parse raw mime content in java?","body":"<p>You need to read the file, then create a MimeMessage:</p>\n\n<pre><code>   // read the file\n    StringBuffer fileData = new StringBuffer(1000);\n    BufferedReader reader = new BufferedReader(new FileReader(new File(/*PATH*/)));\n    char[] buf = new char[1024];\n    int numRead = 0;\n    while ((numRead = reader.read(buf)) != -1) {\n        fileData.append(buf, 0, numRead);\n    }\n    reader.close();\n\n\n\n// Create a MimeMessage\n\n\nProperties props = System.getProperties(); \nSession session = Session.getInstance(props, null);\nMimeMessage message = new MimeMessage(session, new ByteArrayInputStream(fileData.toString().getBytes()));\n</code></pre>\n\n<p>Now that you have a mime message you can have access to its content using:</p>\n\n<pre><code>message.getContent();\n</code></pre>\n\n<p>The content type will depend on the mime type (could be a String, a Multipart object...)</p>\n\n<p>Here is the <a href=\"http://docs.oracle.com/javaee/6/api/javax/mail/internet/MimeMessage.html#getContent%28%29\" rel=\"nofollow\">JavaDoc</a> for MimeMessage.</p>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686919339,"creation_date":1686919339,"answer_id":76490321,"question_id":19541792,"body_markdown":"Read message by using `MimeMessage` and `MimeMultipart`\r\nfrom \r\n\r\n```\r\nimport javax.mail.Session;\r\nimport javax.mail.internet.MimeMessage;\r\nimport javax.mail.internet.MimeMultipart;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.util.Properties;\r\n...\r\n\r\n        Properties props = System.getProperties();\r\n        Session session = Session.getInstance(props, null);\r\n\r\n        ByteArrayInputStream is = new ByteArrayInputStream(emailMessage.getBytes());\r\n\r\n        MimeMessage message = new MimeMessage(session, is);\r\n\r\n        if (message.getContent() instanceof String) {\r\n            return (String) message.getContent();\r\n        }\r\n\r\n        MimeMultipart content = (MimeMultipart)message.getContent();\r\n\r\n        if (content.getCount() &lt;= 0) {\r\n            return null;\r\n        }\r\n\r\n        String contentString = (String) content.getBodyPart(0).getContent();\r\n```","title":"How to parse raw mime content in java?","body":"<p>Read message by using <code>MimeMessage</code> and <code>MimeMultipart</code>\nfrom</p>\n<pre><code>import javax.mail.Session;\nimport javax.mail.internet.MimeMessage;\nimport javax.mail.internet.MimeMultipart;\nimport java.io.ByteArrayInputStream;\nimport java.util.Properties;\n...\n\n        Properties props = System.getProperties();\n        Session session = Session.getInstance(props, null);\n\n        ByteArrayInputStream is = new ByteArrayInputStream(emailMessage.getBytes());\n\n        MimeMessage message = new MimeMessage(session, is);\n\n        if (message.getContent() instanceof String) {\n            return (String) message.getContent();\n        }\n\n        MimeMultipart content = (MimeMultipart)message.getContent();\n\n        if (content.getCount() &lt;= 0) {\n            return null;\n        }\n\n        String contentString = (String) content.getBodyPart(0).getContent();\n</code></pre>\n"}],"owner":{"account_id":967826,"reputation":879,"user_id":990923,"accept_rate":37,"display_name":"john"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7696,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686919339,"creation_date":1382531540,"question_id":19541792,"body_markdown":"I have raw mime message which contains html content, inline images and attachments.\r\n\r\nI want to parse and display the content in html page as like as mail client are displaying.\r\n\r\nIs there any java library or methods available to parse the raw mime content ?","title":"How to parse raw mime content in java?","body":"<p>I have raw mime message which contains html content, inline images and attachments.</p>\n\n<p>I want to parse and display the content in html page as like as mail client are displaying.</p>\n\n<p>Is there any java library or methods available to parse the raw mime content ?</p>\n"},{"tags":["java","eclipse","okhttp"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1628056793,"post_id":68646084,"comment_id":121316469,"body_markdown":"Looks like incompatible jar&#39;s","body":"Looks like incompatible jar&#39;s"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1628056839,"post_id":68646084,"comment_id":121316480,"body_markdown":"Add stacktrace as text not as image","body":"Add stacktrace as text not as image"},{"owner":{"account_id":17794219,"reputation":71,"user_id":12922468,"display_name":"boss_17"},"score":0,"creation_date":1628057189,"post_id":68646084,"comment_id":121316556,"body_markdown":"how can I fix that ? @Jens","body":"how can I fix that ? @Jens"}],"answers":[{"tags":[],"owner":{"account_id":7591958,"reputation":395,"user_id":5759359,"accept_rate":0,"display_name":"Kashyap"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628057757,"creation_date":1628057757,"answer_id":68646256,"question_id":68646084,"body_markdown":"To view where the okhttp dependency is coming from please run the below command this will display the dependency in a tree format \r\n\r\n    mvn dependency:tree\r\n\r\nOnce you figure out where the dependency is populated from, you can exclude(https://stackoverflow.com/questions/6028534/how-to-exclude-dependency-in-a-maven-plugin) okhttp from there, and add your required version. ","title":"Eclipse Okhttp Error - java.lang.NoSuchFieldError: Companion","body":"<p>To view where the okhttp dependency is coming from please run the below command this will display the dependency in a tree format</p>\n<pre><code>mvn dependency:tree\n</code></pre>\n<p>Once you figure out where the dependency is populated from, you can exclude(<a href=\"https://stackoverflow.com/questions/6028534/how-to-exclude-dependency-in-a-maven-plugin\">How to exclude dependency in a Maven plugin?</a>) okhttp from there, and add your required version.</p>\n"},{"tags":[],"owner":{"account_id":28834184,"reputation":1,"user_id":22083936,"display_name":"abcd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686918894,"creation_date":1686918894,"answer_id":76490271,"question_id":68646084,"body_markdown":"okio version used is 1.13 .The version required for the okhttp 4.9.1 is higher.  Okhttp will bring the dependency as transitive dependency of okio .","title":"Eclipse Okhttp Error - java.lang.NoSuchFieldError: Companion","body":"<p>okio version used is 1.13 .The version required for the okhttp 4.9.1 is higher.  Okhttp will bring the dependency as transitive dependency of okio .</p>\n"}],"owner":{"account_id":17794219,"reputation":71,"user_id":12922468,"display_name":"boss_17"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5360,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1686918894,"creation_date":1628056689,"question_id":68646084,"body_markdown":"I try to use Okhttp and Scarlet library but when I run project this exception throws.\r\nhow can I fix it? I search about it and I found out that the version of https is not the same in different library I added to my maven.in my maven dependency i see okhttp-4.9.1.jar and I do NOT know how i can change the version of that.\r\nplease help me ...\r\n```\r\nException in thread &quot;main&quot; java.lang.NoSuchFieldError: Companion\r\n\tat okhttp3.internal.Util.&lt;clinit&gt;(Util.kt:71)\r\n\tat okhttp3.OkHttpClient.&lt;clinit&gt;(OkHttpClient.kt:1073)\r\n\tat crypto.Main.main(Main.java:16)\r\n```\r\n\r\nmy pom.xml file :\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.cripto&lt;/groupId&gt;\r\n  &lt;artifactId&gt;crypto&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  \r\n  &lt;dependencies&gt;\r\n   &lt;dependency&gt;\r\n    &lt;groupId&gt;com.tinder.scarlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;websocket-okhttp&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1.12&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n  \r\n   &lt;dependency&gt;\r\n    &lt;groupId&gt;com.tinder.scarlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;scarlet&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1.12&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n   &lt;dependency&gt;\r\n   \t&lt;groupId&gt;com.tinder.scarlet&lt;/groupId&gt;\r\n   \t&lt;artifactId&gt;message-adapter-gson&lt;/artifactId&gt;\r\n   \t&lt;version&gt;0.1.12&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n   \r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n```\r\n\r\n\tpublic static String Url = &quot;wss://stream.binance.com:9443&quot; ;\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tOkHttpClient client = new OkHttpClient() ; \r\n\t\tSystem.out.println(client) ;\r\n\t\t\r\n\t\t\r\n\t\tScarlet scarlet = new Scarlet.Builder()\r\n\t\t\t\t.webSocketFactory(OkHttpClientUtils.newWebSocketFactory(client,Url))\r\n\t\t\t\t.addMessageAdapterFactory(new GsonMessageAdapter.Factory())\r\n\t\t\t\t//.addStreamAdapterFactory(new RxJava2StreamAdapterFactory())\r\n\t\t\t\t.build() ;\r\n\t\t\r\n\t}\r\n```\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H0Cco.png\r\n  [2]: https://i.stack.imgur.com/qtzAu.png","title":"Eclipse Okhttp Error - java.lang.NoSuchFieldError: Companion","body":"<p>I try to use Okhttp and Scarlet library but when I run project this exception throws.\nhow can I fix it? I search about it and I found out that the version of https is not the same in different library I added to my maven.in my maven dependency i see okhttp-4.9.1.jar and I do NOT know how i can change the version of that.\nplease help me ...</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: Companion\n    at okhttp3.internal.Util.&lt;clinit&gt;(Util.kt:71)\n    at okhttp3.OkHttpClient.&lt;clinit&gt;(OkHttpClient.kt:1073)\n    at crypto.Main.main(Main.java:16)\n</code></pre>\n<p>my pom.xml file :</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.cripto&lt;/groupId&gt;\n  &lt;artifactId&gt;crypto&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  \n  &lt;dependencies&gt;\n   &lt;dependency&gt;\n    &lt;groupId&gt;com.tinder.scarlet&lt;/groupId&gt;\n    &lt;artifactId&gt;websocket-okhttp&lt;/artifactId&gt;\n    &lt;version&gt;0.1.12&lt;/version&gt;\n   &lt;/dependency&gt;\n  \n   &lt;dependency&gt;\n    &lt;groupId&gt;com.tinder.scarlet&lt;/groupId&gt;\n    &lt;artifactId&gt;scarlet&lt;/artifactId&gt;\n    &lt;version&gt;0.1.12&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n    &lt;groupId&gt;com.tinder.scarlet&lt;/groupId&gt;\n    &lt;artifactId&gt;message-adapter-gson&lt;/artifactId&gt;\n    &lt;version&gt;0.1.12&lt;/version&gt;\n   &lt;/dependency&gt;\n   \n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<pre><code>\n    public static String Url = &quot;wss://stream.binance.com:9443&quot; ;\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        OkHttpClient client = new OkHttpClient() ; \n        System.out.println(client) ;\n        \n        \n        Scarlet scarlet = new Scarlet.Builder()\n                .webSocketFactory(OkHttpClientUtils.newWebSocketFactory(client,Url))\n                .addMessageAdapterFactory(new GsonMessageAdapter.Factory())\n                //.addStreamAdapterFactory(new RxJava2StreamAdapterFactory())\n                .build() ;\n        \n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qtzAu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qtzAu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","mvvm","android-databinding","autocompletetextview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686943283,"post_id":76490188,"comment_id":134873206,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":28804028,"reputation":1,"user_id":22060289,"display_name":"Garima"},"score":0,"creation_date":1687155188,"post_id":76490188,"comment_id":134891684,"body_markdown":"I need to know how can I use data binding in autoCompleteTextView in java using MVVM model architecture.","body":"I need to know how can I use data binding in autoCompleteTextView in java using MVVM model architecture."}],"owner":{"account_id":28804028,"reputation":1,"user_id":22060289,"display_name":"Garima"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686918306,"creation_date":1686918306,"question_id":76490188,"body_markdown":"Can anyone help me with data binding in autoCompleteTextView for setting an adapter and getting value in android using java language?\r\nI needed to implement MVVM model architecture in the example, but I am unsure how to do that","title":"Data Binding in autoCompleteTextView in Android","body":"<p>Can anyone help me with data binding in autoCompleteTextView for setting an adapter and getting value in android using java language?\nI needed to implement MVVM model architecture in the example, but I am unsure how to do that</p>\n"},{"tags":["java","amazon-web-services","trace","datadog","apm"],"answers":[{"tags":[],"owner":{"account_id":1571478,"reputation":2996,"user_id":1459079,"display_name":"Marcello Romani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686847323,"creation_date":1686846369,"answer_id":76483710,"question_id":75885816,"body_markdown":"One important detail to notice is that the Service Map will only show connection between services if there has been traffic during the (short) timespan currently selected.\r\n\r\nAfter submitting 1k requests to the Java app involving access to the database, the Service Map did indeed show a direct connection between the app and the db.\r\n\r\nStill not sure what the java-aws-sdk is about tho:\r\n\r\n[![java app with db instrumented with datadog apm][1]][1]\r\n\r\n\r\n\r\n&quot;java-aws-sdk&quot; seems to come from the tracing library\r\n\r\nhttps://github.com/DataDog/dd-trace-java/blob/master/dd-java-agent/instrumentation/aws-java-sdk-1.11.0/src/main/java/datadog/trace/instrumentation/aws/v0/AwsSdkClientDecorator.java#L29\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IZUxc.png","title":"DataDog APM Java library shows a generic java-aws-sdk service: how do I visualize specific AWS services instead?","body":"<p>One important detail to notice is that the Service Map will only show connection between services if there has been traffic during the (short) timespan currently selected.</p>\n<p>After submitting 1k requests to the Java app involving access to the database, the Service Map did indeed show a direct connection between the app and the db.</p>\n<p>Still not sure what the java-aws-sdk is about tho:</p>\n<p><a href=\"https://i.stack.imgur.com/IZUxc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IZUxc.png\" alt=\"java app with db instrumented with datadog apm\" /></a></p>\n<p>&quot;java-aws-sdk&quot; seems to come from the tracing library</p>\n<p><a href=\"https://github.com/DataDog/dd-trace-java/blob/master/dd-java-agent/instrumentation/aws-java-sdk-1.11.0/src/main/java/datadog/trace/instrumentation/aws/v0/AwsSdkClientDecorator.java#L29\" rel=\"nofollow noreferrer\">https://github.com/DataDog/dd-trace-java/blob/master/dd-java-agent/instrumentation/aws-java-sdk-1.11.0/src/main/java/datadog/trace/instrumentation/aws/v0/AwsSdkClientDecorator.java#L29</a></p>\n"},{"tags":[],"owner":{"account_id":1571478,"reputation":2996,"user_id":1459079,"display_name":"Marcello Romani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686918210,"creation_date":1686918210,"answer_id":76490175,"question_id":75885816,"body_markdown":"DataDog services can be renamed using the service mapping configuration variable:\r\n\r\nhttps://docs.datadoghq.com/tracing/trace_collection/library_config/java/","title":"DataDog APM Java library shows a generic java-aws-sdk service: how do I visualize specific AWS services instead?","body":"<p>DataDog services can be renamed using the service mapping configuration variable:</p>\n<p><a href=\"https://docs.datadoghq.com/tracing/trace_collection/library_config/java/\" rel=\"nofollow noreferrer\">https://docs.datadoghq.com/tracing/trace_collection/library_config/java/</a></p>\n"}],"owner":{"account_id":1571478,"reputation":2996,"user_id":1459079,"display_name":"Marcello Romani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686918210,"creation_date":1680164805,"question_id":75885816,"body_markdown":"I have instrumented a Java application with the DataDog APM library (`dd-java-agent.jar`) as per their documentation, adding the usual `DD_ENV`, `DD_SERVICE`, `DD_VERSION` env vars.\r\n\r\nThe application runs on EKS and interacts with S3 and RDS via the AWS Java SDK library.\r\n\r\nIn the APM console of the DataDog Web UI I see my application as a separate service.\r\nThe additional service `java-aws-sdk` is automatically identified as a separate service to which my app makes calls.\r\n\r\nI would like specific AWS services such as S3 appear as separate services as well.\r\n\r\nI have read the the [DataDog tracing documentation][1] multiple times but haven&#39;t found anything specific to my use case besides the usual service monitoring configuration.\r\n\r\nOne thing I admittedly did not try is tagging the code with custom traces where it calls AWS services, such as S3. I would like to avoid this approach though, and instead find a general way to visualize the interaction with specific AWS services through configuration rather than having to tag every specific AWS interaction in the code.\r\n\r\n\r\n  [1]: https://docs.datadoghq.com/tracing/trace_collection/library_config/java/","title":"DataDog APM Java library shows a generic java-aws-sdk service: how do I visualize specific AWS services instead?","body":"<p>I have instrumented a Java application with the DataDog APM library (<code>dd-java-agent.jar</code>) as per their documentation, adding the usual <code>DD_ENV</code>, <code>DD_SERVICE</code>, <code>DD_VERSION</code> env vars.</p>\n<p>The application runs on EKS and interacts with S3 and RDS via the AWS Java SDK library.</p>\n<p>In the APM console of the DataDog Web UI I see my application as a separate service.\nThe additional service <code>java-aws-sdk</code> is automatically identified as a separate service to which my app makes calls.</p>\n<p>I would like specific AWS services such as S3 appear as separate services as well.</p>\n<p>I have read the the <a href=\"https://docs.datadoghq.com/tracing/trace_collection/library_config/java/\" rel=\"nofollow noreferrer\">DataDog tracing documentation</a> multiple times but haven't found anything specific to my use case besides the usual service monitoring configuration.</p>\n<p>One thing I admittedly did not try is tagging the code with custom traces where it calls AWS services, such as S3. I would like to avoid this approach though, and instead find a general way to visualize the interaction with specific AWS services through configuration rather than having to tag every specific AWS interaction in the code.</p>\n"},{"tags":["java","json","parsing","pretty-print","org.json"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1686914660,"post_id":76489683,"comment_id":134867415,"body_markdown":"What data is missing?","body":"What data is missing?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1686914831,"post_id":76489683,"comment_id":134867457,"body_markdown":"It&#39;s likely that your source has problems like duplicate keys in objects. Some JSON parsers will throw those out silently. For example, Jackson has `DeserializationFeature.FAIL_ON_READING_DUP_TREE_KEY` but I&#39;m not sure if it&#39;s enabled by default.","body":"It&#39;s likely that your source has problems like duplicate keys in objects. Some JSON parsers will throw those out silently. For example, Jackson has <code>DeserializationFeature.FAIL_ON_READING_DUP_TREE_KEY</code> but I&#39;m not sure if it&#39;s enabled by default."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1686914887,"post_id":76489683,"comment_id":134867466,"body_markdown":"One easy way to find out what&#39;s different could be to *not* enable pretty printing, then `diff`ing the input and output files.","body":"One easy way to find out what&#39;s different could be to <i>not</i> enable pretty printing, then <code>diff</code>ing the input and output files."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1686915837,"post_id":76489683,"comment_id":134867648,"body_markdown":"A minimal example that would allow use to see the problems in these three bits of code would really help.","body":"A minimal example that would allow use to see the problems in these three bits of code would really help."},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1686918018,"post_id":76489683,"comment_id":134868097,"body_markdown":"Okay, I realized I screwed up while concatenating JSONs from different requests into a single big JSON. That was my mistake. Now formatting is working fine with e.g. `Jackson`. `DeserializationFeature.FAIL_ON_READING_DUP_TREE_KEY` did not help, the JSON parser still ran successfully.","body":"Okay, I realized I screwed up while concatenating JSONs from different requests into a single big JSON. That was my mistake. Now formatting is working fine with e.g. <code>Jackson</code>. <code>DeserializationFeature.FAIL_ON_READING_DUP_TREE_KEY</code> did not help, the JSON parser still ran successfully."}],"answers":[{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686918175,"creation_date":1686918175,"answer_id":76490170,"question_id":76489683,"body_markdown":"My mistake ended up being that I concatenated different JSONs into a big JSON in the wrong way by doing e.g. `&quot;[{...}, {...}]&quot; + &quot;[{...}, {...}]&quot; ...`\r\nOf course, that didn&#39;t work correctly and JSON parsing stopped after the first array as expected. After fixing my concatentation logic, even the 10MB JSON is parsed and formatted correctly using e.g. the `Jackson` library.","title":"Cannot correctly pretty print entire JSON array with JSON libraries in Java","body":"<p>My mistake ended up being that I concatenated different JSONs into a big JSON in the wrong way by doing e.g. <code>&quot;[{...}, {...}]&quot; + &quot;[{...}, {...}]&quot; ...</code>\nOf course, that didn't work correctly and JSON parsing stopped after the first array as expected. After fixing my concatentation logic, even the 10MB JSON is parsed and formatted correctly using e.g. the <code>Jackson</code> library.</p>\n"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686927323,"accepted_answer_id":76490170,"answer_count":1,"score":0,"last_activity_date":1686918175,"creation_date":1686914443,"question_id":76489683,"body_markdown":"I have an unformatted JSON string which I want to format using Java. I already added the `org.json` dependency and I wrote the following code:\r\n\r\n    String json = &quot;[{...}, {...}]&quot;; // Placeholder for my actual large JSON array string\r\n    JsonArray jsonArray = new JSONArray(json);\r\n    json = jsonArray.toString(4);\r\n\r\nAfter formatting, the JSON became much smaller than it should be (originally ~10MB, after formatting ~3MB).\r\n\r\nWhy? Clearly, a lot of data is missing.\r\n\r\nI also tried `Gson` but it failed with\r\n\r\n    Caused by: com.google.gson.JsonIOException: Failed making field &#39;java.io.Reader#lock&#39; accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\r\n    \tat com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:286)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130)\r\n    \tat com.google.gson.Gson.getAdapter(Gson.java:556)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:294)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130)\r\n    \tat com.google.gson.Gson.getAdapter(Gson.java:556)\r\n    \tat com.google.gson.Gson.toJson(Gson.java:834)\r\n    \tat com.google.gson.Gson.toJson(Gson.java:812)\r\n    \tat com.google.gson.Gson.toJson(Gson.java:759)\r\n    \tat com.google.gson.Gson.toJson(Gson.java:736)\r\n\r\nsince I&#39;m using Java 19.\r\n\r\nUsed code:\r\n\r\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n    JsonReader jsonReader = new JsonReader(new StringReader(json));\r\n    jsonReader.setLenient(true); // Enable lenient mode to handle malformed JSON\r\n    json = gson.toJson(jsonReader);\r\n\r\nFinally, I tried `Jackson`:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(mapper.readTree(json));\r\n\r\nSame problem as `org.json`, the output JSON is about 1/3 of the original.","title":"Cannot correctly pretty print entire JSON array with JSON libraries in Java","body":"<p>I have an unformatted JSON string which I want to format using Java. I already added the <code>org.json</code> dependency and I wrote the following code:</p>\n<pre><code>String json = &quot;[{...}, {...}]&quot;; // Placeholder for my actual large JSON array string\nJsonArray jsonArray = new JSONArray(json);\njson = jsonArray.toString(4);\n</code></pre>\n<p>After formatting, the JSON became much smaller than it should be (originally ~10MB, after formatting ~3MB).</p>\n<p>Why? Clearly, a lot of data is missing.</p>\n<p>I also tried <code>Gson</code> but it failed with</p>\n<pre><code>Caused by: com.google.gson.JsonIOException: Failed making field 'java.io.Reader#lock' accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\n    at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:286)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130)\n    at com.google.gson.Gson.getAdapter(Gson.java:556)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:294)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130)\n    at com.google.gson.Gson.getAdapter(Gson.java:556)\n    at com.google.gson.Gson.toJson(Gson.java:834)\n    at com.google.gson.Gson.toJson(Gson.java:812)\n    at com.google.gson.Gson.toJson(Gson.java:759)\n    at com.google.gson.Gson.toJson(Gson.java:736)\n</code></pre>\n<p>since I'm using Java 19.</p>\n<p>Used code:</p>\n<pre><code>Gson gson = new GsonBuilder().setPrettyPrinting().create();\nJsonReader jsonReader = new JsonReader(new StringReader(json));\njsonReader.setLenient(true); // Enable lenient mode to handle malformed JSON\njson = gson.toJson(jsonReader);\n</code></pre>\n<p>Finally, I tried <code>Jackson</code>:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\njson = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(mapper.readTree(json));\n</code></pre>\n<p>Same problem as <code>org.json</code>, the output JSON is about 1/3 of the original.</p>\n"},{"tags":["java","concurrency","java-threads","java-memory-model"],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686754327,"creation_date":1686754019,"answer_id":76474815,"question_id":76470910,"body_markdown":"I believe your misunderstanding is the write of `B=42`.  Since Thread 2 does not read `B` until the `print(B)` statement, there is no happens before relationship for `B` until after the read of `A`.  therefore the write of `B=42` has no affect on the read of `A` by Thread 2.\r\n\r\nSo Thread 2 can observe the write of `A=1` before the write of `B=42`.","title":"How to use volatile to ensure sequential consistency","body":"<p>I believe your misunderstanding is the write of <code>B=42</code>.  Since Thread 2 does not read <code>B</code> until the <code>print(B)</code> statement, there is no happens before relationship for <code>B</code> until after the read of <code>A</code>.  therefore the write of <code>B=42</code> has no affect on the read of <code>A</code> by Thread 2.</p>\n<p>So Thread 2 can observe the write of <code>A=1</code> before the write of <code>B=42</code>.</p>\n"},{"comments":[{"owner":{"account_id":11849979,"reputation":777,"user_id":8671549,"accept_rate":20,"display_name":"l30c0d35"},"score":0,"creation_date":1686811029,"post_id":76476303,"comment_id":134851055,"body_markdown":"this does make sense but I do not really understand where I misunderstand the docs","body":"this does make sense but I do not really understand where I misunderstand the docs"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1686887116,"post_id":76476303,"comment_id":134862929,"body_markdown":"The CPU can also be a cause of reordering due to OOOe. The 2 stores or 2 loads will probably be performed out of order due to the out-of-order nature of modern processors. It depends very much on the ISA how much of this out-of-order execution can become visible to other CPUs; on the X86 the 2 stores and 2 loads can&#39;t become visible out of order, but ARM and RISC-V have a much more relaxed memory model.","body":"The CPU can also be a cause of reordering due to OOOe. The 2 stores or 2 loads will probably be performed out of order due to the out-of-order nature of modern processors. It depends very much on the ISA how much of this out-of-order execution can become visible to other CPUs; on the X86 the 2 stores and 2 loads can&#39;t become visible out of order, but ARM and RISC-V have a much more relaxed memory model."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686911607,"post_id":76476303,"comment_id":134866876,"body_markdown":"“by the time thread 2 reads `B`” is a phrase that leads to a widespread misunderstanding. It must be “by the time thread 2 reads `42` from `B` (if it ever reads `42` from `B`)”`.","body":"“by the time thread 2 reads <code>B</code>” is a phrase that leads to a widespread misunderstanding. It must be “by the time thread 2 reads <code>42</code> from <code>B</code> (if it ever reads <code>42</code> from <code>B</code>)”`."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1686917373,"post_id":76476303,"comment_id":134867964,"body_markdown":"@Holger, I have implemented your suggestion. Thank you.","body":"@Holger, I have implemented your suggestion. Thank you."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1686917662,"post_id":76476303,"comment_id":134868022,"body_markdown":"@pveentjer, Ditto. Actually, when I wrote my answer, I made a deliberate decision not to complicate the answer by mentioning the memory system. I thought that just saying the compiler could do it would be enough. Hopefully, the change I made above, which just says &quot;the hardware could re-order the stores&quot; will be a satisfactory middle path.","body":"@pveentjer, Ditto. Actually, when I wrote my answer, I made a deliberate decision not to complicate the answer by mentioning the memory system. I thought that just saying the compiler could do it would be enough. Hopefully, the change I made above, which just says &quot;the hardware could re-order the stores&quot; will be a satisfactory middle path."}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686917300,"creation_date":1686764920,"answer_id":76476303,"question_id":76470910,"body_markdown":"&gt; The two edges from `B=42` to `A=1` are simple program order (PO) edges\r\n\r\nMaking `B` volatile guarantees that whatever thread 1 did _in program order_ before the `B=42` assignment must be visible to thread 2 by the time thread 2 reads 42 from `B`. But, in your example, thread 1 does _nothing_ before it assigns `B=42`. So, _nothing_ is what the volatile read guarantees.\r\n\r\nHere&#39;s something that could happen. The compiler could re-order the two assignments in thread 1, or the hardware could store the values out-of-order. That does not violate &quot;program order&quot; if it doesn&#39;t change the outcome of anything that happens within thread 1 itself. So, it could play out like this:\r\n\r\n```\r\nThread 1      Thread 2\r\nA = 1;\r\n              if (A==1) {                  // succeeds!\r\n                  System.out.println(B);   // prints &quot;0&quot;\r\nB = 42;       }\r\n```\r\n\r\nIDK why those assignments ever _would_ be re-ordered, but I&#39;m pretty sure that the rules _allow_ them to be reordered.","title":"How to use volatile to ensure sequential consistency","body":"<blockquote>\n<p>The two edges from <code>B=42</code> to <code>A=1</code> are simple program order (PO) edges</p>\n</blockquote>\n<p>Making <code>B</code> volatile guarantees that whatever thread 1 did <em>in program order</em> before the <code>B=42</code> assignment must be visible to thread 2 by the time thread 2 reads 42 from <code>B</code>. But, in your example, thread 1 does <em>nothing</em> before it assigns <code>B=42</code>. So, <em>nothing</em> is what the volatile read guarantees.</p>\n<p>Here's something that could happen. The compiler could re-order the two assignments in thread 1, or the hardware could store the values out-of-order. That does not violate &quot;program order&quot; if it doesn't change the outcome of anything that happens within thread 1 itself. So, it could play out like this:</p>\n<pre><code>Thread 1      Thread 2\nA = 1;\n              if (A==1) {                  // succeeds!\n                  System.out.println(B);   // prints &quot;0&quot;\nB = 42;       }\n</code></pre>\n<p>IDK why those assignments ever <em>would</em> be re-ordered, but I'm pretty sure that the rules <em>allow</em> them to be reordered.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686912719,"post_id":76485948,"comment_id":134867080,"body_markdown":"It’s misleading, at best, to write `volatile-write(B=0)` for the initial write of `B`. As you already cited, the initial writes behave as-if happening at the start of the program already, so there is no ordering relationship between them and there’s nothing before them in program order.","body":"It’s misleading, at best, to write <code>volatile-write(B=0)</code> for the initial write of <code>B</code>. As you already cited, the initial writes behave as-if happening at the start of the program already, so there is no ordering relationship between them and there’s nothing before them in program order."}],"tags":[],"owner":{"account_id":28830272,"reputation":36,"user_id":22080877,"display_name":"user22080877"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686869218,"creation_date":1686869218,"answer_id":76485948,"question_id":76470910,"body_markdown":"Just to make sure I understand you correctly:\r\n* your question is:\r\n  &gt; This makes me wonder can we observe B==0 at the print and if yes where is my reasoning or understanding of the docs wrong?\r\n* the java code in question is:\r\n  ```java\r\n  package my.test;\r\n  \r\n  class MyTest {\r\n    \r\n    static int A; // =0\r\n    static volatile int B; // =0\r\n  \r\n    public static void main(String[] args) throws InterruptedException {\r\n      var t1 = new Thread(() -&gt; {\r\n        B = 42;\r\n        A = 1;\r\n      });\r\n      var t2 = new Thread(() -&gt; {\r\n        if (A == 1) {          // reads A==1 \r\n          System.out.print(B); // reads B==0\r\n        }\r\n      });\r\n    \r\n      t1.start();\r\n      t2.start();\r\n    \r\n      t1.join();\r\n      t2.join();\r\n    }\r\n  }\r\n  ```\r\n\r\nWe are interested in the execution where:\r\n* the read of `A` in `A == 1` reads `1`\r\n* the read of `B` in `System.out.print(B)` reads `0`\r\n\r\nIn terms of [the JMM actions](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.2) the execution is this (for brevity only actions on `A` and `B` are shown):\r\n```\r\nInitially:\r\n         write(A=0)\r\nvolatile-write(B=0)\r\n\r\nThread1:                Thread2:\r\nvolatile-write(B=42)             read(A):1\r\n         write(A=1)     volatile-read(B):0\r\n```\r\n\r\n\r\nHere are [_program-order_](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.3) and [_synchronizes-with_](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.4) (`[po]` and `[sw]` on the diagram) relations between the actions in the execution:\r\n```\r\n         write(A=0)                         \r\n            ↓[po]                           \r\nvolatile-write(B=0)                         \r\n            ││└──────────────────────┐      \r\n            │└───────────────┐       │      \r\n            ↓[sw]            │       ↓[sw]  \r\nvolatile-write(B=42)         │     read(A):1\r\n            ↓[po]            ↓[sw]   ↓[po]  \r\n         write(A=1)       volatile-read(B):0\r\n```\r\nNotes:\r\n* there is an `[sw]` edge between initial writes and the first action in every thread because of this rule:\r\n  &gt; The write of the default value (zero, false, or null) to each variable _synchronizes-with_ the first action in every thread.\r\n  &gt;\r\n  &gt; &lt;pre&gt;Although it may seem a little strange to write a default value to a variable before the object containing the variable is allocated, conceptually every object is created at the start of the program with its default initialized values.&lt;/pre&gt;\r\n* `volatile-read(B):0` _synchronizes-with_ `volatile-write(B=0)` because of this rule:\r\n  &gt; A write to a volatile variable _v_ (&#167;8.3.1.4) _synchronizes-with_ all subsequent reads of _v_ by any thread (where &quot;subsequent&quot; is defined according to the synchronization order). \r\n  \r\n  BTW the synchronization order in our case is: `volatile-write(B=0)` -&gt; `volatile-read(B):0` -&gt; `volatile-write(B=42)`.  \r\n  According to the synchronization order&#39;s definition it&#39;s a global order among all synchronization actions and it&#39;s consistent with the program order.  \r\n  The read `volatile-read(B):0` returns `0` because of this rule:\r\n  &gt; The execution obeys synchronization-order consistency.\r\n  &gt;\r\n  &gt; For all volatile reads _r_ in _A_, it is not the case that either _so(r, W(r))_ or that there exists a write _w_ in _A_ such that _w.v = r.v_ and _so(W(r), w)_ and _so(w, r)_.\r\n\r\n* there is no `[sw]` edge between `volatile-write(B=42)` and `volatile-read(B):0`. That&#39;s because according to the following rule a volatile write synchronizes-with only those volatile reads of the variable, that come **later** in the synchronization order:\r\n  &gt; A write to a volatile variable `v` (&#167;8.3.1.4) _synchronizes-with_ all subsequent reads of `v` by any thread (where &quot;subsequent&quot; is defined according to the synchronization order). \r\n* there is no `[sw]` edge between `write(A=1)` and `read(A):1` because these are ordinary write and read, but `[sw]` is only for synchronization actions \r\n\r\nAnd here are [_happens-before_](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5) relations (built from `[po]` and `[sw]`) between the actions:\r\n```\r\n         write(A=0)                         \r\n            ↓[hb]                           \r\nvolatile-write(B=0)                         \r\n            │└──────────────────────┐       \r\n            ↓[hb]                   ↓[hb]   \r\nvolatile-write(B=42)              read(A):1 \r\n            ↓[hb]                   ↓[hb]   \r\n         write(A=1)       volatile-read(B):0\r\n```\r\n\r\nHappens-before consistency according to the JLS:\r\n&gt; We say that a read `r` of a variable `v` is allowed to observe a write `w` to `v` if, in the _happens-before_ partial order of the execution trace:\r\n&gt; \r\n&gt;  `r` is not ordered before `w` (i.e., it is not the case that `hb(r, w)`), and\r\n&gt; \r\n&gt;  there is no intervening write `w&#39;` to `v` (i.e. no write `w&#39;` to `v` such that `hb(w, w&#39;)` and `hb(w&#39;, r)`).\r\n&gt; \r\n&gt; Informally, a read `r` is allowed to see the result of a write `w` if there is no happens-before ordering to prevent that read. \r\n&gt; \r\n&gt; A set of actions `A` is happens-before consistent if for all reads `r` in `A`, where `W(r)` is the write action seen by `r`, it is not the case that either `hb(r, W(r))` or that there exists a write `w` in `A` such that `w.v = r.v` and `hb(W(r), w)` and `hb(w, r)`.\r\n&gt; \r\n&gt; In a happens-before consistent set of actions, each read sees a write that it is allowed to see by the happens-before ordering. \r\n\r\nHappens-before consistency isn&#39;t violated for `read(A):1` because, as you can see in the diagram above, there is no happens-before relations between `write(A=1)` and `read(A):1`.\r\n\r\n`volatile-read(B):0` is also fine (it&#39;s explained above).\r\n\r\nIn fact, I don&#39;t see anything in [the JMM](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4) that is violated in this execution - so IMO the execution is legal according to the JMM.","title":"How to use volatile to ensure sequential consistency","body":"<p>Just to make sure I understand you correctly:</p>\n<ul>\n<li>your question is:\n<blockquote>\n<p>This makes me wonder can we observe B==0 at the print and if yes where is my reasoning or understanding of the docs wrong?</p>\n</blockquote>\n</li>\n<li>the java code in question is:\n<pre class=\"lang-java prettyprint-override\"><code>package my.test;\n\nclass MyTest {\n\n  static int A; // =0\n  static volatile int B; // =0\n\n  public static void main(String[] args) throws InterruptedException {\n    var t1 = new Thread(() -&gt; {\n      B = 42;\n      A = 1;\n    });\n    var t2 = new Thread(() -&gt; {\n      if (A == 1) {          // reads A==1 \n        System.out.print(B); // reads B==0\n      }\n    });\n\n    t1.start();\n    t2.start();\n\n    t1.join();\n    t2.join();\n  }\n}\n</code></pre>\n</li>\n</ul>\n<p>We are interested in the execution where:</p>\n<ul>\n<li>the read of <code>A</code> in <code>A == 1</code> reads <code>1</code></li>\n<li>the read of <code>B</code> in <code>System.out.print(B)</code> reads <code>0</code></li>\n</ul>\n<p>In terms of <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.2\" rel=\"nofollow noreferrer\">the JMM actions</a> the execution is this (for brevity only actions on <code>A</code> and <code>B</code> are shown):</p>\n<pre><code>Initially:\n         write(A=0)\nvolatile-write(B=0)\n\nThread1:                Thread2:\nvolatile-write(B=42)             read(A):1\n         write(A=1)     volatile-read(B):0\n</code></pre>\n<p>Here are <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.3\" rel=\"nofollow noreferrer\"><em>program-order</em></a> and <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.4\" rel=\"nofollow noreferrer\"><em>synchronizes-with</em></a> (<code>[po]</code> and <code>[sw]</code> on the diagram) relations between the actions in the execution:</p>\n<pre><code>         write(A=0)                         \n            ↓[po]                           \nvolatile-write(B=0)                         \n            ││└──────────────────────┐      \n            │└───────────────┐       │      \n            ↓[sw]            │       ↓[sw]  \nvolatile-write(B=42)         │     read(A):1\n            ↓[po]            ↓[sw]   ↓[po]  \n         write(A=1)       volatile-read(B):0\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li><p>there is an <code>[sw]</code> edge between initial writes and the first action in every thread because of this rule:</p>\n<blockquote>\n<p>The write of the default value (zero, false, or null) to each variable <em>synchronizes-with</em> the first action in every thread.</p>\n<pre>Although it may seem a little strange to write a default value to a variable before the object containing the variable is allocated, conceptually every object is created at the start of the program with its default initialized values.</pre>\n</blockquote>\n</li>\n<li><p><code>volatile-read(B):0</code> <em>synchronizes-with</em> <code>volatile-write(B=0)</code> because of this rule:</p>\n<blockquote>\n<p>A write to a volatile variable <em>v</em> (§8.3.1.4) <em>synchronizes-with</em> all subsequent reads of <em>v</em> by any thread (where &quot;subsequent&quot; is defined according to the synchronization order).</p>\n</blockquote>\n<p>BTW the synchronization order in our case is: <code>volatile-write(B=0)</code> -&gt; <code>volatile-read(B):0</code> -&gt; <code>volatile-write(B=42)</code>.<br />\nAccording to the synchronization order's definition it's a global order among all synchronization actions and it's consistent with the program order.<br />\nThe read <code>volatile-read(B):0</code> returns <code>0</code> because of this rule:</p>\n<blockquote>\n<p>The execution obeys synchronization-order consistency.</p>\n<p>For all volatile reads <em>r</em> in <em>A</em>, it is not the case that either <em>so(r, W(r))</em> or that there exists a write <em>w</em> in <em>A</em> such that <em>w.v = r.v</em> and <em>so(W(r), w)</em> and <em>so(w, r)</em>.</p>\n</blockquote>\n</li>\n<li><p>there is no <code>[sw]</code> edge between <code>volatile-write(B=42)</code> and <code>volatile-read(B):0</code>. That's because according to the following rule a volatile write synchronizes-with only those volatile reads of the variable, that come <strong>later</strong> in the synchronization order:</p>\n<blockquote>\n<p>A write to a volatile variable <code>v</code> (§8.3.1.4) <em>synchronizes-with</em> all subsequent reads of <code>v</code> by any thread (where &quot;subsequent&quot; is defined according to the synchronization order).</p>\n</blockquote>\n</li>\n<li><p>there is no <code>[sw]</code> edge between <code>write(A=1)</code> and <code>read(A):1</code> because these are ordinary write and read, but <code>[sw]</code> is only for synchronization actions</p>\n</li>\n</ul>\n<p>And here are <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\"><em>happens-before</em></a> relations (built from <code>[po]</code> and <code>[sw]</code>) between the actions:</p>\n<pre><code>         write(A=0)                         \n            ↓[hb]                           \nvolatile-write(B=0)                         \n            │└──────────────────────┐       \n            ↓[hb]                   ↓[hb]   \nvolatile-write(B=42)              read(A):1 \n            ↓[hb]                   ↓[hb]   \n         write(A=1)       volatile-read(B):0\n</code></pre>\n<p>Happens-before consistency according to the JLS:</p>\n<blockquote>\n<p>We say that a read <code>r</code> of a variable <code>v</code> is allowed to observe a write <code>w</code> to <code>v</code> if, in the <em>happens-before</em> partial order of the execution trace:</p>\n<p><code>r</code> is not ordered before <code>w</code> (i.e., it is not the case that <code>hb(r, w)</code>), and</p>\n<p>there is no intervening write <code>w'</code> to <code>v</code> (i.e. no write <code>w'</code> to <code>v</code> such that <code>hb(w, w')</code> and <code>hb(w', r)</code>).</p>\n<p>Informally, a read <code>r</code> is allowed to see the result of a write <code>w</code> if there is no happens-before ordering to prevent that read.</p>\n<p>A set of actions <code>A</code> is happens-before consistent if for all reads <code>r</code> in <code>A</code>, where <code>W(r)</code> is the write action seen by <code>r</code>, it is not the case that either <code>hb(r, W(r))</code> or that there exists a write <code>w</code> in <code>A</code> such that <code>w.v = r.v</code> and <code>hb(W(r), w)</code> and <code>hb(w, r)</code>.</p>\n<p>In a happens-before consistent set of actions, each read sees a write that it is allowed to see by the happens-before ordering.</p>\n</blockquote>\n<p>Happens-before consistency isn't violated for <code>read(A):1</code> because, as you can see in the diagram above, there is no happens-before relations between <code>write(A=1)</code> and <code>read(A):1</code>.</p>\n<p><code>volatile-read(B):0</code> is also fine (it's explained above).</p>\n<p>In fact, I don't see anything in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">the JMM</a> that is violated in this execution - so IMO the execution is legal according to the JMM.</p>\n"}],"owner":{"account_id":11849979,"reputation":777,"user_id":8671549,"accept_rate":20,"display_name":"l30c0d35"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76485948,"answer_count":3,"score":1,"last_activity_date":1686917300,"creation_date":1686726218,"question_id":76470910,"body_markdown":"Consider two threads:\r\n\r\nA==B==0 (initially)\r\n\r\n| Thread 1 | Thread 2  |\r\n|----------|-----------|\r\n|B=42;     |if (A==1)  |\r\n|A=1;      |...print(B)|\r\n\r\n\r\nTo my knowledge if (at least) `A` is `volatile` we will only be able to read `B==42` at the `print`. Though if only mark `B` as `volatile` we can read `B==42` but also `B==0`.\r\n\r\nI want to look at the case where only `B` is `volatile` more closely and understand why we can read `B==0` based on what these [docs][1] say. To do so I started by adding all program order edges and synchronizes with as described in the docs:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe two edges from `B=42` to `A=1` are simple program order (PO) edges the rest are synchronizes with (SW) edges. According to the docs we have a SW edge when &quot;*The write of the default value [...] to each variable synchronizes-with the first action in every thread.*&quot; (those are the first 4 edges in the picture) and &quot;*A write to a volatile variable v [...] synchronizes-with all subsequent reads of v*&quot; (the edges from `B=42` to `print(B)`).\r\n\r\nNow we can take a look at what happens before edges exists (HB), according to the docs each of these edges is also an HB ordering. Additionally for all hb(x,y) and hb(y,z) we have hb(x,z) (these edges are missing but we will still use those). \r\n\r\nFinally, we get from the docs what we can read at `print(B)` from: &quot;We say that a read r of a variable v is allowed to observe a write w to v if, in the happens-before partial order [...]:\r\n\r\n - r is not ordered before w (i.e., it is not the case that hb(r, w)), and\r\n - there is no [...] no write w&#39; to v such that hb(w, w&#39;) and hb(w&#39;, r)\r\n&quot;\r\n\r\nLet&#39;s see if we can observe a write w (`B=0`) at a read r (`print(B)`). We indeed have not hb(r, w). However, we do have a write w&#39; (B=42) intervening with hb(wow&#39;) and hb(w&#39;,r).\r\n\r\nThis makes me wonder can we observe `B==0` at the print and if yes where is my reasoning or understanding of the docs wrong? I would like a answer that is clearly referring to the docs.\r\n\r\n(I have looked at this [post][3] however I hope for an explanation referencing the JMM docs more closely, my question also arises from this particular code)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4.5-110\r\n  [2]: https://i.stack.imgur.com/hLbiQ.png\r\n  [3]: https://stackoverflow.com/questions/46889610/sequential-consistency-volatile-explanation","title":"How to use volatile to ensure sequential consistency","body":"<p>Consider two threads:</p>\n<p>A==B==0 (initially)</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Thread 1</th>\n<th>Thread 2</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>B=42;</td>\n<td>if (A==1)</td>\n</tr>\n<tr>\n<td>A=1;</td>\n<td>...print(B)</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>To my knowledge if (at least) <code>A</code> is <code>volatile</code> we will only be able to read <code>B==42</code> at the <code>print</code>. Though if only mark <code>B</code> as <code>volatile</code> we can read <code>B==42</code> but also <code>B==0</code>.</p>\n<p>I want to look at the case where only <code>B</code> is <code>volatile</code> more closely and understand why we can read <code>B==0</code> based on what these <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4.5-110\" rel=\"nofollow noreferrer\">docs</a> say. To do so I started by adding all program order edges and synchronizes with as described in the docs:</p>\n<p><a href=\"https://i.stack.imgur.com/hLbiQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hLbiQ.png\" alt=\"enter image description here\" /></a></p>\n<p>The two edges from <code>B=42</code> to <code>A=1</code> are simple program order (PO) edges the rest are synchronizes with (SW) edges. According to the docs we have a SW edge when &quot;<em>The write of the default value [...] to each variable synchronizes-with the first action in every thread.</em>&quot; (those are the first 4 edges in the picture) and &quot;<em>A write to a volatile variable v [...] synchronizes-with all subsequent reads of v</em>&quot; (the edges from <code>B=42</code> to <code>print(B)</code>).</p>\n<p>Now we can take a look at what happens before edges exists (HB), according to the docs each of these edges is also an HB ordering. Additionally for all hb(x,y) and hb(y,z) we have hb(x,z) (these edges are missing but we will still use those).</p>\n<p>Finally, we get from the docs what we can read at <code>print(B)</code> from: &quot;We say that a read r of a variable v is allowed to observe a write w to v if, in the happens-before partial order [...]:</p>\n<ul>\n<li>r is not ordered before w (i.e., it is not the case that hb(r, w)), and</li>\n<li>there is no [...] no write w' to v such that hb(w, w') and hb(w', r)\n&quot;</li>\n</ul>\n<p>Let's see if we can observe a write w (<code>B=0</code>) at a read r (<code>print(B)</code>). We indeed have not hb(r, w). However, we do have a write w' (B=42) intervening with hb(wow') and hb(w',r).</p>\n<p>This makes me wonder can we observe <code>B==0</code> at the print and if yes where is my reasoning or understanding of the docs wrong? I would like a answer that is clearly referring to the docs.</p>\n<p>(I have looked at this <a href=\"https://stackoverflow.com/questions/46889610/sequential-consistency-volatile-explanation\">post</a> however I hope for an explanation referencing the JMM docs more closely, my question also arises from this particular code)</p>\n"},{"tags":["java","oop","inheritance","polymorphism","instantiation"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1686913084,"post_id":76489203,"comment_id":134867145,"body_markdown":"Those overrides happen at compile time, not at runtime. You are still instantiating a `Sub`, so that&#39;s the method that is called. There is no need to search for anything at runtime.","body":"Those overrides happen at compile time, not at runtime. You are still instantiating a <code>Sub</code>, so that&#39;s the method that is called. There is no need to search for anything at runtime."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1686913126,"post_id":76489203,"comment_id":134867152,"body_markdown":"Overriding has nothing to do with the order of instantiation. Why do you think they are related?","body":"Overriding has nothing to do with the order of instantiation. Why do you think they are related?"},{"owner":{"account_id":23239849,"reputation":43,"user_id":17329349,"display_name":"MounkeySoup318"},"score":0,"creation_date":1686916240,"post_id":76489203,"comment_id":134867735,"body_markdown":"@Sweeper From our script: \n\n&quot;The basic principle in the initialization of a new object of a class K is that, from Object descending in the class hierarchy down to K itself, at least one constructor is executed per class. Any initializations at a particular class level occur only after all initializations at the level above are completed&quot;. My understanding is that for sub to be initialized, first Super has to be initialized, meaning that its constr. is invoked BEFORE Sub&#39;s constr. is. So how does java know it must override Super m() if it invokes sub constr after super?","body":"@Sweeper From our script:   &quot;The basic principle in the initialization of a new object of a class K is that, from Object descending in the class hierarchy down to K itself, at least one constructor is executed per class. Any initializations at a particular class level occur only after all initializations at the level above are completed&quot;. My understanding is that for sub to be initialized, first Super has to be initialized, meaning that its constr. is invoked BEFORE Sub&#39;s constr. is. So how does java know it must override Super m() if it invokes sub constr after super?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1686916551,"post_id":76489203,"comment_id":134867784,"body_markdown":"None of what you quoted says anything about overriding.","body":"None of what you quoted says anything about overriding."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686917397,"post_id":76489203,"comment_id":134867970,"body_markdown":"A great question, this is due to _static initialization_ of _Super_ via the declaration of class _Sub_.  _class Sub extends Super_.","body":"A great question, this is due to <i>static initialization</i> of <i>Super</i> via the declaration of class <i>Sub</i>.  <i>class Sub extends Super</i>."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1686918055,"post_id":76489203,"comment_id":134868105,"body_markdown":"Note that this is all different from C++ where `Super.m()` would have been called, because the vtable is constructed progressively. This doesn&#39;t happen in Java, it is all built at compile time.","body":"Note that this is all different from C++ where <code>Super.m()</code> would have been called, because the vtable is constructed progressively. This doesn&#39;t happen in Java, it is all built at compile time."}],"answers":[{"comments":[{"owner":{"account_id":23239849,"reputation":43,"user_id":17329349,"display_name":"MounkeySoup318"},"score":0,"creation_date":1686916995,"post_id":76489918,"comment_id":134867878,"body_markdown":"Thank you so much for this explanation. Now it makes sense! I will mark this as the solution to my question :)","body":"Thank you so much for this explanation. Now it makes sense! I will mark this as the solution to my question :)"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686916338,"creation_date":1686916338,"answer_id":76489918,"question_id":76489203,"body_markdown":"You are assuming that the initialization of the class metadata depends on the initialization of the object, but this is not the case. Classes are initialized before the first instance of this class is created and all instances share the class data.\r\n\r\nE.g. when you run the following program\r\n\r\n```java\r\npublic class Super {\r\n    public void method1() {}\r\n    public void method2() {}\r\n}\r\n```\r\n```java\r\npublic class Sub extends Super {\r\n    @Override public void method2(){}\r\n\r\n    public static void main(String[] args) throws NoSuchMethodException {\r\n        System.out.println(Sub.class.getMethod(&quot;method1&quot;).getDeclaringClass());\r\n        System.out.println(Sub.class.getMethod(&quot;method2&quot;).getDeclaringClass());\r\n    }\r\n}\r\n```\r\nIt will print\r\n\r\n```none\r\nclass Super\r\nclass Sub\r\n```\r\n\r\ndemonstrating that it is known which method has been overridden, even if no instance of this class exists. (The classes and methods have to be `public` for this example to work)\r\n\r\n[online demonstration][1] (uses inner classes to put two public classes in one file)\r\n\r\nWe can also demonstrate that each object is invariably an instance of its class, regardless of the execution of the constructors:\r\n\r\n```java\r\npublic class Sub extends Super {\r\n    public static void main(String[] args) throws NoSuchMethodException {\r\n        new Sub();\r\n    }\r\n}\r\nclass Super {\r\n    Super() {\r\n        System.out.println(&quot;Constructing object of type &quot; + getClass());\r\n    }\r\n}\r\n```\r\nprints\r\n\r\n```none\r\nConstructing object of type class Sub\r\n```\r\n\r\nWhen you execute `new Sub()`, two things happen:\r\n\r\n - First, memory is allocated for an instance of `Sub`, large enough to hold all instance fields belong to `Sub` (including inherited fields). The object’s meta data is initialized to indicate that it is an instance of `Sub` (think of an unchangeable pointer to the class metadata) and all fields initialized to the default value for its type (zero, `false`, or `null`).\r\n\r\n - Then, the constructor is executed. This includes the execution of the field initializer and initializer blocks, which happens after the `super` constructor call but before any other statement of the constructor.  \r\n   The super constructor may invoke overridden methods, as discussed, but it’s usually not a good idea to invoke overridable methods in a constructor, as these overridden methods will see the fields of the the subclass in their default state.\r\n\r\n```java\r\npublic class Sub extends Super {\r\n    public static void main(String[] args) throws NoSuchMethodException {\r\n        new Sub();\r\n    }\r\n\r\n    int value = 10;\r\n\r\n    @Override\r\n    void method() {\r\n        System.out.println(&quot;value = &quot; + value);\r\n    } \r\n}\r\nclass Super {\r\n    Super() {\r\n        System.out.println(&quot;Constructing object of type &quot; + getClass());\r\n        method();\r\n    }\r\n    void method() {}\r\n}\r\n```\r\nprints\r\n```none\r\nConstructing object of type class Sub\r\nvalue = 0\r\n```\r\n[online demonstration][2]\r\n\r\n[1]: https://tio.run/##nVCxasMwEN3zFUcmaaihWbsU2o5JB40lg2wdthLLEtLJdTD@dle2kzTQUGhvOXjv3XvcO8hWPhzUcRxdzGtdQFHLEGArdQP9CtKc8UCS0mqtVmASywR53ZQfe5C@DByo8vYzwM6KWFRbpMqqt65AR9penKYRp0BoMhspc@me6mQU82xOzUqk5ZKtzbwf13wCXzHxU9rLJGMzJrRxNe6kQcb50z/9N3/yH277WHoS0aG/ee9MLi0tLzAO/fCLYPMtuBuQA3aEjfoZ9vzeovda4X3Xq@kwjl8\r\n[2]:https://tio.run/##hVCxasMwFNz9FY9MMqWhmUOgEDqmHTyWDrL0ast1JCE9OQkh3@7IskUzFHqL3juhu9N1fODPnfwZRxvqXgkQPfceDlxpuBYQsfCeOMVjMErCMd6yipzSzecXcNf4Eqh15uTh3VRBtAek1si3s0BLymSlCRpPUIWaldtE3YpbMTtGEvBMqOU0W3TLI6UJBt4HhB1sXrZFIl8/BnROSUzbnClZsvLBq7p4wuPaBFrbmJV6zVZZagVPs2wOAg9Jft3T/K/o3mhPLgiKhYCpOxQE5hvoYjEZNUj7SZqVi9uEHDgX8cdPYjvjeAc","title":"Considering the order of instanciation when inheriting from a base class, how does Java know when to override a class method?","body":"<p>You are assuming that the initialization of the class metadata depends on the initialization of the object, but this is not the case. Classes are initialized before the first instance of this class is created and all instances share the class data.</p>\n<p>E.g. when you run the following program</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Super {\n    public void method1() {}\n    public void method2() {}\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Sub extends Super {\n    @Override public void method2(){}\n\n    public static void main(String[] args) throws NoSuchMethodException {\n        System.out.println(Sub.class.getMethod(&quot;method1&quot;).getDeclaringClass());\n        System.out.println(Sub.class.getMethod(&quot;method2&quot;).getDeclaringClass());\n    }\n}\n</code></pre>\n<p>It will print</p>\n<pre class=\"lang-none prettyprint-override\"><code>class Super\nclass Sub\n</code></pre>\n<p>demonstrating that it is known which method has been overridden, even if no instance of this class exists. (The classes and methods have to be <code>public</code> for this example to work)</p>\n<p><a href=\"https://tio.run/##nVCxasMwEN3zFUcmaaihWbsU2o5JB40lg2wdthLLEtLJdTD@dle2kzTQUGhvOXjv3XvcO8hWPhzUcRxdzGtdQFHLEGArdQP9CtKc8UCS0mqtVmASywR53ZQfe5C@DByo8vYzwM6KWFRbpMqqt65AR9penKYRp0BoMhspc@me6mQU82xOzUqk5ZKtzbwf13wCXzHxU9rLJGMzJrRxNe6kQcb50z/9N3/yH277WHoS0aG/ee9MLi0tLzAO/fCLYPMtuBuQA3aEjfoZ9vzeovda4X3Xq@kwjl8\" rel=\"nofollow noreferrer\">online demonstration</a> (uses inner classes to put two public classes in one file)</p>\n<p>We can also demonstrate that each object is invariably an instance of its class, regardless of the execution of the constructors:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Sub extends Super {\n    public static void main(String[] args) throws NoSuchMethodException {\n        new Sub();\n    }\n}\nclass Super {\n    Super() {\n        System.out.println(&quot;Constructing object of type &quot; + getClass());\n    }\n}\n</code></pre>\n<p>prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>Constructing object of type class Sub\n</code></pre>\n<p>When you execute <code>new Sub()</code>, two things happen:</p>\n<ul>\n<li><p>First, memory is allocated for an instance of <code>Sub</code>, large enough to hold all instance fields belong to <code>Sub</code> (including inherited fields). The object’s meta data is initialized to indicate that it is an instance of <code>Sub</code> (think of an unchangeable pointer to the class metadata) and all fields initialized to the default value for its type (zero, <code>false</code>, or <code>null</code>).</p>\n</li>\n<li><p>Then, the constructor is executed. This includes the execution of the field initializer and initializer blocks, which happens after the <code>super</code> constructor call but before any other statement of the constructor.<br />\nThe super constructor may invoke overridden methods, as discussed, but it’s usually not a good idea to invoke overridable methods in a constructor, as these overridden methods will see the fields of the the subclass in their default state.</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class Sub extends Super {\n    public static void main(String[] args) throws NoSuchMethodException {\n        new Sub();\n    }\n\n    int value = 10;\n\n    @Override\n    void method() {\n        System.out.println(&quot;value = &quot; + value);\n    } \n}\nclass Super {\n    Super() {\n        System.out.println(&quot;Constructing object of type &quot; + getClass());\n        method();\n    }\n    void method() {}\n}\n</code></pre>\n<p>prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>Constructing object of type class Sub\nvalue = 0\n</code></pre>\n<p><a href=\"https://tio.run/##hVCxasMwFNz9FY9MMqWhmUOgEDqmHTyWDrL0ast1JCE9OQkh3@7IskUzFHqL3juhu9N1fODPnfwZRxvqXgkQPfceDlxpuBYQsfCeOMVjMErCMd6yipzSzecXcNf4Eqh15uTh3VRBtAek1si3s0BLymSlCRpPUIWaldtE3YpbMTtGEvBMqOU0W3TLI6UJBt4HhB1sXrZFIl8/BnROSUzbnClZsvLBq7p4wuPaBFrbmJV6zVZZagVPs2wOAg9Jft3T/K/o3mhPLgiKhYCpOxQE5hvoYjEZNUj7SZqVi9uEHDgX8cdPYjvjeAc\" rel=\"nofollow noreferrer\">online demonstration</a></p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686917403,"post_id":76490048,"comment_id":134867973,"body_markdown":"The static initialization happens before the constructor invocation.","body":"The static initialization happens before the constructor invocation."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686917468,"post_id":76490048,"comment_id":134867988,"body_markdown":"@Holger, _&quot;Sub constructor method called ...&quot;_.","body":"@Holger, <i>&quot;Sub constructor method called ...&quot;</i>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686918008,"post_id":76490048,"comment_id":134868094,"body_markdown":"I don’t know what you want say with your comment. You list “Sub constructor method called from main” as first step, before the static initialization, which is wrong. The execution of the static initializer happens before any constructor is called, even before the object’s memory is allocated. But the knowledge about overriding does not depend on the execution of the static initializer anyway.","body":"I don’t know what you want say with your comment. You list “Sub constructor method called from main” as first step, before the static initialization, which is wrong. The execution of the static initializer happens before any constructor is called, even before the object’s memory is allocated. But the knowledge about overriding does not depend on the execution of the static initializer anyway."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686918064,"post_id":76490048,"comment_id":134868108,"body_markdown":"Which can be demonstrated with [this example program](https://tio.run/##rVKxboNADN37FVYmUFWkZmyXSmmHDkkHxqrDHbjgBO7QYUjaKN9O74C0FJG0Q24B2c/v2c9ei1rcrONN0xSVzCiCKBNlCUtBCvZXYF8fL1mw/dSaYsht1gvZkEpe30CYpPSBU6O3Jax0WEXpEjnV8dMuwoJJH5ncCz9KxjzQFQeFredMebO8Rd/ewQyuIaxk0PYQJMgdzzdi5rvgI9q80144mNfGQsqLDFciR8/37/@hNv9TbX4RtYVB65tKnBKQsi6qCGeDIoVbl/P60GHC824lYVWgGTjZJ/eTsn2SFDGJjD5tpX7vKKx4r9L27EKef4Km04y07dtUEetRcd9mdxPdihzVOcD8B3BuVAm4Y1TxhcaW46FlOzKnVHqD6Z5VrTcYu6WesEMOzbD/7g4Y45EthmrB2MpIrTMUCuQvXx5eajSGYpx2aIDsJzrSTDU7MOfUFY4bp652eIfuGeTKKLAo/Ekcl3Vomi8). It shows declaring classes w/o initializer","body":"Which can be demonstrated with <a href=\"https://tio.run/##rVKxboNADN37FVYmUFWkZmyXSmmHDkkHxqrDHbjgBO7QYUjaKN9O74C0FJG0Q24B2c/v2c9ei1rcrONN0xSVzCiCKBNlCUtBCvZXYF8fL1mw/dSaYsht1gvZkEpe30CYpPSBU6O3Jax0WEXpEjnV8dMuwoJJH5ncCz9KxjzQFQeFredMebO8Rd/ewQyuIaxk0PYQJMgdzzdi5rvgI9q80144mNfGQsqLDFciR8/37/@hNv9TbX4RtYVB65tKnBKQsi6qCGeDIoVbl/P60GHC824lYVWgGTjZJ/eTsn2SFDGJjD5tpX7vKKx4r9L27EKef4Km04y07dtUEetRcd9mdxPdihzVOcD8B3BuVAm4Y1TxhcaW46FlOzKnVHqD6Z5VrTcYu6WesEMOzbD/7g4Y45EthmrB2MpIrTMUCuQvXx5eajSGYpx2aIDsJzrSTDU7MOfUFY4bp652eIfuGeTKKLAo/Ekcl3Vomi8\" rel=\"nofollow noreferrer\">this example program</a>. It shows declaring classes w/o initializer"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686919303,"post_id":76490048,"comment_id":134868368,"body_markdown":"@Holger, that&#39;s great.  Write an answer.","body":"@Holger, that&#39;s great.  Write an answer."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686919474,"post_id":76490048,"comment_id":134868400,"body_markdown":"Well, I already did.","body":"Well, I already did."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686919664,"post_id":76490048,"comment_id":134868445,"body_markdown":"@Holger, lol.   Good to know, thanks.","body":"@Holger, lol.   Good to know, thanks."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686919759,"post_id":76490048,"comment_id":134868464,"body_markdown":"@Holder, I&#39;m not interested in refutable arguments, take your comments elsewhere.","body":"@Holder, I&#39;m not interested in refutable arguments, take your comments elsewhere."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686920000,"post_id":76490048,"comment_id":134868503,"body_markdown":"I provided a proof for what I wrote. You did not.","body":"I provided a proof for what I wrote. You did not."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686917222,"creation_date":1686917222,"answer_id":76490048,"question_id":76489203,"body_markdown":"There is also a _static initialization_.&amp;nbsp; This will occur when the compiler requires the resource.  \r\n_[Initializing Fields (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html)_.\r\n\r\nIn this case, during the following declaration.\r\n\r\n```java\r\nclass Sub extends Super\r\n```\r\n\r\nSo, the steps are, as follows.\r\n\r\n1. _Sub_ constructor method called from _main_\r\n2. _Super_ static initialization, since _Sub_ extends _Super_\r\n3. _Sub_ static initialization, since this is always called before the class&#39;s initial instantiation\r\n4. _Super_ constructor method, since _Sub_ extends _Super_\r\n5. Finally, _m_, of _Sub_, since your calling from _Sub_\r\n\r\n&gt; _&quot;... How does Java know that the `Sub` class overrides the method `m()` from the `Super` class if the order of instantiation dictates that the super class constructor has to be invoked BEFORE the sub class constructor? ...&quot;_\r\n\r\nFor example, add a _static initialization block_ to each class.\r\n\r\n```java\r\nstatic {\r\n    System.out.println(&quot;super, static initialization&quot;);\r\n}\r\n````\r\n\r\nOutput\r\n\r\n```none\r\nsuper, static initialization\r\nsub, static initialization\r\nSuper constructor\r\nMethod m() of class Sub\r\n```","title":"Considering the order of instanciation when inheriting from a base class, how does Java know when to override a class method?","body":"<p>There is also a <em>static initialization</em>.  This will occur when the compiler requires the resource.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">Initializing Fields (The Java™ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a></em>.</p>\n<p>In this case, during the following declaration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Sub extends Super\n</code></pre>\n<p>So, the steps are, as follows.</p>\n<ol>\n<li><em>Sub</em> constructor method called from <em>main</em></li>\n<li><em>Super</em> static initialization, since <em>Sub</em> extends <em>Super</em></li>\n<li><em>Sub</em> static initialization, since this is always called before the class's initial instantiation</li>\n<li><em>Super</em> constructor method, since <em>Sub</em> extends <em>Super</em></li>\n<li>Finally, <em>m</em>, of <em>Sub</em>, since your calling from <em>Sub</em></li>\n</ol>\n<blockquote>\n<p><em>&quot;... How does Java know that the <code>Sub</code> class overrides the method <code>m()</code> from the <code>Super</code> class if the order of instantiation dictates that the super class constructor has to be invoked BEFORE the sub class constructor? ...&quot;</em></p>\n</blockquote>\n<p>For example, add a <em>static initialization block</em> to each class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static {\n    System.out.println(&quot;super, static initialization&quot;);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>super, static initialization\nsub, static initialization\nSuper constructor\nMethod m() of class Sub\n</code></pre>\n"}],"owner":{"account_id":23239849,"reputation":43,"user_id":17329349,"display_name":"MounkeySoup318"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76489918,"answer_count":2,"score":4,"last_activity_date":1686917222,"creation_date":1686910630,"question_id":76489203,"body_markdown":"I am taking an introduction to OOP (Java) in university and encountered the following code:\r\n\r\n```java\r\n// This example program aims at inspecting and understanding the order in which the individual \r\n// initialization steps are taken when executing this program.\r\n\r\npublic class ConstructorTest {\r\n    public static void main(String[] args) {\r\n        new Sub();\r\n    }\r\n}\r\n\r\nclass Super {\r\n    Super() {\r\n        System.out.println(&quot;Super constructor&quot;);\r\n        m();\r\n    }\r\n\r\n    void m() {\r\n        System.out.println(&quot;Method m() of class Super&quot;);\r\n    }\r\n}\r\n\r\nclass Sub extends Super {\r\n    Person p = new Person();\r\n\r\n    Sub() {\r\n        System.out.println(&quot;Sub constructor&quot;);\r\n        m();\r\n    }\r\n\r\n    @Override\r\n    void m() {\r\n        System.out.println(&quot;Method m() of class Sub&quot;);\r\n        System.out.println(p.getName());\r\n    }\r\n}\r\n\r\nclass Person {\r\n    String name;\r\n\r\n    String getName() {\r\n        return &quot;John Doe&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThe output to the code will be the following:\r\n\r\n```\r\n&quot;Super constructor&quot;\r\n&quot;Method m() of class Sub&quot;\r\nNullPointerException\r\n```\r\n\r\nThe NullPointerException occurs because `p.getName()` cannot be invoked since `Person p = new Person()` is instantiated with null. (This is on purpose!)\r\n\r\nThe program is executed in the following order:\r\n\r\n1. The main method in the `ConstructorTest` class is executed.\r\n2. `new Sub()` is called, which invokes the constructor of the `Sub` class.\r\n3. The `Sub` class constructor starts executing.\r\n4. Since the Sub class extends the `Super` class, the superclass constructor `Super()` is called before the body of the `Sub` class constructor.\r\n5. Inside the `Super` class constructor: &lt;br /&gt;\r\na) The line `System.out.println(&quot;Super constructor&quot;);` prints &quot;Super constructor&quot; to the console. &lt;br /&gt;\r\nb) The method `m()` is called. Since the `Sub` class overrides this method, the overridden version in the `Sub` class will be invoked. However, at this point, the `Sub` class constructor has not finished executing yet.\r\n6. The control goes back to the `Super` class constructor, and the constructor execution completes.\r\n7. The control returns to the `Sub` class constructor.\r\n8. The line `Person p = new Person();` is encountered.\r\n9. The `Person` class constructor is invoked, which doesn&#39;t have any explicit output.\r\n10. The instance of the `Person` class is created and assigned to the `p` instance variable.\r\n11. The control goes back to the `Sub` class constructor, and the constructor execution completes.\r\n12. The line `System.out.println(&quot;Sub constructor&quot;);` in the `Sub` class constructor is executed, printing &quot;Sub constructor&quot; to the console.\r\n13. The `m()` method is called again, this time within the `Sub` class constructor.\r\n14. Inside the overridden `m()` method in the `Sub` class: &lt;br /&gt;\r\na) The line `System.out.println(&quot;Method m() of class Sub&quot;);` is executed, printing &quot;Method m() of class Sub&quot; to the console. &lt;br /&gt;\r\nb) The line `System.out.println(p.getName());` is executed, which calls the `getName()` method on the initialized `p` instance of the `Person` class and prints &quot;John Doe&quot; to the console.\r\n\r\nNow to my question: \r\n\r\nWhen invoking the `Super` class constructor, Java first prints `System.out.println(&quot;Super constructor&quot;);` to the console. In the next step, it would call `Super.m()`. However, since `Super.m()` gets overridden in the `Sub` class, it calls `Sub.m()` instead. \r\nHow does Java know that the `Sub` class overrides the method `m()` from the `Super` class if the order of instantiation dictates that the super class constructor has to be invoked BEFORE the sub class constructor? Does it recursively check each base class method for a subclass method of the same name? Is the Sub class &quot;scanned&quot; prior to instantiating the base class, and thus Java knows how to handle a base class method when it encounters it upon instantiation?\r\n\r\nBasically, I would like to get a better understanding of what happens behind the scenes, when Java overrides a class method.","title":"Considering the order of instanciation when inheriting from a base class, how does Java know when to override a class method?","body":"<p>I am taking an introduction to OOP (Java) in university and encountered the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// This example program aims at inspecting and understanding the order in which the individual \n// initialization steps are taken when executing this program.\n\npublic class ConstructorTest {\n    public static void main(String[] args) {\n        new Sub();\n    }\n}\n\nclass Super {\n    Super() {\n        System.out.println(&quot;Super constructor&quot;);\n        m();\n    }\n\n    void m() {\n        System.out.println(&quot;Method m() of class Super&quot;);\n    }\n}\n\nclass Sub extends Super {\n    Person p = new Person();\n\n    Sub() {\n        System.out.println(&quot;Sub constructor&quot;);\n        m();\n    }\n\n    @Override\n    void m() {\n        System.out.println(&quot;Method m() of class Sub&quot;);\n        System.out.println(p.getName());\n    }\n}\n\nclass Person {\n    String name;\n\n    String getName() {\n        return &quot;John Doe&quot;;\n    }\n}\n</code></pre>\n<p>The output to the code will be the following:</p>\n<pre><code>&quot;Super constructor&quot;\n&quot;Method m() of class Sub&quot;\nNullPointerException\n</code></pre>\n<p>The NullPointerException occurs because <code>p.getName()</code> cannot be invoked since <code>Person p = new Person()</code> is instantiated with null. (This is on purpose!)</p>\n<p>The program is executed in the following order:</p>\n<ol>\n<li>The main method in the <code>ConstructorTest</code> class is executed.</li>\n<li><code>new Sub()</code> is called, which invokes the constructor of the <code>Sub</code> class.</li>\n<li>The <code>Sub</code> class constructor starts executing.</li>\n<li>Since the Sub class extends the <code>Super</code> class, the superclass constructor <code>Super()</code> is called before the body of the <code>Sub</code> class constructor.</li>\n<li>Inside the <code>Super</code> class constructor: <br />\na) The line <code>System.out.println(&quot;Super constructor&quot;);</code> prints &quot;Super constructor&quot; to the console. <br />\nb) The method <code>m()</code> is called. Since the <code>Sub</code> class overrides this method, the overridden version in the <code>Sub</code> class will be invoked. However, at this point, the <code>Sub</code> class constructor has not finished executing yet.</li>\n<li>The control goes back to the <code>Super</code> class constructor, and the constructor execution completes.</li>\n<li>The control returns to the <code>Sub</code> class constructor.</li>\n<li>The line <code>Person p = new Person();</code> is encountered.</li>\n<li>The <code>Person</code> class constructor is invoked, which doesn't have any explicit output.</li>\n<li>The instance of the <code>Person</code> class is created and assigned to the <code>p</code> instance variable.</li>\n<li>The control goes back to the <code>Sub</code> class constructor, and the constructor execution completes.</li>\n<li>The line <code>System.out.println(&quot;Sub constructor&quot;);</code> in the <code>Sub</code> class constructor is executed, printing &quot;Sub constructor&quot; to the console.</li>\n<li>The <code>m()</code> method is called again, this time within the <code>Sub</code> class constructor.</li>\n<li>Inside the overridden <code>m()</code> method in the <code>Sub</code> class: <br />\na) The line <code>System.out.println(&quot;Method m() of class Sub&quot;);</code> is executed, printing &quot;Method m() of class Sub&quot; to the console. <br />\nb) The line <code>System.out.println(p.getName());</code> is executed, which calls the <code>getName()</code> method on the initialized <code>p</code> instance of the <code>Person</code> class and prints &quot;John Doe&quot; to the console.</li>\n</ol>\n<p>Now to my question:</p>\n<p>When invoking the <code>Super</code> class constructor, Java first prints <code>System.out.println(&quot;Super constructor&quot;);</code> to the console. In the next step, it would call <code>Super.m()</code>. However, since <code>Super.m()</code> gets overridden in the <code>Sub</code> class, it calls <code>Sub.m()</code> instead.\nHow does Java know that the <code>Sub</code> class overrides the method <code>m()</code> from the <code>Super</code> class if the order of instantiation dictates that the super class constructor has to be invoked BEFORE the sub class constructor? Does it recursively check each base class method for a subclass method of the same name? Is the Sub class &quot;scanned&quot; prior to instantiating the base class, and thus Java knows how to handle a base class method when it encounters it upon instantiation?</p>\n<p>Basically, I would like to get a better understanding of what happens behind the scenes, when Java overrides a class method.</p>\n"},{"tags":["java","swing","graphics","charts","geometry"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1464301234,"post_id":37471945,"comment_id":62442456,"body_markdown":"It&#39;s a layout and preferred size problem. Your Surface looks to be extremely small, say [0, 0] since that&#39;s it&#39;s preferred size. See [this similar question and answer](http://stackoverflow.com/questions/37449227/trouble-drawing-in-jpanel).","body":"It&#39;s a layout and preferred size problem. Your Surface looks to be extremely small, say [0, 0] since that&#39;s it&#39;s preferred size. See <a href=\"http://stackoverflow.com/questions/37449227/trouble-drawing-in-jpanel\">this similar question and answer</a>."},{"owner":{"account_id":8448328,"reputation":15,"user_id":6338103,"display_name":"MyNet"},"score":0,"creation_date":1464302400,"post_id":37471945,"comment_id":62442842,"body_markdown":"Man thanks a lot, I just simply added this line \t\t`setPreferredSize(new Dimension(200, 200));` to the Surface constructor and it works flawlessly!","body":"Man thanks a lot, I just simply added this line \t\t<code>setPreferredSize(new Dimension(200, 200));</code> to the Surface constructor and it works flawlessly!"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1464313046,"post_id":37471945,"comment_id":62445444,"body_markdown":"@MyNet, the better solution is to override the `getPreferredSize()` method to return the proper dimension.","body":"@MyNet, the better solution is to override the <code>getPreferredSize()</code> method to return the proper dimension."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1464346093,"post_id":37471945,"comment_id":62459614,"body_markdown":"For [example](http://stackoverflow.com/a/37063037/230513).","body":"For <a href=\"http://stackoverflow.com/a/37063037/230513\">example</a>."}],"answers":[{"tags":[],"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464586229,"creation_date":1464586229,"answer_id":37518185,"question_id":37471945,"body_markdown":"you didn&#39;t set the components size, hence the component is too small to display the circle.\r\n\r\nadjust the components size and the circle will be shown properly\r\n\r\n    public void gui(){\r\n        ....\r\n        Surface s = new Surface();\r\n        s.setPreferredSize(new Dimension(200, 200));\r\n        panel.add(new Surface());\r\n        ...\r\n    }\r\n\r\nyou can djust the compoinent&#39;s seize by either setting it or override its `getPrefferedSize()`-methode","title":"How to draw circle using java.awt.Graphics?","body":"<p>you didn't set the components size, hence the component is too small to display the circle.</p>\n\n<p>adjust the components size and the circle will be shown properly</p>\n\n<pre><code>public void gui(){\n    ....\n    Surface s = new Surface();\n    s.setPreferredSize(new Dimension(200, 200));\n    panel.add(new Surface());\n    ...\n}\n</code></pre>\n\n<p>you can djust the compoinent's seize by either setting it or override its <code>getPrefferedSize()</code>-methode</p>\n"},{"tags":[],"owner":{"account_id":12175760,"reputation":57,"user_id":8888898,"display_name":"Farhad"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1509999952,"creation_date":1509999952,"answer_id":47145163,"question_id":37471945,"body_markdown":"    use this class (Graphiic) and it&#39;s method (Draw_Circle)\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Graphics;\r\n    import javax.swing.JFrame;\r\n    \r\n    public class Graphiic\r\n    {   \r\n        public Graphics GClass;\r\n        public Graphics2D G2D;\r\n        public  void Draw_Circle(JFrame jf,int radius , int  xLocation, int             yLocation)\r\n        {\r\n            GClass = jf.getGraphics();\r\n            GClass.setPaintMode();\r\n            GClass.setColor(Color.MAGENTA);\r\n            GClass.fillArc(xLocation, yLocation, radius, radius, 0, 360);           \r\n        }","title":"How to draw circle using java.awt.Graphics?","body":"<pre><code>use this class (Graphiic) and it's method (Draw_Circle)\n\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport java.awt.Graphics;\nimport javax.swing.JFrame;\n\npublic class Graphiic\n{   \n    public Graphics GClass;\n    public Graphics2D G2D;\n    public  void Draw_Circle(JFrame jf,int radius , int  xLocation, int             yLocation)\n    {\n        GClass = jf.getGraphics();\n        GClass.setPaintMode();\n        GClass.setColor(Color.MAGENTA);\n        GClass.fillArc(xLocation, yLocation, radius, radius, 0, 360);           \n    }\n</code></pre>\n"}],"owner":{"account_id":8448328,"reputation":15,"user_id":6338103,"display_name":"MyNet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7993,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686917205,"creation_date":1464300993,"question_id":37471945,"body_markdown":"I&#39;m just trying to draw circle using the drawOval() method and it shows only small square when I run the program. I was trying to add the constructor to the Surface class but it didn&#39;t work as well.\r\nHere is the code that I&#39;ve been made:\r\n\r\n    \r\n\r\n        package swing22;\r\n\r\n        import java.awt.BorderLayout;\r\n        import java.awt.Color;\r\n        import javax.swing.*;\r\n        import java.awt.EventQueue;\r\n        import java.awt.Graphics;\r\n        import java.awt.Graphics2D;\r\n        import java.awt.event.ActionEvent;\r\n        import java.awt.event.ActionListener;\r\n\r\n\r\n        public class MyFrame {\r\n\r\n            JFrame frame = new JFrame(&quot; Test Frame &quot;);\r\n            JPanel panel = new JPanel();\r\n\r\n            JButton button = new JButton(&quot;CLICK&quot;);\r\n            JLabel label = new JLabel(&quot; 33 &quot;);\r\n\r\n            public MyFrame(){\r\n\r\n                gui();\r\n\r\n            }\r\n\r\n            public void gui(){\r\n\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);    \r\n\r\n                panel.setBackground(Color.GREEN);\r\n                panel.add(button);\r\n                panel.add(label);\r\n                panel.add(new Surface());\r\n\r\n                frame.add(panel, BorderLayout.CENTER);\r\n\r\n                button.addActionListener(new Action());\r\n\r\n                frame.pack();\r\n                frame.setSize(300,300);\r\n                frame.setVisible(true);\r\n                frame.setResizable(false);\r\n\r\n            }\r\n\r\n\r\n            class Action implements ActionListener{\r\n                @Override\r\n                public void actionPerformed(ActionEvent arg0) {\r\n                    label.setText(&quot;new value&quot;);\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n\r\n        class Surface extends JPanel {\r\n\r\n\r\n                private void doDrawing(Graphics g) {\r\n\r\n                    Graphics2D g2d = (Graphics2D) g;\r\n\r\n                        g.setColor(Color.red);\r\n                        g.drawOval(80, 80, 30, 30);\r\n                        g.fillArc(140, 140, 30, 30, 0, 90);\r\n                }\r\n\r\n                @Override\r\n                public void paintComponent(Graphics g) {\r\n\r\n                    super.paintComponent(g);\r\n                    doDrawing(g);\r\n                }\r\n            }\r\n","title":"How to draw circle using java.awt.Graphics?","body":"<p>I'm just trying to draw circle using the drawOval() method and it shows only small square when I run the program. I was trying to add the constructor to the Surface class but it didn't work as well.\nHere is the code that I've been made:</p>\n\n<pre><code>    package swing22;\n\n    import java.awt.BorderLayout;\n    import java.awt.Color;\n    import javax.swing.*;\n    import java.awt.EventQueue;\n    import java.awt.Graphics;\n    import java.awt.Graphics2D;\n    import java.awt.event.ActionEvent;\n    import java.awt.event.ActionListener;\n\n\n    public class MyFrame {\n\n        JFrame frame = new JFrame(\" Test Frame \");\n        JPanel panel = new JPanel();\n\n        JButton button = new JButton(\"CLICK\");\n        JLabel label = new JLabel(\" 33 \");\n\n        public MyFrame(){\n\n            gui();\n\n        }\n\n        public void gui(){\n\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);    \n\n            panel.setBackground(Color.GREEN);\n            panel.add(button);\n            panel.add(label);\n            panel.add(new Surface());\n\n            frame.add(panel, BorderLayout.CENTER);\n\n            button.addActionListener(new Action());\n\n            frame.pack();\n            frame.setSize(300,300);\n            frame.setVisible(true);\n            frame.setResizable(false);\n\n        }\n\n\n        class Action implements ActionListener{\n            @Override\n            public void actionPerformed(ActionEvent arg0) {\n                label.setText(\"new value\");\n            }\n        }\n\n    }\n\n\n    class Surface extends JPanel {\n\n\n            private void doDrawing(Graphics g) {\n\n                Graphics2D g2d = (Graphics2D) g;\n\n                    g.setColor(Color.red);\n                    g.drawOval(80, 80, 30, 30);\n                    g.fillArc(140, 140, 30, 30, 0, 90);\n            }\n\n            @Override\n            public void paintComponent(Graphics g) {\n\n                super.paintComponent(g);\n                doDrawing(g);\n            }\n        }\n</code></pre>\n"},{"tags":["java","php","android","webview","android-volley"],"answers":[{"tags":[],"owner":{"account_id":26735968,"reputation":23,"user_id":20337540,"display_name":"Super Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677858236,"creation_date":1677857658,"answer_id":75629054,"question_id":75627693,"body_markdown":"Never mind. I got an alternate solution that works. I don&#39;t know why it always happens that when I am struggling for days searching for a solution, I never get it. But as soon as I post a question on stackoverflow, I find the solution myself &#128529;&#128529;&#128529;.\r\n\r\nAnyways, the workaround is, I get the token value in a text field (you can use div or span or anything with data attribute if you want. Have it your way!).\r\n\r\nIn website:\r\n\r\n    &lt;input type=&quot;text&quot; id=&quot;token&quot; value=&quot;&lt;?php echo $token; ?&gt;&quot;&gt;\r\n\r\nIn Webview:\r\n\r\n    private class MyWebViewClient extends WebViewClient {\r\n      private String kvToken;\r\n\r\n      @Override\r\n      public void onPageFinished(final WebView view, final String url) {\r\n       \r\n        // GET TOKEN VALUE FROM WEBSITE\r\n        mWebView.evaluateJavascript(\r\n        &quot;(function() { return document.getElementById(&#39;kvToken&#39;).value; })();&quot;,\r\n        new ValueCallback&lt;String&gt;() {\r\n          @Override\r\n          public void onReceiveValue(String value) {\r\n            kvToken = value.replaceAll(&quot;^\\&quot;|\\&quot;$&quot;, &quot;&quot;);\r\n          }\r\n        });\r\n    \r\n        Logcat.d(&quot;KV: &quot; + kvToken);\r\n    \r\n        // USE kvToken HERE AS YOU WANT\r\n      }\r\n    }\r\n\r\nThat&#39;s it. I struggled for a whole week just for such a solution. Good luck.\r\n\r\nOh and yes, thank you ChatGPT &#128523;.\r\n\r\n","title":"Get PHP value using JS in Android Webview","body":"<p>Never mind. I got an alternate solution that works. I don't know why it always happens that when I am struggling for days searching for a solution, I never get it. But as soon as I post a question on stackoverflow, I find the solution myself 😑😑😑.</p>\n<p>Anyways, the workaround is, I get the token value in a text field (you can use div or span or anything with data attribute if you want. Have it your way!).</p>\n<p>In website:</p>\n<pre><code>&lt;input type=&quot;text&quot; id=&quot;token&quot; value=&quot;&lt;?php echo $token; ?&gt;&quot;&gt;\n</code></pre>\n<p>In Webview:</p>\n<pre><code>private class MyWebViewClient extends WebViewClient {\n  private String kvToken;\n\n  @Override\n  public void onPageFinished(final WebView view, final String url) {\n   \n    // GET TOKEN VALUE FROM WEBSITE\n    mWebView.evaluateJavascript(\n    &quot;(function() { return document.getElementById('kvToken').value; })();&quot;,\n    new ValueCallback&lt;String&gt;() {\n      @Override\n      public void onReceiveValue(String value) {\n        kvToken = value.replaceAll(&quot;^\\&quot;|\\&quot;$&quot;, &quot;&quot;);\n      }\n    });\n\n    Logcat.d(&quot;KV: &quot; + kvToken);\n\n    // USE kvToken HERE AS YOU WANT\n  }\n}\n</code></pre>\n<p>That's it. I struggled for a whole week just for such a solution. Good luck.</p>\n<p>Oh and yes, thank you ChatGPT 😋.</p>\n"},{"tags":[],"owner":{"account_id":26606954,"reputation":7,"user_id":20227628,"display_name":"Edwin Tigor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686917151,"creation_date":1686917151,"answer_id":76490037,"question_id":75627693,"body_markdown":"Yes. Of course you can do like that. But for me, i never use javascript interface to get value. Its better get value from java async task. And then using javascript interface to put value from android to php.","title":"Get PHP value using JS in Android Webview","body":"<p>Yes. Of course you can do like that. But for me, i never use javascript interface to get value. Its better get value from java async task. And then using javascript interface to put value from android to php.</p>\n"}],"owner":{"account_id":26735968,"reputation":23,"user_id":20337540,"display_name":"Super Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686917151,"creation_date":1677850155,"question_id":75627693,"body_markdown":"I researched a lot on this before asking this question. Even tried ChatGPT.\r\n\r\nI am using Volley to send HTTP request from android webview to my PHP app that runs in the webview to a specific page for inserting the FCM token that is being generated. This works well but it works on every page load as the volley code is written within `onPgeFinished()` method in `MainFragment.java` file. Therefore, once the token is successfully inserted, I want to check first if the generated token in the webview is different than the token inserted into the database before making the Volley request as it is making the page load slow and unnecessarily creates an HTTP request every time a the page is freshly loaded / refreshed. For this I need to get the user specific token value from the database and send it to the webview&#39;s `MainFragment.java` file. Upon a lot of research and chatGPT usage I tried the following:\r\n\r\nJS in my website:\r\n\r\n    &lt;script&gt;\r\n      MyApp.userToken(&quot;&lt;?php echo $token; ?&gt;&quot;);\r\n    &lt;/script&gt;\r\n\r\nThen in the webview:\r\n\r\nJavaScriptAPI.java\r\n\r\n    public class JavaScriptAPI {\r\n    \tprivate Activity mActivity;\r\n    \tprivate volatile String activeToken;\r\n    \r\n    \tpublic JavaScriptAPI(Activity activity) {\r\n    \t\tmActivity = activity;\r\n    \t}\r\n    \t\r\n    \t@JavascriptInterface\r\n    \tpublic void userToken(String token){\r\n    \t\tactiveToken = token; // RECEIVES TOKEN SUCCESSFULLY AND OUTPUTS IN THE LOG BELOW\r\n    \t\tLogcat.d(&quot;Received Token: &quot; + activeToken);\r\n    \t}\r\n    \r\n    \tpublic String getActiveToken() {\r\n    \t\treturn activeToken; // DOESN&#39;T SET THE TOKEN RECEIVED IN THE ABOVE METHOD AND ALWAYS RETURNS NULL ( WHY ? )\r\n    \t}\r\n    }\r\n\r\nThen in MainFragment.java I try to call `getActiveToken()` to get the value so that I can use it.\r\n\r\nMainFragment.java\r\n\r\n    JavaScriptAPI javaScriptAPI = new JavaScriptAPI(getActivity());\r\n    String phpVariableValue = javaScriptAPI.getActiveToken();\r\n    Logcat.d(&quot;PHP token value: &quot; + phpVariableValue); // ALWAYS RETURNS NULL\r\n\r\nI need to get the token value in `phpVariableValue` so that I can use it in a `if` statement and match it with the webview generated token value before creating volley request. What is the solution?","title":"Get PHP value using JS in Android Webview","body":"<p>I researched a lot on this before asking this question. Even tried ChatGPT.</p>\n<p>I am using Volley to send HTTP request from android webview to my PHP app that runs in the webview to a specific page for inserting the FCM token that is being generated. This works well but it works on every page load as the volley code is written within <code>onPgeFinished()</code> method in <code>MainFragment.java</code> file. Therefore, once the token is successfully inserted, I want to check first if the generated token in the webview is different than the token inserted into the database before making the Volley request as it is making the page load slow and unnecessarily creates an HTTP request every time a the page is freshly loaded / refreshed. For this I need to get the user specific token value from the database and send it to the webview's <code>MainFragment.java</code> file. Upon a lot of research and chatGPT usage I tried the following:</p>\n<p>JS in my website:</p>\n<pre><code>&lt;script&gt;\n  MyApp.userToken(&quot;&lt;?php echo $token; ?&gt;&quot;);\n&lt;/script&gt;\n</code></pre>\n<p>Then in the webview:</p>\n<p>JavaScriptAPI.java</p>\n<pre><code>public class JavaScriptAPI {\n    private Activity mActivity;\n    private volatile String activeToken;\n\n    public JavaScriptAPI(Activity activity) {\n        mActivity = activity;\n    }\n    \n    @JavascriptInterface\n    public void userToken(String token){\n        activeToken = token; // RECEIVES TOKEN SUCCESSFULLY AND OUTPUTS IN THE LOG BELOW\n        Logcat.d(&quot;Received Token: &quot; + activeToken);\n    }\n\n    public String getActiveToken() {\n        return activeToken; // DOESN'T SET THE TOKEN RECEIVED IN THE ABOVE METHOD AND ALWAYS RETURNS NULL ( WHY ? )\n    }\n}\n</code></pre>\n<p>Then in MainFragment.java I try to call <code>getActiveToken()</code> to get the value so that I can use it.</p>\n<p>MainFragment.java</p>\n<pre><code>JavaScriptAPI javaScriptAPI = new JavaScriptAPI(getActivity());\nString phpVariableValue = javaScriptAPI.getActiveToken();\nLogcat.d(&quot;PHP token value: &quot; + phpVariableValue); // ALWAYS RETURNS NULL\n</code></pre>\n<p>I need to get the token value in <code>phpVariableValue</code> so that I can use it in a <code>if</code> statement and match it with the webview generated token value before creating volley request. What is the solution?</p>\n"},{"tags":["java","android","crash","crash-reports"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1686914996,"post_id":76489725,"comment_id":134867493,"body_markdown":"Please edit your question and include the error message as well as the stack trace (usually shown on logcat).","body":"Please edit your question and include the error message as well as the stack trace (usually shown on logcat)."}],"answers":[{"comments":[{"owner":{"account_id":24015252,"reputation":13,"user_id":17998277,"display_name":"Soham Bhole"},"score":0,"creation_date":1686917950,"post_id":76490014,"comment_id":134868078,"body_markdown":"okay will provide","body":"okay will provide"}],"tags":[],"owner":{"account_id":17191706,"reputation":43,"user_id":12445365,"display_name":"Annas Surdyanto"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686916917,"creation_date":1686916917,"answer_id":76490014,"question_id":76489725,"body_markdown":"There are many factors causing crash of an activity. However, here are some general factors.\r\n\r\n - Your activity is not registered in the manifest\r\n- If you run in android 12, the activity in the manifest should have `android:exported` attribute.\r\n- If you use hilt and hilt view model, you might forget to add @AndroidEntryPoint.\r\n- If your activity extends `AppCompatActivity`, the activity might not apply `AppCompat` theme.\r\n\r\nTo inspect more accurately, please provide the error message.","title":"App crashing after clicking login button in Android studio","body":"<p>There are many factors causing crash of an activity. However, here are some general factors.</p>\n<ul>\n<li>Your activity is not registered in the manifest</li>\n<li>If you run in android 12, the activity in the manifest should have <code>android:exported</code> attribute.</li>\n<li>If you use hilt and hilt view model, you might forget to add @AndroidEntryPoint.</li>\n<li>If your activity extends <code>AppCompatActivity</code>, the activity might not apply <code>AppCompat</code> theme.</li>\n</ul>\n<p>To inspect more accurately, please provide the error message.</p>\n"}],"owner":{"account_id":24015252,"reputation":13,"user_id":17998277,"display_name":"Soham Bhole"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76490014,"answer_count":1,"score":1,"last_activity_date":1686916917,"creation_date":1686914735,"question_id":76489725,"body_markdown":"So, this app is for my class library, but whenever I click login in the 1st activity after putting in my details, the app crashes. Please look at this issue.\r\n\r\n\r\nMy 1st Main activity code:\r\n\r\n```\r\npackage com.cls2r.library;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    EditText login_text, password_text;\r\n    Button login;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        login_text = (EditText) findViewById(R.id.login);\r\n        password_text = (EditText) findViewById(R.id.password);\r\n        login = (Button) findViewById(R.id.button_login);\r\n\r\n        login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                String username = login_text.getText().toString();\r\n                String password = password_text.getText().toString();\r\n\r\n                if(username.equals(&quot;admin&quot;) &amp;&amp; (password.equals(&quot;123456&quot;)))\r\n                {\r\n                    Toast.makeText(MainActivity.this, &quot;Welcome Soham&quot;, Toast.LENGTH_SHORT).show();\r\n                    Intent intent=new Intent(getApplicationContext(),MainActivit2y.class);\r\n                    startActivity(intent);\r\n                }else\r\n                {\r\n                    Toast.makeText(MainActivity.this, &quot;Welcome Guest&quot;, Toast.LENGTH_SHORT).show();\r\n                    Intent intent=new Intent(getApplicationContext(),MainActivit2y.class);\r\n                    startActivity(intent);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        }\r\n    }\r\n\r\n```\r\nOther MainActivity code:\r\n\r\n```\r\npackage com.cls2r.library;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.graphics.Bitmap;\r\nimport android.os.Bundle;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\n\r\nimport com.google.android.gms.ads.AdRequest;\r\nimport com.google.android.gms.ads.AdView;\r\nimport com.google.android.gms.ads.MobileAds;\r\nimport com.google.android.gms.ads.initialization.InitializationStatus;\r\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\r\n\r\npublic class MainActivit2y extends AppCompatActivity {\r\n\r\n    private AdView mAdView;\r\n    private WebView webView;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main1);\r\n\r\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(@NonNull InitializationStatus initializationStatus) {\r\n\r\n            }\r\n        });\r\n        mAdView = findViewById(R.id.adView);\r\n        AdRequest adRequest= new AdRequest.Builder().build();\r\n        mAdView.loadAd(adRequest);\r\n\r\n        webView=(WebView) findViewById(R.id.web_view);\r\n        webView.setWebViewClient(new WebViewClient());\r\n        webView.loadUrl(&quot;https://sites.google.com/view/cls2rlibraryybis/home&quot;);\r\n        WebSettings webSettings=webView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n    }\r\n    public class mywebClient extends WebViewClient {\r\n        @Override\r\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n            super.onPageStarted(view,url,favicon);\r\n        }\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n            view.loadUrl(url);\r\n            return true;\r\n        }\r\n    }\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (webView.canGoBack()) {\r\n            webView.goBack();\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nPlease try to resolve this issue.\r\nI built the app to a signed APK file and deployed it on my device for testing, and the app kept on crashing after I clicked the login button. I thought it would open the next activity, but no.\r\nPlease check for my mistake...","title":"App crashing after clicking login button in Android studio","body":"<p>So, this app is for my class library, but whenever I click login in the 1st activity after putting in my details, the app crashes. Please look at this issue.</p>\n<p>My 1st Main activity code:</p>\n<pre><code>package com.cls2r.library;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n    EditText login_text, password_text;\n    Button login;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        login_text = (EditText) findViewById(R.id.login);\n        password_text = (EditText) findViewById(R.id.password);\n        login = (Button) findViewById(R.id.button_login);\n\n        login.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                String username = login_text.getText().toString();\n                String password = password_text.getText().toString();\n\n                if(username.equals(&quot;admin&quot;) &amp;&amp; (password.equals(&quot;123456&quot;)))\n                {\n                    Toast.makeText(MainActivity.this, &quot;Welcome Soham&quot;, Toast.LENGTH_SHORT).show();\n                    Intent intent=new Intent(getApplicationContext(),MainActivit2y.class);\n                    startActivity(intent);\n                }else\n                {\n                    Toast.makeText(MainActivity.this, &quot;Welcome Guest&quot;, Toast.LENGTH_SHORT).show();\n                    Intent intent=new Intent(getApplicationContext(),MainActivit2y.class);\n                    startActivity(intent);\n                }\n            }\n        });\n\n\n        }\n    }\n\n</code></pre>\n<p>Other MainActivity code:</p>\n<pre><code>package com.cls2r.library;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.graphics.Bitmap;\nimport android.os.Bundle;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\nimport com.google.android.gms.ads.AdRequest;\nimport com.google.android.gms.ads.AdView;\nimport com.google.android.gms.ads.MobileAds;\nimport com.google.android.gms.ads.initialization.InitializationStatus;\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\n\npublic class MainActivit2y extends AppCompatActivity {\n\n    private AdView mAdView;\n    private WebView webView;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main1);\n\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(@NonNull InitializationStatus initializationStatus) {\n\n            }\n        });\n        mAdView = findViewById(R.id.adView);\n        AdRequest adRequest= new AdRequest.Builder().build();\n        mAdView.loadAd(adRequest);\n\n        webView=(WebView) findViewById(R.id.web_view);\n        webView.setWebViewClient(new WebViewClient());\n        webView.loadUrl(&quot;https://sites.google.com/view/cls2rlibraryybis/home&quot;);\n        WebSettings webSettings=webView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n    }\n    public class mywebClient extends WebViewClient {\n        @Override\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\n            super.onPageStarted(view,url,favicon);\n        }\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            view.loadUrl(url);\n            return true;\n        }\n    }\n    @Override\n    public void onBackPressed() {\n        if (webView.canGoBack()) {\n            webView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n<p>Please try to resolve this issue.\nI built the app to a signed APK file and deployed it on my device for testing, and the app kept on crashing after I clicked the login button. I thought it would open the next activity, but no.\nPlease check for my mistake...</p>\n"},{"tags":["java","android-studio","namespaces","build.gradle","samsung"],"answers":[{"tags":[],"owner":{"account_id":18858502,"reputation":325,"user_id":13755907,"display_name":"basileus"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686916590,"creation_date":1682924033,"answer_id":76145203,"question_id":76139836,"body_markdown":"I think I found finally solution, or rather workaround myself. It probably can be achieved by properly setting the gradle directly, but I am not an expert in this domain, as I said.\r\n\r\nWhat finally worked for me was to downgrade gradle (plugin and gradle) to the 7.* highest versions (Flamingo uses 8.0 of the gradle by default) by going File -&gt; Project Structure, and then choose from the lists versions 7.* - the highest version available (for me it was 7.4.2 and 7.6.1, as you see):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen use Upgrade Assistant, which appears immediately:\r\n[![enter image description here][2]][2]\r\n\r\nto upgrade it back to version 8.0 of the gradle. Just press Start AGP Upgrade Assistant and the Run Selected Actions (Upgrade to version 8) in the following window.\r\n\r\nPlease remove the whole post if this is bad practice to answer myself. I wasn&#39;t sure if I should remove the post or rather answer it. Then I said to myself, it might be useful to others, and I decided to answer it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jCjVu.png\r\n  [2]: https://i.stack.imgur.com/Qmzm3.png","title":"Samsung IAP build.gradle in Android Studio Flamingo","body":"<p>I think I found finally solution, or rather workaround myself. It probably can be achieved by properly setting the gradle directly, but I am not an expert in this domain, as I said.</p>\n<p>What finally worked for me was to downgrade gradle (plugin and gradle) to the 7.* highest versions (Flamingo uses 8.0 of the gradle by default) by going File -&gt; Project Structure, and then choose from the lists versions 7.* - the highest version available (for me it was 7.4.2 and 7.6.1, as you see):</p>\n<p><a href=\"https://i.stack.imgur.com/jCjVu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jCjVu.png\" alt=\"enter image description here\" /></a></p>\n<p>Then use Upgrade Assistant, which appears immediately:\n<a href=\"https://i.stack.imgur.com/Qmzm3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qmzm3.png\" alt=\"enter image description here\" /></a></p>\n<p>to upgrade it back to version 8.0 of the gradle. Just press Start AGP Upgrade Assistant and the Run Selected Actions (Upgrade to version 8) in the following window.</p>\n<p>Please remove the whole post if this is bad practice to answer myself. I wasn't sure if I should remove the post or rather answer it. Then I said to myself, it might be useful to others, and I decided to answer it.</p>\n"}],"owner":{"account_id":18858502,"reputation":325,"user_id":13755907,"display_name":"basileus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76145203,"answer_count":1,"score":1,"last_activity_date":1686916590,"creation_date":1682836083,"question_id":76139836,"body_markdown":"I am building an application, that is going to use Samsung IAP. I started with empty activity in Java and as the first thing I wanted to integrate Samsung IAP. I follow the instructions from [Samsung Developer&#39;s Page](https://developer.samsung.com/iap/programming-guide/integrate-iap-helper-into-your-app.html) and I have failed actually on the 1st step, just after downloading SDK - installing the module IAP6Helper. Namely build.gradle fails with error:\r\n\r\n```\r\nNamespace not specified. Please specify a namespace in the module&#39;s build.gradle file like so:\r\n\r\nandroid {\r\n    namespace &#39;com.example.namespace&#39;\r\n}\r\n\r\nIf the package attribute is specified in the source AndroidManifest.xml, it can be migrated automatically to the namespace value in the build.gradle file using the AGP Upgrade Assistant; please refer to https://developer.android.com/studio/build/agp-upgrade-assistant for more information.\r\n\r\n```\r\n\r\nThe problem is module&#39;s build.gradle already contains:\r\n\r\n`android {\r\n    namespace &#39;com.example.namespace&#39;\r\n}\r\n`\r\n\r\nI am not an expert in gradle, so I am stuck here.","title":"Samsung IAP build.gradle in Android Studio Flamingo","body":"<p>I am building an application, that is going to use Samsung IAP. I started with empty activity in Java and as the first thing I wanted to integrate Samsung IAP. I follow the instructions from <a href=\"https://developer.samsung.com/iap/programming-guide/integrate-iap-helper-into-your-app.html\" rel=\"nofollow noreferrer\">Samsung Developer's Page</a> and I have failed actually on the 1st step, just after downloading SDK - installing the module IAP6Helper. Namely build.gradle fails with error:</p>\n<pre><code>Namespace not specified. Please specify a namespace in the module's build.gradle file like so:\n\nandroid {\n    namespace 'com.example.namespace'\n}\n\nIf the package attribute is specified in the source AndroidManifest.xml, it can be migrated automatically to the namespace value in the build.gradle file using the AGP Upgrade Assistant; please refer to https://developer.android.com/studio/build/agp-upgrade-assistant for more information.\n\n</code></pre>\n<p>The problem is module's build.gradle already contains:</p>\n<p><code>android { namespace 'com.example.namespace' } </code></p>\n<p>I am not an expert in gradle, so I am stuck here.</p>\n"},{"tags":["java","lombok","intellij-plugin","maven-compiler-plugin","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686901988,"post_id":76488051,"comment_id":134864792,"body_markdown":"Sounds like you are missing the Lombok annotation processor in your Maven config. You need to tell your build system to actually process the annotations, doing that only in the IDE is not enough.","body":"Sounds like you are missing the Lombok annotation processor in your Maven config. You need to tell your build system to actually process the annotations, doing that only in the IDE is not enough."},{"owner":{"account_id":24214629,"reputation":11,"user_id":18170699,"display_name":"devvv"},"score":0,"creation_date":1686913525,"post_id":76488051,"comment_id":134867218,"body_markdown":"I tried adding configuration - annotationProcessorPaths and the Lombok dependency inside path tag in the maven compiler plugin - still the same error","body":"I tried adding configuration - annotationProcessorPaths and the Lombok dependency inside path tag in the maven compiler plugin - still the same error"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686943583,"post_id":76488051,"comment_id":134873268,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":24214629,"reputation":11,"user_id":18170699,"display_name":"devvv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686916409,"creation_date":1686901878,"question_id":76488051,"body_markdown":"I have a Spring Boot application with Java 11. I am using IntelliJ 2022.1.4 (Ultimate Edition). Lombok plug-in is installed and enabled in the IDE - version bundled 221.6008.13. In my pom.xml I have the maven dependency for project Lombok - version 1.18.28 with scope provided. \r\n\r\nAnnotation processing is enabled in the IDE settings. I’m using maven-compiler-plug-in. \r\nThe issue is that when I try to build the project, I have error that the getters and setters methods in my classes are not defined (I have the annotations @Getter @Setter). \r\n\r\n\r\n\r\nI already tried with restarts, invalidate caches etc.","title":"Lombok not working with Java 11 and IntelliJ","body":"<p>I have a Spring Boot application with Java 11. I am using IntelliJ 2022.1.4 (Ultimate Edition). Lombok plug-in is installed and enabled in the IDE - version bundled 221.6008.13. In my pom.xml I have the maven dependency for project Lombok - version 1.18.28 with scope provided.</p>\n<p>Annotation processing is enabled in the IDE settings. I’m using maven-compiler-plug-in.\nThe issue is that when I try to build the project, I have error that the getters and setters methods in my classes are not defined (I have the annotations @Getter @Setter).</p>\n<p>I already tried with restarts, invalidate caches etc.</p>\n"},{"tags":["javascript","java","android","xml","call"],"comments":[{"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"score":0,"creation_date":1686309875,"post_id":76439530,"comment_id":134784609,"body_markdown":"this would help you https://www.youtube.com/watch?v=rlzfcqDlovg","body":"this would help you <a href=\"https://www.youtube.com/watch?v=rlzfcqDlovg\" rel=\"nofollow noreferrer\">youtube.com/watch?v=rlzfcqDlovg</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686325214,"post_id":76439530,"comment_id":134788012,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":20339033,"reputation":1,"user_id":14918912,"display_name":"Sahil Malik"},"score":0,"creation_date":1686738653,"post_id":76439530,"comment_id":134839490,"body_markdown":"zaid khan , already watchded but not working bro","body":"zaid khan , already watchded but not working bro"}],"answers":[{"tags":[],"owner":{"account_id":15804854,"reputation":513,"user_id":11403638,"display_name":"Matrix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686916244,"creation_date":1686916244,"answer_id":76489901,"question_id":76439530,"body_markdown":"could use android foreground-services to do this. start your call listen service when the phone is boot. \r\n\r\n [https://developer.android.com/guide/components/foreground-services][1]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/foreground-services","title":"How to detect incoming calls in background, in an Android app?","body":"<p>could use android foreground-services to do this. start your call listen service when the phone is boot.</p>\n<p><a href=\"https://developer.android.com/guide/components/foreground-services\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/foreground-services</a></p>\n"}],"owner":{"account_id":20339033,"reputation":1,"user_id":14918912,"display_name":"Sahil Malik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686916244,"creation_date":1686307700,"question_id":76439530,"body_markdown":"**I&#39;m trying to make an app like, when a call comes to the phone I want to detect calls in background** but  only able to detect calls when app is open or in recent apps . I tried many ways but not able to detect when app is completely closed ,   i want to detect calls like true-caller , Caller Name Announcer apps","title":"How to detect incoming calls in background, in an Android app?","body":"<p><strong>I'm trying to make an app like, when a call comes to the phone I want to detect calls in background</strong> but  only able to detect calls when app is open or in recent apps . I tried many ways but not able to detect when app is completely closed ,   i want to detect calls like true-caller , Caller Name Announcer apps</p>\n"},{"tags":["java","spring-boot","maven","spring-mvc"],"comments":[{"owner":{"account_id":4657237,"reputation":109,"user_id":3772496,"display_name":"Hiruthere"},"score":0,"creation_date":1686924307,"post_id":76489613,"comment_id":134869542,"body_markdown":"its working after updating spring-boot.version to 2.6.0 using &quot;/&quot; at end i.e. @GetMapping(path = &quot;/{fileName}/&quot;, produces = MediaType.APPLICATION_JSON_VALUE). However, with inbuilt java httpServer I can access directly as required. so it needs to analysed why behavior is different.  \\n InetSocketAddress address = new InetSocketAddress(port); HttpServer server = HttpServer.create(address, 0); // Set up the context for file requests server.createContext(&quot;/&quot;, new MyFileHandler(directoryPath)); // Start the server server.start()","body":"its working after updating spring-boot.version to 2.6.0 using &quot;/&quot; at end i.e. @GetMapping(path = &quot;/{fileName}/&quot;, produces = MediaType.APPLICATION_JSON_VALUE). However, with inbuilt java httpServer I can access directly as required. so it needs to analysed why behavior is different.  \\n InetSocketAddress address = new InetSocketAddress(port); HttpServer server = HttpServer.create(address, 0); // Set up the context for file requests server.createContext(&quot;/&quot;, new MyFileHandler(directoryPath)); // Start the server server.start()"}],"answers":[{"comments":[{"owner":{"account_id":4657237,"reputation":109,"user_id":3772496,"display_name":"Hiruthere"},"score":0,"creation_date":1686915398,"post_id":76489701,"comment_id":134867561,"body_markdown":"This is not working. \n\n@GetMapping(path = &quot;/{fileName}/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n\nHowever, if pass any value other than &quot;/&quot; its working. but I need use that value in URL. For Example : @GetMapping(path = &quot;/{fileName}a&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n\nthen URL will http://localhost:8081/TestResultsa","body":"This is not working.   @GetMapping(path = &quot;/{fileName}/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)  However, if pass any value other than &quot;/&quot; its working. but I need use that value in URL. For Example : @GetMapping(path = &quot;/{fileName}a&quot;, produces = MediaType.APPLICATION_JSON_VALUE)  then URL will <a href=\"http://localhost:8081/TestResultsa\" rel=\"nofollow noreferrer\">localhost:8081/TestResultsa</a>"},{"owner":{"account_id":4657237,"reputation":109,"user_id":3772496,"display_name":"Hiruthere"},"score":1,"creation_date":1686924147,"post_id":76489701,"comment_id":134869493,"body_markdown":"its working after updating spring-boot.version to 2.6.0 using &quot;/&quot; at end i.e. @GetMapping(path = &quot;/{fileName}/&quot;, produces = MediaType.APPLICATION_JSON_VALUE). Thanks Gaurav.","body":"its working after updating spring-boot.version to 2.6.0 using &quot;/&quot; at end i.e. @GetMapping(path = &quot;/{fileName}/&quot;, produces = MediaType.APPLICATION_JSON_VALUE). Thanks Gaurav."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1686924513,"post_id":76489701,"comment_id":134869599,"body_markdown":"Slash at the end is not a resource but a collection.","body":"Slash at the end is not a resource but a collection."}],"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686914507,"creation_date":1686914507,"answer_id":76489701,"question_id":76489613,"body_markdown":"In Springboot:\r\n\r\n 1. the URL example/first/second results in evaluating firstValue = “first” and secondValue = “second” \r\n 2. when using the example/gallery.df/second.ar URL, we&#39;ll have firstValue = “first.df” and secondValue = “second” \r\n 3. with the example/first.df/second.com.ar URL, our variables will be\r\n    firstValue = “first.df” and secondValue = “second.com”\r\n\r\nAs we can see, second is always truncated.\r\n\r\nPossible solution:\r\n\r\n**Use Regex:**\r\n\r\n    @GetMapping(&quot;/example/{firstValue}/{secondValue:.+}&quot;) \r\n\r\n**End with Slash:**\r\n\r\n    @GetMapping(&quot;/example/{firstValue}/{secondValue}/&quot;)\r\n\r\n\r\nFor more related details please [refer][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-pathvariable-dot","title":"GetMapping to Method in Spring Boot not working as required when last attribute is having . (dot)","body":"<p>In Springboot:</p>\n<ol>\n<li>the URL example/first/second results in evaluating firstValue = “first” and secondValue = “second”</li>\n<li>when using the example/gallery.df/second.ar URL, we'll have firstValue = “first.df” and secondValue = “second”</li>\n<li>with the example/first.df/second.com.ar URL, our variables will be\nfirstValue = “first.df” and secondValue = “second.com”</li>\n</ol>\n<p>As we can see, second is always truncated.</p>\n<p>Possible solution:</p>\n<p><strong>Use Regex:</strong></p>\n<pre><code>@GetMapping(&quot;/example/{firstValue}/{secondValue:.+}&quot;) \n</code></pre>\n<p><strong>End with Slash:</strong></p>\n<pre><code>@GetMapping(&quot;/example/{firstValue}/{secondValue}/&quot;)\n</code></pre>\n<p>For more related details please <a href=\"https://www.baeldung.com/spring-mvc-pathvariable-dot\" rel=\"nofollow noreferrer\">refer</a>.</p>\n"}],"owner":{"account_id":4657237,"reputation":109,"user_id":3772496,"display_name":"Hiruthere"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76489701,"answer_count":1,"score":0,"last_activity_date":1686914769,"creation_date":1686913883,"question_id":76489613,"body_markdown":"I am using SpringBoot with Maven to read JSON files, However GetMapping is not working as expected.\r\n\r\nThe expected URL is http://localhost:8081/TestResults, where TestResults is a JSON file [TestResults.json] in the provided directory path.\r\n\r\nCurrently, the below code only works when I add &#39;.json&#39; to the GetMapping value. Please help me understand what is wrong with my code.\r\n\r\n```java\r\n@GetMapping(path = &quot;/{fileName}.json&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n```\r\n\r\nThe above code forces me to use the URL http://localhost:8081/TestResults.json, which is not what I want.\r\n\r\nHere&#39;s my full code:\r\n\r\n```java\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.core.io.FileSystemResource;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.http.HttpHeaders;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.io.IOException;\r\n\r\n@SpringBootApplication\r\npublic class SssApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SssApplication.class, args);\r\n    }\r\n\r\n}\r\n\r\n@RestController\r\nclass FileController {\r\n    private final String directoryPath = &quot;C:\\\\Users\\\\Hello\\\\Documents\\\\Demo&quot;;\r\n\r\n    @GetMapping(path = &quot;/{fileName}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;?&gt; getFile(@PathVariable String fileName) throws FileNotFoundException {\r\n        System.out.println(&quot;fileName:&quot; + fileName);\r\n        System.out.flush(); // Flush the output to ensure it is displayed in the console\r\n\r\n        String fullFileName = fileName.endsWith(&quot;.json&quot;) ? fileName : fileName + &quot;.json&quot;;\r\n        System.out.println(&quot;fullFileName:&quot; + fullFileName);\r\n        System.out.flush(); // Flush the output to ensure it is displayed in the console\r\n\r\n        File file = findFileRecursively(new File(directoryPath), fullFileName);\r\n        System.out.println(&quot;file:&quot; + file);\r\n        System.out.flush(); // Flush the output to ensure it is displayed in the console\r\n\r\n        if (file != null &amp;&amp; file.isFile()) {\r\n            System.out.println(&quot;file:&quot; + file);\r\n            System.out.flush(); // Flush the output to ensure it is displayed in the console\r\n\r\n            try {\r\n                System.out.println(&quot;file toPath:&quot; + file.toPath());\r\n                System.out.flush(); // Flush the output to ensure it is displayed in the console\r\n                byte[] fileContent = Files.readAllBytes(file.toPath());\r\n                HttpHeaders headers = new HttpHeaders();\r\n                headers.setContentType(MediaType.APPLICATION_JSON);\r\n                headers.setContentLength(fileContent.length);\r\n                return new ResponseEntity&lt;&gt;(fileContent, headers, HttpStatus.OK);\r\n            } catch (IOException e) {\r\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Internal Server Error&quot;);\r\n            }\r\n        } else {\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;File not found&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    @PostMapping(&quot;/upload&quot;)\r\n    public ResponseEntity&lt;?&gt; uploadFile() {\r\n        // Handle file upload logic here\r\n        return ResponseEntity.ok().body(&quot;File upload successful&quot;);\r\n    }\r\n\r\n    private File findFileRecursively(File directory, String fileName) {\r\n        File[] files = directory.listFiles();\r\n        if (files != null) {\r\n            for (File file : files) {\r\n                if (file.isFile() &amp;&amp; file.getName().equalsIgnoreCase(fileName)) {\r\n                    return file;\r\n                } else if (file.isDirectory()) {\r\n                    File foundFile = findFileRecursively(file, fileName);\r\n                    if (foundFile != null) {\r\n                        return foundFile;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\npom.xml\r\n\r\n    &lt;properties&gt;\r\n    \t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\r\n    \t&lt;spring-boot.version&gt;2.5.2&lt;/spring-boot.version&gt;\r\n    \t&lt;gson.version&gt;2.8.7&lt;/gson.version&gt;\r\n    &lt;/properties&gt;","title":"GetMapping to Method in Spring Boot not working as required when last attribute is having . (dot)","body":"<p>I am using SpringBoot with Maven to read JSON files, However GetMapping is not working as expected.</p>\n<p>The expected URL is http://localhost:8081/TestResults, where TestResults is a JSON file [TestResults.json] in the provided directory path.</p>\n<p>Currently, the below code only works when I add '.json' to the GetMapping value. Please help me understand what is wrong with my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(path = &quot;/{fileName}.json&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n<p>The above code forces me to use the URL http://localhost:8081/TestResults.json, which is not what I want.</p>\n<p>Here's my full code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.core.io.FileSystemResource;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.http.HttpHeaders;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.io.IOException;\n\n@SpringBootApplication\npublic class SssApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SssApplication.class, args);\n    }\n\n}\n\n@RestController\nclass FileController {\n    private final String directoryPath = &quot;C:\\\\Users\\\\Hello\\\\Documents\\\\Demo&quot;;\n\n    @GetMapping(path = &quot;/{fileName}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;?&gt; getFile(@PathVariable String fileName) throws FileNotFoundException {\n        System.out.println(&quot;fileName:&quot; + fileName);\n        System.out.flush(); // Flush the output to ensure it is displayed in the console\n\n        String fullFileName = fileName.endsWith(&quot;.json&quot;) ? fileName : fileName + &quot;.json&quot;;\n        System.out.println(&quot;fullFileName:&quot; + fullFileName);\n        System.out.flush(); // Flush the output to ensure it is displayed in the console\n\n        File file = findFileRecursively(new File(directoryPath), fullFileName);\n        System.out.println(&quot;file:&quot; + file);\n        System.out.flush(); // Flush the output to ensure it is displayed in the console\n\n        if (file != null &amp;&amp; file.isFile()) {\n            System.out.println(&quot;file:&quot; + file);\n            System.out.flush(); // Flush the output to ensure it is displayed in the console\n\n            try {\n                System.out.println(&quot;file toPath:&quot; + file.toPath());\n                System.out.flush(); // Flush the output to ensure it is displayed in the console\n                byte[] fileContent = Files.readAllBytes(file.toPath());\n                HttpHeaders headers = new HttpHeaders();\n                headers.setContentType(MediaType.APPLICATION_JSON);\n                headers.setContentLength(fileContent.length);\n                return new ResponseEntity&lt;&gt;(fileContent, headers, HttpStatus.OK);\n            } catch (IOException e) {\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Internal Server Error&quot;);\n            }\n        } else {\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;File not found&quot;);\n        }\n    }\n\n\n    @PostMapping(&quot;/upload&quot;)\n    public ResponseEntity&lt;?&gt; uploadFile() {\n        // Handle file upload logic here\n        return ResponseEntity.ok().body(&quot;File upload successful&quot;);\n    }\n\n    private File findFileRecursively(File directory, String fileName) {\n        File[] files = directory.listFiles();\n        if (files != null) {\n            for (File file : files) {\n                if (file.isFile() &amp;&amp; file.getName().equalsIgnoreCase(fileName)) {\n                    return file;\n                } else if (file.isDirectory()) {\n                    File foundFile = findFileRecursively(file, fileName);\n                    if (foundFile != null) {\n                        return foundFile;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\n    &lt;spring-boot.version&gt;2.5.2&lt;/spring-boot.version&gt;\n    &lt;gson.version&gt;2.8.7&lt;/gson.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":["java","junit5","junit-jupiter"],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686914502,"creation_date":1686914502,"answer_id":76489699,"question_id":76489423,"body_markdown":"You are using JUnit&#39;s Parameterized incorrectly. The parameter source method should return a collection of arrays, you do that correctly. But the *test method* should receive the array elements as separate arguments:\r\n\r\n```\r\n    @ParameterizedTest\r\n    @MethodSource(value = &quot;inputConditionsTest&quot;)\r\n    void testConditionsMethod(int a, int b, boolean c, boolean d, boolean expected) {\r\n        controllaCondizioni = new ControllaCondizioni();\r\n        assertEquals(expected, controllaCondizioni.Verifica(a, b, c, expected));\r\n    }\r\n```","title":"How can I insert and get data from a collection of java objects to be able to create a parameterized method?","body":"<p>You are using JUnit's Parameterized incorrectly. The parameter source method should return a collection of arrays, you do that correctly. But the <em>test method</em> should receive the array elements as separate arguments:</p>\n<pre><code>    @ParameterizedTest\n    @MethodSource(value = &quot;inputConditionsTest&quot;)\n    void testConditionsMethod(int a, int b, boolean c, boolean d, boolean expected) {\n        controllaCondizioni = new ControllaCondizioni();\n        assertEquals(expected, controllaCondizioni.Verifica(a, b, c, expected));\n    }\n</code></pre>\n"}],"owner":{"account_id":21531424,"reputation":13,"user_id":22083341,"display_name":"sara scarcelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76489699,"answer_count":1,"score":1,"last_activity_date":1686914502,"creation_date":1686912389,"question_id":76489423,"body_markdown":"The form &quot;inputConditionsTest[0]&quot; is incorrect.How can I get the first values of my collection &lt;Object[]&gt;???\r\n\r\npublic class ControllaCondizioniParamTest {\r\n\t\r\n\t\tprivate  ControllaCondizioni controllaCondizioni;\r\n\t\r\n\t\tpublic static Collection&lt;Object[]&gt; inputConditionsTest() {\r\n\t\t\treturn Arrays.asList(new Object[][] {\r\n\t\t\t\t\t{ 5, 3, true, true, true },\r\n\t\t\t\t\t{ 1, 2, false, true, true },\r\n\t\t\t\t\t{ 3, 3, false, false, true },\r\n\t\t\t\t\t{ 2, 4, true, false, true}, \r\n\t\t\t\t\t{ 9, 3, false, true, false},\r\n\t\t\t\t\t{ 10, 5, true, false, true }\r\n\t\t\t});\r\n\t\t}\r\n            @ParameterizedTest\r\n\t    @MethodSource(value = &quot;inputConditionsTest&quot;)\r\n\t    void testConditionsMethod(Collection&lt;Object[]&gt; inputConditionsTest) {\r\n\t\t\tcontrollaCondizioni = new ControllaCondizioni();\r\n\t        int a = inputConditionsTest[0]\r\n\t        int b = inputConditionsTest[1];\r\n\t        boolean c = inputConditionsTest[2];\r\n\t        boolean d = inputConditionsTest[3];\r\n\t        boolean expected = inputConditionsTest[4];\r\n\t        assertEquals(expected, controllaCondizioni.Verifica(a, b, c, expected));\r\n\t    }\r\n}","title":"How can I insert and get data from a collection of java objects to be able to create a parameterized method?","body":"<p>The form &quot;inputConditionsTest[0]&quot; is incorrect.How can I get the first values of my collection &lt;Object[]&gt;???</p>\n<p>public class ControllaCondizioniParamTest {</p>\n<pre><code>    private  ControllaCondizioni controllaCondizioni;\n\n    public static Collection&lt;Object[]&gt; inputConditionsTest() {\n        return Arrays.asList(new Object[][] {\n                { 5, 3, true, true, true },\n                { 1, 2, false, true, true },\n                { 3, 3, false, false, true },\n                { 2, 4, true, false, true}, \n                { 9, 3, false, true, false},\n                { 10, 5, true, false, true }\n        });\n    }\n        @ParameterizedTest\n    @MethodSource(value = &quot;inputConditionsTest&quot;)\n    void testConditionsMethod(Collection&lt;Object[]&gt; inputConditionsTest) {\n        controllaCondizioni = new ControllaCondizioni();\n        int a = inputConditionsTest[0]\n        int b = inputConditionsTest[1];\n        boolean c = inputConditionsTest[2];\n        boolean d = inputConditionsTest[3];\n        boolean expected = inputConditionsTest[4];\n        assertEquals(expected, controllaCondizioni.Verifica(a, b, c, expected));\n    }\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1686383775,"post_id":76445198,"comment_id":134793950,"body_markdown":"How is `AppCompat` activity used?","body":"How is <code>AppCompat</code> activity used?"},{"owner":{"account_id":12102141,"reputation":93,"user_id":8842546,"display_name":"Aymen Mellah"},"score":0,"creation_date":1686383875,"post_id":76445198,"comment_id":134793962,"body_markdown":"for just two lines of code LanguageManager languageManager = new LanguageManager(this);\n        languageManager.updateLang(languageManager.getLang()); to refresh the language every time the activity is created","body":"for just two lines of code LanguageManager languageManager = new LanguageManager(this);         languageManager.updateLang(languageManager.getLang()); to refresh the language every time the activity is created"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686401483,"post_id":76445198,"comment_id":134795400,"body_markdown":"For most languages it should have utf-8 strings, and the UI components should be set to locale, however too you should have access to fonts too for foreign language.","body":"For most languages it should have utf-8 strings, and the UI components should be set to locale, however too you should have access to fonts too for foreign language."},{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1686407138,"post_id":76445198,"comment_id":134796031,"body_markdown":"OK, but when is activity `AppCompat` actually being created?","body":"OK, but when is activity <code>AppCompat</code> actually being created?"}],"answers":[{"tags":[],"owner":{"account_id":15804854,"reputation":513,"user_id":11403638,"display_name":"Matrix"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686914495,"creation_date":1686914495,"answer_id":76489696,"question_id":76445198,"body_markdown":"try this code for AppCompat, which just overrides the onResume()\r\n\r\n    public class AppCompat extends AppCompatActivity\r\n    {\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        LanguageManager languageManager = new LanguageManager(this);\r\n        languageManager.updateLang(languageManager.getLang());\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        LanguageManager languageManager = new LanguageManager(this);\r\n        languageManager.updateLang(languageManager.getLang());\r\n    }\r\n    }\r\n\r\n","title":"Language does not change when pressing the go back button","body":"<p>try this code for AppCompat, which just overrides the onResume()</p>\n<pre><code>public class AppCompat extends AppCompatActivity\n{\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    LanguageManager languageManager = new LanguageManager(this);\n    languageManager.updateLang(languageManager.getLang());\n\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    LanguageManager languageManager = new LanguageManager(this);\n    languageManager.updateLang(languageManager.getLang());\n}\n}\n</code></pre>\n"}],"owner":{"account_id":12102141,"reputation":93,"user_id":8842546,"display_name":"Aymen Mellah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76489696,"answer_count":1,"score":0,"last_activity_date":1686914495,"creation_date":1686382315,"question_id":76445198,"body_markdown":"I&#39;m trying to implement a multi language app everything works properly i have 2 activities the first is the welocome activity the second is the choose language activiity but when i change the language and press goBack button to the welcome activity the langauge doesn&#39;t change here is my code : \r\nThe welcome activity \r\n\r\n    public class GetStartedActivity extends AppCompat {\r\n    private Button getStartedBtn;\r\n    private Bundle b;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_get_started);\r\n        init();\r\n\r\n        getStartedBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(GetStartedActivity.this,ChooseLanguageActivity.class));\r\n                overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    private void init()\r\n    {\r\n        getStartedBtn = findViewById(R.id.get_started_btn);\r\n    }\r\n}\r\n\r\nThe choose langauge activity :\r\n\r\n    public class ChooseLanguageActivity extends AppCompat {\r\n        private RadioButton radioButton1;\r\n        private RadioButton radioButton2;\r\n        private RadioButton radioButton3;\r\n        private RadioGroup radioGroup;\r\n        private Button nextBtn;\r\n        private String selectedLang;\r\n        private SharedPreferences sharedPreferences;\r\n        private LanguageManager languageManager;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_choose_language);\r\n            init();\r\n            radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n                    if (checkedId == R.id.enRBtn) {\r\n                        radioButton1.setCompoundDrawablesWithIntrinsicBounds(R.drawable.uk, 0, R.drawable.checkmark, 0);\r\n                        radioButton2.setCompoundDrawablesWithIntrinsicBounds(R.drawable.fr, 0, 0, 0);\r\n                        radioButton3.setCompoundDrawablesWithIntrinsicBounds(R.drawable.dz, 0, 0, 0);\r\n                        selectedLang=&quot;en&quot;;\r\n                        languageManager.setLang(selectedLang);\r\n                    } else if (checkedId == R.id.frRBtn) {\r\n                        radioButton1.setCompoundDrawablesWithIntrinsicBounds(R.drawable.uk, 0, 0, 0);\r\n                        radioButton2.setCompoundDrawablesWithIntrinsicBounds(R.drawable.fr, 0, R.drawable.checkmark, 0);\r\n                        radioButton3.setCompoundDrawablesWithIntrinsicBounds(R.drawable.dz, 0, 0, 0);\r\n                        selectedLang=&quot;fr&quot;;\r\n                        languageManager.setLang(selectedLang);\r\n                    } else if (checkedId == R.id.arRBtn) {\r\n                        radioButton1.setCompoundDrawablesWithIntrinsicBounds(R.drawable.uk, 0, 0, 0);\r\n                        radioButton2.setCompoundDrawablesWithIntrinsicBounds(R.drawable.fr, 0, 0, 0);\r\n                        radioButton3.setCompoundDrawablesWithIntrinsicBounds(R.drawable.dz, 0, R.drawable.checkmark, 0);\r\n                        selectedLang=&quot;ar&quot;;\r\n                        languageManager.setLang(selectedLang);\r\n                    }\r\n                }\r\n            });\r\n            nextBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    languageManager.setLang(selectedLang);\r\n                    startActivity(new Intent(ChooseLanguageActivity.this,SignInActivity.class));\r\n    \r\n                }\r\n            });\r\n        }\r\n        \r\n    \r\n        private void init()\r\n        {\r\n            radioGroup = findViewById(R.id.languageRadioGroup);\r\n            radioButton1 = findViewById(R.id.enRBtn);\r\n            radioButton2 = findViewById(R.id.frRBtn);\r\n            radioButton3 = findViewById(R.id.arRBtn);\r\n            nextBtn = findViewById(R.id.lNextBtn);\r\n            languageManager = new LanguageManager(this);\r\n            selectedLang=languageManager.getLang();\r\n            if(selectedLang.equals(&quot;en&quot;))\r\n            {\r\n                radioButton1.setChecked(true);\r\n                radioButton1.setCompoundDrawablesWithIntrinsicBounds(R.drawable.uk, 0, R.drawable.checkmark, 0);\r\n                radioButton2.setCompoundDrawablesWithIntrinsicBounds(R.drawable.fr, 0, 0, 0);\r\n                radioButton3.setCompoundDrawablesWithIntrinsicBounds(R.drawable.dz, 0, 0, 0);\r\n            } else if (selectedLang.equals(&quot;fr&quot;))\r\n            {\r\n                radioButton2.setChecked(true);\r\n                radioButton1.setCompoundDrawablesWithIntrinsicBounds(R.drawable.uk, 0, 0, 0);\r\n                radioButton2.setCompoundDrawablesWithIntrinsicBounds(R.drawable.fr, 0, R.drawable.checkmark, 0);\r\n                radioButton3.setCompoundDrawablesWithIntrinsicBounds(R.drawable.dz, 0, 0, 0);\r\n            }else\r\n            {\r\n                radioButton3.setChecked(true);\r\n                radioButton1.setCompoundDrawablesWithIntrinsicBounds(R.drawable.uk, 0, 0, 0);\r\n                radioButton2.setCompoundDrawablesWithIntrinsicBounds(R.drawable.fr, 0, 0, 0);\r\n                radioButton3.setCompoundDrawablesWithIntrinsicBounds(R.drawable.dz, 0, R.drawable.checkmark, 0);\r\n            }\r\n        }\r\n    }\r\n\r\n \r\nLanguage Manager class : \r\n\r\n    public class LanguageManager {\r\n        private Context ctx;\r\n        private SharedPreferences sharedPreferences;\r\n        public LanguageManager(Context ctx) {\r\n            this.ctx = ctx;\r\n            sharedPreferences=ctx.getSharedPreferences(&quot;LANG&quot;,Context.MODE_PRIVATE);\r\n        }\r\n        public void updateLang(String code)\r\n        {\r\n            Locale locale = new Locale(code);\r\n            Locale.setDefault(locale);\r\n            Resources resources = ctx.getResources();\r\n            Configuration configuration = resources.getConfiguration();\r\n            configuration.locale=locale;\r\n            resources.updateConfiguration(configuration,resources.getDisplayMetrics());\r\n            setLang(code);\r\n        }\r\n    \r\n    \r\n        public String getLang()\r\n        {\r\n            return sharedPreferences.getString(&quot;lang&quot;,&quot;en&quot;);\r\n        }\r\n        public void setLang(String code)\r\n        {\r\n            SharedPreferences.Editor editor = sharedPreferences.edit();\r\n            editor.putString(&quot;lang&quot;,code);\r\n            editor.commit();\r\n        }\r\n    }\r\nAppCompat Class : \r\n\r\n    public class AppCompat extends AppCompatActivity\r\n    {\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            LanguageManager languageManager = new LanguageManager(this);\r\n            languageManager.updateLang(languageManager.getLang());\r\n    \r\n        }\r\n    }","title":"Language does not change when pressing the go back button","body":"<p>I'm trying to implement a multi language app everything works properly i have 2 activities the first is the welocome activity the second is the choose language activiity but when i change the language and press goBack button to the welcome activity the langauge doesn't change here is my code :\nThe welcome activity</p>\n<pre><code>public class GetStartedActivity extends AppCompat {\nprivate Button getStartedBtn;\nprivate Bundle b;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_get_started);\n    init();\n\n    getStartedBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            startActivity(new Intent(GetStartedActivity.this,ChooseLanguageActivity.class));\n            overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\n        }\n    });\n}\n\n\n\nprivate void init()\n{\n    getStartedBtn = findViewById(R.id.get_started_btn);\n}\n</code></pre>\n<p>}</p>\n<p>The choose langauge activity :</p>\n<pre><code>public class ChooseLanguageActivity extends AppCompat {\n    private RadioButton radioButton1;\n    private RadioButton radioButton2;\n    private RadioButton radioButton3;\n    private RadioGroup radioGroup;\n    private Button nextBtn;\n    private String selectedLang;\n    private SharedPreferences sharedPreferences;\n    private LanguageManager languageManager;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_choose_language);\n        init();\n        radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\n                if (checkedId == R.id.enRBtn) {\n                    radioButton1.setCompoundDrawablesWithIntrinsicBounds(R.drawable.uk, 0, R.drawable.checkmark, 0);\n                    radioButton2.setCompoundDrawablesWithIntrinsicBounds(R.drawable.fr, 0, 0, 0);\n                    radioButton3.setCompoundDrawablesWithIntrinsicBounds(R.drawable.dz, 0, 0, 0);\n                    selectedLang=&quot;en&quot;;\n                    languageManager.setLang(selectedLang);\n                } else if (checkedId == R.id.frRBtn) {\n                    radioButton1.setCompoundDrawablesWithIntrinsicBounds(R.drawable.uk, 0, 0, 0);\n                    radioButton2.setCompoundDrawablesWithIntrinsicBounds(R.drawable.fr, 0, R.drawable.checkmark, 0);\n                    radioButton3.setCompoundDrawablesWithIntrinsicBounds(R.drawable.dz, 0, 0, 0);\n                    selectedLang=&quot;fr&quot;;\n                    languageManager.setLang(selectedLang);\n                } else if (checkedId == R.id.arRBtn) {\n                    radioButton1.setCompoundDrawablesWithIntrinsicBounds(R.drawable.uk, 0, 0, 0);\n                    radioButton2.setCompoundDrawablesWithIntrinsicBounds(R.drawable.fr, 0, 0, 0);\n                    radioButton3.setCompoundDrawablesWithIntrinsicBounds(R.drawable.dz, 0, R.drawable.checkmark, 0);\n                    selectedLang=&quot;ar&quot;;\n                    languageManager.setLang(selectedLang);\n                }\n            }\n        });\n        nextBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                languageManager.setLang(selectedLang);\n                startActivity(new Intent(ChooseLanguageActivity.this,SignInActivity.class));\n\n            }\n        });\n    }\n    \n\n    private void init()\n    {\n        radioGroup = findViewById(R.id.languageRadioGroup);\n        radioButton1 = findViewById(R.id.enRBtn);\n        radioButton2 = findViewById(R.id.frRBtn);\n        radioButton3 = findViewById(R.id.arRBtn);\n        nextBtn = findViewById(R.id.lNextBtn);\n        languageManager = new LanguageManager(this);\n        selectedLang=languageManager.getLang();\n        if(selectedLang.equals(&quot;en&quot;))\n        {\n            radioButton1.setChecked(true);\n            radioButton1.setCompoundDrawablesWithIntrinsicBounds(R.drawable.uk, 0, R.drawable.checkmark, 0);\n            radioButton2.setCompoundDrawablesWithIntrinsicBounds(R.drawable.fr, 0, 0, 0);\n            radioButton3.setCompoundDrawablesWithIntrinsicBounds(R.drawable.dz, 0, 0, 0);\n        } else if (selectedLang.equals(&quot;fr&quot;))\n        {\n            radioButton2.setChecked(true);\n            radioButton1.setCompoundDrawablesWithIntrinsicBounds(R.drawable.uk, 0, 0, 0);\n            radioButton2.setCompoundDrawablesWithIntrinsicBounds(R.drawable.fr, 0, R.drawable.checkmark, 0);\n            radioButton3.setCompoundDrawablesWithIntrinsicBounds(R.drawable.dz, 0, 0, 0);\n        }else\n        {\n            radioButton3.setChecked(true);\n            radioButton1.setCompoundDrawablesWithIntrinsicBounds(R.drawable.uk, 0, 0, 0);\n            radioButton2.setCompoundDrawablesWithIntrinsicBounds(R.drawable.fr, 0, 0, 0);\n            radioButton3.setCompoundDrawablesWithIntrinsicBounds(R.drawable.dz, 0, R.drawable.checkmark, 0);\n        }\n    }\n}\n</code></pre>\n<p>Language Manager class :</p>\n<pre><code>public class LanguageManager {\n    private Context ctx;\n    private SharedPreferences sharedPreferences;\n    public LanguageManager(Context ctx) {\n        this.ctx = ctx;\n        sharedPreferences=ctx.getSharedPreferences(&quot;LANG&quot;,Context.MODE_PRIVATE);\n    }\n    public void updateLang(String code)\n    {\n        Locale locale = new Locale(code);\n        Locale.setDefault(locale);\n        Resources resources = ctx.getResources();\n        Configuration configuration = resources.getConfiguration();\n        configuration.locale=locale;\n        resources.updateConfiguration(configuration,resources.getDisplayMetrics());\n        setLang(code);\n    }\n\n\n    public String getLang()\n    {\n        return sharedPreferences.getString(&quot;lang&quot;,&quot;en&quot;);\n    }\n    public void setLang(String code)\n    {\n        SharedPreferences.Editor editor = sharedPreferences.edit();\n        editor.putString(&quot;lang&quot;,code);\n        editor.commit();\n    }\n}\n</code></pre>\n<p>AppCompat Class :</p>\n<pre><code>public class AppCompat extends AppCompatActivity\n{\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        LanguageManager languageManager = new LanguageManager(this);\n        languageManager.updateLang(languageManager.getLang());\n\n    }\n}\n</code></pre>\n"},{"tags":["java","mongodb","jetty","resteasy","morphia"],"owner":{"account_id":14636697,"reputation":21,"user_id":10570611,"display_name":"bencher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686914334,"creation_date":1686914334,"question_id":76489668,"body_markdown":"I&#39;m trying to make an API in java using resteasy and jetty to run the API and Morphia to connect to a MongoDB database, however when I try to create a datastore the application crashes and gives the following errors:\r\n\r\n```\r\ncom.google.inject.CreationException: Unable to create injector, see the following errors:\r\n\r\n1) An exception was caught and reported. Message: Unable to support mongodb+srv// style connections as the &#39;com.sun.jndi.dns.DnsContextFactory&#39; class is not available in this JRE. A JNDI context is required for resolving SRV records.\r\n  at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:137)\r\n```\r\n\r\nI&#39;m using java 11 for this.\r\n\r\nIf more info is needed I will try to provide it.","title":"Unable to support mongodb+srv// style connections as the &#39;com.sun.jndi.dns.DnsContextFactory&#39; class is not available in this JRE","body":"<p>I'm trying to make an API in java using resteasy and jetty to run the API and Morphia to connect to a MongoDB database, however when I try to create a datastore the application crashes and gives the following errors:</p>\n<pre><code>com.google.inject.CreationException: Unable to create injector, see the following errors:\n\n1) An exception was caught and reported. Message: Unable to support mongodb+srv// style connections as the 'com.sun.jndi.dns.DnsContextFactory' class is not available in this JRE. A JNDI context is required for resolving SRV records.\n  at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:137)\n</code></pre>\n<p>I'm using java 11 for this.</p>\n<p>If more info is needed I will try to provide it.</p>\n"},{"tags":["java","bash","jenkins"],"comments":[{"owner":{"account_id":2091022,"reputation":856,"user_id":1860867,"accept_rate":40,"display_name":"ptha"},"score":0,"creation_date":1686918620,"post_id":76489565,"comment_id":134868238,"body_markdown":"The `set -e` should mean that it exits the script before it gets to the last line of `exit 0` - AFAIK.","body":"The <code>set -e</code> should mean that it exits the script before it gets to the last line of <code>exit 0</code> - AFAIK."},{"owner":{"account_id":2091022,"reputation":856,"user_id":1860867,"accept_rate":40,"display_name":"ptha"},"score":0,"creation_date":1686920888,"post_id":76489565,"comment_id":134868720,"body_markdown":"But doesn&#39;t the `set -e` return _the exit status code of the command that failed_ so the `exit 0` is not executed in this case? The `exit 0` is just for green path when the the java program is successful.","body":"But doesn&#39;t the <code>set -e</code> return <i>the exit status code of the command that failed</i> so the <code>exit 0</code> is not executed in this case? The <code>exit 0</code> is just for green path when the the java program is successful."},{"owner":{"account_id":3959308,"reputation":47390,"user_id":3266847,"accept_rate":100,"display_name":"Benjamin W."},"score":0,"creation_date":1686922302,"post_id":76489565,"comment_id":134869041,"body_markdown":"Status codes aren&#39;t usually negative, what happens if you `exit(1)` instead?","body":"Status codes aren&#39;t usually negative, what happens if you <code>exit(1)</code> instead?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686922616,"post_id":76489565,"comment_id":134869106,"body_markdown":"Please check the docu of Jenkins sh command. It looks like it just return the stdout of the shell script by default. Handling of return status is not done by default.","body":"Please check the docu of Jenkins sh command. It looks like it just return the stdout of the shell script by default. Handling of return status is not done by default."},{"owner":{"account_id":3959308,"reputation":47390,"user_id":3266847,"accept_rate":100,"display_name":"Benjamin W."},"score":0,"creation_date":1686923251,"post_id":76489565,"comment_id":134869260,"body_markdown":"@Mar-Z Good point, it&#39;s `status = sh(script: &#39;./myscript.sh&#39;, returnStatus: true)` to get the exit status.","body":"@Mar-Z Good point, it&#39;s <code>status = sh(script: &#39;.&#47;myscript.sh&#39;, returnStatus: true)</code> to get the exit status."},{"owner":{"account_id":2091022,"reputation":856,"user_id":1860867,"accept_rate":40,"display_name":"ptha"},"score":0,"creation_date":1686934814,"post_id":76489565,"comment_id":134871827,"body_markdown":"@Mar-Z from the Jenkins documentation: _By default, the shell will be invoked with the &quot;-ex&quot; option. So all of the commands are printed before being executed, and the build is considered a failure if any of the commands exits with a non-zero exit code_   From this I would assume the build should fail, if the set -e triggers a non-zero exit code, when my java program returns **-1**.","body":"@Mar-Z from the Jenkins documentation: <i>By default, the shell will be invoked with the &quot;-ex&quot; option. So all of the commands are printed before being executed, and the build is considered a failure if any of the commands exits with a non-zero exit code</i>   From this I would assume the build should fail, if the set -e triggers a non-zero exit code, when my java program returns <b>-1</b>."},{"owner":{"account_id":2091022,"reputation":856,"user_id":1860867,"accept_rate":40,"display_name":"ptha"},"score":0,"creation_date":1692284596,"post_id":76489565,"comment_id":135605112,"body_markdown":"@BenjaminW. That&#39;s for a _Pipeline_ project, I&#39;m just running the **Execute shell** build step of a _Freestyle_ project jenkins job.","body":"@BenjaminW. That&#39;s for a <i>Pipeline</i> project, I&#39;m just running the <b>Execute shell</b> build step of a <i>Freestyle</i> project jenkins job."}],"owner":{"account_id":2091022,"reputation":856,"user_id":1860867,"accept_rate":40,"display_name":"ptha"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686913520,"creation_date":1686913520,"question_id":76489565,"body_markdown":"I want my Jenkins build to fail if a shell script which calls a java program fails.\r\n\r\nThe java program catches any exception and exits with **-1**\r\n\r\n    catch (Throwable e) {\r\n        System.err.println(e.getMessage());\r\n        e.printStackTrace();\r\n        System.exit(-1);\r\n    }\r\n\r\nThe **myscript.sh** bash script calls the java program like this:\r\n\r\n    #!/bin/bash\r\n    \r\n    # exit immediately if any command fails\r\n    set -e\r\n    \r\n    java MyJavaProgram\r\n    \r\n    exit 0\r\n\r\nJenkins is just using a **Execute shell** build step with command:\r\n\r\n    cd /home/jenkins/deployments/Scripts\r\n    sh myscript.sh\r\n\r\nHowever in my Jenkins console log, I can see an exception message and stacktrace, but the overall jenkins build is shown as **Finished: SUCCESS**\r\n\r\nAm I missing anything?","title":"Jenkins build result of shell script calling java program","body":"<p>I want my Jenkins build to fail if a shell script which calls a java program fails.</p>\n<p>The java program catches any exception and exits with <strong>-1</strong></p>\n<pre><code>catch (Throwable e) {\n    System.err.println(e.getMessage());\n    e.printStackTrace();\n    System.exit(-1);\n}\n</code></pre>\n<p>The <strong>myscript.sh</strong> bash script calls the java program like this:</p>\n<pre><code>#!/bin/bash\n\n# exit immediately if any command fails\nset -e\n\njava MyJavaProgram\n\nexit 0\n</code></pre>\n<p>Jenkins is just using a <strong>Execute shell</strong> build step with command:</p>\n<pre><code>cd /home/jenkins/deployments/Scripts\nsh myscript.sh\n</code></pre>\n<p>However in my Jenkins console log, I can see an exception message and stacktrace, but the overall jenkins build is shown as <strong>Finished: SUCCESS</strong></p>\n<p>Am I missing anything?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2860915,"reputation":728,"user_id":2456208,"display_name":"Andoctorey"},"score":1,"creation_date":1653183737,"post_id":71121814,"comment_id":127788331,"body_markdown":"Having the same problem","body":"Having the same problem"}],"answers":[{"tags":[],"owner":{"account_id":2883716,"reputation":765,"user_id":2474036,"accept_rate":64,"display_name":"Trancer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686913405,"creation_date":1686913405,"answer_id":76489550,"question_id":71121814,"body_markdown":"**Android 11** changes when foreground services can access the device&#39;s location, camera, and microphone. This helps protect sensitive user data.\r\n\r\n**Camera and microphone foreground service types**\r\nIf your app targets Android 11 or higher and accesses the camera or microphone in a foreground service, you must include the camera and microphone foreground service types.\r\nhttps://developer.android.com/about/versions/11/privacy/foreground-services","title":"AudioRecord not initializing on android 11 when app is in background","body":"<p><strong>Android 11</strong> changes when foreground services can access the device's location, camera, and microphone. This helps protect sensitive user data.</p>\n<p><strong>Camera and microphone foreground service types</strong>\nIf your app targets Android 11 or higher and accesses the camera or microphone in a foreground service, you must include the camera and microphone foreground service types.\n<a href=\"https://developer.android.com/about/versions/11/privacy/foreground-services\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/11/privacy/foreground-services</a></p>\n"}],"owner":{"account_id":23448939,"reputation":31,"user_id":17505362,"display_name":"Prasad Babar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1686913405,"creation_date":1644905519,"question_id":71121814,"body_markdown":"I have been implementing this functionality to record audio playbacks played on the device.\r\n\r\nIt is working fine when my app is in foreground, and I am getting pretty fine audio recordings, but it is throwing the below error whenever my app goes to background.\r\n\r\nI have implemented this as a service and starting this service from another service which is a foreground service.\r\nI have tried all of the configuration for audioFormat but audioRecord object is failing to initialize.\r\n\r\nBelow is the function where app is crashed at run time.\r\n\r\nprivate final void startAudioCapture() {\r\n\r\n        AudioPlaybackCaptureConfiguration config = new AudioPlaybackCaptureConfiguration.Builder(mediaProjection)\r\n                .addMatchingUsage(AudioAttributes.USAGE_MEDIA)\r\n                .build();\r\n\r\n        AudioFormat audioFormat = new AudioFormat.Builder()\r\n                .setEncoding(AudioFormat.ENCODING_PCM_16BIT)\r\n                .setSampleRate(8000)\r\n                .setChannelMask(AudioFormat.CHANNEL_IN_MONO)\r\n                .build();\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        int bufferSize = AudioRecord.getMinBufferSize(8000, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT);\r\n        audioRecord = new AudioRecord.Builder()\r\n                .setAudioFormat(audioFormat)\r\n                .setBufferSizeInBytes(bufferSize)\r\n                .setAudioPlaybackCaptureConfig(config)\r\n                .build();\r\n        audioRecord.startRecording();\r\n        audioCaptureThread = new Thread() {\r\n            @Override\r\n            public void run() {\r\n                File outputFile = createAudioFile();\r\n                writeAudioToFile(outputFile);\r\n            }\r\n        };\r\n\r\n        audioCaptureThread.start();\r\n        mIsRecording = true;\r\n    }\r\nErrors:-\r\nE/IAudioFlinger: createRecord returned error -1\r\nE/AudioRecord: createRecord_l(1): AudioFlinger could not create record track, status: -1\r\nE/AudioRecord-JNI: Error creating AudioRecord instance: initialization check failed with status -1.\r\nE/android.media.AudioRecord: Error code -20 when initializing native AudioRecord object.\r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.Myapp.app.internal, PID: 18240\r\n    java.lang.RuntimeException: Unable to start service com.Myapp.app.AudioService@bfz0813 with Intent { act=AudioService:Start cmp=com.Myapp.app.internal/com.Myapp.app.AudioService }: java.lang.IllegalStateException: startRecording() called on an uninitialized AudioRecord.\r\n\r\nNote:- This works perfect for all android version less than 11.\r\n   \r\n","title":"AudioRecord not initializing on android 11 when app is in background","body":"<p>I have been implementing this functionality to record audio playbacks played on the device.</p>\n<p>It is working fine when my app is in foreground, and I am getting pretty fine audio recordings, but it is throwing the below error whenever my app goes to background.</p>\n<p>I have implemented this as a service and starting this service from another service which is a foreground service.\nI have tried all of the configuration for audioFormat but audioRecord object is failing to initialize.</p>\n<p>Below is the function where app is crashed at run time.</p>\n<p>private final void startAudioCapture() {</p>\n<pre><code>    AudioPlaybackCaptureConfiguration config = new AudioPlaybackCaptureConfiguration.Builder(mediaProjection)\n            .addMatchingUsage(AudioAttributes.USAGE_MEDIA)\n            .build();\n\n    AudioFormat audioFormat = new AudioFormat.Builder()\n            .setEncoding(AudioFormat.ENCODING_PCM_16BIT)\n            .setSampleRate(8000)\n            .setChannelMask(AudioFormat.CHANNEL_IN_MONO)\n            .build();\n\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\n        return;\n    }\n    int bufferSize = AudioRecord.getMinBufferSize(8000, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT);\n    audioRecord = new AudioRecord.Builder()\n            .setAudioFormat(audioFormat)\n            .setBufferSizeInBytes(bufferSize)\n            .setAudioPlaybackCaptureConfig(config)\n            .build();\n    audioRecord.startRecording();\n    audioCaptureThread = new Thread() {\n        @Override\n        public void run() {\n            File outputFile = createAudioFile();\n            writeAudioToFile(outputFile);\n        }\n    };\n\n    audioCaptureThread.start();\n    mIsRecording = true;\n}\n</code></pre>\n<p>Errors:-\nE/IAudioFlinger: createRecord returned error -1\nE/AudioRecord: createRecord_l(1): AudioFlinger could not create record track, status: -1\nE/AudioRecord-JNI: Error creating AudioRecord instance: initialization check failed with status -1.\nE/android.media.AudioRecord: Error code -20 when initializing native AudioRecord object.</p>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.Myapp.app.internal, PID: 18240\njava.lang.RuntimeException: Unable to start service com.Myapp.app.AudioService@bfz0813 with Intent { act=AudioService:Start cmp=com.Myapp.app.internal/com.Myapp.app.AudioService }: java.lang.IllegalStateException: startRecording() called on an uninitialized AudioRecord.</p>\n<p>Note:- This works perfect for all android version less than 11.</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1686911785,"post_id":76489292,"comment_id":134866908,"body_markdown":"Just use an `if/else` statement? Next time to find answers just Google the exception you actually got while doing this.","body":"Just use an <code>if&#47;else</code> statement? Next time to find answers just Google the exception you actually got while doing this."}],"owner":{"account_id":25712323,"reputation":9,"user_id":19470622,"display_name":"Saduni Jayalath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686911810,"answer_count":0,"score":0,"last_activity_date":1686912874,"creation_date":1686911225,"question_id":76489292,"body_markdown":"I have intercept the the response using sendRedirect methode. Assume request is coming as test/abc/def so I changed it to test/abc and set into response like below.\r\n\r\n\r\n```\r\n`public void doFilter(ServletRequest request, ServletRespose response, FilterChain chain)\r\n{\r\n//request is test/abc/def\r\nString requestPath = ((HttpServletRequest)request).getRequestURI();\r\nrequestPath = requestPath.replace(&quot;/def&quot;,&quot;&quot;);\r\nhttpServletRespose.sendRedirect(requestPath);\r\nchain.doFilter(request,response);\r\n\r\n}`\r\n```\r\n\r\nIs this fine ? when URL is test/abc/def I want to send test/abc to next filter. As well as I want to change this request only and don&#39;t want to change other requests. \r\n","title":"sendRederect method and chain.doFilter","body":"<p>I have intercept the the response using sendRedirect methode. Assume request is coming as test/abc/def so I changed it to test/abc and set into response like below.</p>\n<pre><code>`public void doFilter(ServletRequest request, ServletRespose response, FilterChain chain)\n{\n//request is test/abc/def\nString requestPath = ((HttpServletRequest)request).getRequestURI();\nrequestPath = requestPath.replace(&quot;/def&quot;,&quot;&quot;);\nhttpServletRespose.sendRedirect(requestPath);\nchain.doFilter(request,response);\n\n}`\n</code></pre>\n<p>Is this fine ? when URL is test/abc/def I want to send test/abc to next filter. As well as I want to change this request only and don't want to change other requests.</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"score":0,"creation_date":1687185586,"post_id":76489463,"comment_id":134897818,"body_markdown":"Can you please post the error that you are getting?","body":"Can you please post the error that you are getting?"},{"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"score":0,"creation_date":1687185632,"post_id":76489463,"comment_id":134897830,"body_markdown":"I suspect you can add `.setCoder(KVCoder.of(StringUtf8Coder.of(), SerializableCoder.of(Card.class))`, but without the error, it&#39;s hard to pinpoint the exact fix.","body":"I suspect you can add <code>.setCoder(KVCoder.of(StringUtf8Coder.of(), SerializableCoder.of(Card.class))</code>, but without the error, it&#39;s hard to pinpoint the exact fix."}],"owner":{"account_id":2697635,"reputation":1299,"user_id":2329241,"accept_rate":67,"display_name":"Narendra Jaggi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686912652,"creation_date":1686912652,"question_id":76489463,"body_markdown":"I am trying to group PCollection based on ids,but when I am using `GroupByKey.create()` its failing. I have already implemented `Serializable` interface for the class still issue is coming.&lt;br&gt;&lt;br&gt;\r\nIts a simple logic, where I am grouping cards based on ids and printing the count.\r\n\r\n\r\n    PCollection&lt;Card&gt; cardPCollection = pubSubWindowed.apply(ParDo.of(new CardConversionFn()));\r\n    PCollection&lt;KV&lt;String, Card&gt;&gt; memberIdCardsMap = cardPCollection.apply((WithKeys.&lt;String, Card&gt;of(x -&gt; x.getMemberId())));\r\n    PCollection&lt;KV&lt;String, Iterable&lt;Card&gt;&gt;&gt; memberIdCardList = memberIdCardsMap.apply(GroupByKey.create());\r\n    memberIdCardList.apply(&quot;PrintCollectionCount&quot;, ParDo.of(new DoFn&lt;KV&lt;String, Iterable&lt;Card&gt;&gt;, Void&gt;() {\r\n                @ProcessElement\r\n                public void processElement(ProcessContext c) {\r\n                    KV&lt;String, Iterable&lt;Card&gt;&gt; element = c.element();\r\n                    Iterable&lt;Card&gt; iterable = element.getValue();\r\n                    List&lt;Card&gt; cardList = new ArrayList&lt;&gt;();\r\n                    iterable.forEach(cardList::add);\r\n    \r\n                    LOG.info(&quot;Printing Keys and Values {} {} {}&quot;,element.getKey() ,cardList.size(), cardList);\r\n                }\r\n    }));","title":"Cannot provide coder for parameterized type org.apache.beam.sdk.values.KV&lt;K, V&gt;: Unable to provide a Coder for K","body":"<p>I am trying to group PCollection based on ids,but when I am using <code>GroupByKey.create()</code> its failing. I have already implemented <code>Serializable</code> interface for the class still issue is coming.<br><br>\nIts a simple logic, where I am grouping cards based on ids and printing the count.</p>\n<pre><code>PCollection&lt;Card&gt; cardPCollection = pubSubWindowed.apply(ParDo.of(new CardConversionFn()));\nPCollection&lt;KV&lt;String, Card&gt;&gt; memberIdCardsMap = cardPCollection.apply((WithKeys.&lt;String, Card&gt;of(x -&gt; x.getMemberId())));\nPCollection&lt;KV&lt;String, Iterable&lt;Card&gt;&gt;&gt; memberIdCardList = memberIdCardsMap.apply(GroupByKey.create());\nmemberIdCardList.apply(&quot;PrintCollectionCount&quot;, ParDo.of(new DoFn&lt;KV&lt;String, Iterable&lt;Card&gt;&gt;, Void&gt;() {\n            @ProcessElement\n            public void processElement(ProcessContext c) {\n                KV&lt;String, Iterable&lt;Card&gt;&gt; element = c.element();\n                Iterable&lt;Card&gt; iterable = element.getValue();\n                List&lt;Card&gt; cardList = new ArrayList&lt;&gt;();\n                iterable.forEach(cardList::add);\n\n                LOG.info(&quot;Printing Keys and Values {} {} {}&quot;,element.getKey() ,cardList.size(), cardList);\n            }\n}));\n</code></pre>\n"},{"tags":["java","post","webclient"],"owner":{"account_id":11010948,"reputation":189,"user_id":8088331,"display_name":"Giacomo Giovannini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686912250,"creation_date":1686911723,"question_id":76489356,"body_markdown":"I&#39;m implementing a post call with `WebClient` on a service that uses NTLM authentication. In past I had no problem using `RestTemplate` to authenticate with this mechanism, but using `WebClient` I&#39;m stuck since I receive the authentication challenge but can&#39;t complete since I have a non repeatable request.\r\n\r\nHere is the code I&#39;m using:\r\n\r\n    BasicCredentialsProvider credentialsProvider;\r\n\t\tcredentialsProvider = new BasicCredentialsProvider();\r\n\t\tcredentialsProvider.setCredentials(new AuthScope(properties.getHostName(),\r\n\t\t\t\tproperties.getPort()), \r\n\t\t\t\tnew NTCredentials(properties.getUser(),\r\n\t\t\t\t\t\tproperties.getPassword().toCharArray(),\r\n\t\t\t\t\t\tproperties.getSource(), \r\n\t\t\t\t\t\tproperties.getDomain()));\r\n\r\n\t\tif(log.isDebugEnabled()) {\r\n\r\n\t\t\tlog.debug(&quot;set credentials as: {}, {}, {}, {} on host:port : {}:{}&quot;, properties.getUser(), properties.getPassword(),\r\n\t\t\t\t\tproperties.getSource(), properties.getDomain(), properties.getHostName(), properties.getPort());\r\n\r\n\t\t}\r\n\r\n\r\n\t\tRequestConfig config = RequestConfig.custom()\r\n\t\t\t\t.setExpectContinueEnabled(true)\r\n\t\t\t\t.setAuthenticationEnabled(true)\r\n\t\t\t\t.setTargetPreferredAuthSchemes(Collections.singletonList(StandardAuthScheme.NTLM))\r\n\t\t\t\t.setExpectContinueEnabled(true)\r\n\t\t\t\t.setRedirectsEnabled(true)\r\n\t\t\t\t.setResponseTimeout(Timeout.ofMilliseconds(Long.valueOf(properties.getTimeout())))\r\n\t\t\t\t.setConnectionRequestTimeout(Timeout.ofMilliseconds(Long.valueOf(properties.getReadTimeout())))\r\n\t\t\t\t.setCircularRedirectsAllowed(true)\r\n\t\t\t\t.setConnectionKeepAlive(TimeValue.ofMilliseconds(properties.getTimeout()))\r\n\t\t\t\t.build();\r\n\r\n\t\tHttpComponentsClientHttpConnector httpConnector = new HttpComponentsClientHttpConnector\r\n\t\t\t\t(HttpAsyncClients\r\n\t\t\t\t\t\t.custom()\r\n\t\t\t\t\t\t.setRetryStrategy(new DefaultHttpRequestRetryStrategy(3, TimeValue.ofMilliseconds(50)))\r\n\t\t\t\t\t\t.setDefaultCredentialsProvider(credentialsProvider)\r\n\t\t\t\t\t\t.setTargetAuthenticationStrategy(DefaultAuthenticationStrategy.INSTANCE)\r\n\t\t\t\t\t\t.setDefaultRequestConfig(config)\r\n\t\t\t\t\t\t.build());\r\n\r\n\t\tWebClient.builder()\r\n\t\t\t\t.codecs(configurer -&gt; \r\n\t\t\t\tconfigurer.defaultCodecs().maxInMemorySize(properties.getMaxBufferSize() &gt; 0 \r\n\t\t\t\t\t\t? properties.getMaxBufferSize() : 50 * 1024 * 1024))\r\n\t\t\t\t.clientConnector(httpConnector).build();\r\n        Map&lt;String, Object&gt; resp = webClient.post()\r\n\t\t.uri(uri)\r\n\t\t.body(Mono.just(payload), Input.class)\r\n\t\t.cookies(cookies -&gt; cookies.addAll(cookiesToSet))\r\n\t\t.retrieve()\r\n\t\t.bodyToMono(Map.class)\r\n\t\t.cache()\r\n\t\t.block();\r\n\r\n\r\nI&#39;ve tried using .retry and .repeat, but it still fails since it&#39;s a non repeatable request,  so my question is, how can I implement a repeatable request to engaeg the ntlm Authentication correctly?","title":"WebClient and HttpAsyncClients using repeatable request","body":"<p>I'm implementing a post call with <code>WebClient</code> on a service that uses NTLM authentication. In past I had no problem using <code>RestTemplate</code> to authenticate with this mechanism, but using <code>WebClient</code> I'm stuck since I receive the authentication challenge but can't complete since I have a non repeatable request.</p>\n<p>Here is the code I'm using:</p>\n<pre><code>BasicCredentialsProvider credentialsProvider;\n    credentialsProvider = new BasicCredentialsProvider();\n    credentialsProvider.setCredentials(new AuthScope(properties.getHostName(),\n            properties.getPort()), \n            new NTCredentials(properties.getUser(),\n                    properties.getPassword().toCharArray(),\n                    properties.getSource(), \n                    properties.getDomain()));\n\n    if(log.isDebugEnabled()) {\n\n        log.debug(&quot;set credentials as: {}, {}, {}, {} on host:port : {}:{}&quot;, properties.getUser(), properties.getPassword(),\n                properties.getSource(), properties.getDomain(), properties.getHostName(), properties.getPort());\n\n    }\n\n\n    RequestConfig config = RequestConfig.custom()\n            .setExpectContinueEnabled(true)\n            .setAuthenticationEnabled(true)\n            .setTargetPreferredAuthSchemes(Collections.singletonList(StandardAuthScheme.NTLM))\n            .setExpectContinueEnabled(true)\n            .setRedirectsEnabled(true)\n            .setResponseTimeout(Timeout.ofMilliseconds(Long.valueOf(properties.getTimeout())))\n            .setConnectionRequestTimeout(Timeout.ofMilliseconds(Long.valueOf(properties.getReadTimeout())))\n            .setCircularRedirectsAllowed(true)\n            .setConnectionKeepAlive(TimeValue.ofMilliseconds(properties.getTimeout()))\n            .build();\n\n    HttpComponentsClientHttpConnector httpConnector = new HttpComponentsClientHttpConnector\n            (HttpAsyncClients\n                    .custom()\n                    .setRetryStrategy(new DefaultHttpRequestRetryStrategy(3, TimeValue.ofMilliseconds(50)))\n                    .setDefaultCredentialsProvider(credentialsProvider)\n                    .setTargetAuthenticationStrategy(DefaultAuthenticationStrategy.INSTANCE)\n                    .setDefaultRequestConfig(config)\n                    .build());\n\n    WebClient.builder()\n            .codecs(configurer -&gt; \n            configurer.defaultCodecs().maxInMemorySize(properties.getMaxBufferSize() &gt; 0 \n                    ? properties.getMaxBufferSize() : 50 * 1024 * 1024))\n            .clientConnector(httpConnector).build();\n    Map&lt;String, Object&gt; resp = webClient.post()\n    .uri(uri)\n    .body(Mono.just(payload), Input.class)\n    .cookies(cookies -&gt; cookies.addAll(cookiesToSet))\n    .retrieve()\n    .bodyToMono(Map.class)\n    .cache()\n    .block();\n</code></pre>\n<p>I've tried using .retry and .repeat, but it still fails since it's a non repeatable request,  so my question is, how can I implement a repeatable request to engaeg the ntlm Authentication correctly?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":21671,"reputation":21944,"user_id":52888,"accept_rate":67,"display_name":"Glen"},"score":3,"creation_date":1266002037,"post_id":2254443,"comment_id":2213589,"body_markdown":"It&#39;s worth mentioning the Integer class which would be a better fit if the OP wants a null value.  Or he could use a negative value to indicate &quot;not found&quot;","body":"It&#39;s worth mentioning the Integer class which would be a better fit if the OP wants a null value.  Or he could use a negative value to indicate &quot;not found&quot;"}],"tags":[],"owner":{"account_id":10930,"reputation":781821,"user_id":20862,"accept_rate":50,"display_name":"Ignacio Vazquez-Abrams"},"comment_count":1,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1266001972,"creation_date":1266001972,"answer_id":2254443,"question_id":2254435,"body_markdown":"No. Only object references can be null, not primitives.","title":"Can an int be null in Java?","body":"<p>No. Only object references can be null, not primitives.</p>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":49,"creation_date":1266003305,"post_id":2254450,"comment_id":2213749,"body_markdown":"Actually .. The OP already found that out himself as per the last phrase in his question: *it was easy to figure out that it doesn&#39;t work.*","body":"Actually .. The OP already found that out himself as per the last phrase in his question: <i>it was easy to figure out that it doesn&#39;t work.</i>"},{"owner":{"account_id":76126,"reputation":14491,"user_id":218160,"accept_rate":69,"display_name":"Matt Luongo"},"score":13,"creation_date":1387488973,"post_id":2254450,"comment_id":30989742,"body_markdown":"For posterity nearly 4 years later- that bit was in a later edit.","body":"For posterity nearly 4 years later- that bit was in a later edit."},{"owner":{"account_id":1107950,"reputation":238,"user_id":1098953,"display_name":"premek.v"},"score":5,"creation_date":1456419007,"post_id":2254450,"comment_id":58948415,"body_markdown":"but.. `Integer ii = null; int i = ii;` will compile but throw NullPointerException on runtime","body":"but.. <code>Integer ii = null; int i = ii;</code> will compile but throw NullPointerException on runtime"}],"tags":[],"owner":{"account_id":76126,"reputation":14491,"user_id":218160,"accept_rate":69,"display_name":"Matt Luongo"},"comment_count":3,"down_vote_count":6,"up_vote_count":38,"is_accepted":false,"score":32,"last_activity_date":1266002026,"creation_date":1266002026,"answer_id":2254450,"question_id":2254435,"body_markdown":"A great way to find out:\r\n\r\n    public static void main(String args[]) {\r\n        int i = null;\r\n    }\r\n\r\nTry to compile.","title":"Can an int be null in Java?","body":"<p>A great way to find out:</p>\n\n<pre><code>public static void main(String args[]) {\n    int i = null;\n}\n</code></pre>\n\n<p>Try to compile.</p>\n"},{"tags":[],"owner":{"account_id":70088,"reputation":12426,"user_id":203600,"accept_rate":100,"display_name":"Jonathon Faust"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1266002068,"creation_date":1266002068,"answer_id":2254457,"question_id":2254435,"body_markdown":"In Java, int is a primitive type and it is not considered an object.  Only objects can have a null value.  So the answer to your question is no, it can&#39;t be null.  But it&#39;s not that simple, because there are objects that represent most primitive types.\r\n\r\nThe class Integer represents an int value, but it can hold a null value.  Depending on your `check` method, you could be returning an int or an Integer.\r\n\r\nThis behavior is different from some more purely object oriented languages like Ruby, where even &quot;primitive&quot; things like ints are considered objects.","title":"Can an int be null in Java?","body":"<p>In Java, int is a primitive type and it is not considered an object.  Only objects can have a null value.  So the answer to your question is no, it can't be null.  But it's not that simple, because there are objects that represent most primitive types.</p>\n\n<p>The class Integer represents an int value, but it can hold a null value.  Depending on your <code>check</code> method, you could be returning an int or an Integer.</p>\n\n<p>This behavior is different from some more purely object oriented languages like Ruby, where even \"primitive\" things like ints are considered objects.</p>\n"},{"comments":[{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":1,"creation_date":1266002164,"post_id":2254459,"comment_id":2213604,"body_markdown":"Unfortunately if &quot;check&quot; returns an int rather than an Integer, this won&#39;t help, because the int (which won&#39;t be null) will be automatically boxed into the Integer.","body":"Unfortunately if &quot;check&quot; returns an int rather than an Integer, this won&#39;t help, because the int (which won&#39;t be null) will be automatically boxed into the Integer."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1266002225,"post_id":2254459,"comment_id":2213613,"body_markdown":"D&#39;oh, that was just a basic example to show **when** you can test for null. On the other hand, if check is declared to return `int`, it can never be null and the whole if block is then superfluous.","body":"D&#39;oh, that was just a basic example to show <b>when</b> you can test for null. On the other hand, if check is declared to return <code>int</code>, it can never be null and the whole if block is then superfluous."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1266002934,"creation_date":1266002072,"answer_id":2254459,"question_id":2254435,"body_markdown":"The code won&#39;t even compile. Only an fullworthy [`Object`][1] can be `null`, like [`Integer`][2]. Here&#39;s a basic example to show when you can test for null:\r\n\r\n    Integer data = check(Node root);\r\n    \r\n    if ( data == null ) {\r\n     // do something\r\n    } else {\r\n     // do something\r\n    }\r\n\r\nOn the other hand, if `check()` is declared to return `int`, it can **never** be `null` and the whole `if-else` block is then superfluous.\r\n\r\n    int data = check(Node root);\r\n    \r\n    // do something\r\n\r\nAutoboxing problems doesn&#39;t apply here as well when `check()` is declared to return `int`. If it had returned `Integer`, then you may risk `NullPointerException` when assigning it to an `int` instead of `Integer`. Assigning it as an `Integer` and using the `if-else` block would then indeed have been mandatory.\r\n\r\nTo learn more about autoboxing, check [this Sun guide][3].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Object.html#toString()\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/Integer.html\r\n  [3]: http://java.sun.com/j2se/1.5.0/docs/guide/language/autoboxing.html","title":"Can an int be null in Java?","body":"<p>The code won't even compile. Only an fullworthy <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\"><code>Object</code></a> can be <code>null</code>, like <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Integer.html\" rel=\"nofollow noreferrer\"><code>Integer</code></a>. Here's a basic example to show when you can test for null:</p>\n\n<pre><code>Integer data = check(Node root);\n\nif ( data == null ) {\n // do something\n} else {\n // do something\n}\n</code></pre>\n\n<p>On the other hand, if <code>check()</code> is declared to return <code>int</code>, it can <strong>never</strong> be <code>null</code> and the whole <code>if-else</code> block is then superfluous.</p>\n\n<pre><code>int data = check(Node root);\n\n// do something\n</code></pre>\n\n<p>Autoboxing problems doesn't apply here as well when <code>check()</code> is declared to return <code>int</code>. If it had returned <code>Integer</code>, then you may risk <code>NullPointerException</code> when assigning it to an <code>int</code> instead of <code>Integer</code>. Assigning it as an <code>Integer</code> and using the <code>if-else</code> block would then indeed have been mandatory.</p>\n\n<p>To learn more about autoboxing, check <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/language/autoboxing.html\" rel=\"nofollow noreferrer\">this Sun guide</a>.</p>\n"},{"comments":[{"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"score":2,"creation_date":1266002845,"post_id":2254463,"comment_id":2213689,"body_markdown":"There are good reasons for existence of Integer class, so use it when the needs are compelling.","body":"There are good reasons for existence of Integer class, so use it when the needs are compelling."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":6,"creation_date":1266004932,"post_id":2254463,"comment_id":2213953,"body_markdown":"@h2g2java: I hope you&#39;re not thinking that being able to use them with the default collection is compelling because for stuff like HashMap&lt;Integer,Integer&gt; the level of waste is huge and non-compelling.  Which is why Trove&#39;s TIntIntHashMap, using only primitives, runs around circle the non-compelling HashMap&lt;Integer,Integer&gt;.","body":"@h2g2java: I hope you&#39;re not thinking that being able to use them with the default collection is compelling because for stuff like HashMap&lt;Integer,Integer&gt; the level of waste is huge and non-compelling.  Which is why Trove&#39;s TIntIntHashMap, using only primitives, runs around circle the non-compelling HashMap&lt;Integer,Integer&gt;."},{"owner":{"account_id":181983,"reputation":22075,"user_id":416369,"accept_rate":29,"display_name":"sactiw"},"score":1,"creation_date":1349964375,"post_id":2254463,"comment_id":17375126,"body_markdown":"int can&#39;t be checked for null, however, you can safely assign null to int in Java by casting it to Integer, for example if the check(root) method can return null then you can safely cast it to int by doing something like this:\n\n`int data = (Integer)check(node);`","body":"int can&#39;t be checked for null, however, you can safely assign null to int in Java by casting it to Integer, for example if the check(root) method can return null then you can safely cast it to int by doing something like this:  <code>int data = (Integer)check(node);</code>"},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1403624271,"post_id":2254463,"comment_id":37724981,"body_markdown":"@sactiw - Can you elaborate ? I&#39;m not sure I understand what you&#39;re getting at","body":"@sactiw - Can you elaborate ? I&#39;m not sure I understand what you&#39;re getting at"},{"owner":{"account_id":181983,"reputation":22075,"user_id":416369,"accept_rate":29,"display_name":"sactiw"},"score":7,"creation_date":1453551725,"post_id":2254463,"comment_id":57657361,"body_markdown":"@BrianAgnew Let me rectify what I said here, I was plain wrong, I basically didn&#39;t realize that `int i = (Integer)null;` will throw NPE at run-time while unboxing it.","body":"@BrianAgnew Let me rectify what I said here, I was plain wrong, I basically didn&#39;t realize that <code>int i = (Integer)null;</code> will throw NPE at run-time while unboxing it."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1552904380,"post_id":2254463,"comment_id":97173130,"body_markdown":"I suggest using `IntOptional` instead of `Optional&lt;Integer&gt;`","body":"I suggest using <code>IntOptional</code> instead of <code>Optional&lt;Integer&gt;</code>"},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1552906843,"post_id":2254463,"comment_id":97174585,"body_markdown":"If you mean https://docs.oracle.com/javase/8/docs/api/java/util/OptionalInt.html, that would make sense too","body":"If you mean <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/OptionalInt.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/OptionalInt.html</a>&zwnj;&#8203;, that would make sense too"}],"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":7,"down_vote_count":0,"up_vote_count":234,"is_accepted":true,"score":234,"last_activity_date":1686911621,"creation_date":1266002088,"answer_id":2254463,"question_id":2254435,"body_markdown":"`int` *can&#39;t* be null, but `Integer` *can*. You need to be careful when unboxing null Integers since this can cause a lot of confusion and head scratching! \r\n\r\ne.g. this:\r\n\r\n    int a = object.getA(); // getA returns a null Integer\r\n\r\nwill give you a `NullPointerException`, despite object not being null!\r\n\r\nTo follow up on your question, if you want to indicate the *absence* of a value, I would investigate `java.util.Optional&lt;Integer&gt;` or `java.util.OptionalInt`","title":"Can an int be null in Java?","body":"<p><code>int</code> <em>can't</em> be null, but <code>Integer</code> <em>can</em>. You need to be careful when unboxing null Integers since this can cause a lot of confusion and head scratching!</p>\n<p>e.g. this:</p>\n<pre><code>int a = object.getA(); // getA returns a null Integer\n</code></pre>\n<p>will give you a <code>NullPointerException</code>, despite object not being null!</p>\n<p>To follow up on your question, if you want to indicate the <em>absence</em> of a value, I would investigate <code>java.util.Optional&lt;Integer&gt;</code> or <code>java.util.OptionalInt</code></p>\n"},{"tags":[],"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1266002318,"creation_date":1266002318,"answer_id":2254485,"question_id":2254435,"body_markdown":"As @Glen mentioned in a comment,  you basically have two ways around this:\r\n\r\n- use an &quot;out of bound&quot; value.  For instance, if &quot;data&quot; can never be negative in normal use, return a negative value to indicate it&#39;s invalid.\r\n- Use an Integer.  Just make sure the &quot;check&quot; method returns an Integer, and you assign it to an Integer not an int.  Because if an &quot;int&quot; gets involved along the way, the automatic boxing and unboxing can cause problems.","title":"Can an int be null in Java?","body":"<p>As @Glen mentioned in a comment,  you basically have two ways around this:</p>\n\n<ul>\n<li>use an \"out of bound\" value.  For instance, if \"data\" can never be negative in normal use, return a negative value to indicate it's invalid.</li>\n<li>Use an Integer.  Just make sure the \"check\" method returns an Integer, and you assign it to an Integer not an int.  Because if an \"int\" gets involved along the way, the automatic boxing and unboxing can cause problems.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":873155,"reputation":3719,"user_id":923557,"accept_rate":62,"display_name":"Nino van Hooff"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362140058,"creation_date":1362140058,"answer_id":15157527,"question_id":2254435,"body_markdown":"Integer object would be best. If you must use primitives you can use a value that does not exist in your use case. Negative height does not exist for people, so\r\n\r\n    public int getHeight(String name){\r\n\t\tif(map.containsKey(name)){\r\n\t\t\treturn map.get(name);\r\n\t\t}else{\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t}","title":"Can an int be null in Java?","body":"<p>Integer object would be best. If you must use primitives you can use a value that does not exist in your use case. Negative height does not exist for people, so</p>\n\n<pre><code>public int getHeight(String name){\n    if(map.containsKey(name)){\n        return map.get(name);\n    }else{\n        return -1;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2701129,"reputation":332,"user_id":2331836,"display_name":"Dave Goodchild"},"score":1,"creation_date":1555940735,"post_id":18423505,"comment_id":98259673,"body_markdown":"Very simply, 0 is not the same as null.","body":"Very simply, 0 is not the same as null."}],"tags":[],"owner":{"account_id":3215620,"reputation":1,"user_id":2714422,"display_name":"Lahn"},"comment_count":1,"down_vote_count":20,"up_vote_count":2,"is_accepted":false,"score":-18,"last_activity_date":1377382629,"creation_date":1377381262,"answer_id":18423505,"question_id":2254435,"body_markdown":"I&#39;m no expert, but I do believe that the `null` equivalent for an int is `0`.\r\n\r\nFor example, if you make an `int[]`, each slot contains `0` as opposed to `null`, unless you set it to something else.\r\n\r\nIn some situations, this may be of use.","title":"Can an int be null in Java?","body":"<p>I'm no expert, but I do believe that the <code>null</code> equivalent for an int is <code>0</code>.</p>\n\n<p>For example, if you make an <code>int[]</code>, each slot contains <code>0</code> as opposed to <code>null</code>, unless you set it to something else.</p>\n\n<p>In some situations, this may be of use.</p>\n"},{"tags":[],"owner":{"account_id":2784949,"reputation":8695,"user_id":2396624,"accept_rate":67,"display_name":"Shoaib Chikate"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1382442743,"creation_date":1382438503,"answer_id":19515582,"question_id":2254435,"body_markdown":"Along with all above answer i would like to add this point too.\r\n\r\nFor primitive types,we have fixed memory size i.e for int we have 4 bytes and char we have 2 bytes. And null is used only for objects because there memory size is not fixed. \r\n\r\nSo by default we have,\r\n\r\n       int a=0;\r\nand not\r\n\r\n       int a=null;\r\n\r\nSame with other primitive types and hence null is only used for objects and not for primitive types.","title":"Can an int be null in Java?","body":"<p>Along with all above answer i would like to add this point too.</p>\n\n<p>For primitive types,we have fixed memory size i.e for int we have 4 bytes and char we have 2 bytes. And null is used only for objects because there memory size is not fixed. </p>\n\n<p>So by default we have,</p>\n\n<pre><code>   int a=0;\n</code></pre>\n\n<p>and not</p>\n\n<pre><code>   int a=null;\n</code></pre>\n\n<p>Same with other primitive types and hence null is only used for objects and not for primitive types.</p>\n"},{"tags":[],"owner":{"account_id":4350297,"reputation":23,"user_id":3550884,"display_name":"user3550884"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397946175,"creation_date":1397946175,"answer_id":23176253,"question_id":2254435,"body_markdown":"\r\nCheck for null in your check() method and return an invalid value such as -1 or zero if null.  Then the check would be for that value rather than passing the null along.  This would be a normal thing to do in old time &#39;C&#39;.\r\n\r\n\r\n","title":"Can an int be null in Java?","body":"<p>Check for null in your check() method and return an invalid value such as -1 or zero if null.  Then the check would be for that value rather than passing the null along.  This would be a normal thing to do in old time 'C'.</p>\n"},{"tags":[],"owner":{"account_id":8430478,"reputation":9,"user_id":6326417,"display_name":"Sandy"},"comment_count":0,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1551486109,"creation_date":1463066983,"answer_id":37191398,"question_id":2254435,"body_markdown":"Since you ask for another way to accomplish your goal, I suggest you use a wrapper class:\r\n\r\n    new Integer(null);","title":"Can an int be null in Java?","body":"<p>Since you ask for another way to accomplish your goal, I suggest you use a wrapper class:</p>\n\n<pre><code>new Integer(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1930728,"reputation":3657,"user_id":1740154,"display_name":"KANJICODER"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534145259,"creation_date":1534145259,"answer_id":51817215,"question_id":2254435,"body_markdown":"No, but **int[]** can be.\r\n-------------------------\r\n\r\n    int[] hayhay = null; //: allowed (int[] is reference type)\r\n    int   hayno  = null; //: error   (int   is primitive type)\r\n                         //: Message: incompatible types: \r\n                         //: &lt;null&gt; cannot be converted to int\r\n\t","title":"Can an int be null in Java?","body":"<h2>No, but <strong>int[]</strong> can be.</h2>\n\n<pre><code>int[] hayhay = null; //: allowed (int[] is reference type)\nint   hayno  = null; //: error   (int   is primitive type)\n                     //: Message: incompatible types: \n                     //: &lt;null&gt; cannot be converted to int\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7803123,"reputation":71,"user_id":5901794,"display_name":"Minati"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1534574920,"creation_date":1534573640,"answer_id":51905922,"question_id":2254435,"body_markdown":"instead of declaring as `int i` declare it as `Integer i` then we can do `i=null;`\r\n\r\n    Integer i;\r\n    i=null;","title":"Can an int be null in Java?","body":"<p>instead of declaring as <code>int i</code> declare it as <code>Integer i</code> then we can do <code>i=null;</code></p>\n\n<pre><code>Integer i;\ni=null;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9374511,"reputation":21,"user_id":8471807,"display_name":"Sachin Pete"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563949769,"creation_date":1563949769,"answer_id":57176571,"question_id":2254435,"body_markdown":"Any Primitive data type like int,boolean, or float etc can&#39;t store the null(lateral),since java has provided Wrapper class for storing the same like int to Integer,boolean to Boolean.\r\n\r\nEg: Integer i=null;\r\n\r\n","title":"Can an int be null in Java?","body":"<p>Any Primitive data type like int,boolean, or float etc can't store the null(lateral),since java has provided Wrapper class for storing the same like int to Integer,boolean to Boolean.</p>\n\n<p>Eg: Integer i=null;</p>\n"},{"tags":[],"owner":{"account_id":6591583,"reputation":1,"user_id":5092554,"display_name":"Mohammad Fathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594910616,"creation_date":1594910186,"answer_id":62937116,"question_id":2254435,"body_markdown":"An int is not null, it may be 0 if not initialized. If you want an integer to be able to be null, you need to use Integer instead of int . primitives don&#39;t have null value. default have for an int is 0.   \r\n\r\nData Type\t/  Default Value (for fields)\r\n\r\nint\t ------------------       0\r\n\r\nlong ----------------    0L\r\n\r\nfloat\t----------------    0.0f\r\n\r\ndouble\t  -------------  0.0d\r\n\r\nchar     ---------------   &#39;\\u0000&#39;\r\n\r\nString    ---------------  null\r\n\r\nboolean  ------------   false\r\n","title":"Can an int be null in Java?","body":"<p>An int is not null, it may be 0 if not initialized. If you want an integer to be able to be null, you need to use Integer instead of int . primitives don't have null value. default have for an int is 0.</p>\n<p>Data Type   /  Default Value (for fields)</p>\n<p>int  ------------------       0</p>\n<p>long ----------------    0L</p>\n<p>float   ----------------    0.0f</p>\n<p>double    -------------  0.0d</p>\n<p>char     ---------------   '\\u0000'</p>\n<p>String    ---------------  null</p>\n<p>boolean  ------------   false</p>\n"}],"owner":{"account_id":77312,"reputation":4378,"user_id":220755,"accept_rate":83,"display_name":"user220755"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476282,"favorite_count":0,"down_vote_count":1,"up_vote_count":186,"accepted_answer_id":2254463,"answer_count":15,"score":185,"last_activity_date":1686911621,"creation_date":1266001878,"question_id":2254435,"body_markdown":"Can an `int` be `null` in Java?\r\n\r\nFor example:\r\n\r\n    int data = check(Node root);\r\n    \r\n    if ( data == null ) {\r\n     // do something\r\n    } else {\r\n     // do something\r\n    }\r\n\r\nMy goal is to write a function which returns an `int`. Said `int` is stored in the height of a node, and if the node is not present, it will be null, and I&#39;ll need to check that.\r\n\r\nI am doing this for homework but this specific part is not part of the homework, it just helps me get through what I am doing.\r\n\r\nThanks for the comments, but it seems very few people have actually read what&#39;s under the code, I was asking how else I can accomplish this goal; it was easy to figure out that it doesn&#39;t work.","title":"Can an int be null in Java?","body":"<p>Can an <code>int</code> be <code>null</code> in Java?</p>\n\n<p>For example:</p>\n\n<pre><code>int data = check(Node root);\n\nif ( data == null ) {\n // do something\n} else {\n // do something\n}\n</code></pre>\n\n<p>My goal is to write a function which returns an <code>int</code>. Said <code>int</code> is stored in the height of a node, and if the node is not present, it will be null, and I'll need to check that.</p>\n\n<p>I am doing this for homework but this specific part is not part of the homework, it just helps me get through what I am doing.</p>\n\n<p>Thanks for the comments, but it seems very few people have actually read what's under the code, I was asking how else I can accomplish this goal; it was easy to figure out that it doesn't work.</p>\n"},{"tags":["java","xml","xsd","geotools","gml-geographic-markup-lan"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1686060717,"post_id":76407164,"comment_id":134745423,"body_markdown":"unfortunately I think this comes down to `http` v `https` problems - I&#39;m getting a 302 Temporarily moved which it seems the GeoTools schema resolver doesn&#39;t like. Also is this a &quot;simple&quot; feature schema or are the features &quot;complex&quot; - GMLAS is usually complex I think.","body":"unfortunately I think this comes down to <code>http</code> v <code>https</code> problems - I&#39;m getting a 302 Temporarily moved which it seems the GeoTools schema resolver doesn&#39;t like. Also is this a &quot;simple&quot; feature schema or are the features &quot;complex&quot; - GMLAS is usually complex I think."}],"owner":{"account_id":4313934,"reputation":1,"user_id":3524348,"display_name":"viados"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686911428,"creation_date":1685973392,"question_id":76407164,"body_markdown":"I would like to read the German railway (DB Netze) network XML available at &lt;https://data.deutschebahn.com/dataset/data-streckennetz.html&gt; (file Streckennetz (Stand 11/2019))\r\n\r\nI went according the example posted 3 years ago here:\r\n&lt;https://gis.stackexchange.com/questions/353860/read-gml-using-java&gt;.\r\n\r\nI am however getting multiple messages in the console about XSD files not having been resolved, not only the Inspire ones, but also the GML ones and even the basic XML.XSD (http://www.w3.org/XML/1998/namespace).\r\n\r\nHow can I properly &quot;register&quot; the XSDs so that they are successfully resolved by geotools?\r\n\r\nThe executable:\r\n\r\n        import java.io.File;\r\n        import java.io.FileInputStream;\r\n        import java.io.InputStream;\r\n\r\n        import org.eclipse.xsd.util.XSDSchemaLocationResolver;\r\n        import org.eclipse.xsd.util.XSDSchemaLocator;\r\n        import org.geotools.data.simple.SimpleFeatureCollection;\r\n        import org.geotools.data.simple.SimpleFeatureIterator;\r\n        import org.geotools.gml3.GMLConfiguration;\r\n        import org.geotools.xsd.Configuration;\r\n        import org.geotools.xsd.Parser;\r\n        import org.opengis.feature.simple.SimpleFeature;\r\n\r\n        public class Loader {\r\n        \tpublic static void main(String[] args) throws Exception {\r\n                Configuration configuration = new GMLConfiguration();\r\n        \t\tFile initialFile = new File(&quot;DB-Netz_INSPIRE_20200217.xml&quot;);\r\n        \t\tInputStream in = new FileInputStream(initialFile);\r\n        \t\tParser parser = new Parser(configuration);\r\n        \t\tSimpleFeatureCollection fc = (SimpleFeatureCollection) parser.parse(in);\r\n        \t\tSimpleFeatureIterator iterator = fc.features();\r\n        \t\ttry {\r\n        \t\t\twhile (iterator.hasNext()) {\r\n        \t\t\t\tSimpleFeature feature = iterator.next();\r\n        \t\t\t\tSystem.out.println(&quot;Feature ID: &quot; + feature.getID());\r\n        \t\t\t}\r\n        \t\t} finally {\r\n        \t\t\titerator.close();\r\n        \t\t}\r\n        \t}\r\n        }\r\n\r\nThe whole console log output looks as follows:\r\n```\r\nJun 05, 2023 3:21:12 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: inspire.ec.europa.eu/schemas/tn-ra/3.0/RailwayTransportNetwork.xsd\r\nJun 05, 2023 3:21:15 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: schemas.opengis.net/wfs/2.0/wfs.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: schemas.opengis.net/gml/3.2.1/gml.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: schemas.opengis.net/iso/19139/20070417/gco/gco.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: schemas.opengis.net/iso/19139/20070417/gmd/gmd.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: inspire.ec.europa.eu/schemas/base/3.2/BaseTypes.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: inspire.ec.europa.eu/schemas/gn/3.0/GeographicalNames.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: inspire.ec.europa.eu/schemas/net/3.2/Network.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: inspire.ec.europa.eu/schemas/tn/3.0/CommonTransportElements.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: inspire.ec.europa.eu/schemas/tn-ro/3.0/RoadTransportNetwork.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:Network:3.2 declared location: inspire.ec.europa.eu/schemas/net/3.2/Network.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:CommonTransportElements:3.0 declared location: inspire.ec.europa.eu/schemas/tn/3.0/CommonTransportElements.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:RoadTransportNetwork:3.0 declared location: inspire.ec.europa.eu/schemas/tn-ro/3.0/RoadTransportNetwork.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.w3.org/XML/1998/namespace declared location: www.w3.org/2001/xml.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.opengis.net/ows/1.1 declared location: schemas.opengis.net/ows/1.1.0/owsAll.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.opengis.net/fes/2.0 declared location: schemas.opengis.net/filter/2.0/filterAll.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.isotc211.org/2005/gmd declared location: schemas.opengis.net/iso/19139/20070417/gmd/gmd.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:BaseTypes:3.2 declared location: inspire.ec.europa.eu/schemas/base/3.2/BaseTypes.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.isotc211.org/2005/gmd declared location: schemas.opengis.net/iso/19139/20070417/gmd/gmd.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:BaseTypes:3.2 declared location: inspire.ec.europa.eu/schemas/base/3.2/BaseTypes.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:GeographicalNames:3.0 declared location: inspire.ec.europa.eu/schemas/gn/3.0/GeographicalNames.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:BaseTypes:3.2 declared location: inspire.ec.europa.eu/schemas/base/3.2/BaseTypes.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:Network:3.2 declared location: inspire.ec.europa.eu/schemas/net/3.2/Network.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:GeographicalNames:3.0 declared location: inspire.ec.europa.eu/schemas/gn/3.0/GeographicalNames.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.isotc211.org/2005/gmd declared location: schemas.opengis.net/iso/19139/20070417/gmd/gmd.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:GeographicalNames:3.0 declared location: inspire.ec.europa.eu/schemas/gn/3.0/GeographicalNames.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:CommonTransportElements:3.0 declared location: inspire.ec.europa.eu/schemas/tn/3.0/CommonTransportElements.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:Network:3.2 declared location: inspire.ec.europa.eu/schemas/net/3.2/Network.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\r\nException in thread &quot;main&quot; java.lang.ClassCastException: java.util.HashMap cannot be cast to org.geotools.data.simple.SimpleFeatureCollection\r\n```\r\n\r\n\r\nI tried different versions of geotools, I tried to download XSDs and resolve them locally from file system, which succeeded to a certain level, but 1) it seems to be a dirty hack, 2) it did not resolve the problem with http://www.w3.org/2001/xml.xsd\r\n\r\n**P.S.** (Moved from answer by editor):  \r\nPlease note that I had to edit the log messages due to https://meta.stackexchange.com/a/209517/1374413\r\n\r\nI had to strip all ``http://`` and ``https://`` prefixes so that my question is not considered as spam. ","title":"Reading railway network XML (GML) file in Java with geotools","body":"<p>I would like to read the German railway (DB Netze) network XML available at <a href=\"https://data.deutschebahn.com/dataset/data-streckennetz.html\" rel=\"nofollow noreferrer\">https://data.deutschebahn.com/dataset/data-streckennetz.html</a> (file Streckennetz (Stand 11/2019))</p>\n<p>I went according the example posted 3 years ago here:\n<a href=\"https://gis.stackexchange.com/questions/353860/read-gml-using-java\">https://gis.stackexchange.com/questions/353860/read-gml-using-java</a>.</p>\n<p>I am however getting multiple messages in the console about XSD files not having been resolved, not only the Inspire ones, but also the GML ones and even the basic XML.XSD (<a href=\"http://www.w3.org/XML/1998/namespace\" rel=\"nofollow noreferrer\">http://www.w3.org/XML/1998/namespace</a>).</p>\n<p>How can I properly &quot;register&quot; the XSDs so that they are successfully resolved by geotools?</p>\n<p>The executable:</p>\n<pre><code>    import java.io.File;\n    import java.io.FileInputStream;\n    import java.io.InputStream;\n\n    import org.eclipse.xsd.util.XSDSchemaLocationResolver;\n    import org.eclipse.xsd.util.XSDSchemaLocator;\n    import org.geotools.data.simple.SimpleFeatureCollection;\n    import org.geotools.data.simple.SimpleFeatureIterator;\n    import org.geotools.gml3.GMLConfiguration;\n    import org.geotools.xsd.Configuration;\n    import org.geotools.xsd.Parser;\n    import org.opengis.feature.simple.SimpleFeature;\n\n    public class Loader {\n        public static void main(String[] args) throws Exception {\n            Configuration configuration = new GMLConfiguration();\n            File initialFile = new File(&quot;DB-Netz_INSPIRE_20200217.xml&quot;);\n            InputStream in = new FileInputStream(initialFile);\n            Parser parser = new Parser(configuration);\n            SimpleFeatureCollection fc = (SimpleFeatureCollection) parser.parse(in);\n            SimpleFeatureIterator iterator = fc.features();\n            try {\n                while (iterator.hasNext()) {\n                    SimpleFeature feature = iterator.next();\n                    System.out.println(&quot;Feature ID: &quot; + feature.getID());\n                }\n            } finally {\n                iterator.close();\n            }\n        }\n    }\n</code></pre>\n<p>The whole console log output looks as follows:</p>\n<pre><code>Jun 05, 2023 3:21:12 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: inspire.ec.europa.eu/schemas/tn-ra/3.0/RailwayTransportNetwork.xsd\nJun 05, 2023 3:21:15 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: schemas.opengis.net/wfs/2.0/wfs.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: schemas.opengis.net/gml/3.2.1/gml.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: schemas.opengis.net/iso/19139/20070417/gco/gco.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: schemas.opengis.net/iso/19139/20070417/gmd/gmd.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: inspire.ec.europa.eu/schemas/base/3.2/BaseTypes.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: inspire.ec.europa.eu/schemas/gn/3.0/GeographicalNames.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: inspire.ec.europa.eu/schemas/net/3.2/Network.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: inspire.ec.europa.eu/schemas/tn/3.0/CommonTransportElements.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: inspire.ec.europa.eu/schemas/tn-ro/3.0/RoadTransportNetwork.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:Network:3.2 declared location: inspire.ec.europa.eu/schemas/net/3.2/Network.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:CommonTransportElements:3.0 declared location: inspire.ec.europa.eu/schemas/tn/3.0/CommonTransportElements.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:RoadTransportNetwork:3.0 declared location: inspire.ec.europa.eu/schemas/tn-ro/3.0/RoadTransportNetwork.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.w3.org/XML/1998/namespace declared location: www.w3.org/2001/xml.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.opengis.net/ows/1.1 declared location: schemas.opengis.net/ows/1.1.0/owsAll.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.opengis.net/fes/2.0 declared location: schemas.opengis.net/filter/2.0/filterAll.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.isotc211.org/2005/gmd declared location: schemas.opengis.net/iso/19139/20070417/gmd/gmd.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:BaseTypes:3.2 declared location: inspire.ec.europa.eu/schemas/base/3.2/BaseTypes.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.isotc211.org/2005/gmd declared location: schemas.opengis.net/iso/19139/20070417/gmd/gmd.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:BaseTypes:3.2 declared location: inspire.ec.europa.eu/schemas/base/3.2/BaseTypes.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:GeographicalNames:3.0 declared location: inspire.ec.europa.eu/schemas/gn/3.0/GeographicalNames.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:BaseTypes:3.2 declared location: inspire.ec.europa.eu/schemas/base/3.2/BaseTypes.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:Network:3.2 declared location: inspire.ec.europa.eu/schemas/net/3.2/Network.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:GeographicalNames:3.0 declared location: inspire.ec.europa.eu/schemas/gn/3.0/GeographicalNames.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.isotc211.org/2005/gmd declared location: schemas.opengis.net/iso/19139/20070417/gmd/gmd.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:GeographicalNames:3.0 declared location: inspire.ec.europa.eu/schemas/gn/3.0/GeographicalNames.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:CommonTransportElements:3.0 declared location: inspire.ec.europa.eu/schemas/tn/3.0/CommonTransportElements.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:Network:3.2 declared location: inspire.ec.europa.eu/schemas/net/3.2/Network.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\nException in thread &quot;main&quot; java.lang.ClassCastException: java.util.HashMap cannot be cast to org.geotools.data.simple.SimpleFeatureCollection\n</code></pre>\n<p>I tried different versions of geotools, I tried to download XSDs and resolve them locally from file system, which succeeded to a certain level, but 1) it seems to be a dirty hack, 2) it did not resolve the problem with <a href=\"http://www.w3.org/2001/xml.xsd\" rel=\"nofollow noreferrer\">http://www.w3.org/2001/xml.xsd</a></p>\n<p><strong>P.S.</strong> (Moved from answer by editor):<br />\nPlease note that I had to edit the log messages due to <a href=\"https://meta.stackexchange.com/a/209517/1374413\">https://meta.stackexchange.com/a/209517/1374413</a></p>\n<p>I had to strip all <code>http://</code> and <code>https://</code> prefixes so that my question is not considered as spam.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686911390,"creation_date":1686906752,"answer_id":76488679,"question_id":74182318,"body_markdown":"My current configuration was blocking network loads which is preventing the WebView from loading web resources.\r\n\r\nIn my MainActivity.java:\r\n\r\n\r\n    webView.getSettings().setBlockNetworkLoads(true);\r\n\r\nThe setBlockNetworkLoads method determines whether the WebView should block all network loads. When the value is true, all network loads are blocked. So if we set this to true, WebView won&#39;t be able to load our URL, hence the net::ERR_CACHE_MISS error.\r\n\r\nTo solve this, we need to set setBlockNetworkLoads to false:\r\n\r\n\r\n    webView.getSettings().setBlockNetworkLoads(false);","title":"Android Webview gives net:: ERR_CACHE_MISS message","body":"<p>My current configuration was blocking network loads which is preventing the WebView from loading web resources.</p>\n<p>In my MainActivity.java:</p>\n<pre><code>webView.getSettings().setBlockNetworkLoads(true);\n</code></pre>\n<p>The setBlockNetworkLoads method determines whether the WebView should block all network loads. When the value is true, all network loads are blocked. So if we set this to true, WebView won't be able to load our URL, hence the net::ERR_CACHE_MISS error.</p>\n<p>To solve this, we need to set setBlockNetworkLoads to false:</p>\n<pre><code>webView.getSettings().setBlockNetworkLoads(false);\n</code></pre>\n"}],"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76488679,"answer_count":1,"score":0,"last_activity_date":1686911390,"creation_date":1666620140,"question_id":74182318,"body_markdown":"Could you help me? \r\nthis is my first app and i don&#39;t know what i&#39;ve done wrong.\r\n\r\ni saw this solution but it did not help : https://stackoverflow.com/questions/30637654/android-webview-gives-neterr-cache-miss-message \r\n\r\n\r\nI&#39;ve built it on Android Oreo but it gave the error message of the title.\r\n\r\nWhat have i done so far:\r\n\r\nI tried to change my androidmanifest.xml and put INTERNET in all-caps.\r\nI have checked the user permissions.\r\nI used a suggested version that works on 100% of devices (according to android studio).\r\n\r\nthis is my code so far. what did i do wrong? \r\n\r\nmainactivity.Java :\r\n\r\n``` package com.example.agronotizie13;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\nimport android.view.KeyEvent;\r\nimport android.webkit.WebResourceRequest;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.os.Bundle;\r\nimport android.webkit.WebViewClient;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private WebView webView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        webView = findViewById(R.id.webView);\r\n        webView.getSettings().setBlockNetworkLoads(true);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.loadUrl(&quot;https://agronotizie.imagelinenetwork.com/&quot;);\r\n        webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}```\r\n\r\n\r\n\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot; &gt;\r\n\r\n    &lt;WebView\r\n        android:id=&quot;@+id/webView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt; `\r\n\r\n**Activity_main.xml:**\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\r\n\r\n    package=&quot;com.example.agronotizie13&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android:permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.DELETE_CACHE_FILES&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CLEAR_APP_CACHE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n\r\n\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30637654/android-webview-gives-neterr-cache-miss-message","title":"Android Webview gives net:: ERR_CACHE_MISS message","body":"<p>Could you help me?\nthis is my first app and i don't know what i've done wrong.</p>\n<p>i saw this solution but it did not help : <a href=\"https://stackoverflow.com/questions/30637654/android-webview-gives-neterr-cache-miss-message\">Android Webview gives net::ERR_CACHE_MISS message</a></p>\n<p>I've built it on Android Oreo but it gave the error message of the title.</p>\n<p>What have i done so far:</p>\n<p>I tried to change my androidmanifest.xml and put INTERNET in all-caps.\nI have checked the user permissions.\nI used a suggested version that works on 100% of devices (according to android studio).</p>\n<p>this is my code so far. what did i do wrong?</p>\n<p>mainactivity.Java :</p>\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.view.KeyEvent;\nimport android.webkit.WebResourceRequest;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.os.Bundle;\nimport android.webkit.WebViewClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView webView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        webView = findViewById(R.id.webView);\n        webView.getSettings().setBlockNetworkLoads(true);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.loadUrl(&quot;https://agronotizie.imagelinenetwork.com/&quot;);\n        webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);\n\n\n\n    }\n\n\n}```\n\n\n\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; &gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/webView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n&lt;/RelativeLayout&gt; `\n\n**Activity_main.xml:**\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n\n\n    package=&quot;com.example.agronotizie13&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android:permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.DELETE_CACHE_FILES&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CLEAR_APP_CACHE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\n\n\n\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n\n  [1]: https://stackoverflow.com/questions/30637654/android-webview-gives-neterr-cache-miss-message\n</code></pre>\n"},{"tags":["java","cryptography","java-17"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1686911037,"post_id":76489225,"comment_id":134866754,"body_markdown":"on [Github](https://github.com/openjdk/jdk/blob/jdk-17%2B10/src/java.base/share/classes/sun/security/pkcs/PKCS8Key.java) ?! or `JAVA_HOME/lib/src.zip` in `java.base/sun/security/pkcs` !?","body":"on <a href=\"https://github.com/openjdk/jdk/blob/jdk-17%2B10/src/java.base/share/classes/sun/security/pkcs/PKCS8Key.java\" rel=\"nofollow noreferrer\">Github</a> ?! or <code>JAVA_HOME&#47;lib&#47;src.zip</code> in <code>java.base&#47;sun&#47;security&#47;pkcs</code> !?"},{"owner":{"account_id":112158,"reputation":4626,"user_id":295962,"accept_rate":84,"display_name":"Hank"},"score":0,"creation_date":1686911931,"post_id":76489225,"comment_id":134866931,"body_markdown":"&#128583;‍♂️ thanks! That&#39;s what I was looking for!","body":"🙇‍♂️ thanks! That&#39;s what I was looking for!"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1686914747,"post_id":76489225,"comment_id":134867436,"body_markdown":"As it happens only under heavy load: are you sure your `get from secure storage` part is 100% thread-safe? May be the returned key data is incomplete? Before creating the PKCS8EncodedKeySpec you could log the hash of the key data just to make sure...","body":"As it happens only under heavy load: are you sure your <code>get from secure storage</code> part is 100% thread-safe? May be the returned key data is incomplete? Before creating the PKCS8EncodedKeySpec you could log the hash of the key data just to make sure..."},{"owner":{"account_id":112158,"reputation":4626,"user_id":295962,"accept_rate":84,"display_name":"Hank"},"score":0,"creation_date":1686915792,"post_id":76489225,"comment_id":134867640,"body_markdown":"You&#39;re right on the money there, @Robert ... I just found a shared instance of `javax.crypto.Cipher` ... #facepalm.","body":"You&#39;re right on the money there, @Robert ... I just found a shared instance of <code>javax.crypto.Cipher</code> ... #facepalm."}],"owner":{"account_id":112158,"reputation":4626,"user_id":295962,"accept_rate":84,"display_name":"Hank"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686910761,"creation_date":1686910761,"question_id":76489225,"body_markdown":"I&#39;m trying to debug a strange scenario, where recovering an ECDSA private key fails from time to time.\r\n\r\nThe EC private key is stored in a persistent secure storage and is recovered/reconstructed on request. Sometimes during higher load, one of the requests fails (while the others are successful), with an unexpected exception:\r\n\r\n```\r\njava.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : null\r\n        at jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(ECKeyFactory.java:170)\r\n        at java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:383)\r\n...\r\nCaused by: java.security.InvalidKeyException: IOException : null\r\n        at java.base/sun.security.pkcs.PKCS8Key.decode(PKCS8Key.java:135)\r\n        at java.base/sun.security.pkcs.PKCS8Key.&lt;init&gt;(PKCS8Key.java:95)\r\n        at jdk.crypto.ec/sun.security.ec.ECPrivateKeyImpl.&lt;init&gt;(ECPrivateKeyImpl.java:75)\r\n        at jdk.crypto.ec/sun.security.ec.ECKeyFactory.implGeneratePrivate(ECKeyFactory.java:245)\r\n        at jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(ECKeyFactory.java:166)\r\n```\r\n\r\nThe code behind this is:\r\n\r\n```java\r\nKeyFactory ecdsaKeyFactory = KeyFactory.getInstance(&quot;EC&quot;);\r\n...\r\nbyte[] decodedPrivateKey = ...; // get from secure storage\r\nPKCS8EncodedKeySpec recoveredPrivateKeySpec = new PKCS8EncodedKeySpec(decodedPrivateKey);\r\nreturn (ECPrivateKey) ecdsaKeyFactory.generatePrivate(recoveredPrivateKeySpec);\r\n```\r\n\r\nThis is on OpenJDK 17 (build 17.0.6+10-Debian-1deb11u1). Trying to figure out what is going on here, I&#39;m looking for the source code. I can find [`sun.security.ec.ECKeyFactory.engineGeneratePrivate()`](https://github.com/openjdk/jdk17/blob/jdk-17+6/src/jdk.crypto.ec/share/classes/sun/security/ec/ECKeyFactory.java#L162) (even though the lines don&#39;t match the stacktrace), but I cannot find `java.base/sun.security.pkcs.PKCS8Key.java`.","title":"Where is java.base/sun.security.pkcs.PKCS8Key.java?","body":"<p>I'm trying to debug a strange scenario, where recovering an ECDSA private key fails from time to time.</p>\n<p>The EC private key is stored in a persistent secure storage and is recovered/reconstructed on request. Sometimes during higher load, one of the requests fails (while the others are successful), with an unexpected exception:</p>\n<pre><code>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : null\n        at jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(ECKeyFactory.java:170)\n        at java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:383)\n...\nCaused by: java.security.InvalidKeyException: IOException : null\n        at java.base/sun.security.pkcs.PKCS8Key.decode(PKCS8Key.java:135)\n        at java.base/sun.security.pkcs.PKCS8Key.&lt;init&gt;(PKCS8Key.java:95)\n        at jdk.crypto.ec/sun.security.ec.ECPrivateKeyImpl.&lt;init&gt;(ECPrivateKeyImpl.java:75)\n        at jdk.crypto.ec/sun.security.ec.ECKeyFactory.implGeneratePrivate(ECKeyFactory.java:245)\n        at jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(ECKeyFactory.java:166)\n</code></pre>\n<p>The code behind this is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KeyFactory ecdsaKeyFactory = KeyFactory.getInstance(&quot;EC&quot;);\n...\nbyte[] decodedPrivateKey = ...; // get from secure storage\nPKCS8EncodedKeySpec recoveredPrivateKeySpec = new PKCS8EncodedKeySpec(decodedPrivateKey);\nreturn (ECPrivateKey) ecdsaKeyFactory.generatePrivate(recoveredPrivateKeySpec);\n</code></pre>\n<p>This is on OpenJDK 17 (build 17.0.6+10-Debian-1deb11u1). Trying to figure out what is going on here, I'm looking for the source code. I can find <a href=\"https://github.com/openjdk/jdk17/blob/jdk-17+6/src/jdk.crypto.ec/share/classes/sun/security/ec/ECKeyFactory.java#L162\" rel=\"nofollow noreferrer\"><code>sun.security.ec.ECKeyFactory.engineGeneratePrivate()</code></a> (even though the lines don't match the stacktrace), but I cannot find <code>java.base/sun.security.pkcs.PKCS8Key.java</code>.</p>\n"},{"tags":["java","spring","components","dto","pojo"],"answers":[{"tags":[],"owner":{"account_id":26151806,"reputation":151,"user_id":19839660,"display_name":"Iv&#225;n Larios"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686856747,"creation_date":1686856747,"answer_id":76484893,"question_id":76484795,"body_markdown":"- A POJO is a Plain Old Java Object. A POJO is a straightforward type with no references to any particular frameworks. [Source][1]\r\n- A DTO is a Data Transfer Object. This is a pattern used to create objects that carry data between processes in order to reduce the number of methods calls. DTOs usually are also POJOs, as they don&#39;t have any business logic. [Source][2]\r\n- An entity is a class that represents a concept, be it from real world or business logic. An example could be a class called User, which contains information about the user like its id, name and email.\r\n\r\nIf you want to know more about this terms in Java, I usually use [Baeldung][3], as it contains a lot of information about Java and Spring framework.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-pojo-class\r\n  [2]: https://www.baeldung.com/java-dto-pattern\r\n  [3]: https://www.baeldung.com/","title":"What POJO, DTO, Entity and other such components called?","body":"<ul>\n<li>A POJO is a Plain Old Java Object. A POJO is a straightforward type with no references to any particular frameworks. <a href=\"https://www.baeldung.com/java-pojo-class\" rel=\"nofollow noreferrer\">Source</a></li>\n<li>A DTO is a Data Transfer Object. This is a pattern used to create objects that carry data between processes in order to reduce the number of methods calls. DTOs usually are also POJOs, as they don't have any business logic. <a href=\"https://www.baeldung.com/java-dto-pattern\" rel=\"nofollow noreferrer\">Source</a></li>\n<li>An entity is a class that represents a concept, be it from real world or business logic. An example could be a class called User, which contains information about the user like its id, name and email.</li>\n</ul>\n<p>If you want to know more about this terms in Java, I usually use <a href=\"https://www.baeldung.com/\" rel=\"nofollow noreferrer\">Baeldung</a>, as it contains a lot of information about Java and Spring framework.</p>\n"}],"owner":{"account_id":28829329,"reputation":1,"user_id":22080164,"display_name":"Shruti Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686910749,"creation_date":1686855969,"question_id":76484795,"body_markdown":"I am searching for a keyword which defines POJO, Entities, Controllers and other components all together? \r\n\r\n\r\nAs I wanted to know about all of them, I was searching for a site, so I tried searching Java components, but I&#39;m not getting the expected result.","title":"What POJO, DTO, Entity and other such components called?","body":"<p>I am searching for a keyword which defines POJO, Entities, Controllers and other components all together?</p>\n<p>As I wanted to know about all of them, I was searching for a site, so I tried searching Java components, but I'm not getting the expected result.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-repositories"],"comments":[{"owner":{"account_id":8998143,"reputation":425,"user_id":6707702,"display_name":"Mohit Sharma"},"score":0,"creation_date":1686930996,"post_id":76475037,"comment_id":134871037,"body_markdown":"Can you tries to code a bit simpler, remove the @EntityListener annotation and TaskAuditListener class. When saving the Task object using the TaskRepository get the return Task object and update the lastModifiedDate using workflowRepository.updateLastModifiedDateById() give it a shot.","body":"Can you tries to code a bit simpler, remove the @EntityListener annotation and TaskAuditListener class. When saving the Task object using the TaskRepository get the return Task object and update the lastModifiedDate using workflowRepository.updateLastModifiedDateById() give it a shot."},{"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Kršek"},"score":0,"creation_date":1687026483,"post_id":76475037,"comment_id":134880903,"body_markdown":"Of course I can do it this way. That would work without any problem. But that does not seem to be a good approach. Each programmer will need not only add new functionality, but also not to forget to update parents lastModifiedDate.","body":"Of course I can do it this way. That would work without any problem. But that does not seem to be a good approach. Each programmer will need not only add new functionality, but also not to forget to update parents lastModifiedDate."}],"answers":[{"comments":[{"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Kršek"},"score":0,"creation_date":1686765315,"post_id":76475627,"comment_id":134845592,"body_markdown":"The problem with both solutions is, that it updates lastModifiedDate only when Workflow is updated. I want to update Task object, which should update value in parent Workflow.","body":"The problem with both solutions is, that it updates lastModifiedDate only when Workflow is updated. I want to update Task object, which should update value in parent Workflow."}],"tags":[],"owner":{"account_id":22633544,"reputation":588,"user_id":16810646,"display_name":"Ananta"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686759336,"creation_date":1686759336,"answer_id":76475627,"question_id":76475037,"body_markdown":"JPA already have annotation for it:\r\n```\r\n@Column(name = &quot;last_modified_date&quot;)\r\n@LastModifiedDate\r\nprivate Date lastModifiedDate;\r\n```\r\nOr you can create method to run before updating:\r\n```\r\n@PreUpdate\r\nprotected void onUpdate() {\r\n    lastModifiedDate = new Date(System.currentTimeMillis());\r\n}\r\n```","title":"Update LastModifiedDate of owned entity","body":"<p>JPA already have annotation for it:</p>\n<pre><code>@Column(name = &quot;last_modified_date&quot;)\n@LastModifiedDate\nprivate Date lastModifiedDate;\n</code></pre>\n<p>Or you can create method to run before updating:</p>\n<pre><code>@PreUpdate\nprotected void onUpdate() {\n    lastModifiedDate = new Date(System.currentTimeMillis());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Kršek"},"score":0,"creation_date":1687023538,"post_id":76489197,"comment_id":134880578,"body_markdown":"You did not fully understand my issue. I do want to update Object1, while updating lastModifiedDate value of Object2. So @UpdateTimestamp does not work here.","body":"You did not fully understand my issue. I do want to update Object1, while updating lastModifiedDate value of Object2. So @UpdateTimestamp does not work here."}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686910594,"creation_date":1686910594,"answer_id":76489197,"question_id":76475037,"body_markdown":"What about: `@UpdateTimestamp` on field `lastModifiedDate`","title":"Update LastModifiedDate of owned entity","body":"<p>What about: <code>@UpdateTimestamp</code> on field <code>lastModifiedDate</code></p>\n"}],"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Kršek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686910594,"creation_date":1686755427,"question_id":76475037,"body_markdown":"I have two objects. Workflow and Task. Task does contain workflow.\r\n```\r\n@Entity\r\npublic class Workflow {\r\n\r\n  @Column(name = &quot;last_modified_date&quot;)\r\n  private Date lastModifiedDate;\r\n...}\r\n\r\n\r\n@Entity\r\n@EntityListeners(TaskAuditListener.class)\r\npublic class Task {\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;workflow_id&quot;)\r\n  private Workflow workflow;\r\n...}\r\n```\r\n\r\nOn any update of Task object, I want to update lastModifiedDate value on Workflow. To avoid repetitive code, I would like to use TaskAuditListener with @PreUpdate.\r\n```\r\n@Component\r\npublic class TaskAuditListener {\r\n\r\n  private static WorkflowRepository workflowRepository;\r\n\r\n  @Autowired\r\n  public void TaskAuditListener(WorkflowRepository workflowRepository) {\r\n    TaskAuditListener.workflowRepository = workflowRepository;\r\n  }\r\n\r\n  @PreUpdate\r\n  void beforeUpdate(Task task) {\r\n    workflowRepository.updateCreatedByTaskId(task.getId(),\r\n        new Date(System.currentTimeMillis()));\r\n  }\r\n\r\n```\r\nMy repository method is this:\r\n```\r\n  @Modifying\r\n  @Transactional\r\n  @Query(&quot;UPDATE Workflow w SET w.lastModifiedDate = :lastModifiedDate WHERE w.id = :workflowId&quot;)\r\n  void updateLastModifiedDateById(String workflowId, Date lastModifiedDate);\r\n```\r\n\r\nThe error I am receiving is *java.lang.StackOverflowError: null* and is triggered by the *workflowRepository.updateLastModifiedDateById()* method.\r\n\r\n**Why is @PreUpdate cyclically triggered, when in my @Query I update Workflow object, not Task?**\r\n\r\nOr is there any better to achieve this?","title":"Update LastModifiedDate of owned entity","body":"<p>I have two objects. Workflow and Task. Task does contain workflow.</p>\n<pre><code>@Entity\npublic class Workflow {\n\n  @Column(name = &quot;last_modified_date&quot;)\n  private Date lastModifiedDate;\n...}\n\n\n@Entity\n@EntityListeners(TaskAuditListener.class)\npublic class Task {\n\n  @ManyToOne\n  @JoinColumn(name = &quot;workflow_id&quot;)\n  private Workflow workflow;\n...}\n</code></pre>\n<p>On any update of Task object, I want to update lastModifiedDate value on Workflow. To avoid repetitive code, I would like to use TaskAuditListener with @PreUpdate.</p>\n<pre><code>@Component\npublic class TaskAuditListener {\n\n  private static WorkflowRepository workflowRepository;\n\n  @Autowired\n  public void TaskAuditListener(WorkflowRepository workflowRepository) {\n    TaskAuditListener.workflowRepository = workflowRepository;\n  }\n\n  @PreUpdate\n  void beforeUpdate(Task task) {\n    workflowRepository.updateCreatedByTaskId(task.getId(),\n        new Date(System.currentTimeMillis()));\n  }\n\n</code></pre>\n<p>My repository method is this:</p>\n<pre><code>  @Modifying\n  @Transactional\n  @Query(&quot;UPDATE Workflow w SET w.lastModifiedDate = :lastModifiedDate WHERE w.id = :workflowId&quot;)\n  void updateLastModifiedDateById(String workflowId, Date lastModifiedDate);\n</code></pre>\n<p>The error I am receiving is <em>java.lang.StackOverflowError: null</em> and is triggered by the <em>workflowRepository.updateLastModifiedDateById()</em> method.</p>\n<p><strong>Why is @PreUpdate cyclically triggered, when in my @Query I update Workflow object, not Task?</strong></p>\n<p>Or is there any better to achieve this?</p>\n"},{"tags":["java","spring","spring-boot","spring-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1686910620,"post_id":76488764,"comment_id":134866662,"body_markdown":"`SpringApplication` isn&#39;t a Spring Bean it is a helper class. The `ConfigDataContextRefresher` is supposed to be managed by another component not you. If you check the sources you will see that it is initialized after an event, as you aren&#39;t using the Spring lifecycle this will fail. You are running Spring Boot Test so you should be able to just inject the `ConfigDataContextRefresher` instead of creating it yourself. Also I don&#39;t think you are testing what you think you are testing, you are basically testing the framework and spring cloud not really your own code.","body":"<code>SpringApplication</code> isn&#39;t a Spring Bean it is a helper class. The <code>ConfigDataContextRefresher</code> is supposed to be managed by another component not you. If you check the sources you will see that it is initialized after an event, as you aren&#39;t using the Spring lifecycle this will fail. You are running Spring Boot Test so you should be able to just inject the <code>ConfigDataContextRefresher</code> instead of creating it yourself. Also I don&#39;t think you are testing what you think you are testing, you are basically testing the framework and spring cloud not really your own code."}],"answers":[{"comments":[{"owner":{"account_id":14122623,"reputation":163,"user_id":10202766,"display_name":"Nikita Duginets"},"score":0,"creation_date":1686910525,"post_id":76489149,"comment_id":134866639,"body_markdown":"It won&#39;t work, because application is null, You&#39;ll get NPE","body":"It won&#39;t work, because application is null, You&#39;ll get NPE"},{"owner":{"account_id":28792925,"reputation":21,"user_id":22051800,"display_name":"Lorenzo Cingano"},"score":0,"creation_date":1686910741,"post_id":76489149,"comment_id":134866689,"body_markdown":"Have you tried using context to retrieve the SpringApplication instead?","body":"Have you tried using context to retrieve the SpringApplication instead?"},{"owner":{"account_id":14122623,"reputation":163,"user_id":10202766,"display_name":"Nikita Duginets"},"score":0,"creation_date":1686914215,"post_id":76489149,"comment_id":134867334,"body_markdown":"yes, and nothing linked with app in context present, see SpringApplication#run(String... args) -- this function initializes context, but context doesn&#39;t have a link to","body":"yes, and nothing linked with app in context present, see SpringApplication#run(String... args) -- this function initializes context, but context doesn&#39;t have a link to"}],"tags":[],"owner":{"account_id":28792925,"reputation":21,"user_id":22051800,"display_name":"Lorenzo Cingano"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1686910259,"creation_date":1686910259,"answer_id":76489149,"question_id":76488764,"body_markdown":"You should try adding `application.setEnvironment(context.environment)` at the start of function simple test","title":"How to get SpringApplication in spring test","body":"<p>You should try adding <code>application.setEnvironment(context.environment)</code> at the start of function simple test</p>\n"}],"owner":{"account_id":14122623,"reputation":163,"user_id":10202766,"display_name":"Nikita Duginets"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686910259,"creation_date":1686907344,"question_id":76488764,"body_markdown":"I&#39;m trying to test my code which uses `ConfigDataContextRefresher`.\r\nI want to ensure that refresh works as expected. And bean `TestConfig` will be filled correctly after refresh.\r\n\r\nBut inside `ConfigDataContextRefresher` defined:\r\n```java\r\nprivate SpringApplication application;\r\n```\r\n\r\nI have next code snippet: \r\n```kotlin\r\nimport org.junit.jupiter.api.AfterEach\r\nimport org.junit.jupiter.api.BeforeEach\r\nimport org.junit.jupiter.api.Test\r\nimport org.junit.jupiter.api.extension.ExtendWith\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.boot.SpringApplication\r\nimport org.springframework.boot.context.properties.ConfigurationProperties\r\nimport org.springframework.boot.test.context.SpringBootTest\r\nimport org.springframework.cloud.autoconfigure.RefreshAutoConfiguration\r\nimport org.springframework.cloud.context.refresh.ConfigDataContextRefresher\r\nimport org.springframework.cloud.context.scope.refresh.RefreshScope\r\nimport org.springframework.context.ConfigurableApplicationContext\r\nimport org.springframework.core.env.ConfigurableEnvironment\r\nimport org.springframework.core.env.PropertySource\r\nimport org.springframework.test.context.ContextConfiguration\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension\r\nimport java.io.IOException\r\nimport java.nio.file.FileVisitResult\r\nimport java.nio.file.Files\r\nimport java.nio.file.Path\r\nimport java.nio.file.SimpleFileVisitor\r\nimport java.nio.file.attribute.BasicFileAttributes\r\n\r\n@ExtendWith(SpringExtension::class)\r\n@ContextConfiguration(classes = [TestConfig::class])\r\n@SpringBootTest\r\nclass ConfigObserverTest {\r\n\r\n    @Autowired\r\n    lateinit var env: ConfigurableEnvironment\r\n\r\n    @Autowired\r\n    private lateinit var context: ConfigurableApplicationContext\r\n\r\n    @Autowired\r\n    private lateinit var application: SpringApplication\r\n\r\n\r\n    private val scope = RefreshScope()\r\n\r\n    @Autowired\r\n    private lateinit var testConfig: TestConfig\r\n\r\n    private lateinit var tempDir: Path\r\n\r\n    private val dirCleaner = FileCleaner()\r\n\r\n    @BeforeEach\r\n    fun initialize() {\r\n        env.propertySources.addLast(\r\n            TestPropertySource(emptyMap())\r\n        )\r\n\r\n        scope.setApplicationContext(context)\r\n        tempDir = Files.createTempDirectory(&quot;test&quot;)\r\n        val configPath = tempDir.resolve(&quot;test-config.yml&quot;)\r\n        Files.write(configPath, listOf(&quot;test:&quot;, &quot;   x: 10&quot;))\r\n\r\n    }\r\n\r\n    @AfterEach\r\n    fun tearDown() {\r\n        Files.walkFileTree(tempDir, dirCleaner)\r\n    }\r\n\r\n    @Test\r\n    fun `simple test`() {\r\n        val refresh = ConfigDataContextRefresher(context, scope,\r\n            RefreshAutoConfiguration.RefreshProperties())\r\n        refresh.refresh()\r\n        println(testConfig.x)\r\n    }\r\n\r\n    class FileCleaner : SimpleFileVisitor&lt;Path&gt;() {\r\n\r\n        override fun postVisitDirectory(dir: Path?, exc: IOException?): FileVisitResult {\r\n            Files.delete(dir!!)\r\n            return FileVisitResult.CONTINUE\r\n        }\r\n\r\n        override fun visitFile(file: Path?, attrs: BasicFileAttributes?): FileVisitResult {\r\n            Files.delete(file!!)\r\n            return FileVisitResult.CONTINUE\r\n        }\r\n    }\r\n}\r\n\r\n@ConfigurationProperties(&quot;test&quot;)\r\n@org.springframework.cloud.context.config.annotation.RefreshScope\r\nopen class TestConfig {\r\n    var x: Int = 5\r\n}\r\n\r\nclass TestPropertySource(\r\n    private val internalMap: Map&lt;String, Any?&gt;\r\n) : PropertySource&lt;Map&lt;String, Any?&gt;&gt;(&quot;test-source&quot;, internalMap) {\r\n    \r\n    override fun getProperty(name: String): Any? {\r\n        return internalMap[name]\r\n    }\r\n}\r\n```\r\n\r\nThis code will fail due to impossibility to autowire application, but if I comment this lines, I&#39;ll get next error: \r\n```\r\nCannot invoke &quot;org.springframework.boot.SpringApplication.getEnvironmentPrefix()&quot; because &quot;application&quot; is null\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.boot.SpringApplication.getEnvironmentPrefix()&quot; because &quot;application&quot; is null\r\n\tat org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor.postProcessEnvironment(SystemEnvironmentPropertySourceEnvironmentPostProcessor.java:55)\r\n\tat org.springframework.cloud.context.refresh.ConfigDataContextRefresher.updateEnvironment(ConfigDataContextRefresher.java:92)\r\n\tat org.springframework.cloud.context.refresh.ContextRefresher.refreshEnvironment(ContextRefresher.java:101)\r\n\tat org.springframework.cloud.context.refresh.ContextRefresher.refresh(ContextRefresher.java:94)\r\n```\r\n\r\ndue to application is null.\r\n\r\n\r\nHow can I fix this?\r\n\r\n\r\n","title":"How to get SpringApplication in spring test","body":"<p>I'm trying to test my code which uses <code>ConfigDataContextRefresher</code>.\nI want to ensure that refresh works as expected. And bean <code>TestConfig</code> will be filled correctly after refresh.</p>\n<p>But inside <code>ConfigDataContextRefresher</code> defined:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private SpringApplication application;\n</code></pre>\n<p>I have next code snippet:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.junit.jupiter.api.AfterEach\nimport org.junit.jupiter.api.BeforeEach\nimport org.junit.jupiter.api.Test\nimport org.junit.jupiter.api.extension.ExtendWith\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.SpringApplication\nimport org.springframework.boot.context.properties.ConfigurationProperties\nimport org.springframework.boot.test.context.SpringBootTest\nimport org.springframework.cloud.autoconfigure.RefreshAutoConfiguration\nimport org.springframework.cloud.context.refresh.ConfigDataContextRefresher\nimport org.springframework.cloud.context.scope.refresh.RefreshScope\nimport org.springframework.context.ConfigurableApplicationContext\nimport org.springframework.core.env.ConfigurableEnvironment\nimport org.springframework.core.env.PropertySource\nimport org.springframework.test.context.ContextConfiguration\nimport org.springframework.test.context.junit.jupiter.SpringExtension\nimport java.io.IOException\nimport java.nio.file.FileVisitResult\nimport java.nio.file.Files\nimport java.nio.file.Path\nimport java.nio.file.SimpleFileVisitor\nimport java.nio.file.attribute.BasicFileAttributes\n\n@ExtendWith(SpringExtension::class)\n@ContextConfiguration(classes = [TestConfig::class])\n@SpringBootTest\nclass ConfigObserverTest {\n\n    @Autowired\n    lateinit var env: ConfigurableEnvironment\n\n    @Autowired\n    private lateinit var context: ConfigurableApplicationContext\n\n    @Autowired\n    private lateinit var application: SpringApplication\n\n\n    private val scope = RefreshScope()\n\n    @Autowired\n    private lateinit var testConfig: TestConfig\n\n    private lateinit var tempDir: Path\n\n    private val dirCleaner = FileCleaner()\n\n    @BeforeEach\n    fun initialize() {\n        env.propertySources.addLast(\n            TestPropertySource(emptyMap())\n        )\n\n        scope.setApplicationContext(context)\n        tempDir = Files.createTempDirectory(&quot;test&quot;)\n        val configPath = tempDir.resolve(&quot;test-config.yml&quot;)\n        Files.write(configPath, listOf(&quot;test:&quot;, &quot;   x: 10&quot;))\n\n    }\n\n    @AfterEach\n    fun tearDown() {\n        Files.walkFileTree(tempDir, dirCleaner)\n    }\n\n    @Test\n    fun `simple test`() {\n        val refresh = ConfigDataContextRefresher(context, scope,\n            RefreshAutoConfiguration.RefreshProperties())\n        refresh.refresh()\n        println(testConfig.x)\n    }\n\n    class FileCleaner : SimpleFileVisitor&lt;Path&gt;() {\n\n        override fun postVisitDirectory(dir: Path?, exc: IOException?): FileVisitResult {\n            Files.delete(dir!!)\n            return FileVisitResult.CONTINUE\n        }\n\n        override fun visitFile(file: Path?, attrs: BasicFileAttributes?): FileVisitResult {\n            Files.delete(file!!)\n            return FileVisitResult.CONTINUE\n        }\n    }\n}\n\n@ConfigurationProperties(&quot;test&quot;)\n@org.springframework.cloud.context.config.annotation.RefreshScope\nopen class TestConfig {\n    var x: Int = 5\n}\n\nclass TestPropertySource(\n    private val internalMap: Map&lt;String, Any?&gt;\n) : PropertySource&lt;Map&lt;String, Any?&gt;&gt;(&quot;test-source&quot;, internalMap) {\n    \n    override fun getProperty(name: String): Any? {\n        return internalMap[name]\n    }\n}\n</code></pre>\n<p>This code will fail due to impossibility to autowire application, but if I comment this lines, I'll get next error:</p>\n<pre><code>Cannot invoke &quot;org.springframework.boot.SpringApplication.getEnvironmentPrefix()&quot; because &quot;application&quot; is null\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.boot.SpringApplication.getEnvironmentPrefix()&quot; because &quot;application&quot; is null\n    at org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor.postProcessEnvironment(SystemEnvironmentPropertySourceEnvironmentPostProcessor.java:55)\n    at org.springframework.cloud.context.refresh.ConfigDataContextRefresher.updateEnvironment(ConfigDataContextRefresher.java:92)\n    at org.springframework.cloud.context.refresh.ContextRefresher.refreshEnvironment(ContextRefresher.java:101)\n    at org.springframework.cloud.context.refresh.ContextRefresher.refresh(ContextRefresher.java:94)\n</code></pre>\n<p>due to application is null.</p>\n<p>How can I fix this?</p>\n"},{"tags":["java","jvm","profiling","visualvm"],"answers":[{"comments":[{"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"score":0,"creation_date":1340870109,"post_id":11239762,"comment_id":14768759,"body_markdown":"offline analysis is good for memory leaks, but it won&#39;t give me stats on method calls","body":"offline analysis is good for memory leaks, but it won&#39;t give me stats on method calls"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1340870929,"post_id":11239762,"comment_id":14769041,"body_markdown":"And you can&#39;t get stats on method calls without significant overhead. Java 6 and 7 are better than java 5 but it could still slow your application by 30% even wityh a commercial profiler.","body":"And you can&#39;t get stats on method calls without significant overhead. Java 6 and 7 are better than java 5 but it could still slow your application by 30% even wityh a commercial profiler."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1340988849,"creation_date":1340867855,"answer_id":11239762,"question_id":11239307,"body_markdown":"AFAIK VisualVM can be used in production, but I would only use it on a server which is lightly loaded. What you could do is wait for the service to slow down and later when its not used as much test it to see if some of the collections are surprising large.  Or you could trigger a heap dump and analyze it offline.\r\n\r\nAnd you can&#39;t get stats on method calls without significant overhead. Java 6 and 7 are better than java 5 but it could still slow your application by 30% even wityh a commercial profiler. ","title":"VisualVM in production?","body":"<p>AFAIK VisualVM can be used in production, but I would only use it on a server which is lightly loaded. What you could do is wait for the service to slow down and later when its not used as much test it to see if some of the collections are surprising large.  Or you could trigger a heap dump and analyze it offline.</p>\n\n<p>And you can't get stats on method calls without significant overhead. Java 6 and 7 are better than java 5 but it could still slow your application by 30% even wityh a commercial profiler. </p>\n"},{"comments":[{"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"score":1,"creation_date":1411966262,"post_id":11576241,"comment_id":40887806,"body_markdown":"Stack dumps do give _some_ information, but not helpful in detecting memory leaks. Heap dumps are more helpful, but parsing them is a whole new science","body":"Stack dumps do give <i>some</i> information, but not helpful in detecting memory leaks. Heap dumps are more helpful, but parsing them is a whole new science"}],"tags":[],"owner":{"account_id":64084,"reputation":32129,"user_id":189361,"accept_rate":100,"display_name":"Michael Dillon"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342775116,"creation_date":1342775116,"answer_id":11576241,"question_id":11239307,"body_markdown":"Actually, you can get some information without a lot of overhead by using stack dumps. There is even a script to help you do this at https://gist.github.com/851961\r\n\r\nThis type of profiling is the least intrusive that you can get.","title":"VisualVM in production?","body":"<p>Actually, you can get some information without a lot of overhead by using stack dumps. There is even a script to help you do this at <a href=\"https://gist.github.com/851961\" rel=\"nofollow\">https://gist.github.com/851961</a></p>\n\n<p>This type of profiling is the least intrusive that you can get.</p>\n"},{"tags":[],"owner":{"account_id":22102,"reputation":6130,"user_id":54247,"accept_rate":62,"display_name":"Ev Dolzhenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686909768,"creation_date":1686909768,"answer_id":76489083,"question_id":11239307,"body_markdown":"Nowadays Java Flight Recorder might be used with default.jfc profile in production. I.e. developers explicitly say it has very low (~1%) overhead:  https://docs.oracle.com/en/java/javase/17/jfapi/flight-recorder-configurations.html#GUID-51B499C9-CF15-48EE-9AAA-47BB69CBDABF","title":"VisualVM in production?","body":"<p>Nowadays Java Flight Recorder might be used with default.jfc profile in production. I.e. developers explicitly say it has very low (~1%) overhead:  <a href=\"https://docs.oracle.com/en/java/javase/17/jfapi/flight-recorder-configurations.html#GUID-51B499C9-CF15-48EE-9AAA-47BB69CBDABF\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/jfapi/flight-recorder-configurations.html#GUID-51B499C9-CF15-48EE-9AAA-47BB69CBDABF</a></p>\n"}],"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3212,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":11239762,"answer_count":3,"score":9,"last_activity_date":1686909768,"creation_date":1340865788,"question_id":11239307,"body_markdown":"I consider running [VisualVM](http://visualvm.java.net/) against a production JVM to see what&#39;s going on there - it started to consume too much CPU for some reason.\r\n\r\nIt must not result in a JVM failure so I&#39;m trying to estimate all the risks.\r\n\r\nThe only issue that I see on their [site](http://visualvm.java.net/troubleshooting.html) that could potentially bring JVM down is related to class sharing and `-Xshare` JVM option, but afaik class sharing is not enabled in server mode and/or on x64 systems.\r\n\r\nSo is it really safe to run VisualVM against a production JVM, if it&#39;s not - what are the risks that one should consider, and how much load (CPU/memory) does running VisualVM against a JVM (and profiling with it) put on it?\r\n\r\nThanks","title":"VisualVM in production?","body":"<p>I consider running <a href=\"http://visualvm.java.net/\" rel=\"noreferrer\">VisualVM</a> against a production JVM to see what's going on there - it started to consume too much CPU for some reason.</p>\n\n<p>It must not result in a JVM failure so I'm trying to estimate all the risks.</p>\n\n<p>The only issue that I see on their <a href=\"http://visualvm.java.net/troubleshooting.html\" rel=\"noreferrer\">site</a> that could potentially bring JVM down is related to class sharing and <code>-Xshare</code> JVM option, but afaik class sharing is not enabled in server mode and/or on x64 systems.</p>\n\n<p>So is it really safe to run VisualVM against a production JVM, if it's not - what are the risks that one should consider, and how much load (CPU/memory) does running VisualVM against a JVM (and profiling with it) put on it?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","apache-kafka","websocket"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686913286,"post_id":76489046,"comment_id":134867173,"body_markdown":"As Kafka is more designed to ensure that the listeners receive all events, it might not be ideal for your point 3 (&quot;receive only the most recent events&quot;). You would have to create a timestamp or counter and find out which messages from a topic you would have to skip.","body":"As Kafka is more designed to ensure that the listeners receive all events, it might not be ideal for your point 3 (&quot;receive only the most recent events&quot;). You would have to create a timestamp or counter and find out which messages from a topic you would have to skip."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1686919494,"post_id":76489046,"comment_id":134868403,"body_markdown":"While I&#39;ve seen websockets done on Kafka from vendors like Ably, it&#39;s not very straightforward (as told to me by one of the core engineers)... Apache Pulsar instead offers both Kafka client compatibility and websockets, and may fit your needs better than Kafka itself. In any case, asking for software recommendations is off topic for Stackoverflow","body":"While I&#39;ve seen websockets done on Kafka from vendors like Ably, it&#39;s not very straightforward (as told to me by one of the core engineers)... Apache Pulsar instead offers both Kafka client compatibility and websockets, and may fit your needs better than Kafka itself. In any case, asking for software recommendations is off topic for Stackoverflow"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1686919771,"post_id":76489046,"comment_id":134868467,"body_markdown":"@cyberbrain `auto.offset.reset=latest` kafka consumer config ensures that any consumer will only read records produced after the subscription (i.e latest events) and ignores any existing data","body":"@cyberbrain <code>auto.offset.reset=latest</code> kafka consumer config ensures that any consumer will only read records produced after the subscription (i.e latest events) and ignores any existing data"}],"owner":{"account_id":245478,"reputation":5735,"user_id":518992,"accept_rate":89,"display_name":"sargue"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686909544,"creation_date":1686909544,"question_id":76489046,"body_markdown":"I have an application with a Java back-end, a database, and a web front-end. Currently, when a user logs in, the front-end opens a websocket connection to the server to send requests and receive responses. Additionally, the websocket is utilized to send real-time events from the server to the user, eliminating the need for continuous polling.\r\n\r\nMy goal is to migrate the existing back-end to a horizontally scalable cluster. Currently, the back-end is mostly stateless, with no in-memory caches or sessions. All relevant data is persisted in the database. However, there is an `EventDispatcher` component responsible for handling events. This `EventDispatcher` allows subscriptions on a per user basis. So the websocket endpoint on the server registers for its user on the `EventDispatcher`. When the server produces an event it is sent to the `EventDispatcher` which distributes it to the current listeners. There&#39;s no storage of events, if the websocket for a user is not connected, the event is lost. That&#39;s because the full state is actually on the database. Events are only there so the front-end doesn&#39;t need to poll for changes.\r\n\r\nTo facilitate scaling, I have chosen Kafka as the message broker for event distribution. My approach involves creating a topic per user, aligning with the current listener-based design. Each server in the cluster will have its own `EventDispatcher`, consisting of a Kafka producer to send events to the broker, and a consumer to retrieve events from the broker and deliver them to the appropriate listeners (websockets).\r\n\r\nUnfortunately, the current implementation is not functioning as expected. I suspect that either my design is flawed, or Kafka may not be the ideal tool for this particular use case. Specifically, I am encountering issues when running automated tests that open and close several websockets. When running the application manually it seems to be working fine with a few concurrent users.\r\n\r\nI am seeking advice on the best practices for designing an event distribution system that can support horizontal scaling of the server. Additionally, I am open to suggestions on alternative tools or technologies that might better suit this requirement.\r\n\r\nSpecifically, I would like to know:\r\n\r\n - What design considerations should I take into account when scaling\r\n   the `EventDispatcher` to a horizontally scalable cluster?\r\n - Is Kafka the\r\n   appropriate choice for event distribution in this scenario, or are\r\n   there alternative tools better suited for my needs?\r\n - How can I ensure\r\n   that reconnected websockets receive only the most recent events and\r\n   not outdated ones?\r\n\r\nAny guidance, code examples, or recommended resources would be greatly appreciated. Thank you in advance for your help!","title":"How to scale a Java back-end with websockets and event distribution using Kafka?","body":"<p>I have an application with a Java back-end, a database, and a web front-end. Currently, when a user logs in, the front-end opens a websocket connection to the server to send requests and receive responses. Additionally, the websocket is utilized to send real-time events from the server to the user, eliminating the need for continuous polling.</p>\n<p>My goal is to migrate the existing back-end to a horizontally scalable cluster. Currently, the back-end is mostly stateless, with no in-memory caches or sessions. All relevant data is persisted in the database. However, there is an <code>EventDispatcher</code> component responsible for handling events. This <code>EventDispatcher</code> allows subscriptions on a per user basis. So the websocket endpoint on the server registers for its user on the <code>EventDispatcher</code>. When the server produces an event it is sent to the <code>EventDispatcher</code> which distributes it to the current listeners. There's no storage of events, if the websocket for a user is not connected, the event is lost. That's because the full state is actually on the database. Events are only there so the front-end doesn't need to poll for changes.</p>\n<p>To facilitate scaling, I have chosen Kafka as the message broker for event distribution. My approach involves creating a topic per user, aligning with the current listener-based design. Each server in the cluster will have its own <code>EventDispatcher</code>, consisting of a Kafka producer to send events to the broker, and a consumer to retrieve events from the broker and deliver them to the appropriate listeners (websockets).</p>\n<p>Unfortunately, the current implementation is not functioning as expected. I suspect that either my design is flawed, or Kafka may not be the ideal tool for this particular use case. Specifically, I am encountering issues when running automated tests that open and close several websockets. When running the application manually it seems to be working fine with a few concurrent users.</p>\n<p>I am seeking advice on the best practices for designing an event distribution system that can support horizontal scaling of the server. Additionally, I am open to suggestions on alternative tools or technologies that might better suit this requirement.</p>\n<p>Specifically, I would like to know:</p>\n<ul>\n<li>What design considerations should I take into account when scaling\nthe <code>EventDispatcher</code> to a horizontally scalable cluster?</li>\n<li>Is Kafka the\nappropriate choice for event distribution in this scenario, or are\nthere alternative tools better suited for my needs?</li>\n<li>How can I ensure\nthat reconnected websockets receive only the most recent events and\nnot outdated ones?</li>\n</ul>\n<p>Any guidance, code examples, or recommended resources would be greatly appreciated. Thank you in advance for your help!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":0,"creation_date":1680425332,"post_id":75908405,"comment_id":133893642,"body_markdown":"@Hulk URLs that contain non-encoded characters like a space in &quot;http://www.example.com/?test=Hello world&quot;. This was parsed by the URL class without giving an error (and my data contains a lot of these). Also, links that failed the URL conversion like &quot;http://промкаталог.рф/PublicDocuments/05-0211-00.pdf&quot; are converted to URI successfully with URI.create.","body":"@Hulk URLs that contain non-encoded characters like a space in &quot;<a href=\"http://www.example.com/?test=Hello\" rel=\"nofollow noreferrer\">example.com/?test=Hello</a> world&quot;. This was parsed by the URL class without giving an error (and my data contains a lot of these). Also, links that failed the URL conversion like &quot;<a href=\"http://промкаталог.рф/PublicDocuments/05-0211-00.pdf\" rel=\"nofollow noreferrer\">промкаталог.рф/PublicDocuments/05-0211-00.pdf</a>&quot; are converted to URI successfully with URI.create."},{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":0,"creation_date":1680463017,"post_id":75908405,"comment_id":133898859,"body_markdown":"You are right. I updated my question.","body":"You are right. I updated my question."},{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":0,"creation_date":1680463527,"post_id":75908405,"comment_id":133898931,"body_markdown":"How was the space encoded in the old method? I have sometimes seen %20 for a space in a URL. You could add that substitution yourself. Are there some parameters you need to set in the new method to cover more characters?","body":"How was the space encoded in the old method? I have sometimes seen %20 for a space in a URL. You could add that substitution yourself. Are there some parameters you need to set in the new method to cover more characters?"},{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":0,"creation_date":1680465843,"post_id":75908405,"comment_id":133899294,"body_markdown":"@rossum As seen in the test class. Some of them are already properly URL encoded, while others are not. :/ The URL&#39;s construction did not validate against URL encoding. Then the URI was created like this for further validation: `new URI(url.getProtocol(), url.getUserInfo(), url.getHost(), url.getPort(), url.getPath(), url.getQuery(), url.getRef());`","body":"@rossum As seen in the test class. Some of them are already properly URL encoded, while others are not. :/ The URL&#39;s construction did not validate against URL encoding. Then the URI was created like this for further validation: <code>new URI(url.getProtocol(), url.getUserInfo(), url.getHost(), url.getPort(), url.getPath(), url.getQuery(), url.getRef());</code>"}],"answers":[{"comments":[{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":1,"creation_date":1680598301,"post_id":75923069,"comment_id":133921215,"body_markdown":"Woahh, thanks a great deal! This is one of the best answers I got to my question since I&#39;m on this site! I&#39;ll award you the 200 points bounty as soon as I can (in 24 hours).","body":"Woahh, thanks a great deal! This is one of the best answers I got to my question since I&#39;m on this site! I&#39;ll award you the 200 points bounty as soon as I can (in 24 hours)."},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1680603052,"post_id":75923069,"comment_id":133922369,"body_markdown":"Thanks for the kind words and for the bounty :).","body":"Thanks for the kind words and for the bounty :)."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1681719168,"post_id":75923069,"comment_id":134095979,"body_markdown":"I have a similar problem: https://stackoverflow.com/questions/75966165/how-to-replace-the-deprecated-url-constructors-in-java-20 Please can you provide a solution without Spring? Jakarta EE has UriBuilder too: https://javadoc.io/doc/jakarta.platform/jakarta.jakartaee-api/latest/jakarta/ws/rs/core/UriBuilder.html","body":"I have a similar problem: <a href=\"https://stackoverflow.com/questions/75966165/how-to-replace-the-deprecated-url-constructors-in-java-20\" title=\"how to replace the deprecated url constructors in java 20\">stackoverflow.com/questions/75966165/&hellip;</a> Please can you provide a solution without Spring? Jakarta EE has UriBuilder too: <a href=\"https://javadoc.io/doc/jakarta.platform/jakarta.jakartaee-api/latest/jakarta/ws/rs/core/UriBuilder.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/jakarta.platform/jakarta.jakartaee-api/latest&zwnj;&#8203;/&hellip;</a>"}],"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1686909267,"creation_date":1680549707,"answer_id":75923069,"question_id":75908405,"body_markdown":"## The problem\r\n\r\nThe main problem seems to be that the `UrlEncoder` service is dealing with a mix of encoded, unencoded and partially encoded URLs. More than that, there isn&#39;t a good way to to know which one is which.\r\n\r\nThis leads to ambiguity because certain characters can have different meanings when encoded vs unencoded. For instance, given a partially encoded URLs it isn&#39;t trivial to tell if a character such as `&#39;&amp;&#39;` is part of a query parameter (and thus should be encoded) or acting as a separator (and thus shouldn&#39;t be encoded):\r\n\r\n    https://www.example.com/test?firstQueryParam=hot%26cold&amp;secondQueryParam=test\r\n\r\nTo add salt to the injury, Java&#39;s `URI` implementation deviates from RFC 3986 and RFC 3987 due to historical / backwards compatibility reasons. Here&#39;s an interesting read about some of URI&#39;s quirks: [Updating URI support for RFC 3986 and RFC 3987 in the JDK](https://cr.openjdk.org/~dfuchs/writeups/updating-uri/).\r\n\r\n&quot;Fixing&quot; incorrectly encoded URLs by re-encoding without proper knowledge about the original URL is not a trivial problem. Fixing incorrectly encoded URLs using encoders and decoders full of quirks is even harder. A good enough &quot;best effort&quot; heuristic would be my recommendation.\r\n\r\n## A simple best effort solution\r\n\r\nSo the good news is that I&#39;ve managed to implement a solution that passes all of the above tests. The solution in question leverages Spring Web [`UriUtils`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriUtils.html) and [`UriComponentsBuilder`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriUtils.html). The cherry on the cake is that you may not need [galimatias](https://github.com/smola/galimatias) anymore.\r\n\r\nHere&#39;s the code:\r\n\r\n```java\r\npublic class UrlEncoder {\r\n\r\n    public Optional&lt;URL&gt; encode(final String link) {\r\n        try {\r\n            final URI validatedURI = reencode(link).parseServerAuthority();\r\n            return Optional.of(validatedURI.toURL());\r\n        } catch (MalformedURLException | URISyntaxException e) {\r\n            return Optional.empty();\r\n        }\r\n    }\r\n\r\n    private URI reencode(String url) { // best effort\r\n        final String decodedUrl = UriUtils.decode(url, StandardCharsets.UTF_8);\r\n        return UriComponentsBuilder.fromHttpUrl(decodedUrl)\r\n                .encode()\r\n                .build()\r\n                .toUri();;\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s the gist of it:\r\n\r\n* `reencode` → best attempt to &quot;fix&quot; URL encoding by decoding and re-encoding  \r\n* `parseServerAuthority()` → As an alternative to the former `validateUrl(url)` method.\r\n\r\n## Double encoding ampersands and other special characters\r\n\r\nAs previously stated, while the code above passes all tests. It is easy enough to come up with a &quot;broken&quot; test case. E.g., running the URL above through the encoder would result in:\r\n\r\n    https://www.example.com/test?firstQueryParam=hot&amp;cold&amp;secondQueryParam=test\r\n\r\nThis is a perfectly valid URL, but likely not what one would be looking for.\r\n\r\nWe are now entering dangerous territory, but there are ways to implement a more &quot;opinionated&quot; re-encoding algorithm. E.g. the code bellow deals with ampersands by making sure that `%26` isn&#39;t decoded:\r\n\r\n\r\n    private final char PERCENT_SIGN = &#39;%&#39;;\r\n    private final String ENCODED_PERCENT_SIGN = &quot;25&quot;;\r\n    private final String[] CODES_TO_DOUBLE_ENCODE = new String[]{\r\n            &quot;26&quot; // code for &#39;&amp;&#39;\r\n    };\r\n\r\n    private URI reencode(String url) throws URISyntaxException {\r\n        final String urlWithDoubleEncodedSpecialCharacters = doubleEncodeSpecialCharacters(url);\r\n        final String decodedUrl = UriUtils.decode(urlWithDoubleEncodedSpecialCharacters, StandardCharsets.UTF_8);\r\n        final String encodedUrl = UriComponentsBuilder.fromHttpUrl(decodedUrl).toUriString();\r\n        final String encodedUrlWithSpecialCharacters = decodeDoubleEncodedSpecialCharacters(encodedUrl);\r\n\r\n        return URI.create(encodedUrlWithSpecialCharacters);\r\n    }\r\n\r\n    private String doubleEncodeSpecialCharacters(String url) {\r\n        final StringBuilder sb = new StringBuilder(url);\r\n        for (String code : CODES_TO_DOUBLE_ENCODE) {\r\n            final String codeString = PERCENT_SIGN + code;\r\n            int index = sb.indexOf(codeString);\r\n            while (index != -1) {\r\n                sb.insert(index + 1, ENCODED_PERCENT_SIGN);\r\n                index = sb.indexOf(codeString, index + 3);\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    private String decodeDoubleEncodedSpecialCharacters(String url) {\r\n        final StringBuilder sb = new StringBuilder(url);\r\n        for (String code : CODES_TO_DOUBLE_ENCODE) {\r\n            final String codeString = PERCENT_SIGN + ENCODED_PERCENT_SIGN + code;\r\n            int index = sb.indexOf(codeString);\r\n            while (index != -1) {\r\n                sb.delete(index + 2, index + 4);\r\n                index = sb.indexOf(codeString, index + 5);\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\nThe solution above can be modified to deal with other escaping sequences (e.g., to deal with all [RFC 3986&#39;s Reserved Characters](https://www.rfc-editor.org/rfc/rfc3986#section-2.2)), as well as to use more sophisticated heuristics (e.g., to do something different with query parameters, than, say, path parameters).\r\n\r\nNevertheless, as someone that went down this rabbit hole before, I can tell you that once you know that you are dealing with incorrectly encoded URLs outside of your control there simply isn&#39;t a perfect solution.\r\n","title":"Getting around the deprecation of java.net.URL","body":"<h2>The problem</h2>\n<p>The main problem seems to be that the <code>UrlEncoder</code> service is dealing with a mix of encoded, unencoded and partially encoded URLs. More than that, there isn't a good way to to know which one is which.</p>\n<p>This leads to ambiguity because certain characters can have different meanings when encoded vs unencoded. For instance, given a partially encoded URLs it isn't trivial to tell if a character such as <code>'&amp;'</code> is part of a query parameter (and thus should be encoded) or acting as a separator (and thus shouldn't be encoded):</p>\n<pre><code>https://www.example.com/test?firstQueryParam=hot%26cold&amp;secondQueryParam=test\n</code></pre>\n<p>To add salt to the injury, Java's <code>URI</code> implementation deviates from RFC 3986 and RFC 3987 due to historical / backwards compatibility reasons. Here's an interesting read about some of URI's quirks: <a href=\"https://cr.openjdk.org/%7Edfuchs/writeups/updating-uri/\" rel=\"nofollow noreferrer\">Updating URI support for RFC 3986 and RFC 3987 in the JDK</a>.</p>\n<p>&quot;Fixing&quot; incorrectly encoded URLs by re-encoding without proper knowledge about the original URL is not a trivial problem. Fixing incorrectly encoded URLs using encoders and decoders full of quirks is even harder. A good enough &quot;best effort&quot; heuristic would be my recommendation.</p>\n<h2>A simple best effort solution</h2>\n<p>So the good news is that I've managed to implement a solution that passes all of the above tests. The solution in question leverages Spring Web <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriUtils.html\" rel=\"nofollow noreferrer\"><code>UriUtils</code></a> and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriUtils.html\" rel=\"nofollow noreferrer\"><code>UriComponentsBuilder</code></a>. The cherry on the cake is that you may not need <a href=\"https://github.com/smola/galimatias\" rel=\"nofollow noreferrer\">galimatias</a> anymore.</p>\n<p>Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UrlEncoder {\n\n    public Optional&lt;URL&gt; encode(final String link) {\n        try {\n            final URI validatedURI = reencode(link).parseServerAuthority();\n            return Optional.of(validatedURI.toURL());\n        } catch (MalformedURLException | URISyntaxException e) {\n            return Optional.empty();\n        }\n    }\n\n    private URI reencode(String url) { // best effort\n        final String decodedUrl = UriUtils.decode(url, StandardCharsets.UTF_8);\n        return UriComponentsBuilder.fromHttpUrl(decodedUrl)\n                .encode()\n                .build()\n                .toUri();;\n    }\n}\n</code></pre>\n<p>Here's the gist of it:</p>\n<ul>\n<li><code>reencode</code> → best attempt to &quot;fix&quot; URL encoding by decoding and re-encoding</li>\n<li><code>parseServerAuthority()</code> → As an alternative to the former <code>validateUrl(url)</code> method.</li>\n</ul>\n<h2>Double encoding ampersands and other special characters</h2>\n<p>As previously stated, while the code above passes all tests. It is easy enough to come up with a &quot;broken&quot; test case. E.g., running the URL above through the encoder would result in:</p>\n<pre><code>https://www.example.com/test?firstQueryParam=hot&amp;cold&amp;secondQueryParam=test\n</code></pre>\n<p>This is a perfectly valid URL, but likely not what one would be looking for.</p>\n<p>We are now entering dangerous territory, but there are ways to implement a more &quot;opinionated&quot; re-encoding algorithm. E.g. the code bellow deals with ampersands by making sure that <code>%26</code> isn't decoded:</p>\n<pre><code>private final char PERCENT_SIGN = '%';\nprivate final String ENCODED_PERCENT_SIGN = &quot;25&quot;;\nprivate final String[] CODES_TO_DOUBLE_ENCODE = new String[]{\n        &quot;26&quot; // code for '&amp;'\n};\n\nprivate URI reencode(String url) throws URISyntaxException {\n    final String urlWithDoubleEncodedSpecialCharacters = doubleEncodeSpecialCharacters(url);\n    final String decodedUrl = UriUtils.decode(urlWithDoubleEncodedSpecialCharacters, StandardCharsets.UTF_8);\n    final String encodedUrl = UriComponentsBuilder.fromHttpUrl(decodedUrl).toUriString();\n    final String encodedUrlWithSpecialCharacters = decodeDoubleEncodedSpecialCharacters(encodedUrl);\n\n    return URI.create(encodedUrlWithSpecialCharacters);\n}\n\nprivate String doubleEncodeSpecialCharacters(String url) {\n    final StringBuilder sb = new StringBuilder(url);\n    for (String code : CODES_TO_DOUBLE_ENCODE) {\n        final String codeString = PERCENT_SIGN + code;\n        int index = sb.indexOf(codeString);\n        while (index != -1) {\n            sb.insert(index + 1, ENCODED_PERCENT_SIGN);\n            index = sb.indexOf(codeString, index + 3);\n        }\n    }\n    return sb.toString();\n}\n\nprivate String decodeDoubleEncodedSpecialCharacters(String url) {\n    final StringBuilder sb = new StringBuilder(url);\n    for (String code : CODES_TO_DOUBLE_ENCODE) {\n        final String codeString = PERCENT_SIGN + ENCODED_PERCENT_SIGN + code;\n        int index = sb.indexOf(codeString);\n        while (index != -1) {\n            sb.delete(index + 2, index + 4);\n            index = sb.indexOf(codeString, index + 5);\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n<p>The solution above can be modified to deal with other escaping sequences (e.g., to deal with all <a href=\"https://www.rfc-editor.org/rfc/rfc3986#section-2.2\" rel=\"nofollow noreferrer\">RFC 3986's Reserved Characters</a>), as well as to use more sophisticated heuristics (e.g., to do something different with query parameters, than, say, path parameters).</p>\n<p>Nevertheless, as someone that went down this rabbit hole before, I can tell you that once you know that you are dealing with incorrectly encoded URLs outside of your control there simply isn't a perfect solution.</p>\n"}],"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1583,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":75923069,"answer_count":1,"score":9,"last_activity_date":1686909267,"creation_date":1680377364,"question_id":75908405,"body_markdown":"I&#39;m migrating my code to Java 20.\r\n\r\nIn this release, the [java.net.URL#URL(java.lang.String)][1] got deprecated. Unfortunately, I have a class where I found no replacement for the old URL constructor.\r\n\r\n    package com.github.bottomlessarchive.loa.url.service.encoder;\r\n    \r\n    import io.mola.galimatias.GalimatiasParseException;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.net.MalformedURLException;\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.net.URL;\r\n    import java.util.Optional;\r\n    \r\n    /**\r\n     * This service is responsible for encoding existing {@link URL} instances to valid\r\n     * &lt;a href=&quot;https://en.wikipedia.org/wiki/Internationalized_Resource_Identifier&quot;&gt;resource identifiers&lt;/a&gt;.\r\n     */\r\n    @Service\r\n    public class UrlEncoder {\r\n    \r\n        /**\r\n         * Encodes the provided URL to a valid\r\n         * &lt;a href=&quot;https://en.wikipedia.org/wiki/Internationalized_Resource_Identifier&quot;&gt;resource identifier&lt;/a&gt; and return\r\n         * the new identifier as a URL.\r\n         *\r\n         * @param link the url to encode\r\n         * @return the encoded url\r\n         */\r\n        public Optional&lt;URL&gt; encode(final String link) {\r\n            try {\r\n                final URL url = new URL(link);\r\n    \r\n                // We need to further validate the URL because the java.net.URL&#39;s validation is inadequate.\r\n                validateUrl(url);\r\n    \r\n                return Optional.of(encodeUrl(url));\r\n            } catch (GalimatiasParseException | MalformedURLException | URISyntaxException e) {\r\n                return Optional.empty();\r\n            }\r\n        }\r\n    \r\n        private void validateUrl(final URL url) throws URISyntaxException {\r\n            // This will trigger an URISyntaxException. It is needed because the constructor of java.net.URL doesn&#39;t always validate the\r\n            // passed url correctly.\r\n            new URI(url.getProtocol(), url.getUserInfo(), url.getHost(), url.getPort(), url.getPath(), url.getQuery(), url.getRef());\r\n        }\r\n    \r\n        private URL encodeUrl(final URL url) throws GalimatiasParseException, MalformedURLException {\r\n            return io.mola.galimatias.URL.parse(url.toString()).toJavaURL();\r\n        }\r\n    }\r\n\r\nLuckily, I have tests for the class as well:\r\n\r\n    package com.github.bottomlessarchive.loa.url.service.encoder;\r\n    \r\n    import org.junit.jupiter.params.ParameterizedTest;\r\n    import org.junit.jupiter.params.provider.CsvSource;\r\n    \r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.util.Optional;\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    \r\n    class UrlEncoderTest {\r\n    \r\n        private final UrlEncoder underTest = new UrlEncoder();\r\n    \r\n        @ParameterizedTest\r\n        @CsvSource(\r\n                value = {\r\n                        &quot;http://www.example.com/?test=Hello world,http://www.example.com/?test=Hello%20world&quot;,\r\n                        &quot;http://www.example.com/?test=Ő&#218;ő&#250;Ű&#220;ű&#252;,http://www.example.com/?test=%C5%90%C3%9A%C5%91%C3%BA%C5%B0%C3%9C%C5%B1%C3%BC&quot;,\r\n                        &quot;http://www.example.com/?test=random word &#163;500 bank $,&quot;\r\n                                + &quot;http://www.example.com/?test=random%20word%20%C2%A3500%20bank%20$&quot;,\r\n                        &quot;http://www.aquincum.hu/wp-content/uploads/2015/06/Aquincumi-F%C3%BCzetek_14_2008.pdf,&quot;\r\n                                + &quot;http://www.aquincum.hu/wp-content/uploads/2015/06/Aquincumi-F%C3%BCzetek_14_2008.pdf&quot;,\r\n                        &quot;http://www.aquincum.hu/wp-content/uploads/2015/06/Aquincumi-F%C3%BCzetek_14 _2008.pdf,&quot;\r\n                                + &quot;http://www.aquincum.hu/wp-content/uploads/2015/06/Aquincumi-F%C3%BCzetek_14%20_2008.pdf&quot;\r\n                }\r\n        )\r\n        void testEncodeWhenUsingValidUrls(final String urlToEncode, final String expected) throws MalformedURLException {\r\n            final Optional&lt;URL&gt; result = underTest.encode(urlToEncode);\r\n    \r\n            assertThat(result)\r\n                    .contains(new URL(expected));\r\n        }\r\n    \r\n        @ParameterizedTest\r\n        @CsvSource(\r\n                value = {\r\n                        &quot;http://промкаталог.рф/PublicDocuments/05-0211-00.pdf&quot;\r\n                }\r\n        )\r\n        void testEncodeWhenUsingInvalidUrls(final String urlToEncode) {\r\n            final Optional&lt;URL&gt; result = underTest.encode(urlToEncode);\r\n    \r\n            assertThat(result)\r\n                    .isEmpty();\r\n        }\r\n    }\r\n\r\nThe only dependency it uses is the [galamatias][2] URL library.\r\n\r\nDoes anyone have any ideas on how could I remove the `new URL(link)` code fragment while keeping the functionality the same?\r\n\r\nI tried various things, like using `java.net.URI#create` but it did not produce the exact result as the previous solution. For example, URLs that contain non-encoded characters like a space in `http://www.example.com/?test=Hello world` resulted in an IllegalArgumentException. This was parsed by the URL class without giving an error (and my data contains a lot of these). Also, links that failed the URL conversion like `http://промкаталог.рф/PublicDocuments/05-0211-00.pdf` are converted to URI successfully with URI.create.\r\n\r\n  [1]: https://download.java.net/java/early_access/jdk20/docs/api/java.base/java/net/URL.html#constructor-deprecation\r\n  [2]: https://mvnrepository.com/artifact/io.mola.galimatias/galimatias/0.2.1","title":"Getting around the deprecation of java.net.URL","body":"<p>I'm migrating my code to Java 20.</p>\n<p>In this release, the <a href=\"https://download.java.net/java/early_access/jdk20/docs/api/java.base/java/net/URL.html#constructor-deprecation\" rel=\"noreferrer\">java.net.URL#URL(java.lang.String)</a> got deprecated. Unfortunately, I have a class where I found no replacement for the old URL constructor.</p>\n<pre><code>package com.github.bottomlessarchive.loa.url.service.encoder;\n\nimport io.mola.galimatias.GalimatiasParseException;\nimport org.springframework.stereotype.Service;\n\nimport java.net.MalformedURLException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.util.Optional;\n\n/**\n * This service is responsible for encoding existing {@link URL} instances to valid\n * &lt;a href=&quot;https://en.wikipedia.org/wiki/Internationalized_Resource_Identifier&quot;&gt;resource identifiers&lt;/a&gt;.\n */\n@Service\npublic class UrlEncoder {\n\n    /**\n     * Encodes the provided URL to a valid\n     * &lt;a href=&quot;https://en.wikipedia.org/wiki/Internationalized_Resource_Identifier&quot;&gt;resource identifier&lt;/a&gt; and return\n     * the new identifier as a URL.\n     *\n     * @param link the url to encode\n     * @return the encoded url\n     */\n    public Optional&lt;URL&gt; encode(final String link) {\n        try {\n            final URL url = new URL(link);\n\n            // We need to further validate the URL because the java.net.URL's validation is inadequate.\n            validateUrl(url);\n\n            return Optional.of(encodeUrl(url));\n        } catch (GalimatiasParseException | MalformedURLException | URISyntaxException e) {\n            return Optional.empty();\n        }\n    }\n\n    private void validateUrl(final URL url) throws URISyntaxException {\n        // This will trigger an URISyntaxException. It is needed because the constructor of java.net.URL doesn't always validate the\n        // passed url correctly.\n        new URI(url.getProtocol(), url.getUserInfo(), url.getHost(), url.getPort(), url.getPath(), url.getQuery(), url.getRef());\n    }\n\n    private URL encodeUrl(final URL url) throws GalimatiasParseException, MalformedURLException {\n        return io.mola.galimatias.URL.parse(url.toString()).toJavaURL();\n    }\n}\n</code></pre>\n<p>Luckily, I have tests for the class as well:</p>\n<pre><code>package com.github.bottomlessarchive.loa.url.service.encoder;\n\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.CsvSource;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.Optional;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\nclass UrlEncoderTest {\n\n    private final UrlEncoder underTest = new UrlEncoder();\n\n    @ParameterizedTest\n    @CsvSource(\n            value = {\n                    &quot;http://www.example.com/?test=Hello world,http://www.example.com/?test=Hello%20world&quot;,\n                    &quot;http://www.example.com/?test=ŐÚőúŰÜűü,http://www.example.com/?test=%C5%90%C3%9A%C5%91%C3%BA%C5%B0%C3%9C%C5%B1%C3%BC&quot;,\n                    &quot;http://www.example.com/?test=random word £500 bank $,&quot;\n                            + &quot;http://www.example.com/?test=random%20word%20%C2%A3500%20bank%20$&quot;,\n                    &quot;http://www.aquincum.hu/wp-content/uploads/2015/06/Aquincumi-F%C3%BCzetek_14_2008.pdf,&quot;\n                            + &quot;http://www.aquincum.hu/wp-content/uploads/2015/06/Aquincumi-F%C3%BCzetek_14_2008.pdf&quot;,\n                    &quot;http://www.aquincum.hu/wp-content/uploads/2015/06/Aquincumi-F%C3%BCzetek_14 _2008.pdf,&quot;\n                            + &quot;http://www.aquincum.hu/wp-content/uploads/2015/06/Aquincumi-F%C3%BCzetek_14%20_2008.pdf&quot;\n            }\n    )\n    void testEncodeWhenUsingValidUrls(final String urlToEncode, final String expected) throws MalformedURLException {\n        final Optional&lt;URL&gt; result = underTest.encode(urlToEncode);\n\n        assertThat(result)\n                .contains(new URL(expected));\n    }\n\n    @ParameterizedTest\n    @CsvSource(\n            value = {\n                    &quot;http://промкаталог.рф/PublicDocuments/05-0211-00.pdf&quot;\n            }\n    )\n    void testEncodeWhenUsingInvalidUrls(final String urlToEncode) {\n        final Optional&lt;URL&gt; result = underTest.encode(urlToEncode);\n\n        assertThat(result)\n                .isEmpty();\n    }\n}\n</code></pre>\n<p>The only dependency it uses is the <a href=\"https://mvnrepository.com/artifact/io.mola.galimatias/galimatias/0.2.1\" rel=\"noreferrer\">galamatias</a> URL library.</p>\n<p>Does anyone have any ideas on how could I remove the <code>new URL(link)</code> code fragment while keeping the functionality the same?</p>\n<p>I tried various things, like using <code>java.net.URI#create</code> but it did not produce the exact result as the previous solution. For example, URLs that contain non-encoded characters like a space in <code>http://www.example.com/?test=Hello world</code> resulted in an IllegalArgumentException. This was parsed by the URL class without giving an error (and my data contains a lot of these). Also, links that failed the URL conversion like <code>http://промкаталог.рф/PublicDocuments/05-0211-00.pdf</code> are converted to URI successfully with URI.create.</p>\n"},{"tags":["java","mysql","spring","tomcat","server"],"answers":[{"tags":[],"owner":{"account_id":9979067,"reputation":24,"user_id":7382589,"display_name":"JasonZhao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686903675,"creation_date":1686903675,"answer_id":76488283,"question_id":76488188,"body_markdown":" 1. Make sure you configured port 8080\r\n 2. Make sure you are visiting &#39;http://localhost:8080&#39;\r\n 3. Check whether the ContextPath is configured\r\n 4. If it&#39;s still wrong, show me your service log\r\n\r\n\r\n","title":"Tomcat Server Server run successfully, but it does not show me the local host 8080 page","body":"<ol>\n<li>Make sure you configured port 8080</li>\n<li>Make sure you are visiting 'http://localhost:8080'</li>\n<li>Check whether the ContextPath is configured</li>\n<li>If it's still wrong, show me your service log</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686909102,"creation_date":1686909102,"answer_id":76488991,"question_id":76488188,"body_markdown":"Check port 8080; there might be another application using it. Close it first.","title":"Tomcat Server Server run successfully, but it does not show me the local host 8080 page","body":"<p>Check port 8080; there might be another application using it. Close it first.</p>\n"}],"owner":{"account_id":28832549,"reputation":1,"user_id":22082624,"display_name":"Dino Bogdanovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1686909102,"creation_date":1686903024,"question_id":76488188,"body_markdown":"Good afternoon,\r\n\r\n \r\n\r\nWhen I run Tomcat Server in Spring Tool Suite, it tells me that it has been run successfully, but it does not show me the local host 8080 page.\r\n\r\nSo the server works for me, but it doesn&#39;t throw out the local host page.\r\n\r\n \r\n\r\nThanks in advance,\r\n\r\n ","title":"Tomcat Server Server run successfully, but it does not show me the local host 8080 page","body":"<p>Good afternoon,</p>\n<p>When I run Tomcat Server in Spring Tool Suite, it tells me that it has been run successfully, but it does not show me the local host 8080 page.</p>\n<p>So the server works for me, but it doesn't throw out the local host page.</p>\n<p>Thanks in advance,</p>\n"},{"tags":["java","hibernate","jpa","metamodel"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1671188545,"post_id":74823393,"comment_id":132050140,"body_markdown":"You should probably switch to [org.hibernate.orm:hibernate-jpamodelgen:6.1.6.Final](https://central.sonatype.dev/artifact/org.hibernate.orm/hibernate-jpamodelgen/6.1.6.Final) (note: the groupId changed). Otherwise, you&#39;ll need to be a bit more explicit in your problem description (e.g. provide a [mre] and include all errors). Also be aware that Hibernate 6 is one big breaking change given it changed to the `jakarta.persistence.*` package namespace (JPA 3), where Hibernate 5.6 used the `javax.persistence` package namespace (JPA 2.2).","body":"You should probably switch to <a href=\"https://central.sonatype.dev/artifact/org.hibernate.orm/hibernate-jpamodelgen/6.1.6.Final\" rel=\"nofollow noreferrer\">org.hibernate.orm:hibernate-jpamodelgen:6.1.6.Final</a> (note: the groupId changed). Otherwise, you&#39;ll need to be a bit more explicit in your problem description (e.g. provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and include all errors). Also be aware that Hibernate 6 is one big breaking change given it changed to the <code>jakarta.persistence.*</code> package namespace (JPA 3), where Hibernate 5.6 used the <code>javax.persistence</code> package namespace (JPA 2.2)."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1671189664,"post_id":74823393,"comment_id":132050484,"body_markdown":"That is not required to use `maven-processor-plugin`, adding `hibernate-jpamodelgen` to the project dependencies with `scope=provided` should be enough.","body":"That is not required to use <code>maven-processor-plugin</code>, adding <code>hibernate-jpamodelgen</code> to the project dependencies with <code>scope=provided</code> should be enough."}],"owner":{"account_id":1098402,"reputation":628,"user_id":1091484,"accept_rate":86,"display_name":"Samuel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1979,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1686909057,"creation_date":1671187832,"question_id":74823393,"body_markdown":"I have a working project with this maven section:\r\n\r\n```\r\n&lt;plugin&gt;\r\n&lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\r\n&lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;4.5&lt;/version&gt;\r\n&lt;executions&gt;\r\n\t&lt;execution&gt;\r\n\t\t&lt;goals&gt;\r\n\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n\t\t&lt;/goals&gt;\r\n\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;processors&gt;\r\n\t\t\t\t&lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\r\n\t\t\t&lt;/processors&gt;\r\n\t\t\t&lt;outputDirectory&gt;${project.build.directory}/generated-sources/jpametamodel&lt;/outputDirectory&gt;\r\n\t\t\t&lt;overwrite&gt;true&lt;/overwrite&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/execution&gt;\r\n&lt;/executions&gt;\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${hibernate-jpamodelgen.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nWhen `hibernate-jpamodelgen.version`=`5.6.14.Final`, it works.\r\n\r\nWhen I try to upgrade to `6.1.6.Final`, the classes are not generated, hence I get compilation errors.","title":"How to upgrade hibernate-jpamodelgen from 5 to 6?","body":"<p>I have a working project with this maven section:</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\n&lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\n&lt;version&gt;4.5&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;process&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n        &lt;configuration&gt;\n            &lt;processors&gt;\n                &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\n            &lt;/processors&gt;\n            &lt;outputDirectory&gt;${project.build.directory}/generated-sources/jpametamodel&lt;/outputDirectory&gt;\n            &lt;overwrite&gt;true&lt;/overwrite&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate-jpamodelgen.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>When <code>hibernate-jpamodelgen.version</code>=<code>5.6.14.Final</code>, it works.</p>\n<p>When I try to upgrade to <code>6.1.6.Final</code>, the classes are not generated, hence I get compilation errors.</p>\n"},{"tags":["java","unicode","utf-8",".class-file"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1686908591,"post_id":76488890,"comment_id":134866199,"body_markdown":"the one you specified. For .java files, check the javac doc: https://docs.oracle.com/javase/6/docs/technotes/tools/windows/javac.html","body":"the one you specified. For .java files, check the javac doc: <a href=\"https://docs.oracle.com/javase/6/docs/technotes/tools/windows/javac.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/technotes/tools/windows/&hellip;</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686917829,"post_id":76488890,"comment_id":134868055,"body_markdown":"I imagine this would entirely depend on your text-editor, or IDE.  For example, I&#39;m using UTF-8, here.","body":"I imagine this would entirely depend on your text-editor, or IDE.  For example, I&#39;m using UTF-8, here."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686918297,"post_id":76488890,"comment_id":134868150,"body_markdown":"You will most probably (can&#39;t account for *all* compilers) find that the *strings* inside the class file will end up as UTF-8 irrespective of your source file encoding","body":"You will most probably (can&#39;t account for <i>all</i> compilers) find that the <i>strings</i> inside the class file will end up as UTF-8 irrespective of your source file encoding"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1686921957,"post_id":76488890,"comment_id":134868957,"body_markdown":"@g00se - `strings inside the class file will end up as UTF-8 irrespective of your source file encoding` good point.","body":"@g00se - <code>strings inside the class file will end up as UTF-8 irrespective of your source file encoding</code> good point."}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686911343,"post_id":76488926,"comment_id":134866831,"body_markdown":"Fun fact: the *strings* in it are in UTF-8. You can see them with `strings Foo.class` *unless* they are mixed up with UTF-8 chars that occupy &gt; 1 byte. You can hide your strings from `strings` by using fancy quotes: `String s = &quot;\\u201cFOO\\u201d&quot;;`","body":"Fun fact: the <i>strings</i> in it are in UTF-8. You can see them with <code>strings Foo.class</code> <i>unless</i> they are mixed up with UTF-8 chars that occupy &gt; 1 byte. You can hide your strings from <code>strings</code> by using fancy quotes: <code>String s = &quot;\\u201cFOO\\u201d&quot;;</code>"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1686921802,"post_id":76488926,"comment_id":134868920,"body_markdown":"`Encoding refers to text, not binary data.` - gr8 point refreshed.","body":"<code>Encoding refers to text, not binary data.</code> - gr8 point refreshed."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1686921854,"post_id":76488926,"comment_id":134868937,"body_markdown":"@Vamsh: Please don&#39;t ask for votes. It&#39;s really not appropriate.","body":"@Vamsh: Please don&#39;t ask for votes. It&#39;s really not appropriate."},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1686922076,"post_id":76488926,"comment_id":134868985,"body_markdown":"@g00se, you said `strings Foo.class`. Is `strings` a util/tool or what.","body":"@g00se, you said <code>strings Foo.class</code>. Is <code>strings</code> a util/tool or what."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686922238,"post_id":76488926,"comment_id":134869018,"body_markdown":"Yes it&#39;s an old Unix tool to find strings in binary files","body":"Yes it&#39;s an old Unix tool to find strings in binary files"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1686940469,"post_id":76488926,"comment_id":134872740,"body_markdown":"@JonSkeet, to upvote good answers, i need 50 reps. thats the point. If at all.. try to encourage new bees on the platform.","body":"@JonSkeet, to upvote good answers, i need 50 reps. thats the point. If at all.. try to encourage new bees on the platform."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1686942879,"post_id":76488926,"comment_id":134873133,"body_markdown":"@Vamsh: That doesn&#39;t mean it&#39;s appropriate to ask people for votes. Please don&#39;t do it.","body":"@Vamsh: That doesn&#39;t mean it&#39;s appropriate to ask people for votes. Please don&#39;t do it."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1687199649,"post_id":76488926,"comment_id":134900611,"body_markdown":"@g00se to be precise, the embedded strings in a class file use the “Modified UTF-8” format.","body":"@g00se to be precise, the embedded strings in a class file use the “Modified UTF-8” format."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687200725,"post_id":76488926,"comment_id":134900780,"body_markdown":"Right, thanks @Holger","body":"Right, thanks @Holger"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686908580,"creation_date":1686908580,"answer_id":76488926,"question_id":76488890,"body_markdown":"Encoding refers to text, not binary data.\r\n\r\nClass files are binary data - so there&#39;s no *notion* of a text encoding for them, any more than there is for an MP3 file or a JPEG.\r\n\r\nDo *not* try to read a class file as if it&#39;s text - you&#39;re almost certain to lose information.","title":"what is the file encoding type for java class file?","body":"<p>Encoding refers to text, not binary data.</p>\n<p>Class files are binary data - so there's no <em>notion</em> of a text encoding for them, any more than there is for an MP3 file or a JPEG.</p>\n<p>Do <em>not</em> try to read a class file as if it's text - you're almost certain to lose information.</p>\n"},{"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1686935159,"post_id":76488956,"comment_id":134871904,"body_markdown":"@Vamsh It&#39;s completely inappropriate to ask others to upvote your own question. Don&#39;t do that.","body":"@Vamsh It&#39;s completely inappropriate to ask others to upvote your own question. Don&#39;t do that."},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1686940490,"post_id":76488956,"comment_id":134872743,"body_markdown":"@skomisa, to upvote good answers, i need 50 reps. thats the point. If at all.. try to encourage new bees on the platform.","body":"@skomisa, to upvote good answers, i need 50 reps. thats the point. If at all.. try to encourage new bees on the platform."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1686946222,"post_id":76488956,"comment_id":134873652,"body_markdown":"@Vamsh You should earn your reputation by posting good questions and good answers, not by pestering users to upvote you. Don&#39;t do it.","body":"@Vamsh You should earn your reputation by posting good questions and good answers, not by pestering users to upvote you. Don&#39;t do it."}],"tags":[],"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686908805,"creation_date":1686908805,"answer_id":76488956,"question_id":76488890,"body_markdown":"When Java compiles a `.java` source file into a `.class` file, the resulting `.class` file does not use a specific file encoding type like UTF-8. Instead, it follows a binary format known as the Java class file format.\r\n\r\nThe Java class file format is designed to be platform-independent and is primarily intended to be consumed by the Java Virtual Machine (JVM). It contains a structured set of bytes that represent various elements of the compiled Java code, such as class declarations, methods, fields, and bytecode instructions.\r\n\r\nThe class file format specifies a specific layout and organization of bytes, including headers, constant pools, access flags, attribute tables, and more. It does not rely on any specific character encoding scheme like `UTF-8` because the content of a class file consists of compiled Java bytecode instructions, numeric values, and symbolic references rather than human-readable text.\r\n\r\nTherefore, when you compile a Java source file using the `javac` compiler, the resulting `.class` file is not encoded as text but as binary data conforming to the Java class file format.","title":"what is the file encoding type for java class file?","body":"<p>When Java compiles a <code>.java</code> source file into a <code>.class</code> file, the resulting <code>.class</code> file does not use a specific file encoding type like UTF-8. Instead, it follows a binary format known as the Java class file format.</p>\n<p>The Java class file format is designed to be platform-independent and is primarily intended to be consumed by the Java Virtual Machine (JVM). It contains a structured set of bytes that represent various elements of the compiled Java code, such as class declarations, methods, fields, and bytecode instructions.</p>\n<p>The class file format specifies a specific layout and organization of bytes, including headers, constant pools, access flags, attribute tables, and more. It does not rely on any specific character encoding scheme like <code>UTF-8</code> because the content of a class file consists of compiled Java bytecode instructions, numeric values, and symbolic references rather than human-readable text.</p>\n<p>Therefore, when you compile a Java source file using the <code>javac</code> compiler, the resulting <code>.class</code> file is not encoded as text but as binary data conforming to the Java class file format.</p>\n"}],"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76488956,"answer_count":2,"score":0,"last_activity_date":1686908805,"creation_date":1686908313,"question_id":76488890,"body_markdown":"What is the file encoding type used for Java class files?\r\n\r\nI am not referring to the `file.encoding` or `Charset.defaultCharset()` properties.\r\n\r\nWhen `javac` compiles a `.java` file to a `.class` file and saves the resulting file on disk, what file encoding type is used? Is it UTF-8?  \r\n\r\nCan someone provide more details on this? I do not want to make assumptions.","title":"what is the file encoding type for java class file?","body":"<p>What is the file encoding type used for Java class files?</p>\n<p>I am not referring to the <code>file.encoding</code> or <code>Charset.defaultCharset()</code> properties.</p>\n<p>When <code>javac</code> compiles a <code>.java</code> file to a <code>.class</code> file and saves the resulting file on disk, what file encoding type is used? Is it UTF-8?</p>\n<p>Can someone provide more details on this? I do not want to make assumptions.</p>\n"},{"tags":["java","multithreading","sockets"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686904212,"post_id":76488323,"comment_id":134865239,"body_markdown":"First thing you should do is not swallow those exceptions. If something fails, you want to know about it. Then use the information *from* those exceptions to debug your application.","body":"First thing you should do is not swallow those exceptions. If something fails, you want to know about it. Then use the information <i>from</i> those exceptions to debug your application."},{"owner":{"account_id":28832571,"reputation":3,"user_id":22082648,"display_name":"dedr"},"score":0,"creation_date":1686904705,"post_id":76488323,"comment_id":134865347,"body_markdown":"@Jorn, did you mean the &#39;closeEverything&#39; I need to remove ?","body":"@Jorn, did you mean the &#39;closeEverything&#39; I need to remove ?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686905234,"post_id":76488323,"comment_id":134865459,"body_markdown":"the `closeEverything` is fine. Just don&#39;t forget to *also* print or log the exception (for example, using `printStackTrace()`).","body":"the <code>closeEverything</code> is fine. Just don&#39;t forget to <i>also</i> print or log the exception (for example, using <code>printStackTrace()</code>)."},{"owner":{"account_id":28832571,"reputation":3,"user_id":22082648,"display_name":"dedr"},"score":0,"creation_date":1686906026,"post_id":76488323,"comment_id":134865623,"body_markdown":"I did, sorry, but still the same issue is on","body":"I did, sorry, but still the same issue is on"}],"answers":[{"comments":[{"owner":{"account_id":28832571,"reputation":3,"user_id":22082648,"display_name":"dedr"},"score":0,"creation_date":1686908757,"post_id":76488887,"comment_id":134866226,"body_markdown":"It works! many thanks","body":"It works! many thanks"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1686908789,"post_id":76488887,"comment_id":134866235,"body_markdown":"@dedr did you check my edit? There is also an error with your `isConnected` test.","body":"@dedr did you check my edit? There is also an error with your <code>isConnected</code> test."},{"owner":{"account_id":28832571,"reputation":3,"user_id":22082648,"display_name":"dedr"},"score":0,"creation_date":1686909854,"post_id":76488887,"comment_id":134866467,"body_markdown":"Actually, I tried the both methods and sounds works. May I know what is the difference between them ?","body":"Actually, I tried the both methods and sounds works. May I know what is the difference between them ?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1686912311,"post_id":76488887,"comment_id":134866988,"body_markdown":"@dedr if you disconnect a client then `isConnected` continues to return true. Then you have an infinite loop where you just keep returning `null` as the message from client. `isClosed`is false when you can read from the socket, but changes to true. That way you can stop the loop.","body":"@dedr if you disconnect a client then <code>isConnected</code> continues to return true. Then you have an infinite loop where you just keep returning <code>null</code> as the message from client. <code>isClosed</code>is false when you can read from the socket, but changes to true. That way you can stop the loop."}],"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686908739,"creation_date":1686908302,"answer_id":76488887,"question_id":76488323,"body_markdown":"Notice the difference, when you send the name you use &quot;writer.println&quot; when you send the message you use &quot;writer.write&quot; \r\n\r\nWhen do you send a new line character? \r\n\r\nEither change it to &quot;println&quot; in your client or send a &quot;\\n&quot; at the end of the message.\r\n\r\nAnother thing, `while (socket.isConnected())` in your client handler isn&#39;t going to work. As per the [isConnected](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/Socket.html#isConnected()) docs you should use `isClosed()`\r\n","title":"Multiclient chat not sending and receiving messages","body":"<p>Notice the difference, when you send the name you use &quot;writer.println&quot; when you send the message you use &quot;writer.write&quot;</p>\n<p>When do you send a new line character?</p>\n<p>Either change it to &quot;println&quot; in your client or send a &quot;\\n&quot; at the end of the message.</p>\n<p>Another thing, <code>while (socket.isConnected())</code> in your client handler isn't going to work. As per the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/Socket.html#isConnected()\" rel=\"nofollow noreferrer\">isConnected</a> docs you should use <code>isClosed()</code></p>\n"}],"owner":{"account_id":28832571,"reputation":3,"user_id":22082648,"display_name":"dedr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76488887,"answer_count":1,"score":0,"last_activity_date":1686908739,"creation_date":1686904088,"question_id":76488323,"body_markdown":"I am trying to develop a multiclients chat application using java socket programming. I am using the bellow code \r\n\r\n\r\n\r\nI am using the bellow code snipped from the internet with some modifications \r\n \r\n\r\n\r\nSrever.java\r\n```\r\nimport java.io.IOException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class Server {\r\n    \r\n    \r\n    private final ServerSocket serversocket;\r\n    \r\n    \r\n    public Server (ServerSocket serversocket)\r\n    {\r\n        this.serversocket = serversocket;\r\n    }\r\n    \r\n    \r\n    public void startserver ()\r\n    {\r\n        try\r\n        {\r\n            while (!serversocket.isClosed())\r\n            {\r\n                Socket socket = serversocket.accept();\r\n                System.out.println(&quot;A client is connected&quot;);\r\n                \r\n                ClientHandler clienthandler = new ClientHandler(socket);\r\n                Thread t = new Thread(clienthandler);\r\n                t.start();\r\n                \r\n                \r\n            }\r\n        }catch (IOException e)\r\n        {\r\n            \r\n        }\r\n    }\r\n    \r\n   \r\n    public static void main(String[] args) throws IOException \r\n    {\r\n       ServerSocket serversocket = new ServerSocket(5000);\r\n       Server server = new Server(serversocket);\r\n       server.startserver();\r\n        \r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nClientHandler.java\r\n\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStreamWriter;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\nimport java.util.ArrayList;\r\n\r\npublic class ClientHandler  implements Runnable\r\n{\r\n    public static ArrayList &lt;ClientHandler&gt;clienthandlers = new ArrayList&lt;&gt;() ;\r\n    private final Socket socket;\r\n    private final BufferedReader bufferedreader;\r\n    private final PrintWriter writer; \r\n    private final String clientusername;\r\n    \r\n    public ClientHandler(Socket socket) throws IOException\r\n    {\r\n        this.socket = socket;\r\n        bufferedreader =  new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n        writer = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()),true);\r\n        clientusername = bufferedreader.readLine().trim();\r\n        \r\n   \r\n    }\r\n    \r\n    \r\n    @Override\r\n    public void run ()\r\n    {\r\n   \r\n    try {\r\n        \r\n        System.out.println(clientusername+ &quot; has joined the achat&quot;);\r\n        clienthandlers.add(this);\r\n        broadcastMessage (&quot;SERVER :&quot; + clientusername+ &quot; has joined the chat&quot;);\r\n        \r\n        \r\n        while (socket.isConnected())\r\n        {\r\n            String messageFromClient; \r\n            messageFromClient= bufferedreader.readLine();\r\n            broadcastMessage(messageFromClient);\r\n            }\r\n        }catch (IOException e)\r\n            {\r\n                closeEverything(socket,bufferedreader,writer) ;\r\n               \r\n            }\r\n        \r\n    }\r\n    \r\n public void broadcastMessage (String messageToSend)\r\n {\r\n     \r\n     for (ClientHandler ch: clienthandlers)\r\n     {\r\n         if (!ch.clientusername.equals(clientusername)) \r\n         {\r\n             ch.writer.println(messageToSend);\r\n \r\n         }\r\n     }\r\n     \r\n }\r\n \r\n \r\n public void removeClientHandler ()\r\n {\r\n     clienthandlers.remove(this);\r\n     System.out.println(clientusername+ &quot; has left the achat&quot;);\r\n     broadcastMessage (&quot;SERVER :&quot; + clientusername+ &quot; has left the achat&quot;);\r\n }\r\n\r\n    private void closeEverything(Socket socket, BufferedReader bufferedreader, PrintWriter writeer)\r\n    {\r\n        removeClientHandler();\r\n       try \r\n        {\r\n           if (bufferedreader!=null)\r\n           {\r\n            bufferedreader.close();\r\n           }\r\n        \r\n           if (writeer!=null)\r\n           {\r\n            writeer.close();\r\n           }\r\n        \r\n           if (socket!=null)\r\n           {\r\n            socket.close();\r\n           }\r\n        }catch (IOException e)\r\n        {\r\n        }\r\n        \r\n    }\r\n \r\n}\r\n```\r\n\r\nClient.java\r\n\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStreamWriter;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class Client {\r\n    \r\n private Socket socket;\r\n private BufferedReader bufferedreader;\r\n private PrintWriter writer; \r\n private String username; \r\n \r\n \r\n public Client (Socket socket, String username)\r\n {\r\n       try\r\n       {\r\n        this.socket = socket;\r\n        this.bufferedreader =  new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n        this.writer = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()),true);\r\n        this.username = username;\r\n        writer.println(username);\r\n       }catch (IOException e)\r\n       {\r\n           closeEverything(socket, bufferedreader, writer);\r\n       }\r\n }\r\n    \r\n private void sendMessage ()\r\n {\r\n     \r\n     Scanner sc = new Scanner(System.in);\r\n     while (socket.isConnected())\r\n     {\r\n         String messageToSend = sc.nextLine();\r\n         writer.write(username+ &quot;: &quot; + messageToSend);\r\n         \r\n     }\r\n }\r\n \r\n \r\n \r\n public void listenForMessage ()\r\n {\r\n     new Thread(() -&gt; {\r\n         String messageFromGroupchat;\r\n         \r\n         while (socket.isConnected()) \r\n         {\r\n             try\r\n             {\r\n                 messageFromGroupchat = bufferedreader.readLine();\r\n                 System.out.println(messageFromGroupchat);\r\n             }catch (IOException e)\r\n             {\r\n                 closeEverything(socket, bufferedreader, writer);\r\n             }\r\n         }\r\n     }).start();\r\n }\r\n \r\n \r\n \r\n \r\n private void closeEverything(Socket socket, BufferedReader bufferedreader, PrintWriter writeer)\r\n    {\r\n                \r\n        try \r\n        {\r\n           if (bufferedreader!=null)\r\n           {\r\n            bufferedreader.close();\r\n           }\r\n        \r\n           if (writeer!=null)\r\n           {\r\n            writeer.close();\r\n           }\r\n        \r\n           if (socket!=null)\r\n           {\r\n            socket.close();\r\n           }\r\n        }catch (IOException e)\r\n        {\r\n        }\r\n        \r\n    } \r\n \r\n \r\n    public static void main(String[] args) throws IOException \r\n    {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter your name&quot;);\r\n        String username = sc.nextLine();\r\n        \r\n        Socket socket = new Socket(&quot;localhost&quot;, 5000);\r\n        \r\n        Client client = new Client(socket, username);\r\n       \r\n        client.listenForMessage();\r\n        \r\n        client.sendMessage();\r\n       \r\n       \r\n       \r\n       \r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe problem is when clients are connected, no message (sending / receiving) among them. They are just notify each other only when they join or left the chat. What the mistake I am doing here please? I am new in socket programming. ","title":"Multiclient chat not sending and receiving messages","body":"<p>I am trying to develop a multiclients chat application using java socket programming. I am using the bellow code</p>\n<p>I am using the bellow code snipped from the internet with some modifications</p>\n<p>Srever.java</p>\n<pre><code>import java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class Server {\n    \n    \n    private final ServerSocket serversocket;\n    \n    \n    public Server (ServerSocket serversocket)\n    {\n        this.serversocket = serversocket;\n    }\n    \n    \n    public void startserver ()\n    {\n        try\n        {\n            while (!serversocket.isClosed())\n            {\n                Socket socket = serversocket.accept();\n                System.out.println(&quot;A client is connected&quot;);\n                \n                ClientHandler clienthandler = new ClientHandler(socket);\n                Thread t = new Thread(clienthandler);\n                t.start();\n                \n                \n            }\n        }catch (IOException e)\n        {\n            \n        }\n    }\n    \n   \n    public static void main(String[] args) throws IOException \n    {\n       ServerSocket serversocket = new ServerSocket(5000);\n       Server server = new Server(serversocket);\n       server.startserver();\n        \n    }\n}\n\n</code></pre>\n<p>ClientHandler.java</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.util.ArrayList;\n\npublic class ClientHandler  implements Runnable\n{\n    public static ArrayList &lt;ClientHandler&gt;clienthandlers = new ArrayList&lt;&gt;() ;\n    private final Socket socket;\n    private final BufferedReader bufferedreader;\n    private final PrintWriter writer; \n    private final String clientusername;\n    \n    public ClientHandler(Socket socket) throws IOException\n    {\n        this.socket = socket;\n        bufferedreader =  new BufferedReader(new InputStreamReader(socket.getInputStream()));\n        writer = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()),true);\n        clientusername = bufferedreader.readLine().trim();\n        \n   \n    }\n    \n    \n    @Override\n    public void run ()\n    {\n   \n    try {\n        \n        System.out.println(clientusername+ &quot; has joined the achat&quot;);\n        clienthandlers.add(this);\n        broadcastMessage (&quot;SERVER :&quot; + clientusername+ &quot; has joined the chat&quot;);\n        \n        \n        while (socket.isConnected())\n        {\n            String messageFromClient; \n            messageFromClient= bufferedreader.readLine();\n            broadcastMessage(messageFromClient);\n            }\n        }catch (IOException e)\n            {\n                closeEverything(socket,bufferedreader,writer) ;\n               \n            }\n        \n    }\n    \n public void broadcastMessage (String messageToSend)\n {\n     \n     for (ClientHandler ch: clienthandlers)\n     {\n         if (!ch.clientusername.equals(clientusername)) \n         {\n             ch.writer.println(messageToSend);\n \n         }\n     }\n     \n }\n \n \n public void removeClientHandler ()\n {\n     clienthandlers.remove(this);\n     System.out.println(clientusername+ &quot; has left the achat&quot;);\n     broadcastMessage (&quot;SERVER :&quot; + clientusername+ &quot; has left the achat&quot;);\n }\n\n    private void closeEverything(Socket socket, BufferedReader bufferedreader, PrintWriter writeer)\n    {\n        removeClientHandler();\n       try \n        {\n           if (bufferedreader!=null)\n           {\n            bufferedreader.close();\n           }\n        \n           if (writeer!=null)\n           {\n            writeer.close();\n           }\n        \n           if (socket!=null)\n           {\n            socket.close();\n           }\n        }catch (IOException e)\n        {\n        }\n        \n    }\n \n}\n</code></pre>\n<p>Client.java</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.util.Scanner;\n\n\npublic class Client {\n    \n private Socket socket;\n private BufferedReader bufferedreader;\n private PrintWriter writer; \n private String username; \n \n \n public Client (Socket socket, String username)\n {\n       try\n       {\n        this.socket = socket;\n        this.bufferedreader =  new BufferedReader(new InputStreamReader(socket.getInputStream()));\n        this.writer = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()),true);\n        this.username = username;\n        writer.println(username);\n       }catch (IOException e)\n       {\n           closeEverything(socket, bufferedreader, writer);\n       }\n }\n    \n private void sendMessage ()\n {\n     \n     Scanner sc = new Scanner(System.in);\n     while (socket.isConnected())\n     {\n         String messageToSend = sc.nextLine();\n         writer.write(username+ &quot;: &quot; + messageToSend);\n         \n     }\n }\n \n \n \n public void listenForMessage ()\n {\n     new Thread(() -&gt; {\n         String messageFromGroupchat;\n         \n         while (socket.isConnected()) \n         {\n             try\n             {\n                 messageFromGroupchat = bufferedreader.readLine();\n                 System.out.println(messageFromGroupchat);\n             }catch (IOException e)\n             {\n                 closeEverything(socket, bufferedreader, writer);\n             }\n         }\n     }).start();\n }\n \n \n \n \n private void closeEverything(Socket socket, BufferedReader bufferedreader, PrintWriter writeer)\n    {\n                \n        try \n        {\n           if (bufferedreader!=null)\n           {\n            bufferedreader.close();\n           }\n        \n           if (writeer!=null)\n           {\n            writeer.close();\n           }\n        \n           if (socket!=null)\n           {\n            socket.close();\n           }\n        }catch (IOException e)\n        {\n        }\n        \n    } \n \n \n    public static void main(String[] args) throws IOException \n    {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter your name&quot;);\n        String username = sc.nextLine();\n        \n        Socket socket = new Socket(&quot;localhost&quot;, 5000);\n        \n        Client client = new Client(socket, username);\n       \n        client.listenForMessage();\n        \n        client.sendMessage();\n       \n       \n       \n       \n    }\n}\n\n</code></pre>\n<p>The problem is when clients are connected, no message (sending / receiving) among them. They are just notify each other only when they join or left the chat. What the mistake I am doing here please? I am new in socket programming.</p>\n"},{"tags":["java","annotations","micronaut","micronaut-client"],"owner":{"account_id":28833084,"reputation":5,"user_id":22083086,"display_name":"Max Bachhuber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686908569,"creation_date":1686908569,"question_id":76488923,"body_markdown":"I am attempting to write a reusable HttpClientFilter that can be assigned to various HttpClients using an Annotation. The HttpClientFilter requires certain properties, such as an audience, that differ for each HttpClient. \r\n\r\nMy plan is to add these properties to the annotation that gets assigned to the HttpClient.\r\n\r\n```java\r\n@FilterMatcher\r\n@Documented\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.TYPE, ElementType.PARAMETER})\r\npublic @interface ServiceAccountAuthentication {\r\n    String audience() default &quot;&quot;;\r\n}\r\n```\r\n \r\n```java\r\n@Client(value = &quot;http://example.com/api/v1&quot;)\r\n@ServiceAccountAuthentication(audience = &quot;test&quot;)\r\npublic interface MyHttpClient extends MyApi {\r\n    \r\n}\r\n```\r\n \r\n```java\r\n@ServiceAccountAuthentication\r\n@Singleton\r\npublic class ServiceAccountAuthenticationClientFilter implements HttpClientFilter {\r\n\r\n    @Override\r\n    public Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(MutableHttpRequest&lt;?&gt; request, ClientFilterChain chain) {\r\n        String audience = &quot;???&quot;; // How do I retrieve that from the annotation?\r\n        return chain.proceed(request.bearerAuth(buildToken(audience)));\r\n    }\r\n\r\n    private String buildToken(String audience) {\r\n        // TODO: Build token\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n```\r\n\r\nHowever, to acquire these properties within the HttpClientFilter, I need to retrieve the class of the HttpClient. Is there a method to do this? Or is there a better way to implement something like that?","title":"Get the corresponding HttpClient in a HttpClientFilter (micronaut)","body":"<p>I am attempting to write a reusable HttpClientFilter that can be assigned to various HttpClients using an Annotation. The HttpClientFilter requires certain properties, such as an audience, that differ for each HttpClient.</p>\n<p>My plan is to add these properties to the annotation that gets assigned to the HttpClient.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FilterMatcher\n@Documented\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.TYPE, ElementType.PARAMETER})\npublic @interface ServiceAccountAuthentication {\n    String audience() default &quot;&quot;;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Client(value = &quot;http://example.com/api/v1&quot;)\n@ServiceAccountAuthentication(audience = &quot;test&quot;)\npublic interface MyHttpClient extends MyApi {\n    \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@ServiceAccountAuthentication\n@Singleton\npublic class ServiceAccountAuthenticationClientFilter implements HttpClientFilter {\n\n    @Override\n    public Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(MutableHttpRequest&lt;?&gt; request, ClientFilterChain chain) {\n        String audience = &quot;???&quot;; // How do I retrieve that from the annotation?\n        return chain.proceed(request.bearerAuth(buildToken(audience)));\n    }\n\n    private String buildToken(String audience) {\n        // TODO: Build token\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>However, to acquire these properties within the HttpClientFilter, I need to retrieve the class of the HttpClient. Is there a method to do this? Or is there a better way to implement something like that?</p>\n"},{"tags":["java","rest","jax-rs","resteasy","quarkus"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1642788635,"post_id":70804601,"comment_id":125173764,"body_markdown":"You can add a static fromString(string) method to the enum and throw a WebApplicationException with the Response you want.","body":"You can add a static fromString(string) method to the enum and throw a WebApplicationException with the Response you want."}],"answers":[{"comments":[{"owner":{"account_id":422132,"reputation":817,"user_id":800735,"accept_rate":92,"display_name":"cozos"},"score":0,"creation_date":1642868574,"post_id":70806521,"comment_id":125189479,"body_markdown":"Thanks for the answer. I may not know the particular Exception ahead of time - in this case it is an IllegalArgumentException, but what if it&#39;s a NPE in the future, etc? How did you know to use ReaderException?","body":"Thanks for the answer. I may not know the particular Exception ahead of time - in this case it is an IllegalArgumentException, but what if it&#39;s a NPE in the future, etc? How did you know to use ReaderException?"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1642960073,"post_id":70806521,"comment_id":125207117,"body_markdown":"For me I was trying to catch a specific issue - in this case a malformed JSON body.  It was the exception that I was seeing in the in the logs and I wanted a better error message.  Unfortunately, to your point, it&#39;s not a great overall solution as it is rather specific.  I&#39;ve not tried having something like `ExceptionMapper&lt;Throwable&gt;` but that seems to be what you&#39;re thinking of.","body":"For me I was trying to catch a specific issue - in this case a malformed JSON body.  It was the exception that I was seeing in the in the logs and I wanted a better error message.  Unfortunately, to your point, it&#39;s not a great overall solution as it is rather specific.  I&#39;ve not tried having something like <code>ExceptionMapper&lt;Throwable&gt;</code> but that seems to be what you&#39;re thinking of."}],"tags":[],"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642792329,"creation_date":1642792329,"answer_id":70806521,"question_id":70804601,"body_markdown":"I have created a variety of exception handlers for just this reason.  For example, I want to check if an incoming JSON body is malformed.  For that I did:\r\n\r\n\r\n    import com.fasterxml.jackson.core.JsonParseException;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import org.jboss.resteasy.spi.ReaderException;\r\n    \r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.ext.ExceptionMapper;\r\n    import javax.ws.rs.ext.Provider;\r\n    \r\n    /**\r\n     * Maps a ReaderException to a response.  A ReaderException is most often thrown\r\n     * when we get a bad JSON packet.\r\n     *\r\n     */\r\n    @Provider\r\n    public class ReaderExceptionMapper implements ExceptionMapper&lt;ReaderException&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic Response toResponse(ReaderException exception) {\r\n    \r\n    \t    if( exception.getCause() instanceof JsonParseException ||\r\n                    exception.getCause() instanceof JsonMappingException ) {\r\n    \t        return Response.status(Response.Status.BAD_REQUEST)\r\n    \t\t\t\t\t.entity(&quot;error parsing json body - &quot; + exception.getMessage())\r\n                        .type(MediaType.TEXT_PLAIN_TYPE)\r\n                        .build();\r\n            }\r\n    \r\n    \t\treturn Response.status(Response.Status.INTERNAL_SERVER_ERROR)\r\n                    .entity(exception.getMessage())\r\n                    .type(MediaType.TEXT_PLAIN_TYPE)\r\n                    .build();\r\n    \t}\r\n    }\r\n\r\nIn your case you should be able to create an `ExceptionMapper` for `IllegalArgumentException` and do what you&#39;d like.  I am running this in both Wildfly and Quarkus.","title":"In Quarkus/RESTEasy, how do I show helpful error messages for malformed query parameters?","body":"<p>I have created a variety of exception handlers for just this reason.  For example, I want to check if an incoming JSON body is malformed.  For that I did:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonParseException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport org.jboss.resteasy.spi.ReaderException;\n\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.ext.ExceptionMapper;\nimport javax.ws.rs.ext.Provider;\n\n/**\n * Maps a ReaderException to a response.  A ReaderException is most often thrown\n * when we get a bad JSON packet.\n *\n */\n@Provider\npublic class ReaderExceptionMapper implements ExceptionMapper&lt;ReaderException&gt; {\n\n    @Override\n    public Response toResponse(ReaderException exception) {\n\n        if( exception.getCause() instanceof JsonParseException ||\n                exception.getCause() instanceof JsonMappingException ) {\n            return Response.status(Response.Status.BAD_REQUEST)\n                    .entity(&quot;error parsing json body - &quot; + exception.getMessage())\n                    .type(MediaType.TEXT_PLAIN_TYPE)\n                    .build();\n        }\n\n        return Response.status(Response.Status.INTERNAL_SERVER_ERROR)\n                .entity(exception.getMessage())\n                .type(MediaType.TEXT_PLAIN_TYPE)\n                .build();\n    }\n}\n</code></pre>\n<p>In your case you should be able to create an <code>ExceptionMapper</code> for <code>IllegalArgumentException</code> and do what you'd like.  I am running this in both Wildfly and Quarkus.</p>\n"},{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643133383,"creation_date":1643133383,"answer_id":70853465,"question_id":70804601,"body_markdown":"You could use a `ParamConverter` for generic enum types.\r\n\r\n&lt;!-- language: lang-java--&gt;\r\n\r\n    import java.lang.annotation.Annotation;\r\n    import java.lang.reflect.Type;\r\n    import javax.ws.rs.WebApplicationException;\r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.ext.ParamConverter;\r\n    import javax.ws.rs.ext.ParamConverterProvider;\r\n    import javax.ws.rs.ext.Provider;\r\n\r\n    @Provider\r\n    public class EnumParamConverterProvider implements ParamConverterProvider {\r\n        @Override\r\n        public &lt;T&gt; ParamConverter&lt;T&gt; getConverter(final Class&lt;T&gt; rawType, final Type genericType, final Annotation[] annotations) {\r\n            if (!rawType.isEnum()) {\r\n                return null;\r\n            }\r\n            final Enum&lt;?&gt;[] constants = (Enum&lt;?&gt;[]) rawType.getEnumConstants();\r\n            return new ParamConverter&lt;T&gt;() {\r\n                @Override\r\n                @SuppressWarnings(&quot;unchecked&quot;)\r\n                public T fromString(final String value) {\r\n                    if (value == null || value.isEmpty()) {\r\n                        return null;\r\n                    }\r\n                    for (Enum&lt;?&gt; e : constants) {\r\n                        if (e.name().equalsIgnoreCase(value)) {\r\n                            return (T) e;\r\n                        }\r\n                    }\r\n                    // No match, check toString()\r\n                    for (Enum&lt;?&gt; e : constants) {\r\n                        if (e.toString().equalsIgnoreCase(value)) {\r\n                            return (T) e;\r\n                        }\r\n                    }\r\n                    throw new WebApplicationException(Response.serverError().entity(String.format(&quot;Failed to find constant &#39;%s&#39;&quot;, value)).build());\r\n                }\r\n\r\n                @Override\r\n                public String toString(final T value) {\r\n                    return value != null ? value.toString() : null;\r\n                }\r\n            };\r\n        }\r\n    }\r\n","title":"In Quarkus/RESTEasy, how do I show helpful error messages for malformed query parameters?","body":"<p>You could use a <code>ParamConverter</code> for generic enum types.</p>\n\n<pre><code>import java.lang.annotation.Annotation;\nimport java.lang.reflect.Type;\nimport javax.ws.rs.WebApplicationException;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.ext.ParamConverter;\nimport javax.ws.rs.ext.ParamConverterProvider;\nimport javax.ws.rs.ext.Provider;\n\n@Provider\npublic class EnumParamConverterProvider implements ParamConverterProvider {\n    @Override\n    public &lt;T&gt; ParamConverter&lt;T&gt; getConverter(final Class&lt;T&gt; rawType, final Type genericType, final Annotation[] annotations) {\n        if (!rawType.isEnum()) {\n            return null;\n        }\n        final Enum&lt;?&gt;[] constants = (Enum&lt;?&gt;[]) rawType.getEnumConstants();\n        return new ParamConverter&lt;T&gt;() {\n            @Override\n            @SuppressWarnings(&quot;unchecked&quot;)\n            public T fromString(final String value) {\n                if (value == null || value.isEmpty()) {\n                    return null;\n                }\n                for (Enum&lt;?&gt; e : constants) {\n                    if (e.name().equalsIgnoreCase(value)) {\n                        return (T) e;\n                    }\n                }\n                // No match, check toString()\n                for (Enum&lt;?&gt; e : constants) {\n                    if (e.toString().equalsIgnoreCase(value)) {\n                        return (T) e;\n                    }\n                }\n                throw new WebApplicationException(Response.serverError().entity(String.format(&quot;Failed to find constant '%s'&quot;, value)).build());\n            }\n\n            @Override\n            public String toString(final T value) {\n                return value != null ? value.toString() : null;\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643134734,"creation_date":1643134734,"answer_id":70853722,"question_id":70804601,"body_markdown":"There is a similar question for which I gave an answer. Basically I suggested use of `ResponseEntity` class as a return value or creating Exception handler marked as `@ControllerAdvice`. Please look at the answer here: [How to add message to response with exception][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70833072/how-to-add-message-to-response-with-exception/70833247#70833247","title":"In Quarkus/RESTEasy, how do I show helpful error messages for malformed query parameters?","body":"<p>There is a similar question for which I gave an answer. Basically I suggested use of <code>ResponseEntity</code> class as a return value or creating Exception handler marked as <code>@ControllerAdvice</code>. Please look at the answer here: <a href=\"https://stackoverflow.com/questions/70833072/how-to-add-message-to-response-with-exception/70833247#70833247\">How to add message to response with exception</a></p>\n"},{"tags":[],"owner":{"account_id":28832830,"reputation":11,"user_id":22082876,"display_name":"Mykyta Anyshchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686907472,"creation_date":1686907472,"answer_id":76488786,"question_id":70804601,"body_markdown":"This is caused by QueryParamInjector. If, while mapping query params, it catches any exception, that is not inherited from `javax.ws.rs.WebApplicationException` it will wrap the exception into `NotFoundException`. (see `StringParameterInjector#extractValue(String)` and `QueryParamInjector#throwProcessingException(String, Throwable)`)\r\n\r\nYou can bypass this behaviour by throwing exception that extends `javax.ws.rs.WebApplicationException` instead of `IllegalArgumentException`. In my case I use custom ParamConverter where I wrap cought `RuntimeException`s into `javax.ws.rs.BadRequestException`.\r\n\r\nAlso, custom `ExceptionMapper` for `BadRequestException` would be useful, cause default one will print stacktrace into response \r\n ","title":"In Quarkus/RESTEasy, how do I show helpful error messages for malformed query parameters?","body":"<p>This is caused by QueryParamInjector. If, while mapping query params, it catches any exception, that is not inherited from <code>javax.ws.rs.WebApplicationException</code> it will wrap the exception into <code>NotFoundException</code>. (see <code>StringParameterInjector#extractValue(String)</code> and <code>QueryParamInjector#throwProcessingException(String, Throwable)</code>)</p>\n<p>You can bypass this behaviour by throwing exception that extends <code>javax.ws.rs.WebApplicationException</code> instead of <code>IllegalArgumentException</code>. In my case I use custom ParamConverter where I wrap cought <code>RuntimeException</code>s into <code>javax.ws.rs.BadRequestException</code>.</p>\n<p>Also, custom <code>ExceptionMapper</code> for <code>BadRequestException</code> would be useful, cause default one will print stacktrace into response</p>\n"}],"owner":{"account_id":422132,"reputation":817,"user_id":800735,"accept_rate":92,"display_name":"cozos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3898,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1686907472,"creation_date":1642782926,"question_id":70804601,"body_markdown":"I have a REST endpoint that looks like this:\r\n\r\n```\r\n@Path(&quot;/api/v1/users&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\npublic class UsersResource {\r\n  @GET\r\n  public Uni&lt;ListUsersResponse&gt; list(@BeanParam @Valid ListUsersRequest req) {\r\n    ...\r\n  }\r\n}\r\n  \r\n...\r\n\r\npublic class ListUsersRequest {\r\n  @NotNull\r\n  @NotEmpty\r\n  @QueryParam(&quot;status_in&quot;)\r\n  List&lt;UserStatus&gt; statusIn;\r\n}\r\n\r\n...\r\n\r\npublic enum UserStatus {\r\n  All,\r\n  Creating,\r\n  Deleting,\r\n  ...\r\n}\r\n```\r\n\r\nWhen I make an API call like this:\r\n\r\nhttp://localhost:8080/api/v1/users?status_in=invalid_status\r\n\r\nQuarkus/RESTEasy will return a 404, and nothing will even show up in the server logs, because it is a 404, because it is a &quot;client error&quot;.\r\n\r\nIf I enable debug logging, the error looks like this:\r\n\r\n```\r\njava.lang.IllegalArgumentException: No enum constant com.myproject.UserStatus.something\r\n```\r\n\r\nI dislike this behaviour, because:\r\n\r\n1. A 404 implies &quot;not found&quot;, which makes users think that the path they used doesn&#39;t exist at all, which is confusing.\r\n2. It&#39;s difficult for both users and developers to figure out what went wrong, as there are no error messages in the response or in the server logs without DEBUG enabled.\r\n\r\nApparently, this is on purpose, because it conforms to [some spec][1]:\r\n\r\n&gt; 3.2 Fields and Bean Properties\r\n&gt;\r\n&gt; if the field or property is annotated with @MatrixParam, @QueryParam or @PathParam then an implementation MUST generate an instance of NotFoundException (404 status) that wraps the thrown exception and no entity\r\n\r\nSo my question is, how can I modify this to actually give helpful error messages and status code?\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/CXF-4976","title":"In Quarkus/RESTEasy, how do I show helpful error messages for malformed query parameters?","body":"<p>I have a REST endpoint that looks like this:</p>\n<pre><code>@Path(&quot;/api/v1/users&quot;)\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\npublic class UsersResource {\n  @GET\n  public Uni&lt;ListUsersResponse&gt; list(@BeanParam @Valid ListUsersRequest req) {\n    ...\n  }\n}\n  \n...\n\npublic class ListUsersRequest {\n  @NotNull\n  @NotEmpty\n  @QueryParam(&quot;status_in&quot;)\n  List&lt;UserStatus&gt; statusIn;\n}\n\n...\n\npublic enum UserStatus {\n  All,\n  Creating,\n  Deleting,\n  ...\n}\n</code></pre>\n<p>When I make an API call like this:</p>\n<p>http://localhost:8080/api/v1/users?status_in=invalid_status</p>\n<p>Quarkus/RESTEasy will return a 404, and nothing will even show up in the server logs, because it is a 404, because it is a &quot;client error&quot;.</p>\n<p>If I enable debug logging, the error looks like this:</p>\n<pre><code>java.lang.IllegalArgumentException: No enum constant com.myproject.UserStatus.something\n</code></pre>\n<p>I dislike this behaviour, because:</p>\n<ol>\n<li>A 404 implies &quot;not found&quot;, which makes users think that the path they used doesn't exist at all, which is confusing.</li>\n<li>It's difficult for both users and developers to figure out what went wrong, as there are no error messages in the response or in the server logs without DEBUG enabled.</li>\n</ol>\n<p>Apparently, this is on purpose, because it conforms to <a href=\"https://issues.apache.org/jira/browse/CXF-4976\" rel=\"nofollow noreferrer\">some spec</a>:</p>\n<blockquote>\n<p>3.2 Fields and Bean Properties</p>\n<p>if the field or property is annotated with @MatrixParam, @QueryParam or @PathParam then an implementation MUST generate an instance of NotFoundException (404 status) that wraps the thrown exception and no entity</p>\n</blockquote>\n<p>So my question is, how can I modify this to actually give helpful error messages and status code?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681566278,"post_id":76021808,"comment_id":134078958,"body_markdown":"The poor coding is not going to help you. If your *global* (bad idea) `Connection` object has *already* been assigned, that code will go about getting it and setting it all over again anyway. You should be checking if you *already* have a valid connection. Come back again with reworked code (posted into the question) showing that you still have a problem","body":"The poor coding is not going to help you. If your <i>global</i> (bad idea) <code>Connection</code> object has <i>already</i> been assigned, that code will go about getting it and setting it all over again anyway. You should be checking if you <i>already</i> have a valid connection. Come back again with reworked code (posted into the question) showing that you still have a problem"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681566723,"post_id":76021808,"comment_id":134079010,"body_markdown":"Also, you should be using the three argument `DriverManager.getConnection` method, not passing the credentials in the connection string","body":"Also, you should be using the three argument <code>DriverManager.getConnection</code> method, not passing the credentials in the connection string"},{"owner":{"account_id":24927929,"reputation":23,"user_id":18795436,"display_name":"Reconnact"},"score":0,"creation_date":1681575495,"post_id":76021808,"comment_id":134080198,"body_markdown":"As you can see in my question I had the three argument `DriverManager.getConnection`method before. Also the code i provided worked as is before when i had my old mysql installation","body":"As you can see in my question I had the three argument <code>DriverManager.getConnection</code>method before. Also the code i provided worked as is before when i had my old mysql installation"}],"answers":[{"tags":[],"owner":{"account_id":28477555,"reputation":1,"user_id":21791989,"display_name":"tetedo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686907300,"creation_date":1686709545,"answer_id":76469760,"question_id":76021808,"body_markdown":"Try:\r\n\r\n```\r\nString url = &quot;jdbc:mysql://127.0.0.1:3306/wnetwork?user=&quot; + username + &quot;&amp;password=&quot; + password + &quot;&amp;useSSL=false&quot;;\r\n```\r\n\r\nJust add string: `&amp;useSSL=false`","title":"Communications link failure &quot;The last packet sent successfully to the server was 37 milliseconds ago.&quot;","body":"<p>Try:</p>\n<pre><code>String url = &quot;jdbc:mysql://127.0.0.1:3306/wnetwork?user=&quot; + username + &quot;&amp;password=&quot; + password + &quot;&amp;useSSL=false&quot;;\n</code></pre>\n<p>Just add string: <code>&amp;useSSL=false</code></p>\n"}],"owner":{"account_id":24927929,"reputation":23,"user_id":18795436,"display_name":"Reconnact"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686907300,"creation_date":1681556146,"question_id":76021808,"body_markdown":"I had to reinstall MySQL completely because everything was broken and I wanted to set it up clean again. Now I get the following error when I run my application that worked with the previously set up mysql database:\r\n\r\n```\r\nom.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure The last packet successfully received from the server was 38 milliseconds ago. The last packet sent successfully to the server was 37 milliseconds ago.\r\n```\r\n\r\nI have a java application that connects to the mysql database like this:\r\n```\r\n static Connection getConnection() {\r\n        try {\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        String username = &quot;root&quot;;\r\n        String password = &quot;password&quot;;\r\n        String url = &quot;jdbc:mysql://127.0.0.1:3306/wnetwork?user=&quot; + username + &quot;&amp;password=&quot; + password;\r\n        try{\r\n            setConnection(DriverManager.getConnection(url));\r\n        } catch (SQLException e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n        return connection;\r\n    }\r\n```\r\n\r\nI also tried it with the username and password outside the jdbc url.\r\nThe MySQL instance is running, I can connect to it in the terminal and everything else works perfectly fine (as far as I know).","title":"Communications link failure &quot;The last packet sent successfully to the server was 37 milliseconds ago.&quot;","body":"<p>I had to reinstall MySQL completely because everything was broken and I wanted to set it up clean again. Now I get the following error when I run my application that worked with the previously set up mysql database:</p>\n<pre><code>om.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure The last packet successfully received from the server was 38 milliseconds ago. The last packet sent successfully to the server was 37 milliseconds ago.\n</code></pre>\n<p>I have a java application that connects to the mysql database like this:</p>\n<pre><code> static Connection getConnection() {\n        try {\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n        } catch (ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n        String username = &quot;root&quot;;\n        String password = &quot;password&quot;;\n        String url = &quot;jdbc:mysql://127.0.0.1:3306/wnetwork?user=&quot; + username + &quot;&amp;password=&quot; + password;\n        try{\n            setConnection(DriverManager.getConnection(url));\n        } catch (SQLException e) {\n            throw new IllegalStateException(e);\n        }\n        return connection;\n    }\n</code></pre>\n<p>I also tried it with the username and password outside the jdbc url.\nThe MySQL instance is running, I can connect to it in the terminal and everything else works perfectly fine (as far as I know).</p>\n"},{"tags":["java","spring","transactions"],"answers":[{"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686906495,"post_id":76488574,"comment_id":134865718,"body_markdown":"The Transactional annotation of saveAddress will have no effect at all because it is called from inside the same class.","body":"The Transactional annotation of saveAddress will have no effect at all because it is called from inside the same class."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686906807,"post_id":76488574,"comment_id":134865795,"body_markdown":"thanks @Mar-Z, added that to the answer.","body":"thanks @Mar-Z, added that to the answer."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686906797,"creation_date":1686905953,"answer_id":76488574,"question_id":76488560,"body_markdown":"&gt; Does a transaction method calling a transaction method in the same class cause the transaction to fail\r\n\r\nNo.\r\n\r\n&gt; Will saveAddress be rolled back if an exception occurs after saveAddress is executed\r\n\r\nDepends on if the transaction has been committed or not. So, if the exception happens *before* `doInsert` returns, yes. If it happens *after* `doInsert` returns, no.","title":"spring transaction method calls","body":"<blockquote>\n<p>Does a transaction method calling a transaction method in the same class cause the transaction to fail</p>\n</blockquote>\n<p>No.</p>\n<blockquote>\n<p>Will saveAddress be rolled back if an exception occurs after saveAddress is executed</p>\n</blockquote>\n<p>Depends on if the transaction has been committed or not. So, if the exception happens <em>before</em> <code>doInsert</code> returns, yes. If it happens <em>after</em> <code>doInsert</code> returns, no.</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686906206,"creation_date":1686906206,"answer_id":76488607,"question_id":76488560,"body_markdown":"The transaction will start at the call to `doInsert` method and end on the returning from it. It doesn&#39;t matter if local methods will be called inside of this method. You can consider such methods the same way as code blocks inside of the method.\r\n\r\nIf a runtime exception occurs somewhere inside the transaction it will be rolled back. Otherwise it will be committed.","title":"spring transaction method calls","body":"<p>The transaction will start at the call to <code>doInsert</code> method and end on the returning from it. It doesn't matter if local methods will be called inside of this method. You can consider such methods the same way as code blocks inside of the method.</p>\n<p>If a runtime exception occurs somewhere inside the transaction it will be rolled back. Otherwise it will be committed.</p>\n"}],"owner":{"account_id":26587623,"reputation":1,"user_id":20211325,"display_name":"luochen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1686906797,"creation_date":1686905809,"question_id":76488560,"body_markdown":"Does a transaction method calling a transaction method in the same class cause the transaction to fail.\r\nWill saveAddress be rolled back if an exception occurs after saveAddress is executed.\r\n[transaction invoke](https://i.stack.imgur.com/wwV2o.png)\r\nThe doInsert method is called by another class.","title":"spring transaction method calls","body":"<p>Does a transaction method calling a transaction method in the same class cause the transaction to fail.\nWill saveAddress be rolled back if an exception occurs after saveAddress is executed.\n<a href=\"https://i.stack.imgur.com/wwV2o.png\" rel=\"nofollow noreferrer\">transaction invoke</a>\nThe doInsert method is called by another class.</p>\n"},{"tags":["java","spring","spring-boot","autowired"],"comments":[{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1686317614,"post_id":76439609,"comment_id":134786293,"body_markdown":"Spring is only able to inject into instances that it created.  Your main class was not created by Spring, therefore Spring cannot inject into it.","body":"Spring is only able to inject into instances that it created.  Your main class was not created by Spring, therefore Spring cannot inject into it."},{"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"score":0,"creation_date":1686317946,"post_id":76439609,"comment_id":134786392,"body_markdown":"@DwB, but my main class wasn&#39;t created by Spring when it is annotated as `@SpringBootApplication`? Also, if it&#39;s not, then how the `@Bean` methods are being called when launching the application?","body":"@DwB, but my main class wasn&#39;t created by Spring when it is annotated as <code>@SpringBootApplication</code>? Also, if it&#39;s not, then how the <code>@Bean</code> methods are being called when launching the application?"},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1686329241,"post_id":76439609,"comment_id":134788827,"body_markdown":"Does this answer your question? [Spring-Boot @Autowired in main class is getting null](https://stackoverflow.com/questions/31399924/spring-boot-autowired-in-main-class-is-getting-null)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31399924/spring-boot-autowired-in-main-class-is-getting-null\">Spring-Boot @Autowired in main class is getting null</a>"},{"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"score":0,"creation_date":1686381959,"post_id":76439609,"comment_id":134793813,"body_markdown":"I believe the issue is related to how you try to bootstrap your Spring Boot app within JFX Application. It isn&#39;t working. Check my answer here [How to bootstrap JavaFX application within Spring Boot application?](https://stackoverflow.com/questions/73462910/how-to-run-spring-boot-javafx-maven-project-with-java-17/75259080#75259080)","body":"I believe the issue is related to how you try to bootstrap your Spring Boot app within JFX Application. It isn&#39;t working. Check my answer here <a href=\"https://stackoverflow.com/questions/73462910/how-to-run-spring-boot-javafx-maven-project-with-java-17/75259080#75259080\">How to bootstrap JavaFX application within Spring Boot application?</a>"}],"answers":[{"tags":[],"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686906265,"creation_date":1686906265,"answer_id":76488615,"question_id":76439609,"body_markdown":"Eventually, I couldn&#39;t find a solution for images but for SpringBootApplication issue found a solution [here][1] and did the following:\r\n\r\n\r\n    package com.client.service.rest;\r\n\r\n    @SpringBootApplication\r\n    public class DataApplication extends Application {\r\n        private static String[] args;\r\n\r\n        @Autowired\r\n        private ClientService client;\r\n\r\n        private ConfigurableApplicationContext context;\r\n\r\n        public static void main(String[] args) {\r\n            DataApplication.args = args;\r\n            Application.launch(DataApplication.class, args);\r\n        }\r\n\r\n        @Override\r\n        public void init() {\r\n            context = SpringApplication.run(getClass(), args);\r\n            context.getAutowireCapableBeanFactory().autowireBean(this);\r\n        }\r\n\r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            Label lblMethod = new Label(&quot;Method&quot;);\r\n            ChoiceBox&lt;String&gt; method = new ChoiceBox&lt;&gt;(FXCollections.observableArrayList(\r\n                Arrays.stream(Endpoint.values()).map(Endpoint :: getName).collect(Collectors.toList())));\r\n\r\n            Label lblInputJson = new Label(&quot;Request (JSON)&quot;);\r\n            TextArea inputJson = new TextArea();\r\n\r\n            Label lblOutputJson = new Label(&quot;Response (JSON)&quot;);\r\n            TextArea outputJson = new TextArea();\r\n\r\n            Button btn = new Button(&quot;Send&quot;);\r\n            btn.setOnAction(event -&gt; {\r\n                Endpoint endpoint =   Endpoint.getByName(method.getSelectionModel().getSelectedItem());\r\n                String inputJsonStr = inputJson.getText();\r\n                String outputJsonStr = &quot;&quot;;\r\n                Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n\r\n                outputJsonStr = gson.toJson(client.getData(gson.fromJson(inputJsonStr, RequestDTO.class)));\r\n                \r\n                outputJson.setText(outputJsonStr);\r\n            });\r\n\r\n            VBox layout= new VBox(5);\r\n\r\n            layout.getChildren().addAll(lblMethod, method, lblInputJson, inputJson, lblOutputJson, outputJson, btn);\r\n\r\n            StackPane root = new StackPane(layout);\r\n            root.setPadding(new Insets(5, 10, 10, 10));\r\n\r\n            primaryStage.setScene(new Scene(root, 800, 600));\r\n            primaryStage.setTitle(&quot;DataHub Client Service&quot;);\r\n        \r\n            primaryStage.show();\r\n        }\r\n\r\n        @Override\r\n        public void stop() throws Exception {\r\n            super.stop();\r\n            context.close();\r\n            System.exit(0);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/ruslanys/sample-spring-boot-javafx/tree/master/src/main/java/ru/habrahabr","title":"Spring Boot @Autowired object is always null","body":"<p>Eventually, I couldn't find a solution for images but for SpringBootApplication issue found a solution <a href=\"https://github.com/ruslanys/sample-spring-boot-javafx/tree/master/src/main/java/ru/habrahabr\" rel=\"nofollow noreferrer\">here</a> and did the following:</p>\n<pre><code>package com.client.service.rest;\n\n@SpringBootApplication\npublic class DataApplication extends Application {\n    private static String[] args;\n\n    @Autowired\n    private ClientService client;\n\n    private ConfigurableApplicationContext context;\n\n    public static void main(String[] args) {\n        DataApplication.args = args;\n        Application.launch(DataApplication.class, args);\n    }\n\n    @Override\n    public void init() {\n        context = SpringApplication.run(getClass(), args);\n        context.getAutowireCapableBeanFactory().autowireBean(this);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        Label lblMethod = new Label(&quot;Method&quot;);\n        ChoiceBox&lt;String&gt; method = new ChoiceBox&lt;&gt;(FXCollections.observableArrayList(\n            Arrays.stream(Endpoint.values()).map(Endpoint :: getName).collect(Collectors.toList())));\n\n        Label lblInputJson = new Label(&quot;Request (JSON)&quot;);\n        TextArea inputJson = new TextArea();\n\n        Label lblOutputJson = new Label(&quot;Response (JSON)&quot;);\n        TextArea outputJson = new TextArea();\n\n        Button btn = new Button(&quot;Send&quot;);\n        btn.setOnAction(event -&gt; {\n            Endpoint endpoint =   Endpoint.getByName(method.getSelectionModel().getSelectedItem());\n            String inputJsonStr = inputJson.getText();\n            String outputJsonStr = &quot;&quot;;\n            Gson gson = new GsonBuilder().setPrettyPrinting().create();\n\n            outputJsonStr = gson.toJson(client.getData(gson.fromJson(inputJsonStr, RequestDTO.class)));\n            \n            outputJson.setText(outputJsonStr);\n        });\n\n        VBox layout= new VBox(5);\n\n        layout.getChildren().addAll(lblMethod, method, lblInputJson, inputJson, lblOutputJson, outputJson, btn);\n\n        StackPane root = new StackPane(layout);\n        root.setPadding(new Insets(5, 10, 10, 10));\n\n        primaryStage.setScene(new Scene(root, 800, 600));\n        primaryStage.setTitle(&quot;DataHub Client Service&quot;);\n    \n        primaryStage.show();\n    }\n\n    @Override\n    public void stop() throws Exception {\n        super.stop();\n        context.close();\n        System.exit(0);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76488615,"answer_count":1,"score":0,"last_activity_date":1686906534,"creation_date":1686308421,"question_id":76439609,"body_markdown":"I have written a very small Spring Boot application in Java8 which should consume a REST web service.\r\n\r\nHere are the main classes:\r\n\r\n**application.properties**\r\n\r\n    api.url=https://rest-api.com\r\n\r\n**DataServiceConfiguration.java**\r\n\r\n    package com.client.service.rest;\r\n\r\n    @Configuration\r\n    public class DataHubServiceConfiguration {\r\n\r\n        public static final String URL_DELIMITER = &quot;/&quot;;\r\n\r\n        @Value(&quot;${api.url}&quot;)\r\n        private String apiUrl;\r\n\r\n        @Bean\r\n        public DataClientService dataClientService() {\r\n            DataClientService clientService = new DataClientService();\r\n            clientService.setApiUrl(apiUrl);\r\n            clientService.setRestTemplate(new RestTemplate());\r\n\r\n            return clientService;\r\n        }\r\n    }\r\n\r\n**ClientService.java**\r\n\r\n    package com.client.service.rest;\r\n\r\n    @Service\r\n    public class ClientService {\r\n\r\n        private String apiUrl;\r\n\r\n        @Autowired\r\n        private final RestTemplate restTemplate;\r\n\r\n        public ResponseDTO getData(RequestDTO request) {\r\n            String url = constructFullEndpoint(Endpoint.GET_DATA);\r\n            ResponseDTO data = restTemplate.getForObject(url, ResponseDTO.class, request);\r\n\r\n            return data;\r\n        }\r\n\r\n        public void setApiUrl(String apiUrl) {\r\n            this.apiUrl = apiUrl;\r\n        }\r\n\r\n        public void setRestTemplate(RestTemplate restTemplate) {\r\n            this.restTemplate = restTemplate;\r\n        }\r\n    \r\n        private String constructFullEndpoint(ApiEndpoint endpoint) {\r\n            return apiUrl + URL_DELIMITER + endpoint.getName();\r\n        }\r\n    }\r\n\r\n**DataApplication.java**\r\n\r\n    package com.client.service.rest;\r\n\r\n    @SpringBootApplication\r\n    public class DataApplication extends Application {\r\n        private static String[] args;\r\n\r\n        @Autowired\r\n        private ClientService client;\r\n\r\n        public static void main(String[] args) {\r\n            DataApplication.args = args;\r\n            Application.launch(DataApplication.class, args);\r\n        }\r\n\r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            Label lblMethod = new Label(&quot;Method&quot;);\r\n            ChoiceBox&lt;String&gt; method = new ChoiceBox&lt;&gt;(FXCollections.observableArrayList(\r\n                Arrays.stream(Endpoint.values()).map(Endpoint :: getName).collect(Collectors.toList())));\r\n\r\n            Label lblInputJson = new Label(&quot;Request (JSON)&quot;);\r\n            TextArea inputJson = new TextArea();\r\n\r\n            Label lblOutputJson = new Label(&quot;Response (JSON)&quot;);\r\n            TextArea outputJson = new TextArea();\r\n\r\n            Button btn = new Button(&quot;Send&quot;);\r\n            btn.setOnAction(event -&gt; {\r\n                Endpoint endpoint =   Endpoint.getByName(method.getSelectionModel().getSelectedItem());\r\n                String inputJsonStr = inputJson.getText();\r\n                String outputJsonStr = &quot;&quot;;\r\n                Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n\r\n                outputJsonStr = gson.toJson(client.getData(gson.fromJson(inputJsonStr, RequestDTO.class)));\r\n                    \r\n                outputJson.setText(outputJsonStr);\r\n            });\r\n\r\n            VBox layout= new VBox(5);\r\n\r\n            layout.getChildren().addAll(lblMethod, method, lblInputJson, inputJson, lblOutputJson, outputJson, btn);\r\n\r\n            StackPane root = new StackPane(layout);\r\n            root.setPadding(new Insets(5, 10, 10, 10));\r\n\r\n            primaryStage.setScene(new Scene(root, 800, 600));\r\n            primaryStage.setTitle(&quot;DataHub Client Service&quot;);\r\n            primaryStage.getIcons().add(new Image(DataApplication.class.getResourceAsStream(&quot;/logo.png&quot;)));\r\n            primaryStage.setOnCloseRequest(e -&gt; {\r\n                Platform.exit();\r\n                System.exit(0);\r\n            });\r\n\r\n            primaryStage.show();\r\n\r\n            new Thread(() -&gt; {\r\n                new SpringApplicationBuilder(DataApplication.class).run(args);\r\n            }, &quot;Spring Thread&quot;).start();\r\n        }\r\n    }\r\n\r\n\r\n**build.gradle fragment**\r\n\r\n    dependencies {\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n        compile(&#39;org.springframework:spring-beans&#39;)\r\n        compile(&#39;org.springframework:spring-context&#39;)\r\n        compileOnly(&#39;org.projectlombok:lombok:1.18.26&#39;)\r\n        implementation(&#39;com.google.code.gson:gson:2.10.1&#39;)\r\n    }\r\n\r\napplication.properties file and logo.png image are located in resources folder.\r\n\r\n**Here are the problems I&#39;m facing with:**\r\n\r\n 1. When the application is run on MacOS the image isn&#39;t shown on the Dock. Even though I tried this solution as well:\r\n\r\n    URL iconURL = getClass().getResource(&quot;puzl_ogo.png&quot;);\r\n    java.awt.Image icon = new ImageIcon(iconURL).getImage();\r\n                                com.apple.eawt.Application.getApplication().setDockIconImage(icon); \r\n\r\nand run the application with `-XDignore.symbol.file`\r\n\r\n 2. The `@Autowired ClientService client;` is null even though during the application start I see that the @Bean method is being called and the objects are being instantiated.\r\n\r\n 3. When I manually instantiate the `client` it&#39;s restTemplate and apiUrl are null which is normal since manually created object is out of scope of Spring managed beans.\r\n\r\n\r\n**So my questions are:**\r\n 1. How to fix the icon issue for the Dock?\r\n 2. What&#39;s the problem with autowired fields and how to fix them?\r\n\r\n","title":"Spring Boot @Autowired object is always null","body":"<p>I have written a very small Spring Boot application in Java8 which should consume a REST web service.</p>\n<p>Here are the main classes:</p>\n<p><strong>application.properties</strong></p>\n<pre><code>api.url=https://rest-api.com\n</code></pre>\n<p><strong>DataServiceConfiguration.java</strong></p>\n<pre><code>package com.client.service.rest;\n\n@Configuration\npublic class DataHubServiceConfiguration {\n\n    public static final String URL_DELIMITER = &quot;/&quot;;\n\n    @Value(&quot;${api.url}&quot;)\n    private String apiUrl;\n\n    @Bean\n    public DataClientService dataClientService() {\n        DataClientService clientService = new DataClientService();\n        clientService.setApiUrl(apiUrl);\n        clientService.setRestTemplate(new RestTemplate());\n\n        return clientService;\n    }\n}\n</code></pre>\n<p><strong>ClientService.java</strong></p>\n<pre><code>package com.client.service.rest;\n\n@Service\npublic class ClientService {\n\n    private String apiUrl;\n\n    @Autowired\n    private final RestTemplate restTemplate;\n\n    public ResponseDTO getData(RequestDTO request) {\n        String url = constructFullEndpoint(Endpoint.GET_DATA);\n        ResponseDTO data = restTemplate.getForObject(url, ResponseDTO.class, request);\n\n        return data;\n    }\n\n    public void setApiUrl(String apiUrl) {\n        this.apiUrl = apiUrl;\n    }\n\n    public void setRestTemplate(RestTemplate restTemplate) {\n        this.restTemplate = restTemplate;\n    }\n\n    private String constructFullEndpoint(ApiEndpoint endpoint) {\n        return apiUrl + URL_DELIMITER + endpoint.getName();\n    }\n}\n</code></pre>\n<p><strong>DataApplication.java</strong></p>\n<pre><code>package com.client.service.rest;\n\n@SpringBootApplication\npublic class DataApplication extends Application {\n    private static String[] args;\n\n    @Autowired\n    private ClientService client;\n\n    public static void main(String[] args) {\n        DataApplication.args = args;\n        Application.launch(DataApplication.class, args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        Label lblMethod = new Label(&quot;Method&quot;);\n        ChoiceBox&lt;String&gt; method = new ChoiceBox&lt;&gt;(FXCollections.observableArrayList(\n            Arrays.stream(Endpoint.values()).map(Endpoint :: getName).collect(Collectors.toList())));\n\n        Label lblInputJson = new Label(&quot;Request (JSON)&quot;);\n        TextArea inputJson = new TextArea();\n\n        Label lblOutputJson = new Label(&quot;Response (JSON)&quot;);\n        TextArea outputJson = new TextArea();\n\n        Button btn = new Button(&quot;Send&quot;);\n        btn.setOnAction(event -&gt; {\n            Endpoint endpoint =   Endpoint.getByName(method.getSelectionModel().getSelectedItem());\n            String inputJsonStr = inputJson.getText();\n            String outputJsonStr = &quot;&quot;;\n            Gson gson = new GsonBuilder().setPrettyPrinting().create();\n\n            outputJsonStr = gson.toJson(client.getData(gson.fromJson(inputJsonStr, RequestDTO.class)));\n                \n            outputJson.setText(outputJsonStr);\n        });\n\n        VBox layout= new VBox(5);\n\n        layout.getChildren().addAll(lblMethod, method, lblInputJson, inputJson, lblOutputJson, outputJson, btn);\n\n        StackPane root = new StackPane(layout);\n        root.setPadding(new Insets(5, 10, 10, 10));\n\n        primaryStage.setScene(new Scene(root, 800, 600));\n        primaryStage.setTitle(&quot;DataHub Client Service&quot;);\n        primaryStage.getIcons().add(new Image(DataApplication.class.getResourceAsStream(&quot;/logo.png&quot;)));\n        primaryStage.setOnCloseRequest(e -&gt; {\n            Platform.exit();\n            System.exit(0);\n        });\n\n        primaryStage.show();\n\n        new Thread(() -&gt; {\n            new SpringApplicationBuilder(DataApplication.class).run(args);\n        }, &quot;Spring Thread&quot;).start();\n    }\n}\n</code></pre>\n<p><strong>build.gradle fragment</strong></p>\n<pre><code>dependencies {\n    compile('org.springframework.boot:spring-boot-starter-web')\n    compile('org.springframework:spring-beans')\n    compile('org.springframework:spring-context')\n    compileOnly('org.projectlombok:lombok:1.18.26')\n    implementation('com.google.code.gson:gson:2.10.1')\n}\n</code></pre>\n<p>application.properties file and logo.png image are located in resources folder.</p>\n<p><strong>Here are the problems I'm facing with:</strong></p>\n<ol>\n<li><p>When the application is run on MacOS the image isn't shown on the Dock. Even though I tried this solution as well:</p>\n<p>URL iconURL = getClass().getResource(&quot;puzl_ogo.png&quot;);\njava.awt.Image icon = new ImageIcon(iconURL).getImage();\ncom.apple.eawt.Application.getApplication().setDockIconImage(icon);</p>\n</li>\n</ol>\n<p>and run the application with <code>-XDignore.symbol.file</code></p>\n<ol start=\"2\">\n<li><p>The <code>@Autowired ClientService client;</code> is null even though during the application start I see that the @Bean method is being called and the objects are being instantiated.</p>\n</li>\n<li><p>When I manually instantiate the <code>client</code> it's restTemplate and apiUrl are null which is normal since manually created object is out of scope of Spring managed beans.</p>\n</li>\n</ol>\n<p><strong>So my questions are:</strong></p>\n<ol>\n<li>How to fix the icon issue for the Dock?</li>\n<li>What's the problem with autowired fields and how to fix them?</li>\n</ol>\n"},{"tags":["java","eclipse","autocomplete","shortcut"],"comments":[{"owner":{"account_id":105131,"reputation":5028,"user_id":280698,"accept_rate":95,"display_name":"F. P."},"score":0,"creation_date":1300486729,"post_id":5358385,"comment_id":6053256,"body_markdown":"http://www.eclipse.org/downloads/packages/eclipse-ide-java-developers/heliossr2 is this what you have? The Java version? Not classic eclipse or some other stuff.","body":"<a href=\"http://www.eclipse.org/downloads/packages/eclipse-ide-java-developers/heliossr2\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages/eclipse-ide-java-developers/&hellip;</a> is this what you have? The Java version? Not classic eclipse or some other stuff."},{"owner":{"account_id":191671,"reputation":1736,"user_id":432378,"accept_rate":92,"display_name":"Eugene Marin"},"score":0,"creation_date":1300486912,"post_id":5358385,"comment_id":6053279,"body_markdown":"Eclipse IDE for Java Developers\n\nVersion: Helios Service Release 2\nBuild id: 20110218-0911","body":"Eclipse IDE for Java Developers  Version: Helios Service Release 2 Build id: 20110218-0911"},{"owner":{"account_id":105131,"reputation":5028,"user_id":280698,"accept_rate":95,"display_name":"F. P."},"score":0,"creation_date":1300487078,"post_id":5358385,"comment_id":6053305,"body_markdown":"Mine also doesn&#39;t autocomplete that particular string. Usually it goes like Sys(auto-complete).out.pr(auto-complete)()","body":"Mine also doesn&#39;t autocomplete that particular string. Usually it goes like Sys(auto-complete).out.pr(auto-complete)()"},{"owner":{"account_id":191671,"reputation":1736,"user_id":432378,"accept_rate":92,"display_name":"Eugene Marin"},"score":0,"creation_date":1300487242,"post_id":5358385,"comment_id":6053321,"body_markdown":"You mean it&#39;s a problem with this Eclipse version? It worked in Galileo and previous...","body":"You mean it&#39;s a problem with this Eclipse version? It worked in Galileo and previous..."},{"owner":{"account_id":17299,"reputation":7078,"user_id":38611,"accept_rate":88,"display_name":"jbasko"},"score":0,"creation_date":1300487422,"post_id":5358385,"comment_id":6053341,"body_markdown":"Have you recently installed any tools that could be catching that keyboard shortcut?","body":"Have you recently installed any tools that could be catching that keyboard shortcut?"},{"owner":{"account_id":191671,"reputation":1736,"user_id":432378,"accept_rate":92,"display_name":"Eugene Marin"},"score":0,"creation_date":1300487596,"post_id":5358385,"comment_id":6053369,"body_markdown":"Autocompletion works. It completes for everything I tried so far, except &quot;syso&quot;.","body":"Autocompletion works. It completes for everything I tried so far, except &quot;syso&quot;."},{"owner":{"account_id":30014,"reputation":20532,"user_id":81520,"accept_rate":84,"display_name":"Peter Perh&#225;č"},"score":0,"creation_date":1300487869,"post_id":5358385,"comment_id":6053413,"body_markdown":"please see my answer, i don&#39;t see why all these invalid comments... this is a good question and has an answer","body":"please see my answer, i don&#39;t see why all these invalid comments... this is a good question and has an answer"}],"answers":[{"comments":[{"owner":{"account_id":191671,"reputation":1736,"user_id":432378,"accept_rate":92,"display_name":"Eugene Marin"},"score":0,"creation_date":1300488856,"post_id":5358447,"comment_id":6053549,"body_markdown":"Thanks. I must say I couldn&#39;t get it to work the way it&#39;s set by default, but I created my own template &quot;syso&quot; with type &quot;Java&quot; which worked. Thanx all :)","body":"Thanks. I must say I couldn&#39;t get it to work the way it&#39;s set by default, but I created my own template &quot;syso&quot; with type &quot;Java&quot; which worked. Thanx all :)"},{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":0,"creation_date":1398667186,"post_id":5358447,"comment_id":35730771,"body_markdown":"Sysout &gt; ctrl + space was giving me print statement until just now. Now, it gives me this choice `private void Sysout() {//TODO Auto-generated method stub}`. Why does this happen ? The template says `System.out.println(${word_selection}${});${cursor}`. What gives ?","body":"Sysout &gt; ctrl + space was giving me print statement until just now. Now, it gives me this choice <code>private void Sysout() {&#47;&#47;TODO Auto-generated method stub}</code>. Why does this happen ? The template says <code>System.out.println(${word_selection}${});${cursor}</code>. What gives ?"},{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":1,"creation_date":1398667358,"post_id":5358447,"comment_id":35730862,"body_markdown":"Damn...got the reason. I was doing Sysout, outside of a code block/method.","body":"Damn...got the reason. I was doing Sysout, outside of a code block/method."}],"tags":[],"owner":{"account_id":30014,"reputation":20532,"user_id":81520,"accept_rate":84,"display_name":"Peter Perh&#225;č"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1300487567,"creation_date":1300487567,"answer_id":5358447,"question_id":5358385,"body_markdown":"I believe the right template is &quot;sysout&quot; and I believe this can be configured somewhere but could not tell you where. Try sysout and then Ctrl+Space\r\nIt&#39;s a template, you can find all templates under \r\n\r\nWindow -&gt; Preferences -&gt; Java -&gt; Editor -&gt; Templates\r\n\r\nThere you can see that the template name is &quot;sysout&quot; this will then trigger the string substitution for System.out.writeln() but you can change both the template name (if you prefer syso) and/or the actual code produced by invoking the template\r\n\r\nCheers","title":"Eclipse autocompletion problem","body":"<p>I believe the right template is \"sysout\" and I believe this can be configured somewhere but could not tell you where. Try sysout and then Ctrl+Space\nIt's a template, you can find all templates under </p>\n\n<p>Window -> Preferences -> Java -> Editor -> Templates</p>\n\n<p>There you can see that the template name is \"sysout\" this will then trigger the string substitution for System.out.writeln() but you can change both the template name (if you prefer syso) and/or the actual code produced by invoking the template</p>\n\n<p>Cheers</p>\n"},{"comments":[{"owner":{"account_id":191671,"reputation":1736,"user_id":432378,"accept_rate":92,"display_name":"Eugene Marin"},"score":0,"creation_date":1300488402,"post_id":5358506,"comment_id":6053487,"body_markdown":"Yep, it&#39;s there. I set it default too, and it&#39;s on. Still doesn&#39;t work (I&#39;m supposed to write sysout and autocomplete? tried that).","body":"Yep, it&#39;s there. I set it default too, and it&#39;s on. Still doesn&#39;t work (I&#39;m supposed to write sysout and autocomplete? tried that)."},{"owner":{"account_id":75829,"reputation":2623,"user_id":217389,"accept_rate":89,"display_name":"Bill"},"score":0,"creation_date":1300488811,"post_id":5358506,"comment_id":6053541,"body_markdown":"One question, one thought.  1. Are other autocompletes working, like &quot;syserr&quot;?  2. Perhaps for some reason, the IDE, doesn&#39;t think you are working with a Java file, Right-click the file, then properties, then look at &quot;Type&quot; to see.","body":"One question, one thought.  1. Are other autocompletes working, like &quot;syserr&quot;?  2. Perhaps for some reason, the IDE, doesn&#39;t think you are working with a Java file, Right-click the file, then properties, then look at &quot;Type&quot; to see."},{"owner":{"account_id":242679,"reputation":717,"user_id":514350,"accept_rate":67,"display_name":"PraveenMax"},"score":0,"creation_date":1316848158,"post_id":5358506,"comment_id":9132529,"body_markdown":"You have to enable &quot;Template proposals&quot; for java code related auto-completion.Refer my answer below.","body":"You have to enable &quot;Template proposals&quot; for java code related auto-completion.Refer my answer below."}],"tags":[],"owner":{"account_id":75829,"reputation":2623,"user_id":217389,"accept_rate":89,"display_name":"Bill"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1300488079,"creation_date":1300488079,"answer_id":5358506,"question_id":5358385,"body_markdown":"As Peter stated, it is under Window -&gt; Java -&gt; editor -&gt; templates. \nLook for the line with the following values.\n\n**sysout** &quot;Java Statements&quot; &quot;Print to standard out&quot; &quot;on&quot;\n\n  the preview should be as follows...\n\n    System.out.println(${word_selection}${});${cursor}\n\n","title":"Eclipse autocompletion problem","body":"<p>As Peter stated, it is under Window -&gt; Java -&gt; editor -&gt; templates.\nLook for the line with the following values.</p>\n<p><strong>sysout</strong> &quot;Java Statements&quot; &quot;Print to standard out&quot; &quot;on&quot;</p>\n<p>the preview should be as follows...</p>\n<pre><code>System.out.println(${word_selection}${});${cursor}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":242679,"reputation":717,"user_id":514350,"accept_rate":67,"display_name":"PraveenMax"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1316848070,"creation_date":1316848070,"answer_id":7537608,"question_id":5358385,"body_markdown":"If you still cant get auto-completion working,try enabling the **Template proposals** under **Content assist** menu.This is the exact location,\r\n\r\n    Windows-&gt;Preferences-&gt;Java-&gt;Editor-&gt;Content Assist-&gt;Advanced\r\nAnd make sure you have only one entry for **syso**(Under **Templates** menu).\r\n","title":"Eclipse autocompletion problem","body":"<p>If you still cant get auto-completion working,try enabling the <strong>Template proposals</strong> under <strong>Content assist</strong> menu.This is the exact location,</p>\n\n<pre><code>Windows-&gt;Preferences-&gt;Java-&gt;Editor-&gt;Content Assist-&gt;Advanced\n</code></pre>\n\n<p>And make sure you have only one entry for <strong>syso</strong>(Under <strong>Templates</strong> menu).</p>\n"},{"comments":[{"owner":{"account_id":191671,"reputation":1736,"user_id":432378,"accept_rate":92,"display_name":"Eugene Marin"},"score":0,"creation_date":1332094034,"post_id":9744325,"comment_id":12419357,"body_markdown":"Hi mwengler,\nlike I said here: http://stackoverflow.com/questions/5358767/eclipse-helios-auto-completion-templates-bug\nI type it right. I also said that if I type it manually it compiles and works, only the autocomplete doesn&#39;t work. It seems to be a very rare bug since people just don&#39;t believe me :) and it happenes in only one class I&#39;ve seen so far, but I&#39;ll say again: I type legal code in a legal place, I&#39;m not new to programming in Java.","body":"Hi mwengler, like I said here: <a href=\"http://stackoverflow.com/questions/5358767/eclipse-helios-auto-completion-templates-bug\" title=\"eclipse helios auto completion templates bug\">stackoverflow.com/questions/5358767/&hellip;</a> I type it right. I also said that if I type it manually it compiles and works, only the autocomplete doesn&#39;t work. It seems to be a very rare bug since people just don&#39;t believe me :) and it happenes in only one class I&#39;ve seen so far, but I&#39;ll say again: I type legal code in a legal place, I&#39;m not new to programming in Java."},{"owner":{"account_id":191671,"reputation":1736,"user_id":432378,"accept_rate":92,"display_name":"Eugene Marin"},"score":0,"creation_date":1332094307,"post_id":9744325,"comment_id":12419428,"body_markdown":"Note that it&#39;s not always &#39;syso&#39;, many other auto-comp don&#39;t work in certain methods. The only thing special about this class is the code &quot;depth&quot; - It has inner classes, in which I have implemented methods that open threads getting runnables implementing run() etc etc... But I&#39;d like to say that in the first 100 lines everything works fine, it&#39;s the lower lines where I had to write everything manually.","body":"Note that it&#39;s not always &#39;syso&#39;, many other auto-comp don&#39;t work in certain methods. The only thing special about this class is the code &quot;depth&quot; - It has inner classes, in which I have implemented methods that open threads getting runnables implementing run() etc etc... But I&#39;d like to say that in the first 100 lines everything works fine, it&#39;s the lower lines where I had to write everything manually."},{"owner":{"account_id":191671,"reputation":1736,"user_id":432378,"accept_rate":92,"display_name":"Eugene Marin"},"score":0,"creation_date":1332096067,"post_id":9744325,"comment_id":12419853,"body_markdown":"I added the class in my answer. Not the best design but that&#39;s what I did then. For instance, where I print &quot;file loaded&quot; or &quot;loading backup&quot; it didn&#39;t complete syso, but as you can see it&#39;s correct.","body":"I added the class in my answer. Not the best design but that&#39;s what I did then. For instance, where I print &quot;file loaded&quot; or &quot;loading backup&quot; it didn&#39;t complete syso, but as you can see it&#39;s correct."}],"tags":[],"owner":{"account_id":447918,"reputation":2768,"user_id":841828,"accept_rate":54,"display_name":"mwengler"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331930868,"creation_date":1331930868,"answer_id":9744325,"question_id":5358385,"body_markdown":"Your cursor needs to be located in a place where it would be legal to get that line.  If your cursor is within a method definition and you type syso &lt;ctl-space&gt; you will get the replacement.  However if your cursor is in the portion of the text outside of any method definition, say where you declare variables for your class for instance, then syso will not suggest the illegal line system.output.println();.  \r\n\r\nI had this problem, read all the answers here, became convinced that it MUST be working in my copy, and realized I had been typing syso BELOW the closing } of my last method instead of in the method.  \r\n\r\nEclipse on!","title":"Eclipse autocompletion problem","body":"<p>Your cursor needs to be located in a place where it would be legal to get that line.  If your cursor is within a method definition and you type syso  you will get the replacement.  However if your cursor is in the portion of the text outside of any method definition, say where you declare variables for your class for instance, then syso will not suggest the illegal line system.output.println();.  </p>\n\n<p>I had this problem, read all the answers here, became convinced that it MUST be working in my copy, and realized I had been typing syso BELOW the closing } of my last method instead of in the method.  </p>\n\n<p>Eclipse on!</p>\n"},{"tags":[],"owner":{"account_id":1609830,"reputation":1,"user_id":1489167,"display_name":"Imran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350693990,"creation_date":1340899713,"answer_id":11248646,"question_id":5358385,"body_markdown":"Also check in this eclipse menu:\r\nWindows -&gt; Preferences -&gt; Java -&gt; Appearance -&gt; Type Filters\r\n\r\nIf you see `java.*` or `javax.*` here then try removing it (or Restore Default will do the job) and see that works, it did for me.","title":"Eclipse autocompletion problem","body":"<p>Also check in this eclipse menu:\nWindows -> Preferences -> Java -> Appearance -> Type Filters</p>\n\n<p>If you see <code>java.*</code> or <code>javax.*</code> here then try removing it (or Restore Default will do the job) and see that works, it did for me.</p>\n"},{"tags":[],"owner":{"account_id":2265360,"reputation":436,"user_id":1994206,"display_name":"cfh008"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358667870,"creation_date":1358666297,"answer_id":14422502,"question_id":5358385,"body_markdown":"You may try to set the shortcut of Content Assist with ALT+L, if it works, then you can choose your favorite shortcut again. (The shortcut Ctrl+Space conflicts with the shortcut of switching input method). In eclipse on linux, the shortcut of Word Completion is ALT+/, so if you set this as the shortcut of Content Assist it also conflicts.)","title":"Eclipse autocompletion problem","body":"<p>You may try to set the shortcut of Content Assist with ALT+L, if it works, then you can choose your favorite shortcut again. (The shortcut Ctrl+Space conflicts with the shortcut of switching input method). In eclipse on linux, the shortcut of Word Completion is ALT+/, so if you set this as the shortcut of Content Assist it also conflicts.)</p>\n"},{"tags":[],"owner":{"account_id":1596102,"reputation":233,"user_id":1478187,"accept_rate":0,"display_name":"Mayank Nema"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405665459,"creation_date":1405665459,"answer_id":24818636,"question_id":5358385,"body_markdown":"Just go to the below address:\r\n\r\nWindows-&gt;Preferences-&gt;Java-&gt;Editor-&gt;Content Assist-&gt;Advanced\r\n\r\nand click restore default..........that&#39;s all \r\n\r\nits work like a charm again.","title":"Eclipse autocompletion problem","body":"<p>Just go to the below address:</p>\n\n<p>Windows->Preferences->Java->Editor->Content Assist->Advanced</p>\n\n<p>and click restore default..........that's all </p>\n\n<p>its work like a charm again.</p>\n"},{"tags":[],"owner":{"account_id":4979049,"reputation":251,"user_id":4004588,"display_name":"Georgi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410446462,"creation_date":1410446462,"answer_id":25790415,"question_id":5358385,"body_markdown":"Just found the solution for Eclipse Luna: write syso and press CTRL+Space and click on &quot;enable intelligent code completion&quot; and you are set.\r\nI am sure you can find it somewhere in the options as well but this way it is fast and easy!","title":"Eclipse autocompletion problem","body":"<p>Just found the solution for Eclipse Luna: write syso and press CTRL+Space and click on \"enable intelligent code completion\" and you are set.\nI am sure you can find it somewhere in the options as well but this way it is fast and easy!</p>\n"},{"tags":[],"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418090889,"creation_date":1418090889,"answer_id":27370345,"question_id":5358385,"body_markdown":"DIRTY WORKAROUND:\r\nYou can try out the following AutoHotkey-Code if you&#39;re still struggling like I am (STILL haven&#39;t been able to fix it myself)\r\n\r\n    #persistent\r\n    #ifwinactive ahk_class SWT_Window0\t; eclipse java\r\n    :*:syso::\r\n    sendraw System.out.println()`;\r\n    loop, 2\r\n    \tsend {left}\r\n    return\r\n    #ifwinactive\r\n\r\nYou need to write this in a .ahk file and run it (AutoHotkey needs to be installed). You might wanna put this file into your startup folder. It&#39;s a very useful tool, you might wanna expand it one day.","title":"Eclipse autocompletion problem","body":"<p>DIRTY WORKAROUND:\nYou can try out the following AutoHotkey-Code if you're still struggling like I am (STILL haven't been able to fix it myself)</p>\n\n<pre><code>#persistent\n#ifwinactive ahk_class SWT_Window0  ; eclipse java\n:*:syso::\nsendraw System.out.println()`;\nloop, 2\n    send {left}\nreturn\n#ifwinactive\n</code></pre>\n\n<p>You need to write this in a .ahk file and run it (AutoHotkey needs to be installed). You might wanna put this file into your startup folder. It's a very useful tool, you might wanna expand it one day.</p>\n"},{"tags":[],"owner":{"account_id":5394351,"reputation":1,"user_id":4344591,"display_name":"&#214;mer Sadık Ayta&#231;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418307997,"creation_date":1418307619,"answer_id":27425041,"question_id":5358385,"body_markdown":"You might have overlapping shortcuts..  Goto &#39;Overview&#39; than the &#39;Keys&#39; subsection. Type &quot;ctrl +space&quot; in the &#39;filter text&#39; section.  You should see the &quot;content assist&quot; and probably another command with the same shortcut.  If another shortcut does exists, change its shortcut to something else.","title":"Eclipse autocompletion problem","body":"<p>You might have overlapping shortcuts..  Goto 'Overview' than the 'Keys' subsection. Type \"ctrl +space\" in the 'filter text' section.  You should see the \"content assist\" and probably another command with the same shortcut.  If another shortcut does exists, change its shortcut to something else.</p>\n"},{"tags":[],"owner":{"account_id":2546543,"reputation":41,"user_id":2211240,"display_name":"Binay Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1437894676,"creation_date":1437894676,"answer_id":31634584,"question_id":5358385,"body_markdown":"I am using Eclipse Galileo and had the same problem. Even after trying the above proposed solutions but it didn&#39;t work. After making the below change it finally comes out.\r\n\r\n1. Go to  Windows-&gt;Preferences-&gt;Java-&gt;Editor-&gt;Templates\r\n2. Select sysout template and edit it.\r\n3. Change the context from Java statement to Java.\r\n\r\nAnd it worked for me. I hope this will be helpful for you. ","title":"Eclipse autocompletion problem","body":"<p>I am using Eclipse Galileo and had the same problem. Even after trying the above proposed solutions but it didn't work. After making the below change it finally comes out.</p>\n\n<ol>\n<li>Go to  Windows->Preferences->Java->Editor->Templates</li>\n<li>Select sysout template and edit it.</li>\n<li>Change the context from Java statement to Java.</li>\n</ol>\n\n<p>And it worked for me. I hope this will be helpful for you. </p>\n"},{"tags":[],"owner":{"account_id":28832952,"reputation":1,"user_id":22082978,"display_name":"Ronald Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686906521,"creation_date":1686906521,"answer_id":76488644,"question_id":5358385,"body_markdown":"Go to Windows &gt; Preferences &gt; Java &gt; Editor &gt; Templates &gt; \r\n\r\nScroll down to **sysout** in the Name column\r\n To change the shortcut to syso click on the name and change sysout to syso manually\r\n\r\nScroll down to **sysout** in Context column \r\n To make the shortcut active change the Context for sysout to Java.\r\n\r\nYour welcome :) ","title":"Eclipse autocompletion problem","body":"<p>Go to Windows &gt; Preferences &gt; Java &gt; Editor &gt; Templates &gt;</p>\n<p>Scroll down to <strong>sysout</strong> in the Name column\nTo change the shortcut to syso click on the name and change sysout to syso manually</p>\n<p>Scroll down to <strong>sysout</strong> in Context column\nTo make the shortcut active change the Context for sysout to Java.</p>\n<p>Your welcome :)</p>\n"}],"owner":{"account_id":191671,"reputation":1736,"user_id":432378,"accept_rate":92,"display_name":"Eugene Marin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42314,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"answer_count":12,"score":15,"last_activity_date":1686906521,"creation_date":1300486662,"question_id":5358385,"body_markdown":"Just installed Eclipse Helios (Win7 64) and I&#39;m having a strange problem. I type syso-Ctrl-Space which is expected to complete to System.out.println(&quot;&quot;) but it doesn&#39;t work! I searched the web for about an hour now, I set Preferences &gt; Java &gt; Editor &gt; Content Assist to defaults, nothing. Everything else seems to work. Ideas?\r\n&lt;br&gt;\r\nTo be clear: the shortcut works, it completes everything except &quot;syso&quot; as seen so far, on syso (also tried sysout) it says &quot;No Default Proposals&quot;. I couldn&#39;t find this kind of shortcuts in the Content Assist, but I set them to default anyway.","title":"Eclipse autocompletion problem","body":"<p>Just installed Eclipse Helios (Win7 64) and I'm having a strange problem. I type syso-Ctrl-Space which is expected to complete to System.out.println(\"\") but it doesn't work! I searched the web for about an hour now, I set Preferences > Java > Editor > Content Assist to defaults, nothing. Everything else seems to work. Ideas?\n<br>\nTo be clear: the shortcut works, it completes everything except \"syso\" as seen so far, on syso (also tried sysout) it says \"No Default Proposals\". I couldn't find this kind of shortcuts in the Content Assist, but I set them to default anyway.</p>\n"},{"tags":["java","selenium-webdriver","xpath"],"comments":[{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1686759710,"post_id":76474999,"comment_id":134844418,"body_markdown":"I am not sure what you want to achieve but any attempt like `//ELEMENT[@elementId&gt;0]/text()/GROUPS` doesn&#39;t make sense, text nodes (selected with `text()`) are always leaf nodes so they never have any child nodes like `text()/GROUPS` tries to select.","body":"I am not sure what you want to achieve but any attempt like <code>&#47;&#47;ELEMENT[@elementId&gt;0]&#47;text()&#47;GROUPS</code> doesn&#39;t make sense, text nodes (selected with <code>text()</code>) are always leaf nodes so they never have any child nodes like <code>text()&#47;GROUPS</code> tries to select."},{"owner":{"account_id":7564567,"reputation":1681,"user_id":5740712,"accept_rate":69,"display_name":"VitalyT"},"score":0,"creation_date":1686759956,"post_id":76474999,"comment_id":134844467,"body_markdown":"thanks @Martin Honnen, I know the syntax not correct. Im trying to get  for example in elementId=&quot;8&quot; , the actual number 8 and all ids under GROUPS means id=&quot;1&quot; and 16&quot;.  Also for all other elements(create kind of map) it can be done later by code","body":"thanks @Martin Honnen, I know the syntax not correct. Im trying to get  for example in elementId=&quot;8&quot; , the actual number 8 and all ids under GROUPS means id=&quot;1&quot; and 16&quot;.  Also for all other elements(create kind of map) it can be done later by code"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1686760998,"post_id":76474999,"comment_id":134844687,"body_markdown":"Are you open to using other libraries such as Jsoup?","body":"Are you open to using other libraries such as Jsoup?"},{"owner":{"account_id":7564567,"reputation":1681,"user_id":5740712,"accept_rate":69,"display_name":"VitalyT"},"score":0,"creation_date":1686767533,"post_id":76474999,"comment_id":134845959,"body_markdown":"no , only org.apache.xpath.CachedXPathAPI","body":"no , only org.apache.xpath.CachedXPathAPI"},{"owner":{"account_id":7564567,"reputation":1681,"user_id":5740712,"accept_rate":69,"display_name":"VitalyT"},"score":0,"creation_date":1686767948,"post_id":76474999,"comment_id":134846025,"body_markdown":"and also groovy.util.XmlParser. example: new XmlParser().parseText(doc)","body":"and also groovy.util.XmlParser. example: new XmlParser().parseText(doc)"}],"answers":[{"tags":[],"owner":{"account_id":1351195,"reputation":28599,"user_id":1305969,"display_name":"zx485"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686760754,"creation_date":1686760754,"answer_id":76475792,"question_id":76474999,"body_markdown":"The solution you are looking for requires XPath 2.0 functionality.  \r\nIf you really want to realize this in one XPath 2.0 expression, the solution is\r\n\r\n    string-join(for $item in /ITEM/ELEMENT[@elementId&gt;0] return concat(&#39;{&amp;quot;&#39;,$item/@elementId,&#39;&amp;quot; : [&#39;, string-join(for $grp in $item/GROUPS/GROUP return $grp/@id,&#39;, &#39;),&#39;]}&#39;),&#39;&amp;#xa;&#39;)\r\n\r\nAnd its output is\r\n\r\n    {&quot;4&quot; : []}\r\n    {&quot;7&quot; : [0, 1, 5]}\r\n    {&quot;8&quot; : [1, 16]}\r\n\r\nWith XPath version 1.0 (supported by Java) you&#39;d have to split that expression into several sub-queries/loops.","title":"How parse dynamic element attribute and their values in XML using XPATH","body":"<p>The solution you are looking for requires XPath 2.0 functionality.<br />\nIf you really want to realize this in one XPath 2.0 expression, the solution is</p>\n<pre><code>string-join(for $item in /ITEM/ELEMENT[@elementId&gt;0] return concat('{&amp;quot;',$item/@elementId,'&amp;quot; : [', string-join(for $grp in $item/GROUPS/GROUP return $grp/@id,', '),']}'),'&amp;#xa;')\n</code></pre>\n<p>And its output is</p>\n<pre><code>{&quot;4&quot; : []}\n{&quot;7&quot; : [0, 1, 5]}\n{&quot;8&quot; : [1, 16]}\n</code></pre>\n<p>With XPath version 1.0 (supported by Java) you'd have to split that expression into several sub-queries/loops.</p>\n"},{"comments":[{"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"score":0,"creation_date":1686810115,"post_id":76478700,"comment_id":134850896,"body_markdown":"But maybe you want a query which returns an actual mapping, e.g. as a JSON object? It&#39;s not clear. Note that the Apache API you are using supports XPath 1 in which there is no &quot;array&quot; data type, and no &quot;map&quot; data type. To return a map you would need to upgrade to an XPath 3.1 interpreter.","body":"But maybe you want a query which returns an actual mapping, e.g. as a JSON object? It&#39;s not clear. Note that the Apache API you are using supports XPath 1 in which there is no &quot;array&quot; data type, and no &quot;map&quot; data type. To return a map you would need to upgrade to an XPath 3.1 interpreter."}],"tags":[],"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686875040,"creation_date":1686796286,"answer_id":76478700,"question_id":76474999,"body_markdown":"I assume when you talk about &quot;mapping&quot; that you have a particular element identifier in mind and you want to query the document and retrieve the identifiers of groups that corresponding to the element. \r\n\r\nIn this example I&#39;m querying for the identifiers of groups belonging to element 7.\r\n```xpath\r\n//ELEMENT[@elementId=&#39;7&#39;]/GROUPS/GROUP/@id\r\n```\r\nThis means:\r\n\r\nCreate the set of every `ELEMENT` in the document, filter the set to include only those nodes which have an `elementId` attribute equal to `7`, then find the `GROUPS` child elements of that set of `ELEMENT` nodes, the `GROUP` child elements of those `GROUPS` elements, and finally the `id` attributes of those `GROUP` elements.","title":"How parse dynamic element attribute and their values in XML using XPATH","body":"<p>I assume when you talk about &quot;mapping&quot; that you have a particular element identifier in mind and you want to query the document and retrieve the identifiers of groups that corresponding to the element.</p>\n<p>In this example I'm querying for the identifiers of groups belonging to element 7.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>//ELEMENT[@elementId='7']/GROUPS/GROUP/@id\n</code></pre>\n<p>This means:</p>\n<p>Create the set of every <code>ELEMENT</code> in the document, filter the set to include only those nodes which have an <code>elementId</code> attribute equal to <code>7</code>, then find the <code>GROUPS</code> child elements of that set of <code>ELEMENT</code> nodes, the <code>GROUP</code> child elements of those <code>GROUPS</code> elements, and finally the <code>id</code> attributes of those <code>GROUP</code> elements.</p>\n"},{"tags":[],"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686906454,"creation_date":1686906454,"answer_id":76488635,"question_id":76474999,"body_markdown":"If you can switch from the Apache library to the Saxon library which supports XPath 3.1, you can define and execute an XPath whose return value is a map, containing keys which are the `ELEMENT` identifiers, and whose corresponding values are arrays of `GROUP` identifiers:\r\n\r\n```xpath\r\nmap:merge(\r\n   //ELEMENT/map:entry(\r\n      @elementId/string(), \r\n      array{GROUPS/GROUP/@id/string()}\r\n   )\r\n)\r\n```\r\nRead the above expression as:\r\nFor every `ELEMENT` in the document, call the `map:entry` function to create a map with a single key equal to the string value of the `ELEMENT`&#39;s `elementId` attribute, and a value equal to an array containing the string values of the `ELEMENT`&#39;s `GROUPS/GROUP/@id` attributes, and then merge these maps into a single map.\r\n\r\nThis data structure will be returned to you back in Java-land as a Java `Map` whose keys are `String` objects and whose values are arrays of `String` objects. i.e.\r\n\r\n```\r\n{\r\n  &quot;4&quot;: [],\r\n  &quot;7&quot;: [\r\n    &quot;0&quot;,\r\n    &quot;1&quot;,\r\n    &quot;5&quot;\r\n  ],\r\n  &quot;8&quot;: [\r\n    &quot;1&quot;,\r\n    &quot;16&quot;\r\n  ]\r\n}\r\n```\r\nHere&#39;s a [demo][1] in the form of an XSLT fiddle\r\n\r\n\r\n  [1]: https://martin-honnen.github.io/xpath31fiddle/?xpath=map%3Amerge%28%2F%2FELEMENT%2Fmap%3Aentry%28%40elementId%2Fstring%28%29%2C%20array%7BGROUPS%2FGROUP%2F%40id%2Fstring%28%29%7D%29%29&amp;input=%3CITEM%20type%3D%22DTD%22%20sub_type%3D%22T_AAAAAA%22%3E%0A%20%20%3CELEMENT%20elementId%3D%224%22%20print%3D%22no%22%20mail%3D%22no%22%20tabSortIndex%3D%220%22%3E%0A%20%20%20%20%3CADD_TO_HOME_PAGE_2%3E%0A%20%20%20%20%20%20%3CPARAM%20name%3D%22name%22%20value%3D%22ADD_TO_HOMEPAGE_2_TEXT%22%20%2F%3E%0A%20%20%20%20%3C%2FADD_TO_HOME_PAGE_2%3E%0A%20%20%3C%2FELEMENT%3E%0A%20%20%3CELEMENT%20tabId%3D%221%22%20elementId%3D%227%22%3E%0A%20%20%20%20%3CEDITOR_FIELD%3E%0A%20%20%20%20%20%20%3CPARAM%20name%3D%22name%22%20value%3D%22E_E1%22%20%2F%3E%0A%20%20%20%20%3C%2FEDITOR_FIELD%3E%0A%20%20%20%20%3CGROUPS%20mode%3D%22whitelist%22%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%220%22%20%2F%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%221%22%20%2F%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%225%22%20%2F%3E%0A%20%20%20%20%3C%2FGROUPS%3E%0A%20%20%3C%2FELEMENT%3E%0A%20%20%3CELEMENT%20elementId%3D%228%22%20tabId%3D%221%22%20mail%3D%22no%22%3E%0A%20%20%20%20%3CPHONE%3E%0A%20%20%20%20%20%20%3CPARAM%20name%3D%22name%22%20value%3D%22E_F1%22%20%2F%3E%0A%20%20%20%20%20%20%3CPARAM%20name%3D%22display_as_link%22%20value%3D%22no%22%20%2F%3E%0A%20%20%20%20%3C%2FPHONE%3E%0A%20%20%20%20%3CGROUPS%20mode%3D%22whitelist%22%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%221%22%20%2F%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%2216%22%20%2F%3E%0A%20%20%20%20%3C%2FGROUPS%3E%0A%20%20%3C%2FELEMENT%3E%0A%3C%2FITEM%3E%0A&amp;input-type=XML","title":"How parse dynamic element attribute and their values in XML using XPATH","body":"<p>If you can switch from the Apache library to the Saxon library which supports XPath 3.1, you can define and execute an XPath whose return value is a map, containing keys which are the <code>ELEMENT</code> identifiers, and whose corresponding values are arrays of <code>GROUP</code> identifiers:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>map:merge(\n   //ELEMENT/map:entry(\n      @elementId/string(), \n      array{GROUPS/GROUP/@id/string()}\n   )\n)\n</code></pre>\n<p>Read the above expression as:\nFor every <code>ELEMENT</code> in the document, call the <code>map:entry</code> function to create a map with a single key equal to the string value of the <code>ELEMENT</code>'s <code>elementId</code> attribute, and a value equal to an array containing the string values of the <code>ELEMENT</code>'s <code>GROUPS/GROUP/@id</code> attributes, and then merge these maps into a single map.</p>\n<p>This data structure will be returned to you back in Java-land as a Java <code>Map</code> whose keys are <code>String</code> objects and whose values are arrays of <code>String</code> objects. i.e.</p>\n<pre><code>{\n  &quot;4&quot;: [],\n  &quot;7&quot;: [\n    &quot;0&quot;,\n    &quot;1&quot;,\n    &quot;5&quot;\n  ],\n  &quot;8&quot;: [\n    &quot;1&quot;,\n    &quot;16&quot;\n  ]\n}\n</code></pre>\n<p>Here's a <a href=\"https://martin-honnen.github.io/xpath31fiddle/?xpath=map%3Amerge%28%2F%2FELEMENT%2Fmap%3Aentry%28%40elementId%2Fstring%28%29%2C%20array%7BGROUPS%2FGROUP%2F%40id%2Fstring%28%29%7D%29%29&amp;input=%3CITEM%20type%3D%22DTD%22%20sub_type%3D%22T_AAAAAA%22%3E%0A%20%20%3CELEMENT%20elementId%3D%224%22%20print%3D%22no%22%20mail%3D%22no%22%20tabSortIndex%3D%220%22%3E%0A%20%20%20%20%3CADD_TO_HOME_PAGE_2%3E%0A%20%20%20%20%20%20%3CPARAM%20name%3D%22name%22%20value%3D%22ADD_TO_HOMEPAGE_2_TEXT%22%20%2F%3E%0A%20%20%20%20%3C%2FADD_TO_HOME_PAGE_2%3E%0A%20%20%3C%2FELEMENT%3E%0A%20%20%3CELEMENT%20tabId%3D%221%22%20elementId%3D%227%22%3E%0A%20%20%20%20%3CEDITOR_FIELD%3E%0A%20%20%20%20%20%20%3CPARAM%20name%3D%22name%22%20value%3D%22E_E1%22%20%2F%3E%0A%20%20%20%20%3C%2FEDITOR_FIELD%3E%0A%20%20%20%20%3CGROUPS%20mode%3D%22whitelist%22%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%220%22%20%2F%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%221%22%20%2F%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%225%22%20%2F%3E%0A%20%20%20%20%3C%2FGROUPS%3E%0A%20%20%3C%2FELEMENT%3E%0A%20%20%3CELEMENT%20elementId%3D%228%22%20tabId%3D%221%22%20mail%3D%22no%22%3E%0A%20%20%20%20%3CPHONE%3E%0A%20%20%20%20%20%20%3CPARAM%20name%3D%22name%22%20value%3D%22E_F1%22%20%2F%3E%0A%20%20%20%20%20%20%3CPARAM%20name%3D%22display_as_link%22%20value%3D%22no%22%20%2F%3E%0A%20%20%20%20%3C%2FPHONE%3E%0A%20%20%20%20%3CGROUPS%20mode%3D%22whitelist%22%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%221%22%20%2F%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%2216%22%20%2F%3E%0A%20%20%20%20%3C%2FGROUPS%3E%0A%20%20%3C%2FELEMENT%3E%0A%3C%2FITEM%3E%0A&amp;input-type=XML\" rel=\"nofollow noreferrer\">demo</a> in the form of an XSLT fiddle</p>\n"}],"owner":{"account_id":7564567,"reputation":1681,"user_id":5740712,"accept_rate":69,"display_name":"VitalyT"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1686906454,"creation_date":1686755207,"question_id":76474999,"body_markdown":"Trying to parse XML with xpath and create map between ELEMENT elementId id and their group id list as in the picture below\r\n\r\n\r\n    &lt;ITEM type=&quot;DTD&quot; sub_type=&quot;T_AAAAAA&quot;&gt;\r\n      &lt;ELEMENT elementId=&quot;4&quot; print=&quot;no&quot; mail=&quot;no&quot; tabSortIndex=&quot;0&quot;&gt;\r\n        &lt;ADD_TO_HOME_PAGE_2&gt;\r\n          &lt;PARAM name=&quot;name&quot; value=&quot;ADD_TO_HOMEPAGE_2_TEXT&quot; /&gt;\r\n        &lt;/ADD_TO_HOME_PAGE_2&gt;\r\n      &lt;/ELEMENT&gt;\r\n      &lt;ELEMENT tabId=&quot;1&quot; elementId=&quot;7&quot;&gt;\r\n        &lt;EDITOR_FIELD&gt;\r\n          &lt;PARAM name=&quot;name&quot; value=&quot;E_E1&quot; /&gt;\r\n        &lt;/EDITOR_FIELD&gt;\r\n        &lt;GROUPS mode=&quot;whitelist&quot;&gt;\r\n          &lt;GROUP id=&quot;0&quot; /&gt;\r\n          &lt;GROUP id=&quot;1&quot; /&gt;\r\n          &lt;GROUP id=&quot;5&quot; /&gt;\r\n        &lt;/GROUPS&gt;\r\n      &lt;/ELEMENT&gt;\r\n      &lt;ELEMENT elementId=&quot;8&quot; tabId=&quot;1&quot; mail=&quot;no&quot;&gt;\r\n        &lt;PHONE&gt;\r\n          &lt;PARAM name=&quot;name&quot; value=&quot;E_F1&quot; /&gt;\r\n          &lt;PARAM name=&quot;display_as_link&quot; value=&quot;no&quot; /&gt;\r\n        &lt;/PHONE&gt;\r\n        &lt;GROUPS mode=&quot;whitelist&quot;&gt;\r\n          &lt;GROUP id=&quot;1&quot; /&gt;\r\n          &lt;GROUP id=&quot;16&quot; /&gt;\r\n        &lt;/GROUPS&gt;\r\n      &lt;/ELEMENT&gt;\r\n    &lt;/ITEM&gt;\r\n\r\n\r\nThe element id is dynamic and changed I&#39;ve tried this \r\n\r\n     &quot;//ELEMENT[@elementId&gt;0]/text()/GROUPS/GROUP[@id]/text()&quot;\r\n\r\n\r\nbut it gives me null\r\n\r\nBasically I want to map between `[@elementId&gt;0]` to array of `/GROUPS/GROUP[@id]`\r\n\r\n\r\nexample for output\r\n\r\n for element 7 =&gt; `{&quot;7&quot; : [0,1,2,5]}`\r\n\r\n for element 8 =&gt; `{&quot;8&quot; : [1,16]}`\r\n\r\nP.S - I use `org.apache.xpath.CachedXPathAPI` library in JAVA \r\n","title":"How parse dynamic element attribute and their values in XML using XPATH","body":"<p>Trying to parse XML with xpath and create map between ELEMENT elementId id and their group id list as in the picture below</p>\n<pre><code>&lt;ITEM type=&quot;DTD&quot; sub_type=&quot;T_AAAAAA&quot;&gt;\n  &lt;ELEMENT elementId=&quot;4&quot; print=&quot;no&quot; mail=&quot;no&quot; tabSortIndex=&quot;0&quot;&gt;\n    &lt;ADD_TO_HOME_PAGE_2&gt;\n      &lt;PARAM name=&quot;name&quot; value=&quot;ADD_TO_HOMEPAGE_2_TEXT&quot; /&gt;\n    &lt;/ADD_TO_HOME_PAGE_2&gt;\n  &lt;/ELEMENT&gt;\n  &lt;ELEMENT tabId=&quot;1&quot; elementId=&quot;7&quot;&gt;\n    &lt;EDITOR_FIELD&gt;\n      &lt;PARAM name=&quot;name&quot; value=&quot;E_E1&quot; /&gt;\n    &lt;/EDITOR_FIELD&gt;\n    &lt;GROUPS mode=&quot;whitelist&quot;&gt;\n      &lt;GROUP id=&quot;0&quot; /&gt;\n      &lt;GROUP id=&quot;1&quot; /&gt;\n      &lt;GROUP id=&quot;5&quot; /&gt;\n    &lt;/GROUPS&gt;\n  &lt;/ELEMENT&gt;\n  &lt;ELEMENT elementId=&quot;8&quot; tabId=&quot;1&quot; mail=&quot;no&quot;&gt;\n    &lt;PHONE&gt;\n      &lt;PARAM name=&quot;name&quot; value=&quot;E_F1&quot; /&gt;\n      &lt;PARAM name=&quot;display_as_link&quot; value=&quot;no&quot; /&gt;\n    &lt;/PHONE&gt;\n    &lt;GROUPS mode=&quot;whitelist&quot;&gt;\n      &lt;GROUP id=&quot;1&quot; /&gt;\n      &lt;GROUP id=&quot;16&quot; /&gt;\n    &lt;/GROUPS&gt;\n  &lt;/ELEMENT&gt;\n&lt;/ITEM&gt;\n</code></pre>\n<p>The element id is dynamic and changed I've tried this</p>\n<pre><code> &quot;//ELEMENT[@elementId&gt;0]/text()/GROUPS/GROUP[@id]/text()&quot;\n</code></pre>\n<p>but it gives me null</p>\n<p>Basically I want to map between <code>[@elementId&gt;0]</code> to array of <code>/GROUPS/GROUP[@id]</code></p>\n<p>example for output</p>\n<p>for element 7 =&gt; <code>{&quot;7&quot; : [0,1,2,5]}</code></p>\n<p>for element 8 =&gt; <code>{&quot;8&quot; : [1,16]}</code></p>\n<p>P.S - I use <code>org.apache.xpath.CachedXPathAPI</code> library in JAVA</p>\n"},{"tags":["java","javafx","tableview"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1680169958,"post_id":75880323,"comment_id":133853793,"body_markdown":"thanks for the [mcve] - always a pleasure to have something reproducible :) As both @jewelsea and me see the change between versions, you might consider reporting this as a regression - only if they knew about it, they can fix it :)","body":"thanks for the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - always a pleasure to have something reproducible :) As both @jewelsea and me see the change between versions, you might consider reporting this as a regression - only if they knew about it, they can fix it :)"}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1680130018,"post_id":75882318,"comment_id":133847565,"body_markdown":"any idea when this started?","body":"any idea when this started?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1680135437,"post_id":75882318,"comment_id":133848288,"body_markdown":"I ran some checks against various JavaFX versions and updated the answer to report findings.","body":"I ran some checks against various JavaFX versions and updated the answer to report findings."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1680169375,"post_id":75882318,"comment_id":133853646,"body_markdown":"can see the same subjective visual observation (with a dev version of fx20 - not yet changed to release) on win - definitely there was a change that degraded (scrolling?) performance. From a UX perspective it&#39;s plain crazy to have those many rows, but if whatever scheme was implemented was usable before and not usable after .. it should be fixed asap. There have been changes to VirtualFlow during fx20, but didn&#39;t really followed them.","body":"can see the same subjective visual observation (with a dev version of fx20 - not yet changed to release) on win - definitely there was a change that degraded (scrolling?) performance. From a UX perspective it&#39;s plain crazy to have those many rows, but if whatever scheme was implemented was usable before and not usable after .. it should be fixed asap. There have been changes to VirtualFlow during fx20, but didn&#39;t really followed them."},{"owner":{"account_id":28160778,"reputation":71,"user_id":21520762,"display_name":"andrerobot"},"score":1,"creation_date":1680175838,"post_id":75882318,"comment_id":133855370,"body_markdown":"Wow- thank you for the exhaustive analysis. Going to follow advice here and test with recommended JDK + JFX combos.","body":"Wow- thank you for the exhaustive analysis. Going to follow advice here and test with recommended JDK + JFX combos."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1680428399,"creation_date":1680125308,"answer_id":75882318,"question_id":75880323,"body_markdown":"&gt; Has there been a performance regression? \r\n\r\nYes.  \r\n\r\nI ran the example as provided on OpenJDK 20 + JavaFX 20 OS X x64 13.2.1, 2020 MacBook Pro.  With large numbers of rows (e.g. 1,000,000+), performance was slow when scrolling with the mouse via the scroll bar.  With 1,000 rows, the scrolling performance was good.  \r\n\r\nWith OpenJDK 8b251 scrolling performance was quick for 10,000,000 rows.  \r\n\r\nIt looks like this is a known issue, as pointed out by [Maatr][1]:\r\n\r\n   * [JDK-8293836\r\nRendering performance degradation at bottom of TableView with many rows][2].\r\n\r\nIf you consider your issue to be a different problem, you may consider [submitting a bug report](https://wiki.openjdk.org/display/OpenJFX/Submitting+a+Bug+Report).\r\n\r\n**Workarounds**\r\n\r\nUse a JavaFX version between 8 and 17 inclusive.  From my local testing, scrolling of TableViews with large data sets performs acceptably.\r\n\r\nFor other JavaFX versions, you could search for workarounds that will improve the performance of the TableView when backed by large data sets, but I wouldn&#39;t advise doing that unless you are skilled and motivated to do so.  Instead, if a version of JavaFX is required that exhibits this performance issue, rework your UI and logic so that you don&#39;t load a lot of items into the `TableView` backing list.  Perhaps, restrict the maximum number of items to 10,000 or so and handle large volumes of data via [pagination](https://stackoverflow.com/questions/15349185/javafx-tableview-paginator).\r\n\r\n\r\n&gt; any idea when this started? \r\n\r\nThe major TableView scrolling performance issue with large datasets started in JavaFX version 18.\r\n\r\nFor the JDK 8b251 version I mentioned, scrolling performance for 1,000 rows or 10,000,000 is the same (excellent).\r\n\r\nFor the JavaFX 17.0.2 version (on OS X x64 13.2.1, OpenJDK 20), scrolling performance for 10,000,000 rows will slightly stutter but is generally fine.  Performance is a bit worse than the good performance for 1,000 rows, but not really an issue.\r\n\r\nFor the JavaFX 18.0.2, 19.0.2.1, and 20 versions (on OS X x64 13.2.1, OpenJDK 20), scrolling performance for 10,000,000 rows will greatly stutter.  Performance is much worse than the good performance for 1,000 rows.\r\n\r\nThese results are from subjective visual observation of local testing in my environment. Results and subjective observations by you from your testing in your environment may differ, but will likely be generally similar.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75899926/1155209\r\n  [2]: https://bugs.openjdk.org/browse/JDK-8293836","title":"JavaFX TableView scroll performance problems with larger row counts","body":"<blockquote>\n<p>Has there been a performance regression?</p>\n</blockquote>\n<p>Yes.</p>\n<p>I ran the example as provided on OpenJDK 20 + JavaFX 20 OS X x64 13.2.1, 2020 MacBook Pro.  With large numbers of rows (e.g. 1,000,000+), performance was slow when scrolling with the mouse via the scroll bar.  With 1,000 rows, the scrolling performance was good.</p>\n<p>With OpenJDK 8b251 scrolling performance was quick for 10,000,000 rows.</p>\n<p>It looks like this is a known issue, as pointed out by <a href=\"https://stackoverflow.com/a/75899926/1155209\">Maatr</a>:</p>\n<ul>\n<li><a href=\"https://bugs.openjdk.org/browse/JDK-8293836\" rel=\"nofollow noreferrer\">JDK-8293836\nRendering performance degradation at bottom of TableView with many rows</a>.</li>\n</ul>\n<p>If you consider your issue to be a different problem, you may consider <a href=\"https://wiki.openjdk.org/display/OpenJFX/Submitting+a+Bug+Report\" rel=\"nofollow noreferrer\">submitting a bug report</a>.</p>\n<p><strong>Workarounds</strong></p>\n<p>Use a JavaFX version between 8 and 17 inclusive.  From my local testing, scrolling of TableViews with large data sets performs acceptably.</p>\n<p>For other JavaFX versions, you could search for workarounds that will improve the performance of the TableView when backed by large data sets, but I wouldn't advise doing that unless you are skilled and motivated to do so.  Instead, if a version of JavaFX is required that exhibits this performance issue, rework your UI and logic so that you don't load a lot of items into the <code>TableView</code> backing list.  Perhaps, restrict the maximum number of items to 10,000 or so and handle large volumes of data via <a href=\"https://stackoverflow.com/questions/15349185/javafx-tableview-paginator\">pagination</a>.</p>\n<blockquote>\n<p>any idea when this started?</p>\n</blockquote>\n<p>The major TableView scrolling performance issue with large datasets started in JavaFX version 18.</p>\n<p>For the JDK 8b251 version I mentioned, scrolling performance for 1,000 rows or 10,000,000 is the same (excellent).</p>\n<p>For the JavaFX 17.0.2 version (on OS X x64 13.2.1, OpenJDK 20), scrolling performance for 10,000,000 rows will slightly stutter but is generally fine.  Performance is a bit worse than the good performance for 1,000 rows, but not really an issue.</p>\n<p>For the JavaFX 18.0.2, 19.0.2.1, and 20 versions (on OS X x64 13.2.1, OpenJDK 20), scrolling performance for 10,000,000 rows will greatly stutter.  Performance is much worse than the good performance for 1,000 rows.</p>\n<p>These results are from subjective visual observation of local testing in my environment. Results and subjective observations by you from your testing in your environment may differ, but will likely be generally similar.</p>\n"},{"tags":[],"owner":{"account_id":4311624,"reputation":48,"user_id":3522523,"display_name":"Maatr"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686906357,"creation_date":1680274399,"answer_id":75899926,"question_id":75880323,"body_markdown":"There is a similar TableView performance issue filled: https://bugs.openjdk.org/browse/JDK-8293836\r\n\r\nEdit 2023-06-16:\r\nLooks like it is fixed and can be tested with [21-ea+21 version][1]\r\n\r\n\r\n  [1]: https://github.com/openjdk/jfx/commits/21%2B21","title":"JavaFX TableView scroll performance problems with larger row counts","body":"<p>There is a similar TableView performance issue filled: <a href=\"https://bugs.openjdk.org/browse/JDK-8293836\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8293836</a></p>\n<p>Edit 2023-06-16:\nLooks like it is fixed and can be tested with <a href=\"https://github.com/openjdk/jfx/commits/21%2B21\" rel=\"nofollow noreferrer\">21-ea+21 version</a></p>\n"}],"owner":{"account_id":28160778,"reputation":71,"user_id":21520762,"display_name":"andrerobot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1686906357,"creation_date":1680110611,"question_id":75880323,"body_markdown":"I&#39;m stumped. \r\nI have a use-case which involves the rendering of arbitrarily large, paginated tabular result sets in TableView form.\r\n\r\nWhat I&#39;m finding is that both fine scrolling (via touch gestures or mouse wheel on the TableView) and coarse scrolling (via dragging of scroll bar slider) degrade to unuseability as I scroll to larger row ordinals. \r\n\r\nThe degradation happens at relatively small row counts (&lt; ~1M).\r\nNote that the data model only ever holds a small subset of data at any given row offset and loads pages dynamically in response to scroll events.\r\n\r\nI&#39;ve distilled the use case to a few lines of code below.\r\nI&#39;m been able to support a similar such use case in the past (about 4 years ago, 1billion rows) with no issue, so I know this is doable. Whatever the issue is now, however, I just can&#39;t see it. \r\n\r\nDesperate for help...\r\n\r\nIncidentally, I&#39;ve tried this with various permutations of SDK and JavaFX with same effect.\r\n\r\n\r\n\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.collections.ObservableListBase;\r\nimport javafx.scene.CacheHint;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Main extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        final TableView&lt;Row&gt; table = new TableView();\r\n        final BorderPane borderPane = new BorderPane();\r\n        final Scene scene = new Scene(borderPane, 800, 600);\r\n\r\n        TableColumn&lt;Row, String&gt; col = new TableColumn&lt;&gt;(&quot;row&quot;);\r\n        col.setCellValueFactory(p -&gt; new SimpleStringProperty(p.getValue().data[0].toString()));\r\n        col.setPrefWidth(100);\r\n        table.getColumns().add(col);\r\n\r\n        col = new TableColumn&lt;&gt;(&quot;A&quot;);\r\n        col.setCellValueFactory(p -&gt; new SimpleStringProperty(p.getValue().data[1].toString()));\r\n        col.setPrefWidth(100);\r\n        table.getColumns().add(col);\r\n\r\n        col = new TableColumn&lt;&gt;(&quot;B&quot;);\r\n        col.setCellValueFactory(p -&gt; new SimpleStringProperty(p.getValue().data[2].toString()));\r\n        col.setPrefWidth(100);\r\n        table.getColumns().add(col);\r\n\r\n        col = new TableColumn&lt;&gt;(&quot;C&quot;);\r\n        col.setCellValueFactory(p -&gt; new SimpleStringProperty(p.getValue().data[3].toString()));\r\n        col.setPrefWidth(100);\r\n        table.getColumns().add(col);\r\n\r\n        table.setCache(true);\r\n        table.setEditable(false);\r\n        table.setCacheHint(CacheHint.SPEED);\r\n\r\n        table.setItems(getModel(10_000_000));\r\n\r\n        borderPane.setCenter(table);\r\n        stage.setScene(scene);\r\n\r\n        stage.show();\r\n    }\r\n\r\n    private static ObservableList&lt;Row&gt; getModel(final int rowCount) {\r\n        final List&lt;Row&gt; data = new ArrayList&lt;&gt;(rowCount);\r\n        for (int x = 0; x &lt; rowCount; x++) {\r\n            data.add(new Row(x, new Object[] {x, &quot;a_&quot; + x, &quot;b_&quot; + x, &quot;c_&quot; + x }));\r\n        }\r\n        return FXCollections.unmodifiableObservableList(FXCollections.observableList(data));\r\n    }\r\n\r\n    private static final class Row {\r\n        public final int rowOrdinal;\r\n        public final Object[] data;\r\n\r\n        public Row(final int rowOrdinal, final Object[] data) {\r\n            this.rowOrdinal = rowOrdinal;\r\n            this.data = data;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            return o != null &amp;&amp; o.getClass() == Row.class &amp;&amp; ((Row)o).rowOrdinal == rowOrdinal;\r\n        }\r\n        \r\n        @Override\r\n        public int hashCode() {\r\n            return rowOrdinal;\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"JavaFX TableView scroll performance problems with larger row counts","body":"<p>I'm stumped.\nI have a use-case which involves the rendering of arbitrarily large, paginated tabular result sets in TableView form.</p>\n<p>What I'm finding is that both fine scrolling (via touch gestures or mouse wheel on the TableView) and coarse scrolling (via dragging of scroll bar slider) degrade to unuseability as I scroll to larger row ordinals.</p>\n<p>The degradation happens at relatively small row counts (&lt; ~1M).\nNote that the data model only ever holds a small subset of data at any given row offset and loads pages dynamically in response to scroll events.</p>\n<p>I've distilled the use case to a few lines of code below.\nI'm been able to support a similar such use case in the past (about 4 years ago, 1billion rows) with no issue, so I know this is doable. Whatever the issue is now, however, I just can't see it.</p>\n<p>Desperate for help...</p>\n<p>Incidentally, I've tried this with various permutations of SDK and JavaFX with same effect.</p>\n<pre><code>package com.example.demo;\n\nimport javafx.application.Application;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.collections.ObservableListBase;\nimport javafx.scene.CacheHint;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main extends Application {\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    @Override\n    public void start(Stage stage) {\n        final TableView&lt;Row&gt; table = new TableView();\n        final BorderPane borderPane = new BorderPane();\n        final Scene scene = new Scene(borderPane, 800, 600);\n\n        TableColumn&lt;Row, String&gt; col = new TableColumn&lt;&gt;(&quot;row&quot;);\n        col.setCellValueFactory(p -&gt; new SimpleStringProperty(p.getValue().data[0].toString()));\n        col.setPrefWidth(100);\n        table.getColumns().add(col);\n\n        col = new TableColumn&lt;&gt;(&quot;A&quot;);\n        col.setCellValueFactory(p -&gt; new SimpleStringProperty(p.getValue().data[1].toString()));\n        col.setPrefWidth(100);\n        table.getColumns().add(col);\n\n        col = new TableColumn&lt;&gt;(&quot;B&quot;);\n        col.setCellValueFactory(p -&gt; new SimpleStringProperty(p.getValue().data[2].toString()));\n        col.setPrefWidth(100);\n        table.getColumns().add(col);\n\n        col = new TableColumn&lt;&gt;(&quot;C&quot;);\n        col.setCellValueFactory(p -&gt; new SimpleStringProperty(p.getValue().data[3].toString()));\n        col.setPrefWidth(100);\n        table.getColumns().add(col);\n\n        table.setCache(true);\n        table.setEditable(false);\n        table.setCacheHint(CacheHint.SPEED);\n\n        table.setItems(getModel(10_000_000));\n\n        borderPane.setCenter(table);\n        stage.setScene(scene);\n\n        stage.show();\n    }\n\n    private static ObservableList&lt;Row&gt; getModel(final int rowCount) {\n        final List&lt;Row&gt; data = new ArrayList&lt;&gt;(rowCount);\n        for (int x = 0; x &lt; rowCount; x++) {\n            data.add(new Row(x, new Object[] {x, &quot;a_&quot; + x, &quot;b_&quot; + x, &quot;c_&quot; + x }));\n        }\n        return FXCollections.unmodifiableObservableList(FXCollections.observableList(data));\n    }\n\n    private static final class Row {\n        public final int rowOrdinal;\n        public final Object[] data;\n\n        public Row(final int rowOrdinal, final Object[] data) {\n            this.rowOrdinal = rowOrdinal;\n            this.data = data;\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            return o != null &amp;&amp; o.getClass() == Row.class &amp;&amp; ((Row)o).rowOrdinal == rowOrdinal;\n        }\n        \n        @Override\n        public int hashCode() {\n            return rowOrdinal;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","predicate","predicatebuilder"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686729392,"post_id":76471142,"comment_id":134837551,"body_markdown":"And the warning you get is?","body":"And the warning you get is?"},{"owner":{"account_id":15857656,"reputation":126,"user_id":11441639,"display_name":"kiranNswamy"},"score":0,"creation_date":1686730631,"post_id":76471142,"comment_id":134837835,"body_markdown":"You are trying to use like operator builder.like(builder.lower(root.get(&quot;customer&quot;).get(&quot;name&quot;)), searchValue.toLowerCase()); use % in the query parameter and try.","body":"You are trying to use like operator builder.like(builder.lower(root.get(&quot;customer&quot;).get(&quot;name&quot;))&zwnj;&#8203;, searchValue.toLowerCase()); use % in the query parameter and try."}],"answers":[{"tags":[],"owner":{"account_id":23140624,"reputation":1,"user_id":17244132,"display_name":"Jin Kisara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686906168,"creation_date":1686906168,"answer_id":76488599,"question_id":76471142,"body_markdown":"I found the way, after 2 days of roaming around.\r\n\r\n    public static Specification&lt;DealRequestEntity&gt; hasSearchValue(String searchValue) {\r\n        return (root, query, builder) -&gt; {\r\n            Join&lt;DealRequestEntity, CustomerEntity&gt; customerJoin = root.join(&quot;customer&quot;);\r\n            return builder.or(\r\n                    builder.like(builder.lower(customerJoin.get(&quot;name&quot;)), &quot;%&quot; + searchValue.toLowerCase() + &quot;%&quot;),\r\n                    builder.like(builder.lower(customerJoin.get(&quot;username&quot;)), &quot;%&quot; + searchValue.toLowerCase() + &quot;%&quot;),\r\n                    builder.like(builder.lower(customerJoin.get(&quot;email&quot;)), &quot;%&quot; + searchValue.toLowerCase() + &quot;%&quot;),\r\n                    builder.like(builder.lower(customerJoin.get(&quot;phone&quot;)), &quot;%&quot; + searchValue.toLowerCase() + &quot;%&quot;));\r\n        };\r\n    }","title":"How to compare value with predicate criteria builder","body":"<p>I found the way, after 2 days of roaming around.</p>\n<pre><code>public static Specification&lt;DealRequestEntity&gt; hasSearchValue(String searchValue) {\n    return (root, query, builder) -&gt; {\n        Join&lt;DealRequestEntity, CustomerEntity&gt; customerJoin = root.join(&quot;customer&quot;);\n        return builder.or(\n                builder.like(builder.lower(customerJoin.get(&quot;name&quot;)), &quot;%&quot; + searchValue.toLowerCase() + &quot;%&quot;),\n                builder.like(builder.lower(customerJoin.get(&quot;username&quot;)), &quot;%&quot; + searchValue.toLowerCase() + &quot;%&quot;),\n                builder.like(builder.lower(customerJoin.get(&quot;email&quot;)), &quot;%&quot; + searchValue.toLowerCase() + &quot;%&quot;),\n                builder.like(builder.lower(customerJoin.get(&quot;phone&quot;)), &quot;%&quot; + searchValue.toLowerCase() + &quot;%&quot;));\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":23140624,"reputation":1,"user_id":17244132,"display_name":"Jin Kisara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686906168,"creation_date":1686728230,"question_id":76471142,"body_markdown":"I have an searchValue, inputted by user, and I want to find all the customers that have similar name, email, username, phone,... etc. like it. I&#39;m using the Specifications to create a spec then inject it into repository file\r\nThis is the Entity\r\n```Java\r\npublic class DealRequestEntity {\r\n    private long id;\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;customer_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private CustomerEntity customer;\r\n}\r\n```\r\n\r\nAnd the Specifications\r\n```Java\r\npublic class DealRequestSpecifications {\r\n\r\n    public static Specification&lt;DealRequestEntity&gt; hasSearchValue(String searchValue) {\r\n        return new Specification&lt;DealRequestEntity&gt;() {\r\n            public Predicate toPredicate(Root&lt;DealRequestEntity&gt; root, CriteriaQuery&lt;?&gt; query,\r\n                    CriteriaBuilder builder) {\r\n                return builder.like(builder.lower(root.get(&quot;customer&quot;).get(&quot;name&quot;)), searchValue.toLowerCase());\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\nAnd the get(&quot;name&quot;) always warning error there. So what is the right keyword that I can research for this?\r\n\r\nI tried to get(&quot;customer&quot;).get(&quot;name&quot;) but it didn&#39;t work","title":"How to compare value with predicate criteria builder","body":"<p>I have an searchValue, inputted by user, and I want to find all the customers that have similar name, email, username, phone,... etc. like it. I'm using the Specifications to create a spec then inject it into repository file\nThis is the Entity</p>\n<pre><code>public class DealRequestEntity {\n    private long id;\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;customer_id&quot;, referencedColumnName = &quot;id&quot;)\n    private CustomerEntity customer;\n}\n</code></pre>\n<p>And the Specifications</p>\n<pre><code>public class DealRequestSpecifications {\n\n    public static Specification&lt;DealRequestEntity&gt; hasSearchValue(String searchValue) {\n        return new Specification&lt;DealRequestEntity&gt;() {\n            public Predicate toPredicate(Root&lt;DealRequestEntity&gt; root, CriteriaQuery&lt;?&gt; query,\n                    CriteriaBuilder builder) {\n                return builder.like(builder.lower(root.get(&quot;customer&quot;).get(&quot;name&quot;)), searchValue.toLowerCase());\n            }\n        };\n    }\n}\n</code></pre>\n<p>And the get(&quot;name&quot;) always warning error there. So what is the right keyword that I can research for this?</p>\n<p>I tried to get(&quot;customer&quot;).get(&quot;name&quot;) but it didn't work</p>\n"},{"tags":["java","jvm","java-17","jfr","java-mission-control"],"comments":[{"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"score":0,"creation_date":1686653940,"post_id":76463274,"comment_id":134825605,"body_markdown":"@Holger Yes, I meant jfr file i.e. in MissionControl &#39;Memory/TLAB&#39; stats is not available for me with the above JDK17 JVM params","body":"@Holger Yes, I meant jfr file i.e. in MissionControl &#39;Memory/TLAB&#39; stats is not available for me with the above JDK17 JVM params"}],"answers":[{"comments":[{"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"score":0,"creation_date":1686654713,"post_id":76463314,"comment_id":134825733,"body_markdown":"HI, Unfortunately it did not do any trick when using -XX:+UseTLAB, I still do not have Memory(Classes stats) and TLAB statistics in MissionControl when opening my jfr","body":"HI, Unfortunately it did not do any trick when using -XX:+UseTLAB, I still do not have Memory(Classes stats) and TLAB statistics in MissionControl when opening my jfr"}],"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686647227,"creation_date":1686647227,"answer_id":76463314,"question_id":76463274,"body_markdown":"Adding `-XX:+UseTLAB` as a parameter should do the trick. \r\n\r\nHope that works/helps.\r\n\r\nCheers","title":"Java Flight Recorder - Logging parameters on JDK17","body":"<p>Adding <code>-XX:+UseTLAB</code> as a parameter should do the trick.</p>\n<p>Hope that works/helps.</p>\n<p>Cheers</p>\n"},{"comments":[{"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"score":1,"creation_date":1686915802,"post_id":76484281,"comment_id":134867642,"body_markdown":"Hi, Thanks a lot. It works after enabling TLAB events in command line","body":"Hi, Thanks a lot. It works after enabling TLAB events in command line"}],"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686851293,"creation_date":1686851293,"answer_id":76484281,"question_id":76463274,"body_markdown":"The TLAB events were disabled in settings=profile when the Object Allocation Sample event was introduced in JDK 16 (as it has less overhead and is enabled by default)\r\n\r\nYou can enable TLAB events manually:\r\n\r\n    java -XX:StartFlightRecording:\r\n             jdk.ObjectAllocationInNewTLAB#enabled=true,\r\n             jdk.ObjectAllocationOutsideTLAB#enabled=true,filename=...","title":"Java Flight Recorder - Logging parameters on JDK17","body":"<p>The TLAB events were disabled in settings=profile when the Object Allocation Sample event was introduced in JDK 16 (as it has less overhead and is enabled by default)</p>\n<p>You can enable TLAB events manually:</p>\n<pre><code>java -XX:StartFlightRecording:\n         jdk.ObjectAllocationInNewTLAB#enabled=true,\n         jdk.ObjectAllocationOutsideTLAB#enabled=true,filename=...\n</code></pre>\n"}],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76484281,"answer_count":2,"score":2,"last_activity_date":1686906009,"creation_date":1686646808,"question_id":76463274,"body_markdown":"My jfr log does not contain any information about Memory  / TLAB Allocation section , if analyze it by MissionControl\r\n\r\nJVM parameters (JDK17):\r\n\r\n    -XX:+UnlockDiagnosticVMOptions -X::+DebugNonSafepoints -XX:UnlockCommercialFeatures -XX:+FlightRecorder -XX:StartFlightRecording=delay....filename=... loglevel=info\r\n\r\nP.S. FlightRecorderOptions decom&#39;ed and not available in LTS JDK17\r\n\r\nJVM parameters (JDK8):\r\n\r\n    -XX:+UnlockDiagnosticVMOptions -X::+DebugNonSafepoints -XX:UnlockCommercialFeatures -XX:+FlightRecorder -XX:StartFlightRecording=delay....filename=... -XX:FlightRecorderOptions=loglevel=info\r\n\r\nOn JDK8 I have all data in place, I&#39;m a bit puzzled what if my issue about missing &#39;Memory/TLAB Allocation&#39; is caused by incorrect JVM parameters for JFR ?\r\n\r\n**--Update--**\r\n\r\nhttps://bugs.openjdk.org/browse/JDK-8225312 Deprecate -XX:FlightRecorder ","title":"Java Flight Recorder - Logging parameters on JDK17","body":"<p>My jfr log does not contain any information about Memory  / TLAB Allocation section , if analyze it by MissionControl</p>\n<p>JVM parameters (JDK17):</p>\n<pre><code>-XX:+UnlockDiagnosticVMOptions -X::+DebugNonSafepoints -XX:UnlockCommercialFeatures -XX:+FlightRecorder -XX:StartFlightRecording=delay....filename=... loglevel=info\n</code></pre>\n<p>P.S. FlightRecorderOptions decom'ed and not available in LTS JDK17</p>\n<p>JVM parameters (JDK8):</p>\n<pre><code>-XX:+UnlockDiagnosticVMOptions -X::+DebugNonSafepoints -XX:UnlockCommercialFeatures -XX:+FlightRecorder -XX:StartFlightRecording=delay....filename=... -XX:FlightRecorderOptions=loglevel=info\n</code></pre>\n<p>On JDK8 I have all data in place, I'm a bit puzzled what if my issue about missing 'Memory/TLAB Allocation' is caused by incorrect JVM parameters for JFR ?</p>\n<p><strong>--Update--</strong></p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8225312\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8225312</a> Deprecate -XX:FlightRecorder</p>\n"},{"tags":["java","java-11","keystore","keytool","ecdsa"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1686907778,"post_id":76471763,"comment_id":134866021,"body_markdown":"Did you create the pkcs12 with OpenSSL 3.0.0 or higher? If so dupe https://stackoverflow.com/questions/72412346/java-keytool-importing-pkcs12-to-jks-getting-error-keystore-password-was-inc -- which is my first hit if I put &quot;keytool pkcs12 &#39;keystore password was incorrect&#39;&quot; in the search box -- didn&#39;t you try that? (I also get my answer as last hit, but that might be influenced because it was my search).","body":"Did you create the pkcs12 with OpenSSL 3.0.0 or higher? If so dupe <a href=\"https://stackoverflow.com/questions/72412346/java-keytool-importing-pkcs12-to-jks-getting-error-keystore-password-was-inc\" title=\"java keytool importing pkcs12 to jks getting error keystore password was inc\">stackoverflow.com/questions/72412346/&hellip;</a> -- which is my first hit if I put &quot;keytool pkcs12 &#39;keystore password was incorrect&#39;&quot; in the search box -- didn&#39;t you try that? (I also get my answer as last hit, but that might be influenced because it was my search)."},{"owner":{"account_id":27160088,"reputation":21,"user_id":20698292,"display_name":"Swati Satrusalya"},"score":0,"creation_date":1687198794,"post_id":76471763,"comment_id":134900474,"body_markdown":"Thanks @dave_thompson_085 for your response .yes i am using higher version openssl","body":"Thanks @dave_thompson_085 for your response .yes i am using higher version openssl"}],"owner":{"account_id":27160088,"reputation":21,"user_id":20698292,"display_name":"Swati Satrusalya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686905514,"creation_date":1686733032,"question_id":76471763,"body_markdown":"I created a client.p12 keystore using openssl . Now I&#39;m trying to import the private key using java Keytool into a new JKS keystore. I tried the command:\r\n\r\n```\r\nkeytool -importkeystore -srckeystore &quot;/certs/client.p12&quot; -srcstoretype pkcs12 -srcstorepass &quot;pass&quot; -destkeystore /certs/keystore.jks -deststoretype pkcs12 -deststorepass &quot;pass&quot;\r\n```\r\n\r\nJava version used - 11.0.11\r\n\r\nBut I get the following error message:\r\n\r\n```\r\nkeytool error: java.io.IOException: keystore password was incorrect\r\n```\r\n\r\n\r\nHow can I resolve this error so I can import this key into a new JKS keystore?\r\n","title":"keytool error: java.io.IOException: keystore password was incorrect in JAVA 11.0.11","body":"<p>I created a client.p12 keystore using openssl . Now I'm trying to import the private key using java Keytool into a new JKS keystore. I tried the command:</p>\n<pre><code>keytool -importkeystore -srckeystore &quot;/certs/client.p12&quot; -srcstoretype pkcs12 -srcstorepass &quot;pass&quot; -destkeystore /certs/keystore.jks -deststoretype pkcs12 -deststorepass &quot;pass&quot;\n</code></pre>\n<p>Java version used - 11.0.11</p>\n<p>But I get the following error message:</p>\n<pre><code>keytool error: java.io.IOException: keystore password was incorrect\n</code></pre>\n<p>How can I resolve this error so I can import this key into a new JKS keystore?</p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1686901255,"post_id":76487951,"comment_id":134864665,"body_markdown":"You have `String host = &quot;110&quot;;` in your code - Are yu sure that is the correct host and you don&#39;t want to use `pop.gmail.com` or similar?","body":"You have <code>String host = &quot;110&quot;;</code> in your code - Are yu sure that is the correct host and you don&#39;t want to use <code>pop.gmail.com</code> or similar?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1686901357,"post_id":76487951,"comment_id":134864684,"body_markdown":"Also, you might want to check out [this answer](https://stackoverflow.com/a/26952713/10871900).","body":"Also, you might want to check out <a href=\"https://stackoverflow.com/a/26952713/10871900\">this answer</a>."},{"owner":{"account_id":15630062,"reputation":89,"user_id":11276607,"display_name":"gimhanas"},"score":0,"creation_date":1686901739,"post_id":76487951,"comment_id":134864752,"body_markdown":"@dan1stisonstrike i tried with &quot;String host = &quot;pop.gmail.com&quot;;&quot; but it getting same connection failed issue...","body":"@dan1stisonstrike i tried with &quot;String host = &quot;pop.gmail.com&quot;;&quot; but it getting same connection failed issue..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686902248,"post_id":76487951,"comment_id":134864843,"body_markdown":"Why aren&#39;t you using imap?","body":"Why aren&#39;t you using imap?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1686902302,"post_id":76487951,"comment_id":134864853,"body_markdown":"@gimhanas &quot;Connection failed&quot;, sounds like a proxy or firewall issue","body":"@gimhanas &quot;Connection failed&quot;, sounds like a proxy or firewall issue"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1686902307,"post_id":76487951,"comment_id":134864855,"body_markdown":"As I said, please check the suggestions in the linked answer, especially regarding `Session.getDefaultInstance` and also check the connection with `telnet pop.gmail.com 995` (also mentioned in the linked answer).","body":"As I said, please check the suggestions in the linked answer, especially regarding <code>Session.getDefaultInstance</code> and also check the connection with <code>telnet pop.gmail.com 995</code> (also mentioned in the linked answer)."},{"owner":{"account_id":15630062,"reputation":89,"user_id":11276607,"display_name":"gimhanas"},"score":0,"creation_date":1686903168,"post_id":76487951,"comment_id":134865024,"body_markdown":"@dan1stisonstrike Yes i tried with it.but have fail senario ----https://drive.google.com/drive/folders/16l8cAp6iK7gC0mYZbSzbcx-laaRSXNPE?usp=sharing","body":"@dan1stisonstrike Yes i tried with it.but have fail senario ----<a href=\"https://drive.google.com/drive/folders/16l8cAp6iK7gC0mYZbSzbcx-laaRSXNPE?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/drive/folders/&hellip;</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686903303,"post_id":76487951,"comment_id":134865052,"body_markdown":"How can &quot;110&quot; be the *host*? That should be `&quot;pop.gmail.com&quot;`","body":"How can &quot;110&quot; be the <i>host</i>? That should be <code>&quot;pop.gmail.com&quot;</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686903551,"post_id":76487951,"comment_id":134865104,"body_markdown":"You&#39;re still not posting the correct code. What is creating that output? Nothing in the code I can see could possibly do that","body":"You&#39;re still not posting the correct code. What is creating that output? Nothing in the code I can see could possibly do that"},{"owner":{"account_id":15630062,"reputation":89,"user_id":11276607,"display_name":"gimhanas"},"score":0,"creation_date":1686903566,"post_id":76487951,"comment_id":134865107,"body_markdown":"yes i tried with (pop.gmail.com) but javax.mail.MessagingException: Connect failed; I mention error in description","body":"yes i tried with (pop.gmail.com) but javax.mail.MessagingException: Connect failed; I mention error in description"},{"owner":{"account_id":15630062,"reputation":89,"user_id":11276607,"display_name":"gimhanas"},"score":0,"creation_date":1686903839,"post_id":76487951,"comment_id":134865166,"body_markdown":"I attached my java classes to drive..i need to read emails with java...\nso i tried with two examples...(drive files - GmailFetch.java and GmailFetch.java.--&gt;(https://drive.google.com/drive/folders/16l8cAp6iK7gC0mYZbSzbcx-laaRSXNPE?usp=sharing)\nbut both are not working.","body":"I attached my java classes to drive..i need to read emails with java... so i tried with two examples...(drive files - GmailFetch.java and GmailFetch.java.--&gt;(<a href=\"https://drive.google.com/drive/folders/16l8cAp6iK7gC0mYZbSzbcx-laaRSXNPE?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/drive/folders/&hellip;</a>) but both are not working."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1686903982,"post_id":76487951,"comment_id":134865193,"body_markdown":"What Java version are you using? An ancient version with outdated TLS support might cause this.","body":"What Java version are you using? An ancient version with outdated TLS support might cause this."},{"owner":{"account_id":15630062,"reputation":89,"user_id":11276607,"display_name":"gimhanas"},"score":0,"creation_date":1686904027,"post_id":76487951,"comment_id":134865203,"body_markdown":"@JoachimSauer using java 17","body":"@JoachimSauer using java 17"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686904162,"post_id":76487951,"comment_id":134865229,"body_markdown":"Please post the correct code. That won&#39;t even *compile*. When you do post the correct code you probably will eventually run into [this](https://support.google.com/accounts/answer/185833) error (normal passwords won&#39;t work)","body":"Please post the correct code. That won&#39;t even <i>compile</i>. When you do post the correct code you probably will eventually run into <a href=\"https://support.google.com/accounts/answer/185833\" rel=\"nofollow noreferrer\">this</a> error (normal passwords won&#39;t work)"}],"answers":[{"tags":[],"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686904891,"creation_date":1686904853,"answer_id":76488426,"question_id":76487951,"body_markdown":"i&#39;m offering you multiple solutions, first one is to enable all the necessary protocols:\r\n\r\n    properties.put(&quot;mail.pop3.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\r\nsecond one is to enable SSL Debugging to see more specific messages, and we will see what is going on:\r\n\r\n    properties.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\r\nlast one, you could also bypass the certification process using \r\n\r\n&gt; [javax.net.ssl.Trust][1]\r\n\r\n but i won&#39;t advised it will make everything less secure\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/TrustManager.html","title":"Why not working JavaMail API - Checking Emails?","body":"<p>i'm offering you multiple solutions, first one is to enable all the necessary protocols:</p>\n<pre><code>properties.put(&quot;mail.pop3.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n</code></pre>\n<p>second one is to enable SSL Debugging to see more specific messages, and we will see what is going on:</p>\n<pre><code>properties.put(&quot;mail.debug&quot;, &quot;true&quot;);\n</code></pre>\n<p>last one, you could also bypass the certification process using</p>\n<blockquote>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/TrustManager.html\" rel=\"nofollow noreferrer\">javax.net.ssl.Trust</a></p>\n</blockquote>\n<p>but i won't advised it will make everything less secure</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686905225,"creation_date":1686905225,"answer_id":76488475,"question_id":76487951,"body_markdown":"You need to look at [this](https://support.google.com/accounts/answer/185833) for the password. The following works fine:\r\n\r\n```\r\nimport javax.mail.Session;\r\nimport javax.mail.Store;\r\nimport java.util.Properties;\r\n\r\npublic class Pop {\r\n    public static void main(String[] args) {\r\n        try {\r\n            String host = &quot;pop.gmail.com&quot;;\r\n            String mailStoreType = &quot;pop3&quot;;\r\n            String username = &quot;youraddress@gmail.com&quot;;\r\n            String password = &quot;application-specific-password&quot;;\r\n\r\n            Properties properties = new Properties();\r\n            properties.put(&quot;mail.pop3.host&quot;, host);\r\n            properties.put(&quot;mail.pop3.port&quot;, &quot;995&quot;);\r\n            properties.put(&quot;mail.pop3.starttls.enable&quot;, &quot;true&quot;);\r\n            Session emailSession = Session.getDefaultInstance(properties);\r\n\r\n            Store store = emailSession.getStore(&quot;pop3s&quot;);\r\n            System.out.println(&quot;2 create store...&quot; + store.toString());\r\n\r\n            store.connect(host, username, password);\r\n            System.out.println(&quot;3 connected store...&quot; + store);\r\n        } catch (Throwable t) {\r\n            t.printStackTrace();\r\n        }\r\n    }\r\n}\r\n``` ","title":"Why not working JavaMail API - Checking Emails?","body":"<p>You need to look at <a href=\"https://support.google.com/accounts/answer/185833\" rel=\"nofollow noreferrer\">this</a> for the password. The following works fine:</p>\n<pre><code>import javax.mail.Session;\nimport javax.mail.Store;\nimport java.util.Properties;\n\npublic class Pop {\n    public static void main(String[] args) {\n        try {\n            String host = &quot;pop.gmail.com&quot;;\n            String mailStoreType = &quot;pop3&quot;;\n            String username = &quot;youraddress@gmail.com&quot;;\n            String password = &quot;application-specific-password&quot;;\n\n            Properties properties = new Properties();\n            properties.put(&quot;mail.pop3.host&quot;, host);\n            properties.put(&quot;mail.pop3.port&quot;, &quot;995&quot;);\n            properties.put(&quot;mail.pop3.starttls.enable&quot;, &quot;true&quot;);\n            Session emailSession = Session.getDefaultInstance(properties);\n\n            Store store = emailSession.getStore(&quot;pop3s&quot;);\n            System.out.println(&quot;2 create store...&quot; + store.toString());\n\n            store.connect(host, username, password);\n            System.out.println(&quot;3 connected store...&quot; + store);\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15630062,"reputation":89,"user_id":11276607,"display_name":"gimhanas"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1686905225,"creation_date":1686901095,"question_id":76487951,"body_markdown":"I developed the Checking Emails system with JavaMail.This is the code I created,\r\n\r\n      String host = &quot;pop.gmail.com&quot;;\r\n      String mailStoreType = &quot;pop3&quot;;\r\n      String username = &quot;yourmail@gmail.com&quot;;\r\n      String password = &quot;*****&quot;;\r\n\r\n          Properties properties = new Properties();\r\n          properties.put(&quot;mail.pop3.host&quot;, host);\r\n          properties.put(&quot;mail.pop3.port&quot;, &quot;995&quot;);\r\n          properties.put(&quot;mail.pop3.starttls.enable&quot;, &quot;true&quot;);\r\n          Session emailSession = Session.getDefaultInstance(properties);\r\n      \r\n          Store store = emailSession.getStore(&quot;pop3s&quot;);\r\n          System.out.println(&quot;2 create store...&quot;+store.toString());\r\n    \r\n          store.connect(host, user, password);\r\n          System.out.println(&quot;3 connected store...&quot;+store);\r\n     \r\n\r\n\r\nBut the code is getting a **Connect failed error** below this I mentioned,\r\n\r\n    1 Strting email service...pop.gmail.com\r\n    2 create store...pop3s:\r\n    javax.mail.MessagingException: Connect failed;\r\n      nested exception is:\r\n    \tjavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n    \tat com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:209)\r\n    \tat javax.mail.Service.connect(Service.java:295)\r\n    \tat javax.mail.Service.connect(Service.java:176)\r\n    \tat com.demo.service.CheckingMails2.check(CheckingMails2.java:31)\r\n    \t\r\n**What would be the best possible options?**","title":"Why not working JavaMail API - Checking Emails?","body":"<p>I developed the Checking Emails system with JavaMail.This is the code I created,</p>\n<pre><code>  String host = &quot;pop.gmail.com&quot;;\n  String mailStoreType = &quot;pop3&quot;;\n  String username = &quot;yourmail@gmail.com&quot;;\n  String password = &quot;*****&quot;;\n\n      Properties properties = new Properties();\n      properties.put(&quot;mail.pop3.host&quot;, host);\n      properties.put(&quot;mail.pop3.port&quot;, &quot;995&quot;);\n      properties.put(&quot;mail.pop3.starttls.enable&quot;, &quot;true&quot;);\n      Session emailSession = Session.getDefaultInstance(properties);\n  \n      Store store = emailSession.getStore(&quot;pop3s&quot;);\n      System.out.println(&quot;2 create store...&quot;+store.toString());\n\n      store.connect(host, user, password);\n      System.out.println(&quot;3 connected store...&quot;+store);\n \n</code></pre>\n<p>But the code is getting a <strong>Connect failed error</strong> below this I mentioned,</p>\n<pre><code>1 Strting email service...pop.gmail.com\n2 create store...pop3s:\njavax.mail.MessagingException: Connect failed;\n  nested exception is:\n    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n    at com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:209)\n    at javax.mail.Service.connect(Service.java:295)\n    at javax.mail.Service.connect(Service.java:176)\n    at com.demo.service.CheckingMails2.check(CheckingMails2.java:31)\n    \n</code></pre>\n<p><strong>What would be the best possible options?</strong></p>\n"},{"tags":["java","spring-boot","junit4","junit5","superclass"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686822217,"post_id":76480915,"comment_id":134853324,"body_markdown":"Put them on a method, which calls an abstract method which you then implement.","body":"Put them on a method, which calls an abstract method which you then implement."},{"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"score":0,"creation_date":1686834912,"post_id":76480915,"comment_id":134856108,"body_markdown":"I do not get the idea, is it different of what I am doing ?","body":"I do not get the idea, is it different of what I am doing ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686835670,"post_id":76480915,"comment_id":134856290,"body_markdown":"Yes it is. Put them on non abstract methods, and in those methods call an abstract method (which you can then implement in your test classes). It is a slight indirection and change to what you have now.","body":"Yes it is. Put them on non abstract methods, and in those methods call an abstract method (which you can then implement in your test classes). It is a slight indirection and change to what you have now."},{"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"score":0,"creation_date":1686843006,"post_id":76480915,"comment_id":134856866,"body_markdown":"Indeed, it works. But I still find this alternative a bit weird because it worked easier with JUnit4","body":"Indeed, it works. But I still find this alternative a bit weird because it worked easier with JUnit4"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686898117,"post_id":76480915,"comment_id":134864127,"body_markdown":"The fact that something worked in X doesn&#39;t mean it works the same in Y? It might have work and that could have been unintended, I don&#39;t really know.","body":"The fact that something worked in X doesn&#39;t mean it works the same in Y? It might have work and that could have been unintended, I don&#39;t really know."}],"answers":[{"tags":[],"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686904164,"creation_date":1686904164,"answer_id":76488334,"question_id":76480915,"body_markdown":"Following M. Deinum recommandation, I ended up with this\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\n\r\n@SpringBootTest(classes = {TestContext.class})\r\npublic abstract class AbstractTest {\r\n    \r\n   public abstract void testOk();\r\n    \r\n   public abstract void testKo();\r\n\r\n   @Test\r\n   public void junitTestOk() {\r\n       this.testOk();\r\n   }\r\n    \r\n   @Test\r\n   public void junitTestKo() {\r\n       this.testKo();\r\n   }\r\n}\r\n```","title":"Super class and abstract test method with JUnit5 tests","body":"<p>Following M. Deinum recommandation, I ended up with this</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\n\n@SpringBootTest(classes = {TestContext.class})\npublic abstract class AbstractTest {\n    \n   public abstract void testOk();\n    \n   public abstract void testKo();\n\n   @Test\n   public void junitTestOk() {\n       this.testOk();\n   }\n    \n   @Test\n   public void junitTestKo() {\n       this.testKo();\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76488334,"answer_count":1,"score":0,"last_activity_date":1686904164,"creation_date":1686820201,"question_id":76480915,"body_markdown":"I migrated unit tests from JUnit4 to JUnit5 and I use Intellij as IDE   \r\nWith JUnit4, I had some tests implementing two methodes of a test superclass. It seems like I could put the `@Test` on the abstract methods and just override them in subclasses.\r\n\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\n\r\n    @SpringBootTest(classes = {TestContext.class})\r\n    public abstract class AbstractTest {\r\n    \r\n        @Test\r\n        public abstract void testOk();\r\n    \r\n        @Test\r\n        public abstract void testKo();\r\n    }\r\n```\r\nAnd the test   \r\n```java\r\n    public class SomeTest extends AbstractTest {\r\n    \r\n        // @Test with JUnit5\r\n        @Override\r\n        public void testOk() {\r\n            //\r\n        }\r\n    \r\n        // @Test with JUnit5\r\n        @Override\r\n        public void testKo() {\r\n            //\r\n        }\r\n    }\r\n```\r\n\r\nBut with JUnit5, it seems like I have to put `@Test` annotation on the overriding method of the subclass `SomeTest`, otherwise tests are not found. Is there a way to achieve my previous configuration with JUnit5, avoiding to add `@Test` to all subclasses methods ?","title":"Super class and abstract test method with JUnit5 tests","body":"<p>I migrated unit tests from JUnit4 to JUnit5 and I use Intellij as IDE<br />\nWith JUnit4, I had some tests implementing two methodes of a test superclass. It seems like I could put the <code>@Test</code> on the abstract methods and just override them in subclasses.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\n\n    @SpringBootTest(classes = {TestContext.class})\n    public abstract class AbstractTest {\n    \n        @Test\n        public abstract void testOk();\n    \n        @Test\n        public abstract void testKo();\n    }\n</code></pre>\n<p>And the test</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class SomeTest extends AbstractTest {\n    \n        // @Test with JUnit5\n        @Override\n        public void testOk() {\n            //\n        }\n    \n        // @Test with JUnit5\n        @Override\n        public void testKo() {\n            //\n        }\n    }\n</code></pre>\n<p>But with JUnit5, it seems like I have to put <code>@Test</code> annotation on the overriding method of the subclass <code>SomeTest</code>, otherwise tests are not found. Is there a way to achieve my previous configuration with JUnit5, avoiding to add <code>@Test</code> to all subclasses methods ?</p>\n"},{"tags":["java","okhttp"],"answers":[{"tags":[],"owner":{"account_id":6524069,"reputation":715,"user_id":5047297,"accept_rate":53,"display_name":"WestFarmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686903750,"creation_date":1686903750,"answer_id":76488289,"question_id":76487636,"body_markdown":"`HttpLoggingInterceptor` didn&#39;t print cookies from `CookieJar`, because it was executed before the internal Interceptor which load cookie from `CookieJar`\r\n\r\nBy using tcpdump, I can see Cookie headers for subsequent requests.\r\n\r\ncase closed.","title":"why cookie is not loaded for subsequent requests?","body":"<p><code>HttpLoggingInterceptor</code> didn't print cookies from <code>CookieJar</code>, because it was executed before the internal Interceptor which load cookie from <code>CookieJar</code></p>\n<p>By using tcpdump, I can see Cookie headers for subsequent requests.</p>\n<p>case closed.</p>\n"}],"owner":{"account_id":6524069,"reputation":715,"user_id":5047297,"accept_rate":53,"display_name":"WestFarmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76488289,"answer_count":1,"score":0,"last_activity_date":1686903750,"creation_date":1686898488,"question_id":76487636,"body_markdown":"I am using okhttp 4.9.0\r\n\r\n```java\r\nprivate OkHttpClient http;\r\n\r\npublic SonarApi(String serverUrl, String secret) {\r\n    HttpLoggingInterceptor it = new HttpLoggingInterceptor();\r\n    it.setLevel(Level.BODY);\r\n    CookieManager cookieManager = new CookieManager();\r\n    cookieManager.setCookiePolicy(CookiePolicy.ACCEPT_ALL);\r\n    JavaNetCookieJar cookieJar = new JavaNetCookieJar(cookieManager);\r\n    http = new OkHttpClient.Builder().addInterceptor(it).cookieJar(cookieJar).build();\r\n}\r\n\r\npublic void login(String userName, String password) throws IOException {\r\n    RequestBody formBody = new FormBody.Builder().add(&quot;login&quot;, userName).add(&quot;password&quot;, password).build();\r\n    Request req = new Request.Builder()\r\n            .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\r\n            .addHeader(&quot;Host&quot;, &quot;x.x.x.x:9876&quot;)\r\n            .addHeader(&quot;Origin&quot;, serverUrl)\r\n            .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n            .url(serverUrl + &quot;/api/authentication/login&quot;).post(formBody).build();\r\n    http.newCall(req).execute();\r\n}\r\n\r\npublic boolean updateRuleMarkdownNote(String ruleKey, String mdNote) throws IOException {\r\n    RequestBody formBody = new FormBody.Builder().add(&quot;key&quot;, ruleKey).add(&quot;markdown_note&quot;, mdNote).build();\r\n    Request req = new Request.Builder().addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;).url(serverUrl + &quot;/api/rules/update&quot;).post(formBody).build();\r\n    int code = http.newCall(req).execute().code();\r\n    return code &gt;= 200 &amp;&amp; code &lt; 300;\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    SonarApi sonarApi = new SonarApi(&quot;http://x.x.x.x:9876&quot;, &quot;cac3b3c65347e87cdf1f9a7352935db79e2435f5&quot;);\r\n    try {\r\n        sonarApi.login(&quot;admin&quot;, &quot;******&quot;);\r\n        sonarApi.updateRuleMarkdownNote(&quot;custom-rules-java:ExampleRules01&quot;, &quot;*foo*&quot;);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n}\r\n```\r\n\r\nlogs:\r\n\r\n```\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: --&gt; POST http://172.25.160.238:9876/api/authentication/login\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Content-Length: 34\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Accept: application/json\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Host: 172.25.160.238:9876\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Origin: http://172.25.160.238:9876\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Content-Type: application/x-www-form-urlencoded\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: \r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: login=admin&amp;password=%23Fgglgy0223\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: --&gt; END POST (34-byte body)\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: &lt;-- 200 http://172.25.160.238:9876/api/authentication/login (266ms)\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: X-Frame-Options: SAMEORIGIN\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: X-XSS-Protection: 1; mode=block\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: X-Content-Type-Options: nosniff\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Set-Cookie: XSRF-TOKEN=5iohli0jdhtla6tk8a87598log; Max-Age=259200; Expires=Mon, 19-Jun-2023 06:44:23 GMT; Path=/\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Set-Cookie: JWT-SESSION=eyJhbGciOiJIUzI1NiJ9.eyJsYXN0UmVmcmVzaFRpbWUiOjE2ODY4OTc4NjMyNTMsInhzcmZUb2tlbiI6IjVpb2hsaTBqZGh0bGE2dGs4YTg3NTk4bG9nIiwianRpIjoiQVlqQzhxcFNkRWtsQ2VJdXhIQ0IiLCJzdWIiOiJBWHd3MUhOY1NCN0xfa1UtMEhydyIsImlhdCI6MTY4Njg5Nzg2MywiZXhwIjoxNjg3MTU3MDYzfQ.sDbWX2_pNGIAIMjrgOBSyEnsBLc9fncz2-7XS_uyx-M; Max-Age=259200; Expires=Mon, 19-Jun-2023 06:44:23 GMT; Path=/; HttpOnly\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Content-Length: 0\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Date: Fri, 16 Jun 2023 06:44:23 GMT\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Keep-Alive: timeout=60\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Connection: keep-alive\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: &lt;-- END HTTP (0-byte body)\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: --&gt; POST http://172.25.160.238:9876/api/rules/update\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Content-Length: 58\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Content-Type: application/x-www-form-urlencoded\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: \r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: key=custom-rules-java%3AExampleRules01&amp;markdown_note=*foo*\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: --&gt; END POST (58-byte body)\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: &lt;-- 401 http://172.25.160.238:9876/api/rules/update (7ms)\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: X-Frame-Options: SAMEORIGIN\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: X-XSS-Protection: 1; mode=block\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: X-Content-Type-Options: nosniff\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Content-Length: 0\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Date: Fri, 16 Jun 2023 06:44:23 GMT\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Keep-Alive: timeout=60\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Connection: keep-alive\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: &lt;-- END HTTP (0-byte body)\r\n\r\n```\r\n\r\n\r\nafter login, I can see setcookie header from server, but why cookies not loaded for subsequent requests? I can&#39;t  figure it out why.  as you can see in the logs, login request is successful and cookies named as `XSRF-TOKEN` and `JWT-SESSION` was returned within response headers, but the following request did not send a `Cookie` header with them.","title":"why cookie is not loaded for subsequent requests?","body":"<p>I am using okhttp 4.9.0</p>\n<pre class=\"lang-java prettyprint-override\"><code>private OkHttpClient http;\n\npublic SonarApi(String serverUrl, String secret) {\n    HttpLoggingInterceptor it = new HttpLoggingInterceptor();\n    it.setLevel(Level.BODY);\n    CookieManager cookieManager = new CookieManager();\n    cookieManager.setCookiePolicy(CookiePolicy.ACCEPT_ALL);\n    JavaNetCookieJar cookieJar = new JavaNetCookieJar(cookieManager);\n    http = new OkHttpClient.Builder().addInterceptor(it).cookieJar(cookieJar).build();\n}\n\npublic void login(String userName, String password) throws IOException {\n    RequestBody formBody = new FormBody.Builder().add(&quot;login&quot;, userName).add(&quot;password&quot;, password).build();\n    Request req = new Request.Builder()\n            .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\n            .addHeader(&quot;Host&quot;, &quot;x.x.x.x:9876&quot;)\n            .addHeader(&quot;Origin&quot;, serverUrl)\n            .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n            .url(serverUrl + &quot;/api/authentication/login&quot;).post(formBody).build();\n    http.newCall(req).execute();\n}\n\npublic boolean updateRuleMarkdownNote(String ruleKey, String mdNote) throws IOException {\n    RequestBody formBody = new FormBody.Builder().add(&quot;key&quot;, ruleKey).add(&quot;markdown_note&quot;, mdNote).build();\n    Request req = new Request.Builder().addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;).url(serverUrl + &quot;/api/rules/update&quot;).post(formBody).build();\n    int code = http.newCall(req).execute().code();\n    return code &gt;= 200 &amp;&amp; code &lt; 300;\n}\n\npublic static void main(String[] args) {\n    SonarApi sonarApi = new SonarApi(&quot;http://x.x.x.x:9876&quot;, &quot;cac3b3c65347e87cdf1f9a7352935db79e2435f5&quot;);\n    try {\n        sonarApi.login(&quot;admin&quot;, &quot;******&quot;);\n        sonarApi.updateRuleMarkdownNote(&quot;custom-rules-java:ExampleRules01&quot;, &quot;*foo*&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p>logs:</p>\n<pre><code>六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: --&gt; POST http://172.25.160.238:9876/api/authentication/login\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Content-Length: 34\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Accept: application/json\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Host: 172.25.160.238:9876\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Origin: http://172.25.160.238:9876\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Content-Type: application/x-www-form-urlencoded\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: \n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: login=admin&amp;password=%23Fgglgy0223\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: --&gt; END POST (34-byte body)\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: &lt;-- 200 http://172.25.160.238:9876/api/authentication/login (266ms)\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: X-Frame-Options: SAMEORIGIN\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: X-XSS-Protection: 1; mode=block\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: X-Content-Type-Options: nosniff\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Set-Cookie: XSRF-TOKEN=5iohli0jdhtla6tk8a87598log; Max-Age=259200; Expires=Mon, 19-Jun-2023 06:44:23 GMT; Path=/\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Set-Cookie: JWT-SESSION=eyJhbGciOiJIUzI1NiJ9.eyJsYXN0UmVmcmVzaFRpbWUiOjE2ODY4OTc4NjMyNTMsInhzcmZUb2tlbiI6IjVpb2hsaTBqZGh0bGE2dGs4YTg3NTk4bG9nIiwianRpIjoiQVlqQzhxcFNkRWtsQ2VJdXhIQ0IiLCJzdWIiOiJBWHd3MUhOY1NCN0xfa1UtMEhydyIsImlhdCI6MTY4Njg5Nzg2MywiZXhwIjoxNjg3MTU3MDYzfQ.sDbWX2_pNGIAIMjrgOBSyEnsBLc9fncz2-7XS_uyx-M; Max-Age=259200; Expires=Mon, 19-Jun-2023 06:44:23 GMT; Path=/; HttpOnly\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Content-Length: 0\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Date: Fri, 16 Jun 2023 06:44:23 GMT\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Keep-Alive: timeout=60\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Connection: keep-alive\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: &lt;-- END HTTP (0-byte body)\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: --&gt; POST http://172.25.160.238:9876/api/rules/update\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Content-Length: 58\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Content-Type: application/x-www-form-urlencoded\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: \n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: key=custom-rules-java%3AExampleRules01&amp;markdown_note=*foo*\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: --&gt; END POST (58-byte body)\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: &lt;-- 401 http://172.25.160.238:9876/api/rules/update (7ms)\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: X-Frame-Options: SAMEORIGIN\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: X-XSS-Protection: 1; mode=block\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: X-Content-Type-Options: nosniff\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Content-Length: 0\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Date: Fri, 16 Jun 2023 06:44:23 GMT\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Keep-Alive: timeout=60\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Connection: keep-alive\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: &lt;-- END HTTP (0-byte body)\n\n</code></pre>\n<p>after login, I can see setcookie header from server, but why cookies not loaded for subsequent requests? I can't  figure it out why.  as you can see in the logs, login request is successful and cookies named as <code>XSRF-TOKEN</code> and <code>JWT-SESSION</code> was returned within response headers, but the following request did not send a <code>Cookie</code> header with them.</p>\n"},{"tags":["java","hazelcast","hazelcast-imap","hazelcast-jet","hazelcast-aggregate"],"comments":[{"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"František Hartman"},"score":0,"creation_date":1686901910,"post_id":76476090,"comment_id":134864780,"body_markdown":"Again, it&#39;s better to provide full working code samples and sample data which show what your problem is and what you try to achieve. What does _join as it goes_ mean?","body":"Again, it&#39;s better to provide full working code samples and sample data which show what your problem is and what you try to achieve. What does <i>join as it goes</i> mean?"}],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686903536,"creation_date":1686763203,"question_id":76476090,"body_markdown":"I am trying to Join two datasoures using Hazelcast Jet but it seems to be done in Statefull form that it collect all data/grouping and then joins but can we join as it goes?\r\n\r\nHere below is my code:\r\n\r\n    public BatchStage&lt;Object&gt; JoinData() {\r\n    \r\n            //Here is the logic for the inner joining\r\n    \r\n             BatchStageWithKey&lt;Object, String&gt; jdbcGroupByKey = batch1.filter(k -&gt; ((Map&lt;String, Object&gt;)k).get(col1) != null).groupingKey(jdbcData -&gt;  {\r\n                    // gorup by join key\r\n            });\r\n            BatchStageWithKey&lt;Object, String&gt; csvGroupByKey = batch2.filter(k -&gt; ((Map&lt;String, Object&gt;)k).get(col1) != null).groupingKey(jdbcData -&gt;  {\r\n                    // gorup by join key\r\n            });\r\n            \r\n            //Aggregate here (So here it becoming stateful if I am not wrong can we make it stateless?).\r\n            BatchStage&lt;Entry&lt;String, Tuple2&lt;List&lt;Object&gt;, List&lt;Object&gt;&gt;&gt;&gt; d = jdbcGroupByKey.aggregate2(AggregateOperations.toList(),csvGroupByKey,AggregateOperations.toList());\r\n            \r\n           //Here I am trying to do inner join\r\n            BatchStage&lt;List&lt;Object&gt;&gt; jdbcBatchStageData = d.filter(h -&gt; {\r\n            \t return !h.getValue().f0().isEmpty() &amp;&amp; !h.getValue().f1().isEmpty();\r\n             }).map(e -&gt; { \r\n    \r\n            \t List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n            \t e.getValue().f0().forEach(z -&gt;  {\r\n            \t\t\t\r\n            \t\t\t if (e.getValue().f1().size() &gt; 0) {\r\n            \t\t\t\t\t\t \r\n            \t\t\t\t\r\n            \t\t\t\t\t e.getValue().f1().forEach(z1 -&gt;  {\r\n            \t\t\t\t\t\t Map&lt;String, Object&gt; a = new HashMap&lt;String, Object&gt;();\r\n            \t\t\t\t\t\t Map&lt;String, Object&gt; f1 = new HashMap&lt;String, Object&gt;((Map&lt;String, Object&gt;) z);\r\n                 \t\t\t\t\tMap&lt;String, Object&gt; f0 = new HashMap&lt;String, Object&gt;((Map&lt;String, Object&gt;) z1);\r\n                 \t\t\t\t\ta.putAll(f0);\r\n                 \t\t\t\t\ta.putAll(f1);\r\n                 \t\t\t\t\tlist.add(a); \r\n            \t\t\t\t\t });\r\n            \t\t\t }\r\n            \t\t\t \r\n            \t\t });\r\n\r\n            \t return list;\r\n            \t \r\n             });\r\n            \r\n            return jdbcBatchStageData;\r\n            \r\n    }\r\n\r\nPlease let me know if there is way to do it or not?\r\n ","title":"Perform Left,Right and Inner Join in Hazelcast Jet in Stateless manner","body":"<p>I am trying to Join two datasoures using Hazelcast Jet but it seems to be done in Statefull form that it collect all data/grouping and then joins but can we join as it goes?</p>\n<p>Here below is my code:</p>\n<pre><code>public BatchStage&lt;Object&gt; JoinData() {\n\n        //Here is the logic for the inner joining\n\n         BatchStageWithKey&lt;Object, String&gt; jdbcGroupByKey = batch1.filter(k -&gt; ((Map&lt;String, Object&gt;)k).get(col1) != null).groupingKey(jdbcData -&gt;  {\n                // gorup by join key\n        });\n        BatchStageWithKey&lt;Object, String&gt; csvGroupByKey = batch2.filter(k -&gt; ((Map&lt;String, Object&gt;)k).get(col1) != null).groupingKey(jdbcData -&gt;  {\n                // gorup by join key\n        });\n        \n        //Aggregate here (So here it becoming stateful if I am not wrong can we make it stateless?).\n        BatchStage&lt;Entry&lt;String, Tuple2&lt;List&lt;Object&gt;, List&lt;Object&gt;&gt;&gt;&gt; d = jdbcGroupByKey.aggregate2(AggregateOperations.toList(),csvGroupByKey,AggregateOperations.toList());\n        \n       //Here I am trying to do inner join\n        BatchStage&lt;List&lt;Object&gt;&gt; jdbcBatchStageData = d.filter(h -&gt; {\n             return !h.getValue().f0().isEmpty() &amp;&amp; !h.getValue().f1().isEmpty();\n         }).map(e -&gt; { \n\n             List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n             e.getValue().f0().forEach(z -&gt;  {\n                    \n                     if (e.getValue().f1().size() &gt; 0) {\n                                 \n                        \n                             e.getValue().f1().forEach(z1 -&gt;  {\n                                 Map&lt;String, Object&gt; a = new HashMap&lt;String, Object&gt;();\n                                 Map&lt;String, Object&gt; f1 = new HashMap&lt;String, Object&gt;((Map&lt;String, Object&gt;) z);\n                                Map&lt;String, Object&gt; f0 = new HashMap&lt;String, Object&gt;((Map&lt;String, Object&gt;) z1);\n                                a.putAll(f0);\n                                a.putAll(f1);\n                                list.add(a); \n                             });\n                     }\n                     \n                 });\n\n             return list;\n             \n         });\n        \n        return jdbcBatchStageData;\n        \n}\n</code></pre>\n<p>Please let me know if there is way to do it or not?</p>\n"},{"tags":["java","intellij-idea","path","absolute-path"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686859562,"post_id":76485154,"comment_id":134860003,"body_markdown":"It _should_ be, _&quot;db/filename&quot;_.  You&#39;re saying this doesn&#39;t work?","body":"It <i>should</i> be, <i>&quot;db/filename&quot;</i>.  You&#39;re saying this doesn&#39;t work?"},{"owner":{"account_id":28212723,"reputation":1,"user_id":21564696,"display_name":"sedib"},"score":0,"creation_date":1686860111,"post_id":76485154,"comment_id":134860100,"body_markdown":"Doesn&#39;t work, unless it is the absolute path","body":"Doesn&#39;t work, unless it is the absolute path"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1686860121,"post_id":76485154,"comment_id":134860104,"body_markdown":"What have you configured as &quot;working directory&quot; in your run config? Everything is relative to that directory.","body":"What have you configured as &quot;working directory&quot; in your run config? Everything is relative to that directory."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1686860288,"post_id":76485154,"comment_id":134860138,"body_markdown":"Please provide the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve). Note that if you want to access some resource from the classpath, it needs to be in the directory configured as the resource root, see https://www.jetbrains.com/help/idea/configuring-content-roots.html,","body":"Please provide the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>. Note that if you want to access some resource from the classpath, it needs to be in the directory configured as the resource root, see <a href=\"https://www.jetbrains.com/help/idea/configuring-content-roots.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/configuring-content-roots.html</a>,"},{"owner":{"account_id":28212723,"reputation":1,"user_id":21564696,"display_name":"sedib"},"score":0,"creation_date":1686860622,"post_id":76485154,"comment_id":134860193,"body_markdown":"I&#39;m not sure if this is correct but in the terminal I&#39;m at the start of the folder, ProjectName.","body":"I&#39;m not sure if this is correct but in the terminal I&#39;m at the start of the folder, ProjectName."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1686860835,"post_id":76485154,"comment_id":134860248,"body_markdown":"Do you use the terminal to start your program?","body":"Do you use the terminal to start your program?"},{"owner":{"account_id":28212723,"reputation":1,"user_id":21564696,"display_name":"sedib"},"score":0,"creation_date":1686861190,"post_id":76485154,"comment_id":134860337,"body_markdown":"No, i just use the run button in intellij","body":"No, i just use the run button in intellij"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686862639,"post_id":76485154,"comment_id":134860576,"body_markdown":"You&#39;ll need to locate what your working directory is, you can find it under _File &gt; Project Structure &gt; Modules &gt; your module &gt; Sources_.  The top directory, there, is the working directory.  Alternately, you can print out an empty _File_ object to the standard-out, and see what the path it, _new File(&quot;&quot;)_.","body":"You&#39;ll need to locate what your working directory is, you can find it under <i>File &gt; Project Structure &gt; Modules &gt; your module &gt; Sources</i>.  The top directory, there, is the working directory.  Alternately, you can print out an empty <i>File</i> object to the standard-out, and see what the path it, <i>new File(&quot;&quot;)</i>."},{"owner":{"account_id":28212723,"reputation":1,"user_id":21564696,"display_name":"sedib"},"score":0,"creation_date":1686863587,"post_id":76485154,"comment_id":134860708,"body_markdown":"The working directory is the ProjectName. When I try the new File method it shows the current path to the file I&#39;m running.","body":"The working directory is the ProjectName. When I try the new File method it shows the current path to the file I&#39;m running."},{"owner":{"account_id":28212723,"reputation":1,"user_id":21564696,"display_name":"sedib"},"score":0,"creation_date":1686905124,"post_id":76485154,"comment_id":134865436,"body_markdown":"C:\\Users\\5600X\\Desktop\\MTBHub_backend\\src\\database         This is my working directory when I run, however when I run it in VSC, it ends at MTBHub_backend. And when I follow what Reilas said, the WD is the ProjectName. Maybe an issue with the Run Config?","body":"C:\\Users\\5600X\\Desktop\\MTBHub_backend\\src\\database         This is my working directory when I run, however when I run it in VSC, it ends at MTBHub_backend. And when I follow what Reilas said, the WD is the ProjectName. Maybe an issue with the Run Config?"}],"owner":{"account_id":28212723,"reputation":1,"user_id":21564696,"display_name":"sedib"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686903192,"creation_date":1686859245,"question_id":76485154,"body_markdown":"I am having trouble with IntelliJ recognizing file paths when the file is located outside of the src folder. This problem only occurs when the file path is not an absolute path, and it is causing me issues as I need to manually change all file paths. My project structure is as follows:\r\n\r\n\r\n- ProjectName\r\n  - .idea\r\n  - db\r\n  - src\r\n    - controllers dir\r\n    - routers dir\r\n    - database dir\r\n    - index.js\r\n\r\nFor example, I cannot access the db folder from the src/database directory. I am experiencing this issue across multiple projects with assets located outside the src folder. Any assistance would be greatly appreciated. I have also tried ../ and / in front with no success.\r\n\r\n[File Setup][1]\r\n  [1]: https://i.stack.imgur.com/eXB5G.png\r\n\r\ndb = new Database(&#39;db/data.sqlite&#39;); is the code I am trying.\r\n\r\n\r\nEdit: I opened in VS Code and it runs with no issues so I assume its an issue with intellij, going to contact jetBrains for a solution. Will update when it is fixed.","title":"Unable to use any Root path in Intellij only Absolute path","body":"<p>I am having trouble with IntelliJ recognizing file paths when the file is located outside of the src folder. This problem only occurs when the file path is not an absolute path, and it is causing me issues as I need to manually change all file paths. My project structure is as follows:</p>\n<ul>\n<li>ProjectName\n<ul>\n<li>.idea</li>\n<li>db</li>\n<li>src\n<ul>\n<li>controllers dir</li>\n<li>routers dir</li>\n<li>database dir</li>\n<li>index.js</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>For example, I cannot access the db folder from the src/database directory. I am experiencing this issue across multiple projects with assets located outside the src folder. Any assistance would be greatly appreciated. I have also tried ../ and / in front with no success.</p>\n<p>[File Setup][1]\n[1]: https://i.stack.imgur.com/eXB5G.png</p>\n<p>db = new Database('db/data.sqlite'); is the code I am trying.</p>\n<p>Edit: I opened in VS Code and it runs with no issues so I assume its an issue with intellij, going to contact jetBrains for a solution. Will update when it is fixed.</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":8544053,"reputation":997,"user_id":6418029,"display_name":"Ashutosh"},"score":0,"creation_date":1686886922,"post_id":76486785,"comment_id":134862917,"body_markdown":"Can you add some more details like where are you defining public POJO serviceMethod (HashMap hsh, byte[] byt)?","body":"Can you add some more details like where are you defining public POJO serviceMethod (HashMap hsh, byte[] byt)?"},{"owner":{"account_id":9856270,"reputation":15,"user_id":7300656,"display_name":"stupiddunkey"},"score":0,"creation_date":1686888861,"post_id":76486785,"comment_id":134863049,"body_markdown":"@Ashutosh  i&#39;ve add more details about it!","body":"@Ashutosh  i&#39;ve add more details about it!"},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1686897826,"post_id":76486785,"comment_id":134864092,"body_markdown":"That code won&#39;t compile. There are numerous faults.","body":"That code won&#39;t compile. There are numerous faults."},{"owner":{"account_id":9856270,"reputation":15,"user_id":7300656,"display_name":"stupiddunkey"},"score":0,"creation_date":1686901999,"post_id":76486785,"comment_id":134864793,"body_markdown":"@rghome no but i found reason, it was for remoting not just Serialization","body":"@rghome no but i found reason, it was for remoting not just Serialization"}],"owner":{"account_id":9856270,"reputation":15,"user_id":7300656,"display_name":"stupiddunkey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686941891,"answer_count":0,"score":0,"last_activity_date":1686902185,"creation_date":1686885946,"question_id":76486785,"body_markdown":"due to Project refactoring, i’ve found a serialization POJO class and interface for serialization.\r\n\r\n\r\nPOJO class implement serialization and service set byte[] and hashMap.\r\n\r\n```\r\n\r\npublic class POJO implements Serializable {\r\n\r\nprivate Hashmap HashMapForRequest = new HashMap();\r\n\r\n//and getter,setters..\r\n}\r\n\r\npublic Interface InterfaceService{\r\n\r\n     public POJO serviceMethod (HashMap hsh, byte[] byt) throw Exception;\r\n}\r\n```\r\n\r\nit looks nothing special but occurs nullpointerException in below code.\r\n\r\n\r\n```\r\nimport POJO;\r\n\r\n@RequiredArgsConstructor\r\n@Component\r\npublic class Controller {\r\n\r\nprivate InterfaceService Interface;\r\n\r\ncallMethod();\r\n    \r\n    @Synchronized\r\n    public callMethod(HashMap hsh, byte[] byt){\r\n        POJO pojo = Interface.serviceMethod(hsh, byt);\r\n    }\r\n}\r\n```\r\n\r\ni doubt about parameter name are not matched with POJO’s field, but  it runs without any error on original project.\r\nserialVersionUid is not defined.\r\n\r\nany kind of help will be greatly appreciated, thank you.\r\n\r\n*** it was interface for remoting, i didn&#39;t notice sorry\r\n","title":"POJO serialization with an interface return null","body":"<p>due to Project refactoring, i’ve found a serialization POJO class and interface for serialization.</p>\n<p>POJO class implement serialization and service set byte[] and hashMap.</p>\n<pre><code>\npublic class POJO implements Serializable {\n\nprivate Hashmap HashMapForRequest = new HashMap();\n\n//and getter,setters..\n}\n\npublic Interface InterfaceService{\n\n     public POJO serviceMethod (HashMap hsh, byte[] byt) throw Exception;\n}\n</code></pre>\n<p>it looks nothing special but occurs nullpointerException in below code.</p>\n<pre><code>import POJO;\n\n@RequiredArgsConstructor\n@Component\npublic class Controller {\n\nprivate InterfaceService Interface;\n\ncallMethod();\n    \n    @Synchronized\n    public callMethod(HashMap hsh, byte[] byt){\n        POJO pojo = Interface.serviceMethod(hsh, byt);\n    }\n}\n</code></pre>\n<p>i doubt about parameter name are not matched with POJO’s field, but  it runs without any error on original project.\nserialVersionUid is not defined.</p>\n<p>any kind of help will be greatly appreciated, thank you.</p>\n<p>*** it was interface for remoting, i didn't notice sorry</p>\n"},{"tags":["java","aspectj","wildfly-14"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1686904487,"post_id":76486331,"comment_id":134865289,"body_markdown":"How are you building and how are you configuring your app? I don&#39;t think JEE will run AspectJ out of the box (unless something changed the last years, I haven&#39;t used it for some time). Also, since you are using CDI, you could take a look at standard JEE interceptors; less powerful than AspectJ, but will do for most of the use cases.","body":"How are you building and how are you configuring your app? I don&#39;t think JEE will run AspectJ out of the box (unless something changed the last years, I haven&#39;t used it for some time). Also, since you are using CDI, you could take a look at standard JEE interceptors; less powerful than AspectJ, but will do for most of the use cases."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1686904582,"post_id":76486331,"comment_id":134865309,"body_markdown":"Are you trying to use load-time weaving (LTW) or compile-time weaving (CTW)? In case of LTW, where is your _aop.xml_? In case of CTW, where is your build configuration for the AspectJ compiler?","body":"Are you trying to use load-time weaving (LTW) or compile-time weaving (CTW)? In case of LTW, where is your <i>aop.xml</i>? In case of CTW, where is your build configuration for the AspectJ compiler?"},{"owner":{"account_id":11979041,"reputation":21,"user_id":8765384,"display_name":"26Boyka"},"score":0,"creation_date":1686934140,"post_id":76486331,"comment_id":134871679,"body_markdown":"@kriegaex thanks for your comment. I did read all about aspectj page on Internet but I have never come across such a concept that you wrote about CTW and LTW. I compiled with plugin with &quot;aspectj-maven-plugin&quot; for CTW and it worked. Problem solved. Thanks a lot again.","body":"@kriegaex thanks for your comment. I did read all about aspectj page on Internet but I have never come across such a concept that you wrote about CTW and LTW. I compiled with plugin with &quot;aspectj-maven-plugin&quot; for CTW and it worked. Problem solved. Thanks a lot again."}],"owner":{"account_id":11979041,"reputation":21,"user_id":8765384,"display_name":"26Boyka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686901398,"creation_date":1686876672,"question_id":76486331,"body_markdown":"I&#39;m want to use Aspectj in project. I created helloworld basic servlet project. When I deploy my project on Wildfly 14, I don&#39;t see any logs on Wilfly 14.0 console from MyAspect class. I am not sure about to add anything my code or Wildfly 14.0. Here my classes,\r\n\r\n**MyAspect**\r\n\r\n```java\r\n@Aspect\r\npublic class MyAspect {\r\n\r\n    static Logger logger = Logger.getLogger(&quot;MyAspect&quot;);\r\n\r\n    @Before(&quot;execution(* org.jboss.as.quickstarts.helloworld.HelloService.*(..))&quot;)\r\n    public void testModeOnlyMethods() {\r\n        logger.info(&quot;AspectLog&quot;);\r\n    }\r\n} \r\n```\r\n\r\n**HelloWorldServlet**\r\n\r\n```java\r\npublic class HelloWorldServlet extends HttpServlet {\r\n\r\n    static String PAGE_HEADER = &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;helloworld&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&quot;;\r\n\r\n    static String PAGE_FOOTER = &quot;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\r\n    @Inject\r\n    HelloService helloService;\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        resp.setContentType(&quot;text/html&quot;);\r\n        PrintWriter writer = resp.getWriter();\r\n        writer.println(PAGE_HEADER);\r\n        writer.println(&quot;&lt;h1&gt;&quot; + helloService.createHelloMessage(&quot;World&quot;) + &quot;&lt;/h1&gt;&quot;);\r\n        writer.println(PAGE_FOOTER);\r\n        writer.close();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**HelloService**\r\n\r\n```java\r\npublic class HelloService {\r\n\r\n    static Logger logger = Logger.getLogger(&quot;HelloService&quot;);\r\n\r\n    String createHelloMessage(String name) {\r\n        logger.info(&quot;Aspect&quot;);\r\n        return &quot;Hello &quot; + name + &quot;!&quot;;\r\n    }\r\n}\r\n```\r\n\r\n**Project Structure**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8AVN6.png","title":"Wildfly 14.0 with Aspectj","body":"<p>I'm want to use Aspectj in project. I created helloworld basic servlet project. When I deploy my project on Wildfly 14, I don't see any logs on Wilfly 14.0 console from MyAspect class. I am not sure about to add anything my code or Wildfly 14.0. Here my classes,</p>\n<p><strong>MyAspect</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\npublic class MyAspect {\n\n    static Logger logger = Logger.getLogger(&quot;MyAspect&quot;);\n\n    @Before(&quot;execution(* org.jboss.as.quickstarts.helloworld.HelloService.*(..))&quot;)\n    public void testModeOnlyMethods() {\n        logger.info(&quot;AspectLog&quot;);\n    }\n} \n</code></pre>\n<p><strong>HelloWorldServlet</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloWorldServlet extends HttpServlet {\n\n    static String PAGE_HEADER = &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;helloworld&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&quot;;\n\n    static String PAGE_FOOTER = &quot;&lt;/body&gt;&lt;/html&gt;&quot;;\n\n    @Inject\n    HelloService helloService;\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        resp.setContentType(&quot;text/html&quot;);\n        PrintWriter writer = resp.getWriter();\n        writer.println(PAGE_HEADER);\n        writer.println(&quot;&lt;h1&gt;&quot; + helloService.createHelloMessage(&quot;World&quot;) + &quot;&lt;/h1&gt;&quot;);\n        writer.println(PAGE_FOOTER);\n        writer.close();\n    }\n\n}\n</code></pre>\n<p><strong>HelloService</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloService {\n\n    static Logger logger = Logger.getLogger(&quot;HelloService&quot;);\n\n    String createHelloMessage(String name) {\n        logger.info(&quot;Aspect&quot;);\n        return &quot;Hello &quot; + name + &quot;!&quot;;\n    }\n}\n</code></pre>\n<p><strong>Project Structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/8AVN6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8AVN6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","statusbar"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1686902084,"post_id":76487965,"comment_id":134864813,"body_markdown":"Does this answer your question? [Disable the notification panel from being pulled down](https://stackoverflow.com/questions/19920052/disable-the-notification-panel-from-being-pulled-down)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19920052/disable-the-notification-panel-from-being-pulled-down\">Disable the notification panel from being pulled down</a>"}],"owner":{"account_id":27318490,"reputation":1,"user_id":20832625,"display_name":"Nayana Petkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686901218,"creation_date":1686901218,"question_id":76487965,"body_markdown":"I have tried several options to disable the pulling down of status bar.\r\n\r\nOption one:\r\n\r\n      //call this method in onWindowFocusChanged()\r\n      public void collapseNow(){\r\n        // Initialize &#39;collapseNotificationHandler&#39;\r\n        if (collapseNotificationHandler == null) {\r\n            collapseNotificationHandler = new Handler();\r\n        }\r\n        // If window focus has been lost &amp;&amp; activity is not in a paused state\r\n        // Its a valid check because showing of notification panel\r\n        // steals the focus from current activity&#39;s window, but does not\r\n        // &#39;pause&#39; the activity\r\n        if (!currentFocus &amp;&amp; !isPaused) {\r\n\r\n            // Post a Runnable with some delay - currently set to 300 ms\r\n            collapseNotificationHandler.postDelayed(new Runnable() {\r\n\r\n                @Override\r\n                public void run() {\r\n\r\n                    // Use reflection to trigger a method from &#39;StatusBarManager&#39;\r\n\r\n                    @SuppressLint(&quot;WrongConstant&quot;) Object statusBarService = getSystemService(&quot;statusbar&quot;);\r\n                    Class&lt;?&gt; statusBarManager = null;\r\n\r\n                    try {\r\n                        statusBarManager = Class.forName(&quot;android.app.StatusBarManager&quot;);\r\n                    } catch (ClassNotFoundException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    Method collapseStatusBar = null;\r\n\r\n                    try {\r\n\r\n                        // Prior to API 17, the method to call is &#39;collapse()&#39;\r\n                        // API 17 onwards, the method to call is `collapsePanels()`\r\n\r\n                        if (Build.VERSION.SDK_INT &gt; 16) {\r\n                            collapseStatusBar = statusBarManager.getMethod(&quot;collapsePanels&quot;);\r\n                        } else {\r\n                            collapseStatusBar = statusBarManager.getMethod(&quot;collapse&quot;);\r\n                        }\r\n\r\n                    } catch (NoSuchMethodException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n\r\n                    collapseStatusBar.setAccessible(true);\r\n                    try {\r\n                        collapseStatusBar.invoke(statusBarService);\r\n                    } catch (IllegalArgumentException | IllegalAccessException | InvocationTargetException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    // Check if the window focus has been returned\r\n                    // If it hasn&#39;t been returned, post this Runnable again\r\n                    // Currently, the delay is 100 ms. You can change this\r\n                    // value to suit your needs.\r\n                    if (!currentFocus &amp;&amp; !isPaused) {\r\n                        collapseNotificationHandler.postDelayed(this, 100L);\r\n                    }\r\n\r\n                }\r\n            }, 300L);\r\n        }\r\n    }\r\nUsing this solution user can still able to pull down but it will automatically pull up.\r\n\r\nOption 2: \r\n\r\n    public void preventStatusBarExpansion(Context context) {\r\n     WindowManager manager = ((WindowManager) this.getSystemService(Context.WINDOW_SERVICE));\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            if (!Settings.canDrawOverlays(MainActivity.this)) {\r\n                Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION, Uri.parse(&quot;package:&quot; + getPackageName()));\r\n                startActivityForResult(intent, 1234);\r\n            }\r\n        }\r\n        WindowManager.LayoutParams localLayoutParams = new WindowManager.LayoutParams();\r\n        localLayoutParams.type = WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY;\r\n        localLayoutParams.gravity = Gravity.TOP;\r\n        localLayoutParams.flags = WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE|\r\n\r\n                // this is to enable the notification to recieve touch events\r\n                WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL |\r\n\r\n                WindowManager.LayoutParams.FLAG_FULLSCREEN |\r\n\r\n                // Draws over status bar\r\n                WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN;\r\n\r\n        localLayoutParams.width = WindowManager.LayoutParams.MATCH_PARENT;\r\n        localLayoutParams.height = (int) (50 * getResources()\r\n                .getDisplayMetrics().scaledDensity);\r\n        localLayoutParams.format = PixelFormat.TRANSPARENT;\r\n\r\n        CustomViewGroup view = new CustomViewGroup(this);\r\n\r\n        manager.addView(view, localLayoutParams);\r\n\r\n    }\r\n\r\nThis solution does not work as its still showing the status bar and user can able to access it.\r\n\r\nOption 3: \r\n\r\n     private void hideSystemUi() {\r\n\r\n            // hide status bar\r\n            View decorView = getWindow().getDecorView();\r\n            int uiOptions = View.SYSTEM_UI_FLAG_IMMERSIVE  | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                    | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                    | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                    // Hide the nav bar and status bar\r\n                    | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n                    | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                    | View.SYSTEM_UI_FLAG_FULLSCREEN;\r\n            getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            decorView.setSystemUiVisibility(uiOptions);\r\n\r\n    }\r\n\r\nI have tried all the options available but none of them are working, first time the status bar wont be visible but once user clicks on the status bar it will visible and I don&#39;t want this to happen.\r\nPlease help if you have achieve to disable pulling down the status bar functionality.\r\n","title":"How to disable pull down the status bar in android programmatically","body":"<p>I have tried several options to disable the pulling down of status bar.</p>\n<p>Option one:</p>\n<pre><code>  //call this method in onWindowFocusChanged()\n  public void collapseNow(){\n    // Initialize 'collapseNotificationHandler'\n    if (collapseNotificationHandler == null) {\n        collapseNotificationHandler = new Handler();\n    }\n    // If window focus has been lost &amp;&amp; activity is not in a paused state\n    // Its a valid check because showing of notification panel\n    // steals the focus from current activity's window, but does not\n    // 'pause' the activity\n    if (!currentFocus &amp;&amp; !isPaused) {\n\n        // Post a Runnable with some delay - currently set to 300 ms\n        collapseNotificationHandler.postDelayed(new Runnable() {\n\n            @Override\n            public void run() {\n\n                // Use reflection to trigger a method from 'StatusBarManager'\n\n                @SuppressLint(&quot;WrongConstant&quot;) Object statusBarService = getSystemService(&quot;statusbar&quot;);\n                Class&lt;?&gt; statusBarManager = null;\n\n                try {\n                    statusBarManager = Class.forName(&quot;android.app.StatusBarManager&quot;);\n                } catch (ClassNotFoundException e) {\n                    e.printStackTrace();\n                }\n\n                Method collapseStatusBar = null;\n\n                try {\n\n                    // Prior to API 17, the method to call is 'collapse()'\n                    // API 17 onwards, the method to call is `collapsePanels()`\n\n                    if (Build.VERSION.SDK_INT &gt; 16) {\n                        collapseStatusBar = statusBarManager.getMethod(&quot;collapsePanels&quot;);\n                    } else {\n                        collapseStatusBar = statusBarManager.getMethod(&quot;collapse&quot;);\n                    }\n\n                } catch (NoSuchMethodException e) {\n                    e.printStackTrace();\n                }\n\n\n                collapseStatusBar.setAccessible(true);\n                try {\n                    collapseStatusBar.invoke(statusBarService);\n                } catch (IllegalArgumentException | IllegalAccessException | InvocationTargetException e) {\n                    e.printStackTrace();\n                }\n\n                // Check if the window focus has been returned\n                // If it hasn't been returned, post this Runnable again\n                // Currently, the delay is 100 ms. You can change this\n                // value to suit your needs.\n                if (!currentFocus &amp;&amp; !isPaused) {\n                    collapseNotificationHandler.postDelayed(this, 100L);\n                }\n\n            }\n        }, 300L);\n    }\n}\n</code></pre>\n<p>Using this solution user can still able to pull down but it will automatically pull up.</p>\n<p>Option 2:</p>\n<pre><code>public void preventStatusBarExpansion(Context context) {\n WindowManager manager = ((WindowManager) this.getSystemService(Context.WINDOW_SERVICE));\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        if (!Settings.canDrawOverlays(MainActivity.this)) {\n            Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION, Uri.parse(&quot;package:&quot; + getPackageName()));\n            startActivityForResult(intent, 1234);\n        }\n    }\n    WindowManager.LayoutParams localLayoutParams = new WindowManager.LayoutParams();\n    localLayoutParams.type = WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY;\n    localLayoutParams.gravity = Gravity.TOP;\n    localLayoutParams.flags = WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE|\n\n            // this is to enable the notification to recieve touch events\n            WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL |\n\n            WindowManager.LayoutParams.FLAG_FULLSCREEN |\n\n            // Draws over status bar\n            WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN;\n\n    localLayoutParams.width = WindowManager.LayoutParams.MATCH_PARENT;\n    localLayoutParams.height = (int) (50 * getResources()\n            .getDisplayMetrics().scaledDensity);\n    localLayoutParams.format = PixelFormat.TRANSPARENT;\n\n    CustomViewGroup view = new CustomViewGroup(this);\n\n    manager.addView(view, localLayoutParams);\n\n}\n</code></pre>\n<p>This solution does not work as its still showing the status bar and user can able to access it.</p>\n<p>Option 3:</p>\n<pre><code> private void hideSystemUi() {\n\n        // hide status bar\n        View decorView = getWindow().getDecorView();\n        int uiOptions = View.SYSTEM_UI_FLAG_IMMERSIVE  | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                // Hide the nav bar and status bar\n                | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                | View.SYSTEM_UI_FLAG_FULLSCREEN;\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        decorView.setSystemUiVisibility(uiOptions);\n\n}\n</code></pre>\n<p>I have tried all the options available but none of them are working, first time the status bar wont be visible but once user clicks on the status bar it will visible and I don't want this to happen.\nPlease help if you have achieve to disable pulling down the status bar functionality.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1670226958,"post_id":74684908,"comment_id":131818218,"body_markdown":"My full source code of microservices system https://github.com/donhuvy/micro-service-usecase","body":"My full source code of microservices system <a href=\"https://github.com/donhuvy/micro-service-usecase\" rel=\"nofollow noreferrer\">github.com/donhuvy/micro-service-usecase</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670233506,"post_id":74684908,"comment_id":131820323,"body_markdown":"Spring Cloud is tied to certain versions of Spring Boot. Your version isn&#39;t compatible afaik. You need 2022.0.x not 2021.0.x which is for Spring Boot 2.6/2.7.","body":"Spring Cloud is tied to certain versions of Spring Boot. Your version isn&#39;t compatible afaik. You need 2022.0.x not 2021.0.x which is for Spring Boot 2.6/2.7."},{"owner":{"account_id":2981539,"reputation":3702,"user_id":2531402,"accept_rate":25,"display_name":"OlgaMaciaszek"},"score":0,"creation_date":1670350848,"post_id":74684908,"comment_id":131854924,"body_markdown":"`2022.x` is the one compatible with Boot `3.0.0`. However, it&#39;s not GA yet. The release is planned for mid-December; if you&#39;re using Spring Cloud in your apps, we suggest you wait till then with doing the switch to Boot 3.","body":"<code>2022.x</code> is the one compatible with Boot <code>3.0.0</code>. However, it&#39;s not GA yet. The release is planned for mid-December; if you&#39;re using Spring Cloud in your apps, we suggest you wait till then with doing the switch to Boot 3."}],"answers":[{"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1670229344,"post_id":74685272,"comment_id":131818928,"body_markdown":"I did this, but not success.","body":"I did this, but not success."},{"owner":{"account_id":27149349,"reputation":116,"user_id":20689058,"display_name":"tisho"},"score":0,"creation_date":1670229866,"post_id":74685272,"comment_id":131819091,"body_markdown":"do you have spring.cloud.loadbalancer.enabled=true in your application.yml","body":"do you have spring.cloud.loadbalancer.enabled=true in your application.yml"},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1670233744,"post_id":74685272,"comment_id":131820438,"body_markdown":"Yes. It did not work.","body":"Yes. It did not work."},{"owner":{"account_id":17614949,"reputation":121,"user_id":12782217,"display_name":"Bexzod Xayrullayev"},"score":0,"creation_date":1690380427,"post_id":74685272,"comment_id":135345604,"body_markdown":"I added this to pom.xml and worked for me also I didn&#39;t add this spring.cloud.loadbalancer.enabled=true","body":"I added this to pom.xml and worked for me also I didn&#39;t add this spring.cloud.loadbalancer.enabled=true"}],"tags":[],"owner":{"account_id":27149349,"reputation":116,"user_id":20689058,"display_name":"tisho"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670228968,"creation_date":1670228968,"answer_id":74685272,"question_id":74684908,"body_markdown":"please share your pom.xml. It looks like you don&#39;t have spring-cloud-starter-loadbalancer dependency in your project. \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring Boot 3.0.0 + Spring Cloud 2021.0.5 No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-loadbalancer?","body":"<p>please share your pom.xml. It looks like you don't have spring-cloud-starter-loadbalancer dependency in your project.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\n    &lt;version&gt;2.4.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23368420,"reputation":147,"user_id":17439681,"display_name":"sof_user"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670332084,"creation_date":1670332084,"answer_id":74703044,"question_id":74684908,"body_markdown":"Replacing ``path`` with ``url`` in feign client class along with ``@ImportAutoConfiguration({FeignAutoConfiguration.class})`` in main class worked for me.","title":"Spring Boot 3.0.0 + Spring Cloud 2021.0.5 No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-loadbalancer?","body":"<p>Replacing <code>path</code> with <code>url</code> in feign client class along with <code>@ImportAutoConfiguration({FeignAutoConfiguration.class})</code> in main class worked for me.</p>\n"},{"tags":[],"owner":{"account_id":10168350,"reputation":1388,"user_id":7666239,"display_name":"Sergey Nemchinov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686900867,"creation_date":1686900867,"answer_id":76487914,"question_id":74684908,"body_markdown":"That could mean you forgot to define the `url` property of your `@FeignClient` or the property is empty. Check your class code and application properties.\r\n\r\n```\r\n    @FeignClient(name = &quot;myfeignclient&quot;, url = &quot;${my.url}&quot;)\r\n    public interface TestFeignClient {\r\n        @GetMapping(value = &quot;/test&quot;)\r\n        public Map&lt;String, String&gt; test();\r\n    }\r\n```\r\n\r\nThere is an issue about this confusing error message: \r\nhttps://github.com/spring-cloud/spring-cloud-openfeign/issues/517","title":"Spring Boot 3.0.0 + Spring Cloud 2021.0.5 No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-loadbalancer?","body":"<p>That could mean you forgot to define the <code>url</code> property of your <code>@FeignClient</code> or the property is empty. Check your class code and application properties.</p>\n<pre><code>    @FeignClient(name = &quot;myfeignclient&quot;, url = &quot;${my.url}&quot;)\n    public interface TestFeignClient {\n        @GetMapping(value = &quot;/test&quot;)\n        public Map&lt;String, String&gt; test();\n    }\n</code></pre>\n<p>There is an issue about this confusing error message:\n<a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/517\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-openfeign/issues/517</a></p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3973,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1686900867,"creation_date":1670226919,"question_id":74684908,"body_markdown":"I am using Spring Boot 3.0.0 , Spring Cloud 2021.0.5 . I have `BillingServiceApplication.java`\r\n\r\n```java\r\npackage org.sid.billingservice;\r\n\r\nimport org.sid.billingservice.entities.Bill;\r\nimport org.sid.billingservice.entities.ProductItem;\r\nimport org.sid.billingservice.model.Customer;\r\nimport org.sid.billingservice.model.Product;\r\nimport org.sid.billingservice.repository.BillRepository;\r\nimport org.sid.billingservice.repository.ProductItemRepository;\r\nimport org.sid.billingservice.services.CustomerRestClient;\r\nimport org.sid.billingservice.services.ProductRestClient;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.ImportAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.openfeign.EnableFeignClients;\r\nimport org.springframework.cloud.openfeign.FeignAutoConfiguration;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\nimport java.util.Collection;\r\nimport java.util.Date;\r\nimport java.util.Random;\r\n\r\n@SpringBootApplication\r\n@EnableFeignClients\r\n@ImportAutoConfiguration({FeignAutoConfiguration.class})\r\npublic class BillingServiceApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(BillingServiceApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    CommandLineRunner start(BillRepository billRepository, ProductItemRepository productItemRepository, CustomerRestClient customerRestClient, ProductRestClient productRestClient) {\r\n        return args -&gt; {\r\n            Collection&lt;Product&gt; products = productRestClient.allProducts().getContent();\r\n            Long customerId = 1L;\r\n            Customer customer = customerRestClient.findCustomerById(customerId);\r\n            if (customer == null) throw new RuntimeException(&quot;Customer not found&quot;);\r\n            Bill bill = new Bill();\r\n            bill.setBillDate(new Date());\r\n            bill.setCustomerId(customerId);\r\n            Bill savedBill = billRepository.save(bill);\r\n            products.forEach(product -&gt; {\r\n                ProductItem productItem = new ProductItem();\r\n                productItem.setBill(savedBill);\r\n                productItem.setProductId(product.getId());\r\n                productItem.setQuantity(1 + new Random().nextInt(10));\r\n                productItem.setPrice(product.getPrice());\r\n                productItem.setDiscount(Math.random());\r\n                productItemRepository.save(productItem);\r\n            });\r\n        };\r\n    }\r\n\r\n}\r\n```\r\n\r\nmy error\r\n\r\n\r\n```\r\nNo Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-loadbalancer?\r\n```\r\nLog error full https://gist.github.com/donhuvy/348aa7b096cde63a7129ad0f009c7507\r\n\r\nHow to fix it?","title":"Spring Boot 3.0.0 + Spring Cloud 2021.0.5 No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-loadbalancer?","body":"<p>I am using Spring Boot 3.0.0 , Spring Cloud 2021.0.5 . I have <code>BillingServiceApplication.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.sid.billingservice;\n\nimport org.sid.billingservice.entities.Bill;\nimport org.sid.billingservice.entities.ProductItem;\nimport org.sid.billingservice.model.Customer;\nimport org.sid.billingservice.model.Product;\nimport org.sid.billingservice.repository.BillRepository;\nimport org.sid.billingservice.repository.ProductItemRepository;\nimport org.sid.billingservice.services.CustomerRestClient;\nimport org.sid.billingservice.services.ProductRestClient;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.ImportAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.openfeign.EnableFeignClients;\nimport org.springframework.cloud.openfeign.FeignAutoConfiguration;\nimport org.springframework.context.annotation.Bean;\n\nimport java.util.Collection;\nimport java.util.Date;\nimport java.util.Random;\n\n@SpringBootApplication\n@EnableFeignClients\n@ImportAutoConfiguration({FeignAutoConfiguration.class})\npublic class BillingServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BillingServiceApplication.class, args);\n    }\n\n    @Bean\n    CommandLineRunner start(BillRepository billRepository, ProductItemRepository productItemRepository, CustomerRestClient customerRestClient, ProductRestClient productRestClient) {\n        return args -&gt; {\n            Collection&lt;Product&gt; products = productRestClient.allProducts().getContent();\n            Long customerId = 1L;\n            Customer customer = customerRestClient.findCustomerById(customerId);\n            if (customer == null) throw new RuntimeException(&quot;Customer not found&quot;);\n            Bill bill = new Bill();\n            bill.setBillDate(new Date());\n            bill.setCustomerId(customerId);\n            Bill savedBill = billRepository.save(bill);\n            products.forEach(product -&gt; {\n                ProductItem productItem = new ProductItem();\n                productItem.setBill(savedBill);\n                productItem.setProductId(product.getId());\n                productItem.setQuantity(1 + new Random().nextInt(10));\n                productItem.setPrice(product.getPrice());\n                productItem.setDiscount(Math.random());\n                productItemRepository.save(productItem);\n            });\n        };\n    }\n\n}\n</code></pre>\n<p>my error</p>\n<pre><code>No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-loadbalancer?\n</code></pre>\n<p>Log error full <a href=\"https://gist.github.com/donhuvy/348aa7b096cde63a7129ad0f009c7507\" rel=\"nofollow noreferrer\">https://gist.github.com/donhuvy/348aa7b096cde63a7129ad0f009c7507</a></p>\n<p>How to fix it?</p>\n"},{"tags":["java","docker","caching","jwt","keycloak"],"answers":[{"comments":[{"owner":{"account_id":3320117,"reputation":569,"user_id":2791503,"accept_rate":50,"display_name":"Juri Adam"},"score":0,"creation_date":1687504461,"post_id":76487888,"comment_id":134948885,"body_markdown":"Indeed that’s an option. What I have done now though is whenever the permission of a user changes in my custom application (wher Keycloak loads users via SPI) then there is a call to admin API of Keycloak to invalidate the session of the user. This way session is only invalidate when user permission change, not on every credential validation.","body":"Indeed that’s an option. What I have done now though is whenever the permission of a user changes in my custom application (wher Keycloak loads users via SPI) then there is a call to admin API of Keycloak to invalidate the session of the user. This way session is only invalidate when user permission change, not on every credential validation."}],"tags":[],"owner":{"account_id":18881846,"reputation":26,"user_id":13774062,"display_name":"Thomas"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686900595,"creation_date":1686900595,"answer_id":76487888,"question_id":75676826,"body_markdown":"Since the credential input validation is always executed in your implemented `UserStorageProvider`, you can simply invalidate the user in the overwritten `isValid()` method using the `KeycloakSession` object:\r\n\r\n```java\r\npublic MyUserStorageProvider(KeycloakSession session, ComponentModel model) {\r\n    this.session = session;\r\n    this.model = model;\r\n}\r\n\r\n @Override\r\npublic boolean isValid(RealmModel realm, UserModel user, CredentialInput credentialInput) {\r\n    // invalidate user in cache here to ensure that custom user attributes are refreshed on every new request\r\n    session.invalidate(InvalidationHandler.ObjectType.USER, user.getId());\r\n\r\n    ...\r\n}\r\n```","title":"Keycloak issues JWT token with outdated custom attributes from user storage SPI","body":"<p>Since the credential input validation is always executed in your implemented <code>UserStorageProvider</code>, you can simply invalidate the user in the overwritten <code>isValid()</code> method using the <code>KeycloakSession</code> object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public MyUserStorageProvider(KeycloakSession session, ComponentModel model) {\n    this.session = session;\n    this.model = model;\n}\n\n @Override\npublic boolean isValid(RealmModel realm, UserModel user, CredentialInput credentialInput) {\n    // invalidate user in cache here to ensure that custom user attributes are refreshed on every new request\n    session.invalidate(InvalidationHandler.ObjectType.USER, user.getId());\n\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":3320117,"reputation":569,"user_id":2791503,"accept_rate":50,"display_name":"Juri Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76487888,"answer_count":1,"score":0,"last_activity_date":1686900595,"creation_date":1678299769,"question_id":75676826,"body_markdown":"Im using Keycloak version 19.0.1 together with a custom user storage SPI to load users from an existing legacy database. Im adding some custom attributes to the Keycloak user representation model via the mentioned user storage SPI. These custom attributes are part of the JWT token to be issued by Keycloak when calling `/token` endpoint. \r\n\r\n\r\nWhen calling `/token` endpoint Keycloak issues the JWT token as expected with the custom attributes. However when a user in the legacy database is updated from the legacy app then keycloak still issues JWT tokens with outdated custom attribute values. I believe this is a caching issue in Keycloak, but was not able to find the correct caching option to disable cache and always get latest custom attribute values for the issued JWT token. Keycloak seems to support a variety of different local and distributed caches by default that can be configured with an XML file:\r\n- https://www.keycloak.org/server/caching\r\n- https://wjw465150.gitbooks.io/keycloak-documentation/content/server_installation/topics/cache/eviction.html\r\n\r\nIm using default caching mode which according to the documentation is Infinispan. I have tried the following so far (see docker image attached below): \r\n- passing `kc.sh build --spi-user-cache-infinispan-enabled=false` option when building keycloak\r\n- passing env variable `KC_SPI_USER_CACHE_DEFAULT_ENABLED=false` during  build phase\r\n- setting `NO_CACHE` policy on user fedaration, but there seems to be a big and custom attributes are missing with this option in Keycloak 19 version: https://github.com/keycloak/keycloak/issues/10826 (therefore not really an option for me right now)\r\n\r\nWhat is the cache configuration I should use to always get latest custom attributes in Keycloak issued JWT token? Should I customize Infinispan configuration by passing XML file? Which cache configuration should change exactly? \r\n\r\n**Note**:\r\nA manual workaround that helps is to invalidate all user sessions for the user in Keycloak. Afterwards keycloak always issues JWT token with latest custom attributes. \r\n\r\n```\r\nFROM &lt;private-/gradle:7.1.0-jdk11 AS build\r\nCOPY --chown=gradle:gradle . /home/gradle/src\r\nWORKDIR /home/gradle/src\r\nRUN gradle build --no-daemon\r\n\r\nFROM &lt;private-registry&gt;/quay.io_keycloak/keycloak:19.0.1 as builder\r\n\r\nENV KC_HEALTH_ENABLED=true\r\nENV KC_METRICS_ENABLED=true\r\nENV KC_DB=postgres\r\nENV KC_HTTP_RELATIVE_PATH=&quot;/auth&quot;\r\n\r\nENV KC_HTTP_ENABLED=true\r\nENV KC_HOSTNAME_STRICT_HTTPS=false\r\nENV KC_HOSTNAME_STRICT=false\r\nENV KC_TRANSACTION_XA_ENABLED=false\r\nENV KC_SPI_USER_CACHE_DEFAULT_ENABLED=false\r\n\r\nCOPY --from=build /home/gradle/src/user-storage-spi/build/libs/*.jar /opt/keycloak/providers/\r\nCOPY /conf/quarkus.properties /opt/keycloak/conf/quarkus.properties\r\n\r\nRUN /opt/keycloak/bin/kc.sh build --spi-user-cache-infinispan-enabled=false\r\n\r\nFROM &lt;private-registry&gt;/quay.io_keycloak/keycloak:19.0.1\r\nCOPY --from=builder /opt/keycloak/ /opt/keycloak/\r\nWORKDIR /opt/keycloak\r\n\r\nENV KC_HTTP_ENABLED=true\r\nENV KC_HOSTNAME_STRICT_HTTPS=false\r\nENV KC_HOSTNAME_STRICT=false\r\nENV KC_TRANSACTION_XA_ENABLED=false\r\nENV KC_SPI_USER_CACHE_DEFAULT_ENABLED=false\r\n\r\nENTRYPOINT [&quot;/opt/keycloak/bin/kc.sh&quot;]\r\n\r\n```\r\n","title":"Keycloak issues JWT token with outdated custom attributes from user storage SPI","body":"<p>Im using Keycloak version 19.0.1 together with a custom user storage SPI to load users from an existing legacy database. Im adding some custom attributes to the Keycloak user representation model via the mentioned user storage SPI. These custom attributes are part of the JWT token to be issued by Keycloak when calling <code>/token</code> endpoint.</p>\n<p>When calling <code>/token</code> endpoint Keycloak issues the JWT token as expected with the custom attributes. However when a user in the legacy database is updated from the legacy app then keycloak still issues JWT tokens with outdated custom attribute values. I believe this is a caching issue in Keycloak, but was not able to find the correct caching option to disable cache and always get latest custom attribute values for the issued JWT token. Keycloak seems to support a variety of different local and distributed caches by default that can be configured with an XML file:</p>\n<ul>\n<li><a href=\"https://www.keycloak.org/server/caching\" rel=\"nofollow noreferrer\">https://www.keycloak.org/server/caching</a></li>\n<li><a href=\"https://wjw465150.gitbooks.io/keycloak-documentation/content/server_installation/topics/cache/eviction.html\" rel=\"nofollow noreferrer\">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_installation/topics/cache/eviction.html</a></li>\n</ul>\n<p>Im using default caching mode which according to the documentation is Infinispan. I have tried the following so far (see docker image attached below):</p>\n<ul>\n<li>passing <code>kc.sh build --spi-user-cache-infinispan-enabled=false</code> option when building keycloak</li>\n<li>passing env variable <code>KC_SPI_USER_CACHE_DEFAULT_ENABLED=false</code> during  build phase</li>\n<li>setting <code>NO_CACHE</code> policy on user fedaration, but there seems to be a big and custom attributes are missing with this option in Keycloak 19 version: <a href=\"https://github.com/keycloak/keycloak/issues/10826\" rel=\"nofollow noreferrer\">https://github.com/keycloak/keycloak/issues/10826</a> (therefore not really an option for me right now)</li>\n</ul>\n<p>What is the cache configuration I should use to always get latest custom attributes in Keycloak issued JWT token? Should I customize Infinispan configuration by passing XML file? Which cache configuration should change exactly?</p>\n<p><strong>Note</strong>:\nA manual workaround that helps is to invalidate all user sessions for the user in Keycloak. Afterwards keycloak always issues JWT token with latest custom attributes.</p>\n<pre><code>FROM &lt;private-/gradle:7.1.0-jdk11 AS build\nCOPY --chown=gradle:gradle . /home/gradle/src\nWORKDIR /home/gradle/src\nRUN gradle build --no-daemon\n\nFROM &lt;private-registry&gt;/quay.io_keycloak/keycloak:19.0.1 as builder\n\nENV KC_HEALTH_ENABLED=true\nENV KC_METRICS_ENABLED=true\nENV KC_DB=postgres\nENV KC_HTTP_RELATIVE_PATH=&quot;/auth&quot;\n\nENV KC_HTTP_ENABLED=true\nENV KC_HOSTNAME_STRICT_HTTPS=false\nENV KC_HOSTNAME_STRICT=false\nENV KC_TRANSACTION_XA_ENABLED=false\nENV KC_SPI_USER_CACHE_DEFAULT_ENABLED=false\n\nCOPY --from=build /home/gradle/src/user-storage-spi/build/libs/*.jar /opt/keycloak/providers/\nCOPY /conf/quarkus.properties /opt/keycloak/conf/quarkus.properties\n\nRUN /opt/keycloak/bin/kc.sh build --spi-user-cache-infinispan-enabled=false\n\nFROM &lt;private-registry&gt;/quay.io_keycloak/keycloak:19.0.1\nCOPY --from=builder /opt/keycloak/ /opt/keycloak/\nWORKDIR /opt/keycloak\n\nENV KC_HTTP_ENABLED=true\nENV KC_HOSTNAME_STRICT_HTTPS=false\nENV KC_HOSTNAME_STRICT=false\nENV KC_TRANSACTION_XA_ENABLED=false\nENV KC_SPI_USER_CACHE_DEFAULT_ENABLED=false\n\nENTRYPOINT [&quot;/opt/keycloak/bin/kc.sh&quot;]\n\n</code></pre>\n"},{"tags":["java","eclipse","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686892303,"creation_date":1686892303,"answer_id":76487109,"question_id":76487078,"body_markdown":"This isn&#39;t an exception, this is the Eclipse compiler creating a class file for you so you can keep working even though your code wouldn&#39;t actually compile with the JDK. Like the message says, you have an invalid escape sequence on line 12. If you&#39;re going to specify Windows paths with the backslashes, the backslashes themselves have to be escaped--with additional backslashes. `&quot;C:\\Users\\91888\\Downloads\\chromedriver_win32.exe&quot;` should be `&quot;C:\\\\Users\\\\91888\\\\Downloads\\\\chromedriver_win32.exe&quot;` in your source file so that the backslashes are preserved in the resulting String.","title":"Getting Exception in thread &quot;main&quot;java.lang.Error","body":"<p>This isn't an exception, this is the Eclipse compiler creating a class file for you so you can keep working even though your code wouldn't actually compile with the JDK. Like the message says, you have an invalid escape sequence on line 12. If you're going to specify Windows paths with the backslashes, the backslashes themselves have to be escaped--with additional backslashes. <code>&quot;C:\\Users\\91888\\Downloads\\chromedriver_win32.exe&quot;</code> should be <code>&quot;C:\\\\Users\\\\91888\\\\Downloads\\\\chromedriver_win32.exe&quot;</code> in your source file so that the backslashes are preserved in the resulting String.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686900426,"creation_date":1686900033,"answer_id":76487826,"question_id":76487078,"body_markdown":"This error message...\r\n\r\n\tException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: Invalid escape sequence (valid ones are \\b \\t \\n \\f \\r &quot; &#39; \\ )\r\n\r\n...implies that there was a compilation error in the escape sequence while interpreting the _ChromeDriver_ absolute path.\r\n\r\nUsing Java while mentioning the system paths you need to escape the `\\` character for the compiler to understand the path.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nYou need to escape all the `\\` characters, effectively replace all the `\\` with `\\\\`. So the line of code:\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\Users\\91888\\Downloads\\chromedriver_win32.exe&quot;);\r\n\t\r\nneeds to be:\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\91888\\\\Downloads\\\\chromedriver_win32.exe&quot;);","title":"Getting Exception in thread &quot;main&quot;java.lang.Error","body":"<p>This error message...</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: Invalid escape sequence (valid ones are \\b \\t \\n \\f \\r &quot; ' \\ )\n</code></pre>\n<p>...implies that there was a compilation error in the escape sequence while interpreting the <em>ChromeDriver</em> absolute path.</p>\n<p>Using Java while mentioning the system paths you need to escape the <code>\\</code> character for the compiler to understand the path.</p>\n<hr />\n<h2>Solution</h2>\n<p>You need to escape all the <code>\\</code> characters, effectively replace all the <code>\\</code> with <code>\\\\</code>. So the line of code:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\Users\\91888\\Downloads\\chromedriver_win32.exe&quot;);\n</code></pre>\n<p>needs to be:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\91888\\\\Downloads\\\\chromedriver_win32.exe&quot;);\n</code></pre>\n"}],"owner":{"account_id":28831529,"reputation":1,"user_id":22081806,"display_name":"Praneeth CH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686900112,"answer_count":2,"score":0,"last_activity_date":1686900426,"creation_date":1686891713,"question_id":76487078,"body_markdown":"CODE:\r\n```java\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class SelIntroduction {\r\n\r\n    public static void main(String[] args) {\r\n        //Invoking Browser\r\n        //Chrome - ChromeDriver -&gt; Methods\r\n        //Chromedriver.exe -&gt; invokes chrome browser//it is a third party library provided by chrome\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\Users\\91888\\Downloads\\chromedriver_win32.exe&quot;);\r\n        //webdriver.chrome.driver-&gt;value of the path \r\n        WebDriver driver = new ChromeDriver();\r\n    }\r\n}\r\n```\r\n\r\nCONSOLE:\r\n\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tInvalid escape sequence (valid ones are  \\b  \\t  \\n  \\f  \\r  \\&quot;  \\&#39;  \\\\ )\r\n\r\n\tat SelIntroduction.main(SelIntroduction.java:12)\r\n\r\n\r\nChrome browser should launch but ended up with an Exception","title":"Getting Exception in thread &quot;main&quot;java.lang.Error","body":"<p>CODE:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class SelIntroduction {\n\n    public static void main(String[] args) {\n        //Invoking Browser\n        //Chrome - ChromeDriver -&gt; Methods\n        //Chromedriver.exe -&gt; invokes chrome browser//it is a third party library provided by chrome\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\Users\\91888\\Downloads\\chromedriver_win32.exe&quot;);\n        //webdriver.chrome.driver-&gt;value of the path \n        WebDriver driver = new ChromeDriver();\n    }\n}\n</code></pre>\n<p>CONSOLE:</p>\n<p>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:\nInvalid escape sequence (valid ones are  \\b  \\t  \\n  \\f  \\r  &quot;  '  \\ )</p>\n<pre><code>at SelIntroduction.main(SelIntroduction.java:12)\n</code></pre>\n<p>Chrome browser should launch but ended up with an Exception</p>\n"},{"tags":["java","java-native-interface","javacpp"],"comments":[{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":0,"creation_date":1686833936,"post_id":76482501,"comment_id":134855852,"body_markdown":"Why is ```matchedIds``` not part of the anonymous handler class? It seems to me like a bad idea to call a native library with side effects (although this may be unrelated to the issue at hand).","body":"Why is <code>matchedIds</code> not part of the anonymous handler class? It seems to me like a bad idea to call a native library with side effects (although this may be unrelated to the issue at hand)."},{"owner":{"account_id":242649,"reputation":2375,"user_id":514306,"accept_rate":84,"display_name":"milan"},"score":0,"creation_date":1686836188,"post_id":76482501,"comment_id":134856422,"body_markdown":"It&#39;s not my code. I would make it all within scope of `scan()` but I don&#39;t think it makes any difference.","body":"It&#39;s not my code. I would make it all within scope of <code>scan()</code> but I don&#39;t think it makes any difference."},{"owner":{"account_id":242649,"reputation":2375,"user_id":514306,"accept_rate":84,"display_name":"milan"},"score":0,"creation_date":1686917195,"post_id":76482501,"comment_id":134867922,"body_markdown":"I suspect my handler gets GC-ed.","body":"I suspect my handler gets GC-ed."}],"owner":{"account_id":242649,"reputation":2375,"user_id":514306,"accept_rate":84,"display_name":"milan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686900362,"creation_date":1686832259,"question_id":76482501,"body_markdown":"I have Java code that calls a native function which fills results by invoking a callback method multiple times _before_ it returns. The native code doesn&#39;t spawn any threads on its own. All java-native is handled by [javacpp](https://github.com/bytedeco/javacpp).\r\nThe outline looks like this:\r\n\r\n```java\r\nclass Scanner {\r\n    private final LinkedList&lt;Long&gt; matchedIds = new LinkedList&lt;&gt;();\r\n\r\n    private final Handler handler = new Handler() {\r\n        public void call(int id) {\r\n            matchedIds.add(id);\r\n        }\r\n    };\r\n\r\n    public void scan() {\r\n      callToNativeLib(handler);\r\n      matchedIds.forEach(System.out::println)  // throws sometimes\r\n    }\r\n}\r\n\r\n\r\nnew Scanner().scan();\r\n```\r\n\r\nThe problem is it sometimes (very rarely) throws:\r\n```\r\njava.lang.NullPointerException: Cannot read field &quot;next&quot; because &quot;this.next&quot; is null\r\n\tat java.base/java.util.LinkedList$ListItr.next(LinkedList.java:897)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:74)\r\n```\r\n\r\nWhy could it be? Almost like the list is made broken by callbacks coming from native code.\r\n\r\n\r\n\r\n**EDIT:**\r\nGot a `ConcurrentModificationException`. My assumptions must be wrong.","title":"Data consistency and native callback from java","body":"<p>I have Java code that calls a native function which fills results by invoking a callback method multiple times <em>before</em> it returns. The native code doesn't spawn any threads on its own. All java-native is handled by <a href=\"https://github.com/bytedeco/javacpp\" rel=\"nofollow noreferrer\">javacpp</a>.\nThe outline looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Scanner {\n    private final LinkedList&lt;Long&gt; matchedIds = new LinkedList&lt;&gt;();\n\n    private final Handler handler = new Handler() {\n        public void call(int id) {\n            matchedIds.add(id);\n        }\n    };\n\n    public void scan() {\n      callToNativeLib(handler);\n      matchedIds.forEach(System.out::println)  // throws sometimes\n    }\n}\n\n\nnew Scanner().scan();\n</code></pre>\n<p>The problem is it sometimes (very rarely) throws:</p>\n<pre><code>java.lang.NullPointerException: Cannot read field &quot;next&quot; because &quot;this.next&quot; is null\n    at java.base/java.util.LinkedList$ListItr.next(LinkedList.java:897)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:74)\n</code></pre>\n<p>Why could it be? Almost like the list is made broken by callbacks coming from native code.</p>\n<p><strong>EDIT:</strong>\nGot a <code>ConcurrentModificationException</code>. My assumptions must be wrong.</p>\n"},{"tags":["java","logging"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686900410,"post_id":76487862,"comment_id":134864522,"body_markdown":"while logging? not. Interrupt the logging, and make sure the file isn&#39;t used anymore.","body":"while logging? not. Interrupt the logging, and make sure the file isn&#39;t used anymore."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1686901854,"post_id":76487862,"comment_id":134864769,"body_markdown":"Use a logging framework. Those usually have log rotation &amp; deletion options to make this easy for you.","body":"Use a logging framework. Those usually have log rotation &amp; deletion options to make this easy for you."}],"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686900303,"creation_date":1686900303,"question_id":76487862,"body_markdown":"My application logs data to a file named &quot;log.txt&quot;. However, I am unable to rename or delete the file while logging is in progress. I need to be able to rename the file while the application is running, and if the application cannot find &quot;log.txt&quot; on the next logging attempt, a new &quot;log.txt&quot; file will be created. How can I achieve this?\r\n\r\n\r\nLogger settings\r\n```\r\njava.util.logging.FileHandler.level     = ALL\r\njava.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\r\njava.util.logging.FileHandler.append    = true\r\njava.util.logging.FileHandler.pattern   = log.txt\r\n```\r\n\r\nLogger declaration\r\n```\r\nstatic Logger LOGGER;\r\n    static {\r\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)) {\r\n            LogManager.getLogManager().readConfiguration(ins);\r\n            LOGGER = Logger.getLogger(BuildGet.class.getName());\r\n            initialContext = new InitialContext();\r\n        } catch (NamingException | IOException e) {\r\n            LOGGER.log(Level.WARNING,&quot;EROOR LOGGER &quot;, e);\r\n        }\r\n    }\r\n```\r\n\r\nP.S logger declaration in different classes is the same\r\n\r\n","title":"How to delete or rename a file while logging information into it?","body":"<p>My application logs data to a file named &quot;log.txt&quot;. However, I am unable to rename or delete the file while logging is in progress. I need to be able to rename the file while the application is running, and if the application cannot find &quot;log.txt&quot; on the next logging attempt, a new &quot;log.txt&quot; file will be created. How can I achieve this?</p>\n<p>Logger settings</p>\n<pre><code>java.util.logging.FileHandler.level     = ALL\njava.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\njava.util.logging.FileHandler.append    = true\njava.util.logging.FileHandler.pattern   = log.txt\n</code></pre>\n<p>Logger declaration</p>\n<pre><code>static Logger LOGGER;\n    static {\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)) {\n            LogManager.getLogManager().readConfiguration(ins);\n            LOGGER = Logger.getLogger(BuildGet.class.getName());\n            initialContext = new InitialContext();\n        } catch (NamingException | IOException e) {\n            LOGGER.log(Level.WARNING,&quot;EROOR LOGGER &quot;, e);\n        }\n    }\n</code></pre>\n<p>P.S logger declaration in different classes is the same</p>\n"},{"tags":["java","playframework","java-17"],"answers":[{"tags":[],"owner":{"account_id":5194755,"reputation":4559,"user_id":4662410,"accept_rate":78,"display_name":"Yevgen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686900218,"creation_date":1686900218,"answer_id":76487853,"question_id":76462413,"body_markdown":"Well, play 2.x doesn&#39;t officially support Java17, it&#39;s in experimental mode there. I bet that play 1.x don&#39;t support it even in experimental mode, so I&#39;d recommend to downgrade Java version first. My educated guess would be to downgrade Java to version 8 and continue there.","title":"Play 1.7.1 - JDK17 - Compiler Error : The type is already defined","body":"<p>Well, play 2.x doesn't officially support Java17, it's in experimental mode there. I bet that play 1.x don't support it even in experimental mode, so I'd recommend to downgrade Java version first. My educated guess would be to downgrade Java to version 8 and continue there.</p>\n"}],"owner":{"account_id":28810052,"reputation":1,"user_id":22064956,"display_name":"Tomilausa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686900218,"creation_date":1686639942,"question_id":76462413,"body_markdown":"in our project, we are still working with Play 1 (1.5) and due to several reasons we decided to &quot;update&quot; it to Play 1.7.1 and JDK 17.\r\nNow since the Update, i get the following error:\r\n```\r\nCompilation error (In /app/modellogik/mitarbeiter/ModelLogikDn.java around line 23)\r\nThe file /app/modellogik/mitarbeiter/ModelLogikDn.java could not be compiled. Error raised is : The type ModelLogikDn is already defined\r\n\r\nplay.exceptions.CompilationException: The type ModelLogikDn is already defined\r\n\tat play.classloading.ApplicationCompiler.lambda$compile$0(ApplicationCompiler.java:279) ~[play-1.7.1.jar:?]\r\n\tat org.eclipse.jdt.internal.compiler.Compiler.handleInternalException(Compiler.java:795) ~[org.eclipse.jdt.core-3.29.0.jar:?]\r\n\tat org.eclipse.jdt.internal.compiler.Compiler.processCompiledUnits(Compiler.java:639) ~[org.eclipse.jdt.core-3.29.0.jar:?]\r\n\tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:475) ~[org.eclipse.jdt.core-3.29.0.jar:?]\r\n\tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426) ~[org.eclipse.jdt.core-3.29.0.jar:?]\r\n\tat play.classloading.ApplicationCompiler.compile(ApplicationCompiler.java:313) ~[play-1.7.1.jar:?]\r\n\tat play.classloading.ApplicationClassloader.getAllClasses(ApplicationClassloader.java:438) ~[play-1.7.1.jar:?]\r\n\tat play.classloading.ApplicationClassloader.getAssignableClasses(ApplicationClassloader.java:480) ~[play-1.7.1.jar:?]\r\n\tat play.templates.GroovyTemplateCompiler.compile(GroovyTemplateCompiler.java:31) ~[play-1.7.1.jar:?]\r\n\tat play.templates.TemplateCompiler.compile(TemplateCompiler.java:28) ~[play-1.7.1.jar:?]\r\n\tat play.templates.TemplateLoader.load(TemplateLoader.java:86) ~[play-1.7.1.jar:?]\r\n\tat play.templates.TemplateLoader.load(TemplateLoader.java:194) ~[play-1.7.1.jar:?]\r\n\tat play.server.PlayHandler.serve500(PlayHandler.java:805) ~[play-1.7.1.jar:?]\r\n\tat Invocation.HTTP Request(Play!) ~[?:?]\r\n08:23:52.845 [play-thread-1] ERROR play - \r\n\r\n```\r\n\r\n\r\n\r\n\r\nI already tried to solve this by checking our Code for double entries in function calls, classes, imports, ... like several suggestions here did, but i can&#39;t find the &quot;error&quot;.\r\nThe Code works fine in older versions, but not in this one.\r\nIs there maybe another solution or idea out there I can try?\r\n\r\nThanks in advance \r\nTommy","title":"Play 1.7.1 - JDK17 - Compiler Error : The type is already defined","body":"<p>in our project, we are still working with Play 1 (1.5) and due to several reasons we decided to &quot;update&quot; it to Play 1.7.1 and JDK 17.\nNow since the Update, i get the following error:</p>\n<pre><code>Compilation error (In /app/modellogik/mitarbeiter/ModelLogikDn.java around line 23)\nThe file /app/modellogik/mitarbeiter/ModelLogikDn.java could not be compiled. Error raised is : The type ModelLogikDn is already defined\n\nplay.exceptions.CompilationException: The type ModelLogikDn is already defined\n    at play.classloading.ApplicationCompiler.lambda$compile$0(ApplicationCompiler.java:279) ~[play-1.7.1.jar:?]\n    at org.eclipse.jdt.internal.compiler.Compiler.handleInternalException(Compiler.java:795) ~[org.eclipse.jdt.core-3.29.0.jar:?]\n    at org.eclipse.jdt.internal.compiler.Compiler.processCompiledUnits(Compiler.java:639) ~[org.eclipse.jdt.core-3.29.0.jar:?]\n    at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:475) ~[org.eclipse.jdt.core-3.29.0.jar:?]\n    at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426) ~[org.eclipse.jdt.core-3.29.0.jar:?]\n    at play.classloading.ApplicationCompiler.compile(ApplicationCompiler.java:313) ~[play-1.7.1.jar:?]\n    at play.classloading.ApplicationClassloader.getAllClasses(ApplicationClassloader.java:438) ~[play-1.7.1.jar:?]\n    at play.classloading.ApplicationClassloader.getAssignableClasses(ApplicationClassloader.java:480) ~[play-1.7.1.jar:?]\n    at play.templates.GroovyTemplateCompiler.compile(GroovyTemplateCompiler.java:31) ~[play-1.7.1.jar:?]\n    at play.templates.TemplateCompiler.compile(TemplateCompiler.java:28) ~[play-1.7.1.jar:?]\n    at play.templates.TemplateLoader.load(TemplateLoader.java:86) ~[play-1.7.1.jar:?]\n    at play.templates.TemplateLoader.load(TemplateLoader.java:194) ~[play-1.7.1.jar:?]\n    at play.server.PlayHandler.serve500(PlayHandler.java:805) ~[play-1.7.1.jar:?]\n    at Invocation.HTTP Request(Play!) ~[?:?]\n08:23:52.845 [play-thread-1] ERROR play - \n\n</code></pre>\n<p>I already tried to solve this by checking our Code for double entries in function calls, classes, imports, ... like several suggestions here did, but i can't find the &quot;error&quot;.\nThe Code works fine in older versions, but not in this one.\nIs there maybe another solution or idea out there I can try?</p>\n<p>Thanks in advance\nTommy</p>\n"},{"tags":["java","microsoft-edge","profile","selenium4"],"comments":[{"owner":{"account_id":25983853,"reputation":1595,"user_id":19697081,"display_name":"Kendrick Li"},"score":0,"creation_date":1687504805,"post_id":76478587,"comment_id":134948953,"body_markdown":"Hi @Gajendra Varadhan, may I know if my answer is helpful to you?","body":"Hi @Gajendra Varadhan, may I know if my answer is helpful to you?"}],"answers":[{"comments":[{"owner":{"account_id":7816426,"reputation":43,"user_id":5910982,"display_name":"Gajendra Varadhan"},"score":0,"creation_date":1687832729,"post_id":76487793,"comment_id":134988344,"body_markdown":"This worked! Although, I still need to figure out the sign in part still. Thanks.","body":"This worked! Although, I still need to figure out the sign in part still. Thanks."}],"tags":[],"owner":{"account_id":25983853,"reputation":1595,"user_id":19697081,"display_name":"Kendrick Li"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686899774,"creation_date":1686899774,"answer_id":76487793,"question_id":76478587,"body_markdown":"The specific path should be based on your **Profile path** at edge://version, regardless of OS.\r\n\r\nFor example, if you go to edge://version, and your **Profile path** is `/Users/&lt;USER&gt;/Library/Application support/Microsoft Edge/Profile 1`, your `options` should look like:\r\n\r\n    options.addArguments(&quot;--user-data-dir=\\\\Users\\\\&lt;USER&gt;\\\\Library\\\\Application support\\\\Microsoft Edge&quot;);\r\n    options.addArguments(&quot;--profile-directory=Profile 1&quot;);\r\n\r\nAdditionally, it looks like you have [BrowserSignin][1] configured among your group policies. It would be easier to not configure this policy if possible.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/deployedge/microsoft-edge-policies#browsersignin","title":"Bypass Edge Chromium profile Sign in screen in Selenium 4 Java(MacOS)","body":"<p>The specific path should be based on your <strong>Profile path</strong> at edge://version, regardless of OS.</p>\n<p>For example, if you go to edge://version, and your <strong>Profile path</strong> is <code>/Users/&lt;USER&gt;/Library/Application support/Microsoft Edge/Profile 1</code>, your <code>options</code> should look like:</p>\n<pre><code>options.addArguments(&quot;--user-data-dir=\\\\Users\\\\&lt;USER&gt;\\\\Library\\\\Application support\\\\Microsoft Edge&quot;);\noptions.addArguments(&quot;--profile-directory=Profile 1&quot;);\n</code></pre>\n<p>Additionally, it looks like you have <a href=\"https://learn.microsoft.com/en-us/deployedge/microsoft-edge-policies#browsersignin\" rel=\"nofollow noreferrer\">BrowserSignin</a> configured among your group policies. It would be easier to not configure this policy if possible.</p>\n"}],"owner":{"account_id":7816426,"reputation":43,"user_id":5910982,"display_name":"Gajendra Varadhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76487793,"answer_count":1,"score":0,"last_activity_date":1686899774,"creation_date":1686794123,"question_id":76478587,"body_markdown":"I know this question has been [answered for Windows][1]. Every time I try to automate Edge browser using Selenium 4, I get shown a profile window to select and then to sign in.\r\n\r\n In Windows, you need to pass in the ```options.addArguments(&quot;--user-data-dir=C:\\\\Users\\\\&lt;USER&gt;\\\\AppData\\\\Local\\\\Microsoft\\\\Edge\\\\User Data&quot;);``` \r\n\r\nto the options arguments followed by\r\n\r\n ```options.addArguments(&quot;--profile-directory=Default&quot;);```\r\n\r\nBut has anyone solved it for MacOS? Could not find a `User Data` folder under `/Users/&lt;USER&gt;/Library/Application support/Microsoft Edge/` folder. It directly has `Profile 1` folder for me. I tried various permutations and combinations to set the `--user-data-dir` and `--profile-directory` Nothing seems to be working for me.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74368901/bypass-edge-chromium-profile-sign-in-screen-in-selenium-java/74398539#74398539","title":"Bypass Edge Chromium profile Sign in screen in Selenium 4 Java(MacOS)","body":"<p>I know this question has been <a href=\"https://stackoverflow.com/questions/74368901/bypass-edge-chromium-profile-sign-in-screen-in-selenium-java/74398539#74398539\">answered for Windows</a>. Every time I try to automate Edge browser using Selenium 4, I get shown a profile window to select and then to sign in.</p>\n<p>In Windows, you need to pass in the <code>options.addArguments(&quot;--user-data-dir=C:\\\\Users\\\\&lt;USER&gt;\\\\AppData\\\\Local\\\\Microsoft\\\\Edge\\\\User Data&quot;);</code></p>\n<p>to the options arguments followed by</p>\n<p><code>options.addArguments(&quot;--profile-directory=Default&quot;);</code></p>\n<p>But has anyone solved it for MacOS? Could not find a <code>User Data</code> folder under <code>/Users/&lt;USER&gt;/Library/Application support/Microsoft Edge/</code> folder. It directly has <code>Profile 1</code> folder for me. I tried various permutations and combinations to set the <code>--user-data-dir</code> and <code>--profile-directory</code> Nothing seems to be working for me.</p>\n"},{"tags":["java","netbeans","jakarta-mail","sendmail.exe"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1686835011,"post_id":76482859,"comment_id":134856130,"body_markdown":"for that, you&#39;ll need to check the machines. Seeing as your code works on environment A, it works, and it&#39;s not the code&#39;s error, so this isn&#39;t really a programming issue. Go and check all the logs, dependencies, versions, ...","body":"for that, you&#39;ll need to check the machines. Seeing as your code works on environment A, it works, and it&#39;s not the code&#39;s error, so this isn&#39;t really a programming issue. Go and check all the logs, dependencies, versions, ..."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686836262,"post_id":76482859,"comment_id":134856441,"body_markdown":"Does not work is not a proper way to describe the issue that you have. Please provide the symptoms/errors. Also have you tested the connectivity from the 2nd computer to the email server?","body":"Does not work is not a proper way to describe the issue that you have. Please provide the symptoms/errors. Also have you tested the connectivity from the 2nd computer to the email server?"},{"owner":{"account_id":11334976,"reputation":170,"user_id":8311151,"accept_rate":89,"display_name":"orgen"},"score":0,"creation_date":1686891674,"post_id":76482859,"comment_id":134863277,"body_markdown":"Symptoms/errors: do not send the mail. Connectivity tested, OK.","body":"Symptoms/errors: do not send the mail. Connectivity tested, OK."},{"owner":{"account_id":11334976,"reputation":170,"user_id":8311151,"accept_rate":89,"display_name":"orgen"},"score":0,"creation_date":1686892160,"post_id":76482859,"comment_id":134863322,"body_markdown":"Thanks Stultuske, for giving a way to solve the problem.","body":"Thanks Stultuske, for giving a way to solve the problem."}],"answers":[{"tags":[],"owner":{"account_id":11334976,"reputation":170,"user_id":8311151,"accept_rate":89,"display_name":"orgen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686899698,"creation_date":1686899698,"answer_id":76487781,"question_id":76482859,"body_markdown":"Found the email sent problem.\r\n\r\nI added following property :\r\n\r\n\r\n    props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2 TLSv1.3&quot;);\r\n\r\nYeahhh","title":"Java sendmail works only on development computer?","body":"<p>Found the email sent problem.</p>\n<p>I added following property :</p>\n<pre><code>props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2 TLSv1.3&quot;);\n</code></pre>\n<p>Yeahhh</p>\n"}],"owner":{"account_id":11334976,"reputation":170,"user_id":8311151,"accept_rate":89,"display_name":"orgen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1686899698,"creation_date":1686834743,"question_id":76482859,"body_markdown":"A sendmailcode with java programmed on Apache Netbeans only works on the \r\ndevelopment computer.\r\n\r\n        String host = &quot;smtp.xxxxx.com&quot;;\r\n        String Password = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\r\n        String from = &quot;xxxxx@xxxxx.com&quot;;\r\n        String toAddress = to;\r\n        Properties props = new Properties();\r\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n        props.put(&quot;mail.host&quot;, host);\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.ssl.trust&quot;, &quot;*&quot;);\r\n        \r\n        Session session = Session.getInstance(props, null);\r\n    \r\n        MimeMessage message = new MimeMessage(session);\r\n        message.setFrom(new InternetAddress(from));\r\n        message.setRecipients(Message.RecipientType.TO, toAddress);\r\n        message.setSubject(sub);\r\n        BodyPart messageBodyPart = new MimeBodyPart();\r\n        messageBodyPart.setText(mes);\r\n        Multipart multipart = new MimeMultipart();\r\n        multipart.addBodyPart(messageBodyPart);\r\n        messageBodyPart = new MimeBodyPart();\r\n        DataSource source = new FileDataSource(filename);\r\n        messageBodyPart.setDataHandler(new DataHandler(source));\r\n        messageBodyPart.setFileName(name);\r\n        multipart.addBodyPart(messageBodyPart);\r\n        message.setContent(multipart);\r\n    \r\n        try {\r\n            Transport tr = session.getTransport(&quot;smtp&quot;);\r\n            tr.connect(host, from, Password);\r\n            tr.sendMessage(message, message.getAllRecipients());\r\n            System.out.println(&quot;Mail Sent Successfully&quot;);\r\n            tr.close();\r\n        } catch (SendFailedException sfe) {\r\n            System.out.println(sfe);\r\n        }\r\n\r\nIf I make an installer with all files and install it on a 2nd computer sending an email will not work.\r\n\r\nHow may I find the difference between the development and other computers?\r\nOr the failure?\r\n\r\n","title":"Java sendmail works only on development computer?","body":"<p>A sendmailcode with java programmed on Apache Netbeans only works on the\ndevelopment computer.</p>\n<pre><code>    String host = &quot;smtp.xxxxx.com&quot;;\n    String Password = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\n    String from = &quot;xxxxx@xxxxx.com&quot;;\n    String toAddress = to;\n    Properties props = new Properties();\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n    props.put(&quot;mail.host&quot;, host);\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.ssl.trust&quot;, &quot;*&quot;);\n    \n    Session session = Session.getInstance(props, null);\n\n    MimeMessage message = new MimeMessage(session);\n    message.setFrom(new InternetAddress(from));\n    message.setRecipients(Message.RecipientType.TO, toAddress);\n    message.setSubject(sub);\n    BodyPart messageBodyPart = new MimeBodyPart();\n    messageBodyPart.setText(mes);\n    Multipart multipart = new MimeMultipart();\n    multipart.addBodyPart(messageBodyPart);\n    messageBodyPart = new MimeBodyPart();\n    DataSource source = new FileDataSource(filename);\n    messageBodyPart.setDataHandler(new DataHandler(source));\n    messageBodyPart.setFileName(name);\n    multipart.addBodyPart(messageBodyPart);\n    message.setContent(multipart);\n\n    try {\n        Transport tr = session.getTransport(&quot;smtp&quot;);\n        tr.connect(host, from, Password);\n        tr.sendMessage(message, message.getAllRecipients());\n        System.out.println(&quot;Mail Sent Successfully&quot;);\n        tr.close();\n    } catch (SendFailedException sfe) {\n        System.out.println(sfe);\n    }\n</code></pre>\n<p>If I make an installer with all files and install it on a 2nd computer sending an email will not work.</p>\n<p>How may I find the difference between the development and other computers?\nOr the failure?</p>\n"},{"tags":["java","openstreetmap","mapsforge","osmosis"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686900094,"post_id":76487778,"comment_id":134864461,"body_markdown":"*Caused by: java.lang.ClassNotFoundException: mapsforge-map-writer-master-20230526.153436-506.jar* Something wrong there - that&#39;s not a classname. How are you running this?","body":"<i>Caused by: java.lang.ClassNotFoundException: mapsforge-map-writer-master-20230526.153436-506.jar</i> Something wrong there - that&#39;s not a classname. How are you running this?"},{"owner":{"account_id":16728824,"reputation":31,"user_id":13781026,"display_name":"saad "},"score":0,"creation_date":1686913159,"post_id":76487778,"comment_id":134867156,"body_markdown":"osmosis -p plugins/mapsforge-map-writer-0.19.0-jar-with-dependencies.jar --rb file=&quot;ile-de-france-latest.osm.pbf&quot; --mapfile-writer file=&quot;paris.map&quot; tag-conf-file=&quot;tag-mapping.xml&quot;","body":"osmosis -p plugins/mapsforge-map-writer-0.19.0-jar-with-dependencies.ja&zwnj;&#8203;r --rb file=&quot;ile-de-france-latest.osm.pbf&quot; --mapfile-writer file=&quot;paris.map&quot; tag-conf-file=&quot;tag-mapping.xml&quot;"},{"owner":{"account_id":16728824,"reputation":31,"user_id":13781026,"display_name":"saad "},"score":0,"creation_date":1686915291,"post_id":76487778,"comment_id":134867537,"body_markdown":"I don&#39;t know if I installed mapfile-writer plugin the right way, I installed osmosis with brew first, then I downloaded the jar for the mapfile-writer and placed it in /opt/homebrew/Cellar/osmosis/0.48.3/libexec/lib/default","body":"I don&#39;t know if I installed mapfile-writer plugin the right way, I installed osmosis with brew first, then I downloaded the jar for the mapfile-writer and placed it in /opt/homebrew/Cellar/osmosis/0.48.3/libexec/lib/default"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686916288,"post_id":76487778,"comment_id":134867749,"body_markdown":"f.q. name of the class required there not a jar file. I don&#39;t know how they know the classpath but they will have to","body":"f.q. name of the class required there not a jar file. I don&#39;t know how they know the classpath but they will have to"}],"owner":{"account_id":16728824,"reputation":31,"user_id":13781026,"display_name":"saad "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686899690,"creation_date":1686899690,"question_id":76487778,"body_markdown":"I am trying to use the mapsforge mapfile-writer plugin with osmosis to compile my own map, but I&#39;m encountering an error. The error message I&#39;m receiving is as follows:\r\n\r\n```\r\nJun 16, 2023 9:09:37 AM org.openstreetmap.osmosis.core.Osmosis run\r\nINFO: Osmosis Version 0.48.3\r\nJun 16, 2023 9:09:37 AM org.openstreetmap.osmosis.core.Osmosis main\r\nSEVERE: Execution aborted.\r\norg.openstreetmap.osmosis.core.OsmosisRuntimeException: Unable to load plugin class (mapsforge-map-writer-master-20230526.153436-506.jar).\r\n\tat org.openstreetmap.osmosis.core.TaskRegistrar.loadPluginClass(TaskRegistrar.java:340)\r\n\tat org.openstreetmap.osmosis.core.TaskRegistrar.loadPlugin(TaskRegistrar.java:319)\r\n\tat org.openstreetmap.osmosis.core.TaskRegistrar.initialize(TaskRegistrar.java:84)\r\n\tat org.openstreetmap.osmosis.core.Osmosis.run(Osmosis.java:81)\r\n\tat org.openstreetmap.osmosis.core.Osmosis.main(Osmosis.java:37)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchStandard(Launcher.java:330)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:238)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n\tat org.codehaus.classworlds.Launcher.main(Launcher.java:47)\r\nCaused by: java.lang.ClassNotFoundException: mapsforge-map-writer-master-20230526.153436-506.jar\r\n\tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n\tat org.openstreetmap.osmosis.core.TaskRegistrar.loadPluginClass(TaskRegistrar.java:338)\r\n\t... 11 more\r\n```\r\n\r\nHow can I resolve this issue?","title":"Mapsforge Mapfile-writer plugin not working with osmosis","body":"<p>I am trying to use the mapsforge mapfile-writer plugin with osmosis to compile my own map, but I'm encountering an error. The error message I'm receiving is as follows:</p>\n<pre><code>Jun 16, 2023 9:09:37 AM org.openstreetmap.osmosis.core.Osmosis run\nINFO: Osmosis Version 0.48.3\nJun 16, 2023 9:09:37 AM org.openstreetmap.osmosis.core.Osmosis main\nSEVERE: Execution aborted.\norg.openstreetmap.osmosis.core.OsmosisRuntimeException: Unable to load plugin class (mapsforge-map-writer-master-20230526.153436-506.jar).\n    at org.openstreetmap.osmosis.core.TaskRegistrar.loadPluginClass(TaskRegistrar.java:340)\n    at org.openstreetmap.osmosis.core.TaskRegistrar.loadPlugin(TaskRegistrar.java:319)\n    at org.openstreetmap.osmosis.core.TaskRegistrar.initialize(TaskRegistrar.java:84)\n    at org.openstreetmap.osmosis.core.Osmosis.run(Osmosis.java:81)\n    at org.openstreetmap.osmosis.core.Osmosis.main(Osmosis.java:37)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchStandard(Launcher.java:330)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:238)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n    at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\nCaused by: java.lang.ClassNotFoundException: mapsforge-map-writer-master-20230526.153436-506.jar\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n    at org.openstreetmap.osmosis.core.TaskRegistrar.loadPluginClass(TaskRegistrar.java:338)\n    ... 11 more\n</code></pre>\n<p>How can I resolve this issue?</p>\n"},{"tags":["java","graph","graph-algorithm","genetic-algorithm","subgraph"],"answers":[{"comments":[{"owner":{"account_id":3640234,"reputation":11,"user_id":3034532,"display_name":"Joran Bigalet"},"score":1,"creation_date":1385435403,"post_id":20207316,"comment_id":30131713,"body_markdown":"Since it&#39;s not a path but a subgraph, I don&#39;t see how could a modified Dijkrasta be possible. For a 4 nodes subgraph for example the solution could be the points 14 / 1 / 15 / 7. Am I missing something ?","body":"Since it&#39;s not a path but a subgraph, I don&#39;t see how could a modified Dijkrasta be possible. For a 4 nodes subgraph for example the solution could be the points 14 / 1 / 15 / 7. Am I missing something ?"}],"tags":[],"owner":{"account_id":1776167,"reputation":14529,"user_id":1619929,"accept_rate":64,"display_name":"Johnny Z"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686899559,"creation_date":1385432155,"answer_id":20207316,"question_id":20207173,"body_markdown":"I think you can modify [Dijkstra&#39;s algorithm][1] to solve this problem.\r\n\r\nWith Dijkstra&#39;s algorithm, you are solving the shortest path. Just change that to find the maximum path. To restrict it to only 1, 2, 3 nodes in a graph, keep track of the number of nodes it takes to get to each node when you &quot;visit it&quot;. Stop when there are no other nodes with a count less than the number of nodes you are looking for. \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Dijkstra%27s_algorithm","title":"Maximum N-noded connected subgraph in a node-weighted graph","body":"<p>I think you can modify <a href=\"http://en.wikipedia.org/wiki/Dijkstra%27s_algorithm\" rel=\"nofollow noreferrer\">Dijkstra's algorithm</a> to solve this problem.</p>\n<p>With Dijkstra's algorithm, you are solving the shortest path. Just change that to find the maximum path. To restrict it to only 1, 2, 3 nodes in a graph, keep track of the number of nodes it takes to get to each node when you &quot;visit it&quot;. Stop when there are no other nodes with a count less than the number of nodes you are looking for.</p>\n"}],"owner":{"account_id":3640234,"reputation":11,"user_id":3034532,"display_name":"Joran Bigalet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1686899559,"creation_date":1385430973,"question_id":20207173,"body_markdown":"Take this node weighted graph for example :\r\n\r\n![https://i.stack.imgur.com/DEYJD.png][1]\r\n\r\n- The maximum subgraph containing exactly 1 node (and the &#39;entry point&#39;) would be 14.\r\n- The maximum subgraph containing exactly 2 nodes (and the &#39;entry point&#39;) would be 14 / 9.\r\n- The maximum subgraph containing exactly 3 nodes (and the &#39;entry point&#39;) would be 3 / 19 / 15.\r\n- The maximum subgraph containing exactly 4 nodes (and the &#39;entry point&#39;) would be 14 / 1 / 7 / 240.\r\n\r\nI can&#39;t manage to think of a better method than a bruteforce to get the maximum subgraph.&lt;br&gt;\r\nAnd if there is no known efficient algorithm, would a genetic algorithm be find in that case (the crossovers seem tricky) ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DEYJD.png","title":"Maximum N-noded connected subgraph in a node-weighted graph","body":"<p>Take this node weighted graph for example :</p>\n\n<p><img src=\"https://i.stack.imgur.com/DEYJD.png\" alt=\"https://i.stack.imgur.com/DEYJD.png\"></p>\n\n<ul>\n<li>The maximum subgraph containing exactly 1 node (and the 'entry point') would be 14.</li>\n<li>The maximum subgraph containing exactly 2 nodes (and the 'entry point') would be 14 / 9.</li>\n<li>The maximum subgraph containing exactly 3 nodes (and the 'entry point') would be 3 / 19 / 15.</li>\n<li>The maximum subgraph containing exactly 4 nodes (and the 'entry point') would be 14 / 1 / 7 / 240.</li>\n</ul>\n\n<p>I can't manage to think of a better method than a bruteforce to get the maximum subgraph.<br>\nAnd if there is no known efficient algorithm, would a genetic algorithm be find in that case (the crossovers seem tricky) ?</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"answers":[{"comments":[{"owner":{"account_id":5278063,"reputation":2127,"user_id":4214287,"display_name":"Leet-Falcon"},"score":0,"creation_date":1452060205,"post_id":34626486,"comment_id":56998850,"body_markdown":"Your original issue was regarding the &quot;group-by&quot; granularity of long creationDate ?","body":"Your original issue was regarding the &quot;group-by&quot; granularity of long creationDate ?"},{"owner":{"account_id":5095928,"reputation":1457,"user_id":4376030,"accept_rate":83,"display_name":"ErhWen Kuo"},"score":0,"creation_date":1452062257,"post_id":34626486,"comment_id":56999607,"body_markdown":"Yes, I would like to group-by &quot;Year&quot; &amp; &quot;Month&quot; of &quot;creationDate&quot;, then do some aggregation.","body":"Yes, I would like to group-by &quot;Year&quot; &amp; &quot;Month&quot; of &quot;creationDate&quot;, then do some aggregation."},{"owner":{"account_id":5278063,"reputation":2127,"user_id":4214287,"display_name":"Leet-Falcon"},"score":0,"creation_date":1452062785,"post_id":34626486,"comment_id":56999811,"body_markdown":"So what was wrong with grouping by original creationDate column?","body":"So what was wrong with grouping by original creationDate column?"},{"owner":{"account_id":5095928,"reputation":1457,"user_id":4376030,"accept_rate":83,"display_name":"ErhWen Kuo"},"score":0,"creation_date":1452066186,"post_id":34626486,"comment_id":57001170,"body_markdown":"Because the origin data type in JSON is &quot;long&quot; (unix epoc) , I need to convert this field to &quot;Year&quot; and &quot;Month&quot;, for example: 1452066042000 need to convert to &quot;2016&quot; for &quot;createDate_Year&quot; column and &quot;1&quot; for &quot;createDate_Month&quot; column. This way,  I can utilize spark df.groupBy() and some other aggregation function to computing.","body":"Because the origin data type in JSON is &quot;long&quot; (unix epoc) , I need to convert this field to &quot;Year&quot; and &quot;Month&quot;, for example: 1452066042000 need to convert to &quot;2016&quot; for &quot;createDate_Year&quot; column and &quot;1&quot; for &quot;createDate_Month&quot; column. This way,  I can utilize spark df.groupBy() and some other aggregation function to computing."}],"tags":[],"owner":{"account_id":5095928,"reputation":1457,"user_id":4376030,"accept_rate":83,"display_name":"ErhWen Kuo"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1686899534,"creation_date":1452059420,"answer_id":34626486,"question_id":34626371,"body_markdown":"After checking spark dataframe api and sql function, I come out below snippet:\r\n\r\n&lt;pre&gt;\r\nDateFrame df = sqlContext.read().json(&quot;MY_JSON_DATA_FILE&quot;);\r\n\r\nDataFrame df_DateConverted = df.withColumn(&quot;creationDt&quot;, from_unixtime(df.col(&quot;creationDate&quot;).divide(1000)));\r\n&lt;/pre&gt;\r\n\r\nThe reason why &quot;creationDate&quot; column is divided by &quot;1000&quot; is cause the TimeUnit is different. The orgin &quot;creationDate&quot; is unix epoch in &quot;*milli-second*&quot;, however spark sql &quot;&lt;b&gt;from_unixtime&lt;/b&gt;&quot; is designed to handle unix epoch in &quot;*second*&quot;.","title":"How do I convert column of unix epoch to Date in Apache spark DataFrame using Java?","body":"<p>After checking spark dataframe api and sql function, I come out below snippet:</p>\n<pre>\nDateFrame df = sqlContext.read().json(\"MY_JSON_DATA_FILE\");\n\nDataFrame df_DateConverted = df.withColumn(\"creationDt\", from_unixtime(df.col(\"creationDate\").divide(1000)));\n</pre>\n<p>The reason why &quot;creationDate&quot; column is divided by &quot;1000&quot; is cause the TimeUnit is different. The orgin &quot;creationDate&quot; is unix epoch in &quot;<em>milli-second</em>&quot;, however spark sql &quot;<b>from_unixtime</b>&quot; is designed to handle unix epoch in &quot;<em>second</em>&quot;.</p>\n"},{"tags":[],"owner":{"account_id":13629031,"reputation":71,"user_id":9831524,"display_name":"Ray Metz"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1527035821,"creation_date":1527035821,"answer_id":50478266,"question_id":34626371,"body_markdown":"pyspark converts from Unix epoch milliseconds to dataframe timestamp\r\n\r\n    \r\n    df.select(from_unixtime((df.my_date_column.cast(&#39;bigint&#39;)/1000)).cast(&#39;timestamp&#39;).alias(&#39;my_date_column&#39;))\r\n\r\n","title":"How do I convert column of unix epoch to Date in Apache spark DataFrame using Java?","body":"<p>pyspark converts from Unix epoch milliseconds to dataframe timestamp</p>\n\n<pre><code>df.select(from_unixtime((df.my_date_column.cast('bigint')/1000)).cast('timestamp').alias('my_date_column'))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9273763,"reputation":677,"user_id":6886967,"display_name":"Ganesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1595230527,"creation_date":1595230527,"answer_id":62990622,"question_id":34626371,"body_markdown":"In spark scala,\r\n```\r\nspark.sql(&quot;select from_unixtime(1593543333062/1000) as ts&quot;).show(false)\r\n```","title":"How do I convert column of unix epoch to Date in Apache spark DataFrame using Java?","body":"<p>In spark scala,</p>\n<pre><code>spark.sql(&quot;select from_unixtime(1593543333062/1000) as ts&quot;).show(false)\n</code></pre>\n"}],"owner":{"account_id":5095928,"reputation":1457,"user_id":4376030,"accept_rate":83,"display_name":"ErhWen Kuo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24870,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":34626486,"answer_count":3,"score":8,"last_activity_date":1686899534,"creation_date":1452058880,"question_id":34626371,"body_markdown":"I have a json data file which contain one property [creationDate] which is unix epoc in &quot;long&quot; number type. The Apache Spark DataFrame schema look like below:\r\n\r\n&lt;pre&gt;\r\nroot \r\n |-- &lt;b&gt;creationDate&lt;/b&gt;: long (nullable = true) \r\n |-- id: long (nullable = true) \r\n |-- postTypeId: long (nullable = true)\r\n |-- tags: array (nullable = true)\r\n |    |-- element: string (containsNull = true)\r\n |-- title: string (nullable = true)\r\n |-- viewCount: long (nullable = true)\r\n&lt;/pre&gt;\r\n\r\nI would like to do some groupBy &quot;creationData_Year&quot; which need to get from &quot;creationDate&quot;.\r\n\r\nWhat&#39;s the easiest way to do this kind of convert in *DataFrame* using Java?","title":"How do I convert column of unix epoch to Date in Apache spark DataFrame using Java?","body":"<p>I have a json data file which contain one property [creationDate] which is unix epoc in \"long\" number type. The Apache Spark DataFrame schema look like below:</p>\n\n<pre>\nroot \n |-- <b>creationDate</b>: long (nullable = true) \n |-- id: long (nullable = true) \n |-- postTypeId: long (nullable = true)\n |-- tags: array (nullable = true)\n |    |-- element: string (containsNull = true)\n |-- title: string (nullable = true)\n |-- viewCount: long (nullable = true)\n</pre>\n\n<p>I would like to do some groupBy \"creationData_Year\" which need to get from \"creationDate\".</p>\n\n<p>What's the easiest way to do this kind of convert in <em>DataFrame</em> using Java?</p>\n"},{"tags":["java","itext","tamil"],"comments":[{"owner":{"account_id":1707578,"reputation":868,"user_id":1566339,"display_name":"Andr&#233; Lemos"},"score":1,"creation_date":1686834018,"post_id":76482627,"comment_id":134855869,"body_markdown":"due to the complexity of rendering Tamil language (mainly due to ligatures), the add-on [pdfCalligraph](https://itextpdf.com/products/itext-7/pdfcalligraph) is required for proper rendering.","body":"due to the complexity of rendering Tamil language (mainly due to ligatures), the add-on <a href=\"https://itextpdf.com/products/itext-7/pdfcalligraph\" rel=\"nofollow noreferrer\">pdfCalligraph</a> is required for proper rendering."}],"owner":{"account_id":28827577,"reputation":1,"user_id":22078656,"display_name":"Nithin AG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686899451,"creation_date":1686833131,"question_id":76482627,"body_markdown":"I am using `html2pdf` from `iTextPdf` to convert a html file to pdf. I am using the latest version of iText. That is version 8.0.0 of `itext7-core` and version 5.0.0 of `html2pdf`. I am using `NotoSansTamil-Regular` font file. \r\nHere is my code. \r\n\r\n```\r\n// Initialize PDF writer\r\nPdfWriter writer = new PdfWriter(pdfFilePath);\r\n\r\n// Initialize PDF document\r\nPdfDocument pdf = new PdfDocument(writer);\r\n\r\nConverterProperties props = new ConverterProperties();\r\nFontProvider fp = new DefaultFontProvider(true, true,true );\r\n\r\nfp.addFont(&quot;PATH_TO_MY_FONT_FILE&quot;);\r\nprops.setFontProvider(fp);\r\n\r\npdf.addEventHandler(PdfDocumentEvent.END_PAGE, new FooterHandler());\r\n// Convert HTML to PDF\r\nHtmlConverter.convertToPdf(new FileInputStream(htmlFilePath), pdf, props);\r\n```\r\n\r\nI am including UTF-8 in my Html Charset. \r\n\r\nAfter the conversion, my Pdf has some letter swapped in the words and some help written. Can some please help me what may be wrong here ?\r\n\r\n\r\n\r\nI tried changing the font files. Like ANSI and Unicode fonts. None of them worked. I even changed the font family of the CSS even that did not work.\r\n\r\n","title":"Not able to convert Tamil fonts","body":"<p>I am using <code>html2pdf</code> from <code>iTextPdf</code> to convert a html file to pdf. I am using the latest version of iText. That is version 8.0.0 of <code>itext7-core</code> and version 5.0.0 of <code>html2pdf</code>. I am using <code>NotoSansTamil-Regular</code> font file.\nHere is my code.</p>\n<pre><code>// Initialize PDF writer\nPdfWriter writer = new PdfWriter(pdfFilePath);\n\n// Initialize PDF document\nPdfDocument pdf = new PdfDocument(writer);\n\nConverterProperties props = new ConverterProperties();\nFontProvider fp = new DefaultFontProvider(true, true,true );\n\nfp.addFont(&quot;PATH_TO_MY_FONT_FILE&quot;);\nprops.setFontProvider(fp);\n\npdf.addEventHandler(PdfDocumentEvent.END_PAGE, new FooterHandler());\n// Convert HTML to PDF\nHtmlConverter.convertToPdf(new FileInputStream(htmlFilePath), pdf, props);\n</code></pre>\n<p>I am including UTF-8 in my Html Charset.</p>\n<p>After the conversion, my Pdf has some letter swapped in the words and some help written. Can some please help me what may be wrong here ?</p>\n<p>I tried changing the font files. Like ANSI and Unicode fonts. None of them worked. I even changed the font family of the CSS even that did not work.</p>\n"},{"tags":["java","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686586306,"post_id":76458457,"comment_id":134815813,"body_markdown":"I don&#39;t get the exact need you have: do you want to implement a forwarding proxy by the use of apache httpclient, or just make the library use an existing proxy server in the network?\nAlso please note that a reverse proxy doesn&#39;t have to be configured to be used by a client that is accessing it, it should work transparently to the clients.","body":"I don&#39;t get the exact need you have: do you want to implement a forwarding proxy by the use of apache httpclient, or just make the library use an existing proxy server in the network? Also please note that a reverse proxy doesn&#39;t have to be configured to be used by a client that is accessing it, it should work transparently to the clients."},{"owner":{"account_id":17573205,"reputation":1,"user_id":12748537,"display_name":"Rafał"},"score":0,"creation_date":1686601370,"post_id":76458457,"comment_id":134818578,"body_markdown":"@cyberbrain I have access to some api via forward proxy and I want apache http client to use this proxy. Unfortunately my code did not work correctly with this proxy and my guess was that I did not configurate something in my code, but I was unable to find information how to configurate forward proxy in apache http client. I am looking for some examle/information how can I use forward proxy in apache http client.","body":"@cyberbrain I have access to some api via forward proxy and I want apache http client to use this proxy. Unfortunately my code did not work correctly with this proxy and my guess was that I did not configurate something in my code, but I was unable to find information how to configurate forward proxy in apache http client. I am looking for some examle/information how can I use forward proxy in apache http client."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686639411,"post_id":76458457,"comment_id":134822627,"body_markdown":"please share some of the code you tried. This is the best way to get answers in SO ;)","body":"please share some of the code you tried. This is the best way to get answers in SO ;)"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686899120,"creation_date":1686899120,"answer_id":76487702,"question_id":76458457,"body_markdown":"Apache httpclient project has a nice [example](https://github.com/apache/httpcomponents-client/blob/4.5.x/httpclient/src/examples/org/apache/http/examples/client/ClientExecuteProxy.java) about how to use proxy on their pages. It&#39;s contained in the sources of the project as _ClientExecuteProxy.java_.\r\n\r\nIn short: you define two `HttpHost` objects, one for the actual target and one for the proxy. Then you set the proxy `HttpHost` in a custom `RequestConfig` with `setProxy(proxyHost)`.\r\n\r\n``` lang-java\r\nHttpHost target = new HttpHost(&quot;httpbin.org&quot;, 443, &quot;https&quot;);\r\nHttpHost proxy = new HttpHost(&quot;127.0.0.1&quot;, 8080, &quot;http&quot;);\r\n\r\nRequestConfig config = RequestConfig.custom()\r\n        .setProxy(proxy)\r\n        .build();\r\nHttpGet request = new HttpGet(&quot;/&quot;);\r\nrequest.setConfig(config);\r\n```","title":"Java Apache HttpClient, Forward Proxy","body":"<p>Apache httpclient project has a nice <a href=\"https://github.com/apache/httpcomponents-client/blob/4.5.x/httpclient/src/examples/org/apache/http/examples/client/ClientExecuteProxy.java\" rel=\"nofollow noreferrer\">example</a> about how to use proxy on their pages. It's contained in the sources of the project as <em>ClientExecuteProxy.java</em>.</p>\n<p>In short: you define two <code>HttpHost</code> objects, one for the actual target and one for the proxy. Then you set the proxy <code>HttpHost</code> in a custom <code>RequestConfig</code> with <code>setProxy(proxyHost)</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpHost target = new HttpHost(&quot;httpbin.org&quot;, 443, &quot;https&quot;);\nHttpHost proxy = new HttpHost(&quot;127.0.0.1&quot;, 8080, &quot;http&quot;);\n\nRequestConfig config = RequestConfig.custom()\n        .setProxy(proxy)\n        .build();\nHttpGet request = new HttpGet(&quot;/&quot;);\nrequest.setConfig(config);\n</code></pre>\n"}],"owner":{"account_id":17573205,"reputation":1,"user_id":12748537,"display_name":"Rafał"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686899120,"creation_date":1686586109,"question_id":76458457,"body_markdown":"I am using apache http client 4.5.14. \r\nHow can I make forward proxy ? I am using HttpClientBuilder and I can use setProxy() or setRoutePlanner() to set proxy.\r\n\r\n\r\nThen how I can set proxy to be forward proxy ? Or maybe I don&#39;t need to do anything and it will detect if proxy is forward/reverse and it will work without any more code ? \r\n\r\n\r\n@Edit more information \r\n\r\nI have access to some api via forward proxy and I want apache http client to use this proxy. Unfortunately my code did not work correctly with this proxy and my guess was that I did not configurate something in my code, but I was unable to find information how to configurate forward proxy in apache http client. I am looking for some examle/information how can I use forward proxy in apache http client.","title":"Java Apache HttpClient, Forward Proxy","body":"<p>I am using apache http client 4.5.14.\nHow can I make forward proxy ? I am using HttpClientBuilder and I can use setProxy() or setRoutePlanner() to set proxy.</p>\n<p>Then how I can set proxy to be forward proxy ? Or maybe I don't need to do anything and it will detect if proxy is forward/reverse and it will work without any more code ?</p>\n<p>@Edit more information</p>\n<p>I have access to some api via forward proxy and I want apache http client to use this proxy. Unfortunately my code did not work correctly with this proxy and my guess was that I did not configurate something in my code, but I was unable to find information how to configurate forward proxy in apache http client. I am looking for some examle/information how can I use forward proxy in apache http client.</p>\n"},{"tags":["java","web","tomcat","war","java-ee-7"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1686899144,"post_id":76487691,"comment_id":134864300,"body_markdown":"Plenty of other ways: Local sockets, websockets, even RMI (don&#39;t use RMI). But it sounds like the easiest way is just to call that endpoint over HTTP.","body":"Plenty of other ways: Local sockets, websockets, even RMI (don&#39;t use RMI). But it sounds like the easiest way is just to call that endpoint over HTTP."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1686910266,"post_id":76487691,"comment_id":134866569,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":23965961,"reputation":1,"user_id":17955464,"display_name":"Francesc Roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686899008,"creation_date":1686899008,"question_id":76487691,"body_markdown":"How do I call a war endpoint from a war that is running in the same server? The same way a client would do or is there any way of doing this interaction more &quot;light&quot; (without involving HTTP).\r\n\r\nI know that I could use some libraries like resteasy client library but I was wondering if there is a more straightforward way","title":"Communication between 2 wars in the same Java Servlet Container","body":"<p>How do I call a war endpoint from a war that is running in the same server? The same way a client would do or is there any way of doing this interaction more &quot;light&quot; (without involving HTTP).</p>\n<p>I know that I could use some libraries like resteasy client library but I was wondering if there is a more straightforward way</p>\n"},{"tags":["java","neural-network","mnist","backpropagation"],"owner":{"account_id":19594123,"reputation":1,"user_id":18064708,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686898956,"creation_date":1686898956,"question_id":76487687,"body_markdown":"Hello I am learning how to make neural networks.  I am starting out with a very simple vanilla network in java that seems unable to learn. The network seems to tend towards outputting values close to 0(generally about 0.05 - 0.2). I think the error is with my backprogation. Here is the co:e for the network: \r\n\r\n```\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\npublic class CustomNeuralNetwork\r\n{\r\n    double[][] InputWeights;\r\n    double[][][] HiddenWeights;\r\n    double[][] OutputWeights;\r\n    double[][] HiddenBias;\r\n    double[] OutputBias;\r\n    public CustomNeuralNetwork(int InputSize, int HiddenLayerSize, int HiddenLayers, int OutputSize){\r\n        InputWeights = new double[HiddenLayerSize][InputSize];\r\n        HiddenWeights = new double[HiddenLayers - 1][HiddenLayerSize][HiddenLayerSize];\r\n        OutputWeights = new double[OutputSize][HiddenLayerSize];\r\n        HiddenBias = new double[HiddenLayers][HiddenLayerSize];\r\n        OutputBias = new double[OutputSize];\r\n    }\r\n    public static double[] Activation(double[] x){\r\n        double[] Out = new double[x.length];\r\n        for(int i = 0; i &lt; Out.length; i++){\r\n            Out[i] = 1 / (1 + Math.exp(-x[i]));\r\n        }\r\n        return Out;\r\n    }\r\n    \r\n    public static double[] ActivationPrime(double[] x){\r\n        double[] Out = new double[x.length];\r\n        for(int i = 0; i &lt; Out.length; i++){\r\n            double Activation = 1 / (1 + Math.exp(-x[i]));\r\n            Out[i] = Activation * (1 - Activation);\r\n        }\r\n        return Out;\r\n    }\r\n    public void InitilizeNetwork(){\r\n        Random r = new Random();\r\n        for(int i = 0; i &lt; InputWeights.length; i++){\r\n            for(int j = 0; j &lt; InputWeights[i].length; j++){\r\n                InputWeights[i][j] = -1 + ( 2 * r.nextDouble());\r\n            }\r\n        }\r\n        for(int i = 0; i &lt; HiddenWeights.length; i++){\r\n            for(int j = 0; j &lt; HiddenWeights[i].length; j++){\r\n                for (int k = 0; k &lt; HiddenWeights[i][j].length; k++){\r\n                    HiddenWeights[i][j][k] = -1 + (2 * r.nextDouble());\r\n                }\r\n            }\r\n        }\r\n        for(int i = 0; i &lt; OutputWeights.length; i++){\r\n            for(int j = 0; j &lt; OutputWeights[i].length; j++){\r\n                OutputWeights[i][j] = -1 + (2 * r.nextDouble());\r\n            }\r\n        }\r\n        //Bias&#39;s don&#39;t need to be initilized since they start at 0\r\n    }\r\n    public static double[] multiply(double[][] matrix, double[] vector) {\r\n        int rows = matrix.length;\r\n        int columns = matrix[0].length;\r\n        double[] result = new double[rows];\r\n\r\n        for (int row = 0; row &lt; rows; row++) {\r\n            double sum = 0;\r\n            for (int column = 0; column &lt; columns; column++) {\r\n                sum += matrix[row][column]\r\n                        * vector[column];\r\n            }\r\n            result[row] = sum;\r\n        }\r\n        return result;\r\n    }\r\n    public static double[] Add(double[] a, double[] b){\r\n        double[] Out = new double[a.length];\r\n        for(int i = 0; i &lt; Out.length; i++){\r\n            Out[i] = a[i] + b[i];\r\n        }\r\n        return Out;\r\n    }\r\n    public static double[] Subtract(double[] a, double[] b){\r\n        double[] Out = new double[a.length];\r\n        for(int i = 0; i &lt; Out.length; i++){\r\n            Out[i] = a[i] - b[i];\r\n        }\r\n        return Out;\r\n    }\r\n    public static double[] Mult(double[] a, double[] b){\r\n        double[] Out = new double[a.length];\r\n        for(int i = 0; i &lt; Out.length; i++){\r\n            Out[i] = a[i] * b[i];\r\n        }\r\n        return Out;\r\n    }\r\n    public Prediction Predict(double[] Inputs){\r\n        Prediction Out = new Prediction();\r\n        \r\n        Out.Inputs = Inputs;\r\n        Out.HiddenLayers = new double[HiddenWeights.length + 1][HiddenBias[0].length];\r\n        double[] CurrentLayer = Activation(Add(multiply(InputWeights, Inputs), HiddenBias[HiddenBias.length - 1]));\r\n        Out.HiddenLayers[Out.HiddenLayers.length - 1] = CurrentLayer;\r\n        for(int i = HiddenWeights.length - 1; i &gt;= 0; i--){\r\n            CurrentLayer = Activation(Add(multiply(HiddenWeights[i], CurrentLayer), HiddenBias[i]));\r\n            \r\n            Out.HiddenLayers[i] = CurrentLayer;\r\n        }\r\n        Out.Outputs = Activation(Add(multiply(OutputWeights, CurrentLayer), OutputBias));\r\n\r\n\r\n        return Out;\r\n        \r\n    }\r\n    public Deltas BackPropagation(Prediction Out){\r\n        //δ Important Greek letter \r\n        double[] δ = Mult((Subtract(Out.Expected, Out.Outputs)), ActivationPrime(Add(multiply(OutputWeights, Out.HiddenLayers[Out.HiddenLayers.length - 1]), OutputBias)));\r\n        double[][] OutputWeightDeltas = new double[OutputWeights.length][OutputWeights[0].length];\r\n        double[] OutputBiasDeltas = new double[OutputBias.length];\r\n        double[][][] HiddenWeightDeltas = new double[HiddenWeights.length][HiddenWeights[0].length][HiddenWeights[0][0].length];\r\n        double[][] HiddenBiasDeltas = new double[HiddenBias.length][HiddenBias[0].length];\r\n        double[][] InputWeightsDeltas = new double[InputWeights.length][Out.HiddenLayers.length];\r\n        for(int i = 0; i &lt; OutputWeightDeltas.length; i++){\r\n            for(int j = 0; j &lt; OutputWeightDeltas[i].length; j++){\r\n                OutputWeightDeltas[i][j] = δ[i] * Out.HiddenLayers[Out.HiddenLayers.length - 1][j];\r\n            }\r\n        }\r\n        for(int i = 0; i &lt; OutputBiasDeltas.length; i++){\r\n            OutputBiasDeltas[i] = δ[i];\r\n        }\r\n        for(int i = 0; i &lt; HiddenWeights.length; i++){\r\n            if(i == 0){\r\n                δ = Mult(ActivationPrime(Add(multiply(HiddenWeights[i], Out.HiddenLayers[i + 1]), HiddenBias[i + 1])), Influence(OutputWeights, δ));\r\n            }\r\n            else{\r\n                δ = Mult(ActivationPrime(Add(multiply(HiddenWeights[i], Out.HiddenLayers[i + 1]), HiddenBias[i + 1])), Influence(HiddenWeights[i - 1], δ));\r\n            }\r\n\r\n            for(int j = 0; j &lt; HiddenWeightDeltas[i].length; j++){\r\n                for(int k = 0; k &lt; HiddenWeightDeltas[i][j].length; k++){\r\n                    HiddenWeightDeltas[i][j][k] = δ[j] * Out.HiddenLayers[i][k];\r\n                }\r\n            }\r\n            for(int j = 0; j &lt; HiddenBiasDeltas[i].length; j++){\r\n                HiddenBiasDeltas[i][j] = δ[j];\r\n            }\r\n        }\r\n        δ = Mult(ActivationPrime(Add(multiply(InputWeights, Out.Inputs), HiddenBias[HiddenBias.length - 1])), Influence(HiddenWeights[HiddenWeights.length - 1], δ));\r\n        for(int i = 0; i &lt; InputWeightsDeltas.length; i++){\r\n            for(int j = 0; j &lt; InputWeightsDeltas[i].length; j++){\r\n                InputWeightsDeltas[i][j] = δ[j] * Out.Inputs[i];\r\n            }\r\n        }\r\n        for(int i = 0; i &lt; HiddenBias[HiddenBias.length - 1].length; i++){\r\n            HiddenBias[HiddenBias.length - 1][i] = δ[i];\r\n        }\r\n        double[] Cost = new double[Out.Expected.length];\r\n        float y = 0;\r\n        for(int i = 0; i &lt; Cost.length; i++){\r\n            Cost[i] = (Out.Expected[i] - Out.Outputs[i]) * (Out.Expected[i] - Out.Outputs[i]); \r\n            y+= Cost[i];\r\n        }\r\n        System.out.println(&quot;Cost: &quot; + y);\r\n        Deltas x = new Deltas();\r\n        x.HiddenBiasDeltas = HiddenBiasDeltas;\r\n        x.HiddenWeightDeltas = HiddenWeightDeltas;\r\n        x.InputWeightsDeltas = InputWeightsDeltas;\r\n        x.OutputBiasDeltas = OutputBiasDeltas;\r\n        x.OutputWeightDeltas = OutputWeightDeltas;\r\n        return x;\r\n        \r\n    }\r\n    \r\n    public static double[] Influence(double[][] Weights, double[] δ){\r\n        double[] Out = new double[Weights[0].length];\r\n        for(int n = 0; n &lt; Out.length; n++){\r\n            for(int m = 0; m &lt; Weights.length; m++){\r\n                Out[n] += δ[m] * Weights[m][n];\r\n            }\r\n        \r\n        }\r\n        return Out;\r\n    }   \r\n\r\n}\r\n\r\n```\r\nand the code that calls this:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class DigitRecognizer\r\n{\r\n    \r\n    public static void main(String[] args){\r\n        CustomNeuralNetwork network = new CustomNeuralNetwork(784, 36, 3, 10);\r\n        double[][] TrainingData = new double[60000][784];\r\n        double[][] ExpectedOutputs = new double[60000][10];\r\n        double LearningRate = 0.001;\r\n        int Epoches = 50000;\r\n        try { \r\n            Scanner scan = new Scanner(new File(&quot;mnist_train.csv&quot;));\r\n            \r\n            for(int i = 0; scan.hasNext(); i++){\r\n                String[] Image = scan.next().split(&quot;,&quot;);\r\n                if(Image[0].equals(&quot;0&quot;)){\r\n                    ExpectedOutputs[i] = new double[] { 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0 };\r\n                }\r\n                else if(Image[0].equals(&quot;1&quot;)){\r\n                    ExpectedOutputs[i] = new double[] {0, 1, 0, 0, 0, 0, 0, 0, 0, 0};\r\n                }\r\n                else if(Image[0].equals(&quot;2&quot;)){\r\n                    ExpectedOutputs[i] = new double[] {0, 0, 1, 0, 0, 0, 0, 0, 0, 0};\r\n                }\r\n                else if(Image[0].equals(&quot;3&quot;)){\r\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 1, 0, 0, 0, 0, 0, 0};\r\n                }\r\n                else if(Image[0].equals(&quot;4&quot;)){\r\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 1, 0, 0, 0, 0, 0};\r\n                }\r\n                else if(Image[0].equals(&quot;5&quot;)){\r\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 1, 0, 0, 0, 0};\r\n                }\r\n                else if(Image[0].equals(&quot;6&quot;)){\r\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 0, 1, 0, 0, 0};\r\n                }\r\n                else if(Image[0].equals(&quot;7&quot;)){\r\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 0, 0, 1, 0, 0};\r\n                }\r\n                else if(Image[0].equals(&quot;8&quot;)){\r\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 0, 0, 0, 1, 0};\r\n                }\r\n                else{\r\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 0, 0, 0, 0, 1};\r\n                }\r\n                for(int j = 0; j &lt; 784; j++){\r\n                    \r\n                    TrainingData[i][j] = Double.parseDouble(Image[j+1])/1000.0 ;\r\n                    \r\n                }\r\n               \r\n                \r\n            }\r\n            scan.close();\r\n        }\r\n        catch(Exception e){System.out.println(&quot;Can&#39;t find File&quot;);}\r\n        network.InitilizeNetwork();\r\n        Random rand = new Random();\r\n        for(int i = 0; i &lt; Epoches; i++){\r\n            Deltas[] BackProp = new Deltas[32];\r\n            for(int j = 0; j &lt; 32; j++){\r\n                int Example = rand.nextInt(0, 60000);\r\n\r\n                Prediction guess = network.Predict(TrainingData[Example]);\r\n                guess.Expected = ExpectedOutputs[Example];\r\n                BackProp[j] = network.BackPropagation(guess);\r\n                \r\n            }\r\n            for(int j = 0; j &lt; 32; j++){\r\n                Deltas x = BackProp[j];\r\n                for(int k = 0; k &lt; x.HiddenBiasDeltas.length; k++){\r\n                    for(int l = 0; l &lt; x.HiddenBiasDeltas[k].length; l++){\r\n                        network.HiddenBias[k][l] += (LearningRate * (1.0/32.0) *x.HiddenBiasDeltas[k][l]);\r\n                    }\r\n                }\r\n                for(int k = 0; k &lt; x.HiddenWeightDeltas.length; k++){\r\n                    for(int l = 0; l &lt; x.HiddenWeightDeltas[k].length; l++){\r\n                        for(int m = 0; m &lt; x.HiddenWeightDeltas[k][l].length; m++){\r\n                            network.HiddenWeights[k][l][m] += (LearningRate * (1.0/32.0) * x.HiddenWeightDeltas[k][l][m]);\r\n                        }\r\n                    }\r\n                }\r\n                for(int k = 0; k &lt; x.InputWeightsDeltas.length; k++){\r\n                    for(int l = 0; l &lt; x.InputWeightsDeltas[k].length; l++){\r\n                        network.InputWeights[k][l] += (LearningRate * (1.0/32.0) * x.InputWeightsDeltas[k][l]);\r\n                    }\r\n                }\r\n                for(int k = 0; k &lt; x.OutputBiasDeltas.length; k++){\r\n                    network.OutputBias[k] += (LearningRate * (1.0/32.0) * x.OutputBiasDeltas[k]);\r\n                }\r\n                for(int k = 0; k &lt; x.OutputWeightDeltas.length; k++){\r\n                    for(int l = 0; l &lt; x.OutputWeightDeltas[k].length; l++){\r\n                        network.OutputWeights[k][l] += (LearningRate * (1.0/32.0) * x.OutputWeightDeltas[k][l]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n(Prediction and deltas are simple data classes with only the variables shown)\r\nThe code is trying to recognize digits with the MNIST data set.","title":"BackPropagation leading to same output values for each training example","body":"<p>Hello I am learning how to make neural networks.  I am starting out with a very simple vanilla network in java that seems unable to learn. The network seems to tend towards outputting values close to 0(generally about 0.05 - 0.2). I think the error is with my backprogation. Here is the co:e for the network:</p>\n<pre><code>import java.util.*;\nimport java.util.stream.*;\npublic class CustomNeuralNetwork\n{\n    double[][] InputWeights;\n    double[][][] HiddenWeights;\n    double[][] OutputWeights;\n    double[][] HiddenBias;\n    double[] OutputBias;\n    public CustomNeuralNetwork(int InputSize, int HiddenLayerSize, int HiddenLayers, int OutputSize){\n        InputWeights = new double[HiddenLayerSize][InputSize];\n        HiddenWeights = new double[HiddenLayers - 1][HiddenLayerSize][HiddenLayerSize];\n        OutputWeights = new double[OutputSize][HiddenLayerSize];\n        HiddenBias = new double[HiddenLayers][HiddenLayerSize];\n        OutputBias = new double[OutputSize];\n    }\n    public static double[] Activation(double[] x){\n        double[] Out = new double[x.length];\n        for(int i = 0; i &lt; Out.length; i++){\n            Out[i] = 1 / (1 + Math.exp(-x[i]));\n        }\n        return Out;\n    }\n    \n    public static double[] ActivationPrime(double[] x){\n        double[] Out = new double[x.length];\n        for(int i = 0; i &lt; Out.length; i++){\n            double Activation = 1 / (1 + Math.exp(-x[i]));\n            Out[i] = Activation * (1 - Activation);\n        }\n        return Out;\n    }\n    public void InitilizeNetwork(){\n        Random r = new Random();\n        for(int i = 0; i &lt; InputWeights.length; i++){\n            for(int j = 0; j &lt; InputWeights[i].length; j++){\n                InputWeights[i][j] = -1 + ( 2 * r.nextDouble());\n            }\n        }\n        for(int i = 0; i &lt; HiddenWeights.length; i++){\n            for(int j = 0; j &lt; HiddenWeights[i].length; j++){\n                for (int k = 0; k &lt; HiddenWeights[i][j].length; k++){\n                    HiddenWeights[i][j][k] = -1 + (2 * r.nextDouble());\n                }\n            }\n        }\n        for(int i = 0; i &lt; OutputWeights.length; i++){\n            for(int j = 0; j &lt; OutputWeights[i].length; j++){\n                OutputWeights[i][j] = -1 + (2 * r.nextDouble());\n            }\n        }\n        //Bias's don't need to be initilized since they start at 0\n    }\n    public static double[] multiply(double[][] matrix, double[] vector) {\n        int rows = matrix.length;\n        int columns = matrix[0].length;\n        double[] result = new double[rows];\n\n        for (int row = 0; row &lt; rows; row++) {\n            double sum = 0;\n            for (int column = 0; column &lt; columns; column++) {\n                sum += matrix[row][column]\n                        * vector[column];\n            }\n            result[row] = sum;\n        }\n        return result;\n    }\n    public static double[] Add(double[] a, double[] b){\n        double[] Out = new double[a.length];\n        for(int i = 0; i &lt; Out.length; i++){\n            Out[i] = a[i] + b[i];\n        }\n        return Out;\n    }\n    public static double[] Subtract(double[] a, double[] b){\n        double[] Out = new double[a.length];\n        for(int i = 0; i &lt; Out.length; i++){\n            Out[i] = a[i] - b[i];\n        }\n        return Out;\n    }\n    public static double[] Mult(double[] a, double[] b){\n        double[] Out = new double[a.length];\n        for(int i = 0; i &lt; Out.length; i++){\n            Out[i] = a[i] * b[i];\n        }\n        return Out;\n    }\n    public Prediction Predict(double[] Inputs){\n        Prediction Out = new Prediction();\n        \n        Out.Inputs = Inputs;\n        Out.HiddenLayers = new double[HiddenWeights.length + 1][HiddenBias[0].length];\n        double[] CurrentLayer = Activation(Add(multiply(InputWeights, Inputs), HiddenBias[HiddenBias.length - 1]));\n        Out.HiddenLayers[Out.HiddenLayers.length - 1] = CurrentLayer;\n        for(int i = HiddenWeights.length - 1; i &gt;= 0; i--){\n            CurrentLayer = Activation(Add(multiply(HiddenWeights[i], CurrentLayer), HiddenBias[i]));\n            \n            Out.HiddenLayers[i] = CurrentLayer;\n        }\n        Out.Outputs = Activation(Add(multiply(OutputWeights, CurrentLayer), OutputBias));\n\n\n        return Out;\n        \n    }\n    public Deltas BackPropagation(Prediction Out){\n        //δ Important Greek letter \n        double[] δ = Mult((Subtract(Out.Expected, Out.Outputs)), ActivationPrime(Add(multiply(OutputWeights, Out.HiddenLayers[Out.HiddenLayers.length - 1]), OutputBias)));\n        double[][] OutputWeightDeltas = new double[OutputWeights.length][OutputWeights[0].length];\n        double[] OutputBiasDeltas = new double[OutputBias.length];\n        double[][][] HiddenWeightDeltas = new double[HiddenWeights.length][HiddenWeights[0].length][HiddenWeights[0][0].length];\n        double[][] HiddenBiasDeltas = new double[HiddenBias.length][HiddenBias[0].length];\n        double[][] InputWeightsDeltas = new double[InputWeights.length][Out.HiddenLayers.length];\n        for(int i = 0; i &lt; OutputWeightDeltas.length; i++){\n            for(int j = 0; j &lt; OutputWeightDeltas[i].length; j++){\n                OutputWeightDeltas[i][j] = δ[i] * Out.HiddenLayers[Out.HiddenLayers.length - 1][j];\n            }\n        }\n        for(int i = 0; i &lt; OutputBiasDeltas.length; i++){\n            OutputBiasDeltas[i] = δ[i];\n        }\n        for(int i = 0; i &lt; HiddenWeights.length; i++){\n            if(i == 0){\n                δ = Mult(ActivationPrime(Add(multiply(HiddenWeights[i], Out.HiddenLayers[i + 1]), HiddenBias[i + 1])), Influence(OutputWeights, δ));\n            }\n            else{\n                δ = Mult(ActivationPrime(Add(multiply(HiddenWeights[i], Out.HiddenLayers[i + 1]), HiddenBias[i + 1])), Influence(HiddenWeights[i - 1], δ));\n            }\n\n            for(int j = 0; j &lt; HiddenWeightDeltas[i].length; j++){\n                for(int k = 0; k &lt; HiddenWeightDeltas[i][j].length; k++){\n                    HiddenWeightDeltas[i][j][k] = δ[j] * Out.HiddenLayers[i][k];\n                }\n            }\n            for(int j = 0; j &lt; HiddenBiasDeltas[i].length; j++){\n                HiddenBiasDeltas[i][j] = δ[j];\n            }\n        }\n        δ = Mult(ActivationPrime(Add(multiply(InputWeights, Out.Inputs), HiddenBias[HiddenBias.length - 1])), Influence(HiddenWeights[HiddenWeights.length - 1], δ));\n        for(int i = 0; i &lt; InputWeightsDeltas.length; i++){\n            for(int j = 0; j &lt; InputWeightsDeltas[i].length; j++){\n                InputWeightsDeltas[i][j] = δ[j] * Out.Inputs[i];\n            }\n        }\n        for(int i = 0; i &lt; HiddenBias[HiddenBias.length - 1].length; i++){\n            HiddenBias[HiddenBias.length - 1][i] = δ[i];\n        }\n        double[] Cost = new double[Out.Expected.length];\n        float y = 0;\n        for(int i = 0; i &lt; Cost.length; i++){\n            Cost[i] = (Out.Expected[i] - Out.Outputs[i]) * (Out.Expected[i] - Out.Outputs[i]); \n            y+= Cost[i];\n        }\n        System.out.println(&quot;Cost: &quot; + y);\n        Deltas x = new Deltas();\n        x.HiddenBiasDeltas = HiddenBiasDeltas;\n        x.HiddenWeightDeltas = HiddenWeightDeltas;\n        x.InputWeightsDeltas = InputWeightsDeltas;\n        x.OutputBiasDeltas = OutputBiasDeltas;\n        x.OutputWeightDeltas = OutputWeightDeltas;\n        return x;\n        \n    }\n    \n    public static double[] Influence(double[][] Weights, double[] δ){\n        double[] Out = new double[Weights[0].length];\n        for(int n = 0; n &lt; Out.length; n++){\n            for(int m = 0; m &lt; Weights.length; m++){\n                Out[n] += δ[m] * Weights[m][n];\n            }\n        \n        }\n        return Out;\n    }   \n\n}\n\n</code></pre>\n<p>and the code that calls this:</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class DigitRecognizer\n{\n    \n    public static void main(String[] args){\n        CustomNeuralNetwork network = new CustomNeuralNetwork(784, 36, 3, 10);\n        double[][] TrainingData = new double[60000][784];\n        double[][] ExpectedOutputs = new double[60000][10];\n        double LearningRate = 0.001;\n        int Epoches = 50000;\n        try { \n            Scanner scan = new Scanner(new File(&quot;mnist_train.csv&quot;));\n            \n            for(int i = 0; scan.hasNext(); i++){\n                String[] Image = scan.next().split(&quot;,&quot;);\n                if(Image[0].equals(&quot;0&quot;)){\n                    ExpectedOutputs[i] = new double[] { 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0 };\n                }\n                else if(Image[0].equals(&quot;1&quot;)){\n                    ExpectedOutputs[i] = new double[] {0, 1, 0, 0, 0, 0, 0, 0, 0, 0};\n                }\n                else if(Image[0].equals(&quot;2&quot;)){\n                    ExpectedOutputs[i] = new double[] {0, 0, 1, 0, 0, 0, 0, 0, 0, 0};\n                }\n                else if(Image[0].equals(&quot;3&quot;)){\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 1, 0, 0, 0, 0, 0, 0};\n                }\n                else if(Image[0].equals(&quot;4&quot;)){\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 1, 0, 0, 0, 0, 0};\n                }\n                else if(Image[0].equals(&quot;5&quot;)){\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 1, 0, 0, 0, 0};\n                }\n                else if(Image[0].equals(&quot;6&quot;)){\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 0, 1, 0, 0, 0};\n                }\n                else if(Image[0].equals(&quot;7&quot;)){\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 0, 0, 1, 0, 0};\n                }\n                else if(Image[0].equals(&quot;8&quot;)){\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 0, 0, 0, 1, 0};\n                }\n                else{\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 0, 0, 0, 0, 1};\n                }\n                for(int j = 0; j &lt; 784; j++){\n                    \n                    TrainingData[i][j] = Double.parseDouble(Image[j+1])/1000.0 ;\n                    \n                }\n               \n                \n            }\n            scan.close();\n        }\n        catch(Exception e){System.out.println(&quot;Can't find File&quot;);}\n        network.InitilizeNetwork();\n        Random rand = new Random();\n        for(int i = 0; i &lt; Epoches; i++){\n            Deltas[] BackProp = new Deltas[32];\n            for(int j = 0; j &lt; 32; j++){\n                int Example = rand.nextInt(0, 60000);\n\n                Prediction guess = network.Predict(TrainingData[Example]);\n                guess.Expected = ExpectedOutputs[Example];\n                BackProp[j] = network.BackPropagation(guess);\n                \n            }\n            for(int j = 0; j &lt; 32; j++){\n                Deltas x = BackProp[j];\n                for(int k = 0; k &lt; x.HiddenBiasDeltas.length; k++){\n                    for(int l = 0; l &lt; x.HiddenBiasDeltas[k].length; l++){\n                        network.HiddenBias[k][l] += (LearningRate * (1.0/32.0) *x.HiddenBiasDeltas[k][l]);\n                    }\n                }\n                for(int k = 0; k &lt; x.HiddenWeightDeltas.length; k++){\n                    for(int l = 0; l &lt; x.HiddenWeightDeltas[k].length; l++){\n                        for(int m = 0; m &lt; x.HiddenWeightDeltas[k][l].length; m++){\n                            network.HiddenWeights[k][l][m] += (LearningRate * (1.0/32.0) * x.HiddenWeightDeltas[k][l][m]);\n                        }\n                    }\n                }\n                for(int k = 0; k &lt; x.InputWeightsDeltas.length; k++){\n                    for(int l = 0; l &lt; x.InputWeightsDeltas[k].length; l++){\n                        network.InputWeights[k][l] += (LearningRate * (1.0/32.0) * x.InputWeightsDeltas[k][l]);\n                    }\n                }\n                for(int k = 0; k &lt; x.OutputBiasDeltas.length; k++){\n                    network.OutputBias[k] += (LearningRate * (1.0/32.0) * x.OutputBiasDeltas[k]);\n                }\n                for(int k = 0; k &lt; x.OutputWeightDeltas.length; k++){\n                    for(int l = 0; l &lt; x.OutputWeightDeltas[k].length; l++){\n                        network.OutputWeights[k][l] += (LearningRate * (1.0/32.0) * x.OutputWeightDeltas[k][l]);\n                    }\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>(Prediction and deltas are simple data classes with only the variables shown)\nThe code is trying to recognize digits with the MNIST data set.</p>\n"},{"tags":["java","quarkus","jbpm","bpmn","bpmn.io"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686922755,"post_id":76487137,"comment_id":134869134,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26025449,"reputation":1,"user_id":19732437,"display_name":"Rahul Malawadkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686898521,"creation_date":1686892738,"question_id":76487137,"body_markdown":"While starting a BPMN process using the API, we send process data in the request body. I want to include some metadata in the request body to distinguish between starting the BPMN process from the UI and through a backend service. Additionally, when starting the process through a backend service, I want to implement a two-way handshake mechanism between the sender and receiver processes. My plan is to use the metadata to identify the sender and acknowledge it after receiving it back from the receiver. \r\nAre there any solutions that someone can suggest? \r\n\r\nThank you.","title":"Send Meda Data in request body for bpmn process","body":"<p>While starting a BPMN process using the API, we send process data in the request body. I want to include some metadata in the request body to distinguish between starting the BPMN process from the UI and through a backend service. Additionally, when starting the process through a backend service, I want to implement a two-way handshake mechanism between the sender and receiver processes. My plan is to use the metadata to identify the sender and acknowledge it after receiving it back from the receiver.\nAre there any solutions that someone can suggest?</p>\n<p>Thank you.</p>\n"},{"tags":["java","javafx","ffmpeg","ubuntu-20.04"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1593331297,"post_id":62619607,"comment_id":110737922,"body_markdown":"the resources lookup is wrong (see the faq on how to do it correctly), not closing as duplicate because there might be another problem. and don&#39;t post images of text ..","body":"the resources lookup is wrong (see the faq on how to do it correctly), not closing as duplicate because there might be another problem. and don&#39;t post images of text .."},{"owner":{"account_id":11072036,"reputation":570,"user_id":12321674,"display_name":"parsa2820"},"score":0,"creation_date":1593341647,"post_id":62619607,"comment_id":110740846,"body_markdown":"@kleopatra can you hlep me more about resources lookup? were should i look for that?","body":"@kleopatra can you hlep me more about resources lookup? were should i look for that?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1593351531,"post_id":62619607,"comment_id":110743830,"body_markdown":"as I said: see the faq (in the javafx tag wiki .. click the learn-more link near the top of the page showing the list of questions for javafx)","body":"as I said: see the faq (in the javafx tag wiki .. click the learn-more link near the top of the page showing the list of questions for javafx)"},{"owner":{"account_id":11072036,"reputation":570,"user_id":12321674,"display_name":"parsa2820"},"score":0,"creation_date":1593359088,"post_id":62619607,"comment_id":110746594,"body_markdown":"@kleopatra I don&#39;t think that is the problem because this code run on windows properly.","body":"@kleopatra I don&#39;t think that is the problem because this code run on windows properly."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1593360380,"post_id":62619607,"comment_id":110747087,"body_markdown":"if it&#39;s working, that&#39;s accidentally - for building correct and robust software, you must stick to the specification (which states exactly which format the resource lookup it expects), always, no exception ..","body":"if it&#39;s working, that&#39;s accidentally - for building correct and robust software, you must stick to the specification (which states exactly which format the resource lookup it expects), always, no exception .."},{"owner":{"account_id":11072036,"reputation":570,"user_id":12321674,"display_name":"parsa2820"},"score":0,"creation_date":1593363153,"post_id":62619607,"comment_id":110748102,"body_markdown":"@kleopatra You are right. I change the code(also in question) but I still getting that same error.","body":"@kleopatra You are right. I change the code(also in question) but I still getting that same error."},{"owner":{"account_id":7841741,"reputation":1744,"user_id":5932611,"display_name":"Tharindu Sathischandra"},"score":0,"creation_date":1600438437,"post_id":62619607,"comment_id":113097474,"body_markdown":"I also get the same problem in Ubuntu 20.04","body":"I also get the same problem in Ubuntu 20.04"},{"owner":{"account_id":11072036,"reputation":570,"user_id":12321674,"display_name":"parsa2820"},"score":0,"creation_date":1600446042,"post_id":62619607,"comment_id":113101019,"body_markdown":"@TharinduSathischandra This is not solved yet. I used another file format to implement my program.","body":"@TharinduSathischandra This is not solved yet. I used another file format to implement my program."},{"owner":{"account_id":7841741,"reputation":1744,"user_id":5932611,"display_name":"Tharindu Sathischandra"},"score":0,"creation_date":1600448771,"post_id":62619607,"comment_id":113102106,"body_markdown":"@parsa2820 which format did u used?","body":"@parsa2820 which format did u used?"},{"owner":{"account_id":11072036,"reputation":570,"user_id":12321674,"display_name":"parsa2820"},"score":1,"creation_date":1600496726,"post_id":62619607,"comment_id":113112246,"body_markdown":"@TharinduSathischandra I used wav. You can easily convert mp3 to wav using ffmpeg.","body":"@TharinduSathischandra I used wav. You can easily convert mp3 to wav using ffmpeg."},{"owner":{"account_id":11585493,"reputation":192,"user_id":8487819,"display_name":"aldora372"},"score":0,"creation_date":1617526262,"post_id":62619607,"comment_id":118324871,"body_markdown":"just wonder have you solved this problem yet? I had the same problem,: https://stackoverflow.com/q/66939226/8487819, and I also met another strange problem with playing audio file in loop mode","body":"just wonder have you solved this problem yet? I had the same problem,: <a href=\"https://stackoverflow.com/q/66939226/8487819\">stackoverflow.com/q/66939226/8487819</a>, and I also met another strange problem with playing audio file in loop mode"}],"answers":[{"comments":[{"owner":{"account_id":11072036,"reputation":570,"user_id":12321674,"display_name":"parsa2820"},"score":0,"creation_date":1593618912,"post_id":62666380,"comment_id":110846322,"body_markdown":"I didn&#39;t come along with any solution yet. It seems there is few JavaFX developer using Gnu/Linux out there :D. I think JavaFX media isn&#39;t able to locate and use mp3 related codec. Didn&#39;t you found similar thing like this?","body":"I didn&#39;t come along with any solution yet. It seems there is few JavaFX developer using Gnu/Linux out there :D. I think JavaFX media isn&#39;t able to locate and use mp3 related codec. Didn&#39;t you found similar thing like this?"},{"owner":{"account_id":8870084,"reputation":171,"user_id":6624035,"display_name":"RushiSrinivas.K"},"score":1,"creation_date":1593621329,"post_id":62666380,"comment_id":110847449,"body_markdown":"Yes I did. They said it was fixed in Java 8 but didn&#39;t work anyway. Just quit it its a waste of time.","body":"Yes I did. They said it was fixed in Java 8 but didn&#39;t work anyway. Just quit it its a waste of time."}],"tags":[],"owner":{"account_id":8870084,"reputation":171,"user_id":6624035,"display_name":"RushiSrinivas.K"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593552285,"creation_date":1593552285,"answer_id":62666380,"question_id":62619607,"body_markdown":"I had this problem for a very long time. In fact, it didn&#39;t work for me on any Linux distro. Try running it on Windows or Mac. But you can look for a solution (Which I didn&#39;t get after looking for a week).","title":"JavaFX media issue on Ubuntu : Could not create player","body":"<p>I had this problem for a very long time. In fact, it didn't work for me on any Linux distro. Try running it on Windows or Mac. But you can look for a solution (Which I didn't get after looking for a week).</p>\n"},{"tags":[],"owner":{"account_id":11585493,"reputation":192,"user_id":8487819,"display_name":"aldora372"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1617542529,"creation_date":1617542529,"answer_id":66941709,"question_id":62619607,"body_markdown":"Another solution is to update javafx, javafx 16 can play mp3 file successfully on ubuntu 20. \r\nyou can download it from here: [javafx download link][1]\r\n\r\n\r\n  [1]: https://gluonhq.com/products/javafx/","title":"JavaFX media issue on Ubuntu : Could not create player","body":"<p>Another solution is to update javafx, javafx 16 can play mp3 file successfully on ubuntu 20.\nyou can download it from here: <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">javafx download link</a></p>\n"},{"tags":[],"owner":{"account_id":28832056,"reputation":11,"user_id":22082214,"display_name":"LeStegii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686898130,"creation_date":1686898130,"answer_id":76487594,"question_id":62619607,"body_markdown":"I had the same issue with JDK 17, many other thread suggest installing **libav-tools**, but it seems like it has been deprecated and is no longer available in recent versions of Ubuntu.\r\n\r\nTherefore you can install **ffmpeg** instead. After installing this, it worked fine for me.\r\n\r\n`sudo apt install ffmpeg`","title":"JavaFX media issue on Ubuntu : Could not create player","body":"<p>I had the same issue with JDK 17, many other thread suggest installing <strong>libav-tools</strong>, but it seems like it has been deprecated and is no longer available in recent versions of Ubuntu.</p>\n<p>Therefore you can install <strong>ffmpeg</strong> instead. After installing this, it worked fine for me.</p>\n<p><code>sudo apt install ffmpeg</code></p>\n"}],"owner":{"account_id":11072036,"reputation":570,"user_id":12321674,"display_name":"parsa2820"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1788,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66941709,"answer_count":3,"score":3,"last_activity_date":1686898130,"creation_date":1593329842,"question_id":62619607,"body_markdown":"I am trying to play mp3 file on JavaFX-11.0.2 on Ubuntu-20.04 using JDK-13.0.2 but I keep getting this same error every time. While I was searching for that I found that JavaFX uses older version of some libraries([See this issue on github][1]). So I compiled and installed ffmpeg-3.1.11 from source. But the same exception is thrown. I put my code and error message bellow. I stuck on this for days so I really appreciate any help. Thanks.\r\n\r\nnote : This is not duplicate qeustion. All other questions regarding to this error happend on different versions and had different causes. I tried most of them but none of them works for me.\r\n\r\n```\r\n/usr/lib/jvm/jdk-13.0.2/bin/java --module-path /opt/javafx-sdk-11.0.2/lib --add-modules=javafx.controls,javafx.fxml,javafx.media -Djava.library.path=/opt/javafx-sdk-11.0.2/lib -javaagent:/opt/idea-IU-201.7846.76/lib/idea_rt.jar=46237:/opt/idea-IU-201.7846.76/bin -Dfile.encoding=UTF-8 -classpath /home/parsa/Documents/welanner/target/classes:/opt/javafx-sdk-11.0.2/lib/src.zip:/opt/javafx-sdk-11.0.2/lib/javafx-swt.jar:/opt/javafx-sdk-11.0.2/lib/javafx.web.jar:/opt/javafx-sdk-11.0.2/lib/javafx.base.jar:/opt/javafx-sdk-11.0.2/lib/javafx.fxml.jar:/opt/javafx-sdk-11.0.2/lib/javafx.media.jar:/opt/javafx-sdk-11.0.2/lib/javafx.swing.jar:/opt/javafx-sdk-11.0.2/lib/javafx.controls.jar:/opt/javafx-sdk-11.0.2/lib/javafx.graphics.jar:/home/parsa/.m2/repository/com/google/code/gson/gson/2.8.6/gson-2.8.6.jar view.GUI\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n\tat java.base/java.lang.Thread.run(Thread.java:830)\r\nCaused by: MediaException: UNKNOWN : com.sun.media.jfxmedia.MediaException: Could not create player! : com.sun.media.jfxmedia.MediaException: Could not create player!\r\n\tat javafx.media/javafx.scene.media.MediaException.exceptionToMediaException(MediaException.java:146)\r\n\tat javafx.media/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:518)\r\n\tat javafx.media/javafx.scene.media.MediaPlayer.&lt;init&gt;(MediaPlayer.java:421)\r\n\tat view.GUI.start(GUI.java:13)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:277)\r\n\t... 1 more\r\nCaused by: com.sun.media.jfxmedia.MediaException: Could not create player!\r\n\tat javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.getPlayer(NativeMediaManager.java:295)\r\n\tat javafx.media/com.sun.media.jfxmedia.MediaManager.getPlayer(MediaManager.java:118)\r\n\tat javafx.media/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:474)\r\n\t... 11 more\r\nException running application view.GUI\r\n\r\nProcess finished with exit code 1\r\n```\r\nThis is my code. I know path and other things are correct because I can run it on Windows properly.\r\n```\r\npackage view;\r\n\r\nimport javafx.scene.media.Media;\r\nimport javafx.scene.media.MediaPlayer;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.File;\r\n\r\npublic class GUI extends javafx.application.Application{\r\n    public void start(Stage stage) throws Exception {\r\n        String path = &quot;/home/parsa/Music/Ninoush.mp3&quot;;\r\n        Media media = new Media(new File(path).toURI().toString());\r\n        MediaPlayer mediaPlayer = new MediaPlayer(media);\r\n        mediaPlayer.setAutoPlay(true);\r\n        stage.setTitle(&quot;Playing audio&quot;);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\nThis is my ffmpeg and libraries versions : \r\n```\r\nffmpeg version 3.1.11 Copyright (c) 2000-2017 the FFmpeg developers\r\nbuilt with gcc 9 (Ubuntu 9.3.0-10ubuntu2)\r\nconfiguration: \r\nlibavutil      55. 28.100 / 55. 28.100\r\nlibavcodec     57. 48.101 / 57. 48.101\r\nlibavformat    57. 41.100 / 57. 41.100\r\nlibavdevice    57.  0.101 / 57.  0.101\r\nlibavfilter     6. 47.100 /  6. 47.100\r\nlibswscale      4.  1.100 /  4.  1.100\r\nlibswresample   2.  1.100 /  2.  1.100\r\n```\r\nEdit 3 : I can play wav file this way but I can&#39;t play mp3.\r\n\r\n  [1]: https://github.com/javafxports/openjdk-jfx/issues/331\r\n","title":"JavaFX media issue on Ubuntu : Could not create player","body":"<p>I am trying to play mp3 file on JavaFX-11.0.2 on Ubuntu-20.04 using JDK-13.0.2 but I keep getting this same error every time. While I was searching for that I found that JavaFX uses older version of some libraries(<a href=\"https://github.com/javafxports/openjdk-jfx/issues/331\" rel=\"nofollow noreferrer\">See this issue on github</a>). So I compiled and installed ffmpeg-3.1.11 from source. But the same exception is thrown. I put my code and error message bellow. I stuck on this for days so I really appreciate any help. Thanks.</p>\n<p>note : This is not duplicate qeustion. All other questions regarding to this error happend on different versions and had different causes. I tried most of them but none of them works for me.</p>\n<pre><code>/usr/lib/jvm/jdk-13.0.2/bin/java --module-path /opt/javafx-sdk-11.0.2/lib --add-modules=javafx.controls,javafx.fxml,javafx.media -Djava.library.path=/opt/javafx-sdk-11.0.2/lib -javaagent:/opt/idea-IU-201.7846.76/lib/idea_rt.jar=46237:/opt/idea-IU-201.7846.76/bin -Dfile.encoding=UTF-8 -classpath /home/parsa/Documents/welanner/target/classes:/opt/javafx-sdk-11.0.2/lib/src.zip:/opt/javafx-sdk-11.0.2/lib/javafx-swt.jar:/opt/javafx-sdk-11.0.2/lib/javafx.web.jar:/opt/javafx-sdk-11.0.2/lib/javafx.base.jar:/opt/javafx-sdk-11.0.2/lib/javafx.fxml.jar:/opt/javafx-sdk-11.0.2/lib/javafx.media.jar:/opt/javafx-sdk-11.0.2/lib/javafx.swing.jar:/opt/javafx-sdk-11.0.2/lib/javafx.controls.jar:/opt/javafx-sdk-11.0.2/lib/javafx.graphics.jar:/home/parsa/.m2/repository/com/google/code/gson/gson/2.8.6/gson-2.8.6.jar view.GUI\nException in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:830)\nCaused by: MediaException: UNKNOWN : com.sun.media.jfxmedia.MediaException: Could not create player! : com.sun.media.jfxmedia.MediaException: Could not create player!\n    at javafx.media/javafx.scene.media.MediaException.exceptionToMediaException(MediaException.java:146)\n    at javafx.media/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:518)\n    at javafx.media/javafx.scene.media.MediaPlayer.&lt;init&gt;(MediaPlayer.java:421)\n    at view.GUI.start(GUI.java:13)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:277)\n    ... 1 more\nCaused by: com.sun.media.jfxmedia.MediaException: Could not create player!\n    at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.getPlayer(NativeMediaManager.java:295)\n    at javafx.media/com.sun.media.jfxmedia.MediaManager.getPlayer(MediaManager.java:118)\n    at javafx.media/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:474)\n    ... 11 more\nException running application view.GUI\n\nProcess finished with exit code 1\n</code></pre>\n<p>This is my code. I know path and other things are correct because I can run it on Windows properly.</p>\n<pre><code>package view;\n\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.stage.Stage;\n\nimport java.io.File;\n\npublic class GUI extends javafx.application.Application{\n    public void start(Stage stage) throws Exception {\n        String path = &quot;/home/parsa/Music/Ninoush.mp3&quot;;\n        Media media = new Media(new File(path).toURI().toString());\n        MediaPlayer mediaPlayer = new MediaPlayer(media);\n        mediaPlayer.setAutoPlay(true);\n        stage.setTitle(&quot;Playing audio&quot;);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>This is my ffmpeg and libraries versions :</p>\n<pre><code>ffmpeg version 3.1.11 Copyright (c) 2000-2017 the FFmpeg developers\nbuilt with gcc 9 (Ubuntu 9.3.0-10ubuntu2)\nconfiguration: \nlibavutil      55. 28.100 / 55. 28.100\nlibavcodec     57. 48.101 / 57. 48.101\nlibavformat    57. 41.100 / 57. 41.100\nlibavdevice    57.  0.101 / 57.  0.101\nlibavfilter     6. 47.100 /  6. 47.100\nlibswscale      4.  1.100 /  4.  1.100\nlibswresample   2.  1.100 /  2.  1.100\n</code></pre>\n<p>Edit 3 : I can play wav file this way but I can't play mp3.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","server"],"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686897645,"creation_date":1686853362,"question_id":76484510,"body_markdown":"I am new to spring boot and trying to implement Spring security.I am trying to implement Oauth security into my project from the following reference \r\n [spring oauth2.0 security][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-security-5-oauth2-login\r\n\r\nI have created following security configuration \r\n\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class AuthorizationServerConfig {\r\n\r\n    private static List&lt;String&gt; clients = Arrays.asList(&quot;google&quot;, &quot;facebook&quot;);\r\n    private static String CLIENT_PROPERTY_KEY\r\n            = &quot;spring.security.oauth2.client.registration.&quot;;\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    public PasswordEncoder getPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests((authorizeRequests) -&gt;\r\n                        authorizeRequests\r\n                                .anyRequest().authenticated()\r\n                                .requestMatchers(&quot;/api/v1/**&quot;).permitAll()\r\n                )\r\n                .oauth2Login(Customizer.withDefaults());\r\n    return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public ClientRegistrationRepository clientRegistrationRepository() {\r\n        List&lt;ClientRegistration&gt; registrations = clients.stream()\r\n                .map(c -&gt; getRegistration(c))\r\n                .filter(registration -&gt; registration != null)\r\n                .collect(Collectors.toList());\r\n\r\n        return new InMemoryClientRegistrationRepository(registrations);\r\n    }\r\n\r\n    @Bean\r\n    public OAuth2AuthorizedClientService authorizedClientService() {\r\n\r\n        return new InMemoryOAuth2AuthorizedClientService(\r\n                clientRegistrationRepository());\r\n    }\r\n\r\n\r\n    private ClientRegistration getRegistration(String client) {\r\n        String clientId = env.getProperty(\r\n                CLIENT_PROPERTY_KEY + client + &quot;.client-id&quot;);\r\n\r\n        if (clientId == null) {\r\n            return null;\r\n        }\r\n\r\n        String clientSecret = env.getProperty(\r\n                CLIENT_PROPERTY_KEY + client + &quot;.client-secret&quot;);\r\n\r\n        if (client.equals(&quot;google&quot;)) {\r\n            return CommonOAuth2Provider.GOOGLE.getBuilder(client)\r\n                    .clientId(clientId).clientSecret(clientSecret).build();\r\n        }\r\n        if (client.equals(&quot;facebook&quot;)) {\r\n            return CommonOAuth2Provider.FACEBOOK.getBuilder(client)\r\n                    .clientId(clientId).clientSecret(clientSecret).build();\r\n        }\r\n        return null;\r\n     }\r\n    }\r\n    \r\n\r\nbut while running the sever I am encountering this error \r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;authorizedClientService&#39; defined in class path resource [com/concious/interviewServiceBackend/security/config/AuthorizationServerConfig.class]: \r\n\r\n    Failed to instantiate [org.springframework.security.oauth2.client.OAuth2AuthorizedClientService]: Factory method &#39;authorizedClientService&#39; threw exception with message: Error creating bean with name &#39;clientRegistrationRepository&#39; defined in class path resource [com/concious/interviewServiceBackend/security/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.oauth2.client.registration.ClientRegistrationRepository]: Factory method &#39;clientRegistrationRepository&#39; threw exception with message: BASIC\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \t... 97 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.OAuth2AuthorizedClientService]: Factory method &#39;authorizedClientService&#39; threw exception with message: Error creating bean with name &#39;clientRegistrationRepository&#39; defined in class path resource [com/concious/interviewServiceBackend/security/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.oauth2.client.registration.ClientRegistrationRepository]: Factory method &#39;clientRegistrationRepository&#39; threw exception with message: BASIC\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \t... 111 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;clientRegistrationRepository&#39; defined in class path resource [com/concious/interviewServiceBackend/security/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.oauth2.client.registration.ClientRegistrationRepository]: Factory method &#39;clientRegistrationRepository&#39; threw exception with message: BASIC\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362) ~[spring-context-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334) ~[spring-context-6.0.9.jar:6.0.9]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.clientRegistrationRepository(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig.authorizedClientService(AuthorizationServerConfig.java:67) ~[classes/:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.CGLIB$authorizedClientService$2(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.9.jar:6.0.9]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.authorizedClientService(&lt;generated&gt;) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \t... 112 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.registration.ClientRegistrationRepository]: Factory method &#39;clientRegistrationRepository&#39; threw exception with message: BASIC\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \t... 133 common frames omitted\r\n    Caused by: java.lang.NoSuchFieldError: BASIC\r\n    \tat org.springframework.security.oauth2.client.registration.ClientRegistration$Builder.&lt;init&gt;(ClientRegistration.java:289) ~[spring-security-oauth2-client-5.3.10.RELEASE.jar:5.3.10.RELEASE]\r\n    \tat org.springframework.security.oauth2.client.registration.ClientRegistration$Builder.&lt;init&gt;(ClientRegistration.java:284) ~[spring-security-oauth2-client-5.3.10.RELEASE.jar:5.3.10.RELEASE]\r\n    \tat org.springframework.security.oauth2.client.registration.ClientRegistration.withRegistrationId(ClientRegistration.java:267) ~[spring-security-oauth2-client-5.3.10.RELEASE.jar:5.3.10.RELEASE]\r\n    \tat com.concious.interviewServiceBackend.security.config.CommonOAuth2Provider.getBuilder(CommonOAuth2Provider.java:83) ~[classes/:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.CommonOAuth2Provider$1.getBuilder(CommonOAuth2Provider.java:17) ~[classes/:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig.getRegistration(AuthorizationServerConfig.java:83) ~[classes/:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig.lambda$clientRegistrationRepository$1(AuthorizationServerConfig.java:56) ~[classes/:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n    \tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1006) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig.clientRegistrationRepository(AuthorizationServerConfig.java:58) ~[classes/:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.CGLIB$clientRegistrationRepository$3(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.9.jar:6.0.9]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.clientRegistrationRepository(&lt;generated&gt;) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \t... 134 common frames omitted\r\n    \r\n    \r\n    Process finished with exit code 1\r\n    \r\napplication.properties contain client details\r\n\r\n    spring.security.oauth2.client.registration.google.client-id=&lt;your client id&gt;\r\n    spring.security.oauth2.client.registration.google.client-secret=&lt;your client secret&gt;\r\n\r\n    spring.security.oauth2.client.registration.facebook.client-id=&lt;your client id&gt;\r\n    spring.security.oauth2.client.registration.facebook.client-secret=&lt;your client secret&gt;\r\n\r\n\r\nPlease help me resolve this issue.\r\n\r\nThis is CommonOAuthProvider \r\n\r\n    public enum CommonOAuth2Provider {\r\n\r\n\tGOOGLE {\r\n\r\n\t\t@Override\r\n\t\tpublic Builder getBuilder(String registrationId) {\r\n\t\t\tClientRegistration.Builder builder = getBuilder(registrationId,\r\n\t\t\t\t\tClientAuthenticationMethod.CLIENT_SECRET_BASIC, DEFAULT_REDIRECT_URL);\r\n\t\t\tbuilder.scope(&quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;);\r\n\t\t\tbuilder.authorizationUri(&quot;https://accounts.google.com/o/oauth2/v2/auth&quot;);\r\n\t\t\tbuilder.tokenUri(&quot;https://www.googleapis.com/oauth2/v4/token&quot;);\r\n\t\t\tbuilder.jwkSetUri(&quot;https://www.googleapis.com/oauth2/v3/certs&quot;);\r\n\t\t\t//builder.issuerUri(&quot;https://accounts.google.com&quot;);\r\n\t\t\tbuilder.userInfoUri(&quot;https://www.googleapis.com/oauth2/v3/userinfo&quot;);\r\n\t\t\tbuilder.userNameAttributeName(IdTokenClaimNames.SUB);\r\n\t\t\tbuilder.clientName(&quot;Google&quot;);\r\n\t\t\treturn builder;\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tGITHUB {\r\n\r\n\t\t@Override\r\n\t\tpublic Builder getBuilder(String registrationId) {\r\n\t\t\tClientRegistration.Builder builder = getBuilder(registrationId,\r\n\t\t\t\t\tClientAuthenticationMethod.CLIENT_SECRET_BASIC, DEFAULT_REDIRECT_URL);\r\n\t\t\tbuilder.scope(&quot;read:user&quot;);\r\n\t\t\tbuilder.authorizationUri(&quot;https://github.com/login/oauth/authorize&quot;);\r\n\t\t\tbuilder.tokenUri(&quot;https://github.com/login/oauth/access_token&quot;);\r\n\t\t\tbuilder.userInfoUri(&quot;https://api.github.com/user&quot;);\r\n\t\t\tbuilder.userNameAttributeName(&quot;id&quot;);\r\n\t\t\tbuilder.clientName(&quot;GitHub&quot;);\r\n\t\t\treturn builder;\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tFACEBOOK {\r\n\r\n\t\t@Override\r\n\t\tpublic Builder getBuilder(String registrationId) {\r\n\t\t\tClientRegistration.Builder builder = getBuilder(registrationId,\r\n\t\t\t\t\tClientAuthenticationMethod.CLIENT_SECRET_POST, DEFAULT_REDIRECT_URL);\r\n\t\t\tbuilder.scope(&quot;public_profile&quot;, &quot;email&quot;);\r\n\t\t\tbuilder.authorizationUri(&quot;https://www.facebook.com/v2.8/dialog/oauth&quot;);\r\n\t\t\tbuilder.tokenUri(&quot;https://graph.facebook.com/v2.8/oauth/access_token&quot;);\r\n\t\t\tbuilder.userInfoUri(&quot;https://graph.facebook.com/me?fields=id,name,email&quot;);\r\n\t\t\tbuilder.userNameAttributeName(&quot;id&quot;);\r\n\t\t\tbuilder.clientName(&quot;Facebook&quot;);\r\n\t\t\treturn builder;\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tOKTA {\r\n\t\t@Override\r\n\t\tpublic Builder getBuilder(String registrationId) {\r\n\t\t\tClientRegistration.Builder builder = getBuilder(registrationId,\r\n\t\t\t\t\tClientAuthenticationMethod.CLIENT_SECRET_BASIC, DEFAULT_REDIRECT_URL);\r\n\t\t\tbuilder.scope(&quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;);\r\n\t\t\tbuilder.userNameAttributeName(IdTokenClaimNames.SUB);\r\n\t\t\tbuilder.clientName(&quot;Okta&quot;);\r\n\t\t\treturn builder;\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tprivate static final String DEFAULT_REDIRECT_URL = &quot;{baseUrl}/{action}/oauth2/code/{registrationId}&quot;;\r\n\r\n\tprotected final ClientRegistration.Builder getBuilder(String registrationId, ClientAuthenticationMethod method,\r\n\t\t\tString redirectUri) {\r\n\t\tClientRegistration.Builder builder = ClientRegistration.withRegistrationId(registrationId);\r\n\t\tbuilder.clientAuthenticationMethod(method);\r\n\t\tbuilder.authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE);\r\n\t\t//builder.redirectUri(redirectUri);\r\n\t\tbuilder.redirectUriTemplate(redirectUri);\r\n\t\treturn builder;\r\n\t}\r\n\r\n\t/**\r\n\t * Create a new\r\n\t * {@link org.springframework.security.oauth2.client.registration.ClientRegistration.Builder\r\n\t * ClientRegistration.Builder} pre-configured with provider defaults.\r\n\t * @param registrationId the registration-id used with the new builder\r\n\t * @return a builder instance\r\n\t */\r\n\tpublic abstract ClientRegistration.Builder getBuilder(String registrationId);\r\n\r\n    }\r\n\r\nexception is occurred in below method \r\n\r\n    protected final ClientRegistration.Builder getBuilder(String registrationId, ClientAuthenticationMethod method,\r\n\t\t\tString redirectUri) {\r\n\t\t**ClientRegistration.Builder builder = ClientRegistration.withRegistrationId(registrationId);**\r\n\t\tbuilder.clientAuthenticationMethod(method);\r\n\t\tbuilder.authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE);\r\n\t\t//builder.redirectUri(redirectUri);\r\n\t\tbuilder.redirectUriTemplate(redirectUri);\r\n\t\treturn builder;\r\n\t}\r\n\r\n \r\n\r\n \r\n\r\n","title":"Factory method &#39;clientRegistrationRepository&#39; threw exception with message: BASIC","body":"<p>I am new to spring boot and trying to implement Spring security.I am trying to implement Oauth security into my project from the following reference\n<a href=\"https://www.baeldung.com/spring-security-5-oauth2-login\" rel=\"nofollow noreferrer\">spring oauth2.0 security</a></p>\n<p>I have created following security configuration</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class AuthorizationServerConfig {\n\nprivate static List&lt;String&gt; clients = Arrays.asList(&quot;google&quot;, &quot;facebook&quot;);\nprivate static String CLIENT_PROPERTY_KEY\n        = &quot;spring.security.oauth2.client.registration.&quot;;\n\n@Autowired\nprivate Environment env;\n\npublic PasswordEncoder getPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n            .authorizeRequests((authorizeRequests) -&gt;\n                    authorizeRequests\n                            .anyRequest().authenticated()\n                            .requestMatchers(&quot;/api/v1/**&quot;).permitAll()\n            )\n            .oauth2Login(Customizer.withDefaults());\nreturn http.build();\n}\n\n@Bean\npublic ClientRegistrationRepository clientRegistrationRepository() {\n    List&lt;ClientRegistration&gt; registrations = clients.stream()\n            .map(c -&gt; getRegistration(c))\n            .filter(registration -&gt; registration != null)\n            .collect(Collectors.toList());\n\n    return new InMemoryClientRegistrationRepository(registrations);\n}\n\n@Bean\npublic OAuth2AuthorizedClientService authorizedClientService() {\n\n    return new InMemoryOAuth2AuthorizedClientService(\n            clientRegistrationRepository());\n}\n\n\nprivate ClientRegistration getRegistration(String client) {\n    String clientId = env.getProperty(\n            CLIENT_PROPERTY_KEY + client + &quot;.client-id&quot;);\n\n    if (clientId == null) {\n        return null;\n    }\n\n    String clientSecret = env.getProperty(\n            CLIENT_PROPERTY_KEY + client + &quot;.client-secret&quot;);\n\n    if (client.equals(&quot;google&quot;)) {\n        return CommonOAuth2Provider.GOOGLE.getBuilder(client)\n                .clientId(clientId).clientSecret(clientSecret).build();\n    }\n    if (client.equals(&quot;facebook&quot;)) {\n        return CommonOAuth2Provider.FACEBOOK.getBuilder(client)\n                .clientId(clientId).clientSecret(clientSecret).build();\n    }\n    return null;\n }\n}\n</code></pre>\n<p>but while running the sever I am encountering this error</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorizedClientService' defined in class path resource [com/concious/interviewServiceBackend/security/config/AuthorizationServerConfig.class]: \n\nFailed to instantiate [org.springframework.security.oauth2.client.OAuth2AuthorizedClientService]: Factory method 'authorizedClientService' threw exception with message: Error creating bean with name 'clientRegistrationRepository' defined in class path resource [com/concious/interviewServiceBackend/security/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.oauth2.client.registration.ClientRegistrationRepository]: Factory method 'clientRegistrationRepository' threw exception with message: BASIC\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 97 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.OAuth2AuthorizedClientService]: Factory method 'authorizedClientService' threw exception with message: Error creating bean with name 'clientRegistrationRepository' defined in class path resource [com/concious/interviewServiceBackend/security/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.oauth2.client.registration.ClientRegistrationRepository]: Factory method 'clientRegistrationRepository' threw exception with message: BASIC\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 111 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientRegistrationRepository' defined in class path resource [com/concious/interviewServiceBackend/security/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.oauth2.client.registration.ClientRegistrationRepository]: Factory method 'clientRegistrationRepository' threw exception with message: BASIC\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334) ~[spring-context-6.0.9.jar:6.0.9]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.clientRegistrationRepository(&lt;generated&gt;) ~[classes/:na]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig.authorizedClientService(AuthorizationServerConfig.java:67) ~[classes/:na]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.CGLIB$authorizedClientService$2(&lt;generated&gt;) ~[classes/:na]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.9.jar:6.0.9]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.authorizedClientService(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 112 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.registration.ClientRegistrationRepository]: Factory method 'clientRegistrationRepository' threw exception with message: BASIC\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 133 common frames omitted\nCaused by: java.lang.NoSuchFieldError: BASIC\n    at org.springframework.security.oauth2.client.registration.ClientRegistration$Builder.&lt;init&gt;(ClientRegistration.java:289) ~[spring-security-oauth2-client-5.3.10.RELEASE.jar:5.3.10.RELEASE]\n    at org.springframework.security.oauth2.client.registration.ClientRegistration$Builder.&lt;init&gt;(ClientRegistration.java:284) ~[spring-security-oauth2-client-5.3.10.RELEASE.jar:5.3.10.RELEASE]\n    at org.springframework.security.oauth2.client.registration.ClientRegistration.withRegistrationId(ClientRegistration.java:267) ~[spring-security-oauth2-client-5.3.10.RELEASE.jar:5.3.10.RELEASE]\n    at com.concious.interviewServiceBackend.security.config.CommonOAuth2Provider.getBuilder(CommonOAuth2Provider.java:83) ~[classes/:na]\n    at com.concious.interviewServiceBackend.security.config.CommonOAuth2Provider$1.getBuilder(CommonOAuth2Provider.java:17) ~[classes/:na]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig.getRegistration(AuthorizationServerConfig.java:83) ~[classes/:na]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig.lambda$clientRegistrationRepository$1(AuthorizationServerConfig.java:56) ~[classes/:na]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1006) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig.clientRegistrationRepository(AuthorizationServerConfig.java:58) ~[classes/:na]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.CGLIB$clientRegistrationRepository$3(&lt;generated&gt;) ~[classes/:na]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.9.jar:6.0.9]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.clientRegistrationRepository(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 134 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>application.properties contain client details</p>\n<pre><code>spring.security.oauth2.client.registration.google.client-id=&lt;your client id&gt;\nspring.security.oauth2.client.registration.google.client-secret=&lt;your client secret&gt;\n\nspring.security.oauth2.client.registration.facebook.client-id=&lt;your client id&gt;\nspring.security.oauth2.client.registration.facebook.client-secret=&lt;your client secret&gt;\n</code></pre>\n<p>Please help me resolve this issue.</p>\n<p>This is CommonOAuthProvider</p>\n<pre><code>public enum CommonOAuth2Provider {\n\nGOOGLE {\n\n    @Override\n    public Builder getBuilder(String registrationId) {\n        ClientRegistration.Builder builder = getBuilder(registrationId,\n                ClientAuthenticationMethod.CLIENT_SECRET_BASIC, DEFAULT_REDIRECT_URL);\n        builder.scope(&quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;);\n        builder.authorizationUri(&quot;https://accounts.google.com/o/oauth2/v2/auth&quot;);\n        builder.tokenUri(&quot;https://www.googleapis.com/oauth2/v4/token&quot;);\n        builder.jwkSetUri(&quot;https://www.googleapis.com/oauth2/v3/certs&quot;);\n        //builder.issuerUri(&quot;https://accounts.google.com&quot;);\n        builder.userInfoUri(&quot;https://www.googleapis.com/oauth2/v3/userinfo&quot;);\n        builder.userNameAttributeName(IdTokenClaimNames.SUB);\n        builder.clientName(&quot;Google&quot;);\n        return builder;\n    }\n\n},\n\nGITHUB {\n\n    @Override\n    public Builder getBuilder(String registrationId) {\n        ClientRegistration.Builder builder = getBuilder(registrationId,\n                ClientAuthenticationMethod.CLIENT_SECRET_BASIC, DEFAULT_REDIRECT_URL);\n        builder.scope(&quot;read:user&quot;);\n        builder.authorizationUri(&quot;https://github.com/login/oauth/authorize&quot;);\n        builder.tokenUri(&quot;https://github.com/login/oauth/access_token&quot;);\n        builder.userInfoUri(&quot;https://api.github.com/user&quot;);\n        builder.userNameAttributeName(&quot;id&quot;);\n        builder.clientName(&quot;GitHub&quot;);\n        return builder;\n    }\n\n},\n\nFACEBOOK {\n\n    @Override\n    public Builder getBuilder(String registrationId) {\n        ClientRegistration.Builder builder = getBuilder(registrationId,\n                ClientAuthenticationMethod.CLIENT_SECRET_POST, DEFAULT_REDIRECT_URL);\n        builder.scope(&quot;public_profile&quot;, &quot;email&quot;);\n        builder.authorizationUri(&quot;https://www.facebook.com/v2.8/dialog/oauth&quot;);\n        builder.tokenUri(&quot;https://graph.facebook.com/v2.8/oauth/access_token&quot;);\n        builder.userInfoUri(&quot;https://graph.facebook.com/me?fields=id,name,email&quot;);\n        builder.userNameAttributeName(&quot;id&quot;);\n        builder.clientName(&quot;Facebook&quot;);\n        return builder;\n    }\n\n},\n\nOKTA {\n    @Override\n    public Builder getBuilder(String registrationId) {\n        ClientRegistration.Builder builder = getBuilder(registrationId,\n                ClientAuthenticationMethod.CLIENT_SECRET_BASIC, DEFAULT_REDIRECT_URL);\n        builder.scope(&quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;);\n        builder.userNameAttributeName(IdTokenClaimNames.SUB);\n        builder.clientName(&quot;Okta&quot;);\n        return builder;\n    }\n\n};\n\nprivate static final String DEFAULT_REDIRECT_URL = &quot;{baseUrl}/{action}/oauth2/code/{registrationId}&quot;;\n\nprotected final ClientRegistration.Builder getBuilder(String registrationId, ClientAuthenticationMethod method,\n        String redirectUri) {\n    ClientRegistration.Builder builder = ClientRegistration.withRegistrationId(registrationId);\n    builder.clientAuthenticationMethod(method);\n    builder.authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE);\n    //builder.redirectUri(redirectUri);\n    builder.redirectUriTemplate(redirectUri);\n    return builder;\n}\n\n/**\n * Create a new\n * {@link org.springframework.security.oauth2.client.registration.ClientRegistration.Builder\n * ClientRegistration.Builder} pre-configured with provider defaults.\n * @param registrationId the registration-id used with the new builder\n * @return a builder instance\n */\npublic abstract ClientRegistration.Builder getBuilder(String registrationId);\n\n}\n</code></pre>\n<p>exception is occurred in below method</p>\n<pre><code>protected final ClientRegistration.Builder getBuilder(String registrationId, ClientAuthenticationMethod method,\n        String redirectUri) {\n    **ClientRegistration.Builder builder = ClientRegistration.withRegistrationId(registrationId);**\n    builder.clientAuthenticationMethod(method);\n    builder.authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE);\n    //builder.redirectUri(redirectUri);\n    builder.redirectUriTemplate(redirectUri);\n    return builder;\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1628284553,"post_id":68687513,"comment_id":121388477,"body_markdown":"You may want to start eclipse with java 16, not just install that","body":"You may want to start eclipse with java 16, not just install that"},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":3,"creation_date":1628284992,"post_id":68687513,"comment_id":121388571,"body_markdown":"One option is to force Eclipse to use a particular VM, by adding two lines in the eclipse.ini file above -vmargs: `-vm` and a line like `C:/Program Files/AdoptOpenJDK/jdk-11.0.6.10-hotspot/bin`","body":"One option is to force Eclipse to use a particular VM, by adding two lines in the eclipse.ini file above -vmargs: <code>-vm</code> and a line like <code>C:&#47;Program Files&#47;AdoptOpenJDK&#47;jdk-11.0.6.10-hotspot&#47;bin</code>"}],"answers":[{"tags":[],"owner":{"account_id":18445221,"reputation":19,"user_id":13436740,"display_name":"jabran jordan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628285085,"creation_date":1628285085,"answer_id":68687600,"question_id":68687513,"body_markdown":"First of all I suggest you check the version of your eclispe IDE. You may have downloaded a version that doesn&#39;t supprot your installed jdk.\r\n\r\nThis link should provide you with the suitable jdk version for every eclipse version.\r\nhttps://wiki.eclipse.org/Eclipse/Installation.\r\n\r\nI hope I helped you a bit.\r\n\r\nCheers!\r\n","title":"Java Eclipse saying my version of JVM is not suitable","body":"<p>First of all I suggest you check the version of your eclispe IDE. You may have downloaded a version that doesn't supprot your installed jdk.</p>\n<p>This link should provide you with the suitable jdk version for every eclipse version.\n<a href=\"https://wiki.eclipse.org/Eclipse/Installation\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/Eclipse/Installation</a>.</p>\n<p>I hope I helped you a bit.</p>\n<p>Cheers!</p>\n"},{"comments":[{"owner":{"account_id":20455091,"reputation":55,"user_id":15008952,"display_name":"Henry"},"score":0,"creation_date":1628296908,"post_id":68687640,"comment_id":121390509,"body_markdown":"This Worked! Thanks!","body":"This Worked! Thanks!"},{"owner":{"account_id":21575801,"reputation":46,"user_id":15907961,"display_name":"Spaceunderflow"},"score":0,"creation_date":1628319483,"post_id":68687640,"comment_id":121392894,"body_markdown":"Maybe you could mark my answer as solution, so others with the same problem know what to do?","body":"Maybe you could mark my answer as solution, so others with the same problem know what to do?"},{"owner":{"account_id":955087,"reputation":57276,"user_id":980550,"accept_rate":70,"display_name":"lurker"},"score":0,"creation_date":1646352615,"post_id":68687640,"comment_id":126108497,"body_markdown":"I tried this. Did not work for me. Message still says, &quot;Version 1.8.0_321 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;.","body":"I tried this. Did not work for me. Message still says, &quot;Version 1.8.0_321 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;."},{"owner":{"account_id":9012137,"reputation":77,"user_id":6716289,"display_name":"GayanS"},"score":0,"creation_date":1649495908,"post_id":68687640,"comment_id":126893875,"body_markdown":"@lurker were you able to solve this issue?","body":"@lurker were you able to solve this issue?"},{"owner":{"account_id":11689970,"reputation":171,"user_id":8558585,"display_name":"MikeTheSapien"},"score":0,"creation_date":1653707983,"post_id":68687640,"comment_id":127922642,"body_markdown":"I didn&#39;t delete mine, but prefixed it with &quot;old_&quot;. So it&#39;s now `C:\\Program Files\\Java\\old_jre1.8.0_331`.\n\nI didn&#39;t delete it since my Eclipse Oxygen.3 March 2018 maybe uses it. I just recently came into a realization that I may be using a very old version of Java, installed by my mentors 5+ years ago.","body":"I didn&#39;t delete mine, but prefixed it with &quot;old_&quot;. So it&#39;s now <code>C:\\Program Files\\Java\\old_jre1.8.0_331</code>.  I didn&#39;t delete it since my Eclipse Oxygen.3 March 2018 maybe uses it. I just recently came into a realization that I may be using a very old version of Java, installed by my mentors 5+ years ago."},{"owner":{"account_id":10887582,"reputation":71,"user_id":8004575,"display_name":"Akshay K"},"score":0,"creation_date":1658983976,"post_id":68687640,"comment_id":129188635,"body_markdown":"Thanks, this worked for me, But I have deleted only JRE folder inside java folder","body":"Thanks, this worked for me, But I have deleted only JRE folder inside java folder"}],"tags":[],"owner":{"account_id":21575801,"reputation":46,"user_id":15907961,"display_name":"Spaceunderflow"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1628285353,"creation_date":1628285353,"answer_id":68687640,"question_id":68687513,"body_markdown":"You should have a folder like ths: `C:\\Program Files\\Java`. In there, there should be a folder named 1.8.0_301. Delete this folder and reinstall java.\r\nI had the same problem, this solved it for me...","title":"Java Eclipse saying my version of JVM is not suitable","body":"<p>You should have a folder like ths: <code>C:\\Program Files\\Java</code>. In there, there should be a folder named 1.8.0_301. Delete this folder and reinstall java.\nI had the same problem, this solved it for me...</p>\n"},{"tags":[],"owner":{"account_id":27232230,"reputation":1,"user_id":20759759,"display_name":"Bola"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671211865,"creation_date":1670872464,"answer_id":74776208,"question_id":68687513,"body_markdown":"I had this problem with Java version 1.8.0_351.\r\nIn the program management settings of Windows I removed Java 8. After that, my Eclipse installation worked fine.","title":"Java Eclipse saying my version of JVM is not suitable","body":"<p>I had this problem with Java version 1.8.0_351.\nIn the program management settings of Windows I removed Java 8. After that, my Eclipse installation worked fine.</p>\n"},{"tags":[],"owner":{"account_id":28832012,"reputation":1,"user_id":22082172,"display_name":"Shouvik Paladhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686897392,"creation_date":1686897392,"answer_id":76487512,"question_id":68687513,"body_markdown":"There will be an eclipse.ini file where it is mentioned which Jdk it is pointing at and the minimum required version. Try tweaking it according to your requirements and it should solve the problem.","title":"Java Eclipse saying my version of JVM is not suitable","body":"<p>There will be an eclipse.ini file where it is mentioned which Jdk it is pointing at and the minimum required version. Try tweaking it according to your requirements and it should solve the problem.</p>\n"}],"owner":{"account_id":20455091,"reputation":55,"user_id":15008952,"display_name":"Henry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11943,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68687640,"answer_count":4,"score":1,"last_activity_date":1686897392,"creation_date":1628284422,"question_id":68687513,"body_markdown":"I run the windows 10 64 bit version of Eclipse. The first time I log onto Eclipse it works just fine (though I haven&#39;t fun any code yet, so I&#39;m not sure if that works) but upon closing and reopening Eclipse it says, &quot;Version 1.8.0_301 of the JVM is not suitable for this product: version 11 or greater is required.&quot; and immediately quits. I have downloaded jdk 16 and installed it. Redownloading Eclipse fixes it until I close it again. How can I fix this? I am a new Java programmer and am not experienced with any of this.","title":"Java Eclipse saying my version of JVM is not suitable","body":"<p>I run the windows 10 64 bit version of Eclipse. The first time I log onto Eclipse it works just fine (though I haven't fun any code yet, so I'm not sure if that works) but upon closing and reopening Eclipse it says, &quot;Version 1.8.0_301 of the JVM is not suitable for this product: version 11 or greater is required.&quot; and immediately quits. I have downloaded jdk 16 and installed it. Redownloading Eclipse fixes it until I close it again. How can I fix this? I am a new Java programmer and am not experienced with any of this.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":1,"creation_date":1686898537,"post_id":76487475,"comment_id":134864198,"body_markdown":"Is the app crashing? Can you see the stacktrace in the Logcat?","body":"Is the app crashing? Can you see the stacktrace in the Logcat?"},{"owner":{"account_id":28729513,"reputation":1,"user_id":22001767,"display_name":"SHUBHAM SAWANT"},"score":0,"creation_date":1686920372,"post_id":76487475,"comment_id":134868600,"body_markdown":"yes i will check , app not crash","body":"yes i will check , app not crash"}],"owner":{"account_id":28729513,"reputation":1,"user_id":22001767,"display_name":"SHUBHAM SAWANT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686896964,"creation_date":1686896964,"question_id":76487475,"body_markdown":"Please help me as my personal WebView app is not launching on Android 13. The installation is successful, but when I try to open it, the app opens and immediately closes.\r\nI am encountering an issue with my personal WebView app on Android 13. While the application installs successfully, it fails to launch properly. Upon attempting to open the app, it immediately closes without any error messages or further indication of the problem. I am seeking assistance to resolve this matter.\r\n\r\nTo provide some context, my app is developed using Java and Android, and it has been functioning flawlessly on Android versions 6 through 12. However, this issue arises exclusively on Android 13","title":"How to open app in android 13 , this is my personal webview app doesn&#39;t open in android 13","body":"<p>Please help me as my personal WebView app is not launching on Android 13. The installation is successful, but when I try to open it, the app opens and immediately closes.\nI am encountering an issue with my personal WebView app on Android 13. While the application installs successfully, it fails to launch properly. Upon attempting to open the app, it immediately closes without any error messages or further indication of the problem. I am seeking assistance to resolve this matter.</p>\n<p>To provide some context, my app is developed using Java and Android, and it has been functioning flawlessly on Android versions 6 through 12. However, this issue arises exclusively on Android 13</p>\n"},{"tags":["java","spring","spring-boot","azure","azure-app-configuration"],"answers":[{"tags":[],"owner":{"account_id":2615962,"reputation":872,"user_id":2265001,"accept_rate":47,"display_name":"Charu Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686896963,"creation_date":1686849502,"answer_id":76484077,"question_id":76483371,"body_markdown":"I solved the above issue by defining another bean like this:\r\n\r\n    @Configuration\r\n    public class TargetConfiguration {\r\n    \r\n            @Bean(&quot;Microsoft.Targeting&quot;)\r\n            public TargetingFilter targetingFilter(TargetingContextAccessor contextAccessor) {\r\n                return new TargetingFilter(contextAccessor, new TargetingEvaluationOptions().setIgnoreCase(true));\r\n            }\r\n        }\r\n\r\nThis will resolve your issue. This is not clearly mentioned anywhere in docs. so required lil POC. \r\n\r\nHope this will help some one else.\r\n\r\n","title":"Azure app config feature flagging for targetted users and groups not working","body":"<p>I solved the above issue by defining another bean like this:</p>\n<pre><code>@Configuration\npublic class TargetConfiguration {\n\n        @Bean(&quot;Microsoft.Targeting&quot;)\n        public TargetingFilter targetingFilter(TargetingContextAccessor contextAccessor) {\n            return new TargetingFilter(contextAccessor, new TargetingEvaluationOptions().setIgnoreCase(true));\n        }\n    }\n</code></pre>\n<p>This will resolve your issue. This is not clearly mentioned anywhere in docs. so required lil POC.</p>\n<p>Hope this will help some one else.</p>\n"}],"owner":{"account_id":2615962,"reputation":872,"user_id":2265001,"accept_rate":47,"display_name":"Charu Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76484077,"answer_count":1,"score":1,"last_activity_date":1686896963,"creation_date":1686843846,"question_id":76483371,"body_markdown":"I am trying to integrate azure app configuration with feature flagging and have added additional filter for targeted users and groups on my azure portal.\r\n\r\nI am using below dependency:\r\n\r\n    implementation (&#39;com.azure.spring:spring-cloud-azure-feature-management-web:5.2.0&#39;)\r\n\r\nHave created a TargetingContextAccessorImpl class like this:\r\n\r\n    public class TargetingContextAccessorImpl implements TargetingContextAccessor {\r\n           \r\n        @Override\r\n        public void configureTargetingContext(TargetingContext context) {\r\n                context.setUserId(&quot;charu.test@gmail.com&quot;);\r\n                ArrayList&lt;String&gt; groups = new ArrayList&lt;String&gt;();\r\n                groups.add(&quot;abc.com&quot;);\r\n                context.setGroups(groups);\r\n        }\r\n    }\r\n\r\nAlso i have created a feature flag with targetting filter on azure portal:\r\n\r\nAnd my controller looks like:\r\n\r\n     @GetMapping(&quot;/fftest&quot;)\r\n        public String test() {\r\n            if (Boolean.TRUE.equals(featureManager.isEnabledAsync(&quot;feature-a&quot;).block())) {\r\n                return &quot;enabled&quot;;\r\n            }\r\n            return &quot;disabled&quot;;\r\n        }\r\n\r\nNow on running my application i am getting:\r\n\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;Microsoft.Targeting&#39; available\r\n\r\nI am following this document: https://learn.microsoft.com/en-us/java/api/overview/azure/spring-cloud-feature-management-readme?view=azure-java-stable\r\n\r\nCan anyone help with the above error log. Their is v.less information available online for Targetting.","title":"Azure app config feature flagging for targetted users and groups not working","body":"<p>I am trying to integrate azure app configuration with feature flagging and have added additional filter for targeted users and groups on my azure portal.</p>\n<p>I am using below dependency:</p>\n<pre><code>implementation ('com.azure.spring:spring-cloud-azure-feature-management-web:5.2.0')\n</code></pre>\n<p>Have created a TargetingContextAccessorImpl class like this:</p>\n<pre><code>public class TargetingContextAccessorImpl implements TargetingContextAccessor {\n       \n    @Override\n    public void configureTargetingContext(TargetingContext context) {\n            context.setUserId(&quot;charu.test@gmail.com&quot;);\n            ArrayList&lt;String&gt; groups = new ArrayList&lt;String&gt;();\n            groups.add(&quot;abc.com&quot;);\n            context.setGroups(groups);\n    }\n}\n</code></pre>\n<p>Also i have created a feature flag with targetting filter on azure portal:</p>\n<p>And my controller looks like:</p>\n<pre><code> @GetMapping(&quot;/fftest&quot;)\n    public String test() {\n        if (Boolean.TRUE.equals(featureManager.isEnabledAsync(&quot;feature-a&quot;).block())) {\n            return &quot;enabled&quot;;\n        }\n        return &quot;disabled&quot;;\n    }\n</code></pre>\n<p>Now on running my application i am getting:</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'Microsoft.Targeting' available\n</code></pre>\n<p>I am following this document: <a href=\"https://learn.microsoft.com/en-us/java/api/overview/azure/spring-cloud-feature-management-readme?view=azure-java-stable\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/api/overview/azure/spring-cloud-feature-management-readme?view=azure-java-stable</a></p>\n<p>Can anyone help with the above error log. Their is v.less information available online for Targetting.</p>\n"},{"tags":["java","auth0"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":1,"creation_date":1686896798,"post_id":76487453,"comment_id":134863916,"body_markdown":"Hi there. Please provide us with what you&#39;ve already tried! [ask]","body":"Hi there. Please provide us with what you&#39;ve already tried! <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"score":0,"creation_date":1686898040,"post_id":76487453,"comment_id":134864117,"body_markdown":"maybe add an example to express your question more clearly","body":"maybe add an example to express your question more clearly"}],"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686896742,"creation_date":1686896742,"question_id":76487453,"body_markdown":"Is it possible when user signs up to my application with Auth0 that I can get the organization name of the email address that it belongs to? If so, how can we do it?","title":"Retrieve organization name from email address with Auth0","body":"<p>Is it possible when user signs up to my application with Auth0 that I can get the organization name of the email address that it belongs to? If so, how can we do it?</p>\n"},{"tags":["java","testng","appium"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1462380383,"post_id":37029997,"comment_id":61617238,"body_markdown":"try implementing a `TestListener`, shall help.","body":"try implementing a <code>TestListener</code>, shall help."}],"answers":[{"comments":[{"owner":{"account_id":3313963,"reputation":11003,"user_id":2786733,"accept_rate":95,"display_name":"Andrejs"},"score":2,"creation_date":1509961217,"post_id":37031372,"comment_id":81217344,"body_markdown":"-1. `@AfterMethod(alwaysRun = true)` and then yes the method will run. There are plenty of cases when you want @AfterMethod to run to do some cleanup. It is like the Java `finally` block","body":"-1. <code>@AfterMethod(alwaysRun = true)</code> and then yes the method will run. There are plenty of cases when you want @AfterMethod to run to do some cleanup. It is like the Java <code>finally</code> block"}],"tags":[],"owner":{"account_id":8279362,"reputation":741,"user_id":6224544,"display_name":"k.s. Karthik"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1462373773,"creation_date":1462373773,"answer_id":37031372,"question_id":37029997,"body_markdown":"In `testng`, if a test case is skipped, then `@AfterMethod` would not be called, as the test case has not been executed. `@AfterMethod` will get executed only when the test case is executed.\r\n\r\nHope this helps.","title":"Detect skipped test in @afterMethod with testng","body":"<p>In <code>testng</code>, if a test case is skipped, then <code>@AfterMethod</code> would not be called, as the test case has not been executed. <code>@AfterMethod</code> will get executed only when the test case is executed.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":6988104,"reputation":2964,"user_id":5358255,"accept_rate":65,"display_name":"noor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462376850,"creation_date":1462376850,"answer_id":37032491,"question_id":37029997,"body_markdown":"kartik is correct, u can not get it through after method, but in report u will find the skipped test case.\r\n\r\nbut if u want to get the skipped test cases, u can add soft dependacies here like : @Test(alwaysRun = true, dependsOnMethods = { &quot;method&quot; }) \r\n\r\nThis creates a soft dependency, i.e. the annotated test should be executed even if the tests it depends on failed/threw an exception and it will invoke in after method.\r\n\r\n","title":"Detect skipped test in @afterMethod with testng","body":"<p>kartik is correct, u can not get it through after method, but in report u will find the skipped test case.</p>\n\n<p>but if u want to get the skipped test cases, u can add soft dependacies here like : @Test(alwaysRun = true, dependsOnMethods = { \"method\" }) </p>\n\n<p>This creates a soft dependency, i.e. the annotated test should be executed even if the tests it depends on failed/threw an exception and it will invoke in after method.</p>\n"},{"tags":[],"owner":{"account_id":4581280,"reputation":481,"user_id":3718160,"accept_rate":35,"display_name":"user3718160"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462518017,"creation_date":1462518017,"answer_id":37066220,"question_id":37029997,"body_markdown":"I found a way of doing it by Implementing the ITestListener class you can find an example there :\r\n\r\nhttps://github.com/khmarbaise/testng-example/blob/41861115eb0ea1d98eed97fcfeb7ff30e93e0925/src/test/java/com/soebes/testing/testng/IntegrationTestListener.java\r\n\r\nbasically what you do is creating a class that will catch all your ITestResult even the skipped one and redefine inside it what you want to do like that :\r\n\r\n    public class IntegrationTestListener implements ITestListener {\r\n       public void onTestSkipped(ITestResult result) {\r\n           // do your stuff here\r\n       } \r\n    }\r\n\r\nand to use it in your test do it like that :\r\n    \r\n    @Listeners ({IntegrationTestListener.class})\r\n    public class NotAScenario  extends BasicScenario {\r\n\r\n        @Test\r\n        public void test1() {\r\n        }\r\n    }","title":"Detect skipped test in @afterMethod with testng","body":"<p>I found a way of doing it by Implementing the ITestListener class you can find an example there :</p>\n\n<p><a href=\"https://github.com/khmarbaise/testng-example/blob/41861115eb0ea1d98eed97fcfeb7ff30e93e0925/src/test/java/com/soebes/testing/testng/IntegrationTestListener.java\" rel=\"nofollow\">https://github.com/khmarbaise/testng-example/blob/41861115eb0ea1d98eed97fcfeb7ff30e93e0925/src/test/java/com/soebes/testing/testng/IntegrationTestListener.java</a></p>\n\n<p>basically what you do is creating a class that will catch all your ITestResult even the skipped one and redefine inside it what you want to do like that :</p>\n\n<pre><code>public class IntegrationTestListener implements ITestListener {\n   public void onTestSkipped(ITestResult result) {\n       // do your stuff here\n   } \n}\n</code></pre>\n\n<p>and to use it in your test do it like that :</p>\n\n<pre><code>@Listeners ({IntegrationTestListener.class})\npublic class NotAScenario  extends BasicScenario {\n\n    @Test\n    public void test1() {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3313963,"reputation":11003,"user_id":2786733,"accept_rate":95,"display_name":"Andrejs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509962337,"creation_date":1509962337,"answer_id":47134199,"question_id":37029997,"body_markdown":"For the @AfterMethod, when we know that the test has definitely run (thus not ITestResult.STARTED), there is a simple solution (tested and it works):\r\n\r\n\t@AfterMethod(alwaysRun = true )\r\n\tpublic void doStuff(ITestResult result){\r\n\r\n\t  Integer status = result.getStatus();\r\n    \r\n\t  if(!status.equals(ITestResult.SUCCESS)  || !status.equals(ITestResult.FAILURE) ) { \r\n               // do stuff\r\n\t   }\t\r\n\t}\r\n\r\nMuch cleaner for some cases where you **don&#39;t want to implement** all of the methods in `ITestListener`","title":"Detect skipped test in @afterMethod with testng","body":"<p>For the @AfterMethod, when we know that the test has definitely run (thus not ITestResult.STARTED), there is a simple solution (tested and it works):</p>\n\n<pre><code>@AfterMethod(alwaysRun = true )\npublic void doStuff(ITestResult result){\n\n  Integer status = result.getStatus();\n\n  if(!status.equals(ITestResult.SUCCESS)  || !status.equals(ITestResult.FAILURE) ) { \n           // do stuff\n   }    \n}\n</code></pre>\n\n<p>Much cleaner for some cases where you <strong>don't want to implement</strong> all of the methods in <code>ITestListener</code></p>\n"},{"tags":[],"owner":{"account_id":2616296,"reputation":1942,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556452829,"creation_date":1556452829,"answer_id":55890041,"question_id":37029997,"body_markdown":"You can capture skip tests by doing the following: \r\n\r\n        public void afterMethod(ITestResult result) \r\n        throws Exception {\r\n         if (result.getStatus() == ITestResult.SKIP) {\r\n              //Some code\r\n         }","title":"Detect skipped test in @afterMethod with testng","body":"<p>You can capture skip tests by doing the following: </p>\n\n<pre><code>    public void afterMethod(ITestResult result) \n    throws Exception {\n     if (result.getStatus() == ITestResult.SKIP) {\n          //Some code\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27837425,"reputation":11,"user_id":21254573,"display_name":"user21254573"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686896084,"creation_date":1678434840,"answer_id":75693478,"question_id":37029997,"body_markdown":"This worked for me:\r\n\r\n    @AfterMethod\r\n    public void afterMethod(ITestContext context) {\r\n       System.out.println(&quot;Skips: &quot; + context.getSkippedTests().size());\r\n    }\r\n\r\n","title":"Detect skipped test in @afterMethod with testng","body":"<p>This worked for me:</p>\n<pre><code>@AfterMethod\npublic void afterMethod(ITestContext context) {\n   System.out.println(&quot;Skips: &quot; + context.getSkippedTests().size());\n}\n</code></pre>\n"}],"owner":{"account_id":4581280,"reputation":481,"user_id":3718160,"accept_rate":35,"display_name":"user3718160"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1686896084,"creation_date":1462370309,"question_id":37029997,"body_markdown":"I&#39;m trying to detect skipped test in my @AfterMethod for reporting purpose. \r\n\r\nI can catch failed or passed test but it doesn&#39;t seems to enter it when a test is skipped.\r\n\r\nMy tests : \r\n\r\n    @Test \r\n    public void method1 () {\r\n        Assert.fail(&quot;created failure&quot;);\r\n    }\r\n    @Test (dependsOnMethods = {&quot;method1&quot;})\r\n    public void method2 () {}\r\n\r\nMy AfterMethod : \r\n\r\n    @AfterMethod\r\n    protected void afterMethod(ITestResult result){\r\n        switch (result.getStatus()) {\r\n            case ITestResult.FAILURE:\r\n                ...\r\n                break;\r\n\r\n            case ITestResult.SKIP:\r\n                ...\r\n                break;\r\n\r\n            case ITestResult.SUCCESS:\r\n                ...\r\n                break;\r\n        }\r\n\r\n\r\nfor example here i only retrieve the failure but the skip doesn&#39;t pass in the after method    \r\n\r\nAny idea on how to do it ?\r\n\r\nThank you !","title":"Detect skipped test in @afterMethod with testng","body":"<p>I'm trying to detect skipped test in my @AfterMethod for reporting purpose. </p>\n\n<p>I can catch failed or passed test but it doesn't seems to enter it when a test is skipped.</p>\n\n<p>My tests : </p>\n\n<pre><code>@Test \npublic void method1 () {\n    Assert.fail(\"created failure\");\n}\n@Test (dependsOnMethods = {\"method1\"})\npublic void method2 () {}\n</code></pre>\n\n<p>My AfterMethod : </p>\n\n<pre><code>@AfterMethod\nprotected void afterMethod(ITestResult result){\n    switch (result.getStatus()) {\n        case ITestResult.FAILURE:\n            ...\n            break;\n\n        case ITestResult.SKIP:\n            ...\n            break;\n\n        case ITestResult.SUCCESS:\n            ...\n            break;\n    }\n</code></pre>\n\n<p>for example here i only retrieve the failure but the skip doesn't pass in the after method    </p>\n\n<p>Any idea on how to do it ?</p>\n\n<p>Thank you !</p>\n"},{"tags":["java","hibernate","spring","bean-validation","hibernate-validator"],"answers":[{"comments":[{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1349782103,"post_id":4613151,"comment_id":17306274,"body_markdown":"One upvote from me, because you clearly stated that this is &quot;one possible&quot; solution.","body":"One upvote from me, because you clearly stated that this is &quot;one possible&quot; solution."}],"tags":[],"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1335533454,"creation_date":1294303550,"answer_id":4613151,"question_id":4613055,"body_markdown":"One possibility is to annotate the field as [@NaturalId][1]\r\n\r\n  [1]: http://docs.jboss.org/hibernate/stable/annotations/reference/en/html/entity.html#d0e2767","title":"hibernate unique key validation","body":"<p>One possibility is to annotate the field as <a href=\"http://docs.jboss.org/hibernate/stable/annotations/reference/en/html/entity.html#d0e2767\" rel=\"nofollow\">@NaturalId</a></p>\n"},{"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"comment_count":0,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1294308115,"creation_date":1294308115,"answer_id":4613716,"question_id":4613055,"body_markdown":"You could use the `@Column` attribute which can be set as `unique`.\r\n\r\n","title":"hibernate unique key validation","body":"<p>You could use the <code>@Column</code> attribute which can be set as <code>unique</code>.</p>\n"},{"comments":[{"owner":{"account_id":255877,"reputation":6710,"user_id":536205,"accept_rate":83,"display_name":"nidhin"},"score":0,"creation_date":1294389453,"post_id":4615120,"comment_id":5085229,"body_markdown":"Thanks, in case @Column(unique=true) how can i show error in view","body":"Thanks, in case @Column(unique=true) how can i show error in view"},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1294395565,"post_id":4615120,"comment_id":5086094,"body_markdown":"@Column(unique=true) will create a data base constraint to the according column.  -- This means all you get is an exception if you try to store the entity with the not unique value. -- So there is no (easy) way to combine it with the Bean validation.","body":"@Column(unique=true) will create a data base constraint to the according column.  -- This means all you get is an exception if you try to store the entity with the not unique value. -- So there is no (easy) way to combine it with the Bean validation."},{"owner":{"account_id":143433,"reputation":8912,"user_id":351758,"accept_rate":73,"display_name":"Janning Vygen"},"score":4,"creation_date":1349777471,"post_id":4615120,"comment_id":17304161,"body_markdown":"Of course, the database needs a unique constraint to handle concurrently inserts. But I don&#39;t think you should let the database handle it alone. Validating the uniqueness before makes it much easier to show error messages to the user. So in my opinion it is a perfectly valid approach to do the validation beforehand and test for uniqueness. Usually you want to have &quot;username not available&quot; as soon as the user left the username field in his web browser. So doing an ajax request and trying to validate with jsr-303 is the way to go. That&#39;s why I down voted your answer (sorry for this)","body":"Of course, the database needs a unique constraint to handle concurrently inserts. But I don&#39;t think you should let the database handle it alone. Validating the uniqueness before makes it much easier to show error messages to the user. So in my opinion it is a perfectly valid approach to do the validation beforehand and test for uniqueness. Usually you want to have &quot;username not available&quot; as soon as the user left the username field in his web browser. So doing an ajax request and trying to validate with jsr-303 is the way to go. That&#39;s why I down voted your answer (sorry for this)"},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1349782217,"post_id":4615120,"comment_id":17306323,"body_markdown":"@Jannig: You change the scope of the question, there was no one ever talking about the Ajax scenario.","body":"@Jannig: You change the scope of the question, there was no one ever talking about the Ajax scenario."},{"owner":{"account_id":143433,"reputation":8912,"user_id":351758,"accept_rate":73,"display_name":"Janning Vygen"},"score":4,"creation_date":1350055676,"post_id":4615120,"comment_id":17408717,"body_markdown":"Ajax was just an example. If you have a business rule you should validate it. Imagine the same example without ajax. You give a username and email address. The email address is not valid, so you get an error page. But as you not have tried to update the database you can&#39;t show the user an appropriate message according its choosen username. the user corrects the email adresse, submits and is getting the next error, talking about uniqueness of the username.","body":"Ajax was just an example. If you have a business rule you should validate it. Imagine the same example without ajax. You give a username and email address. The email address is not valid, so you get an error page. But as you not have tried to update the database you can&#39;t show the user an appropriate message according its choosen username. the user corrects the email adresse, submits and is getting the next error, talking about uniqueness of the username."},{"owner":{"account_id":143433,"reputation":8912,"user_id":351758,"accept_rate":73,"display_name":"Janning Vygen"},"score":0,"creation_date":1350055724,"post_id":4615120,"comment_id":17408732,"body_markdown":"From an architectural point of view, check the uniqueness at the same place where you validate all the other stuff.","body":"From an architectural point of view, check the uniqueness at the same place where you validate all the other stuff."}],"tags":[],"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":6,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1294318686,"creation_date":1294318686,"answer_id":4615120,"question_id":4613055,"body_markdown":"I think it is not wise to use Hibernate Validator (JSR 303) for this purpose.\r\nOr better it is not the goal of Hibernate Validator.\r\n\r\nThe JSR 303 is about bean validation. This means to check if a field is set correct. But what you want is in a much wider scope than a single bean. It is somehow in a global scope (regarding all Beans of this type). -- **I think you should let the database handle this problem. Set a unique constraint to the column in your database (for example by annotate the field with `@Column(unique=true)`) and the database will make sure that the field is unique.**\r\n\r\nAnyway, if you really want to use JSR303 for this, than you need to create your own Annotation and own Validator. The Validator have to access the Database and check if there is no other entity with the specified value. - But I believe there would be some problems to access the database from the Validator in the right session.\r\n","title":"hibernate unique key validation","body":"<p>I think it is not wise to use Hibernate Validator (JSR 303) for this purpose.\nOr better it is not the goal of Hibernate Validator.</p>\n\n<p>The JSR 303 is about bean validation. This means to check if a field is set correct. But what you want is in a much wider scope than a single bean. It is somehow in a global scope (regarding all Beans of this type). -- <strong>I think you should let the database handle this problem. Set a unique constraint to the column in your database (for example by annotate the field with <code>@Column(unique=true)</code>) and the database will make sure that the field is unique.</strong></p>\n\n<p>Anyway, if you really want to use JSR303 for this, than you need to create your own Annotation and own Validator. The Validator have to access the Database and check if there is no other entity with the specified value. - But I believe there would be some problems to access the database from the Validator in the right session.</p>\n"},{"comments":[{"owner":{"account_id":5291133,"reputation":4271,"user_id":4223697,"accept_rate":93,"display_name":"FuSsA"},"score":0,"creation_date":1462357270,"post_id":4733441,"comment_id":61599957,"body_markdown":"how can i use the same code with **Sessionfactory** instead of **EntityManager** ?","body":"how can i use the same code with <b>Sessionfactory</b> instead of <b>EntityManager</b> ?"},{"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"score":0,"creation_date":1504818872,"post_id":4733441,"comment_id":79173398,"body_markdown":"Thanks. Changed `criteriaQuery.where(predicates.toArray(new Predicate[predicates.size()]));` to `criteriaQuery.select(root).where(predicates.toArray(new Predicate[predicates.size()]));`. Now it works for me. With Spring use, I got rid of `EntityManagerAwareValidator` &amp; `ConstraintValidatorFactoryImpl` and added `@PersistenceContext private EntityManager entityManager` directly in the `UniqueKeyValidator`.","body":"Thanks. Changed <code>criteriaQuery.where(predicates.toArray(new Predicate[predicates.size()]));</code> to <code>criteriaQuery.select(root).where(predicates.toArray(new Predicate[predicates.size()]));</code>. Now it works for me. With Spring use, I got rid of <code>EntityManagerAwareValidator</code> &amp; <code>ConstraintValidatorFactoryImpl</code> and added <code>@PersistenceContext private EntityManager entityManager</code> directly in the <code>UniqueKeyValidator</code>."},{"owner":{"account_id":5744250,"reputation":103,"user_id":4535957,"accept_rate":62,"display_name":"Xegara"},"score":0,"creation_date":1558047232,"post_id":4733441,"comment_id":98981422,"body_markdown":"How will this code work for update use cases? Let&#39;s say when you submit an update request with modified fields other than the field with the unique key constraint? Wouldn&#39;t that throw a false negative?","body":"How will this code work for update use cases? Let&#39;s say when you submit an update request with modified fields other than the field with the unique key constraint? Wouldn&#39;t that throw a false negative?"}],"tags":[],"owner":{"account_id":157771,"reputation":30404,"user_id":375953,"accept_rate":53,"display_name":"dira"},"comment_count":3,"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1295428220,"creation_date":1295428220,"answer_id":4733441,"question_id":4613055,"body_markdown":"One of the possible solutions is to create custom `@UniqueKey` constraint (and corresponding validator); and to look-up the existing records in database, provide an instance of `EntityManager` (or Hibernate `Session`)to `UniqueKeyValidator`.\r\n\r\n**EntityManagerAwareValidator** \r\n\r\n    public interface EntityManagerAwareValidator { \t\r\n         void setEntityManager(EntityManager entityManager); \r\n    } \r\n\r\n**ConstraintValidatorFactoryImpl**\r\n\r\n    public class ConstraintValidatorFactoryImpl implements ConstraintValidatorFactory {\r\n    \r\n    \tprivate EntityManagerFactory entityManagerFactory;\r\n    \r\n    \tpublic ConstraintValidatorFactoryImpl(EntityManagerFactory entityManagerFactory) {\r\n    \t\tthis.entityManagerFactory = entityManagerFactory;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;T extends ConstraintValidator&lt;?, ?&gt;&gt; T getInstance(Class&lt;T&gt; key) {\r\n    \t\tT instance = null;\r\n    \r\n    \t\ttry {\r\n    \t\t\tinstance = key.newInstance();\r\n    \t\t} catch (Exception e) { \r\n    \t\t\t// could not instantiate class\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tif(EntityManagerAwareValidator.class.isAssignableFrom(key)) {\r\n    \t\t\tEntityManagerAwareValidator validator = (EntityManagerAwareValidator) instance;\r\n    \t\t\tvalidator.setEntityManager(entityManagerFactory.createEntityManager());\r\n    \t\t}\r\n    \r\n    \t\treturn instance;\r\n    \t}\r\n    }\r\n\r\n**UniqueKey**\r\n\r\n    @Constraint(validatedBy={UniqueKeyValidator.class})\r\n    @Target({ElementType.TYPE})\r\n    @Retention(RUNTIME)\r\n    public @interface UniqueKey {\r\n    \r\n    \tString[] columnNames();\r\n    \r\n    \tString message() default &quot;{UniqueKey.message}&quot;;\r\n    \r\n    \tClass&lt;?&gt;[] groups() default {};\r\n    \r\n    \tClass&lt;? extends Payload&gt;[] payload() default {};\r\n    \r\n    \t@Target({ ElementType.TYPE })\r\n    \t@Retention(RUNTIME)\r\n    \t@Documented\r\n    \t@interface List {\r\n    \t\tUniqueKey[] value();\r\n    \t}\r\n    }\r\n\r\n**UniqueKeyValidator**\r\n\r\n    public class UniqueKeyValidator implements ConstraintValidator&lt;UniqueKey, Serializable&gt;, EntityManagerAwareValidator {\r\n    \r\n    \tprivate EntityManager entityManager;\r\n    \r\n    \t@Override\r\n    \tpublic void setEntityManager(EntityManager entityManager) {\r\n    \t\tthis.entityManager = entityManager;\r\n    \t}\r\n    \r\n    \tprivate String[] columnNames;\r\n    \r\n    \t@Override\r\n    \tpublic void initialize(UniqueKey constraintAnnotation) {\r\n    \t\tthis.columnNames = constraintAnnotation.columnNames();\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isValid(Serializable target, ConstraintValidatorContext context) {\r\n    \t\tClass&lt;?&gt; entityClass = target.getClass();\r\n    \r\n    \t\tCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n    \r\n    \t\tCriteriaQuery&lt;Object&gt; criteriaQuery = criteriaBuilder.createQuery();\r\n    \r\n    \t\tRoot&lt;?&gt; root = criteriaQuery.from(entityClass);\r\n    \r\n    \t\tList&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt; (columnNames.length);\r\n    \r\n    \t\ttry {\r\n    \t\t\tfor(int i=0; i&lt;columnNames.length; i++) {\r\n    \t\t\t\tString propertyName = columnNames[i];\r\n    \t\t\t\tPropertyDescriptor desc = new PropertyDescriptor(propertyName, entityClass);\r\n    \t\t\t\tMethod readMethod = desc.getReadMethod();\r\n    \t\t\t\tObject propertyValue = readMethod.invoke(target);\r\n    \t\t\t\tPredicate predicate = criteriaBuilder.equal(root.get(propertyName), propertyValue);\r\n    \t\t\t\tpredicates.add(predicate);\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tcriteriaQuery.where(predicates.toArray(new Predicate[predicates.size()]));\r\n    \r\n    \t\tTypedQuery&lt;Object&gt; typedQuery = entityManager.createQuery(criteriaQuery);\r\n    \r\n    \t\tList&lt;Object&gt; resultSet = typedQuery.getResultList(); \r\n    \t\t\r\n    \t\treturn resultSet.size() == 0;\r\n    \t}\r\n    \r\n    }\r\n\r\n**Usage**\r\n\r\n    @UniqueKey(columnNames={&quot;userName&quot;})\r\n    // @UniqueKey(columnNames={&quot;userName&quot;, &quot;emailId&quot;}) // composite unique key\r\n    //@UniqueKey.List(value = {@UniqueKey(columnNames = { &quot;userName&quot; }), @UniqueKey(columnNames = { &quot;emailId&quot; })}) // more than one unique keys\r\n    public class User implements Serializable {\r\n    \r\n    \tprivate String userName;\r\n    \tprivate String password;\r\n    \tprivate String emailId;\r\n    \r\n    \tprotected User() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic User(String userName) {\r\n    \t\tthis.userName = userName;\r\n    \t}\r\n            ....\r\n    }\r\n\r\n**Test**\r\n\r\n\tpublic void uniqueKey() {\r\n\t\tEntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;default&quot;);\r\n\r\n\t\tValidatorFactory validatorFactory = Validation.buildDefaultValidatorFactory();\r\n\t\tValidatorContext validatorContext = validatorFactory.usingContext();\r\n\t\tvalidatorContext.constraintValidatorFactory(new ConstraintValidatorFactoryImpl(entityManagerFactory));\r\n\t\tValidator validator = validatorContext.getValidator();\r\n\r\n\t\tEntityManager em = entityManagerFactory.createEntityManager();\r\n\r\n\t\tUser se = new User(&quot;abc&quot;, poizon);\r\n\r\n\t       Set&lt;ConstraintViolation&lt;User&gt;&gt; violations = validator.validate(se);\r\n\t\tSystem.out.println(&quot;Size:- &quot; + violations.size());\r\n\r\n\t\tem.getTransaction().begin();\r\n\t\tem.persist(se);\r\n\t\tem.getTransaction().commit();\r\n\r\n\t        User se1 = new User(&quot;abc&quot;);\r\n\t\t\r\n\t\tviolations = validator.validate(se1);\r\n\r\n\t\tSystem.out.println(&quot;Size:- &quot; + violations.size());\r\n\t}","title":"hibernate unique key validation","body":"<p>One of the possible solutions is to create custom <code>@UniqueKey</code> constraint (and corresponding validator); and to look-up the existing records in database, provide an instance of <code>EntityManager</code> (or Hibernate <code>Session</code>)to <code>UniqueKeyValidator</code>.</p>\n\n<p><strong>EntityManagerAwareValidator</strong> </p>\n\n<pre><code>public interface EntityManagerAwareValidator {  \n     void setEntityManager(EntityManager entityManager); \n} \n</code></pre>\n\n<p><strong>ConstraintValidatorFactoryImpl</strong></p>\n\n<pre><code>public class ConstraintValidatorFactoryImpl implements ConstraintValidatorFactory {\n\n    private EntityManagerFactory entityManagerFactory;\n\n    public ConstraintValidatorFactoryImpl(EntityManagerFactory entityManagerFactory) {\n        this.entityManagerFactory = entityManagerFactory;\n    }\n\n    @Override\n    public &lt;T extends ConstraintValidator&lt;?, ?&gt;&gt; T getInstance(Class&lt;T&gt; key) {\n        T instance = null;\n\n        try {\n            instance = key.newInstance();\n        } catch (Exception e) { \n            // could not instantiate class\n            e.printStackTrace();\n        }\n\n        if(EntityManagerAwareValidator.class.isAssignableFrom(key)) {\n            EntityManagerAwareValidator validator = (EntityManagerAwareValidator) instance;\n            validator.setEntityManager(entityManagerFactory.createEntityManager());\n        }\n\n        return instance;\n    }\n}\n</code></pre>\n\n<p><strong>UniqueKey</strong></p>\n\n<pre><code>@Constraint(validatedBy={UniqueKeyValidator.class})\n@Target({ElementType.TYPE})\n@Retention(RUNTIME)\npublic @interface UniqueKey {\n\n    String[] columnNames();\n\n    String message() default \"{UniqueKey.message}\";\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    @Target({ ElementType.TYPE })\n    @Retention(RUNTIME)\n    @Documented\n    @interface List {\n        UniqueKey[] value();\n    }\n}\n</code></pre>\n\n<p><strong>UniqueKeyValidator</strong></p>\n\n<pre><code>public class UniqueKeyValidator implements ConstraintValidator&lt;UniqueKey, Serializable&gt;, EntityManagerAwareValidator {\n\n    private EntityManager entityManager;\n\n    @Override\n    public void setEntityManager(EntityManager entityManager) {\n        this.entityManager = entityManager;\n    }\n\n    private String[] columnNames;\n\n    @Override\n    public void initialize(UniqueKey constraintAnnotation) {\n        this.columnNames = constraintAnnotation.columnNames();\n\n    }\n\n    @Override\n    public boolean isValid(Serializable target, ConstraintValidatorContext context) {\n        Class&lt;?&gt; entityClass = target.getClass();\n\n        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n\n        CriteriaQuery&lt;Object&gt; criteriaQuery = criteriaBuilder.createQuery();\n\n        Root&lt;?&gt; root = criteriaQuery.from(entityClass);\n\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt; (columnNames.length);\n\n        try {\n            for(int i=0; i&lt;columnNames.length; i++) {\n                String propertyName = columnNames[i];\n                PropertyDescriptor desc = new PropertyDescriptor(propertyName, entityClass);\n                Method readMethod = desc.getReadMethod();\n                Object propertyValue = readMethod.invoke(target);\n                Predicate predicate = criteriaBuilder.equal(root.get(propertyName), propertyValue);\n                predicates.add(predicate);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        criteriaQuery.where(predicates.toArray(new Predicate[predicates.size()]));\n\n        TypedQuery&lt;Object&gt; typedQuery = entityManager.createQuery(criteriaQuery);\n\n        List&lt;Object&gt; resultSet = typedQuery.getResultList(); \n\n        return resultSet.size() == 0;\n    }\n\n}\n</code></pre>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>@UniqueKey(columnNames={\"userName\"})\n// @UniqueKey(columnNames={\"userName\", \"emailId\"}) // composite unique key\n//@UniqueKey.List(value = {@UniqueKey(columnNames = { \"userName\" }), @UniqueKey(columnNames = { \"emailId\" })}) // more than one unique keys\npublic class User implements Serializable {\n\n    private String userName;\n    private String password;\n    private String emailId;\n\n    protected User() {\n        super();\n    }\n\n    public User(String userName) {\n        this.userName = userName;\n    }\n        ....\n}\n</code></pre>\n\n<p><strong>Test</strong></p>\n\n<pre><code>public void uniqueKey() {\n    EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(\"default\");\n\n    ValidatorFactory validatorFactory = Validation.buildDefaultValidatorFactory();\n    ValidatorContext validatorContext = validatorFactory.usingContext();\n    validatorContext.constraintValidatorFactory(new ConstraintValidatorFactoryImpl(entityManagerFactory));\n    Validator validator = validatorContext.getValidator();\n\n    EntityManager em = entityManagerFactory.createEntityManager();\n\n    User se = new User(\"abc\", poizon);\n\n       Set&lt;ConstraintViolation&lt;User&gt;&gt; violations = validator.validate(se);\n    System.out.println(\"Size:- \" + violations.size());\n\n    em.getTransaction().begin();\n    em.persist(se);\n    em.getTransaction().commit();\n\n        User se1 = new User(\"abc\");\n\n    violations = validator.validate(se1);\n\n    System.out.println(\"Size:- \" + violations.size());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2584833,"reputation":2656,"user_id":2240780,"accept_rate":78,"display_name":"Julien"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675041617,"creation_date":1366729079,"answer_id":16172658,"question_id":4613055,"body_markdown":"I&#39;ve found kind of a tricky solution.\r\n\r\nFirst, I&#39;ve implemented the unique contraint to my MySql database : \r\n\r\n    CREATE TABLE XMLTAG\r\n    (\r\n    \tID INTEGER NOT NULL AUTO_INCREMENT,\r\n    \tLABEL VARCHAR(64) NOT NULL,\r\n    \tXPATH VARCHAR(128),\r\n    \tPRIMARY KEY (ID),\r\n    \tUNIQUE UQ_XMLTAG_LABEL(LABEL)\r\n    ) ;\r\n\r\nYou see that I manage XML Tags that are defined by a unique label and a text field named &quot;XPath&quot;. \r\n\r\nAnyway, the second step is to simply catch the error raised when the user tries to do a bad update. A bad update is when trying to replace the current label by an existing label. If you leave the label untouched, no problemo. So, in my controller : \r\n\r\n        @RequestMapping(value = &quot;/updatetag&quot;, method = RequestMethod.POST)\r\n    \tpublic String updateTag(\r\n    \t\t\t@ModelAttribute(&quot;tag&quot;) Tag tag, \r\n    \t\t\t@Valid Tag validTag,\r\n    \t\t\tBindingResult result,\r\n    \t\t\tModelMap map) {\r\n    \t\t\r\n    \t\tif(result.hasErrors()) {        // you don&#39;t care : validation of other\r\n    \t\t\treturn &quot;editTag&quot;;       // constraints like @NotEmpty\r\n    \t\t}\r\n    \t\t\r\n\r\n    \t\ttry {\r\n    \t\t\ttagService.updateTag(tag);    // try to update\r\n    \t\t\treturn &quot;redirect:/tags&quot;;   // &lt;- if it works   \t\t\r\n    \t\t}\r\n    \t\tcatch (DataIntegrityViolationException ex) { // if it doesn&#39;t work\r\n    \t\t\tresult.rejectValue(&quot;label&quot;, &quot;Unique.tag.label&quot;); // pass an error message to the view \r\n    \t\t\treturn &quot;editTag&quot;; // same treatment as other validation errors\r\n    \t\t}\r\n    \t}\r\n\r\nThis may conflict with the @Unique pattern but you can use this dirty method to valid the adding too.\r\n\r\nNote : there is still one problem : if other validation errors are catched before the exception, the message about unicity will not be displayed.","title":"hibernate unique key validation","body":"<p>I've found kind of a tricky solution.</p>\n<p>First, I've implemented the unique contraint to my MySql database :</p>\n<pre><code>CREATE TABLE XMLTAG\n(\n    ID INTEGER NOT NULL AUTO_INCREMENT,\n    LABEL VARCHAR(64) NOT NULL,\n    XPATH VARCHAR(128),\n    PRIMARY KEY (ID),\n    UNIQUE UQ_XMLTAG_LABEL(LABEL)\n) ;\n</code></pre>\n<p>You see that I manage XML Tags that are defined by a unique label and a text field named &quot;XPath&quot;.</p>\n<p>Anyway, the second step is to simply catch the error raised when the user tries to do a bad update. A bad update is when trying to replace the current label by an existing label. If you leave the label untouched, no problemo. So, in my controller :</p>\n<pre><code>    @RequestMapping(value = &quot;/updatetag&quot;, method = RequestMethod.POST)\n    public String updateTag(\n            @ModelAttribute(&quot;tag&quot;) Tag tag, \n            @Valid Tag validTag,\n            BindingResult result,\n            ModelMap map) {\n        \n        if(result.hasErrors()) {        // you don't care : validation of other\n            return &quot;editTag&quot;;       // constraints like @NotEmpty\n        }\n        \n\n        try {\n            tagService.updateTag(tag);    // try to update\n            return &quot;redirect:/tags&quot;;   // &lt;- if it works        \n        }\n        catch (DataIntegrityViolationException ex) { // if it doesn't work\n            result.rejectValue(&quot;label&quot;, &quot;Unique.tag.label&quot;); // pass an error message to the view \n            return &quot;editTag&quot;; // same treatment as other validation errors\n        }\n    }\n</code></pre>\n<p>This may conflict with the @Unique pattern but you can use this dirty method to valid the adding too.</p>\n<p>Note : there is still one problem : if other validation errors are catched before the exception, the message about unicity will not be displayed.</p>\n"},{"comments":[{"owner":{"account_id":6719220,"reputation":3760,"user_id":5179910,"accept_rate":69,"display_name":"Benjamin Lowry"},"score":0,"creation_date":1483349460,"post_id":41423955,"comment_id":70053931,"body_markdown":"Please consider adding an explanation as to how your code is the best method.","body":"Please consider adding an explanation as to how your code is the best method."},{"owner":{"account_id":7972602,"reputation":476,"user_id":6016735,"display_name":"Tanmoy Mandal"},"score":0,"creation_date":1483350105,"post_id":41423955,"comment_id":70054199,"body_markdown":"The code is based on the previous one using **EnintyManager**. One person asked for the Hibernate **Session**. Sorry for not mentioning. And thank you.","body":"The code is based on the previous one using <b>EnintyManager</b>. One person asked for the Hibernate <b>Session</b>. Sorry for not mentioning. And thank you."},{"owner":{"account_id":1075335,"reputation":2010,"user_id":1073623,"display_name":"infiniteRefactor"},"score":0,"creation_date":1483501837,"post_id":41423955,"comment_id":70118090,"body_markdown":"Note that this implementation does not support testing the validator in a unit test setting. In unit test settings validators are not created with Spring bean creation mechanism, thus `SessionFactory` should be manually injected into the validator, possibly using a custom `ConstraintValidatorFactory` as accepted answer does.","body":"Note that this implementation does not support testing the validator in a unit test setting. In unit test settings validators are not created with Spring bean creation mechanism, thus <code>SessionFactory</code> should be manually injected into the validator, possibly using a custom <code>ConstraintValidatorFactory</code> as accepted answer does."},{"owner":{"account_id":1077256,"reputation":2167,"user_id":1075119,"accept_rate":85,"display_name":"mneri"},"score":1,"creation_date":1575953406,"post_id":41423955,"comment_id":104729537,"body_markdown":"Why the `@Repository` annotation?","body":"Why the <code>@Repository</code> annotation?"}],"tags":[],"owner":{"account_id":7972602,"reputation":476,"user_id":6016735,"display_name":"Tanmoy Mandal"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483351859,"creation_date":1483348376,"answer_id":41423955,"question_id":4613055,"body_markdown":"This code is based on the previous one implemented using `EntityManager`.\r\nIn case anyone need to use Hibernate `Session`.\r\nCustom Annotation using Hibernate `Session`.\r\n&lt;br/&gt;`@`**UniqueKey.java**\r\n\r\n\r\n    import java.lang.annotation.*;\r\n    import javax.validation.Constraint;\r\n    import javax.validation.Payload;\r\n    \r\n    @Target({ElementType.ANNOTATION_TYPE, ElementType.FIELD, ElementType.METHOD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Constraint(validatedBy = UniqueKeyValidator.class)\r\n    @Documented\r\n    public @interface UniqueKey {\r\n        String columnName();\r\n        Class&lt;?&gt; className();\r\n        String message() default &quot;{UniqueKey.message}&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n\r\n**UnqieKeyValidator.java**\r\n\r\n\r\n    import ch.qos.logback.classic.gaffer.PropertyUtil;\r\n    import org.hibernate.Criteria;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.criterion.Restrictions;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    import java.beans.PropertyDescriptor;\r\n    import java.lang.reflect.Method;\r\n    @Transactional\r\n    @Repository\r\n    public class UniqueKeyValidator implements ConstraintValidator&lt;UniqueKey, String&gt; {\r\n    \r\n        @Autowired\r\n        private SessionFactory sessionFactory;\r\n    \r\n        public Session getSession() {\r\n            return sessionFactory.getCurrentSession();\r\n        }\r\n    \r\n        private String columnName;\r\n        private Class&lt;?&gt; entityClass;\r\n    \r\n        @Override\r\n        public void initialize(UniqueKey constraintAnnotation) {\r\n            this.columnNames = constraintAnnotation.columnNames();\r\n            this.entityClass = constraintAnnotation.className();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(String value, ConstraintValidatorContext context) {\r\n            Class&lt;?&gt; entityClass = this.entityClass;\r\n            System.out.println(&quot;class: &quot; + entityClass.toString());\r\n            Criteria criteria = getSession().createCriteria(entityClass);\r\n            try {\r\n                    criteria.add(Restrictions.eq(this.columnName, value));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return criteria.list().size()==0;\r\n        }\r\n    }\r\n\r\n\r\n**Usage**\r\n\r\n\r\n    @UniqueKey(columnNames=&quot;userName&quot;, className = UserEntity.class)\r\n    // @UniqueKey(columnNames=&quot;userName&quot;) // unique key\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"hibernate unique key validation","body":"<p>This code is based on the previous one implemented using <code>EntityManager</code>.\nIn case anyone need to use Hibernate <code>Session</code>.\nCustom Annotation using Hibernate <code>Session</code>.\n<br/><code>@</code><strong>UniqueKey.java</strong></p>\n\n<pre><code>import java.lang.annotation.*;\nimport javax.validation.Constraint;\nimport javax.validation.Payload;\n\n@Target({ElementType.ANNOTATION_TYPE, ElementType.FIELD, ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = UniqueKeyValidator.class)\n@Documented\npublic @interface UniqueKey {\n    String columnName();\n    Class&lt;?&gt; className();\n    String message() default \"{UniqueKey.message}\";\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n\n<p><strong>UnqieKeyValidator.java</strong></p>\n\n<pre><code>import ch.qos.logback.classic.gaffer.PropertyUtil;\nimport org.hibernate.Criteria;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.criterion.Restrictions;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\nimport java.beans.PropertyDescriptor;\nimport java.lang.reflect.Method;\n@Transactional\n@Repository\npublic class UniqueKeyValidator implements ConstraintValidator&lt;UniqueKey, String&gt; {\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    public Session getSession() {\n        return sessionFactory.getCurrentSession();\n    }\n\n    private String columnName;\n    private Class&lt;?&gt; entityClass;\n\n    @Override\n    public void initialize(UniqueKey constraintAnnotation) {\n        this.columnNames = constraintAnnotation.columnNames();\n        this.entityClass = constraintAnnotation.className();\n    }\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        Class&lt;?&gt; entityClass = this.entityClass;\n        System.out.println(\"class: \" + entityClass.toString());\n        Criteria criteria = getSession().createCriteria(entityClass);\n        try {\n                criteria.add(Restrictions.eq(this.columnName, value));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return criteria.list().size()==0;\n    }\n}\n</code></pre>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>@UniqueKey(columnNames=\"userName\", className = UserEntity.class)\n// @UniqueKey(columnNames=\"userName\") // unique key\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5668909,"reputation":56,"user_id":4484241,"display_name":"Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686894550,"creation_date":1680637344,"answer_id":75933233,"question_id":4613055,"body_markdown":"From my point of view the solutions provided here are missing very important case, which is update. We have to consider the primary key while asking our JPA APIs for persist or megre, So you **MUST** exclude the current entity from the uniqueness check (by using the primary key).\r\n\r\nThe below demonstration uses Spring Framework.\r\n\r\nThe annotation:\r\n\r\n    import javax.validation.Constraint;\r\n    import javax.validation.Payload;\r\n    import java.lang.annotation.*;\r\n    \r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @Constraint(validatedBy = UniqueValidator.class)\r\n    public @interface Unique {\r\n        String[] fields();\r\n        String primaryKey();\r\n    \r\n        String message() default &quot;Email address must be unique!&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    \r\n        @Target({ ElementType.TYPE })\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @Documented\r\n        @interface List {\r\n            Unique[] value();\r\n        }\r\n    }\r\n\r\n\r\nAnnotation validator implementation:\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.stereotype.Component;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    import javax.persistence.Query;\r\n    import javax.persistence.criteria.CriteriaBuilder;\r\n    import javax.persistence.criteria.CriteriaQuery;\r\n    import javax.persistence.criteria.Predicate;\r\n    import javax.persistence.criteria.Root;\r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    import java.beans.PropertyDescriptor;\r\n    import java.io.Serializable;\r\n    import java.lang.reflect.Method;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @Slf4j\r\n    @Component\r\n    public class UniqueValidator implements ConstraintValidator&lt;Unique, Serializable&gt; {\r\n        @Autowied\r\n        private EntityManager entityManager;\r\n    \r\n        private String[] fields;\r\n        private String primaryKey;\r\n    \r\n        @Override\r\n        public void initialize(Unique constraintAnnotation) {\r\n            this.fields = constraintAnnotation.fields();\r\n            this.primaryKey = constraintAnnotation.primaryKey();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(Serializable target, ConstraintValidatorContext context) {\r\n            log.info(&quot;start validation...&quot;);\r\n            if(entityManager != null) {\r\n                Class entityClass = target.getClass();\r\n                CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n                CriteriaQuery&lt;?&gt; criteriaQuery = criteriaBuilder.createQuery(entityClass);\r\n                Root&lt;?&gt; root = criteriaQuery.from(entityClass);\r\n                List&lt;Predicate&gt; predicates = new ArrayList(fields.length + 1);\r\n    \r\n                try {\r\n                    PropertyDescriptor desc = new PropertyDescriptor(primaryKey, entityClass);\r\n                    Method readMethod = desc.getReadMethod();\r\n                    Object propertyValue = readMethod.invoke(target);\r\n                    Predicate predicate = criteriaBuilder.notEqual(root.get(primaryKey), propertyValue);\r\n                    predicates.add(predicate);\r\n    \r\n                    for (int i = 0; i &lt; fields.length; i++) {\r\n                        String propertyName = fields[i];\r\n                        desc = new PropertyDescriptor(propertyName, entityClass);\r\n                        readMethod = desc.getReadMethod();\r\n                        propertyValue = readMethod.invoke(target);\r\n                        predicate = criteriaBuilder.equal(root.get(propertyName), propertyValue);\r\n                        predicates.add(predicate);\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                criteriaQuery.where(predicates.toArray(new Predicate[predicates.size()]));\r\n                Query typedQuery = entityManager.createQuery(criteriaQuery);\r\n                List&lt;Object&gt; resultSet = typedQuery.getResultList();\r\n                log.info(&quot;found {}&quot;, resultSet);\r\n                return resultSet.size() == 0;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\nin case of you want use @Unique more than once for the same entity:\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    public @interface Uniques {\r\n        Unique[] value();\r\n    }\r\n\r\nThe JPA entity:\r\n\r\n    @Unique(fields ={&quot;name&quot;, &quot;email&quot;}, primaryKey = &quot;id&quot;)\r\n    @Unique(fields ={&quot;phoneNumber&quot;}, primaryKey = &quot;id&quot;)\r\n    public class User implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;user_id&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(length = 60, nullable = false)\r\n        private String name;\r\n\r\n        @Column(length = 128, nullable = false, unique = true)\r\n        private String email;\r\n\r\n        @Column(length = 30, nullable = false)\r\n        private String phoneNumber;\r\n    }","title":"hibernate unique key validation","body":"<p>From my point of view the solutions provided here are missing very important case, which is update. We have to consider the primary key while asking our JPA APIs for persist or megre, So you <strong>MUST</strong> exclude the current entity from the uniqueness check (by using the primary key).</p>\n<p>The below demonstration uses Spring Framework.</p>\n<p>The annotation:</p>\n<pre><code>import javax.validation.Constraint;\nimport javax.validation.Payload;\nimport java.lang.annotation.*;\n\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Constraint(validatedBy = UniqueValidator.class)\npublic @interface Unique {\n    String[] fields();\n    String primaryKey();\n\n    String message() default &quot;Email address must be unique!&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    @Target({ ElementType.TYPE })\n    @Retention(RetentionPolicy.RUNTIME)\n    @Documented\n    @interface List {\n        Unique[] value();\n    }\n}\n</code></pre>\n<p>Annotation validator implementation:</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Component;\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport javax.persistence.Query;\nimport javax.persistence.criteria.CriteriaBuilder;\nimport javax.persistence.criteria.CriteriaQuery;\nimport javax.persistence.criteria.Predicate;\nimport javax.persistence.criteria.Root;\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\nimport java.beans.PropertyDescriptor;\nimport java.io.Serializable;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Slf4j\n@Component\npublic class UniqueValidator implements ConstraintValidator&lt;Unique, Serializable&gt; {\n    @Autowied\n    private EntityManager entityManager;\n\n    private String[] fields;\n    private String primaryKey;\n\n    @Override\n    public void initialize(Unique constraintAnnotation) {\n        this.fields = constraintAnnotation.fields();\n        this.primaryKey = constraintAnnotation.primaryKey();\n    }\n\n    @Override\n    public boolean isValid(Serializable target, ConstraintValidatorContext context) {\n        log.info(&quot;start validation...&quot;);\n        if(entityManager != null) {\n            Class entityClass = target.getClass();\n            CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n            CriteriaQuery&lt;?&gt; criteriaQuery = criteriaBuilder.createQuery(entityClass);\n            Root&lt;?&gt; root = criteriaQuery.from(entityClass);\n            List&lt;Predicate&gt; predicates = new ArrayList(fields.length + 1);\n\n            try {\n                PropertyDescriptor desc = new PropertyDescriptor(primaryKey, entityClass);\n                Method readMethod = desc.getReadMethod();\n                Object propertyValue = readMethod.invoke(target);\n                Predicate predicate = criteriaBuilder.notEqual(root.get(primaryKey), propertyValue);\n                predicates.add(predicate);\n\n                for (int i = 0; i &lt; fields.length; i++) {\n                    String propertyName = fields[i];\n                    desc = new PropertyDescriptor(propertyName, entityClass);\n                    readMethod = desc.getReadMethod();\n                    propertyValue = readMethod.invoke(target);\n                    predicate = criteriaBuilder.equal(root.get(propertyName), propertyValue);\n                    predicates.add(predicate);\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n            criteriaQuery.where(predicates.toArray(new Predicate[predicates.size()]));\n            Query typedQuery = entityManager.createQuery(criteriaQuery);\n            List&lt;Object&gt; resultSet = typedQuery.getResultList();\n            log.info(&quot;found {}&quot;, resultSet);\n            return resultSet.size() == 0;\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>in case of you want use @Unique more than once for the same entity:</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface Uniques {\n    Unique[] value();\n}\n</code></pre>\n<p>The JPA entity:</p>\n<pre><code>@Unique(fields ={&quot;name&quot;, &quot;email&quot;}, primaryKey = &quot;id&quot;)\n@Unique(fields ={&quot;phoneNumber&quot;}, primaryKey = &quot;id&quot;)\npublic class User implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;user_id&quot;)\n    private Integer id;\n\n    @Column(length = 60, nullable = false)\n    private String name;\n\n    @Column(length = 128, nullable = false, unique = true)\n    private String email;\n\n    @Column(length = 30, nullable = false)\n    private String phoneNumber;\n}\n</code></pre>\n"}],"owner":{"account_id":255877,"reputation":6710,"user_id":536205,"accept_rate":83,"display_name":"nidhin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33108,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":4733441,"answer_count":7,"score":18,"last_activity_date":1686894550,"creation_date":1294302507,"question_id":4613055,"body_markdown":"I have a field, say, `user_name`, that should be unique in a table.\r\n\r\nWhat is the best way for validating it using Spring/Hibernate validation?","title":"hibernate unique key validation","body":"<p>I have a field, say, <code>user_name</code>, that should be unique in a table.</p>\n\n<p>What is the best way for validating it using Spring/Hibernate validation?</p>\n"},{"tags":["java","hibernate"],"owner":{"account_id":2814657,"reputation":261,"user_id":2420079,"display_name":"user2420079"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686894412,"creation_date":1686894412,"question_id":76487269,"body_markdown":"I have a following code in a pre Hibernate\r\n\r\n```\r\nTable table = namespace.locateTable(qualifiedTableName.getObjectName());\r\nif (table == null) {\r\n    table = namespace.createTable(qualifiedTableName.getObjectName(), false);\r\n}\r\n```\r\n\r\nIn hibernate 6.0 the signature of create table is changed to:\r\n\r\n```\r\n public Table createTable(Identifier logicalTableName, Function&lt;Identifier, Table&gt; creator);\r\n```\r\n\r\nSo it does not support the boolean type anymore. I am trying to find any sample of createTable instance in web for hibernate 6.0, but nothing useful was found. Could you please share any ideas or resources about the createTable with the new signature.","title":"Hibernate 6.0 CreateTable Issue","body":"<p>I have a following code in a pre Hibernate</p>\n<pre><code>Table table = namespace.locateTable(qualifiedTableName.getObjectName());\nif (table == null) {\n    table = namespace.createTable(qualifiedTableName.getObjectName(), false);\n}\n</code></pre>\n<p>In hibernate 6.0 the signature of create table is changed to:</p>\n<pre><code> public Table createTable(Identifier logicalTableName, Function&lt;Identifier, Table&gt; creator);\n</code></pre>\n<p>So it does not support the boolean type anymore. I am trying to find any sample of createTable instance in web for hibernate 6.0, but nothing useful was found. Could you please share any ideas or resources about the createTable with the new signature.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7793,"page":367,"page_size":100}
