{"items":[{"tags":["java","netbeans","build","ant","ivy"],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1649667089,"creation_date":1649666787,"answer_id":71824982,"question_id":71824893,"body_markdown":"&gt; I currently place JARs that need to be available to the JRE (`servlet-api.jar`, `jsp-api.jar`, `el-api.jar`, `tomcat-dbcp.jar`) in `JAVA_HOME/jre/lib/ext`.\r\n\r\nThat&#39;s not the best way to do things. See [Is putting external jars in the JAVA_HOME/lib/ext directory a bad thing?](https://stackoverflow.com/questions/2068961/is-putting-external-jars-in-the-java-home-lib-ext-directory-a-bad-thing)\r\n\r\nNote that the `jre/lib/ext` mechanism has been removed from newer versions of Java, so this will not work anymore if you use a newer version of Java. (This has been [removed in JDK 9](https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-2C896CA8-927C-4381-A737-B1D81D964B7B)).\r\n\r\n&gt; However, I do not need the JARs I listed above to be available to my application at runtime, I need them to be available to the JRE.\r\n\r\nWhy?\r\n\r\n&gt; That is, I do not want the JARs (`servlet-api.jar`, etc.) to be in `WEB-INF/lib` of my built WAR file. How can I do this?\r\n\r\nWhy not? Putting the dependencies that your application needs in `WEB-INF/lib` is the normal thing to do in Java web applications. Why do you want to do things the non-standard way?\r\n\r\nBut: Some JAR files, such as `servlet-api.jar`, `jsp-api.jar` and `el-api.jar` are not supposed to be included in your application. Those JAR files define standard Java EE / Jakarta EE APIs and will be provided to your application at runtime by the application server (Tomcat, etc.) that you deploy your WAR file in.\r\n\r\nYou can add those JAR files as dependencies using Maven with `provided` scope, which means they will be used while compiling, but won&#39;t be packaged into your application. \r\n\r\n&gt; Am I correct in saying that these JARs need to be available to the JRE?\r\n\r\nNo, those JARs do not need to be available to the JRE. JAR files that contain standard APIs will be provided by your Java EE / Jakarta EE container at runtime. Other JAR files should be included in your application in `WEB-INF/lib`.","title":"Make JAR available to JDK and JRE","body":"<blockquote>\n<p>I currently place JARs that need to be available to the JRE (<code>servlet-api.jar</code>, <code>jsp-api.jar</code>, <code>el-api.jar</code>, <code>tomcat-dbcp.jar</code>) in <code>JAVA_HOME/jre/lib/ext</code>.</p>\n</blockquote>\n<p>That's not the best way to do things. See <a href=\"https://stackoverflow.com/questions/2068961/is-putting-external-jars-in-the-java-home-lib-ext-directory-a-bad-thing\">Is putting external jars in the JAVA_HOME/lib/ext directory a bad thing?</a></p>\n<p>Note that the <code>jre/lib/ext</code> mechanism has been removed from newer versions of Java, so this will not work anymore if you use a newer version of Java. (This has been <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-2C896CA8-927C-4381-A737-B1D81D964B7B\" rel=\"nofollow noreferrer\">removed in JDK 9</a>).</p>\n<blockquote>\n<p>However, I do not need the JARs I listed above to be available to my application at runtime, I need them to be available to the JRE.</p>\n</blockquote>\n<p>Why?</p>\n<blockquote>\n<p>That is, I do not want the JARs (<code>servlet-api.jar</code>, etc.) to be in <code>WEB-INF/lib</code> of my built WAR file. How can I do this?</p>\n</blockquote>\n<p>Why not? Putting the dependencies that your application needs in <code>WEB-INF/lib</code> is the normal thing to do in Java web applications. Why do you want to do things the non-standard way?</p>\n<p>But: Some JAR files, such as <code>servlet-api.jar</code>, <code>jsp-api.jar</code> and <code>el-api.jar</code> are not supposed to be included in your application. Those JAR files define standard Java EE / Jakarta EE APIs and will be provided to your application at runtime by the application server (Tomcat, etc.) that you deploy your WAR file in.</p>\n<p>You can add those JAR files as dependencies using Maven with <code>provided</code> scope, which means they will be used while compiling, but won't be packaged into your application.</p>\n<blockquote>\n<p>Am I correct in saying that these JARs need to be available to the JRE?</p>\n</blockquote>\n<p>No, those JARs do not need to be available to the JRE. JAR files that contain standard APIs will be provided by your Java EE / Jakarta EE container at runtime. Other JAR files should be included in your application in <code>WEB-INF/lib</code>.</p>\n"}],"owner":{"account_id":4535031,"reputation":1556,"user_id":3684479,"accept_rate":35,"display_name":"theyuv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649667089,"creation_date":1649666285,"question_id":71824893,"body_markdown":"I am running a web application using Tomcat, JDK8 and Netbeans IDE (using ANT for build and IVY for dependency management).\r\n\r\nI currently place `JARs` that need to be available to the JRE (`servlet-api.jar`, `jsp-api.jar`, `el-api.jar`, `tomcat-dbcp.jar`) in `JAVA_HOME/jre/lib/ext`.\r\n\r\nI&#39;m upgrading to a new JDK version (JDK17), which no longer has the JRE extensions folder. I&#39;m wondering where I should place these `JARs`.\r\n\r\nAccording to [this][1] post (and others I&#39;ve seen), it is better practice to use a dependency manager and add these jars to your classpath anyway.\r\n\r\nI currently use IVY to manage my dependencies and have customized my ANT build to add run-time dependencies to the `WEB-INF/lib` folder of the built `WAR` file.\r\n\r\nHowever, I do not need the `JARs` I listed above to be available to my application at runtime, I need them to be available to the JRE. That is, I do not want the `JARs` (`servlet-api.jar`, etc.) to be in `WEB-INF/lib` of my built `WAR` file.\r\nHow can I do this?\r\n\r\nSharpening my final questions:\r\n1) How can I make certain `JARs`/dependencies available to the JRE in Netbeans in my development environment?\r\n2) How can I make certain `JARs`/dependencies available to the JRE in the built WAR file used on my production environment?\r\n3) Am I correct in saying that these `JARs` need to be available to the JRE? All of the posts I&#39;ve seen discuss [compile-time vs run-time dependencies][2] but it seems the case I&#39;m describing is a different category of dependency. Is this correct?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/51260167/where-to-put-external-jars-in-jdk10\r\n  [2]: https://techblog.bozho.net/runtime-classpath-vs-compile-time-classpath/","title":"Make JAR available to JDK and JRE","body":"<p>I am running a web application using Tomcat, JDK8 and Netbeans IDE (using ANT for build and IVY for dependency management).</p>\n<p>I currently place <code>JARs</code> that need to be available to the JRE (<code>servlet-api.jar</code>, <code>jsp-api.jar</code>, <code>el-api.jar</code>, <code>tomcat-dbcp.jar</code>) in <code>JAVA_HOME/jre/lib/ext</code>.</p>\n<p>I'm upgrading to a new JDK version (JDK17), which no longer has the JRE extensions folder. I'm wondering where I should place these <code>JARs</code>.</p>\n<p>According to <a href=\"https://stackoverflow.com/questions/51260167/where-to-put-external-jars-in-jdk10\">this</a> post (and others I've seen), it is better practice to use a dependency manager and add these jars to your classpath anyway.</p>\n<p>I currently use IVY to manage my dependencies and have customized my ANT build to add run-time dependencies to the <code>WEB-INF/lib</code> folder of the built <code>WAR</code> file.</p>\n<p>However, I do not need the <code>JARs</code> I listed above to be available to my application at runtime, I need them to be available to the JRE. That is, I do not want the <code>JARs</code> (<code>servlet-api.jar</code>, etc.) to be in <code>WEB-INF/lib</code> of my built <code>WAR</code> file.\nHow can I do this?</p>\n<p>Sharpening my final questions:</p>\n<ol>\n<li>How can I make certain <code>JARs</code>/dependencies available to the JRE in Netbeans in my development environment?</li>\n<li>How can I make certain <code>JARs</code>/dependencies available to the JRE in the built WAR file used on my production environment?</li>\n<li>Am I correct in saying that these <code>JARs</code> need to be available to the JRE? All of the posts I've seen discuss <a href=\"https://techblog.bozho.net/runtime-classpath-vs-compile-time-classpath/\" rel=\"nofollow noreferrer\">compile-time vs run-time dependencies</a> but it seems the case I'm describing is a different category of dependency. Is this correct?</li>\n</ol>\n"},{"tags":["java","spring-boot","spring-mvc","exception"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1649668727,"post_id":71825028,"comment_id":126925776,"body_markdown":"Based on above, it is more likely actual `post` method is not throwing exception back to controller but doing something internally within `post`  method itself with generated exception.","body":"Based on above, it is more likely actual <code>post</code> method is not throwing exception back to controller but doing something internally within <code>post</code>  method itself with generated exception."}],"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649667018,"creation_date":1649667018,"question_id":71825028,"body_markdown":"Assuming I have a Generic ExceptionHandler class like this , using Spring Boot, and classic spring mvc, How should I test the controller?\r\n\r\n\r\n    @ControllerAdvice\r\n    @Order(0)\r\n    public class GenericExceptionHandler {\r\n    \r\n    \tprivate HashMap&lt;String, String&gt; errorMap = new HashMap&lt;&gt;();\r\n    \r\n    \t@ExceptionHandler(Exception.class)\r\n    \tpublic final ResponseEntity&lt;RestResponse&lt;String&gt;&gt; handleAllExceptions(Exception ex) {\r\n    \t\terrorMap.put(HttpStatus.INTERNAL_SERVER_ERROR.toString(), ex.getMessage());\r\n    \t\treturn new ResponseEntity&lt;&gt;(new RestResponse&lt;&gt;(errorMap, null), HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t}\r\n    }\r\n\r\n\r\nI was trying something like this.. but doesn&#39;t work..\r\n\r\n\r\n    @Test\r\n     void givenAWrongInputDtothenReturnInternalServerError() throws Exception {\r\n        String exceptionParam = &quot;fakeID&quot;;\r\n    \r\n        mvc.perform(post(&quot;/customers/{id}&quot;, exceptionParam)\r\n          .contentType(MediaType.APPLICATION_JSON))\r\n          .andExpect(status().isInternalServerError())\r\n          .andExpect(result -&gt; assertTrue(result.getResolvedException() instanceof InternalException))\r\n          .andExpect(result -&gt; assertEquals(&quot;internal error&quot;, result.getResolvedException().getMessage()));\r\n    }\r\n\r\nthank you for your help.\r\n","title":"How to test On mvc a GenericHandlerException?","body":"<p>Assuming I have a Generic ExceptionHandler class like this , using Spring Boot, and classic spring mvc, How should I test the controller?</p>\n<pre><code>@ControllerAdvice\n@Order(0)\npublic class GenericExceptionHandler {\n\n    private HashMap&lt;String, String&gt; errorMap = new HashMap&lt;&gt;();\n\n    @ExceptionHandler(Exception.class)\n    public final ResponseEntity&lt;RestResponse&lt;String&gt;&gt; handleAllExceptions(Exception ex) {\n        errorMap.put(HttpStatus.INTERNAL_SERVER_ERROR.toString(), ex.getMessage());\n        return new ResponseEntity&lt;&gt;(new RestResponse&lt;&gt;(errorMap, null), HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n<p>I was trying something like this.. but doesn't work..</p>\n<pre><code>@Test\n void givenAWrongInputDtothenReturnInternalServerError() throws Exception {\n    String exceptionParam = &quot;fakeID&quot;;\n\n    mvc.perform(post(&quot;/customers/{id}&quot;, exceptionParam)\n      .contentType(MediaType.APPLICATION_JSON))\n      .andExpect(status().isInternalServerError())\n      .andExpect(result -&gt; assertTrue(result.getResolvedException() instanceof InternalException))\n      .andExpect(result -&gt; assertEquals(&quot;internal error&quot;, result.getResolvedException().getMessage()));\n}\n</code></pre>\n<p>thank you for your help.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":23655286,"reputation":261,"user_id":17683676,"display_name":"Sumit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649661649,"creation_date":1649661649,"answer_id":71824011,"question_id":71823865,"body_markdown":"Use below code for changing the language of the app.\r\n\r\n    public void setLocale(String languageCode) { \r\n            Locale myLocale = new Locale(languageCode); \r\n            Resources res = getResources(); \r\n            DisplayMetrics dm = res.getDisplayMetrics(); \r\n            Configuration conf = res.getConfiguration(); \r\n            conf.locale = myLocale; \r\n            res.updateConfiguration(conf, dm); \r\n            Intent refresh = new Intent(this, MainActivity.class); \r\n            finish();\r\n            startActivity(refresh); \r\n        }\r\n\r\nInitially if user click on change language button you have to save the language code(&quot;in&quot; or &quot;it&quot;) in shared preference.If user close the app and open again then get the shared preference in splash screen and pass the language code in above method.\r\n","title":"Multilanguage android app doesn&#39;t update the language when it is started","body":"<p>Use below code for changing the language of the app.</p>\n<pre><code>public void setLocale(String languageCode) { \n        Locale myLocale = new Locale(languageCode); \n        Resources res = getResources(); \n        DisplayMetrics dm = res.getDisplayMetrics(); \n        Configuration conf = res.getConfiguration(); \n        conf.locale = myLocale; \n        res.updateConfiguration(conf, dm); \n        Intent refresh = new Intent(this, MainActivity.class); \n        finish();\n        startActivity(refresh); \n    }\n</code></pre>\n<p>Initially if user click on change language button you have to save the language code(&quot;in&quot; or &quot;it&quot;) in shared preference.If user close the app and open again then get the shared preference in splash screen and pass the language code in above method.</p>\n"},{"tags":[],"owner":{"account_id":20450406,"reputation":1339,"user_id":15005298,"display_name":"Yaqoob Bhatti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649667007,"creation_date":1649667007,"answer_id":71825025,"question_id":71823865,"body_markdown":"Use the Following code it will help you with language change. [Here][1] is full-example\r\n\r\n**LocaleHelper.kt**\r\n\r\n    object LocaleHelper {\r\n        fun setLocale(context: Context): Context? {\r\n            return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                updateResources(context, getLanguageCode(context))\r\n            } else updateResourcesLegacy(context, getLanguageCode(context))\r\n        }\r\n    \r\n    \r\n        @TargetApi(Build.VERSION_CODES.N)\r\n        private fun updateResources(context: Context, language: String): Context? {\r\n            val locale = Locale(language)\r\n            Locale.setDefault(locale)\r\n            val configuration: Configuration = context.resources.configuration\r\n            configuration.setLocale(locale)\r\n            configuration.setLayoutDirection(locale)\r\n            return context.createConfigurationContext(configuration)\r\n        }\r\n    \r\n        private fun updateResourcesLegacy(context: Context, language: String): Context{\r\n            val locale = Locale(language)\r\n            Locale.setDefault(locale)\r\n            val resources: Resources = context.resources\r\n            val configuration: Configuration = resources.configuration\r\n            configuration.locale = locale\r\n            configuration.setLayoutDirection(locale)\r\n            resources.updateConfiguration(configuration, resources.displayMetrics)\r\n            return context\r\n        }\r\n    }\r\n\r\n**SharedPreferencesUtils.kt**\r\n\r\n    object SharedPreferencesUtils {\r\n    \r\n        fun getLanguageCode(mContext: Context):String{\r\n            val sharedPreferences: SharedPreferences=mContext.getSharedPreferences(&quot;languageCodePrefs&quot;, Context.MODE_PRIVATE)\r\n            return sharedPreferences.getString(&quot;languageCodeValue&quot;, &quot;en&quot;)!!\r\n        }\r\n    \r\n        fun setLanguageCode(mContext: Context, code: String){\r\n            val sharedPreferences: SharedPreferences=mContext.getSharedPreferences(&quot;languageCodePrefs&quot;, Context.MODE_PRIVATE)\r\n            val sharedPreferencesEditor: SharedPreferences.Editor  = sharedPreferences.edit()\r\n            sharedPreferencesEditor.putString(&quot;languageCodeValue&quot;, code)\r\n            sharedPreferencesEditor.apply()\r\n        }\r\n    }\r\n\r\n**MainActivity.kt**\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n\r\n           // set the following line of code in your language button click listener\r\n            setLanguageCode(this, &quot;it&quot;)\r\n            recreate()\r\n\r\n        }\r\n    \r\n        override fun attachBaseContext(newBase: Context?) {\r\n            super.attachBaseContext(LocaleHelper.setLocale(newBase!!))\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://github.com/orbitalsonic/App-Language-Change-Android-Kotlin","title":"Multilanguage android app doesn&#39;t update the language when it is started","body":"<p>Use the Following code it will help you with language change. <a href=\"https://github.com/orbitalsonic/App-Language-Change-Android-Kotlin\" rel=\"nofollow noreferrer\">Here</a> is full-example</p>\n<p><strong>LocaleHelper.kt</strong></p>\n<pre><code>object LocaleHelper {\n    fun setLocale(context: Context): Context? {\n        return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            updateResources(context, getLanguageCode(context))\n        } else updateResourcesLegacy(context, getLanguageCode(context))\n    }\n\n\n    @TargetApi(Build.VERSION_CODES.N)\n    private fun updateResources(context: Context, language: String): Context? {\n        val locale = Locale(language)\n        Locale.setDefault(locale)\n        val configuration: Configuration = context.resources.configuration\n        configuration.setLocale(locale)\n        configuration.setLayoutDirection(locale)\n        return context.createConfigurationContext(configuration)\n    }\n\n    private fun updateResourcesLegacy(context: Context, language: String): Context{\n        val locale = Locale(language)\n        Locale.setDefault(locale)\n        val resources: Resources = context.resources\n        val configuration: Configuration = resources.configuration\n        configuration.locale = locale\n        configuration.setLayoutDirection(locale)\n        resources.updateConfiguration(configuration, resources.displayMetrics)\n        return context\n    }\n}\n</code></pre>\n<p><strong>SharedPreferencesUtils.kt</strong></p>\n<pre><code>object SharedPreferencesUtils {\n\n    fun getLanguageCode(mContext: Context):String{\n        val sharedPreferences: SharedPreferences=mContext.getSharedPreferences(&quot;languageCodePrefs&quot;, Context.MODE_PRIVATE)\n        return sharedPreferences.getString(&quot;languageCodeValue&quot;, &quot;en&quot;)!!\n    }\n\n    fun setLanguageCode(mContext: Context, code: String){\n        val sharedPreferences: SharedPreferences=mContext.getSharedPreferences(&quot;languageCodePrefs&quot;, Context.MODE_PRIVATE)\n        val sharedPreferencesEditor: SharedPreferences.Editor  = sharedPreferences.edit()\n        sharedPreferencesEditor.putString(&quot;languageCodeValue&quot;, code)\n        sharedPreferencesEditor.apply()\n    }\n}\n</code></pre>\n<p><strong>MainActivity.kt</strong></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n       // set the following line of code in your language button click listener\n        setLanguageCode(this, &quot;it&quot;)\n        recreate()\n\n    }\n\n    override fun attachBaseContext(newBase: Context?) {\n        super.attachBaseContext(LocaleHelper.setLocale(newBase!!))\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24897733,"reputation":21,"user_id":18768786,"display_name":"Lorenzo "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649667007,"creation_date":1649660825,"question_id":71823865,"body_markdown":"i&#39;ve this method that it should update the language of the app. When i start the app and set italian language, the app set correctly the language selected. But when i close the app and restart it  the language selected isn&#39;t mantained but in the TextView the language is correctly updated. \r\nthe problema is that it isn&#39;t mantained after tha the app is restarted.  \r\n\r\nWho can help me?\r\nthanks anticipately\r\n\r\n\r\n    private TextView language_dialog;\r\n    private Context context;\r\n    private int lang_selected;\r\n    \r\n    @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n    \r\n            if (LocaleHelper.getLanguage(getApplicationContext()).equalsIgnoreCase(&quot;it&quot;)) {\r\n                context = LocaleHelper.setLocale(this, &quot;it&quot;);\r\n                lang_selected = 0;\r\n                language_dialog.setText(&quot;Italiano&quot;);\r\n            } else if (LocaleHelper.getLanguage(getApplicationContext()).equalsIgnoreCase(&quot;en&quot;)) {\r\n                context = LocaleHelper.setLocale(this, &quot;en&quot;);\r\n                lang_selected = 1;\r\n                language_dialog.setText(&quot;English&quot;);\r\n            }\r\n    \r\n    \r\n    \r\n            language_dialog.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    //lista delle lingue disponibili\r\n                    final String[] language = {&quot;Italiano&quot;, &quot;Inglese&quot;};\r\n    \r\n                    final AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(LoginActivity.this);\r\n                    dialogBuilder.setTitle(&quot;Seleziona una lingua...&quot;)\r\n                            .setSingleChoiceItems(language, lang_selected, new DialogInterface.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(DialogInterface dialogInterface, int i) {\r\n                                    //language_dialog.setText(language[i]);\r\n    \r\n                                    if (language[i].equals(&quot;Italiano&quot;)) {\r\n                                        LocaleHelper.setLocale(LoginActivity.this, &quot;it&quot;);\r\n                                        lang_selected = 0;\r\n                                    }\r\n                                    if (language[i].equals(&quot;Inglese&quot;)) {\r\n                                        LocaleHelper.setLocale(LoginActivity.this, &quot;en&quot;);\r\n                                        lang_selected = 1;\r\n                                    }\r\n                                }\r\n                            })\r\n                            .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(DialogInterface dialogInterface, int i) {\r\n                                    dialogInterface.dismiss();\r\n                                    recreate();\r\n                                }\r\n                            });\r\n                    dialogBuilder.create().show();\r\n                }\r\n            });\r\n    \r\n    \r\n        }","title":"Multilanguage android app doesn&#39;t update the language when it is started","body":"<p>i've this method that it should update the language of the app. When i start the app and set italian language, the app set correctly the language selected. But when i close the app and restart it  the language selected isn't mantained but in the TextView the language is correctly updated.\nthe problema is that it isn't mantained after tha the app is restarted.</p>\n<p>Who can help me?\nthanks anticipately</p>\n<pre><code>private TextView language_dialog;\nprivate Context context;\nprivate int lang_selected;\n\n@Override\n    protected void onStart() {\n        super.onStart();\n\n        if (LocaleHelper.getLanguage(getApplicationContext()).equalsIgnoreCase(&quot;it&quot;)) {\n            context = LocaleHelper.setLocale(this, &quot;it&quot;);\n            lang_selected = 0;\n            language_dialog.setText(&quot;Italiano&quot;);\n        } else if (LocaleHelper.getLanguage(getApplicationContext()).equalsIgnoreCase(&quot;en&quot;)) {\n            context = LocaleHelper.setLocale(this, &quot;en&quot;);\n            lang_selected = 1;\n            language_dialog.setText(&quot;English&quot;);\n        }\n\n\n\n        language_dialog.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                //lista delle lingue disponibili\n                final String[] language = {&quot;Italiano&quot;, &quot;Inglese&quot;};\n\n                final AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(LoginActivity.this);\n                dialogBuilder.setTitle(&quot;Seleziona una lingua...&quot;)\n                        .setSingleChoiceItems(language, lang_selected, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                //language_dialog.setText(language[i]);\n\n                                if (language[i].equals(&quot;Italiano&quot;)) {\n                                    LocaleHelper.setLocale(LoginActivity.this, &quot;it&quot;);\n                                    lang_selected = 0;\n                                }\n                                if (language[i].equals(&quot;Inglese&quot;)) {\n                                    LocaleHelper.setLocale(LoginActivity.this, &quot;en&quot;);\n                                    lang_selected = 1;\n                                }\n                            }\n                        })\n                        .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                dialogInterface.dismiss();\n                                recreate();\n                            }\n                        });\n                dialogBuilder.create().show();\n            }\n        });\n\n\n    }\n</code></pre>\n"},{"tags":["java","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1612459630,"post_id":66049319,"comment_id":116780118,"body_markdown":"You mention that your solution runs on two interacting servers. It is unclear which parts of the code you show run on which server.","body":"You mention that your solution runs on two interacting servers. It is unclear which parts of the code you show run on which server."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1612946495,"creation_date":1612462298,"answer_id":66051416,"question_id":66049319,"body_markdown":"# In general\r\n\r\n*This was written in response to the original revision of your question.*\r\n\r\nYour code mentions PAdES. Thus, I assume you mean integrated PAdES (not detached CAdES or XAdES) signatures when you say you&#39;re *trying to sign a PDF document with DSS.*\r\n\r\nCreating integrated PDF signatures (like PAdES) requires first preparing the PDF to be able to carry an embedded signature, i.e. adding a signature dictionary to an existing or new signature field. This signature dictionary contains multiple information, signing time, signing reason, etc., and also a placeholder for embedding a CMS signature container later. Then this prepared PDF (except the placeholder) is hashed.\r\n\r\nFurthermore, your code mentions that you *choose the level of the signature (-B, -T, -LT, -LTA)*.\r\n\r\nCreating PAdES Baseline LT and PAdES Baseline LTA signatures requires preparing a PDF with a PAdES Baseline T signature and adding a collection of additional objects, depending on the nature of the T signature.\r\n\r\neSig DSS can do all this preparing for you **if it has the PDF to prepare**.\r\n\r\nSo if you only want to send a hash value from server A to B, you have to use eSig DSS on your server A to do most of the work, and server B only serves as a dumb signing service returning a signed hash value or at most a CMS container usable for PAdES.\r\n\r\nWhether you can do this without server A knowing about the certificate, depends on whether you want certificate details to appear in a signature widget for the new signature or not. Creating the widget appearance is part of the PDF preparation step, so if you want such a widget with certificate information, server A needs to know the certificate, usually even _before requesting the signature_!\r\n\r\nWhat kind of protocol you run between server A and B then, is up to you. You merely have to implement `SignatureTokenConnection` accordingly to use on server A in eSig DSS to communicate with server B.\r\n\r\n# In case of your approach\r\n\r\n*After you now showed code from both servers, one can discuss your specific approach.*\r\n\r\nOn server A you use eSig DSS to prepare a PAdES signature and embed a CMS signature container with the `SignatureValue` your `SignHashDocument.signHash` call returns:\r\n\r\n```lang-java\r\nToBeSigned dataToSign = service.getDataToSign(toSignDocument, parameters);\r\n\r\nSignatureValue signatureValue = SignHashDocument.signHash(dataToSign);\r\n\r\nDSSDocument signedDocument = service.signDocument(toSignDocument, parameters, signatureValue);\r\n```\r\n\r\nI.e. server A creates the CMS signature container and server B only supplies the signed hash.\r\n\r\n**This cannot work unless you know the certificate used for signing and set it in the `parameters` before the `service.getDataToSign` call.**\r\n\r\nThe reason is that the CMS container contains references to that certificate in both the unsigned bytes and (for PAdES) the signed bytes of the container. For the reference in the unsigned bytes it theoretically would suffice to retrieve the certificate together with the signature bytes, but for the reference in the signed bytes it has to be known beforehand.\r\n\r\nAlternatively you can try to implement the full generation of the CMS container on server B.\r\n\r\nThis requires considerable changes, though, and you have to dive quite a bit deeper into the `PAdESService` sources. Instead of the three lines quoted above on server A you have to:\r\n\r\n* first retrieve a PDF object library and PDF signature service\r\n\r\n      IPdfObjFactory pdfObjFactory = new ServiceLoaderPdfObjFactory();\r\n      PDFSignatureService pdfSignatureService = pdfObjFactory.newPAdESSignatureService();\r\n\r\n* prepare the PDF a first time for signing and calculate the *document digest*,\r\n\r\n      byte[] hash = pdfSignatureService.digest(toSignDocument, parameters);\r\n\r\n* send this document digest to the backend (server B) which must create and return a special CAdES signature container, not merely naked signature bytes,\r\n* and prepare the PDF a second time for signing and inject this signature container:\r\n\r\n      DSSDocument signature = pdfSignatureService.sign(toSignDocument, encodedData, parameters);\r\n\r\n# A proof of concept\r\n\r\nHere a proof of concept using eSig DSS 5.8:\r\n\r\nOn your server A we can essentially use your existing code:\r\n\r\n```lang-java\r\nDSSDocument toSignDocument = PDF_DOCUMENT_TO_SIGN;\r\nDSSDocument image = IMAGE_DOCUMENT;\r\n\r\n\r\nPAdESSignatureParameters parameters = new PAdESSignatureParameters();\r\nparameters.setDigestAlgorithm(DigestAlgorithm.SHA512);\r\nparameters.setReason(&quot;Preuve de signature&quot;);\r\nparameters.setLocation(&quot;MAROC&quot;);\r\nparameters.setGenerateTBSWithoutCertificate(true);\r\n\r\nSignatureImageParameters imageParameters = new SignatureImageParameters();\r\nimageParameters.setPage(1);\r\nimageParameters.setImage(image);\r\nimageParameters.setxAxis(350);\r\nimageParameters.setyAxis(400);\r\nimageParameters.setWidth(200);\r\nimageParameters.setHeight(100);\r\nparameters.setImageParameters(imageParameters);\r\n\r\nSignatureImageTextParameters textParameters = new SignatureImageTextParameters();\r\nDSSFont font = new DSSJavaFont(Font.SERIF);\r\nfont.setSize(16);\r\ntextParameters.setFont(font);\r\ntextParameters.setTextColor(Color.BLUE);\r\ntextParameters.setSignerTextPosition(SignerTextPosition.RIGHT);\r\ntextParameters.setSignerTextHorizontalAlignment(SignerTextHorizontalAlignment.LEFT);\r\ntextParameters.setSignerTextVerticalAlignment(SignerTextVerticalAlignment.TOP);\r\ntextParameters.setText(&quot;TESTING&quot;);\r\nimageParameters.setTextParameters(textParameters);\r\n\r\n\r\nIPdfObjFactory pdfObjFactory = new ServiceLoaderPdfObjFactory();\r\nPDFSignatureService pdfSignatureService = pdfObjFactory.newPAdESSignatureService();\r\n\r\nbyte[] hash = pdfSignatureService.digest(toSignDocument, parameters);\r\n\r\nbyte[] signatureValue = signHash(hash);\r\n\r\nDSSDocument signedDocument = pdfSignatureService.sign(toSignDocument, signatureValue, parameters);\r\n\r\n\r\nsignedDocument.save(PATH_TO_SAVE_THE_SIGNED_DOCUMENT_TO);\r\n```\r\n*([SplitPAdESSigning][1] test `testSplitPAdESGenerationForMehdi`)*\r\n\r\nThe method `signHash` now shall independently create a CMS signature container for the given document hash, and this container shall conform to PAdES requirements. eSig DSS contains methods and classes providing this functionality but they `protected` or even less visible. Thus, for our POC we simply copy them into our code.\r\n\r\nFor simplicity I use hard coded SHA512withRSA as signing algorithm.\r\n\r\nThus:\r\n\r\n```lang-java\r\nbyte[] signHash(byte[] hash) throws IOException {\r\n    Pkcs12SignatureToken signingToken = new Pkcs12SignatureToken(YOUR_P12_DATA);\r\n    DSSPrivateKeyEntry privateKey = signingToken.getKey(YOUR_ALIAS);\r\n\r\n    CommonCertificateVerifier commonCertificateVerifier = new CommonCertificateVerifier();\r\n    padesCMSSignedDataBuilder = new PadesCMSSignedDataBuilder(commonCertificateVerifier);\r\n\r\n    PAdESSignatureParameters parameters = new PAdESSignatureParameters();\r\n    parameters.setDigestAlgorithm(DigestAlgorithm.SHA512);\r\n    parameters.setEncryptionAlgorithm(EncryptionAlgorithm.RSA);\r\n    parameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_B);\r\n    parameters.setSigningCertificate(privateKey.getCertificate());\r\n\r\n    ToBeSigned dataToSign = getDataToSign(hash, parameters);\r\n    SignatureValue signatureValue = signingToken.sign(dataToSign, DigestAlgorithm.SHA512, privateKey);\r\n    return generateCMSSignedData(hash, parameters, signatureValue);\r\n}\r\n\r\nPadesCMSSignedDataBuilder padesCMSSignedDataBuilder;\r\n```\r\n*([SplitPAdESSigning][2] method)*\r\n\r\nThe helper methods `getDataToSign` and `generateCMSSignedData` are essentially copied from `PAdESService`; they use the `padesCMSSignedDataBuilder` provided by `signHash` (instead of a member variable you can also make it another argument of these two methods):\r\n\r\n```lang-java\r\n/** @see eu.europa.esig.dss.pades.signature.PAdESService#getDataToSign(DSSDocument, PAdESSignatureParameters) */\r\npublic ToBeSigned getDataToSign(byte[] messageDigest, final PAdESSignatureParameters parameters) throws DSSException {\r\n    final SignatureAlgorithm signatureAlgorithm = parameters.getSignatureAlgorithm();\r\n    final CustomContentSigner customContentSigner = new CustomContentSigner(signatureAlgorithm.getJCEId());\r\n\r\n    SignerInfoGeneratorBuilder signerInfoGeneratorBuilder = padesCMSSignedDataBuilder.getSignerInfoGeneratorBuilder(parameters, messageDigest);\r\n\r\n    final CMSSignedDataGenerator generator = padesCMSSignedDataBuilder.createCMSSignedDataGenerator(parameters, customContentSigner,\r\n            signerInfoGeneratorBuilder, null);\r\n\r\n    final CMSProcessableByteArray content = new CMSProcessableByteArray(messageDigest);\r\n\r\n    CMSUtils.generateDetachedCMSSignedData(generator, content);\r\n\r\n    final byte[] dataToSign = customContentSigner.getOutputStream().toByteArray();\r\n    return new ToBeSigned(dataToSign);\r\n}\r\n\r\n/** @see eu.europa.esig.dss.pades.signature.PAdESService#generateCMSSignedData(DSSDocument, PAdESSignatureParameters, SignatureValue) */\r\nprotected byte[] generateCMSSignedData(byte[] messageDigest, final PAdESSignatureParameters parameters,\r\n        final SignatureValue signatureValue) {\r\n    final SignatureAlgorithm signatureAlgorithm = parameters.getSignatureAlgorithm();\r\n    final SignatureLevel signatureLevel = parameters.getSignatureLevel();\r\n    Objects.requireNonNull(signatureAlgorithm, &quot;SignatureAlgorithm cannot be null!&quot;);\r\n    Objects.requireNonNull(signatureLevel, &quot;SignatureLevel must be defined!&quot;);\r\n    \r\n    final CustomContentSigner customContentSigner = new CustomContentSigner(signatureAlgorithm.getJCEId(), signatureValue.getValue());\r\n    \r\n    final SignerInfoGeneratorBuilder signerInfoGeneratorBuilder = padesCMSSignedDataBuilder.getSignerInfoGeneratorBuilder(parameters, messageDigest);\r\n    \r\n    final CMSSignedDataGenerator generator = padesCMSSignedDataBuilder.createCMSSignedDataGenerator(parameters, customContentSigner,\r\n    signerInfoGeneratorBuilder, null);\r\n    \r\n    final CMSProcessableByteArray content = new CMSProcessableByteArray(messageDigest);\r\n    CMSSignedData data = CMSUtils.generateDetachedCMSSignedData(generator, content);\r\n\r\n    return DSSASN1Utils.getDEREncoded(data);\r\n}\r\n```\r\n*([SplitPAdESSigning][3] methods)*\r\n\r\nThe classes `PadesCMSSignedDataBuilder` and `PAdESLevelBaselineB` due to restricted visibility are copied along:\r\n\r\n```lang-java\r\n/** @see eu.europa.esig.dss.cades.signature.CMSSignedDataBuilder */\r\nclass PadesCMSSignedDataBuilder extends CMSSignedDataBuilder {\r\n    public PadesCMSSignedDataBuilder(CertificateVerifier certificateVerifier) {\r\n        super(certificateVerifier);\r\n    }\r\n\r\n    @Override\r\n    protected CMSSignedDataGenerator createCMSSignedDataGenerator(CAdESSignatureParameters parameters, ContentSigner contentSigner, SignerInfoGeneratorBuilder signerInfoGeneratorBuilder,\r\n            CMSSignedData originalSignedData) throws DSSException {\r\n\r\n        return super.createCMSSignedDataGenerator(parameters, contentSigner, signerInfoGeneratorBuilder, originalSignedData);\r\n    }\r\n\r\n    protected SignerInfoGeneratorBuilder getSignerInfoGeneratorBuilder(final PAdESSignatureParameters parameters, final byte[] messageDigest) {\r\n        final CAdESLevelBaselineB cadesLevelBaselineB = new CAdESLevelBaselineB(true);\r\n        final PAdESLevelBaselineB padesProfileB = new PAdESLevelBaselineB();\r\n\r\n        final DigestCalculatorProvider digestCalculatorProvider = new BcDigestCalculatorProvider();\r\n\r\n        SignerInfoGeneratorBuilder signerInfoGeneratorBuilder = new SignerInfoGeneratorBuilder(digestCalculatorProvider);\r\n\r\n        signerInfoGeneratorBuilder = signerInfoGeneratorBuilder.setSignedAttributeGenerator(new CMSAttributeTableGenerator() {\r\n            @Override\r\n            public AttributeTable getAttributes(@SuppressWarnings(&quot;rawtypes&quot;) Map params) throws CMSAttributeTableGenerationException {\r\n                return padesProfileB.getSignedAttributes(params, cadesLevelBaselineB, parameters, messageDigest);\r\n            }\r\n        });\r\n\r\n        signerInfoGeneratorBuilder = signerInfoGeneratorBuilder.setUnsignedAttributeGenerator(new CMSAttributeTableGenerator() {\r\n            @Override\r\n            public AttributeTable getAttributes(@SuppressWarnings(&quot;rawtypes&quot;) Map params) throws CMSAttributeTableGenerationException {\r\n                return padesProfileB.getUnsignedAttributes();\r\n            }\r\n        });\r\n\r\n        return signerInfoGeneratorBuilder;\r\n    }\r\n}\r\n\r\n/** @see eu.europa.esig.dss.pades.signature.PAdESLevelBaselineB */\r\nclass PAdESLevelBaselineB {\r\n    AttributeTable getSignedAttributes(@SuppressWarnings(&quot;rawtypes&quot;) Map params, \r\n            CAdESLevelBaselineB cadesProfile, PAdESSignatureParameters parameters, byte[] messageDigest) {\r\n        AttributeTable signedAttributes = cadesProfile.getSignedAttributes(parameters);\r\n\r\n        if (signedAttributes.get(CMSAttributes.contentType) == null) {\r\n            ASN1ObjectIdentifier contentType = (ASN1ObjectIdentifier) params.get(CMSAttributeTableGenerator.CONTENT_TYPE);\r\n            if (contentType != null) {\r\n                signedAttributes = signedAttributes.add(CMSAttributes.contentType, contentType);\r\n            }\r\n        }\r\n\r\n        if (signedAttributes.get(CMSAttributes.messageDigest) == null) {\r\n            signedAttributes = signedAttributes.add(CMSAttributes.messageDigest, new DEROctetString(messageDigest));\r\n        }\r\n\r\n        return signedAttributes;\r\n    }\r\n\r\n    AttributeTable getUnsignedAttributes() {\r\n        return null;\r\n    }\r\n}\r\n```\r\n*([SplitPAdESSigning][4] helper classes)*\r\n\r\n`signHash` and its helpers do not depend on the server A code and, therefore, also can be located on server B.\r\n\r\n\r\n  [1]: https://github.com/mkl-public/testarea-sd-dss5/blob/master/src/test/java/mkl/testarea/sddss5/sign/SplitPAdESSigning.java#L97\r\n  [2]: https://github.com/mkl-public/testarea-sd-dss5/blob/master/src/test/java/mkl/testarea/sddss5/sign/SplitPAdESSigning.java#L148\r\n  [3]: https://github.com/mkl-public/testarea-sd-dss5/blob/master/src/test/java/mkl/testarea/sddss5/sign/SplitPAdESSigning.java#L172\r\n  [4]: https://github.com/mkl-public/testarea-sd-dss5/blob/master/src/test/java/mkl/testarea/sddss5/sign/SplitPAdESSigning.java#L211","title":"Signing a hash with DSS (Digital Signature Service)","body":"<h1>In general</h1>\n<p><em>This was written in response to the original revision of your question.</em></p>\n<p>Your code mentions PAdES. Thus, I assume you mean integrated PAdES (not detached CAdES or XAdES) signatures when you say you're <em>trying to sign a PDF document with DSS.</em></p>\n<p>Creating integrated PDF signatures (like PAdES) requires first preparing the PDF to be able to carry an embedded signature, i.e. adding a signature dictionary to an existing or new signature field. This signature dictionary contains multiple information, signing time, signing reason, etc., and also a placeholder for embedding a CMS signature container later. Then this prepared PDF (except the placeholder) is hashed.</p>\n<p>Furthermore, your code mentions that you <em>choose the level of the signature (-B, -T, -LT, -LTA)</em>.</p>\n<p>Creating PAdES Baseline LT and PAdES Baseline LTA signatures requires preparing a PDF with a PAdES Baseline T signature and adding a collection of additional objects, depending on the nature of the T signature.</p>\n<p>eSig DSS can do all this preparing for you <strong>if it has the PDF to prepare</strong>.</p>\n<p>So if you only want to send a hash value from server A to B, you have to use eSig DSS on your server A to do most of the work, and server B only serves as a dumb signing service returning a signed hash value or at most a CMS container usable for PAdES.</p>\n<p>Whether you can do this without server A knowing about the certificate, depends on whether you want certificate details to appear in a signature widget for the new signature or not. Creating the widget appearance is part of the PDF preparation step, so if you want such a widget with certificate information, server A needs to know the certificate, usually even <em>before requesting the signature</em>!</p>\n<p>What kind of protocol you run between server A and B then, is up to you. You merely have to implement <code>SignatureTokenConnection</code> accordingly to use on server A in eSig DSS to communicate with server B.</p>\n<h1>In case of your approach</h1>\n<p><em>After you now showed code from both servers, one can discuss your specific approach.</em></p>\n<p>On server A you use eSig DSS to prepare a PAdES signature and embed a CMS signature container with the <code>SignatureValue</code> your <code>SignHashDocument.signHash</code> call returns:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ToBeSigned dataToSign = service.getDataToSign(toSignDocument, parameters);\n\nSignatureValue signatureValue = SignHashDocument.signHash(dataToSign);\n\nDSSDocument signedDocument = service.signDocument(toSignDocument, parameters, signatureValue);\n</code></pre>\n<p>I.e. server A creates the CMS signature container and server B only supplies the signed hash.</p>\n<p><strong>This cannot work unless you know the certificate used for signing and set it in the <code>parameters</code> before the <code>service.getDataToSign</code> call.</strong></p>\n<p>The reason is that the CMS container contains references to that certificate in both the unsigned bytes and (for PAdES) the signed bytes of the container. For the reference in the unsigned bytes it theoretically would suffice to retrieve the certificate together with the signature bytes, but for the reference in the signed bytes it has to be known beforehand.</p>\n<p>Alternatively you can try to implement the full generation of the CMS container on server B.</p>\n<p>This requires considerable changes, though, and you have to dive quite a bit deeper into the <code>PAdESService</code> sources. Instead of the three lines quoted above on server A you have to:</p>\n<ul>\n<li><p>first retrieve a PDF object library and PDF signature service</p>\n<pre><code>IPdfObjFactory pdfObjFactory = new ServiceLoaderPdfObjFactory();\nPDFSignatureService pdfSignatureService = pdfObjFactory.newPAdESSignatureService();\n</code></pre>\n</li>\n<li><p>prepare the PDF a first time for signing and calculate the <em>document digest</em>,</p>\n<pre><code>byte[] hash = pdfSignatureService.digest(toSignDocument, parameters);\n</code></pre>\n</li>\n<li><p>send this document digest to the backend (server B) which must create and return a special CAdES signature container, not merely naked signature bytes,</p>\n</li>\n<li><p>and prepare the PDF a second time for signing and inject this signature container:</p>\n<pre><code>DSSDocument signature = pdfSignatureService.sign(toSignDocument, encodedData, parameters);\n</code></pre>\n</li>\n</ul>\n<h1>A proof of concept</h1>\n<p>Here a proof of concept using eSig DSS 5.8:</p>\n<p>On your server A we can essentially use your existing code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DSSDocument toSignDocument = PDF_DOCUMENT_TO_SIGN;\nDSSDocument image = IMAGE_DOCUMENT;\n\n\nPAdESSignatureParameters parameters = new PAdESSignatureParameters();\nparameters.setDigestAlgorithm(DigestAlgorithm.SHA512);\nparameters.setReason(&quot;Preuve de signature&quot;);\nparameters.setLocation(&quot;MAROC&quot;);\nparameters.setGenerateTBSWithoutCertificate(true);\n\nSignatureImageParameters imageParameters = new SignatureImageParameters();\nimageParameters.setPage(1);\nimageParameters.setImage(image);\nimageParameters.setxAxis(350);\nimageParameters.setyAxis(400);\nimageParameters.setWidth(200);\nimageParameters.setHeight(100);\nparameters.setImageParameters(imageParameters);\n\nSignatureImageTextParameters textParameters = new SignatureImageTextParameters();\nDSSFont font = new DSSJavaFont(Font.SERIF);\nfont.setSize(16);\ntextParameters.setFont(font);\ntextParameters.setTextColor(Color.BLUE);\ntextParameters.setSignerTextPosition(SignerTextPosition.RIGHT);\ntextParameters.setSignerTextHorizontalAlignment(SignerTextHorizontalAlignment.LEFT);\ntextParameters.setSignerTextVerticalAlignment(SignerTextVerticalAlignment.TOP);\ntextParameters.setText(&quot;TESTING&quot;);\nimageParameters.setTextParameters(textParameters);\n\n\nIPdfObjFactory pdfObjFactory = new ServiceLoaderPdfObjFactory();\nPDFSignatureService pdfSignatureService = pdfObjFactory.newPAdESSignatureService();\n\nbyte[] hash = pdfSignatureService.digest(toSignDocument, parameters);\n\nbyte[] signatureValue = signHash(hash);\n\nDSSDocument signedDocument = pdfSignatureService.sign(toSignDocument, signatureValue, parameters);\n\n\nsignedDocument.save(PATH_TO_SAVE_THE_SIGNED_DOCUMENT_TO);\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-sd-dss5/blob/master/src/test/java/mkl/testarea/sddss5/sign/SplitPAdESSigning.java#L97\" rel=\"nofollow noreferrer\">SplitPAdESSigning</a> test <code>testSplitPAdESGenerationForMehdi</code>)</em></p>\n<p>The method <code>signHash</code> now shall independently create a CMS signature container for the given document hash, and this container shall conform to PAdES requirements. eSig DSS contains methods and classes providing this functionality but they <code>protected</code> or even less visible. Thus, for our POC we simply copy them into our code.</p>\n<p>For simplicity I use hard coded SHA512withRSA as signing algorithm.</p>\n<p>Thus:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] signHash(byte[] hash) throws IOException {\n    Pkcs12SignatureToken signingToken = new Pkcs12SignatureToken(YOUR_P12_DATA);\n    DSSPrivateKeyEntry privateKey = signingToken.getKey(YOUR_ALIAS);\n\n    CommonCertificateVerifier commonCertificateVerifier = new CommonCertificateVerifier();\n    padesCMSSignedDataBuilder = new PadesCMSSignedDataBuilder(commonCertificateVerifier);\n\n    PAdESSignatureParameters parameters = new PAdESSignatureParameters();\n    parameters.setDigestAlgorithm(DigestAlgorithm.SHA512);\n    parameters.setEncryptionAlgorithm(EncryptionAlgorithm.RSA);\n    parameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_B);\n    parameters.setSigningCertificate(privateKey.getCertificate());\n\n    ToBeSigned dataToSign = getDataToSign(hash, parameters);\n    SignatureValue signatureValue = signingToken.sign(dataToSign, DigestAlgorithm.SHA512, privateKey);\n    return generateCMSSignedData(hash, parameters, signatureValue);\n}\n\nPadesCMSSignedDataBuilder padesCMSSignedDataBuilder;\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-sd-dss5/blob/master/src/test/java/mkl/testarea/sddss5/sign/SplitPAdESSigning.java#L148\" rel=\"nofollow noreferrer\">SplitPAdESSigning</a> method)</em></p>\n<p>The helper methods <code>getDataToSign</code> and <code>generateCMSSignedData</code> are essentially copied from <code>PAdESService</code>; they use the <code>padesCMSSignedDataBuilder</code> provided by <code>signHash</code> (instead of a member variable you can also make it another argument of these two methods):</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** @see eu.europa.esig.dss.pades.signature.PAdESService#getDataToSign(DSSDocument, PAdESSignatureParameters) */\npublic ToBeSigned getDataToSign(byte[] messageDigest, final PAdESSignatureParameters parameters) throws DSSException {\n    final SignatureAlgorithm signatureAlgorithm = parameters.getSignatureAlgorithm();\n    final CustomContentSigner customContentSigner = new CustomContentSigner(signatureAlgorithm.getJCEId());\n\n    SignerInfoGeneratorBuilder signerInfoGeneratorBuilder = padesCMSSignedDataBuilder.getSignerInfoGeneratorBuilder(parameters, messageDigest);\n\n    final CMSSignedDataGenerator generator = padesCMSSignedDataBuilder.createCMSSignedDataGenerator(parameters, customContentSigner,\n            signerInfoGeneratorBuilder, null);\n\n    final CMSProcessableByteArray content = new CMSProcessableByteArray(messageDigest);\n\n    CMSUtils.generateDetachedCMSSignedData(generator, content);\n\n    final byte[] dataToSign = customContentSigner.getOutputStream().toByteArray();\n    return new ToBeSigned(dataToSign);\n}\n\n/** @see eu.europa.esig.dss.pades.signature.PAdESService#generateCMSSignedData(DSSDocument, PAdESSignatureParameters, SignatureValue) */\nprotected byte[] generateCMSSignedData(byte[] messageDigest, final PAdESSignatureParameters parameters,\n        final SignatureValue signatureValue) {\n    final SignatureAlgorithm signatureAlgorithm = parameters.getSignatureAlgorithm();\n    final SignatureLevel signatureLevel = parameters.getSignatureLevel();\n    Objects.requireNonNull(signatureAlgorithm, &quot;SignatureAlgorithm cannot be null!&quot;);\n    Objects.requireNonNull(signatureLevel, &quot;SignatureLevel must be defined!&quot;);\n    \n    final CustomContentSigner customContentSigner = new CustomContentSigner(signatureAlgorithm.getJCEId(), signatureValue.getValue());\n    \n    final SignerInfoGeneratorBuilder signerInfoGeneratorBuilder = padesCMSSignedDataBuilder.getSignerInfoGeneratorBuilder(parameters, messageDigest);\n    \n    final CMSSignedDataGenerator generator = padesCMSSignedDataBuilder.createCMSSignedDataGenerator(parameters, customContentSigner,\n    signerInfoGeneratorBuilder, null);\n    \n    final CMSProcessableByteArray content = new CMSProcessableByteArray(messageDigest);\n    CMSSignedData data = CMSUtils.generateDetachedCMSSignedData(generator, content);\n\n    return DSSASN1Utils.getDEREncoded(data);\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-sd-dss5/blob/master/src/test/java/mkl/testarea/sddss5/sign/SplitPAdESSigning.java#L172\" rel=\"nofollow noreferrer\">SplitPAdESSigning</a> methods)</em></p>\n<p>The classes <code>PadesCMSSignedDataBuilder</code> and <code>PAdESLevelBaselineB</code> due to restricted visibility are copied along:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** @see eu.europa.esig.dss.cades.signature.CMSSignedDataBuilder */\nclass PadesCMSSignedDataBuilder extends CMSSignedDataBuilder {\n    public PadesCMSSignedDataBuilder(CertificateVerifier certificateVerifier) {\n        super(certificateVerifier);\n    }\n\n    @Override\n    protected CMSSignedDataGenerator createCMSSignedDataGenerator(CAdESSignatureParameters parameters, ContentSigner contentSigner, SignerInfoGeneratorBuilder signerInfoGeneratorBuilder,\n            CMSSignedData originalSignedData) throws DSSException {\n\n        return super.createCMSSignedDataGenerator(parameters, contentSigner, signerInfoGeneratorBuilder, originalSignedData);\n    }\n\n    protected SignerInfoGeneratorBuilder getSignerInfoGeneratorBuilder(final PAdESSignatureParameters parameters, final byte[] messageDigest) {\n        final CAdESLevelBaselineB cadesLevelBaselineB = new CAdESLevelBaselineB(true);\n        final PAdESLevelBaselineB padesProfileB = new PAdESLevelBaselineB();\n\n        final DigestCalculatorProvider digestCalculatorProvider = new BcDigestCalculatorProvider();\n\n        SignerInfoGeneratorBuilder signerInfoGeneratorBuilder = new SignerInfoGeneratorBuilder(digestCalculatorProvider);\n\n        signerInfoGeneratorBuilder = signerInfoGeneratorBuilder.setSignedAttributeGenerator(new CMSAttributeTableGenerator() {\n            @Override\n            public AttributeTable getAttributes(@SuppressWarnings(&quot;rawtypes&quot;) Map params) throws CMSAttributeTableGenerationException {\n                return padesProfileB.getSignedAttributes(params, cadesLevelBaselineB, parameters, messageDigest);\n            }\n        });\n\n        signerInfoGeneratorBuilder = signerInfoGeneratorBuilder.setUnsignedAttributeGenerator(new CMSAttributeTableGenerator() {\n            @Override\n            public AttributeTable getAttributes(@SuppressWarnings(&quot;rawtypes&quot;) Map params) throws CMSAttributeTableGenerationException {\n                return padesProfileB.getUnsignedAttributes();\n            }\n        });\n\n        return signerInfoGeneratorBuilder;\n    }\n}\n\n/** @see eu.europa.esig.dss.pades.signature.PAdESLevelBaselineB */\nclass PAdESLevelBaselineB {\n    AttributeTable getSignedAttributes(@SuppressWarnings(&quot;rawtypes&quot;) Map params, \n            CAdESLevelBaselineB cadesProfile, PAdESSignatureParameters parameters, byte[] messageDigest) {\n        AttributeTable signedAttributes = cadesProfile.getSignedAttributes(parameters);\n\n        if (signedAttributes.get(CMSAttributes.contentType) == null) {\n            ASN1ObjectIdentifier contentType = (ASN1ObjectIdentifier) params.get(CMSAttributeTableGenerator.CONTENT_TYPE);\n            if (contentType != null) {\n                signedAttributes = signedAttributes.add(CMSAttributes.contentType, contentType);\n            }\n        }\n\n        if (signedAttributes.get(CMSAttributes.messageDigest) == null) {\n            signedAttributes = signedAttributes.add(CMSAttributes.messageDigest, new DEROctetString(messageDigest));\n        }\n\n        return signedAttributes;\n    }\n\n    AttributeTable getUnsignedAttributes() {\n        return null;\n    }\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-sd-dss5/blob/master/src/test/java/mkl/testarea/sddss5/sign/SplitPAdESSigning.java#L211\" rel=\"nofollow noreferrer\">SplitPAdESSigning</a> helper classes)</em></p>\n<p><code>signHash</code> and its helpers do not depend on the server A code and, therefore, also can be located on server B.</p>\n"},{"tags":[],"owner":{"account_id":77692,"reputation":8503,"user_id":221588,"accept_rate":63,"display_name":"Margus Pala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613029558,"creation_date":1612929668,"answer_id":66130740,"question_id":66049319,"body_markdown":"It&#39;s is possible and one open source full implementation can be seen in here https://github.com/eideasy/eideasy-external-pades-digital-signatures\r\n\r\nYou need to create PDF in same format as it will be after being signed, remove all signature ByteRange and then calculate hash.\r\n\r\nAfter getting CAdES signature just add this to the ByteRange. This will give you up to baseline-T signature.\r\n\r\nFor baseline LT you need to add DSS with all the used certificates, OCSP responses and crls as well.\r\n\r\nIf more questions you can contact me using details in my profile.\r\n\r\nHere is the most important part of the full application that will calculate the digest to be signed for you. When calculating digest then the signatureBytes can be new byte[0].\r\n\r\n        public byte[] signDetached(SignatureParameters parameters, PDDocument document, byte[] signatureBytes, OutputStream out)\r\n            throws IOException, NoSuchAlgorithmException {\r\n\r\n        if (document.getDocumentId() == null) {\r\n            document.setDocumentId(parameters.getSignatureTime());\r\n        }\r\n\r\n        PDSignature signature = createSignatureDictionary(parameters);\r\n        SignatureOptions options = new SignatureOptions();\r\n\r\n        // Enough room for signature, timestamp and OCSP for baseline-LT profile.\r\n        options.setPreferredSignatureSize(SignatureOptions.DEFAULT_SIGNATURE_SIZE * 2);\r\n        document.addSignature(signature, options);\r\n        ExternalSigningSupport externalSigning = document.saveIncrementalForExternalSigning(out);\r\n\r\n        byte[] dataToSign = IOUtils.toByteArray(externalSigning.getContent());\r\n        final MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        byte[] digestBytes = digest.digest(dataToSign);\r\n\r\n        if (signatureBytes != null) {\r\n            externalSigning.setSignature(signatureBytes);\r\n        }\r\n\r\n        return digestBytes;\r\n    }\r\n\r\n    private PDSignature createSignatureDictionary(final SignatureParameters parameters) {\r\n        PDSignature signature = new PDSignature();\r\n\r\n        signature.setType(COSName.getPDFName(&quot;Sig&quot;));\r\n        signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n        signature.setSubFilter(PDSignature.SUBFILTER_ETSI_CADES_DETACHED);\r\n\r\n        if (notEmpty(parameters.getSignerName())) {\r\n            signature.setName(parameters.getSignerName());\r\n        }\r\n\r\n        if (notEmpty(parameters.getContactInfo())) {\r\n            signature.setContactInfo(parameters.getContactInfo());\r\n        }\r\n\r\n        if (notEmpty(parameters.getLocation())) {\r\n            signature.setLocation(parameters.getLocation());\r\n        }\r\n\r\n        if (notEmpty(parameters.getReason())) {\r\n            signature.setReason(parameters.getReason());\r\n        }\r\n\r\n        // the signing date, needed for valid signature\r\n        final Calendar cal = Calendar.getInstance();\r\n        final Date signingDate = new Date(parameters.getSignatureTime());\r\n        cal.setTime(signingDate);\r\n        signature.setSignDate(cal);\r\n\r\n        return signature;\r\n    }","title":"Signing a hash with DSS (Digital Signature Service)","body":"<p>It's is possible and one open source full implementation can be seen in here <a href=\"https://github.com/eideasy/eideasy-external-pades-digital-signatures\" rel=\"nofollow noreferrer\">https://github.com/eideasy/eideasy-external-pades-digital-signatures</a></p>\n<p>You need to create PDF in same format as it will be after being signed, remove all signature ByteRange and then calculate hash.</p>\n<p>After getting CAdES signature just add this to the ByteRange. This will give you up to baseline-T signature.</p>\n<p>For baseline LT you need to add DSS with all the used certificates, OCSP responses and crls as well.</p>\n<p>If more questions you can contact me using details in my profile.</p>\n<p>Here is the most important part of the full application that will calculate the digest to be signed for you. When calculating digest then the signatureBytes can be new byte[0].</p>\n<pre><code>    public byte[] signDetached(SignatureParameters parameters, PDDocument document, byte[] signatureBytes, OutputStream out)\n        throws IOException, NoSuchAlgorithmException {\n\n    if (document.getDocumentId() == null) {\n        document.setDocumentId(parameters.getSignatureTime());\n    }\n\n    PDSignature signature = createSignatureDictionary(parameters);\n    SignatureOptions options = new SignatureOptions();\n\n    // Enough room for signature, timestamp and OCSP for baseline-LT profile.\n    options.setPreferredSignatureSize(SignatureOptions.DEFAULT_SIGNATURE_SIZE * 2);\n    document.addSignature(signature, options);\n    ExternalSigningSupport externalSigning = document.saveIncrementalForExternalSigning(out);\n\n    byte[] dataToSign = IOUtils.toByteArray(externalSigning.getContent());\n    final MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n    byte[] digestBytes = digest.digest(dataToSign);\n\n    if (signatureBytes != null) {\n        externalSigning.setSignature(signatureBytes);\n    }\n\n    return digestBytes;\n}\n\nprivate PDSignature createSignatureDictionary(final SignatureParameters parameters) {\n    PDSignature signature = new PDSignature();\n\n    signature.setType(COSName.getPDFName(&quot;Sig&quot;));\n    signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n    signature.setSubFilter(PDSignature.SUBFILTER_ETSI_CADES_DETACHED);\n\n    if (notEmpty(parameters.getSignerName())) {\n        signature.setName(parameters.getSignerName());\n    }\n\n    if (notEmpty(parameters.getContactInfo())) {\n        signature.setContactInfo(parameters.getContactInfo());\n    }\n\n    if (notEmpty(parameters.getLocation())) {\n        signature.setLocation(parameters.getLocation());\n    }\n\n    if (notEmpty(parameters.getReason())) {\n        signature.setReason(parameters.getReason());\n    }\n\n    // the signing date, needed for valid signature\n    final Calendar cal = Calendar.getInstance();\n    final Date signingDate = new Date(parameters.getSignatureTime());\n    cal.setTime(signingDate);\n    signature.setSignDate(cal);\n\n    return signature;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8976929,"reputation":109,"user_id":6693412,"display_name":"Mehdi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612951489,"creation_date":1612951489,"answer_id":66134740,"question_id":66049319,"body_markdown":"After some research on the github dss esig repository I was able to find a solution that seemed correct : \r\n\r\n********************* ON SERVER A **********************\r\n\r\n    public class ServerA {\r\n    private static PAdESSignatureParameters signatureParameters;\r\n    private static DSSDocument documentToSign;\r\n    public static ExternalCMSPAdESService service;\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        documentToSign = new FileDocument(new File(&quot;file.pdf&quot;));\r\n\r\n        signatureParameters = new PAdESSignatureParameters();\r\n        signatureParameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_B);\r\n        signatureParameters.setLocation(&quot;Luxembourg&quot;);\r\n        signatureParameters.setReason(&quot;DSS testing&quot;);\r\n        signatureParameters.setContactInfo(&quot;Jira&quot;);\r\n        signatureParameters.setGenerateTBSWithoutCertificate(true);\r\n\r\n        service = new ExternalCMSPAdESService(getOfflineCertificateVerifier());\r\n        byte[] documentDigest = computeDocumentDigest(documentToSign, signatureParameters);\r\n\r\n        // Embedded CAdES is generated by a third party\r\n        byte[] cmsSignedData = ServerB.getSignedCMSignedData(documentDigest);\r\n\r\n        service.setCmsSignedData(cmsSignedData);\r\n        DSSDocument finalDoc = service.signDocument(documentToSign, signatureParameters, null);\r\n\r\n        save(finalDoc);\r\n    }\r\n\r\n    private static void save(DSSDocument signedDocument) {\r\n        try (FileOutputStream fos = new FileOutputStream(&quot;DSS.pdf&quot;)) {\r\n            Utils.copy(signedDocument.openStream(), fos);\r\n        } catch (Exception e) {\r\n            Alert alert = new Alert(Alert.AlertType.ERROR, &quot;Unable to save file : &quot; + e.getMessage(), ButtonType.CLOSE);\r\n            alert.showAndWait();\r\n            return;\r\n        }\r\n    }\r\n\r\n    public static CertificateVerifier getOfflineCertificateVerifier() {\r\n        CertificateVerifier cv = new CommonCertificateVerifier();\r\n        cv.setDataLoader(new IgnoreDataLoader());\r\n        return cv;\r\n    }\r\n\r\n    protected static byte[] computeDocumentDigest(final DSSDocument toSignDocument, final PAdESSignatureParameters parameters) {\r\n        IPdfObjFactory pdfObjFactory = new ServiceLoaderPdfObjFactory();\r\n        final PDFSignatureService pdfSignatureService = pdfObjFactory.newPAdESSignatureService();\r\n        return pdfSignatureService.digest(toSignDocument, parameters);\r\n    }\r\n\r\n    private static class ExternalCMSPAdESService extends PAdESService {\r\n\r\n        private static final long serialVersionUID = -2003453716888412577L;\r\n\r\n        private byte[] cmsSignedData;\r\n\r\n        public ExternalCMSPAdESService(CertificateVerifier certificateVerifier) {\r\n            super(certificateVerifier);\r\n        }\r\n\r\n        @Override\r\n        protected byte[] generateCMSSignedData(final DSSDocument toSignDocument, final PAdESSignatureParameters parameters,\r\n                                               final SignatureValue signatureValue) {\r\n            if (this.cmsSignedData == null) {\r\n                throw new NullPointerException(&quot;A CMS signed data must be provided&quot;);\r\n            }\r\n            return this.cmsSignedData;\r\n        }\r\n\r\n        public void setCmsSignedData(final byte[] cmsSignedData) {\r\n            this.cmsSignedData = cmsSignedData;\r\n        }\r\n\r\n    }\r\n    }\r\n\r\n\r\nAnd to be able to sign the calculated hash : \r\n\r\n********************* ON SERVER B **********************\r\n\r\n\r\n    public class ServerB {\r\n\r\n    private static PAdESSignatureParameters signatureParameters;\r\n    private static DSSDocument documentToSign;\r\n    public static ExternalCMSPAdESService service;\r\n\r\n    /**\r\n     * Computes a CAdES with specific things for PAdES\r\n     */\r\n    public static byte[] getSignedCMSignedData(byte[] documentDigest) throws Exception {\r\n        signatureParameters = new PAdESSignatureParameters();\r\n        signatureParameters.setSigningCertificate(getSigningCert());\r\n        signatureParameters.setCertificateChain(getCertificateChain());\r\n        signatureParameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_B);\r\n        signatureParameters.setLocation(&quot;Luxembourg&quot;);\r\n        signatureParameters.setReason(&quot;DSS testing&quot;);\r\n        signatureParameters.setContactInfo(&quot;Jira&quot;);\r\n\r\n        CMSProcessableByteArray content = new CMSProcessableByteArray(documentDigest);\r\n\r\n        PadesCMSSignedDataBuilder padesCMSSignedDataBuilder = new PadesCMSSignedDataBuilder(getOfflineCertificateVerifier());\r\n        SignatureAlgorithm signatureAlgorithm = signatureParameters.getSignatureAlgorithm();\r\n\r\n        CustomContentSigner customContentSigner = new CustomContentSigner(signatureAlgorithm.getJCEId());\r\n        SignerInfoGeneratorBuilder signerInfoGeneratorBuilder = padesCMSSignedDataBuilder.getSignerInfoGeneratorBuilder(signatureParameters, documentDigest);\r\n\r\n        CMSSignedDataGenerator generator = padesCMSSignedDataBuilder.createCMSSignedDataGenerator(signatureParameters, customContentSigner,\r\n                signerInfoGeneratorBuilder, null);\r\n\r\n        CMSUtils.generateDetachedCMSSignedData(generator, content);\r\n\r\n        SignatureTokenConnection signingToken = new Pkcs12SignatureToken(&quot;certificate.p12&quot;,\r\n                new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()));\r\n        DSSPrivateKeyEntry privateKey = getKey(&quot;certificate.p12&quot;,&quot;123456&quot;);\r\n\r\n        SignatureValue signatureValue = signingToken.sign(new ToBeSigned(customContentSigner.getOutputStream().toByteArray()),\r\n                signatureParameters.getDigestAlgorithm(), privateKey);\r\n\r\n        customContentSigner = new CustomContentSigner(signatureAlgorithm.getJCEId(), signatureValue.getValue());\r\n        generator = padesCMSSignedDataBuilder.createCMSSignedDataGenerator(signatureParameters, customContentSigner, signerInfoGeneratorBuilder, null);\r\n\r\n        CMSSignedData cmsSignedData = CMSUtils.generateDetachedCMSSignedData(generator, content);\r\n        return DSSASN1Utils.getDEREncoded(cmsSignedData);\r\n    }\r\n\r\n    public static CertificateVerifier getOfflineCertificateVerifier() {\r\n        CertificateVerifier cv = new CommonCertificateVerifier();\r\n        cv.setDataLoader(new IgnoreDataLoader());\r\n        return cv;\r\n    }\r\n\r\n    public static List&lt;CertificateToken&gt; getCertificateChain() throws Exception {\r\n        List&lt;CertificateToken&gt; list = new ArrayList&lt;&gt;();\r\n        CertificateToken[] l = getKey(&quot;certificate.p12&quot;,&quot;123456&quot;).getCertificateChain();\r\n        for (int i = 0; i &lt; l.length; i++) {\r\n            list.add(l[i]);\r\n        }\r\n        return list;\r\n    }\r\n\r\n    public static CertificateToken getSigningCert() throws Exception {\r\n        return getKey(&quot;certificate.p12&quot;,&quot;123456&quot;).getCertificate();\r\n    }\r\n\r\n    public static DSSPrivateKeyEntry getKey(String certificate, String pin) throws Exception {\r\n        try (Pkcs12SignatureToken signatureToken = new Pkcs12SignatureToken(&quot;certificate.p12&quot;,\r\n                new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()))) {\r\n            List&lt;DSSPrivateKeyEntry&gt; keys = signatureToken.getKeys();\r\n            KSPrivateKeyEntry dssPrivateKeyEntry = (KSPrivateKeyEntry) keys.get(0);\r\n            DSSPrivateKeyEntry entry = signatureToken.getKey(dssPrivateKeyEntry.getAlias(),\r\n                    new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()));\r\n            return entry;\r\n        }\r\n    }\r\n    private static class ExternalCMSPAdESService extends PAdESService {\r\n\r\n        private static final long serialVersionUID = -2003453716888412577L;\r\n\r\n        private byte[] cmsSignedData;\r\n\r\n        public ExternalCMSPAdESService(CertificateVerifier certificateVerifier) {\r\n            super(certificateVerifier);\r\n        }\r\n\r\n        @Override\r\n        protected byte[] generateCMSSignedData(final DSSDocument toSignDocument, final PAdESSignatureParameters parameters,\r\n                                               final SignatureValue signatureValue) {\r\n            if (this.cmsSignedData == null) {\r\n                throw new NullPointerException(&quot;A CMS signed data must be provided&quot;);\r\n            }\r\n            return this.cmsSignedData;\r\n        }\r\n\r\n        public void setCmsSignedData(final byte[] cmsSignedData) {\r\n            this.cmsSignedData = cmsSignedData;\r\n        }\r\n\r\n    }\r\n    }\r\n\r\n","title":"Signing a hash with DSS (Digital Signature Service)","body":"<p>After some research on the github dss esig repository I was able to find a solution that seemed correct :</p>\n<p>********************* ON SERVER A **********************</p>\n<pre><code>public class ServerA {\nprivate static PAdESSignatureParameters signatureParameters;\nprivate static DSSDocument documentToSign;\npublic static ExternalCMSPAdESService service;\n\n\npublic static void main(String[] args) throws Exception {\n    documentToSign = new FileDocument(new File(&quot;file.pdf&quot;));\n\n    signatureParameters = new PAdESSignatureParameters();\n    signatureParameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_B);\n    signatureParameters.setLocation(&quot;Luxembourg&quot;);\n    signatureParameters.setReason(&quot;DSS testing&quot;);\n    signatureParameters.setContactInfo(&quot;Jira&quot;);\n    signatureParameters.setGenerateTBSWithoutCertificate(true);\n\n    service = new ExternalCMSPAdESService(getOfflineCertificateVerifier());\n    byte[] documentDigest = computeDocumentDigest(documentToSign, signatureParameters);\n\n    // Embedded CAdES is generated by a third party\n    byte[] cmsSignedData = ServerB.getSignedCMSignedData(documentDigest);\n\n    service.setCmsSignedData(cmsSignedData);\n    DSSDocument finalDoc = service.signDocument(documentToSign, signatureParameters, null);\n\n    save(finalDoc);\n}\n\nprivate static void save(DSSDocument signedDocument) {\n    try (FileOutputStream fos = new FileOutputStream(&quot;DSS.pdf&quot;)) {\n        Utils.copy(signedDocument.openStream(), fos);\n    } catch (Exception e) {\n        Alert alert = new Alert(Alert.AlertType.ERROR, &quot;Unable to save file : &quot; + e.getMessage(), ButtonType.CLOSE);\n        alert.showAndWait();\n        return;\n    }\n}\n\npublic static CertificateVerifier getOfflineCertificateVerifier() {\n    CertificateVerifier cv = new CommonCertificateVerifier();\n    cv.setDataLoader(new IgnoreDataLoader());\n    return cv;\n}\n\nprotected static byte[] computeDocumentDigest(final DSSDocument toSignDocument, final PAdESSignatureParameters parameters) {\n    IPdfObjFactory pdfObjFactory = new ServiceLoaderPdfObjFactory();\n    final PDFSignatureService pdfSignatureService = pdfObjFactory.newPAdESSignatureService();\n    return pdfSignatureService.digest(toSignDocument, parameters);\n}\n\nprivate static class ExternalCMSPAdESService extends PAdESService {\n\n    private static final long serialVersionUID = -2003453716888412577L;\n\n    private byte[] cmsSignedData;\n\n    public ExternalCMSPAdESService(CertificateVerifier certificateVerifier) {\n        super(certificateVerifier);\n    }\n\n    @Override\n    protected byte[] generateCMSSignedData(final DSSDocument toSignDocument, final PAdESSignatureParameters parameters,\n                                           final SignatureValue signatureValue) {\n        if (this.cmsSignedData == null) {\n            throw new NullPointerException(&quot;A CMS signed data must be provided&quot;);\n        }\n        return this.cmsSignedData;\n    }\n\n    public void setCmsSignedData(final byte[] cmsSignedData) {\n        this.cmsSignedData = cmsSignedData;\n    }\n\n}\n}\n</code></pre>\n<p>And to be able to sign the calculated hash :</p>\n<p>********************* ON SERVER B **********************</p>\n<pre><code>public class ServerB {\n\nprivate static PAdESSignatureParameters signatureParameters;\nprivate static DSSDocument documentToSign;\npublic static ExternalCMSPAdESService service;\n\n/**\n * Computes a CAdES with specific things for PAdES\n */\npublic static byte[] getSignedCMSignedData(byte[] documentDigest) throws Exception {\n    signatureParameters = new PAdESSignatureParameters();\n    signatureParameters.setSigningCertificate(getSigningCert());\n    signatureParameters.setCertificateChain(getCertificateChain());\n    signatureParameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_B);\n    signatureParameters.setLocation(&quot;Luxembourg&quot;);\n    signatureParameters.setReason(&quot;DSS testing&quot;);\n    signatureParameters.setContactInfo(&quot;Jira&quot;);\n\n    CMSProcessableByteArray content = new CMSProcessableByteArray(documentDigest);\n\n    PadesCMSSignedDataBuilder padesCMSSignedDataBuilder = new PadesCMSSignedDataBuilder(getOfflineCertificateVerifier());\n    SignatureAlgorithm signatureAlgorithm = signatureParameters.getSignatureAlgorithm();\n\n    CustomContentSigner customContentSigner = new CustomContentSigner(signatureAlgorithm.getJCEId());\n    SignerInfoGeneratorBuilder signerInfoGeneratorBuilder = padesCMSSignedDataBuilder.getSignerInfoGeneratorBuilder(signatureParameters, documentDigest);\n\n    CMSSignedDataGenerator generator = padesCMSSignedDataBuilder.createCMSSignedDataGenerator(signatureParameters, customContentSigner,\n            signerInfoGeneratorBuilder, null);\n\n    CMSUtils.generateDetachedCMSSignedData(generator, content);\n\n    SignatureTokenConnection signingToken = new Pkcs12SignatureToken(&quot;certificate.p12&quot;,\n            new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()));\n    DSSPrivateKeyEntry privateKey = getKey(&quot;certificate.p12&quot;,&quot;123456&quot;);\n\n    SignatureValue signatureValue = signingToken.sign(new ToBeSigned(customContentSigner.getOutputStream().toByteArray()),\n            signatureParameters.getDigestAlgorithm(), privateKey);\n\n    customContentSigner = new CustomContentSigner(signatureAlgorithm.getJCEId(), signatureValue.getValue());\n    generator = padesCMSSignedDataBuilder.createCMSSignedDataGenerator(signatureParameters, customContentSigner, signerInfoGeneratorBuilder, null);\n\n    CMSSignedData cmsSignedData = CMSUtils.generateDetachedCMSSignedData(generator, content);\n    return DSSASN1Utils.getDEREncoded(cmsSignedData);\n}\n\npublic static CertificateVerifier getOfflineCertificateVerifier() {\n    CertificateVerifier cv = new CommonCertificateVerifier();\n    cv.setDataLoader(new IgnoreDataLoader());\n    return cv;\n}\n\npublic static List&lt;CertificateToken&gt; getCertificateChain() throws Exception {\n    List&lt;CertificateToken&gt; list = new ArrayList&lt;&gt;();\n    CertificateToken[] l = getKey(&quot;certificate.p12&quot;,&quot;123456&quot;).getCertificateChain();\n    for (int i = 0; i &lt; l.length; i++) {\n        list.add(l[i]);\n    }\n    return list;\n}\n\npublic static CertificateToken getSigningCert() throws Exception {\n    return getKey(&quot;certificate.p12&quot;,&quot;123456&quot;).getCertificate();\n}\n\npublic static DSSPrivateKeyEntry getKey(String certificate, String pin) throws Exception {\n    try (Pkcs12SignatureToken signatureToken = new Pkcs12SignatureToken(&quot;certificate.p12&quot;,\n            new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()))) {\n        List&lt;DSSPrivateKeyEntry&gt; keys = signatureToken.getKeys();\n        KSPrivateKeyEntry dssPrivateKeyEntry = (KSPrivateKeyEntry) keys.get(0);\n        DSSPrivateKeyEntry entry = signatureToken.getKey(dssPrivateKeyEntry.getAlias(),\n                new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()));\n        return entry;\n    }\n}\nprivate static class ExternalCMSPAdESService extends PAdESService {\n\n    private static final long serialVersionUID = -2003453716888412577L;\n\n    private byte[] cmsSignedData;\n\n    public ExternalCMSPAdESService(CertificateVerifier certificateVerifier) {\n        super(certificateVerifier);\n    }\n\n    @Override\n    protected byte[] generateCMSSignedData(final DSSDocument toSignDocument, final PAdESSignatureParameters parameters,\n                                           final SignatureValue signatureValue) {\n        if (this.cmsSignedData == null) {\n            throw new NullPointerException(&quot;A CMS signed data must be provided&quot;);\n        }\n        return this.cmsSignedData;\n    }\n\n    public void setCmsSignedData(final byte[] cmsSignedData) {\n        this.cmsSignedData = cmsSignedData;\n    }\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3503118,"reputation":504,"user_id":2929352,"display_name":"David KELLER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649666769,"creation_date":1649666769,"answer_id":71824978,"question_id":66049319,"body_markdown":"An example using IAIK to sign on HSM, and Europa DSS to asssemble PAdES file:\r\n\r\n1/ prepare data to be signed using Europa DSS\r\n\r\n```java\r\n\t\t\tCertificateFactory fact = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\t\t\tX509Certificate cer = null;\r\n\t\t\ttry (FileInputStream is = new FileInputStream (certFile);) {\r\n\t\t\t\tcer = (X509Certificate) fact.generateCertificate(is);\r\n\t\t\t}\r\n\r\n\t\t\tCertificateToken certificateToken = new CertificateToken(cer);\r\n\t\t\t\r\n\t\t\tCertificateToken[] certificateChain = new CertificateToken[] {\r\n\t\t\t\tcertificateToken\r\n\t\t\t};\r\n\r\n\t\t\tPAdESSignatureParameters parameters = buildPAdESSignatureParameters(certificateToken, certificateChain);\r\n```\r\n\r\n\r\n```java\r\n\tpublic static PAdESSignatureParameters buildPAdESSignatureParameters(\r\n\t\t\tCertificateToken signingCertificate,\r\n\t\t\tfinal CertificateToken... certificateChain) {\r\n\t\tPAdESSignatureParameters parameters = new PAdESSignatureParameters();\r\n\t\t// We choose the level of the signature (-B, -T, -LT, -LTA).\r\n//\t\tparameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_B);\r\n\t\tparameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_T);\r\n//\t\tparameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_LT);\r\n//\t\tparameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_LTA);\r\n\t\tparameters.setReason(&quot;Preuve de signature&quot;);\r\n\t\tparameters.setLocation(&quot;PARIS&quot;);\r\n\t\tparameters.setSigningCertificate(signingCertificate);\r\n\t\tparameters.setCertificateChain(certificateChain);\r\n\r\n\t\treturn parameters;\r\n\t}\r\n```\r\n\r\n\r\n2/ sign with HSM (Bull Proteccio for example) with IAIK\r\n\r\n```java\r\n\t\t\tString modulePath = &quot;C:/data/applications/HSM/europa_dss/win64/nethsm.dll&quot;;\r\n\r\n\t\t\tiaik.pkcs.pkcs11.Module module = iaik.pkcs.pkcs11.Module.getInstance(modulePath);\r\n\t\t\tmodule.initialize(null);\r\n\r\n\t\t\tToken token = retrieveToken(slotId, module);\r\n\t\t\tSystem.out.println(&quot;module: &quot; + infoModule(module));\r\n\t\t\t\r\n\t\t\tSession session = null;\r\n\t\t\tsession = openSession(token, pincode);\r\n\r\n\t\t\t// Get the SignedInfo segment that need to be signed.\r\n\t\t\tDSSDocument toSignDocument = new FileDocument(toSignFile);\r\n\t\t\tToBeSigned dataToSign = service.getDataToSign(toSignDocument, parameters);\r\n\r\n\t\t\tbyte[] content = dataToSign.getBytes();\r\n\t\t\tSystem.out.println(&quot;parameters: &quot; + parameters);\r\n\t\t\t\r\n\t\t\tByteBuffer byteBuffer = ByteBuffer.wrap(content);\r\n\t\t\tByteBuffer signedData = signDataByKeyIdAndLabel(keyId, label, byteBuffer, session);\r\n\t\t\tbyte[] cmsContent = signedData.array();\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;signed data: &quot; + Hex.encodeHexString( signedData.array() ) );\r\n\t\t\tSystem.out.println(&quot;signing date: &quot; + parameters.getSigningDate());\r\n\t\t\tSystem.out.println(&quot;signing time: &quot; + parameters.getSigningDate().getTime());\r\n\t\t\t\t\t\t\r\n\t\t\t\r\n\t\t\tKey hsmPublicKey = findPublicKeyByIDAndLabel(session, keyId, label);\r\n\t\t\tboolean verify = verifyHSM(session, hsmPublicKey, content, cmsContent);\r\n\t\t\tSystem.out.println(&quot;public key: &quot; + hsmPublicKey);\r\n\t\t\tSystem.out.println(&quot;public key (cer): &quot; + cer);\r\n\t\t\tSystem.out.println(&quot;verify: &quot; + verify);\r\n\t\t\t\r\n\t\t\tcloseSession(session);\t\t\t\r\n```\r\n\r\n```java\r\n\tprivate byte[] signHSM(Session session, Key key, byte[] data) throws TokenException {\r\n\t\tsession.signInit(Mechanism.get(PKCS11Constants.CKM_SHA256_RSA_PKCS), key);\r\n\t\treturn session.sign(data);\r\n\t}\r\n\t\r\n\tprivate boolean verifyHSM(Session session, Key key, byte[] data, byte[] signature) {\r\n\t\ttry {\r\n\t\t\tsession.verifyInit(Mechanism.get(PKCS11Constants.CKM_SHA256_RSA_PKCS), key);\r\n\t\t\tsession.verify(data, signature);\r\n\t\t\treturn true;\r\n\t\t} catch (TokenException e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\n3/ Assemble\r\n\r\n```java\r\nassemble(\r\n\t\t\t\t\tparameters,\r\n\t\t\t\t\tcmsContent, \r\n\t\t\t\t\ttoSignFile, \r\n\t\t\t\t\tsignedFile,\r\n\t\t\t\t\tservice);\r\n```\r\n\r\n\r\n```java\r\n\tpublic static void assemble(\r\n\t\t\tPAdESSignatureParameters parameters,\r\n\t\t\tbyte[] signatureValueBytes,\r\n\t\t\tFile toSignFile,\r\n\t\t\tFile signedFile,\r\n\t\t\tPAdESService service) \r\n\tthrows IOException {\r\n\t\tDSSDocument toSignDocument = new FileDocument(toSignFile);\r\n\t\t\r\n\t\tSignatureValue signatureValue = new SignatureValue(SignatureAlgorithm.RSA_SHA256, signatureValueBytes);\r\n\t\tDSSDocument signedDocument = service.signDocument(toSignDocument, parameters, signatureValue);\r\n\t\tsignedDocument.save(signedFile.getAbsolutePath());\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Signing a hash with DSS (Digital Signature Service)","body":"<p>An example using IAIK to sign on HSM, and Europa DSS to asssemble PAdES file:</p>\n<p>1/ prepare data to be signed using Europa DSS</p>\n<pre class=\"lang-java prettyprint-override\"><code>            CertificateFactory fact = CertificateFactory.getInstance(&quot;X.509&quot;);\n            X509Certificate cer = null;\n            try (FileInputStream is = new FileInputStream (certFile);) {\n                cer = (X509Certificate) fact.generateCertificate(is);\n            }\n\n            CertificateToken certificateToken = new CertificateToken(cer);\n            \n            CertificateToken[] certificateChain = new CertificateToken[] {\n                certificateToken\n            };\n\n            PAdESSignatureParameters parameters = buildPAdESSignatureParameters(certificateToken, certificateChain);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    public static PAdESSignatureParameters buildPAdESSignatureParameters(\n            CertificateToken signingCertificate,\n            final CertificateToken... certificateChain) {\n        PAdESSignatureParameters parameters = new PAdESSignatureParameters();\n        // We choose the level of the signature (-B, -T, -LT, -LTA).\n//      parameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_B);\n        parameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_T);\n//      parameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_LT);\n//      parameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_LTA);\n        parameters.setReason(&quot;Preuve de signature&quot;);\n        parameters.setLocation(&quot;PARIS&quot;);\n        parameters.setSigningCertificate(signingCertificate);\n        parameters.setCertificateChain(certificateChain);\n\n        return parameters;\n    }\n</code></pre>\n<p>2/ sign with HSM (Bull Proteccio for example) with IAIK</p>\n<pre class=\"lang-java prettyprint-override\"><code>            String modulePath = &quot;C:/data/applications/HSM/europa_dss/win64/nethsm.dll&quot;;\n\n            iaik.pkcs.pkcs11.Module module = iaik.pkcs.pkcs11.Module.getInstance(modulePath);\n            module.initialize(null);\n\n            Token token = retrieveToken(slotId, module);\n            System.out.println(&quot;module: &quot; + infoModule(module));\n            \n            Session session = null;\n            session = openSession(token, pincode);\n\n            // Get the SignedInfo segment that need to be signed.\n            DSSDocument toSignDocument = new FileDocument(toSignFile);\n            ToBeSigned dataToSign = service.getDataToSign(toSignDocument, parameters);\n\n            byte[] content = dataToSign.getBytes();\n            System.out.println(&quot;parameters: &quot; + parameters);\n            \n            ByteBuffer byteBuffer = ByteBuffer.wrap(content);\n            ByteBuffer signedData = signDataByKeyIdAndLabel(keyId, label, byteBuffer, session);\n            byte[] cmsContent = signedData.array();\n            \n            System.out.println(&quot;signed data: &quot; + Hex.encodeHexString( signedData.array() ) );\n            System.out.println(&quot;signing date: &quot; + parameters.getSigningDate());\n            System.out.println(&quot;signing time: &quot; + parameters.getSigningDate().getTime());\n                        \n            \n            Key hsmPublicKey = findPublicKeyByIDAndLabel(session, keyId, label);\n            boolean verify = verifyHSM(session, hsmPublicKey, content, cmsContent);\n            System.out.println(&quot;public key: &quot; + hsmPublicKey);\n            System.out.println(&quot;public key (cer): &quot; + cer);\n            System.out.println(&quot;verify: &quot; + verify);\n            \n            closeSession(session);          \n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    private byte[] signHSM(Session session, Key key, byte[] data) throws TokenException {\n        session.signInit(Mechanism.get(PKCS11Constants.CKM_SHA256_RSA_PKCS), key);\n        return session.sign(data);\n    }\n    \n    private boolean verifyHSM(Session session, Key key, byte[] data, byte[] signature) {\n        try {\n            session.verifyInit(Mechanism.get(PKCS11Constants.CKM_SHA256_RSA_PKCS), key);\n            session.verify(data, signature);\n            return true;\n        } catch (TokenException e) {\n            return false;\n        }\n    }\n</code></pre>\n<p>3/ Assemble</p>\n<pre class=\"lang-java prettyprint-override\"><code>assemble(\n                    parameters,\n                    cmsContent, \n                    toSignFile, \n                    signedFile,\n                    service);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void assemble(\n            PAdESSignatureParameters parameters,\n            byte[] signatureValueBytes,\n            File toSignFile,\n            File signedFile,\n            PAdESService service) \n    throws IOException {\n        DSSDocument toSignDocument = new FileDocument(toSignFile);\n        \n        SignatureValue signatureValue = new SignatureValue(SignatureAlgorithm.RSA_SHA256, signatureValueBytes);\n        DSSDocument signedDocument = service.signDocument(toSignDocument, parameters, signatureValue);\n        signedDocument.save(signedFile.getAbsolutePath());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8976929,"reputation":109,"user_id":6693412,"display_name":"Mehdi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3472,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66051416,"answer_count":4,"score":4,"last_activity_date":1649666769,"creation_date":1612454635,"question_id":66049319,"body_markdown":"I am trying to sign a PDF document with DSS, and my problem is that I cannot calculate the hash of the document in server A and then sign it in server B.\r\n\r\nKnowing that server A contains the PDF document and in server B we retrieve the certificate used for signature\r\n\r\nMy question is how i can compute the hash of the document in a server A without needing the certificate. Then send it for signature in server B ? \r\n\r\n     \r\n\r\n\r\nUPDATE : \r\n\r\n****** Preparation and calculation of hash ********\r\n\r\n        IPdfObjFactory pdfObjFactory = new ServiceLoaderPdfObjFactory();\r\n        PDFSignatureService pdfSignatureService = pdfObjFactory.newPAdESSignatureService();\r\n\r\n        PAdESSignatureParameters parameters = new PAdESSignatureParameters();\r\n\r\n        parameters.setDigestAlgorithm(DigestAlgorithm.SHA512);\r\n        parameters.setReason(&quot;Preuve de signature&quot;);\r\n        parameters.setLocation(&quot;MAROC&quot;);\r\n        parameters.setGenerateTBSWithoutCertificate(true);\r\n\r\n        SignatureImageParameters imageParameters = new SignatureImageParameters();\r\n\r\n        imageParameters.setPage(1);\r\n        FileDocument imageFile = new FileDocument(&quot;logo.png&quot;);\r\n        RemoteDocument fileImage = RemoteDocumentConverter.toRemoteDocument(imageFile);\r\n        DSSDocument image = RemoteDocumentConverter.toDSSDocument(fileImage);\r\n        // set an image\r\n        imageParameters.setImage(image);\r\n\r\n        imageParameters.setxAxis(350);\r\n        imageParameters.setyAxis(400);\r\n        imageParameters.setWidth(200);\r\n        imageParameters.setHeight(100);\r\n        parameters.setImageParameters(imageParameters);\r\n        SignatureImageTextParameters textParameters = new SignatureImageTextParameters();\r\n        DSSFont font = new DSSJavaFont(Font.SERIF);\r\n        font.setSize(16); // Specifies the text size value (the default font size is 12pt)\r\n        textParameters.setFont(font);\r\n        textParameters.setTextColor(Color.BLUE);\r\n\r\n        textParameters.setSignerTextPosition(SignerTextPosition.RIGHT);\r\n        // Specifies a horizontal alignment of a text with respect to its area\r\n        textParameters.setSignerTextHorizontalAlignment(SignerTextHorizontalAlignment.LEFT);\r\n        // Specifies a vertical alignment of a text block with respect to a signature field area\r\n        textParameters.setSignerTextVerticalAlignment(SignerTextVerticalAlignment.TOP);\r\n        imageParameters.setTextParameters(textParameters);\r\n\r\n        FileDocument fileToSign = new FileDocument(&quot;file.pdf&quot;);\r\n        RemoteDocument fileSign = RemoteDocumentConverter.toRemoteDocument(fileToSign);\r\n        DSSDocument toSignDocument = RemoteDocumentConverter.toDSSDocument(fileSign);\r\n\r\n        byte[] hash = pdfSignatureService.digest(toSignDocument, parameters);\r\n\r\n        DSSDocument signatureValue = SignHashDocument.signHash(hash);\r\n\r\n        DSSDocument signedDocument = pdfSignatureService.sign(toSignDocument, DSSUtils.toByteArray(signatureValue), parameters);\r\n\r\n        save(signedDocument);\r\n\r\n\r\n\r\n****** Hash signature ********\r\n\r\n         // Create common certificate verifier\r\n        CommonCertificateVerifier commonCertificateVerifier = new CommonCertificateVerifier();\r\n            // Create CAdESService for signature\r\n        CAdESService service = new CAdESService(commonCertificateVerifier);\r\n\r\n        CAdESSignatureParameters parameters = new CAdESSignatureParameters();\r\n        DSSPrivateKeyEntry privateKey = getKey(&quot;certificate.p12&quot;,&quot;123456&quot;);\r\n\r\n\r\n        // We choose the level of the signature (-B, -T, -LT, -LTA).\r\n        parameters.setSignatureLevel(SignatureLevel.CAdES_BASELINE_B);\r\n        parameters.setSignaturePackaging(SignaturePackaging.ENVELOPING);\r\n\r\n        parameters.setDigestAlgorithm(DigestAlgorithm.SHA512);\r\n        // We set the signing certificate\r\n        parameters.setSigningCertificate(privateKey.getCertificate());\r\n        // We set the certificate chain\r\n        parameters.setCertificateChain(privateKey.getCertificateChain());\r\n\r\n\r\n        SignatureTokenConnection signingToken = new Pkcs12SignatureToken(&quot;certificate.p12&quot;,\r\n                new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()));\r\n\r\n\r\n        convertByteArrayToFile(hashToSign,&quot;filetosign.hash&quot;);\r\n        FileDocument fileToSign = new FileDocument(&quot;filetosign.hash&quot;);\r\n        RemoteDocument fileSign = RemoteDocumentConverter.toRemoteDocument(fileToSign);\r\n        DSSDocument toSignDocument = RemoteDocumentConverter.toDSSDocument(fileSign);\r\n\r\n        //ToBeSigned dataToSign = service.getDataToSign(toSignDocument, parameters);\r\n\r\n        ToBeSigned dataToSign = new ToBeSigned(hashToSign);\r\n\r\n        DigestAlgorithm digestAlgorithm = parameters.getDigestAlgorithm();\r\n        SignatureValue signatureValue = signingToken.sign(dataToSign, digestAlgorithm, privateKey);\r\n\r\n        DSSDocument signedDocument = service.signDocument(toSignDocument, parameters, signatureValue);\r\n\r\n        return  signedDocument;\r\n\r\n******** PDF ERROR : *********\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MTHNW.png","title":"Signing a hash with DSS (Digital Signature Service)","body":"<p>I am trying to sign a PDF document with DSS, and my problem is that I cannot calculate the hash of the document in server A and then sign it in server B.</p>\n<p>Knowing that server A contains the PDF document and in server B we retrieve the certificate used for signature</p>\n<p>My question is how i can compute the hash of the document in a server A without needing the certificate. Then send it for signature in server B ?</p>\n<p>UPDATE :</p>\n<p>****** Preparation and calculation of hash ********</p>\n<pre><code>    IPdfObjFactory pdfObjFactory = new ServiceLoaderPdfObjFactory();\n    PDFSignatureService pdfSignatureService = pdfObjFactory.newPAdESSignatureService();\n\n    PAdESSignatureParameters parameters = new PAdESSignatureParameters();\n\n    parameters.setDigestAlgorithm(DigestAlgorithm.SHA512);\n    parameters.setReason(&quot;Preuve de signature&quot;);\n    parameters.setLocation(&quot;MAROC&quot;);\n    parameters.setGenerateTBSWithoutCertificate(true);\n\n    SignatureImageParameters imageParameters = new SignatureImageParameters();\n\n    imageParameters.setPage(1);\n    FileDocument imageFile = new FileDocument(&quot;logo.png&quot;);\n    RemoteDocument fileImage = RemoteDocumentConverter.toRemoteDocument(imageFile);\n    DSSDocument image = RemoteDocumentConverter.toDSSDocument(fileImage);\n    // set an image\n    imageParameters.setImage(image);\n\n    imageParameters.setxAxis(350);\n    imageParameters.setyAxis(400);\n    imageParameters.setWidth(200);\n    imageParameters.setHeight(100);\n    parameters.setImageParameters(imageParameters);\n    SignatureImageTextParameters textParameters = new SignatureImageTextParameters();\n    DSSFont font = new DSSJavaFont(Font.SERIF);\n    font.setSize(16); // Specifies the text size value (the default font size is 12pt)\n    textParameters.setFont(font);\n    textParameters.setTextColor(Color.BLUE);\n\n    textParameters.setSignerTextPosition(SignerTextPosition.RIGHT);\n    // Specifies a horizontal alignment of a text with respect to its area\n    textParameters.setSignerTextHorizontalAlignment(SignerTextHorizontalAlignment.LEFT);\n    // Specifies a vertical alignment of a text block with respect to a signature field area\n    textParameters.setSignerTextVerticalAlignment(SignerTextVerticalAlignment.TOP);\n    imageParameters.setTextParameters(textParameters);\n\n    FileDocument fileToSign = new FileDocument(&quot;file.pdf&quot;);\n    RemoteDocument fileSign = RemoteDocumentConverter.toRemoteDocument(fileToSign);\n    DSSDocument toSignDocument = RemoteDocumentConverter.toDSSDocument(fileSign);\n\n    byte[] hash = pdfSignatureService.digest(toSignDocument, parameters);\n\n    DSSDocument signatureValue = SignHashDocument.signHash(hash);\n\n    DSSDocument signedDocument = pdfSignatureService.sign(toSignDocument, DSSUtils.toByteArray(signatureValue), parameters);\n\n    save(signedDocument);\n</code></pre>\n<p>****** Hash signature ********</p>\n<pre><code>     // Create common certificate verifier\n    CommonCertificateVerifier commonCertificateVerifier = new CommonCertificateVerifier();\n        // Create CAdESService for signature\n    CAdESService service = new CAdESService(commonCertificateVerifier);\n\n    CAdESSignatureParameters parameters = new CAdESSignatureParameters();\n    DSSPrivateKeyEntry privateKey = getKey(&quot;certificate.p12&quot;,&quot;123456&quot;);\n\n\n    // We choose the level of the signature (-B, -T, -LT, -LTA).\n    parameters.setSignatureLevel(SignatureLevel.CAdES_BASELINE_B);\n    parameters.setSignaturePackaging(SignaturePackaging.ENVELOPING);\n\n    parameters.setDigestAlgorithm(DigestAlgorithm.SHA512);\n    // We set the signing certificate\n    parameters.setSigningCertificate(privateKey.getCertificate());\n    // We set the certificate chain\n    parameters.setCertificateChain(privateKey.getCertificateChain());\n\n\n    SignatureTokenConnection signingToken = new Pkcs12SignatureToken(&quot;certificate.p12&quot;,\n            new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()));\n\n\n    convertByteArrayToFile(hashToSign,&quot;filetosign.hash&quot;);\n    FileDocument fileToSign = new FileDocument(&quot;filetosign.hash&quot;);\n    RemoteDocument fileSign = RemoteDocumentConverter.toRemoteDocument(fileToSign);\n    DSSDocument toSignDocument = RemoteDocumentConverter.toDSSDocument(fileSign);\n\n    //ToBeSigned dataToSign = service.getDataToSign(toSignDocument, parameters);\n\n    ToBeSigned dataToSign = new ToBeSigned(hashToSign);\n\n    DigestAlgorithm digestAlgorithm = parameters.getDigestAlgorithm();\n    SignatureValue signatureValue = signingToken.sign(dataToSign, digestAlgorithm, privateKey);\n\n    DSSDocument signedDocument = service.signDocument(toSignDocument, parameters, signatureValue);\n\n    return  signedDocument;\n</code></pre>\n<p>******** PDF ERROR : *********</p>\n<p><a href=\"https://i.stack.imgur.com/MTHNW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MTHNW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","postgresql","jdbc","boolean","bit"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1649604724,"post_id":71817869,"comment_id":126912583,"body_markdown":"Most likely the database doesn&#39;t differentiate them on that level. I&#39;m assuming the driver doesn&#39;t do anything to those values (too lazy to look, but from my experience with the Postgres driver it&#39;s a safe bet), only passes you what the db is replying with, so jdbc is not to blame.","body":"Most likely the database doesn&#39;t differentiate them on that level. I&#39;m assuming the driver doesn&#39;t do anything to those values (too lazy to look, but from my experience with the Postgres driver it&#39;s a safe bet), only passes you what the db is replying with, so jdbc is not to blame."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1649605205,"post_id":71817869,"comment_id":126912692,"body_markdown":"What is the version of the driver you are using and what is the Postgres version?","body":"What is the version of the driver you are using and what is the Postgres version?"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1649605420,"post_id":71817869,"comment_id":126912731,"body_markdown":"@a_horse_with_no_name I added the jdbc-driver manifest information and server-info.","body":"@a_horse_with_no_name I added the jdbc-driver manifest information and server-info."},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":1,"creation_date":1649608203,"post_id":71817869,"comment_id":126913379,"body_markdown":"@Kayaman, [bit](https://www.postgresql.org/docs/current/datatype-bit.html)  and [boolean](https://www.postgresql.org/docs/current/datatype-boolean.html) are two entirely  different types in Postgres. This is something being done above the database level.","body":"@Kayaman, <a href=\"https://www.postgresql.org/docs/current/datatype-bit.html\" rel=\"nofollow noreferrer\">bit</a>  and <a href=\"https://www.postgresql.org/docs/current/datatype-boolean.html\" rel=\"nofollow noreferrer\">boolean</a> are two entirely  different types in Postgres. This is something being done above the database level."},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1649619046,"post_id":71817869,"comment_id":126915886,"body_markdown":"Looks like a bug in the driver. The current driver returns the same. You could log an  issue in their [tracker](https://github.com/pgjdbc/pgjdbc). But you should really upgrade your versions. Your driver version is about 6 years old and Postgres 9.4 is no longer maintained since 2 years.","body":"Looks like a bug in the driver. The current driver returns the same. You could log an  issue in their <a href=\"https://github.com/pgjdbc/pgjdbc\" rel=\"nofollow noreferrer\">tracker</a>. But you should really upgrade your versions. Your driver version is about 6 years old and Postgres 9.4 is no longer maintained since 2 years."}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649666545,"creation_date":1649666545,"answer_id":71824941,"question_id":71817869,"body_markdown":"The bug is unsolved since 7 years:  https://github.com/pgjdbc/pgjdbc/issues/367 \r\n\r\nCredits to a @a_horse_with_no_name ","title":"Postgres reports coltype -7 (BIT) but qualified-name bool","body":"<p>The bug is unsolved since 7 years:  <a href=\"https://github.com/pgjdbc/pgjdbc/issues/367\" rel=\"nofollow noreferrer\">https://github.com/pgjdbc/pgjdbc/issues/367</a></p>\n<p>Credits to a @a_horse_with_no_name</p>\n"}],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71824941,"answer_count":1,"score":0,"last_activity_date":1649666545,"creation_date":1649603393,"question_id":71817869,"body_markdown":"I read the type of a column using the jdbc metadata.\r\n\r\nUsing this java-code \r\n\r\n    columns = metadata.getColumns(catalogName, schema.getName(), table.getName(), &quot;%&quot;);\r\n    while (columns.next()) {\r\n\t  final String fqtn = columns.getString(6);\r\n\t  int type = columns.getInt(5);\r\n      LOG.fine(&quot;Column &#39;&quot; + table.getName() + &quot;.&quot; + columnName + &quot;&#39; is type: &quot; + type + &quot; and of fqtn:&quot; + fqtn + &quot;!&quot;);\r\n    }\r\n\r\nI log this output:\r\n\r\n    Column &#39;BUILD_RESULT.finished&#39; is type: -7 and of fqtn:bool!\r\n\r\nI look into `java.sql.Types` and looking for -7 and found BIT\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo type -7 is `BIT` but name is reported `bool`. \r\n\r\nThere is a difference between BIT and BOOL:\r\n- BIT can be `0` or `1`\r\n- BOOL can be `true` or `false`.\r\n\r\nWhy is bit (-7) reported when there is a better matching type 16 (BOOLEAN) in `java.sql.Types`? \r\n\r\n\r\n\r\nI installed a sql-manager and inspect the field BUILD_RESULT.finished like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIt is boolean, not bit. Why is postgres jdbc telling me it is a BIT?\r\n\r\nEDIT: Add version of jdbc-jar\r\n--\r\nI do not have the jar-name but I have the Manifest&#39;s info:\r\n\r\n\tManifest-Version: 1.0\r\n\tBnd-LastModified: 1455914805118\r\n\tBuild-Jdk: 1.8.0_66\r\n\tBuilt-By: vladimirsitnikov\r\n\tBundle-Activator: org.postgresql.osgi.PGBundleActivator\r\n\tBundle-Copyright: Copyright (c) 2003-2015, PostgreSQL Global Development\r\n\t  Group\r\n\tBundle-Description: Java JDBC 4.1 (JRE 7+) driver for PostgreSQL databas\r\n\t e\r\n\tBundle-DocURL: http://jdbc.postgresql.org/\r\n\tBundle-License: http://www.postgresql.org/about/licence/\r\n\tBundle-ManifestVersion: 2\r\n\tBundle-Name: PostgreSQL JDBC Driver JDBC41\r\n\tBundle-SymbolicName: org.postgresql.jdbc41\r\n\tBundle-Vendor: PostgreSQL Global Development Group\r\n\tBundle-Version: 9.4.1208.jre7\r\n\r\nAnd `select version()` said: PostgreSQL 9.4.25 on x86_64-pc-linux-gnu (Ubuntu 9.4.25-1.pgdg18.04+1), compiled by gcc (Ubuntu 7.4.0-1ubuntu1~18.04.1) 7.4.0, 64-bit\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0YMFe.png\r\n  [2]: https://i.stack.imgur.com/ZgpZZ.png","title":"Postgres reports coltype -7 (BIT) but qualified-name bool","body":"<p>I read the type of a column using the jdbc metadata.</p>\n<p>Using this java-code</p>\n<pre><code>columns = metadata.getColumns(catalogName, schema.getName(), table.getName(), &quot;%&quot;);\nwhile (columns.next()) {\n  final String fqtn = columns.getString(6);\n  int type = columns.getInt(5);\n  LOG.fine(&quot;Column '&quot; + table.getName() + &quot;.&quot; + columnName + &quot;' is type: &quot; + type + &quot; and of fqtn:&quot; + fqtn + &quot;!&quot;);\n}\n</code></pre>\n<p>I log this output:</p>\n<pre><code>Column 'BUILD_RESULT.finished' is type: -7 and of fqtn:bool!\n</code></pre>\n<p>I look into <code>java.sql.Types</code> and looking for -7 and found BIT</p>\n<p><a href=\"https://i.stack.imgur.com/0YMFe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0YMFe.png\" alt=\"enter image description here\" /></a></p>\n<p>So type -7 is <code>BIT</code> but name is reported <code>bool</code>.</p>\n<p>There is a difference between BIT and BOOL:</p>\n<ul>\n<li>BIT can be <code>0</code> or <code>1</code></li>\n<li>BOOL can be <code>true</code> or <code>false</code>.</li>\n</ul>\n<p>Why is bit (-7) reported when there is a better matching type 16 (BOOLEAN) in <code>java.sql.Types</code>?</p>\n<p>I installed a sql-manager and inspect the field BUILD_RESULT.finished like this:</p>\n<p><a href=\"https://i.stack.imgur.com/ZgpZZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZgpZZ.png\" alt=\"enter image description here\" /></a></p>\n<p>It is boolean, not bit. Why is postgres jdbc telling me it is a BIT?</p>\n<h2>EDIT: Add version of jdbc-jar</h2>\n<p>I do not have the jar-name but I have the Manifest's info:</p>\n<pre><code>Manifest-Version: 1.0\nBnd-LastModified: 1455914805118\nBuild-Jdk: 1.8.0_66\nBuilt-By: vladimirsitnikov\nBundle-Activator: org.postgresql.osgi.PGBundleActivator\nBundle-Copyright: Copyright (c) 2003-2015, PostgreSQL Global Development\n  Group\nBundle-Description: Java JDBC 4.1 (JRE 7+) driver for PostgreSQL databas\n e\nBundle-DocURL: http://jdbc.postgresql.org/\nBundle-License: http://www.postgresql.org/about/licence/\nBundle-ManifestVersion: 2\nBundle-Name: PostgreSQL JDBC Driver JDBC41\nBundle-SymbolicName: org.postgresql.jdbc41\nBundle-Vendor: PostgreSQL Global Development Group\nBundle-Version: 9.4.1208.jre7\n</code></pre>\n<p>And <code>select version()</code> said: PostgreSQL 9.4.25 on x86_64-pc-linux-gnu (Ubuntu 9.4.25-1.pgdg18.04+1), compiled by gcc (Ubuntu 7.4.0-1ubuntu1~18.04.1) 7.4.0, 64-bit</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"score":0,"creation_date":1649616762,"post_id":71819602,"comment_id":126915369,"body_markdown":"check this https://github.com/h2database/h2database/issues/1825","body":"check this <a href=\"https://github.com/h2database/h2database/issues/1825\" rel=\"nofollow noreferrer\">github.com/h2database/h2database/issues/1825</a>"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1649620847,"post_id":71819602,"comment_id":126916291,"body_markdown":"Why are you using JDBC in spring-boot ?","body":"Why are you using JDBC in spring-boot ?"}],"owner":{"account_id":22054576,"reputation":11,"user_id":16318329,"display_name":"Jose Erasmo Hernandez Yate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":988,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649666504,"creation_date":1649616525,"question_id":71819602,"body_markdown":"I&#39;m doing a simple API, and i&#39;m getting the next error: \r\n\r\n&gt;File corrupted while reading record: null. Possible solution: use the recovery tool [90030-200]\r\n\r\nthis is the code of the controller that i&#39;m using\r\n\r\n```\r\n@PostMapping(&quot;/save&quot;)\r\n    public ResponseEntity saveDentist(@RequestBody Dentist data) {\r\n        DentistService dentistService = new DentistService(new DentistDaoH2());\r\n        if(data == null) {\r\n            return new ResponseEntity(HttpStatus.NO_CONTENT);\r\n        }\r\n\r\n        return ResponseEntity.status(200).body(dentistService.save(data));\r\n    }\r\n\r\n```\r\n\r\nthis is the code of the DAO for the operations of the database(i&#39;m using H2):\r\n\r\n```\r\n   @Override\r\n    public Dentist save(Dentist data) {\r\n        Connection connection = null;\r\n        PreparedStatement preparedStatement = null;\r\n\r\n        try {\r\n            Class.forName(JDBC_DRIVER_H2);\r\n            connection = DriverManager.getConnection(URL,USER,PASSWORD);\r\n            preparedStatement = connection.prepareStatement(&quot;INSERT INTO dentist values(?,?,?,?)&quot;);\r\n\r\n            preparedStatement.setString(1,data.getName());\r\n            preparedStatement.setString(2,data.getLastName());\r\n            preparedStatement.setInt(3,data.getAge());\r\n            preparedStatement.setString(4,data.getProfessionalCard());\r\n\r\n            preparedStatement.executeUpdate();\r\n            preparedStatement.close();\r\n            System.out.println(&quot;its saved&quot;);\r\n            logger.info(&quot;the user was registered with success&quot;);\r\n        } catch (SQLException e) {\r\n            logger.error(e.getMessage());\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n            logger.error(e.getMessage());\r\n        }\r\n        return data;\r\n    }\r\n```\r\nthe code of the service:\r\n\r\n```\r\n  public Dentist save(Dentist dentist) {\r\n        if(dentist == null) {\r\n            return null;\r\n        }\r\n        return this.daoService.save(dentist);\r\n    }\r\n```\r\nthe repository layer have the next configuration for h2:\r\n\r\n```\r\n private static final String JDBC_DRIVER_H2 = &quot;org.h2.Driver&quot;;\r\n private final static String USER = &quot;sa&quot;;\r\n private final static String PASSWORD = &quot;&quot;;\r\n private final static String URL = &quot;jdbc:h2:~/test&quot;;\r\n```\r\nIn the file application.properties have :\r\n\r\n```\r\nspring.datasource.url= jdbc:h2:~/test \r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.h2.console.enabled = true\r\n``` ","title":"File corrupted while reading record: null - Spring boot java","body":"<p>I'm doing a simple API, and i'm getting the next error:</p>\n<blockquote>\n<p>File corrupted while reading record: null. Possible solution: use the recovery tool [90030-200]</p>\n</blockquote>\n<p>this is the code of the controller that i'm using</p>\n<pre><code>@PostMapping(&quot;/save&quot;)\n    public ResponseEntity saveDentist(@RequestBody Dentist data) {\n        DentistService dentistService = new DentistService(new DentistDaoH2());\n        if(data == null) {\n            return new ResponseEntity(HttpStatus.NO_CONTENT);\n        }\n\n        return ResponseEntity.status(200).body(dentistService.save(data));\n    }\n\n</code></pre>\n<p>this is the code of the DAO for the operations of the database(i'm using H2):</p>\n<pre><code>   @Override\n    public Dentist save(Dentist data) {\n        Connection connection = null;\n        PreparedStatement preparedStatement = null;\n\n        try {\n            Class.forName(JDBC_DRIVER_H2);\n            connection = DriverManager.getConnection(URL,USER,PASSWORD);\n            preparedStatement = connection.prepareStatement(&quot;INSERT INTO dentist values(?,?,?,?)&quot;);\n\n            preparedStatement.setString(1,data.getName());\n            preparedStatement.setString(2,data.getLastName());\n            preparedStatement.setInt(3,data.getAge());\n            preparedStatement.setString(4,data.getProfessionalCard());\n\n            preparedStatement.executeUpdate();\n            preparedStatement.close();\n            System.out.println(&quot;its saved&quot;);\n            logger.info(&quot;the user was registered with success&quot;);\n        } catch (SQLException e) {\n            logger.error(e.getMessage());\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n            logger.error(e.getMessage());\n        }\n        return data;\n    }\n</code></pre>\n<p>the code of the service:</p>\n<pre><code>  public Dentist save(Dentist dentist) {\n        if(dentist == null) {\n            return null;\n        }\n        return this.daoService.save(dentist);\n    }\n</code></pre>\n<p>the repository layer have the next configuration for h2:</p>\n<pre><code> private static final String JDBC_DRIVER_H2 = &quot;org.h2.Driver&quot;;\n private final static String USER = &quot;sa&quot;;\n private final static String PASSWORD = &quot;&quot;;\n private final static String URL = &quot;jdbc:h2:~/test&quot;;\n</code></pre>\n<p>In the file application.properties have :</p>\n<pre><code>spring.datasource.url= jdbc:h2:~/test \nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled = true\n</code></pre>\n"},{"tags":["java","discord","embed"],"answers":[{"tags":[],"owner":{"account_id":22541471,"reputation":35,"user_id":16731988,"display_name":"user16731988"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649665918,"creation_date":1649665918,"answer_id":71824808,"question_id":71824685,"body_markdown":"You have to change the **.sendMessage()** to **.sendMessageEmbeds()**. Probably because .sendMessage() needs some type of character sequence but I did not provide that.","title":"Why I can&#39;t send embed messages to my discord bot?","body":"<p>You have to change the <strong>.sendMessage()</strong> to <strong>.sendMessageEmbeds()</strong>. Probably because .sendMessage() needs some type of character sequence but I did not provide that.</p>\n"}],"owner":{"account_id":22541471,"reputation":35,"user_id":16731988,"display_name":"user16731988"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649665918,"creation_date":1649665305,"question_id":71824685,"body_markdown":"I&#39;m trying to make a simple discord bot. Unfortunately, I ran into a problem where I can&#39;t send embedded messages specifically &quot;event.getChannel().sendMessage(***embed.build()***).queue();&quot; this line of code is not working. Any help would be appreciated!\r\n\r\n    import net.dv8tion.jda.api.EmbedBuilder;\r\n    import net.dv8tion.jda.api.events.message.MessageReceivedEvent;\r\n    import net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n    \r\n    public class Commands extends ListenerAdapter {\r\n    \r\n        public String prefix = &quot;!&quot;;\r\n    \r\n        @Override\r\n        public void onMessageReceived(MessageReceivedEvent event) {\r\n            String[] args = event.getMessage().getContentRaw().split(&quot; &quot;);\r\n    \r\n            if(args[0].equalsIgnoreCase(prefix + &quot;test&quot;)){\r\n                EmbedBuilder embed = new EmbedBuilder();\r\n                embed.setTitle(&quot;Title&quot;);\r\n                embed.setDescription(&quot;This is the Embed Description&quot;);\r\n                embed.addField(&quot;Embed Field 1&quot;, &quot;Field&quot;, false);\r\n                embed.setFooter(&quot;Bot created by toMar?s&quot;);\r\n                //event.getMessage().reply(&quot;This bot is working!&quot;).queue();\r\n                event.getChannel().sendMessage(&quot;This bot is working!&quot;).queue();\r\n                event.getChannel().sendMessage(embed.build()).queue();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Why I can&#39;t send embed messages to my discord bot?","body":"<p>I'm trying to make a simple discord bot. Unfortunately, I ran into a problem where I can't send embedded messages specifically &quot;event.getChannel().sendMessage(<em><strong>embed.build()</strong></em>).queue();&quot; this line of code is not working. Any help would be appreciated!</p>\n<pre><code>import net.dv8tion.jda.api.EmbedBuilder;\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\npublic class Commands extends ListenerAdapter {\n\n    public String prefix = &quot;!&quot;;\n\n    @Override\n    public void onMessageReceived(MessageReceivedEvent event) {\n        String[] args = event.getMessage().getContentRaw().split(&quot; &quot;);\n\n        if(args[0].equalsIgnoreCase(prefix + &quot;test&quot;)){\n            EmbedBuilder embed = new EmbedBuilder();\n            embed.setTitle(&quot;Title&quot;);\n            embed.setDescription(&quot;This is the Embed Description&quot;);\n            embed.addField(&quot;Embed Field 1&quot;, &quot;Field&quot;, false);\n            embed.setFooter(&quot;Bot created by toMar?s&quot;);\n            //event.getMessage().reply(&quot;This bot is working!&quot;).queue();\n            event.getChannel().sendMessage(&quot;This bot is working!&quot;).queue();\n            event.getChannel().sendMessage(embed.build()).queue();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","url","aws-lambda","aws-api-gateway"],"comments":[{"owner":{"account_id":3288647,"reputation":682,"user_id":2767442,"accept_rate":59,"display_name":"manihiki"},"score":0,"creation_date":1596565458,"post_id":49372722,"comment_id":111850333,"body_markdown":"Has this changed at all, or has anyone found a way to get the full URL since this was posted?","body":"Has this changed at all, or has anyone found a way to get the full URL since this was posted?"}],"answers":[{"tags":[],"owner":{"account_id":87370,"reputation":3500,"user_id":242311,"display_name":"Nicholas Sizer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1521499367,"creation_date":1521499367,"answer_id":49373586,"question_id":49372722,"body_markdown":"Unfortunately, API Gateway doesn&#39;t provide you with the full URL for you to parse yourself.\r\n\r\nIf you have the option of using the `POST` method to `/endpoint`, you might consider sending a request body instead of query string parameters.","title":"How to get AWS API Gateway invoke URL in an AWS Lambda function?","body":"<p>Unfortunately, API Gateway doesn't provide you with the full URL for you to parse yourself.</p>\n\n<p>If you have the option of using the <code>POST</code> method to <code>/endpoint</code>, you might consider sending a request body instead of query string parameters.</p>\n"},{"tags":[],"owner":{"account_id":3861910,"reputation":1026,"user_id":3199459,"display_name":"Balaji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521579077,"creation_date":1521579077,"answer_id":49393880,"question_id":49372722,"body_markdown":"The &#39;path&#39; field inside the &#39;requestContext&#39; field contains the path of API gateway resource. See [docs][1] for more details. \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-create-api-as-simple-proxy-for-lambda.html#api-gateway-create-api-as-simple-proxy-for-lambda-test","title":"How to get AWS API Gateway invoke URL in an AWS Lambda function?","body":"<p>The 'path' field inside the 'requestContext' field contains the path of API gateway resource. See <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-create-api-as-simple-proxy-for-lambda.html#api-gateway-create-api-as-simple-proxy-for-lambda-test\" rel=\"nofollow noreferrer\">docs</a> for more details. </p>\n"},{"tags":[],"owner":{"account_id":6397732,"reputation":918,"user_id":4961522,"display_name":"JHoerbst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649665860,"creation_date":1649665860,"answer_id":71824798,"question_id":49372722,"body_markdown":"you can inject the UriInfo object. It holds all the information you need.\r\n\r\n    @Context\r\n    UriInfo uri;","title":"How to get AWS API Gateway invoke URL in an AWS Lambda function?","body":"<p>you can inject the UriInfo object. It holds all the information you need.</p>\n<pre><code>@Context\nUriInfo uri;\n</code></pre>\n"}],"owner":{"account_id":146765,"reputation":1996,"user_id":357437,"accept_rate":58,"display_name":"sedovav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49373586,"answer_count":3,"score":2,"last_activity_date":1649665860,"creation_date":1521495359,"question_id":49372722,"body_markdown":"I&#39;m using the proxy integration with my Java lambda function. The input for the lambda handler is a JSON object that represents an incoming request. It has a body, headers, query params and so on. But it doesn&#39;t include the source URL that is parsed by the API Gateway for the body, query params and etc. Is there a way to get it?\r\n\r\nThe thing is API Gateway doesn&#39;t support arrays in query parameters. Example: `/endpoint?numbers=1&amp;numbers=2`. Seems, the only way to pass an array is to pass it as a JSON array string `/endpoint?numbers=[1,2]` but it is not always suitable. So I want to parse the URL by myself.","title":"How to get AWS API Gateway invoke URL in an AWS Lambda function?","body":"<p>I'm using the proxy integration with my Java lambda function. The input for the lambda handler is a JSON object that represents an incoming request. It has a body, headers, query params and so on. But it doesn't include the source URL that is parsed by the API Gateway for the body, query params and etc. Is there a way to get it?</p>\n\n<p>The thing is API Gateway doesn't support arrays in query parameters. Example: <code>/endpoint?numbers=1&amp;numbers=2</code>. Seems, the only way to pass an array is to pass it as a JSON array string <code>/endpoint?numbers=[1,2]</code> but it is not always suitable. So I want to parse the URL by myself.</p>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649665789,"creation_date":1649665789,"answer_id":71824789,"question_id":71800200,"body_markdown":"As of jOOQ 3.16, jOOQ&#39;s optimistic locking is an `UpdatableRecord` only feature, meaning it applies to jOOQ-generated SQL queries that arise from your `insert()`, `update()`, `store()`, `merge()`, `delete()` calls on your record. It does not apply to any other queries.\r\n\r\nIn a future version of jOOQ, there might be a re-design of this functionality to use the new jOOQ 3.17 feature called [&quot;client side computed columns&quot;][1] ([#9879][2]). The re-design is tracked as [#13339][3]. It may or may not ship with jOOQ 3.17. Once implemented, your arbitrary DML statement will be transformed in order to implement optimistic locking semantics.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/dev/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-computed/\r\n  [2]: https://github.com/jOOQ/jOOQ/issues/9879\r\n  [3]: https://github.com/jOOQ/jOOQ/issues/13339","title":"Optimistic locking for operations","body":"<p>As of jOOQ 3.16, jOOQ's optimistic locking is an <code>UpdatableRecord</code> only feature, meaning it applies to jOOQ-generated SQL queries that arise from your <code>insert()</code>, <code>update()</code>, <code>store()</code>, <code>merge()</code>, <code>delete()</code> calls on your record. It does not apply to any other queries.</p>\n<p>In a future version of jOOQ, there might be a re-design of this functionality to use the new jOOQ 3.17 feature called <a href=\"https://www.jooq.org/doc/dev/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-computed/\" rel=\"nofollow noreferrer\">&quot;client side computed columns&quot;</a> (<a href=\"https://github.com/jOOQ/jOOQ/issues/9879\" rel=\"nofollow noreferrer\">#9879</a>). The re-design is tracked as <a href=\"https://github.com/jOOQ/jOOQ/issues/13339\" rel=\"nofollow noreferrer\">#13339</a>. It may or may not ship with jOOQ 3.17. Once implemented, your arbitrary DML statement will be transformed in order to implement optimistic locking semantics.</p>\n"}],"owner":{"account_id":12346599,"reputation":51,"user_id":9007242,"display_name":"Alexander Golub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71824789,"answer_count":1,"score":1,"last_activity_date":1649665789,"creation_date":1649434279,"question_id":71800200,"body_markdown":"I saw in the documentation the example of optimistic lock and it works:\r\n```\r\n// Properly configure the DSLContext\r\nDSLContext optimistic = DSL.using(connection, SQLDialect.ORACLE,\r\n  new Settings().withExecuteWithOptimisticLocking(true));\r\n  \r\n// Fetch a book two times\r\nBookRecord book1 = optimistic.fetchOne(BOOK, BOOK.ID.eq(5));\r\nBookRecord book2 = optimistic.fetchOne(BOOK, BOOK.ID.eq(5));\r\n\r\n// Change the title and store this book. The MODIFIED value has not been changed since the book was fetched.\r\n// It can be safely updated\r\nbook1.setTitle(&quot;Animal Farm&quot;);\r\nbook1.store();\r\n```\r\nBut i have a question about optimistic locking with operations. As i see optimistic locking works only with store() methods.\r\nDo I have a chance of optimistic locking this way:\r\n```\r\ndslContext.update(getIdField().getTable())\r\n            .set(getEntityField(), dto)\r\n            .where(getIdField().eq(dto.getId()))\r\n\r\n  dslContext.batch(updateOperations).execute();\r\n```","title":"Optimistic locking for operations","body":"<p>I saw in the documentation the example of optimistic lock and it works:</p>\n<pre><code>// Properly configure the DSLContext\nDSLContext optimistic = DSL.using(connection, SQLDialect.ORACLE,\n  new Settings().withExecuteWithOptimisticLocking(true));\n  \n// Fetch a book two times\nBookRecord book1 = optimistic.fetchOne(BOOK, BOOK.ID.eq(5));\nBookRecord book2 = optimistic.fetchOne(BOOK, BOOK.ID.eq(5));\n\n// Change the title and store this book. The MODIFIED value has not been changed since the book was fetched.\n// It can be safely updated\nbook1.setTitle(&quot;Animal Farm&quot;);\nbook1.store();\n</code></pre>\n<p>But i have a question about optimistic locking with operations. As i see optimistic locking works only with store() methods.\nDo I have a chance of optimistic locking this way:</p>\n<pre><code>dslContext.update(getIdField().getTable())\n            .set(getEntityField(), dto)\n            .where(getIdField().eq(dto.getId()))\n\n  dslContext.batch(updateOperations).execute();\n</code></pre>\n"},{"tags":["java","file","variables","package"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1649658352,"post_id":71823424,"comment_id":126922308,"body_markdown":"Do not repeat yourself.  Just code it in one place and then call that common method from both places.  It can be a static method if you want.","body":"Do not repeat yourself.  Just code it in one place and then call that common method from both places.  It can be a static method if you want."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1649658361,"post_id":71823424,"comment_id":126922314,"body_markdown":"Welcome to SO. Please read [ask] and then update your question to show some code. With only the description it&#39;s hard to understand what you are trying to do and where your error is. What you are describing definitely _is_ possible so you seem to have either a misconception of how things work or some error in your code.","body":"Welcome to SO. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and then update your question to show some code. With only the description it&#39;s hard to understand what you are trying to do and where your error is. What you are describing definitely <i>is</i> possible so you seem to have either a misconception of how things work or some error in your code."},{"owner":{"account_id":178753,"reputation":1370,"user_id":410939,"display_name":"Alex"},"score":0,"creation_date":1649937865,"post_id":71823424,"comment_id":127003874,"body_markdown":"What you&#39;re asking should be trivial to solve if we can see your code.","body":"What you&#39;re asking should be trivial to solve if we can see your code."}],"answers":[{"tags":[],"owner":{"account_id":3294730,"reputation":17,"user_id":2772255,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649659659,"creation_date":1649659659,"answer_id":71823661,"question_id":71823424,"body_markdown":"I am not sure if I understand your problem completely but try this code:\r\n\r\n    package package1;\r\n    \r\n    import package2.Class2;\r\n    \r\n    public class Class1 {\r\n    \t\r\n    \tpublic static int x = 0;\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(Class1.x);\r\n    \t\tClass2.printX();\r\n    \t\tx = 5;\r\n    \t\tSystem.out.println(Class1.x);\r\n    \t\tClass2.printX();\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n    package package2;\r\n    \r\n        import package1.Class1;\r\n        \r\n        public class Class2 {\r\n        \r\n        \tpublic static void printX() {\r\n        \t\tSystem.out.println(Class1.x);\r\n        \t}\r\n        \r\n        }\r\n\r\nThat way Class2 refers to Class1.x and should produce correct results","title":"Sharing a variable across packages in java","body":"<p>I am not sure if I understand your problem completely but try this code:</p>\n<pre><code>package package1;\n\nimport package2.Class2;\n\npublic class Class1 {\n    \n    public static int x = 0;\n    \n    \n    \n    public static void main(String[] args) {\n        System.out.println(Class1.x);\n        Class2.printX();\n        x = 5;\n        System.out.println(Class1.x);\n        Class2.printX();\n        \n        \n    }\n\n}\n\npackage package2;\n\n    import package1.Class1;\n    \n    public class Class2 {\n    \n        public static void printX() {\n            System.out.println(Class1.x);\n        }\n    \n    }\n</code></pre>\n<p>That way Class2 refers to Class1.x and should produce correct results</p>\n"}],"owner":{"account_id":24897290,"reputation":1,"user_id":18768397,"display_name":"Varshitha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649665549,"creation_date":1649658149,"question_id":71823424,"body_markdown":"I wanted a common variable to be accessed from two files present in 2different packages in Java. Suppose variable name is x present in file1 and file2 belonging to package1 and package2 respectively.\r\n\r\nI tried declaring variable x as public static and initialised it to 0. So whenever value of x is changed in suppose file2, then in file1 at that line of code where x  variable is encountered, the updated value should be reflected (updated value means the value the variable x is updated with in the file2). This is not working for me. Instead of getting updated value, debugger is hitting the point where x variable is declared and initialised to 0. So the updated value is lost for me.\r\n\r\nSo in general, whether variable x is updated in file1 or file2, the value of x should get updated accordingly when that line of code is hit in respective files.\r\n\r\nPlease provide a solution for this.\r\n\r\nHope the question is clear and I am new to java.\r\nEdit:\r\nHere in both the files I have to set a value to variable and be able to get the value of that variable. While I try to access it in file2 after x being modified in file1, x doesn&#39;t show the updated value. What is happening is that it calls &quot;public static int x=0&quot; whenever it encounters the variable x in file2 and then it does my functionality(my logic on x). So, I&#39;m getting wrong value","title":"Sharing a variable across packages in java","body":"<p>I wanted a common variable to be accessed from two files present in 2different packages in Java. Suppose variable name is x present in file1 and file2 belonging to package1 and package2 respectively.</p>\n<p>I tried declaring variable x as public static and initialised it to 0. So whenever value of x is changed in suppose file2, then in file1 at that line of code where x  variable is encountered, the updated value should be reflected (updated value means the value the variable x is updated with in the file2). This is not working for me. Instead of getting updated value, debugger is hitting the point where x variable is declared and initialised to 0. So the updated value is lost for me.</p>\n<p>So in general, whether variable x is updated in file1 or file2, the value of x should get updated accordingly when that line of code is hit in respective files.</p>\n<p>Please provide a solution for this.</p>\n<p>Hope the question is clear and I am new to java.\nEdit:\nHere in both the files I have to set a value to variable and be able to get the value of that variable. While I try to access it in file2 after x being modified in file1, x doesn't show the updated value. What is happening is that it calls &quot;public static int x=0&quot; whenever it encounters the variable x in file2 and then it does my functionality(my logic on x). So, I'm getting wrong value</p>\n"},{"tags":["java","spring-integration","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649425625,"creation_date":1649425625,"answer_id":71798174,"question_id":71791699,"body_markdown":"It is really legit to have several bindings between an exchange and a single queue. \r\n\r\nSee more info in this tutorial: https://www.rabbitmq.com/tutorials/tutorial-four-spring-amqp.html.\r\n\r\nThe `Amqp.inboundAdapter()` relies on the `DefaultAmqpHeaderMapper.inboundMapper()` by default which populates for us an `AmqpHeaders.RECEIVED_ROUTING_KEY` message header before producing. So, you indeed can use a `route(Message.class, m -&gt; m.getHeaders().get(AmqpHeaders.RECEIVED_ROUTING_KEY))` with appropriate `channelMapping()` for the routing key value.","title":"Handle inbound AMQP messages based on a header attribute (e.g. routing key)","body":"<p>It is really legit to have several bindings between an exchange and a single queue.</p>\n<p>See more info in this tutorial: <a href=\"https://www.rabbitmq.com/tutorials/tutorial-four-spring-amqp.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/tutorials/tutorial-four-spring-amqp.html</a>.</p>\n<p>The <code>Amqp.inboundAdapter()</code> relies on the <code>DefaultAmqpHeaderMapper.inboundMapper()</code> by default which populates for us an <code>AmqpHeaders.RECEIVED_ROUTING_KEY</code> message header before producing. So, you indeed can use a <code>route(Message.class, m -&gt; m.getHeaders().get(AmqpHeaders.RECEIVED_ROUTING_KEY))</code> with appropriate <code>channelMapping()</code> for the routing key value.</p>\n"},{"tags":[],"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649665540,"creation_date":1649665540,"answer_id":71824732,"question_id":71791699,"body_markdown":"I just wanted to add a code example, incorporating [Artem Bilan][1]&#39;s (correct) answer, because additionally to that, I had to incorporate a gateway (hinted by Artem Bilan with &quot;appropriate `channelMapping()`).\r\n\r\nMore about why you need a gateway or in some cases a bridge, refer to this part of the [documentation][2].\r\n\r\nMy initial code snippit becomes something like the following:\r\n\r\n``` java\r\n\r\n...\r\n\r\n@Autowired\r\nprivate FirstController firstController;\r\n\r\n@Autowired\r\nprivate SecondController secondController;\r\n\r\n@Autowired\r\nprivate SimpleMessageListenerContainer receiverContainer;\r\n\r\n@Bean\r\npublic IntegrationFlow inboundFlow(){\r\n     var adpater = Amqp.inboundAdapter(receiverContainer);\r\n     return IntegrationFlows.from(adapter)\r\n               // some transformations\r\n               .route(Message.class, getMessageRoutingKey(m),\r\n                        m -&gt; m.subFlowMapping(&quot;routingKey1&quot;, firstFlow())\r\n                                // after the first subFlow, all further integrationflows are wrapped in a gateway\r\n                                .subFlowMapping(&quot;routingKey2&quot;, sf -&gt; sf.gateway(secondFlow())))\r\n               .get();\r\n}\r\n\r\n\r\n@Bean\r\npublic IntegrationFlow firstFlow() {\r\n      return f -&gt; f\r\n               // e.g. additional transformations\r\n               .handle(firstController, &quot;processMessageInFirstFashion&quot;);\r\n}\r\n\r\n\r\n@Bean\r\npublic IntegrationFlow secondFlow() {\r\n      return f -&gt; f\r\n               // e.g. additional transformations\r\n               .handle(secondController, &quot;processMessageInSecondFashion&quot;);\r\n}\r\n\r\n\r\nprivate static String getMessageRoutingKey(final Message&lt;?&gt; message) {\r\n       return message.getHeaders().get(AmqpHeaders.RECEIVED_ROUTING_KEY).toString();\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2756547/artem-bilan\r\n  [2]: https://docs.spring.io/spring-integration/docs/5.3.1.RELEASE/reference/html/dsl.html#java-dsl-subflows","title":"Handle inbound AMQP messages based on a header attribute (e.g. routing key)","body":"<p>I just wanted to add a code example, incorporating <a href=\"https://stackoverflow.com/users/2756547/artem-bilan\">Artem Bilan</a>'s (correct) answer, because additionally to that, I had to incorporate a gateway (hinted by Artem Bilan with &quot;appropriate <code>channelMapping()</code>).</p>\n<p>More about why you need a gateway or in some cases a bridge, refer to this part of the <a href=\"https://docs.spring.io/spring-integration/docs/5.3.1.RELEASE/reference/html/dsl.html#java-dsl-subflows\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>My initial code snippit becomes something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n...\n\n@Autowired\nprivate FirstController firstController;\n\n@Autowired\nprivate SecondController secondController;\n\n@Autowired\nprivate SimpleMessageListenerContainer receiverContainer;\n\n@Bean\npublic IntegrationFlow inboundFlow(){\n     var adpater = Amqp.inboundAdapter(receiverContainer);\n     return IntegrationFlows.from(adapter)\n               // some transformations\n               .route(Message.class, getMessageRoutingKey(m),\n                        m -&gt; m.subFlowMapping(&quot;routingKey1&quot;, firstFlow())\n                                // after the first subFlow, all further integrationflows are wrapped in a gateway\n                                .subFlowMapping(&quot;routingKey2&quot;, sf -&gt; sf.gateway(secondFlow())))\n               .get();\n}\n\n\n@Bean\npublic IntegrationFlow firstFlow() {\n      return f -&gt; f\n               // e.g. additional transformations\n               .handle(firstController, &quot;processMessageInFirstFashion&quot;);\n}\n\n\n@Bean\npublic IntegrationFlow secondFlow() {\n      return f -&gt; f\n               // e.g. additional transformations\n               .handle(secondController, &quot;processMessageInSecondFashion&quot;);\n}\n\n\nprivate static String getMessageRoutingKey(final Message&lt;?&gt; message) {\n       return message.getHeaders().get(AmqpHeaders.RECEIVED_ROUTING_KEY).toString();\n}\n\n</code></pre>\n"}],"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71798174,"answer_count":2,"score":0,"last_activity_date":1649665540,"creation_date":1649392225,"question_id":71791699,"body_markdown":"I have a service, that receives AMQP messages. This service is bound to a queue, which receives all messages which match a set of routing keys.\r\n\r\nMy set up is as follows:\r\n\r\n```java\r\n...\r\n\r\nprivate SomeController controller;\r\n\r\n@Autowired\r\nprivate SimpleMessageListenerContainer receiverContainer;\r\n\r\n@Bean\r\npublic IntegrationFlow inboundFlow(){\r\n     var adpater = Amqp.inboundAdapter(receiverContainer);\r\n     return IntegrationFlows.from(adapter)\r\n               // some transformations\r\n               .handle(controller, &quot;processMessage&quot;)\r\n               .get();\r\n}\r\n\r\n\r\n```\r\n\r\nThis already works fine. However, now I want to handle a message with different controllers, depending on a header attribute. In this case I&#39;d like to have a controller for each routing key. Is it also a good idea to use a single queue with multiple routing keys only to handle it differently for each key? ","title":"Handle inbound AMQP messages based on a header attribute (e.g. routing key)","body":"<p>I have a service, that receives AMQP messages. This service is bound to a queue, which receives all messages which match a set of routing keys.</p>\n<p>My set up is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n\nprivate SomeController controller;\n\n@Autowired\nprivate SimpleMessageListenerContainer receiverContainer;\n\n@Bean\npublic IntegrationFlow inboundFlow(){\n     var adpater = Amqp.inboundAdapter(receiverContainer);\n     return IntegrationFlows.from(adapter)\n               // some transformations\n               .handle(controller, &quot;processMessage&quot;)\n               .get();\n}\n\n\n</code></pre>\n<p>This already works fine. However, now I want to handle a message with different controllers, depending on a header attribute. In this case I'd like to have a controller for each routing key. Is it also a good idea to use a single queue with multiple routing keys only to handle it differently for each key?</p>\n"},{"tags":["java","spring","database","amazon-web-services","spring-cloud-function"],"answers":[{"tags":[],"owner":{"account_id":4475864,"reputation":457,"user_id":3641003,"accept_rate":83,"display_name":"Roe hit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649665223,"creation_date":1649665223,"answer_id":71824672,"question_id":71181762,"body_markdown":"Closing the hikari pool in a lambda function explicitly had helped. Spring is closing the connection but the lambda shuts down immediately for which the RDS is not able to close the connection properly. \r\n\r\n It&#39;s better to have the lambda functions simple and not packaged with multiple functions in a single repo. After a lambda executes, one can close the connection as in the below example. Closing the datasource inherently closes the connection. I&#39;m not sure why we need to close it explicitly and still would like to expect spring to close the connection properly but this worked.\r\n\r\n    if (yourDatasource != null) {\r\n    \tyourDatasource .close();\r\n    }","title":"How can you find out from spring cloud function that the connection you established to the database is closed?","body":"<p>Closing the hikari pool in a lambda function explicitly had helped. Spring is closing the connection but the lambda shuts down immediately for which the RDS is not able to close the connection properly.</p>\n<p>It's better to have the lambda functions simple and not packaged with multiple functions in a single repo. After a lambda executes, one can close the connection as in the below example. Closing the datasource inherently closes the connection. I'm not sure why we need to close it explicitly and still would like to expect spring to close the connection properly but this worked.</p>\n<pre><code>if (yourDatasource != null) {\n    yourDatasource .close();\n}\n</code></pre>\n"}],"owner":{"account_id":4475864,"reputation":457,"user_id":3641003,"accept_rate":83,"display_name":"Roe hit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71824672,"answer_count":1,"score":0,"last_activity_date":1649665223,"creation_date":1645236009,"question_id":71181762,"body_markdown":"In a spring cloud function usage, you don&#39;t want your database connection to keep existing in the database. Once the spring cloud function finishes its process, is the following way to close the function appropriate? \r\n\r\n \r\n\r\n       HikariDataSource ds = (HikariDataSource) applicationContext.getBean(HikariDataSource.class);\r\n        \tif (ds != null) {\r\n        \tds.close();\r\n    }\r\n\r\nHow do we validate if the spring cloud function inherently closes the connection even if we don&#39;t do the implementation above? I saw the log below indicating that the connection pool is closed, but also that the database keeps growing its connections, indicating that connections are not properly closed. How do we make sure the connections are closed after spring cloud function implementation is finished? \r\n\r\n    INFO 22336 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    INFO 22336 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.","title":"How can you find out from spring cloud function that the connection you established to the database is closed?","body":"<p>In a spring cloud function usage, you don't want your database connection to keep existing in the database. Once the spring cloud function finishes its process, is the following way to close the function appropriate?</p>\n<pre><code>   HikariDataSource ds = (HikariDataSource) applicationContext.getBean(HikariDataSource.class);\n        if (ds != null) {\n        ds.close();\n}\n</code></pre>\n<p>How do we validate if the spring cloud function inherently closes the connection even if we don't do the implementation above? I saw the log below indicating that the connection pool is closed, but also that the database keeps growing its connections, indicating that connections are not properly closed. How do we make sure the connections are closed after spring cloud function implementation is finished?</p>\n<pre><code>INFO 22336 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\nINFO 22336 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649614054,"creation_date":1649614054,"answer_id":71819270,"question_id":71819208,"body_markdown":"You don&#39;t need to stream over your `people` list for each name in your `names` list.  \r\n\r\n    List&lt;String&gt; namesNotPresent = new ArrayList&lt;&gt;(names);\r\n    namesNotPresent.removeAll(people.stream().map(Person::getName).collect(Collectors.toList()));","title":"Check if items in List&lt;String&gt; match with String attribute in list of objects","body":"<p>You don't need to stream over your <code>people</code> list for each name in your <code>names</code> list.</p>\n<pre><code>List&lt;String&gt; namesNotPresent = new ArrayList&lt;&gt;(names);\nnamesNotPresent.removeAll(people.stream().map(Person::getName).collect(Collectors.toList()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649614452,"creation_date":1649614452,"answer_id":71819317,"question_id":71819208,"body_markdown":"A better approach would be to use some kind of `Map`, such as a `HashMap&lt;String,Person&gt;` to store the `Person` objects, indexed by name.  That way, you&#39;re not iterating through the list to find each name.  \r\n\r\n    Map&lt;String,Person&gt; personsByName = new HashMap&lt;&gt;();\r\n    personsByName.put( &quot;Paul&quot;, new Person(&quot;Paul&quot;, 30));\r\n    personsByName.put( &quot;Jeff&quot;, new Person(&quot;Jeff&quot;, 50));\r\n\r\n    names.removeIf(name-&gt;personsByName.contains(name));\r\n\r\nNote that this removes things from `names` - if you want to keep this list, make a copy first.","title":"Check if items in List&lt;String&gt; match with String attribute in list of objects","body":"<p>A better approach would be to use some kind of <code>Map</code>, such as a <code>HashMap&lt;String,Person&gt;</code> to store the <code>Person</code> objects, indexed by name.  That way, you're not iterating through the list to find each name.</p>\n<pre><code>Map&lt;String,Person&gt; personsByName = new HashMap&lt;&gt;();\npersonsByName.put( &quot;Paul&quot;, new Person(&quot;Paul&quot;, 30));\npersonsByName.put( &quot;Jeff&quot;, new Person(&quot;Jeff&quot;, 50));\n\nnames.removeIf(name-&gt;personsByName.contains(name));\n</code></pre>\n<p>Note that this removes things from <code>names</code> - if you want to keep this list, make a copy first.</p>\n"},{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1649616256,"creation_date":1649616256,"answer_id":71819562,"question_id":71819208,"body_markdown":"```java\r\npublic List&lt;String&gt; findNameNotPresent(List&lt;String&gt; names, List&lt;Person&gt; people) {\r\n    List&lt;String&gt; result = new ArrayList&lt;&gt;(names);\r\n    people.stream()\r\n        .map(Person::getName)\r\n        .forEach(result::remove);\r\n    return result;\r\n}\r\n``` \r\n","title":"Check if items in List&lt;String&gt; match with String attribute in list of objects","body":"<pre class=\"lang-java prettyprint-override\"><code>public List&lt;String&gt; findNameNotPresent(List&lt;String&gt; names, List&lt;Person&gt; people) {\n    List&lt;String&gt; result = new ArrayList&lt;&gt;(names);\n    people.stream()\n        .map(Person::getName)\n        .forEach(result::remove);\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14583345,"reputation":4337,"user_id":10533011,"display_name":"Donat"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649664524,"creation_date":1649625347,"answer_id":71820635,"question_id":71819208,"body_markdown":"You are looking for a more functional approach. Functional means side effects must be avoided. Do not update a collection after ist has been created. E. g. do not use ```.foreach``` or ```.removeIf```. Avoid the classical ```foreach``` loop. This is a functional approach:\r\n\r\n    List&lt;String&gt; pnames = people.stream().map(Person::getName).toList();\r\n    List&lt;String&gt; namesNotPresent = names.stream().filter(n -&gt; !pnames.contains(n)).toList();\r\n\r\nPrior to Java 17 you would have to substitute ```toList()``` by ```collect(Collectors.toList())```.\r\n","title":"Check if items in List&lt;String&gt; match with String attribute in list of objects","body":"<p>You are looking for a more functional approach. Functional means side effects must be avoided. Do not update a collection after ist has been created. E. g. do not use <code>.foreach</code> or <code>.removeIf</code>. Avoid the classical <code>foreach</code> loop. This is a functional approach:</p>\n<pre><code>List&lt;String&gt; pnames = people.stream().map(Person::getName).toList();\nList&lt;String&gt; namesNotPresent = names.stream().filter(n -&gt; !pnames.contains(n)).toList();\n</code></pre>\n<p>Prior to Java 17 you would have to substitute <code>toList()</code> by <code>collect(Collectors.toList())</code>.</p>\n"}],"owner":{"account_id":17176912,"reputation":647,"user_id":12432925,"display_name":"Carlos Gonzalez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1072,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71819562,"answer_count":4,"score":1,"last_activity_date":1649664524,"creation_date":1649613420,"question_id":71819208,"body_markdown":"Let&#39;s say I have a list of names:\r\n\r\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n    names.add(&quot;Paul&quot;);\r\n    names.add(&quot;Jeff&quot;);\r\n    names.add(&quot;Anna&quot;);\r\n\r\nOn the other hand, I have a list of people:\r\n\r\n    List&lt;Person&gt; people = new ArrayList&lt;&gt;();\r\n    people.add( new Person(&quot;Paul&quot;, 30) );\r\n    people.add( new Person(&quot;Jeff&quot;, 50) );\r\n\r\nPerson has name and age attributes. From the first list of names, I need to know what names are not present as names in the list of people. This is my attempt:\r\n\r\n        List&lt;String&gt; namesNotPresent = new ArrayList&lt;&gt;();\r\n        for (String name : names) {\r\n            boolean nameNotPresent = people.stream()\r\n                    .noneMatch(p -&gt; name.equals(p.getName()));\r\n            if (nameNotPresent) {\r\n                namesNotPresent.add(name);\r\n            }\r\n        }\r\n\r\nI wonder if there is a better approach, a more functional one, and I also wonder if the list of people should be ordered?\r\n\r\nThis is working for me though. I don&#39;t expect the list of names and people to be a huge list, there might be exceptions where they could have around 1000 items though.","title":"Check if items in List&lt;String&gt; match with String attribute in list of objects","body":"<p>Let's say I have a list of names:</p>\n<pre><code>List&lt;String&gt; names = new ArrayList&lt;&gt;();\nnames.add(&quot;Paul&quot;);\nnames.add(&quot;Jeff&quot;);\nnames.add(&quot;Anna&quot;);\n</code></pre>\n<p>On the other hand, I have a list of people:</p>\n<pre><code>List&lt;Person&gt; people = new ArrayList&lt;&gt;();\npeople.add( new Person(&quot;Paul&quot;, 30) );\npeople.add( new Person(&quot;Jeff&quot;, 50) );\n</code></pre>\n<p>Person has name and age attributes. From the first list of names, I need to know what names are not present as names in the list of people. This is my attempt:</p>\n<pre><code>    List&lt;String&gt; namesNotPresent = new ArrayList&lt;&gt;();\n    for (String name : names) {\n        boolean nameNotPresent = people.stream()\n                .noneMatch(p -&gt; name.equals(p.getName()));\n        if (nameNotPresent) {\n            namesNotPresent.add(name);\n        }\n    }\n</code></pre>\n<p>I wonder if there is a better approach, a more functional one, and I also wonder if the list of people should be ordered?</p>\n<p>This is working for me though. I don't expect the list of names and people to be a huge list, there might be exceptions where they could have around 1000 items though.</p>\n"},{"tags":["java","makefile","msbuild","clang","windows-subsystem-for-linux"],"comments":[{"owner":{"account_id":16352934,"reputation":16766,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1649438410,"post_id":71799114,"comment_id":126884295,"body_markdown":"Those last two lines look like *output* that might have gotten separated from the code block they were supposed to be in?","body":"Those last two lines look like <i>output</i> that might have gotten separated from the code block they were supposed to be in?"},{"owner":{"account_id":16352934,"reputation":16766,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1649440935,"post_id":71799114,"comment_id":126885034,"body_markdown":"Also, for clarity, are you trying to build *for Windows in WSL* or *for WSL*?","body":"Also, for clarity, are you trying to build <i>for Windows in WSL</i> or <i>for WSL</i>?"},{"owner":{"account_id":2042016,"reputation":739,"user_id":1822934,"accept_rate":25,"display_name":"Kadir BASOL"},"score":0,"creation_date":1649504499,"post_id":71799114,"comment_id":126895525,"body_markdown":"Yes , On Windows 11 and on WSL Ubuntu 20.04 LTS","body":"Yes , On Windows 11 and on WSL Ubuntu 20.04 LTS"},{"owner":{"account_id":2042016,"reputation":739,"user_id":1822934,"accept_rate":25,"display_name":"Kadir BASOL"},"score":0,"creation_date":1649545896,"post_id":71799114,"comment_id":126903632,"body_markdown":"The problem maybe clang-cl is required to build?\nBy default openjdk tries to build with cl.exe which is Microsoft default compiler","body":"The problem maybe clang-cl is required to build? By default openjdk tries to build with cl.exe which is Microsoft default compiler"},{"owner":{"account_id":2042016,"reputation":739,"user_id":1822934,"accept_rate":25,"display_name":"Kadir BASOL"},"score":0,"creation_date":1649548679,"post_id":71799114,"comment_id":126903915,"body_markdown":"Seems like https://github.com/microsoft/WSL/issues/6420\nBecause i got error on make\n&lt;3&gt;init: (77) ERROR: UtilAcceptVsock:243: accept4 failed 110\nSame.\nHow to fix this issue ?","body":"Seems like <a href=\"https://github.com/microsoft/WSL/issues/6420\" rel=\"nofollow noreferrer\">github.com/microsoft/WSL/issues/6420</a> Because i got error on make &lt;3&gt;init: (77) ERROR: UtilAcceptVsock:243: accept4 failed 110 Same. How to fix this issue ?"}],"owner":{"account_id":2042016,"reputation":739,"user_id":1822934,"accept_rate":25,"display_name":"Kadir BASOL"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649664279,"creation_date":1649429644,"question_id":71799114,"body_markdown":"i wanted to build OpenJDK panama for Windows 11 WSL from site: &lt;br/&gt;\r\n\r\n```uname Linux DESKTOP-LCGGQ32 5.10.16.3-microsoft-standard-WSL2 #1 SMP Fri Apr 2 22:23:49 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux```\r\n\r\n```git clone https://github.com/openjdk/panama-foreign```&lt;br/&gt;\r\n```cd panama-foreign```\r\n\r\nOn Windows 11 WSL I tried Commands:&lt;br/&gt;\r\n```./configure --with-boot-jdk=/mnt/c/Tools/jdk-17 --with-libclang=&quot;/mnt/c/Tools/LLVM&quot; --with-toolchain-version=2019```\r\n\r\nThen &lt;br&gt;\r\n```make```\r\n\r\nit fails on make\r\nas shown below:\r\n\r\n``` root@DESKTOP-LCGGQ32:/mnt/c/repo/panama-foreign# make\r\nBuilding target &#39;default (exploded-image)&#39; in configuration &#39;windows-x86_64-server-release&#39;\r\nCompiling 1 files for BUILD_TOOLS_HOTSPOT\r\nCompiling 8 files for BUILD_TOOLS_LANGTOOLS\r\n&lt;3&gt;init: (11742) ERROR: UtilAcceptVsock:244: accept4 failed 110\r\n&lt;3&gt;init: (11743) ERROR: UtilAcceptVsock:244: accept4 failed 110\r\nmake[3]: *** [CompileToolsHotspot.gmk:47: /mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/buildtools/buildtools/hotspot_tools_classes/_the.BUILD_TOOLS_HOTSPOT_batch] Error 255\r\nmake[2]: *** [make/Main.gmk:95: buildtools-hotspot] Error 2\r\nmake[2]: *** Waiting for unfinished jobs....\r\nmake[3]: *** [ToolsLangtools.gmk:37: /mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/buildtools/langtools_tools_classes/_the.BUILD_TOOLS_LANGTOOLS_batch] Error 255\r\nmake[2]: *** [make/Main.gmk:74: buildtools-langtools] Error 2\r\n\r\nERROR: Build failed for target &#39;default (exploded-image)&#39; in configuration &#39;windows-x86_64-server-release&#39; (exit code 2)\r\n\r\n=== Output from failing command(s) repeated here ===\r\n* For target buildtools_buildtools_hotspot_tools_classes__the.BUILD_TOOLS_HOTSPOT_batch:\r\n&lt;3&gt;init: (11742) ERROR: UtilAcceptVsock:244: accept4 failed 110\r\n* For target buildtools_langtools_tools_classes__the.BUILD_TOOLS_LANGTOOLS_batch:\r\n&lt;3&gt;init: (11743) ERROR: UtilAcceptVsock:244: accept4 failed 110\r\n\r\n* All command lines available in /mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/make-support/failure-logs.\r\n=== End of repeated output ===\r\n\r\nNo indication of failed target found.\r\nHELP: Try searching the build log for &#39;] Error&#39;.\r\nHELP: Run &#39;make doctor&#39; to diagnose build problems.\r\n\r\nmake[1]: *** [/mnt/c/repo/panama-foreign/make/Init.gmk:315: main] Error 2\r\nmake: *** [/mnt/c/repo/panama-foreign/make/Init.gmk:186: default] Error 2\r\n```\r\n\r\n\r\n\r\nConfiguration summary:\r\n* Name:           windows-x86_64-server-release\r\n* Debug level:    release\r\n* HS debug level: product\r\n* JVM variants:   server\r\n* JVM features:   server: &#39;cds compiler1 compiler2 epsilongc g1gc jfr jni-check jvmci jvmti management parallelgc serialgc services shenandoahgc vm-structs zgc&#39;\r\n* OpenJDK target: OS: windows, CPU architecture: x86, address length: 64\r\n* Version string: 19-internal-adhoc.root.panama-foreign (19-internal)\r\n* Source date:    Determined at build time\r\n\r\nTools summary:\r\n* Environment:    wsl2 version 5.10.16.3-microsoft-standard-WSL2, #1 SMP Fri Apr 2 22:23:49 UTC 2021 (Ubuntu 20.04.4 LTS); windows version 10.0.22000.556; prefix &quot;/mnt&quot;; root &quot;\\\\wsl.localhost\\Ubuntu-20.04&quot;\r\n* Boot JDK:       java version &quot;17&quot; 2021-09-14 LTS Java(TM) SE Runtime Environment (build 17+35-LTS-2724) Java HotSpot(TM) 64-Bit Server VM (build 17+35-LTS-2724, mixed mode, sharing) (at /mnt/c/tools/jdk-17)\r\n* Toolchain:      microsoft (Microsoft Visual Studio 2019)\r\n* C Compiler:     Version 19.29.30136 (at /mnt/c/progra~2/micros~2/2019/profes~1/vc/tools/msvc/1429~1.301/bin/hostx86/x64/cl.exe)\r\n* C++ Compiler:   Version 19.29.30136 (at /mnt/c/progra~2/micros~2/2019/profes~1/vc/tools/msvc/1429~1.301/bin/hostx86/x64/cl.exe)\r\n\r\nBuild performance summary:\r\n* Build jobs:     15\r\n* Memory limit:   15858 MB\r\n\r\nWARNING: The result of this configuration has overridden an older\r\nconfiguration. You *should* run &#39;make clean&#39; to make sure you get a\r\nproper build. Failure to do so might result in strange build problems.\r\n\r\ncat: standard output: No such file or directory\r\n\r\n\r\n\r\nI have looked the failure logs&lt;br&gt;\r\nFile1:&lt;br&gt;\r\nbuildtools_buildtools_hotspot_tools_classes__the.BUILD_TOOLS_HOTSPOT_batch.cmdline&lt;br&gt;\r\n```\r\n/mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/fixpath exec /mnt/c/tools/jdk-19/bin/javac.exe -J-XX:+UseSerialGC -J-Xms32M -J-Xmx512M -J-XX:TieredStopAtLevel=1 -g -Xlint:all -source 18 -target 18 -Xlint:-options -implicit:none -Xprefer:source -XDignore.symbol.file=true -encoding ascii -Werror -d /mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/buildtools/buildtools/hotspot_tools_classes @/mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/buildtools/buildtools/hotspot_tools_classes/_the.BUILD_TOOLS_HOTSPOT_batch.filelist\r\n```\r\n&lt;br&gt;\r\n\r\n\r\nFile2:\r\nbuildtools_langtools_tools_classes__the.BUILD_TOOLS_LANGTOOLS_batch.cmdline&lt;br&gt;\r\n```\r\n/mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/fixpath exec /mnt/c/tools/jdk-19/bin/javac.exe -J-XX:+UseSerialGC -J-Xms32M -J-Xmx512M -J-XX:TieredStopAtLevel=1 -g -Xlint:all -source 18 -target 18 -Xlint:-options -implicit:none -Xprefer:source -XDignore.symbol.file=true -encoding ascii -Werror -d /mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/buildtools/langtools_tools_classes @/mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/buildtools/langtools_tools_classes/_the.BUILD_TOOLS_LANGTOOLS_batch.filelist\r\n```\r\n\r\n\r\nSeems like the problem is because of WSL\r\nhttps://github.com/microsoft/WSL/issues/6420\r\n\r\nBut i dont know how to fix this issue for panama.\r\n","title":"Building OpenJDK Panama 19","body":"<p>i wanted to build OpenJDK panama for Windows 11 WSL from site: <br/></p>\n<p><code>uname Linux DESKTOP-LCGGQ32 5.10.16.3-microsoft-standard-WSL2 #1 SMP Fri Apr 2 22:23:49 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux</code></p>\n<p><code>git clone https://github.com/openjdk/panama-foreign</code><br/>\n<code>cd panama-foreign</code></p>\n<p>On Windows 11 WSL I tried Commands:<br/>\n<code>./configure --with-boot-jdk=/mnt/c/Tools/jdk-17 --with-libclang=&quot;/mnt/c/Tools/LLVM&quot; --with-toolchain-version=2019</code></p>\n<p>Then <br>\n<code>make</code></p>\n<p>it fails on make\nas shown below:</p>\n<pre><code>Building target 'default (exploded-image)' in configuration 'windows-x86_64-server-release'\nCompiling 1 files for BUILD_TOOLS_HOTSPOT\nCompiling 8 files for BUILD_TOOLS_LANGTOOLS\n&lt;3&gt;init: (11742) ERROR: UtilAcceptVsock:244: accept4 failed 110\n&lt;3&gt;init: (11743) ERROR: UtilAcceptVsock:244: accept4 failed 110\nmake[3]: *** [CompileToolsHotspot.gmk:47: /mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/buildtools/buildtools/hotspot_tools_classes/_the.BUILD_TOOLS_HOTSPOT_batch] Error 255\nmake[2]: *** [make/Main.gmk:95: buildtools-hotspot] Error 2\nmake[2]: *** Waiting for unfinished jobs....\nmake[3]: *** [ToolsLangtools.gmk:37: /mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/buildtools/langtools_tools_classes/_the.BUILD_TOOLS_LANGTOOLS_batch] Error 255\nmake[2]: *** [make/Main.gmk:74: buildtools-langtools] Error 2\n\nERROR: Build failed for target 'default (exploded-image)' in configuration 'windows-x86_64-server-release' (exit code 2)\n\n=== Output from failing command(s) repeated here ===\n* For target buildtools_buildtools_hotspot_tools_classes__the.BUILD_TOOLS_HOTSPOT_batch:\n&lt;3&gt;init: (11742) ERROR: UtilAcceptVsock:244: accept4 failed 110\n* For target buildtools_langtools_tools_classes__the.BUILD_TOOLS_LANGTOOLS_batch:\n&lt;3&gt;init: (11743) ERROR: UtilAcceptVsock:244: accept4 failed 110\n\n* All command lines available in /mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/make-support/failure-logs.\n=== End of repeated output ===\n\nNo indication of failed target found.\nHELP: Try searching the build log for '] Error'.\nHELP: Run 'make doctor' to diagnose build problems.\n\nmake[1]: *** [/mnt/c/repo/panama-foreign/make/Init.gmk:315: main] Error 2\nmake: *** [/mnt/c/repo/panama-foreign/make/Init.gmk:186: default] Error 2\n</code></pre>\n<p>Configuration summary:</p>\n<ul>\n<li>Name:           windows-x86_64-server-release</li>\n<li>Debug level:    release</li>\n<li>HS debug level: product</li>\n<li>JVM variants:   server</li>\n<li>JVM features:   server: 'cds compiler1 compiler2 epsilongc g1gc jfr jni-check jvmci jvmti management parallelgc serialgc services shenandoahgc vm-structs zgc'</li>\n<li>OpenJDK target: OS: windows, CPU architecture: x86, address length: 64</li>\n<li>Version string: 19-internal-adhoc.root.panama-foreign (19-internal)</li>\n<li>Source date:    Determined at build time</li>\n</ul>\n<p>Tools summary:</p>\n<ul>\n<li>Environment:    wsl2 version 5.10.16.3-microsoft-standard-WSL2, #1 SMP Fri Apr 2 22:23:49 UTC 2021 (Ubuntu 20.04.4 LTS); windows version 10.0.22000.556; prefix &quot;/mnt&quot;; root &quot;\\wsl.localhost\\Ubuntu-20.04&quot;</li>\n<li>Boot JDK:       java version &quot;17&quot; 2021-09-14 LTS Java(TM) SE Runtime Environment (build 17+35-LTS-2724) Java HotSpot(TM) 64-Bit Server VM (build 17+35-LTS-2724, mixed mode, sharing) (at /mnt/c/tools/jdk-17)</li>\n<li>Toolchain:      microsoft (Microsoft Visual Studio 2019)</li>\n<li>C Compiler:     Version 19.29.30136 (at /mnt/c/progra~2/micros~2/2019/profes~1/vc/tools/msvc/1429~1.301/bin/hostx86/x64/cl.exe)</li>\n<li>C++ Compiler:   Version 19.29.30136 (at /mnt/c/progra~2/micros~2/2019/profes~1/vc/tools/msvc/1429~1.301/bin/hostx86/x64/cl.exe)</li>\n</ul>\n<p>Build performance summary:</p>\n<ul>\n<li>Build jobs:     15</li>\n<li>Memory limit:   15858 MB</li>\n</ul>\n<p>WARNING: The result of this configuration has overridden an older\nconfiguration. You <em>should</em> run 'make clean' to make sure you get a\nproper build. Failure to do so might result in strange build problems.</p>\n<p>cat: standard output: No such file or directory</p>\n<p>I have looked the failure logs<br>\nFile1:<br>\nbuildtools_buildtools_hotspot_tools_classes__the.BUILD_TOOLS_HOTSPOT_batch.cmdline<br></p>\n<pre><code>/mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/fixpath exec /mnt/c/tools/jdk-19/bin/javac.exe -J-XX:+UseSerialGC -J-Xms32M -J-Xmx512M -J-XX:TieredStopAtLevel=1 -g -Xlint:all -source 18 -target 18 -Xlint:-options -implicit:none -Xprefer:source -XDignore.symbol.file=true -encoding ascii -Werror -d /mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/buildtools/buildtools/hotspot_tools_classes @/mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/buildtools/buildtools/hotspot_tools_classes/_the.BUILD_TOOLS_HOTSPOT_batch.filelist\n</code></pre>\n<br>\n<p>File2:\nbuildtools_langtools_tools_classes__the.BUILD_TOOLS_LANGTOOLS_batch.cmdline<br></p>\n<pre><code>/mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/fixpath exec /mnt/c/tools/jdk-19/bin/javac.exe -J-XX:+UseSerialGC -J-Xms32M -J-Xmx512M -J-XX:TieredStopAtLevel=1 -g -Xlint:all -source 18 -target 18 -Xlint:-options -implicit:none -Xprefer:source -XDignore.symbol.file=true -encoding ascii -Werror -d /mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/buildtools/langtools_tools_classes @/mnt/c/repo/panama-foreign/build/windows-x86_64-server-release/buildtools/langtools_tools_classes/_the.BUILD_TOOLS_LANGTOOLS_batch.filelist\n</code></pre>\n<p>Seems like the problem is because of WSL\n<a href=\"https://github.com/microsoft/WSL/issues/6420\" rel=\"nofollow noreferrer\">https://github.com/microsoft/WSL/issues/6420</a></p>\n<p>But i dont know how to fix this issue for panama.</p>\n"},{"tags":["java","netty","grpc","google-text-to-speech"],"answers":[{"tags":[],"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590097269,"creation_date":1590097269,"answer_id":61944304,"question_id":61934116,"body_markdown":"This link https://github.com/grpc/grpc-java/blob/master/SECURITY.md#netty says:\r\n\r\n&gt;io.grpc:grpc-netty-shaded includes the proper version of Netty and netty-tcnative-boringssl-static in a way that won&#39;t conflict with other Netty usages.\r\n\r\nCan you try removing your own `nettyTcnativeBoringSsl` dependency and see if that solves the problem?","title":"Error while using google texttospeech : Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available","body":"<p>This link <a href=\"https://github.com/grpc/grpc-java/blob/master/SECURITY.md#netty\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java/blob/master/SECURITY.md#netty</a> says:</p>\n\n<blockquote>\n  <p>io.grpc:grpc-netty-shaded includes the proper version of Netty and netty-tcnative-boringssl-static in a way that won't conflict with other Netty usages.</p>\n</blockquote>\n\n<p>Can you try removing your own <code>nettyTcnativeBoringSsl</code> dependency and see if that solves the problem?</p>\n"},{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590100447,"creation_date":1590100447,"answer_id":61944900,"question_id":61934116,"body_markdown":"Before the IllegalStateException, [gRPC will dump log messages with additional info]( https://github.com/grpc/grpc-java/blob/461d30adfb38fb552017edeeb85ab90882947920/netty/src/main/java/io/grpc/netty/GrpcSslContexts.java#L226-L232). So the best thing to do would be to look at those messages and determine more of what is happening.\r\n\r\nHowever, since you are running on Alpine, I expect the problem is `Error loading shared library libcrypt.so.1: No such file or directory`. gRPC [mentions in its security documentation](https://github.com/grpc/grpc-java/blob/master/SECURITY.md#netty) that Alpine lacks some compatibility with glibc by default, and compatibility can be restored by installing a package: `apk update &amp;&amp; apk add libc6-compat`. This problem is caused by the differences between glibc that is generally used on Linux and musl as used on Alpine.","title":"Error while using google texttospeech : Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available","body":"<p>Before the IllegalStateException, <a href=\"https://github.com/grpc/grpc-java/blob/461d30adfb38fb552017edeeb85ab90882947920/netty/src/main/java/io/grpc/netty/GrpcSslContexts.java#L226-L232\" rel=\"nofollow noreferrer\">gRPC will dump log messages with additional info</a>. So the best thing to do would be to look at those messages and determine more of what is happening.</p>\n\n<p>However, since you are running on Alpine, I expect the problem is <code>Error loading shared library libcrypt.so.1: No such file or directory</code>. gRPC <a href=\"https://github.com/grpc/grpc-java/blob/master/SECURITY.md#netty\" rel=\"nofollow noreferrer\">mentions in its security documentation</a> that Alpine lacks some compatibility with glibc by default, and compatibility can be restored by installing a package: <code>apk update &amp;&amp; apk add libc6-compat</code>. This problem is caused by the differences between glibc that is generally used on Linux and musl as used on Alpine.</p>\n"},{"tags":[],"owner":{"account_id":21953264,"reputation":31,"user_id":16232188,"display_name":"oSAM iNTi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649664215,"creation_date":1649664215,"answer_id":71824474,"question_id":61934116,"body_markdown":"Looks like you are using base image as alpine, which actually doesn&#39;t supports gRPC,\r\nyou need to add the gcompact apk in your application.\r\nSo, what you can do is :\r\nUsing docker :\r\n\r\n    \r\n\r\n&gt; RUN apk add gcompat\r\n&gt;     \r\n&gt; ENV LD_PRELOAD=/lib/libgcompat.so.0\r\n","title":"Error while using google texttospeech : Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available","body":"<p>Looks like you are using base image as alpine, which actually doesn't supports gRPC,\nyou need to add the gcompact apk in your application.\nSo, what you can do is :\nUsing docker :</p>\n<blockquote>\n<p>RUN apk add gcompat</p>\n<p>ENV LD_PRELOAD=/lib/libgcompat.so.0</p>\n</blockquote>\n"}],"owner":{"account_id":18394753,"reputation":33,"user_id":13399536,"display_name":"San"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1649664215,"creation_date":1590062641,"question_id":61934116,"body_markdown":"Getting the following exception while using GGoogle Text to Speech API,\r\n\r\n```\r\njava.lang.IllegalStateException: Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available\r\n\tat i.g.n.s.io.grpc.netty.GrpcSslContexts.defaultSslProvider(GrpcSslContexts.java:233)\r\n\tat i.g.n.s.io.grpc.netty.GrpcSslContexts.configure(GrpcSslContexts.java:144)\r\n\tat i.g.n.s.io.grpc.netty.GrpcSslContexts.forClient(GrpcSslContexts.java:93)\r\n\tat i.g.n.s.i.grpc.netty.NettyChannelBuilder.buildTransportFactory(NettyChannelBuilder.java:397)\r\n\tat i.g.i.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:513)\r\n\tat c.g.a.g.g.InstantiatingGrpcChannelProvider.createSingleChannel(InstantiatingGrpcChannelProvider.java:304)\r\n\tat c.g.a.g.g.InstantiatingGrpcChannelProvider.access$1500(InstantiatingGrpcChannelProvider.java:71)\r\n\tat c.g.a.g.g.InstantiatingGrpcChannelProvider$1.createSingleChannel(InstantiatingGrpcChannelProvider.java:202)\r\n\tat com.google.api.gax.grpc.ChannelPool.create(ChannelPool.java:72)\r\n\tat c.g.a.g.g.InstantiatingGrpcChannelProvider.createChannel(InstantiatingGrpcChannelProvider.java:209)\r\n\tat c.g.a.g.g.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:192)\r\n\tat com.google.api.gax.rpc.ClientContext.create(ClientContext.java:155)\r\n\tat c.g.c.t.v1.stub.GrpcTextToSpeechStub.create(GrpcTextToSpeechStub.java:74)\r\n\tat c.g.c.t.v1.stub.TextToSpeechStubSettings.createStub(TextToSpeechStubSettings.java:100)\r\n\tat c.g.c.texttospeech.v1.TextToSpeechClient.&lt;init&gt;(TextToSpeechClient.java:128)\r\n\tat c.g.c.texttospeech.v1.TextToSpeechClient.create(TextToSpeechClient.java:109)\r\n\tat c.g.c.texttospeech.v1.TextToSpeechClient.create(TextToSpeechClient.java:101)\r\n\tat com.vxml.util.GoogleTTSUtil.getSpeech(GoogleTTSUtil.scala:11)\r\n\tat com.vxml.util.GoogleTTSUtil.getSpeech$(GoogleTTSUtil.scala:10)\r\n\tat com.VxmlActivitiesMain$.getSpeech(VxmlActivitiesMain.scala:22)\r\n\tat com.vxml.rest.TTSRoute.$anonfun$ttsRoute$2(TTSRoute.scala:35)\r\n\tat akka.http.scaladsl.server.Directive$.$anonfun$addByNameNullaryApply$2(...\r\n```\r\n\r\nUsed the following sbt dependencies,\r\n\r\n```\r\n  val googleTTS              = &quot;com.google.cloud&quot; % &quot;google-cloud-texttospeech&quot;       % &quot;1.0.2&quot;\r\n  val googleLibraries        = &quot;com.google.cloud&quot; % &quot;libraries-bom&quot;                   % &quot;4.4.1&quot;\r\n  val googleGrpc             = &quot;com.google.api&quot;   % &quot;gax-grpc&quot;                        % &quot;1.56.0&quot;\r\n  val nettyShaded            = &quot;io.grpc&quot;          % &quot;grpc-netty-shaded&quot;               % &quot;1.28.1&quot;\r\n  val nettyTcnativeBoringSsl = &quot;io.netty&quot;         % &quot;netty-tcnative-boringssl-static&quot; % &quot;2.0.20.Final&quot;\r\n```\r\n\r\nDocker Base Image used : openjdk:8u212-jdk-alpine\r\n\r\n","title":"Error while using google texttospeech : Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available","body":"<p>Getting the following exception while using GGoogle Text to Speech API,</p>\n\n<pre><code>java.lang.IllegalStateException: Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available\n    at i.g.n.s.io.grpc.netty.GrpcSslContexts.defaultSslProvider(GrpcSslContexts.java:233)\n    at i.g.n.s.io.grpc.netty.GrpcSslContexts.configure(GrpcSslContexts.java:144)\n    at i.g.n.s.io.grpc.netty.GrpcSslContexts.forClient(GrpcSslContexts.java:93)\n    at i.g.n.s.i.grpc.netty.NettyChannelBuilder.buildTransportFactory(NettyChannelBuilder.java:397)\n    at i.g.i.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:513)\n    at c.g.a.g.g.InstantiatingGrpcChannelProvider.createSingleChannel(InstantiatingGrpcChannelProvider.java:304)\n    at c.g.a.g.g.InstantiatingGrpcChannelProvider.access$1500(InstantiatingGrpcChannelProvider.java:71)\n    at c.g.a.g.g.InstantiatingGrpcChannelProvider$1.createSingleChannel(InstantiatingGrpcChannelProvider.java:202)\n    at com.google.api.gax.grpc.ChannelPool.create(ChannelPool.java:72)\n    at c.g.a.g.g.InstantiatingGrpcChannelProvider.createChannel(InstantiatingGrpcChannelProvider.java:209)\n    at c.g.a.g.g.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:192)\n    at com.google.api.gax.rpc.ClientContext.create(ClientContext.java:155)\n    at c.g.c.t.v1.stub.GrpcTextToSpeechStub.create(GrpcTextToSpeechStub.java:74)\n    at c.g.c.t.v1.stub.TextToSpeechStubSettings.createStub(TextToSpeechStubSettings.java:100)\n    at c.g.c.texttospeech.v1.TextToSpeechClient.&lt;init&gt;(TextToSpeechClient.java:128)\n    at c.g.c.texttospeech.v1.TextToSpeechClient.create(TextToSpeechClient.java:109)\n    at c.g.c.texttospeech.v1.TextToSpeechClient.create(TextToSpeechClient.java:101)\n    at com.vxml.util.GoogleTTSUtil.getSpeech(GoogleTTSUtil.scala:11)\n    at com.vxml.util.GoogleTTSUtil.getSpeech$(GoogleTTSUtil.scala:10)\n    at com.VxmlActivitiesMain$.getSpeech(VxmlActivitiesMain.scala:22)\n    at com.vxml.rest.TTSRoute.$anonfun$ttsRoute$2(TTSRoute.scala:35)\n    at akka.http.scaladsl.server.Directive$.$anonfun$addByNameNullaryApply$2(...\n</code></pre>\n\n<p>Used the following sbt dependencies,</p>\n\n<pre><code>  val googleTTS              = \"com.google.cloud\" % \"google-cloud-texttospeech\"       % \"1.0.2\"\n  val googleLibraries        = \"com.google.cloud\" % \"libraries-bom\"                   % \"4.4.1\"\n  val googleGrpc             = \"com.google.api\"   % \"gax-grpc\"                        % \"1.56.0\"\n  val nettyShaded            = \"io.grpc\"          % \"grpc-netty-shaded\"               % \"1.28.1\"\n  val nettyTcnativeBoringSsl = \"io.netty\"         % \"netty-tcnative-boringssl-static\" % \"2.0.20.Final\"\n</code></pre>\n\n<p>Docker Base Image used : openjdk:8u212-jdk-alpine</p>\n"},{"tags":["java","android","firebase","flutter","exception"],"answers":[{"tags":[],"owner":{"account_id":23157774,"reputation":31,"user_id":17258806,"display_name":"Elangovan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642405723,"creation_date":1642402783,"answer_id":70737565,"question_id":70522373,"body_markdown":"I had the same issue:\r\n\r\nMy app worked in *debug* mode and crashes in *build* mode. I check the log in my app and it said `java.lang.ExceptionInInitializerError` \r\n\r\nThe mistake I did was, I added the camera permission after the `&lt;application&gt; ... &lt;/application&gt;` tags\r\n\r\nI simply added the `    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n`\r\n\r\nbefore the `&lt;application&gt;` tag and it worked for me. Now the app isn&#39;t crashing","title":"java.lang.ExceptionInInitializerError when running flutter release mode","body":"<p>I had the same issue:</p>\n<p>My app worked in <em>debug</em> mode and crashes in <em>build</em> mode. I check the log in my app and it said <code>java.lang.ExceptionInInitializerError</code></p>\n<p>The mistake I did was, I added the camera permission after the <code>&lt;application&gt; ... &lt;/application&gt;</code> tags</p>\n<p>I simply added the <code>   &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;</code></p>\n<p>before the <code>&lt;application&gt;</code> tag and it worked for me. Now the app isn't crashing</p>\n"},{"tags":[],"owner":{"account_id":19056396,"reputation":627,"user_id":13913467,"display_name":"sohrabonline"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1649664207,"creation_date":1649664207,"answer_id":71824472,"question_id":70522373,"body_markdown":"**I am using flutter and , I  have found solution.**\r\n\r\nThere are some steps , you must do, please follow correctly:\r\n\r\n***STEP 1:***\r\n\r\nIn */Android/app* folder:\r\n\r\nfind below files: \r\n*proguard-android.txt*\r\n*proguard-rules.pro*\r\n\r\n**if they are not exists create them, with same name.**\r\n\r\n\r\n\r\n***STEP 2:***\r\n\r\nPaste this code into **both** files (*proguard-android.txt* and proguard-rules.pro):\r\n\r\n       -keep class io.grpc.** {*;}\r\n       -keepclassmembers enum * {\r\n        public static **[] values();\r\n        public static ** valueOf(java.lang.String);\r\n    }\r\n\r\n***STEP 3:***\r\n\r\nin */Android/app/build.gradle*\r\nmake sure that, theese lines have added:\r\n\r\n     buildTypes {\r\n        release {\r\n            // TODO: Add your own signing config for the release build.\r\n            // Signing with the debug keys for now, so `flutter run --release` works.\r\n            signingConfig signingConfigs.release //If in debug, change release to debug\r\n    \r\n            minifyEnabled true\r\n            useProguard true\r\n            shrinkResources true\r\n    \r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39; *//I add this line...*\r\n        } }\r\n\r\n***STEP 4:***\r\n\r\nin terminal of Android Studio \r\n\r\n    flutter clean\r\n\r\nthen \r\n\r\n    flutter pub get\r\n\r\n\r\nafter theese steps it must work.","title":"java.lang.ExceptionInInitializerError when running flutter release mode","body":"<p><strong>I am using flutter and , I  have found solution.</strong></p>\n<p>There are some steps , you must do, please follow correctly:</p>\n<p><em><strong>STEP 1:</strong></em></p>\n<p>In <em>/Android/app</em> folder:</p>\n<p>find below files:\n<em>proguard-android.txt</em>\n<em>proguard-rules.pro</em></p>\n<p><strong>if they are not exists create them, with same name.</strong></p>\n<p><em><strong>STEP 2:</strong></em></p>\n<p>Paste this code into <strong>both</strong> files (<em>proguard-android.txt</em> and proguard-rules.pro):</p>\n<pre><code>   -keep class io.grpc.** {*;}\n   -keepclassmembers enum * {\n    public static **[] values();\n    public static ** valueOf(java.lang.String);\n}\n</code></pre>\n<p><em><strong>STEP 3:</strong></em></p>\n<p>in <em>/Android/app/build.gradle</em>\nmake sure that, theese lines have added:</p>\n<pre><code> buildTypes {\n    release {\n        // TODO: Add your own signing config for the release build.\n        // Signing with the debug keys for now, so `flutter run --release` works.\n        signingConfig signingConfigs.release //If in debug, change release to debug\n\n        minifyEnabled true\n        useProguard true\n        shrinkResources true\n\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro' *//I add this line...*\n    } }\n</code></pre>\n<p><em><strong>STEP 4:</strong></em></p>\n<p>in terminal of Android Studio</p>\n<pre><code>flutter clean\n</code></pre>\n<p>then</p>\n<pre><code>flutter pub get\n</code></pre>\n<p>after theese steps it must work.</p>\n"}],"owner":{"account_id":12137377,"reputation":253,"user_id":8862467,"accept_rate":80,"display_name":"prabhu r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1603,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71824472,"answer_count":2,"score":4,"last_activity_date":1649664207,"creation_date":1640796136,"question_id":70522373,"body_markdown":"My flutter app works fine in debug mode. But, when I run it with ````flutter run --release```` I am getting the following error.\r\n````\r\nE/AndroidRuntime(18551):    java.lang.ExceptionInInitializerError\r\nE/AndroidRuntime(18551): \tat e.c.M1.o.forTarget(Unknown Source:0)\r\nE/AndroidRuntime(18551): \tat e.c.M1.p.a(:1)\r\nE/AndroidRuntime(18551): \tat e.c.J0.b(:2)\r\nE/AndroidRuntime(18551): \tat com.google.firebase.firestore.p0.V.e(:2)\r\nE/AndroidRuntime(18551): \tat com.google.firebase.firestore.p0.r.call(Unknown Source:2)\r\nE/AndroidRuntime(18551): \tat c.d.a.b.l.O.run(Unknown Source:4)\r\nE/AndroidRuntime(18551): \tat com.google.firebase.firestore.q0.G.a(:1)\r\nE/AndroidRuntime(18551): \tat com.google.firebase.firestore.q0.l.run(Unknown Source:4)\r\nE/AndroidRuntime(18551): \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\nE/AndroidRuntime(18551): \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\nE/AndroidRuntime(18551): \tat java.lang.Thread.run(Thread.java:923)\r\nE/AndroidRuntime(18551): Caused by: java.lang.RuntimeException: java.lang.NoSuchMethodException: e.c.J1.values []\r\nE/AndroidRuntime(18551): \tat java.lang.Enum.enumValues(Enum.java:270)\r\nE/AndroidRuntime(18551): \tat java.lang.Enum.access$000(Enum.java:61)\r\nE/AndroidRuntime(18551): \tat java.lang.Enum$1.create(Enum.java:277)\r\nE/AndroidRuntime(18551): \tat java.lang.Enum$1.create(Enum.java:275)\r\nE/AndroidRuntime(18551): \tat libcore.util.BasicLruCache.get(BasicLruCache.java:63)\r\nE/AndroidRuntime(18551): \tat java.lang.Enum.getSharedConstants(Enum.java:289)\r\nE/AndroidRuntime(18551): \tat java.lang.Class.getEnumConstantsShared(Class.java:2428)\r\nE/AndroidRuntime(18551): \tat java.util.EnumSet.getUniverse(EnumSet.java:407)\r\nE/AndroidRuntime(18551): \tat java.util.EnumSet.noneOf(EnumSet.java:109)\r\nE/AndroidRuntime(18551): \tat java.util.EnumSet.of(EnumSet.java:235)\r\nE/AndroidRuntime(18551): \tat e.c.M1.o.&lt;clinit&gt;(Unknown Source:100)\r\nE/AndroidRuntime(18551): \t... 11 more\r\nE/AndroidRuntime(18551): Caused by: java.lang.NoSuchMethodException: e.c.J1.values []\r\nE/AndroidRuntime(18551): \tat java.lang.Class.getMethod(Class.java:2072)\r\nE/AndroidRuntime(18551): \tat java.lang.Class.getDeclaredMethod(Class.java:2050)\r\nE/AndroidRuntime(18551): \tat java.lang.Enum.enumValues(Enum.java:267)\r\nE/AndroidRuntime(18551): \t... 21 more\r\n````\r\nI&#39;ve tried some ways like upgrading gradle, upgrading some dependencies to latest versions. But still it&#39;s not solved. Can you give any ideas on how to solve this?\r\n","title":"java.lang.ExceptionInInitializerError when running flutter release mode","body":"<p>My flutter app works fine in debug mode. But, when I run it with <code>flutter run --release</code> I am getting the following error.</p>\n<pre><code>E/AndroidRuntime(18551):    java.lang.ExceptionInInitializerError\nE/AndroidRuntime(18551):    at e.c.M1.o.forTarget(Unknown Source:0)\nE/AndroidRuntime(18551):    at e.c.M1.p.a(:1)\nE/AndroidRuntime(18551):    at e.c.J0.b(:2)\nE/AndroidRuntime(18551):    at com.google.firebase.firestore.p0.V.e(:2)\nE/AndroidRuntime(18551):    at com.google.firebase.firestore.p0.r.call(Unknown Source:2)\nE/AndroidRuntime(18551):    at c.d.a.b.l.O.run(Unknown Source:4)\nE/AndroidRuntime(18551):    at com.google.firebase.firestore.q0.G.a(:1)\nE/AndroidRuntime(18551):    at com.google.firebase.firestore.q0.l.run(Unknown Source:4)\nE/AndroidRuntime(18551):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\nE/AndroidRuntime(18551):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\nE/AndroidRuntime(18551):    at java.lang.Thread.run(Thread.java:923)\nE/AndroidRuntime(18551): Caused by: java.lang.RuntimeException: java.lang.NoSuchMethodException: e.c.J1.values []\nE/AndroidRuntime(18551):    at java.lang.Enum.enumValues(Enum.java:270)\nE/AndroidRuntime(18551):    at java.lang.Enum.access$000(Enum.java:61)\nE/AndroidRuntime(18551):    at java.lang.Enum$1.create(Enum.java:277)\nE/AndroidRuntime(18551):    at java.lang.Enum$1.create(Enum.java:275)\nE/AndroidRuntime(18551):    at libcore.util.BasicLruCache.get(BasicLruCache.java:63)\nE/AndroidRuntime(18551):    at java.lang.Enum.getSharedConstants(Enum.java:289)\nE/AndroidRuntime(18551):    at java.lang.Class.getEnumConstantsShared(Class.java:2428)\nE/AndroidRuntime(18551):    at java.util.EnumSet.getUniverse(EnumSet.java:407)\nE/AndroidRuntime(18551):    at java.util.EnumSet.noneOf(EnumSet.java:109)\nE/AndroidRuntime(18551):    at java.util.EnumSet.of(EnumSet.java:235)\nE/AndroidRuntime(18551):    at e.c.M1.o.&lt;clinit&gt;(Unknown Source:100)\nE/AndroidRuntime(18551):    ... 11 more\nE/AndroidRuntime(18551): Caused by: java.lang.NoSuchMethodException: e.c.J1.values []\nE/AndroidRuntime(18551):    at java.lang.Class.getMethod(Class.java:2072)\nE/AndroidRuntime(18551):    at java.lang.Class.getDeclaredMethod(Class.java:2050)\nE/AndroidRuntime(18551):    at java.lang.Enum.enumValues(Enum.java:267)\nE/AndroidRuntime(18551):    ... 21 more\n</code></pre>\n<p>I've tried some ways like upgrading gradle, upgrading some dependencies to latest versions. But still it's not solved. Can you give any ideas on how to solve this?</p>\n"},{"tags":["java","spring","transactions","aop","event-listener"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1649315359,"post_id":71775299,"comment_id":126845498,"body_markdown":"Welcome to SO. I edited your question in order to reformat it a bit and also make your hidden inline images visible. You have done some nice digging here, but with only the interceptor code I cannot help you, because I need an [MCVE](https://stackoverflow.com/help/mcve) in order to reproduce your problem. A minimal GitHub project would be good. Please also edit the question, explaining what you actually want to achieve by self-injecting a bean and starting a transaction for your interceptor. Then notify me with another comment. Thank you very much.","body":"Welcome to SO. I edited your question in order to reformat it a bit and also make your hidden inline images visible. You have done some nice digging here, but with only the interceptor code I cannot help you, because I need an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> in order to reproduce your problem. A minimal GitHub project would be good. Please also edit the question, explaining what you actually want to achieve by self-injecting a bean and starting a transaction for your interceptor. Then notify me with another comment. Thank you very much."},{"owner":{"account_id":24854605,"reputation":3,"user_id":18731111,"display_name":"zifengg"},"score":0,"creation_date":1649347498,"post_id":71775299,"comment_id":126858268,"body_markdown":"Thank you for your answer! In order to prevent the internal call of the method from causing the transaction to fail, I injected itself and then used the injected instance to complete the method call. But when I wrote the following code I found that the listener will be triggered twice. I think it&#39;s not normal, but not sure if it&#39;s a bug? You can reproduce this problem through this demo project, the link is https://github.com/ZiFeng-Wu/spring-study. Thank you!","body":"Thank you for your answer! In order to prevent the internal call of the method from causing the transaction to fail, I injected itself and then used the injected instance to complete the method call. But when I wrote the following code I found that the listener will be triggered twice. I think it&#39;s not normal, but not sure if it&#39;s a bug? You can reproduce this problem through this demo project, the link is <a href=\"https://github.com/ZiFeng-Wu/spring-study\" rel=\"nofollow noreferrer\">github.com/ZiFeng-Wu/spring-study</a>. Thank you!"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1649417618,"post_id":71775299,"comment_id":126875982,"body_markdown":"Some quick feedback, which I am going to delete again at some point: Thanks for the GitHub project. Today I am busy with a few other things, but I am not forgetting this one, and if nobody else answers first, I might get a chance to look into this during the weekend.","body":"Some quick feedback, which I am going to delete again at some point: Thanks for the GitHub project. Today I am busy with a few other things, but I am not forgetting this one, and if nobody else answers first, I might get a chance to look into this during the weekend."},{"owner":{"account_id":24854605,"reputation":3,"user_id":18731111,"display_name":"zifengg"},"score":0,"creation_date":1649433780,"post_id":71775299,"comment_id":126882640,"body_markdown":"Thanks! Looking forward to your reply.","body":"Thanks! Looking forward to your reply."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1649472614,"post_id":71775299,"comment_id":126890954,"body_markdown":"`java.io.FileNotFoundException: conf\\spring-context.xml`. Please update the project in order to make it run correctly, i.e. either provide the XML config file or equivalent annotation-based configuration. Please also provide the database configuration. I am not going to re-type the text from the image in your screenshot on the GitHub read-me. Ideally, reconfigure the Maven project to use an in-memory DB like H2, and make sure the necessary data (if any) are inside there. I am not going to manually install MySQL or whatever, just to make your project run.","body":"<code>java.io.FileNotFoundException: conf\\spring-context.xml</code>. Please update the project in order to make it run correctly, i.e. either provide the XML config file or equivalent annotation-based configuration. Please also provide the database configuration. I am not going to re-type the text from the image in your screenshot on the GitHub read-me. Ideally, reconfigure the Maven project to use an in-memory DB like H2, and make sure the necessary data (if any) are inside there. I am not going to manually install MySQL or whatever, just to make your project run."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649664104,"creation_date":1649473500,"answer_id":71804962,"question_id":71775299,"body_markdown":"### Updated answer\r\n\r\nNow with your updated GitHub project, I can reproduce the problem. It also occurs when using a Spring AOP aspect targeting the listener class, not just in the special case of self-injection + `@Transactional`. IMO, it is a Spring Core bug, which is why I created [PR #28322](https://github.com/spring-projects/spring-framework/pull/28322) in order to fix the [issue #28283](https://github.com/spring-projects/spring-framework/issues/28283) you raised either before or after cross-posting here. You should have linked to that issue in your question, I just found it because I was searching for key words before creating an issue for it myself.\r\n\r\nSee also my comment in the issue, starting with [this one](https://github.com/spring-projects/spring-framework/issues/28283#issuecomment-1094584772).\r\n\r\n---\r\n\r\n### Original answer (for reference)\r\n\r\nOK, in your main class I changed\r\n\r\n```java\r\nString configFile = &quot;src/main/resources/spring-context.xml&quot;;\r\nAbstractApplicationContext context = new FileSystemXmlApplicationContext(configFile);\r\n```\r\nto\r\n```java\r\nAbstractApplicationContext context = new AnnotationConfigApplicationContext(&quot;com.zifeng.spring&quot;);\r\n```\r\n\r\nNow the application starts, also without DB configuration. It simply prints:\r\n```none\r\nreceiver test\r\n```\r\n\r\nThere is no exception. I.e., if for you it does not work, probably there is a bug in your XML configuration. But actually, you really do not need it, because you used component and service annotations already.\r\n\r\nSo if I need a database setup in order to reproduce this, please, like I said in my comment, update the project to provide an H2 configuration which works out of the box.","title":"Using AOP and DI itself causes Spring ApplicationListener to be fired twice","body":"<h3>Updated answer</h3>\n<p>Now with your updated GitHub project, I can reproduce the problem. It also occurs when using a Spring AOP aspect targeting the listener class, not just in the special case of self-injection + <code>@Transactional</code>. IMO, it is a Spring Core bug, which is why I created <a href=\"https://github.com/spring-projects/spring-framework/pull/28322\" rel=\"nofollow noreferrer\">PR #28322</a> in order to fix the <a href=\"https://github.com/spring-projects/spring-framework/issues/28283\" rel=\"nofollow noreferrer\">issue #28283</a> you raised either before or after cross-posting here. You should have linked to that issue in your question, I just found it because I was searching for key words before creating an issue for it myself.</p>\n<p>See also my comment in the issue, starting with <a href=\"https://github.com/spring-projects/spring-framework/issues/28283#issuecomment-1094584772\" rel=\"nofollow noreferrer\">this one</a>.</p>\n<hr />\n<h3>Original answer (for reference)</h3>\n<p>OK, in your main class I changed</p>\n<pre class=\"lang-java prettyprint-override\"><code>String configFile = &quot;src/main/resources/spring-context.xml&quot;;\nAbstractApplicationContext context = new FileSystemXmlApplicationContext(configFile);\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>AbstractApplicationContext context = new AnnotationConfigApplicationContext(&quot;com.zifeng.spring&quot;);\n</code></pre>\n<p>Now the application starts, also without DB configuration. It simply prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>receiver test\n</code></pre>\n<p>There is no exception. I.e., if for you it does not work, probably there is a bug in your XML configuration. But actually, you really do not need it, because you used component and service annotations already.</p>\n<p>So if I need a database setup in order to reproduce this, please, like I said in my comment, update the project to provide an H2 configuration which works out of the box.</p>\n"}],"owner":{"account_id":24854605,"reputation":3,"user_id":18731111,"display_name":"zifengg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71804962,"answer_count":1,"score":0,"last_activity_date":1649664104,"creation_date":1649294794,"question_id":71775299,"body_markdown":"## Software versions\r\n\r\n- Spring Version  5.3.18 and earlier \r\n- JDK Version 1.8.0_202\r\n\r\n## Overview\r\n\r\nWhen I use Spring ApplicationListener, in order to prevent transaction invalidation, my ApplicationListener implementation class writes the following code (of course, the code can be written differently to avoid this problem), which will cause my listener to trigger twice after the event is published. I think it&#39;s not normal, but not sure if it&#39;s a bug, so I want to ask everyone&#39;s opinion.\r\n\r\n```java\r\n@Component\r\npublic class EventDemoListener implements ApplicationListener&lt;EventDemo&gt; {\r\n    @Autowired\r\n    DemoService1 demoService1;\r\n    @Autowired\r\n    DemoService2 demoService2;\r\n    @Autowired\r\n    EventDemoListener eventDemoListener;\r\n\r\n    @Override\r\n    public void onApplicationEvent(EventDemo event) {\r\n        eventDemoListener.testTransaction();\r\n        System.out.println(&quot;receiver &quot; + event.getMessage());\r\n    }\r\n\r\n    @Transactional(rollbackFor = Exception.class)\r\n    public void testTransaction() {\r\n        demoService1.doService();\r\n        demoService2.doService();\r\n    }\r\n}\r\n```\r\nThrough this demo project, this problem can be reproduced. Please read the README.md document before running.    \r\n[https://github.com/ZiFeng-Wu/spring-study](https://github.com/ZiFeng-Wu/spring-study)\r\n\r\n## Analysis\r\n\r\n1. After analysis, because here DI itself , When `EventDemoListener` is created, property filling will trigger `DefaultSingletonBeanRegistry#getSingleton(String, boolean)` in advance.\r\n\r\n2. Then `singletonFactory.getObject()` executed in `getSingleton()` will cause the unproxyed `EventDemoListener` object to be put into `AbstractAutoProxyCreator#earlyProxyReferences`.\r\n\r\n3. After the properties are filled, calling `AbstractAutowireCapableBeanFactory#initializeBean(String, Object, RootBeanDefinition)` and executing `ApplicationListenerDetector#postProcessAfterInitialization(Object, String)` will cause the unproxyed `EventDemoListener` object to be put into the `AbstractApplicationEventMulticaster.DefaultListenerRetriever#applicationListeners` container.\r\n\r\n    [![enter image description here][1]][1]\r\n\r\n4. Then when the event is published, execute `AbstractApplicationEventMulticaster.DefaultListenerRetriever#getApplicationListeners()`  and use `ApplicationListener&lt;?&gt; listener =beanFactory.getBean(listenerBeanName, ApplicationListener.class)` to obtain the listener is the proxied `EventDemoListener` object.\r\n\r\n5. At this time, there are only unproxyed `EventDemoListener` object in the `applicationListeners` container, so the proxied `EventDemoListener` object will be added to the final returned allListeners collection, as shown in the figure below, which will eventually cause the listener to be triggered twice.\r\n\r\n    [![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lz51c.png\r\n  [2]: https://i.stack.imgur.com/oZ8OA.png\r\n","title":"Using AOP and DI itself causes Spring ApplicationListener to be fired twice","body":"<h2>Software versions</h2>\n<ul>\n<li>Spring Version  5.3.18 and earlier</li>\n<li>JDK Version 1.8.0_202</li>\n</ul>\n<h2>Overview</h2>\n<p>When I use Spring ApplicationListener, in order to prevent transaction invalidation, my ApplicationListener implementation class writes the following code (of course, the code can be written differently to avoid this problem), which will cause my listener to trigger twice after the event is published. I think it's not normal, but not sure if it's a bug, so I want to ask everyone's opinion.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class EventDemoListener implements ApplicationListener&lt;EventDemo&gt; {\n    @Autowired\n    DemoService1 demoService1;\n    @Autowired\n    DemoService2 demoService2;\n    @Autowired\n    EventDemoListener eventDemoListener;\n\n    @Override\n    public void onApplicationEvent(EventDemo event) {\n        eventDemoListener.testTransaction();\n        System.out.println(&quot;receiver &quot; + event.getMessage());\n    }\n\n    @Transactional(rollbackFor = Exception.class)\n    public void testTransaction() {\n        demoService1.doService();\n        demoService2.doService();\n    }\n}\n</code></pre>\n<p>Through this demo project, this problem can be reproduced. Please read the README.md document before running.<br />\n<a href=\"https://github.com/ZiFeng-Wu/spring-study\" rel=\"nofollow noreferrer\">https://github.com/ZiFeng-Wu/spring-study</a></p>\n<h2>Analysis</h2>\n<ol>\n<li><p>After analysis, because here DI itself , When <code>EventDemoListener</code> is created, property filling will trigger <code>DefaultSingletonBeanRegistry#getSingleton(String, boolean)</code> in advance.</p>\n</li>\n<li><p>Then <code>singletonFactory.getObject()</code> executed in <code>getSingleton()</code> will cause the unproxyed <code>EventDemoListener</code> object to be put into <code>AbstractAutoProxyCreator#earlyProxyReferences</code>.</p>\n</li>\n<li><p>After the properties are filled, calling <code>AbstractAutowireCapableBeanFactory#initializeBean(String, Object, RootBeanDefinition)</code> and executing <code>ApplicationListenerDetector#postProcessAfterInitialization(Object, String)</code> will cause the unproxyed <code>EventDemoListener</code> object to be put into the <code>AbstractApplicationEventMulticaster.DefaultListenerRetriever#applicationListeners</code> container.</p>\n<p><a href=\"https://i.stack.imgur.com/lz51c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lz51c.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Then when the event is published, execute <code>AbstractApplicationEventMulticaster.DefaultListenerRetriever#getApplicationListeners()</code>  and use <code>ApplicationListener&lt;?&gt; listener =beanFactory.getBean(listenerBeanName, ApplicationListener.class)</code> to obtain the listener is the proxied <code>EventDemoListener</code> object.</p>\n</li>\n<li><p>At this time, there are only unproxyed <code>EventDemoListener</code> object in the <code>applicationListeners</code> container, so the proxied <code>EventDemoListener</code> object will be added to the final returned allListeners collection, as shown in the figure below, which will eventually cause the listener to be triggered twice.</p>\n<p><a href=\"https://i.stack.imgur.com/oZ8OA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oZ8OA.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649664086,"creation_date":1649664086,"answer_id":71824448,"question_id":71681828,"body_markdown":"The [official docs][1] said:\r\n\r\n&gt; shortenCommandLine - When the project has long classpath or big VM\r\n&gt; arguments, the command line to launch the program may exceed the\r\n&gt; maximum command line string limitation allowed by the OS. This\r\n&gt; configuration item provides multiple approaches to shorten the command\r\n&gt; line. Defaults to auto.\r\n&gt; \r\n&gt;  - none - Launch the program with the standard command line &#39;java    options classname [args]&#39;.\r\n&gt;  - jarmanifest - Generate the classpath parameters to a temporary    classpath.jar file, and launch the program with the command line &#39;java -cp classpath.jar classname [args]&#39;.\r\n&gt;  - argfile - Generate the classpath parameters to a temporary argument    file, and launch the program with the command line &#39;java @argfile[args]&#39;. This value only applies to Java 9 and higher.\r\n&gt;  - auto - Automatically detect the command line length and determine    whether to shorten the command line via an appropriate approach.\r\n\r\nLooks like the path of the folder in the D driver is longer then in the C Driver, so the Java extension automatically creates the `.argfile` file.\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-debug","title":"VSCode Java Project - java.lang.ClassNotFoundException if I run the project at other drive except in Windows drive (Drive C)","body":"<p>The <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-debug\" rel=\"nofollow noreferrer\">official docs</a> said:</p>\n<blockquote>\n<p>shortenCommandLine - When the project has long classpath or big VM\narguments, the command line to launch the program may exceed the\nmaximum command line string limitation allowed by the OS. This\nconfiguration item provides multiple approaches to shorten the command\nline. Defaults to auto.</p>\n<ul>\n<li>none - Launch the program with the standard command line 'java    options classname [args]'.</li>\n<li>jarmanifest - Generate the classpath parameters to a temporary    classpath.jar file, and launch the program with the command line 'java -cp classpath.jar classname [args]'.</li>\n<li>argfile - Generate the classpath parameters to a temporary argument    file, and launch the program with the command line 'java @argfile[args]'. This value only applies to Java 9 and higher.</li>\n<li>auto - Automatically detect the command line length and determine    whether to shorten the command line via an appropriate approach.</li>\n</ul>\n</blockquote>\n<p>Looks like the path of the folder in the D driver is longer then in the C Driver, so the Java extension automatically creates the <code>.argfile</code> file.</p>\n"}],"owner":{"account_id":17801760,"reputation":215,"user_id":12928363,"display_name":"Paweenwat Maneechai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2675,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649664086,"creation_date":1648662348,"question_id":71681828,"body_markdown":"I like to organize the code in other drive except Windows drive in case of Windows reinstallation. I test in both location. In Windows drive, the project can run properly, but in the other hand, project that in the drive D cannot run because it caused the error `java.lang.ClassNotFoundException`. I notice that if I no have any library in the project, the command in terminal is `&#39;-cp&#39; &#39;D:\\\\Java\\Project\\MyApp\\bin&#39; &#39;com.winrecker.app.App&quot;`. So the project can run properly without any error. After that, I copied the `.jar` library into `lib` folder and run again, the project has the same error as mentioned above.\r\nIs there any way that I can disable vscode for making the `.argfile` that caused the error? I&#39;m tried to created `.launch.json` in `.vscode` folder. Then add a configuration as follows\r\n\r\nlaunch.json\r\n```\r\n{\r\n  &quot;configurations&quot;: [\r\n    {\r\n      &quot;type&quot;: &quot;java&quot;,\r\n      &quot;name&quot;: &quot;Launch Game&quot;,\r\n      &quot;request&quot;: &quot;launch&quot;,\r\n      &quot;mainClass&quot;: &quot;com.untitled.game.Game&quot;,\r\n      &quot;projectName&quot;: &quot;Alien Hunter&quot;,\r\n      &quot;vmArgs&quot;: &quot;-Djava.library.path=lib/lwjgl/native/windows&quot;,\r\n      &quot;shortenCommandLine&quot;: &quot;none&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nsettings.json\r\n```\r\n{\r\n    &quot;java.project.sourcePaths&quot;: [\r\n        &quot;src&quot;,\r\n        &quot;lib&quot;,\r\n        &quot;res&quot;\r\n    ],\r\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\r\n    &quot;java.project.referencedLibraries&quot;: [\r\n        &quot;lib/**/*.jar&quot;\r\n    ]\r\n}\r\n\r\n```\r\n\r\nAnd run again, the project can at any drive other than Windows drive.\r\nI&#39;m so curious why `shortenCommandLine` and create the `.argfile` caused the error in project that not in Windows drive.\r\n\r\nAny help is appreciated.","title":"VSCode Java Project - java.lang.ClassNotFoundException if I run the project at other drive except in Windows drive (Drive C)","body":"<p>I like to organize the code in other drive except Windows drive in case of Windows reinstallation. I test in both location. In Windows drive, the project can run properly, but in the other hand, project that in the drive D cannot run because it caused the error <code>java.lang.ClassNotFoundException</code>. I notice that if I no have any library in the project, the command in terminal is <code>'-cp' 'D:\\\\Java\\Project\\MyApp\\bin' 'com.winrecker.app.App&quot;</code>. So the project can run properly without any error. After that, I copied the <code>.jar</code> library into <code>lib</code> folder and run again, the project has the same error as mentioned above.\nIs there any way that I can disable vscode for making the <code>.argfile</code> that caused the error? I'm tried to created <code>.launch.json</code> in <code>.vscode</code> folder. Then add a configuration as follows</p>\n<p>launch.json</p>\n<pre><code>{\n  &quot;configurations&quot;: [\n    {\n      &quot;type&quot;: &quot;java&quot;,\n      &quot;name&quot;: &quot;Launch Game&quot;,\n      &quot;request&quot;: &quot;launch&quot;,\n      &quot;mainClass&quot;: &quot;com.untitled.game.Game&quot;,\n      &quot;projectName&quot;: &quot;Alien Hunter&quot;,\n      &quot;vmArgs&quot;: &quot;-Djava.library.path=lib/lwjgl/native/windows&quot;,\n      &quot;shortenCommandLine&quot;: &quot;none&quot;\n    }\n  ]\n}\n</code></pre>\n<p>settings.json</p>\n<pre><code>{\n    &quot;java.project.sourcePaths&quot;: [\n        &quot;src&quot;,\n        &quot;lib&quot;,\n        &quot;res&quot;\n    ],\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\n    &quot;java.project.referencedLibraries&quot;: [\n        &quot;lib/**/*.jar&quot;\n    ]\n}\n\n</code></pre>\n<p>And run again, the project can at any drive other than Windows drive.\nI'm so curious why <code>shortenCommandLine</code> and create the <code>.argfile</code> caused the error in project that not in Windows drive.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1649694000,"post_id":71824273,"comment_id":126935606,"body_markdown":"Are you looking for changes in the DB after the remove call or after the transaction commit is called? Make sure your session has the same EM as the remove method and try calling em.flush() in remove. JPA can delay statements going to the DB until they are needed, allowing it to reorder and minimize the statements required, and implement batch writing and other optimizations behind the scenes. The only requirements are that the context is synchronized to the DB when the transaction is committed, the context is manually flushed, or certain queries that have particular flush modes set on them.","body":"Are you looking for changes in the DB after the remove call or after the transaction commit is called? Make sure your session has the same EM as the remove method and try calling em.flush() in remove. JPA can delay statements going to the DB until they are needed, allowing it to reorder and minimize the statements required, and implement batch writing and other optimizations behind the scenes. The only requirements are that the context is synchronized to the DB when the transaction is committed, the context is manually flushed, or certain queries that have particular flush modes set on them."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649663838,"creation_date":1649663838,"answer_id":71824407,"question_id":71824273,"body_markdown":"Like any write-behind cache the Persistence context requires flushing (in your case committing, which is different than flushing) in order to synchronize the in-memory persistence state with underlying datasource.\r\n\r\nThus firstly make sure your entities that you want to remove be present in Managed state from first place then try to `remove` to change the state for delating the entity after flushing (committing) .\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        public BehindCacheBuilder&lt;R, V&gt; remove(Class&lt;?&gt; type, Object object) {\r\n            entityManager.remove(entityManager.find(type, object));\r\n            return this;\r\n        }\r\n\r\nWhich in here we bring the entity that we want to remove to [Managed][1] state.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/\r\n  [2]: https://i.stack.imgur.com/9GNGI.png","title":"How to remove entity with first level cache and JPA in one open session?","body":"<p>Like any write-behind cache the Persistence context requires flushing (in your case committing, which is different than flushing) in order to synchronize the in-memory persistence state with underlying datasource.</p>\n<p>Thus firstly make sure your entities that you want to remove be present in Managed state from first place then try to <code>remove</code> to change the state for delating the entity after flushing (committing) .</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>    public BehindCacheBuilder&lt;R, V&gt; remove(Class&lt;?&gt; type, Object object) {\n        entityManager.remove(entityManager.find(type, object));\n        return this;\n    }\n</code></pre>\n<p>Which in here we bring the entity that we want to remove to <a href=\"https://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/\" rel=\"nofollow noreferrer\">Managed</a> state.</p>\n<p><a href=\"https://i.stack.imgur.com/9GNGI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9GNGI.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24898126,"reputation":21,"user_id":18769130,"display_name":"Vladimir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649663838,"creation_date":1649663154,"question_id":71824273,"body_markdown":"In my persistence layer i have `remove` method that will remove the entities in removed state and `EntitySession` to commit the changes.\r\n\r\n - The `EntitySession`\r\n\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    transaction = entityManager.getTransaction();\r\n\r\n\r\n - The remove method\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n        public BehindCacheBuilder&lt;R, V&gt; remove(Object object) {\r\n            entityManager.remove(object);\r\n            return this;\r\n        }\r\n\r\n\r\n\r\n - And committing the transaction \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    transaction.commit();\r\n\r\nBut when i execute the method nothing will remove from datasource.\r\n","title":"How to remove entity with first level cache and JPA in one open session?","body":"<p>In my persistence layer i have <code>remove</code> method that will remove the entities in removed state and <code>EntitySession</code> to commit the changes.</p>\n<ul>\n<li>The <code>EntitySession</code></li>\n</ul>\n\n<pre class=\"lang-html prettyprint-override\"><code>transaction = entityManager.getTransaction();\n</code></pre>\n<ul>\n<li>The remove method</li>\n</ul>\n\n<pre><code>    public BehindCacheBuilder&lt;R, V&gt; remove(Object object) {\n        entityManager.remove(object);\n        return this;\n    }\n</code></pre>\n<ul>\n<li>And committing the transaction</li>\n</ul>\n\n<pre class=\"lang-html prettyprint-override\"><code>transaction.commit();\n</code></pre>\n<p>But when i execute the method nothing will remove from datasource.</p>\n"},{"tags":["javascript","java","html","jquery","css"],"comments":[{"owner":{"account_id":16314121,"reputation":162,"user_id":11781799,"display_name":"Sanidhya"},"score":0,"creation_date":1649663747,"post_id":71822058,"comment_id":126923930,"body_markdown":"Can u share a screenshot what exactly is happening? I have already answered but i will delete it if the code doesn&#39;t work!","body":"Can u share a screenshot what exactly is happening? I have already answered but i will delete it if the code doesn&#39;t work!"}],"answers":[{"tags":[],"owner":{"account_id":16314121,"reputation":162,"user_id":11781799,"display_name":"Sanidhya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649663626,"creation_date":1649663626,"answer_id":71824361,"question_id":71822058,"body_markdown":"I think this `code` works:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    let items = document.querySelectorAll(&#39;.carousel .carousel-item&#39;)\r\n\r\n    items.forEach((el) =&gt; {\r\n        const minPerSlide = 4\r\n        let next = el.nextElementSibling\r\n        for (var i=1; i&lt;minPerSlide; i++) {\r\n            if (!next) {\r\n                // wrap carousel by using first child\r\n            \tnext = items[0]\r\n          \t}\r\n            let cloneChild = next.cloneNode(true)\r\n            el.appendChild(cloneChild.children[0])\r\n            next = next.nextElementSibling\r\n        }\r\n    })\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    \t@media (max-width: 767px) {\r\n        .carousel-inner .carousel-item &gt; div {\r\n            display: none;\r\n        }\r\n        .carousel-inner .carousel-item &gt; div:first-child {\r\n            display: block;\r\n        }\r\n    }\r\n\r\n    .carousel-inner .carousel-item.active,\r\n    .carousel-inner .carousel-item-next,\r\n    .carousel-inner .carousel-item-prev {\r\n        display: flex;\r\n    }\r\n\r\n    /* medium and up screens */\r\n    @media (min-width: 768px) {\r\n        \r\n        .carousel-inner .carousel-item-end.active,\r\n        .carousel-inner .carousel-item-next {\r\n          transform: translateX(25%);\r\n        }\r\n        \r\n        .carousel-inner .carousel-item-start.active, \r\n        .carousel-inner .carousel-item-prev {\r\n          transform: translateX(-25%);\r\n        }\r\n    }\r\n\r\n    .carousel-inner .carousel-item-end,\r\n    .carousel-inner .carousel-item-start { \r\n      transform: translateX(0);\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;title&gt;Page Title&lt;/title&gt;\r\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n\r\n    &lt;div class=&quot;container text-center my-3&quot;&gt;\r\n        &lt;h2 class=&quot;font-weight-light&quot;&gt;Bootstrap Multi Slide Carousel&lt;/h2&gt;\r\n        &lt;div class=&quot;row mx-auto my-auto justify-content-center&quot;&gt;\r\n            &lt;div id=&quot;recipeCarousel&quot; class=&quot;carousel slide&quot; data-bs-ride=&quot;carousel&quot;&gt;\r\n                &lt;div class=&quot;carousel-inner&quot; role=&quot;listbox&quot;&gt;\r\n                    &lt;div class=&quot;carousel-item active&quot;&gt;\r\n                        &lt;div class=&quot;col-md-3&quot;&gt;\r\n                            &lt;div class=&quot;card&quot;&gt;\r\n                                &lt;div class=&quot;card-img&quot;&gt;\r\n                                    &lt;img src=&quot;//via.placeholder.com/500x400/31f?text=1&quot; class=&quot;img-fluid&quot;&gt;\r\n                                &lt;/div&gt;\r\n                                &lt;div class=&quot;card-img-overlay&quot;&gt;Slide 1&lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;carousel-item&quot;&gt;\r\n                        &lt;div class=&quot;col-md-3&quot;&gt;\r\n                            &lt;div class=&quot;card&quot;&gt;\r\n                                &lt;div class=&quot;card-img&quot;&gt;\r\n                                    &lt;img src=&quot;//via.placeholder.com/500x400/e66?text=2&quot; class=&quot;img-fluid&quot;&gt;\r\n                                &lt;/div&gt;\r\n                                &lt;div class=&quot;card-img-overlay&quot;&gt;Slide 2&lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;carousel-item&quot;&gt;\r\n                        &lt;div class=&quot;col-md-3&quot;&gt;\r\n                            &lt;div class=&quot;card&quot;&gt;\r\n                                &lt;div class=&quot;card-img&quot;&gt;\r\n                                    &lt;img src=&quot;//via.placeholder.com/500x400/7d2?text=3&quot; class=&quot;img-fluid&quot;&gt;\r\n                                &lt;/div&gt;\r\n                                &lt;div class=&quot;card-img-overlay&quot;&gt;Slide 3&lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;carousel-item&quot;&gt;\r\n                        &lt;div class=&quot;col-md-3&quot;&gt;\r\n                            &lt;div class=&quot;card&quot;&gt;\r\n                                &lt;div class=&quot;card-img&quot;&gt;\r\n                                    &lt;img src=&quot;//via.placeholder.com/500x400?text=4&quot; class=&quot;img-fluid&quot;&gt;\r\n                                &lt;/div&gt;\r\n                                &lt;div class=&quot;card-img-overlay&quot;&gt;Slide 4&lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;carousel-item&quot;&gt;\r\n                        &lt;div class=&quot;col-md-3&quot;&gt;\r\n                            &lt;div class=&quot;card&quot;&gt;\r\n                                &lt;div class=&quot;card-img&quot;&gt;\r\n                                    &lt;img src=&quot;//via.placeholder.com/500x400/aba?text=5&quot; class=&quot;img-fluid&quot;&gt;\r\n                                &lt;/div&gt;\r\n                                &lt;div class=&quot;card-img-overlay&quot;&gt;Slide 5&lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;carousel-item&quot;&gt;\r\n                        &lt;div class=&quot;col-md-3&quot;&gt;\r\n                            &lt;div class=&quot;card&quot;&gt;\r\n                                &lt;div class=&quot;card-img&quot;&gt;\r\n                                    &lt;img src=&quot;//via.placeholder.com/500x400/fc0?text=6&quot; class=&quot;img-fluid&quot;&gt;\r\n                                &lt;/div&gt;\r\n                                &lt;div class=&quot;card-img-overlay&quot;&gt;Slide 6&lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;a class=&quot;carousel-control-prev bg-transparent w-aut&quot; href=&quot;#recipeCarousel&quot; role=&quot;button&quot; data-bs-slide=&quot;prev&quot;&gt;\r\n                    &lt;span class=&quot;carousel-control-prev-icon&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;\r\n                &lt;/a&gt;\r\n                &lt;a class=&quot;carousel-control-next bg-transparent w-aut&quot; href=&quot;#recipeCarousel&quot; role=&quot;button&quot; data-bs-slide=&quot;next&quot;&gt;\r\n                    &lt;span class=&quot;carousel-control-next-icon&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;\r\n                &lt;/a&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;h5 class=&quot;mt-2 fw-light&quot;&gt;advances one slide at a time&lt;/h5&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.1/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Good Luck :)**","title":"Why cloning carousel-item not working perfectly?","body":"<p>I think this <code>code</code> works:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let items = document.querySelectorAll('.carousel .carousel-item')\n\nitems.forEach((el) =&gt; {\n    const minPerSlide = 4\n    let next = el.nextElementSibling\n    for (var i=1; i&lt;minPerSlide; i++) {\n        if (!next) {\n            // wrap carousel by using first child\n            next = items[0]\n        }\n        let cloneChild = next.cloneNode(true)\n        el.appendChild(cloneChild.children[0])\n        next = next.nextElementSibling\n    }\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>    @media (max-width: 767px) {\n    .carousel-inner .carousel-item &gt; div {\n        display: none;\n    }\n    .carousel-inner .carousel-item &gt; div:first-child {\n        display: block;\n    }\n}\n\n.carousel-inner .carousel-item.active,\n.carousel-inner .carousel-item-next,\n.carousel-inner .carousel-item-prev {\n    display: flex;\n}\n\n/* medium and up screens */\n@media (min-width: 768px) {\n    \n    .carousel-inner .carousel-item-end.active,\n    .carousel-inner .carousel-item-next {\n      transform: translateX(25%);\n    }\n    \n    .carousel-inner .carousel-item-start.active, \n    .carousel-inner .carousel-item-prev {\n      transform: translateX(-25%);\n    }\n}\n\n.carousel-inner .carousel-item-end,\n.carousel-inner .carousel-item-start { \n  transform: translateX(0);\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Page Title&lt;/title&gt;\n&lt;link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css\" rel=\"stylesheet\"&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div class=\"container text-center my-3\"&gt;\n    &lt;h2 class=\"font-weight-light\"&gt;Bootstrap Multi Slide Carousel&lt;/h2&gt;\n    &lt;div class=\"row mx-auto my-auto justify-content-center\"&gt;\n        &lt;div id=\"recipeCarousel\" class=\"carousel slide\" data-bs-ride=\"carousel\"&gt;\n            &lt;div class=\"carousel-inner\" role=\"listbox\"&gt;\n                &lt;div class=\"carousel-item active\"&gt;\n                    &lt;div class=\"col-md-3\"&gt;\n                        &lt;div class=\"card\"&gt;\n                            &lt;div class=\"card-img\"&gt;\n                                &lt;img src=\"//via.placeholder.com/500x400/31f?text=1\" class=\"img-fluid\"&gt;\n                            &lt;/div&gt;\n                            &lt;div class=\"card-img-overlay\"&gt;Slide 1&lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"carousel-item\"&gt;\n                    &lt;div class=\"col-md-3\"&gt;\n                        &lt;div class=\"card\"&gt;\n                            &lt;div class=\"card-img\"&gt;\n                                &lt;img src=\"//via.placeholder.com/500x400/e66?text=2\" class=\"img-fluid\"&gt;\n                            &lt;/div&gt;\n                            &lt;div class=\"card-img-overlay\"&gt;Slide 2&lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"carousel-item\"&gt;\n                    &lt;div class=\"col-md-3\"&gt;\n                        &lt;div class=\"card\"&gt;\n                            &lt;div class=\"card-img\"&gt;\n                                &lt;img src=\"//via.placeholder.com/500x400/7d2?text=3\" class=\"img-fluid\"&gt;\n                            &lt;/div&gt;\n                            &lt;div class=\"card-img-overlay\"&gt;Slide 3&lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"carousel-item\"&gt;\n                    &lt;div class=\"col-md-3\"&gt;\n                        &lt;div class=\"card\"&gt;\n                            &lt;div class=\"card-img\"&gt;\n                                &lt;img src=\"//via.placeholder.com/500x400?text=4\" class=\"img-fluid\"&gt;\n                            &lt;/div&gt;\n                            &lt;div class=\"card-img-overlay\"&gt;Slide 4&lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"carousel-item\"&gt;\n                    &lt;div class=\"col-md-3\"&gt;\n                        &lt;div class=\"card\"&gt;\n                            &lt;div class=\"card-img\"&gt;\n                                &lt;img src=\"//via.placeholder.com/500x400/aba?text=5\" class=\"img-fluid\"&gt;\n                            &lt;/div&gt;\n                            &lt;div class=\"card-img-overlay\"&gt;Slide 5&lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"carousel-item\"&gt;\n                    &lt;div class=\"col-md-3\"&gt;\n                        &lt;div class=\"card\"&gt;\n                            &lt;div class=\"card-img\"&gt;\n                                &lt;img src=\"//via.placeholder.com/500x400/fc0?text=6\" class=\"img-fluid\"&gt;\n                            &lt;/div&gt;\n                            &lt;div class=\"card-img-overlay\"&gt;Slide 6&lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;a class=\"carousel-control-prev bg-transparent w-aut\" href=\"#recipeCarousel\" role=\"button\" data-bs-slide=\"prev\"&gt;\n                &lt;span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"&gt;&lt;/span&gt;\n            &lt;/a&gt;\n            &lt;a class=\"carousel-control-next bg-transparent w-aut\" href=\"#recipeCarousel\" role=\"button\" data-bs-slide=\"next\"&gt;\n                &lt;span class=\"carousel-control-next-icon\" aria-hidden=\"true\"&gt;&lt;/span&gt;\n            &lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;h5 class=\"mt-2 fw-light\"&gt;advances one slide at a time&lt;/h5&gt;\n&lt;/div&gt;\n\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.1/js/bootstrap.min.js\"&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Good Luck :)</strong></p>\n"}],"owner":{"account_id":23651407,"reputation":1175,"user_id":17680233,"display_name":"Acesyyy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649663626,"creation_date":1649643281,"question_id":71822058,"body_markdown":"I was trying to make a carousel that has multiple image in 1 slide. The thing is, when the image reached at 4, all 3 other image going to hide forcely. Special credit to this owner [Bootstrap Codply][1], I found this open source here [Stackoverflow][2].\r\n\r\nThis is the code I mixed up so far:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    let items = document.querySelectorAll(&#39;.multiple-carousel .items&#39;)\r\n\r\n    items.forEach((el) =&gt; {\r\n        const minPerSlide = 4\r\n        let next = el.nextElementSibling\r\n        for (var i = 1; i &lt; minPerSlide; i++) {\r\n            if (!next) {\r\n                // wrap carousel by using first child\r\n                next = items[0]\r\n            }\r\n            let cloneChild = next.cloneNode(true)\r\n            el.appendChild(cloneChild.children[0])\r\n            next = next.nextElementSibling\r\n        }\r\n    })\r\n\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    @media (max-width: 767px) {\r\n        .multiple-carousel .carousel-inner .carousel-item &gt; div {\r\n            display: none;\r\n        }\r\n        .multiple-carousel .carousel-inner .carousel-item &gt; div:first-child {\r\n            display: block;\r\n        }\r\n    }\r\n\r\n    .multiple-carousel .carousel-inner .carousel-item.active,\r\n    .multiple-carousel .carousel-inner .carousel-item-next,\r\n    .multiple-carousel .carousel-inner .carousel-item-prev {\r\n        display: flex;\r\n    }\r\n\r\n    /* medium and up screens */\r\n    @media (min-width: 768px) {\r\n\r\n        .multiple-carousel .carousel-inner .carousel-item-end.active,\r\n        .multiple-carousel .carousel-inner .carousel-item-next {\r\n            transform: translateX(25%);\r\n        }\r\n\r\n        .multiple-carousel .carousel-inner .carousel-item-start.active,\r\n        .multiple-carousel .carousel-inner .carousel-item-prev {\r\n            transform: translateX(-25%);\r\n        }\r\n    }\r\n\r\n    .multiple-carousel .carousel-inner .carousel-item-end,\r\n    .multiple-carousel .carousel-inner .carousel-item-start {\r\n        transform: translateX(0);\r\n    }\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;div class=&quot;container text-center my-3 multiple-carousel&quot;&gt;\r\n                                &lt;div class=&quot;row mx-auto my-auto justify-content-center&quot;&gt;\r\n                                    &lt;div id=&quot;recipeCarousel&quot; class=&quot;carousel slide&quot; data-bs-ride=&quot;carousel&quot;&gt;\r\n                                        &lt;div class=&quot;carousel-inner&quot; role=&quot;listbox&quot;&gt;\r\n                                            &lt;div class=&quot;carousel-item active items&quot;&gt;\r\n                                                &lt;div class=&quot;col-md-3&quot;&gt;\r\n                                                    &lt;div class=&quot;card&quot;&gt;\r\n                                                        &lt;div class=&quot;card-img&quot;&gt;\r\n                                                            &lt;img src=&quot;//via.placeholder.com/500x400/e44?text=1&quot; class=&quot;img-fluid&quot;&gt;\r\n                                                        &lt;/div&gt;\r\n                                                        &lt;div class=&quot;card-img-overlay&quot;&gt;picture 1&lt;/div&gt;\r\n                                                    &lt;/div&gt;\r\n                                                &lt;/div&gt;\r\n                                            &lt;/div&gt;\r\n                                            &lt;div class=&quot;carousel-item items&quot;&gt;\r\n                                                &lt;div class=&quot;col-md-3&quot;&gt;\r\n                                                    &lt;div class=&quot;card&quot;&gt;\r\n                                                        &lt;div class=&quot;card-img&quot;&gt;\r\n                                                            &lt;img src=&quot;//via.placeholder.com/500x400/e55?text=2&quot; class=&quot;img-fluid&quot;&gt;\r\n                                                        &lt;/div&gt;\r\n                                                        &lt;div class=&quot;card-img-overlay&quot;&gt;picture 2&lt;/div&gt;\r\n                                                    &lt;/div&gt;\r\n                                                &lt;/div&gt;\r\n                                            &lt;/div&gt;\r\n                                            &lt;div class=&quot;carousel-item items&quot;&gt;\r\n                                                &lt;div class=&quot;col-md-3&quot;&gt;\r\n                                                    &lt;div class=&quot;card&quot;&gt;\r\n                                                        &lt;div class=&quot;card-img&quot;&gt;\r\n                                                            &lt;img src=&quot;//via.placeholder.com/500x400/e77?text=3&quot; class=&quot;img-fluid&quot;&gt;\r\n                                                        &lt;/div&gt;\r\n                                                        &lt;div class=&quot;card-img-overlay&quot;&gt;picture 3&lt;/div&gt;\r\n                                                    &lt;/div&gt;\r\n                                                &lt;/div&gt;\r\n                                            &lt;/div&gt;\r\n                                            &lt;div class=&quot;carousel-item&quot;&gt;\r\n                                                &lt;div class=&quot;col-md-3&quot;&gt;\r\n                                                    &lt;div class=&quot;card&quot;&gt;\r\n                                                        &lt;div class=&quot;card-img&quot;&gt;\r\n                                                            &lt;img src=&quot;//via.placeholder.com/500x400/e66?text=4&quot; class=&quot;img-fluid&quot;&gt;\r\n                                                        &lt;/div&gt;\r\n                                                        &lt;div class=&quot;card-img-overlay&quot;&gt;picture 4&lt;/div&gt;\r\n                                                    &lt;/div&gt;\r\n                                                &lt;/div&gt;\r\n                                            &lt;/div&gt;\r\n                                        &lt;/div&gt;\r\n                                        &lt;a class=&quot;carousel-control-prev bg-transparent w-aut&quot; href=&quot;#recipeCarousel&quot; role=&quot;button&quot; data-bs-slide=&quot;prev&quot;&gt;\r\n                                            &lt;span class=&quot;carousel-control-prev-icon&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;\r\n                                        &lt;/a&gt;\r\n                                        &lt;a class=&quot;carousel-control-next bg-transparent w-aut&quot; href=&quot;#recipeCarousel&quot; role=&quot;button&quot; data-bs-slide=&quot;next&quot;&gt;\r\n                                            &lt;span class=&quot;carousel-control-next-icon&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;\r\n                                        &lt;/a&gt;\r\n                                    &lt;/div&gt;\r\n                                &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nWhen I tried to edit the `transform` it makes more mess, same with `const minPerslide` where should I edit it?\r\n\r\n\r\n  [1]: https://www.codeply.com/p/0CWffz76Q9\r\n  [2]: https://stackoverflow.com/questions/20007610/bootstrap-carousel-multiple-frames-at-once","title":"Why cloning carousel-item not working perfectly?","body":"<p>I was trying to make a carousel that has multiple image in 1 slide. The thing is, when the image reached at 4, all 3 other image going to hide forcely. Special credit to this owner <a href=\"https://www.codeply.com/p/0CWffz76Q9\" rel=\"nofollow noreferrer\">Bootstrap Codply</a>, I found this open source here <a href=\"https://stackoverflow.com/questions/20007610/bootstrap-carousel-multiple-frames-at-once\">Stackoverflow</a>.</p>\n<p>This is the code I mixed up so far:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let items = document.querySelectorAll('.multiple-carousel .items')\n\nitems.forEach((el) =&gt; {\n    const minPerSlide = 4\n    let next = el.nextElementSibling\n    for (var i = 1; i &lt; minPerSlide; i++) {\n        if (!next) {\n            // wrap carousel by using first child\n            next = items[0]\n        }\n        let cloneChild = next.cloneNode(true)\n        el.appendChild(cloneChild.children[0])\n        next = next.nextElementSibling\n    }\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>@media (max-width: 767px) {\n    .multiple-carousel .carousel-inner .carousel-item &gt; div {\n        display: none;\n    }\n    .multiple-carousel .carousel-inner .carousel-item &gt; div:first-child {\n        display: block;\n    }\n}\n\n.multiple-carousel .carousel-inner .carousel-item.active,\n.multiple-carousel .carousel-inner .carousel-item-next,\n.multiple-carousel .carousel-inner .carousel-item-prev {\n    display: flex;\n}\n\n/* medium and up screens */\n@media (min-width: 768px) {\n\n    .multiple-carousel .carousel-inner .carousel-item-end.active,\n    .multiple-carousel .carousel-inner .carousel-item-next {\n        transform: translateX(25%);\n    }\n\n    .multiple-carousel .carousel-inner .carousel-item-start.active,\n    .multiple-carousel .carousel-inner .carousel-item-prev {\n        transform: translateX(-25%);\n    }\n}\n\n.multiple-carousel .carousel-inner .carousel-item-end,\n.multiple-carousel .carousel-inner .carousel-item-start {\n    transform: translateX(0);\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;div class=\"container text-center my-3 multiple-carousel\"&gt;\n                            &lt;div class=\"row mx-auto my-auto justify-content-center\"&gt;\n                                &lt;div id=\"recipeCarousel\" class=\"carousel slide\" data-bs-ride=\"carousel\"&gt;\n                                    &lt;div class=\"carousel-inner\" role=\"listbox\"&gt;\n                                        &lt;div class=\"carousel-item active items\"&gt;\n                                            &lt;div class=\"col-md-3\"&gt;\n                                                &lt;div class=\"card\"&gt;\n                                                    &lt;div class=\"card-img\"&gt;\n                                                        &lt;img src=\"//via.placeholder.com/500x400/e44?text=1\" class=\"img-fluid\"&gt;\n                                                    &lt;/div&gt;\n                                                    &lt;div class=\"card-img-overlay\"&gt;picture 1&lt;/div&gt;\n                                                &lt;/div&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                        &lt;div class=\"carousel-item items\"&gt;\n                                            &lt;div class=\"col-md-3\"&gt;\n                                                &lt;div class=\"card\"&gt;\n                                                    &lt;div class=\"card-img\"&gt;\n                                                        &lt;img src=\"//via.placeholder.com/500x400/e55?text=2\" class=\"img-fluid\"&gt;\n                                                    &lt;/div&gt;\n                                                    &lt;div class=\"card-img-overlay\"&gt;picture 2&lt;/div&gt;\n                                                &lt;/div&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                        &lt;div class=\"carousel-item items\"&gt;\n                                            &lt;div class=\"col-md-3\"&gt;\n                                                &lt;div class=\"card\"&gt;\n                                                    &lt;div class=\"card-img\"&gt;\n                                                        &lt;img src=\"//via.placeholder.com/500x400/e77?text=3\" class=\"img-fluid\"&gt;\n                                                    &lt;/div&gt;\n                                                    &lt;div class=\"card-img-overlay\"&gt;picture 3&lt;/div&gt;\n                                                &lt;/div&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                        &lt;div class=\"carousel-item\"&gt;\n                                            &lt;div class=\"col-md-3\"&gt;\n                                                &lt;div class=\"card\"&gt;\n                                                    &lt;div class=\"card-img\"&gt;\n                                                        &lt;img src=\"//via.placeholder.com/500x400/e66?text=4\" class=\"img-fluid\"&gt;\n                                                    &lt;/div&gt;\n                                                    &lt;div class=\"card-img-overlay\"&gt;picture 4&lt;/div&gt;\n                                                &lt;/div&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                    &lt;/div&gt;\n                                    &lt;a class=\"carousel-control-prev bg-transparent w-aut\" href=\"#recipeCarousel\" role=\"button\" data-bs-slide=\"prev\"&gt;\n                                        &lt;span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"&gt;&lt;/span&gt;\n                                    &lt;/a&gt;\n                                    &lt;a class=\"carousel-control-next bg-transparent w-aut\" href=\"#recipeCarousel\" role=\"button\" data-bs-slide=\"next\"&gt;\n                                        &lt;span class=\"carousel-control-next-icon\" aria-hidden=\"true\"&gt;&lt;/span&gt;\n                                    &lt;/a&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>When I tried to edit the <code>transform</code> it makes more mess, same with <code>const minPerslide</code> where should I edit it?</p>\n"},{"tags":["java","ldap"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1649308487,"post_id":71776558,"comment_id":126843799,"body_markdown":"Use your debugger, or simple print `item.getClass()` to see what type they actually are.","body":"Use your debugger, or simple print <code>item.getClass()</code> to see what type they actually are."},{"owner":{"account_id":6849189,"reputation":61,"user_id":5266854,"display_name":"anjanagnet"},"score":0,"creation_date":1649308991,"post_id":71776558,"comment_id":126843902,"body_markdown":"@tgdavies  It&#39;s String type.","body":"@tgdavies  It&#39;s String type."}],"answers":[{"tags":[],"owner":{"account_id":1418416,"reputation":2838,"user_id":1343553,"accept_rate":80,"display_name":"mvreijn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649663281,"creation_date":1649328300,"answer_id":71780709,"question_id":71776558,"body_markdown":"In LDAP, the `directReports` attribute (==field) is of *Distinguished Name (DN)* type. That is a pointer to another object in the database, in this case a user. When you read it in Java, you get a list of strings. \r\n\r\nTypically, the DN is of the format `CN=username,OU=department,O=organization`. \r\nCN may also be UID in some implementations. If the CN is what you want, then simply parsing the DN string value with two `split()` commands will work:\r\n\r\n    // We take off at your line\r\n    String emp = item.toString();\r\n    String[] dnParts = emp.split(&quot;,&quot;);\r\n    String cnValue = dnParts[0].split(&quot;=&quot;)[1];\r\n\r\nIt is wise to do some sanity checking for `null` values in between. \r\n\r\nIf you want to retrieve other details about the user that the DN value is pointing to, you will need to read that object from LDAP in a second operation (LDAP reads are very fast): \r\n\r\n    // We take off at your line\r\n    String emp = item.toString();\r\n    // Create controls for the LDAP operation\r\n    SearchControls ctrl = new SearchControls();\r\n    // Tell LDAP this is a read\r\n    ctrl.setSearchScope(SearchControls.OBJECT_SCOPE);\r\n    // Request all attributes for this object\r\n    ctrl.setReturningAttributes(new String[] {&quot;*&quot;, &quot;+&quot;});\r\n    // I assume you have an LdapContext object called ctx\r\n    NamingEnumeration&lt;SearchResult&gt; results = ctx.search(emp, &quot;objectclass=*&quot;, controls);\r\n    while (results.hasMore())\r\n    {\r\n        // This is your user object with all its attributes\r\n    \tSearchResult result = results.next(); \r\n        // Always close the enumeration to prevent memory leaks\r\n     \tresults.close();\r\n        break;\r\n    }\r\n\r\n","title":"Retrieving data from LDAP","body":"<p>In LDAP, the <code>directReports</code> attribute (==field) is of <em>Distinguished Name (DN)</em> type. That is a pointer to another object in the database, in this case a user. When you read it in Java, you get a list of strings.</p>\n<p>Typically, the DN is of the format <code>CN=username,OU=department,O=organization</code>.\nCN may also be UID in some implementations. If the CN is what you want, then simply parsing the DN string value with two <code>split()</code> commands will work:</p>\n<pre><code>// We take off at your line\nString emp = item.toString();\nString[] dnParts = emp.split(&quot;,&quot;);\nString cnValue = dnParts[0].split(&quot;=&quot;)[1];\n</code></pre>\n<p>It is wise to do some sanity checking for <code>null</code> values in between.</p>\n<p>If you want to retrieve other details about the user that the DN value is pointing to, you will need to read that object from LDAP in a second operation (LDAP reads are very fast):</p>\n<pre><code>// We take off at your line\nString emp = item.toString();\n// Create controls for the LDAP operation\nSearchControls ctrl = new SearchControls();\n// Tell LDAP this is a read\nctrl.setSearchScope(SearchControls.OBJECT_SCOPE);\n// Request all attributes for this object\nctrl.setReturningAttributes(new String[] {&quot;*&quot;, &quot;+&quot;});\n// I assume you have an LdapContext object called ctx\nNamingEnumeration&lt;SearchResult&gt; results = ctx.search(emp, &quot;objectclass=*&quot;, controls);\nwhile (results.hasMore())\n{\n    // This is your user object with all its attributes\n    SearchResult result = results.next(); \n    // Always close the enumeration to prevent memory leaks\n    results.close();\n    break;\n}\n</code></pre>\n"}],"owner":{"account_id":6849189,"reputation":61,"user_id":5266854,"display_name":"anjanagnet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71780709,"answer_count":1,"score":0,"last_activity_date":1649663281,"creation_date":1649307644,"question_id":71776558,"body_markdown":"I want to fetch data from LDAP server. I can retrieve all users from the list. But now, what I want to do is get the person list under &#39;directReports&#39; attribute. It returns users as java Objects. I cannot convert them to any type other than toString(). What I have done is convert objects to String and use string operations to get users&#39; names. But I think this is not a proper way to do this. Please give me a suggestion. Thanks!\r\n\r\n``` private static final class LdapSubordinateMapper implements AttributesMapper {\r\n\r\n        @Override\r\n        public Object mapFromAttributes(Attributes attributes) throws NamingException {\r\n            List&lt;LdapUserDetail&gt; ldapUserDetails = new ArrayList&lt;&gt;();\r\n            Attribute directReports = attributes.get(&quot;directReports&quot;);\r\n\r\n            NamingEnumeration ne = directReports.getAll();\r\n            while(ne.hasMore()){\r\n                try {\r\n                    Object item = ne.next();\r\n                    String emp = item.toString();\r\n                    emp = Arrays.stream(emp.split(&quot;,&quot;)).filter(name -&gt; name.startsWith(&quot;CN&quot;)).collect(Collectors.toList()).get(0).split(&quot;CN&quot;)[1];\r\n                    LdapUserDetail ldapUserDetail = new LdapUserDetail();\r\n                    ldapUserDetail.setName(emp);;\r\n                    ldapUserDetails.add(ldapUserDetail);\r\n                } catch (Exception e){\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            }\r\n            logger.info(&quot;checklist &quot;+ldapUserDetails.size());\r\n            return ldapUserDetails;\r\n        }\r\n    } ```","title":"Retrieving data from LDAP","body":"<p>I want to fetch data from LDAP server. I can retrieve all users from the list. But now, what I want to do is get the person list under 'directReports' attribute. It returns users as java Objects. I cannot convert them to any type other than toString(). What I have done is convert objects to String and use string operations to get users' names. But I think this is not a proper way to do this. Please give me a suggestion. Thanks!</p>\n<pre><code>\n        @Override\n        public Object mapFromAttributes(Attributes attributes) throws NamingException {\n            List&lt;LdapUserDetail&gt; ldapUserDetails = new ArrayList&lt;&gt;();\n            Attribute directReports = attributes.get(&quot;directReports&quot;);\n\n            NamingEnumeration ne = directReports.getAll();\n            while(ne.hasMore()){\n                try {\n                    Object item = ne.next();\n                    String emp = item.toString();\n                    emp = Arrays.stream(emp.split(&quot;,&quot;)).filter(name -&gt; name.startsWith(&quot;CN&quot;)).collect(Collectors.toList()).get(0).split(&quot;CN&quot;)[1];\n                    LdapUserDetail ldapUserDetail = new LdapUserDetail();\n                    ldapUserDetail.setName(emp);;\n                    ldapUserDetails.add(ldapUserDetail);\n                } catch (Exception e){\n                    e.printStackTrace();\n                }\n\n            }\n            logger.info(&quot;checklist &quot;+ldapUserDetails.size());\n            return ldapUserDetails;\n        }\n    } ```\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1974638,"reputation":3842,"user_id":1876775,"accept_rate":68,"display_name":"Zippy"},"score":0,"creation_date":1616273722,"post_id":65914030,"comment_id":117952236,"body_markdown":"Same issue, did you find a solution?","body":"Same issue, did you find a solution?"},{"owner":{"account_id":20558305,"reputation":11,"user_id":15089343,"display_name":"Shreyas S"},"score":1,"creation_date":1616391754,"post_id":65914030,"comment_id":117977511,"body_markdown":"@Zippy: It seems like the latest version(s) of Android supports upto 3 custom choosers only.","body":"@Zippy: It seems like the latest version(s) of Android supports upto 3 custom choosers only."}],"answers":[{"tags":[],"owner":{"account_id":9575789,"reputation":11,"user_id":10158547,"display_name":" "},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649663056,"creation_date":1649663056,"answer_id":71824253,"question_id":65914030,"body_markdown":"Use\r\n\r\n    Intent.EXTRA_ALTERNATE_INTENTS\r\ninstead of\r\n\r\n    Intent.EXTRA_INITIAL_INTENTS","title":"Android Custom Chooser Intent shows three options only","body":"<p>Use</p>\n<pre><code>Intent.EXTRA_ALTERNATE_INTENTS\n</code></pre>\n<p>instead of</p>\n<pre><code>Intent.EXTRA_INITIAL_INTENTS\n</code></pre>\n"}],"owner":{"account_id":20558305,"reputation":11,"user_id":15089343,"display_name":"Shreyas S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649663056,"creation_date":1611729466,"question_id":65914030,"body_markdown":"I am trying to display multiple options including that of camera, etc to end-user to pick (or click) a photo to set to a profile. Problem is, the chooser intent has multiple intents including google photos, one drive, files, etc but it&#39;s showing first three intents only.\r\n\r\nBelow is my code:\r\n\r\n```\r\nList &lt; Intent &gt; allIntents = new ArrayList &lt; Intent &gt; ();\r\n    PackageManager packageManager = context.getPackageManager();\r\n\r\n    // Fetch all camera related intents\r\n    Intent openCamera = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n    List &lt; ResolveInfo &gt; camList = packageManager.queryIntentActivities(openCamera, 0);\r\n    for (ResolveInfo resolveInfo: camList) {\r\n        Intent intent = new Intent(openCamera);\r\n        intent.setComponent(new ComponentName(resolveInfo.activityInfo.packageName, resolveInfo.activityInfo.name));\r\n        intent.setPackage(resolveInfo.activityInfo.packageName);\r\n        if (imageURI != null)\r\n            intent.putExtra(MediaStore.EXTRA_OUTPUT, imageURI);\r\n\r\n        allIntents.add(intent);\r\n    }\r\n\r\n    // Fetch all gallery related intents\r\n    Intent openGallery = new Intent(Intent.ACTION_GET_CONTENT);\r\n    openGallery.setType(&quot;image/*&quot;);\r\n    List &lt; ResolveInfo &gt; galList = packageManager.queryIntentActivities(openGallery, 0);\r\n    for (ResolveInfo resolveInfo: galList) {\r\n        Intent intent = new Intent(openGallery);\r\n        intent.setComponent(new ComponentName(resolveInfo.activityInfo.packageName, resolveInfo.activityInfo.name));\r\n        intent.setPackage(resolveInfo.activityInfo.packageName);\r\n        allIntents.add(intent);\r\n    }\r\n\r\n    Intent deletePhoto = new Intent(&quot;com.my_package.intent.action.DELETE_PHOTO&quot;);\r\n    List &lt; ResolveInfo &gt; delList = packageManager.queryIntentActivities(deletePhoto, 0);\r\n    for (ResolveInfo resolveInfo: delList) {\r\n        Intent intent = new Intent(deletePhoto);\r\n        intent.setComponent(new ComponentName(resolveInfo.activityInfo.packageName, resolveInfo.activityInfo.name));\r\n        intent.setPackage(resolveInfo.activityInfo.packageName);\r\n        allIntents.add(intent);\r\n    }\r\n\r\n    // Main intent\r\n    Intent mainIntent = allIntents.get(allIntents.size() - 1);\r\n\r\n    // Create a chooser\r\n    Intent chooserIntent = Intent.createChooser(mainIntent, &quot;Select source of the photo&quot;);\r\n    // Add other intents now\r\n    chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, allIntents.toArray(new Parcelable[allIntents.size()]));\r\n\r\n    return chooserIntent;\r\n```\r\n\r\nI have added intent-filter to my AndroidManifest.xml as well:\r\n```\r\n&lt;queries&gt;\r\n    &lt;intent&gt;\r\n        &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\r\n    &lt;/intent&gt;\r\n    &lt;intent&gt;\r\n        &lt;action android:name=&quot;com.my_package.intent.action.DELETE_PHOTO&quot; /&gt;\r\n    &lt;/intent&gt;\r\n    &lt;intent&gt;\r\n        &lt;action android:name=&quot;android.intent.action.GET_CONTENT&quot; /&gt;\r\n        &lt;data android:mimeType=&quot;image/*&quot; /&gt;\r\n    &lt;/intent&gt;\r\n&lt;/queries&gt;\r\n```\r\n\r\nThe code works fine as expected in Android API 28 (ie. displays all the image related intents), but not in API 29+.\r\n\r\nThe chooserIntent does have extra values of multiple intents which are supposed to be displayed, it&#39;s just not displaying them.","title":"Android Custom Chooser Intent shows three options only","body":"<p>I am trying to display multiple options including that of camera, etc to end-user to pick (or click) a photo to set to a profile. Problem is, the chooser intent has multiple intents including google photos, one drive, files, etc but it's showing first three intents only.</p>\n<p>Below is my code:</p>\n<pre><code>List &lt; Intent &gt; allIntents = new ArrayList &lt; Intent &gt; ();\n    PackageManager packageManager = context.getPackageManager();\n\n    // Fetch all camera related intents\n    Intent openCamera = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n    List &lt; ResolveInfo &gt; camList = packageManager.queryIntentActivities(openCamera, 0);\n    for (ResolveInfo resolveInfo: camList) {\n        Intent intent = new Intent(openCamera);\n        intent.setComponent(new ComponentName(resolveInfo.activityInfo.packageName, resolveInfo.activityInfo.name));\n        intent.setPackage(resolveInfo.activityInfo.packageName);\n        if (imageURI != null)\n            intent.putExtra(MediaStore.EXTRA_OUTPUT, imageURI);\n\n        allIntents.add(intent);\n    }\n\n    // Fetch all gallery related intents\n    Intent openGallery = new Intent(Intent.ACTION_GET_CONTENT);\n    openGallery.setType(&quot;image/*&quot;);\n    List &lt; ResolveInfo &gt; galList = packageManager.queryIntentActivities(openGallery, 0);\n    for (ResolveInfo resolveInfo: galList) {\n        Intent intent = new Intent(openGallery);\n        intent.setComponent(new ComponentName(resolveInfo.activityInfo.packageName, resolveInfo.activityInfo.name));\n        intent.setPackage(resolveInfo.activityInfo.packageName);\n        allIntents.add(intent);\n    }\n\n    Intent deletePhoto = new Intent(&quot;com.my_package.intent.action.DELETE_PHOTO&quot;);\n    List &lt; ResolveInfo &gt; delList = packageManager.queryIntentActivities(deletePhoto, 0);\n    for (ResolveInfo resolveInfo: delList) {\n        Intent intent = new Intent(deletePhoto);\n        intent.setComponent(new ComponentName(resolveInfo.activityInfo.packageName, resolveInfo.activityInfo.name));\n        intent.setPackage(resolveInfo.activityInfo.packageName);\n        allIntents.add(intent);\n    }\n\n    // Main intent\n    Intent mainIntent = allIntents.get(allIntents.size() - 1);\n\n    // Create a chooser\n    Intent chooserIntent = Intent.createChooser(mainIntent, &quot;Select source of the photo&quot;);\n    // Add other intents now\n    chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, allIntents.toArray(new Parcelable[allIntents.size()]));\n\n    return chooserIntent;\n</code></pre>\n<p>I have added intent-filter to my AndroidManifest.xml as well:</p>\n<pre><code>&lt;queries&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\n    &lt;/intent&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;com.my_package.intent.action.DELETE_PHOTO&quot; /&gt;\n    &lt;/intent&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.intent.action.GET_CONTENT&quot; /&gt;\n        &lt;data android:mimeType=&quot;image/*&quot; /&gt;\n    &lt;/intent&gt;\n&lt;/queries&gt;\n</code></pre>\n<p>The code works fine as expected in Android API 28 (ie. displays all the image related intents), but not in API 29+.</p>\n<p>The chooserIntent does have extra values of multiple intents which are supposed to be displayed, it's just not displaying them.</p>\n"},{"tags":["java","jdbc","oracle11g","driver","sqlexception"],"comments":[{"owner":{"account_id":4554519,"reputation":1642,"user_id":3698599,"display_name":"ConMan"},"score":0,"creation_date":1436159486,"post_id":31040417,"comment_id":50474338,"body_markdown":"I think the question you should be asking is, what changed during the two instances where it failed.  Generally I would assume that if it worked once, it will work the next ten times.","body":"I think the question you should be asking is, what changed during the two instances where it failed.  Generally I would assume that if it worked once, it will work the next ten times."},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1436160343,"post_id":31040417,"comment_id":50474591,"body_markdown":"That is our assumption. But, It is not working. Even, I&#39;m not getting any clue to track it. :(","body":"That is our assumption. But, It is not working. Even, I&#39;m not getting any clue to track it. :("},{"owner":{"account_id":1877590,"reputation":1555,"user_id":1698458,"accept_rate":75,"display_name":"Pranav Maniar"},"score":0,"creation_date":1436274010,"post_id":31040417,"comment_id":50533033,"body_markdown":"Question :- The method which is shown in above code.. dbconf.java .. is it static ??... Suggestion :- Class.forName(&quot;oracle.jdbc.OracleDriver&quot;).newInstance() , newInstance() is not required here.. why you are using it??","body":"Question :- The method which is shown in above code.. dbconf.java .. is it static ??... Suggestion :- Class.forName(&quot;oracle.jdbc.OracleDriver&quot;).newInstance() , newInstance() is not required here.. why you are using it??"},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1436274180,"post_id":31040417,"comment_id":50533160,"body_markdown":"@PranavManiar does it make any difference ?","body":"@PranavManiar does it make any difference ?"},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1436274439,"post_id":31040417,"comment_id":50533336,"body_markdown":"@PranavManiar my code may not be efficient but not wrong. Since, It&#39;s working some days, which you can see in log, which I mentioned at the end of my question.","body":"@PranavManiar my code may not be efficient but not wrong. Since, It&#39;s working some days, which you can see in log, which I mentioned at the end of my question."},{"owner":{"account_id":1877590,"reputation":1555,"user_id":1698458,"accept_rate":75,"display_name":"Pranav Maniar"},"score":0,"creation_date":1436274530,"post_id":31040417,"comment_id":50533395,"body_markdown":"static method could make a difference.. if it is not properly synchronized.. and throw errors which is very hard to find in code.","body":"static method could make a difference.. if it is not properly synchronized.. and throw errors which is very hard to find in code."},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1436274803,"post_id":31040417,"comment_id":50533624,"body_markdown":"@PranavManiar check my update. I responded on your edited comment. I said does it matter when you said you shouldn&#39;t have used `newInstance()` method","body":"@PranavManiar check my update. I responded on your edited comment. I said does it matter when you said you shouldn&#39;t have used <code>newInstance()</code> method"},{"owner":{"account_id":1877590,"reputation":1555,"user_id":1698458,"accept_rate":75,"display_name":"Pranav Maniar"},"score":0,"creation_date":1436276322,"post_id":31040417,"comment_id":50534850,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/82610/discussion-between-pranav-maniar-and-jweaver).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/82610/discussion-between-pranav-maniar-and-jweaver\">continue this discussion in chat</a>."},{"owner":{"account_id":4659595,"reputation":913,"user_id":3774179,"accept_rate":69,"display_name":"alizelzele"},"score":0,"creation_date":1436524762,"post_id":31040417,"comment_id":50661479,"body_markdown":"Did anybody notices that the IP is almost shown? xxx in the code is different from xxx in log. So IP is like `160.110.67.xxx` :-)","body":"Did anybody notices that the IP is almost shown? xxx in the code is different from xxx in log. So IP is like <code>160.110.67.xxx</code> :-)"},{"owner":{"account_id":90734,"reputation":2071,"user_id":249623,"display_name":"Ryan"},"score":0,"creation_date":1436552499,"post_id":31040417,"comment_id":50678841,"body_markdown":"What jdk/jre are you using?  Can you provider more information about &quot;cronj schedular&quot;.   Are all the log lines from the same process or does cronj launch a separate process for each task?  Is anything else running concurrently?","body":"What jdk/jre are you using?  Can you provider more information about &quot;cronj schedular&quot;.   Are all the log lines from the same process or does cronj launch a separate process for each task?  Is anything else running concurrently?"},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1436584711,"post_id":31040417,"comment_id":50688657,"body_markdown":"There is only single task,which runs every day for one time (6 O&#39;clock every morning) and I said one task means it calls one function. There are no other task running on that **SERVER**. This is the only jobs, which is currently running and failing for some day (Not all day).","body":"There is only single task,which runs every day for one time (6 O&#39;clock every morning) and I said one task means it calls one function. There are no other task running on that <b>SERVER</b>. This is the only jobs, which is currently running and failing for some day (Not all day)."},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1436585466,"post_id":31040417,"comment_id":50688781,"body_markdown":"The jdk and jre version are same 1.8","body":"The jdk and jre version are same 1.8"},{"owner":{"account_id":146748,"reputation":2260,"user_id":357403,"display_name":"Koshinae"},"score":0,"creation_date":1436700722,"post_id":31040417,"comment_id":50714150,"body_markdown":"I suggest don&#39;t just print the exception&#39;s message, but log the stack trace as well. Also, I don&#39;t think you need that `Class.forName(&quot;oracle.jdbc.OracleDriver&quot;).newInstance();` if you use java 1.7 or later.","body":"I suggest don&#39;t just print the exception&#39;s message, but log the stack trace as well. Also, I don&#39;t think you need that <code>Class.forName(&quot;oracle.jdbc.OracleDriver&quot;).newInstance();</code> if you use java 1.7 or later."},{"owner":{"account_id":6301885,"reputation":385,"user_id":4896247,"accept_rate":25,"display_name":"Bhupi"},"score":0,"creation_date":1436737640,"post_id":31040417,"comment_id":50724877,"body_markdown":"it looks like there is problem between classloader provided by JDK , which JDK version you are using also can you please check which is most compitable JDK version , also if possible check if there is any hierarchical dependency leading to another JDBC driver or another version of oracle driver","body":"it looks like there is problem between classloader provided by JDK , which JDK version you are using also can you please check which is most compitable JDK version , also if possible check if there is any hierarchical dependency leading to another JDBC driver or another version of oracle driver"},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1515216328,"post_id":31040417,"comment_id":83225990,"body_markdown":"We could also refer https://stackoverflow.com/questions/30861061/ora-12505-tns-listener-does-not-currently-know-of-sid-given-in-connect-descript/30862252#30862252","body":"We could also refer <a href=\"https://stackoverflow.com/questions/30861061/ora-12505-tns-listener-does-not-currently-know-of-sid-given-in-connect-descript/30862252#30862252\" title=\"ora 12505 tns listener does not currently know of sid given in connect descript\">stackoverflow.com/questions/30861061/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1643313,"reputation":1410,"user_id":1515386,"display_name":"Stan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1436277083,"creation_date":1436277083,"answer_id":31270491,"question_id":31040417,"body_markdown":"The error means driver you are using doesn&#39;t accept connection URL. It seems like your URL uses MySQL syntax (DB name separated with &#39;/&#39;). Try to use Oracle specific definition: jdbc:oracle:thin:@160.110.xx.xxx:1521:test","title":"No suitable driver found for Oracle Database connection","body":"<p>The error means driver you are using doesn't accept connection URL. It seems like your URL uses MySQL syntax (DB name separated with '/'). Try to use Oracle specific definition: jdbc:oracle:thin:@160.110.xx.xxx:1521:test</p>\n"},{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1436277553,"creation_date":1436277553,"answer_id":31270694,"question_id":31040417,"body_markdown":"The correct format for your JDBC URL is not what you wrote: \r\n\r\n&gt; connstr = &quot;jdbc:oracle:thin:@160.110.xx.xxx:1521/test&quot;;\r\n\r\nbut either\r\n\r\n&gt; connstr = &quot;jdbc:oracle:thin:@//160.110.xx.xxx:1521/test&quot;;\r\n\r\nor\r\n\r\n&gt; connstr = &quot;jdbc:oracle:thin:@160.110.xx.xxx:1521:test&quot;;\r\n\r\ndepending on whether &#39;test&#39; is a service or a SID.&lt;br/&gt;\r\n&lt;br/&gt;\r\nThe log fragment you showed doesn&#39;t show that the getConnection method worked on the 4th! It only showed there was no error thrown by it. This may just have meant that the method was never called (so no connection was attempted).&lt;br/&gt;\r\n","title":"No suitable driver found for Oracle Database connection","body":"<p>The correct format for your JDBC URL is not what you wrote: </p>\n\n<blockquote>\n  <p>connstr = \"jdbc:oracle:thin:@160.110.xx.xxx:1521/test\";</p>\n</blockquote>\n\n<p>but either</p>\n\n<blockquote>\n  <p>connstr = \"jdbc:oracle:thin:@//160.110.xx.xxx:1521/test\";</p>\n</blockquote>\n\n<p>or</p>\n\n<blockquote>\n  <p>connstr = \"jdbc:oracle:thin:@160.110.xx.xxx:1521:test\";</p>\n</blockquote>\n\n<p>depending on whether 'test' is a service or a SID.<br/>\n<br/>\nThe log fragment you showed doesn't show that the getConnection method worked on the 4th! It only showed there was no error thrown by it. This may just have meant that the method was never called (so no connection was attempted).<br/></p>\n"},{"tags":[],"owner":{"account_id":6559317,"reputation":1971,"user_id":5070990,"display_name":"Yann TM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436279013,"creation_date":1436279013,"answer_id":31271312,"question_id":31040417,"body_markdown":"Not sure if it helps, but this is the code I have to do the same thing, \r\n\r\n        try { \r\n            Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;); \r\n        } catch (ClassNotFoundException e) { \r\n            System.out.println(&quot;Could not load the driver&quot;); \r\n        } \r\n\r\n        Connection conn = DriverManager.getConnection                                     (&quot;jdbc:oracle:thin:@ten10:1521:acdb&quot;, user, pass); \r\n\r\nSo, not quite the same Class.forName, but same form for protocol.\r\n\r\nThe class for name is essential, it ensures that the class loader has loaded the Oracle jdbc driver. \r\n\r\nWhat could be happening is some connectivity problem on the machine where the code is running, so that the location that contains the actual ojdbc6.jar (as pointed to on the classpath) is not always accessible (if it&#39;s not on a local disk ?).\r\n\r\n\r\n","title":"No suitable driver found for Oracle Database connection","body":"<p>Not sure if it helps, but this is the code I have to do the same thing, </p>\n\n<pre><code>    try { \n        Class.forName(\"oracle.jdbc.driver.OracleDriver\"); \n    } catch (ClassNotFoundException e) { \n        System.out.println(\"Could not load the driver\"); \n    } \n\n    Connection conn = DriverManager.getConnection                                     (\"jdbc:oracle:thin:@ten10:1521:acdb\", user, pass); \n</code></pre>\n\n<p>So, not quite the same Class.forName, but same form for protocol.</p>\n\n<p>The class for name is essential, it ensures that the class loader has loaded the Oracle jdbc driver. </p>\n\n<p>What could be happening is some connectivity problem on the machine where the code is running, so that the location that contains the actual ojdbc6.jar (as pointed to on the classpath) is not always accessible (if it's not on a local disk ?).</p>\n"},{"tags":[],"owner":{"display_name":"user4628565"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1436463579,"creation_date":1436463579,"answer_id":31324579,"question_id":31040417,"body_markdown":"It seems,The &quot;ojdbc6.jar&quot; is not in the CLASSPATH of your application server.\r\n\r\n","title":"No suitable driver found for Oracle Database connection","body":"<p>It seems,The \"ojdbc6.jar\" is not in the CLASSPATH of your application server.</p>\n"},{"tags":[],"owner":{"account_id":4659595,"reputation":913,"user_id":3774179,"accept_rate":69,"display_name":"alizelzele"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436526216,"creation_date":1436526216,"answer_id":31339178,"question_id":31040417,"body_markdown":"When it says it can not find class it can not find the class.\r\n\r\nFrom my experience, this sort of problems that sometimes work and sometime not are thread related. My assumption is `ClassLoader` is loading your class async, so calling connection just after loading it may be the problem. did u try loading oracle class in a static part? something like:\r\n\r\n    public class dbconf {\r\n\r\n    static {\r\n      Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n    }\r\n\r\n    public Connection getConnection() throws SQLException {\r\n        String connstr = &quot;jdbc:oracle:thin:@160.110.xx.xxx:1521/test&quot;;\r\n        try {\r\n            String uname = &quot;scott&quot;;\r\n            String pass = &quot;tiger&quot;;\r\n            return DriverManager.getConnection(connstr, uname, pass);\r\n        } catch (Exception e) {\r\n            System.out.println(e.toString());\r\n        }\r\n    }\r\n    }\r\n\r\n\r\nAnother issue: Is your Code getting Compiled every day(By Continuous Delivery or ...)?","title":"No suitable driver found for Oracle Database connection","body":"<p>When it says it can not find class it can not find the class.</p>\n\n<p>From my experience, this sort of problems that sometimes work and sometime not are thread related. My assumption is <code>ClassLoader</code> is loading your class async, so calling connection just after loading it may be the problem. did u try loading oracle class in a static part? something like:</p>\n\n<pre><code>public class dbconf {\n\nstatic {\n  Class.forName(\"oracle.jdbc.OracleDriver\");\n}\n\npublic Connection getConnection() throws SQLException {\n    String connstr = \"jdbc:oracle:thin:@160.110.xx.xxx:1521/test\";\n    try {\n        String uname = \"scott\";\n        String pass = \"tiger\";\n        return DriverManager.getConnection(connstr, uname, pass);\n    } catch (Exception e) {\n        System.out.println(e.toString());\n    }\n}\n}\n</code></pre>\n\n<p>Another issue: Is your Code getting Compiled every day(By Continuous Delivery or ...)?</p>\n"},{"tags":[],"owner":{"account_id":5978245,"reputation":19,"user_id":4698312,"display_name":"Dharamendra Prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436534460,"creation_date":1436534460,"answer_id":31341869,"question_id":31040417,"body_markdown":"It seems issue is with your jar try to replace with ojdbc14.jar and add it to Class-path if you are using Eclipse follow below steps:-\r\nEclipse --&gt; (Select the Project)Go to Properties --&gt; Java Build Path--&gt; Choose Add Jar or Add External Jar.","title":"No suitable driver found for Oracle Database connection","body":"<p>It seems issue is with your jar try to replace with ojdbc14.jar and add it to Class-path if you are using Eclipse follow below steps:-\nEclipse --> (Select the Project)Go to Properties --> Java Build Path--> Choose Add Jar or Add External Jar.</p>\n"},{"tags":[],"owner":{"account_id":1853438,"reputation":1447,"user_id":1679484,"accept_rate":20,"display_name":"Amit Parashar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436637145,"creation_date":1436637145,"answer_id":31360089,"question_id":31040417,"body_markdown":" If possible, view the println for DriverManager.getConnection ()\r\n    method. You may be getting a null connection object from DB without any exception, during failures.\r\n\r\n    SQLException reason = null;\r\n    for(DriverInfo aDriver : registeredDrivers) {\r\n        if(isDriverAllowed(aDriver.driver, callerCL)) {\r\n            try {\r\n                println(&quot;    trying &quot; + aDriver.driver.getClass().getName());\r\n                Connection con = aDriver.driver.connect(url, info);\r\n                if (con != null) {\r\n                    println(&quot;getConnection returning &quot; + aDriver.driver.getClass().getName());\r\n                    return (con);\r\n                }\r\n            } catch (SQLException ex) {\r\n                if (reason == null) {\r\n                    reason = ex;\r\n                }\r\n            }\r\n    \r\n        } else {\r\n            println(&quot;    skipping: &quot; + aDriver.getClass().getName());\r\n        }\r\n    \r\n    }\r\n    if (reason != null)    {\r\n        println(&quot;getConnection failed: &quot; + reason);\r\n        throw reason;\r\n    }\r\n    println(&quot;getConnection: no suitable driver found for &quot;+ url);\r\n    throw new SQLException(&quot;No suitable driver found for &quot;+ url, &quot;08001&quot;);","title":"No suitable driver found for Oracle Database connection","body":"<p>If possible, view the println for DriverManager.getConnection ()\n    method. You may be getting a null connection object from DB without any exception, during failures.</p>\n\n<pre><code>SQLException reason = null;\nfor(DriverInfo aDriver : registeredDrivers) {\n    if(isDriverAllowed(aDriver.driver, callerCL)) {\n        try {\n            println(\"    trying \" + aDriver.driver.getClass().getName());\n            Connection con = aDriver.driver.connect(url, info);\n            if (con != null) {\n                println(\"getConnection returning \" + aDriver.driver.getClass().getName());\n                return (con);\n            }\n        } catch (SQLException ex) {\n            if (reason == null) {\n                reason = ex;\n            }\n        }\n\n    } else {\n        println(\"    skipping: \" + aDriver.getClass().getName());\n    }\n\n}\nif (reason != null)    {\n    println(\"getConnection failed: \" + reason);\n    throw reason;\n}\nprintln(\"getConnection: no suitable driver found for \"+ url);\nthrow new SQLException(\"No suitable driver found for \"+ url, \"08001\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5561173,"reputation":383,"user_id":4410345,"accept_rate":83,"display_name":"Grigoris Loukidis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1436699767,"creation_date":1436699767,"answer_id":31367182,"question_id":31040417,"body_markdown":"A possible solution is : Go to Event Viewer -&gt; Windows Archives and delete Application Events and System Events.(DON&#39;T delete Security Events!).After that restart your pc and you will be ok.","title":"No suitable driver found for Oracle Database connection","body":"<p>A possible solution is : Go to Event Viewer -> Windows Archives and delete Application Events and System Events.(DON'T delete Security Events!).After that restart your pc and you will be ok.</p>\n"},{"tags":[],"owner":{"account_id":90734,"reputation":2071,"user_id":249623,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437069531,"creation_date":1437069531,"answer_id":31461339,"question_id":31040417,"body_markdown":"I&#39;m unfamiliar with &quot;schedular&quot; but your latest update suggests that you have threads that weren&#39;t cleanly stopped from a previous undeploy/redeploy.  There is a [JavaSpecialists newsletter about how to shutdown threads cleanly][1].\r\n\r\nI wonder if perhaps your servlet shutdown code unregisters the database driver?  From your stacktrace it looks like you are running in Tomcat.  Even if your code doesn&#39;t directly de-register the driver I believe Tomcat 7 and up will unregister drivers as part of Tomcat&#39;s memory leak detection/mitigation.\r\n\r\nThat might explain why the driver is sometimes present and sometimes not.\r\n\r\n\r\n  [1]: http://www.javaspecialists.eu/archive/Issue056.html","title":"No suitable driver found for Oracle Database connection","body":"<p>I'm unfamiliar with \"schedular\" but your latest update suggests that you have threads that weren't cleanly stopped from a previous undeploy/redeploy.  There is a <a href=\"http://www.javaspecialists.eu/archive/Issue056.html\" rel=\"nofollow\">JavaSpecialists newsletter about how to shutdown threads cleanly</a>.</p>\n\n<p>I wonder if perhaps your servlet shutdown code unregisters the database driver?  From your stacktrace it looks like you are running in Tomcat.  Even if your code doesn't directly de-register the driver I believe Tomcat 7 and up will unregister drivers as part of Tomcat's memory leak detection/mitigation.</p>\n\n<p>That might explain why the driver is sometimes present and sometimes not.</p>\n"},{"tags":[],"owner":{"account_id":4973485,"reputation":107,"user_id":4000535,"accept_rate":33,"display_name":"Ram72119"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440658886,"creation_date":1440658886,"answer_id":32242693,"question_id":31040417,"body_markdown":"Don&#39;t keep the driver name in static  way. Use the JDBC + Java API to get the driver class name like the following :\r\n\r\n    public class dbconf {\r\n    \r\n        private Connection connect;\r\n        private String connstr;\r\n    \r\n        public Connection getConnection() throws SQLException {\r\n            connstr = &quot;jdbc:oracle:thin:@160.110.xx.xxx:1521/test&quot;;\r\n    \r\n            try {\r\n                    String uname = &quot;scott&quot;;\r\n                    String pass = &quot;tiger&quot;;\r\n                    Class.forName(OracleDriver.class.getClass().getName().toString()).newInstance();\r\n                    connect = DriverManager.getConnection(connstr, uname, pass);\r\n    \r\n            } catch (Exception e) {\r\n                System.out.println(e.toString());\r\n            }\r\n    \r\n                return connect;\r\n        }\r\n    }\r\n\r\n\r\nIt is better, if you made any typo or and you can check whether the ojdbc6.jar is set in the build path in a good way..\r\n\r\nHope this information helps...","title":"No suitable driver found for Oracle Database connection","body":"<p>Don't keep the driver name in static  way. Use the JDBC + Java API to get the driver class name like the following :</p>\n\n<pre><code>public class dbconf {\n\n    private Connection connect;\n    private String connstr;\n\n    public Connection getConnection() throws SQLException {\n        connstr = \"jdbc:oracle:thin:@160.110.xx.xxx:1521/test\";\n\n        try {\n                String uname = \"scott\";\n                String pass = \"tiger\";\n                Class.forName(OracleDriver.class.getClass().getName().toString()).newInstance();\n                connect = DriverManager.getConnection(connstr, uname, pass);\n\n        } catch (Exception e) {\n            System.out.println(e.toString());\n        }\n\n            return connect;\n    }\n}\n</code></pre>\n\n<p>It is better, if you made any typo or and you can check whether the ojdbc6.jar is set in the build path in a good way..</p>\n\n<p>Hope this information helps...</p>\n"},{"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1497710021,"creation_date":1497710021,"answer_id":44605810,"question_id":31040417,"body_markdown":"As someone approached me for the solution of this issue. I&#39;m posting it now.\r\n\r\n1. I undeployed the application, which was having this issue and cleaned up all related files from the server.\r\n2. Then, I restarted the tomcat server. So that, it will flush up all temporary files and cache.\r\n3. Then, I deployed the same application and it started working without any issue.\r\n","title":"No suitable driver found for Oracle Database connection","body":"<p>As someone approached me for the solution of this issue. I'm posting it now.</p>\n\n<ol>\n<li>I undeployed the application, which was having this issue and cleaned up all related files from the server.</li>\n<li>Then, I restarted the tomcat server. So that, it will flush up all temporary files and cache.</li>\n<li>Then, I deployed the same application and it started working without any issue.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4100631,"reputation":41,"user_id":3366273,"display_name":"iftekher2283"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649663032,"creation_date":1649663032,"answer_id":71824248,"question_id":31040417,"body_markdown":"Ensure the following things.\r\n\r\n - ojdbc Library is added to your project.\r\n - The library is added to your project class path.\r\n - Make sure your Connection Configuration such as URL, username and password are found properly while creating the DB connection.","title":"No suitable driver found for Oracle Database connection","body":"<p>Ensure the following things.</p>\n<ul>\n<li>ojdbc Library is added to your project.</li>\n<li>The library is added to your project class path.</li>\n<li>Make sure your Connection Configuration such as URL, username and password are found properly while creating the DB connection.</li>\n</ul>\n"}],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18469,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":44605810,"answer_count":12,"score":14,"last_activity_date":1649663032,"creation_date":1435200738,"question_id":31040417,"body_markdown":"I have small Java Application, which execute every day and checks for data in database using Cronj Schedular and everything works fine, but recently I have observed that, it is failing due to  \r\n\r\n    java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@160.110.xx.xxx:1521/test\r\n\r\nAt the same time, when I run my test code to check Database connectivity that works fine without above exception. I&#39;m unable to figure it out. Although, there was just slight code change, but that was nowhere related to Database or Database connection. Anyone, help me on this ?\r\n\r\n\r\n**dbconf.java**\r\n\r\n    public class dbconf {\r\n\r\n        private Connection connect;\r\n        private String connstr;\r\n\r\n        public Connection getConnection() throws SQLException {\r\n            connstr = &quot;jdbc:oracle:thin:@160.110.xx.xxx:1521/test&quot;;\r\n\r\n            try {\r\n                    String uname = &quot;scott&quot;;\r\n                    String pass = &quot;tiger&quot;;\r\n                    Class.forName(&quot;oracle.jdbc.OracleDriver&quot;).newInstance();\r\n                    connect = DriverManager.getConnection(connstr, uname, pass);\r\n\r\n            } catch (Exception e) {\r\n                System.out.println(e.toString());\r\n            }\r\n\r\n                return connect;\r\n        }\r\n    }\r\n\r\nI&#39;m using **ojdbc6.jar** and **Oracle11g**\r\n\r\n**Edited - Application Log file**\r\n\r\n    Wed Jul 01 09:25:17 IST 2015:------- Initializing -------------------\r\n    Wed Jul 01 09:25:17 IST 2015:------- Scheduling Jobs ----------------\r\n    Wed Jul 01 09:25:17 IST 2015:------- Job Started Running ----------------\r\n    Thu Jul 02 06:00:00 IST 2015 : Job Executed..!! Bschedularv2.2\r\n    java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@160.xxx.67.xxx:1521/test\r\n    Sat Jul 04 06:00:00 IST 2015 : Job Executed..!! Bschedularv2.2\r\n    Sun Jul 05 06:00:00 IST 2015 : Job Executed..!! Bschedularv2.2\r\n    java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@160.xxx.67.xxx:1521/test\r\n\r\nSo, you can see, **It failed on 3rd and 6th July. But, in between it ran fine.**\r\n\r\n**==Update 1==**\r\n\r\nIt seems, nobody is reading my question properly, I have clearly mentioned that, It is running fine for someday, but someday it is failing. If it was classpath issue, then It shouldn&#39;t have ran any day. \r\n\r\n**===Update 2===**\r\n\r\nMany of below answers were pointless, but few were having some logical view. I have used `printStracktrace` and tried to debug each point and finally I got some clue. 3 Days back, I deployed new version of application on the same server (included printStackTrace and SysOut), First 2 days It ran fine, today it Failed with following error. \r\n\r\n\r\n    INFO: Illegal access: this web application instance has been stopped already.  Could not load com.schedular.job.BirthdayJob.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\r\n    java.lang.IllegalStateException\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1600)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\r\n    \tat org.quartz.simpl.LoadingLoaderClassLoadHelper.loadClass(LoadingLoaderClassLoadHelper.java:59)\r\n    \tat org.quartz.simpl.CascadingClassLoadHelper.loadClass(CascadingClassLoadHelper.java:99)\r\n    \tat org.quartz.simpl.CascadingClassLoadHelper.loadClass(CascadingClassLoadHelper.java:138)\r\n    \tat org.quartz.impl.jdbcjobstore.StdJDBCDelegate.selectJobDetail(StdJDBCDelegate.java:852)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.acquireNextTrigger(JobStoreSupport.java:2816)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport$40.execute(JobStoreSupport.java:2759)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport$40.execute(JobStoreSupport.java:2757)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3787)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.acquireNextTriggers(JobStoreSupport.java:2756)\r\n    \tat org.quartz.core.QuartzSchedulerThread.run(QuartzSchedulerThread.java:272)\r\n    \r\n    Jul 13, 2015 6:00:00 AM org.apache.catalina.loader.WebappClassLoader loadClass\r\n    INFO: Illegal access: this web application instance has been stopped already.  Could not load com.schedular.job.BirthdayJob.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\r\n    java.lang.IllegalStateException\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1600)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\r\n    \tat org.quartz.simpl.LoadingLoaderClassLoadHelper.loadClass(LoadingLoaderClassLoadHelper.java:59)\r\n    \tat org.quartz.simpl.CascadingClassLoadHelper.loadClass(CascadingClassLoadHelper.java:99)\r\n    \tat org.quartz.simpl.CascadingClassLoadHelper.loadClass(CascadingClassLoadHelper.java:138)\r\n    \tat org.quartz.impl.jdbcjobstore.StdJDBCDelegate.selectJobDetail(StdJDBCDelegate.java:852)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.retrieveJob(JobStoreSupport.java:1385)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.triggerFired(JobStoreSupport.java:2964)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport$43.execute(JobStoreSupport.java:2908)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport$43.execute(JobStoreSupport.java:2901)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3787)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.triggersFired(JobStoreSupport.java:2900)\r\n    \tat org.quartz.core.QuartzSchedulerThread.run(QuartzSchedulerThread.java:336)","title":"No suitable driver found for Oracle Database connection","body":"<p>I have small Java Application, which execute every day and checks for data in database using Cronj Schedular and everything works fine, but recently I have observed that, it is failing due to  </p>\n\n<pre><code>java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@160.110.xx.xxx:1521/test\n</code></pre>\n\n<p>At the same time, when I run my test code to check Database connectivity that works fine without above exception. I'm unable to figure it out. Although, there was just slight code change, but that was nowhere related to Database or Database connection. Anyone, help me on this ?</p>\n\n<p><strong>dbconf.java</strong></p>\n\n<pre><code>public class dbconf {\n\n    private Connection connect;\n    private String connstr;\n\n    public Connection getConnection() throws SQLException {\n        connstr = \"jdbc:oracle:thin:@160.110.xx.xxx:1521/test\";\n\n        try {\n                String uname = \"scott\";\n                String pass = \"tiger\";\n                Class.forName(\"oracle.jdbc.OracleDriver\").newInstance();\n                connect = DriverManager.getConnection(connstr, uname, pass);\n\n        } catch (Exception e) {\n            System.out.println(e.toString());\n        }\n\n            return connect;\n    }\n}\n</code></pre>\n\n<p>I'm using <strong>ojdbc6.jar</strong> and <strong>Oracle11g</strong></p>\n\n<p><strong>Edited - Application Log file</strong></p>\n\n<pre><code>Wed Jul 01 09:25:17 IST 2015:------- Initializing -------------------\nWed Jul 01 09:25:17 IST 2015:------- Scheduling Jobs ----------------\nWed Jul 01 09:25:17 IST 2015:------- Job Started Running ----------------\nThu Jul 02 06:00:00 IST 2015 : Job Executed..!! Bschedularv2.2\njava.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@160.xxx.67.xxx:1521/test\nSat Jul 04 06:00:00 IST 2015 : Job Executed..!! Bschedularv2.2\nSun Jul 05 06:00:00 IST 2015 : Job Executed..!! Bschedularv2.2\njava.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@160.xxx.67.xxx:1521/test\n</code></pre>\n\n<p>So, you can see, <strong>It failed on 3rd and 6th July. But, in between it ran fine.</strong></p>\n\n<p><strong>==Update 1==</strong></p>\n\n<p>It seems, nobody is reading my question properly, I have clearly mentioned that, It is running fine for someday, but someday it is failing. If it was classpath issue, then It shouldn't have ran any day. </p>\n\n<p><strong>===Update 2===</strong></p>\n\n<p>Many of below answers were pointless, but few were having some logical view. I have used <code>printStracktrace</code> and tried to debug each point and finally I got some clue. 3 Days back, I deployed new version of application on the same server (included printStackTrace and SysOut), First 2 days It ran fine, today it Failed with following error. </p>\n\n<pre><code>INFO: Illegal access: this web application instance has been stopped already.  Could not load com.schedular.job.BirthdayJob.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\njava.lang.IllegalStateException\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1600)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\n    at org.quartz.simpl.LoadingLoaderClassLoadHelper.loadClass(LoadingLoaderClassLoadHelper.java:59)\n    at org.quartz.simpl.CascadingClassLoadHelper.loadClass(CascadingClassLoadHelper.java:99)\n    at org.quartz.simpl.CascadingClassLoadHelper.loadClass(CascadingClassLoadHelper.java:138)\n    at org.quartz.impl.jdbcjobstore.StdJDBCDelegate.selectJobDetail(StdJDBCDelegate.java:852)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.acquireNextTrigger(JobStoreSupport.java:2816)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport$40.execute(JobStoreSupport.java:2759)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport$40.execute(JobStoreSupport.java:2757)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3787)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.acquireNextTriggers(JobStoreSupport.java:2756)\n    at org.quartz.core.QuartzSchedulerThread.run(QuartzSchedulerThread.java:272)\n\nJul 13, 2015 6:00:00 AM org.apache.catalina.loader.WebappClassLoader loadClass\nINFO: Illegal access: this web application instance has been stopped already.  Could not load com.schedular.job.BirthdayJob.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\njava.lang.IllegalStateException\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1600)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\n    at org.quartz.simpl.LoadingLoaderClassLoadHelper.loadClass(LoadingLoaderClassLoadHelper.java:59)\n    at org.quartz.simpl.CascadingClassLoadHelper.loadClass(CascadingClassLoadHelper.java:99)\n    at org.quartz.simpl.CascadingClassLoadHelper.loadClass(CascadingClassLoadHelper.java:138)\n    at org.quartz.impl.jdbcjobstore.StdJDBCDelegate.selectJobDetail(StdJDBCDelegate.java:852)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.retrieveJob(JobStoreSupport.java:1385)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.triggerFired(JobStoreSupport.java:2964)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport$43.execute(JobStoreSupport.java:2908)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport$43.execute(JobStoreSupport.java:2901)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3787)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.triggersFired(JobStoreSupport.java:2900)\n    at org.quartz.core.QuartzSchedulerThread.run(QuartzSchedulerThread.java:336)\n</code></pre>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1649662710,"post_id":71820277,"comment_id":126923577,"body_markdown":"When asking a question, please provide the actual exception you get.","body":"When asking a question, please provide the actual exception you get."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649662919,"creation_date":1649662919,"answer_id":71824226,"question_id":71820277,"body_markdown":"You need to specify the columns you want to populate in your insert statement. Using an insert without explicit columns is always a bad idea because the assumption about column order could be wrong, but in this case it causes the insert to fail as your insert specifies three values while the table has four columns (studio_id, name, url, phone).\r\n\r\nYou need to use:\r\n\r\n```sql\r\ninsert into studios (name, phone, url) values (?, ?, ?)\r\n```\r\n\r\nAs an aside, even if your table had had only three, the columnless insert would have had the wrong result: you&#39;re setting in order name, phone, url, while your table definition has order name, url, phone.","title":"Can&#39;t automatically obtain ID for a record in database","body":"<p>You need to specify the columns you want to populate in your insert statement. Using an insert without explicit columns is always a bad idea because the assumption about column order could be wrong, but in this case it causes the insert to fail as your insert specifies three values while the table has four columns (studio_id, name, url, phone).</p>\n<p>You need to use:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into studios (name, phone, url) values (?, ?, ?)\n</code></pre>\n<p>As an aside, even if your table had had only three, the columnless insert would have had the wrong result: you're setting in order name, phone, url, while your table definition has order name, url, phone.</p>\n"}],"owner":{"account_id":24893532,"reputation":121,"user_id":18765109,"display_name":"Dmytro Klopov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71824226,"answer_count":1,"score":0,"last_activity_date":1649662990,"creation_date":1649622116,"question_id":71820277,"body_markdown":"My entity is:\r\n```java\r\n@Entity(name = &quot;studios&quot;)\r\npublic class Studio {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;studio_id&quot;, nullable = false)\r\n    private Integer id;\r\n    private String name;\r\n    private String phone;\r\n    private String url;\r\n\r\n    public Studio() {\r\n\r\n    }\r\n\r\n    public Studio(String name, String phone, String url) {\r\n        this.name = name;\r\n        this.phone = phone;\r\n        this.url = url;\r\n    }\r\n\r\n    public String getUrl() {\r\n        return url;\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getPhone() {\r\n        return phone;\r\n    }\r\n\r\n}\r\n```\r\n\r\nMethod to write a record to the database. I just want to send it to the database and automatically obtain an ID for every record in this table, but every time when I do this - &quot;status&quot;: 500, &quot;error&quot;: &quot;Internal Server Error&quot;. And nothing changing in table.\r\n```java\r\n@Override\r\npublic Studio save(Studio studio) {\r\n    final String SQL_INSERT = &quot;insert into studios values (?, ?, ?)&quot;;\r\n    jdbcTemplate.update(\r\n            con -&gt; {\r\n                PreparedStatement preparedStatement = con.prepareStatement(SQL_INSERT, Statement.RETURN_GENERATED_KEYS);\r\n                preparedStatement.setString(1, studio.getName());\r\n                preparedStatement.setString(2, studio.getPhone());\r\n                preparedStatement.setString(3, studio.getUrl());\r\n\r\n                try (ResultSet generatedKeys = preparedStatement.getGeneratedKeys()) {\r\n                    if (generatedKeys.next()) {\r\n                        studio.setId(generatedKeys.getInt(1));\r\n                    }\r\n                    else {\r\n                        throw new SQLException(&quot;Creating user failed...&quot;);\r\n                    }\r\n                }\r\n\r\n                return preparedStatement;\r\n            }\r\n    );\r\n    return studio;\r\n}\r\n```\r\n\r\nMy table is:\r\n```sql\r\nCREATE TABLE &quot;studios&quot; (\r\n    &quot;studio_id&quot; serial NOT NULL UNIQUE ,\r\n    &quot;name&quot; varchar(128) NOT NULL UNIQUE,\r\n    &quot;url&quot; varchar(255) NOT NULL,\r\n    &quot;phone&quot; varchar(12) NOT NULL,\r\n    CONSTRAINT &quot;studios_pk&quot; PRIMARY KEY (&quot;studio_id&quot;)\r\n);\r\n```\r\n\r\nWhy it doesn&#39;t work so? ","title":"Can&#39;t automatically obtain ID for a record in database","body":"<p>My entity is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;studios&quot;)\npublic class Studio {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;studio_id&quot;, nullable = false)\n    private Integer id;\n    private String name;\n    private String phone;\n    private String url;\n\n    public Studio() {\n\n    }\n\n    public Studio(String name, String phone, String url) {\n        this.name = name;\n        this.phone = phone;\n        this.url = url;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getPhone() {\n        return phone;\n    }\n\n}\n</code></pre>\n<p>Method to write a record to the database. I just want to send it to the database and automatically obtain an ID for every record in this table, but every time when I do this - &quot;status&quot;: 500, &quot;error&quot;: &quot;Internal Server Error&quot;. And nothing changing in table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Studio save(Studio studio) {\n    final String SQL_INSERT = &quot;insert into studios values (?, ?, ?)&quot;;\n    jdbcTemplate.update(\n            con -&gt; {\n                PreparedStatement preparedStatement = con.prepareStatement(SQL_INSERT, Statement.RETURN_GENERATED_KEYS);\n                preparedStatement.setString(1, studio.getName());\n                preparedStatement.setString(2, studio.getPhone());\n                preparedStatement.setString(3, studio.getUrl());\n\n                try (ResultSet generatedKeys = preparedStatement.getGeneratedKeys()) {\n                    if (generatedKeys.next()) {\n                        studio.setId(generatedKeys.getInt(1));\n                    }\n                    else {\n                        throw new SQLException(&quot;Creating user failed...&quot;);\n                    }\n                }\n\n                return preparedStatement;\n            }\n    );\n    return studio;\n}\n</code></pre>\n<p>My table is:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE &quot;studios&quot; (\n    &quot;studio_id&quot; serial NOT NULL UNIQUE ,\n    &quot;name&quot; varchar(128) NOT NULL UNIQUE,\n    &quot;url&quot; varchar(255) NOT NULL,\n    &quot;phone&quot; varchar(12) NOT NULL,\n    CONSTRAINT &quot;studios_pk&quot; PRIMARY KEY (&quot;studio_id&quot;)\n);\n</code></pre>\n<p>Why it doesn't work so?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":9044958,"reputation":757,"user_id":6737670,"display_name":"Darius.V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649662657,"creation_date":1649662657,"answer_id":71824184,"question_id":71792302,"body_markdown":"One chat I remembered is\r\n\r\nhttps://devcord.com/ - it has java channel.","title":"Java/spring chats, slack for talking like https://symfony-devs.slack.com/ , not how to build a chat","body":"<p>One chat I remembered is</p>\n<p><a href=\"https://devcord.com/\" rel=\"nofollow noreferrer\">https://devcord.com/</a> - it has java channel.</p>\n"}],"owner":{"account_id":9044958,"reputation":757,"user_id":6737670,"display_name":"Darius.V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649662657,"creation_date":1649397801,"question_id":71792302,"body_markdown":"Please tell chats for talking. When I search in stackoverflow or google, I just find how to build a chat. Where are the chats for Spring or Java where you can ask question like https://symfony-devs.slack.com/ ? ","title":"Java/spring chats, slack for talking like https://symfony-devs.slack.com/ , not how to build a chat","body":"<p>Please tell chats for talking. When I search in stackoverflow or google, I just find how to build a chat. Where are the chats for Spring or Java where you can ask question like <a href=\"https://symfony-devs.slack.com/\" rel=\"nofollow noreferrer\">https://symfony-devs.slack.com/</a> ?</p>\n"},{"tags":["java","maven","okhttp","mockwebserver"],"answers":[{"tags":[],"owner":{"account_id":1540576,"reputation":146,"user_id":1435357,"display_name":"mkarasik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649358762,"creation_date":1649358762,"answer_id":71787750,"question_id":71784140,"body_markdown":"Found it it it is described in https://stackoverflow.com/questions/62498065/introducing-dependencies-in-other-projects-causes-maven-to-downgrade-okhttp3-ver?rq=1\r\n\r\n   \t&lt;properties&gt;\r\n\t\t&lt;okhttp3.version&gt;4.9.1&lt;/okhttp3.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\nFixes the issue","title":"Maven dependencies wrong version for okhttp3 mockwebserver","body":"<p>Found it it it is described in <a href=\"https://stackoverflow.com/questions/62498065/introducing-dependencies-in-other-projects-causes-maven-to-downgrade-okhttp3-ver?rq=1\">Introducing dependencies in other projects causes Maven to downgrade okhttp3 version</a></p>\n<pre><code>&lt;properties&gt;\n    &lt;okhttp3.version&gt;4.9.1&lt;/okhttp3.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Fixes the issue</p>\n"},{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649662072,"creation_date":1649662072,"answer_id":71824080,"question_id":71784140,"body_markdown":"OkHttp provides a Maven BOM you can use to ensure a consistent version\r\n\r\nhttps://github.com/square/okhttp#releases\r\n\r\n&gt; Also, we have a bill of materials (BOM) available to help you keep\r\n&gt; OkHttp artifacts up to date and be sure about version compatibility.\r\n\r\nThis example is gradle, but you it is originally a feature from maven.\r\n\r\nhttps://docs.gradle.org/6.2/userguide/platforms.html#sub:bom_import\r\n\r\n    dependencies {\r\n       // define a BOM and its version\r\n       implementation(platform(&quot;com.squareup.okhttp3:okhttp-bom:4.9.3&quot;))\r\n\r\n       // define any required OkHttp artifacts without version\r\n       implementation(&quot;com.squareup.okhttp3:okhttp&quot;)\r\n       implementation(&quot;com.squareup.okhttp3:logging-interceptor&quot;)\r\n    }","title":"Maven dependencies wrong version for okhttp3 mockwebserver","body":"<p>OkHttp provides a Maven BOM you can use to ensure a consistent version</p>\n<p><a href=\"https://github.com/square/okhttp#releases\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp#releases</a></p>\n<blockquote>\n<p>Also, we have a bill of materials (BOM) available to help you keep\nOkHttp artifacts up to date and be sure about version compatibility.</p>\n</blockquote>\n<p>This example is gradle, but you it is originally a feature from maven.</p>\n<p><a href=\"https://docs.gradle.org/6.2/userguide/platforms.html#sub:bom_import\" rel=\"nofollow noreferrer\">https://docs.gradle.org/6.2/userguide/platforms.html#sub:bom_import</a></p>\n<pre><code>dependencies {\n   // define a BOM and its version\n   implementation(platform(&quot;com.squareup.okhttp3:okhttp-bom:4.9.3&quot;))\n\n   // define any required OkHttp artifacts without version\n   implementation(&quot;com.squareup.okhttp3:okhttp&quot;)\n   implementation(&quot;com.squareup.okhttp3:logging-interceptor&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":1540576,"reputation":146,"user_id":1435357,"display_name":"mkarasik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2937,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71787750,"answer_count":2,"score":2,"last_activity_date":1649662072,"creation_date":1649342217,"question_id":71784140,"body_markdown":"I am trying to use okhttp3.mockwebserver with my Spring boot project and I find out that okhttp3:mockwebserver:jar:3.14.9 is included instead of 4.9.1.\r\n\r\nI have created small &#39;mock&#39; projects to reproduce the issue I have in my prod.\r\n\r\nThe project is here [https://github.com/mkarasik/okhttp-test][1]\r\n\r\nIt contains two folders:\r\n\r\n ### lib \r\n  This is a simple library including mockwebserver as dependency\r\n    \r\n   pom.xml dependency\r\n\r\n    \t&lt;dependencies&gt;\r\n        ...\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.9.1&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nMaven dependencies tree\r\n\r\n     \\- com.squareup.okhttp3:mockwebserver:jar:4.9.1:compile\r\n        +- com.squareup.okhttp3:okhttp:jar:3.14.9:compile\r\n\r\nThis is already wrong. Mockwebserver pom contains 4.9.1 okhttp artifact, however 3.14.9 is shown in tree\r\n \r\n### project \r\n  Simple Spring Boot app including lib project\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lib&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nMaven dependencies tree\r\n\r\n    \\- com.example:lib:jar:0.0.1-SNAPSHOT:test\r\n       \\- com.squareup.okhttp3:mockwebserver:jar:3.14.9:test\r\n          \\- com.squareup.okhttp3:okhttp:jar:3.14.9:test\r\n             \\- com.squareup.okio:okio:jar:1.17.2:test\r\n\r\n\r\nThe same problem is here. okhttp3:mockwebserver:jar:3.14.9 is included instead of 4.9.1 as it is specified in my lib pom.xml.\r\n\r\nIs there anything I am missing in my xml configuration?\r\n\r\n\r\n  [1]: https://github.com/mkarasik/okhttp-test","title":"Maven dependencies wrong version for okhttp3 mockwebserver","body":"<p>I am trying to use okhttp3.mockwebserver with my Spring boot project and I find out that okhttp3:mockwebserver:jar:3.14.9 is included instead of 4.9.1.</p>\n<p>I have created small 'mock' projects to reproduce the issue I have in my prod.</p>\n<p>The project is here <a href=\"https://github.com/mkarasik/okhttp-test\" rel=\"nofollow noreferrer\">https://github.com/mkarasik/okhttp-test</a></p>\n<p>It contains two folders:</p>\n<h3>lib</h3>\n<p>This is a simple library including mockwebserver as dependency</p>\n<p>pom.xml dependency</p>\n<pre><code>    &lt;dependencies&gt;\n    ...\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n        &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\n        &lt;version&gt;4.9.1&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Maven dependencies tree</p>\n<pre><code> \\- com.squareup.okhttp3:mockwebserver:jar:4.9.1:compile\n    +- com.squareup.okhttp3:okhttp:jar:3.14.9:compile\n</code></pre>\n<p>This is already wrong. Mockwebserver pom contains 4.9.1 okhttp artifact, however 3.14.9 is shown in tree</p>\n<h3>project</h3>\n<p>Simple Spring Boot app including lib project</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;lib&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Maven dependencies tree</p>\n<pre><code>\\- com.example:lib:jar:0.0.1-SNAPSHOT:test\n   \\- com.squareup.okhttp3:mockwebserver:jar:3.14.9:test\n      \\- com.squareup.okhttp3:okhttp:jar:3.14.9:test\n         \\- com.squareup.okio:okio:jar:1.17.2:test\n</code></pre>\n<p>The same problem is here. okhttp3:mockwebserver:jar:3.14.9 is included instead of 4.9.1 as it is specified in my lib pom.xml.</p>\n<p>Is there anything I am missing in my xml configuration?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":15057993,"reputation":208,"user_id":10867716,"display_name":"Samuel Adorni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649661804,"creation_date":1649424149,"answer_id":71797811,"question_id":71796950,"body_markdown":"I think that there should be a better way to this without the while-wait loop.\r\n\r\nFirst of all I suppose that you used an `android.widget.Button` to implement that `pointsButtonClicked`\r\n\r\nHere&#39;s what I would do:\r\n\r\n    //Global in your activity\r\n    int playerIndex = 0;\r\n    int currentDart = 1;\r\n\r\nThen\r\n\r\n    private void startRound(MatchActivityPlayerAdapter adapter) \r\n    {\r\n        pointsButtonClicked.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                setDartValue(playerIndex, currentDart);\r\n                setDartsCombinedValues(playerIndex, currentDart);\r\n                setRemainingPointsValues(playerIndex, currentDart);\r\n                adapter.notifyDataSetChanged();\r\n\r\n                nextThrow();\r\n            }\r\n        });\r\n    }\r\n\r\nAnd finally\r\n\r\n    //Also in your activity\r\n    private void nextThrow()\r\n    {\r\n        if (currentDart == maximumDartsToThrow)\r\n        {\r\n            currentDart = 1;\r\n            if (playerIndex == getMatchParticipants().size()-1)\r\n            {\r\n                playerIndex = 0;\r\n                setCurrentRound(getCurrentRound() + 1);\r\n            }\r\n            else\r\n            {\r\n                ++playerIndex;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            ++currentDart;\r\n        }\r\n    }\r\n\r\n**It can be better**\r\n\r\nYou can use private variables and access them with getter and setter\r\n\r\n**Explained**\r\n\r\nUsing this approach you do not create a thread that waits for every single button pressed. You simply create a button that listen for every click event that it receives and then you apply the logic to cycle the players and the darts for every players. \r\n\r\nI hope this could be helpful.\r\n \r\n\r\n**[EDIT]**\r\n\r\nIn this case I would apply the same OnClickListener to every button you use.\r\n\r\nFirst of all I would create an inner class that implements OnClickListener and allows you to manage outputInt variable.\r\n\r\n    //Also in Activity (it is an inner class)\r\n    public class MyOnClickListener implements View.OnClickListener\r\n    {\r\n        private int myOutputInt;\r\n        public MyOnClickListener (int outputInt)\r\n        {\r\n            this.myOutputInt = outputInt;\r\n        }\r\n        @Override\r\n        public void onClick(View v)\r\n        {\r\n            pointsButtonClicked = true;\r\n            outputInt = myOutputInt;\r\n            setDartValue(playerIndex, currentDart);\r\n            setDartsCombinedValues(playerIndex, currentDart);\r\n            setRemainingPointsValues(playerIndex, currentDart);\r\n            nextThrow();\r\n        }\r\n    }\r\n\r\nAnd then you create 20 MyOnClickListener passing only the int you want to assign. For example:\r\n\r\n    button1.setOnClickListener(new MyOnClickListener(1));\r\n    button2.setOnClickListener(new MyOnClickListener(2));\r\n    button3.setOnClickListener(new MyOnClickListener(3));\r\n    etc etc...\r\n\r\n","title":"Android - User input at specific point in method","body":"<p>I think that there should be a better way to this without the while-wait loop.</p>\n<p>First of all I suppose that you used an <code>android.widget.Button</code> to implement that <code>pointsButtonClicked</code></p>\n<p>Here's what I would do:</p>\n<pre><code>//Global in your activity\nint playerIndex = 0;\nint currentDart = 1;\n</code></pre>\n<p>Then</p>\n<pre><code>private void startRound(MatchActivityPlayerAdapter adapter) \n{\n    pointsButtonClicked.setOnClickListener(new View.OnClickListener()\n    {\n        @Override\n        public void onClick(View v)\n        {\n            setDartValue(playerIndex, currentDart);\n            setDartsCombinedValues(playerIndex, currentDart);\n            setRemainingPointsValues(playerIndex, currentDart);\n            adapter.notifyDataSetChanged();\n\n            nextThrow();\n        }\n    });\n}\n</code></pre>\n<p>And finally</p>\n<pre><code>//Also in your activity\nprivate void nextThrow()\n{\n    if (currentDart == maximumDartsToThrow)\n    {\n        currentDart = 1;\n        if (playerIndex == getMatchParticipants().size()-1)\n        {\n            playerIndex = 0;\n            setCurrentRound(getCurrentRound() + 1);\n        }\n        else\n        {\n            ++playerIndex;\n        }\n    }\n    else\n    {\n        ++currentDart;\n    }\n}\n</code></pre>\n<p><strong>It can be better</strong></p>\n<p>You can use private variables and access them with getter and setter</p>\n<p><strong>Explained</strong></p>\n<p>Using this approach you do not create a thread that waits for every single button pressed. You simply create a button that listen for every click event that it receives and then you apply the logic to cycle the players and the darts for every players.</p>\n<p>I hope this could be helpful.</p>\n<p><strong>[EDIT]</strong></p>\n<p>In this case I would apply the same OnClickListener to every button you use.</p>\n<p>First of all I would create an inner class that implements OnClickListener and allows you to manage outputInt variable.</p>\n<pre><code>//Also in Activity (it is an inner class)\npublic class MyOnClickListener implements View.OnClickListener\n{\n    private int myOutputInt;\n    public MyOnClickListener (int outputInt)\n    {\n        this.myOutputInt = outputInt;\n    }\n    @Override\n    public void onClick(View v)\n    {\n        pointsButtonClicked = true;\n        outputInt = myOutputInt;\n        setDartValue(playerIndex, currentDart);\n        setDartsCombinedValues(playerIndex, currentDart);\n        setRemainingPointsValues(playerIndex, currentDart);\n        nextThrow();\n    }\n}\n</code></pre>\n<p>And then you create 20 MyOnClickListener passing only the int you want to assign. For example:</p>\n<pre><code>button1.setOnClickListener(new MyOnClickListener(1));\nbutton2.setOnClickListener(new MyOnClickListener(2));\nbutton3.setOnClickListener(new MyOnClickListener(3));\netc etc...\n</code></pre>\n"}],"owner":{"account_id":19793044,"reputation":117,"user_id":14495624,"display_name":"Blaupunkt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71797811,"answer_count":1,"score":0,"last_activity_date":1649661804,"creation_date":1649420657,"question_id":71796950,"body_markdown":"I am programming a darts counter app and at the moment I am trying to get an user input (which field on the dart board they hit) by pressing on a specific button.\r\nEach button press will return an int which will be used to update list values that are used by my adapter to then update the views.\r\n\r\nThe method that should happen in looks like this:\r\n```\r\nprivate void startRound(MatchActivityPlayerAdapter adapter) {\r\n\r\n        for (int playerIndex = 0; playerIndex &lt; getMatchParticipants().size(); playerIndex++) {\r\n            for (int currentDart = 1; currentDart &lt;= maximumDartsToThrow; currentDart++) {\r\n\r\n                // Here I want the activity to &quot;wait&quot; until the user presses a button\r\n\r\n                if (pointsButtonClicked) {\r\n                    setDartValue(playerIndex, currentDart);\r\n                    setDartsCombinedValues(playerIndex, currentDart);\r\n                    setRemainingPointsValues(playerIndex, currentDart);\r\n\r\n                    adapter.notifyDataSetChanged();\r\n                }\r\n            }\r\n        }\r\n        setCurrentRound(getCurrentRound() + 1);\r\n    }\r\n```\r\n\r\nSince I cant really stop the activity at the point mentioned above until user has made an input I&#39;ll propably have to include a while loop. But in order to do this I think I&#39;ll have to create a second thread and handle things differently. That actually overwhelmed me, even though I&#39;ve been reading through [this][1].\r\n\r\nCan anyone please explain to me how I have to design my code in order to achieve what i want?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7478941/implementing-a-while-loop-in-android\r\n\r\nEdit: Actually ```pointsButtonClicked``` is a boolean.\r\nI have over 20 buttons in the global OnClick method and whenever one of them is clicked pointsButtonClicked will be set to true.\r\n\r\n```\r\nButton button1 = findViewById(R.id.btn1);\r\nbutton1.setOnClickListener(v -&gt; {\r\n    outputInt = 1;\r\n    pointsButtonClicked = true;\r\n});\r\n\r\nButton button2 = findViewById(R.id.btn2);\r\nbutton2.setOnClickListener(v -&gt; {\r\n    outputInt = 2;\r\n    pointsButtonClicked = true;\r\n});\r\n\r\n// [...]\r\n```\r\n","title":"Android - User input at specific point in method","body":"<p>I am programming a darts counter app and at the moment I am trying to get an user input (which field on the dart board they hit) by pressing on a specific button.\nEach button press will return an int which will be used to update list values that are used by my adapter to then update the views.</p>\n<p>The method that should happen in looks like this:</p>\n<pre><code>private void startRound(MatchActivityPlayerAdapter adapter) {\n\n        for (int playerIndex = 0; playerIndex &lt; getMatchParticipants().size(); playerIndex++) {\n            for (int currentDart = 1; currentDart &lt;= maximumDartsToThrow; currentDart++) {\n\n                // Here I want the activity to &quot;wait&quot; until the user presses a button\n\n                if (pointsButtonClicked) {\n                    setDartValue(playerIndex, currentDart);\n                    setDartsCombinedValues(playerIndex, currentDart);\n                    setRemainingPointsValues(playerIndex, currentDart);\n\n                    adapter.notifyDataSetChanged();\n                }\n            }\n        }\n        setCurrentRound(getCurrentRound() + 1);\n    }\n</code></pre>\n<p>Since I cant really stop the activity at the point mentioned above until user has made an input I'll propably have to include a while loop. But in order to do this I think I'll have to create a second thread and handle things differently. That actually overwhelmed me, even though I've been reading through <a href=\"https://stackoverflow.com/questions/7478941/implementing-a-while-loop-in-android\">this</a>.</p>\n<p>Can anyone please explain to me how I have to design my code in order to achieve what i want?</p>\n<p>Edit: Actually <code>pointsButtonClicked</code> is a boolean.\nI have over 20 buttons in the global OnClick method and whenever one of them is clicked pointsButtonClicked will be set to true.</p>\n<pre><code>Button button1 = findViewById(R.id.btn1);\nbutton1.setOnClickListener(v -&gt; {\n    outputInt = 1;\n    pointsButtonClicked = true;\n});\n\nButton button2 = findViewById(R.id.btn2);\nbutton2.setOnClickListener(v -&gt; {\n    outputInt = 2;\n    pointsButtonClicked = true;\n});\n\n// [...]\n</code></pre>\n"},{"tags":["java","simpledateformat","text-parsing","date-parsing","dateparser"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1649659986,"post_id":71823687,"comment_id":126922739,"body_markdown":"probably because you use this formatter: new SimpleDateFormat(&quot;yyyy-MM-dd,HH:mm&quot;);","body":"probably because you use this formatter: new SimpleDateFormat(&quot;yyyy-MM-dd,HH:mm&quot;);"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1649660212,"post_id":71823687,"comment_id":126922799,"body_markdown":"Stop using the outDated `java.util.Date` and `SimpleDateFormat` classes. use the modern `java.time.*` API","body":"Stop using the outDated <code>java.util.Date</code> and <code>SimpleDateFormat</code> classes. use the modern <code>java.time.*</code> API"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1649660295,"post_id":71823687,"comment_id":126922819,"body_markdown":"The first 6 inputs are been successfully parsed by `yyyy-MM-dd,HH:mm`, then it&#39;s `yyyy-MM-dd,HH`, `yyyy-MM-dd` - seriosly, time to put `Date` and `DateFormatter` to bed and make use of the `java.time` API instead","body":"The first 6 inputs are been successfully parsed by <code>yyyy-MM-dd,HH:mm</code>, then it&#39;s <code>yyyy-MM-dd,HH</code>, <code>yyyy-MM-dd</code> - seriosly, time to put <code>Date</code> and <code>DateFormatter</code> to bed and make use of the <code>java.time</code> API instead"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1649660337,"post_id":71823687,"comment_id":126922831,"body_markdown":"BTW: Take care of java naming conventions. *static final* variable names should be upper case","body":"BTW: Take care of java naming conventions. <i>static final</i> variable names should be upper case"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1649660538,"post_id":71823687,"comment_id":126922893,"body_markdown":"Check out [this example](https://stackoverflow.com/questions/71535387/validating-date-taken-in-from-user-in-3-different-formats/71535714#71535714), it will use a series of formatters to test that value can be parsed BUT also checks that the resulting value is the same when it&#39;s formatted (plus some regular expression thrown in) as well as [this example](https://stackoverflow.com/questions/20231539/java-check-the-date-format-of-current-string-is-according-to-required-format-or/20232680#20232680)","body":"Check out <a href=\"https://stackoverflow.com/questions/71535387/validating-date-taken-in-from-user-in-3-different-formats/71535714#71535714\">this example</a>, it will use a series of formatters to test that value can be parsed BUT also checks that the resulting value is the same when it&#39;s formatted (plus some regular expression thrown in) as well as <a href=\"https://stackoverflow.com/questions/20231539/java-check-the-date-format-of-current-string-is-according-to-required-format-or/20232680#20232680\">this example</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649665862,"post_id":71823687,"comment_id":126924661,"body_markdown":"A solution that I find good is to use a formatter defined as `new DateTimeFormatterBuilder() .appendPattern(&quot;uuuu-MM-dd[,HH[:mm[:ss[.SSS]]][xx]]&quot;) .parseDefaulting(ChronoField.HOUR_OF_DAY, 0) .toFormatter() .withZone(ZoneId.of(&quot;Asia/Tel_Aviv&quot;))` and parse into a `ZonedDateTime`. It works for all of your example strings.","body":"A solution that I find good is to use a formatter defined as <code>new DateTimeFormatterBuilder() .appendPattern(&quot;uuuu-MM-dd[,HH[:mm[:ss[.SSS]]][xx]]&quot;) .parseDefaulting(ChronoField.HOUR_OF_DAY, 0) .toFormatter() .withZone(ZoneId.of(&quot;Asia&#47;Tel_Aviv&quot;))</code> and parse into a <code>ZonedDateTime</code>. It works for all of your example strings."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1649666223,"post_id":71823687,"comment_id":126924802,"body_markdown":"What happens when you try to parse `2020-11-01,01:01:05.555+0300` is that `2020-11-01,01:01` is parsed by the first formatter using the pattern `yyyy-MM-dd,HH:mm`, and the rest of the string is ignored. The other formatters are not tried. Yes, this is how confusing `SimpleDateFormat` is (and its very far from the only problem with it). I agree with the others: drop trying to make that class behave.","body":"What happens when you try to parse <code>2020-11-01,01:01:05.555+0300</code> is that <code>2020-11-01,01:01</code> is parsed by the first formatter using the pattern <code>yyyy-MM-dd,HH:mm</code>, and the rest of the string is ignored. The other formatters are not tried. Yes, this is how confusing <code>SimpleDateFormat</code> is (and its very far from the only problem with it). I agree with the others: drop trying to make that class behave."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649680415,"post_id":71823687,"comment_id":126930036,"body_markdown":"Related: [SimpleDateFormat leniency leads to unexpected behavior](https://stackoverflow.com/questions/50746771/simpledateformat-leniency-leads-to-unexpected-behavior)","body":"Related: <a href=\"https://stackoverflow.com/questions/50746771/simpledateformat-leniency-leads-to-unexpected-behavior\">SimpleDateFormat leniency leads to unexpected behavior</a>"}],"owner":{"account_id":4434750,"reputation":1949,"user_id":3610891,"accept_rate":62,"display_name":"Onki"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649661641,"creation_date":1649659853,"question_id":71823687,"body_markdown":"I am very confused in the below code. Even after passing the correct dateformat for parsing the entire date, time and timezone, why java is ignoring the information beyond minutes. \r\n\r\nI have a list of date formatters as my incoming date can come in any formats. I want all dates to be parsed with whatever information was provided.\r\n\r\nBut I see that in output, all the information for seconds, milliseconds and timezone is ignored.\r\n\r\n\r\n    public class DateValidator {\r\n   \r\n\r\n     final static DateFormat dateFormat_hour = new SimpleDateFormat(&quot;yyyy-MM-dd,HH&quot;);\r\n        final static DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        private static final DateFormat DATE_TIMESTAMP_MIN= new SimpleDateFormat(&quot;yyyy-MM-dd,HH:mm&quot;);\r\n        private static final DateFormat DATE_TIMESTAMP_SEC = new SimpleDateFormat(&quot;yyyy-MM-dd,HH:mm:ss&quot;);\r\n    private static final DateFormat DATE_TIMESTAMP_MILLISEC = new SimpleDateFormat(&quot;yyyy-MM-dd,HH:mm:ss.SSS&quot;);\r\n\r\n    private static final DateFormat DATE_TIMESTAMP_ZONE_OFFSET = new SimpleDateFormat(&quot;yyyy-MM-dd,HH:mm:ss.SSSZ&quot;);\r\n\r\n    /**\r\n     * the list formatter which will store all date formats which are possible in incoming date.\r\n     */\r\n    private static final List&lt;DateFormat&gt; DATE_FORMATTER_LIST;\r\n    static {\r\n        DATE_FORMATTER_LIST = Arrays.asList(DATE_TIMESTAMP_MIN, DATE_TIMESTAMP_SEC, DATE_TIMESTAMP_MILLISEC, DATE_TIMESTAMP_ZONE_OFFSET,dateFormat_hour,dateFormat);\r\n    }\r\n\r\n    /**\r\n     * validating the date type is valid or not.\r\n     *\r\n     * @param dateString the date string\r\n     * @return true or false\r\n     */\r\n    public static Date parseDate(String dateString) {\r\n\r\n        if (dateString == null || dateString.isEmpty()) {\r\n            return null;\r\n        }\r\n\r\n        for (DateFormat pattern : DATE_FORMATTER_LIST) {\r\n\r\n            try {\r\n                return pattern.parse(dateString);\r\n\r\n            } catch (ParseException pe) {\r\n               //ignore\r\n            }\r\n        }\r\n        System.out.println((&quot;Error while parsing date , date not in valid format&quot;));\r\n        return null;\r\n    }\r\n\r\n    public static void main(String args[]){\r\n     \r\n        System.out.println(new Date(parseDate(&quot;2020-11-01,01:01:05.555+0300&quot;).getTime()));//****no, no\r\n        System.out.println(new Date(parseDate(&quot;2020-11-01,01:01:05.555+0000&quot;).getTime()));//****no, no\r\n        System.out.println(new Date(parseDate(&quot;2020-11-01,01:01:05.000+0000&quot;).getTime()));//****no, no\r\n        System.out.println(new Date(parseDate(&quot;2020-11-01,01:01:59.000&quot;).getTime()));//****no, no\r\n        System.out.println(new Date(parseDate(&quot;2020-11-01,01:01:05&quot;).getTime()));//****no, no\r\n        System.out.println(new Date(parseDate(&quot;2020-11-01,01:01&quot;).getTime()));//*****good\r\n        System.out.println(new Date(parseDate(&quot;2020-11-01,01&quot;).getTime()));//*****good\r\n        System.out.println(new Date(parseDate(&quot;2020-11-01&quot;).getTime()));//*****good\r\n    }\r\n}\r\n\r\n\r\n\r\nOutput is :\r\n\r\n    Sun Nov 01 01:01:00 IST 2020\r\n    Sun Nov 01 01:01:00 IST 2020\r\n    Sun Nov 01 01:01:00 IST 2020\r\n    Sun Nov 01 01:01:00 IST 2020\r\n    Sun Nov 01 01:01:00 IST 2020\r\n    Sun Nov 01 01:01:00 IST 2020\r\n    Sun Nov 01 01:00:00 IST 2020\r\n    Sun Nov 01 00:00:00 IST 2020","title":"why Java date formatter ignores seconds, milliseconds and time zone information while parsing date","body":"<p>I am very confused in the below code. Even after passing the correct dateformat for parsing the entire date, time and timezone, why java is ignoring the information beyond minutes.</p>\n<p>I have a list of date formatters as my incoming date can come in any formats. I want all dates to be parsed with whatever information was provided.</p>\n<p>But I see that in output, all the information for seconds, milliseconds and timezone is ignored.</p>\n<pre><code>public class DateValidator {\n\n\n final static DateFormat dateFormat_hour = new SimpleDateFormat(&quot;yyyy-MM-dd,HH&quot;);\n    final static DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n    private static final DateFormat DATE_TIMESTAMP_MIN= new SimpleDateFormat(&quot;yyyy-MM-dd,HH:mm&quot;);\n    private static final DateFormat DATE_TIMESTAMP_SEC = new SimpleDateFormat(&quot;yyyy-MM-dd,HH:mm:ss&quot;);\nprivate static final DateFormat DATE_TIMESTAMP_MILLISEC = new SimpleDateFormat(&quot;yyyy-MM-dd,HH:mm:ss.SSS&quot;);\n\nprivate static final DateFormat DATE_TIMESTAMP_ZONE_OFFSET = new SimpleDateFormat(&quot;yyyy-MM-dd,HH:mm:ss.SSSZ&quot;);\n\n/**\n * the list formatter which will store all date formats which are possible in incoming date.\n */\nprivate static final List&lt;DateFormat&gt; DATE_FORMATTER_LIST;\nstatic {\n    DATE_FORMATTER_LIST = Arrays.asList(DATE_TIMESTAMP_MIN, DATE_TIMESTAMP_SEC, DATE_TIMESTAMP_MILLISEC, DATE_TIMESTAMP_ZONE_OFFSET,dateFormat_hour,dateFormat);\n}\n\n/**\n * validating the date type is valid or not.\n *\n * @param dateString the date string\n * @return true or false\n */\npublic static Date parseDate(String dateString) {\n\n    if (dateString == null || dateString.isEmpty()) {\n        return null;\n    }\n\n    for (DateFormat pattern : DATE_FORMATTER_LIST) {\n\n        try {\n            return pattern.parse(dateString);\n\n        } catch (ParseException pe) {\n           //ignore\n        }\n    }\n    System.out.println((&quot;Error while parsing date , date not in valid format&quot;));\n    return null;\n}\n\npublic static void main(String args[]){\n \n    System.out.println(new Date(parseDate(&quot;2020-11-01,01:01:05.555+0300&quot;).getTime()));//****no, no\n    System.out.println(new Date(parseDate(&quot;2020-11-01,01:01:05.555+0000&quot;).getTime()));//****no, no\n    System.out.println(new Date(parseDate(&quot;2020-11-01,01:01:05.000+0000&quot;).getTime()));//****no, no\n    System.out.println(new Date(parseDate(&quot;2020-11-01,01:01:59.000&quot;).getTime()));//****no, no\n    System.out.println(new Date(parseDate(&quot;2020-11-01,01:01:05&quot;).getTime()));//****no, no\n    System.out.println(new Date(parseDate(&quot;2020-11-01,01:01&quot;).getTime()));//*****good\n    System.out.println(new Date(parseDate(&quot;2020-11-01,01&quot;).getTime()));//*****good\n    System.out.println(new Date(parseDate(&quot;2020-11-01&quot;).getTime()));//*****good\n}\n</code></pre>\n<p>}</p>\n<p>Output is :</p>\n<pre><code>Sun Nov 01 01:01:00 IST 2020\nSun Nov 01 01:01:00 IST 2020\nSun Nov 01 01:01:00 IST 2020\nSun Nov 01 01:01:00 IST 2020\nSun Nov 01 01:01:00 IST 2020\nSun Nov 01 01:01:00 IST 2020\nSun Nov 01 01:00:00 IST 2020\nSun Nov 01 00:00:00 IST 2020\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"score":1,"creation_date":1649659388,"post_id":71823591,"comment_id":126922587,"body_markdown":"your question is not clear, please share complete code","body":"your question is not clear, please share complete code"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1649659855,"post_id":71823591,"comment_id":126922698,"body_markdown":"what have you tried so far? I think a simple String concatenation with some spaces when needed, and a tab could do the trick here.","body":"what have you tried so far? I think a simple String concatenation with some spaces when needed, and a tab could do the trick here."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1649659900,"post_id":71823591,"comment_id":126922715,"body_markdown":"Post text here rather than images, wherever practical.","body":"Post text here rather than images, wherever practical."},{"owner":{"account_id":24897523,"reputation":11,"user_id":18768599,"display_name":"Pro-Procrastinator"},"score":0,"creation_date":1649659922,"post_id":71823591,"comment_id":126922721,"body_markdown":"Edited, Now please check","body":"Edited, Now please check"},{"owner":{"account_id":24897523,"reputation":11,"user_id":18768599,"display_name":"Pro-Procrastinator"},"score":0,"creation_date":1649660148,"post_id":71823591,"comment_id":126922783,"body_markdown":"@Stultuske i tried that to but it also not work","body":"@Stultuske i tried that to but it also not work"},{"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"score":0,"creation_date":1649661612,"post_id":71823591,"comment_id":126923222,"body_markdown":"what&#39;s the content of test1.txt file?","body":"what&#39;s the content of test1.txt file?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1649661653,"post_id":71823591,"comment_id":126923236,"body_markdown":"how did you try that?","body":"how did you try that?"},{"owner":{"account_id":24897523,"reputation":11,"user_id":18768599,"display_name":"Pro-Procrastinator"},"score":0,"creation_date":1649664020,"post_id":71823591,"comment_id":126924009,"body_markdown":"@Stultuske by giving spaces in the print statement","body":"@Stultuske by giving spaces in the print statement"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1649664490,"post_id":71823591,"comment_id":126924166,"body_markdown":"could you show that attempt in code in the question?","body":"could you show that attempt in code in the question?"}],"owner":{"account_id":24897523,"reputation":11,"user_id":18768599,"display_name":"Pro-Procrastinator"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649661270,"creation_date":1649659223,"question_id":71823591,"body_markdown":"I am little confused about how I can format my output cleanly like the output given below:\r\n\r\n[![Click here to see what output format I want][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Namz.png\r\n\r\nMy code:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.Scanner;\r\n\r\npublic class CountChar {\r\n  public static void main(String[] args) {\r\n\r\n    File file = new File(&quot;test1.txt&quot;);\r\n    BufferedReader reader = null;\r\n    int numCount = 0;\r\n    int otherCount = 0;\r\n    Scanner sc = new Scanner(System.in);\r\n    System.out.println(&quot;Please specify the # of intervals: &quot;);\r\n    int N = sc.nextInt();\r\n    while (true) {\r\n      if (N == 2 || N == 4 || N == 5 || N == 10) {\r\n        break;\r\n      } else {\r\n        System.out.println(&quot;Your input is not supported, please choose another value: &quot;);\r\n        N = sc.nextInt();\r\n      }\r\n\r\n    }\r\n    int interval_at = 100 / N;\r\n    int[] histogram = new int[N];\r\n    try {\r\n      reader = new BufferedReader(new FileReader(file));\r\n      String text = null;\r\n      while ((text = reader.readLine()) != null) {\r\n        int num = 0;\r\n\r\n        try {\r\n          num = Integer.parseInt(text);\r\n          if (num &gt; 0 &amp;&amp; num &lt;= 100) {\r\n            numCount++;\r\n            int inRange = (num - 1) / interval_at;\r\n            histogram[inRange] = histogram[inRange] + 1;\r\n          } else {\r\n            otherCount++;\r\n          }\r\n        } catch (NumberFormatException e) {\r\n          otherCount++;\r\n          continue;\r\n        }\r\n      }\r\n      // creating a file in which the output is stored\r\n      File myObj = new File(&quot;result1.txt&quot;);\r\n      if (myObj.createNewFile()) {\r\n        System.out.println(&quot;File created: &quot; + myObj.getName());\r\n      } else {\r\n        System.out.println(&quot;File already exists.&quot;);\r\n      }\r\n\r\n      // Writting in a file\r\n      FileWriter myWriter = new FileWriter(&quot;result1.txt&quot;);\r\n      myWriter.write(&quot;Please specify the # of intervals: &quot;);\r\n      myWriter.write(&quot;\\n&quot; + N);\r\n      myWriter.write(&quot;\\nNumber of integers in the interval [1,100]: &quot; + numCount);\r\n      myWriter.write(&quot;\\nOthers: &quot; + otherCount);\r\n      for (int i = 0; i &lt; N; i++) {\r\n        myWriter.write(&quot;\\n&quot; + ((i * interval_at) + 1) + &quot; - &quot; + ((i + 1) * interval_at) + &quot; | &quot;);\r\n        for (int j = 0; j &lt; histogram[i]; j++) {\r\n          myWriter.write(&quot;*&quot;);\r\n        }\r\n      }\r\n      myWriter.close();\r\n\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nMy code output:\r\n\r\n```none\r\n1 - 25 | ****************\r\n26 - 50 | *******************\r\n51 - 75 | ***********************\r\n76 - 100 | **********************\r\n```\r\n\r\nI need to format my output as given in the picture above.","title":"Format the output in JAVA","body":"<p>I am little confused about how I can format my output cleanly like the output given below:</p>\n<p><a href=\"https://i.stack.imgur.com/6Namz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Namz.png\" alt=\"Click here to see what output format I want\" /></a></p>\n<p>My code:</p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\n\npublic class CountChar {\n  public static void main(String[] args) {\n\n    File file = new File(&quot;test1.txt&quot;);\n    BufferedReader reader = null;\n    int numCount = 0;\n    int otherCount = 0;\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Please specify the # of intervals: &quot;);\n    int N = sc.nextInt();\n    while (true) {\n      if (N == 2 || N == 4 || N == 5 || N == 10) {\n        break;\n      } else {\n        System.out.println(&quot;Your input is not supported, please choose another value: &quot;);\n        N = sc.nextInt();\n      }\n\n    }\n    int interval_at = 100 / N;\n    int[] histogram = new int[N];\n    try {\n      reader = new BufferedReader(new FileReader(file));\n      String text = null;\n      while ((text = reader.readLine()) != null) {\n        int num = 0;\n\n        try {\n          num = Integer.parseInt(text);\n          if (num &gt; 0 &amp;&amp; num &lt;= 100) {\n            numCount++;\n            int inRange = (num - 1) / interval_at;\n            histogram[inRange] = histogram[inRange] + 1;\n          } else {\n            otherCount++;\n          }\n        } catch (NumberFormatException e) {\n          otherCount++;\n          continue;\n        }\n      }\n      // creating a file in which the output is stored\n      File myObj = new File(&quot;result1.txt&quot;);\n      if (myObj.createNewFile()) {\n        System.out.println(&quot;File created: &quot; + myObj.getName());\n      } else {\n        System.out.println(&quot;File already exists.&quot;);\n      }\n\n      // Writting in a file\n      FileWriter myWriter = new FileWriter(&quot;result1.txt&quot;);\n      myWriter.write(&quot;Please specify the # of intervals: &quot;);\n      myWriter.write(&quot;\\n&quot; + N);\n      myWriter.write(&quot;\\nNumber of integers in the interval [1,100]: &quot; + numCount);\n      myWriter.write(&quot;\\nOthers: &quot; + otherCount);\n      for (int i = 0; i &lt; N; i++) {\n        myWriter.write(&quot;\\n&quot; + ((i * interval_at) + 1) + &quot; - &quot; + ((i + 1) * interval_at) + &quot; | &quot;);\n        for (int j = 0; j &lt; histogram[i]; j++) {\n          myWriter.write(&quot;*&quot;);\n        }\n      }\n      myWriter.close();\n\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>My code output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 - 25 | ****************\n26 - 50 | *******************\n51 - 75 | ***********************\n76 - 100 | **********************\n</code></pre>\n<p>I need to format my output as given in the picture above.</p>\n"},{"tags":["java","maven","jenkins"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":0,"creation_date":1649661414,"post_id":71823937,"comment_id":126923152,"body_markdown":"What does your maven project look like?  There&#39;s something in your project that Maven doesn&#39;t seem to like.","body":"What does your maven project look like?  There&#39;s something in your project that Maven doesn&#39;t seem to like."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649661566,"post_id":71823937,"comment_id":126923203,"body_markdown":"Which Jenkins version do you use? How have you configured Maven and your build to be run? Second Why do you use such an old version of Maven?","body":"Which Jenkins version do you use? How have you configured Maven and your build to be run? Second Why do you use such an old version of Maven?"},{"owner":{"account_id":24503858,"reputation":11,"user_id":18419139,"display_name":"Bhavitha"},"score":0,"creation_date":1649668397,"post_id":71823937,"comment_id":126925655,"body_markdown":"I am using Jenkins 2.303.1 version. Yes, configured maven. In my project they are using this old version of maven.","body":"I am using Jenkins 2.303.1 version. Yes, configured maven. In my project they are using this old version of maven."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649669093,"post_id":71823937,"comment_id":126925915,"body_markdown":"How have you configured Maven? Using global tools configuration? Or how?","body":"How have you configured Maven? Using global tools configuration? Or how?"},{"owner":{"account_id":24503858,"reputation":11,"user_id":18419139,"display_name":"Bhavitha"},"score":0,"creation_date":1649672981,"post_id":71823937,"comment_id":126927402,"body_markdown":"yeah yes, in global tool configuration only","body":"yeah yes, in global tool configuration only"},{"owner":{"account_id":1820589,"reputation":190,"user_id":1654749,"display_name":"C&#233;dric Levasseur"},"score":0,"creation_date":1659517859,"post_id":71823937,"comment_id":129311549,"body_markdown":"Hi @Bhavitha. How did you get your issue solved, finally ? Thanks","body":"Hi @Bhavitha. How did you get your issue solved, finally ? Thanks"}],"owner":{"account_id":24503858,"reputation":11,"user_id":18419139,"display_name":"Bhavitha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649661246,"creation_date":1649661246,"question_id":71823937,"body_markdown":"I&#39;m facing this issue with Jenkins when trying to build the maven project.\r\n\r\nI checked few suggestions but none of them seem to answer my problem.\r\n\r\nError log is attached below. Any help would be much appreciated.\r\n\r\n    ERROR: Processing failed due to a bug in the code. Please report this to the issue tracker (https://jenkins.io/redirect/report-an-issue).\r\n    java.lang.NullPointerException\r\n    \tat java.util.Hashtable.put(Hashtable.java:460)\r\n    \tat hudson.maven.MavenModuleSetBuild$PomParser.&lt;init&gt;(MavenModuleSetBuild.java:1171)\r\n    \tat hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.parsePoms(MavenModuleSetBuild.java:985)\r\n    \tat hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.doRun(MavenModuleSetBuild.java:689)\r\n    \tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:516)\r\n    \tat hudson.model.Run.execute(Run.java:1889)\r\n    \tat hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:543)\r\n\r\nI checked my maven and java version. I am using maven 3.5.4 and java 1.8 versions. I expected to run the build successfully, But got the same error again.\r\n","title":"Jenkins Build Failure:Getting java.lang.NullPointerException at hudson.maven.MavenModuleSetBuild$PomParser.&lt;init&gt;(MavenModuleSetBuild.java:1171)","body":"<p>I'm facing this issue with Jenkins when trying to build the maven project.</p>\n<p>I checked few suggestions but none of them seem to answer my problem.</p>\n<p>Error log is attached below. Any help would be much appreciated.</p>\n<pre><code>ERROR: Processing failed due to a bug in the code. Please report this to the issue tracker (https://jenkins.io/redirect/report-an-issue).\njava.lang.NullPointerException\n    at java.util.Hashtable.put(Hashtable.java:460)\n    at hudson.maven.MavenModuleSetBuild$PomParser.&lt;init&gt;(MavenModuleSetBuild.java:1171)\n    at hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.parsePoms(MavenModuleSetBuild.java:985)\n    at hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.doRun(MavenModuleSetBuild.java:689)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:516)\n    at hudson.model.Run.execute(Run.java:1889)\n    at hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:543)\n</code></pre>\n<p>I checked my maven and java version. I am using maven 3.5.4 and java 1.8 versions. I expected to run the build successfully, But got the same error again.</p>\n"},{"tags":["java","spring","spring-boot","cassandra","spring-transactions"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1649662489,"post_id":71823918,"comment_id":126923505,"body_markdown":"What would you want to do in case of a transaction failure if the database doesn&#39;t support transactions? Deleting inserted elements is fairly easy to achieve but how about updates and deletes? And how about the lack of isolation, i.e. writes being visible right after the DB call? All of this is solvable to some extend and with some effort but might depend on your requirements and environment. One pattern you could look up to achieve this would be the Saga pattern. However, you&#39;d still need to know what compensations should look like.","body":"What would you want to do in case of a transaction failure if the database doesn&#39;t support transactions? Deleting inserted elements is fairly easy to achieve but how about updates and deletes? And how about the lack of isolation, i.e. writes being visible right after the DB call? All of this is solvable to some extend and with some effort but might depend on your requirements and environment. One pattern you could look up to achieve this would be the Saga pattern. However, you&#39;d still need to know what compensations should look like."}],"owner":{"account_id":13161370,"reputation":85,"user_id":9506760,"display_name":"Ali ZD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649661113,"creation_date":1649661113,"question_id":71823918,"body_markdown":"I have a function that performs a combination of database and non-database operations.\r\nThe point is that we are using a non-transactional database (Cassandra database).\r\nI need the operations inside this function to be done as a transaction. Definitely @Transactional annotation can not be used.\r\nWhat do you suggest to solve this problem?\r\n\r\n    @Transactional\r\n    public Definition save(Request request){\r\n      redis.getAndDelete(request.getDefinition().getId());\r\n      Container.increment();\r\n      Definition savedDefinition = CassandraDefinitionCallBack.insert(request.getDefinition());\r\n      return savedDefinition;\r\n    }","title":"Spring boot transaction for non transactional db operations","body":"<p>I have a function that performs a combination of database and non-database operations.\nThe point is that we are using a non-transactional database (Cassandra database).\nI need the operations inside this function to be done as a transaction. Definitely @Transactional annotation can not be used.\nWhat do you suggest to solve this problem?</p>\n<pre><code>@Transactional\npublic Definition save(Request request){\n  redis.getAndDelete(request.getDefinition().getId());\n  Container.increment();\n  Definition savedDefinition = CassandraDefinitionCallBack.insert(request.getDefinition());\n  return savedDefinition;\n}\n</code></pre>\n"},{"tags":["java","javafx","mediaview"],"comments":[{"owner":{"account_id":20119703,"reputation":11,"user_id":14754393,"display_name":"Suman Kumar"},"score":0,"creation_date":1649661919,"post_id":71823912,"comment_id":126923337,"body_markdown":"This error also occur when i am working in webView.","body":"This error also occur when i am working in webView."},{"owner":{"account_id":10694367,"reputation":1404,"user_id":7872110,"display_name":"Islam Assem"},"score":1,"creation_date":1649665982,"post_id":71823912,"comment_id":126924712,"body_markdown":"Does this answer your question? [Java FX Modular Application, Module not found (Java 11, Intellij)](https://stackoverflow.com/questions/53447738/java-fx-modular-application-module-not-found-java-11-intellij)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53447738/java-fx-modular-application-module-not-found-java-11-intellij\">Java FX Modular Application, Module not found (Java 11, Intellij)</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649741016,"post_id":71823912,"comment_id":126946292,"body_markdown":"You dont need to `--add-modules` when you have a module info, you still need a module path for your code and required modules.  Easiest fix is [idea new JavaFX project](https://www.jetbrains.com/help/idea/javafx.html#check-plugin), this will create a maven project and idea and maven will understand the modularity and put all the required modules (including your code and the dependent JavaFX modules) on your build and run path automatically.","body":"You dont need to <code>--add-modules</code> when you have a module info, you still need a module path for your code and required modules.  Easiest fix is <a href=\"https://www.jetbrains.com/help/idea/javafx.html#check-plugin\" rel=\"nofollow noreferrer\">idea new JavaFX project</a>, this will create a maven project and idea and maven will understand the modularity and put all the required modules (including your code and the dependent JavaFX modules) on your build and run path automatically."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649741272,"post_id":71823912,"comment_id":126946339,"body_markdown":"If you also want webview to work, [follow the instructions here](https://stackoverflow.com/questions/70942561/can-not-resolve-symbol-javafx-scene-web/70946444#70946444).","body":"If you also want webview to work, <a href=\"https://stackoverflow.com/questions/70942561/can-not-resolve-symbol-javafx-scene-web/70946444#70946444\">follow the instructions here</a>."}],"owner":{"account_id":20119703,"reputation":11,"user_id":14754393,"display_name":"Suman Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2552,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649661075,"creation_date":1649661075,"question_id":71823912,"body_markdown":"Creating simple javafx 17.0.2 application. Getting error.\r\n\r\n - OS: Windows 11  \r\n - Java SE Development Kit: 17.0.2   \r\n - javafx: 17.0.2\r\n\r\n**Error**\r\n\r\n\r\n    Error occurred during initialization of boot layer\r\n    java.lang.module.FindException: Module aparajita.suman.demo not found\r\n\r\n\r\n**hello-view.fxml**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.media.MediaView?&gt;\r\n    \r\n    \r\n    &lt;fx:root maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; type=&quot;AnchorPane&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;aparajita.suman.demo.HelloController&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;MediaView fitHeight=&quot;360.0&quot; fitWidth=&quot;600.0&quot; layoutY=&quot;7.0&quot; /&gt;\r\n          &lt;Button fx:id=&quot;playButton&quot; layoutX=&quot;72.0&quot; layoutY=&quot;367.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Play&quot; /&gt;\r\n          &lt;Button fx:id=&quot;pauseButton&quot; layoutX=&quot;236.0&quot; layoutY=&quot;367.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Pause&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/fx:root&gt;\r\n\r\n**HelloApplication.java**\r\n\r\n    package aparajita.suman.demo;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load(), 600, 400);\r\n            stage.setTitle(&quot;Hello!&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n\r\n**In pom.xml**\r\n\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n       &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n       &lt;version&gt;17.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n**module-info.java**\r\n\r\n\r\n    module aparajita.suman.demo {\r\n        requires javafx.controls;\r\n        requires javafx.fxml;\r\n        requires javafx.media;\r\n    \r\n    \r\n        opens aparajita.suman.demo to javafx.fxml;\r\n        exports aparajita.suman.demo;\r\n    }\r\n\r\n\r\n**In VM option**\r\n\r\n`\r\n--module-path\r\n&quot;C:\\Users\\HP\\Downloads\\javafx-sdk-17.0.2\\lib&quot;\r\n--add-modules\r\njavafx.media,javafx.controls\r\n`\r\n\r\n[This is my project structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q1QcH.png","title":"Error occurred during initialization of boot layer in JavaFX","body":"<p>Creating simple javafx 17.0.2 application. Getting error.</p>\n<ul>\n<li>OS: Windows 11</li>\n<li>Java SE Development Kit: 17.0.2</li>\n<li>javafx: 17.0.2</li>\n</ul>\n<p><strong>Error</strong></p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module aparajita.suman.demo not found\n</code></pre>\n<p><strong>hello-view.fxml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.media.MediaView?&gt;\n\n\n&lt;fx:root maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; type=&quot;AnchorPane&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;aparajita.suman.demo.HelloController&quot;&gt;\n   &lt;children&gt;\n      &lt;MediaView fitHeight=&quot;360.0&quot; fitWidth=&quot;600.0&quot; layoutY=&quot;7.0&quot; /&gt;\n      &lt;Button fx:id=&quot;playButton&quot; layoutX=&quot;72.0&quot; layoutY=&quot;367.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Play&quot; /&gt;\n      &lt;Button fx:id=&quot;pauseButton&quot; layoutX=&quot;236.0&quot; layoutY=&quot;367.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Pause&quot; /&gt;\n   &lt;/children&gt;\n&lt;/fx:root&gt;\n</code></pre>\n<p><strong>HelloApplication.java</strong></p>\n<pre><code>package aparajita.suman.demo;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 600, 400);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><strong>In pom.xml</strong></p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n   &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n   &lt;version&gt;17.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>module-info.java</strong></p>\n<pre><code>module aparajita.suman.demo {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.media;\n\n\n    opens aparajita.suman.demo to javafx.fxml;\n    exports aparajita.suman.demo;\n}\n</code></pre>\n<p><strong>In VM option</strong></p>\n<p><code>--module-path &quot;C:\\Users\\HP\\Downloads\\javafx-sdk-17.0.2\\lib&quot; --add-modules javafx.media,javafx.controls</code></p>\n<p><a href=\"https://i.stack.imgur.com/q1QcH.png\" rel=\"nofollow noreferrer\">This is my project structure</a></p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1649430148,"post_id":71795785,"comment_id":126881194,"body_markdown":"Likely a PDFBox bug. Please check whether it happens with 2.0.25 or with the current 3.0 snapshot.","body":"Likely a PDFBox bug. Please check whether it happens with 2.0.25 or with the current 3.0 snapshot."}],"answers":[{"tags":[],"owner":{"account_id":6987802,"reputation":93,"user_id":5358039,"display_name":"Stef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649660742,"creation_date":1649660742,"answer_id":71823851,"question_id":71795785,"body_markdown":"The latest version 3.0.0-alpha2 of PdfBox seems to resolve this problem.","title":"PDFBox: Validation of created PDF/A-3A document with attachment fails with stream length mismatch","body":"<p>The latest version 3.0.0-alpha2 of PdfBox seems to resolve this problem.</p>\n"}],"owner":{"account_id":6987802,"reputation":93,"user_id":5358039,"display_name":"Stef"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71823851,"answer_count":1,"score":0,"last_activity_date":1649660742,"creation_date":1649415306,"question_id":71795785,"body_markdown":"I&#39;m trying to create a PDF/A-3A file with an attached plaint text file using the example CreatePDFA but the validation of the resulting file fails using VeraPDF validator.\r\nI&#39;m using PDFBox v.3.0.0 RC1.\r\n\r\nError:\r\n*The value of the Length key specified in the stream dictionary shall match the number of bytes in the file following the LINE FEED (0Ah) character after the stream keyword and preceding the EOL marker before the endstream keyword.*\r\n\r\nError location is: root/indirectObjects[0](22 0)/directObject[0]\r\n\r\nHow can I add the correct length to the PDF file?\r\nThe attachment code is as follows:\r\n```\r\n    private void attachFile(PDDocument doc, File file, String mediaType, String description) throws IOException {\r\n\r\n        long fileSize = file.length();\r\n        BasicFileAttributes fileAttr = Files.readAttributes(file.toPath(), BasicFileAttributes.class);\r\n\r\n        GregorianCalendar creationTimeCal = new GregorianCalendar();\r\n        creationTimeCal.setTimeInMillis(fileAttr.creationTime().toMillis());\r\n\r\n        GregorianCalendar modifiedTimeCal = new GregorianCalendar();\r\n        modifiedTimeCal.setTimeInMillis(fileAttr.lastModifiedTime().toMillis());\r\n\r\n        // embedded files are stored in a named tree\r\n        PDEmbeddedFilesNameTreeNode efTree = new PDEmbeddedFilesNameTreeNode();\r\n\r\n        // first create the file specification, which holds the embedded file\r\n        PDComplexFileSpecification fs = new PDComplexFileSpecification();\r\n\r\n        // use both methods for backwards, cross-platform and cross-language compatibility.\r\n        fs.setFile(file.getName());\r\n        fs.setFileUnicode(file.getName());\r\n\r\n        COSDictionary dict = fs.getCOSObject();\r\n        dict.setName(&quot;AFRelationship&quot;, &quot;Alternative&quot;);\r\n\r\n        try (InputStream is = Files.newInputStream(file.toPath(), StandardOpenOption.READ)) {\r\n\r\n            PDEmbeddedFile ef = new PDEmbeddedFile(doc, is);\r\n\r\n            // now lets some of the optional parameters\r\n            ef.setSubtype(mediaType);\r\n            ef.setSize((int) fileSize);\r\n            ef.setCreationDate(creationTimeCal);\r\n            ef.setModDate(modifiedTimeCal);\r\n            ef.setDecodedStreamLength((int) fileSize);\r\n\r\n            // use both methods for backwards, cross-platform and cross-language compatibility.\r\n            fs.setEmbeddedFile(ef);\r\n            fs.setEmbeddedFileUnicode(ef);\r\n            fs.setFileDescription(StringUtils.defaultString(description, file.getName()));\r\n\r\n            // create a new tree node and add the embedded file\r\n            String attachmentName = StringUtils.defaultString(file.getName(),description);\r\n            PDEmbeddedFilesNameTreeNode treeNode = new PDEmbeddedFilesNameTreeNode();\r\n            treeNode.setNames(Collections.singletonMap(attachmentName, fs));\r\n\r\n            // add the new node as kid to the root node\r\n            List&lt;PDEmbeddedFilesNameTreeNode&gt; kids = new ArrayList&lt;&gt;();\r\n            kids.add(treeNode);\r\n            efTree.setKids(kids);\r\n\r\n            // add the tree to the document catalog\r\n            PDDocumentNameDictionary names = new PDDocumentNameDictionary(doc.getDocumentCatalog());\r\n            names.setEmbeddedFiles(efTree);\r\n            doc.getDocumentCatalog().setNames(names);\r\n\r\n            // AF entry (Array) in catalog with the FileSpec\r\n            COSArray cosArray = new COSArray();\r\n            cosArray.add(fs);\r\n            doc.getDocumentCatalog().getCOSObject().setItem(&quot;AF&quot;, cosArray);\r\n\r\n            // show attachments panel in some viewers\r\n            doc.getDocumentCatalog().setPageMode(PageMode.USE_ATTACHMENTS);\r\n        }\r\n    }\r\n```\r\nThe PDF file can be found here:\r\nhttps://gofile.io/d/FuWIdV\r\n\r\n\r\n\r\n","title":"PDFBox: Validation of created PDF/A-3A document with attachment fails with stream length mismatch","body":"<p>I'm trying to create a PDF/A-3A file with an attached plaint text file using the example CreatePDFA but the validation of the resulting file fails using VeraPDF validator.\nI'm using PDFBox v.3.0.0 RC1.</p>\n<p>Error:\n<em>The value of the Length key specified in the stream dictionary shall match the number of bytes in the file following the LINE FEED (0Ah) character after the stream keyword and preceding the EOL marker before the endstream keyword.</em></p>\n<p>Error location is: root/indirectObjects[0](22 0)/directObject[0]</p>\n<p>How can I add the correct length to the PDF file?\nThe attachment code is as follows:</p>\n<pre><code>    private void attachFile(PDDocument doc, File file, String mediaType, String description) throws IOException {\n\n        long fileSize = file.length();\n        BasicFileAttributes fileAttr = Files.readAttributes(file.toPath(), BasicFileAttributes.class);\n\n        GregorianCalendar creationTimeCal = new GregorianCalendar();\n        creationTimeCal.setTimeInMillis(fileAttr.creationTime().toMillis());\n\n        GregorianCalendar modifiedTimeCal = new GregorianCalendar();\n        modifiedTimeCal.setTimeInMillis(fileAttr.lastModifiedTime().toMillis());\n\n        // embedded files are stored in a named tree\n        PDEmbeddedFilesNameTreeNode efTree = new PDEmbeddedFilesNameTreeNode();\n\n        // first create the file specification, which holds the embedded file\n        PDComplexFileSpecification fs = new PDComplexFileSpecification();\n\n        // use both methods for backwards, cross-platform and cross-language compatibility.\n        fs.setFile(file.getName());\n        fs.setFileUnicode(file.getName());\n\n        COSDictionary dict = fs.getCOSObject();\n        dict.setName(&quot;AFRelationship&quot;, &quot;Alternative&quot;);\n\n        try (InputStream is = Files.newInputStream(file.toPath(), StandardOpenOption.READ)) {\n\n            PDEmbeddedFile ef = new PDEmbeddedFile(doc, is);\n\n            // now lets some of the optional parameters\n            ef.setSubtype(mediaType);\n            ef.setSize((int) fileSize);\n            ef.setCreationDate(creationTimeCal);\n            ef.setModDate(modifiedTimeCal);\n            ef.setDecodedStreamLength((int) fileSize);\n\n            // use both methods for backwards, cross-platform and cross-language compatibility.\n            fs.setEmbeddedFile(ef);\n            fs.setEmbeddedFileUnicode(ef);\n            fs.setFileDescription(StringUtils.defaultString(description, file.getName()));\n\n            // create a new tree node and add the embedded file\n            String attachmentName = StringUtils.defaultString(file.getName(),description);\n            PDEmbeddedFilesNameTreeNode treeNode = new PDEmbeddedFilesNameTreeNode();\n            treeNode.setNames(Collections.singletonMap(attachmentName, fs));\n\n            // add the new node as kid to the root node\n            List&lt;PDEmbeddedFilesNameTreeNode&gt; kids = new ArrayList&lt;&gt;();\n            kids.add(treeNode);\n            efTree.setKids(kids);\n\n            // add the tree to the document catalog\n            PDDocumentNameDictionary names = new PDDocumentNameDictionary(doc.getDocumentCatalog());\n            names.setEmbeddedFiles(efTree);\n            doc.getDocumentCatalog().setNames(names);\n\n            // AF entry (Array) in catalog with the FileSpec\n            COSArray cosArray = new COSArray();\n            cosArray.add(fs);\n            doc.getDocumentCatalog().getCOSObject().setItem(&quot;AF&quot;, cosArray);\n\n            // show attachments panel in some viewers\n            doc.getDocumentCatalog().setPageMode(PageMode.USE_ATTACHMENTS);\n        }\n    }\n</code></pre>\n<p>The PDF file can be found here:\n<a href=\"https://gofile.io/d/FuWIdV\" rel=\"nofollow noreferrer\">https://gofile.io/d/FuWIdV</a></p>\n"},{"tags":["java","oracle","hibernate"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1649528957,"post_id":71810778,"comment_id":126900707,"body_markdown":"I havent tried it myself. I see no reason why we shouldnt expect it to work. Did *you* try?","body":"I havent tried it myself. I see no reason why we shouldnt expect it to work. Did <i>you</i> try?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1649530107,"post_id":71810778,"comment_id":126900943,"body_markdown":"No, those `?` are used for _values_, not for identifiers. Let&#39;s say `dual`, whatever that might be, has a column named &#39;foo&#39; as well as a column named &#39;bar&#39; - then you can&#39;t use this to make one preparedstatement that alternatives returns the value of either column.","body":"No, those <code>?</code> are used for <i>values</i>, not for identifiers. Let&#39;s say <code>dual</code>, whatever that might be, has a column named &#39;foo&#39; as well as a column named &#39;bar&#39; - then you can&#39;t use this to make one preparedstatement that alternatives returns the value of either column."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1649530135,"post_id":71810778,"comment_id":126900949,"body_markdown":"Note that e.g. `SELECT &#39;hello&#39; FROM foo` is legal SQL and just returns literally the string &#39;hello&#39; once for every entry in `foo`. So, legal, but useless. That&#39;s what will happen if you try this.","body":"Note that e.g. <code>SELECT &#39;hello&#39; FROM foo</code> is legal SQL and just returns literally the string &#39;hello&#39; once for every entry in <code>foo</code>. So, legal, but useless. That&#39;s what will happen if you try this."},{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":5,"creation_date":1649532122,"post_id":71810778,"comment_id":126901298,"body_markdown":"[Oracle&#39;s `dual` table](https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/Selecting-from-the-DUAL-Table.html) is a single row with a column called `dummy` (with value `&#39;X&#39;`). Selecting a literal value from it is common for generating CTEs, and it&#39;s somewhat optimised for this. So yes, this would work; but the result set would be a single row with the value you provided, which seems a bit pointless. What are you really trying to do/achieve?","body":"<a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/Selecting-from-the-DUAL-Table.html\" rel=\"nofollow noreferrer\">Oracle&#39;s <code>dual</code> table</a> is a single row with a column called <code>dummy</code> (with value <code>&#39;X&#39;</code>). Selecting a literal value from it is common for generating CTEs, and it&#39;s somewhat optimised for this. So yes, this would work; but the result set would be a single row with the value you provided, which seems a bit pointless. What are you really trying to do/achieve?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649587832,"post_id":71810778,"comment_id":126908983,"body_markdown":"@rzwitserloot Given that the OPs understanding of `dual` agrees with that of Alex Poole (which agrees with mine except I dont know what CTE stands for), we can safely take it that the OP is trying to get the same value back that they supply, not trying to alter between columns (since there is only one column).","body":"@rzwitserloot Given that the OPs understanding of <code>dual</code> agrees with that of Alex Poole (which agrees with mine except I dont know what CTE stands for), we can safely take it that the OP is trying to get the same value back that they supply, not trying to alter between columns (since there is only one column)."},{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":1,"creation_date":1649609188,"post_id":71810778,"comment_id":126913608,"body_markdown":"CTE is common table expression - a.k.a subquery factoring. What isn&#39;t really clear is what `expression` actually is in the `setString()` call. If that is a string like &quot;3&quot; then this will work but just return 3 or &quot;3&quot; depending on the `rset.get*()` call, which isn&#39;t helpful. If it&#39;s a string like &quot;3+4&quot; that you want Oracle to evaluate as an expression then it will fail; with `getInt()` it will error, with `getString()` it will just return the same string again (I think). If it&#39;s a Java expression which evaluates to a number/string/whatever then you wouldn&#39;t need to involve the database...","body":"CTE is common table expression - a.k.a subquery factoring. What isn&#39;t really clear is what <code>expression</code> actually is in the <code>setString()</code> call. If that is a string like &quot;3&quot; then this will work but just return 3 or &quot;3&quot; depending on the <code>rset.get*()</code> call, which isn&#39;t helpful. If it&#39;s a string like &quot;3+4&quot; that you want Oracle to evaluate as an expression then it will fail; with <code>getInt()</code> it will error, with <code>getString()</code> it will just return the same string again (I think). If it&#39;s a Java expression which evaluates to a number/string/whatever then you wouldn&#39;t need to involve the database..."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649610050,"post_id":71810778,"comment_id":126913798,"body_markdown":"@AlexPoole Thanks. You are obviously correct. If the expression is `&quot;Stand with Ukraine&quot;`, then that string is returned. If it is `&quot;&quot; + 3 + 4`, then the string `&quot;34&quot;` is returned. Oracle can do noting but return the string as it receives it. Whether thats useful? Usually not, but Im not the one to rule out that it may be in special situations.","body":"@AlexPoole Thanks. You are obviously correct. If the expression is <code>&quot;Stand with Ukraine&quot;</code>, then that string is returned. If it is <code>&quot;&quot; + 3 + 4</code>, then the string <code>&quot;34&quot;</code> is returned. Oracle can do noting but return the string as it receives it. Whether thats useful? Usually not, but Im not the one to rule out that it may be in special situations."}],"owner":{"account_id":11148179,"reputation":19,"user_id":8182281,"display_name":"tanvi kulkarni"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1649660405,"creation_date":1649528633,"question_id":71810778,"body_markdown":"For example, if i have declared \r\n\r\n    String SQL = &quot;select ? from dual&quot;;\r\n\r\nCreate a prepared statement for the above query\r\n\r\n    PreparedStatement preStmt = conn.prepareStatement(SQL);\r\n\r\nAnd then try to add the expression as \r\n\r\n    preStmt.setString(1, expression);\r\n\r\nHow would that work? Is it possible to use it that way? \r\n","title":"Is it possible to use prepared statements for dual in Oracle?","body":"<p>For example, if i have declared</p>\n<pre><code>String SQL = &quot;select ? from dual&quot;;\n</code></pre>\n<p>Create a prepared statement for the above query</p>\n<pre><code>PreparedStatement preStmt = conn.prepareStatement(SQL);\n</code></pre>\n<p>And then try to add the expression as</p>\n<pre><code>preStmt.setString(1, expression);\n</code></pre>\n<p>How would that work? Is it possible to use it that way?</p>\n"},{"tags":["java","security","hardening","log4shell"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1649536715,"post_id":71811463,"comment_id":126902181,"body_markdown":"Have a look at https://docs.oracle.com/javase/tutorial/essential/environment/security.html","body":"Have a look at <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/security.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/environment/&hellip;</a>"},{"owner":{"account_id":2562085,"reputation":4946,"user_id":2223027,"display_name":"pyb"},"score":0,"creation_date":1649537014,"post_id":71811463,"comment_id":126902241,"body_markdown":"@g00se Thank you. It is deprecated and disabled by default in recent versions. Are there good replacements yet?","body":"@g00se Thank you. It is deprecated and disabled by default in recent versions. Are there good replacements yet?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649537418,"post_id":71811463,"comment_id":126902308,"body_markdown":"Really? I don&#39;t see any sign of deprecation in Java 16...","body":"Really? I don&#39;t see any sign of deprecation in Java 16..."},{"owner":{"account_id":2562085,"reputation":4946,"user_id":2223027,"display_name":"pyb"},"score":0,"creation_date":1649537487,"post_id":71811463,"comment_id":126902320,"body_markdown":"@g00se JEP 411, adding the link to my question https://openjdk.java.net/jeps/411","body":"@g00se JEP 411, adding the link to my question <a href=\"https://openjdk.java.net/jeps/411\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/411</a>"},{"owner":{"account_id":2562085,"reputation":4946,"user_id":2223027,"display_name":"pyb"},"score":0,"creation_date":1649537615,"post_id":71811463,"comment_id":126902346,"body_markdown":"@g00se it started with Java 17","body":"@g00se it started with Java 17"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1649537625,"post_id":71811463,"comment_id":126902348,"body_markdown":"You&#39;re ahead of me there ;) I don&#39;t know","body":"You&#39;re ahead of me there ;) I don&#39;t know"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1649589230,"post_id":71811463,"comment_id":126909264,"body_markdown":"Ugh, you would be hoping that they&#39;d replace that with a more dynamic framework. OTOH, I can understand the problematic integration. Maybe some kind of injection framework could work.","body":"Ugh, you would be hoping that they&#39;d replace that with a more dynamic framework. OTOH, I can understand the problematic integration. Maybe some kind of injection framework could work."}],"answers":[{"tags":[],"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649660302,"creation_date":1649660302,"answer_id":71823771,"question_id":71811463,"body_markdown":"I&#39;m not sure there&#39;s a good way to do that. \r\nAs discussed in https://stackoverflow.com/questions/27348744/prevent-forking-in-a-child-process,\r\nyou can set `RLIMIT_NPROC` limit.\r\n\r\nHowever, don&#39;t do that for your java app - you will break it. \r\nThreads are just a special type of a process on Linux and if you restrict nproc you won&#39;t be able to create new threads.\r\n\r\nObserve this behavior on a running java application\r\n\r\n```\r\nprlimit\r\n...\r\nNPROC      max number of processes                15107     15107 processes\r\n\r\nprlimit --pid $(pgrep java) --nproc=10\r\n```\r\n\r\nThen on the stdout of the java app\r\n```\r\n[9816123.415s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 2048k, guardsize: 0k, detached.\r\n```\r\n\r\nI tried this for a production app running in a docker container.\r\n\r\nNote that **nproc limit isn&#39;t enforced if you the process is running as root**.\r\n\r\nMorever, it&#39;s quite easy to reproduce it with a simple Clojure REPL (or JShell variant of it): \r\n\r\n```\r\n# start a clojure/java process\r\nuser=&gt; (require &#39;[clojure.java.shell :as sh])\r\n\r\nuser=&gt; (dotimes [i 100] (future (sh/sh &quot;sleep&quot; &quot;2&quot;)))\r\nnil\r\n\r\n\r\n# then get change the nproc limit for the process - make sure to pass proper pid\r\nprlimit --pid 2769227 --nproc=99\r\n\r\n# then again in the Clojure REPL: \r\nuser=&gt; (dotimes [i 100] (future (sh/sh &quot;sleep&quot; &quot;2&quot;)))\r\n[200.656s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\r\n[200.656s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\r\n[200.657s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\r\n[200.657s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\r\n[200.657s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\r\nExecution error (OutOfMemoryError) at java.lang.Thread/start0 (Thread.java:-2).\r\nunable to create native thread: possibly out of memory or process/resource limits reached\r\n```\r\n\r\nResources: \r\n* Prevent forking in a child process: https://stackoverflow.com/questions/27348744/prevent-forking-in-a-child-process\r\n* Does nproc in limits.conf refers to number of processes or number of threads? https://unix.stackexchange.com/questions/322056/does-nproc-in-limits-conf-refers-to-number-of-processes-or-number-of-threads\r\n* Multiple Java webapps total thread limit on linux https://stackoverflow.com/questions/38333138/multiple-java-webapps-total-thread-limit-on-linux\r\n* prlimit: https://manpages.ubuntu.com/manpages/xenial/man1/prlimit.1.html","title":"How to prevent a Java application from executing processes on GNU/Linux?","body":"<p>I'm not sure there's a good way to do that.\nAs discussed in <a href=\"https://stackoverflow.com/questions/27348744/prevent-forking-in-a-child-process\">Prevent forking in a child process</a>,\nyou can set <code>RLIMIT_NPROC</code> limit.</p>\n<p>However, don't do that for your java app - you will break it.\nThreads are just a special type of a process on Linux and if you restrict nproc you won't be able to create new threads.</p>\n<p>Observe this behavior on a running java application</p>\n<pre><code>prlimit\n...\nNPROC      max number of processes                15107     15107 processes\n\nprlimit --pid $(pgrep java) --nproc=10\n</code></pre>\n<p>Then on the stdout of the java app</p>\n<pre><code>[9816123.415s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 2048k, guardsize: 0k, detached.\n</code></pre>\n<p>I tried this for a production app running in a docker container.</p>\n<p>Note that <strong>nproc limit isn't enforced if you the process is running as root</strong>.</p>\n<p>Morever, it's quite easy to reproduce it with a simple Clojure REPL (or JShell variant of it):</p>\n<pre><code># start a clojure/java process\nuser=&gt; (require '[clojure.java.shell :as sh])\n\nuser=&gt; (dotimes [i 100] (future (sh/sh &quot;sleep&quot; &quot;2&quot;)))\nnil\n\n\n# then get change the nproc limit for the process - make sure to pass proper pid\nprlimit --pid 2769227 --nproc=99\n\n# then again in the Clojure REPL: \nuser=&gt; (dotimes [i 100] (future (sh/sh &quot;sleep&quot; &quot;2&quot;)))\n[200.656s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\n[200.656s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\n[200.657s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\n[200.657s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\n[200.657s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\nExecution error (OutOfMemoryError) at java.lang.Thread/start0 (Thread.java:-2).\nunable to create native thread: possibly out of memory or process/resource limits reached\n</code></pre>\n<p>Resources:</p>\n<ul>\n<li>Prevent forking in a child process: <a href=\"https://stackoverflow.com/questions/27348744/prevent-forking-in-a-child-process\">Prevent forking in a child process</a></li>\n<li>Does nproc in limits.conf refers to number of processes or number of threads? <a href=\"https://unix.stackexchange.com/questions/322056/does-nproc-in-limits-conf-refers-to-number-of-processes-or-number-of-threads\">https://unix.stackexchange.com/questions/322056/does-nproc-in-limits-conf-refers-to-number-of-processes-or-number-of-threads</a></li>\n<li>Multiple Java webapps total thread limit on linux <a href=\"https://stackoverflow.com/questions/38333138/multiple-java-webapps-total-thread-limit-on-linux\">Multiple Java webapps total thread limit on linux</a></li>\n<li>prlimit: <a href=\"https://manpages.ubuntu.com/manpages/xenial/man1/prlimit.1.html\" rel=\"nofollow noreferrer\">https://manpages.ubuntu.com/manpages/xenial/man1/prlimit.1.html</a></li>\n</ul>\n"}],"owner":{"account_id":2562085,"reputation":4946,"user_id":2223027,"display_name":"pyb"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649660302,"creation_date":1649534236,"question_id":71811463,"body_markdown":"In other words, are modern GNU/Linux or JVM (ideally Java 11+) able to prevent a Java process from executing other processes?\n\nIssues such as Log4Shell and Spring4Shell seem possible because the JVM allows a Java application to execute other programs. \n\nAt the OS level, I imagine it may be possible with some process isolation, jails etc. Are there complete examples about that?\n\nHow about the JVM itself? With the [Security Manager gone in recent versions][1], what options exist to harden a Java Virtual Machine?\n\n\n  [1]: https://openjdk.java.net/jeps/411","title":"How to prevent a Java application from executing processes on GNU/Linux?","body":"<p>In other words, are modern GNU/Linux or JVM (ideally Java 11+) able to prevent a Java process from executing other processes?</p>\n<p>Issues such as Log4Shell and Spring4Shell seem possible because the JVM allows a Java application to execute other programs.</p>\n<p>At the OS level, I imagine it may be possible with some process isolation, jails etc. Are there complete examples about that?</p>\n<p>How about the JVM itself? With the <a href=\"https://openjdk.java.net/jeps/411\" rel=\"nofollow noreferrer\">Security Manager gone in recent versions</a>, what options exist to harden a Java Virtual Machine?</p>\n"},{"tags":["java","json","apache-kafka","apache-flink","siddhi"],"answers":[{"tags":[],"owner":{"account_id":11100137,"reputation":654,"user_id":8149051,"display_name":"Piotr Nowojski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649660102,"creation_date":1621929552,"answer_id":67683924,"question_id":67656155,"body_markdown":"Initial guess: if you are using event time, are you sure you have defined watermarks correctly? As stated in the [docs][1]:\r\n\r\n&gt; (...) an incoming element is initially put in a buffer where elements are sorted in ascending order based on their timestamp, and when a watermark arrives, all the elements in this buffer with timestamps smaller than that of the watermark are processed (...)\r\n\r\nIf this doesn&#39;t help, I would suggest to decompose/simplify the job to a bare minimum, for example just a source operator and some naive sink printing/logging elements. And if that works, start adding back operators one by one. You could also start by simplifying your CEP pattern as much as possible.\r\n\r\n\r\n  [1]: https://ci.apache.org/projects/flink/flink-docs-release-1.13/docs/libs/cep/","title":"Not able to process kafka json message with Flink siddhi library","body":"<p>Initial guess: if you are using event time, are you sure you have defined watermarks correctly? As stated in the <a href=\"https://ci.apache.org/projects/flink/flink-docs-release-1.13/docs/libs/cep/\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>(...) an incoming element is initially put in a buffer where elements are sorted in ascending order based on their timestamp, and when a watermark arrives, all the elements in this buffer with timestamps smaller than that of the watermark are processed (...)</p>\n</blockquote>\n<p>If this doesn't help, I would suggest to decompose/simplify the job to a bare minimum, for example just a source operator and some naive sink printing/logging elements. And if that works, start adding back operators one by one. You could also start by simplifying your CEP pattern as much as possible.</p>\n"},{"tags":[],"owner":{"account_id":16347182,"reputation":33,"user_id":11806630,"display_name":"Deepanjan Majumdar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621936839,"creation_date":1621936839,"answer_id":67685761,"question_id":67656155,"body_markdown":"First of all thanks a lot @Piotr Nowojski , just because of your small pointer which no matter how many times I pondered over about event time , it did not came in my mind. So yes while debugging the two cases:\r\n\r\n1) With internal datasource , where it was processing successfully, while debugging the flow , I identified that it was processing a watermark after it was processing the data, but it did not catch me that it was somehow managing the event time of the data implicitly.\r\n2) With kafka as a datasource , while I was debugging I could very clearly see that it was not processing any watermark in the flow, but it did not occur to me that , it is happening because of the event time and watermark not handled properly.\r\n\r\nJust adding a single line of code in the application code which I understood from below Flink code snippet:\r\n\r\n    @deprecated In Flink 1.12 the default stream time characteristic has been changed to {@link\r\n         *     TimeCharacteristic#EventTime}, thus you don&#39;t need to call this method for enabling\r\n         *     event-time support anymore. Explicitly using processing-time windows and timers works in\r\n         *     event-time mode. If you need to disable watermarks, please use {@link\r\n         *     ExecutionConfig#setAutoWatermarkInterval(long)}. If you are using {@link\r\n         *     TimeCharacteristic#IngestionTime}, please manually set an appropriate {@link\r\n         *     WatermarkStrategy}. If you are using generic &quot;time window&quot; operations (for example {@link\r\n         *     org.apache.flink.streaming.api.datastream.KeyedStream#timeWindow(org.apache.flink.streaming.api.windowing.time.Time)}\r\n         *     that change behaviour based on the time characteristic, please use equivalent operations\r\n         *     that explicitly specify processing time or event time.\r\n         */\r\n\r\nI got to know that by default flink considers event time and for that watermark needs to be handled properly which I didn&#39;t so I added below link for setting the time characteristics of the flink execution environment:\r\n\r\n env.setStreamTimeCharacteristic(TimeCharacteristic.ProcessingTime);\r\n\r\nand kaboom ... it started working , while this is deprecated and needs some other configuration, but thanks a lot , it was a great pointer and helped me a lot and I solved the issue..\r\n\r\nThanks again @Piotr Nowojski","title":"Not able to process kafka json message with Flink siddhi library","body":"<p>First of all thanks a lot @Piotr Nowojski , just because of your small pointer which no matter how many times I pondered over about event time , it did not came in my mind. So yes while debugging the two cases:</p>\n<ol>\n<li>With internal datasource , where it was processing successfully, while debugging the flow , I identified that it was processing a watermark after it was processing the data, but it did not catch me that it was somehow managing the event time of the data implicitly.</li>\n<li>With kafka as a datasource , while I was debugging I could very clearly see that it was not processing any watermark in the flow, but it did not occur to me that , it is happening because of the event time and watermark not handled properly.</li>\n</ol>\n<p>Just adding a single line of code in the application code which I understood from below Flink code snippet:</p>\n<pre><code>@deprecated In Flink 1.12 the default stream time characteristic has been changed to {@link\n     *     TimeCharacteristic#EventTime}, thus you don't need to call this method for enabling\n     *     event-time support anymore. Explicitly using processing-time windows and timers works in\n     *     event-time mode. If you need to disable watermarks, please use {@link\n     *     ExecutionConfig#setAutoWatermarkInterval(long)}. If you are using {@link\n     *     TimeCharacteristic#IngestionTime}, please manually set an appropriate {@link\n     *     WatermarkStrategy}. If you are using generic &quot;time window&quot; operations (for example {@link\n     *     org.apache.flink.streaming.api.datastream.KeyedStream#timeWindow(org.apache.flink.streaming.api.windowing.time.Time)}\n     *     that change behaviour based on the time characteristic, please use equivalent operations\n     *     that explicitly specify processing time or event time.\n     */\n</code></pre>\n<p>I got to know that by default flink considers event time and for that watermark needs to be handled properly which I didn't so I added below link for setting the time characteristics of the flink execution environment:</p>\n<p>env.setStreamTimeCharacteristic(TimeCharacteristic.ProcessingTime);</p>\n<p>and kaboom ... it started working , while this is deprecated and needs some other configuration, but thanks a lot , it was a great pointer and helped me a lot and I solved the issue..</p>\n<p>Thanks again @Piotr Nowojski</p>\n"}],"owner":{"account_id":16347182,"reputation":33,"user_id":11806630,"display_name":"Deepanjan Majumdar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67683924,"answer_count":2,"score":1,"last_activity_date":1649660102,"creation_date":1621744272,"question_id":67656155,"body_markdown":"I am trying to create a simple application where the app will consume Kafka message do some cql transform and publish to Kafka and below is the code:\r\n\r\nJAVA: 1.8\r\nFlink: 1.13\r\nScala: 2.11\r\nflink-siddhi: 2.11-0.2.2-SNAPSHOT\r\n\r\nI am using library: https://github.com/haoch/flink-siddhi\r\n\r\n**input json to Kafka:**\r\n\r\n    {\r\n       &quot;awsS3&quot;:{\r\n          &quot;ResourceType&quot;:&quot;aws.S3&quot;,\r\n          &quot;Details&quot;:{\r\n             &quot;Name&quot;:&quot;crossplane-test&quot;,\r\n             &quot;CreationDate&quot;:&quot;2020-08-17T11:28:05+00:00&quot;\r\n          },\r\n          &quot;AccessBlock&quot;:{\r\n             &quot;PublicAccessBlockConfiguration&quot;:{\r\n                &quot;BlockPublicAcls&quot;:true,\r\n                &quot;IgnorePublicAcls&quot;:true,\r\n                &quot;BlockPublicPolicy&quot;:true,\r\n                &quot;RestrictPublicBuckets&quot;:true\r\n             }\r\n          },\r\n          &quot;Location&quot;:{\r\n             &quot;LocationConstraint&quot;:&quot;us-west-2&quot;\r\n          }\r\n       }\r\n    }\r\n\r\n**main class:**\r\n```\r\npublic class S3SidhiApp {\r\n    public static void main(String[] args) {\r\n        internalStreamSiddhiApp.start();\r\n        //kafkaStreamApp.start();\r\n    }\r\n}\r\n```\r\n\r\n**App class:**\r\n\r\n```\r\npackage flinksidhi.app;\r\n\r\nimport com.google.gson.JsonObject;\r\nimport flinksidhi.event.s3.source.S3EventSource;\r\n\r\nimport io.siddhi.core.SiddhiManager;\r\nimport org.apache.flink.api.java.tuple.Tuple2;\r\nimport org.apache.flink.core.fs.FileSystem;\r\nimport org.apache.flink.streaming.api.datastream.DataStream;\r\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\r\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer;\r\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer;\r\nimport org.apache.flink.streaming.siddhi.SiddhiCEP;\r\nimport org.json.JSONObject;\r\n\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Map;\r\n\r\nimport static flinksidhi.app.connector.Consumers.createInputMessageConsumer;\r\nimport static flinksidhi.app.connector.Producer.*;\r\n\r\npublic class internalStreamSiddhiApp {\r\n\r\n    private static final String inputTopic = &quot;EVENT_STREAM_INPUT&quot;;\r\n    private static final String outputTopic = &quot;EVENT_STREAM_OUTPUT&quot;;\r\n    private static final String consumerGroup = &quot;EVENT_STREAM1&quot;;\r\n    private static final String kafkaAddress = &quot;localhost:9092&quot;;\r\n    private static final String zkAddress = &quot;localhost:2181&quot;;\r\n\r\n    private static final String S3_CQL1 = &quot;from inputStream select * insert into temp&quot;;\r\n    private static final String S3_CQL = &quot;from inputStream select json:toObject(awsS3) as obj insert into temp;&quot; +\r\n            &quot;from temp select json:getString(obj,&#39;$.awsS3.ResourceType&#39;) as affected_resource_type,&quot; +\r\n            &quot;json:getString(obj,&#39;$.awsS3.Details.Name&#39;) as affected_resource_name,&quot; +\r\n            &quot;json:getString(obj,&#39;$.awsS3.Encryption.ServerSideEncryptionConfiguration&#39;) as encryption,&quot; +\r\n            &quot;json:getString(obj,&#39;$.awsS3.Encryption.ServerSideEncryptionConfiguration.Rules[0].ApplyServerSideEncryptionByDefault.SSEAlgorithm&#39;) as algorithm insert into temp2; &quot; +\r\n            &quot;from temp2 select  affected_resource_name,affected_resource_type, &quot; +\r\n            &quot;ifThenElse(encryption == &#39; &#39;,&#39;Fail&#39;,&#39;Pass&#39;) as state,&quot; +\r\n            &quot;ifThenElse(encryption != &#39; &#39; and algorithm == &#39;aws:kms&#39;,&#39;None&#39;,&#39;Critical&#39;) as severity insert into outputStream&quot;;\r\n\r\n\r\n    public static void start(){\r\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n        //DataStream&lt;String&gt; inputS = env.addSource(new S3EventSource());\r\n\r\n        //Flink kafka stream consumer\r\n        FlinkKafkaConsumer&lt;String&gt; flinkKafkaConsumer =\r\n                createInputMessageConsumer(inputTopic, kafkaAddress,zkAddress, consumerGroup);\r\n\r\n        //Add Data stream source -- flink consumer\r\n        DataStream&lt;String&gt; inputS = env.addSource(flinkKafkaConsumer);\r\n        SiddhiCEP cep = SiddhiCEP.getSiddhiEnvironment(env);\r\n\r\n        cep.registerExtension(&quot;json:toObject&quot;, io.siddhi.extension.execution.json.function.ToJSONObjectFunctionExtension.class);\r\n        cep.registerExtension( &quot;json:getString&quot;, io.siddhi.extension.execution.json.function.GetStringJSONFunctionExtension.class);\r\n        cep.registerStream(&quot;inputStream&quot;, inputS, &quot;awsS3&quot;);\r\n\r\n\r\n        inputS.print();\r\n\r\n        System.out.println(cep.getDataStreamSchemas());\r\n        //json needs extension jars to present during runtime.\r\n        DataStream&lt;Map&lt;String,Object&gt;&gt; output = cep\r\n                .from(&quot;inputStream&quot;)\r\n                .cql(S3_CQL1)\r\n                .returnAsMap(&quot;temp&quot;);\r\n\r\n\r\n        //Flink kafka stream Producer\r\n        FlinkKafkaProducer&lt;Map&lt;String, Object&gt;&gt; flinkKafkaProducer =\r\n                createMapProducer(env,outputTopic, kafkaAddress);\r\n\r\n        //Add Data stream sink -- flink producer\r\n        output.addSink(flinkKafkaProducer);\r\n        output.print();\r\n\r\n\r\n        try {\r\n            env.execute();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**Consumer class:**\r\n\r\n```\r\npackage flinksidhi.app.connector;\r\n\r\n\r\nimport org.apache.flink.api.common.serialization.SimpleStringSchema;\r\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.Properties;\r\npublic class Consumers {\r\n    public static FlinkKafkaConsumer&lt;String&gt; createInputMessageConsumer(String topic, String kafkaAddress, String zookeeprAddr, String kafkaGroup ) {\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;bootstrap.servers&quot;, kafkaAddress);\r\n        properties.setProperty(&quot;zookeeper.connect&quot;, zookeeprAddr);\r\n        properties.setProperty(&quot;group.id&quot;,kafkaGroup);\r\n        FlinkKafkaConsumer&lt;String&gt; consumer = new FlinkKafkaConsumer&lt;String&gt;(\r\n                topic,new SimpleStringSchema(),properties);\r\n        return consumer;\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Producer class:**\r\n\r\n```\r\npackage flinksidhi.app.connector;\r\n\r\nimport flinksidhi.app.util.ConvertJavaMapToJson;\r\nimport org.apache.flink.api.common.serialization.SerializationSchema;\r\nimport org.apache.flink.api.java.tuple.Tuple2;\r\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer;\r\nimport org.apache.flink.streaming.util.serialization.KeyedSerializationSchema;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.Map;\r\n\r\npublic class Producer {\r\n\r\n    public static FlinkKafkaProducer&lt;Tuple2&gt; createStringProducer(StreamExecutionEnvironment env, String topic, String kafkaAddress) {\r\n\r\n        return new FlinkKafkaProducer&lt;Tuple2&gt;(kafkaAddress, topic, new AverageSerializer());\r\n    }\r\n\r\n    public static FlinkKafkaProducer&lt;Map&lt;String,Object&gt;&gt; createMapProducer(StreamExecutionEnvironment env, String topic, String kafkaAddress) {\r\n\r\n        return new FlinkKafkaProducer&lt;Map&lt;String,Object&gt;&gt;(kafkaAddress, topic, new SerializationSchema&lt;Map&lt;String, Object&gt;&gt;() {\r\n            @Override\r\n            public void open(InitializationContext context) throws Exception {\r\n\r\n            }\r\n\r\n            @Override\r\n            public byte[] serialize(Map&lt;String, Object&gt; stringObjectMap) {\r\n                String json = ConvertJavaMapToJson.convert(stringObjectMap);\r\n                return json.getBytes();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nI have tried many things but the code where the CQL is invoked is never called and doesn&#39;t even give any error not sure where is it going wrong.\r\n\r\nThe same thing if I do creating an internal stream source and use the same input json to return as string it works.\r\n","title":"Not able to process kafka json message with Flink siddhi library","body":"<p>I am trying to create a simple application where the app will consume Kafka message do some cql transform and publish to Kafka and below is the code:</p>\n<p>JAVA: 1.8\nFlink: 1.13\nScala: 2.11\nflink-siddhi: 2.11-0.2.2-SNAPSHOT</p>\n<p>I am using library: <a href=\"https://github.com/haoch/flink-siddhi\" rel=\"nofollow noreferrer\">https://github.com/haoch/flink-siddhi</a></p>\n<p><strong>input json to Kafka:</strong></p>\n<pre><code>{\n   &quot;awsS3&quot;:{\n      &quot;ResourceType&quot;:&quot;aws.S3&quot;,\n      &quot;Details&quot;:{\n         &quot;Name&quot;:&quot;crossplane-test&quot;,\n         &quot;CreationDate&quot;:&quot;2020-08-17T11:28:05+00:00&quot;\n      },\n      &quot;AccessBlock&quot;:{\n         &quot;PublicAccessBlockConfiguration&quot;:{\n            &quot;BlockPublicAcls&quot;:true,\n            &quot;IgnorePublicAcls&quot;:true,\n            &quot;BlockPublicPolicy&quot;:true,\n            &quot;RestrictPublicBuckets&quot;:true\n         }\n      },\n      &quot;Location&quot;:{\n         &quot;LocationConstraint&quot;:&quot;us-west-2&quot;\n      }\n   }\n}\n</code></pre>\n<p><strong>main class:</strong></p>\n<pre><code>public class S3SidhiApp {\n    public static void main(String[] args) {\n        internalStreamSiddhiApp.start();\n        //kafkaStreamApp.start();\n    }\n}\n</code></pre>\n<p><strong>App class:</strong></p>\n<pre><code>package flinksidhi.app;\n\nimport com.google.gson.JsonObject;\nimport flinksidhi.event.s3.source.S3EventSource;\n\nimport io.siddhi.core.SiddhiManager;\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.core.fs.FileSystem;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer;\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer;\nimport org.apache.flink.streaming.siddhi.SiddhiCEP;\nimport org.json.JSONObject;\n\n\nimport java.nio.ByteBuffer;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Map;\n\nimport static flinksidhi.app.connector.Consumers.createInputMessageConsumer;\nimport static flinksidhi.app.connector.Producer.*;\n\npublic class internalStreamSiddhiApp {\n\n    private static final String inputTopic = &quot;EVENT_STREAM_INPUT&quot;;\n    private static final String outputTopic = &quot;EVENT_STREAM_OUTPUT&quot;;\n    private static final String consumerGroup = &quot;EVENT_STREAM1&quot;;\n    private static final String kafkaAddress = &quot;localhost:9092&quot;;\n    private static final String zkAddress = &quot;localhost:2181&quot;;\n\n    private static final String S3_CQL1 = &quot;from inputStream select * insert into temp&quot;;\n    private static final String S3_CQL = &quot;from inputStream select json:toObject(awsS3) as obj insert into temp;&quot; +\n            &quot;from temp select json:getString(obj,'$.awsS3.ResourceType') as affected_resource_type,&quot; +\n            &quot;json:getString(obj,'$.awsS3.Details.Name') as affected_resource_name,&quot; +\n            &quot;json:getString(obj,'$.awsS3.Encryption.ServerSideEncryptionConfiguration') as encryption,&quot; +\n            &quot;json:getString(obj,'$.awsS3.Encryption.ServerSideEncryptionConfiguration.Rules[0].ApplyServerSideEncryptionByDefault.SSEAlgorithm') as algorithm insert into temp2; &quot; +\n            &quot;from temp2 select  affected_resource_name,affected_resource_type, &quot; +\n            &quot;ifThenElse(encryption == ' ','Fail','Pass') as state,&quot; +\n            &quot;ifThenElse(encryption != ' ' and algorithm == 'aws:kms','None','Critical') as severity insert into outputStream&quot;;\n\n\n    public static void start(){\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        //DataStream&lt;String&gt; inputS = env.addSource(new S3EventSource());\n\n        //Flink kafka stream consumer\n        FlinkKafkaConsumer&lt;String&gt; flinkKafkaConsumer =\n                createInputMessageConsumer(inputTopic, kafkaAddress,zkAddress, consumerGroup);\n\n        //Add Data stream source -- flink consumer\n        DataStream&lt;String&gt; inputS = env.addSource(flinkKafkaConsumer);\n        SiddhiCEP cep = SiddhiCEP.getSiddhiEnvironment(env);\n\n        cep.registerExtension(&quot;json:toObject&quot;, io.siddhi.extension.execution.json.function.ToJSONObjectFunctionExtension.class);\n        cep.registerExtension( &quot;json:getString&quot;, io.siddhi.extension.execution.json.function.GetStringJSONFunctionExtension.class);\n        cep.registerStream(&quot;inputStream&quot;, inputS, &quot;awsS3&quot;);\n\n\n        inputS.print();\n\n        System.out.println(cep.getDataStreamSchemas());\n        //json needs extension jars to present during runtime.\n        DataStream&lt;Map&lt;String,Object&gt;&gt; output = cep\n                .from(&quot;inputStream&quot;)\n                .cql(S3_CQL1)\n                .returnAsMap(&quot;temp&quot;);\n\n\n        //Flink kafka stream Producer\n        FlinkKafkaProducer&lt;Map&lt;String, Object&gt;&gt; flinkKafkaProducer =\n                createMapProducer(env,outputTopic, kafkaAddress);\n\n        //Add Data stream sink -- flink producer\n        output.addSink(flinkKafkaProducer);\n        output.print();\n\n\n        try {\n            env.execute();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n\n</code></pre>\n<p><strong>Consumer class:</strong></p>\n<pre><code>package flinksidhi.app.connector;\n\n\nimport org.apache.flink.api.common.serialization.SimpleStringSchema;\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer;\nimport org.json.JSONObject;\n\nimport java.util.Properties;\npublic class Consumers {\n    public static FlinkKafkaConsumer&lt;String&gt; createInputMessageConsumer(String topic, String kafkaAddress, String zookeeprAddr, String kafkaGroup ) {\n        Properties properties = new Properties();\n        properties.setProperty(&quot;bootstrap.servers&quot;, kafkaAddress);\n        properties.setProperty(&quot;zookeeper.connect&quot;, zookeeprAddr);\n        properties.setProperty(&quot;group.id&quot;,kafkaGroup);\n        FlinkKafkaConsumer&lt;String&gt; consumer = new FlinkKafkaConsumer&lt;String&gt;(\n                topic,new SimpleStringSchema(),properties);\n        return consumer;\n    }\n}\n</code></pre>\n<p><strong>Producer class:</strong></p>\n<pre><code>package flinksidhi.app.connector;\n\nimport flinksidhi.app.util.ConvertJavaMapToJson;\nimport org.apache.flink.api.common.serialization.SerializationSchema;\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer;\nimport org.apache.flink.streaming.util.serialization.KeyedSerializationSchema;\nimport org.json.JSONObject;\n\nimport java.util.Map;\n\npublic class Producer {\n\n    public static FlinkKafkaProducer&lt;Tuple2&gt; createStringProducer(StreamExecutionEnvironment env, String topic, String kafkaAddress) {\n\n        return new FlinkKafkaProducer&lt;Tuple2&gt;(kafkaAddress, topic, new AverageSerializer());\n    }\n\n    public static FlinkKafkaProducer&lt;Map&lt;String,Object&gt;&gt; createMapProducer(StreamExecutionEnvironment env, String topic, String kafkaAddress) {\n\n        return new FlinkKafkaProducer&lt;Map&lt;String,Object&gt;&gt;(kafkaAddress, topic, new SerializationSchema&lt;Map&lt;String, Object&gt;&gt;() {\n            @Override\n            public void open(InitializationContext context) throws Exception {\n\n            }\n\n            @Override\n            public byte[] serialize(Map&lt;String, Object&gt; stringObjectMap) {\n                String json = ConvertJavaMapToJson.convert(stringObjectMap);\n                return json.getBytes();\n            }\n        });\n    }\n}\n</code></pre>\n<p>I have tried many things but the code where the CQL is invoked is never called and doesn't even give any error not sure where is it going wrong.</p>\n<p>The same thing if I do creating an internal stream source and use the same input json to return as string it works.</p>\n"},{"tags":["java","swing","graphics","3d","affinetransform"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1649662826,"post_id":71823693,"comment_id":126923623,"body_markdown":"You&#39;re trying to perform a 3D effect with 2D library, pretty sure you&#39;re not going to get it to work - unfortunately, I can&#39;t suggest an alternative","body":"You&#39;re trying to perform a 3D effect with 2D library, pretty sure you&#39;re not going to get it to work - unfortunately, I can&#39;t suggest an alternative"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1649662993,"post_id":71823693,"comment_id":126923681,"body_markdown":"[zxing `PerspectiveTransform`](https://zxing.github.io/zxing/apidocs/com/google/zxing/common/PerspectiveTransform.html) &#129300;.  JavaFX (apparently) has support for this kind of stuff","body":"<a href=\"https://zxing.github.io/zxing/apidocs/com/google/zxing/common/PerspectiveTransform.html\" rel=\"nofollow noreferrer\">zxing <code>PerspectiveTransform</code></a> .  JavaFX (apparently) has support for this kind of stuff"},{"owner":{"account_id":24796068,"reputation":1,"user_id":18678792,"display_name":"C.K.Jun"},"score":0,"creation_date":1649663417,"post_id":71823693,"comment_id":126923812,"body_markdown":"@MadProgrammer Thanks for your advice, but the project in my company is used swing&amp;awt. I&#39;ll look for alternatives","body":"@MadProgrammer Thanks for your advice, but the project in my company is used swing&amp;awt. I&#39;ll look for alternatives"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1649663487,"post_id":71823693,"comment_id":126923835,"body_markdown":"[For example](https://stackoverflow.com/questions/3202323/java-image-transformation) (or lack of, but it might take in to some more information).  OpenCV apparently can do it, but I&#39;ve never used it","body":"<a href=\"https://stackoverflow.com/questions/3202323/java-image-transformation\">For example</a> (or lack of, but it might take in to some more information).  OpenCV apparently can do it, but I&#39;ve never used it"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1649663614,"post_id":71823693,"comment_id":126923878,"body_markdown":"[Example](https://stackoverflow.com/questions/7366099/skew-or-distort-image-object-in-java) using JavaFX that works on a `BufferedImage` - but yes, you&#39;ll need the FX libraries installed and enabled ... and that&#39;s a whole other mess","body":"<a href=\"https://stackoverflow.com/questions/7366099/skew-or-distort-image-object-in-java\">Example</a> using JavaFX that works on a <code>BufferedImage</code> - but yes, you&#39;ll need the FX libraries installed and enabled ... and that&#39;s a whole other mess"},{"owner":{"account_id":24796068,"reputation":1,"user_id":18678792,"display_name":"C.K.Jun"},"score":0,"creation_date":1649664250,"post_id":71823693,"comment_id":126924083,"body_markdown":"@MadProgrammer I have found the Class JAI PerspectiveTransform and now I am looking for the way to use it.The document is really sparse.Of course OpenCV can slove my question,its function is strong,I just want to do something simple.if i can not solve it with jdk  I will consider using OpenCV. Thank you for your help.","body":"@MadProgrammer I have found the Class JAI PerspectiveTransform and now I am looking for the way to use it.The document is really sparse.Of course OpenCV can slove my question,its function is strong,I just want to do something simple.if i can not solve it with jdk  I will consider using OpenCV. Thank you for your help."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1649712123,"post_id":71823693,"comment_id":126941391,"body_markdown":"AFAKI JAI is no longer supported","body":"AFAKI JAI is no longer supported"},{"owner":{"account_id":24796068,"reputation":1,"user_id":18678792,"display_name":"C.K.Jun"},"score":0,"creation_date":1649724189,"post_id":71823693,"comment_id":126943655,"body_markdown":"@MadProgrammer All right, I&#39;ll think about another","body":"@MadProgrammer All right, I&#39;ll think about another"}],"owner":{"account_id":24796068,"reputation":1,"user_id":18678792,"display_name":"C.K.Jun"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649659894,"creation_date":1649659894,"question_id":71823693,"body_markdown":"I want draw a picture with Java.\r\nAnd I want rotate this picture along the X-axis or Y-axis to make the picture perspective.\r\nIt can make the image three-dimensional.\r\nDo you know the function &#39;3D rotation&#39; in the PowerPoint? I just want to achieve this effect.\r\nCan I use java to make it?\r\n------------------------------------------------------------------------\r\nI am sorry that I have not describe my question carefully before.\r\nThis is the original image:\r\n\r\n[original image][1]\r\n\r\nI added a shear operation when I drew it\r\n\r\n    @Override\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\tGraphics2D g2d  = (Graphics2D)g;\r\n\t\tg2d.clearRect(0, 0, this.getWidth(), this.getHeight());\r\n\t\tif (sourceImage != null) {\r\n\t\t\tg2d.shear(0.5, 0);\r\n\t\t\tg2d.drawImage(sourceImage, 0, 0, sourceImage.getWidth(), sourceImage.getHeight(), null);\r\n\t\t}\r\n\t}\r\n\r\nAnd then it looks like this\r\n\r\n[The transformed image][2]\r\n\r\nBut this is a linear transformation, I want perspective image, just like this\r\n\r\n[What I need to achieve][3]\r\n\r\nThe AffineTransform in JAVA can only do linear transformations.\r\nHow can I use PerspectiveTransform, Do I need to use OpenGL or OpenCV to achieve it?\r\n\r\nThis is my complete code\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.image.BufferedImage;\r\n    import javax.swing.JPanel;\r\n    public class ImagePanel extends JPanel{\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tprivate BufferedImage sourceImage;\r\n\t\r\n\tpublic ImagePanel() {\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\tGraphics2D g2d  = (Graphics2D)g;\r\n\t\tg2d.clearRect(0, 0, this.getWidth(), this.getHeight());\r\n\t\tif (sourceImage != null) {\r\n\t\t\tg2d.shear(0.5, 0);\r\n\t\t\tg2d.drawImage(sourceImage, 0, 0, sourceImage.getWidth(), sourceImage.getHeight(), null);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic BufferedImage getSourceImage() {\r\n\t\treturn sourceImage;\r\n\t}\r\n\r\n\tpublic void setSourceImage(BufferedImage sourceImage) {\r\n\t\tthis.sourceImage = sourceImage;\r\n\t}\r\n}\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFileChooser;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.filechooser.FileNameExtensionFilter;\r\n\r\n    public class MainUI extends JFrame implements ActionListener {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tpublic static final String IMAGE_CMD = &quot;choose image ... &quot;;\r\n\r\n\tprivate JButton imgBtn;\r\n\t\r\n\tprivate ImagePanel imagePanel;\r\n\t\r\n\tprivate BufferedImage srcImage;\r\n\t\r\n\tpublic MainUI() {\r\n\t\tsetTitle(&quot;image demo&quot;);\r\n\t\timgBtn = new JButton(IMAGE_CMD);\r\n\t\t\r\n\t\tJPanel btnPanel = new JPanel();\r\n\t\tbtnPanel.setLayout(new FlowLayout(FlowLayout.RIGHT));\r\n\t\tbtnPanel.add(imgBtn);\r\n\t\t\r\n\t\timagePanel = new ImagePanel();\r\n\t\tgetContentPane().setLayout(new BorderLayout());\r\n\t\tgetContentPane().add(imagePanel, BorderLayout.CENTER);\r\n\t\tgetContentPane().add(btnPanel, BorderLayout.SOUTH);\r\n\t\t\r\n\t\timgBtn.addActionListener(this);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif(IMAGE_CMD.equals(e.getActionCommand())){\r\n\t\t\ttry {\r\n\t\t\t\tJFileChooser chooser = new JFileChooser();\r\n\t\t\t\tsetFileTypeFilter(chooser);\r\n\t\t\t\tchooser.showOpenDialog(null);\r\n\t\t\t\tFile f = chooser.getSelectedFile();\r\n\t\t\t\tif (f != null) {\r\n\t\t\t\t\tsrcImage = ImageIO.read(f);\r\n\t\t\t\t\timagePanel.setSourceImage(srcImage);\r\n\t\t\t\t\timagePanel.repaint();\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e1) {\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t\timagePanel.repaint();\r\n\t\t}\r\n\t}\r\n\tpublic void setFileTypeFilter(JFileChooser chooser){\r\n\t\tFileNameExtensionFilter filter = new FileNameExtensionFilter(&quot;JPG &amp; PNG Images&quot;, &quot;jpg&quot;, &quot;png&quot;);\r\n\t\tchooser.setFileFilter(filter);\r\n\t}\r\n\tpublic void openView(){\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetPreferredSize(new Dimension(1280, 960));\r\n\t\tpack();\r\n\t\tsetVisible(true);\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tMainUI ui = new MainUI();\r\n\t\tui.openView();\r\n\t}\r\n}\r\n\r\n  [1]: https://i.stack.imgur.com/aJ0G2.jpg\r\n  [2]: https://i.stack.imgur.com/Fig1D.jpg\r\n  [3]: https://i.stack.imgur.com/bvSSc.jpg","title":"How can I use Graphics and Affinetransform draw a perspective picture","body":"<h2>I want draw a picture with Java.\nAnd I want rotate this picture along the X-axis or Y-axis to make the picture perspective.\nIt can make the image three-dimensional.\nDo you know the function '3D rotation' in the PowerPoint? I just want to achieve this effect.\nCan I use java to make it?</h2>\n<p>I am sorry that I have not describe my question carefully before.\nThis is the original image:</p>\n<p><a href=\"https://i.stack.imgur.com/aJ0G2.jpg\" rel=\"nofollow noreferrer\">original image</a></p>\n<p>I added a shear operation when I drew it</p>\n<pre><code>@Override\nprotected void paintComponent(Graphics g) {\n    Graphics2D g2d  = (Graphics2D)g;\n    g2d.clearRect(0, 0, this.getWidth(), this.getHeight());\n    if (sourceImage != null) {\n        g2d.shear(0.5, 0);\n        g2d.drawImage(sourceImage, 0, 0, sourceImage.getWidth(), sourceImage.getHeight(), null);\n    }\n}\n</code></pre>\n<p>And then it looks like this</p>\n<p><a href=\"https://i.stack.imgur.com/Fig1D.jpg\" rel=\"nofollow noreferrer\">The transformed image</a></p>\n<p>But this is a linear transformation, I want perspective image, just like this</p>\n<p><a href=\"https://i.stack.imgur.com/bvSSc.jpg\" rel=\"nofollow noreferrer\">What I need to achieve</a></p>\n<p>The AffineTransform in JAVA can only do linear transformations.\nHow can I use PerspectiveTransform, Do I need to use OpenGL or OpenCV to achieve it?</p>\n<p>This is my complete code</p>\n<pre><code>import java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport javax.swing.JPanel;\npublic class ImagePanel extends JPanel{\n\nprivate static final long serialVersionUID = 1L;\n\nprivate BufferedImage sourceImage;\n\npublic ImagePanel() {\n}\n\n@Override\nprotected void paintComponent(Graphics g) {\n    Graphics2D g2d  = (Graphics2D)g;\n    g2d.clearRect(0, 0, this.getWidth(), this.getHeight());\n    if (sourceImage != null) {\n        g2d.shear(0.5, 0);\n        g2d.drawImage(sourceImage, 0, 0, sourceImage.getWidth(), sourceImage.getHeight(), null);\n    }\n}\n\npublic BufferedImage getSourceImage() {\n    return sourceImage;\n}\n\npublic void setSourceImage(BufferedImage sourceImage) {\n    this.sourceImage = sourceImage;\n}\n</code></pre>\n<p>}</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.JButton;\nimport javax.swing.JFileChooser;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.filechooser.FileNameExtensionFilter;\n\npublic class MainUI extends JFrame implements ActionListener {\n\nprivate static final long serialVersionUID = 1L;\n\npublic static final String IMAGE_CMD = &quot;choose image ... &quot;;\n\nprivate JButton imgBtn;\n\nprivate ImagePanel imagePanel;\n\nprivate BufferedImage srcImage;\n\npublic MainUI() {\n    setTitle(&quot;image demo&quot;);\n    imgBtn = new JButton(IMAGE_CMD);\n    \n    JPanel btnPanel = new JPanel();\n    btnPanel.setLayout(new FlowLayout(FlowLayout.RIGHT));\n    btnPanel.add(imgBtn);\n    \n    imagePanel = new ImagePanel();\n    getContentPane().setLayout(new BorderLayout());\n    getContentPane().add(imagePanel, BorderLayout.CENTER);\n    getContentPane().add(btnPanel, BorderLayout.SOUTH);\n    \n    imgBtn.addActionListener(this);\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    if(IMAGE_CMD.equals(e.getActionCommand())){\n        try {\n            JFileChooser chooser = new JFileChooser();\n            setFileTypeFilter(chooser);\n            chooser.showOpenDialog(null);\n            File f = chooser.getSelectedFile();\n            if (f != null) {\n                srcImage = ImageIO.read(f);\n                imagePanel.setSourceImage(srcImage);\n                imagePanel.repaint();\n            }\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        }\n        imagePanel.repaint();\n    }\n}\npublic void setFileTypeFilter(JFileChooser chooser){\n    FileNameExtensionFilter filter = new FileNameExtensionFilter(&quot;JPG &amp; PNG Images&quot;, &quot;jpg&quot;, &quot;png&quot;);\n    chooser.setFileFilter(filter);\n}\npublic void openView(){\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setPreferredSize(new Dimension(1280, 960));\n    pack();\n    setVisible(true);\n}\npublic static void main(String[] args) {\n    MainUI ui = new MainUI();\n    ui.openView();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1038955,"reputation":55573,"user_id":1045444,"accept_rate":89,"display_name":"Somnath Muluk"},"score":1,"creation_date":1471870982,"post_id":7693324,"comment_id":65508184,"body_markdown":"[5 ways with examples](http://javadevnotes.com/java-string-to-long-examples) for how to convert string to long in Java","body":"<a href=\"http://javadevnotes.com/java-string-to-long-examples\" rel=\"nofollow noreferrer\">5 ways with examples</a> for how to convert string to long in Java"},{"owner":{"account_id":1667482,"reputation":1478,"user_id":1684864,"accept_rate":100,"display_name":"Mihir Trivedi"},"score":0,"creation_date":1574448324,"post_id":7693324,"comment_id":104250433,"body_markdown":"Please refer to this one: https://developer.android.com/reference/java/lang/Long.html#parseLong(java.lang.String,%20int)","body":"Please refer to this one: <a href=\"https://developer.android.com/reference/java/lang/Long.html#parseLong(java.lang.String,%20int)\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/lang/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":398598,"reputation":1555,"user_id":763353,"display_name":"coreyspitzer"},"down_vote_count":4,"up_vote_count":156,"is_accepted":false,"score":152,"last_activity_date":1447880653,"creation_date":1318025356,"answer_id":7693341,"question_id":7693324,"body_markdown":"To convert a **String** to a **Long** (object), use `Long.valueOf(String s).longValue();`\r\n\r\n\r\nSee [link][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#valueOf(java.lang.String)","title":"How to convert String to long in Java?","body":"<p>To convert a <strong>String</strong> to a <strong>Long</strong> (object), use <code>Long.valueOf(String s).longValue();</code></p>\n\n<p>See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#valueOf(java.lang.String)\">link</a></p>\n"},{"tags":[],"owner":{"account_id":167317,"reputation":89112,"user_id":392044,"accept_rate":93,"display_name":"Mike Christensen"},"down_vote_count":4,"up_vote_count":755,"is_accepted":true,"score":751,"last_activity_date":1516116802,"creation_date":1318025406,"answer_id":7693344,"question_id":7693324,"body_markdown":"Use [`Long.parseLong()`][1]\r\n\r\n&lt;!-- language lang-java --&gt;\r\n\r\n     Long.parseLong(&quot;0&quot;, 10)        // returns 0L\r\n     Long.parseLong(&quot;473&quot;, 10)      // returns 473L\r\n     Long.parseLong(&quot;-0&quot;, 10)       // returns 0L\r\n     Long.parseLong(&quot;-FF&quot;, 16)      // returns -255L\r\n     Long.parseLong(&quot;1100110&quot;, 2)   // returns 102L\r\n     Long.parseLong(&quot;99&quot;, 8)        // throws a NumberFormatException\r\n     Long.parseLong(&quot;Hazelnut&quot;, 10) // throws a NumberFormatException\r\n     Long.parseLong(&quot;Hazelnut&quot;, 36) // returns 1356099454469L\r\n     Long.parseLong(&quot;999&quot;)          // returns 999L\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#parseLong(java.lang.String,%20int)","title":"How to convert String to long in Java?","body":"<p>Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#parseLong(java.lang.String,%20int)\" rel=\"noreferrer\"><code>Long.parseLong()</code></a></p>\n\n\n\n<pre><code> Long.parseLong(\"0\", 10)        // returns 0L\n Long.parseLong(\"473\", 10)      // returns 473L\n Long.parseLong(\"-0\", 10)       // returns 0L\n Long.parseLong(\"-FF\", 16)      // returns -255L\n Long.parseLong(\"1100110\", 2)   // returns 102L\n Long.parseLong(\"99\", 8)        // throws a NumberFormatException\n Long.parseLong(\"Hazelnut\", 10) // throws a NumberFormatException\n Long.parseLong(\"Hazelnut\", 36) // returns 1356099454469L\n Long.parseLong(\"999\")          // returns 999L\n</code></pre>\n"},{"tags":[],"owner":{"account_id":952968,"reputation":7485,"user_id":978769,"accept_rate":43,"display_name":"Genjuro"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1318030449,"creation_date":1318025478,"answer_id":7693351,"question_id":7693324,"body_markdown":"    public class StringToLong {\r\n    \r\n       public static void main (String[] args) {\r\n    \r\n          // String s = &quot;fred&quot;;    // do this if you want an exception\r\n    \r\n          String s = &quot;100&quot;;\r\n    \r\n          try {\r\n             long l = Long.parseLong(s);\r\n             System.out.println(&quot;long l = &quot; + l);\r\n          } catch (NumberFormatException nfe) {\r\n             System.out.println(&quot;NumberFormatException: &quot; + nfe.getMessage());\r\n          }\r\n    \r\n       }\r\n    }","title":"How to convert String to long in Java?","body":"<pre><code>public class StringToLong {\n\n   public static void main (String[] args) {\n\n      // String s = \"fred\";    // do this if you want an exception\n\n      String s = \"100\";\n\n      try {\n         long l = Long.parseLong(s);\n         System.out.println(\"long l = \" + l);\n      } catch (NumberFormatException nfe) {\n         System.out.println(\"NumberFormatException: \" + nfe.getMessage());\n      }\n\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":154180,"reputation":7191,"user_id":369930,"accept_rate":91,"display_name":"markdsievers"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1318025486,"creation_date":1318025486,"answer_id":7693352,"question_id":7693324,"body_markdown":"[Long.valueOf(String s)][1] - obviously due care must be taken to protect against non-numbers if that is possible in your code.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1,5.0/docs/api/java/lang/Long.html#valueOf%28java.lang.String%29","title":"How to convert String to long in Java?","body":"<p><a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/lang/Long.html#valueOf%28java.lang.String%29\" rel=\"noreferrer\">Long.valueOf(String s)</a> - obviously due care must be taken to protect against non-numbers if that is possible in your code.</p>\n"},{"tags":[],"owner":{"account_id":1747780,"reputation":300,"user_id":1597560,"accept_rate":54,"display_name":"Chetan Nellekeri"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1397544691,"creation_date":1397544691,"answer_id":23076477,"question_id":7693324,"body_markdown":"In case you are using the Map with out generic, then you need to convert the value into String and then try to convert to Long. Below is sample code\r\n\r\n    \tMap map = new HashMap();\r\n\r\n\t\tmap.put(&quot;name&quot;, &quot;John&quot;);\r\n\t\tmap.put(&quot;time&quot;, &quot;9648512236521&quot;);\r\n\t\tmap.put(&quot;age&quot;, &quot;25&quot;);\r\n\r\n\t\tlong time = Long.valueOf((String)map.get(&quot;time&quot;)).longValue() ;\r\n\t\tint age = Integer.valueOf((String)  map.get(&quot;aget&quot;)).intValue();\r\n\t\tSystem.out.println(time);\r\n\t\tSystem.out.println(age);\r\n\r\n","title":"How to convert String to long in Java?","body":"<p>In case you are using the Map with out generic, then you need to convert the value into String and then try to convert to Long. Below is sample code</p>\n\n<pre><code>    Map map = new HashMap();\n\n    map.put(\"name\", \"John\");\n    map.put(\"time\", \"9648512236521\");\n    map.put(\"age\", \"25\");\n\n    long time = Long.valueOf((String)map.get(\"time\")).longValue() ;\n    int age = Integer.valueOf((String)  map.get(\"aget\")).intValue();\n    System.out.println(time);\n    System.out.println(age);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1484318222,"creation_date":1480331767,"answer_id":40842994,"question_id":7693324,"body_markdown":"The best approach is [`Long.valueOf(str)`][1] as it relies on [`Long.valueOf(long)`][1] which uses an internal cache making it more efficient since it will reuse if needed the cached instances of `Long` going from `-128` to `127` included.\r\n\r\n&gt; Returns a `Long` instance representing the specified long value. If a\r\n&gt; new Long instance is not required, this method should generally be\r\n&gt; used in preference to the constructor `Long(long)`, as this method is\r\n&gt; likely to yield significantly better space and time performance by\r\n&gt; caching frequently requested values. Note that unlike the\r\n&gt; corresponding method in the Integer class, this method is not required\r\n&gt; to cache values within a particular range.\r\n\r\nThanks to [**auto-unboxing**][2] allowing to convert a wrapper class&#39;s instance into its corresponding primitive type, the code would then be:\r\n\r\n    long val = Long.valueOf(str);\r\n\r\nPlease note that the previous code can still throw a `NumberFormatException` if the provided `String` doesn&#39;t match with a signed `long`.\r\n\r\nGenerally speaking, it is a good practice to use the `static` factory method `valueOf(str)` of a wrapper class like `Integer`, `Boolean`, `Long`, ... since most of them reuse instances whenever it is possible making them potentially more efficient in term of memory footprint than the corresponding `parse` methods or constructors.\r\n\r\n---\r\n\r\nExcerpt from [**Effective Java**][3] `Item 1` written by **Joshua Bloch**:\r\n\r\n&gt; You can often avoid creating unnecessary objects by using *static\r\n&gt; factory methods* (Item 1) in preference to constructors on immutable\r\n&gt; classes that provide both. For example, the static factory method\r\n&gt; `Boolean.valueOf(String)` is almost always preferable to the\r\n&gt; constructor `Boolean(String)`. The constructor creates a new object\r\n&gt; each time its called, while the static factory method is never\r\n&gt; required to do so and wont in practice.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html#valueOf-long-\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\r\n  [3]: https://www.amazon.com/Effective-Java-2nd-Joshua-Bloch/dp/0321356683","title":"How to convert String to long in Java?","body":"<p>The best approach is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html#valueOf-long-\" rel=\"noreferrer\"><code>Long.valueOf(str)</code></a> as it relies on <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html#valueOf-long-\" rel=\"noreferrer\"><code>Long.valueOf(long)</code></a> which uses an internal cache making it more efficient since it will reuse if needed the cached instances of <code>Long</code> going from <code>-128</code> to <code>127</code> included.</p>\n\n<blockquote>\n  <p>Returns a <code>Long</code> instance representing the specified long value. If a\n  new Long instance is not required, this method should generally be\n  used in preference to the constructor <code>Long(long)</code>, as this method is\n  likely to yield significantly better space and time performance by\n  caching frequently requested values. Note that unlike the\n  corresponding method in the Integer class, this method is not required\n  to cache values within a particular range.</p>\n</blockquote>\n\n<p>Thanks to <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"noreferrer\"><strong>auto-unboxing</strong></a> allowing to convert a wrapper class's instance into its corresponding primitive type, the code would then be:</p>\n\n<pre><code>long val = Long.valueOf(str);\n</code></pre>\n\n<p>Please note that the previous code can still throw a <code>NumberFormatException</code> if the provided <code>String</code> doesn't match with a signed <code>long</code>.</p>\n\n<p>Generally speaking, it is a good practice to use the <code>static</code> factory method <code>valueOf(str)</code> of a wrapper class like <code>Integer</code>, <code>Boolean</code>, <code>Long</code>, ... since most of them reuse instances whenever it is possible making them potentially more efficient in term of memory footprint than the corresponding <code>parse</code> methods or constructors.</p>\n\n<hr>\n\n<p>Excerpt from <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321356683\" rel=\"noreferrer\" rel=\"nofollow noreferrer\"><strong>Effective Java</strong></a> <code>Item 1</code> written by <strong>Joshua Bloch</strong>:</p>\n\n<blockquote>\n  <p>You can often avoid creating unnecessary objects by using <em>static\n  factory methods</em> (Item 1) in preference to constructors on immutable\n  classes that provide both. For example, the static factory method\n  <code>Boolean.valueOf(String)</code> is almost always preferable to the\n  constructor <code>Boolean(String)</code>. The constructor creates a new object\n  each time its called, while the static factory method is never\n  required to do so and wont in practice.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5984797,"reputation":14686,"user_id":5730321,"accept_rate":69,"display_name":"Leo DroidCoder"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1516115202,"creation_date":1516115202,"answer_id":48284258,"question_id":7693324,"body_markdown":"For those who switched to Kotlin just use   \r\n`string.toLong()`    \r\nThat will call `Long.parseLong(string)` under the hood","title":"How to convert String to long in Java?","body":"<p>For those who switched to Kotlin just use<br>\n<code>string.toLong()</code><br>\nThat will call <code>Long.parseLong(string)</code> under the hood</p>\n"},{"tags":[],"owner":{"account_id":5410302,"reputation":10880,"user_id":4307338,"accept_rate":67,"display_name":"Hoque MD Zahidul"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1601311932,"creation_date":1516182091,"answer_id":48297890,"question_id":7693324,"body_markdown":"**There are a few ways to convert ```String``` to ```long```:**\r\n\r\n1)   \r\n```java\r\nlong l = Long.parseLong(&quot;200&quot;); \r\n```\r\n2) \r\n```java\r\nString numberAsString = &quot;1234&quot;;\r\nlong number = Long.valueOf(numberAsString).longValue();\r\n```\r\n3)\r\n```java\r\nString numberAsString = &quot;1234&quot;;\r\nLong longObject = new Long(numberAsString);\r\nlong number = longObject.longValue();\r\n```\r\n**We can shorten to:** \r\n```java\r\nString numberAsString = &quot;1234&quot;;\r\nlong number = new Long(numberAsString).longValue();\r\n```\r\n**Or just**\r\n```java\r\nlong number = new Long(&quot;1234&quot;).longValue();\r\n```\r\n4)  Using Decimal format:\r\n\r\n```java\r\nString numberAsString = &quot;1234&quot;;\r\nDecimalFormat decimalFormat = new DecimalFormat(&quot;#&quot;);\r\ntry {\r\n    long number = decimalFormat.parse(numberAsString).longValue();\r\n    System.out.println(&quot;The number is: &quot; + number);\r\n} catch (ParseException e) {\r\n    System.out.println(numberAsString + &quot; is not a valid number.&quot;);\r\n}\r\n```","title":"How to convert String to long in Java?","body":"<p><strong>There are a few ways to convert <code>String</code> to <code>long</code>:</strong></p>\n<p>1)</p>\n<pre class=\"lang-java prettyprint-override\"><code>long l = Long.parseLong(&quot;200&quot;); \n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String numberAsString = &quot;1234&quot;;\nlong number = Long.valueOf(numberAsString).longValue();\n</code></pre>\n<ol start=\"3\">\n<li></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String numberAsString = &quot;1234&quot;;\nLong longObject = new Long(numberAsString);\nlong number = longObject.longValue();\n</code></pre>\n<p><strong>We can shorten to:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>String numberAsString = &quot;1234&quot;;\nlong number = new Long(numberAsString).longValue();\n</code></pre>\n<p><strong>Or just</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>long number = new Long(&quot;1234&quot;).longValue();\n</code></pre>\n<ol start=\"4\">\n<li>Using Decimal format:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String numberAsString = &quot;1234&quot;;\nDecimalFormat decimalFormat = new DecimalFormat(&quot;#&quot;);\ntry {\n    long number = decimalFormat.parse(numberAsString).longValue();\n    System.out.println(&quot;The number is: &quot; + number);\n} catch (ParseException e) {\n    System.out.println(numberAsString + &quot; is not a valid number.&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15150064,"reputation":215,"user_id":10932622,"display_name":"Prajwal Shinde"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588972511,"creation_date":1588961400,"answer_id":61685359,"question_id":7693324,"body_markdown":"It&#39;s quite simple, use\r\n`Long.valueOf(String s);`\r\n\r\nFor example:\r\n```java\r\nString s;\r\nlong l;\r\n\r\nScanner sc=new Scanner(System.in);\r\ns=sc.next();\r\nl=Long.valueOf(s);\r\nSystem.out.print(l);\r\n```\r\n\r\nYou&#39;re done!!!","title":"How to convert String to long in Java?","body":"<p>It's quite simple, use\n<code>Long.valueOf(String s);</code></p>\n\n<p>For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String s;\nlong l;\n\nScanner sc=new Scanner(System.in);\ns=sc.next();\nl=Long.valueOf(s);\nSystem.out.print(l);\n</code></pre>\n\n<p>You're done!!!</p>\n"},{"tags":[],"owner":{"account_id":7499374,"reputation":363,"user_id":5698386,"display_name":"Mohamed Aymen Charrada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649659639,"creation_date":1649659639,"answer_id":71823659,"question_id":7693324,"body_markdown":"First of all you need to check if the String to be converted to Long\r\n**is not null** and **is really Long** to avoid **`NumberFormatException`**.\r\nTo do that the best way is to create a new method like this:\r\n\r\n   \r\n\r\n        public static Long convertStringToLong(String str) {\r\n    \t\ttry {\r\n    \t\t\treturn Long.valueOf(str);\r\n    \t\t} catch (NumberFormatException e) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}","title":"How to convert String to long in Java?","body":"<p>First of all you need to check if the String to be converted to Long\n<strong>is not null</strong> and <strong>is really Long</strong> to avoid <strong><code>NumberFormatException</code></strong>.\nTo do that the best way is to create a new method like this:</p>\n<pre><code>    public static Long convertStringToLong(String str) {\n        try {\n            return Long.valueOf(str);\n        } catch (NumberFormatException e) {\n            return null;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":377695,"reputation":14682,"user_id":729995,"accept_rate":78,"display_name":"Belgi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1090900,"favorite_count":0,"down_vote_count":0,"up_vote_count":471,"accepted_answer_id":7693344,"answer_count":10,"score":471,"last_activity_date":1649659639,"creation_date":1318025246,"question_id":7693324,"body_markdown":"I got a simple question in Java: How can I convert a `String` that was obtained by `Long.toString()` to `long`?\r\n","title":"How to convert String to long in Java?","body":"<p>I got a simple question in Java: How can I convert a <code>String</code> that was obtained by <code>Long.toString()</code> to <code>long</code>?</p>\n"},{"tags":["java","android","maps"],"answers":[{"tags":[],"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649659247,"creation_date":1649659247,"answer_id":71823594,"question_id":69241425,"body_markdown":"You have to use user-agent to use osm map tile servers.\r\n\r\n    public static final String USER_AGENT = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.75 Safari/537.36&quot;;\r\n    \r\n    @Override\r\n        public void onMapReady(GoogleMap map) {\r\n           map.setMapType(GoogleMap.MAP_TYPE_NONE); \r\n           TileProvider tileProvider = new UrlTileProvider(256, 256) {\r\n                @Override\r\n                public synchronized URL getTileUrl(int x, int y, int zoom) {\r\n                String s = String.format(&quot;https://tile.openstreetmap.org/%d/%d/%d.jpg&quot;, zoom, x, y);\r\n\r\n                System.setProperty(&quot;http.agent&quot;, USER_AGENT);\r\n    \r\n                   URL url = null;\r\n                    try {\r\n                        url = new URL(s);\r\n                    } catch (MalformedURLException e) {\r\n                        throw new AssertionError(e);\r\n                    }\r\n                    return url;\r\n                }\r\n            };\r\n           map.addTileOverlay(new TileOverlayOptions().tileProvider(tileProvider));\r\n        }","title":"Android Java google maps TileOverLay &quot;OSM &quot;","body":"<p>You have to use user-agent to use osm map tile servers.</p>\n<pre><code>public static final String USER_AGENT = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.75 Safari/537.36&quot;;\n\n@Override\n    public void onMapReady(GoogleMap map) {\n       map.setMapType(GoogleMap.MAP_TYPE_NONE); \n       TileProvider tileProvider = new UrlTileProvider(256, 256) {\n            @Override\n            public synchronized URL getTileUrl(int x, int y, int zoom) {\n            String s = String.format(&quot;https://tile.openstreetmap.org/%d/%d/%d.jpg&quot;, zoom, x, y);\n\n            System.setProperty(&quot;http.agent&quot;, USER_AGENT);\n\n               URL url = null;\n                try {\n                    url = new URL(s);\n                } catch (MalformedURLException e) {\n                    throw new AssertionError(e);\n                }\n                return url;\n            }\n        };\n       map.addTileOverlay(new TileOverlayOptions().tileProvider(tileProvider));\n    }\n</code></pre>\n"}],"owner":{"account_id":20797393,"reputation":11,"user_id":15274168,"display_name":"Rami Gayadah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649659247,"creation_date":1632038611,"question_id":69241425,"body_markdown":"    @Override\r\n    public void onMapReady(GoogleMap map) {\r\n       map.setMapType(GoogleMap.MAP_TYPE_NONE); \r\n       TileProvider tileProvider = new UrlTileProvider(256, 256) {\r\n            @Override\r\n            public synchronized URL getTileUrl(int x, int y, int zoom) {\r\n            String s = String.format(&quot;https://tile.openstreetmap.org/%d/%d/%d.jpg&quot;, zoom, x, y);\r\n               URL url = null;\r\n                try {\r\n                    url = new URL(s);\r\n                } catch (MalformedURLException e) {\r\n                    throw new AssertionError(e);\r\n                }\r\n                return url;\r\n            }\r\n        };\r\n       map.addTileOverlay(new TileOverlayOptions().tileProvider(tileProvider));\r\n    }\r\n \r\n\r\n   Why does the Open StreetMap Tile do not show up in my Maps? Is Google preventing it? https://tile.openstreetmap.org/%d/%d/%d.png","title":"Android Java google maps TileOverLay &quot;OSM &quot;","body":"<pre><code>@Override\npublic void onMapReady(GoogleMap map) {\n   map.setMapType(GoogleMap.MAP_TYPE_NONE); \n   TileProvider tileProvider = new UrlTileProvider(256, 256) {\n        @Override\n        public synchronized URL getTileUrl(int x, int y, int zoom) {\n        String s = String.format(&quot;https://tile.openstreetmap.org/%d/%d/%d.jpg&quot;, zoom, x, y);\n           URL url = null;\n            try {\n                url = new URL(s);\n            } catch (MalformedURLException e) {\n                throw new AssertionError(e);\n            }\n            return url;\n        }\n    };\n   map.addTileOverlay(new TileOverlayOptions().tileProvider(tileProvider));\n}\n</code></pre>\n<p>Why does the Open StreetMap Tile do not show up in my Maps? Is Google preventing it? <a href=\"https://tile.openstreetmap.org/%d/%d/%d.png\" rel=\"nofollow noreferrer\">https://tile.openstreetmap.org/%d/%d/%d.png</a></p>\n"},{"tags":["java","string","oracle"],"answers":[{"tags":[],"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1402339939,"creation_date":1402339939,"answer_id":24126926,"question_id":24126902,"body_markdown":"Oracle is giving you the length in bytes and `&quot;&#228;&quot;` is 2 bytes in UTF-8 (c3 a4). \r\n\r\nMore information [here][1].\r\n\r\nYou may get the lenght in bytes using `str.getBytes(&quot;UTF-8&quot;).length`\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/B10501_01/server.920/a96567/repunicode.htm","title":"True length of a String, as seen by Oracle","body":"<p>Oracle is giving you the length in bytes and <code>\"\"</code> is 2 bytes in UTF-8 (c3 a4). </p>\n\n<p>More information <a href=\"http://docs.oracle.com/cd/B10501_01/server.920/a96567/repunicode.htm\" rel=\"noreferrer\">here</a>.</p>\n\n<p>You may get the lenght in bytes using <code>str.getBytes(\"UTF-8\").length</code></p>\n"},{"tags":[],"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1402340183,"creation_date":1402340098,"answer_id":24126980,"question_id":24126902,"body_markdown":"Because you&#39;re using a composed character, you should get the underlying byte array and then get that length:\r\n\r\n    &quot;V&#228;ste&quot;.getBytes(java.nio.charset.StandardCharsets.UTF_8).length\r\n\r\nwill print out 6.","title":"True length of a String, as seen by Oracle","body":"<p>Because you're using a composed character, you should get the underlying byte array and then get that length:</p>\n\n<pre><code>\"Vste\".getBytes(java.nio.charset.StandardCharsets.UTF_8).length\n</code></pre>\n\n<p>will print out 6.</p>\n"},{"tags":[],"owner":{"account_id":3520047,"reputation":1,"user_id":2942579,"display_name":"user2942579"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402340743,"creation_date":1402340743,"answer_id":24127156,"question_id":24126902,"body_markdown":"\tpublic static int getByteSize(String content) {\r\n\t\tint size = 0;\r\n\t\tif (null != content) {\r\n\t\t\ttry {\r\n\t\t\t\tsize = content.getBytes(&quot;utf-8&quot;).length;\r\n\t\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn size;\r\n\t}\r\n\r\nSystem.out.println(getByteSize(&quot;V&#228;ste&quot;)); // 6\r\nSystem.out.println(getByteSize(&quot;V&#228;&#228;&#228;&quot;)); // 7","title":"True length of a String, as seen by Oracle","body":"<pre><code>public static int getByteSize(String content) {\n    int size = 0;\n    if (null != content) {\n        try {\n            size = content.getBytes(\"utf-8\").length;\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n    }\n    return size;\n}\n</code></pre>\n\n<p>System.out.println(getByteSize(\"Vste\")); // 6\nSystem.out.println(getByteSize(\"V\")); // 7</p>\n"},{"tags":[],"owner":{"account_id":6228,"reputation":228269,"user_id":10397,"display_name":"Justin Cave"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1402341732,"creation_date":1402341732,"answer_id":24127403,"question_id":24126902,"body_markdown":"You can, as others have shown, convert the Java string to a byte array using the Oracle database&#39;s character set and then get the length in bytes from that.  That relies, however, on knowing what your database&#39;s character set is-- different databases will have different character sets which will result in different byte lengths for the same string in different character sets.\r\n\r\nAssuming that your database is using a variable-width character set like UTF-8 (`NLS_CHARACTERSET` of AL32UTF8), you can also declare columns in Oracle based on the character length rather than the byte length.  That can simplify your code since you can just check the character length of your string.  It also simplifies the communication for users.  It&#39;s generally hard for users to understand why a field can sometimes store 5 characters while other times it rejects a 2 character string depending on the characters that are part of the string (1 character in the UTF-8 character set can require up to 3 bytes of storage).\r\n\r\nBy default, when you declare a column\r\n\r\n    CREATE TABLE foo (\r\n      col_name VARCHAR2(5)\r\n    );\r\n\r\nthat tells Oracle to allow up to 5 bytes of data.  If you want to allow 5 characters of data regardless of the number of bytes, however, you can use character length semantics\r\n\r\n    CREATE TABLE foo (\r\n      col_name VARCHAR2(5 CHAR)\r\n    );\r\n\r\nAssuming you want to do this for all your tables while running your DDL, you can also set `nls_length_semantics` at the session level before running your DDL\r\n\r\n    ALTER SESSION SET nls_length_semantics = CHAR;\r\n\r\n    CREATE TABLE foo (\r\n      col_name VARCHAR2(5)\r\n    );\r\n\r\ncreates a table with a column that allows up to 5 characters of data.","title":"True length of a String, as seen by Oracle","body":"<p>You can, as others have shown, convert the Java string to a byte array using the Oracle database's character set and then get the length in bytes from that.  That relies, however, on knowing what your database's character set is-- different databases will have different character sets which will result in different byte lengths for the same string in different character sets.</p>\n\n<p>Assuming that your database is using a variable-width character set like UTF-8 (<code>NLS_CHARACTERSET</code> of AL32UTF8), you can also declare columns in Oracle based on the character length rather than the byte length.  That can simplify your code since you can just check the character length of your string.  It also simplifies the communication for users.  It's generally hard for users to understand why a field can sometimes store 5 characters while other times it rejects a 2 character string depending on the characters that are part of the string (1 character in the UTF-8 character set can require up to 3 bytes of storage).</p>\n\n<p>By default, when you declare a column</p>\n\n<pre><code>CREATE TABLE foo (\n  col_name VARCHAR2(5)\n);\n</code></pre>\n\n<p>that tells Oracle to allow up to 5 bytes of data.  If you want to allow 5 characters of data regardless of the number of bytes, however, you can use character length semantics</p>\n\n<pre><code>CREATE TABLE foo (\n  col_name VARCHAR2(5 CHAR)\n);\n</code></pre>\n\n<p>Assuming you want to do this for all your tables while running your DDL, you can also set <code>nls_length_semantics</code> at the session level before running your DDL</p>\n\n<pre><code>ALTER SESSION SET nls_length_semantics = CHAR;\n\nCREATE TABLE foo (\n  col_name VARCHAR2(5)\n);\n</code></pre>\n\n<p>creates a table with a column that allows up to 5 characters of data.</p>\n"},{"tags":[],"owner":{"account_id":17066892,"reputation":21,"user_id":12348799,"display_name":"Chathura Jayasanka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649659232,"creation_date":1649659232,"answer_id":71823592,"question_id":24126902,"body_markdown":"For anyone trying to get oracle byte length of a string using a query,\r\n\r\n    SELECT\r\n       LENGTHB (&#39;Test&#39;) &quot;Length in bytes&quot;\r\n    FROM\r\n       DUAL;\r\nwill give result as 4.\r\n\r\n\r\nreference: http://www.dba-oracle.com/t_lengthb_lengthc_length2_length4.htm","title":"True length of a String, as seen by Oracle","body":"<p>For anyone trying to get oracle byte length of a string using a query,</p>\n<pre><code>SELECT\n   LENGTHB ('Test') &quot;Length in bytes&quot;\nFROM\n   DUAL;\n</code></pre>\n<p>will give result as 4.</p>\n<p>reference: <a href=\"http://www.dba-oracle.com/t_lengthb_lengthc_length2_length4.htm\" rel=\"nofollow noreferrer\">http://www.dba-oracle.com/t_lengthb_lengthc_length2_length4.htm</a></p>\n"}],"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8709,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":24126980,"answer_count":5,"score":12,"last_activity_date":1649659232,"creation_date":1402339847,"question_id":24126902,"body_markdown":"So I am trying to save data to an Oracle database.  I have a string:  \r\n\r\n    V&#228;ste\r\n\r\n(the name of a state somewhere).\r\n\r\nWhen I do a .length() on it, I get 5, but when I save it to the database I get:\r\n\r\n    ORA-12899: value too large for column &quot;dude&quot;.&quot;POST_ADR&quot;.&quot;STATE_CD&quot; (actual: 6, maximum: 5)\r\n\r\nSo how do I get the &quot;oracle&quot; length?","title":"True length of a String, as seen by Oracle","body":"<p>So I am trying to save data to an Oracle database.  I have a string:  </p>\n\n<pre><code>Vste\n</code></pre>\n\n<p>(the name of a state somewhere).</p>\n\n<p>When I do a .length() on it, I get 5, but when I save it to the database I get:</p>\n\n<pre><code>ORA-12899: value too large for column \"dude\".\"POST_ADR\".\"STATE_CD\" (actual: 6, maximum: 5)\n</code></pre>\n\n<p>So how do I get the \"oracle\" length?</p>\n"},{"tags":["java","spring","jackson"],"comments":[{"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"score":0,"creation_date":1384118082,"post_id":19894955,"comment_id":29597991,"body_markdown":"When you say it does nothing, it would be helpful to state what is happening and what you expected to be happening. I&#39;m working on the assumption here that you are receiving a JSON response and that all fields are in that response. You expect the @JsonIgnore attribute to be causing &#39;qSurveys&#39; to be hidden.","body":"When you say it does nothing, it would be helpful to state what is happening and what you expected to be happening. I&#39;m working on the assumption here that you are receiving a JSON response and that all fields are in that response. You expect the @JsonIgnore attribute to be causing &#39;qSurveys&#39; to be hidden."},{"owner":{"account_id":441625,"reputation":1827,"user_id":831822,"accept_rate":46,"display_name":"czadam"},"score":0,"creation_date":1384118577,"post_id":19894955,"comment_id":29598153,"body_markdown":"yes, I want to the Surveys not to be shown in the response.","body":"yes, I want to the Surveys not to be shown in the response."},{"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"score":0,"creation_date":1384119034,"post_id":19894955,"comment_id":29598338,"body_markdown":"Why do you keep adding @JsonIgnore annotations to the example code above in the wrong places? There should only be one, and that should be on the &#39;get&#39; method.","body":"Why do you keep adding @JsonIgnore annotations to the example code above in the wrong places? There should only be one, and that should be on the &#39;get&#39; method."},{"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"score":0,"creation_date":1384119111,"post_id":19894955,"comment_id":29598366,"body_markdown":"And are you getting valid JSON being returned containing the results of all the other &#39;get&#39; methods?","body":"And are you getting valid JSON being returned containing the results of all the other &#39;get&#39; methods?"},{"owner":{"account_id":441625,"reputation":1827,"user_id":831822,"accept_rate":46,"display_name":"czadam"},"score":0,"creation_date":1384119762,"post_id":19894955,"comment_id":29598590,"body_markdown":"I tried to put it on the get method only, it was not working. And yes I am getting a valid JSON containing the results of all the other &#39;get&#39; methods.","body":"I tried to put it on the get method only, it was not working. And yes I am getting a valid JSON containing the results of all the other &#39;get&#39; methods."},{"owner":{"account_id":2353390,"reputation":4575,"user_id":2061763,"accept_rate":67,"display_name":"Andrei Nicusan"},"score":0,"creation_date":1384119870,"post_id":19894955,"comment_id":29598628,"body_markdown":"Possible duplicate: http://stackoverflow.com/questions/10085088/jackson-annotations-being-ignored-in-spring","body":"Possible duplicate: <a href=\"http://stackoverflow.com/questions/10085088/jackson-annotations-being-ignored-in-spring\" title=\"jackson annotations being ignored in spring\">stackoverflow.com/questions/10085088/&hellip;</a>"},{"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"score":0,"creation_date":1384119986,"post_id":19894955,"comment_id":29598678,"body_markdown":"It probably is a duplicate of that question. I was about to say that there should be no mention of Jackson in the servlet-context.xml because it is automatically used by Spring in newer versions.","body":"It probably is a duplicate of that question. I was about to say that there should be no mention of Jackson in the servlet-context.xml because it is automatically used by Spring in newer versions."}],"answers":[{"tags":[],"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1384118074,"creation_date":1384118074,"answer_id":19895272,"question_id":19894955,"body_markdown":"The annotation should only be on the &#39;get&#39; methods. You seem to have @Json... annotations on your private fields.","title":"Spring @JsonIgnore not working","body":"<p>The annotation should only be on the 'get' methods. You seem to have @Json... annotations on your private fields.</p>\n"},{"tags":[],"owner":{"account_id":441625,"reputation":1827,"user_id":831822,"accept_rate":46,"display_name":"czadam"},"down_vote_count":0,"up_vote_count":96,"is_accepted":true,"score":96,"last_activity_date":1574371463,"creation_date":1384119937,"answer_id":19895598,"question_id":19894955,"body_markdown":"I have finally found a solution. I changed the import statement from\r\n\r\n    import com.fasterxml.jackson.annotate.JsonIgnore;  // com. instead of org.\r\nto \r\n\r\n    import org.codehaus.jackson.annotate.JsonIgnore;\r\n\r\nBasically you have to make sure you are using the same class everywhere.","title":"Spring @JsonIgnore not working","body":"<p>I have finally found a solution. I changed the import statement from</p>\n\n<pre><code>import com.fasterxml.jackson.annotate.JsonIgnore;  // com. instead of org.\n</code></pre>\n\n<p>to </p>\n\n<pre><code>import org.codehaus.jackson.annotate.JsonIgnore;\n</code></pre>\n\n<p>Basically you have to make sure you are using the same class everywhere.</p>\n"},{"tags":[],"owner":{"account_id":5971855,"reputation":39,"user_id":4693962,"display_name":"Pankaj Verma"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1435129655,"creation_date":1435129074,"answer_id":31019726,"question_id":19894955,"body_markdown":"You Need to change your org.codehaus.jackson version.\r\nI am currently using 1.1.1 version in which @JsonIgonre\r\nis not working.\r\nI changed it with 1.9.13 then @JsonIgnore is working fine.\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n        Change to \r\n\r\n       &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n  And Java Code is :-\r\n\r\n    import java.io.Serializable;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import org.codehaus.jackson.annotate.JsonIgnore;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;users&quot;)\r\n    public class Users implements Serializable{\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \tprivate Integer id;\r\n    \tprivate String username;\r\n    \tprivate String firstname;\r\n    \t@JsonIgnore\r\n    \tprivate String lastname;\r\n    \t\r\n    \tpublic Integer getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Integer id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getUsername() {\r\n    \t\treturn username;\r\n    \t}\r\n    \r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \r\n    \tpublic String getFirstname() {\r\n    \t\treturn firstname;\r\n    \t}\r\n    \r\n    \tpublic void setFirstname(String firstname) {\r\n    \t\tthis.firstname = firstname;\r\n    \t}\r\n    \r\n    \tpublic String getLastname() {\r\n    \t\treturn lastname;\r\n    \t}\r\n    \r\n    \tpublic void setLastname(String lastname) {\r\n    \t\tthis.lastname = lastname;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Spring @JsonIgnore not working","body":"<p>You Need to change your org.codehaus.jackson version.\nI am currently using 1.1.1 version in which @JsonIgonre\nis not working.\nI changed it with 1.9.13 then @JsonIgnore is working fine.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    Change to \n\n   &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\n        &lt;version&gt;1.9.13&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>And Java Code is :-</p>\n\n<pre><code>import java.io.Serializable;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport org.codehaus.jackson.annotate.JsonIgnore;\n\n@Entity\n@Table(name=\"users\")\npublic class Users implements Serializable{\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Integer id;\n    private String username;\n    private String firstname;\n    @JsonIgnore\n    private String lastname;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getFirstname() {\n        return firstname;\n    }\n\n    public void setFirstname(String firstname) {\n        this.firstname = firstname;\n    }\n\n    public String getLastname() {\n        return lastname;\n    }\n\n    public void setLastname(String lastname) {\n        this.lastname = lastname;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10088823,"reputation":82,"user_id":7456450,"display_name":"tanson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485158464,"creation_date":1485158464,"answer_id":41801570,"question_id":19894955,"body_markdown":"I faced the same issue while working with spring and hibernate. The reason for this was that in entity class I was using org.codehaus.jackson.JsonIgnore and in spring I was using com.fasterxml.jackson.jaxrs.JsonIgnore. Fix to any one library in both layers and problem will disappear.","title":"Spring @JsonIgnore not working","body":"<p>I faced the same issue while working with spring and hibernate. The reason for this was that in entity class I was using org.codehaus.jackson.JsonIgnore and in spring I was using com.fasterxml.jackson.jaxrs.JsonIgnore. Fix to any one library in both layers and problem will disappear.</p>\n"},{"tags":[],"owner":{"account_id":3906953,"reputation":11639,"user_id":3233398,"accept_rate":9,"display_name":"EliuX"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1574384764,"creation_date":1493344690,"answer_id":43670718,"question_id":19894955,"body_markdown":"If you are using an implementation of Jackson and its annotations are not working it&#39;s probably because you have another dependency of jackson with better precedence. Hence if you want to assure that certain implementation of jackson prevales (IMHO the best choice is the one that you have all classes already annotated with, because probably it came with other dependencies) specify this dependency in the pom of the application module. So if you have in multiple modules all your entities annotated with\r\n\r\n    import com.fasterxml.jackson.annotate.JsonIgnore;  // note: com. instead of org.\r\n\r\nInstead of replacing all imports just specify the corresponding dependency in the application pom:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThis will clarify to Spring Boot that this is the implementation you want to use.","title":"Spring @JsonIgnore not working","body":"<p>If you are using an implementation of Jackson and its annotations are not working it's probably because you have another dependency of jackson with better precedence. Hence if you want to assure that certain implementation of jackson prevales (IMHO the best choice is the one that you have all classes already annotated with, because probably it came with other dependencies) specify this dependency in the pom of the application module. So if you have in multiple modules all your entities annotated with</p>\n\n<pre><code>import com.fasterxml.jackson.annotate.JsonIgnore;  // note: com. instead of org.\n</code></pre>\n\n<p>Instead of replacing all imports just specify the corresponding dependency in the application pom:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>This will clarify to Spring Boot that this is the implementation you want to use.</p>\n"},{"tags":[],"owner":{"account_id":11930542,"reputation":69,"user_id":8730519,"display_name":"RiTesh SrivasTav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564300278,"creation_date":1564300278,"answer_id":57238932,"question_id":19894955,"body_markdown":"I faced this issue in my project and finally I got the solution.\r\n\r\nReplace the dependency...\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nImport : com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\nI hope, It will work. ","title":"Spring @JsonIgnore not working","body":"<p>I faced this issue in my project and finally I got the solution.</p>\n\n<p>Replace the dependency...</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\n        &lt;version&gt;1.9.13&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Import : com.fasterxml.jackson.annotation.JsonIgnore;</p>\n\n<p>I hope, It will work. </p>\n"},{"tags":[],"owner":{"account_id":11679280,"reputation":57,"user_id":8551618,"display_name":"Nitin Pareek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569481520,"creation_date":1569481520,"answer_id":58111267,"question_id":19894955,"body_markdown":"In my case JsonIgnore was not working only on dates. Then I understood that was because of @JsonFormat() that I was using to define the format of date. Removing that solved the issue.","title":"Spring @JsonIgnore not working","body":"<p>In my case JsonIgnore was not working only on dates. Then I understood that was because of @JsonFormat() that I was using to define the format of date. Removing that solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":10203549,"reputation":1434,"user_id":7532946,"accept_rate":0,"display_name":"anson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597114605,"creation_date":1597114605,"answer_id":63350839,"question_id":19894955,"body_markdown":"I added @Getter(onMethod_=@JsonIgnore) for boolean.\r\n\r\n    import com.fasterxml.jackson.annotation.JsonFormat;\r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @JsonIgnoreProperties(ignoreUnknown = true) \r\n    public class TestClass    {\r\n    \r\n    \t\r\n    \t @JsonIgnore \r\n    \tprivate String name;\r\n    \t\r\n    \t @Getter(onMethod_=@JsonIgnore) \r\n    \tprivate boolean isValid; \r\n    \r\n    }\r\n\r\n\r\n ","title":"Spring @JsonIgnore not working","body":"<p>I added @Getter(onMethod_=@JsonIgnore) for boolean.</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonFormat;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true) \npublic class TestClass    {\n\n    \n     @JsonIgnore \n    private String name;\n    \n     @Getter(onMethod_=@JsonIgnore) \n    private boolean isValid; \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16254427,"reputation":385,"user_id":11737417,"display_name":"Pedro Blandim"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1611808552,"creation_date":1611808552,"answer_id":65931087,"question_id":19894955,"body_markdown":"Putting `@JsonProperty(access = JsonProperty.Access.WRITE_ONLY)` before the field declaration solved the problem for me.\r\n\r\n        @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n        private List&lt;Survey&gt; surveys =  new ArrayList&lt;&gt;();\r\n\r\nI&#39;m using jackson version 2.11.3","title":"Spring @JsonIgnore not working","body":"<p>Putting <code>@JsonProperty(access = JsonProperty.Access.WRITE_ONLY)</code> before the field declaration solved the problem for me.</p>\n<pre><code>    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    private List&lt;Survey&gt; surveys =  new ArrayList&lt;&gt;();\n</code></pre>\n<p>I'm using jackson version 2.11.3</p>\n"},{"tags":[],"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649659176,"creation_date":1649659176,"answer_id":71823582,"question_id":19894955,"body_markdown":"If `@JsonProperty(&quot;fieldName&quot;)` is also present on the field along with `@JsonIgnore`, the latter is ignored. This could happen, for instance, in generated code.\r\n\r\n```java\r\n@Generated(&quot;jsonschema2pojo&quot;)\r\npublic MyGeneratedClass {\r\n    // ...\r\n    @JsonProperty(&quot;label&quot;)          // This overrides @JsonIgnore\r\n    @JsonIgnore(true)               // Doesn&#39;t work\r\n    @Field(name = &quot;label&quot;)\r\n    private java.lang.String label;\r\n    // ...\r\n}\r\n```\r\n\r\n\r\nFrom the [documentation of `JsonIgnore`][1]:\r\n\r\n&gt; ... if only particular accessor is to be ignored ..., this can be done by annotating other not-to-be-ignored accessors with JsonProperty (or its equivalents).\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/latest/com/fasterxml/jackson/annotation/JsonIgnore.html","title":"Spring @JsonIgnore not working","body":"<p>If <code>@JsonProperty(&quot;fieldName&quot;)</code> is also present on the field along with <code>@JsonIgnore</code>, the latter is ignored. This could happen, for instance, in generated code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Generated(&quot;jsonschema2pojo&quot;)\npublic MyGeneratedClass {\n    // ...\n    @JsonProperty(&quot;label&quot;)          // This overrides @JsonIgnore\n    @JsonIgnore(true)               // Doesn't work\n    @Field(name = &quot;label&quot;)\n    private java.lang.String label;\n    // ...\n}\n</code></pre>\n<p>From the <a href=\"https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/latest/com/fasterxml/jackson/annotation/JsonIgnore.html\" rel=\"nofollow noreferrer\">documentation of <code>JsonIgnore</code></a>:</p>\n<blockquote>\n<p>... if only particular accessor is to be ignored ..., this can be done by annotating other not-to-be-ignored accessors with JsonProperty (or its equivalents).</p>\n</blockquote>\n"}],"owner":{"account_id":441625,"reputation":1827,"user_id":831822,"accept_rate":46,"display_name":"czadam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101807,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":19895598,"answer_count":10,"score":39,"last_activity_date":1649659176,"creation_date":1384116315,"question_id":19894955,"body_markdown":"How can I get @JsonIgnore to work I have a class. And even if I put the annotation there it has no effect on the output. I am using Jackson.\r\n\r\n    public class QuestionBlock implements ComparableByID{\r\n    \t\r\n    \r\n    \tint ID;\r\n    \t\r\n    \tString title;\r\n    \tString description;\r\n    \tboolean deleted;\r\n    \tboolean isDraft;\r\n    \tboolean visible;\r\n    \tTimestamp modifiedDate;\r\n    \tString modifiedBy;\r\n    \r\n    \t\r\n    \tprivate List&lt;Question&gt; questions =  new ArrayList&lt;&gt;();\r\n    \t\r\n        @JsonIgnore\r\n    \tprivate List&lt;Survey&gt; surveys =  new ArrayList&lt;&gt;();\r\n    \r\n    \t...\r\n    \r\n    \t@JsonIgnore\r\n    \tpublic List&lt;Survey&gt; getSurveys() {\r\n    \t\treturn surveys;\r\n    \t}\r\n    \r\n        @JsonIgnore\r\n    \tpublic void setSurveys(List&lt;Survey&gt; surveys) {\r\n    \t\tthis.surveys = surveys;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThis is my Controller method:\r\n\r\n    @RequestMapping(value = &quot;/questionBlock/{id}&quot;,produces = &quot;application/json;charset=UTF-8&quot;)\r\n    \t@ResponseBody\r\n    \tpublic QuestionBlock getQuestionBlock(@PathVariable(&quot;id&quot;) int id) {\r\n    \t\treturn surveyService.getQuestionBlock(id);\r\n    \t}\r\n\r\nHere is my servlet-context.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\r\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd\r\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd&quot;&gt;\r\n    \r\n    \t&lt;mvc:annotation-driven /&gt;\r\n    \r\n      \r\n    \t&lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n    \t&lt;mvc:resources location=&quot;/, classpath:/META-INF/web-resources/&quot;\r\n    \t\tmapping=&quot;/resources/**&quot; /&gt;\r\n    \r\n    \t&lt;context:property-placeholder location=&quot;classpath*:META-INF/*.properties&quot; /&gt;\r\n    \r\n    \r\n    \t&lt;context:component-scan base-package=&quot;com.adam.czibere&quot; /&gt;\r\n    \r\n    \r\n    \t\r\n    \t&lt;bean class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot; id=&quot;myDataSource&quot; name=&quot;dataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;${database.driverClassName}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;${database.url}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;${database.username}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;${database.password}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;testOnBorrow&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;testOnReturn&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;timeBetweenEvictionRunsMillis&quot; value=&quot;1800000&quot; /&gt;\r\n    \t\t&lt;property name=&quot;numTestsPerEvictionRun&quot; value=&quot;3&quot; /&gt;\r\n    \t\t&lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;1800000&quot; /&gt;\r\n    \t\t&lt;property name=&quot;validationQuery&quot; value=&quot;SELECT 1&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \r\n    \t&lt;bean id=&quot;mySessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot; /&gt;\r\n    \t\t&lt;property name=&quot;packagesToScan&quot;&gt;\r\n    \t\t\t&lt;array&gt;\r\n    \t\t\t\t&lt;value&gt;com.adam.czibere&lt;/value&gt;\r\n    \t\t\t&lt;/array&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;value&gt;\r\n    \t\t\t\thibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n    \t\t\t&lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;transactionManager&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;mySessionFactory&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;\r\n    \r\n    &lt;bean\r\n    \t\tclass=&quot;org.springframework.web.servlet.view.ContentNegotiatingViewResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;mediaTypes&quot;&gt;\r\n    \t\t\t&lt;map&gt;\r\n    \t\t\t\t&lt;entry key=&quot;html&quot; value=&quot;text/html&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;json&quot; value=&quot;application/json&quot; /&gt;\r\n    \t\t\t&lt;/map&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;viewResolvers&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;bean\r\n    \t\t\t\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n    \t\t\t\t&lt;/bean&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;defaultViews&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;bean\r\n    \t\t\t\t\tclass=&quot;org.springframework.web.servlet.view.json.MappingJacksonJsonView&quot;&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;prefixJson&quot; value=&quot;false&quot; /&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;objectMapper&quot; ref=&quot;jacksonObjectMapper&quot; /&gt;\r\n    \t\t\t\t&lt;/bean&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;jacksonObjectMapper&quot; class=&quot;org.codehaus.jackson.map.ObjectMapper&quot; /&gt;\r\n    \t&lt;bean\r\n    \t\tclass=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;&gt;\r\n    \t\t&lt;property name=&quot;messageConverters&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;bean\r\n    \t\t\t\t\tclass=&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot;&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;prefixJson&quot; value=&quot;false&quot; /&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;supportedMediaTypes&quot; value=&quot;application/json&quot; /&gt;\r\n    \t\t\t\t&lt;/bean&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\n","title":"Spring @JsonIgnore not working","body":"<p>How can I get @JsonIgnore to work I have a class. And even if I put the annotation there it has no effect on the output. I am using Jackson.</p>\n\n<pre><code>public class QuestionBlock implements ComparableByID{\n\n\n    int ID;\n\n    String title;\n    String description;\n    boolean deleted;\n    boolean isDraft;\n    boolean visible;\n    Timestamp modifiedDate;\n    String modifiedBy;\n\n\n    private List&lt;Question&gt; questions =  new ArrayList&lt;&gt;();\n\n    @JsonIgnore\n    private List&lt;Survey&gt; surveys =  new ArrayList&lt;&gt;();\n\n    ...\n\n    @JsonIgnore\n    public List&lt;Survey&gt; getSurveys() {\n        return surveys;\n    }\n\n    @JsonIgnore\n    public void setSurveys(List&lt;Survey&gt; surveys) {\n        this.surveys = surveys;\n    }\n\n}\n</code></pre>\n\n<p>This is my Controller method:</p>\n\n<pre><code>@RequestMapping(value = \"/questionBlock/{id}\",produces = \"application/json;charset=UTF-8\")\n    @ResponseBody\n    public QuestionBlock getQuestionBlock(@PathVariable(\"id\") int id) {\n        return surveyService.getQuestionBlock(id);\n    }\n</code></pre>\n\n<p>Here is my servlet-context.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xmlns:beans=\"http://www.springframework.org/schema/beans\"\n    xmlns:context=\"http://www.springframework.org/schema/context\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\n    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd\"&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n\n\n    &lt;mvc:resources mapping=\"/resources/**\" location=\"/resources/\" /&gt;\n    &lt;mvc:resources location=\"/, classpath:/META-INF/web-resources/\"\n        mapping=\"/resources/**\" /&gt;\n\n    &lt;context:property-placeholder location=\"classpath*:META-INF/*.properties\" /&gt;\n\n\n    &lt;context:component-scan base-package=\"com.adam.czibere\" /&gt;\n\n\n\n    &lt;bean class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\" id=\"myDataSource\" name=\"dataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"${database.driverClassName}\" /&gt;\n        &lt;property name=\"url\" value=\"${database.url}\" /&gt;\n        &lt;property name=\"username\" value=\"${database.username}\" /&gt;\n        &lt;property name=\"password\" value=\"${database.password}\" /&gt;\n        &lt;property name=\"testOnBorrow\" value=\"true\" /&gt;\n        &lt;property name=\"testOnReturn\" value=\"true\" /&gt;\n        &lt;property name=\"testWhileIdle\" value=\"true\" /&gt;\n        &lt;property name=\"timeBetweenEvictionRunsMillis\" value=\"1800000\" /&gt;\n        &lt;property name=\"numTestsPerEvictionRun\" value=\"3\" /&gt;\n        &lt;property name=\"minEvictableIdleTimeMillis\" value=\"1800000\" /&gt;\n        &lt;property name=\"validationQuery\" value=\"SELECT 1\" /&gt;\n    &lt;/bean&gt;\n\n\n    &lt;bean id=\"mySessionFactory\"\n        class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"myDataSource\" /&gt;\n        &lt;property name=\"packagesToScan\"&gt;\n            &lt;array&gt;\n                &lt;value&gt;com.adam.czibere&lt;/value&gt;\n            &lt;/array&gt;\n        &lt;/property&gt;\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;value&gt;\n                hibernate.dialect=org.hibernate.dialect.MySQLDialect\n            &lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"transactionManager\"\n        class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n        &lt;property name=\"sessionFactory\" ref=\"mySessionFactory\" /&gt;\n    &lt;/bean&gt;\n\n\n    &lt;tx:annotation-driven transaction-manager=\"transactionManager\"/&gt;\n\n&lt;bean\n        class=\"org.springframework.web.servlet.view.ContentNegotiatingViewResolver\"&gt;\n        &lt;property name=\"mediaTypes\"&gt;\n            &lt;map&gt;\n                &lt;entry key=\"html\" value=\"text/html\" /&gt;\n                &lt;entry key=\"json\" value=\"application/json\" /&gt;\n            &lt;/map&gt;\n        &lt;/property&gt;\n        &lt;property name=\"viewResolvers\"&gt;\n            &lt;list&gt;\n                &lt;bean\n                    class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n                    &lt;property name=\"prefix\" value=\"/WEB-INF/views/\" /&gt;\n                    &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n                &lt;/bean&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n        &lt;property name=\"defaultViews\"&gt;\n            &lt;list&gt;\n                &lt;bean\n                    class=\"org.springframework.web.servlet.view.json.MappingJacksonJsonView\"&gt;\n                    &lt;property name=\"prefixJson\" value=\"false\" /&gt;\n                    &lt;property name=\"objectMapper\" ref=\"jacksonObjectMapper\" /&gt;\n                &lt;/bean&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"jacksonObjectMapper\" class=\"org.codehaus.jackson.map.ObjectMapper\" /&gt;\n    &lt;bean\n        class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\"&gt;\n        &lt;property name=\"messageConverters\"&gt;\n            &lt;list&gt;\n                &lt;bean\n                    class=\"org.springframework.http.converter.json.MappingJacksonHttpMessageConverter\"&gt;\n                    &lt;property name=\"prefixJson\" value=\"false\" /&gt;\n                    &lt;property name=\"supportedMediaTypes\" value=\"application/json\" /&gt;\n                &lt;/bean&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":2,"creation_date":1649493562,"post_id":71803604,"comment_id":126893467,"body_markdown":"In a Maven project, all source files should be in `src/main/java`, under their package path, e.g. if your file is in the package `com.yoururl.frontend` then it should be in the folder `src/main/java/com/yoururl/frontend`.","body":"In a Maven project, all source files should be in <code>src&#47;main&#47;java</code>, under their package path, e.g. if your file is in the package <code>com.yoururl.frontend</code> then it should be in the folder <code>src&#47;main&#47;java&#47;com&#47;yoururl&#47;frontend</code>."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1649505368,"post_id":71803604,"comment_id":126895702,"body_markdown":"@JFabianMeier This does not look like a Maven project.","body":"@JFabianMeier This does not look like a Maven project."},{"owner":{"account_id":24877066,"reputation":3,"user_id":18750758,"display_name":"Aaron3963"},"score":0,"creation_date":1649546319,"post_id":71803604,"comment_id":126903670,"body_markdown":"@JFabianMeier This is not a standard Maven project and I am using the default packages.   When I created the project, I used the tool from VS Code&#39;s command panel. Ctrl+Shift+P to jump to the panel, then I typed ```create java project```, and selected the one with ```No Build Tools```.","body":"@JFabianMeier This is not a standard Maven project and I am using the default packages.   When I created the project, I used the tool from VS Code&#39;s command panel. Ctrl+Shift+P to jump to the panel, then I typed <code>create java project</code>, and selected the one with <code>No Build Tools</code>."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1649571940,"post_id":71803604,"comment_id":126906321,"body_markdown":"@Aaron3963 So why did you tag this question with Maven? Anyway, a project should have only one source folder. If you want to order your Java classes, use Java packages.","body":"@Aaron3963 So why did you tag this question with Maven? Anyway, a project should have only one source folder. If you want to order your Java classes, use Java packages."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1649659172,"post_id":71803604,"comment_id":126922536,"body_markdown":"The real answer: don&#39;t do that. Follow the maven standard directory layout, do not use default packages. Seriously, when you are in Rome, do like the Romans do. Especially when you are learning a new language, don&#39;t do things &quot;your way&quot;. Try to stay with &quot;the standard way&quot; all the time, and only deviate when you have really good reasons to do so. That implies you understand the standard, and why it is really better for you to do sth else.","body":"The real answer: don&#39;t do that. Follow the maven standard directory layout, do not use default packages. Seriously, when you are in Rome, do like the Romans do. Especially when you are learning a new language, don&#39;t do things &quot;your way&quot;. Try to stay with &quot;the standard way&quot; all the time, and only deviate when you have really good reasons to do so. That implies you understand the standard, and why it is really better for you to do sth else."}],"answers":[{"tags":[],"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649658895,"creation_date":1649658895,"answer_id":71823534,"question_id":71803604,"body_markdown":"I don&#39;t think you need to add all the subfolders of `src` to `&quot;java.project.sourcePaths&quot;`. `&quot;java.project.sourcePaths&quot;: [&quot;src&quot;]` is enough.\r\n\r\nThe codes under the subfolders of `src` should be structured by the `package` and `import`, both relative to `src`.","title":"How to include all files (including ones in subfolder) in sourcepath of a JAVA project?","body":"<p>I don't think you need to add all the subfolders of <code>src</code> to <code>&quot;java.project.sourcePaths&quot;</code>. <code>&quot;java.project.sourcePaths&quot;: [&quot;src&quot;]</code> is enough.</p>\n<p>The codes under the subfolders of <code>src</code> should be structured by the <code>package</code> and <code>import</code>, both relative to <code>src</code>.</p>\n"}],"owner":{"account_id":24877066,"reputation":3,"user_id":18750758,"display_name":"Aaron3963"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71823534,"answer_count":1,"score":0,"last_activity_date":1649658895,"creation_date":1649455758,"question_id":71803604,"body_markdown":"I am trying to create a Java project on VS Code, and I wish to add all of the files inside the ```src``` folder. Layout of the project:\r\n\r\n![layout][1]\r\n\r\nAs you can see, there are multiple subfolders inside ```src```, and I wish to add all of them in the ```java.project.sourcePaths``` inside the ```settings.json``` file so the files can run. If I leave it as ```&quot;java.project.sourcePaths&quot;: [&quot;src&quot;],```, I got errrors which my objects created ```cannot be resolved to a type```.\r\n\r\nI got this temporarily fixed by changing the direcotry into ```src/PA 1/```, but I do not know how to include all subfolders of ```src```. This means everytime I create a new subfolder, I need to come back to add it in ```java.project.sourcePaths```. \r\n\r\nIs there a way to include all subfolders inside ```src```? I tried ```src/**/``` but it did not work.\r\n\r\nPS: Can any one explain why Java is not recognizing files inside the subfolder?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Smr7x.png","title":"How to include all files (including ones in subfolder) in sourcepath of a JAVA project?","body":"<p>I am trying to create a Java project on VS Code, and I wish to add all of the files inside the <code>src</code> folder. Layout of the project:</p>\n<p><img src=\"https://i.stack.imgur.com/Smr7x.png\" alt=\"layout\" /></p>\n<p>As you can see, there are multiple subfolders inside <code>src</code>, and I wish to add all of them in the <code>java.project.sourcePaths</code> inside the <code>settings.json</code> file so the files can run. If I leave it as <code>&quot;java.project.sourcePaths&quot;: [&quot;src&quot;],</code>, I got errrors which my objects created <code>cannot be resolved to a type</code>.</p>\n<p>I got this temporarily fixed by changing the direcotry into <code>src/PA 1/</code>, but I do not know how to include all subfolders of <code>src</code>. This means everytime I create a new subfolder, I need to come back to add it in <code>java.project.sourcePaths</code>.</p>\n<p>Is there a way to include all subfolders inside <code>src</code>? I tried <code>src/**/</code> but it did not work.</p>\n<p>PS: Can any one explain why Java is not recognizing files inside the subfolder?</p>\n"},{"tags":["java","android","webview"],"answers":[{"tags":[],"owner":{"account_id":7072969,"reputation":639,"user_id":5413981,"display_name":"Vishal Vasani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649658792,"creation_date":1649658792,"answer_id":71823517,"question_id":71806369,"body_markdown":"    I have used the following in my projects:\r\n    \r\n    import android.content.Context;\r\n    import android.net.ConnectivityManager;\r\n    \r\n    \r\n    public class DetectConnection {             \r\n      public static boolean checkInternetConnection(Context context) {   \r\n    \r\n        ConnectivityManager con_manager = (ConnectivityManager) \r\n          context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    \r\n        return (con_manager.getActiveNetworkInfo() != null\r\n            &amp;&amp; con_manager.getActiveNetworkInfo().isAvailable()\r\n            &amp;&amp; con_manager.getActiveNetworkInfo().isConnected());\r\n      }\r\n    }\r\n    \r\n    import android.content.Context;\r\n    import android.net.ConnectivityManager;\r\n    \r\n    \r\n    public class DetectConnection {             \r\n      public static boolean checkInternetConnection(Context context) {   \r\n    \r\n        ConnectivityManager con_manager = (ConnectivityManager) \r\n          context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    \r\n        return (con_manager.getActiveNetworkInfo() != null\r\n            &amp;&amp; con_manager.getActiveNetworkInfo().isAvailable()\r\n            &amp;&amp; con_manager.getActiveNetworkInfo().isConnected());\r\n      }\r\n    }\r\n    \r\n    if (!DetectConnection.checkInternetConnection(this)) {\r\n      Toast.makeText(getApplicationContext(), &quot;No Internet!&quot;, Toast.LENGTH_SHORT).show();\r\n    } else {      \r\n      wv = (WebView) findViewById(R.id.donate_webView1);\r\n      c = new CustomWebViewClient();\r\n      wv.setWebViewClient(c);\r\n      wv.clearCache(true);\r\n      wv.clearHistory();\r\n      wv.getSettings().setJavaScriptEnabled(true);\r\n      wv.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\r\n      wv.getSettings().setBuiltInZoomControls(true);\r\n      wv.loadUrl(&quot;http://www.google.com&quot;);\r\n    }\r\n    \r\n    \r\n    // Function to load all URLs in same webview\r\n    private class CustomWebViewClient extends WebViewClient {\r\n      public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n        if (!DetectConnection.checkInternetConnection(this)) {\r\n          Toast.makeText(getApplicationContext(), &quot;No Internet!&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n          view.loadUrl(url);\r\n        }     \r\n        return true;\r\n      }\r\n    }\r\n    \r\n    Update the Manifest:\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;","title":"How to add no internet connection page in my web view application?","body":"<pre><code>I have used the following in my projects:\n\nimport android.content.Context;\nimport android.net.ConnectivityManager;\n\n\npublic class DetectConnection {             \n  public static boolean checkInternetConnection(Context context) {   \n\n    ConnectivityManager con_manager = (ConnectivityManager) \n      context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n    return (con_manager.getActiveNetworkInfo() != null\n        &amp;&amp; con_manager.getActiveNetworkInfo().isAvailable()\n        &amp;&amp; con_manager.getActiveNetworkInfo().isConnected());\n  }\n}\n\nimport android.content.Context;\nimport android.net.ConnectivityManager;\n\n\npublic class DetectConnection {             \n  public static boolean checkInternetConnection(Context context) {   \n\n    ConnectivityManager con_manager = (ConnectivityManager) \n      context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n    return (con_manager.getActiveNetworkInfo() != null\n        &amp;&amp; con_manager.getActiveNetworkInfo().isAvailable()\n        &amp;&amp; con_manager.getActiveNetworkInfo().isConnected());\n  }\n}\n\nif (!DetectConnection.checkInternetConnection(this)) {\n  Toast.makeText(getApplicationContext(), &quot;No Internet!&quot;, Toast.LENGTH_SHORT).show();\n} else {      \n  wv = (WebView) findViewById(R.id.donate_webView1);\n  c = new CustomWebViewClient();\n  wv.setWebViewClient(c);\n  wv.clearCache(true);\n  wv.clearHistory();\n  wv.getSettings().setJavaScriptEnabled(true);\n  wv.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\n  wv.getSettings().setBuiltInZoomControls(true);\n  wv.loadUrl(&quot;http://www.google.com&quot;);\n}\n\n\n// Function to load all URLs in same webview\nprivate class CustomWebViewClient extends WebViewClient {\n  public boolean shouldOverrideUrlLoading(WebView view, String url) {\n    if (!DetectConnection.checkInternetConnection(this)) {\n      Toast.makeText(getApplicationContext(), &quot;No Internet!&quot;, Toast.LENGTH_SHORT).show();\n    } else {\n      view.loadUrl(url);\n    }     \n    return true;\n  }\n}\n\nUpdate the Manifest:\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":24880395,"reputation":11,"user_id":18753683,"display_name":"Sanjay Deka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649658792,"creation_date":1649492456,"question_id":71806369,"body_markdown":"I am trying to add a no internet connection page to my webview application but I can&#39;t. I am not much experienced on it just I am creating this application by following some youtube videos. I have added progressbar, swiprefresh, exit dialogue popup and want to add no internet connection page too along with these. I have attached my code below -Kindly help me please!\r\n\r\nactivity_main.xml\r\n\r\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/swipe&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;WebView\r\n            android:id=&quot;@+id/myWebview&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            /&gt;\r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progress_Bar&quot;\r\n            style=&quot;@style/Widget.AppCompat.ProgressBar.Horizontal&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;8dp&quot;\r\n            android:progress=&quot;20&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:id=&quot;@+id/relativeLayout&quot;&gt;\r\n    \r\n    \r\n            &lt;ImageView\r\n            android:layout_width=&quot;240dp&quot;\r\n            android:layout_height=&quot;240dp&quot;\r\n            android:src=&quot;@drawable/ic_no_internet&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:id=&quot;@+id/noInternet&quot;\r\n            android:layout_marginTop=&quot;100dp&quot;/&gt;\r\n    \r\n            &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;No Internet Connection&quot;\r\n            android:layout_below=&quot;@+id/noInternet&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textSize=&quot;30sp&quot;\r\n            android:id=&quot;@+id/txtNoConnection&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;/&gt;\r\n    \r\n            &lt;Button\r\n            android:layout_width=&quot;140dp&quot;\r\n            android:layout_height=&quot;65dp&quot;\r\n            android:text=&quot;Retry&quot;\r\n            android:background=&quot;@color/teal_700&quot;\r\n            android:textColor=&quot;#ffffff&quot;\r\n            android:textSize=&quot;22sp&quot;\r\n            android:layout_below=&quot;@+id/txtNoConnection&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;100dp&quot;\r\n            android:id=&quot;@+id/btnNoInternet&quot;/&gt;\r\n        &lt;/RelativeLayout&gt;\r\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\r\n\r\n\r\nAnd MainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    WebView webView;\r\n    private String webUrl=&quot;http://godigitalzone.in/&quot;;\r\n    ProgressBar progressBar;\r\n    ProgressDialog progressDialog;\r\n    SwipeRefreshLayout swipe;\r\n    RelativeLayout relativeLayout;\r\n    Button btnNoInternet;\r\n    Context context;\r\n    \r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    \r\n        setContentView(R.layout.activity_main);\r\n        swipe = findViewById(R.id.swipe);\r\n    \r\n        webView=findViewById(R.id.myWebview);\r\n        progressBar=findViewById(R.id.progress_Bar);\r\n        progressDialog=new ProgressDialog(this);\r\n        progressDialog.setMessage(&quot;Please wait&quot;);\r\n    \r\n        btnNoInternet = (Button) findViewById(R.id.btnNoInternet);\r\n        relativeLayout = (RelativeLayout) findViewById(R.id.relativeLayout);\r\n    \r\n        webView.loadUrl(webUrl);\r\n    \r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n    \r\n        checkConnection();\r\n        \r\n    \r\n        swipe.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n            @Override\r\n            public void onRefresh() {\r\n                webView.reload();\r\n            }\r\n        });\r\n    \r\n        webView.setWebViewClient(new WebViewClient(){\r\n    \r\n            @Override\r\n            public void onPageFinished(WebView view, String url) {\r\n                swipe.setRefreshing(false);\r\n                super.onPageFinished(view, url);\r\n            }\r\n    \r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                view.loadUrl(url);\r\n                return true;\r\n            }\r\n        });\r\n        \r\n    \r\n        webView.setWebChromeClient(new WebChromeClient(){\r\n            @Override\r\n            public void onProgressChanged(WebView view, int newProgress){\r\n                progressBar.setVisibility(View.VISIBLE);\r\n                progressDialog.show();\r\n                if (newProgress==100){\r\n                    progressBar.setVisibility(View.GONE);\r\n                    setTitle(view.getTitle());\r\n                    progressDialog.dismiss();\r\n                }\r\n                super.onProgressChanged(view, newProgress);\r\n            }\r\n        });\r\n    }\r\n    \r\n    @Override\r\n    public void onSaveInstanceState(@NonNull Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n        webView.saveState(outState);\r\n    }\r\n    \r\n    @Override\r\n    public void onBackPressed() {\r\n        if (webView.canGoBack()){\r\n            webView.goBack();\r\n        }\r\n        else{\r\n            AlertDialog.Builder builder=new AlertDialog.Builder(this);;\r\n            builder.setMessage(&quot;Are you sure want to Exit?&quot;)\r\n                    .setCancelable(false)\r\n                    .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n                            dialogInterface.cancel();\r\n                        }\r\n                    })\r\n                    .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n                            MainActivity.super.onBackPressed();\r\n                        }\r\n                    });\r\n            AlertDialog alertDialog=builder.create();\r\n            alertDialog.show();\r\n        }\r\n    \r\n    }\r\n    public void checkConnection(){\r\n    \r\n        ConnectivityManager connectivityManager = (ConnectivityManager)\r\n                this.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkInfo wifi = connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);\r\n       NetworkInfo mobile = connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\r\n    \r\n       if (wifi.isConnected()){\r\n    \r\n           webView.setVisibility(View.VISIBLE);\r\n           relativeLayout.setVisibility(View.GONE);\r\n    \r\n       }\r\n       else if (mobile.isConnected()){\r\n           webView.setVisibility(View.VISIBLE);\r\n           relativeLayout.setVisibility(View.GONE);\r\n       }\r\n       else {\r\n           webView.setVisibility(View.GONE);\r\n           relativeLayout.setVisibility(View.VISIBLE);\r\n       }\r\n    }\r\n    }\r\n\r\n","title":"How to add no internet connection page in my web view application?","body":"<p>I am trying to add a no internet connection page to my webview application but I can't. I am not much experienced on it just I am creating this application by following some youtube videos. I have added progressbar, swiprefresh, exit dialogue popup and want to add no internet connection page too along with these. I have attached my code below -Kindly help me please!</p>\n<p>activity_main.xml</p>\n<pre><code>&lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/swipe&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/myWebview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        /&gt;\n    &lt;ProgressBar\n        android:id=&quot;@+id/progress_Bar&quot;\n        style=&quot;@style/Widget.AppCompat.ProgressBar.Horizontal&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;8dp&quot;\n        android:progress=&quot;20&quot;\n        android:visibility=&quot;gone&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/relativeLayout&quot;&gt;\n\n\n        &lt;ImageView\n        android:layout_width=&quot;240dp&quot;\n        android:layout_height=&quot;240dp&quot;\n        android:src=&quot;@drawable/ic_no_internet&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:id=&quot;@+id/noInternet&quot;\n        android:layout_marginTop=&quot;100dp&quot;/&gt;\n\n        &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;No Internet Connection&quot;\n        android:layout_below=&quot;@+id/noInternet&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;30sp&quot;\n        android:id=&quot;@+id/txtNoConnection&quot;\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\n\n        &lt;Button\n        android:layout_width=&quot;140dp&quot;\n        android:layout_height=&quot;65dp&quot;\n        android:text=&quot;Retry&quot;\n        android:background=&quot;@color/teal_700&quot;\n        android:textColor=&quot;#ffffff&quot;\n        android:textSize=&quot;22sp&quot;\n        android:layout_below=&quot;@+id/txtNoConnection&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;100dp&quot;\n        android:id=&quot;@+id/btnNoInternet&quot;/&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n</code></pre>\n<p>And MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nWebView webView;\nprivate String webUrl=&quot;http://godigitalzone.in/&quot;;\nProgressBar progressBar;\nProgressDialog progressDialog;\nSwipeRefreshLayout swipe;\nRelativeLayout relativeLayout;\nButton btnNoInternet;\nContext context;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    setContentView(R.layout.activity_main);\n    swipe = findViewById(R.id.swipe);\n\n    webView=findViewById(R.id.myWebview);\n    progressBar=findViewById(R.id.progress_Bar);\n    progressDialog=new ProgressDialog(this);\n    progressDialog.setMessage(&quot;Please wait&quot;);\n\n    btnNoInternet = (Button) findViewById(R.id.btnNoInternet);\n    relativeLayout = (RelativeLayout) findViewById(R.id.relativeLayout);\n\n    webView.loadUrl(webUrl);\n\n    webView.getSettings().setJavaScriptEnabled(true);\n\n    checkConnection();\n    \n\n    swipe.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n        @Override\n        public void onRefresh() {\n            webView.reload();\n        }\n    });\n\n    webView.setWebViewClient(new WebViewClient(){\n\n        @Override\n        public void onPageFinished(WebView view, String url) {\n            swipe.setRefreshing(false);\n            super.onPageFinished(view, url);\n        }\n\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            view.loadUrl(url);\n            return true;\n        }\n    });\n    \n\n    webView.setWebChromeClient(new WebChromeClient(){\n        @Override\n        public void onProgressChanged(WebView view, int newProgress){\n            progressBar.setVisibility(View.VISIBLE);\n            progressDialog.show();\n            if (newProgress==100){\n                progressBar.setVisibility(View.GONE);\n                setTitle(view.getTitle());\n                progressDialog.dismiss();\n            }\n            super.onProgressChanged(view, newProgress);\n        }\n    });\n}\n\n@Override\npublic void onSaveInstanceState(@NonNull Bundle outState) {\n    super.onSaveInstanceState(outState);\n    webView.saveState(outState);\n}\n\n@Override\npublic void onBackPressed() {\n    if (webView.canGoBack()){\n        webView.goBack();\n    }\n    else{\n        AlertDialog.Builder builder=new AlertDialog.Builder(this);;\n        builder.setMessage(&quot;Are you sure want to Exit?&quot;)\n                .setCancelable(false)\n                .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialogInterface, int i) {\n                        dialogInterface.cancel();\n                    }\n                })\n                .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialogInterface, int i) {\n                        MainActivity.super.onBackPressed();\n                    }\n                });\n        AlertDialog alertDialog=builder.create();\n        alertDialog.show();\n    }\n\n}\npublic void checkConnection(){\n\n    ConnectivityManager connectivityManager = (ConnectivityManager)\n            this.getSystemService(Context.CONNECTIVITY_SERVICE);\n    NetworkInfo wifi = connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);\n   NetworkInfo mobile = connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\n\n   if (wifi.isConnected()){\n\n       webView.setVisibility(View.VISIBLE);\n       relativeLayout.setVisibility(View.GONE);\n\n   }\n   else if (mobile.isConnected()){\n       webView.setVisibility(View.VISIBLE);\n       relativeLayout.setVisibility(View.GONE);\n   }\n   else {\n       webView.setVisibility(View.GONE);\n       relativeLayout.setVisibility(View.VISIBLE);\n   }\n}\n}\n</code></pre>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":17787151,"reputation":378,"user_id":12916990,"display_name":"Vijay S"},"score":1,"creation_date":1649657334,"post_id":71823297,"comment_id":126922039,"body_markdown":"change width = 0dp and add weight","body":"change width = 0dp and add weight"}],"answers":[{"tags":[],"owner":{"account_id":1418698,"reputation":6484,"user_id":1343788,"display_name":"Mehul Kabaria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649658519,"creation_date":1649658519,"answer_id":71823471,"question_id":71823297,"body_markdown":"you have to do like below to get `weight` over TextView\r\n\r\n    TextView tv = new TextView(v.getContext());\r\n    tv.setLayoutParams(new TableRow.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT, 1f));","title":"Android (Java): Programatically adding TextView(s) with weight 1 to a TableRow does not result in TextView(s) of equal width","body":"<p>you have to do like below to get <code>weight</code> over TextView</p>\n<pre><code>TextView tv = new TextView(v.getContext());\ntv.setLayoutParams(new TableRow.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT, 1f));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9791601,"reputation":60,"user_id":7256022,"display_name":"Kuldeep Saini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649658573,"creation_date":1649658573,"answer_id":71823482,"question_id":71823297,"body_markdown":"Try using setColumnStretchable (int columnIndex, boolean isStretchable)\r\n","title":"Android (Java): Programatically adding TextView(s) with weight 1 to a TableRow does not result in TextView(s) of equal width","body":"<p>Try using setColumnStretchable (int columnIndex, boolean isStretchable)</p>\n"}],"owner":{"account_id":10574208,"reputation":466,"user_id":7789984,"accept_rate":100,"display_name":"Adam Lee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71823471,"answer_count":2,"score":0,"last_activity_date":1649658573,"creation_date":1649657163,"question_id":71823297,"body_markdown":"In my Android application, I am attempting to programatically add a `TableRow` to a `TableLayout` in which the `TableRow` has `TextView`(s) of equal weight (1), meaning they occupy the same width. Below is an image showing what I am trying to achieve (I am trying to programatically add the `TableRow` highlighted in red):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, below is the result of my code after programmatically adding a TableRow with 3 `TextView`(s) of equal weight 1:\r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBelow is the XML for the main layout, and the template used to programmatically create the `TextView` of weight 1. The error seems strange, considering that in the template used to programatically create the `TextView`, I specified the weight as 1.\r\n\r\n**activity_main.xml**:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;TableLayout\r\n            android:id=&quot;@+id/table_layout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:paddingLeft=&quot;5dp&quot;\r\n            android:paddingRight=&quot;5dp&quot;&gt;\r\n            &lt;TableRow\r\n                android:background=&quot;#d6d7d7&quot;\r\n                android:padding=&quot;10dp&quot;&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:text=&quot;A&quot;\r\n                    android:textColor=&quot;#000000&quot; /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:text=&quot;B&quot;\r\n                    android:textColor=&quot;#000000&quot; /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:text=&quot;C&quot;\r\n                    android:textColor=&quot;#000000&quot; /&gt;\r\n            &lt;/TableRow&gt;\r\n        &lt;/TableLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n**table_textview.xml**:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:textColor=&quot;#000000&quot; /&gt;\r\n\r\n**MainActivity.java**:\r\n\r\n    package com.example.programaticallyaddtablerowtotablelayout;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.TableLayout;\r\n    import android.widget.TableRow;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // Retrieve of the table layout.\r\n            TableLayout table = (TableLayout) findViewById(R.id.table_layout);\r\n    \r\n            // Initialize the row to be added to the table layout.\r\n            TableRow newRow = new TableRow(this);\r\n            newRow.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.MATCH_PARENT,\r\n                    TableRow.LayoutParams.WRAP_CONTENT));\r\n    \r\n            // Add the TextView(s) to the row.\r\n            TextView xView = (TextView) createViewFromXMLTemplate(R.layout.table_textview);\r\n            xView.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT, TableRow.LayoutParams.WRAP_CONTENT));\r\n            xView.setText(&quot;X&quot;);\r\n            newRow.addView(xView);\r\n    \r\n            TextView yView = (TextView) createViewFromXMLTemplate(R.layout.table_textview);\r\n            yView.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT, TableRow.LayoutParams.WRAP_CONTENT));\r\n            yView.setText(&quot;Y&quot;);\r\n            newRow.addView(yView);\r\n    \r\n            TextView zView = (TextView) createViewFromXMLTemplate(R.layout.table_textview);\r\n            zView.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT, TableRow.LayoutParams.WRAP_CONTENT));\r\n            zView.setText(&quot;Z&quot;);\r\n            newRow.addView(zView);\r\n    \r\n            // Add the row to the table layout.\r\n            table.addView(newRow, new TableLayout.LayoutParams(TableLayout.LayoutParams.WRAP_CONTENT, TableLayout.LayoutParams.WRAP_CONTENT));\r\n        }\r\n    \r\n        // Creates a View by inflating a template XML layout.\r\n        private View createViewFromXMLTemplate(int layout) {\r\n            return getLayoutInflater().inflate(layout, null);\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/7Ihnx.png\r\n  [2]: https://i.stack.imgur.com/pCpNW.png","title":"Android (Java): Programatically adding TextView(s) with weight 1 to a TableRow does not result in TextView(s) of equal width","body":"<p>In my Android application, I am attempting to programatically add a <code>TableRow</code> to a <code>TableLayout</code> in which the <code>TableRow</code> has <code>TextView</code>(s) of equal weight (1), meaning they occupy the same width. Below is an image showing what I am trying to achieve (I am trying to programatically add the <code>TableRow</code> highlighted in red):</p>\n<p><a href=\"https://i.stack.imgur.com/7Ihnx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Ihnx.png\" alt=\"enter image description here\" /></a></p>\n<p>However, below is the result of my code after programmatically adding a TableRow with 3 <code>TextView</code>(s) of equal weight 1:</p>\n<p><a href=\"https://i.stack.imgur.com/pCpNW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pCpNW.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is the XML for the main layout, and the template used to programmatically create the <code>TextView</code> of weight 1. The error seems strange, considering that in the template used to programatically create the <code>TextView</code>, I specified the weight as 1.</p>\n<p><strong>activity_main.xml</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n    &lt;TableLayout\n        android:id=&quot;@+id/table_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:paddingLeft=&quot;5dp&quot;\n        android:paddingRight=&quot;5dp&quot;&gt;\n        &lt;TableRow\n            android:background=&quot;#d6d7d7&quot;\n            android:padding=&quot;10dp&quot;&gt;\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:text=&quot;A&quot;\n                android:textColor=&quot;#000000&quot; /&gt;\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:text=&quot;B&quot;\n                android:textColor=&quot;#000000&quot; /&gt;\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:text=&quot;C&quot;\n                android:textColor=&quot;#000000&quot; /&gt;\n        &lt;/TableRow&gt;\n    &lt;/TableLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>table_textview.xml</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_weight=&quot;1&quot;\n    android:textColor=&quot;#000000&quot; /&gt;\n</code></pre>\n<p><strong>MainActivity.java</strong>:</p>\n<pre><code>package com.example.programaticallyaddtablerowtotablelayout;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.TableLayout;\nimport android.widget.TableRow;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Retrieve of the table layout.\n        TableLayout table = (TableLayout) findViewById(R.id.table_layout);\n\n        // Initialize the row to be added to the table layout.\n        TableRow newRow = new TableRow(this);\n        newRow.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.MATCH_PARENT,\n                TableRow.LayoutParams.WRAP_CONTENT));\n\n        // Add the TextView(s) to the row.\n        TextView xView = (TextView) createViewFromXMLTemplate(R.layout.table_textview);\n        xView.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT, TableRow.LayoutParams.WRAP_CONTENT));\n        xView.setText(&quot;X&quot;);\n        newRow.addView(xView);\n\n        TextView yView = (TextView) createViewFromXMLTemplate(R.layout.table_textview);\n        yView.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT, TableRow.LayoutParams.WRAP_CONTENT));\n        yView.setText(&quot;Y&quot;);\n        newRow.addView(yView);\n\n        TextView zView = (TextView) createViewFromXMLTemplate(R.layout.table_textview);\n        zView.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT, TableRow.LayoutParams.WRAP_CONTENT));\n        zView.setText(&quot;Z&quot;);\n        newRow.addView(zView);\n\n        // Add the row to the table layout.\n        table.addView(newRow, new TableLayout.LayoutParams(TableLayout.LayoutParams.WRAP_CONTENT, TableLayout.LayoutParams.WRAP_CONTENT));\n    }\n\n    // Creates a View by inflating a template XML layout.\n    private View createViewFromXMLTemplate(int layout) {\n        return getLayoutInflater().inflate(layout, null);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-mvc","integration-testing","h2","spring-boot-test"],"comments":[{"owner":{"account_id":23095038,"reputation":146,"user_id":17205307,"display_name":"Johannes"},"score":0,"creation_date":1649430842,"post_id":71799181,"comment_id":126881465,"body_markdown":"can you provide info about what happens when the agentService can not find something? At the moment I would guess your endpoint will always return the page only with a null value for listAgents unless there is an exception somewhere which in the end will also result in the 200 since the resource: the page, was found","body":"can you provide info about what happens when the agentService can not find something? At the moment I would guess your endpoint will always return the page only with a null value for listAgents unless there is an exception somewhere which in the end will also result in the 200 since the resource: the page, was found"},{"owner":{"account_id":20683043,"reputation":35,"user_id":15186159,"display_name":"Alessia"},"score":0,"creation_date":1649485865,"post_id":71799181,"comment_id":126892309,"body_markdown":"Sorry for the late response, I posted my Agent Service. Or is there maybe something wrong with my security configuration?","body":"Sorry for the late response, I posted my Agent Service. Or is there maybe something wrong with my security configuration?"}],"answers":[{"tags":[],"owner":{"account_id":23095038,"reputation":146,"user_id":17205307,"display_name":"Johannes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649520197,"creation_date":1649520197,"answer_id":71809707,"question_id":71799181,"body_markdown":"You have annotated your AgentService with @MockBean so when it is supposed to be called during the test only a mock is called and the result is null resulting in the page returned by your endpoint with listAgents = null.\r\nTherefore the 200 in both cases. You can either include your AgentService and your AgentMapper in the applicationContext of your test and annotate them with @Autowired or you could specify the behavior of the mocks but since you want to use h2 I guess you should go with the first one.\r\nAdditionally you could also define an exception handler for the case when your exception is thrown to explicitly return a 404\r\n\r\n        @ControllerAdvice\r\n        public class CustomExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n          @ExceptionHandler(AgencyNotFoundException.class)\r\n          public ResponseEntity&lt;Object&gt; handleAgencyNotFound(AgencyNotFoundException exception, WebRequest request) {\r\n            return handleExceptionInternal(exception, exception.getMessage(),\r\n                new HttpHeaders(), HttpStatus.NOT_FOUND, request);\r\n          }\r\n        }","title":"Spring MVC integration test with h2 fails","body":"<p>You have annotated your AgentService with @MockBean so when it is supposed to be called during the test only a mock is called and the result is null resulting in the page returned by your endpoint with listAgents = null.\nTherefore the 200 in both cases. You can either include your AgentService and your AgentMapper in the applicationContext of your test and annotate them with @Autowired or you could specify the behavior of the mocks but since you want to use h2 I guess you should go with the first one.\nAdditionally you could also define an exception handler for the case when your exception is thrown to explicitly return a 404</p>\n<pre><code>    @ControllerAdvice\n    public class CustomExceptionHandler extends ResponseEntityExceptionHandler {\n\n      @ExceptionHandler(AgencyNotFoundException.class)\n      public ResponseEntity&lt;Object&gt; handleAgencyNotFound(AgencyNotFoundException exception, WebRequest request) {\n        return handleExceptionInternal(exception, exception.getMessage(),\n            new HttpHeaders(), HttpStatus.NOT_FOUND, request);\n      }\n    }\n</code></pre>\n"}],"owner":{"account_id":20683043,"reputation":35,"user_id":15186159,"display_name":"Alessia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649658528,"creation_date":1649429916,"question_id":71799181,"body_markdown":"I have been trying to write some integration tests using my in-memory database h2 and I don&#39;t know why, but it seems that the data from the database is inaccessible for the tests. When I run the application, the data is shown as per my import.sql file. \r\nThis is the only row from my db in h2:\r\n```\r\ninsert into agents values(1, &#39;Tom&#39;, &#39;Jay&#39;, &#39;tom@gmail.com&#39;, 1);\r\n```\r\nNow this is my method in my controller, to retrieve the agents based on an agency id:\r\n```\r\n@Controller\r\npublic class AgentController {\r\n\r\n    @Autowired\r\n    private AgentService agentService;\r\n\r\n    @Autowired\r\n    public AgentController(AgentService agentService) {\r\n        this.agentService = agentService;\r\n    }\r\n\r\n    @Autowired\r\n    private AgentMapper agentMapper;\r\n\r\n    @GetMapping(&quot;/viewAgentsPage/{id}&quot;)\r\n    public String viewAgentsPage(@PathVariable(value = &quot;id&quot;) Long id, Model model) {\r\n        model.addAttribute(&quot;listAgents&quot;, agentService.listByAgency(id));\r\n        return &quot;agents&quot;;\r\n    }\r\n}\r\n```\r\nAnd I&#39;ve written two integration tests, as it follows:\r\n```\r\n@SpringBootTest(classes = AgentController.class)\r\n@ContextConfiguration(classes = ProjectApplication.class)\r\n@TestPropertySource(locations = &quot;classpath:application-h2.properties&quot;)\r\n@AutoConfigureMockMvc\r\n@RunWith(SpringRunner.class)\r\n@WithMockUser(username = &quot;user1@gmail.com&quot;)\r\n@ActiveProfiles(&quot;H2&quot;)\r\npublic class AgentControllerTest {\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n@Test//works fine\r\n    public void showByIdMvc() throws Exception {\r\n        mockMvc.perform(get(&quot;/viewAgentsPage/{id}&quot;, 1L))\r\n                .andExpect(status().isOk())\r\n                .andExpect(view().name(&quot;agents&quot;));\r\n    }\r\n\r\n@Test//doesn&#39;t work\r\n    public void showByIdNotFoundMvc() throws Exception {\r\n        mockMvc.perform(get(&quot;/viewAgentsPage/{id}&quot;,18L))\r\n                .andExpect(status().isNotFound())\r\n                .andExpect(view().name(&quot;error&quot;));\r\n    }\r\n}\r\n```\r\nOn the second test I am expecting to get an exception, since I have no agent with the agency id 18 in my h2 database, still, the returned status from the test is 200 ok. Why is that? It seems like the data from the db is not accesses.\r\nThis is the error from the second test:\r\n```\r\nMockHttpServletRequest:\r\n      HTTP Method = GET\r\n      Request URI = /viewAgentsPage/18\r\n       Parameters = {}\r\n          Headers = []\r\n             Body = &lt;no character encoding set&gt;\r\n    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}\r\n\r\nHandler:\r\n             Type = com.example.awbdproject.controllers.AgentController\r\n           Method = com.example.awbdproject.controllers.AgentController#viewAgentsPage(Long, Model)\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = agents\r\n             View = null\r\n        Attribute = listAgents\r\n            value = []\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 200\r\n    Error message = null\r\n          Headers = [Content-Language:&quot;en&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = agents\r\n   Redirected URL = null\r\n          Cookies = []\r\n\r\njava.lang.AssertionError: Status expected:&lt;404&gt; but was:&lt;200&gt;\r\nExpected :404\r\nActual   :200\r\n```\r\nAlso, here is my method in the agent service:\r\n```\r\npublic List&lt;AgentDto&gt; listByAgency(Long id) {\r\n\r\n        Optional&lt;Agency&gt; optionalAgency = agencyService.getAgencyById(id);\r\n\r\n        if(!optionalAgency.isPresent()) {\r\n            throw new AgencyNotFoundException(&quot;Agency not found&quot;);\r\n        }\r\n\r\n        List&lt;Agent&gt; agents = agentRepository.findAll().stream().filter(ag -&gt; ag.getAgency().getId().equals(id)).collect(Collectors.toList());\r\n        List&lt;AgentDto&gt; mappedAgents = agents.stream().map(agent -&gt; mapper.mapToDto(agent)).collect(Collectors.toList());\r\n\r\n        return mappedAgents;\r\n    }\r\n```\r\nThis is the security configuration:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@Profile(&quot;h2&quot;)\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider auth = new DaoAuthenticationProvider();\r\n\r\n        auth.setUserDetailsService(userService);\r\n        auth.setPasswordEncoder(passwordEncoder());\r\n        return auth;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(authenticationProvider());\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        web\r\n                .ignoring()\r\n                .antMatchers(&quot;/h2-console/**&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception{\r\n       http.authorizeRequests().antMatchers(\r\n               &quot;/register/**&quot;\r\n       ).permitAll().anyRequest().authenticated()\r\n               .and().formLogin().loginPage(&quot;/login&quot;)\r\n               .permitAll()\r\n               .and().logout().invalidateHttpSession(true).clearAuthentication(true)\r\n               .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n               .logoutSuccessUrl(&quot;/login?logout&quot;).permitAll();\r\n    }\r\n}\r\n```\r\n\r\nThe error I&#39;m getting debugging:\r\n```\r\n2022-04-11 09:24:56.781  WARN 20968 --- [           main] o.s.w.c.s.GenericWebApplicationContext   :\r\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n Error creating bean with name &#39;userController&#39;: Unsatisfied dependency expressed through field &#39;passwordEncoder&#39;; \r\nnested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type \r\n&#39;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; available: expected at least 1 bean which qualifies as autowire candidate. \r\nDependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n```","title":"Spring MVC integration test with h2 fails","body":"<p>I have been trying to write some integration tests using my in-memory database h2 and I don't know why, but it seems that the data from the database is inaccessible for the tests. When I run the application, the data is shown as per my import.sql file.\nThis is the only row from my db in h2:</p>\n<pre><code>insert into agents values(1, 'Tom', 'Jay', 'tom@gmail.com', 1);\n</code></pre>\n<p>Now this is my method in my controller, to retrieve the agents based on an agency id:</p>\n<pre><code>@Controller\npublic class AgentController {\n\n    @Autowired\n    private AgentService agentService;\n\n    @Autowired\n    public AgentController(AgentService agentService) {\n        this.agentService = agentService;\n    }\n\n    @Autowired\n    private AgentMapper agentMapper;\n\n    @GetMapping(&quot;/viewAgentsPage/{id}&quot;)\n    public String viewAgentsPage(@PathVariable(value = &quot;id&quot;) Long id, Model model) {\n        model.addAttribute(&quot;listAgents&quot;, agentService.listByAgency(id));\n        return &quot;agents&quot;;\n    }\n}\n</code></pre>\n<p>And I've written two integration tests, as it follows:</p>\n<pre><code>@SpringBootTest(classes = AgentController.class)\n@ContextConfiguration(classes = ProjectApplication.class)\n@TestPropertySource(locations = &quot;classpath:application-h2.properties&quot;)\n@AutoConfigureMockMvc\n@RunWith(SpringRunner.class)\n@WithMockUser(username = &quot;user1@gmail.com&quot;)\n@ActiveProfiles(&quot;H2&quot;)\npublic class AgentControllerTest {\n    @Autowired\n    MockMvc mockMvc;\n\n@Test//works fine\n    public void showByIdMvc() throws Exception {\n        mockMvc.perform(get(&quot;/viewAgentsPage/{id}&quot;, 1L))\n                .andExpect(status().isOk())\n                .andExpect(view().name(&quot;agents&quot;));\n    }\n\n@Test//doesn't work\n    public void showByIdNotFoundMvc() throws Exception {\n        mockMvc.perform(get(&quot;/viewAgentsPage/{id}&quot;,18L))\n                .andExpect(status().isNotFound())\n                .andExpect(view().name(&quot;error&quot;));\n    }\n}\n</code></pre>\n<p>On the second test I am expecting to get an exception, since I have no agent with the agency id 18 in my h2 database, still, the returned status from the test is 200 ok. Why is that? It seems like the data from the db is not accesses.\nThis is the error from the second test:</p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = GET\n      Request URI = /viewAgentsPage/18\n       Parameters = {}\n          Headers = []\n             Body = &lt;no character encoding set&gt;\n    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}\n\nHandler:\n             Type = com.example.awbdproject.controllers.AgentController\n           Method = com.example.awbdproject.controllers.AgentController#viewAgentsPage(Long, Model)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = agents\n             View = null\n        Attribute = listAgents\n            value = []\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = [Content-Language:&quot;en&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\n     Content type = null\n             Body = \n    Forwarded URL = agents\n   Redirected URL = null\n          Cookies = []\n\njava.lang.AssertionError: Status expected:&lt;404&gt; but was:&lt;200&gt;\nExpected :404\nActual   :200\n</code></pre>\n<p>Also, here is my method in the agent service:</p>\n<pre><code>public List&lt;AgentDto&gt; listByAgency(Long id) {\n\n        Optional&lt;Agency&gt; optionalAgency = agencyService.getAgencyById(id);\n\n        if(!optionalAgency.isPresent()) {\n            throw new AgencyNotFoundException(&quot;Agency not found&quot;);\n        }\n\n        List&lt;Agent&gt; agents = agentRepository.findAll().stream().filter(ag -&gt; ag.getAgency().getId().equals(id)).collect(Collectors.toList());\n        List&lt;AgentDto&gt; mappedAgents = agents.stream().map(agent -&gt; mapper.mapToDto(agent)).collect(Collectors.toList());\n\n        return mappedAgents;\n    }\n</code></pre>\n<p>This is the security configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@Profile(&quot;h2&quot;)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserService userService;\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider auth = new DaoAuthenticationProvider();\n\n        auth.setUserDetailsService(userService);\n        auth.setPasswordEncoder(passwordEncoder());\n        return auth;\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(authenticationProvider());\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web\n                .ignoring()\n                .antMatchers(&quot;/h2-console/**&quot;);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception{\n       http.authorizeRequests().antMatchers(\n               &quot;/register/**&quot;\n       ).permitAll().anyRequest().authenticated()\n               .and().formLogin().loginPage(&quot;/login&quot;)\n               .permitAll()\n               .and().logout().invalidateHttpSession(true).clearAuthentication(true)\n               .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n               .logoutSuccessUrl(&quot;/login?logout&quot;).permitAll();\n    }\n}\n</code></pre>\n<p>The error I'm getting debugging:</p>\n<pre><code>2022-04-11 09:24:56.781  WARN 20968 --- [           main] o.s.w.c.s.GenericWebApplicationContext   :\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException:\n Error creating bean with name 'userController': Unsatisfied dependency expressed through field 'passwordEncoder'; \nnested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type \n'org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' available: expected at least 1 bean which qualifies as autowire candidate. \nDependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n"},{"tags":["java","linux","docker","kubernetes","tomcat"],"comments":[{"owner":{"account_id":2379504,"reputation":7154,"user_id":2081835,"accept_rate":42,"display_name":"theherk"},"score":0,"creation_date":1649616507,"post_id":71819509,"comment_id":126915321,"body_markdown":"Seems your only options are to run on a port that isn&#39;t in use or change the application that is using 8085 to another port. There is no way to bind two applications to one port, if that is what you&#39;re after.","body":"Seems your only options are to run on a port that isn&#39;t in use or change the application that is using 8085 to another port. There is no way to bind two applications to one port, if that is what you&#39;re after."},{"owner":{"account_id":8111072,"reputation":21,"user_id":6111154,"display_name":"Y.hadj.younes"},"score":0,"creation_date":1649616820,"post_id":71819509,"comment_id":126915380,"body_markdown":"exposing another port instead of 8085? or changing this port in server.xml file? @theherk","body":"exposing another port instead of 8085? or changing this port in server.xml file? @theherk"},{"owner":{"account_id":4866881,"reputation":20471,"user_id":3924803,"display_name":"Hans Kilian"},"score":0,"creation_date":1649620151,"post_id":71819509,"comment_id":126916143,"body_markdown":"Since it&#39;s a Java exception, the exception must occur inside the container. It seems very strange that port 8085 should be taken inside the container. All ports should be available. It almost seems like you might be running 2 instances of Tomcat in the container?","body":"Since it&#39;s a Java exception, the exception must occur inside the container. It seems very strange that port 8085 should be taken inside the container. All ports should be available. It almost seems like you might be running 2 instances of Tomcat in the container?"},{"owner":{"account_id":8111072,"reputation":21,"user_id":6111154,"display_name":"Y.hadj.younes"},"score":0,"creation_date":1649621592,"post_id":71819509,"comment_id":126916493,"body_markdown":"@HansKilian \nI am running one instance  in tomcat , I am running catalina.sh start command .","body":"@HansKilian  I am running one instance  in tomcat , I am running catalina.sh start command ."},{"owner":{"account_id":8111072,"reputation":21,"user_id":6111154,"display_name":"Y.hadj.younes"},"score":0,"creation_date":1649624226,"post_id":71819509,"comment_id":126917049,"body_markdown":"@HansKilian \n\nI updated the question I added the output of ps command","body":"@HansKilian   I updated the question I added the output of ps command"},{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1649629799,"post_id":71819509,"comment_id":126918057,"body_markdown":"You seem to have added a PNG file; commands like `ps` will output plain text.  Can you [edit] the question to replace the images with text (which can be much more easily read and searched for)?","body":"You seem to have added a PNG file; commands like <code>ps</code> will output plain text.  Can you <a href=\"https://stackoverflow.com/posts/71819509/edit\">edit</a> the question to replace the images with text (which can be much more easily read and searched for)?"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667727767,"post_id":71819509,"comment_id":131231639,"body_markdown":"Show us the Dockerfile, Ill assume that you are using a base image which starts Tomcat by itself.","body":"Show us the Dockerfile, Ill assume that you are using a base image which starts Tomcat by itself."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649658186,"creation_date":1649658186,"answer_id":71823425,"question_id":71819509,"body_markdown":"The `ps` shows *two* java processes, possibly running Tomcat.\r\n\r\nSince they would be running with the same parameters, including ports, it seems expected the second process fails with \r\n\r\n    java.net.BindException: Address already in use\r\n\r\nMake sure to `docker stop` everything first, and check the status of `docker ps --all`","title":"tomcat in docker container : java.net.BindException: Address already in use","body":"<p>The <code>ps</code> shows <em>two</em> java processes, possibly running Tomcat.</p>\n<p>Since they would be running with the same parameters, including ports, it seems expected the second process fails with</p>\n<pre><code>java.net.BindException: Address already in use\n</code></pre>\n<p>Make sure to <code>docker stop</code> everything first, and check the status of <code>docker ps --all</code></p>\n"}],"owner":{"account_id":8111072,"reputation":21,"user_id":6111154,"display_name":"Y.hadj.younes"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649658186,"creation_date":1649615783,"question_id":71819509,"body_markdown":"I am using docker to run my java war application and when I run the container I got this exception **java.net.BindException: Address already in use** .\r\n\r\nThe container expose port 8085 (8080-&gt;8085/tcp)\r\nI executed this command to run the docker container :\r\n\r\n&gt; docker run -p 8080:8085/tcp  -d --name=be-app  java-app-image:latest\r\n\r\n\r\nthis is screenshot of the error \r\n[![enter image description here][1]][1]\r\n\r\n\r\nI checked the opened ports inside the container \r\n[![enter image description here][2]][2]\r\n\r\n\r\nI cannot restart the tomcat inside the container because it will stop , I thought about changing the 8085 port in the server.xml file , but I think that I should change the exposed port also.\r\nIs there any solution to avoid this exception ? ( java.net.BindException: Address already in use)\r\n\r\nthis is also what I am getting when I run command ps aux\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hjoc0.png\r\n  [2]: https://i.stack.imgur.com/6YIvP.png\r\n  [3]: https://i.stack.imgur.com/xItSj.png","title":"tomcat in docker container : java.net.BindException: Address already in use","body":"<p>I am using docker to run my java war application and when I run the container I got this exception <strong>java.net.BindException: Address already in use</strong> .</p>\n<p>The container expose port 8085 (8080-&gt;8085/tcp)\nI executed this command to run the docker container :</p>\n<blockquote>\n<p>docker run -p 8080:8085/tcp  -d --name=be-app  java-app-image:latest</p>\n</blockquote>\n<p>this is screenshot of the error\n<a href=\"https://i.stack.imgur.com/Hjoc0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hjoc0.png\" alt=\"enter image description here\" /></a></p>\n<p>I checked the opened ports inside the container\n<a href=\"https://i.stack.imgur.com/6YIvP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6YIvP.png\" alt=\"enter image description here\" /></a></p>\n<p>I cannot restart the tomcat inside the container because it will stop , I thought about changing the 8085 port in the server.xml file , but I think that I should change the exposed port also.\nIs there any solution to avoid this exception ? ( java.net.BindException: Address already in use)</p>\n<p>this is also what I am getting when I run command ps aux\n<a href=\"https://i.stack.imgur.com/xItSj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xItSj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","elasticsearch","aws-elasticsearch"],"comments":[{"owner":{"account_id":1268903,"reputation":21449,"user_id":1225617,"accept_rate":44,"display_name":"Adam Millerchip"},"score":0,"creation_date":1604486874,"post_id":64638236,"comment_id":114360042,"body_markdown":"The [docs](https://opendistro.github.io/for-elasticsearch-docs/docs/ism/#step-1-set-up-policies) for opendistro mention the index template, although actually trying to create one on AWS Elasticsearch just gives me a `401` error.","body":"The <a href=\"https://opendistro.github.io/for-elasticsearch-docs/docs/ism/#step-1-set-up-policies\" rel=\"nofollow noreferrer\">docs</a> for opendistro mention the index template, although actually trying to create one on AWS Elasticsearch just gives me a <code>401</code> error."},{"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"score":0,"creation_date":1604511691,"post_id":64638236,"comment_id":114371638,"body_markdown":"I agree that an Index Template would be the right approach, but it does not seem to be available in the AWS OpenDistro version of Kibana.  There seem to be some odd differences between &quot;OpenDistro Kibana&quot; and &quot;ES Kibana&quot;; i just assume the OpenDistro one comes with fewer features than the real one.","body":"I agree that an Index Template would be the right approach, but it does not seem to be available in the AWS OpenDistro version of Kibana.  There seem to be some odd differences between &quot;OpenDistro Kibana&quot; and &quot;ES Kibana&quot;; i just assume the OpenDistro one comes with fewer features than the real one."}],"answers":[{"tags":[],"owner":{"account_id":11051354,"reputation":556,"user_id":8149906,"display_name":"Ankit Garg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1606841408,"creation_date":1606841408,"answer_id":65094855,"question_id":64638236,"body_markdown":"&gt; BTW, I have looked at creating an Index Template, which should assign\r\n&gt; the policy automatically on index creation, but the OpenDistro Kibana\r\n&gt; does not seem to have that functionality.\r\n\r\nYou can use the index template in the following manner to apply ISM policy at index creation:\r\n\r\n    PUT _template/template_1\r\n    {\r\n      &quot;index_patterns&quot;: [\r\n        &quot;test-index*&quot;\r\n      ],\r\n      &quot;settings&quot;: {\r\n        &quot;index&quot;: {\r\n          &quot;opendistro&quot;: {\r\n            &quot;index_state_management&quot;: {\r\n              &quot;policy_id&quot;: &quot;DefaultLifeCyclePolicy_30DayWarm_180DayDelete&quot;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\nFor rollover indices:\r\n\r\n1) Make sure you have alias:\r\n\r\n```\r\n\r\nPOST /_aliases\r\n{\r\n    &quot;actions&quot; : [\r\n        { &quot;add&quot; : { &quot;index&quot; : &quot;test-index-000001&quot;, &quot;alias&quot; : &quot;test-index&quot; } }\r\n    ]\r\n} \r\n\r\n```\r\n\r\n2) Template:\r\n\r\n```\r\n\r\nPUT _template/template_1\r\n{\r\n  &quot;index_patterns&quot;: [\r\n    &quot;test-index*&quot;\r\n  ],\r\n  &quot;settings&quot;: {\r\n    &quot;index&quot;: {\r\n      &quot;opendistro&quot;: {\r\n        &quot;index_state_management&quot;: {\r\n          &quot;policy_id&quot;: &quot;DefaultLifeCyclePolicy_30DayWarm_180DayDelete&quot;,\r\n          &quot;rollover_alias&quot;: &quot;test-index&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n","title":"AWS ElasticSearch: How to apply a policy to an index","body":"<blockquote>\n<p>BTW, I have looked at creating an Index Template, which should assign\nthe policy automatically on index creation, but the OpenDistro Kibana\ndoes not seem to have that functionality.</p>\n</blockquote>\n<p>You can use the index template in the following manner to apply ISM policy at index creation:</p>\n<pre><code>PUT _template/template_1\n{\n  &quot;index_patterns&quot;: [\n    &quot;test-index*&quot;\n  ],\n  &quot;settings&quot;: {\n    &quot;index&quot;: {\n      &quot;opendistro&quot;: {\n        &quot;index_state_management&quot;: {\n          &quot;policy_id&quot;: &quot;DefaultLifeCyclePolicy_30DayWarm_180DayDelete&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>For rollover indices:</p>\n<ol>\n<li>Make sure you have alias:</li>\n</ol>\n<pre><code>\nPOST /_aliases\n{\n    &quot;actions&quot; : [\n        { &quot;add&quot; : { &quot;index&quot; : &quot;test-index-000001&quot;, &quot;alias&quot; : &quot;test-index&quot; } }\n    ]\n} \n\n</code></pre>\n<ol start=\"2\">\n<li>Template:</li>\n</ol>\n<pre><code>\nPUT _template/template_1\n{\n  &quot;index_patterns&quot;: [\n    &quot;test-index*&quot;\n  ],\n  &quot;settings&quot;: {\n    &quot;index&quot;: {\n      &quot;opendistro&quot;: {\n        &quot;index_state_management&quot;: {\n          &quot;policy_id&quot;: &quot;DefaultLifeCyclePolicy_30DayWarm_180DayDelete&quot;,\n          &quot;rollover_alias&quot;: &quot;test-index&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2918769,"reputation":1175,"user_id":2501471,"accept_rate":54,"display_name":"Sagar Vaghela"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649657939,"creation_date":1649657939,"answer_id":71823394,"question_id":64638236,"body_markdown":"The above answer is correct but the `policy_id` in template is deprecated.In new version this is not applicable.\r\n\r\nIn new version you have to add index pattern in the policy itself as below example.\r\n\r\n    PUT _opendistro/_ism/policies/policy_name\r\n    {\r\n      &quot;policy&quot;: {\r\n        &quot;description&quot;: &quot;Policy to manage indices&quot;,\r\n        &quot;default_state&quot;: &quot;hot&quot;,\r\n        &quot;states&quot; : [\r\n          {\r\n            &quot;name&quot; : &quot;hot&quot;,\r\n            &quot;actions&quot; : [\r\n              {\r\n                &quot;rollover&quot; : {\r\n                  &quot;min_size&quot; : &quot;20gb&quot;,\r\n                  &quot;min_index_age&quot; : &quot;2d&quot;\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        &quot;ism_template&quot;: {\r\n          &quot;index_patterns&quot;: [\r\n            &quot;nginx-error-logs*&quot;,   // **sample index pattern**\r\n            &quot;nginx-access-logs*&quot;\r\n          ],\r\n          &quot;priority&quot;: 100\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nWhenever new index create, the index name pattern will match to the `ism_template` and the respective policy will be applied.\r\n\r\nIf same pattern available in multiple policy the it will attach the policy who has high prority.","title":"AWS ElasticSearch: How to apply a policy to an index","body":"<p>The above answer is correct but the <code>policy_id</code> in template is deprecated.In new version this is not applicable.</p>\n<p>In new version you have to add index pattern in the policy itself as below example.</p>\n<pre><code>PUT _opendistro/_ism/policies/policy_name\n{\n  &quot;policy&quot;: {\n    &quot;description&quot;: &quot;Policy to manage indices&quot;,\n    &quot;default_state&quot;: &quot;hot&quot;,\n    &quot;states&quot; : [\n      {\n        &quot;name&quot; : &quot;hot&quot;,\n        &quot;actions&quot; : [\n          {\n            &quot;rollover&quot; : {\n              &quot;min_size&quot; : &quot;20gb&quot;,\n              &quot;min_index_age&quot; : &quot;2d&quot;\n            }\n          }\n        ]\n      }\n    ],\n    &quot;ism_template&quot;: {\n      &quot;index_patterns&quot;: [\n        &quot;nginx-error-logs*&quot;,   // **sample index pattern**\n        &quot;nginx-access-logs*&quot;\n      ],\n      &quot;priority&quot;: 100\n    }\n  }\n}\n</code></pre>\n<p>Whenever new index create, the index name pattern will match to the <code>ism_template</code> and the respective policy will be applied.</p>\n<p>If same pattern available in multiple policy the it will attach the policy who has high prority.</p>\n"}],"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2078,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65094855,"answer_count":2,"score":4,"last_activity_date":1649657939,"creation_date":1604275197,"question_id":64638236,"body_markdown":"We have an AWS ElasticSearch domain and are writing records/documents to it.  I&#39;ve now created an Index State/Lifecycle Management (ISM/ILM) policy in Kibana and I can apply the policy to an Index from within Kibana.  I now want to apply that policy when the index is created from within our Java code that handles writes to the Index (using the High Level REST API).\r\n\r\nI have found no methods in the High Level REST API that specifically allow assigning a policy to an index, however I think that I should be able to do it using the RequestOptions object that is used when the Index is created.  The documentation is pretty thin, but it seems that I should be able to basically insert a key/value into the Index properties.\r\nFor example, when I inspect the index where I have manually assigned the policy, find the following keys where the policy is assigned.\r\n\r\n    &quot;settings&quot; : {\r\n      &quot;index&quot; : {\r\n        &quot;opendistro&quot; : {\r\n          &quot;index_state_management&quot; : {\r\n            &quot;policy_id&quot; : &quot;DefaultLifeCyclePolicy_30DayWarm_180DayDelete&quot;\r\n          }\r\n        },\r\n\r\nIt seems reasonable to assume that i can just insert a similar key into the Index object.  The following code seems like it should work.  It does run without error, but the RequestOptions does nothing useful.\r\n\r\n            boolean isExisting = mAwsClient.indices().exists(new GetIndexRequest(indexNameFull), RequestOptions.DEFAULT);\r\n            if (!isExisting) {\r\n                RequestOptions.Builder builder = RequestOptions.DEFAULT.toBuilder();\r\n                builder.addHeader(&quot;settings.opendistro.index_state_management.policy_id&quot;, mIndexStateMgmtPolicy);\r\n                RequestOptions requestOptions = builder.build();\r\n\r\n                CreateIndexRequest request = new CreateIndexRequest(indexNameFull);\r\n                request.mapping(mapping, XContentType.JSON);\r\n                CreateIndexResponse createIndexResponse = mAwsClient.indices().create(request, requestOptions);\r\n            }\r\n\r\nSo, how can I assign am ISM/ILM policy to an index using Java?\r\n\r\nBTW, I have looked at creating an Index Template, which should assign the policy automatically on index creation, but the OpenDistro Kibana does not seem to have that functionality.\r\n","title":"AWS ElasticSearch: How to apply a policy to an index","body":"<p>We have an AWS ElasticSearch domain and are writing records/documents to it.  I've now created an Index State/Lifecycle Management (ISM/ILM) policy in Kibana and I can apply the policy to an Index from within Kibana.  I now want to apply that policy when the index is created from within our Java code that handles writes to the Index (using the High Level REST API).</p>\n<p>I have found no methods in the High Level REST API that specifically allow assigning a policy to an index, however I think that I should be able to do it using the RequestOptions object that is used when the Index is created.  The documentation is pretty thin, but it seems that I should be able to basically insert a key/value into the Index properties.\nFor example, when I inspect the index where I have manually assigned the policy, find the following keys where the policy is assigned.</p>\n<pre><code>&quot;settings&quot; : {\n  &quot;index&quot; : {\n    &quot;opendistro&quot; : {\n      &quot;index_state_management&quot; : {\n        &quot;policy_id&quot; : &quot;DefaultLifeCyclePolicy_30DayWarm_180DayDelete&quot;\n      }\n    },\n</code></pre>\n<p>It seems reasonable to assume that i can just insert a similar key into the Index object.  The following code seems like it should work.  It does run without error, but the RequestOptions does nothing useful.</p>\n<pre><code>        boolean isExisting = mAwsClient.indices().exists(new GetIndexRequest(indexNameFull), RequestOptions.DEFAULT);\n        if (!isExisting) {\n            RequestOptions.Builder builder = RequestOptions.DEFAULT.toBuilder();\n            builder.addHeader(&quot;settings.opendistro.index_state_management.policy_id&quot;, mIndexStateMgmtPolicy);\n            RequestOptions requestOptions = builder.build();\n\n            CreateIndexRequest request = new CreateIndexRequest(indexNameFull);\n            request.mapping(mapping, XContentType.JSON);\n            CreateIndexResponse createIndexResponse = mAwsClient.indices().create(request, requestOptions);\n        }\n</code></pre>\n<p>So, how can I assign am ISM/ILM policy to an index using Java?</p>\n<p>BTW, I have looked at creating an Index Template, which should assign the policy automatically on index creation, but the OpenDistro Kibana does not seem to have that functionality.</p>\n"},{"tags":["java","android","charsequence"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1356383960,"creation_date":1356383960,"answer_id":14025777,"question_id":14025769,"body_markdown":"Use [the `charAt()` method][1] on `CharSequence`.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/lang/CharSequence.html#charAt%28int%29","title":"How to get an EXACT Character in a CharSequence?","body":"<p>Use <a href=\"http://developer.android.com/reference/java/lang/CharSequence.html#charAt%28int%29\" rel=\"noreferrer\">the <code>charAt()</code> method</a> on <code>CharSequence</code>.</p>\n"},{"tags":[],"owner":{"account_id":24891626,"reputation":21,"user_id":18763508,"display_name":"developper-ta"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1649657878,"creation_date":1649605806,"answer_id":71818197,"question_id":14025769,"body_markdown":"    @Override public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n\r\n               // the EXACT character from the CharSequence &quot;s&quot;\r\n             \r\n                int lastIndex = s.length() - 1;\r\n                char lastChar = s.charAt(lastIndex);\r\n                String lastStr = Character.toString(lastChar);\r\n\r\n                EditText.setText(lastStr);\r\n\r\n}\r\n              \r\n","title":"How to get an EXACT Character in a CharSequence?","body":"<pre><code>@Override public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n           // the EXACT character from the CharSequence &quot;s&quot;\n         \n            int lastIndex = s.length() - 1;\n            char lastChar = s.charAt(lastIndex);\n            String lastStr = Character.toString(lastChar);\n\n            EditText.setText(lastStr);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1548678,"reputation":863,"user_id":1441582,"accept_rate":82,"display_name":"Adit Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2500,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14025777,"answer_count":2,"score":3,"last_activity_date":1649657878,"creation_date":1356383861,"question_id":14025769,"body_markdown":"I want to extract only the exact character in a **CharSequence** when I know the position (or key) of the character in it!\r\n\r\n`For eg: In the CharSequence &quot;HELLO&quot; I want to Extract the letter in the position 2 which is &quot;E&quot; in this case ` . *How can I do that?*\r\n\r\n**TO BE MORE SPECIFIC:**\r\nI am building an Android application where I am using the TextWatcher to obtain the text entered by people in the TextEdit field as follows. \r\n       \r\n\r\n        EditText KeyLogEditText = (EditText) findViewById(R.id.editTextforKeyLog);\r\n\t\tKeyLogEditText.addTextChangedListener(new TextWatcher() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onTextChanged(CharSequence s, int start, int before, int count) {\r\n\t\t\t\t// Here is where I need help!!\r\n                // I have the &quot;start&quot; and &quot;before&quot; keys I have the position of the character inserted\r\n                // I need to obtain the EXACT character from the CharSequence &quot;s&quot;, How do I Do that?\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void beforeTextChanged(CharSequence s, int start, int count,\r\n\t\t\t\t\tint after) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void afterTextChanged(Editable s) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\nMy Question is commented within the code as well.\r\n\r\n\r\nThanks for any help anyone can provide.\r\nAdit ","title":"How to get an EXACT Character in a CharSequence?","body":"<p>I want to extract only the exact character in a <strong>CharSequence</strong> when I know the position (or key) of the character in it!</p>\n\n<p><code>For eg: In the CharSequence \"HELLO\" I want to Extract the letter in the position 2 which is \"E\" in this case</code> . <em>How can I do that?</em></p>\n\n<p><strong>TO BE MORE SPECIFIC:</strong>\nI am building an Android application where I am using the TextWatcher to obtain the text entered by people in the TextEdit field as follows. </p>\n\n<pre><code>    EditText KeyLogEditText = (EditText) findViewById(R.id.editTextforKeyLog);\n    KeyLogEditText.addTextChangedListener(new TextWatcher() {\n\n        @Override\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\n            // Here is where I need help!!\n            // I have the \"start\" and \"before\" keys I have the position of the character inserted\n            // I need to obtain the EXACT character from the CharSequence \"s\", How do I Do that?                \n\n        }\n\n        @Override\n        public void beforeTextChanged(CharSequence s, int start, int count,\n                int after) {\n            // TODO Auto-generated method stub\n\n        }\n\n        @Override\n        public void afterTextChanged(Editable s) {\n            // TODO Auto-generated method stub\n\n        }\n    });\n</code></pre>\n\n<p>My Question is commented within the code as well.</p>\n\n<p>Thanks for any help anyone can provide.\nAdit </p>\n"},{"tags":["java","android","restore","play-billing-library"],"comments":[{"owner":{"account_id":182704,"reputation":427,"user_id":417601,"accept_rate":100,"display_name":"click_whir"},"score":0,"creation_date":1649657829,"post_id":48457910,"comment_id":126922173,"body_markdown":"The docs have been updated and are much more thorough.  See my answer below, and note there is outdated and inaccurate information in the previous answers.","body":"The docs have been updated and are much more thorough.  See my answer below, and note there is outdated and inaccurate information in the previous answers."}],"answers":[{"tags":[],"owner":{"account_id":2913940,"reputation":377,"user_id":2497575,"display_name":"daniribalbert"},"down_vote_count":2,"up_vote_count":17,"is_accepted":true,"score":15,"last_activity_date":1520348767,"creation_date":1520348767,"answer_id":49133963,"question_id":48457910,"body_markdown":"Per documentation `queryPurchases` uses the Play Store app cache to get the results while `queryPurchaseHistoryAsync`actually checks the Purchase AP for the most recent purchases. So, in your case you should check the `Async`method.\r\n\r\n\r\n `queryPurchases`\r\n&gt; Get purchases details for all the items bought within your app. This method uses a cache of Google Play Store app without initiating a network request.\r\n\r\n\r\n`queryPurchaseHistoryAsync`\r\n&gt; Returns the most recent purchase made by the user for each SKU, even if that purchase is expired, canceled, or consumed.\r\n\r\nAlso, make sure to check the documentation. It recommends to `Cache purchase details on your servers`.\r\n[https://developer.android.com/google/play/developer-api.html#practices][1]\r\n\r\n\r\n  [1]: https://developer.android.com/google/play/developer-api.html#practices","title":"queryPurchases() vs queryPurchaseHistoryAsync() in order to &#39;restore&#39; functionality?","body":"<p>Per documentation <code>queryPurchases</code> uses the Play Store app cache to get the results while <code>queryPurchaseHistoryAsync</code>actually checks the Purchase AP for the most recent purchases. So, in your case you should check the <code>Async</code>method.</p>\n\n<p><code>queryPurchases</code></p>\n\n<blockquote>\n  <p>Get purchases details for all the items bought within your app. This method uses a cache of Google Play Store app without initiating a network request.</p>\n</blockquote>\n\n<p><code>queryPurchaseHistoryAsync</code></p>\n\n<blockquote>\n  <p>Returns the most recent purchase made by the user for each SKU, even if that purchase is expired, canceled, or consumed.</p>\n</blockquote>\n\n<p>Also, make sure to check the documentation. It recommends to <code>Cache purchase details on your servers</code>.\n<a href=\"https://developer.android.com/google/play/developer-api.html#practices\" rel=\"noreferrer\">https://developer.android.com/google/play/developer-api.html#practices</a></p>\n"},{"tags":[],"owner":{"account_id":1111664,"reputation":5551,"user_id":2518722,"accept_rate":75,"display_name":"HughHughTeotl"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1520462895,"creation_date":1520462895,"answer_id":49162500,"question_id":48457910,"body_markdown":"You should use `queryPurchases`. That gives you all the current active (non-consumed, non-cancelled, non-expired) purchases for each SKU.\r\n\r\n`queryPurchaseHistoryAsync` won&#39;t do what you need because it will only give you a list of the *most recent* purchases for each SKU. They may have expired, been cancelled or been consumed, and there&#39;s no way to tell. Therefore this response can&#39;t be used to tell what purchases to apply in your app.\r\n\r\nSo far as I can see, the only valid use for `queryPurchaseHistoryAsync` is to provide a user with a list of their purchase history. It&#39;s a bit of an oddball.\r\n\r\nNote also: `queryPurchases` is synchronous so in most cases it needs to be run in some kind of background worker thread. I run mine in an `AsyncTask`.","title":"queryPurchases() vs queryPurchaseHistoryAsync() in order to &#39;restore&#39; functionality?","body":"<p>You should use <code>queryPurchases</code>. That gives you all the current active (non-consumed, non-cancelled, non-expired) purchases for each SKU.</p>\n\n<p><code>queryPurchaseHistoryAsync</code> won't do what you need because it will only give you a list of the <em>most recent</em> purchases for each SKU. They may have expired, been cancelled or been consumed, and there's no way to tell. Therefore this response can't be used to tell what purchases to apply in your app.</p>\n\n<p>So far as I can see, the only valid use for <code>queryPurchaseHistoryAsync</code> is to provide a user with a list of their purchase history. It's a bit of an oddball.</p>\n\n<p>Note also: <code>queryPurchases</code> is synchronous so in most cases it needs to be run in some kind of background worker thread. I run mine in an <code>AsyncTask</code>.</p>\n"},{"tags":[],"owner":{"account_id":303639,"reputation":478,"user_id":612697,"accept_rate":100,"display_name":"kralvarado"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1621963484,"creation_date":1621963484,"answer_id":67692810,"question_id":48457910,"body_markdown":"I know it&#39;s a bit late, but I just discovered this myself.  Sharing my answer for others to benefit.\r\n\r\nSo I learned that `queryPurchases()` is cached locally on your device, but is updated when you call `queryPurchaseHistoryAsync()`\r\n\r\nI discovered from this Stackoverflow answer [here][1]\r\n\r\nSo my solution, is when wanting to restore a purchase on a new device, or a fresh install of my app. Call `queryPurchaseHistoryAsync()` Then in the callback `onPurchaseHistoryResponse()` call `queryPurchases()` and look within the `List&lt;Purchase&gt;` from the `PurchasesResult` for the purchase status of any of the user&#39;s past purchases.\r\n\r\nIf there&#39;s an expected purchase your app can grant the entitlements of their past purchase. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/60991072/612697","title":"queryPurchases() vs queryPurchaseHistoryAsync() in order to &#39;restore&#39; functionality?","body":"<p>I know it's a bit late, but I just discovered this myself.  Sharing my answer for others to benefit.</p>\n<p>So I learned that <code>queryPurchases()</code> is cached locally on your device, but is updated when you call <code>queryPurchaseHistoryAsync()</code></p>\n<p>I discovered from this Stackoverflow answer <a href=\"https://stackoverflow.com/a/60991072/612697\">here</a></p>\n<p>So my solution, is when wanting to restore a purchase on a new device, or a fresh install of my app. Call <code>queryPurchaseHistoryAsync()</code> Then in the callback <code>onPurchaseHistoryResponse()</code> call <code>queryPurchases()</code> and look within the <code>List&lt;Purchase&gt;</code> from the <code>PurchasesResult</code> for the purchase status of any of the user's past purchases.</p>\n<p>If there's an expected purchase your app can grant the entitlements of their past purchase.</p>\n"},{"tags":[],"owner":{"account_id":182704,"reputation":427,"user_id":417601,"accept_rate":100,"display_name":"click_whir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649657724,"creation_date":1649657724,"answer_id":71823368,"question_id":48457910,"body_markdown":"The documentation has been updated for the latest versions of [BillingClient][1]. `queryPurchases()` is deprecated. Also note that `queryPurchases()` only ever returned purchases made by the current device, so that method will not inform your scenario of a new wiped phone. To get accurate information use the async calls.\r\n\r\n`queryPurchasesAsync()` will return all active subscription and unconsumed one-time `Purchase` objects for the sku type provided. It gets the purchases from the local Play Services cache, so there are no guarantees the cache will contain purchases from another device in your &quot;new phone&quot; scenario, and no guarantees the cache will yet be current in your &quot;wiped phone&quot; scenario. \r\n\r\n`queryPurchaseHistoryAsync()` will make a network request and return the most recent `PurchaseHistory` object for each sku matching the provided sku type, even if cancelled or consumed.\r\n\r\nAlso, to perform the upgrade call `launchBillingFlow()` with the appropriate [BillingFlowParams][2] and [BillingFlowParams.SubscriptionUpdateParams][3] for the sku you now know to be purchased.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/com/android/billingclient/api/BillingClient\r\n  [2]: https://developer.android.com/reference/com/android/billingclient/api/BillingFlowParams\r\n  [3]: https://developer.android.com/reference/com/android/billingclient/api/BillingFlowParams.SubscriptionUpdateParams","title":"queryPurchases() vs queryPurchaseHistoryAsync() in order to &#39;restore&#39; functionality?","body":"<p>The documentation has been updated for the latest versions of <a href=\"https://developer.android.com/reference/com/android/billingclient/api/BillingClient\" rel=\"nofollow noreferrer\">BillingClient</a>. <code>queryPurchases()</code> is deprecated. Also note that <code>queryPurchases()</code> only ever returned purchases made by the current device, so that method will not inform your scenario of a new wiped phone. To get accurate information use the async calls.</p>\n<p><code>queryPurchasesAsync()</code> will return all active subscription and unconsumed one-time <code>Purchase</code> objects for the sku type provided. It gets the purchases from the local Play Services cache, so there are no guarantees the cache will contain purchases from another device in your &quot;new phone&quot; scenario, and no guarantees the cache will yet be current in your &quot;wiped phone&quot; scenario.</p>\n<p><code>queryPurchaseHistoryAsync()</code> will make a network request and return the most recent <code>PurchaseHistory</code> object for each sku matching the provided sku type, even if cancelled or consumed.</p>\n<p>Also, to perform the upgrade call <code>launchBillingFlow()</code> with the appropriate <a href=\"https://developer.android.com/reference/com/android/billingclient/api/BillingFlowParams\" rel=\"nofollow noreferrer\">BillingFlowParams</a> and <a href=\"https://developer.android.com/reference/com/android/billingclient/api/BillingFlowParams.SubscriptionUpdateParams\" rel=\"nofollow noreferrer\">BillingFlowParams.SubscriptionUpdateParams</a> for the sku you now know to be purchased.</p>\n"}],"owner":{"account_id":6761315,"reputation":975,"user_id":5207979,"accept_rate":57,"display_name":"laurie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17355,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":49133963,"answer_count":4,"score":37,"last_activity_date":1649657724,"creation_date":1516955441,"question_id":48457910,"body_markdown":"I&#39;m using the Play Billing Library in order to trigger and manage purchases which in turn unlocked extra functionality within an app. This part is working. \r\n\r\nHowever, what is the best way to &#39;restore&#39; purchases. Say for example someone who has bought the app buys a new phone. Logs in to the Play Store, downloads my app and then finds that the payment screen to &#39;upgrade&#39; is being displayed. iOS has a specific method for this but I&#39;m not aware of one for Android.\r\n\r\nMy thoughts are to query the Play Store and confirm whether the account has previously SUCCESSFULLY purchased the item, if so then I will call the local upgrade function within the app. \r\n\r\nIt appears there are two similar methods. But which one should I used in this scenario? Where a user has either wiped their phone or bought a new one?\r\n\r\n`queryPurchases()`? Or `queryPurchaseHistoryAsync()`?","title":"queryPurchases() vs queryPurchaseHistoryAsync() in order to &#39;restore&#39; functionality?","body":"<p>I'm using the Play Billing Library in order to trigger and manage purchases which in turn unlocked extra functionality within an app. This part is working. </p>\n\n<p>However, what is the best way to 'restore' purchases. Say for example someone who has bought the app buys a new phone. Logs in to the Play Store, downloads my app and then finds that the payment screen to 'upgrade' is being displayed. iOS has a specific method for this but I'm not aware of one for Android.</p>\n\n<p>My thoughts are to query the Play Store and confirm whether the account has previously SUCCESSFULLY purchased the item, if so then I will call the local upgrade function within the app. </p>\n\n<p>It appears there are two similar methods. But which one should I used in this scenario? Where a user has either wiped their phone or bought a new one?</p>\n\n<p><code>queryPurchases()</code>? Or <code>queryPurchaseHistoryAsync()</code>?</p>\n"},{"tags":["java","json","rest","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":70574,"reputation":414,"user_id":1961033,"display_name":"piradian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529927155,"creation_date":1529927155,"answer_id":51022728,"question_id":51022554,"body_markdown":"No, this exception (org.springframework.web.client.HttpClientErrorException) is devoted to all HTTP response codes that represents Client error responses (4xx family). See eg: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status. So it can be as well authorization error.","title":"Resttemplate 404 Not Found","body":"<p>No, this exception (org.springframework.web.client.HttpClientErrorException) is devoted to all HTTP response codes that represents Client error responses (4xx family). See eg: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Status</a>. So it can be as well authorization error.</p>\n"},{"tags":[],"owner":{"account_id":10976325,"reputation":2127,"user_id":8293585,"display_name":"CodeWorld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649657636,"creation_date":1649655806,"answer_id":71823157,"question_id":51022554,"body_markdown":"I was getting 404 error...  \r\nCoz I had implemented concept of `context path` and `service registry` in my application.   \r\nAnd while calling one microservice from another, I was **not adding context path  of another microservice as part of microservice-endpoint.  \r\nSo adding context path to api endpoint resolved the issue for me.","title":"Resttemplate 404 Not Found","body":"<p>I was getting 404 error...<br />\nCoz I had implemented concept of <code>context path</code> and <code>service registry</code> in my application.<br />\nAnd while calling one microservice from another, I was **not adding context path  of another microservice as part of microservice-endpoint.<br />\nSo adding context path to api endpoint resolved the issue for me.</p>\n"}],"owner":{"account_id":13817343,"reputation":117,"user_id":9973656,"display_name":"lisa andrews markitks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8931,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649657636,"creation_date":1529926566,"question_id":51022554,"body_markdown":"I&#39;m trying to send a post to a rest service this way:\r\n\r\n     RestTemplate restTemplate = new RestTemplate();\r\n        String url = &quot;http://myadress/rest/student.php&quot;;\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;TIMESTAMP&quot;, time);\r\n        headers.add(&quot;BASEKEY&quot;, hexIv);\r\n        headers.add(&quot;ACCESSKEY&quot;,accessKey);\r\n        headers.add(&quot;SIGNATURE&quot;,signature);\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(studentsEncrypted,headers);\r\n        String answer = restTemplate.postForObject(url, entity, String.class);\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.web.client.HttpClientErrorException: 404 Not Found\r\n\r\n\r\nIs this error only triggered when the service at the destination was not found ?","title":"Resttemplate 404 Not Found","body":"<p>I'm trying to send a post to a rest service this way:</p>\n\n<pre><code> RestTemplate restTemplate = new RestTemplate();\n    String url = \"http://myadress/rest/student.php\";\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(\"TIMESTAMP\", time);\n    headers.add(\"BASEKEY\", hexIv);\n    headers.add(\"ACCESSKEY\",accessKey);\n    headers.add(\"SIGNATURE\",signature);\n    headers.setContentType(MediaType.APPLICATION_JSON);\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(studentsEncrypted,headers);\n    String answer = restTemplate.postForObject(url, entity, String.class);\n\nException in thread \"main\" org.springframework.web.client.HttpClientErrorException: 404 Not Found\n</code></pre>\n\n<p>Is this error only triggered when the service at the destination was not found ?</p>\n"},{"tags":["java","performance","list","set"],"comments":[{"owner":{"account_id":184519,"reputation":22782,"user_id":420613,"accept_rate":87,"display_name":"Muhammad Imran Tariq"},"score":1,"creation_date":1326793582,"post_id":8892360,"comment_id":11118551,"body_markdown":"I know a way to convert set to list as in Q. I want to avoind creating new list each time in loop.","body":"I know a way to convert set to list as in Q. I want to avoind creating new list each time in loop."},{"owner":{"account_id":219747,"reputation":2950,"user_id":476817,"accept_rate":85,"display_name":"DagR"},"score":4,"creation_date":1326793598,"post_id":8892360,"comment_id":11118555,"body_markdown":"Why can&#39;t you just add the set to mainList? Why do you need to convert the Set into a List?","body":"Why can&#39;t you just add the set to mainList? Why do you need to convert the Set into a List?"},{"owner":{"account_id":95872,"reputation":17489,"user_id":260885,"display_name":"Hiery Nomus"},"score":1,"creation_date":1326793696,"post_id":8892360,"comment_id":11118596,"body_markdown":"Is it your intention to create a List&lt;List&lt;?&gt;&gt;","body":"Is it your intention to create a List&lt;List&lt;?&gt;&gt;"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":6,"creation_date":1469072092,"post_id":8892360,"comment_id":64389523,"body_markdown":"You can&#39;t. Your question embodies a contradiction in terms.","body":"You can&#39;t. Your question embodies a contradiction in terms."}],"answers":[{"tags":[],"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"down_vote_count":5,"up_vote_count":907,"is_accepted":true,"score":902,"last_activity_date":1537549544,"creation_date":1326793419,"answer_id":8892424,"question_id":8892360,"body_markdown":"You can use the [List.addAll()][1] method. It accepts a Collection as an argument, and your set is a Collection.\r\n\r\n    List&lt;String&gt; mainList = new ArrayList&lt;String&gt;();\r\n    mainList.addAll(set);\r\n\r\n**EDIT:** as respond to the edit of the question.\r\n&lt;br&gt;It is easy to see that if you want to have a `Map` with `List`s as values, in order to have k different values, you need to create k different lists.\r\n&lt;br&gt;Thus: You cannot avoid creating these lists at all, the lists will have to be created.\r\n\r\nPossible work around:\r\n&lt;br&gt;Declare your `Map` as a `Map&lt;String,Set&gt;` or `Map&lt;String,Collection&gt;` instead, and just insert your set.\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/List.html#addAll%28java.util.Collection%29","title":"Convert Set to List without creating new List","body":"<p>You can use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#addAll%28java.util.Collection%29\" rel=\"noreferrer\">List.addAll()</a> method. It accepts a Collection as an argument, and your set is a Collection.</p>\n\n<pre><code>List&lt;String&gt; mainList = new ArrayList&lt;String&gt;();\nmainList.addAll(set);\n</code></pre>\n\n<p><strong>EDIT:</strong> as respond to the edit of the question.\n<br>It is easy to see that if you want to have a <code>Map</code> with <code>List</code>s as values, in order to have k different values, you need to create k different lists.\n<br>Thus: You cannot avoid creating these lists at all, the lists will have to be created.</p>\n\n<p>Possible work around:\n<br>Declare your <code>Map</code> as a <code>Map&lt;String,Set&gt;</code> or <code>Map&lt;String,Collection&gt;</code> instead, and just insert your set.</p>\n"},{"tags":[],"owner":{"account_id":1178044,"reputation":607,"user_id":1153563,"display_name":"Jerome L"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1326794849,"creation_date":1326794849,"answer_id":8892760,"question_id":8892360,"body_markdown":"I would do :\r\n\r\n    Map&lt;String, Collection&gt; mainMap = new HashMap&lt;String, Collection&gt;();\r\n\r\n    for(int i=0; i&lt;something.size(); i++){\r\n      Set set = getSet(...); //return different result each time\r\n      mainMap.put(differentKeyName,set);\r\n    }","title":"Convert Set to List without creating new List","body":"<p>I would do :</p>\n\n<pre><code>Map&lt;String, Collection&gt; mainMap = new HashMap&lt;String, Collection&gt;();\n\nfor(int i=0; i&lt;something.size(); i++){\n  Set set = getSet(...); //return different result each time\n  mainMap.put(differentKeyName,set);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":184519,"reputation":22782,"user_id":420613,"accept_rate":87,"display_name":"Muhammad Imran Tariq"},"down_vote_count":18,"up_vote_count":2,"is_accepted":false,"score":-16,"last_activity_date":1406626701,"creation_date":1330512062,"answer_id":9497566,"question_id":8892360,"body_markdown":"    Map&lt;String, List&gt; mainMap = new HashMap&lt;String, List&gt;();\r\n    \r\n    for(int i=0; i&lt;something.size(); i++){\r\n      Set set = getSet(...); //return different result each time\r\n      mainMap.put(differentKeyName, new ArrayList(set));\r\n    }\r\n\r\n","title":"Convert Set to List without creating new List","body":"<pre><code>Map&lt;String, List&gt; mainMap = new HashMap&lt;String, List&gt;();\n\nfor(int i=0; i&lt;something.size(); i++){\n  Set set = getSet(...); //return different result each time\n  mainMap.put(differentKeyName, new ArrayList(set));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078468,"reputation":2637,"user_id":1851138,"accept_rate":75,"display_name":"chaiyachaiya"},"down_vote_count":1,"up_vote_count":94,"is_accepted":false,"score":93,"last_activity_date":1503579992,"creation_date":1373531253,"answer_id":17588569,"question_id":8892360,"body_markdown":"Also from Guava Collect library, you can use `newArrayList(Collection)`:\r\n\r\n    Lists.newArrayList([your_set])\r\n\r\n \r\nThis would be very similar to the previous answer from **amit**, except that you do not need to declare (or instanciate) any `list` object.\r\n","title":"Convert Set to List without creating new List","body":"<p>Also from Guava Collect library, you can use <code>newArrayList(Collection)</code>:</p>\n\n<pre><code>Lists.newArrayList([your_set])\n</code></pre>\n\n<p>This would be very similar to the previous answer from <strong>amit</strong>, except that you do not need to declare (or instanciate) any <code>list</code> object.</p>\n"},{"tags":[],"owner":{"account_id":396144,"reputation":5125,"user_id":759529,"display_name":"zengsn"},"down_vote_count":9,"up_vote_count":500,"is_accepted":false,"score":491,"last_activity_date":1649657429,"creation_date":1380452641,"answer_id":19077309,"question_id":8892360,"body_markdown":"Use constructor to convert it:\r\n\r\n    List&lt;?&gt; list = new ArrayList&lt;&gt;(set);","title":"Convert Set to List without creating new List","body":"<p>Use constructor to convert it:</p>\n<pre><code>List&lt;?&gt; list = new ArrayList&lt;&gt;(set);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1923956,"reputation":416,"user_id":1734836,"accept_rate":36,"display_name":"Karthic.K"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1447741318,"creation_date":1420189470,"answer_id":27739696,"question_id":8892360,"body_markdown":"I found this working fine and useful to create a List from a Set.\r\n\r\n    ArrayList &lt; String &gt; L1 = new ArrayList &lt; String &gt; ();\r\n    L1.addAll(ActualMap.keySet());\r\n    for (String x: L1) {\r\n    \tSystem.out.println(x.toString());\r\n    }\r\n\r\n","title":"Convert Set to List without creating new List","body":"<p>I found this working fine and useful to create a List from a Set.</p>\n\n<pre><code>ArrayList &lt; String &gt; L1 = new ArrayList &lt; String &gt; ();\nL1.addAll(ActualMap.keySet());\nfor (String x: L1) {\n    System.out.println(x.toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59384,"reputation":8980,"user_id":177696,"display_name":"Sa&#239;d"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1486107909,"creation_date":1450731458,"answer_id":34404193,"question_id":8892360,"body_markdown":"You could use this one line change: `Arrays.asList(set.toArray(new Object[set.size()]))`\r\n\r\n    Map&lt;String, List&gt; mainMap = new HashMap&lt;String, List&gt;();\r\n    \r\n    for(int i=0; i&lt;something.size(); i++){\r\n      Set set = getSet(...); \r\n      mainMap.put(differentKeyName, Arrays.asList(set.toArray(new Object[set.size()])));\r\n    }  \r\n    \r\n      ","title":"Convert Set to List without creating new List","body":"<p>You could use this one line change: <code>Arrays.asList(set.toArray(new Object[set.size()]))</code></p>\n\n<pre><code>Map&lt;String, List&gt; mainMap = new HashMap&lt;String, List&gt;();\n\nfor(int i=0; i&lt;something.size(); i++){\n  Set set = getSet(...); \n  mainMap.put(differentKeyName, Arrays.asList(set.toArray(new Object[set.size()])));\n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4097690,"reputation":136,"user_id":3364001,"display_name":"thomas.adamjak"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1467998580,"creation_date":1467994142,"answer_id":38271151,"question_id":8892360,"body_markdown":"I create simple `static` method:\r\n\r\n    public static &lt;U&gt; List&lt;U&gt; convertSetToList(Set&lt;U&gt; set)\r\n    {\r\n        return new ArrayList&lt;U&gt;(set);\r\n    }\r\n\r\n... or if you want to set type of List you can use:\r\n\r\n    public static &lt;U, L extends List&lt;U&gt;&gt; List&lt;U&gt; convertSetToList(Set&lt;U&gt; set, Class&lt;L&gt; clazz) throws InstantiationException, IllegalAccessException\r\n    {\r\n        L list = clazz.newInstance();\r\n        list.addAll(set);\r\n        return list;\r\n    }","title":"Convert Set to List without creating new List","body":"<p>I create simple <code>static</code> method:</p>\n\n<pre><code>public static &lt;U&gt; List&lt;U&gt; convertSetToList(Set&lt;U&gt; set)\n{\n    return new ArrayList&lt;U&gt;(set);\n}\n</code></pre>\n\n<p>... or if you want to set type of List you can use:</p>\n\n<pre><code>public static &lt;U, L extends List&lt;U&gt;&gt; List&lt;U&gt; convertSetToList(Set&lt;U&gt; set, Class&lt;L&gt; clazz) throws InstantiationException, IllegalAccessException\n{\n    L list = clazz.newInstance();\n    list.addAll(set);\n    return list;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291708,"reputation":3515,"user_id":5557885,"accept_rate":54,"display_name":"rajadilipkolli"},"down_vote_count":3,"up_vote_count":60,"is_accepted":false,"score":57,"last_activity_date":1497876624,"creation_date":1469071197,"answer_id":38494330,"question_id":8892360,"body_markdown":"We can use following one liner in Java 8:\r\n\r\n&lt;!-- if version [gte Java SE 8] --&gt;\r\n\r\n    List&lt;String&gt; list = set.stream().collect(Collectors.toList());\r\n\r\n&lt;!-- end version if --&gt;\r\n\r\nHere is one small example:\r\n\r\n    public static void main(String[] args) {\r\n            Set&lt;String&gt; set = new TreeSet&lt;&gt;();\r\n            set.add(&quot;A&quot;);\r\n            set.add(&quot;B&quot;);\r\n            set.add(&quot;C&quot;);\r\n            List&lt;String&gt; list = set.stream().collect(Collectors.toList());\r\n    }","title":"Convert Set to List without creating new List","body":"<p>We can use following one liner in Java 8:</p>\n\n\n\n<pre><code>List&lt;String&gt; list = set.stream().collect(Collectors.toList());\n</code></pre>\n\n\n\n<p>Here is one small example:</p>\n\n<pre><code>public static void main(String[] args) {\n        Set&lt;String&gt; set = new TreeSet&lt;&gt;();\n        set.add(\"A\");\n        set.add(\"B\");\n        set.add(\"C\");\n        List&lt;String&gt; list = set.stream().collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9920732,"reputation":47,"user_id":7343941,"display_name":"Stand Yang"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1513968839,"creation_date":1482802749,"answer_id":41337988,"question_id":8892360,"body_markdown":"Recently I found this:\r\n\r\n    ArrayList&lt;T&gt; yourList = Collections.list(Collections.enumeration(yourSet&lt;T&gt;));","title":"Convert Set to List without creating new List","body":"<p>Recently I found this:</p>\n\n<pre><code>ArrayList&lt;T&gt; yourList = Collections.list(Collections.enumeration(yourSet&lt;T&gt;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1506918533,"creation_date":1506918533,"answer_id":46519516,"question_id":8892360,"body_markdown":"Java 8 provides the option of using streams and you can get a list from `Set&lt;String&gt; setString` as:\r\n\r\n    List&lt;String&gt; stringList = setString.stream().collect(Collectors.toList());\r\n\r\nThough the internal implementation as of now provides an instance of `ArrayList`:\r\n\r\n    public static &lt;T&gt;\r\n        Collector&lt;T, ?, List&lt;T&gt;&gt; toList() {\r\n            return new CollectorImpl&lt;&gt;((Supplier&lt;List&lt;T&gt;&gt;) ArrayList::new, List::add,\r\n                                       (left, right) -&gt; { left.addAll(right); return left; },\r\n                                       CH_ID);\r\n        }\r\n\r\n\r\n but JDK does not guarantee it. As mentioned [here][1]:\r\n\r\n&gt; There are no guarantees on the type, mutability, serializability, or\r\n&gt; thread-safety of the List returned; if more control over the returned\r\n&gt; List is required, use toCollection(Supplier).\r\n\r\nIn case you want to be sure always then you can request for an instance specifically as:\r\n\r\n    List&lt;String&gt; stringArrayList = setString.stream()\r\n                         .collect(Collectors.toCollection(ArrayList::new));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--","title":"Convert Set to List without creating new List","body":"<p>Java 8 provides the option of using streams and you can get a list from <code>Set&lt;String&gt; setString</code> as:</p>\n\n<pre><code>List&lt;String&gt; stringList = setString.stream().collect(Collectors.toList());\n</code></pre>\n\n<p>Though the internal implementation as of now provides an instance of <code>ArrayList</code>:</p>\n\n<pre><code>public static &lt;T&gt;\n    Collector&lt;T, ?, List&lt;T&gt;&gt; toList() {\n        return new CollectorImpl&lt;&gt;((Supplier&lt;List&lt;T&gt;&gt;) ArrayList::new, List::add,\n                                   (left, right) -&gt; { left.addAll(right); return left; },\n                                   CH_ID);\n    }\n</code></pre>\n\n<p>but JDK does not guarantee it. As mentioned <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>There are no guarantees on the type, mutability, serializability, or\n  thread-safety of the List returned; if more control over the returned\n  List is required, use toCollection(Supplier).</p>\n</blockquote>\n\n<p>In case you want to be sure always then you can request for an instance specifically as:</p>\n\n<pre><code>List&lt;String&gt; stringArrayList = setString.stream()\n                     .collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5330844,"reputation":14681,"user_id":4251431,"accept_rate":80,"display_name":"Basheer AL-MOMANI"},"down_vote_count":2,"up_vote_count":45,"is_accepted":false,"score":43,"last_activity_date":1515587334,"creation_date":1515587334,"answer_id":48187529,"question_id":8892360,"body_markdown":"&gt; the simplest solution\r\n\r\nI wanted a very quick way to convert my set to List and return it, so in one line I did \r\n\r\n     return new ArrayList&lt;Long&gt;(mySetVariable);","title":"Convert Set to List without creating new List","body":"<blockquote>\n  <p>the simplest solution</p>\n</blockquote>\n\n<p>I wanted a very quick way to convert my set to List and return it, so in one line I did </p>\n\n<pre><code> return new ArrayList&lt;Long&gt;(mySetVariable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12624412,"reputation":159,"user_id":9178682,"display_name":"Daniel Avery"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589032187,"creation_date":1550594726,"answer_id":54771122,"question_id":8892360,"body_markdown":"For the sake of completeness...\r\n\r\nSay that you *really* do want to treat the `Map` values as `List`s, but you want to avoid copying the `Set` into a `List` each time.\r\n\r\nFor instance, maybe you are calling one library function that creates a `Set`, but you are passing your `Map&lt;String, List&lt;String&gt;&gt;` result to a (poorly-designed but out of your hands) library function that only takes `Map&lt;String, List&lt;String&gt;&gt;`, even though *somehow you know* that the operations it does with the `List`s are equally applicable to any `Collection` (and thus any `Set`). And *for some reason* you need to avoid the speed/memory overhead of copying each Set to a List.\r\n\r\nIn this super niche case, depending on the (maybe unknowable) behavior the library function needs out of your `List`s, you may be able to create a `List` *view* over each Set. Note that this is inherently unsafe (because the library function&#39;s requirements from each `List` could presumably change without you knowing), so another solution should be preferred. But here&#39;s how you&#39;d do it.\r\n\r\nYou&#39;d create a class that implements the `List` interface, takes a `Set` in the constructor and assigns that Set to a field, and then uses that internal `Set` to implement the `List` API (to the extent possible, and desired).\r\n\r\n**Note that some List behavior you simply will not be able to imitate without storing the elements as a `List`, and some behavior you will only partially be able to imitate. Again, this class is not a safe drop-in replacement for `List`s in general. In particular, if you know that the use case requires index-related operations or MUTATING the `List`, this approach would go south very fast.**\r\n\r\n    public class ListViewOfSet&lt;U&gt; implements List&lt;U&gt; {\r\n\t\tprivate final Set&lt;U&gt; wrappedSet;\r\n\t\tpublic ListViewOfSet(Set&lt;U&gt; setToWrap) { this.wrappedSet = setToWrap; }\r\n\t\t\r\n\t\t@Override public int size() { return this.wrappedSet.size(); }\r\n\t\t@Override public boolean isEmpty() { return this.wrappedSet.isEmpty(); }\r\n\t\t@Override public boolean contains(Object o) { return this.wrappedSet.contains(o); }\r\n\t\t@Override public java.util.Iterator&lt;U&gt; iterator() { return this.wrappedSet.iterator(); }\r\n\t\t@Override public Object[] toArray() { return this.wrappedSet.toArray(); }\r\n\t\t@Override public &lt;T&gt; T[] toArray(T[] ts) { return this.wrappedSet.toArray(ts); }\r\n\t\t@Override public boolean add(U e) { return this.wrappedSet.add(e); }\r\n\t\t@Override public boolean remove(Object o) { return this.wrappedSet.remove(o); }\r\n\t\t@Override public boolean containsAll(Collection&lt;?&gt; clctn) { return this.wrappedSet.containsAll(clctn); }\r\n\t\t@Override public boolean addAll(Collection&lt;? extends U&gt; clctn) { return this.wrappedSet.addAll(clctn); }\r\n\t\t@Override public boolean addAll(int i, Collection&lt;? extends U&gt; clctn) { throw new UnsupportedOperationException(); }\r\n\t\t@Override public boolean removeAll(Collection&lt;?&gt; clctn) { return this.wrappedSet.removeAll(clctn); }\r\n\t\t@Override public boolean retainAll(Collection&lt;?&gt; clctn) { return this.wrappedSet.retainAll(clctn); }\r\n\t\t@Override public void clear() { this.wrappedSet.clear(); }\r\n\t\t@Override public U get(int i) { throw new UnsupportedOperationException(); }\r\n\t\t@Override public U set(int i, U e) { throw new UnsupportedOperationException(); }\r\n\t\t@Override public void add(int i, U e) { throw new UnsupportedOperationException(); }\r\n\t\t@Override public U remove(int i) { throw new UnsupportedOperationException(); }\r\n\t\t@Override public int indexOf(Object o) { throw new UnsupportedOperationException(); }\r\n\t\t@Override public int lastIndexOf(Object o) { throw new UnsupportedOperationException(); }\r\n\t\t@Override public ListIterator&lt;U&gt; listIterator() { throw new UnsupportedOperationException(); }\r\n\t\t@Override public ListIterator&lt;U&gt; listIterator(int i) { throw new UnsupportedOperationException(); }\r\n\t\t@Override public List&lt;U&gt; subList(int i, int i1) { throw new UnsupportedOperationException(); }\r\n\t}\r\n    \r\n    ...\r\n    Set&lt;String&gt; set = getSet(...);\r\n    ListViewOfSet&lt;String&gt; listOfNames = new ListViewOfSet&lt;&gt;(set);\r\n    ...","title":"Convert Set to List without creating new List","body":"<p>For the sake of completeness...</p>\n\n<p>Say that you <em>really</em> do want to treat the <code>Map</code> values as <code>List</code>s, but you want to avoid copying the <code>Set</code> into a <code>List</code> each time.</p>\n\n<p>For instance, maybe you are calling one library function that creates a <code>Set</code>, but you are passing your <code>Map&lt;String, List&lt;String&gt;&gt;</code> result to a (poorly-designed but out of your hands) library function that only takes <code>Map&lt;String, List&lt;String&gt;&gt;</code>, even though <em>somehow you know</em> that the operations it does with the <code>List</code>s are equally applicable to any <code>Collection</code> (and thus any <code>Set</code>). And <em>for some reason</em> you need to avoid the speed/memory overhead of copying each Set to a List.</p>\n\n<p>In this super niche case, depending on the (maybe unknowable) behavior the library function needs out of your <code>List</code>s, you may be able to create a <code>List</code> <em>view</em> over each Set. Note that this is inherently unsafe (because the library function's requirements from each <code>List</code> could presumably change without you knowing), so another solution should be preferred. But here's how you'd do it.</p>\n\n<p>You'd create a class that implements the <code>List</code> interface, takes a <code>Set</code> in the constructor and assigns that Set to a field, and then uses that internal <code>Set</code> to implement the <code>List</code> API (to the extent possible, and desired).</p>\n\n<p><strong>Note that some List behavior you simply will not be able to imitate without storing the elements as a <code>List</code>, and some behavior you will only partially be able to imitate. Again, this class is not a safe drop-in replacement for <code>List</code>s in general. In particular, if you know that the use case requires index-related operations or MUTATING the <code>List</code>, this approach would go south very fast.</strong></p>\n\n<pre><code>public class ListViewOfSet&lt;U&gt; implements List&lt;U&gt; {\n    private final Set&lt;U&gt; wrappedSet;\n    public ListViewOfSet(Set&lt;U&gt; setToWrap) { this.wrappedSet = setToWrap; }\n\n    @Override public int size() { return this.wrappedSet.size(); }\n    @Override public boolean isEmpty() { return this.wrappedSet.isEmpty(); }\n    @Override public boolean contains(Object o) { return this.wrappedSet.contains(o); }\n    @Override public java.util.Iterator&lt;U&gt; iterator() { return this.wrappedSet.iterator(); }\n    @Override public Object[] toArray() { return this.wrappedSet.toArray(); }\n    @Override public &lt;T&gt; T[] toArray(T[] ts) { return this.wrappedSet.toArray(ts); }\n    @Override public boolean add(U e) { return this.wrappedSet.add(e); }\n    @Override public boolean remove(Object o) { return this.wrappedSet.remove(o); }\n    @Override public boolean containsAll(Collection&lt;?&gt; clctn) { return this.wrappedSet.containsAll(clctn); }\n    @Override public boolean addAll(Collection&lt;? extends U&gt; clctn) { return this.wrappedSet.addAll(clctn); }\n    @Override public boolean addAll(int i, Collection&lt;? extends U&gt; clctn) { throw new UnsupportedOperationException(); }\n    @Override public boolean removeAll(Collection&lt;?&gt; clctn) { return this.wrappedSet.removeAll(clctn); }\n    @Override public boolean retainAll(Collection&lt;?&gt; clctn) { return this.wrappedSet.retainAll(clctn); }\n    @Override public void clear() { this.wrappedSet.clear(); }\n    @Override public U get(int i) { throw new UnsupportedOperationException(); }\n    @Override public U set(int i, U e) { throw new UnsupportedOperationException(); }\n    @Override public void add(int i, U e) { throw new UnsupportedOperationException(); }\n    @Override public U remove(int i) { throw new UnsupportedOperationException(); }\n    @Override public int indexOf(Object o) { throw new UnsupportedOperationException(); }\n    @Override public int lastIndexOf(Object o) { throw new UnsupportedOperationException(); }\n    @Override public ListIterator&lt;U&gt; listIterator() { throw new UnsupportedOperationException(); }\n    @Override public ListIterator&lt;U&gt; listIterator(int i) { throw new UnsupportedOperationException(); }\n    @Override public List&lt;U&gt; subList(int i, int i1) { throw new UnsupportedOperationException(); }\n}\n\n...\nSet&lt;String&gt; set = getSet(...);\nListViewOfSet&lt;String&gt; listOfNames = new ListViewOfSet&lt;&gt;(set);\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1612732229,"creation_date":1573031719,"answer_id":58726647,"question_id":8892360,"body_markdown":"Since it hasn&#39;t been mentioned so far, as of Java 10 you can use the new `copyOf` factory method:\r\n\r\n    List.copyOf(set);\r\n\r\nFrom the [Javadoc](https://docs.oracle.com/javase/10/docs/api/java/util/List.html#copyOf(java.util.Collection)):\r\n\r\n&gt;Returns an [unmodifiable List](https://docs.oracle.com/javase/10/docs/api/java/util/List.html#unmodifiable) containing the elements of the given Collection, in its iteration order.\r\n\r\nNote that _this creates a new list_ ([`ImmutableCollections$ListN`](https://github.com/openjdk/jdk/blob/de96aeddf5ec098d47b2722e7cb18699953dbd62/src/java.base/share/classes/java/util/ImmutableCollections.java#L502) to be precise) under the hood by\r\n\r\n 1. calling `Collection#toArray()` on the given set and then\r\n 2. putting these objects into a new array.","title":"Convert Set to List without creating new List","body":"<p>Since it hasn't been mentioned so far, as of Java 10 you can use the new <code>copyOf</code> factory method:</p>\n<pre><code>List.copyOf(set);\n</code></pre>\n<p>From the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/List.html#copyOf(java.util.Collection)\" rel=\"noreferrer\">Javadoc</a>:</p>\n<blockquote>\n<p>Returns an <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/List.html#unmodifiable\" rel=\"noreferrer\">unmodifiable List</a> containing the elements of the given Collection, in its iteration order.</p>\n</blockquote>\n<p>Note that <em>this creates a new list</em> (<a href=\"https://github.com/openjdk/jdk/blob/de96aeddf5ec098d47b2722e7cb18699953dbd62/src/java.base/share/classes/java/util/ImmutableCollections.java#L502\" rel=\"noreferrer\"><code>ImmutableCollections$ListN</code></a> to be precise) under the hood by</p>\n<ol>\n<li>calling <code>Collection#toArray()</code> on the given set and then</li>\n<li>putting these objects into a new array.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9346423,"reputation":1452,"user_id":6937584,"display_name":"cdalxndr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597401478,"creation_date":1597401478,"answer_id":63411154,"question_id":8892360,"body_markdown":"You convert `Set` to `List` without adding ordering information (like sorting) just to store it in the map.\r\n\r\nBecause `Set` is unordered and no ordering information is added, `List` should not be used, as it will contain randomly ordered data and all it&#39;s methods that are related to ordered data will be ambiguous.\r\n\r\nYou should use `Collection` interface instead, that accepts both `Set` and `List` in the map. This way, no additional memory is required as you use polymorphism instead of copying data.\r\n\r\n    Map&lt;String, Collection&lt;String&gt;&gt; mainMap = new HashMap&lt;&gt;();\r\n    \r\n    for (int i=0; i &lt; something.size(); i++) {\r\n      Set&lt;String&gt; set = getSet(...); //returns different result each time\r\n      mainMap.put(differentKeyName, set);\r\n    }\r\n\r\n&gt; *Disclaimer: my edit to a [similar][1] answer was rejected so I added my own answer with additional information*\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8892760/6937584","title":"Convert Set to List without creating new List","body":"<p>You convert <code>Set</code> to <code>List</code> without adding ordering information (like sorting) just to store it in the map.</p>\n<p>Because <code>Set</code> is unordered and no ordering information is added, <code>List</code> should not be used, as it will contain randomly ordered data and all it's methods that are related to ordered data will be ambiguous.</p>\n<p>You should use <code>Collection</code> interface instead, that accepts both <code>Set</code> and <code>List</code> in the map. This way, no additional memory is required as you use polymorphism instead of copying data.</p>\n<pre><code>Map&lt;String, Collection&lt;String&gt;&gt; mainMap = new HashMap&lt;&gt;();\n\nfor (int i=0; i &lt; something.size(); i++) {\n  Set&lt;String&gt; set = getSet(...); //returns different result each time\n  mainMap.put(differentKeyName, set);\n}\n</code></pre>\n<blockquote>\n<p><em>Disclaimer: my edit to a <a href=\"https://stackoverflow.com/a/8892760/6937584\">similar</a> answer was rejected so I added my own answer with additional information</em></p>\n</blockquote>\n"}],"owner":{"account_id":184519,"reputation":22782,"user_id":420613,"accept_rate":87,"display_name":"Muhammad Imran Tariq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1090916,"favorite_count":0,"down_vote_count":2,"up_vote_count":605,"accepted_answer_id":8892424,"answer_count":15,"score":603,"last_activity_date":1649657429,"creation_date":1326793205,"question_id":8892360,"body_markdown":"I am using this code to convert a `Set` to a `List`:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; mainMap = new HashMap&lt;&gt;();\r\n    \r\n    for (int i=0; i &lt; something.size(); i++) {\r\n      Set&lt;String&gt; set = getSet(...); //returns different result each time\r\n      List&lt;String&gt; listOfNames = new ArrayList&lt;&gt;(set);\r\n      mainMap.put(differentKeyName, listOfNames);\r\n    }\r\n\r\nI want to avoid creating a new list in each iteration of the loop. Is that possible?","title":"Convert Set to List without creating new List","body":"<p>I am using this code to convert a <code>Set</code> to a <code>List</code>:</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; mainMap = new HashMap&lt;&gt;();\n\nfor (int i=0; i &lt; something.size(); i++) {\n  Set&lt;String&gt; set = getSet(...); //returns different result each time\n  List&lt;String&gt; listOfNames = new ArrayList&lt;&gt;(set);\n  mainMap.put(differentKeyName, listOfNames);\n}\n</code></pre>\n\n<p>I want to avoid creating a new list in each iteration of the loop. Is that possible?</p>\n"},{"tags":["java","arrays","oop","data-structures"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1649652093,"post_id":71822723,"comment_id":126921053,"body_markdown":"*I have tried to scan this .txt file through the scanner* - no use a csv reader class","body":"<i>I have tried to scan this .txt file through the scanner</i> - no use a csv reader class"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649656281,"post_id":71822723,"comment_id":126921801,"body_markdown":"Class names should start with uppercase in Java conventions: `Book`, not `book`.","body":"Class names should start with uppercase in Java conventions: <code>Book</code>, not <code>book</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1649656665,"post_id":71822723,"comment_id":126921881,"body_markdown":"Minor tip: [records](http://openjdk.java.net/jeps/395). Write classes more briefly. Example, reduce your entire `Book` class to `public record Book ( String title, String author, String publisher ) {}`.","body":"Minor tip: <a href=\"http://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">records</a>. Write classes more briefly. Example, reduce your entire <code>Book</code> class to <code>public record Book ( String title, String author, String publisher ) {}</code>."}],"answers":[{"tags":[],"owner":{"account_id":24723786,"reputation":21,"user_id":18767731,"display_name":"Peter Hu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649653390,"creation_date":1649653390,"answer_id":71822891,"question_id":71822723,"body_markdown":"It sounds like you&#39;re looking for an algorithm to (1) parse CSV files and (2) convert text to a Java objects.\r\n\r\nFor (1) you can use a CSV parsing library like opencsv, check out this guide: https://mkyong.com/java/how-to-read-and-parse-csv-file-in-java/ . For (2) you can use a deserialization library like jackson, check out this guide: https://www.baeldung.com/jackson-deserialization.\r\n\r\nWhen you use a java.io.Scanner to read file contents the library is reading each line and converting it into a String object (string of text). So, if you want to solve (2) yourself, you will need to first define a format on how you want to write each structure (e.g., arrays) and then create an algorithm to convert it into a Java structure (e.g., java.util.ArrayList). For example, let&#39;s say you define the format for arrays to be delimited by | (e.g., a|b|c), then you can write a function to convert this to a list and use this function as part of your program.\r\n\r\n```\r\nList toList(String csvColumnStr) {\r\n   return Arrays.asList(csvColumnStr.split(&#39;|&#39;))\r\n}\r\n```","title":"is different data types like string int and array in the same csv file can be readable in java?","body":"<p>It sounds like you're looking for an algorithm to (1) parse CSV files and (2) convert text to a Java objects.</p>\n<p>For (1) you can use a CSV parsing library like opencsv, check out this guide: <a href=\"https://mkyong.com/java/how-to-read-and-parse-csv-file-in-java/\" rel=\"nofollow noreferrer\">https://mkyong.com/java/how-to-read-and-parse-csv-file-in-java/</a> . For (2) you can use a deserialization library like jackson, check out this guide: <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-deserialization</a>.</p>\n<p>When you use a java.io.Scanner to read file contents the library is reading each line and converting it into a String object (string of text). So, if you want to solve (2) yourself, you will need to first define a format on how you want to write each structure (e.g., arrays) and then create an algorithm to convert it into a Java structure (e.g., java.util.ArrayList). For example, let's say you define the format for arrays to be delimited by | (e.g., a|b|c), then you can write a function to convert this to a list and use this function as part of your program.</p>\n<pre><code>List toList(String csvColumnStr) {\n   return Arrays.asList(csvColumnStr.split('|'))\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649656400,"creation_date":1649655773,"answer_id":71823150,"question_id":71822723,"body_markdown":"CSV is intended for [flat tabular data][1].\r\n\r\nYou want more.\r\n\r\nIn a quoted field you could have again comma separated text, which you could parse in a second step. A `List&lt;string&gt;` for instance.\r\n\r\nFor a `List&lt;Book&gt;` (please capitalize class names) there exists an other technique:\r\nusing different record types, placing in an additional first field the record type:\r\n\r\n    BookerPrize ... ... ...\r\n    Book ... ...\r\n    Book ... ...\r\n    BookerPrize ... ... ...\r\n    Book ... ...\r\n    Book ... ...\r\n\r\nHowever all this is very circumstantial.\r\n\r\nSome probably would advise to use the hierarchical [JSON][2] format.\r\n\r\nI am more the friend of [XML][3], which has a validated syntax, so dangerous typos are easily found, and you can use java with [*Jakarta XML Binding*][4] (formerly *JAXB*, *Java Architecture for XML Binding*) annotations to read and write Java objects. Quite easy. Also the types do not need hand-made conversion.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Flat-file_database\r\n  [2]: https://en.wikipedia.org/wiki/JSON\r\n  [3]: https://en.wikipedia.org/wiki/XML\r\n  [4]: https://en.wikipedia.org/wiki/Jakarta_XML_Binding","title":"is different data types like string int and array in the same csv file can be readable in java?","body":"<p>CSV is intended for <a href=\"https://en.wikipedia.org/wiki/Flat-file_database\" rel=\"nofollow noreferrer\">flat tabular data</a>.</p>\n<p>You want more.</p>\n<p>In a quoted field you could have again comma separated text, which you could parse in a second step. A <code>List&lt;string&gt;</code> for instance.</p>\n<p>For a <code>List&lt;Book&gt;</code> (please capitalize class names) there exists an other technique:\nusing different record types, placing in an additional first field the record type:</p>\n<pre><code>BookerPrize ... ... ...\nBook ... ...\nBook ... ...\nBookerPrize ... ... ...\nBook ... ...\nBook ... ...\n</code></pre>\n<p>However all this is very circumstantial.</p>\n<p>Some probably would advise to use the hierarchical <a href=\"https://en.wikipedia.org/wiki/JSON\" rel=\"nofollow noreferrer\">JSON</a> format.</p>\n<p>I am more the friend of <a href=\"https://en.wikipedia.org/wiki/XML\" rel=\"nofollow noreferrer\">XML</a>, which has a validated syntax, so dangerous typos are easily found, and you can use java with <a href=\"https://en.wikipedia.org/wiki/Jakarta_XML_Binding\" rel=\"nofollow noreferrer\"><em>Jakarta XML Binding</em></a> (formerly <em>JAXB</em>, <em>Java Architecture for XML Binding</em>) annotations to read and write Java objects. Quite easy. Also the types do not need hand-made conversion.</p>\n"}],"owner":{"account_id":20346845,"reputation":21,"user_id":14924470,"display_name":"abdullah shah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1649656763,"creation_date":1649651397,"question_id":71822723,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i0nuJ.png\r\n\r\nthis is the model to follow for the assignment.\r\nI have created java classes as you can see down below.\r\n\r\n```java\r\nclass BookerPrize{\r\n        \r\n        private int year;\r\n        book winner;\r\n        List&lt;book&gt; shortlist;\r\n        List&lt;String&gt; panel;\r\n        String chairPerson;\r\n        public BookerPrize( int year,book winner, List&lt;book&gt; shortlist, List&lt;String&gt; panel, String chairPerson) {\r\n                super();\r\n                this.winner = winner;\r\n                this.shortlist = shortlist;\r\n                this.panel = panel;\r\n                this.year = year;\r\n                this.chairPerson = chairPerson;\r\n        }\r\n        public book getwinner() {\r\n                return winner;\r\n        }\r\n        public List&lt;book&gt; getshortlist() {\r\n                return shortlist;\r\n        }\r\n        public List&lt;String&gt; getpanel() {\r\n                return panel;\r\n        }\r\n        public int getYear() {\r\n                return year;\r\n        }\r\n        public String getchairPerson() {\r\n                return chairPerson;\r\n        }\r\n        @Override\r\n        public String toString() {\r\n           \r\n                return &quot;Winner : &quot; + &quot; [ &quot; + winner.getTitle() + &quot;  &quot; + winner.getTitle() + &quot;  &quot; + winner.getTitle() + &quot; ] &quot; + &quot;\\n&quot; + &quot;year : &quot; + year + &quot;\\n&quot; + &quot;chair man : &quot; + chairPerson + &quot;\\n&quot;;\r\n        }\r\n        \r\n}\r\n```\r\n\r\nand here is the book.java class \r\n\r\n```java\r\npublic class book {\r\n     private String title,author,publisher;\r\n       \r\n        public book(String title, String author, String publisher) {\r\n               \r\n                this.title = title;\r\n                this.author = author;\r\n                this.publisher = publisher;\r\n             \r\n        }\r\n        public String getTitle() {\r\n                return title;\r\n        }\r\n        public String getauthor() {\r\n                return author;\r\n        }\r\n        public String getpublisher() {\r\n                return publisher;\r\n        }\r\n      \r\n}\r\n```\r\n\r\nI am a little confused about how can I make get data from CSV to this pattern. \r\nI have created a dummy dataset that I believe could be suitable for this task. here you can see \r\n\r\nint year, book `[title.......,author..,publishers], List&lt;book&gt; [[title.......,author..,publishers],[title.......,author..,publishers],.....], List&lt;String&gt; [panelmember1,panelmember2,panelmember3,.....panelmember(n)], String chairperson`\r\n///////////////////////////////multiple entries as above//////////////////////////////////\r\n\r\n**Tell me if I am doing right ? ... I have tried to scan this .txt file through the scanner but this wasn&#39;t helpful because I was trying to split the line through &quot;,&quot; but can be able to get book class parameters. let me know how can I get these parameters in java.**\r\n\r\nHere is the complete question of the problem u can check\r\n\r\n&gt; You are required to write a Java 8 program that opens and reads a\r\n&gt; delimited data file that is located relative to the NetBeans project\r\n&gt; root folder. The delimited data file contains information about Booker\r\n&gt; prize winning and shortlisted novels. The data file is called\r\n&gt; booker-data.txt. The data file must not be altered and should be\r\n&gt; considered as a read-only data file.\r\n&gt; \r\n&gt; The data file is delimited in a consistent structure and contains\r\n&gt; entries relating to 20 years of Booker prize winners and shortlisted\r\n&gt; nominees. Each entry contains a series of data fields representing the\r\n&gt; following information: the year of the prize, the winning author, the\r\n&gt; winning book title, the authors and book titles of shortlisted\r\n&gt; nominees, the panel members who were responsible for deciding the\r\n&gt; winner, and an indication of which panel member acted as chairperson.\r\n&gt; You are required to implement Java classes to represent the Booker\r\n&gt; prize winning information with respect to this data set. The program\r\n&gt; should parse the data file and create and store a collection of\r\n&gt; objects for each entity. \r\n&gt; \r\n&gt; Figure 3 provides a partial UML class representation of the classes\r\n&gt; that you will need to implement. It illustrates a core class to\r\n&gt; represent the Booker prize information alongside a utility class to\r\n&gt; represent the basic details of a book. The class model indicates the\r\n&gt; data members and accessor (i.e., getter) methods that map to those\r\n&gt; data members, and a toString() method for the BookerPrize class. It is\r\n&gt; left to you to determine how the objects should be initialised. Once\r\n&gt; all the objects are loaded into the collection, the program should\r\n&gt; present the User with a console-based menu to interact with the data\r\n&gt; set.\r\n&gt; \r\n&gt;  This menu should loop until the User enters a character to exit the\r\n&gt; menu (e.g., zero as illustrated below). In addition to an exit option,\r\n&gt; the menu should offer three other options: list, select and search. On\r\n&gt; starting the program, the following menu should be displayed to the\r\n&gt; console:\r\n&gt; \r\n&gt; ``` 3\r\n&gt; ---------------------- Booker prize menu\r\n&gt; ---------------------- List ................1 Select ..............2 Search ..............3 Exit.................0\r\n&gt; ---------------------- Enter choice:&gt;\r\n&gt; ```\r\n&gt; \r\n&gt; The User can simply exit the program by entering zero. The three other\r\n&gt; menu options allow the User to inspect the information in the data set\r\n&gt; (note again that this program is entirely read-only and there is no\r\n&gt; requirement to add, update or delete any part of the data set). The\r\n&gt; necessary interaction of the program with respect to these options is\r\n&gt; illustrated in Appendix A.\r\n&gt; \r\n&gt; Note that console output should be neatly formatted, and some\r\n&gt; consideration will be given to formatting when the program is\r\n&gt; assessed. In particular, when the option to view the details of the\r\n&gt; Booker prize winner and shortlist for a given year is selected (i.e.,\r\n&gt; the select menu option), it must result in the invocation of the\r\n&gt; toString() method for that particular BookerPrize object. You are\r\n&gt; required to utilise a StringBuilder object when implementing the\r\n&gt; toString() method for the BookerPrize class.","title":"is different data types like string int and array in the same csv file can be readable in java?","body":"<p><a href=\"https://i.stack.imgur.com/i0nuJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i0nuJ.png\" alt=\"enter image description here\" /></a></p>\n<p>this is the model to follow for the assignment.\nI have created java classes as you can see down below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class BookerPrize{\n        \n        private int year;\n        book winner;\n        List&lt;book&gt; shortlist;\n        List&lt;String&gt; panel;\n        String chairPerson;\n        public BookerPrize( int year,book winner, List&lt;book&gt; shortlist, List&lt;String&gt; panel, String chairPerson) {\n                super();\n                this.winner = winner;\n                this.shortlist = shortlist;\n                this.panel = panel;\n                this.year = year;\n                this.chairPerson = chairPerson;\n        }\n        public book getwinner() {\n                return winner;\n        }\n        public List&lt;book&gt; getshortlist() {\n                return shortlist;\n        }\n        public List&lt;String&gt; getpanel() {\n                return panel;\n        }\n        public int getYear() {\n                return year;\n        }\n        public String getchairPerson() {\n                return chairPerson;\n        }\n        @Override\n        public String toString() {\n           \n                return &quot;Winner : &quot; + &quot; [ &quot; + winner.getTitle() + &quot;  &quot; + winner.getTitle() + &quot;  &quot; + winner.getTitle() + &quot; ] &quot; + &quot;\\n&quot; + &quot;year : &quot; + year + &quot;\\n&quot; + &quot;chair man : &quot; + chairPerson + &quot;\\n&quot;;\n        }\n        \n}\n</code></pre>\n<p>and here is the book.java class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class book {\n     private String title,author,publisher;\n       \n        public book(String title, String author, String publisher) {\n               \n                this.title = title;\n                this.author = author;\n                this.publisher = publisher;\n             \n        }\n        public String getTitle() {\n                return title;\n        }\n        public String getauthor() {\n                return author;\n        }\n        public String getpublisher() {\n                return publisher;\n        }\n      \n}\n</code></pre>\n<p>I am a little confused about how can I make get data from CSV to this pattern.\nI have created a dummy dataset that I believe could be suitable for this task. here you can see</p>\n<p>int year, book <code>[title.......,author..,publishers], List&lt;book&gt; [[title.......,author..,publishers],[title.......,author..,publishers],.....], List&lt;String&gt; [panelmember1,panelmember2,panelmember3,.....panelmember(n)], String chairperson</code>\n///////////////////////////////multiple entries as above//////////////////////////////////</p>\n<p><strong>Tell me if I am doing right ? ... I have tried to scan this .txt file through the scanner but this wasn't helpful because I was trying to split the line through &quot;,&quot; but can be able to get book class parameters. let me know how can I get these parameters in java.</strong></p>\n<p>Here is the complete question of the problem u can check</p>\n<blockquote>\n<p>You are required to write a Java 8 program that opens and reads a\ndelimited data file that is located relative to the NetBeans project\nroot folder. The delimited data file contains information about Booker\nprize winning and shortlisted novels. The data file is called\nbooker-data.txt. The data file must not be altered and should be\nconsidered as a read-only data file.</p>\n<p>The data file is delimited in a consistent structure and contains\nentries relating to 20 years of Booker prize winners and shortlisted\nnominees. Each entry contains a series of data fields representing the\nfollowing information: the year of the prize, the winning author, the\nwinning book title, the authors and book titles of shortlisted\nnominees, the panel members who were responsible for deciding the\nwinner, and an indication of which panel member acted as chairperson.\nYou are required to implement Java classes to represent the Booker\nprize winning information with respect to this data set. The program\nshould parse the data file and create and store a collection of\nobjects for each entity.</p>\n<p>Figure 3 provides a partial UML class representation of the classes\nthat you will need to implement. It illustrates a core class to\nrepresent the Booker prize information alongside a utility class to\nrepresent the basic details of a book. The class model indicates the\ndata members and accessor (i.e., getter) methods that map to those\ndata members, and a toString() method for the BookerPrize class. It is\nleft to you to determine how the objects should be initialised. Once\nall the objects are loaded into the collection, the program should\npresent the User with a console-based menu to interact with the data\nset.</p>\n<p>This menu should loop until the User enters a character to exit the\nmenu (e.g., zero as illustrated below). In addition to an exit option,\nthe menu should offer three other options: list, select and search. On\nstarting the program, the following menu should be displayed to the\nconsole:</p>\n<pre><code>---------------------- Booker prize menu\n---------------------- List ................1 Select ..............2 Search ..............3 Exit.................0\n---------------------- Enter choice:&gt;\n</code></pre>\n<p>The User can simply exit the program by entering zero. The three other\nmenu options allow the User to inspect the information in the data set\n(note again that this program is entirely read-only and there is no\nrequirement to add, update or delete any part of the data set). The\nnecessary interaction of the program with respect to these options is\nillustrated in Appendix A.</p>\n<p>Note that console output should be neatly formatted, and some\nconsideration will be given to formatting when the program is\nassessed. In particular, when the option to view the details of the\nBooker prize winner and shortlist for a given year is selected (i.e.,\nthe select menu option), it must result in the invocation of the\ntoString() method for that particular BookerPrize object. You are\nrequired to utilise a StringBuilder object when implementing the\ntoString() method for the BookerPrize class.</p>\n</blockquote>\n"},{"tags":["java","kotlin","gradle"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1649657257,"post_id":71823252,"comment_id":126922018,"body_markdown":"Im not sure I see the point. Why not create a module for the interfaces, a module for each of prod and stub and then either switch the dependency out or even decide programmatically in the test. If youre using a DI framework you could use something like Springs profiles.","body":"Im not sure I see the point. Why not create a module for the interfaces, a module for each of prod and stub and then either switch the dependency out or even decide programmatically in the test. If youre using a DI framework you could use something like Springs profiles."},{"owner":{"account_id":17756216,"reputation":56,"user_id":12893263,"display_name":"Daniel Perez"},"score":0,"creation_date":1649714448,"post_id":71823252,"comment_id":126941945,"body_markdown":"I am using a DI framework, Dagger 2 in this case. I don&#39;t want to create separate modules because I believe it is bazooka to kill a fly in my use case(but not every use case, I still love using modules when I find it appropriate).","body":"I am using a DI framework, Dagger 2 in this case. I don&#39;t want to create separate modules because I believe it is bazooka to kill a fly in my use case(but not every use case, I still love using modules when I find it appropriate)."}],"owner":{"account_id":17756216,"reputation":56,"user_id":12893263,"display_name":"Daniel Perez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649656744,"creation_date":1649656744,"question_id":71823252,"body_markdown":"I am trying to use Gradle Source Sets to configure different files for different environments, which is inspired by [Gradles integration testing setup documentation.][1] \r\n\r\nMy goal is to have both `fake` and `prod` source sets use interfaces defined in `main` and provide their own implementations. This is similar if not exactly what you can accomplish with the Android Gradle Plugin&#39;s [Product Flavors][2].\r\n\r\nFor example, here is my build.gradle.kts file:\r\n    \r\n    ...\r\n\r\n    sourceSets {\r\n        create(&quot;prod&quot;) {\r\n            compileClasspath += sourceSets.main.get().output\r\n            runtimeClasspath += sourceSets.main.get().output\r\n    \r\n            java.srcDirs(&quot;src/main/kotlin&quot;, &quot;src/prod/kotlin&quot;)\r\n        }\r\n    \r\n        create(&quot;fake&quot;) {\r\n            compileClasspath += sourceSets.main.get().output\r\n            runtimeClasspath += sourceSets.main.get().output\r\n    \r\n            java.srcDirs(&quot;src/main/kotlin&quot;, &quot;src/fake/kotlin&quot;)\r\n        }\r\n    }\r\n    \r\n    val fakeImplementation by configurations.getting {\r\n        extendsFrom(configurations.implementation.get())\r\n    }\r\n    \r\n    val prodImplementation by configurations.getting {\r\n        extendsFrom(configurations.implementation.get())\r\n    }\r\n    \r\n    configurations[&quot;fakeRuntimeOnly&quot;].extendsFrom(configurations.runtimeOnly.get())\r\n    configurations[&quot;prodRuntimeOnly&quot;].extendsFrom(configurations.runtimeOnly.get())\r\n    \r\n    val prodTest = task&lt;Test&gt;(&quot;prodTest&quot;) {\r\n        description = &quot;Runs prod tests.&quot;\r\n        group = &quot;verification&quot;\r\n    \r\n        testClassesDirs = sourceSets[&quot;prod&quot;].output.classesDirs\r\n        classpath = sourceSets[&quot;prod&quot;].runtimeClasspath\r\n        shouldRunAfter(&quot;test&quot;)\r\n    }\r\n    \r\n    val fakeTest = task&lt;Test&gt;(&quot;fakeTest&quot;) {\r\n        description = &quot;Runs fake tests.&quot;\r\n        group = &quot;verification&quot;\r\n    \r\n        testClassesDirs = sourceSets[&quot;fake&quot;].output.classesDirs\r\n        classpath = sourceSets[&quot;fake&quot;].runtimeClasspath\r\n        shouldRunAfter(&quot;test&quot;)\r\n    }\r\n    \r\n    tasks.check { dependsOn(prodTest) }\r\n    tasks.check { dependsOn(fakeTest) }\r\n\r\n    ...\r\n\r\n`compileFakeKotlin` doesn&#39;t recognize files in the `fake` source set, particularly on the `kaptKotlin` task which is defined like so in my `dependencies` block:\r\n\r\n    dependencies {\r\n    \r\n        // Dagger\r\n        implementation(&quot;com.google.dagger:dagger:2.41&quot;)\r\n        kapt(&quot;com.google.dagger:dagger-compiler:2.41&quot;)\r\n        &quot;kaptProd&quot;(&quot;com.google.dagger:dagger-compiler:2.41&quot;)\r\n        &quot;kaptFake&quot;(&quot;com.google.dagger:dagger-compiler:2.41&quot;)\r\n    \r\n    }\r\n\r\nAnd here is the error:\r\n\r\n    &gt; Task :server:compileKotlinCheckIncrementalCompilationAnvil UP-TO-DATE\r\n    &gt; Task :server:kaptGenerateStubsKotlin UP-TO-DATE\r\n    &gt; Task :server:processResources UP-TO-DATE\r\n    &gt; Task :server:compileFakeKotlinCheckIncrementalCompilationAnvil UP-TO-DATE\r\n    \r\n    &gt; Task :server:kaptKotlin FAILED\r\n    ...[Dagger/MissingBinding] my.package.name.RecipeController cannot be provided without an @Provides-annotated method.\r\n    public abstract interface AppComponent { ...\r\n\r\nWhen I put the binding class(FakeRecipeController.kt) in the main source set, it works perfectly. But when it&#39;s in src/fake/kotlin, I get this error which leads me to believe the code in that source set isn&#39;t being used and I&#39;m unsure how to proceed from here. Thank you.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_testing.html#sec:configuring_java_integration_tests\r\n  [2]: https://developer.android.com/studio/build/build-variants#product-flavors","title":"How can I use Gradle to configure different environments using a shared source set(main)?","body":"<p>I am trying to use Gradle Source Sets to configure different files for different environments, which is inspired by <a href=\"https://docs.gradle.org/current/userguide/java_testing.html#sec:configuring_java_integration_tests\" rel=\"nofollow noreferrer\">Gradles integration testing setup documentation.</a></p>\n<p>My goal is to have both <code>fake</code> and <code>prod</code> source sets use interfaces defined in <code>main</code> and provide their own implementations. This is similar if not exactly what you can accomplish with the Android Gradle Plugin's <a href=\"https://developer.android.com/studio/build/build-variants#product-flavors\" rel=\"nofollow noreferrer\">Product Flavors</a>.</p>\n<p>For example, here is my build.gradle.kts file:</p>\n<pre><code>...\n\nsourceSets {\n    create(&quot;prod&quot;) {\n        compileClasspath += sourceSets.main.get().output\n        runtimeClasspath += sourceSets.main.get().output\n\n        java.srcDirs(&quot;src/main/kotlin&quot;, &quot;src/prod/kotlin&quot;)\n    }\n\n    create(&quot;fake&quot;) {\n        compileClasspath += sourceSets.main.get().output\n        runtimeClasspath += sourceSets.main.get().output\n\n        java.srcDirs(&quot;src/main/kotlin&quot;, &quot;src/fake/kotlin&quot;)\n    }\n}\n\nval fakeImplementation by configurations.getting {\n    extendsFrom(configurations.implementation.get())\n}\n\nval prodImplementation by configurations.getting {\n    extendsFrom(configurations.implementation.get())\n}\n\nconfigurations[&quot;fakeRuntimeOnly&quot;].extendsFrom(configurations.runtimeOnly.get())\nconfigurations[&quot;prodRuntimeOnly&quot;].extendsFrom(configurations.runtimeOnly.get())\n\nval prodTest = task&lt;Test&gt;(&quot;prodTest&quot;) {\n    description = &quot;Runs prod tests.&quot;\n    group = &quot;verification&quot;\n\n    testClassesDirs = sourceSets[&quot;prod&quot;].output.classesDirs\n    classpath = sourceSets[&quot;prod&quot;].runtimeClasspath\n    shouldRunAfter(&quot;test&quot;)\n}\n\nval fakeTest = task&lt;Test&gt;(&quot;fakeTest&quot;) {\n    description = &quot;Runs fake tests.&quot;\n    group = &quot;verification&quot;\n\n    testClassesDirs = sourceSets[&quot;fake&quot;].output.classesDirs\n    classpath = sourceSets[&quot;fake&quot;].runtimeClasspath\n    shouldRunAfter(&quot;test&quot;)\n}\n\ntasks.check { dependsOn(prodTest) }\ntasks.check { dependsOn(fakeTest) }\n\n...\n</code></pre>\n<p><code>compileFakeKotlin</code> doesn't recognize files in the <code>fake</code> source set, particularly on the <code>kaptKotlin</code> task which is defined like so in my <code>dependencies</code> block:</p>\n<pre><code>dependencies {\n\n    // Dagger\n    implementation(&quot;com.google.dagger:dagger:2.41&quot;)\n    kapt(&quot;com.google.dagger:dagger-compiler:2.41&quot;)\n    &quot;kaptProd&quot;(&quot;com.google.dagger:dagger-compiler:2.41&quot;)\n    &quot;kaptFake&quot;(&quot;com.google.dagger:dagger-compiler:2.41&quot;)\n\n}\n</code></pre>\n<p>And here is the error:</p>\n<pre><code>&gt; Task :server:compileKotlinCheckIncrementalCompilationAnvil UP-TO-DATE\n&gt; Task :server:kaptGenerateStubsKotlin UP-TO-DATE\n&gt; Task :server:processResources UP-TO-DATE\n&gt; Task :server:compileFakeKotlinCheckIncrementalCompilationAnvil UP-TO-DATE\n\n&gt; Task :server:kaptKotlin FAILED\n...[Dagger/MissingBinding] my.package.name.RecipeController cannot be provided without an @Provides-annotated method.\npublic abstract interface AppComponent { ...\n</code></pre>\n<p>When I put the binding class(FakeRecipeController.kt) in the main source set, it works perfectly. But when it's in src/fake/kotlin, I get this error which leads me to believe the code in that source set isn't being used and I'm unsure how to proceed from here. Thank you.</p>\n"},{"tags":["java","maven","gradle","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1649657338,"post_id":71823219,"comment_id":126922041,"body_markdown":"Have you tried anything yet? If so, what kind of problems did you encounter?","body":"Have you tried anything yet? If so, what kind of problems did you encounter?"},{"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"score":0,"creation_date":1650318049,"post_id":71823219,"comment_id":127082198,"body_markdown":"I am not clear on what you are trying to accomplish. Can you try to elaborate more?","body":"I am not clear on what you are trying to accomplish. Can you try to elaborate more?"},{"owner":{"account_id":22446391,"reputation":1,"user_id":16650255,"display_name":"Mr.Huge"},"score":0,"creation_date":1669789184,"post_id":71823219,"comment_id":131720124,"body_markdown":"I am trying to build frontend using maven project which will have its own controller, for the backend writing the logic in gradle that means it would be also having its own controller. Now can we join both the project into one so that when we debug the flow would be from maven controller to gradle controller. To do so what kind of changes we have to make in application.yml/application.properties.","body":"I am trying to build frontend using maven project which will have its own controller, for the backend writing the logic in gradle that means it would be also having its own controller. Now can we join both the project into one so that when we debug the flow would be from maven controller to gradle controller. To do so what kind of changes we have to make in application.yml/application.properties."}],"owner":{"account_id":22446391,"reputation":1,"user_id":16650255,"display_name":"Mr.Huge"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649656412,"creation_date":1649656412,"question_id":71823219,"body_markdown":"I wanted to join two workspace into one project app, using gradle and maven,and join them using application.yml/application.properties. ","title":"How to merge Gradle and Maven Project into one app in spring boot using their application properties?","body":"<p>I wanted to join two workspace into one project app, using gradle and maven,and join them using application.yml/application.properties.</p>\n"},{"tags":["java","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":21074157,"reputation":89,"user_id":15489769,"display_name":"Djerbien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649653984,"creation_date":1649653984,"answer_id":71822956,"question_id":71822644,"body_markdown":"Use the (excellent) JSON-Java library from json.org then\r\n\r\n    JSONObject json = new JSONObject(str);\r\n    String xml = XML.toString(json);\r\n\r\n`toString` can take a second argument to provide the name of the XML root node.\r\n\r\nThis library is also able to convert XML to JSON using `XML.toJSONObject(java.lang.String string)`\r\n\r\nCheck the [Javadoc][1] \r\n\r\nLink to the [the github repository][2]\r\n\r\n\r\n*POM*\r\nI advise you to look for later versions\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20160212&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: http://stleary.github.io/JSON-java/index.html\r\n  [2]: https://github.com/stleary/JSON-java\r\n\r\n\r\n\r\n\r\n","title":"How to do a JSON to SOAP Transform in java?","body":"<p>Use the (excellent) JSON-Java library from json.org then</p>\n<pre><code>JSONObject json = new JSONObject(str);\nString xml = XML.toString(json);\n</code></pre>\n<p><code>toString</code> can take a second argument to provide the name of the XML root node.</p>\n<p>This library is also able to convert XML to JSON using <code>XML.toJSONObject(java.lang.String string)</code></p>\n<p>Check the <a href=\"http://stleary.github.io/JSON-java/index.html\" rel=\"nofollow noreferrer\">Javadoc</a></p>\n<p>Link to the <a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow noreferrer\">the github repository</a></p>\n<p><em>POM</em>\nI advise you to look for later versions</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20160212&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21074157,"reputation":89,"user_id":15489769,"display_name":"Djerbien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649654921,"creation_date":1649654921,"answer_id":71823053,"question_id":71822644,"body_markdown":"You can use this librarie `org.json`\r\n```java\r\nimport java.io.IOException;\r\nimport org.json.*;\r\npublic class SimpleTesting{\r\n    public static void main(String[] args) throws IOException, JSONException{\r\n        String jsonStr = &quot;{student : { age:30, name : Kumar, technology : Java } }&quot;;\r\n        JSONObject json = new JSONObject(jsonStr);\r\n        String xml = XML.toString(json);\r\n        System.out.println(xml);\r\n    }\r\n}\r\n```","title":"How to do a JSON to SOAP Transform in java?","body":"<p>You can use this librarie <code>org.json</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport org.json.*;\npublic class SimpleTesting{\n    public static void main(String[] args) throws IOException, JSONException{\n        String jsonStr = &quot;{student : { age:30, name : Kumar, technology : Java } }&quot;;\n        JSONObject json = new JSONObject(jsonStr);\n        String xml = XML.toString(json);\n        System.out.println(xml);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22141560,"reputation":19,"user_id":16391520,"display_name":"Pooja Balageri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1053,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1649656097,"creation_date":1649650325,"question_id":71822644,"body_markdown":"Most of the current documents are with reference to SOAP-to-JSON, I was hoping whether there are any reference material or tutorials to transform JSON response objects to SOAP service.\r\n\r\nOr is there a way to convert JSON to soap using AWS lambda?\r\n\r\nAttached is the Josn and also the expected sample Soap after conversion.\r\n\r\n\r\n     { \r\n      &quot;successFlag&quot;: true, \r\n      &quot;message&quot;: &quot;Execution Successful&quot;, \r\n      &quot;id&quot;: 2, \r\n      &quot;additionalParams&quot;: { \r\n        &quot;inputRequest&quot;: { \r\n          &quot;customerId&quot;: &quot;123456&quot;, \r\n          &quot;customerName&quot;: &quot;Public&quot;, \r\n          &quot;phoneNumber&quot;: &quot;123456789&quot;\r\n                        }\r\n                          }\r\n      }\r\n\r\n  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;soapenv:Envelope\r\n    \txmlns=&quot;urn:core_2018_1.platform.webservices.netsuite.com&quot;&gt;\r\n    \t&lt;soapenv:Header&gt;\r\n    \t\t&lt;ns2:tokenPassport&gt;\r\n    \t\t\t&lt;account&gt;******&lt;/account&gt;\r\n    \t\t&lt;/ns2:tokenPassport&gt;\r\n    \t\t&lt;ns2:preferences&gt;\r\n    \t\t\t&lt;ns2:warningAsError&gt;false&lt;/ns2:warningAsError&gt;\r\n    \t\t&lt;/ns2:preferences&gt;\r\n    \t&lt;/soapenv:Header&gt;\r\n    \t&lt;soapenv:Body&gt;\r\n    \t\t&lt;ns2:update&gt;\r\n    \t\t\t&lt;ns2:record\r\n    \t\t\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:type=&quot;ns6:Customer&quot; internalId=&quot;123456&quot;&gt;\t\r\n    \t\t\t\t&lt;ns6:customFieldList&gt;\r\n    \t\t\t\t\t&lt;customField xsi:type=&quot;SelectCustomFieldRef&quot; scriptId=&quot;custentitystatus&quot;&gt;\r\n    \t\t\t\t\t\t&lt;value internalId=&quot;2&quot;/&gt;\r\n    \t\t\t\t\t&lt;/customField&gt;\r\n    \t\t\t\t\t&lt;customField xsi:type=&quot;StringCustomFieldRef&quot; scriptId=&quot;custentitymessage&quot;&gt;\r\n    \t\t\t\t\t\t&lt;value&gt;Execution Successful&lt;/value&gt;\r\n    \t\t\t\t\t&lt;/customField&gt;\r\n    \t\t\t\t&lt;/ns6:customFieldList&gt;\r\n    \t\t\t&lt;/ns2:record&gt;\r\n    \t\t&lt;/ns2:update&gt;\r\n    \t&lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\n\r\n\r\n\r\nThanks in advance.\r\n\r\n\r\n ","title":"How to do a JSON to SOAP Transform in java?","body":"<p>Most of the current documents are with reference to SOAP-to-JSON, I was hoping whether there are any reference material or tutorials to transform JSON response objects to SOAP service.</p>\n<p>Or is there a way to convert JSON to soap using AWS lambda?</p>\n<p>Attached is the Josn and also the expected sample Soap after conversion.</p>\n<pre><code> { \n  &quot;successFlag&quot;: true, \n  &quot;message&quot;: &quot;Execution Successful&quot;, \n  &quot;id&quot;: 2, \n  &quot;additionalParams&quot;: { \n    &quot;inputRequest&quot;: { \n      &quot;customerId&quot;: &quot;123456&quot;, \n      &quot;customerName&quot;: &quot;Public&quot;, \n      &quot;phoneNumber&quot;: &quot;123456789&quot;\n                    }\n                      }\n  }\n\n\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;soapenv:Envelope\n    xmlns=&quot;urn:core_2018_1.platform.webservices.netsuite.com&quot;&gt;\n    &lt;soapenv:Header&gt;\n        &lt;ns2:tokenPassport&gt;\n            &lt;account&gt;******&lt;/account&gt;\n        &lt;/ns2:tokenPassport&gt;\n        &lt;ns2:preferences&gt;\n            &lt;ns2:warningAsError&gt;false&lt;/ns2:warningAsError&gt;\n        &lt;/ns2:preferences&gt;\n    &lt;/soapenv:Header&gt;\n    &lt;soapenv:Body&gt;\n        &lt;ns2:update&gt;\n            &lt;ns2:record\n                xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:type=&quot;ns6:Customer&quot; internalId=&quot;123456&quot;&gt;  \n                &lt;ns6:customFieldList&gt;\n                    &lt;customField xsi:type=&quot;SelectCustomFieldRef&quot; scriptId=&quot;custentitystatus&quot;&gt;\n                        &lt;value internalId=&quot;2&quot;/&gt;\n                    &lt;/customField&gt;\n                    &lt;customField xsi:type=&quot;StringCustomFieldRef&quot; scriptId=&quot;custentitymessage&quot;&gt;\n                        &lt;value&gt;Execution Successful&lt;/value&gt;\n                    &lt;/customField&gt;\n                &lt;/ns6:customFieldList&gt;\n            &lt;/ns2:record&gt;\n        &lt;/ns2:update&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":11330248,"reputation":140,"user_id":8307997,"display_name":"Yonggan"},"score":0,"creation_date":1585142483,"post_id":60849692,"comment_id":107658379,"body_markdown":"Did you loaded the MongoDB Java Driver?\nAnd which version did you loaded?\nDid you added it to your classpath?","body":"Did you loaded the MongoDB Java Driver? And which version did you loaded? Did you added it to your classpath?"},{"owner":{"account_id":16854542,"reputation":101,"user_id":13050733,"display_name":"Jackson"},"score":0,"creation_date":1585143080,"post_id":60849692,"comment_id":107658709,"body_markdown":"Yes I have loaded the driver. I am using mongodb-driver-3.6.4","body":"Yes I have loaded the driver. I am using mongodb-driver-3.6.4"},{"owner":{"account_id":11330248,"reputation":140,"user_id":8307997,"display_name":"Yonggan"},"score":0,"creation_date":1585143155,"post_id":60849692,"comment_id":107658753,"body_markdown":"Maybe try with an update to 4.0.1","body":"Maybe try with an update to 4.0.1"},{"owner":{"account_id":16854542,"reputation":101,"user_id":13050733,"display_name":"Jackson"},"score":0,"creation_date":1585144516,"post_id":60849692,"comment_id":107659601,"body_markdown":"Ok will try. Thank you!","body":"Ok will try. Thank you!"},{"owner":{"account_id":16854542,"reputation":101,"user_id":13050733,"display_name":"Jackson"},"score":0,"creation_date":1585197031,"post_id":60849692,"comment_id":107679466,"body_markdown":"I updated the driver version to 3.12.2, it worked. Thank you @Yonngan","body":"I updated the driver version to 3.12.2, it worked. Thank you @Yonngan"},{"owner":{"account_id":113024,"reputation":4516,"user_id":297907,"accept_rate":56,"display_name":"StackOverFlow"},"score":0,"creation_date":1614713416,"post_id":60849692,"comment_id":117467964,"body_markdown":"@Jackson Not worked for me. could you please add pom.xml ?","body":"@Jackson Not worked for me. could you please add pom.xml ?"},{"owner":{"account_id":296832,"reputation":1300,"user_id":602018,"display_name":"42n4"},"score":0,"creation_date":1622206735,"post_id":60849692,"comment_id":119732821,"body_markdown":"For me it worked for org.mongodb.scala:mongo-scala-driver_2.11:2.9.0","body":"For me it worked for org.mongodb.scala:mongo-scala-driver_2.11:2.9.0"}],"answers":[{"tags":[],"owner":{"account_id":18535068,"reputation":31,"user_id":13505473,"display_name":"Yihui Wang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619342986,"creation_date":1619342986,"answer_id":67251810,"question_id":60849692,"body_markdown":"This may be a conflict and confusion caused by several mongodb-driver jar file that system detected. I just solve the similar problem--`NoSuchMethodError` with disabling mongodb-driver-sync and using spring-boot-starter-data-mongodb in pom.xml like the following one:\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;4.2.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n``` ","title":"java.lang.NoSuchMethodError: com.mongodb.connection.DefaultClusterFactory.createCluster","body":"<p>This may be a conflict and confusion caused by several mongodb-driver jar file that system detected. I just solve the similar problem--<code>NoSuchMethodError</code> with disabling mongodb-driver-sync and using spring-boot-starter-data-mongodb in pom.xml like the following one:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;4.2.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24851249,"reputation":1,"user_id":18728154,"display_name":"Shantanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649656050,"creation_date":1649656050,"answer_id":71823178,"question_id":60849692,"body_markdown":"There are multiple mongodb-driver in your sbt file. In my case, it was\r\n```sbt\r\nlibraryDependencies += &quot;org.mongodb.scala&quot; %% &quot;mongo-scala-driver&quot; % &quot;4.5.1&quot;\r\nlibraryDependencies += &quot;org.mongodb.spark&quot; %% &quot;mongo-spark-connector&quot; % &quot;3.0.1&quot;\r\n```\r\nRemove `mongo-scala-driver` dependency such that final build will look like this\r\n```sbt\r\nlibraryDependencies += &quot;org.mongodb.spark&quot; %% &quot;mongo-spark-connector&quot; % &quot;3.0.1&quot;\r\n```","title":"java.lang.NoSuchMethodError: com.mongodb.connection.DefaultClusterFactory.createCluster","body":"<p>There are multiple mongodb-driver in your sbt file. In my case, it was</p>\n<pre><code>libraryDependencies += &quot;org.mongodb.scala&quot; %% &quot;mongo-scala-driver&quot; % &quot;4.5.1&quot;\nlibraryDependencies += &quot;org.mongodb.spark&quot; %% &quot;mongo-spark-connector&quot; % &quot;3.0.1&quot;\n</code></pre>\n<p>Remove <code>mongo-scala-driver</code> dependency such that final build will look like this</p>\n<pre><code>libraryDependencies += &quot;org.mongodb.spark&quot; %% &quot;mongo-spark-connector&quot; % &quot;3.0.1&quot;\n</code></pre>\n"}],"owner":{"account_id":16854542,"reputation":101,"user_id":13050733,"display_name":"Jackson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6759,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1649656050,"creation_date":1585142355,"question_id":60849692,"body_markdown":"I am trying to connect MongoDB with Java. This is my code\r\n\r\n        MongoCredential mongoCredential;\r\n    \tmongoCredential = MongoCredential.createCredential(&lt;uname&gt;, &lt;dbname&gt;, &lt;password&gt;);\r\n    \tList&lt;ServerAddress&gt; list = Arrays.asList(new ServerAddress(&quot;localhost&quot;, 27017));\r\n    \t\r\n    \tMongoClientSettings.Builder mongoClientSettingsBuilder = MongoClientSettings.builder()\r\n                .credential(mongoCredential)\r\n                .applyToClusterSettings(builder -&gt; builder.hosts(list));\r\n    \t\r\n    \tMongoClientSettings settings = mongoClientSettingsBuilder.build();\t\t\r\n     \r\n\r\n\r\nExecuting this I get the error \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.mongodb.connection.DefaultClusterFactory.createCluster(Lcom/mongodb/connection/ClusterSettings;Lcom/mongodb/connection/ServerSettings;Lcom/mongodb/connection/ConnectionPoolSettings;Lcom/mongodb/connection/StreamFactory;Lcom/mongodb/connection/StreamFactory;Ljava/util/List;Lcom/mongodb/event/CommandListener;Ljava/lang/String;Lcom/mongodb/MongoDriverInformation;Ljava/util/List;)Lcom/mongodb/connection/Cluster;\r\n\r\n\r\nI do not know what is the reason for this. Can someone help me out with this\r\n","title":"java.lang.NoSuchMethodError: com.mongodb.connection.DefaultClusterFactory.createCluster","body":"<p>I am trying to connect MongoDB with Java. This is my code</p>\n\n<pre><code>    MongoCredential mongoCredential;\n    mongoCredential = MongoCredential.createCredential(&lt;uname&gt;, &lt;dbname&gt;, &lt;password&gt;);\n    List&lt;ServerAddress&gt; list = Arrays.asList(new ServerAddress(\"localhost\", 27017));\n\n    MongoClientSettings.Builder mongoClientSettingsBuilder = MongoClientSettings.builder()\n            .credential(mongoCredential)\n            .applyToClusterSettings(builder -&gt; builder.hosts(list));\n\n    MongoClientSettings settings = mongoClientSettingsBuilder.build();      \n</code></pre>\n\n<p>Executing this I get the error </p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: com.mongodb.connection.DefaultClusterFactory.createCluster(Lcom/mongodb/connection/ClusterSettings;Lcom/mongodb/connection/ServerSettings;Lcom/mongodb/connection/ConnectionPoolSettings;Lcom/mongodb/connection/StreamFactory;Lcom/mongodb/connection/StreamFactory;Ljava/util/List;Lcom/mongodb/event/CommandListener;Ljava/lang/String;Lcom/mongodb/MongoDriverInformation;Ljava/util/List;)Lcom/mongodb/connection/Cluster;\n</code></pre>\n\n<p>I do not know what is the reason for this. Can someone help me out with this</p>\n"},{"tags":["java","xml-parsing"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1649656135,"post_id":71823144,"comment_id":126921760,"body_markdown":"See https://docs.oracle.com/javase/tutorial/jaxp/stax/why.html -&gt; **Comparing StAX to Other JAXP APIs** -&gt; XPath Capability","body":"See <a href=\"https://docs.oracle.com/javase/tutorial/jaxp/stax/why.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jaxp/stax/why.html</a> -&gt; <b>Comparing StAX to Other JAXP APIs</b> -&gt; XPath Capability"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1649675467,"post_id":71823144,"comment_id":126928200,"body_markdown":"Without knowing your use case the answer is simply no. XPath expressions usually operate on the whole document. So you need the whole document in memory. You can use a XML database like [BaseX](https://basex.org) for big documents and query them with XQuery which is a superset of XPath. Or you can read the XML using StAX and store the data fields in a relational database like SQLite or PostgreSQL and implement your queries in SQL. There may be thousand other ways depending on your use case.","body":"Without knowing your use case the answer is simply no. XPath expressions usually operate on the whole document. So you need the whole document in memory. You can use a XML database like <a href=\"https://basex.org\" rel=\"nofollow noreferrer\">BaseX</a> for big documents and query them with XQuery which is a superset of XPath. Or you can read the XML using StAX and store the data fields in a relational database like SQLite or PostgreSQL and implement your queries in SQL. There may be thousand other ways depending on your use case."},{"owner":{"account_id":16553014,"reputation":1,"user_id":15284525,"display_name":"RajKishore"},"score":0,"creation_date":1649746562,"post_id":71823144,"comment_id":126947632,"body_markdown":"@vanje actually we have the whole document in the form of String, need to fetch the required details using XPATHs, but currently, we are experiencing out of memory error, as more  data in memory,  so planning to exploring in StAX whether it will help to handle out of memory issue","body":"@vanje actually we have the whole document in the form of String, need to fetch the required details using XPATHs, but currently, we are experiencing out of memory error, as more  data in memory,  so planning to exploring in StAX whether it will help to handle out of memory issue"}],"owner":{"account_id":16553014,"reputation":1,"user_id":15284525,"display_name":"RajKishore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649655722,"creation_date":1649655722,"question_id":71823144,"body_markdown":"Can we use a StAX parser for parsing data using paths? why because I think we can&#39;t do Stax parser to parse data from xml paths?","title":"Can we use StAX parser for parsing data using xpaths?","body":"<p>Can we use a StAX parser for parsing data using paths? why because I think we can't do Stax parser to parse data from xml paths?</p>\n"},{"tags":["java","android","kotlin","logging","text"],"comments":[{"owner":{"account_id":11547848,"reputation":1276,"user_id":8461344,"display_name":"Code Demon"},"score":0,"creation_date":1633361051,"post_id":69438460,"comment_id":122733257,"body_markdown":"Your question is abit unclear .Are you refering to an android applications logs stacktrace or the actual Android studio applications logs?","body":"Your question is abit unclear .Are you refering to an android applications logs stacktrace or the actual Android studio applications logs?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1633365506,"post_id":69438460,"comment_id":122735064,"body_markdown":"Do you only want traces from crashes?","body":"Do you only want traces from crashes?"},{"owner":{"account_id":22938738,"reputation":11,"user_id":17071830,"display_name":"Abdul Qayoom"},"score":0,"creation_date":1633417618,"post_id":69438460,"comment_id":122746996,"body_markdown":"Not only creashes but i want to save all logs save into logs file that file create in device internal storage .","body":"Not only creashes but i want to save all logs save into logs file that file create in device internal storage ."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633797418,"post_id":69438460,"comment_id":122858692,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":2660064,"reputation":2233,"user_id":2299978,"accept_rate":55,"display_name":"farhad.kargaran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649655539,"creation_date":1649655539,"answer_id":71823119,"question_id":69438460,"body_markdown":"First implement a crash reported for your app, when ever you need to save stack trace, manually create a division by zero crash. When you start your app again, stack trace is available for you. Here the crash reporter displays a dialog and ask user to email the stack trace, you can save it to a file instead of displaying the dialog!\r\n\r\nHere is a full explanation for setup your own crash reporter, it will show a dialog like this to the user when your app starts again and asks him/her to send the log with email:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n1- Create a class names UnexpectedCrashSaver:\r\n\r\n    public class UnexpectedCrashSaver implements Thread.UncaughtExceptionHandler {\r\n    private Thread.UncaughtExceptionHandler defaultUEH;\r\n    private Context app = null;\r\n    public UnexpectedCrashSaver(Context app) {\r\n        this.defaultUEH = Thread.getDefaultUncaughtExceptionHandler();\r\n        this.app = app;\r\n    }\r\n    public void uncaughtException(Thread t, Throwable e) {\r\n        StackTraceElement[] arr = e.getStackTrace();\r\n        String report = e.toString()+&quot;\\n\\n&quot;;\r\n        report += &quot;--------- Stack trace ---------\\n\\n&quot;;\r\n        for (int i=0; i&lt;arr.length; i++) {\r\n            report += &quot;    &quot;+arr[i].toString()+&quot;\\n&quot;;\r\n        }\r\n        report += &quot;-------------------------------\\n\\n&quot;;\r\n        App.instance().toastShort(&quot;saving!&quot;);\r\n\r\n        report += &quot;--------- Cause ---------\\n\\n&quot;;\r\n        Throwable cause = e.getCause();\r\n        if(cause != null) {\r\n            report += cause.toString() + &quot;\\n\\n&quot;;\r\n            arr = cause.getStackTrace();\r\n            for (int i=0; i&lt;arr.length; i++) {\r\n                report += &quot;    &quot;+arr[i].toString()+&quot;\\n&quot;;\r\n            }\r\n        }\r\n        report += &quot;-------------------------------\\n\\n&quot;;\r\n        try {\r\n            FileOutputStream trace = app.openFileOutput(&quot;stack.trace&quot;,\r\n                    Context.MODE_PRIVATE);\r\n            trace.write(report.getBytes());\r\n            trace.close();\r\n        } catch(IOException ioe) {\r\n            // ...\r\n        }\r\n        defaultUEH.uncaughtException(t, e);\r\n    }\r\n    }\r\n2- Add this line to your onCreate() method of Application class:\r\n\r\n            Thread.setDefaultUncaughtExceptionHandler(new UnexpectedCrashSaver(this));\r\n\r\nif you don&#39;t have application class add this code to your onCreate() method of all activities: (if you have BaseActivity just put it in onCreate() method of BaseActivity\r\n\r\n    Thread.setDefaultUncaughtExceptionHandler(new UnexpectedCrashSaver(ActivityName.this));\r\n\r\n3- create a layout named checkbox.xml:\r\n\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot; &gt;\r\n\r\n    &lt;CheckBox\r\n        android:id=&quot;@+id/checkbox&quot;\r\n        style=&quot;?android:attr/textAppearanceMedium&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;5dp&quot; /&gt;\r\n     &lt;/FrameLayout&gt;\r\n\r\n4- Add the following method to your MainActivity class:\r\n\r\n     private void checkForCrash()\r\n    {\r\n        SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);\r\n        boolean crash_never_ask_again = preferences.getBoolean(&quot;crash_never_ask_again&quot;, false);\r\n        if(crash_never_ask_again)//Previously user check the checkbox of never ask me again about sending crash dialog\r\n            return;\r\n        String dialog_message = &quot;In the last run, the program encountered an error, we apologize for this, you can kindly send us the error information to fix this error in future updates.&quot;;\r\n        String button_positive_text = &quot;Send&quot;;\r\n        String button_negative_text = &quot;Close&quot;;\r\n        String checkbox_text = &quot;Never ask again&quot;;\r\n        String email = &quot;crashreport@example.com&quot;;\r\n\r\n        String line;\r\n        String trace=&quot;&quot;;\r\n        try {\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(MainActivity.this.openFileInput(&quot;stack.trace&quot;)));\r\n            while((line = reader.readLine()) != null) {\r\n                trace += line+&quot;\\n&quot;;\r\n            }\r\n        } catch(FileNotFoundException fnfe) {\r\n            // ...\r\n        } catch(IOException ioe) {\r\n            // ...\r\n        }\r\n        if(trace.length() &lt; 10)//We didn&#39;t have any crash\r\n            return;\r\n\r\n        View checkBoxView = View.inflate(this, R.layout.checkbox, null);\r\n        CheckBox checkBox =  checkBoxView.findViewById(R.id.checkbox);\r\n        checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                SharedPreferences.Editor editor = preferences.edit();\r\n                editor.putBoolean(&quot;checkbox_checked&quot;,true);\r\n                editor.apply();\r\n            }\r\n        });\r\n        checkBox.setText(checkbox_text);\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\r\n        builder.setCancelable(true);\r\n        //builder.setIcon(R.drawable.ic_setting);\r\n        builder.setMessage(dialog_message);\r\n        builder.setView(checkBoxView);\r\n        builder.setCancelable(false);\r\n        String finalTrace = trace;\r\n        builder.setPositiveButton(button_positive_text, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                Intent sendIntent = new Intent(Intent.ACTION_SEND);\r\n                String subject = &quot;Error report&quot;;\r\n                String body = &quot;Mail this to appdeveloper@gmail.com: &quot; + &quot;\\n&quot; + finalTrace + &quot;\\n&quot;;\r\n\r\n                sendIntent.putExtra(Intent.EXTRA_EMAIL, new String[] {email});\r\n                sendIntent.putExtra(Intent.EXTRA_TEXT, body);\r\n                sendIntent.putExtra(Intent.EXTRA_SUBJECT, subject);\r\n                sendIntent.setType(&quot;message/rfc822&quot;);\r\n                MainActivity.this.startActivity(Intent.createChooser(sendIntent, &quot;Title:&quot;));\r\n                MainActivity.this.deleteFile(&quot;stack.trace&quot;);\r\n            }\r\n        });\r\n        builder.setNegativeButton(button_negative_text, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                MainActivity.this.deleteFile(&quot;stack.trace&quot;);\r\n                boolean checkbox_checked = preferences.getBoolean(&quot;checkbox_checked&quot;, false);\r\n                if(checkbox_checked)\r\n                {\r\n                    SharedPreferences.Editor editor = preferences.edit();\r\n                    editor.putBoolean(&quot;crash_never_ask_again&quot;,true);\r\n                    editor.apply();\r\n                }\r\n                    dialog.dismiss();\r\n            }\r\n        });\r\n        AlertDialog alert = builder.create();\r\n        alert.show();\r\n\r\n    }\r\n\r\n5- call the method created in step 4 in onCreate method of MainActivity:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        checkForCrash();\r\n        setContentView(R.layout.activity_main);\r\n        //...\r\n\r\nThats all!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xEEit.jpg","title":"how to save android studio stacktrace Logs into text file in device internal Storage","body":"<p>First implement a crash reported for your app, when ever you need to save stack trace, manually create a division by zero crash. When you start your app again, stack trace is available for you. Here the crash reporter displays a dialog and ask user to email the stack trace, you can save it to a file instead of displaying the dialog!</p>\n<p>Here is a full explanation for setup your own crash reporter, it will show a dialog like this to the user when your app starts again and asks him/her to send the log with email:</p>\n<p><a href=\"https://i.stack.imgur.com/xEEit.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xEEit.jpg\" alt=\"enter image description here\" /></a></p>\n<p>1- Create a class names UnexpectedCrashSaver:</p>\n<pre><code>public class UnexpectedCrashSaver implements Thread.UncaughtExceptionHandler {\nprivate Thread.UncaughtExceptionHandler defaultUEH;\nprivate Context app = null;\npublic UnexpectedCrashSaver(Context app) {\n    this.defaultUEH = Thread.getDefaultUncaughtExceptionHandler();\n    this.app = app;\n}\npublic void uncaughtException(Thread t, Throwable e) {\n    StackTraceElement[] arr = e.getStackTrace();\n    String report = e.toString()+&quot;\\n\\n&quot;;\n    report += &quot;--------- Stack trace ---------\\n\\n&quot;;\n    for (int i=0; i&lt;arr.length; i++) {\n        report += &quot;    &quot;+arr[i].toString()+&quot;\\n&quot;;\n    }\n    report += &quot;-------------------------------\\n\\n&quot;;\n    App.instance().toastShort(&quot;saving!&quot;);\n\n    report += &quot;--------- Cause ---------\\n\\n&quot;;\n    Throwable cause = e.getCause();\n    if(cause != null) {\n        report += cause.toString() + &quot;\\n\\n&quot;;\n        arr = cause.getStackTrace();\n        for (int i=0; i&lt;arr.length; i++) {\n            report += &quot;    &quot;+arr[i].toString()+&quot;\\n&quot;;\n        }\n    }\n    report += &quot;-------------------------------\\n\\n&quot;;\n    try {\n        FileOutputStream trace = app.openFileOutput(&quot;stack.trace&quot;,\n                Context.MODE_PRIVATE);\n        trace.write(report.getBytes());\n        trace.close();\n    } catch(IOException ioe) {\n        // ...\n    }\n    defaultUEH.uncaughtException(t, e);\n}\n}\n</code></pre>\n<p>2- Add this line to your onCreate() method of Application class:</p>\n<pre><code>        Thread.setDefaultUncaughtExceptionHandler(new UnexpectedCrashSaver(this));\n</code></pre>\n<p>if you don't have application class add this code to your onCreate() method of all activities: (if you have BaseActivity just put it in onCreate() method of BaseActivity</p>\n<pre><code>Thread.setDefaultUncaughtExceptionHandler(new UnexpectedCrashSaver(ActivityName.this));\n</code></pre>\n<p>3- create a layout named checkbox.xml:</p>\n<pre><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot; &gt;\n\n&lt;CheckBox\n    android:id=&quot;@+id/checkbox&quot;\n    style=&quot;?android:attr/textAppearanceMedium&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;5dp&quot; /&gt;\n &lt;/FrameLayout&gt;\n</code></pre>\n<p>4- Add the following method to your MainActivity class:</p>\n<pre><code> private void checkForCrash()\n{\n    SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);\n    boolean crash_never_ask_again = preferences.getBoolean(&quot;crash_never_ask_again&quot;, false);\n    if(crash_never_ask_again)//Previously user check the checkbox of never ask me again about sending crash dialog\n        return;\n    String dialog_message = &quot;In the last run, the program encountered an error, we apologize for this, you can kindly send us the error information to fix this error in future updates.&quot;;\n    String button_positive_text = &quot;Send&quot;;\n    String button_negative_text = &quot;Close&quot;;\n    String checkbox_text = &quot;Never ask again&quot;;\n    String email = &quot;crashreport@example.com&quot;;\n\n    String line;\n    String trace=&quot;&quot;;\n    try {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(MainActivity.this.openFileInput(&quot;stack.trace&quot;)));\n        while((line = reader.readLine()) != null) {\n            trace += line+&quot;\\n&quot;;\n        }\n    } catch(FileNotFoundException fnfe) {\n        // ...\n    } catch(IOException ioe) {\n        // ...\n    }\n    if(trace.length() &lt; 10)//We didn't have any crash\n        return;\n\n    View checkBoxView = View.inflate(this, R.layout.checkbox, null);\n    CheckBox checkBox =  checkBoxView.findViewById(R.id.checkbox);\n    checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n            SharedPreferences.Editor editor = preferences.edit();\n            editor.putBoolean(&quot;checkbox_checked&quot;,true);\n            editor.apply();\n        }\n    });\n    checkBox.setText(checkbox_text);\n\n    AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\n    builder.setCancelable(true);\n    //builder.setIcon(R.drawable.ic_setting);\n    builder.setMessage(dialog_message);\n    builder.setView(checkBoxView);\n    builder.setCancelable(false);\n    String finalTrace = trace;\n    builder.setPositiveButton(button_positive_text, new DialogInterface.OnClickListener() {\n        @Override\n        public void onClick(DialogInterface dialog, int which) {\n            Intent sendIntent = new Intent(Intent.ACTION_SEND);\n            String subject = &quot;Error report&quot;;\n            String body = &quot;Mail this to appdeveloper@gmail.com: &quot; + &quot;\\n&quot; + finalTrace + &quot;\\n&quot;;\n\n            sendIntent.putExtra(Intent.EXTRA_EMAIL, new String[] {email});\n            sendIntent.putExtra(Intent.EXTRA_TEXT, body);\n            sendIntent.putExtra(Intent.EXTRA_SUBJECT, subject);\n            sendIntent.setType(&quot;message/rfc822&quot;);\n            MainActivity.this.startActivity(Intent.createChooser(sendIntent, &quot;Title:&quot;));\n            MainActivity.this.deleteFile(&quot;stack.trace&quot;);\n        }\n    });\n    builder.setNegativeButton(button_negative_text, new DialogInterface.OnClickListener() {\n        @Override\n        public void onClick(DialogInterface dialog, int which) {\n            MainActivity.this.deleteFile(&quot;stack.trace&quot;);\n            boolean checkbox_checked = preferences.getBoolean(&quot;checkbox_checked&quot;, false);\n            if(checkbox_checked)\n            {\n                SharedPreferences.Editor editor = preferences.edit();\n                editor.putBoolean(&quot;crash_never_ask_again&quot;,true);\n                editor.apply();\n            }\n                dialog.dismiss();\n        }\n    });\n    AlertDialog alert = builder.create();\n    alert.show();\n\n}\n</code></pre>\n<p>5- call the method created in step 4 in onCreate method of MainActivity:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    checkForCrash();\n    setContentView(R.layout.activity_main);\n    //...\n</code></pre>\n<p>Thats all!</p>\n"}],"owner":{"account_id":22938738,"reputation":11,"user_id":17071830,"display_name":"Abdul Qayoom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649655539,"creation_date":1633360712,"question_id":69438460,"body_markdown":"Is it possible to  Save Android Studio stack trace log into text file in device storage for tracing error and bugs in real device ?\r\nI want save All Android Studio logs into text programmatically.\r\n\r\nHow can i implement locally logging system in android Application.","title":"how to save android studio stacktrace Logs into text file in device internal Storage","body":"<p>Is it possible to  Save Android Studio stack trace log into text file in device storage for tracing error and bugs in real device ?\nI want save All Android Studio logs into text programmatically.</p>\n<p>How can i implement locally logging system in android Application.</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":11337142,"reputation":424,"user_id":8312606,"display_name":"SauriBabu"},"score":1,"creation_date":1601189061,"post_id":46447119,"comment_id":113324374,"body_markdown":"If you are committing offset at Consumer side after record has been indexed onto ES then you dont have to worry about &#39;consume the record from where I last left&#39; (your 2nd prblem). As when ES is down , you wont be able to index, you wont commit the offset hence again kakfka will retry you will receive same message.","body":"If you are committing offset at Consumer side after record has been indexed onto ES then you dont have to worry about &#39;consume the record from where I last left&#39; (your 2nd prblem). As when ES is down , you wont be able to index, you wont commit the offset hence again kakfka will retry you will receive same message."},{"owner":{"account_id":2212850,"reputation":346,"user_id":1954197,"display_name":"Vish"},"score":0,"creation_date":1664862515,"post_id":46447119,"comment_id":130561346,"body_markdown":"I too facing the same issue with Spring Boot. Any idea?","body":"I too facing the same issue with Spring Boot. Any idea?"}],"answers":[{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506519528,"creation_date":1506515053,"answer_id":46447801,"question_id":46447119,"body_markdown":"There are sevaral solutions possible, one simple way would be to use the KafkaConsumer API. In KafkaConsumer implementation keeps track of the position on the topic which will be retrieved with the next call to poll(...). Your problem is after you get the record from Kafka, you may be unable to insert it into Elastic Search. In this case, you have to write a routine to reset the position of the consumer, which in your case will be consumer.seek(partition, consumer.position(partition)-1). This will reset the position to the earlier position. At this point a good approach would be to pause the partition (this will enable the server to do some resource clean up) and then poll the ES (by whatever mechanism you desire). Once ES is available, call resume on the consumer and continue with your usual poll-insert cycle.\r\n\r\nEDITED AFTER DISCUSSION\r\n\r\nCreate a spring bean with the lifecycle methods specified. In the initialization method of the bean instantiate your KafkaConsumer (retrieve the configuration of consumer from any source). From the method start a thread to interact with consumer and update ES, rest of the design is as per above. This is a single thred model. For higher throughput consider keeping the data retrieved from Kafka in small in memory queue and a dispatcher thread to take the message and give it to a pooled thread for updating ES.","title":"How to pause a kafka consumer?","body":"<p>There are sevaral solutions possible, one simple way would be to use the KafkaConsumer API. In KafkaConsumer implementation keeps track of the position on the topic which will be retrieved with the next call to poll(...). Your problem is after you get the record from Kafka, you may be unable to insert it into Elastic Search. In this case, you have to write a routine to reset the position of the consumer, which in your case will be consumer.seek(partition, consumer.position(partition)-1). This will reset the position to the earlier position. At this point a good approach would be to pause the partition (this will enable the server to do some resource clean up) and then poll the ES (by whatever mechanism you desire). Once ES is available, call resume on the consumer and continue with your usual poll-insert cycle.</p>\n\n<p>EDITED AFTER DISCUSSION</p>\n\n<p>Create a spring bean with the lifecycle methods specified. In the initialization method of the bean instantiate your KafkaConsumer (retrieve the configuration of consumer from any source). From the method start a thread to interact with consumer and update ES, rest of the design is as per above. This is a single thred model. For higher throughput consider keeping the data retrieved from Kafka in small in memory queue and a dispatcher thread to take the message and give it to a pooled thread for updating ES.</p>\n"},{"tags":[],"owner":{"account_id":7912612,"reputation":21,"user_id":5976172,"display_name":"Aazadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515025283,"creation_date":1515014329,"answer_id":48085260,"question_id":46447119,"body_markdown":"I would suggest rather pausing consumer , why can&#39;t you retry the same message again and again and commit offset once message is consumed successfully.\r\n\r\nFor Example:\r\n\r\nAnnotate your method with `@Retryable` \r\n\r\nAnd block your method with try/catch and throw new exception in catch block.\r\n\r\nFor ListenerFactory configuration add property:\r\n\r\n    factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\r\n    factory.getContainerProperties().setAckOnError(false);\r\n\r\n","title":"How to pause a kafka consumer?","body":"<p>I would suggest rather pausing consumer , why can't you retry the same message again and again and commit offset once message is consumed successfully.</p>\n\n<p>For Example:</p>\n\n<p>Annotate your method with <code>@Retryable</code> </p>\n\n<p>And block your method with try/catch and throw new exception in catch block.</p>\n\n<p>For ListenerFactory configuration add property:</p>\n\n<pre><code>factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\nfactory.getContainerProperties().setAckOnError(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4837085,"reputation":1935,"user_id":3903366,"accept_rate":55,"display_name":"Bikas Katwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633811305,"creation_date":1633811305,"answer_id":69510348,"question_id":46447119,"body_markdown":"There are a couple of ways you can achieve this. \r\n\r\n**Method #1**\r\n\r\nCreate your `KafkaConsumer` object inside a Thread and run an infinite `while` loop to consume events. \r\n\r\nOnce you have this setup you can interrupt the thread and in the `while` loop, have check if `Thread.interrupt()` is `true`. If yes, break out of the loop and close the consumer. \r\n\r\nOnce you are done with your recovery activity, recreate the consumer with the same group ID. Do note, this may rebalance the consumer. \r\n\r\nIf you are using python same thing can be achieved using threads `stop_event`.\r\n\r\n**Method #2**\r\n\r\nUse KafkaConumer APIs `pause(partitions_list)` function. It accepts Kafka partitions as input. So, extract all the portions assigned to the consumer and pass these portions to the `pause(partitions_list)` function. The consumer will stop pulling data from these partitions. \r\n\r\nAfter a certain time, you can use the `resume(partitions_list)` function to resume the consumer. This method will not rebalance consumers. \r\n\r\nNote: If you are using the Spring Kafka client. This becomes a lot easier. You can start/stop the Message Listener Container. \r\n\r\nYou can find a detailed explanation [here][1].\r\n\r\n\r\n  [1]: https://bikas-katwal.medium.com/start-stop-kafka-consumers-or-subscribe-to-new-topic-programmatically-using-spring-kafka-2d4fb77c9117","title":"How to pause a kafka consumer?","body":"<p>There are a couple of ways you can achieve this.</p>\n<p><strong>Method #1</strong></p>\n<p>Create your <code>KafkaConsumer</code> object inside a Thread and run an infinite <code>while</code> loop to consume events.</p>\n<p>Once you have this setup you can interrupt the thread and in the <code>while</code> loop, have check if <code>Thread.interrupt()</code> is <code>true</code>. If yes, break out of the loop and close the consumer.</p>\n<p>Once you are done with your recovery activity, recreate the consumer with the same group ID. Do note, this may rebalance the consumer.</p>\n<p>If you are using python same thing can be achieved using threads <code>stop_event</code>.</p>\n<p><strong>Method #2</strong></p>\n<p>Use KafkaConumer APIs <code>pause(partitions_list)</code> function. It accepts Kafka partitions as input. So, extract all the portions assigned to the consumer and pass these portions to the <code>pause(partitions_list)</code> function. The consumer will stop pulling data from these partitions.</p>\n<p>After a certain time, you can use the <code>resume(partitions_list)</code> function to resume the consumer. This method will not rebalance consumers.</p>\n<p>Note: If you are using the Spring Kafka client. This becomes a lot easier. You can start/stop the Message Listener Container.</p>\n<p>You can find a detailed explanation <a href=\"https://bikas-katwal.medium.com/start-stop-kafka-consumers-or-subscribe-to-new-topic-programmatically-using-spring-kafka-2d4fb77c9117\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":3311832,"reputation":390,"user_id":2785156,"accept_rate":17,"display_name":"Chetan Gowda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649655520,"creation_date":1649655520,"answer_id":71823117,"question_id":46447119,"body_markdown":"    Autowired\r\n    private KafkaListenerEndpointRegistry registry;\r\n\r\n\r\n    KafkaListener(id = &quot;dltGroup&quot;, topics = &quot;actualTopicNAme.DLT&quot;, autoStartup = &quot;false&quot;)\r\n    public void dltListen(String in) {\r\n        logger.info(&quot;Received from DLT: &quot; + in);\r\n    }\r\n\r\n\r\n    public void startKafka() {\r\n        // TODO if not running\r\n        registry.getListenerContainer(&quot;dltGroup&quot;).start();\r\n    }\r\n\r\n    public void resumeKafka() {\r\n        if (registry.getListenerContainer(&quot;dltGroup&quot;).isContainerPaused() || \r\n    registry.getListenerContainer(&quot;dltGroup&quot;).isPauseRequested()) {\r\n            registry.getListenerContainer(&quot;dltGroup&quot;).resume();\r\n        }\r\n    }\r\n\r\n    public void pauseKafka() {\r\n        if (registry.getListenerContainer(&quot;dltGroup&quot;).isRunning()) {\r\n            registry.getListenerContainer(&quot;dltGroup&quot;).pause();\r\n        }\r\n    }","title":"How to pause a kafka consumer?","body":"<pre><code>Autowired\nprivate KafkaListenerEndpointRegistry registry;\n\n\nKafkaListener(id = &quot;dltGroup&quot;, topics = &quot;actualTopicNAme.DLT&quot;, autoStartup = &quot;false&quot;)\npublic void dltListen(String in) {\n    logger.info(&quot;Received from DLT: &quot; + in);\n}\n\n\npublic void startKafka() {\n    // TODO if not running\n    registry.getListenerContainer(&quot;dltGroup&quot;).start();\n}\n\npublic void resumeKafka() {\n    if (registry.getListenerContainer(&quot;dltGroup&quot;).isContainerPaused() || \nregistry.getListenerContainer(&quot;dltGroup&quot;).isPauseRequested()) {\n        registry.getListenerContainer(&quot;dltGroup&quot;).resume();\n    }\n}\n\npublic void pauseKafka() {\n    if (registry.getListenerContainer(&quot;dltGroup&quot;).isRunning()) {\n        registry.getListenerContainer(&quot;dltGroup&quot;).pause();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8137070,"reputation":337,"user_id":6128394,"accept_rate":50,"display_name":"Vishal Mahuli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18375,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1649655520,"creation_date":1506512957,"question_id":46447119,"body_markdown":"I am using a Kafka producer - consumer model in my framework. The record consumed at the consumer end is later indexed onto the elasticsearch. Here i have a use case where if the ES is down, I will have to pause the kafka consumer until the ES is up, Once it is up, I need to resume the consumer and consume the record from where I last left.\r\nI don&#39;t think this can be achieved with @KafkaListener. Can anyone please give me a solution for this? I figured out that I need to write my own KafkaListenerContainer for this, but I am not able to implement it correctly. Any help would be much appreciated.","title":"How to pause a kafka consumer?","body":"<p>I am using a Kafka producer - consumer model in my framework. The record consumed at the consumer end is later indexed onto the elasticsearch. Here i have a use case where if the ES is down, I will have to pause the kafka consumer until the ES is up, Once it is up, I need to resume the consumer and consume the record from where I last left.\nI don't think this can be achieved with @KafkaListener. Can anyone please give me a solution for this? I figured out that I need to write my own KafkaListenerContainer for this, but I am not able to implement it correctly. Any help would be much appreciated.</p>\n"},{"tags":["java","spring","maven","weblogic"],"comments":[{"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"score":0,"creation_date":1409649192,"post_id":25607518,"comment_id":40024669,"body_markdown":"Could you show us your *web.xml* file?","body":"Could you show us your <i>web.xml</i> file?"}],"answers":[{"tags":[],"owner":{"account_id":3635224,"reputation":6579,"user_id":3030495,"accept_rate":100,"display_name":"hurricane"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1428524812,"creation_date":1409581126,"answer_id":25607823,"question_id":25607518,"body_markdown":"Your path is not correct. If you have a correct path and still get an error then is a mapping error.\r\nBut in this situation you have 404 error which means that path doesn&#39;t exist.\r\n\r\nChange your path to : `@Path(&quot;/test/rest/TestResultService/insertTestResult/&quot;)`\r\n\r\nThen if you have an error again you have to register your path to mapping conf.","title":"Spring error - springframework.web.client.HttpClientErrorException: 404 Not Found","body":"<p>Your path is not correct. If you have a correct path and still get an error then is a mapping error.\nBut in this situation you have 404 error which means that path doesn't exist.</p>\n\n<p>Change your path to : <code>@Path(\"/test/rest/TestResultService/insertTestResult/\")</code></p>\n\n<p>Then if you have an error again you have to register your path to mapping conf.</p>\n"},{"tags":[],"owner":{"account_id":10976325,"reputation":2127,"user_id":8293585,"display_name":"CodeWorld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649655346,"creation_date":1649655346,"answer_id":71823096,"question_id":25607518,"body_markdown":"Above answer gave me a direction!  \r\nIf you get this error while calling one microservice from another and you have implemented concept of `context path` for microservices.   \r\nConsider providing context path as well, as part of microservice endpoint while making call.  \r\n","title":"Spring error - springframework.web.client.HttpClientErrorException: 404 Not Found","body":"<p>Above answer gave me a direction!<br />\nIf you get this error while calling one microservice from another and you have implemented concept of <code>context path</code> for microservices.<br />\nConsider providing context path as well, as part of microservice endpoint while making call.</p>\n"}],"owner":{"account_id":156842,"reputation":751,"user_id":374386,"accept_rate":50,"display_name":"david"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122770,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":25607823,"answer_count":2,"score":13,"last_activity_date":1649655346,"creation_date":1409580081,"question_id":25607518,"body_markdown":"I&#39;m trying to pass an object to another class using *Spring* (I&#39;m not sure I&#39;m using the right terms, I&#39;m very new to *Spring*) this way:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    TestServicesUtils.getTemplate().postForLocation(\r\n         &quot;http://&quot;\r\n         + serverConfig\r\n         + &quot;:&quot;\r\n         + port\r\n         + &quot;/test/rest/TestResultService/insertTestResult/&quot;,\r\n        results); \r\n\r\nWhen I ran the program it gets to that line and it trows an `Exception`:\r\n\r\n    log4j:WARN No appenders could be found for logger (org.apache.commons.httpclient.HttpClient).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n    org.springframework.web.client.HttpClientErrorException: 404 Not Found\r\n            at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:76)\r\n\r\nThe class that&#39;s trying to connect to:\r\n\r\n&lt;!-- language: lang-java --&gt;    \r\n\r\n    @Service(&quot;TestRestImpl&quot;)\r\n    @Path(&quot;TestResultService&quot;)\r\n    @Produces(&quot;application/json&quot;)\r\n    public class TesttRestImpl implements TestResultRest \r\n    { \r\n        ...\r\n        @POST\r\n\t    @Override\r\n    \t@Path(&quot;/insertTestResult&quot;)\r\n    \t@Consumes(&quot;application/xml&quot;)\r\n\t    public void insertTestResult(TestRestCollection list) {\r\n\t\t    testresultservicedao.insertTestResult(list.getListOfResults());\r\n\t    }\r\n    }\r\n\t\r\nThe path seems to be fine, I don&#39;t know why it can&#39;t find the method.  Do I need to register the path? ","title":"Spring error - springframework.web.client.HttpClientErrorException: 404 Not Found","body":"<p>I'm trying to pass an object to another class using <em>Spring</em> (I'm not sure I'm using the right terms, I'm very new to <em>Spring</em>) this way:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>TestServicesUtils.getTemplate().postForLocation(\n     \"http://\"\n     + serverConfig\n     + \":\"\n     + port\n     + \"/test/rest/TestResultService/insertTestResult/\",\n    results); \n</code></pre>\n\n<p>When I ran the program it gets to that line and it trows an <code>Exception</code>:</p>\n\n<pre><code>log4j:WARN No appenders could be found for logger (org.apache.commons.httpclient.HttpClient).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\norg.springframework.web.client.HttpClientErrorException: 404 Not Found\n        at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:76)\n</code></pre>\n\n<p>The class that's trying to connect to:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Service(\"TestRestImpl\")\n@Path(\"TestResultService\")\n@Produces(\"application/json\")\npublic class TesttRestImpl implements TestResultRest \n{ \n    ...\n    @POST\n    @Override\n    @Path(\"/insertTestResult\")\n    @Consumes(\"application/xml\")\n    public void insertTestResult(TestRestCollection list) {\n        testresultservicedao.insertTestResult(list.getListOfResults());\n    }\n}\n</code></pre>\n\n<p>The path seems to be fine, I don't know why it can't find the method.  Do I need to register the path? </p>\n"},{"tags":["java","mysql","netbeans","derby"],"comments":[{"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"score":0,"creation_date":1649549212,"post_id":71804868,"comment_id":126903982,"body_markdown":"You add `;create=true` at the end of the ConnectionURL to create the database if it doesn&#39;t yet exist. Is that the question you are asking?","body":"You add <code>;create=true</code> at the end of the ConnectionURL to create the database if it doesn&#39;t yet exist. Is that the question you are asking?"},{"owner":{"account_id":21191927,"reputation":297,"user_id":15584261,"display_name":"ItzJvs"},"score":0,"creation_date":1649684149,"post_id":71804868,"comment_id":126931691,"body_markdown":"yes means i have to connect with the server and create my first database related to my project.. something like that .. means i dont want to specify the database in the getConnection() function..","body":"yes means i have to connect with the server and create my first database related to my project.. something like that .. means i dont want to specify the database in the getConnection() function.."},{"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"score":0,"creation_date":1649861529,"post_id":71804868,"comment_id":126983980,"body_markdown":"Possibly this is a *terminology* problem, and what you are looking for is the ability to have multiple *schemas* in a single *database*. See https://db.apache.org/derby/docs/10.15/ref/rrefsqlj31580.html","body":"Possibly this is a <i>terminology</i> problem, and what you are looking for is the ability to have multiple <i>schemas</i> in a single <i>database</i>. See <a href=\"https://db.apache.org/derby/docs/10.15/ref/rrefsqlj31580.html\" rel=\"nofollow noreferrer\">db.apache.org/derby/docs/10.15/ref/rrefsqlj31580.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1649475867,"creation_date":1649472971,"answer_id":71804930,"question_id":71804868,"body_markdown":"\r\n\r\n**Simple example : create a data base and a table based on input given by the user and insert some data in the table then fetch data and drop the table :**\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.Statement;\r\n    import java.util.Properties;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \r\n    \t\tString driver = &quot;org.apache.derby.jdbc.EmbeddedDriver&quot;;\r\n    \t\tString protocol = &quot;jdbc:derby:&quot;;\r\n    \t\tString dbName;\r\n    \t\tString tableName;\r\n    \r\n    \t\tSystem.out.println(&quot;Enter the Data Base name :&quot;);\r\n    \t\tdbName = sc.nextLine();\r\n    \r\n    \t\tSystem.out.println(&quot;Enter the table name :&quot;);\r\n    \t\ttableName = sc.nextLine();\r\n    \r\n    \t\tSystem.out.println(&quot;Starting&quot;);\r\n    \r\n    \t\tClass.forName(driver).newInstance();\r\n    \t\tSystem.out.println(&quot;Loaded the appropriate driver.&quot;);\r\n    \r\n    \t\tConnection conn = null;\r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.put(&quot;user&quot;, &quot;user1&quot;);\r\n    \t\tprops.put(&quot;password&quot;, &quot;user1&quot;);\r\n    \r\n    \t\tconn = DriverManager.getConnection(protocol + dbName + &quot;;create=true&quot;, props);\r\n    \t\tSystem.out.println(&quot;Connected to and created database &quot; + dbName);\r\n    \t\tconn.setAutoCommit(false);\r\n    \r\n    \t\tStatement s = conn.createStatement();\r\n    \r\n    \t\ts.execute(&quot;create table &quot; + tableName + &quot;(num int, addr varchar(40))&quot;);\r\n    \t\tSystem.out.println(&quot;Created table &quot; + tableName);\r\n    \t\ts.execute(&quot;insert into &quot; + tableName + &quot; values (1,&#39;LONDON&#39;)&quot;);\r\n    \t\ts.execute(&quot;insert into  &quot; + tableName + &quot; values (2,&#39;PARIS&#39;)&quot;);\r\n    \r\n    \t\tResultSet rs = s.executeQuery(&quot;SELECT num, addr FROM &quot; + tableName + &quot; ORDER BY num&quot;);\r\n    \t\tSystem.out.println(&quot;NUM&quot; + &quot;   &quot; + &quot;ADDRESS&quot;);\r\n    \t\trs.next();\r\n    \t\tSystem.out.println(rs.getInt(1) + &quot;       &quot; + rs.getString(2));\r\n    \t\trs.next();\r\n    \t\tSystem.out.println(rs.getInt(1) + &quot;       &quot; + rs.getString(2));\r\n    \r\n    \t\ts.execute(&quot;drop table &quot; + tableName);\r\n    \t\tSystem.out.println(&quot;Dropped table &quot; + tableName);\r\n    \r\n    \t\trs.close();\r\n    \t\ts.close();\r\n    \t\tSystem.out.println(&quot;Closed result set and statement&quot;);\r\n    \r\n    \t\tconn.commit();\r\n    \t\tconn.close();\r\n    \t\tSystem.out.println(&quot;Committed transaction and closed connection&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n**Output :**\r\n\r\n    Enter the Data Base name :\r\n    db\r\n    Enter the table name :\r\n    tb\r\n    Starting\r\n    Loaded the appropriate driver.\r\n    Connected to and created database db\r\n    Created table tb\r\n    NUM   ADDRESS\r\n    1       LONDON\r\n    2       PARIS\r\n    Dropped table tb\r\n    Closed result set and statement\r\n    Committed transaction and closed connection\r\n\r\n\r\nYou can follow instruction in https://svn.apache.org/repos/asf/db/derby/code/branches/10.1/java/demo/simple/SimpleApp.java\r\n\r\nSimpleApp.java is a demo java class given by ApacheDerby where you can find steps to create a DB using java code.\r\n\r\nIf needed start from here https://svn.apache.org/repos/asf/db/derby/code/branches/10.1/java/demo/simple/example.html\r\n","title":"How to create derby database using java code","body":"<p><strong>Simple example : create a data base and a table based on input given by the user and insert some data in the table then fetch data and drop the table :</strong></p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\nimport java.util.Properties;\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String args[]) throws Exception {\n        Scanner sc = new Scanner(System.in);\n\n        String driver = &quot;org.apache.derby.jdbc.EmbeddedDriver&quot;;\n        String protocol = &quot;jdbc:derby:&quot;;\n        String dbName;\n        String tableName;\n\n        System.out.println(&quot;Enter the Data Base name :&quot;);\n        dbName = sc.nextLine();\n\n        System.out.println(&quot;Enter the table name :&quot;);\n        tableName = sc.nextLine();\n\n        System.out.println(&quot;Starting&quot;);\n\n        Class.forName(driver).newInstance();\n        System.out.println(&quot;Loaded the appropriate driver.&quot;);\n\n        Connection conn = null;\n        Properties props = new Properties();\n        props.put(&quot;user&quot;, &quot;user1&quot;);\n        props.put(&quot;password&quot;, &quot;user1&quot;);\n\n        conn = DriverManager.getConnection(protocol + dbName + &quot;;create=true&quot;, props);\n        System.out.println(&quot;Connected to and created database &quot; + dbName);\n        conn.setAutoCommit(false);\n\n        Statement s = conn.createStatement();\n\n        s.execute(&quot;create table &quot; + tableName + &quot;(num int, addr varchar(40))&quot;);\n        System.out.println(&quot;Created table &quot; + tableName);\n        s.execute(&quot;insert into &quot; + tableName + &quot; values (1,'LONDON')&quot;);\n        s.execute(&quot;insert into  &quot; + tableName + &quot; values (2,'PARIS')&quot;);\n\n        ResultSet rs = s.executeQuery(&quot;SELECT num, addr FROM &quot; + tableName + &quot; ORDER BY num&quot;);\n        System.out.println(&quot;NUM&quot; + &quot;   &quot; + &quot;ADDRESS&quot;);\n        rs.next();\n        System.out.println(rs.getInt(1) + &quot;       &quot; + rs.getString(2));\n        rs.next();\n        System.out.println(rs.getInt(1) + &quot;       &quot; + rs.getString(2));\n\n        s.execute(&quot;drop table &quot; + tableName);\n        System.out.println(&quot;Dropped table &quot; + tableName);\n\n        rs.close();\n        s.close();\n        System.out.println(&quot;Closed result set and statement&quot;);\n\n        conn.commit();\n        conn.close();\n        System.out.println(&quot;Committed transaction and closed connection&quot;);\n    }\n}\n</code></pre>\n<p><strong>Output :</strong></p>\n<pre><code>Enter the Data Base name :\ndb\nEnter the table name :\ntb\nStarting\nLoaded the appropriate driver.\nConnected to and created database db\nCreated table tb\nNUM   ADDRESS\n1       LONDON\n2       PARIS\nDropped table tb\nClosed result set and statement\nCommitted transaction and closed connection\n</code></pre>\n<p>You can follow instruction in <a href=\"https://svn.apache.org/repos/asf/db/derby/code/branches/10.1/java/demo/simple/SimpleApp.java\" rel=\"nofollow noreferrer\">https://svn.apache.org/repos/asf/db/derby/code/branches/10.1/java/demo/simple/SimpleApp.java</a></p>\n<p>SimpleApp.java is a demo java class given by ApacheDerby where you can find steps to create a DB using java code.</p>\n<p>If needed start from here <a href=\"https://svn.apache.org/repos/asf/db/derby/code/branches/10.1/java/demo/simple/example.html\" rel=\"nofollow noreferrer\">https://svn.apache.org/repos/asf/db/derby/code/branches/10.1/java/demo/simple/example.html</a></p>\n"}],"owner":{"account_id":21191927,"reputation":297,"user_id":15584261,"display_name":"ItzJvs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649655161,"creation_date":1649471931,"question_id":71804868,"body_markdown":"I&#39;m working on java Hospital Management System project. I have to create dynamic database with &quot;query&quot; .. I know how to connect the database in netbeans\r\n```\r\nConnection connection = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/{databasename}&quot;,&quot;{username}&quot;,&quot;{password}&quot;);  \r\n```\r\nbut i have to add dynamic doctors so my each doctor has its own database which contains admit patients table and non admit&#39;s patients row(oneTable named nonAdmits)\r\nbut I stucked at creating dynamic database **because we can&#39;t connect derby without port, databasename, username and password** but in my case i&#39;m going to create dynamic doctor with the help of admin so how can i create dynamic database in ***Derby-netbeans***\r\n\r\nin short : \r\nsomething like in mysql:\r\n```\r\nCREATE DATABASE IF NOT EXISTS DB_NAME;\r\n```\r\n ","title":"How to create derby database using java code","body":"<p>I'm working on java Hospital Management System project. I have to create dynamic database with &quot;query&quot; .. I know how to connect the database in netbeans</p>\n<pre><code>Connection connection = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/{databasename}&quot;,&quot;{username}&quot;,&quot;{password}&quot;);  \n</code></pre>\n<p>but i have to add dynamic doctors so my each doctor has its own database which contains admit patients table and non admit's patients row(oneTable named nonAdmits)\nbut I stucked at creating dynamic database <strong>because we can't connect derby without port, databasename, username and password</strong> but in my case i'm going to create dynamic doctor with the help of admin so how can i create dynamic database in <em><strong>Derby-netbeans</strong></em></p>\n<p>in short :\nsomething like in mysql:</p>\n<pre><code>CREATE DATABASE IF NOT EXISTS DB_NAME;\n</code></pre>\n"},{"tags":["java","android","kotlin","admob"],"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649655044,"creation_date":1649594298,"question_id":71816680,"body_markdown":"How can I get the AppId that is used by admob. in fact I want to change admob AppId programmatically using [this][1] answer. but I&#39;m not able to verify that Admob is actually using new value.\r\n\r\n  [1]: https://stackoverflow.com/a/63639174/13083841","title":"get Admob AppId programmatically","body":"<p>How can I get the AppId that is used by admob. in fact I want to change admob AppId programmatically using <a href=\"https://stackoverflow.com/a/63639174/13083841\">this</a> answer. but I'm not able to verify that Admob is actually using new value.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1649653556,"post_id":71822868,"comment_id":126921289,"body_markdown":"The javadoc is a really helpful tool, take a look at the [String](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html) class, specifically you could make use of `replaceFirst(&#39;#&#39;,ran)` which &quot;**Replaces the first** substring of this string that matches the given&quot; rather than `replace(&#39;#&#39;,ran)` which &quot;Returns a string resulting from **replacing all occurrences** of oldChar in this string with newChar.&quot;","body":"The javadoc is a really helpful tool, take a look at the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\">String</a> class, specifically you could make use of <code>replaceFirst(&#39;#&#39;,ran)</code> which &quot;<b>Replaces the first</b> substring of this string that matches the given&quot; rather than <code>replace(&#39;#&#39;,ran)</code> which &quot;Returns a string resulting from <b>replacing all occurrences</b> of oldChar in this string with newChar.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649653510,"creation_date":1649653510,"answer_id":71822905,"question_id":71822868,"body_markdown":"The method `replace` replaces all occurances.\r\n\r\nTry using replaceFirst https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceFirst-java.lang.String-java.lang.String-\r\n\r\n    str = str.replaceFirst(&#39;#&#39;,ran);","title":"I am trying to write a numerify code like in Javafakers API","body":"<p>The method <code>replace</code> replaces all occurances.</p>\n<p>Try using replaceFirst <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceFirst-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceFirst-java.lang.String-java.lang.String-</a></p>\n<pre><code>str = str.replaceFirst('#',ran);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4233390,"reputation":2124,"user_id":3465242,"accept_rate":57,"display_name":"Ashu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649653768,"creation_date":1649653768,"answer_id":71822930,"question_id":71822868,"body_markdown":"If the condition is only true for the first time and after that replace will replace all occurrences of `#`, so there is no `#` available to replace next time.\r\n\r\nYou need to `replace` only one # at a time. Use `replaceFirst` instead.\r\n\r\n\r\n    if (str.charAt(i) == &#39;#&#39;) {\r\n         char ran= num.charAt(index);\r\n         str = str.replaceFirst(&quot;#&quot;,Character.toString(ran));\r\n    }","title":"I am trying to write a numerify code like in Javafakers API","body":"<p>If the condition is only true for the first time and after that replace will replace all occurrences of <code>#</code>, so there is no <code>#</code> available to replace next time.</p>\n<p>You need to <code>replace</code> only one # at a time. Use <code>replaceFirst</code> instead.</p>\n<pre><code>if (str.charAt(i) == '#') {\n     char ran= num.charAt(index);\n     str = str.replaceFirst(&quot;#&quot;,Character.toString(ran));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22989061,"reputation":11,"user_id":17114843,"display_name":"Mahalakshmi K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649655023,"creation_date":1649655023,"answer_id":71823067,"question_id":71822868,"body_markdown":"ReplaceFirst() needs to be used instead of Replace().\r\nReplaceFirst()method replaces the first substring of this string that matches the given regular expression with the given replacement.","title":"I am trying to write a numerify code like in Javafakers API","body":"<p>ReplaceFirst() needs to be used instead of Replace().\nReplaceFirst()method replaces the first substring of this string that matches the given regular expression with the given replacement.</p>\n"}],"owner":{"account_id":19251850,"reputation":1,"user_id":14069610,"display_name":"Nafis Alam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1649655023,"creation_date":1649653186,"question_id":71822868,"body_markdown":"So, I need to replace &#39;#&#39; in a string with a random number(0-9).\r\n\r\nEg: String: &quot;I am l#earning abou#t Jav#a&quot;. \r\n\r\nI am expecting an output like &quot;I am l1earning abou5t Jav3a&quot;. \r\n\r\nFrom the below code, I am getting an output like \r\n&quot;I am l2earning abou2t Jav2a&quot; where the code is generating random numbers but after reruns. \r\n\r\nWhat changes have to be performed in the code to generate different random numbers in the same string?\r\n\r\n**Java**\r\n\r\n    import java.util.Random;\r\n    public class numerify {\r\n        public static void main(String[] args) {\r\n            String str = &quot; I am l#earning abo#ut Jav#a.&quot;;\r\n            String num=&quot;1234567890&quot;;\r\n            Random r= new Random();\r\n            int n=num.length();\r\n    \r\n            for (int i = 0; i &lt; str.length() - 1; i++) {\r\n    \r\n                char ran= num.charAt(r.nextInt(n));\r\n                if (str.charAt(i) == &#39;#&#39;) {\r\n                    str = str.replace(&#39;#&#39;,ran);\r\n                }\r\n            }\r\n            System.out.println(str);\r\n        }\r\n    }\r\n\r\n","title":"I am trying to write a numerify code like in Javafakers API","body":"<p>So, I need to replace '#' in a string with a random number(0-9).</p>\n<p>Eg: String: &quot;I am l#earning abou#t Jav#a&quot;.</p>\n<p>I am expecting an output like &quot;I am l1earning abou5t Jav3a&quot;.</p>\n<p>From the below code, I am getting an output like\n&quot;I am l2earning abou2t Jav2a&quot; where the code is generating random numbers but after reruns.</p>\n<p>What changes have to be performed in the code to generate different random numbers in the same string?</p>\n<p><strong>Java</strong></p>\n<pre><code>import java.util.Random;\npublic class numerify {\n    public static void main(String[] args) {\n        String str = &quot; I am l#earning abo#ut Jav#a.&quot;;\n        String num=&quot;1234567890&quot;;\n        Random r= new Random();\n        int n=num.length();\n\n        for (int i = 0; i &lt; str.length() - 1; i++) {\n\n            char ran= num.charAt(r.nextInt(n));\n            if (str.charAt(i) == '#') {\n                str = str.replace('#',ran);\n            }\n        }\n        System.out.println(str);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","web","client","response"],"answers":[{"tags":[],"owner":{"account_id":23946100,"reputation":34,"user_id":17938423,"display_name":"Nodirbek Sirojiddinov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649654960,"creation_date":1649654960,"answer_id":71823060,"question_id":71820084,"body_markdown":"       .retrieve()\r\n                    .bodyToMono(HumoGetList.class)\r\n                    .onErrorReturn(new HumoGetList())\r\n                   .block();","title":"How to return New Dto if Web Client response is not successful (400,404 status)","body":"<pre><code>   .retrieve()\n                .bodyToMono(HumoGetList.class)\n                .onErrorReturn(new HumoGetList())\n               .block();\n</code></pre>\n"}],"owner":{"account_id":24206465,"reputation":7,"user_id":18163594,"display_name":"Nodir RaPuZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71823060,"answer_count":1,"score":0,"last_activity_date":1649654960,"creation_date":1649620488,"question_id":71820084,"body_markdown":"         @Service\r\n     public HumoGetList getHumoCardsByNumber() throws SSLException {\r\n    \r\n            HumoGetList responseSpec = client\r\n                    .post()\r\n                    .uri(&quot;https://192.168.100.133/v2/mb/customers&quot;)\r\n                    .headers(headers -&gt; {\r\n                        headers.setBearerAuth(&quot;OnlyForTestToken&quot;);\r\n                        headers.setContentType(MediaType.APPLICATION_JSON);\r\n                    })\r\n                    .bodyValue(&quot;{\\n&quot; +\r\n                            &quot;\\&quot;params\\&quot;: {\\n&quot; +\r\n                            &quot;\\&quot;phone\\&quot;: \\&quot;&quot; 99895655988 &quot;\\&quot;,\\n&quot; +\r\n                            &quot;\\&quot;userId\\&quot;: \\&quot;1111111111\\&quot;\\n&quot; +\r\n                            &quot;}\\n&quot; +\r\n                            &quot;}&quot;)\r\n                    .retrieve()\r\n                    .bodyToMono(HumoGetList.class)\r\n                    .doOnError(s -&gt; System.err.println(s))\r\n                    .doOnNext(s -&gt; System.err.println(s)).block();\r\n    \r\n    \r\n            return responseSpec;\r\n        }\r\n\r\n\r\nhttps://192.168.100.133/api/customers if value in Json is has in database This uri response, values.\r\nFor example if i send 4367415, i get respsonse with 200 status\r\n\r\n    {\r\n        &quot;id&quot;: &quot;123456789&quot;,\r\n        &quot;result&quot;: {\r\n            &quot;Customer&quot;: [\r\n                {\r\n                    &quot;customer&quot;: &quot;124124&quot;,\r\n                    &quot;bankName&quot;: &quot;OneLoveBank&quot;,\r\n                    &quot;cardholder&quot;: &quot;John Smith&quot;,\r\n                 }\r\n    ]\r\n    }\r\n    }\r\nAnd my service return Object with values. It is true working, but\r\nIf my request&#39;s answer not found or may be my value is wrong (less then 6 symbols), i take response with 400 and 404 status.\r\n\r\n\r\nBut i want, if my request is wrong maybe not founded, i need return `new HumoGetList Dto` (with null values) in my Service.\r\n\r\n","title":"How to return New Dto if Web Client response is not successful (400,404 status)","body":"<pre><code>     @Service\n public HumoGetList getHumoCardsByNumber() throws SSLException {\n\n        HumoGetList responseSpec = client\n                .post()\n                .uri(&quot;https://192.168.100.133/v2/mb/customers&quot;)\n                .headers(headers -&gt; {\n                    headers.setBearerAuth(&quot;OnlyForTestToken&quot;);\n                    headers.setContentType(MediaType.APPLICATION_JSON);\n                })\n                .bodyValue(&quot;{\\n&quot; +\n                        &quot;\\&quot;params\\&quot;: {\\n&quot; +\n                        &quot;\\&quot;phone\\&quot;: \\&quot;&quot; 99895655988 &quot;\\&quot;,\\n&quot; +\n                        &quot;\\&quot;userId\\&quot;: \\&quot;1111111111\\&quot;\\n&quot; +\n                        &quot;}\\n&quot; +\n                        &quot;}&quot;)\n                .retrieve()\n                .bodyToMono(HumoGetList.class)\n                .doOnError(s -&gt; System.err.println(s))\n                .doOnNext(s -&gt; System.err.println(s)).block();\n\n\n        return responseSpec;\n    }\n</code></pre>\n<p><a href=\"https://192.168.100.133/api/customers\" rel=\"nofollow noreferrer\">https://192.168.100.133/api/customers</a> if value in Json is has in database This uri response, values.\nFor example if i send 4367415, i get respsonse with 200 status</p>\n<pre><code>{\n    &quot;id&quot;: &quot;123456789&quot;,\n    &quot;result&quot;: {\n        &quot;Customer&quot;: [\n            {\n                &quot;customer&quot;: &quot;124124&quot;,\n                &quot;bankName&quot;: &quot;OneLoveBank&quot;,\n                &quot;cardholder&quot;: &quot;John Smith&quot;,\n             }\n]\n}\n}\n</code></pre>\n<p>And my service return Object with values. It is true working, but\nIf my request's answer not found or may be my value is wrong (less then 6 symbols), i take response with 400 and 404 status.</p>\n<p>But i want, if my request is wrong maybe not founded, i need return <code>new HumoGetList Dto</code> (with null values) in my Service.</p>\n"},{"tags":["java","spring","vaadin","vaadin-flow","vaadin-grid"],"comments":[{"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"score":0,"creation_date":1649603330,"post_id":71816257,"comment_id":126912278,"body_markdown":"I think the only chance is to create a wrapper class/interface and use this. At least is what I had to do for the TreeGrid, to have folders and items in the grid","body":"I think the only chance is to create a wrapper class/interface and use this. At least is what I had to do for the TreeGrid, to have folders and items in the grid"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649624436,"post_id":71816257,"comment_id":126917095,"body_markdown":"If the source code for both `Folder` and `Item` are under your control, define an interface for both of them to implement.","body":"If the source code for both <code>Folder</code> and <code>Item</code> are under your control, define an interface for both of them to implement."},{"owner":{"account_id":15805840,"reputation":131,"user_id":11404383,"display_name":"Marcus"},"score":0,"creation_date":1649840220,"post_id":71816257,"comment_id":126975203,"body_markdown":"Thanks, I got it working with an interface","body":"Thanks, I got it working with an interface"}],"answers":[{"tags":[],"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649654741,"creation_date":1649654741,"answer_id":71823033,"question_id":71816257,"body_markdown":"`Grid` can only have one type of bean, so an abstract parent class or interface is the way to go. But given the description of your use case of &quot;folders&quot; and &quot;items&quot;, have you considered using [TreeGrid](https://vaadin.com/docs/latest/ds/components/tree-grid) instead?","title":"Vaadin Grid - data from multiple objects","body":"<p><code>Grid</code> can only have one type of bean, so an abstract parent class or interface is the way to go. But given the description of your use case of &quot;folders&quot; and &quot;items&quot;, have you considered using <a href=\"https://vaadin.com/docs/latest/ds/components/tree-grid\" rel=\"nofollow noreferrer\">TreeGrid</a> instead?</p>\n"}],"owner":{"account_id":15805840,"reputation":131,"user_id":11404383,"display_name":"Marcus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71823033,"answer_count":1,"score":1,"last_activity_date":1649654741,"creation_date":1649590858,"question_id":71816257,"body_markdown":"I would like to show data from two different objects in one Grid. I have &quot;folders&quot; and &quot;items&quot; and I would like to see them together in one Grid. Folders at the top and items below folders. Something like list view in file manager application. But I don&#39;t know how to get the data together. I could probably create an abstract parent class for **Item** and **Folder** classes with getter methods, which I&#39;m using in the grid. Is there any better solution for that?\r\n\r\n\r\nExpected result:\r\n\r\n[![expected result][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/oigPs.png\r\n\r\n\r\n```\r\n@Route(value = &quot;&quot;)\r\n@PageTitle(&quot;Items | Test&quot;)\r\npublic class ListView extends VerticalLayout {\r\n    \r\n    Grid&lt;Item&gt; grid = new Grid&lt;&gt;(Item.class);\r\n    ItemService service;\r\n\r\n    Folder currentFolder;\r\n\r\n    public ListView(ItemService service) {\r\n        this.service = service;\r\n        this.currentFolder = service.getAllFolders().get(0);\r\n        addClassName(&quot;list-view&quot;);\r\n\r\n        add(getGrid());\r\n        updateList();\r\n    }\r\n\r\n    private HorizontalLayout getGrid() {\r\n        HorizontalLayout layout = new HorizontalLayout(grid);\r\n        layout.setSizeFull();\r\n\r\n        grid.addClassNames(&quot;grid&quot;);\r\n        grid.setColumns(&quot;name&quot;);\r\n        grid.addColumn(testCase -&gt; testCase.getStatus().getValue()).setHeader(&quot;Status&quot;).setSortable(true);\r\n        grid.addColumn(new ComponentRenderer&lt;&gt;(\r\n                        testCase -&gt; {\r\n                            Checkbox checkbox = new Checkbox();\r\n                            checkbox.setValue(testCase.getBooleanValue());\r\n                            checkbox.setReadOnly(true);\r\n                            return checkbox;\r\n                        }\r\n                )\r\n        ).setHeader(&quot;Boolean&quot;);\r\n        grid.getColumns().forEach(col -&gt; col.setAutoWidth(true));\r\n\r\n        return layout;\r\n    }\r\n\r\n    private void updateList() {\r\n        grid.setItems(service.getItemsFromFolder(currentFolder));\r\n    }\r\n}\r\n```\r\nService:\r\n\r\n```\r\n@Service\r\npublic class ItemService {\r\n\r\n    private final ItemRepository itemRepository;\r\n    private final FolderRepository folderRepository;\r\n\r\n    public ItemService(ItemRepository itemRepository, FolderRepository folderRepository) {\r\n        this.itemRepository = itemRepository;\r\n        this.folderRepository = folderRepository;\r\n    }\r\n\r\n    public List&lt;Folder&gt; getAllFolders() {\r\n        return folderRepository.findAll();\r\n    }\r\n\r\n    public List&lt;Item&gt; getItemsFromFolder(Folder folder) {\r\n        return itemRepository.getItemsFromFolder(folder.getId());\r\n    }\r\n\r\n}\r\n```\r\nItem Repository:\r\n\r\n```\r\npublic interface ItemRepository extends JpaRepository&lt;Item, Long&gt; {\r\n\r\n    @Query(&quot;Select i from Item i where i.folder.id = :folderId&quot;)\r\n    List&lt;Item&gt; getItemsFromFolder(@Param(&quot;folderId&quot;) Long folderId);\r\n}\r\n```\r\nFolder Repository:\r\n\r\n```\r\npublic interface FolderRepository extends JpaRepository&lt;Folder, Long&gt; {\r\n    \r\n}\r\n```\r\nItem Entity:\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class Item {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotEmpty\r\n    private String name = &quot;&quot;;\r\n\r\n    @Enumerated\r\n    @Column(columnDefinition = &quot;smallint&quot;)\r\n    private Status status;\r\n\r\n    @NotNull\r\n    private Boolean booleanValue;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;folder_id&quot;)\r\n    @NotNull\r\n    private Folder folder;\r\n\r\n}\r\n```\r\nFolder Entity:\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class Folder {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    private Long parentFolderId;\r\n\r\n}\r\n```\r\nStatus enum:\r\n\r\n```\r\n@AllArgsConstructor\r\npublic enum Status {\r\n\r\n    DRAFT(&quot;Draft&quot;),\r\n    READY(&quot;Ready&quot;),\r\n    OBSOLETE(&quot;Obsolete&quot;);\r\n\r\n    @Getter\r\n    private final String value;\r\n\r\n}\r\n```","title":"Vaadin Grid - data from multiple objects","body":"<p>I would like to show data from two different objects in one Grid. I have &quot;folders&quot; and &quot;items&quot; and I would like to see them together in one Grid. Folders at the top and items below folders. Something like list view in file manager application. But I don't know how to get the data together. I could probably create an abstract parent class for <strong>Item</strong> and <strong>Folder</strong> classes with getter methods, which I'm using in the grid. Is there any better solution for that?</p>\n<p>Expected result:</p>\n<p><a href=\"https://i.stack.imgur.com/oigPs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oigPs.png\" alt=\"expected result\" /></a></p>\n<pre><code>@Route(value = &quot;&quot;)\n@PageTitle(&quot;Items | Test&quot;)\npublic class ListView extends VerticalLayout {\n    \n    Grid&lt;Item&gt; grid = new Grid&lt;&gt;(Item.class);\n    ItemService service;\n\n    Folder currentFolder;\n\n    public ListView(ItemService service) {\n        this.service = service;\n        this.currentFolder = service.getAllFolders().get(0);\n        addClassName(&quot;list-view&quot;);\n\n        add(getGrid());\n        updateList();\n    }\n\n    private HorizontalLayout getGrid() {\n        HorizontalLayout layout = new HorizontalLayout(grid);\n        layout.setSizeFull();\n\n        grid.addClassNames(&quot;grid&quot;);\n        grid.setColumns(&quot;name&quot;);\n        grid.addColumn(testCase -&gt; testCase.getStatus().getValue()).setHeader(&quot;Status&quot;).setSortable(true);\n        grid.addColumn(new ComponentRenderer&lt;&gt;(\n                        testCase -&gt; {\n                            Checkbox checkbox = new Checkbox();\n                            checkbox.setValue(testCase.getBooleanValue());\n                            checkbox.setReadOnly(true);\n                            return checkbox;\n                        }\n                )\n        ).setHeader(&quot;Boolean&quot;);\n        grid.getColumns().forEach(col -&gt; col.setAutoWidth(true));\n\n        return layout;\n    }\n\n    private void updateList() {\n        grid.setItems(service.getItemsFromFolder(currentFolder));\n    }\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Service\npublic class ItemService {\n\n    private final ItemRepository itemRepository;\n    private final FolderRepository folderRepository;\n\n    public ItemService(ItemRepository itemRepository, FolderRepository folderRepository) {\n        this.itemRepository = itemRepository;\n        this.folderRepository = folderRepository;\n    }\n\n    public List&lt;Folder&gt; getAllFolders() {\n        return folderRepository.findAll();\n    }\n\n    public List&lt;Item&gt; getItemsFromFolder(Folder folder) {\n        return itemRepository.getItemsFromFolder(folder.getId());\n    }\n\n}\n</code></pre>\n<p>Item Repository:</p>\n<pre><code>public interface ItemRepository extends JpaRepository&lt;Item, Long&gt; {\n\n    @Query(&quot;Select i from Item i where i.folder.id = :folderId&quot;)\n    List&lt;Item&gt; getItemsFromFolder(@Param(&quot;folderId&quot;) Long folderId);\n}\n</code></pre>\n<p>Folder Repository:</p>\n<pre><code>public interface FolderRepository extends JpaRepository&lt;Folder, Long&gt; {\n    \n}\n</code></pre>\n<p>Item Entity:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Item {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotEmpty\n    private String name = &quot;&quot;;\n\n    @Enumerated\n    @Column(columnDefinition = &quot;smallint&quot;)\n    private Status status;\n\n    @NotNull\n    private Boolean booleanValue;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;folder_id&quot;)\n    @NotNull\n    private Folder folder;\n\n}\n</code></pre>\n<p>Folder Entity:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Folder {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n    private Long parentFolderId;\n\n}\n</code></pre>\n<p>Status enum:</p>\n<pre><code>@AllArgsConstructor\npublic enum Status {\n\n    DRAFT(&quot;Draft&quot;),\n    READY(&quot;Ready&quot;),\n    OBSOLETE(&quot;Obsolete&quot;);\n\n    @Getter\n    private final String value;\n\n}\n</code></pre>\n"},{"tags":["java","json","netbeans"],"comments":[{"owner":{"account_id":21722555,"reputation":11,"user_id":16032449,"display_name":"Kafka"},"score":0,"creation_date":1649682362,"post_id":71823021,"comment_id":126930916,"body_markdown":"@AxelRichter So I just tried both of your tips and it seems that everything, including JSONValue.parse(myData), works as the JSON is successfully outputted. I think i attached an image of the successful json request output in the post above as well. So somehow something goes wrong when I request a specific address &quot;05. price&quot;, any tips regarding this?","body":"@AxelRichter So I just tried both of your tips and it seems that everything, including JSONValue.parse(myData), works as the JSON is successfully outputted. I think i attached an image of the successful json request output in the post above as well. So somehow something goes wrong when I request a specific address &quot;05. price&quot;, any tips regarding this?"}],"owner":{"account_id":21722555,"reputation":11,"user_id":16032449,"display_name":"Kafka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1398,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649654651,"creation_date":1649654651,"question_id":71823021,"body_markdown":"So I&#39;m using the Rapid API alpha vantage API to retrieve some stock data. Wrote this code 2 months ago and it successfully printed out the stock price, but when I ran it again today it through this error:\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;java.lang.Double.doubleValue()&quot; because the return value of &quot;org.json.simple.JSONObject.get(Object)&quot; is null\r\n\r\nI tried the testing the endpoint on RapidAPI&#39;s API playground, which worked. Then I tried calling the json without requesting a specific address and the json was retrieved successfully\r\n([Pic of what the json response looks like][1]) It just seems that issues crop up when I call this:\r\n\r\n    double price = (Double) jsonObject.get(&quot;05. price&quot;);  \r\n\r\nHere is my code. I censored my API key and stuff:\r\n\r\n    import okhttp3.OkHttpClient;\r\n    import okhttp3.Request;\r\n    import okhttp3.Response;\r\n    import org.json.JSONArray;\r\n    import org.json.simple.JSONValue;\r\n    import org.json.simple.JSONObject;\r\n    \r\n     public static void main(String[] args) {\r\n            try{\r\n                Helper.requestPrice();\r\n            } catch(Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    public static void requestPrice() throws Exception{\r\n            OkHttpClient client = new OkHttpClient();\r\n            String ticker = &quot;msft&quot;;\r\n    \r\n            Request request = new Request.Builder()\r\n    \t.url(&quot;https://alpha-vantage.p.rapidapi.com/query?function=GLOBAL_QUOTE&amp;symbol=&quot;+ticker+&quot;&amp;datatype=json&quot;)\r\n    \t.get()\r\n    \t.addHeader(&quot;x-rapidapi-host&quot;, &quot;alpha-vantage.p.rapidapi.com&quot;)\r\n    \t.addHeader(&quot;x-rapidapi-key&quot;, &quot;xxxxxxx&quot;)\r\n    \t.build();\r\n    \r\n            Response response = client.newCall(request).execute();\r\n            \r\n            String myData = response.body().string();//works\r\n            \r\n            Object obj = JSONValue.parse(myData);  //works\r\n            JSONObject jsonObject = (JSONObject) obj;  //works\r\n            double price = (Double) jsonObject.get(&quot;05. price&quot;);  \r\n            System.out.println(price);\r\n        }\r\n\r\nThank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cpU8t.png","title":"the return value of &quot;org.json.simple.JSONObject.get(Object)&quot; is null even though HTTP request is successful?","body":"<p>So I'm using the Rapid API alpha vantage API to retrieve some stock data. Wrote this code 2 months ago and it successfully printed out the stock price, but when I ran it again today it through this error:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;java.lang.Double.doubleValue()&quot; because the return value of &quot;org.json.simple.JSONObject.get(Object)&quot; is null\n</code></pre>\n<p>I tried the testing the endpoint on RapidAPI's API playground, which worked. Then I tried calling the json without requesting a specific address and the json was retrieved successfully\n(<a href=\"https://i.stack.imgur.com/cpU8t.png\" rel=\"nofollow noreferrer\">Pic of what the json response looks like</a>) It just seems that issues crop up when I call this:</p>\n<pre><code>double price = (Double) jsonObject.get(&quot;05. price&quot;);  \n</code></pre>\n<p>Here is my code. I censored my API key and stuff:</p>\n<pre><code>import okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\nimport org.json.JSONArray;\nimport org.json.simple.JSONValue;\nimport org.json.simple.JSONObject;\n\n public static void main(String[] args) {\n        try{\n            Helper.requestPrice();\n        } catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n\npublic static void requestPrice() throws Exception{\n        OkHttpClient client = new OkHttpClient();\n        String ticker = &quot;msft&quot;;\n\n        Request request = new Request.Builder()\n    .url(&quot;https://alpha-vantage.p.rapidapi.com/query?function=GLOBAL_QUOTE&amp;symbol=&quot;+ticker+&quot;&amp;datatype=json&quot;)\n    .get()\n    .addHeader(&quot;x-rapidapi-host&quot;, &quot;alpha-vantage.p.rapidapi.com&quot;)\n    .addHeader(&quot;x-rapidapi-key&quot;, &quot;xxxxxxx&quot;)\n    .build();\n\n        Response response = client.newCall(request).execute();\n        \n        String myData = response.body().string();//works\n        \n        Object obj = JSONValue.parse(myData);  //works\n        JSONObject jsonObject = (JSONObject) obj;  //works\n        double price = (Double) jsonObject.get(&quot;05. price&quot;);  \n        System.out.println(price);\n    }\n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","jersey","multipartform-data","dropwizard","dropwizard-guice"],"comments":[{"owner":{"account_id":12856919,"reputation":74,"user_id":9452221,"display_name":"Erik"},"score":0,"creation_date":1647008100,"post_id":71438340,"comment_id":126271259,"body_markdown":"It says in the exception. `Idle timeout expired: 30005/30000 ms` Something took longer than 30 seconds to process. I would either go find out why it takes 30 seconds and see if I can do something about that. Or increase the timeout.","body":"It says in the exception. <code>Idle timeout expired: 30005&#47;30000 ms</code> Something took longer than 30 seconds to process. I would either go find out why it takes 30 seconds and see if I can do something about that. Or increase the timeout."}],"answers":[{"tags":[],"owner":{"account_id":24525367,"reputation":11,"user_id":18437876,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649654309,"creation_date":1649654309,"answer_id":71822989,"question_id":71438340,"body_markdown":"In this case tried using JerseyClient instead of HTTP Client in orchestrator service for making call to target service, created temporary csv file in orchestrator service and sent updated Headers (Content-Type, Content-Encoding, Content-Length, Content-Language, Host) while making call to target service, which is working fine.","title":"Dropwizard HttpClient Multipart http Request - Java","body":"<p>In this case tried using JerseyClient instead of HTTP Client in orchestrator service for making call to target service, created temporary csv file in orchestrator service and sent updated Headers (Content-Type, Content-Encoding, Content-Length, Content-Language, Host) while making call to target service, which is working fine.</p>\n"}],"owner":{"account_id":24525367,"reputation":11,"user_id":18437876,"display_name":"Abhishek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649654309,"creation_date":1647000745,"question_id":71438340,"body_markdown":" I am getting Multipart request from UI to upload csv file but call is going through one orchestrator service (dropwizard-version : 0.9.2) to target service (dropwizard-version : 1.2.2) for upload. While adding support for Multipart request in orchestrator service using MultipartRequestEntity, call is failing at target service with error  -\r\n```\r\n[2022-03-08 16:23:44,474] io.dropwizard.jersey.errors.LoggingExceptionMapper: Error handling a request: 4c0693ee31713edf\r\n! java.util.concurrent.TimeoutException: Idle timeout expired: 30005/30000 ms\r\n! at org.eclipse.jetty.io.IdleTimeout.checkIdleTimeout(IdleTimeout.java:166)\r\n! at org.eclipse.jetty.io.IdleTimeout$1.run(IdleTimeout.java:50)\r\n```\r\n\r\nExpected Request at Resource Layer for both services : \r\n```\r\npublic void request(@FormDataParam(&quot;file&quot;) InputStream body,\r\n@FormDataParam(&quot;file&quot;) FormDataContentDisposition fileDetails,\r\n@FormDataParam(&quot;comment&quot;) String comment){}                                 \r\n```\r\nIs there any solution for this?","title":"Dropwizard HttpClient Multipart http Request - Java","body":"<p>I am getting Multipart request from UI to upload csv file but call is going through one orchestrator service (dropwizard-version : 0.9.2) to target service (dropwizard-version : 1.2.2) for upload. While adding support for Multipart request in orchestrator service using MultipartRequestEntity, call is failing at target service with error  -</p>\n<pre><code>[2022-03-08 16:23:44,474] io.dropwizard.jersey.errors.LoggingExceptionMapper: Error handling a request: 4c0693ee31713edf\n! java.util.concurrent.TimeoutException: Idle timeout expired: 30005/30000 ms\n! at org.eclipse.jetty.io.IdleTimeout.checkIdleTimeout(IdleTimeout.java:166)\n! at org.eclipse.jetty.io.IdleTimeout$1.run(IdleTimeout.java:50)\n</code></pre>\n<p>Expected Request at Resource Layer for both services :</p>\n<pre><code>public void request(@FormDataParam(&quot;file&quot;) InputStream body,\n@FormDataParam(&quot;file&quot;) FormDataContentDisposition fileDetails,\n@FormDataParam(&quot;comment&quot;) String comment){}                                 \n</code></pre>\n<p>Is there any solution for this?</p>\n"},{"tags":["java","spring-boot","glassfish-5"],"owner":{"account_id":22174123,"reputation":41,"user_id":16418977,"display_name":"Roshan888"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649654206,"creation_date":1649654206,"question_id":71822976,"body_markdown":"I am getting below issue while deploying Spring boot application (.ear extension) in Glassfish 5.1\r\n\r\nIssue : Caused by: java.util.ServiceConfigurationError: com.sun.faces.util.cdi11.CDIUtil: Provider com.sun.faces.util.cdi11.CDIUtilImpl not a subtype\r\n\tat java.util.ServiceLoader.fail(ServiceLoader.java:239)\r\n\r\nCan someone please help me to resolve this issue.\r\n\r\nThanks in Advance...!!!","title":"Provider com.sun.faces.util.cdi11.CDIUtilImpl not a subtype while deploying in Glassfish 5.1","body":"<p>I am getting below issue while deploying Spring boot application (.ear extension) in Glassfish 5.1</p>\n<p>Issue : Caused by: java.util.ServiceConfigurationError: com.sun.faces.util.cdi11.CDIUtil: Provider com.sun.faces.util.cdi11.CDIUtilImpl not a subtype\nat java.util.ServiceLoader.fail(ServiceLoader.java:239)</p>\n<p>Can someone please help me to resolve this issue.</p>\n<p>Thanks in Advance...!!!</p>\n"},{"tags":["java","visual-studio-code","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":6186480,"reputation":26,"user_id":4820447,"display_name":"Shubham Arora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591708185,"creation_date":1591708185,"answer_id":62283418,"question_id":62269936,"body_markdown":"I believe you are not able to compile and run the application. In your `pom.xml`, this is causing the issue\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;flink-streaming-java_${scala.binary.version}&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${flink.version}&lt;/version&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\nChange the scope to `compile` in order to resolve this issue. Also, more technical info [here][1].\r\n\r\n-- How I went about finding the issue--\r\n\r\nI tried running the example in the tutorial (in Intellij IDEA) and got this error similar to you:\r\n\r\n```\r\nError: Unable to initialize main class spendreport.FraudDetectionJob\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/flink/streaming/api/functions/source/SourceFunction\r\n```\r\n\r\nOn searching further I found this [answer](https://stackoverflow.com/questions/54106187/apache-flink-java-lang-noclassdeffounderror) which is similar.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6646959/difference-between-maven-scope-compile-and-provided-for-jar-packaging\r\n  [2]: https://stackoverflow.com/questions/54106187/apache-flink-java-lang-noclassdeffounderror","title":"Unable to debug Flink example in Visual Studio due to absence of mainClass","body":"<p>I believe you are not able to compile and run the application. In your <code>pom.xml</code>, this is causing the issue</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n    &lt;artifactId&gt;flink-streaming-java_${scala.binary.version}&lt;/artifactId&gt;\n    &lt;version&gt;${flink.version}&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Change the scope to <code>compile</code> in order to resolve this issue. Also, more technical info <a href=\"https://stackoverflow.com/questions/6646959/difference-between-maven-scope-compile-and-provided-for-jar-packaging\">here</a>.</p>\n\n<p>-- How I went about finding the issue--</p>\n\n<p>I tried running the example in the tutorial (in Intellij IDEA) and got this error similar to you:</p>\n\n<pre><code>Error: Unable to initialize main class spendreport.FraudDetectionJob\nCaused by: java.lang.NoClassDefFoundError: org/apache/flink/streaming/api/functions/source/SourceFunction\n</code></pre>\n\n<p>On searching further I found this <a href=\"https://stackoverflow.com/questions/54106187/apache-flink-java-lang-noclassdeffounderror\">answer</a> which is similar.</p>\n"},{"tags":[],"owner":{"account_id":24674707,"reputation":21,"user_id":18569267,"display_name":"pyvadev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649653834,"creation_date":1649653834,"answer_id":71822938,"question_id":62269936,"body_markdown":"Reprint:\r\n\r\n&gt; Seems a bug in eclipse maven importer not work with lifecycle-mapping plugin, to solve your problem temporarily, try to\r\n&gt; \r\n&gt; 1. close vscode and eclipse\r\n&gt; 2. delete .project file and .classpath file(if the root folder has)\r\n&gt; 3. run mvn eclipse:eclipse at the root folder\r\n&gt; 4. open the root folder in vscode, F5 and you will be able to debug\r\n&gt; \r\n&gt; or remove the lifecycle-mapping plugin in pluginManagement-&gt;plugins\r\n\r\nmore detail see in [Flink official demo debug will get error :Cannot find a class with the main method][1]\r\n\r\n\r\n  [1]: https://github.com/microsoft/vscode-java-debug/issues/478","title":"Unable to debug Flink example in Visual Studio due to absence of mainClass","body":"<p>Reprint:</p>\n<blockquote>\n<p>Seems a bug in eclipse maven importer not work with lifecycle-mapping plugin, to solve your problem temporarily, try to</p>\n<ol>\n<li>close vscode and eclipse</li>\n<li>delete .project file and .classpath file(if the root folder has)</li>\n<li>run mvn eclipse:eclipse at the root folder</li>\n<li>open the root folder in vscode, F5 and you will be able to debug</li>\n</ol>\n<p>or remove the lifecycle-mapping plugin in pluginManagement-&gt;plugins</p>\n</blockquote>\n<p>more detail see in <a href=\"https://github.com/microsoft/vscode-java-debug/issues/478\" rel=\"nofollow noreferrer\">Flink official demo debug will get error :Cannot find a class with the main method</a></p>\n"}],"owner":{"account_id":15010000,"reputation":4188,"user_id":10834788,"display_name":"Aviral Srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1370,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62283418,"answer_count":2,"score":1,"last_activity_date":1649653834,"creation_date":1591645006,"question_id":62269936,"body_markdown":"My aim is to debug this code to see it _live_ as suggested in the [tutorial](https://ci.apache.org/projects/flink/flink-docs-release-1.10/getting-started/walkthroughs/datastream_api.html#how-to-follow-along). \r\n\r\nMy IDE is Visual Studio Code and the language of this example is Java. I am running a Flink Datastream API tutorial.\r\n\r\nWhen I put a breakpoint at any of the line, I get the following error:\r\n\r\n```\r\nCannot find a class with the main method in the folder &#39;frauddetection&#39;.\r\n```\r\n\r\nI was hinted towards created a launch.json file and so, this is what I created:\r\n```\r\n{\r\n    // Use IntelliSense to learn about possible attributes.\r\n    // Hover to view descriptions of existing attributes.\r\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Debug (Launch) - Current File&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;FraudDetectionJob&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nEven after configuring the above file and specifying the `mainClass`, I am getting the same error in the debugger terminal:\r\n```\r\nError: Could not find or load main class FraudDetectionJob\r\n```\r\nThe code that I am trying to execute is as follows:\r\n```\r\n/*\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * &quot;License&quot;); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\npackage spendreport;\r\n\r\nimport org.apache.flink.streaming.api.datastream.DataStream;\r\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\nimport org.apache.flink.walkthrough.common.sink.AlertSink;\r\nimport org.apache.flink.walkthrough.common.entity.Alert;\r\nimport org.apache.flink.walkthrough.common.entity.Transaction;\r\nimport org.apache.flink.walkthrough.common.source.TransactionSource;\r\n\r\n/**\r\n * Skeleton code for the datastream walkthrough\r\n */\r\npublic class FraudDetectionJob {\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tStreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\r\n\t\tDataStream&lt;Transaction&gt; transactions = env\r\n\t\t\t.addSource(new TransactionSource())\r\n\t\t\t.name(&quot;transactions&quot;);\r\n\r\n\t\tDataStream&lt;Alert&gt; alerts = transactions\r\n\t\t\t.keyBy(Transaction::getAccountId)\r\n\t\t\t.process(new FraudDetector())\r\n\t\t\t.name(&quot;fraud-detector&quot;);\r\n\r\n\t\talerts\r\n\t\t\t.addSink(new AlertSink())\r\n\t\t\t.name(&quot;send-alerts&quot;);\r\n\r\n\t\tenv.execute(&quot;Fraud Detection&quot;);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nHow do I debug this file?\r\n","title":"Unable to debug Flink example in Visual Studio due to absence of mainClass","body":"<p>My aim is to debug this code to see it <em>live</em> as suggested in the <a href=\"https://ci.apache.org/projects/flink/flink-docs-release-1.10/getting-started/walkthroughs/datastream_api.html#how-to-follow-along\" rel=\"nofollow noreferrer\">tutorial</a>. </p>\n\n<p>My IDE is Visual Studio Code and the language of this example is Java. I am running a Flink Datastream API tutorial.</p>\n\n<p>When I put a breakpoint at any of the line, I get the following error:</p>\n\n<pre><code>Cannot find a class with the main method in the folder 'frauddetection'.\n</code></pre>\n\n<p>I was hinted towards created a launch.json file and so, this is what I created:</p>\n\n<pre><code>{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"type\": \"java\",\n            \"name\": \"Debug (Launch) - Current File\",\n            \"request\": \"launch\",\n            \"mainClass\": \"FraudDetectionJob\"\n        }\n    ]\n}\n</code></pre>\n\n<p>Even after configuring the above file and specifying the <code>mainClass</code>, I am getting the same error in the debugger terminal:</p>\n\n<pre><code>Error: Could not find or load main class FraudDetectionJob\n</code></pre>\n\n<p>The code that I am trying to execute is as follows:</p>\n\n<pre><code>/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage spendreport;\n\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.walkthrough.common.sink.AlertSink;\nimport org.apache.flink.walkthrough.common.entity.Alert;\nimport org.apache.flink.walkthrough.common.entity.Transaction;\nimport org.apache.flink.walkthrough.common.source.TransactionSource;\n\n/**\n * Skeleton code for the datastream walkthrough\n */\npublic class FraudDetectionJob {\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n        DataStream&lt;Transaction&gt; transactions = env\n            .addSource(new TransactionSource())\n            .name(\"transactions\");\n\n        DataStream&lt;Alert&gt; alerts = transactions\n            .keyBy(Transaction::getAccountId)\n            .process(new FraudDetector())\n            .name(\"fraud-detector\");\n\n        alerts\n            .addSink(new AlertSink())\n            .name(\"send-alerts\");\n\n        env.execute(\"Fraud Detection\");\n    }\n}\n\n</code></pre>\n\n<p>How do I debug this file?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1649630169,"post_id":71820921,"comment_id":126918103,"body_markdown":"`List.of(&quot;QR_CODE&quot;)` should do the trick.","body":"<code>List.of(&quot;QR_CODE&quot;)</code> should do the trick."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1649637478,"post_id":71820921,"comment_id":126919106,"body_markdown":"@rzwitserloot, Android doesn&#39;t support Java 9 APIs yet. Use `Arrays.asList(&quot;QR_CODE&quot;)`","body":"@rzwitserloot, Android doesn&#39;t support Java 9 APIs yet. Use <code>Arrays.asList(&quot;QR_CODE&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":14489422,"reputation":162,"user_id":10466214,"display_name":"Julian Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649653373,"creation_date":1649653373,"answer_id":71822887,"question_id":71820921,"body_markdown":"In java Collections are stacks, queues, deques, lists and trees. You can set any collection of Strings. In your case, list are preferred. Change for :                \r\n\r\n    intentIntegrator.setDesiredBarcodeFormats(List.of(&quot;QR_CODE&quot;));\r\n\r\nor \r\n\r\n    intentIntegrator.setDesiredBarcodeFormats(Arrays.asList(&quot;QR_CODE&quot;));\r\n\r\n\r\n","title":"compilation error translating from kotlin to java","body":"<p>In java Collections are stacks, queues, deques, lists and trees. You can set any collection of Strings. In your case, list are preferred. Change for :</p>\n<pre><code>intentIntegrator.setDesiredBarcodeFormats(List.of(&quot;QR_CODE&quot;));\n</code></pre>\n<p>or</p>\n<pre><code>intentIntegrator.setDesiredBarcodeFormats(Arrays.asList(&quot;QR_CODE&quot;));\n</code></pre>\n"}],"owner":{"account_id":24813118,"reputation":21,"user_id":18694297,"display_name":"dostoyevski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71822887,"answer_count":1,"score":0,"last_activity_date":1649653373,"creation_date":1649628492,"question_id":71820921,"body_markdown":"I am adapting an application to read qr codes that was in kotlin to java. I only have an error in this line: `intentIntegrator.setDesiredBarcodeFormats((Collection)CollectionsKt.listOf(&quot;QR_CODE&quot;));`\r\nit launch this error: &quot;Cannot resolve symbol &#39;CollectionsKt&#39;&quot;.\r\nI don&#39;t know how to adapt that to java. It seems to be the list of qr code types it supports. The complete program is this:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        TextView textView;\r\n        ImageButton qrButton;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            textView = findViewById(R.id.textView);\r\n            qrButton= findViewById(R.id.qr_button);\r\n            qrButton.setOnClickListener(new View.OnClickListener() {\r\n                public final void onClick(View it) {\r\n                    IntentIntegrator intentIntegrator = new IntentIntegrator(MainActivity.this);\r\n                    intentIntegrator.setDesiredBarcodeFormats((Collection)CollectionsKt.listOf(&quot;QR_CODE&quot;));\r\n                    //intentIntegrator.setDesiredBarcodeFormats(IntentIntegrator.ONE_D_CODE_TYPES);\r\n                    intentIntegrator.initiateScan();\r\n                }\r\n            });\r\n        }\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            final IntentResult result = IntentIntegrator.parseActivityResult(resultCode, data);\r\n            if (result != null) {\r\n                (new AlertDialog.Builder((Context)this)).setMessage((CharSequence)(&quot;Would you like to go to &quot; + result.getContents() + &#39;?&#39;)).setPositiveButton((CharSequence)&quot;Yes&quot;, (android.content.DialogInterface.OnClickListener)(new android.content.DialogInterface.OnClickListener() {\r\n                    public final void onClick(DialogInterface dialogInterface, int i) {\r\n                        Intent intent = new Intent(&quot;android.intent.action.WEB_SEARCH&quot;);\r\n                        intent.putExtra(&quot;query&quot;, result.getContents());\r\n                        MainActivity.this.startActivity(intent);\r\n                    }\r\n                })).setNegativeButton((CharSequence)&quot;No&quot;, (android.content.DialogInterface.OnClickListener)null).create().show();\r\n            }\r\n            //Toast.makeText(this, result.toString(), Toast.LENGTH_LONG).show();\r\n        }\r\n    }","title":"compilation error translating from kotlin to java","body":"<p>I am adapting an application to read qr codes that was in kotlin to java. I only have an error in this line: <code>intentIntegrator.setDesiredBarcodeFormats((Collection)CollectionsKt.listOf(&quot;QR_CODE&quot;));</code>\nit launch this error: &quot;Cannot resolve symbol 'CollectionsKt'&quot;.\nI don't know how to adapt that to java. It seems to be the list of qr code types it supports. The complete program is this:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TextView textView;\n    ImageButton qrButton;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        textView = findViewById(R.id.textView);\n        qrButton= findViewById(R.id.qr_button);\n        qrButton.setOnClickListener(new View.OnClickListener() {\n            public final void onClick(View it) {\n                IntentIntegrator intentIntegrator = new IntentIntegrator(MainActivity.this);\n                intentIntegrator.setDesiredBarcodeFormats((Collection)CollectionsKt.listOf(&quot;QR_CODE&quot;));\n                //intentIntegrator.setDesiredBarcodeFormats(IntentIntegrator.ONE_D_CODE_TYPES);\n                intentIntegrator.initiateScan();\n            }\n        });\n    }\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        final IntentResult result = IntentIntegrator.parseActivityResult(resultCode, data);\n        if (result != null) {\n            (new AlertDialog.Builder((Context)this)).setMessage((CharSequence)(&quot;Would you like to go to &quot; + result.getContents() + '?')).setPositiveButton((CharSequence)&quot;Yes&quot;, (android.content.DialogInterface.OnClickListener)(new android.content.DialogInterface.OnClickListener() {\n                public final void onClick(DialogInterface dialogInterface, int i) {\n                    Intent intent = new Intent(&quot;android.intent.action.WEB_SEARCH&quot;);\n                    intent.putExtra(&quot;query&quot;, result.getContents());\n                    MainActivity.this.startActivity(intent);\n                }\n            })).setNegativeButton((CharSequence)&quot;No&quot;, (android.content.DialogInterface.OnClickListener)null).create().show();\n        }\n        //Toast.makeText(this, result.toString(), Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n"},{"tags":["python","java","opencv"],"comments":[{"owner":{"account_id":9103055,"reputation":1150,"user_id":6774538,"display_name":"Nicolas Busca"},"score":0,"creation_date":1649614784,"post_id":71819325,"comment_id":126914958,"body_markdown":"Other formats (.png, .bmp) don&#39;t exhibit this issue","body":"Other formats (.png, .bmp) don&#39;t exhibit this issue"},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":2,"creation_date":1649621314,"post_id":71819325,"comment_id":126916400,"body_markdown":"jpeg is **lossy compression**. and then you use **random numbers**. they aren&#39;t the same either. make your code reproducible. generate a fixed dataset that both programs use.","body":"jpeg is <b>lossy compression</b>. and then you use <b>random numbers</b>. they aren&#39;t the same either. make your code reproducible. generate a fixed dataset that both programs use."},{"owner":{"account_id":9103055,"reputation":1150,"user_id":6774538,"display_name":"Nicolas Busca"},"score":0,"creation_date":1649646567,"post_id":71819325,"comment_id":126920320,"body_markdown":"i create a random image *once* and write it to disk. Then I read it both in. python and java. How is the code not reproducible?","body":"i create a random image <i>once</i> and write it to disk. Then I read it both in. python and java. How is the code not reproducible?"}],"answers":[{"tags":[],"owner":{"account_id":5224617,"reputation":6216,"user_id":4177009,"display_name":"Ture P&#229;lsson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649651496,"creation_date":1649651496,"answer_id":71822730,"question_id":71819325,"body_markdown":"According to [this answer on Photography Stack Exchange][1] JPEG:s are not guaranteed to decode to the same bits with different decoders. However, the differences are supposed to be &quot;very, very small&quot;. Whether your results are out of spec or not I cannot tell, but it seems plausible that using random data should bring out the worst in any decoder/encoder combo...\r\n\r\n  [1]: https://photo.stackexchange.com/a/83892","title":"Differences between Python and Java when reading JPG images","body":"<p>According to <a href=\"https://photo.stackexchange.com/a/83892\">this answer on Photography Stack Exchange</a> JPEG:s are not guaranteed to decode to the same bits with different decoders. However, the differences are supposed to be &quot;very, very small&quot;. Whether your results are out of spec or not I cannot tell, but it seems plausible that using random data should bring out the worst in any decoder/encoder combo...</p>\n"}],"owner":{"account_id":9103055,"reputation":1150,"user_id":6774538,"display_name":"Nicolas Busca"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71822730,"answer_count":1,"score":-1,"last_activity_date":1649651496,"creation_date":1649614506,"question_id":71819325,"body_markdown":"I am trying to understand the differences between reading jpg images in Python vs. Java.\r\nThe opencv implementation seems to be different for both languages.\r\n\r\n**Python**:\r\n```\r\n## create a random image and save it\r\nimg = np.random.randint(0,200,size=(192,336,3))\r\ncv.imwrite(&quot;rnd.jpg&quot;,img)\r\n\r\n## read the image in python\r\nimg = cv.imread(&quot;rnd.jpg&quot;)\r\nimg.max(axis=(0,1))\r\n## result: array([255, 228, 255], dtype=uint8)\r\n```\r\n\r\n**Java**:\r\n```\r\n// read the same image in java\r\nMat img = Imgcodecs.imread(&quot;rnd.jpg&quot;);\r\nList&lt;Mat&gt; channels = new ArrayList&lt;Mat&gt;();\r\nCore.split(img, channels);\r\nchannels.forEach(ch -&gt; System.out.println(Core.minMaxLoc(ch).maxVal));\r\n## Result:231.0 219.0 234.0\r\n```\r\n\r\nIt seems that the python implementation of opencv is not decoding the jpg in the same way as the Java implementation. \r\n\r\nIs there a way to make sure that both give the same result?","title":"Differences between Python and Java when reading JPG images","body":"<p>I am trying to understand the differences between reading jpg images in Python vs. Java.\nThe opencv implementation seems to be different for both languages.</p>\n<p><strong>Python</strong>:</p>\n<pre><code>## create a random image and save it\nimg = np.random.randint(0,200,size=(192,336,3))\ncv.imwrite(&quot;rnd.jpg&quot;,img)\n\n## read the image in python\nimg = cv.imread(&quot;rnd.jpg&quot;)\nimg.max(axis=(0,1))\n## result: array([255, 228, 255], dtype=uint8)\n</code></pre>\n<p><strong>Java</strong>:</p>\n<pre><code>// read the same image in java\nMat img = Imgcodecs.imread(&quot;rnd.jpg&quot;);\nList&lt;Mat&gt; channels = new ArrayList&lt;Mat&gt;();\nCore.split(img, channels);\nchannels.forEach(ch -&gt; System.out.println(Core.minMaxLoc(ch).maxVal));\n## Result:231.0 219.0 234.0\n</code></pre>\n<p>It seems that the python implementation of opencv is not decoding the jpg in the same way as the Java implementation.</p>\n<p>Is there a way to make sure that both give the same result?</p>\n"},{"tags":["java","android","android-studio","navigation-drawer"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649399324,"creation_date":1649399324,"answer_id":71792557,"question_id":71792169,"body_markdown":"you have to handle this action by yourself\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        if (item.getItemId() == android.R.id.home) {\r\n            drawerLayout.openDrawer(Gravity.LEFT);\r\n\t\t\treturn true;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\nalso `syncState()` call should be placed in `onPostCreate` or even in `onResume`\r\n\r\nbtw. your empty constructor should at least call `super();`","title":"Why My hamburger icon in android app is not working it is not opening the navigation menu?","body":"<p>you have to handle this action by yourself</p>\n<pre><code>@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    if (item.getItemId() == android.R.id.home) {\n        drawerLayout.openDrawer(Gravity.LEFT);\n        return true;\n    }\n    return super.onOptionsItemSelected(item);\n}\n</code></pre>\n<p>also <code>syncState()</code> call should be placed in <code>onPostCreate</code> or even in <code>onResume</code></p>\n<p>btw. your empty constructor should at least call <code>super();</code></p>\n"},{"tags":[],"owner":{"account_id":17787151,"reputation":378,"user_id":12916990,"display_name":"Vijay S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649650874,"creation_date":1649401776,"answer_id":71792992,"question_id":71792169,"body_markdown":"   you must attach toolbar in ActionBarDrawerToggle\r\n\r\n  \r\n\r\n    mDrawerToogle = new ActionBarDrawerToggle(this, drawer,toolbar,R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n                bar.setHomeButtonEnabled(true);\r\n                bar.setDisplayHomeAsUpEnabled(true);\r\n                mDrawerToogle.syncState();\r\n                drawer.setDrawerListener(mDrawerToogle);","title":"Why My hamburger icon in android app is not working it is not opening the navigation menu?","body":"<p>you must attach toolbar in ActionBarDrawerToggle</p>\n<pre><code>mDrawerToogle = new ActionBarDrawerToggle(this, drawer,toolbar,R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n            bar.setHomeButtonEnabled(true);\n            bar.setDisplayHomeAsUpEnabled(true);\n            mDrawerToogle.syncState();\n            drawer.setDrawerListener(mDrawerToogle);\n</code></pre>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71792992,"answer_count":2,"score":0,"last_activity_date":1649650874,"creation_date":1649396715,"question_id":71792169,"body_markdown":"I am working on an app but there is a problem with hamburger icon as it is not working. It is not opening the navigation menu when i am clicking on it. what is the problem please tell me? I am trying to solve it but dont know what is the problem with it. I am new to code please help me.\r\n\r\n**Here is my fragment code**\r\n\r\n    public class HomeFragment extends Fragment{\r\n\r\n\r\n    NavigationView navigationView;\r\n    ActionBarDrawerToggle toggle;\r\n    DrawerLayout drawerLayout;\r\n    Toolbar toolbar;\r\n\r\n    private int[] images;\r\n    private SliderAdapter sliderAdapter;\r\n\r\n\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n\r\n        View view = inflater.inflate(R.layout.fragment_home, container, false);\r\n\r\n        navigationView = view.findViewById(R.id.navmenu);\r\n        drawerLayout = view.findViewById(R.id.drawerlayout);\r\n        toolbar = view.findViewById(R.id.toolbar);\r\n\r\n        ActionBar mActionBar;\r\n        ((AppCompatActivity) getActivity()).setSupportActionBar(toolbar);\r\n        Objects.requireNonNull(((AppCompatActivity) getActivity()).getSupportActionBar()).setTitle(&quot;&quot;);\r\n\r\n\r\n        toggle = new ActionBarDrawerToggle(getActivity(), drawerLayout, R.string.open, R.string.close);\r\n        drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n        \r\n        ((AppCompatActivity) getActivity()).getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        ((AppCompatActivity) getActivity()).getSupportActionBar().setHomeAsUpIndicator(R.drawable.menu3);\r\n\r\n        return view;\r\n\r\n\r\n    }\r\n    }\r\n\r\n\r\n**Here is my XML file**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/drawerlayout&quot;\r\n    tools:openDrawer=&quot;start&quot;\r\n    android:background=&quot;@color/white&quot;\r\n    tools:context=&quot;.HomeFragment&quot;&gt;\r\n\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;com.google.android.material.appbar.AppBarLayout\r\n            android:id=&quot;@+id/appBarLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;@color/reddark&quot;\r\n                android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_scrollFlags=&quot;scroll|enterAlways&quot;\r\n                app:popupTheme=&quot;@style/Theme.AppCompat.Light&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:layout_width=&quot;150dp&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:layout_gravity=&quot;center_horizontal&quot;\r\n                    android:src=&quot;@drawable/backsssososos&quot; /&gt;\r\n\r\n            &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/search_layout&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@+id/toolbar&quot;\r\n                android:background=&quot;@color/reddark&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/searchbar&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:background=&quot;@drawable/searchbardesign&quot;\r\n                    android:backgroundTint=&quot;#F8F8F8&quot;\r\n                    android:drawableLeft=&quot;@android:drawable/ic_menu_camera&quot;\r\n                    android:drawableRight=&quot;@android:drawable/ic_menu_search&quot;\r\n                    android:drawablePadding=&quot;22dp&quot;\r\n                    android:gravity=&quot;left|center&quot;\r\n                    android:hint=&quot;Enter City,Colony name...&quot;\r\n                    android:imeOptions=&quot;actionSearch&quot;\r\n                    android:inputType=&quot;text&quot;\r\n                    android:maxLines=&quot;1&quot;\r\n                    android:padding=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textColorHint=&quot;@android:color/darker_gray&quot;\r\n                    android:textSize=&quot;16dp&quot; /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n\r\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n\r\n            &lt;androidx.core.widget.NestedScrollView\r\n                android:id=&quot;@+id/nestedScrollView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:clipToPadding=&quot;true&quot;\r\n                app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_margin=&quot;10dp&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;com.smarteist.autoimageslider.SliderView\r\n                        android:id=&quot;@+id/imageSlider&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;300dp&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:sliderAnimationDuration=&quot;600&quot;\r\n                        app:sliderAutoCycleDirection=&quot;back_and_forth&quot;\r\n                        app:sliderAutoCycleEnabled=&quot;true&quot;\r\n                        app:sliderIndicatorAnimationDuration=&quot;600&quot;\r\n                        app:sliderIndicatorGravity=&quot;center_horizontal|bottom&quot;\r\n                        app:sliderIndicatorMargin=&quot;15dp&quot;\r\n                        app:sliderIndicatorOrientation=&quot;horizontal&quot;\r\n                        app:sliderIndicatorPadding=&quot;3dp&quot;\r\n                        app:sliderIndicatorRadius=&quot;2dp&quot;\r\n                        app:sliderIndicatorSelectedColor=&quot;#5A5A5A&quot;\r\n                        app:sliderIndicatorUnselectedColor=&quot;#FFF&quot;\r\n                        app:sliderScrollTimeInSec=&quot;1&quot;\r\n                        app:sliderStartAutoCycle=&quot;true&quot; /&gt;\r\n\r\n\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;@string/text_file_2&quot;&gt;&lt;/TextView&gt;\r\n\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;@string/text_file_2&quot;&gt;\r\n\r\n                    &lt;/TextView&gt;\r\n                &lt;/LinearLayout&gt;\r\n\r\n            &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/navmenu&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        app:itemIconTint=&quot;@color/black&quot;\r\n        android:theme=&quot;@style/NavigationDrawerStyle&quot;\r\n        app:headerLayout=&quot;@layout/navheader&quot;\r\n        app:itemTextColor=&quot;#151515&quot;\r\n        app:menu=&quot;@menu/navigationmenu&quot;&gt;\r\n\r\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n \r\n","title":"Why My hamburger icon in android app is not working it is not opening the navigation menu?","body":"<p>I am working on an app but there is a problem with hamburger icon as it is not working. It is not opening the navigation menu when i am clicking on it. what is the problem please tell me? I am trying to solve it but dont know what is the problem with it. I am new to code please help me.</p>\n<p><strong>Here is my fragment code</strong></p>\n<pre><code>public class HomeFragment extends Fragment{\n\n\nNavigationView navigationView;\nActionBarDrawerToggle toggle;\nDrawerLayout drawerLayout;\nToolbar toolbar;\n\nprivate int[] images;\nprivate SliderAdapter sliderAdapter;\n\n\npublic HomeFragment() {\n    // Required empty public constructor\n}\n\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n}\n\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n\n    View view = inflater.inflate(R.layout.fragment_home, container, false);\n\n    navigationView = view.findViewById(R.id.navmenu);\n    drawerLayout = view.findViewById(R.id.drawerlayout);\n    toolbar = view.findViewById(R.id.toolbar);\n\n    ActionBar mActionBar;\n    ((AppCompatActivity) getActivity()).setSupportActionBar(toolbar);\n    Objects.requireNonNull(((AppCompatActivity) getActivity()).getSupportActionBar()).setTitle(&quot;&quot;);\n\n\n    toggle = new ActionBarDrawerToggle(getActivity(), drawerLayout, R.string.open, R.string.close);\n    drawerLayout.addDrawerListener(toggle);\n    toggle.syncState();\n    \n    ((AppCompatActivity) getActivity()).getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n    ((AppCompatActivity) getActivity()).getSupportActionBar().setHomeAsUpIndicator(R.drawable.menu3);\n\n    return view;\n\n\n}\n}\n</code></pre>\n<p><strong>Here is my XML file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:id=&quot;@+id/drawerlayout&quot;\ntools:openDrawer=&quot;start&quot;\nandroid:background=&quot;@color/white&quot;\ntools:context=&quot;.HomeFragment&quot;&gt;\n\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=&quot;@+id/appBarLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            android:background=&quot;@color/reddark&quot;\n            android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_scrollFlags=&quot;scroll|enterAlways&quot;\n            app:popupTheme=&quot;@style/Theme.AppCompat.Light&quot;&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;150dp&quot;\n                android:layout_height=&quot;50dp&quot;\n                android:layout_gravity=&quot;center_horizontal&quot;\n                android:src=&quot;@drawable/backsssososos&quot; /&gt;\n\n        &lt;/androidx.appcompat.widget.Toolbar&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/search_layout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@+id/toolbar&quot;\n            android:background=&quot;@color/reddark&quot;\n            android:padding=&quot;10dp&quot;\n            app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/searchbar&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:background=&quot;@drawable/searchbardesign&quot;\n                android:backgroundTint=&quot;#F8F8F8&quot;\n                android:drawableLeft=&quot;@android:drawable/ic_menu_camera&quot;\n                android:drawableRight=&quot;@android:drawable/ic_menu_search&quot;\n                android:drawablePadding=&quot;22dp&quot;\n                android:gravity=&quot;left|center&quot;\n                android:hint=&quot;Enter City,Colony name...&quot;\n                android:imeOptions=&quot;actionSearch&quot;\n                android:inputType=&quot;text&quot;\n                android:maxLines=&quot;1&quot;\n                android:padding=&quot;10dp&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textColorHint=&quot;@android:color/darker_gray&quot;\n                android:textSize=&quot;16dp&quot; /&gt;\n        &lt;/RelativeLayout&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n\n        &lt;androidx.core.widget.NestedScrollView\n            android:id=&quot;@+id/nestedScrollView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:clipToPadding=&quot;true&quot;\n            app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_margin=&quot;10dp&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;com.smarteist.autoimageslider.SliderView\n                    android:id=&quot;@+id/imageSlider&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;300dp&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:sliderAnimationDuration=&quot;600&quot;\n                    app:sliderAutoCycleDirection=&quot;back_and_forth&quot;\n                    app:sliderAutoCycleEnabled=&quot;true&quot;\n                    app:sliderIndicatorAnimationDuration=&quot;600&quot;\n                    app:sliderIndicatorGravity=&quot;center_horizontal|bottom&quot;\n                    app:sliderIndicatorMargin=&quot;15dp&quot;\n                    app:sliderIndicatorOrientation=&quot;horizontal&quot;\n                    app:sliderIndicatorPadding=&quot;3dp&quot;\n                    app:sliderIndicatorRadius=&quot;2dp&quot;\n                    app:sliderIndicatorSelectedColor=&quot;#5A5A5A&quot;\n                    app:sliderIndicatorUnselectedColor=&quot;#FFF&quot;\n                    app:sliderScrollTimeInSec=&quot;1&quot;\n                    app:sliderStartAutoCycle=&quot;true&quot; /&gt;\n\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;@string/text_file_2&quot;&gt;&lt;/TextView&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;@string/text_file_2&quot;&gt;\n\n                &lt;/TextView&gt;\n            &lt;/LinearLayout&gt;\n\n        &lt;/androidx.core.widget.NestedScrollView&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n\n&lt;com.google.android.material.navigation.NavigationView\n    android:id=&quot;@+id/navmenu&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_gravity=&quot;start&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    app:itemIconTint=&quot;@color/black&quot;\n    android:theme=&quot;@style/NavigationDrawerStyle&quot;\n    app:headerLayout=&quot;@layout/navheader&quot;\n    app:itemTextColor=&quot;#151515&quot;\n    app:menu=&quot;@menu/navigationmenu&quot;&gt;\n\n&lt;/com.google.android.material.navigation.NavigationView&gt;\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"score":6,"creation_date":1490899989,"post_id":43126147,"comment_id":73331215,"body_markdown":"Random access means that you can access any array element by it&#39;s index in O(1) time.","body":"Random access means that you can access any array element by it&#39;s index in O(1) time."},{"owner":{"account_id":4720404,"reputation":6747,"user_id":3818463,"accept_rate":51,"display_name":"iuliu.net"},"score":0,"creation_date":1490900109,"post_id":43126147,"comment_id":73331278,"body_markdown":"Which is why I always suggested the name should be changed to `arbitrary access`, not `random`. Until then, think of it as `arbitrary`.","body":"Which is why I always suggested the name should be changed to <code>arbitrary access</code>, not <code>random</code>. Until then, think of it as <code>arbitrary</code>."},{"owner":{"account_id":7223449,"reputation":774,"user_id":5513005,"accept_rate":100,"display_name":"Yash Karanke"},"score":0,"creation_date":1490900127,"post_id":43126147,"comment_id":73331287,"body_markdown":"@Oleksandr random access doesn&#39;t mean that accessing any element of the array at any given point in execution or compilation? even if it is not required","body":"@Oleksandr random access doesn&#39;t mean that accessing any element of the array at any given point in execution or compilation? even if it is not required"},{"owner":{"account_id":7223449,"reputation":774,"user_id":5513005,"accept_rate":100,"display_name":"Yash Karanke"},"score":0,"creation_date":1490900249,"post_id":43126147,"comment_id":73331345,"body_markdown":"@iuliu.net please tell more about `arbitrary access`","body":"@iuliu.net please tell more about <code>arbitrary access</code>"}],"answers":[{"tags":[],"owner":{"account_id":3207438,"reputation":19204,"user_id":2708210,"accept_rate":62,"display_name":"Rahul Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490900210,"creation_date":1490900210,"answer_id":43126234,"question_id":43126147,"body_markdown":"**Java array** is an object the contains elements of similar data type. It is a data structure where we store similar elements. We can store only fixed set of elements in a java array.\r\n\r\n**Advantage of Java Array**\r\n\r\nCode Optimization: It makes the code optimized, we can retrieve or sort the data easily.\r\nRandom access: We can get any data located at any index position.\r\n\r\n**Disadvantage of Java Array**\r\n\r\nSize Limit: We can store only fixed size of elements in the array. It doesn&#39;t grow its size at runtime. To solve this problem, collection framework is used in java.","title":"Random Access in Array","body":"<p><strong>Java array</strong> is an object the contains elements of similar data type. It is a data structure where we store similar elements. We can store only fixed set of elements in a java array.</p>\n\n<p><strong>Advantage of Java Array</strong></p>\n\n<p>Code Optimization: It makes the code optimized, we can retrieve or sort the data easily.\nRandom access: We can get any data located at any index position.</p>\n\n<p><strong>Disadvantage of Java Array</strong></p>\n\n<p>Size Limit: We can store only fixed size of elements in the array. It doesn't grow its size at runtime. To solve this problem, collection framework is used in java.</p>\n"},{"tags":[],"owner":{"account_id":3747500,"reputation":51,"user_id":3115833,"accept_rate":80,"display_name":"brunocortes06"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490900377,"creation_date":1490900377,"answer_id":43126305,"question_id":43126147,"body_markdown":"Depends on your use, if you want to access data again, i recommend to see Maps ou HashMaps using &lt;key,value&gt;, it&#39;s the most simple way to work.\r\n\r\nIf you want to sort an array you can use Arrays.sort(...);","title":"Random Access in Array","body":"<p>Depends on your use, if you want to access data again, i recommend to see Maps ou HashMaps using , it's the most simple way to work.</p>\n\n<p>If you want to sort an array you can use Arrays.sort(...);</p>\n"},{"tags":[],"owner":{"account_id":10577308,"reputation":86,"user_id":7792265,"display_name":"Sasha Makoveckii"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1490900433,"creation_date":1490900433,"answer_id":43126318,"question_id":43126147,"body_markdown":"Random(direct) access implies the ability to access any entry in a array in constant time (independent of its position in the array and of array&#39;s size). And that is big advantage.\r\n\r\nIt is typically contrasted to sequential access. Datastructure has sequential access if we can only visit the values it contains in one particular order.","title":"Random Access in Array","body":"<p>Random(direct) access implies the ability to access any entry in a array in constant time (independent of its position in the array and of array's size). And that is big advantage.</p>\n\n<p>It is typically contrasted to sequential access. Datastructure has sequential access if we can only visit the values it contains in one particular order.</p>\n"},{"tags":[],"owner":{"account_id":6929485,"reputation":13,"user_id":5319408,"display_name":"Sudeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490901400,"creation_date":1490901042,"answer_id":43126492,"question_id":43126147,"body_markdown":"It means any element in an array has constant access time O(1). Arrays store it&#39;s elements in contiguous memory locations. Arrays store objects with fixed size and any object can be accessed by calculating the offset which is (size*index) instead of traversing the entire array sequentially.","title":"Random Access in Array","body":"<p>It means any element in an array has constant access time O(1). Arrays store it's elements in contiguous memory locations. Arrays store objects with fixed size and any object can be accessed by calculating the offset which is (size*index) instead of traversing the entire array sequentially.</p>\n"}],"owner":{"account_id":7223449,"reputation":774,"user_id":5513005,"accept_rate":100,"display_name":"Yash Karanke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4769,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"accepted_answer_id":43126318,"answer_count":4,"score":2,"last_activity_date":1649650422,"creation_date":1490899908,"question_id":43126147,"body_markdown":"I was reading [this][1], advantages of java, where it states that `random access` is an advantage of arrays in java. I do not understand how can accessing a random element of an array is an advantage. Shouldn&#39;t it be a disadvantage?\r\n\r\n\r\nWhy is java allowing to access elements of an array randomly, if the data is stored continuously, shouldn&#39;t the data be accessed in an orderly manner?\r\n\r\n\r\n  [1]: http://www.javatpoint.com/array-in-java","title":"Random Access in Array","body":"<p>I was reading <a href=\"http://www.javatpoint.com/array-in-java\" rel=\"noreferrer\">this</a>, advantages of java, where it states that <code>random access</code> is an advantage of arrays in java. I do not understand how can accessing a random element of an array is an advantage. Shouldn't it be a disadvantage?</p>\n\n<p>Why is java allowing to access elements of an array randomly, if the data is stored continuously, shouldn't the data be accessed in an orderly manner?</p>\n"},{"tags":["java","swing","layout-manager"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1649648891,"post_id":71822518,"comment_id":126920587,"body_markdown":"Use a `GridBagLayout`, also, don&#39;t use a `MouseListener` on a button, that&#39;s what the `ActionListener` is for","body":"Use a <code>GridBagLayout</code>, also, don&#39;t use a <code>MouseListener</code> on a button, that&#39;s what the <code>ActionListener</code> is for"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1649648891,"post_id":71822518,"comment_id":126920588,"body_markdown":"A `GridBagLayout` is good at centering things, as opposed to `setLayout(null);`.","body":"A <code>GridBagLayout</code> is good at centering things, as opposed to <code>setLayout(null);</code>."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649649434,"creation_date":1649649086,"answer_id":71822540,"question_id":71822518,"body_markdown":"Without doing anything special, you could simply make use of a `GridBagLayout`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n\r\n                add(new JButton(&quot;Add&quot;));\r\n                add(new JButton(&quot;Subtract&quot;));\r\n            }\r\n        }\r\n    }\r\n\r\nSee [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) and [How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) for more details\r\n\r\nIf you want the buttons to be the same size, you could use a compound layout, utilising both `GridBagLayout` and `GridLayout`, for example...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.GridLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n\r\n                JPanel contentPane = new JPanel(new GridLayout(1, 2));\r\n                contentPane.add(new JButton(&quot;Add&quot;));\r\n                contentPane.add(new JButton(&quot;Subtract&quot;));\r\n\r\n                add(contentPane);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nBut, if you want to do something REALLY funky, you could build your own layout manager, like a `ButtonLayout`, for example...\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThis basically does the same as the second example, but offers some additional alignment options which are easier achieved then doing them through `GridBagLayout`\r\n\r\n    import java.awt.Component;\r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.LayoutManager2;\r\n    import java.awt.Point;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            public TestPane() {\r\n                setLayout(new ButtonLayout(ButtonLayout.Alignment.HORIZONTAL, ButtonLayout.Anchor.CENTER));\r\n                add(new JButton(&quot;Add&quot;));\r\n                add(new JButton(&quot;Subtract&quot;));\r\n            }\r\n        }\r\n\r\n        public class ButtonLayout implements LayoutManager2 {\r\n\r\n            public enum Alignment {\r\n                VERTICAL, HORIZONTAL\r\n            }\r\n\r\n            public enum Anchor {\r\n                LEADING, CENTER, TRAILING\r\n            }\r\n\r\n            private Alignment alignment;\r\n            private Anchor anchor;\r\n            private int padding;\r\n\r\n            private Dimension virtualBounds;\r\n\r\n            public ButtonLayout() {\r\n                this(Alignment.HORIZONTAL, Anchor.TRAILING, 0);\r\n            }\r\n\r\n            public ButtonLayout(Alignment alignment, Anchor anchor) {\r\n                this(alignment, anchor, 0);\r\n            }\r\n\r\n            public ButtonLayout(Alignment alignment, Anchor anchor, int padding) {\r\n                this.alignment = alignment;\r\n                this.padding = padding;\r\n                this.anchor = anchor;\r\n            }\r\n\r\n            public Alignment getAlignment() {\r\n                return alignment;\r\n            }\r\n\r\n            public Anchor getAnchor() {\r\n                return anchor;\r\n            }\r\n\r\n            protected int getPadding() {\r\n                return padding;\r\n            }\r\n\r\n            protected int getTotalPadding(Container parent) {\r\n                int padding = getPadding();\r\n                return (padding * parent.getComponentCount()) - padding;\r\n            }\r\n\r\n            @Override\r\n            public void addLayoutComponent(Component comp, Object constraints) {\r\n            }\r\n\r\n            @Override\r\n            public void addLayoutComponent(String name, Component comp) {\r\n            }\r\n\r\n            @Override\r\n            public void removeLayoutComponent(Component comp) {\r\n            }\r\n\r\n            @Override\r\n            public void invalidateLayout(Container target) {\r\n                virtualBounds = null;\r\n            }\r\n\r\n            protected Dimension virtualLayout(Container parent) {\r\n                if (virtualBounds != null) {\r\n                    return virtualBounds;\r\n                }\r\n                int maxWidth = 0;\r\n                int maxHeight = 0;\r\n\r\n                for (Component component : parent.getComponents()) {\r\n                    Dimension preferredSize = component.getPreferredSize();\r\n                    maxHeight = Math.max(maxHeight, preferredSize.height);\r\n                    maxWidth = Math.max(maxWidth, preferredSize.width);\r\n                }\r\n\r\n                int padding = 0;\r\n                int width = 0;\r\n                int height = 0;\r\n                int componentCount = parent.getComponentCount();\r\n                switch (alignment) {\r\n                    case HORIZONTAL:\r\n                        width = (maxWidth * componentCount) + getTotalPadding(parent);\r\n                        height = maxHeight;\r\n                        break;\r\n                    case VERTICAL:\r\n                        width = maxWidth;\r\n                        height = (maxHeight * componentCount) + getTotalPadding(parent);\r\n                        break;\r\n                }\r\n\r\n                virtualBounds = new Dimension(width, height);\r\n                return virtualBounds;\r\n            }\r\n\r\n            @Override\r\n            public Dimension maximumLayoutSize(Container parent) {\r\n                return virtualLayout(parent);\r\n            }\r\n\r\n            @Override\r\n            public Dimension preferredLayoutSize(Container parent) {\r\n                return virtualLayout(parent);\r\n            }\r\n\r\n            @Override\r\n            public Dimension minimumLayoutSize(Container parent) {\r\n                return virtualLayout(parent);\r\n            }\r\n\r\n            @Override\r\n            public float getLayoutAlignmentX(Container target) {\r\n                return 0.5f;\r\n            }\r\n\r\n            @Override\r\n            public float getLayoutAlignmentY(Container target) {\r\n                return 0.5f;\r\n            }\r\n\r\n            @Override\r\n            public void layoutContainer(Container parent) {\r\n                int maxWidth = 0;\r\n                int maxHeight = 0;\r\n\r\n                for (Component component : parent.getComponents()) {\r\n                    Dimension preferredSize = component.getPreferredSize();\r\n                    maxHeight = Math.max(maxHeight, preferredSize.height);\r\n                    maxWidth = Math.max(maxWidth, preferredSize.width);\r\n                }\r\n\r\n                Dimension defaultSize = new Dimension(maxWidth, maxHeight);\r\n                Point point = offsetForAnchor(parent, defaultSize);\r\n\r\n                int xDelta = 0;\r\n                int yDelta = 0;\r\n                switch (alignment) {\r\n                    case HORIZONTAL:\r\n                        xDelta = getPadding() + defaultSize.width;\r\n                        break;\r\n                    case VERTICAL:\r\n                        yDelta = getPadding() + defaultSize.height;\r\n                        break;\r\n                }\r\n                for (Component component : parent.getComponents()) {\r\n                    component.setSize(defaultSize);\r\n                    component.setLocation(point);\r\n                    point = new Point(point.x + xDelta, point.y + yDelta);\r\n                }\r\n            }\r\n\r\n            protected Point offsetForAnchor(Container parent, Dimension defaultSize) {\r\n                switch (anchor) {\r\n                    case LEADING:\r\n                        return leadingOffSet(parent, defaultSize);\r\n                    case TRAILING:\r\n                        return trailingOffSet(parent, defaultSize);\r\n                    case CENTER:\r\n                        return centerOffSet(parent, defaultSize);\r\n                }\r\n                return new Point(0, 0);\r\n            }\r\n\r\n            protected Point leadingOffSet(Container parent, Dimension defaultSize) {\r\n                Point point = new Point(0, 0);\r\n                switch (alignment) {\r\n                    case HORIZONTAL:\r\n                        point.x = padding;\r\n                        point.y = (parent.getHeight() - defaultSize.height) / 2;\r\n                        break;\r\n                    case VERTICAL:\r\n                        point.x = (parent.getWidth() - defaultSize.width) / 2;\r\n                        point.y = padding;\r\n                        break;\r\n                }\r\n                return point;\r\n            }\r\n\r\n            protected Point trailingOffSet(Container parent, Dimension defaultSize) {\r\n                Point point = new Point(0, 0);\r\n                int componentCount = parent.getComponentCount();\r\n                switch (alignment) {\r\n                    case HORIZONTAL:\r\n                        int totalWidth = (defaultSize.width * componentCount) + getTotalPadding(parent);\r\n                        point.x = parent.getWidth() - totalWidth;\r\n                        point.y = (parent.getHeight() - defaultSize.height) / 2;\r\n                        break;\r\n                    case VERTICAL:\r\n                        int totalHeight = (defaultSize.height * componentCount) + getTotalPadding(parent);\r\n                        point.x = (parent.getWidth() - defaultSize.width) / 2;\r\n                        point.y = parent.getHeight() - totalHeight;\r\n                        break;\r\n                }\r\n                return point;\r\n            }\r\n\r\n            protected Point centerOffSet(Container parent, Dimension defaultSize) {\r\n                Point point = new Point(0, 0);\r\n                int componentCount = parent.getComponentCount();\r\n                switch (alignment) {\r\n                    case HORIZONTAL: {\r\n                        int totalWidth = (defaultSize.width * componentCount) + getTotalPadding(parent);\r\n                        point.x = (parent.getWidth() - totalWidth) / 2;\r\n                        point.y = (parent.getHeight() - defaultSize.height) / 2;\r\n                    }\r\n                    break;\r\n                    case VERTICAL: {\r\n                        int totalHeight = (defaultSize.height * componentCount) + getTotalPadding(parent);\r\n                        point.x = (parent.getWidth() - defaultSize.width) / 2;\r\n                        point.y = (parent.getHeight() - totalHeight) / 2;\r\n                    }\r\n                    break;\r\n                }\r\n                return point;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/76Hd7.png\r\n  [2]: https://i.stack.imgur.com/e0Sxo.png\r\n  [3]: https://i.stack.imgur.com/lRcTC.png","title":"Making JButtons Always Centered Height-Wise in the JFrame?","body":"<p>Without doing anything special, you could simply make use of a <code>GridBagLayout</code></p>\n<p><a href=\"https://i.stack.imgur.com/76Hd7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/76Hd7.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        public TestPane() {\n            setLayout(new GridBagLayout());\n\n            add(new JButton(&quot;Add&quot;));\n            add(new JButton(&quot;Subtract&quot;));\n        }\n    }\n}\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a> for more details</p>\n<p>If you want the buttons to be the same size, you could use a compound layout, utilising both <code>GridBagLayout</code> and <code>GridLayout</code>, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/e0Sxo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e0Sxo.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        public TestPane() {\n            setLayout(new GridBagLayout());\n\n            JPanel contentPane = new JPanel(new GridLayout(1, 2));\n            contentPane.add(new JButton(&quot;Add&quot;));\n            contentPane.add(new JButton(&quot;Subtract&quot;));\n\n            add(contentPane);\n        }\n    }\n}\n</code></pre>\n<p>But, if you want to do something REALLY funky, you could build your own layout manager, like a <code>ButtonLayout</code>, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/lRcTC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lRcTC.png\" alt=\"enter image description here\" /></a></p>\n<p>This basically does the same as the second example, but offers some additional alignment options which are easier achieved then doing them through <code>GridBagLayout</code></p>\n<pre><code>import java.awt.Component;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.LayoutManager2;\nimport java.awt.Point;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        public TestPane() {\n            setLayout(new ButtonLayout(ButtonLayout.Alignment.HORIZONTAL, ButtonLayout.Anchor.CENTER));\n            add(new JButton(&quot;Add&quot;));\n            add(new JButton(&quot;Subtract&quot;));\n        }\n    }\n\n    public class ButtonLayout implements LayoutManager2 {\n\n        public enum Alignment {\n            VERTICAL, HORIZONTAL\n        }\n\n        public enum Anchor {\n            LEADING, CENTER, TRAILING\n        }\n\n        private Alignment alignment;\n        private Anchor anchor;\n        private int padding;\n\n        private Dimension virtualBounds;\n\n        public ButtonLayout() {\n            this(Alignment.HORIZONTAL, Anchor.TRAILING, 0);\n        }\n\n        public ButtonLayout(Alignment alignment, Anchor anchor) {\n            this(alignment, anchor, 0);\n        }\n\n        public ButtonLayout(Alignment alignment, Anchor anchor, int padding) {\n            this.alignment = alignment;\n            this.padding = padding;\n            this.anchor = anchor;\n        }\n\n        public Alignment getAlignment() {\n            return alignment;\n        }\n\n        public Anchor getAnchor() {\n            return anchor;\n        }\n\n        protected int getPadding() {\n            return padding;\n        }\n\n        protected int getTotalPadding(Container parent) {\n            int padding = getPadding();\n            return (padding * parent.getComponentCount()) - padding;\n        }\n\n        @Override\n        public void addLayoutComponent(Component comp, Object constraints) {\n        }\n\n        @Override\n        public void addLayoutComponent(String name, Component comp) {\n        }\n\n        @Override\n        public void removeLayoutComponent(Component comp) {\n        }\n\n        @Override\n        public void invalidateLayout(Container target) {\n            virtualBounds = null;\n        }\n\n        protected Dimension virtualLayout(Container parent) {\n            if (virtualBounds != null) {\n                return virtualBounds;\n            }\n            int maxWidth = 0;\n            int maxHeight = 0;\n\n            for (Component component : parent.getComponents()) {\n                Dimension preferredSize = component.getPreferredSize();\n                maxHeight = Math.max(maxHeight, preferredSize.height);\n                maxWidth = Math.max(maxWidth, preferredSize.width);\n            }\n\n            int padding = 0;\n            int width = 0;\n            int height = 0;\n            int componentCount = parent.getComponentCount();\n            switch (alignment) {\n                case HORIZONTAL:\n                    width = (maxWidth * componentCount) + getTotalPadding(parent);\n                    height = maxHeight;\n                    break;\n                case VERTICAL:\n                    width = maxWidth;\n                    height = (maxHeight * componentCount) + getTotalPadding(parent);\n                    break;\n            }\n\n            virtualBounds = new Dimension(width, height);\n            return virtualBounds;\n        }\n\n        @Override\n        public Dimension maximumLayoutSize(Container parent) {\n            return virtualLayout(parent);\n        }\n\n        @Override\n        public Dimension preferredLayoutSize(Container parent) {\n            return virtualLayout(parent);\n        }\n\n        @Override\n        public Dimension minimumLayoutSize(Container parent) {\n            return virtualLayout(parent);\n        }\n\n        @Override\n        public float getLayoutAlignmentX(Container target) {\n            return 0.5f;\n        }\n\n        @Override\n        public float getLayoutAlignmentY(Container target) {\n            return 0.5f;\n        }\n\n        @Override\n        public void layoutContainer(Container parent) {\n            int maxWidth = 0;\n            int maxHeight = 0;\n\n            for (Component component : parent.getComponents()) {\n                Dimension preferredSize = component.getPreferredSize();\n                maxHeight = Math.max(maxHeight, preferredSize.height);\n                maxWidth = Math.max(maxWidth, preferredSize.width);\n            }\n\n            Dimension defaultSize = new Dimension(maxWidth, maxHeight);\n            Point point = offsetForAnchor(parent, defaultSize);\n\n            int xDelta = 0;\n            int yDelta = 0;\n            switch (alignment) {\n                case HORIZONTAL:\n                    xDelta = getPadding() + defaultSize.width;\n                    break;\n                case VERTICAL:\n                    yDelta = getPadding() + defaultSize.height;\n                    break;\n            }\n            for (Component component : parent.getComponents()) {\n                component.setSize(defaultSize);\n                component.setLocation(point);\n                point = new Point(point.x + xDelta, point.y + yDelta);\n            }\n        }\n\n        protected Point offsetForAnchor(Container parent, Dimension defaultSize) {\n            switch (anchor) {\n                case LEADING:\n                    return leadingOffSet(parent, defaultSize);\n                case TRAILING:\n                    return trailingOffSet(parent, defaultSize);\n                case CENTER:\n                    return centerOffSet(parent, defaultSize);\n            }\n            return new Point(0, 0);\n        }\n\n        protected Point leadingOffSet(Container parent, Dimension defaultSize) {\n            Point point = new Point(0, 0);\n            switch (alignment) {\n                case HORIZONTAL:\n                    point.x = padding;\n                    point.y = (parent.getHeight() - defaultSize.height) / 2;\n                    break;\n                case VERTICAL:\n                    point.x = (parent.getWidth() - defaultSize.width) / 2;\n                    point.y = padding;\n                    break;\n            }\n            return point;\n        }\n\n        protected Point trailingOffSet(Container parent, Dimension defaultSize) {\n            Point point = new Point(0, 0);\n            int componentCount = parent.getComponentCount();\n            switch (alignment) {\n                case HORIZONTAL:\n                    int totalWidth = (defaultSize.width * componentCount) + getTotalPadding(parent);\n                    point.x = parent.getWidth() - totalWidth;\n                    point.y = (parent.getHeight() - defaultSize.height) / 2;\n                    break;\n                case VERTICAL:\n                    int totalHeight = (defaultSize.height * componentCount) + getTotalPadding(parent);\n                    point.x = (parent.getWidth() - defaultSize.width) / 2;\n                    point.y = parent.getHeight() - totalHeight;\n                    break;\n            }\n            return point;\n        }\n\n        protected Point centerOffSet(Container parent, Dimension defaultSize) {\n            Point point = new Point(0, 0);\n            int componentCount = parent.getComponentCount();\n            switch (alignment) {\n                case HORIZONTAL: {\n                    int totalWidth = (defaultSize.width * componentCount) + getTotalPadding(parent);\n                    point.x = (parent.getWidth() - totalWidth) / 2;\n                    point.y = (parent.getHeight() - defaultSize.height) / 2;\n                }\n                break;\n                case VERTICAL: {\n                    int totalHeight = (defaultSize.height * componentCount) + getTotalPadding(parent);\n                    point.x = (parent.getWidth() - defaultSize.width) / 2;\n                    point.y = (parent.getHeight() - totalHeight) / 2;\n                }\n                break;\n            }\n            return point;\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22832016,"reputation":37,"user_id":16980313,"display_name":"user16980313"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71822540,"answer_count":1,"score":0,"last_activity_date":1649649434,"creation_date":1649648633,"question_id":71822518,"body_markdown":"I&#39;ve written the following program thus far to help me get familiar with Java Swing GUI Programming. Is there a way that I could modify my code so that the two `JButton` controls (`addButton` &amp; `subtractButton`) are always centered height-wise in the `JFrame` as the window is resized? \r\n\r\n    public class GUITesting extends JFrame implements ActionListener {\r\n\t\r\n\tprivate static final int INITIAL_WIDTH = 400;\r\n\tprivate static final int INITIAL_HEIGHT = 300;\r\n\tJButton addButton, subtractButton;\r\n\t\r\n\tpublic GUITesting() {\r\n\t\t\r\n\t\tsetSize(INITIAL_WIDTH, INITIAL_HEIGHT);\r\n\t\tsetLocation(200,200);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetTitle(&quot;0&quot;);\r\n\t\t\r\n\t\taddButton = new JButton(&quot;Add&quot;);\r\n\t\taddButton.addActionListener(this);\r\n\t\tadd(addButton); // Adding Button to the Window Frame Creation\r\n\t\tsubtractButton = new JButton(&quot;Subtract&quot;);\r\n\t\tsubtractButton.addActionListener(this);\r\n\t\t\r\n\t\tsetLayout(null);\r\n\t\t\r\n\t\taddButton.setSize(INITIAL_WIDTH / 4, INITIAL_HEIGHT / 6);\r\n\t\tsubtractButton.setSize(INITIAL_WIDTH / 4, INITIAL_HEIGHT / 6);\r\n\t\t\r\n\t\taddButton.setLocation(INITIAL_WIDTH / 6, INITIAL_HEIGHT / 6);\r\n\t\tsubtractButton.setLocation(7 * INITIAL_WIDTH / 12, INITIAL_HEIGHT / 6);\r\n\t\t\r\n\t\tadd(addButton);\r\n\t\tadd(subtractButton);\r\n\t\t\r\n\t\taddComponentListener(new Resizer());\r\n\t\taddMouseListener(new MouseAdapter() {\r\n\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\tint x = e.getX();\r\n\t\t\t\tint y = e.getY();\r\n\t\t\t\tsetTitle(&quot;Mouse clicked at (&quot; + x + &quot;,&quot; + y + &quot;)&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\r\n\t\tint value = Integer.parseInt(getTitle());\r\n\t\t\r\n\t\tif (event.getActionCommand().equals(&quot;Add&quot;)) {\r\n\t\t\tvalue = value + 1;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvalue = value - 1;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate class Resizer extends ComponentAdapter {\r\n\t\t\r\n\t\t// Override Some of the Abstract Methods from ComponentAdapter\r\n\t\tpublic void componentResized(ComponentEvent event) {\r\n\t\t\tint width = getWidth();\r\n\t\t\tint height = getHeight();\r\n\t\t\taddButton.setSize(width / 4, height / 6); \r\n\t\t\tsubtractButton.setSize(width / 4, height / 6);\r\n\t\t\taddButton.setLocation(width / 6, height / 6);\r\n\t\t\tsubtractButton.setLocation(7 * width / 12, height / 6);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tGUITesting window = new GUITesting();\r\n\t\twindow.setVisible(true);\r\n\t}\r\n    }","title":"Making JButtons Always Centered Height-Wise in the JFrame?","body":"<p>I've written the following program thus far to help me get familiar with Java Swing GUI Programming. Is there a way that I could modify my code so that the two <code>JButton</code> controls (<code>addButton</code> &amp; <code>subtractButton</code>) are always centered height-wise in the <code>JFrame</code> as the window is resized?</p>\n<pre><code>public class GUITesting extends JFrame implements ActionListener {\n\nprivate static final int INITIAL_WIDTH = 400;\nprivate static final int INITIAL_HEIGHT = 300;\nJButton addButton, subtractButton;\n\npublic GUITesting() {\n    \n    setSize(INITIAL_WIDTH, INITIAL_HEIGHT);\n    setLocation(200,200);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setTitle(&quot;0&quot;);\n    \n    addButton = new JButton(&quot;Add&quot;);\n    addButton.addActionListener(this);\n    add(addButton); // Adding Button to the Window Frame Creation\n    subtractButton = new JButton(&quot;Subtract&quot;);\n    subtractButton.addActionListener(this);\n    \n    setLayout(null);\n    \n    addButton.setSize(INITIAL_WIDTH / 4, INITIAL_HEIGHT / 6);\n    subtractButton.setSize(INITIAL_WIDTH / 4, INITIAL_HEIGHT / 6);\n    \n    addButton.setLocation(INITIAL_WIDTH / 6, INITIAL_HEIGHT / 6);\n    subtractButton.setLocation(7 * INITIAL_WIDTH / 12, INITIAL_HEIGHT / 6);\n    \n    add(addButton);\n    add(subtractButton);\n    \n    addComponentListener(new Resizer());\n    addMouseListener(new MouseAdapter() {\n        public void mouseClicked(MouseEvent e) {\n            int x = e.getX();\n            int y = e.getY();\n            setTitle(&quot;Mouse clicked at (&quot; + x + &quot;,&quot; + y + &quot;)&quot;);\n        }\n    });\n    \n}\n\npublic void actionPerformed(ActionEvent event) {\n    \n    int value = Integer.parseInt(getTitle());\n    \n    if (event.getActionCommand().equals(&quot;Add&quot;)) {\n        value = value + 1;\n    }\n    else {\n        value = value - 1;\n    }\n    \n}\n\nprivate class Resizer extends ComponentAdapter {\n    \n    // Override Some of the Abstract Methods from ComponentAdapter\n    public void componentResized(ComponentEvent event) {\n        int width = getWidth();\n        int height = getHeight();\n        addButton.setSize(width / 4, height / 6); \n        subtractButton.setSize(width / 4, height / 6);\n        addButton.setLocation(width / 6, height / 6);\n        subtractButton.setLocation(7 * width / 12, height / 6);\n    }\n    \n}\n\npublic static void main(String[] args) {\n    GUITesting window = new GUITesting();\n    window.setVisible(true);\n}\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":10454216,"reputation":594,"user_id":7706832,"display_name":"Maulik Togadiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649647027,"creation_date":1649646135,"answer_id":71822274,"question_id":71822005,"body_markdown":"This is because you must receiving security exception as you are accessing network state.\r\n\r\nPlease add below permission in you manifest.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nIn case you face any error and want to debug from android studio you can put &quot;No Filter&quot; instead &quot;Show only selected application&quot; sometime this works.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nYour app is running successfully!\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I9QCu.png\r\n  [2]: https://i.stack.imgur.com/EjGDn.png","title":"Android app randomly exiting app with no error what do i need to do?","body":"<p>This is because you must receiving security exception as you are accessing network state.</p>\n<p>Please add below permission in you manifest.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>In case you face any error and want to debug from android studio you can put &quot;No Filter&quot; instead &quot;Show only selected application&quot; sometime this works.</p>\n<p><a href=\"https://i.stack.imgur.com/I9QCu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I9QCu.png\" alt=\"enter image description here\" /></a></p>\n<p>Your app is running successfully!</p>\n<p><a href=\"https://i.stack.imgur.com/EjGDn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EjGDn.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23942675,"reputation":9,"user_id":17935487,"display_name":"Culann Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649647027,"creation_date":1649642750,"question_id":71822005,"body_markdown":"I am trying to implement this loading future when implemented all the way the app will open it will show the loading circle but then will randomly turn the app off and exit with no error I&#39;m unaware of why this keeps on happening or what exactly am I doing wrong I have listed my code for my main activity Java if someone could please help me that would be amazing.\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    String ShowOrHideWebViewInitialUse = &quot;show&quot;;\r\n    private ProgressBar spinner;\r\n\r\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        WebView webView = findViewById(R.id.my_webview);\r\n        Button reloadBtn = findViewById(R.id.reload_btn);\r\n        ProgressBar progress = findViewById(R.id.my_progress);\r\n        TextView textView = findViewById(R.id.textView5);\r\n\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setBuiltInZoomControls(true);\r\n        webSettings.setJavaScriptEnabled(true);\r\n\r\n        webSettings.setLoadWithOverviewMode(true);\r\n        webSettings.setUseWideViewPort(true);\r\n        webSettings.setSupportZoom(true);\r\n        webSettings.setBuiltInZoomControls(true);\r\n        webSettings.setDisplayZoomControls(false);\r\n        webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\r\n        webView.setScrollbarFadingEnabled(false);\r\n        webView.setWebViewClient(new WebViewClient() {\r\n\r\n            @Override\r\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                super.onPageStarted(view, url, favicon);\r\n                webView.setVisibility(View.GONE);\r\n                if (ShowOrHideWebViewInitialUse.equals(&quot;show&quot;)) {\r\n                    webView.setVisibility(webView.INVISIBLE);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onPageFinished(WebView view, String url) {\r\n                ShowOrHideWebViewInitialUse = &quot;hide&quot;;\r\n                spinner.setVisibility(View.GONE);\r\n                super.onPageFinished(view, url);\r\n                progress.setVisibility(View.GONE);\r\n                webView.setVisibility(View.VISIBLE);\r\n            }\r\n        });\r\n\r\n\r\n        if (isNetworkAvailable(this)) {\r\n\r\n            webView.loadUrl(&quot;https://racks.tk&quot;);\r\n\r\n            reloadBtn.setVisibility(View.GONE);\r\n            textView.setVisibility(View.GONE);\r\n\r\n        } else {\r\n\r\n            Toast.makeText(this, &quot;No internet. Please check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\r\n\r\n            reloadBtn.setVisibility(View.VISIBLE);\r\n            textView.setVisibility(View.VISIBLE);\r\n\r\n        }\r\n\r\n\r\n\r\n        reloadBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (isNetworkAvailable(MainActivity.this)) {\r\n                    reloadBtn.setVisibility(View.GONE);\r\n                    textView.setVisibility(View.GONE);\r\n\r\n                    webView.loadUrl(&quot;https://racks.tk&quot;);\r\n                } else {\r\n\r\n                    reloadBtn.setVisibility(View.VISIBLE);\r\n                    textView.setVisibility(View.VISIBLE);\r\n\r\n                    Toast.makeText(MainActivity.this, &quot;No internet. Please check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.game_menu, menu);\r\n        return true;\r\n    }\r\n\r\n    @SuppressLint(&quot;NonConstantResourceId&quot;)\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        WebView webView = findViewById(R.id.my_webview);\r\n        // Handle item selection\r\n        switch (item.getItemId()) {\r\n            case R.id.site:\r\n                startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://racks.tk&quot;)));\r\n                break;\r\n            case R.id.ribbon:\r\n                webView.reload();\r\n                break;\r\n            case R.id.support:\r\n                startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://racks.tk/support&quot;)));\r\n                break;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n\r\n    public static boolean isNetworkAvailable(Context context) {\r\n\r\n        ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n\r\n        if (connectivityManager != null) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\r\n                return capabilities != null &amp;&amp; (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET));\r\n            } else {\r\n                NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\r\n                return activeNetwork != null &amp;&amp; activeNetwork.isConnected();\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```","title":"Android app randomly exiting app with no error what do i need to do?","body":"<p>I am trying to implement this loading future when implemented all the way the app will open it will show the loading circle but then will randomly turn the app off and exit with no error I'm unaware of why this keeps on happening or what exactly am I doing wrong I have listed my code for my main activity Java if someone could please help me that would be amazing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n\n    String ShowOrHideWebViewInitialUse = &quot;show&quot;;\n    private ProgressBar spinner;\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        WebView webView = findViewById(R.id.my_webview);\n        Button reloadBtn = findViewById(R.id.reload_btn);\n        ProgressBar progress = findViewById(R.id.my_progress);\n        TextView textView = findViewById(R.id.textView5);\n\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setBuiltInZoomControls(true);\n        webSettings.setJavaScriptEnabled(true);\n\n        webSettings.setLoadWithOverviewMode(true);\n        webSettings.setUseWideViewPort(true);\n        webSettings.setSupportZoom(true);\n        webSettings.setBuiltInZoomControls(true);\n        webSettings.setDisplayZoomControls(false);\n        webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\n        webView.setScrollbarFadingEnabled(false);\n        webView.setWebViewClient(new WebViewClient() {\n\n            @Override\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\n                super.onPageStarted(view, url, favicon);\n                webView.setVisibility(View.GONE);\n                if (ShowOrHideWebViewInitialUse.equals(&quot;show&quot;)) {\n                    webView.setVisibility(webView.INVISIBLE);\n                }\n            }\n\n            @Override\n            public void onPageFinished(WebView view, String url) {\n                ShowOrHideWebViewInitialUse = &quot;hide&quot;;\n                spinner.setVisibility(View.GONE);\n                super.onPageFinished(view, url);\n                progress.setVisibility(View.GONE);\n                webView.setVisibility(View.VISIBLE);\n            }\n        });\n\n\n        if (isNetworkAvailable(this)) {\n\n            webView.loadUrl(&quot;https://racks.tk&quot;);\n\n            reloadBtn.setVisibility(View.GONE);\n            textView.setVisibility(View.GONE);\n\n        } else {\n\n            Toast.makeText(this, &quot;No internet. Please check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\n\n            reloadBtn.setVisibility(View.VISIBLE);\n            textView.setVisibility(View.VISIBLE);\n\n        }\n\n\n\n        reloadBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (isNetworkAvailable(MainActivity.this)) {\n                    reloadBtn.setVisibility(View.GONE);\n                    textView.setVisibility(View.GONE);\n\n                    webView.loadUrl(&quot;https://racks.tk&quot;);\n                } else {\n\n                    reloadBtn.setVisibility(View.VISIBLE);\n                    textView.setVisibility(View.VISIBLE);\n\n                    Toast.makeText(MainActivity.this, &quot;No internet. Please check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\n                }\n\n            }\n        });\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.game_menu, menu);\n        return true;\n    }\n\n    @SuppressLint(&quot;NonConstantResourceId&quot;)\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        WebView webView = findViewById(R.id.my_webview);\n        // Handle item selection\n        switch (item.getItemId()) {\n            case R.id.site:\n                startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://racks.tk&quot;)));\n                break;\n            case R.id.ribbon:\n                webView.reload();\n                break;\n            case R.id.support:\n                startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://racks.tk/support&quot;)));\n                break;\n        }\n        return false;\n    }\n\n\n\n    public static boolean isNetworkAvailable(Context context) {\n\n        ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n        if (connectivityManager != null) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\n                return capabilities != null &amp;&amp; (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET));\n            } else {\n                NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\n                return activeNetwork != null &amp;&amp; activeNetwork.isConnected();\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","networking","event-handling","event-bus"],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649646815,"creation_date":1649645701,"answer_id":71822240,"question_id":71816109,"body_markdown":"Although your ClientListener and ServerListeners are implementing Runnable, they are not run in a separate thread. In your implementation, it is just another function call and therefore the code after the listener.run() never gets called.\r\n\r\nSo instead of doing:\r\n\r\n\r\n    ClientListener cListener = new ClientListener(kb,out,in);\r\n    cListener.run();\r\n\r\nYou need to do something like:\r\n\r\n    Thread clientThread = new Thread(new ClientListener(kb,out,in));\r\n    clientThread.start(); \r\n\r\nAnd on the server side you need to do something similar.\r\n  ","title":"How do I send objects back and forth continuously across sockets in Java?","body":"<p>Although your ClientListener and ServerListeners are implementing Runnable, they are not run in a separate thread. In your implementation, it is just another function call and therefore the code after the listener.run() never gets called.</p>\n<p>So instead of doing:</p>\n<pre><code>ClientListener cListener = new ClientListener(kb,out,in);\ncListener.run();\n</code></pre>\n<p>You need to do something like:</p>\n<pre><code>Thread clientThread = new Thread(new ClientListener(kb,out,in));\nclientThread.start(); \n</code></pre>\n<p>And on the server side you need to do something similar.</p>\n"}],"owner":{"account_id":18103775,"reputation":11,"user_id":13161316,"display_name":"Nick5741"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649646815,"creation_date":1649589778,"question_id":71816109,"body_markdown":"What I am trying to do here is create an application that will be a basic game, and first I have to get the networking functional. I&#39;m struggling to send objects back and forth between server and client. The design I am trying to achieve is 2 processes with 2 threads each, the main thread and then a listener thread. I want the listener thread to listen for incoming objects, as this will be used for an event bus. Currently to get it working I&#39;m using just a simple message class which holds a single string field called text. The issue I&#39;m having is that the client listener thread doesn&#39;t seem to start, and the objects never get sent either way. Really struggling learning network programming here, any help is much appreciated.\r\n\r\nServer side\r\n\r\n```\r\npackage Server;\r\n\r\nimport java.net.*;\r\nimport java.util.List;\r\n\r\nimport Utilities.Message;\r\n\r\nimport java.io.*;\r\n\r\npublic class BattleshipServer \r\n{\r\n\t\r\n\tpublic static void executeThreadedServer(int port) throws Exception\r\n\t{\r\n\t\tServerSocket server = new ServerSocket(port);\r\n\t\tSystem.out.println(&quot;Awaiting connection&quot;);\r\n\t\tSocket socket = server.accept();\r\n\t\tSystem.out.println(&quot;Connection established&quot;);\r\n\t\t\r\n\t\tBufferedReader kb = new BufferedReader(new InputStreamReader(System.in));\r\n\t\tObjectOutputStream out = new ObjectOutputStream(new BufferedOutputStream(socket.getOutputStream()));\r\n\t\tObjectInputStream in = new ObjectInputStream(socket.getInputStream());\r\n\t\t\r\n\t\t//Start the listener thread\r\n\t\tServerListener sListener = new ServerListener(kb, out, in);\r\n\t\tsListener.run();\r\n\t\t\r\n\t\tMessage msg = new Message(&quot;temp&quot;);\r\n\t\t\r\n\t\twhile(!msg.getText().equalsIgnoreCase(&quot;exit&quot;))\r\n\t\t{\r\n\t\t\tmsg = new Message(kb.readLine());\r\n\t\t\tout.writeObject(msg);\r\n\t\t\tout.flush();\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n\r\n------------------------------------------------------------------------------------------------------------\r\n\r\npackage Server;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.ObjectInputStream;\r\nimport java.io.ObjectOutputStream;\r\n\r\nimport Utilities.Message;\r\n\r\npublic class ServerListener implements Runnable \r\n{\r\n\r\n\tprivate BufferedReader keyBoard;\r\n\tprivate ObjectOutputStream out;\r\n\tprivate ObjectInputStream in;\r\n\t\r\n\tpublic ServerListener(BufferedReader keyboard, ObjectOutputStream out, ObjectInputStream in)\r\n\t{\r\n\t\tthis.keyBoard = keyboard;\r\n\t\tthis.out = out;\r\n\t\tthis.in = in;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run() \r\n\t{\r\n\t\tSystem.out.println(&quot;Server listener started&quot;);\r\n\t\ttry {\r\n\t\t\twhile(true)\r\n\t\t\t{\r\n\t\t\t\tMessage msg;\r\n\t\t\t\t\r\n\t\t\t\twhile((msg = (Message)this.in.readObject()) != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(msg.getText());\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t} \r\n\t\tcatch (Exception e) \r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\nClient Side\r\n```\r\npackage Client;\r\n\r\nimport java.net.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport Utilities.Message;\r\n\r\nimport java.io.*;\r\n\r\npublic class BattleshipClient \r\n{\r\n\t\r\n\tpublic static void executeThreadedClient(String address, int port) throws Exception\r\n\t{\r\n\t\tSocket socket = new Socket(address, port);\r\n\t\t\r\n\t\tBufferedReader kb = new BufferedReader(new InputStreamReader(System.in));\r\n\t\tObjectInputStream in = new ObjectInputStream(new BufferedInputStream(socket.getInputStream()));\r\n\t\tObjectOutputStream out = new ObjectOutputStream(socket.getOutputStream());\r\n\t\t\r\n\t\tClientListener cListener = new ClientListener(kb,out,in);\r\n\t\tcListener.run();\r\n\t\t\r\n\t\tMessage msg = new Message(&quot;temp&quot;);\r\n\t\twhile(!msg.getText().equalsIgnoreCase(&quot;exit&quot;))\r\n\t\t{\r\n\t\t\tmsg = new Message(kb.readLine());\r\n\t\t\tout.writeObject(msg);\r\n\t\t\tout.flush();\r\n\t\t}\r\n\t\tsocket.close();\r\n\t}\r\n\t\r\n}\r\n\r\n------------------------------------------------------------------------------------------------------------\r\n\r\npackage Client;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.ObjectInputStream;\r\nimport java.io.ObjectOutputStream;\r\n\r\nimport Utilities.Message;\r\n\r\npublic class ClientListener implements Runnable \r\n{\r\n\t\r\n\tprivate BufferedReader keyBoard;\r\n\tprivate ObjectOutputStream out;\r\n\tprivate ObjectInputStream in;\r\n\t\r\n\tpublic ClientListener(BufferedReader keyboard, ObjectOutputStream out, ObjectInputStream in)\r\n\t{\r\n\t\tthis.keyBoard = keyboard;\r\n\t\tthis.out = out;\r\n\t\tthis.in = in;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() \r\n\t{\r\n\t\tSystem.out.println(&quot;Client listener started&quot;);\r\n\t\ttry\r\n\t\t{\r\n\t\t\twhile(true)\r\n\t\t\t{\r\n\t\t\t\tMessage msg = (Message)in.readObject();\r\n\t\t\t\tSystem.out.println(msg.getText());\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```","title":"How do I send objects back and forth continuously across sockets in Java?","body":"<p>What I am trying to do here is create an application that will be a basic game, and first I have to get the networking functional. I'm struggling to send objects back and forth between server and client. The design I am trying to achieve is 2 processes with 2 threads each, the main thread and then a listener thread. I want the listener thread to listen for incoming objects, as this will be used for an event bus. Currently to get it working I'm using just a simple message class which holds a single string field called text. The issue I'm having is that the client listener thread doesn't seem to start, and the objects never get sent either way. Really struggling learning network programming here, any help is much appreciated.</p>\n<p>Server side</p>\n<pre><code>package Server;\n\nimport java.net.*;\nimport java.util.List;\n\nimport Utilities.Message;\n\nimport java.io.*;\n\npublic class BattleshipServer \n{\n    \n    public static void executeThreadedServer(int port) throws Exception\n    {\n        ServerSocket server = new ServerSocket(port);\n        System.out.println(&quot;Awaiting connection&quot;);\n        Socket socket = server.accept();\n        System.out.println(&quot;Connection established&quot;);\n        \n        BufferedReader kb = new BufferedReader(new InputStreamReader(System.in));\n        ObjectOutputStream out = new ObjectOutputStream(new BufferedOutputStream(socket.getOutputStream()));\n        ObjectInputStream in = new ObjectInputStream(socket.getInputStream());\n        \n        //Start the listener thread\n        ServerListener sListener = new ServerListener(kb, out, in);\n        sListener.run();\n        \n        Message msg = new Message(&quot;temp&quot;);\n        \n        while(!msg.getText().equalsIgnoreCase(&quot;exit&quot;))\n        {\n            msg = new Message(kb.readLine());\n            out.writeObject(msg);\n            out.flush();\n        }\n        \n    }\n}\n\n------------------------------------------------------------------------------------------------------------\n\npackage Server;\n\nimport java.io.BufferedReader;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\n\nimport Utilities.Message;\n\npublic class ServerListener implements Runnable \n{\n\n    private BufferedReader keyBoard;\n    private ObjectOutputStream out;\n    private ObjectInputStream in;\n    \n    public ServerListener(BufferedReader keyboard, ObjectOutputStream out, ObjectInputStream in)\n    {\n        this.keyBoard = keyboard;\n        this.out = out;\n        this.in = in;\n    }\n    \n    @Override\n    public void run() \n    {\n        System.out.println(&quot;Server listener started&quot;);\n        try {\n            while(true)\n            {\n                Message msg;\n                \n                while((msg = (Message)this.in.readObject()) != null)\n                {\n                    System.out.println(msg.getText());\n                }\n                \n            }\n        } \n        catch (Exception e) \n        {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p>Client Side</p>\n<pre><code>package Client;\n\nimport java.net.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport Utilities.Message;\n\nimport java.io.*;\n\npublic class BattleshipClient \n{\n    \n    public static void executeThreadedClient(String address, int port) throws Exception\n    {\n        Socket socket = new Socket(address, port);\n        \n        BufferedReader kb = new BufferedReader(new InputStreamReader(System.in));\n        ObjectInputStream in = new ObjectInputStream(new BufferedInputStream(socket.getInputStream()));\n        ObjectOutputStream out = new ObjectOutputStream(socket.getOutputStream());\n        \n        ClientListener cListener = new ClientListener(kb,out,in);\n        cListener.run();\n        \n        Message msg = new Message(&quot;temp&quot;);\n        while(!msg.getText().equalsIgnoreCase(&quot;exit&quot;))\n        {\n            msg = new Message(kb.readLine());\n            out.writeObject(msg);\n            out.flush();\n        }\n        socket.close();\n    }\n    \n}\n\n------------------------------------------------------------------------------------------------------------\n\npackage Client;\n\nimport java.io.BufferedReader;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\n\nimport Utilities.Message;\n\npublic class ClientListener implements Runnable \n{\n    \n    private BufferedReader keyBoard;\n    private ObjectOutputStream out;\n    private ObjectInputStream in;\n    \n    public ClientListener(BufferedReader keyboard, ObjectOutputStream out, ObjectInputStream in)\n    {\n        this.keyBoard = keyboard;\n        this.out = out;\n        this.in = in;\n    }\n\n    @Override\n    public void run() \n    {\n        System.out.println(&quot;Client listener started&quot;);\n        try\n        {\n            while(true)\n            {\n                Message msg = (Message)in.readObject();\n                System.out.println(msg.getText());\n            }\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":4,"creation_date":1603761438,"post_id":64547061,"comment_id":114133089,"body_markdown":"``rand`` is the random number generator. It is not a number. You need something like ``int n = rand.nextInt(2);`` Please look up the documentation on Random.","body":"<code>rand</code> is the random number generator. It is not a number. You need something like <code>int n = rand.nextInt(2);</code> Please look up the documentation on Random."},{"owner":{"account_id":19514349,"reputation":69,"user_id":14277600,"display_name":"PioneerRaptor"},"score":0,"creation_date":1603761595,"post_id":64547061,"comment_id":114133118,"body_markdown":"Thank you. I changed my method to  `public static String headsOrTails(Random rand) {\n      int outcome;\n      \n      outcome = rand.nextInt();\n      \n      if (outcome == 0) {\n      return &quot;heads&quot;;\n      }\n      \n      else {\n      return &quot;tails&quot;;\n      }\n   }` And I am still getting &quot;tails tails tails&quot;","body":"Thank you. I changed my method to  <code>public static String headsOrTails(Random rand) {       int outcome;              outcome = rand.nextInt();              if (outcome == 0) {       return &quot;heads&quot;;       }              else {       return &quot;tails&quot;;       }    }</code> And I am still getting &quot;tails tails tails&quot;"},{"owner":{"account_id":7834456,"reputation":34114,"user_id":5923139,"display_name":"Aplet123"},"score":0,"creation_date":1603761653,"post_id":64547061,"comment_id":114133134,"body_markdown":"You have to provide an upper bound.","body":"You have to provide an upper bound."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1603762157,"post_id":64547061,"comment_id":114133248,"body_markdown":"In case you didn&#39;t see my final version, I changed it so that you don&#39;t get the same values every time you run it.","body":"In case you didn&#39;t see my final version, I changed it so that you don&#39;t get the same values every time you run it."}],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1603762023,"creation_date":1603762023,"answer_id":64547142,"question_id":64547061,"body_markdown":"The Random package can actually return a random boolean value.  If you pass `2` when you create the Random object, you&#39;ll always get the same sequence.  To avoid that, pass in the current Unix time:\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Random;\r\n    \r\n    class LabProgram {\r\n    \r\n        public static String headsOrTails(Random rand) {\r\n            boolean r = rand.nextBoolean();\r\n            if (r) {\r\n                return &quot;heads&quot;;\r\n            }\r\n            else {\r\n                return &quot;tails&quot;;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scnr = new Scanner(System.in);\r\n            Random rand = new Random(System.currentTimeMillis()); // Unique seed\r\n            int userNum = scnr.nextInt();\r\n    \r\n            for (int i = 0; i &lt; userNum; i++) {\r\n                System.out.println(headsOrTails(rand));\r\n            }\r\n        }\r\n    }","title":"(Java) I&#39;m getting a logic error when executing my code for a Coin Flip Program","body":"<p>The Random package can actually return a random boolean value.  If you pass <code>2</code> when you create the Random object, you'll always get the same sequence.  To avoid that, pass in the current Unix time:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Random;\n\nclass LabProgram {\n\n    public static String headsOrTails(Random rand) {\n        boolean r = rand.nextBoolean();\n        if (r) {\n            return &quot;heads&quot;;\n        }\n        else {\n            return &quot;tails&quot;;\n        }\n    }\n\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        Random rand = new Random(System.currentTimeMillis()); // Unique seed\n        int userNum = scnr.nextInt();\n\n        for (int i = 0; i &lt; userNum; i++) {\n            System.out.println(headsOrTails(rand));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22982889,"reputation":21,"user_id":17109531,"display_name":"Amanpreet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635127762,"creation_date":1635127762,"answer_id":69702188,"question_id":64547061,"body_markdown":"import java.util.Scanner;\r\nimport java.util.Random;\r\n\r\nclass LabProgram {\r\n\r\n    public static String headsOrTails(Random rand) {\r\n        boolean r = rand.nextBoolean();\r\n        if (r) {\r\n            return &quot;tails&quot;;\r\n        }\r\n        else {\r\n            return &quot;heads&quot;;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n        Random rand = new Random(2); // Unique seed\r\n        int userNum = scnr.nextInt();\r\n\r\n        for (int i = 0; i &lt; userNum; i++) {\r\n            System.out.println(headsOrTails(rand));\r\n        }\r\n    }\r\n","title":"(Java) I&#39;m getting a logic error when executing my code for a Coin Flip Program","body":"<p>import java.util.Scanner;\nimport java.util.Random;</p>\n<p>class LabProgram {</p>\n<pre><code>public static String headsOrTails(Random rand) {\n    boolean r = rand.nextBoolean();\n    if (r) {\n        return &quot;tails&quot;;\n    }\n    else {\n        return &quot;heads&quot;;\n    }\n}\n\npublic static void main(String[] args) {\n    Scanner scnr = new Scanner(System.in);\n    Random rand = new Random(2); // Unique seed\n    int userNum = scnr.nextInt();\n\n    for (int i = 0; i &lt; userNum; i++) {\n        System.out.println(headsOrTails(rand));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24497403,"reputation":1,"user_id":18413457,"display_name":"whyyyiamthere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646861548,"creation_date":1646785502,"answer_id":71402977,"question_id":64547061,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\nimport java.util.Random;\r\n\r\npublic class LabProgram{   \r\npublic static void main(String[] args){\r\n\r\n      Scanner scnr = new Scanner(System.in);\r\n      Random rand = new Random(2);\r\n      int flips = scnr.nextInt();\r\n\r\n      for(int i=0;i&lt;flips;i++){\r\n         coinFlip(rand);\r\n      }\r\n   }\r\n   \r\n    public static String coinFlip(Random rand){\r\n      if(rand.nextInt(2)+1 == 1){\r\n         System.out.println(&quot;Tails&quot;);\r\n         return &quot;Tails&quot;;\r\n      } else {\r\n         System.out.println(&quot;Heads&quot;);\r\n         return &quot;Heads&quot; ;\r\n      }\r\n     \r\n   }\r\n}\r\n```\r\n","title":"(Java) I&#39;m getting a logic error when executing my code for a Coin Flip Program","body":"<pre><code>import java.util.Scanner;\n\nimport java.util.Random;\n\npublic class LabProgram{   \npublic static void main(String[] args){\n\n      Scanner scnr = new Scanner(System.in);\n      Random rand = new Random(2);\n      int flips = scnr.nextInt();\n\n      for(int i=0;i&lt;flips;i++){\n         coinFlip(rand);\n      }\n   }\n   \n    public static String coinFlip(Random rand){\n      if(rand.nextInt(2)+1 == 1){\n         System.out.println(&quot;Tails&quot;);\n         return &quot;Tails&quot;;\n      } else {\n         System.out.println(&quot;Heads&quot;);\n         return &quot;Heads&quot; ;\n      }\n     \n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24582840,"reputation":1,"user_id":18487704,"display_name":"Vic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649645007,"creation_date":1649645007,"answer_id":71822184,"question_id":64547061,"body_markdown":"    import java.util.Scanner;\r\n    import java.util.Random;\r\n    \r\n    public class LabProgram {\r\n       \r\n       public static String coinFlip(Random rand){\r\n          int coinFlip = rand.nextInt(2);\r\n          \r\n          if(coinFlip == 0){\r\n             return &quot;Tails&quot;;\r\n             }\r\n          else{\r\n             return &quot;Heads&quot;;\r\n             }\r\n          \r\n          }\r\n       \r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          Random rand = new Random(2); // Seed used in develop mode\r\n          int numFlips = scnr.nextInt();\r\n          String results;\r\n    \r\n          for(int i = 0; i &lt; numFlips; ++i){\r\n             results = coinFlip(rand);\r\n             System.out.println(results);\r\n             }\r\n       }\r\n    }\r\n\r\n","title":"(Java) I&#39;m getting a logic error when executing my code for a Coin Flip Program","body":"<pre><code>import java.util.Scanner;\nimport java.util.Random;\n\npublic class LabProgram {\n   \n   public static String coinFlip(Random rand){\n      int coinFlip = rand.nextInt(2);\n      \n      if(coinFlip == 0){\n         return &quot;Tails&quot;;\n         }\n      else{\n         return &quot;Heads&quot;;\n         }\n      \n      }\n   \n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      Random rand = new Random(2); // Seed used in develop mode\n      int numFlips = scnr.nextInt();\n      String results;\n\n      for(int i = 0; i &lt; numFlips; ++i){\n         results = coinFlip(rand);\n         System.out.println(results);\n         }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":19514349,"reputation":69,"user_id":14277600,"display_name":"PioneerRaptor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64547142,"answer_count":4,"score":0,"last_activity_date":1649645007,"creation_date":1603761253,"question_id":64547061,"body_markdown":"Here is the code I&#39;m given:\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\n\r\npublic class LabProgram {\r\n   \r\n   /* Define your method here */\r\n   \r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      Random rand = new Random(2); // Unique seed\r\n      // Add more variables as needed\r\n\r\n      /* Type your code here. */\r\n   }\r\n}\r\n```\r\nI cannot make CHANGES to the code, only add things to it. My instructions are: \r\n\r\nWrite a program that simulates flipping a coin to make decisions. The input is how many decisions are needed, and the output is either heads or tails. Assume the input is a value greater than 0.\r\n\r\nEx: If the input is:\r\n\r\n3\r\nthe output is:\r\n\r\ntails\r\nheads\r\ntails\r\n\r\nFor reproducibility needed for auto-grading, seed the program with a value of 2. In a real program, you would seed with the current time. In that case, every program&#39;s output would be different, which is what is desired but can&#39;t be auto-graded.\r\n\r\nNote: A common student mistake is to create an instance of Random before each call to rand.nextInt(). But seeding should only be done once, at the start of the program, after which rand.nextInt() can be called any number of times.\r\n\r\nYour program must define and call the following method that randomly picks 0 or 1 and returns &quot;heads&quot; or &quot;tails&quot;. Assume the value 0 represents &quot;heads&quot; and 1 represents &quot;tails&quot;.\r\npublic static String headsOrTails(Random rand)\r\n\r\nHere is what I have:\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\n\r\npublic class LabProgram {\r\n   \r\n   public static String headsOrTails(Random rand) {\r\n      rand.nextInt();\r\n      \r\n      if (rand.equals(0)) {\r\n      return &quot;heads&quot;;\r\n      }\r\n      \r\n      else {\r\n      return &quot;tails&quot;;\r\n      }\r\n   }\r\n   \r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      Random rand = new Random(2); // Unique seed\r\n      int userNum = scnr.nextInt();\r\n\r\n      for (int i = 0; i &lt; userNum; i++) {\r\n         System.out.println(headsOrTails(rand));\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nWhen executing the code, I get tails tail tails, every time.","title":"(Java) I&#39;m getting a logic error when executing my code for a Coin Flip Program","body":"<p>Here is the code I'm given:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Random;\n\npublic class LabProgram {\n   \n   /* Define your method here */\n   \n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      Random rand = new Random(2); // Unique seed\n      // Add more variables as needed\n\n      /* Type your code here. */\n   }\n}\n</code></pre>\n<p>I cannot make CHANGES to the code, only add things to it. My instructions are:</p>\n<p>Write a program that simulates flipping a coin to make decisions. The input is how many decisions are needed, and the output is either heads or tails. Assume the input is a value greater than 0.</p>\n<p>Ex: If the input is:</p>\n<p>3\nthe output is:</p>\n<p>tails\nheads\ntails</p>\n<p>For reproducibility needed for auto-grading, seed the program with a value of 2. In a real program, you would seed with the current time. In that case, every program's output would be different, which is what is desired but can't be auto-graded.</p>\n<p>Note: A common student mistake is to create an instance of Random before each call to rand.nextInt(). But seeding should only be done once, at the start of the program, after which rand.nextInt() can be called any number of times.</p>\n<p>Your program must define and call the following method that randomly picks 0 or 1 and returns &quot;heads&quot; or &quot;tails&quot;. Assume the value 0 represents &quot;heads&quot; and 1 represents &quot;tails&quot;.\npublic static String headsOrTails(Random rand)</p>\n<p>Here is what I have:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Random;\n\npublic class LabProgram {\n   \n   public static String headsOrTails(Random rand) {\n      rand.nextInt();\n      \n      if (rand.equals(0)) {\n      return &quot;heads&quot;;\n      }\n      \n      else {\n      return &quot;tails&quot;;\n      }\n   }\n   \n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      Random rand = new Random(2); // Unique seed\n      int userNum = scnr.nextInt();\n\n      for (int i = 0; i &lt; userNum; i++) {\n         System.out.println(headsOrTails(rand));\n      }\n   }\n}\n</code></pre>\n<p>When executing the code, I get tails tail tails, every time.</p>\n"},{"tags":["java","spring","spring-boot","visual-studio-code","gitlab"],"answers":[{"tags":[],"owner":{"account_id":21577826,"reputation":26,"user_id":15909622,"display_name":"Victor de Gallegos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649525871,"creation_date":1649525871,"answer_id":71810432,"question_id":71809987,"body_markdown":"The reason this is happening to you is because the compiler compliance specified when creating your spring project is 11 but are  using a JRE 16 on your mac. The easiest way to fix this is to use multiple versions of Java. It works for Linux and macOS.\r\n\r\n - Step 1: [Install SDKMAN!][1] (Follow the steps in the documentation)\r\n \r\n - Step 2: Go to your term and type `sdk list java` to see all the versions available in SDKMAN you may notice that there are not only different version numbers but also different distribution so you can choose whatever you want in your case I recommend Install this one.[JDK from Zulu version 11.0.14][2]\r\n\r\n - Step 3: Install JDK from Zulu version 11.0.14 type `sdk install java 11.0.14-zulu` [example][3] \r\n\r\n - Step 4: Go to VS Code open the integrated terminal and type `sdk use java 11.0.14-zulu`\r\n\r\n - Step 5: Verify that everything changed correctly type `java -version` you must see **openjdk version &quot;11.0.14&quot;**\r\n\r\n - Step 6: reboot VS code or just the server and check it should work \r\n\r\n  [1]: https://sdkman.io/install\r\n  [2]: https://i.stack.imgur.com/GyCIM.png\r\n  [3]: https://i.stack.imgur.com/TEzgm.png","title":"Spring project on vscode doesn&#39;t run","body":"<p>The reason this is happening to you is because the compiler compliance specified when creating your spring project is 11 but are  using a JRE 16 on your mac. The easiest way to fix this is to use multiple versions of Java. It works for Linux and macOS.</p>\n<ul>\n<li><p>Step 1: <a href=\"https://sdkman.io/install\" rel=\"nofollow noreferrer\">Install SDKMAN!</a> (Follow the steps in the documentation)</p>\n</li>\n<li><p>Step 2: Go to your term and type <code>sdk list java</code> to see all the versions available in SDKMAN you may notice that there are not only different version numbers but also different distribution so you can choose whatever you want in your case I recommend Install this one.<a href=\"https://i.stack.imgur.com/GyCIM.png\" rel=\"nofollow noreferrer\">JDK from Zulu version 11.0.14</a></p>\n</li>\n<li><p>Step 3: Install JDK from Zulu version 11.0.14 type <code>sdk install java 11.0.14-zulu</code> <a href=\"https://i.stack.imgur.com/TEzgm.png\" rel=\"nofollow noreferrer\">example</a></p>\n</li>\n<li><p>Step 4: Go to VS Code open the integrated terminal and type <code>sdk use java 11.0.14-zulu</code></p>\n</li>\n<li><p>Step 5: Verify that everything changed correctly type <code>java -version</code> you must see <strong>openjdk version &quot;11.0.14&quot;</strong></p>\n</li>\n<li><p>Step 6: reboot VS code or just the server and check it should work</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649644227,"creation_date":1649644227,"answer_id":71822128,"question_id":71809987,"body_markdown":"Could you try to switch the java from 11 to 16 in the pom.xml?\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;16&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\nOr\r\n\r\n    &lt;properties&gt;\r\n      &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n      &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\nOr\r\n\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;xxx&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;16&lt;/source&gt;\r\n          &lt;target&gt;16&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;","title":"Spring project on vscode doesn&#39;t run","body":"<p>Could you try to switch the java from 11 to 16 in the pom.xml?</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;16&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Or</p>\n<pre><code>&lt;properties&gt;\n  &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Or</p>\n<pre><code>&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;xxx&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;16&lt;/source&gt;\n      &lt;target&gt;16&lt;/target&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"}],"owner":{"account_id":24544251,"reputation":3,"user_id":18454341,"display_name":"AyaJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71810432,"answer_count":2,"score":0,"last_activity_date":1649644227,"creation_date":1649522518,"question_id":71809987,"body_markdown":"I&#39;m working on a Spring project on GitLab with classmates. After I pulled it, I ran it on Visual Studio Code and searched &quot;localhost:8080&quot; on my browser but it doesn&#39;t work. It&#39;s my first time working with Spring Boot so I have no idea what&#39;s wrong. \r\n\r\nI also got these problems :\r\n- Build path specifies execution environment JavaSE-11/ There are no JREs installed in the workspace that are strictly compatible with this environment.\r\n- The compiler compliance specified is 11 but a JRE 16 is used.\r\n- couldn&#39;t determine port app is running on\r\n\r\n [screenshot of my vscode][1]\r\n\r\n\r\nI&#39;m really sorry if it isn&#39;t clear enough.\r\n\r\n  [1]: https://i.stack.imgur.com/3kqr8.png","title":"Spring project on vscode doesn&#39;t run","body":"<p>I'm working on a Spring project on GitLab with classmates. After I pulled it, I ran it on Visual Studio Code and searched &quot;localhost:8080&quot; on my browser but it doesn't work. It's my first time working with Spring Boot so I have no idea what's wrong.</p>\n<p>I also got these problems :</p>\n<ul>\n<li>Build path specifies execution environment JavaSE-11/ There are no JREs installed in the workspace that are strictly compatible with this environment.</li>\n<li>The compiler compliance specified is 11 but a JRE 16 is used.</li>\n<li>couldn't determine port app is running on</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/3kqr8.png\" rel=\"nofollow noreferrer\">screenshot of my vscode</a></p>\n<p>I'm really sorry if it isn't clear enough.</p>\n"},{"tags":["java","heap"],"comments":[{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1459690132,"post_id":36385868,"comment_id":60388825,"body_markdown":"Have you tried something before?","body":"Have you tried something before?"},{"owner":{"account_id":2704121,"reputation":7828,"user_id":2334092,"accept_rate":69,"display_name":"AbtPst"},"score":0,"creation_date":1459690397,"post_id":36385868,"comment_id":60388920,"body_markdown":"(10) would be a child of 17","body":"(10) would be a child of 17"},{"owner":{"account_id":2704121,"reputation":7828,"user_id":2334092,"accept_rate":69,"display_name":"AbtPst"},"score":0,"creation_date":1459690469,"post_id":36385868,"comment_id":60388938,"body_markdown":"i tried to use a list of lists to store each level, but could not figure out how to populate it","body":"i tried to use a list of lists to store each level, but could not figure out how to populate it"}],"answers":[{"tags":[],"owner":{"account_id":7957971,"reputation":164,"user_id":6006606,"display_name":"lobo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1459691062,"creation_date":1459691062,"answer_id":36386155,"question_id":36385868,"body_markdown":"If you want to store it in a list of lists (level order) , just split it once for every power of 2, like 1,2,4,8,16 ..\r\n\r\n        private ArrayList&lt;ArrayList&lt;Integer&gt;&gt; heapParse(int[] arr) {\r\n\r\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; heap = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n        int j=-1;\r\n        for (int i=0; i&lt; arr.length;i++){\r\n            if(isPowerOfTwo(i+1)){                \r\n                heap.add(new ArrayList&lt;&gt;());\r\n                j++;\r\n            }\r\n            heap.get(j).add(arr[i]);\r\n        }       \r\n        return heap;\r\n        }\r\n    \r\n        private boolean isPowerOfTwo(int i){\r\n           return (i&amp;(i-1))==0;\r\n        }","title":"Java : How to print heap stored as array, level by level","body":"<p>If you want to store it in a list of lists (level order) , just split it once for every power of 2, like 1,2,4,8,16 ..</p>\n\n<pre><code>    private ArrayList&lt;ArrayList&lt;Integer&gt;&gt; heapParse(int[] arr) {\n\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; heap = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n    int j=-1;\n    for (int i=0; i&lt; arr.length;i++){\n        if(isPowerOfTwo(i+1)){                \n            heap.add(new ArrayList&lt;&gt;());\n            j++;\n        }\n        heap.get(j).add(arr[i]);\n    }       \n    return heap;\n    }\n\n    private boolean isPowerOfTwo(int i){\n       return (i&amp;(i-1))==0;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6979720,"reputation":5387,"user_id":5353128,"accept_rate":73,"display_name":"Kaushal28"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1459693464,"creation_date":1459691718,"answer_id":36386264,"question_id":36385868,"body_markdown":"Try this code:\r\n\r\n    public class NewClass56 {\r\n    public static void main(String args[]){\r\n        \r\n        int a[] = new int[] {84 ,81 ,41 ,79 ,17 ,38 ,33 ,15 ,61 ,6};\r\n      \r\n        for(int i=0;i&lt;10;i++){\r\n            for(int j=0;j&lt;Math.pow(2,i)&amp;&amp;j+Math.pow(2,i)&lt;10;j++){\r\n                System.out.print(a[j+(int)Math.pow(2,i)-1]+&quot; &quot;);\r\n                \r\n            }\r\n            System.out.println();\r\n        }\r\n        \r\n        \r\n        \r\n        }\r\n    }\r\n\r\nIf you have `n` number of numbers then replace `10` by `n`.\r\n\r\nand you want the spaces then try this code:\r\n\r\n    public class NewClass56 {\r\n    public static void main(String args[]){\r\n        \r\n        int a[] = new int[] {84 ,81 ,41 ,79 ,17 ,38 ,33 ,15 ,61 ,6};\r\n        StringBuilder sb = new StringBuilder();\r\n        int max=0;\r\n        for(int i=0;i&lt;10;i++){\r\n            for(int j=0;j&lt;Math.pow(2,i)&amp;&amp;j+Math.pow(2,i)&lt;10;j++){\r\n                \r\n                if(j&gt;max){\r\n                    max=j;\r\n                }\r\n            }\r\n            \r\n        }\r\n        \r\n        for(int i=0;i&lt;10;i++){\r\n            for(int j=0;j&lt;Math.pow(2,i)&amp;&amp;j+Math.pow(2,i)&lt;10;j++){\r\n                \r\n                for(int k=0;(k&lt;max/((int)Math.pow(2, i)));k++){\r\n                    sb.append(&quot; &quot;);\r\n                }\r\n                sb.append(a[j+(int)Math.pow(2,i)-1]+&quot; &quot;);\r\n                \r\n            }\r\n            sb.append(&quot;\\n&quot;);\r\n            \r\n        }\r\n        \r\n        \r\n        \r\n        System.out.println(sb.toString());\r\n        \r\n    }\r\n    }\r\n","title":"Java : How to print heap stored as array, level by level","body":"<p>Try this code:</p>\n\n<pre><code>public class NewClass56 {\npublic static void main(String args[]){\n\n    int a[] = new int[] {84 ,81 ,41 ,79 ,17 ,38 ,33 ,15 ,61 ,6};\n\n    for(int i=0;i&lt;10;i++){\n        for(int j=0;j&lt;Math.pow(2,i)&amp;&amp;j+Math.pow(2,i)&lt;10;j++){\n            System.out.print(a[j+(int)Math.pow(2,i)-1]+\" \");\n\n        }\n        System.out.println();\n    }\n\n\n\n    }\n}\n</code></pre>\n\n<p>If you have <code>n</code> number of numbers then replace <code>10</code> by <code>n</code>.</p>\n\n<p>and you want the spaces then try this code:</p>\n\n<pre><code>public class NewClass56 {\npublic static void main(String args[]){\n\n    int a[] = new int[] {84 ,81 ,41 ,79 ,17 ,38 ,33 ,15 ,61 ,6};\n    StringBuilder sb = new StringBuilder();\n    int max=0;\n    for(int i=0;i&lt;10;i++){\n        for(int j=0;j&lt;Math.pow(2,i)&amp;&amp;j+Math.pow(2,i)&lt;10;j++){\n\n            if(j&gt;max){\n                max=j;\n            }\n        }\n\n    }\n\n    for(int i=0;i&lt;10;i++){\n        for(int j=0;j&lt;Math.pow(2,i)&amp;&amp;j+Math.pow(2,i)&lt;10;j++){\n\n            for(int k=0;(k&lt;max/((int)Math.pow(2, i)));k++){\n                sb.append(\" \");\n            }\n            sb.append(a[j+(int)Math.pow(2,i)-1]+\" \");\n\n        }\n        sb.append(\"\\n\");\n\n    }\n\n\n\n    System.out.println(sb.toString());\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459693511,"creation_date":1459693511,"answer_id":36386624,"question_id":36385868,"body_markdown":"Divide &amp; Conquer. Create the line lists of the subtrees, concatenate the lines and prepend the `String` for the root node of the subtree. Also make sure the lines have the same length and all are centered:\r\n\r\n    static String pad(String s, int lengthRigth, int length) {\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        for (int i = length - lengthRigth - s.length(); i &gt; 0; i--) {\r\n            sb.append(&#39; &#39;);\r\n        }\r\n\r\n        sb.append(s);\r\n\r\n        for (int i = 0; i &lt; lengthRigth; i++) {\r\n            sb.append(&#39; &#39;);\r\n        }\r\n\r\n        return sb.toString();\r\n    }\r\n    \r\n    static StringBuilder withSpacesAppended(String s, int spaceCount) {\r\n        StringBuilder sb = new StringBuilder(s.length()+spaceCount).append(s);\r\n        for (int i = 0; i &lt; spaceCount; i++) {\r\n            sb.append(&#39; &#39;);\r\n        }\r\n        return sb;\r\n    }\r\n\r\n    static void joinLists(List&lt;String&gt; list1, List&lt;String&gt; list2) {\r\n        int i;\r\n        final int size = list2.size();\r\n        for (i = 0; i &lt; size; i++) {\r\n            list1.set(i, withSpacesAppended(list1.get(i), 2).append(list2.get(i)).toString());\r\n        }\r\n    }\r\n\r\n    static List&lt;String&gt; createTreeStrings(int index, int[] array) {\r\n        int child1 = 2 * index + 1;\r\n        int child2 = 2 * index + 2;\r\n        if (child1 &gt;= array.length) {\r\n            return new ArrayList&lt;&gt;(Collections.singletonList(toText(index, array)));\r\n        } else {\r\n            List&lt;String&gt; childList1 = createTreeStrings(child1, array);\r\n            if (child2 &lt; array.length) {\r\n                joinLists(childList1, createTreeStrings(child2, array));\r\n            }\r\n            String text = toText(index, array);\r\n            int currentLength = childList1.get(0).length();\r\n\r\n            if (currentLength &gt;= text.length()) {\r\n                text = pad(text, (currentLength - text.length()) / 2, currentLength);\r\n            } else {\r\n                for (int i = 0, size = childList1.size(); i &lt; size; i++) {\r\n                    childList1.set(i, pad(childList1.get(i), (currentLength - text.length()) / 2, currentLength));\r\n                }\r\n            }\r\n\r\n            childList1.add(0, text);\r\n            return childList1;\r\n        }\r\n    }\r\n\r\n    static String toText(int index, int[] array) {\r\n        return Integer.toString(array[index]) + &#39;(&#39; + index + &#39;)&#39;;\r\n    }\r\n\r\nExample use:\r\n\r\n    createTreeStrings(0, new int[]{84, 81, 41, 79, 17, 38, 33, 15, 61, 6}).forEach(System.out::println);\r\n    createTreeStrings(0, new int[]{Integer.MAX_VALUE, 6}).forEach(System.out::println);","title":"Java : How to print heap stored as array, level by level","body":"<p>Divide &amp; Conquer. Create the line lists of the subtrees, concatenate the lines and prepend the <code>String</code> for the root node of the subtree. Also make sure the lines have the same length and all are centered:</p>\n\n<pre><code>static String pad(String s, int lengthRigth, int length) {\n    StringBuilder sb = new StringBuilder();\n\n    for (int i = length - lengthRigth - s.length(); i &gt; 0; i--) {\n        sb.append(' ');\n    }\n\n    sb.append(s);\n\n    for (int i = 0; i &lt; lengthRigth; i++) {\n        sb.append(' ');\n    }\n\n    return sb.toString();\n}\n\nstatic StringBuilder withSpacesAppended(String s, int spaceCount) {\n    StringBuilder sb = new StringBuilder(s.length()+spaceCount).append(s);\n    for (int i = 0; i &lt; spaceCount; i++) {\n        sb.append(' ');\n    }\n    return sb;\n}\n\nstatic void joinLists(List&lt;String&gt; list1, List&lt;String&gt; list2) {\n    int i;\n    final int size = list2.size();\n    for (i = 0; i &lt; size; i++) {\n        list1.set(i, withSpacesAppended(list1.get(i), 2).append(list2.get(i)).toString());\n    }\n}\n\nstatic List&lt;String&gt; createTreeStrings(int index, int[] array) {\n    int child1 = 2 * index + 1;\n    int child2 = 2 * index + 2;\n    if (child1 &gt;= array.length) {\n        return new ArrayList&lt;&gt;(Collections.singletonList(toText(index, array)));\n    } else {\n        List&lt;String&gt; childList1 = createTreeStrings(child1, array);\n        if (child2 &lt; array.length) {\n            joinLists(childList1, createTreeStrings(child2, array));\n        }\n        String text = toText(index, array);\n        int currentLength = childList1.get(0).length();\n\n        if (currentLength &gt;= text.length()) {\n            text = pad(text, (currentLength - text.length()) / 2, currentLength);\n        } else {\n            for (int i = 0, size = childList1.size(); i &lt; size; i++) {\n                childList1.set(i, pad(childList1.get(i), (currentLength - text.length()) / 2, currentLength));\n            }\n        }\n\n        childList1.add(0, text);\n        return childList1;\n    }\n}\n\nstatic String toText(int index, int[] array) {\n    return Integer.toString(array[index]) + '(' + index + ')';\n}\n</code></pre>\n\n<p>Example use:</p>\n\n<pre><code>createTreeStrings(0, new int[]{84, 81, 41, 79, 17, 38, 33, 15, 61, 6}).forEach(System.out::println);\ncreateTreeStrings(0, new int[]{Integer.MAX_VALUE, 6}).forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":134735,"reputation":5759,"user_id":337085,"accept_rate":66,"display_name":"Roman Pushkin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1467253182,"creation_date":1467253182,"answer_id":38112935,"question_id":36385868,"body_markdown":"There is another way to print heap. Imagine you have the structure with the following indexes (index `0` is guardian and equals to `Integer.MIN_VALUE`, not shown here):\r\n\r\n              1\r\n          /      \\\r\n        2          3\r\n      /    \\       / \\\r\n     4     5      6   7\r\n    / \\    /\\     /\\  /\\\r\n    8 9  10 11 12 13 14 15 \r\n\r\nand it&#39;s represented by array of numbers. What do you see here? Right, `1, 3, 7, 15`. If you increase it by 1 it will be `2, 4, 8, 16`.\r\n\r\nAnd what are these numbers? It&#39;s just `2^level`. Where `level` is level from 1 to 4.\r\n\r\nHow we can calculate this level? It&#39;s logarithm of index with base 2.\r\n\r\nHere is the code that implements this approach (see `dump` function):\r\n\r\n    package org.solutions;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    \r\n    class Heap {\r\n        public ArrayList&lt;Integer&gt; arr;\r\n        public Heap() {\r\n            this.arr = new ArrayList&lt;&gt;();\r\n            arr.add(Integer.MIN_VALUE); // add guardian\r\n        }\r\n    \r\n        public void add(int x) {\r\n            int i = arr.size();\r\n            arr.add(x);\r\n            while(arr.get(i) &lt; arr.get(i / 2)) {\r\n                swap(i, i/2);\r\n                i = i / 2;\r\n            }\r\n        }\r\n    \r\n        private void swap(int i, int j) {\r\n            int tmp = arr.get(i);\r\n            arr.set(i, arr.get(j));\r\n            arr.set(j, tmp);\r\n        }\r\n    \r\n        public void dump() {\r\n            int height = log2(arr.size()) + 1;\r\n    \r\n            for (int i = 1, len = arr.size(); i &lt; len; i++) {\r\n                int x = arr.get(i);\r\n                int level = log2(i) + 1;\r\n                int spaces = (height - level + 1) * 2;\r\n    \r\n                System.out.print(stringOfSize(spaces, &#39; &#39;));\r\n                System.out.print(x);\r\n    \r\n                if((int)Math.pow(2, level) - 1 == i) System.out.println();\r\n            }\r\n        }\r\n    \r\n        private String stringOfSize(int size, char ch) {\r\n            char[] a = new char[size];\r\n            Arrays.fill(a, ch);\r\n            return new String(a);\r\n        }\r\n    \r\n        // log with base 2\r\n        private int log2(int x) {\r\n            return (int)(Math.log(x) / Math.log(2)); // = log(x) with base 10 / log(2) with base 10\r\n        }\r\n    }\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Heap heap = new Heap();\r\n            heap.add(30);\r\n            heap.add(2);\r\n            heap.add(15);\r\n            heap.add(10);\r\n            heap.add(31);\r\n            heap.dump();\r\n        }\r\n    }\r\n\r\n","title":"Java : How to print heap stored as array, level by level","body":"<p>There is another way to print heap. Imagine you have the structure with the following indexes (index <code>0</code> is guardian and equals to <code>Integer.MIN_VALUE</code>, not shown here):</p>\n\n<pre><code>          1\n      /      \\\n    2          3\n  /    \\       / \\\n 4     5      6   7\n/ \\    /\\     /\\  /\\\n8 9  10 11 12 13 14 15 \n</code></pre>\n\n<p>and it's represented by array of numbers. What do you see here? Right, <code>1, 3, 7, 15</code>. If you increase it by 1 it will be <code>2, 4, 8, 16</code>.</p>\n\n<p>And what are these numbers? It's just <code>2^level</code>. Where <code>level</code> is level from 1 to 4.</p>\n\n<p>How we can calculate this level? It's logarithm of index with base 2.</p>\n\n<p>Here is the code that implements this approach (see <code>dump</code> function):</p>\n\n<pre><code>package org.solutions;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\nclass Heap {\n    public ArrayList&lt;Integer&gt; arr;\n    public Heap() {\n        this.arr = new ArrayList&lt;&gt;();\n        arr.add(Integer.MIN_VALUE); // add guardian\n    }\n\n    public void add(int x) {\n        int i = arr.size();\n        arr.add(x);\n        while(arr.get(i) &lt; arr.get(i / 2)) {\n            swap(i, i/2);\n            i = i / 2;\n        }\n    }\n\n    private void swap(int i, int j) {\n        int tmp = arr.get(i);\n        arr.set(i, arr.get(j));\n        arr.set(j, tmp);\n    }\n\n    public void dump() {\n        int height = log2(arr.size()) + 1;\n\n        for (int i = 1, len = arr.size(); i &lt; len; i++) {\n            int x = arr.get(i);\n            int level = log2(i) + 1;\n            int spaces = (height - level + 1) * 2;\n\n            System.out.print(stringOfSize(spaces, ' '));\n            System.out.print(x);\n\n            if((int)Math.pow(2, level) - 1 == i) System.out.println();\n        }\n    }\n\n    private String stringOfSize(int size, char ch) {\n        char[] a = new char[size];\n        Arrays.fill(a, ch);\n        return new String(a);\n    }\n\n    // log with base 2\n    private int log2(int x) {\n        return (int)(Math.log(x) / Math.log(2)); // = log(x) with base 10 / log(2) with base 10\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Heap heap = new Heap();\n        heap.add(30);\n        heap.add(2);\n        heap.add(15);\n        heap.add(10);\n        heap.add(31);\n        heap.dump();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4842233,"reputation":6942,"user_id":3906965,"accept_rate":48,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600848709,"creation_date":1600848709,"answer_id":64023669,"question_id":36385868,"body_markdown":"The accepted answer created many new lines and ignores last element while displaying. Hence sharing optimised code,\r\n\r\n    public void display() {\r\n            // n is number of elements in the heap\r\n            // It can be further optimised by calculating height of the heap\r\n            // and looping i only till height of the tree\r\n    \t\tfor (int i = 0; i &lt;= n / 2; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; Math.pow(2, i) &amp;&amp; j + Math.pow(2, i) &lt;= n; j++) { // Each row has 2^n nodes\r\n    \t\t\t\tSystem.out.print(heap[j + (int) Math.pow(2, i) - 1] + &quot; &quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \t}","title":"Java : How to print heap stored as array, level by level","body":"<p>The accepted answer created many new lines and ignores last element while displaying. Hence sharing optimised code,</p>\n<pre><code>public void display() {\n        // n is number of elements in the heap\n        // It can be further optimised by calculating height of the heap\n        // and looping i only till height of the tree\n        for (int i = 0; i &lt;= n / 2; i++) {\n            for (int j = 0; j &lt; Math.pow(2, i) &amp;&amp; j + Math.pow(2, i) &lt;= n; j++) { // Each row has 2^n nodes\n                System.out.print(heap[j + (int) Math.pow(2, i) - 1] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11896650,"reputation":384,"user_id":8705841,"display_name":"elkshadow5"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1603744136,"creation_date":1603710459,"answer_id":64535931,"question_id":36385868,"body_markdown":"The existing solutions didn&#39;t work for me so here&#39;s slightly different way of doing it that I think is also more human readable. Additionally, this doesn&#39;t use any external libraries. Note that this assumes that the first spot of the array is null, because often array-based heaps skip the array[0]. This will automatically determine the number of levels based on the input size which should be the number of nodes in the heap. It will add `--` in every spot that is empty (e.g. if you have a 13-node heap the last two nodes will show up as empty).\r\n\r\n\r\n\r\n```java\r\nprivate void printHeap(int[] heap, size) {\r\n    int maxDepth = (int) (Math.log(size) / Math.log(2));  // log base 2 of n\r\n\r\n    StringBuilder hs = new StringBuilder();  // heap string builder\r\n    for(int d = maxDepth; d &gt;= 0; d--) {  // number of layers, we build this backwards\r\n        int layerLength = (int) Math.pow(2, d);  // numbers per layer\r\n\r\n        StringBuilder line = new StringBuilder();  // line string builder\r\n        for(int i = layerLength; i &lt; (int) Math.pow(2, d + 1); i++) {\r\n            // before spaces only on not-last layer\r\n            if(d != maxDepth) {\r\n                line.append(&quot; &quot;.repeat((int) Math.pow(2, maxDepth - d)));\r\n            }\r\n            // extra spaces for long lines\r\n            int loops = maxDepth - d;\r\n            if(loops &gt;= 2) {\r\n                loops -= 2;\r\n                while(loops &gt;= 0) {\r\n                    line.append(&quot; &quot;.repeat((int) Math.pow(2, loops)));\r\n                    loops--;\r\n                }\r\n            }\r\n\r\n            // add in the number\r\n            if(i &lt;= size) {\r\n                line.append(String.format(&quot;%-2s&quot;, heap[i]));  // add leading zeros\r\n            } else {\r\n                line.append(&quot;--&quot;);\r\n            }\r\n\r\n            line.append(&quot; &quot;.repeat((int) Math.pow(2, maxDepth - d)));  // after spaces\r\n            // extra spaces for long lines\r\n            loops = maxDepth - d;\r\n            if(loops &gt;= 2) {\r\n                loops -= 2;\r\n                while(loops &gt;= 0) {\r\n                    line.append(&quot; &quot;.repeat((int) Math.pow(2, loops)));\r\n                    loops--;\r\n                }\r\n            }\r\n        }\r\n        hs.insert(0, line.toString() + &quot;\\n&quot;);  // prepend line\r\n    }\r\n    System.out.println(hs.toString());\r\n}\r\n```\r\n\r\nExample input:\r\n```\r\nint[] heap = new int[]{0, 84, 81, 41, 79, 17, 38, 33, 15, 61, 6};\r\nint size = heap.length-1 = 10\r\n```\r\nExample output:\r\n```\r\n           84           \r\n     81          41     \r\n  79    17    38    33  \r\n15 61 6  -- -- -- -- -- \r\n```\r\n\r\n---\r\n\r\nYou should be able to fairly easily change this to work as a toString method instead if necessary. The spacing will have to be modified if you want to use 3-digit numbers, if someone requests it I can edit with modified code for that.","title":"Java : How to print heap stored as array, level by level","body":"<p>The existing solutions didn't work for me so here's slightly different way of doing it that I think is also more human readable. Additionally, this doesn't use any external libraries. Note that this assumes that the first spot of the array is null, because often array-based heaps skip the array[0]. This will automatically determine the number of levels based on the input size which should be the number of nodes in the heap. It will add <code>--</code> in every spot that is empty (e.g. if you have a 13-node heap the last two nodes will show up as empty).</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void printHeap(int[] heap, size) {\n    int maxDepth = (int) (Math.log(size) / Math.log(2));  // log base 2 of n\n\n    StringBuilder hs = new StringBuilder();  // heap string builder\n    for(int d = maxDepth; d &gt;= 0; d--) {  // number of layers, we build this backwards\n        int layerLength = (int) Math.pow(2, d);  // numbers per layer\n\n        StringBuilder line = new StringBuilder();  // line string builder\n        for(int i = layerLength; i &lt; (int) Math.pow(2, d + 1); i++) {\n            // before spaces only on not-last layer\n            if(d != maxDepth) {\n                line.append(&quot; &quot;.repeat((int) Math.pow(2, maxDepth - d)));\n            }\n            // extra spaces for long lines\n            int loops = maxDepth - d;\n            if(loops &gt;= 2) {\n                loops -= 2;\n                while(loops &gt;= 0) {\n                    line.append(&quot; &quot;.repeat((int) Math.pow(2, loops)));\n                    loops--;\n                }\n            }\n\n            // add in the number\n            if(i &lt;= size) {\n                line.append(String.format(&quot;%-2s&quot;, heap[i]));  // add leading zeros\n            } else {\n                line.append(&quot;--&quot;);\n            }\n\n            line.append(&quot; &quot;.repeat((int) Math.pow(2, maxDepth - d)));  // after spaces\n            // extra spaces for long lines\n            loops = maxDepth - d;\n            if(loops &gt;= 2) {\n                loops -= 2;\n                while(loops &gt;= 0) {\n                    line.append(&quot; &quot;.repeat((int) Math.pow(2, loops)));\n                    loops--;\n                }\n            }\n        }\n        hs.insert(0, line.toString() + &quot;\\n&quot;);  // prepend line\n    }\n    System.out.println(hs.toString());\n}\n</code></pre>\n<p>Example input:</p>\n<pre><code>int[] heap = new int[]{0, 84, 81, 41, 79, 17, 38, 33, 15, 61, 6};\nint size = heap.length-1 = 10\n</code></pre>\n<p>Example output:</p>\n<pre><code>           84           \n     81          41     \n  79    17    38    33  \n15 61 6  -- -- -- -- -- \n</code></pre>\n<hr />\n<p>You should be able to fairly easily change this to work as a toString method instead if necessary. The spacing will have to be modified if you want to use 3-digit numbers, if someone requests it I can edit with modified code for that.</p>\n"},{"tags":[],"owner":{"account_id":22020098,"reputation":131,"user_id":16289042,"display_name":"Edgar Huynh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649643833,"creation_date":1649643833,"answer_id":71822097,"question_id":36385868,"body_markdown":"- The following algorithm will print value as defined grid length.\r\n- For example, the max element equals 100, mean each digits sit in placeholder that has length == 3. If max length is even, for ex: 4. Then the placeholder value will be 5. Always odds for center alignment.\r\n* Result: &lt;pre&gt;[placeholder == 3] &amp;&amp; [maxWidthLine == 31]&lt;/pre&gt;\r\n\r\n```\r\n                  100               // [rear == 14] &amp;&amp; [between == 29 -&gt; Not Use]\r\n          15-             17-       // [rear == 6] &amp;&amp; [between == 13]\r\n      -9-     -6-     13-     10-   // [rear == 2] &amp;&amp; [between == 5]\r\n    -4- -8- -3- -1- -5- --- --- --- // [rear == 0] &amp;&amp; [between == 1]\r\n```\r\n* Result: &lt;pre&gt;[placeholder == 5] &amp;&amp; [maxWidthLine == 5 * 2^3 + 2 ^ 3 - 1 == 47]\r\n&lt;/pre&gt;\r\n```\r\n                     1000-                      // [Level == 0]\r\n         -17--                   -13--          // [Level == 1]\r\n   --9--       -15--       --5--       -10--    // [Level == 2]\r\n--4-- --8-- --3-- --6-- --1-- ----- ----- ----- // [Level == 3]\r\n\r\n```\r\n* TypeScript source code:\r\n```\r\n/** @example\r\n ** &gt; format(10, 3) -&gt; &quot;10-&quot;\r\n ** &gt; format(10, 4) -&gt; &quot;-10-&quot;\r\n ** &gt; format(100, 3) -&gt; &quot;100&quot;\r\n ** &gt; format(100, 4) -&gt; &quot;100-&quot;\r\n **/\r\nconst format = &lt;T extends string | number&gt;(value: T, placeholder: number): string =&gt; {\r\n    if (!value &amp;&amp; value !== 0) {\r\n        return &quot;-&quot;.repeat(placeholder);\r\n    }\r\n    const number = Number.call(null, value).toString();\r\n    const size = number.length;\r\n    if (size &gt; placeholder) {\r\n        throw new EvalError(&quot;&gt;&gt;&gt; Place-Holder is smaller than Number Length &lt;&lt;&lt;&quot;);\r\n    }\r\n    const pads = (placeholder - size) &gt;&gt; 1;\r\n    return &quot;-&quot;.repeat(pads) + number + &quot;-&quot;.repeat(placeholder - size - pads);\r\n};\r\n\r\npublic print(): void {\r\n    const size = this.heap.length;\r\n    const maxDigit = Math.max(...this.heap as Array&lt;number&gt;);\r\n    /** Place holder must be odds [1, 3, 5, 7, 9, 11, ...] ~!*/\r\n    const placeholder = (Number.call(null, maxDigit).toString().length &amp; ~1) + 1;\r\n    /** Max Depth of Binary Search Tree from [0] to [N] ~!*/\r\n    const maxDepth = Math.floor(Math.log(size) / Math.log(2)); // Min Depth = 0; [Root Level]\r\n    /** Total Spaces of Line == &lt;The Amount of placeholders&gt; &amp;&amp; &lt;The Amount of Space-1 between Placeholders&gt; ~!*/\r\n    const totalLineSpaces = placeholder * (2 ** maxDepth) + (2 ** maxDepth - 1);\r\n    /** Calculate the spaces need to pad to the Rear-Side and Between each Placeholders ~!*/\r\n    const calculateSpace = (level: number): [number, number] =&gt; {\r\n        /** @equation: ${TotalSpaces} - ${placeholder} * (2 ^ level) == 2x + (2 ^ level - 1)(2x + 1) ~!*/\r\n        /** @constraint: ${BetweenSpaces} == (2x + 1) &lt;- Space between each placeholders ~!*/\r\n        const rear = (totalLineSpaces - (placeholder + 1) * (2 ** level) + 1) / Math.pow(2, level + 1);\r\n        return [rear, 2 * rear + 1];\r\n    };\r\n    console.log(&quot;------------------------------------------&quot;);\r\n    console.log(&quot;&gt;&gt;&gt; Array representation of Heap Array &lt;&lt;&lt;&quot;);\r\n    console.log(&quot;------------------------------------------\\n&quot;);\r\n\r\n    let str = &#39;&#39;; /** Heap string builder ~!*/\r\n    for (let level = 0; level &lt;= maxDepth; level++) {\r\n        const [rear, middle] = calculateSpace(level);\r\n        if (level === 0) {\r\n            str += &quot; &quot;.repeat(rear) + this.format(this.heap[0], placeholder) + &quot; &quot;.repeat(rear) + &quot;\\n&quot;;\r\n            continue;\r\n        }\r\n        const elements: Array&lt;string&gt; = [];\r\n        /** @description: Looping through each Tree-Layer. Ranged from [2^level - 1] to [2^(level+1) - 2] ~!*/\r\n        for (let i = Math.pow(2, level) - 1; i &lt;= Math.pow(2, level + 1) - 2; i++) {\r\n            elements.push(this.format(this.heap[i], placeholder));\r\n        }\r\n        str += &quot; &quot;.repeat(rear) + elements.join(&quot; &quot;.repeat(middle)) + &quot; &quot;.repeat(rear) + &quot;\\n&quot;;\r\n    }\r\n    str += &quot;\\n&quot; + &quot;------------------------------------------&quot;;\r\n    return console.log(str);\r\n};\r\n\r\n```","title":"Java : How to print heap stored as array, level by level","body":"<ul>\n<li>The following algorithm will print value as defined grid length.</li>\n<li>For example, the max element equals 100, mean each digits sit in placeholder that has length == 3. If max length is even, for ex: 4. Then the placeholder value will be 5. Always odds for center alignment.</li>\n</ul>\n<ul>\n<li>Result: <pre>[placeholder == 3] &amp;&amp; [maxWidthLine == 31]</pre></li>\n</ul>\n<pre><code>                  100               // [rear == 14] &amp;&amp; [between == 29 -&gt; Not Use]\n          15-             17-       // [rear == 6] &amp;&amp; [between == 13]\n      -9-     -6-     13-     10-   // [rear == 2] &amp;&amp; [between == 5]\n    -4- -8- -3- -1- -5- --- --- --- // [rear == 0] &amp;&amp; [between == 1]\n</code></pre>\n<ul>\n<li>Result: <pre>[placeholder == 5] &amp;&amp; [maxWidthLine == 5 * 2^3 + 2 ^ 3 - 1 == 47]\n</pre></li>\n</ul>\n<pre><code>                     1000-                      // [Level == 0]\n         -17--                   -13--          // [Level == 1]\n   --9--       -15--       --5--       -10--    // [Level == 2]\n--4-- --8-- --3-- --6-- --1-- ----- ----- ----- // [Level == 3]\n\n</code></pre>\n<ul>\n<li>TypeScript source code:</li>\n</ul>\n<pre><code>/** @example\n ** &gt; format(10, 3) -&gt; &quot;10-&quot;\n ** &gt; format(10, 4) -&gt; &quot;-10-&quot;\n ** &gt; format(100, 3) -&gt; &quot;100&quot;\n ** &gt; format(100, 4) -&gt; &quot;100-&quot;\n **/\nconst format = &lt;T extends string | number&gt;(value: T, placeholder: number): string =&gt; {\n    if (!value &amp;&amp; value !== 0) {\n        return &quot;-&quot;.repeat(placeholder);\n    }\n    const number = Number.call(null, value).toString();\n    const size = number.length;\n    if (size &gt; placeholder) {\n        throw new EvalError(&quot;&gt;&gt;&gt; Place-Holder is smaller than Number Length &lt;&lt;&lt;&quot;);\n    }\n    const pads = (placeholder - size) &gt;&gt; 1;\n    return &quot;-&quot;.repeat(pads) + number + &quot;-&quot;.repeat(placeholder - size - pads);\n};\n\npublic print(): void {\n    const size = this.heap.length;\n    const maxDigit = Math.max(...this.heap as Array&lt;number&gt;);\n    /** Place holder must be odds [1, 3, 5, 7, 9, 11, ...] ~!*/\n    const placeholder = (Number.call(null, maxDigit).toString().length &amp; ~1) + 1;\n    /** Max Depth of Binary Search Tree from [0] to [N] ~!*/\n    const maxDepth = Math.floor(Math.log(size) / Math.log(2)); // Min Depth = 0; [Root Level]\n    /** Total Spaces of Line == &lt;The Amount of placeholders&gt; &amp;&amp; &lt;The Amount of Space-1 between Placeholders&gt; ~!*/\n    const totalLineSpaces = placeholder * (2 ** maxDepth) + (2 ** maxDepth - 1);\n    /** Calculate the spaces need to pad to the Rear-Side and Between each Placeholders ~!*/\n    const calculateSpace = (level: number): [number, number] =&gt; {\n        /** @equation: ${TotalSpaces} - ${placeholder} * (2 ^ level) == 2x + (2 ^ level - 1)(2x + 1) ~!*/\n        /** @constraint: ${BetweenSpaces} == (2x + 1) &lt;- Space between each placeholders ~!*/\n        const rear = (totalLineSpaces - (placeholder + 1) * (2 ** level) + 1) / Math.pow(2, level + 1);\n        return [rear, 2 * rear + 1];\n    };\n    console.log(&quot;------------------------------------------&quot;);\n    console.log(&quot;&gt;&gt;&gt; Array representation of Heap Array &lt;&lt;&lt;&quot;);\n    console.log(&quot;------------------------------------------\\n&quot;);\n\n    let str = ''; /** Heap string builder ~!*/\n    for (let level = 0; level &lt;= maxDepth; level++) {\n        const [rear, middle] = calculateSpace(level);\n        if (level === 0) {\n            str += &quot; &quot;.repeat(rear) + this.format(this.heap[0], placeholder) + &quot; &quot;.repeat(rear) + &quot;\\n&quot;;\n            continue;\n        }\n        const elements: Array&lt;string&gt; = [];\n        /** @description: Looping through each Tree-Layer. Ranged from [2^level - 1] to [2^(level+1) - 2] ~!*/\n        for (let i = Math.pow(2, level) - 1; i &lt;= Math.pow(2, level + 1) - 2; i++) {\n            elements.push(this.format(this.heap[i], placeholder));\n        }\n        str += &quot; &quot;.repeat(rear) + elements.join(&quot; &quot;.repeat(middle)) + &quot; &quot;.repeat(rear) + &quot;\\n&quot;;\n    }\n    str += &quot;\\n&quot; + &quot;------------------------------------------&quot;;\n    return console.log(str);\n};\n\n</code></pre>\n"}],"owner":{"account_id":2704121,"reputation":7828,"user_id":2334092,"accept_rate":69,"display_name":"AbtPst"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19008,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":36386264,"answer_count":7,"score":9,"last_activity_date":1649643833,"creation_date":1459689448,"question_id":36385868,"body_markdown":"I have an array that represents a Max Heap. For example\r\n\r\n    84 81 41 79 17 38 33 15 61 6\r\n\r\nso the root is max. Each mid tier node at index i can have at most two children. They would be at 2*i+1 and 2*i+2.\r\n\r\nHow can i print this heap out in a level by level fashion? like\r\n\r\n                                 84(0)\r\n    \r\n                     81(1)                  41(2)\r\n    \r\n                79(3)        17(4)     38(5)       33(6) \r\n    \r\n           15(7)    61(8)         6(9)\r\n\r\nthe index of each element in the array is shown in paranthesis for clarification. i dont have to print the index. I was thinking it would be similar to printing a BST in level order but here, the heap is stored in an array not a list which makes it a bit tricky!","title":"Java : How to print heap stored as array, level by level","body":"<p>I have an array that represents a Max Heap. For example</p>\n\n<pre><code>84 81 41 79 17 38 33 15 61 6\n</code></pre>\n\n<p>so the root is max. Each mid tier node at index i can have at most two children. They would be at 2*i+1 and 2*i+2.</p>\n\n<p>How can i print this heap out in a level by level fashion? like</p>\n\n<pre><code>                             84(0)\n\n                 81(1)                  41(2)\n\n            79(3)        17(4)     38(5)       33(6) \n\n       15(7)    61(8)         6(9)\n</code></pre>\n\n<p>the index of each element in the array is shown in paranthesis for clarification. i dont have to print the index. I was thinking it would be similar to printing a BST in level order but here, the heap is stored in an array not a list which makes it a bit tricky!</p>\n"},{"tags":["java","recursion","linked-list","sum"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":1,"creation_date":1607101608,"post_id":65147669,"comment_id":115175417,"body_markdown":"What is unclear about &quot;Element.getNext() is null&quot;?","body":"What is unclear about &quot;Element.getNext() is null&quot;?"},{"owner":{"account_id":20054827,"reputation":23,"user_id":14758342,"display_name":"milesmorales"},"score":0,"creation_date":1607101909,"post_id":65147669,"comment_id":115175548,"body_markdown":"it doesnt work when the list contains 1 element.","body":"it doesnt work when the list contains 1 element."},{"owner":{"account_id":16273284,"reputation":823,"user_id":11751221,"display_name":"pavan kumar"},"score":0,"creation_date":1607101997,"post_id":65147669,"comment_id":115175582,"body_markdown":"Say you are on the last element then `element.getNext()` is null and you are trying to call `sum()`  on that null hence your error, add a null check to `getNext()` even before you call any other functions on it.","body":"Say you are on the last element then <code>element.getNext()</code> is null and you are trying to call <code>sum()</code>  on that null hence your error, add a null check to <code>getNext()</code> even before you call any other functions on it."},{"owner":{"account_id":4331267,"reputation":1459,"user_id":3536729,"display_name":"stridecolossus"},"score":0,"creation_date":1607102000,"post_id":65147669,"comment_id":115175583,"body_markdown":"&quot;it doesnt work when the list contains 1 element&quot; - yes because the code is trying to get the next element which doesn&#39;t exist (it&#39;s null).  What is the question?","body":"&quot;it doesnt work when the list contains 1 element&quot; - yes because the code is trying to get the next element which doesn&#39;t exist (it&#39;s null).  What is the question?"},{"owner":{"account_id":20054827,"reputation":23,"user_id":14758342,"display_name":"milesmorales"},"score":0,"creation_date":1607104371,"post_id":65147669,"comment_id":115176590,"body_markdown":"but there is a if clause that should return if the next is null","body":"but there is a if clause that should return if the next is null"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1607105034,"post_id":65147669,"comment_id":115176865,"body_markdown":"While `elements` (which should be `element` by the way) is checked for null, `elements.getNext()` may also be null. Invoking `sum()` on `null` throws a `NullPointerException`.","body":"While <code>elements</code> (which should be <code>element</code> by the way) is checked for null, <code>elements.getNext()</code> may also be null. Invoking <code>sum()</code> on <code>null</code> throws a <code>NullPointerException</code>."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607102448,"creation_date":1607101951,"answer_id":65147786,"question_id":65147669,"body_markdown":"`sum` isn&#39;t even a method of `Element`, so the implementation shouldn&#39;t compile.\r\n\r\nI&#39;d pass the root element to an internal `sum` method which can be recursive, and keep the no-arg `sum` method public:\r\n\r\n```java\r\npublic class MyList {\r\n    private Element elements;\r\n\r\n    public int sum() {\r\n        return sum(elements);\r\n    }\r\n\r\n    private int sum(Element e) {\r\n        if (e == null) {\r\n            return 0;\r\n        }\r\n        return e.getValue() + sum(e.getNext());\r\n    }\r\n}\r\n```","title":"Recursive sum function for a linked list in java","body":"<p><code>sum</code> isn't even a method of <code>Element</code>, so the implementation shouldn't compile.</p>\n<p>I'd pass the root element to an internal <code>sum</code> method which can be recursive, and keep the no-arg <code>sum</code> method public:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyList {\n    private Element elements;\n\n    public int sum() {\n        return sum(elements);\n    }\n\n    private int sum(Element e) {\n        if (e == null) {\n            return 0;\n        }\n        return e.getValue() + sum(e.getNext());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20105829,"reputation":1074,"user_id":14743390,"display_name":"Zinc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607102173,"creation_date":1607102173,"answer_id":65147841,"question_id":65147669,"body_markdown":"As it seems you are trying to learn about recursivity, and it seems you are really trying, I won&#39;t give you a complete solution here.\r\n\r\nFirst I think you didn&#39;t provide the complete code, because as is it does not compile. You are calling `elements.getNext().sum()` meaning you have a sum() method on your class Element.\r\n\r\nAnd this is actually one possible correct way, to have a sum method in you Element class, because you want recursivity to happen on every Element.\r\n\r\nSo as you started this way, you should continue to try this way: add a sum method on your Element class. And this is where you can do recursivity. Recursivity meaning to call again the same method either on another instance or with another parameter...\r\n\r\nThe other answer works, but will you learn about recursivity just by copying it ? I would suggest trying to do similar thing, but in the Element class, so you manage to do it by yourself\r\n\r\n","title":"Recursive sum function for a linked list in java","body":"<p>As it seems you are trying to learn about recursivity, and it seems you are really trying, I won't give you a complete solution here.</p>\n<p>First I think you didn't provide the complete code, because as is it does not compile. You are calling <code>elements.getNext().sum()</code> meaning you have a sum() method on your class Element.</p>\n<p>And this is actually one possible correct way, to have a sum method in you Element class, because you want recursivity to happen on every Element.</p>\n<p>So as you started this way, you should continue to try this way: add a sum method on your Element class. And this is where you can do recursivity. Recursivity meaning to call again the same method either on another instance or with another parameter...</p>\n<p>The other answer works, but will you learn about recursivity just by copying it ? I would suggest trying to do similar thing, but in the Element class, so you manage to do it by yourself</p>\n"},{"tags":[],"owner":{"account_id":16976069,"reputation":161,"user_id":12279397,"display_name":"Asa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1607103460,"creation_date":1607103460,"answer_id":65148172,"question_id":65147669,"body_markdown":"Here&#39;s a solution:\r\n\r\n```java\r\npublic class MyList{\r\n\r\n    private Element elements;\r\n\t\r\n\tclass Element{\r\n\t    private int value;\r\n\t    private Element next;\r\n\t\tElement(int value) {\r\n\t\t    this.value = value;\r\n\t\t}\r\n\t\tpublic Element getNext() {\r\n\t\t\treturn next;\r\n\t\t}\r\n\t\tpublic int getValue() {\r\n\t\t    return value;\r\n\t\t}\r\n\t\tpublic void setNext(Element next) {\r\n\t\t    this.next = next;\r\n\t\t}\r\n\t\tpublic int sum() {\r\n\t\t    if (next == null) {\r\n\t\t\t\treturn value;\r\n\t\t\t} else {\t\t\t\r\n\t\t\t\treturn value + next.sum();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic MyList(int data[]) {\r\n\t\tElement prev = null;\r\n\t\tfor (int value : data) {\r\n\t\t\tElement e = new Element(value);\r\n\t\t\tif (prev == null) {\r\n\t\t\t\telements = e;\r\n\t\t\t} else {\r\n\t\t\t    prev.setNext(e);\r\n\t\t\t}\r\n\t\t\tprev = e;\r\n\t\t}\r\n\t}\r\n\t\r\n    public int sum() {\r\n\t\treturn elements == null ? 0 : elements.sum();\r\n    }\r\n\t\r\n\tpublic static void main(String args[]) {\r\n\t\tMyList list = new MyList(new int[]{ 1, 2, 3});\r\n\t\tSystem.out.printf(&quot;sum = %d\\n&quot;, list.sum());\r\n\t}\r\n}\r\n```","title":"Recursive sum function for a linked list in java","body":"<p>Here's a solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyList{\n\n    private Element elements;\n    \n    class Element{\n        private int value;\n        private Element next;\n        Element(int value) {\n            this.value = value;\n        }\n        public Element getNext() {\n            return next;\n        }\n        public int getValue() {\n            return value;\n        }\n        public void setNext(Element next) {\n            this.next = next;\n        }\n        public int sum() {\n            if (next == null) {\n                return value;\n            } else {            \n                return value + next.sum();\n            }\n        }\n    }\n\n    public MyList(int data[]) {\n        Element prev = null;\n        for (int value : data) {\n            Element e = new Element(value);\n            if (prev == null) {\n                elements = e;\n            } else {\n                prev.setNext(e);\n            }\n            prev = e;\n        }\n    }\n    \n    public int sum() {\n        return elements == null ? 0 : elements.sum();\n    }\n    \n    public static void main(String args[]) {\n        MyList list = new MyList(new int[]{ 1, 2, 3});\n        System.out.printf(&quot;sum = %d\\n&quot;, list.sum());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607103486,"creation_date":1607103486,"answer_id":65148177,"question_id":65147669,"body_markdown":"    public class Foo {\r\n    \r\n        public static void main(String[] args) {\r\n            MyList myList = new MyList();\r\n    \r\n            for (int i = 1; i &lt;= 10; i++)\r\n                myList.add(i);\r\n    \r\n            System.out.println(myList.sum());   // 55\r\n        }\r\n    }\r\n    \r\n    final class MyList {\r\n    \r\n        private Element head;\r\n    \r\n        public void add(int value) {\r\n            if (head == null)\r\n                head = new Element(value);\r\n            else {\r\n                Element element = head;\r\n    \r\n                while (element.next != null)\r\n                    element = element.next;\r\n    \r\n                element.next = new Element(value);\r\n            }\r\n        }\r\n    \r\n        public int sum() {\r\n            return head == null ? 0 : head.sum();\r\n        }\r\n    \r\n        private static final class Element {\r\n    \r\n            private final int value;\r\n            private Element next;\r\n    \r\n            public Element(int value) {\r\n                this.value = value;\r\n            }\r\n    \r\n            public int sum() {\r\n                return value + (next == null ? 0 : next.sum());\r\n            }\r\n        }\r\n    }","title":"Recursive sum function for a linked list in java","body":"<pre><code>public class Foo {\n\n    public static void main(String[] args) {\n        MyList myList = new MyList();\n\n        for (int i = 1; i &lt;= 10; i++)\n            myList.add(i);\n\n        System.out.println(myList.sum());   // 55\n    }\n}\n\nfinal class MyList {\n\n    private Element head;\n\n    public void add(int value) {\n        if (head == null)\n            head = new Element(value);\n        else {\n            Element element = head;\n\n            while (element.next != null)\n                element = element.next;\n\n            element.next = new Element(value);\n        }\n    }\n\n    public int sum() {\n        return head == null ? 0 : head.sum();\n    }\n\n    private static final class Element {\n\n        private final int value;\n        private Element next;\n\n        public Element(int value) {\n            this.value = value;\n        }\n\n        public int sum() {\n            return value + (next == null ? 0 : next.sum());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14247765,"reputation":15,"user_id":10292272,"display_name":"Meerza Al Fardan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649642691,"creation_date":1649642691,"answer_id":71821999,"question_id":65147669,"body_markdown":"I am a bit confused about the returning value when the list reaches zero size or empty. I assume the returning value at that instance shall be zero, which replaces the cumulative result of the summation, but still the returned value is the same!?\r\n\r\nany elaboration is highly appreciated.\r\n\r\nplease note the code below, formed in Kotlin language.\r\n\r\n    fun main()\r\n    {\r\n        val aList = listOf&lt;Int&gt;(1, 2, 3, 4)\r\n        val sumResult = sumListContents(aList)\r\n        println(sumResult)\r\n    }\r\n    \r\n    fun sumListContents(intNums: List&lt;Int&gt;): Int\r\n    {\r\n        return if (intNums.isNullOrEmpty())\r\n        {\r\n            println(&quot;--------------$intNums-------------&quot;)\r\n            0\r\n        }\r\n        else\r\n        {\r\n            println(&quot;${intNums[0]} $intNums sub list: ${intNums.subList(1, intNums.size)}&quot;)\r\n            return intNums[0] + sumListContents(intNums.subList(1, intNums.size))\r\n        }\r\n    }","title":"Recursive sum function for a linked list in java","body":"<p>I am a bit confused about the returning value when the list reaches zero size or empty. I assume the returning value at that instance shall be zero, which replaces the cumulative result of the summation, but still the returned value is the same!?</p>\n<p>any elaboration is highly appreciated.</p>\n<p>please note the code below, formed in Kotlin language.</p>\n<pre><code>fun main()\n{\n    val aList = listOf&lt;Int&gt;(1, 2, 3, 4)\n    val sumResult = sumListContents(aList)\n    println(sumResult)\n}\n\nfun sumListContents(intNums: List&lt;Int&gt;): Int\n{\n    return if (intNums.isNullOrEmpty())\n    {\n        println(&quot;--------------$intNums-------------&quot;)\n        0\n    }\n    else\n    {\n        println(&quot;${intNums[0]} $intNums sub list: ${intNums.subList(1, intNums.size)}&quot;)\n        return intNums[0] + sumListContents(intNums.subList(1, intNums.size))\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20054827,"reputation":23,"user_id":14758342,"display_name":"milesmorales"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65148172,"answer_count":5,"score":2,"last_activity_date":1649642691,"creation_date":1607101393,"question_id":65147669,"body_markdown":"I want to sum up all the values of a linked list recursively but it doesn&#39;t work. It says:\r\n\r\n&gt; Cannot invoke &quot;Element.sum()&quot; because the return value of &quot;Element.getNext()&quot; is null\r\n \r\n```java\r\npublic class Element{\r\n    private int value;\r\n    private Element next;\r\n}\r\n\r\npublic class MyList{\r\n    private Element elements;\r\n    public int sum(){\r\n        if (elements == null) return 0;\r\n            return elements.getValue() + elements.getNext().sum();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Recursive sum function for a linked list in java","body":"<p>I want to sum up all the values of a linked list recursively but it doesn't work. It says:</p>\n<blockquote>\n<p>Cannot invoke &quot;Element.sum()&quot; because the return value of &quot;Element.getNext()&quot; is null</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public class Element{\n    private int value;\n    private Element next;\n}\n\npublic class MyList{\n    private Element elements;\n    public int sum(){\n        if (elements == null) return 0;\n            return elements.getValue() + elements.getNext().sum();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","matrix","compare","multiple-columns"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1649627427,"post_id":71820728,"comment_id":126917605,"body_markdown":"I think you should show the structure of your class (behind &quot;this&quot;) as well as the exact objective you&#39;re trying to reach. In the code above, you set equalColumns to true only if the column N you&#39;re scanning is equal to the column N-1. However, if the column N+1 is different than N, you will return false whereas N is equal to N-1.","body":"I think you should show the structure of your class (behind &quot;this&quot;) as well as the exact objective you&#39;re trying to reach. In the code above, you set equalColumns to true only if the column N you&#39;re scanning is equal to the column N-1. However, if the column N+1 is different than N, you will return false whereas N is equal to N-1."}],"answers":[{"tags":[],"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649629984,"creation_date":1649629984,"answer_id":71821045,"question_id":71820728,"body_markdown":"Maybe I didn&#39;t understand completely your question; if you have a nXn matrix called M and you want to check if col1 and col2 are equals you can do this:\r\n\r\n    for(int row = 0; row&lt;M.lenght;row++)\r\n        if (M[row][col1] != M[row][col2]) return false;\r\n    return true;","title":"check if two rows or columns of a matrix are equal","body":"<p>Maybe I didn't understand completely your question; if you have a nXn matrix called M and you want to check if col1 and col2 are equals you can do this:</p>\n<pre><code>for(int row = 0; row&lt;M.lenght;row++)\n    if (M[row][col1] != M[row][col2]) return false;\nreturn true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649642544,"creation_date":1649642544,"answer_id":71821989,"question_id":71820728,"body_markdown":"I would write a method to check on two columns.\r\n- this uses two loops to check each column against the others.\r\n- if any return true, the loop short circuits and displays the result.\r\n```\r\nint n = 8;\r\nboolean result = false;\r\nint[][] mat = new int[n][n];\r\nouter: for (int c1 = 0; c1 &lt; n - 1; c1++) {\r\n\tfor (int c2 = c1 + 1; c2 &lt; n; c2++) {\r\n\t\tif (result = equalColumns(mat, c1, c2)) {\r\n\t\t\tbreak outer;\r\n\t\t}\r\n\t}\r\n}\r\nif (result) {\r\n\tSystem.out.println(&quot;contains equal columns&quot;);\r\n}\r\n```\t\r\n- this just takes the matrix and the columns to be checked and compares them.\r\n- it also short circuits as soon as a mismatch is found.\r\n```\r\npublic static boolean equalColumns(int[][] mat, int cola,\r\n\t\tint colb) {\r\n\tfor (int row = 0; row &lt; mat.length; row++) {\r\n\t\tif (mat[row][cola] != mat[row][colb]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}","title":"check if two rows or columns of a matrix are equal","body":"<p>I would write a method to check on two columns.</p>\n<ul>\n<li>this uses two loops to check each column against the others.</li>\n<li>if any return true, the loop short circuits and displays the result.</li>\n</ul>\n<pre><code>int n = 8;\nboolean result = false;\nint[][] mat = new int[n][n];\nouter: for (int c1 = 0; c1 &lt; n - 1; c1++) {\n    for (int c2 = c1 + 1; c2 &lt; n; c2++) {\n        if (result = equalColumns(mat, c1, c2)) {\n            break outer;\n        }\n    }\n}\nif (result) {\n    System.out.println(&quot;contains equal columns&quot;);\n}\n</code></pre>\n<ul>\n<li>this just takes the matrix and the columns to be checked and compares them.</li>\n<li>it also short circuits as soon as a mismatch is found.</li>\n</ul>\n<pre><code>public static boolean equalColumns(int[][] mat, int cola,\n        int colb) {\n    for (int row = 0; row &lt; mat.length; row++) {\n        if (mat[row][cola] != mat[row][colb]) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":24893953,"reputation":1,"user_id":18765463,"display_name":"Lucas Bastos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":775,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649642544,"creation_date":1649626248,"question_id":71820728,"body_markdown":" I&#39;m trying to check if two columns of a square matrix are equal. The function is working, but I want to reduce the complexity by using two for instead of three. It&#39;s possible? I tried a lot and I couldn&#39;t.\r\n\r\n    int a=0;\r\n          boolean equalColumns=false;\r\n            for(int k=0;k&lt;this.getRows()-1;k++){\r\n                for(int i=k;i&lt;this.getRows()-1;i++){\r\n                    for(int j=0;j&lt;this.getColumns();j++){\r\n                        if(this.getElement(j, k)==this.getElement(j, i+1)){\r\n                            a++;\r\n                        }\r\n                    }\r\n                    if(a==this.getColumns()){\r\n                        equalColumns=true;\r\n                    }\r\n                }\r\n            }  ","title":"check if two rows or columns of a matrix are equal","body":"<p>I'm trying to check if two columns of a square matrix are equal. The function is working, but I want to reduce the complexity by using two for instead of three. It's possible? I tried a lot and I couldn't.</p>\n<pre><code>int a=0;\n      boolean equalColumns=false;\n        for(int k=0;k&lt;this.getRows()-1;k++){\n            for(int i=k;i&lt;this.getRows()-1;i++){\n                for(int j=0;j&lt;this.getColumns();j++){\n                    if(this.getElement(j, k)==this.getElement(j, i+1)){\n                        a++;\n                    }\n                }\n                if(a==this.getColumns()){\n                    equalColumns=true;\n                }\n            }\n        }  \n</code></pre>\n"},{"tags":["java","gradle","visual-studio-code"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1649650749,"post_id":71815394,"comment_id":126920859,"body_markdown":"Please don&#39;t post images of code or errors; see [ask].","body":"Please don&#39;t post images of code or errors; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649642145,"creation_date":1649642145,"answer_id":71821958,"question_id":71815394,"body_markdown":"You can specify a different java home to Gradle via `User setting` `java.import.gradle.java.home`.\r\n\r\n`jdt.ls.java.home` is used to launch the Java Language Server, and the extension had embedded a JRE to start the Java Language Server. So it doesn&#39;t matter, you can remove it.\r\n\r\nAnd what&#39;s the value of `C:\\Programe Files\\Eclipse Adoptiu..`? please make sure it&#39;s an executable java path.","title":"Setting up vs code for Java Gradle Build Error","body":"<p>You can specify a different java home to Gradle via <code>User setting</code> <code>java.import.gradle.java.home</code>.</p>\n<p><code>jdt.ls.java.home</code> is used to launch the Java Language Server, and the extension had embedded a JRE to start the Java Language Server. So it doesn't matter, you can remove it.</p>\n<p>And what's the value of <code>C:\\Programe Files\\Eclipse Adoptiu..</code>? please make sure it's an executable java path.</p>\n"}],"owner":{"account_id":24182077,"reputation":25,"user_id":18142568,"display_name":"Mikoaj Sala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":944,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71821958,"answer_count":1,"score":1,"last_activity_date":1649642145,"creation_date":1649583708,"question_id":71815394,"body_markdown":"I set up `jdt.ls.java.home` propertie in settings and i chagned my `JAVA_HOME` environment variable propertly, but my Gradle is throwing out this error:[Gradle Build Error][1]\r\nThere is also some sort of that error:\r\n[secound error][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/21S3q.png\r\n  [2]: https://i.stack.imgur.com/OtDpS.png","title":"Setting up vs code for Java Gradle Build Error","body":"<p>I set up <code>jdt.ls.java.home</code> propertie in settings and i chagned my <code>JAVA_HOME</code> environment variable propertly, but my Gradle is throwing out this error:<a href=\"https://i.stack.imgur.com/21S3q.png\" rel=\"nofollow noreferrer\">Gradle Build Error</a>\nThere is also some sort of that error:\n<a href=\"https://i.stack.imgur.com/OtDpS.png\" rel=\"nofollow noreferrer\">secound error</a></p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"score":3,"creation_date":1649475504,"post_id":71804740,"comment_id":126891204,"body_markdown":"Create a simple 2d array, and run your code on it.","body":"Create a simple 2d array, and run your code on it."},{"owner":{"account_id":23279715,"reputation":5,"user_id":17363327,"display_name":"Gvbe _"},"score":0,"creation_date":1649640457,"post_id":71804740,"comment_id":126919505,"body_markdown":"@JhanzaibHumayun My code is transposing but not reversing, do I add another for loop to reverse the 2d array?","body":"@JhanzaibHumayun My code is transposing but not reversing, do I add another for loop to reverse the 2d array?"}],"answers":[{"tags":[],"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649641534,"creation_date":1649641534,"answer_id":71821915,"question_id":71804740,"body_markdown":"You are probably looking for something like this:\r\n\r\n    static int[][] rotateRight(int[][] mat) {\r\n        final int M = mat.length;\r\n        final int N = mat[0].length;\r\n        int[][] ret = new int[N][M];\r\n        for (int r = 0; r &lt; M; r++) {\r\n            for (int c = 0; c &lt; N; c++) {\r\n                ret[c][M-1-r] = mat[r][c];\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\nAs for the reason why your code is transposing and not rotating is because you set `m[row][col] = m[col][row]`. Doing this for all the elements only transposes the array, and has nothing to do with rotating.","title":"Rotate 2D Array Clockwise","body":"<p>You are probably looking for something like this:</p>\n<pre><code>static int[][] rotateRight(int[][] mat) {\n    final int M = mat.length;\n    final int N = mat[0].length;\n    int[][] ret = new int[N][M];\n    for (int r = 0; r &lt; M; r++) {\n        for (int c = 0; c &lt; N; c++) {\n            ret[c][M-1-r] = mat[r][c];\n        }\n    }\n    return ret;\n}\n</code></pre>\n<p>As for the reason why your code is transposing and not rotating is because you set <code>m[row][col] = m[col][row]</code>. Doing this for all the elements only transposes the array, and has nothing to do with rotating.</p>\n"}],"owner":{"account_id":23279715,"reputation":5,"user_id":17363327,"display_name":"Gvbe _"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1649641534,"creation_date":1649469826,"question_id":71804740,"body_markdown":"      // pre: m is a square 2-D array (m.length == m[0].length)\r\n     // post: rotates the array 90 degrees to the right\r\n    // When the user presses &quot;F1&quot; on the keyboard, this method will run.\r\n    public static void rotateRight(Object[][] m) {\r\n      for (int row = 0; row &lt; m[0].length; row++){\r\n        for (int col = row; col &lt; m.length; col++){\r\n         Object temp = m[row][col];\r\n         m[row][col] = m[col][row];\r\n         m[col][row] = temp;\r\n      }\r\n     }\r\n    }\r\nWhy does my code not rotate? It seems that it is only transposing the rows although its supposed to rotate","title":"Rotate 2D Array Clockwise","body":"<pre><code>  // pre: m is a square 2-D array (m.length == m[0].length)\n // post: rotates the array 90 degrees to the right\n// When the user presses &quot;F1&quot; on the keyboard, this method will run.\npublic static void rotateRight(Object[][] m) {\n  for (int row = 0; row &lt; m[0].length; row++){\n    for (int col = row; col &lt; m.length; col++){\n     Object temp = m[row][col];\n     m[row][col] = m[col][row];\n     m[col][row] = temp;\n  }\n }\n}\n</code></pre>\n<p>Why does my code not rotate? It seems that it is only transposing the rows although its supposed to rotate</p>\n"},{"tags":["java","filewriter"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1649621373,"post_id":71820121,"comment_id":126916415,"body_markdown":"do/while loops always run at least once, so even if they type `no`, it&#39;ll run once (and will run endlessly if you type &#39;yes&#39;). Secondly, `nextLine` and `nextAnythingElse` don&#39;t work together. Pick one, and never use the other. Most likely you want `.useDelimiter(&quot;\\\\R&quot;)` (call that on your scanner), then `.next()` gets a line, `.nextInt()` gets a line and reads it as an int, etc.","body":"do/while loops always run at least once, so even if they type <code>no</code>, it&#39;ll run once (and will run endlessly if you type &#39;yes&#39;). Secondly, <code>nextLine</code> and <code>nextAnythingElse</code> don&#39;t work together. Pick one, and never use the other. Most likely you want <code>.useDelimiter(&quot;\\\\R&quot;)</code> (call that on your scanner), then <code>.next()</code> gets a line, <code>.nextInt()</code> gets a line and reads it as an int, etc."},{"owner":{"account_id":24379785,"reputation":37,"user_id":18311550,"display_name":"Mario"},"score":0,"creation_date":1649627313,"post_id":71820121,"comment_id":126917581,"body_markdown":"Hi @rzwitserloot\nOh okay, I see. Thanks for letting me know. So, are you saying I need to pick either next or nextline and stick with the one I pick? I just want to make sure that what you were saying, as I initially thought you were using nextAnythingElse as a variable name, but then I realized that I believed that you were using that as a general variable, if that makes sense.\n\nAlso, when I put the .useDelimiter(&quot;\\\\R&quot;) part on the scanner would that line of code look like this Scanner keyboard = new Scanner(System.in).useDelimiter(&quot;\\\\R&quot;);?","body":"Hi @rzwitserloot Oh okay, I see. Thanks for letting me know. So, are you saying I need to pick either next or nextline and stick with the one I pick? I just want to make sure that what you were saying, as I initially thought you were using nextAnythingElse as a variable name, but then I realized that I believed that you were using that as a general variable, if that makes sense.  Also, when I put the .useDelimiter(&quot;\\\\R&quot;) part on the scanner would that line of code look like this Scanner keyboard = new Scanner(System.in).useDelimiter(&quot;\\\\R&quot;);?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1649630245,"post_id":71820121,"comment_id":126918116,"body_markdown":"Yes, either use `next` / `nextInt` / `nextDouble`, and all the other methods in that vein, but do not use `nextLine` _or_ use none of those and use only `nextLine`. With `scanner.useDelimiter(&quot;\\\\R&quot;)` you no longer need `nextLine`. Which is convenient.","body":"Yes, either use <code>next</code> / <code>nextInt</code> / <code>nextDouble</code>, and all the other methods in that vein, but do not use <code>nextLine</code> <i>or</i> use none of those and use only <code>nextLine</code>. With <code>scanner.useDelimiter(&quot;\\\\R&quot;)</code> you no longer need <code>nextLine</code>. Which is convenient."},{"owner":{"account_id":24379785,"reputation":37,"user_id":18311550,"display_name":"Mario"},"score":0,"creation_date":1649632997,"post_id":71820121,"comment_id":126918474,"body_markdown":"@rzwitserloot\nOkay, thanks for letting me know. I apparently still had one next, while the rest were nextLine. So, I changed it to nextLine, and now the names and ages print only when I say no, so thank you so much.\n\nThat being said, I still am having problems with the file part, except now instead of printing errors, it will either not give the file prompt, or goes into an infinite loop with the names and ages printed, depending on where I put it. I&#39;ve updated the code above to show you what I mean.","body":"@rzwitserloot Okay, thanks for letting me know. I apparently still had one next, while the rest were nextLine. So, I changed it to nextLine, and now the names and ages print only when I say no, so thank you so much.  That being said, I still am having problems with the file part, except now instead of printing errors, it will either not give the file prompt, or goes into an infinite loop with the names and ages printed, depending on where I put it. I&#39;ve updated the code above to show you what I mean."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649641494,"creation_date":1649641494,"answer_id":71821912,"question_id":71820121,"body_markdown":"A `do` / `while` loop does.. well, use a dictionary if you have to. It obviously __loops__. It keeps doing the thing in the brackets until the while clause is no longer true. Your code will continually keep asking.\r\n\r\nYou want an `if`, not a `do/while` loop here.\r\n\r\n","title":"Trying to get filename by user input, and print message if the say &quot;no&quot; to wanting to write to a file","body":"<p>A <code>do</code> / <code>while</code> loop does.. well, use a dictionary if you have to. It obviously <strong>loops</strong>. It keeps doing the thing in the brackets until the while clause is no longer true. Your code will continually keep asking.</p>\n<p>You want an <code>if</code>, not a <code>do/while</code> loop here.</p>\n"}],"owner":{"account_id":24379785,"reputation":37,"user_id":18311550,"display_name":"Mario"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649641494,"creation_date":1649620855,"question_id":71820121,"body_markdown":"So, I&#39;m trying to have the user write a filename if they want to write to a file, and write &quot;Thanks for playing&quot; in the Console id they don&#39;t want to write to a file.\r\n\r\nHowever, no matter if I type in &quot;yes&quot; or &quot;no&quot;, it will either not give the file prompt, or goes into an infinite loop with the names and ages printed, depending on where I put it. \r\n\r\n    \r\n   \r\n\r\nI&#39;ll post the code in question below.\r\n\r\n        String answer2;\r\n\t\tString write;\r\n\t\tString fileName;\r\n\t\t\r\n\t\tArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n\t\tArrayList&lt;String&gt; ages = new ArrayList&lt;&gt;();\r\n\r\n   \r\n        // If I put it here, it will do a infinite loop of the names and ages inputted.\r\n\t\t// Prompt the user if they want to write to a file.\r\n\t\tSystem.out.println(&quot;Do you want to write to a file? &quot;);\r\n\t\tanswer2 = keyboard.nextLine();\r\n\r\n        do\r\n\t\t{\r\n         // If I put it here, it will continue to ask me the question infinitely.\r\n\t\t\t\t  // Prompt the user if they want to write to a file.\r\n\t\t\t\t  // System.out.println(&quot;Do you want to write to a file? &quot;);\r\n\t\t\t\t  //answer2 = keyboard.nextLine();\r\n        }\r\n\t\twhile (answer.equals(&quot;no&quot;));\r\n\r\n        do\r\n\t\t{\r\n\t\t\t// Prompt for the filename\r\n\t\t\tSystem.out.println(&quot;Enter your filename: &quot;);\r\n\t\t\tfileName = keyboard.nextLine();\r\n\t\t\t//break;\r\n\t\t\t\r\n\t\t\t//PrintWriter outputFile;\r\n\t\t\ttry \r\n\t\t\t{\r\n\t\t\t    PrintWriter outputFile = new PrintWriter(fileName);\r\n\t\t\t\t\r\n\t\t\t\t// Write the name(s) and age(s) to the file\r\n\t\t\t\toutputFile.println(names);\r\n\t\t\t\toutputFile.println(ages);\r\n\t\t\t\t\r\n\t\t\t\toutputFile.close();\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\tcatch (FileNotFoundException e) \r\n\t\t\t{\r\n\t\t\t\t// \r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\t\r\n\t\t\r\n\t\twhile (answer2.equals(&quot;yes&quot;));\r\n\t\t\r\n\t\tdo\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Thanks for playing!&quot;);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\t\r\n\t\twhile (answer2.equals(&quot;no&quot;));\r\n\t\tkeyboard.close();","title":"Trying to get filename by user input, and print message if the say &quot;no&quot; to wanting to write to a file","body":"<p>So, I'm trying to have the user write a filename if they want to write to a file, and write &quot;Thanks for playing&quot; in the Console id they don't want to write to a file.</p>\n<p>However, no matter if I type in &quot;yes&quot; or &quot;no&quot;, it will either not give the file prompt, or goes into an infinite loop with the names and ages printed, depending on where I put it.</p>\n<p>I'll post the code in question below.</p>\n<pre><code>    String answer2;\n    String write;\n    String fileName;\n    \n    ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; ages = new ArrayList&lt;&gt;();\n\n\n    // If I put it here, it will do a infinite loop of the names and ages inputted.\n    // Prompt the user if they want to write to a file.\n    System.out.println(&quot;Do you want to write to a file? &quot;);\n    answer2 = keyboard.nextLine();\n\n    do\n    {\n     // If I put it here, it will continue to ask me the question infinitely.\n              // Prompt the user if they want to write to a file.\n              // System.out.println(&quot;Do you want to write to a file? &quot;);\n              //answer2 = keyboard.nextLine();\n    }\n    while (answer.equals(&quot;no&quot;));\n\n    do\n    {\n        // Prompt for the filename\n        System.out.println(&quot;Enter your filename: &quot;);\n        fileName = keyboard.nextLine();\n        //break;\n        \n        //PrintWriter outputFile;\n        try \n        {\n            PrintWriter outputFile = new PrintWriter(fileName);\n            \n            // Write the name(s) and age(s) to the file\n            outputFile.println(names);\n            outputFile.println(ages);\n            \n            outputFile.close();\n        } \n        \n        catch (FileNotFoundException e) \n        {\n            // \n            e.printStackTrace();\n            break;\n        }\n    }   \n    \n    while (answer2.equals(&quot;yes&quot;));\n    \n    do\n    {\n        System.out.println(&quot;Thanks for playing!&quot;);\n        break;\n    }\n    \n    while (answer2.equals(&quot;no&quot;));\n    keyboard.close();\n</code></pre>\n"},{"tags":["java","aspectj"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649640438,"creation_date":1649521122,"answer_id":71809818,"question_id":71808839,"body_markdown":"Unfortunately, there is no simple way to do that, e.g. by binding the old value to an advice parameter. If you know which field to access, you can simply access the current value `dme.myField` from a privileged aspect, because you bound `target(dme)` already. See my answer [here](https://stackoverflow.com/a/66648599/1082681).\r\n\r\nIn order to implement it in a more generic way, you have to determine the `Field` instance in the advice and read its value via reflection:\r\n\r\n```java\r\npackage de.scrum_master.aspect;\r\n\r\nimport org.aspectj.lang.SoftException;\r\nimport org.aspectj.lang.reflect.FieldSignature;\r\n\r\npublic privileged aspect MyAspect {\r\n  void around(Object instance, Object newValue) :\r\n    set(* *) &amp;&amp; target(instance) &amp;&amp; args(newValue)\r\n  {\r\n    Object oldValue;\r\n    try {\r\n      oldValue = ((FieldSignature) thisJoinPointStaticPart.getSignature()).getField().get(instance);\r\n    } catch (IllegalArgumentException | IllegalAccessException e) {\r\n      throw new SoftException(e);\r\n    }\r\n    if (oldValue == null &amp;&amp; newValue != null || oldValue != null &amp;&amp; !oldValue.equals(newValue))\r\n      System.out.println(thisJoinPoint + &quot;: &quot; + oldValue + &quot; -&gt; &quot; + newValue);\r\n    proceed(instance, newValue);\r\n  }\r\n}\r\n```\r\n\r\nOf course, your variant of using a `before()` advice is simpler than my `around()` variant. If you only want to log something and do not wish to modify the value before proceeding, a before-advice would be better. But when trying this, I got an `IllegalAccessException` when trying to access the field, despite `privileged aspect`. In the around-advice, it simply works. The reason is that using manual reflection in an advice is of course not covered by `privileged`. The difference between the two advice types is that the code in the around-advice accessing the field is generated inside the target class, while the after-advice code lives in the aspect. Therefore, reflective access to private, protected and package-scoped members has to obey the usual reflection rules and needs explicit access permission.\r\n\r\nAnyway, here is a workaround for the before-advice:\r\n\r\n```java\r\n  before(Object instance, Object newValue) :\r\n    set(* *) &amp;&amp; target(instance) &amp;&amp; args(newValue)\r\n  {\r\n    Object oldValue;\r\n    try {\r\n      Field field = ((FieldSignature) thisJoinPointStaticPart.getSignature()).getField();\r\n      field.setAccessible(true);\r\n      oldValue = field.get(instance);\r\n    } catch (IllegalArgumentException | IllegalAccessException e) {\r\n      throw new SoftException(e);\r\n    }\r\n    if (oldValue == null &amp;&amp; newValue != null || oldValue != null &amp;&amp; !oldValue.equals(newValue))\r\n      System.out.println(thisJoinPoint + &quot;: &quot; + oldValue + &quot; -&gt; &quot; + newValue);\r\n  }\r\n```\r\n","title":"Getting old value of field before detecting a set with aspectj","body":"<p>Unfortunately, there is no simple way to do that, e.g. by binding the old value to an advice parameter. If you know which field to access, you can simply access the current value <code>dme.myField</code> from a privileged aspect, because you bound <code>target(dme)</code> already. See my answer <a href=\"https://stackoverflow.com/a/66648599/1082681\">here</a>.</p>\n<p>In order to implement it in a more generic way, you have to determine the <code>Field</code> instance in the advice and read its value via reflection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.SoftException;\nimport org.aspectj.lang.reflect.FieldSignature;\n\npublic privileged aspect MyAspect {\n  void around(Object instance, Object newValue) :\n    set(* *) &amp;&amp; target(instance) &amp;&amp; args(newValue)\n  {\n    Object oldValue;\n    try {\n      oldValue = ((FieldSignature) thisJoinPointStaticPart.getSignature()).getField().get(instance);\n    } catch (IllegalArgumentException | IllegalAccessException e) {\n      throw new SoftException(e);\n    }\n    if (oldValue == null &amp;&amp; newValue != null || oldValue != null &amp;&amp; !oldValue.equals(newValue))\n      System.out.println(thisJoinPoint + &quot;: &quot; + oldValue + &quot; -&gt; &quot; + newValue);\n    proceed(instance, newValue);\n  }\n}\n</code></pre>\n<p>Of course, your variant of using a <code>before()</code> advice is simpler than my <code>around()</code> variant. If you only want to log something and do not wish to modify the value before proceeding, a before-advice would be better. But when trying this, I got an <code>IllegalAccessException</code> when trying to access the field, despite <code>privileged aspect</code>. In the around-advice, it simply works. The reason is that using manual reflection in an advice is of course not covered by <code>privileged</code>. The difference between the two advice types is that the code in the around-advice accessing the field is generated inside the target class, while the after-advice code lives in the aspect. Therefore, reflective access to private, protected and package-scoped members has to obey the usual reflection rules and needs explicit access permission.</p>\n<p>Anyway, here is a workaround for the before-advice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  before(Object instance, Object newValue) :\n    set(* *) &amp;&amp; target(instance) &amp;&amp; args(newValue)\n  {\n    Object oldValue;\n    try {\n      Field field = ((FieldSignature) thisJoinPointStaticPart.getSignature()).getField();\n      field.setAccessible(true);\n      oldValue = field.get(instance);\n    } catch (IllegalArgumentException | IllegalAccessException e) {\n      throw new SoftException(e);\n    }\n    if (oldValue == null &amp;&amp; newValue != null || oldValue != null &amp;&amp; !oldValue.equals(newValue))\n      System.out.println(thisJoinPoint + &quot;: &quot; + oldValue + &quot; -&gt; &quot; + newValue);\n  }\n</code></pre>\n"}],"owner":{"account_id":13584165,"reputation":69,"user_id":9799332,"display_name":"Dani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649640438,"creation_date":1649513564,"question_id":71808839,"body_markdown":"When using aspectj I have following pointcut:\r\n\r\n    pointcut contentFieldSetter(DataModelEntity dme, Object newValue) : set(!static !final * DataModelEntity+.*)\r\n                &amp;&amp; target(dme) \r\n                &amp;&amp; args(newValue)\r\n                &amp;&amp; !@annotation(ChildField);\r\n\r\n\r\n        before(DataModelEntity dme, Object newValue) : contentFieldSetter(dme, newValue) {\r\n             System.out.println(dme.getClass().getSimpleName()+ &quot;.&quot; + thisJoinPoint.getSignature().getName()+ &quot;: change detected&quot;);\r\n        }\r\n\r\nThis pointcut also gets called if the same value already present in a field is assigned. Is there an effective way to get the value before set and compare them, so that my print only gets called if there is a &quot;true&quot; change?","title":"Getting old value of field before detecting a set with aspectj","body":"<p>When using aspectj I have following pointcut:</p>\n<pre><code>pointcut contentFieldSetter(DataModelEntity dme, Object newValue) : set(!static !final * DataModelEntity+.*)\n            &amp;&amp; target(dme) \n            &amp;&amp; args(newValue)\n            &amp;&amp; !@annotation(ChildField);\n\n\n    before(DataModelEntity dme, Object newValue) : contentFieldSetter(dme, newValue) {\n         System.out.println(dme.getClass().getSimpleName()+ &quot;.&quot; + thisJoinPoint.getSignature().getName()+ &quot;: change detected&quot;);\n    }\n</code></pre>\n<p>This pointcut also gets called if the same value already present in a field is assigned. Is there an effective way to get the value before set and compare them, so that my print only gets called if there is a &quot;true&quot; change?</p>\n"},{"tags":["java","lambda"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649578127,"creation_date":1649493833,"answer_id":71806507,"question_id":71806123,"body_markdown":"You can use `i` and `j`, because effectively they are being instance variables.\r\n\r\nYou can think of your lambda as a much shorter equivalent of this implementation:\r\n```\r\npublic class MyTask implements Task {\r\n\r\n        private final int i;\r\n        private final int j;\r\n\r\n        public MyTask(int i, int j) {\r\n            this.i = i;\r\n            this.j = j;\r\n        }\r\n\r\n        @Override\r\n        public int edit() {\r\n            return this.i + this.j;\r\n        }\r\n}\r\n```\r\nThen instead of using lambda, you add you task to the list like so:\r\n```\r\ntasks.add(new MyTask(i, j));\r\n```\r\nAs for second question, i believe this [SO question][1] should be good read on the topic. Also [this one][2].\r\n\r\n  [1]: https://stackoverflow.com/questions/23410408/java-lambdas-stateless-lambdas-and-parallel-execution\r\n  [2]: https://stackoverflow.com/questions/34865383/variable-used-in-lambda-expression-should-be-final-or-effectively-final","title":"Using parameters inside lambda expression","body":"<p>You can use <code>i</code> and <code>j</code>, because effectively they are being instance variables.</p>\n<p>You can think of your lambda as a much shorter equivalent of this implementation:</p>\n<pre><code>public class MyTask implements Task {\n\n        private final int i;\n        private final int j;\n\n        public MyTask(int i, int j) {\n            this.i = i;\n            this.j = j;\n        }\n\n        @Override\n        public int edit() {\n            return this.i + this.j;\n        }\n}\n</code></pre>\n<p>Then instead of using lambda, you add you task to the list like so:</p>\n<pre><code>tasks.add(new MyTask(i, j));\n</code></pre>\n<p>As for second question, i believe this <a href=\"https://stackoverflow.com/questions/23410408/java-lambdas-stateless-lambdas-and-parallel-execution\">SO question</a> should be good read on the topic. Also <a href=\"https://stackoverflow.com/questions/34865383/variable-used-in-lambda-expression-should-be-final-or-effectively-final\">this one</a>.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649640414,"creation_date":1649575518,"answer_id":71814562,"question_id":71806123,"body_markdown":"&gt; I also noticed the compiler automatically makes these parameters final.\r\n\r\nActually that is not correct.\r\n\r\nWhat happens is that the compiler determines that the parameters are *effectively final* at the point in the code where the lambda expression is created.  Effectively final means that the code (as written) does not change the values.\r\n\r\nSee [JLS 15.27.2][1] for the precise wording.\r\n\r\nSince they are effectively final in your example, the compiler allows you to use `i` and `j` in the lambda.  (If they weren&#39;t, you would get a compilation error!)\r\n\r\nWhat actually happens is that the compiler (or more precisely, the compiler writer) reasons that since `i` and `j` cannot change, the compiled bytecodes can save the `i` and `j` values in synthetic fields of the object that represents the lambda.  Later, when the lambda is called, it gets the values of `i` and `j` from those fields.  That way, the compiled code doesn&#39;t need to worry that the stack frame containing the original `i` and `j` variables may have gone away.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.27.2","title":"Using parameters inside lambda expression","body":"<blockquote>\n<p>I also noticed the compiler automatically makes these parameters final.</p>\n</blockquote>\n<p>Actually that is not correct.</p>\n<p>What happens is that the compiler determines that the parameters are <em>effectively final</em> at the point in the code where the lambda expression is created.  Effectively final means that the code (as written) does not change the values.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.27.2\" rel=\"nofollow noreferrer\">JLS 15.27.2</a> for the precise wording.</p>\n<p>Since they are effectively final in your example, the compiler allows you to use <code>i</code> and <code>j</code> in the lambda.  (If they weren't, you would get a compilation error!)</p>\n<p>What actually happens is that the compiler (or more precisely, the compiler writer) reasons that since <code>i</code> and <code>j</code> cannot change, the compiled bytecodes can save the <code>i</code> and <code>j</code> values in synthetic fields of the object that represents the lambda.  Later, when the lambda is called, it gets the values of <code>i</code> and <code>j</code> from those fields.  That way, the compiled code doesn't need to worry that the stack frame containing the original <code>i</code> and <code>j</code> variables may have gone away.</p>\n"}],"owner":{"account_id":13584165,"reputation":69,"user_id":9799332,"display_name":"Dani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1649640414,"creation_date":1649490000,"question_id":71806123,"body_markdown":"I am wondering why I can use the method parameters i and j inside the lambda and where they are stored in the anonymous class. I also noticed the compiler automatically makes these parameters final. What&#39;s going on here in the background I am not aware of?\r\n\r\n```\r\npublic class Editor {\r\n\r\n    public interface Task {\r\n        int edit();\r\n    }\r\n\r\n    static ArrayList&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\r\n\r\n    public static void add(int i, int j) {\r\n        tasks.add(() -&gt; i + j);\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        add(4,5);\r\n        System.out.println(tasks.get(0).edit());\r\n    }\r\n\r\n}\r\n```\r\n","title":"Using parameters inside lambda expression","body":"<p>I am wondering why I can use the method parameters i and j inside the lambda and where they are stored in the anonymous class. I also noticed the compiler automatically makes these parameters final. What's going on here in the background I am not aware of?</p>\n<pre><code>public class Editor {\n\n    public interface Task {\n        int edit();\n    }\n\n    static ArrayList&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\n\n    public static void add(int i, int j) {\n        tasks.add(() -&gt; i + j);\n    }\n\n\n    public static void main(String[] args) {\n        add(4,5);\n        System.out.println(tasks.get(0).edit());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","interface","static"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1649636229,"post_id":71821435,"comment_id":126918923,"body_markdown":"Voodoo.  https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13.2","body":"Voodoo.  <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13.2\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/&hellip;</a>"},{"owner":{"account_id":8984727,"reputation":2962,"user_id":6698642,"display_name":"shriakhilc"},"score":0,"creation_date":1649636938,"post_id":71821435,"comment_id":126919026,"body_markdown":"Possible dupe of [What is a SAM type?](https://stackoverflow.com/questions/17913409/what-is-a-sam-type-in-java), since `AppInit` is a SAM-type and `Main::configure` is a method reference. You can also take a look at the accepted answer on [How to pass a function as a parameter?](https://stackoverflow.com/questions/4685563/how-to-pass-a-function-as-a-parameter-in-java).","body":"Possible dupe of <a href=\"https://stackoverflow.com/questions/17913409/what-is-a-sam-type-in-java\">What is a SAM type?</a>, since <code>AppInit</code> is a SAM-type and <code>Main::configure</code> is a method reference. You can also take a look at the accepted answer on <a href=\"https://stackoverflow.com/questions/4685563/how-to-pass-a-function-as-a-parameter-in-java\">How to pass a function as a parameter?</a>."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649640354,"creation_date":1649639491,"answer_id":71821760,"question_id":71821435,"body_markdown":"Your interface is a functional interface (i.e., one abstract method).  In particular it is a `Consumer` of type `Environment`.  A consumer takes an argument and returns nothing. So it just `consumes` the argument, usually applying some type to it.  Here is a more common example.\r\n\r\n```\r\ninterface Consumer {\r\n\t  void apply(String arg);\r\n}\r\n\r\npublic class ConsumerDemo  {\r\n\tpublic static void main(String [] args) {\r\n\t\tSomeMethod(System.out::println);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void SomeMethod(Consumer con) {\r\n\t\tcon.apply(&quot;Hello, World!&quot;);\r\n\t}\r\n}\r\n```\r\nprints\r\n```\r\nHello, World!\r\n```\r\nThe interface need not be explicitly implemented. The compiler takes care of that by finding the appropriate interface and creating what would normally be an anonymous class.\r\n\r\nThe above was called with a method reference.  It could also be called as a lambda.\r\n```\r\na -&gt; System.out.println(a)\r\n```\r\nHere `con.apply(&quot;Hello, World!&quot;)` would pass the string to to `a` and it would be printed.","title":"How is this static method being passed in lieu of a class that implements an interface?","body":"<p>Your interface is a functional interface (i.e., one abstract method).  In particular it is a <code>Consumer</code> of type <code>Environment</code>.  A consumer takes an argument and returns nothing. So it just <code>consumes</code> the argument, usually applying some type to it.  Here is a more common example.</p>\n<pre><code>interface Consumer {\n      void apply(String arg);\n}\n\npublic class ConsumerDemo  {\n    public static void main(String [] args) {\n        SomeMethod(System.out::println);\n        \n    }\n    \n    public static void SomeMethod(Consumer con) {\n        con.apply(&quot;Hello, World!&quot;);\n    }\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Hello, World!\n</code></pre>\n<p>The interface need not be explicitly implemented. The compiler takes care of that by finding the appropriate interface and creating what would normally be an anonymous class.</p>\n<p>The above was called with a method reference.  It could also be called as a lambda.</p>\n<pre><code>a -&gt; System.out.println(a)\n</code></pre>\n<p>Here <code>con.apply(&quot;Hello, World!&quot;)</code> would pass the string to to <code>a</code> and it would be printed.</p>\n"}],"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1649729295,"accepted_answer_id":71821760,"answer_count":1,"score":1,"last_activity_date":1649640354,"creation_date":1649634935,"question_id":71821435,"body_markdown":"I&#39;m not sure what&#39;s going on here. Here&#39;s an interface:\r\n\r\n    public interface AppInit {\r\n      void create(Environment var1);\r\n    }\r\n\r\nHere&#39;s some class&#39;s method:\r\n\r\n      public static StandaloneModule create(AppInit appInit) {\r\n        return new StandaloneModule(appInit);\r\n      }\r\n\r\nAnd here&#39;s how that method is being called:\r\n\r\n    StandaloneModule.create(Main::configure)\r\n\r\nBut that parameter method&#39;s signature is:\r\n\r\n    static void configure(final Environment environment) {\r\n      ...\r\n\r\nWhy does this compile?","title":"How is this static method being passed in lieu of a class that implements an interface?","body":"<p>I'm not sure what's going on here. Here's an interface:</p>\n<pre><code>public interface AppInit {\n  void create(Environment var1);\n}\n</code></pre>\n<p>Here's some class's method:</p>\n<pre><code>  public static StandaloneModule create(AppInit appInit) {\n    return new StandaloneModule(appInit);\n  }\n</code></pre>\n<p>And here's how that method is being called:</p>\n<pre><code>StandaloneModule.create(Main::configure)\n</code></pre>\n<p>But that parameter method's signature is:</p>\n<pre><code>static void configure(final Environment environment) {\n  ...\n</code></pre>\n<p>Why does this compile?</p>\n"},{"tags":["java","spring","spring-boot","kotlin"],"comments":[{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":1,"creation_date":1649636266,"post_id":71821534,"comment_id":126918929,"body_markdown":"I saw this link https://stackoverflow.com/questions/16351780/where-should-service-annotation-be-kept-interface-or-implementation \nBut I couldn&#39;t find an answer there.","body":"I saw this link <a href=\"https://stackoverflow.com/questions/16351780/where-should-service-annotation-be-kept-interface-or-implementation\" title=\"where should service annotation be kept interface or implementation\">stackoverflow.com/questions/16351780/&hellip;</a>  But I couldn&#39;t find an answer there."},{"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"score":0,"creation_date":1649638513,"post_id":71821534,"comment_id":126919239,"body_markdown":"I think the key difference here is: do you want your implementation to be decided at compile time or run time? - Option 1, spring will attempt to find an unambiguous implementation at run-time. Option 2, you are specifying which implementation to inject.","body":"I think the key difference here is: do you want your implementation to be decided at compile time or run time? - Option 1, spring will attempt to find an unambiguous implementation at run-time. Option 2, you are specifying which implementation to inject."}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649638053,"creation_date":1649638053,"answer_id":71821669,"question_id":71821534,"body_markdown":"It is all in relation with two principal design : Open to extension closed to modification , and dependencies injection.\r\n\r\nThe main idea of Open closed from wekipedia : *In object-oriented programming, the openclosed principle states &quot;software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification&quot;;[1] that is, such an entity can allow its behaviour to be extended without modifying its source code.*\r\n\r\nFor the dependencies injection on spring , it is from Baeldung : *Dependency Injection is a fundamental aspect of the Spring framework, through which the Spring container injects objects into other objects or dependencies.\r\nSimply put, this allows for loose coupling of components and moves the responsibility of managing components onto the container.*\r\n\r\nSo as example , you have an application that read some data from an Oracle DataBase the implementation will be like that :\r\n\r\n    public interface ReadDataFromSource{\r\n    public abstract List&lt;String&gt; getData();\r\n    }\r\n    \r\nThe implementation will be \r\n    \r\n    @Service\r\n    public class ReadDataFromOracleDB implements ReadDataFromSource {\r\n    public List&lt;String&gt; getData(){\r\n    // code to read data from Oracle DB\r\n    }\r\n    }\r\n\r\nFor some reason the client need to change the implementation to read the data from a MysqlDataBase , the idea is to dont change the existen code ( closed to modification) , we should here add a new class that implements the same interface `ReadDataFromSource` :\r\n\r\n    @Service\r\n    public class ReadDataFromMysqlDB implements ReadDataFromSource {\r\n    public List&lt;String&gt; getData(){\r\n    // code to read data from Mysql DB\r\n    }\r\n    }\r\n\r\nThe call ( reference ) should be using the interface to garantee that the instance can be from any class that implements the interface.\r\nAnd like that we have the two version in our software , using Qualifiers or @primary  , naming the beans and call using the names ; will inform the framework about any bean will be used in a given place .\r\nThe first version (Oracle DB) still exist if we need to use it.\r\n\r\n \r\n\r\n    @Autowired\r\n     private ReadDataFromSource dataReader;","title":"Spring. The difference between annotation over an interface and implementation","body":"<p>It is all in relation with two principal design : Open to extension closed to modification , and dependencies injection.</p>\n<p>The main idea of Open closed from wekipedia : <em>In object-oriented programming, the openclosed principle states &quot;software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification&quot;;[1] that is, such an entity can allow its behaviour to be extended without modifying its source code.</em></p>\n<p>For the dependencies injection on spring , it is from Baeldung : <em>Dependency Injection is a fundamental aspect of the Spring framework, through which the Spring container injects objects into other objects or dependencies.\nSimply put, this allows for loose coupling of components and moves the responsibility of managing components onto the container.</em></p>\n<p>So as example , you have an application that read some data from an Oracle DataBase the implementation will be like that :</p>\n<pre><code>public interface ReadDataFromSource{\npublic abstract List&lt;String&gt; getData();\n}\n</code></pre>\n<p>The implementation will be</p>\n<pre><code>@Service\npublic class ReadDataFromOracleDB implements ReadDataFromSource {\npublic List&lt;String&gt; getData(){\n// code to read data from Oracle DB\n}\n}\n</code></pre>\n<p>For some reason the client need to change the implementation to read the data from a MysqlDataBase , the idea is to dont change the existen code ( closed to modification) , we should here add a new class that implements the same interface <code>ReadDataFromSource</code> :</p>\n<pre><code>@Service\npublic class ReadDataFromMysqlDB implements ReadDataFromSource {\npublic List&lt;String&gt; getData(){\n// code to read data from Mysql DB\n}\n}\n</code></pre>\n<p>The call ( reference ) should be using the interface to garantee that the instance can be from any class that implements the interface.\nAnd like that we have the two version in our software , using Qualifiers or @primary  , naming the beans and call using the names ; will inform the framework about any bean will be used in a given place .\nThe first version (Oracle DB) still exist if we need to use it.</p>\n<pre><code>@Autowired\n private ReadDataFromSource dataReader;\n</code></pre>\n"}],"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649638053,"creation_date":1649636247,"question_id":71821534,"body_markdown":"I can&#39;t understand the difference between the annotation over the interface and the implementation.\r\nI&#39;ve searched a lot of information it&#39;s not complete and it doesn&#39;t seem right to me. I decided to look into the question.\r\n\r\nConsider\r\n\r\n**1 Variant**.\r\n\r\nInterface\r\n```java\r\n    @Service\r\n    public interface AuthenticationService {\r\n    \r\n        boolean authenticate(String username, String password);\r\n    }\r\n```\r\nImpl\r\n```java\r\n    public class InMemoryAuthenticationService implements AuthenticationService {\r\n    \r\n        @Override\r\n        public boolean authenticate(String username, String password) {\r\n            //...\r\n        }\r\n    }\r\n```\r\n\r\nAnd\r\n\r\n     @Autowired\r\n     private AuthenticationService authService;\r\n\r\nMany sources, including *stackoverflow*, say that there are 2 key problems with this approach\r\n1) We create an unnecessary link to an *external library* (what library???)\r\n2) We may encounter **NoSuchBeanDefinitionException** (but for some reason there is no mention of @Qualifier or @Primary annotations or other ways)\r\n\r\n\r\n\r\n**2 Option**\r\n\r\nInterface\r\n```java\r\n    public interface AuthenticationService {\r\n    \r\n        boolean authenticate(String username, String password);\r\n    }\r\n```\r\nImpl\r\n```java\r\n    @Service\r\n    public class InMemoryAuthenticationService implements AuthenticationService {\r\n    \r\n        @Override\r\n        public boolean authenticate(String username, String password) {\r\n            //...\r\n        }\r\n    }\r\n```\r\n\r\nAnd\r\n\r\n     @Autowired\r\n     private InMemoryAuthenticationService authService;\r\n\r\n\r\nIn my practice, I always created an interface for the service and injected the interface.\r\nBut now I&#39;ve started to see the second option sometimes.\r\n\r\n**Questions**.\r\n\r\nCan you describe the pros and cons of both options in more detail?\r\nDoes it even make sense to use the interfaces then, if they only have 1 implementation?","title":"Spring. The difference between annotation over an interface and implementation","body":"<p>I can't understand the difference between the annotation over the interface and the implementation.\nI've searched a lot of information it's not complete and it doesn't seem right to me. I decided to look into the question.</p>\n<p>Consider</p>\n<p><strong>1 Variant</strong>.</p>\n<p>Interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Service\n    public interface AuthenticationService {\n    \n        boolean authenticate(String username, String password);\n    }\n</code></pre>\n<p>Impl</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class InMemoryAuthenticationService implements AuthenticationService {\n    \n        @Override\n        public boolean authenticate(String username, String password) {\n            //...\n        }\n    }\n</code></pre>\n<p>And</p>\n<pre><code> @Autowired\n private AuthenticationService authService;\n</code></pre>\n<p>Many sources, including <em>stackoverflow</em>, say that there are 2 key problems with this approach</p>\n<ol>\n<li>We create an unnecessary link to an <em>external library</em> (what library???)</li>\n<li>We may encounter <strong>NoSuchBeanDefinitionException</strong> (but for some reason there is no mention of @Qualifier or @Primary annotations or other ways)</li>\n</ol>\n<p><strong>2 Option</strong></p>\n<p>Interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public interface AuthenticationService {\n    \n        boolean authenticate(String username, String password);\n    }\n</code></pre>\n<p>Impl</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Service\n    public class InMemoryAuthenticationService implements AuthenticationService {\n    \n        @Override\n        public boolean authenticate(String username, String password) {\n            //...\n        }\n    }\n</code></pre>\n<p>And</p>\n<pre><code> @Autowired\n private InMemoryAuthenticationService authService;\n</code></pre>\n<p>In my practice, I always created an interface for the service and injected the interface.\nBut now I've started to see the second option sometimes.</p>\n<p><strong>Questions</strong>.</p>\n<p>Can you describe the pros and cons of both options in more detail?\nDoes it even make sense to use the interfaces then, if they only have 1 implementation?</p>\n"},{"tags":["java","neo4j","cypher"],"answers":[{"tags":[],"owner":{"account_id":3356233,"reputation":15372,"user_id":3196723,"accept_rate":70,"display_name":"Govind Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1557469023,"creation_date":1557467024,"answer_id":56071377,"question_id":56071228,"body_markdown":"&gt; best way to create relationship between two nodes is \r\n&gt; \r\n&gt; first get the two nodes.if they doesn&#39;t exists then create. Once\r\n&gt; the nodes are loaded, then simply create a relationship between them\r\n\r\nin your case, create your nodes with `MERGE` and then relationship\r\n\r\n    MERGE (n1:node {name:&#39;Adam&#39;})\r\n    MERGE (n2:node {name:&#39;USA&#39;})\r\n    MERGE (n1)-[r:born_in]-&gt;(n2)\r\n\r\nthis link will help you in understanding `MERGE`\r\n\r\nhttps://neo4j.com/docs/cypher-manual/current/clauses/merge/","title":"How to avoid duplicate node?","body":"<blockquote>\n  <p>best way to create relationship between two nodes is </p>\n  \n  <p>first get the two nodes.if they doesn't exists then create. Once\n  the nodes are loaded, then simply create a relationship between them</p>\n</blockquote>\n\n<p>in your case, create your nodes with <code>MERGE</code> and then relationship</p>\n\n<pre><code>MERGE (n1:node {name:'Adam'})\nMERGE (n2:node {name:'USA'})\nMERGE (n1)-[r:born_in]-&gt;(n2)\n</code></pre>\n\n<p>this link will help you in understanding <code>MERGE</code></p>\n\n<p><a href=\"https://neo4j.com/docs/cypher-manual/current/clauses/merge/\" rel=\"nofollow noreferrer\">https://neo4j.com/docs/cypher-manual/current/clauses/merge/</a></p>\n"},{"tags":[],"owner":{"account_id":100757,"reputation":4163,"user_id":271450,"accept_rate":50,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649636914,"creation_date":1649636914,"answer_id":71821579,"question_id":56071228,"body_markdown":"For anyone looking for a general way to avoid adding duplicates:\r\n\r\n```cypher\r\nMERGE (u:User { email: &quot;me@you.com&quot; }) \r\nSET u.name=&quot;Jon Smith&quot; \r\nRETURN u\r\n```\r\n\r\nThis works in both neo4j and redisgraph.\r\n\r\nJ","title":"How to avoid duplicate node?","body":"<p>For anyone looking for a general way to avoid adding duplicates:</p>\n<pre><code>MERGE (u:User { email: &quot;me@you.com&quot; }) \nSET u.name=&quot;Jon Smith&quot; \nRETURN u\n</code></pre>\n<p>This works in both neo4j and redisgraph.</p>\n<p>J</p>\n"}],"owner":{"account_id":5670593,"reputation":25,"user_id":6725949,"display_name":"imran fida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":995,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56071377,"answer_count":2,"score":2,"last_activity_date":1649636914,"creation_date":1557466271,"question_id":56071228,"body_markdown":"I am writing a java project to insert data in neo4j using a cypher query. I want to stop neo4j from creating a duplicate node, instead linking the other node with the existing node. \r\n\r\n    CREATE (n1:node {name:&#39;Adam&#39;})-[:born_in]-&gt;(n2:node {name:&#39;USA&#39;})\r\n    //and again \r\n    CREATE (n1:node {name:&#39;Adam&#39;})-[:worked_at]-&gt;(n2:node {name:&#39;Apple&#39;})\r\n\r\nI want to create one node of Adam and two other nodes i.e. `USA` and `Apple`. Are there any checks in java to avoid duplications?","title":"How to avoid duplicate node?","body":"<p>I am writing a java project to insert data in neo4j using a cypher query. I want to stop neo4j from creating a duplicate node, instead linking the other node with the existing node. </p>\n\n<pre><code>CREATE (n1:node {name:'Adam'})-[:born_in]-&gt;(n2:node {name:'USA'})\n//and again \nCREATE (n1:node {name:'Adam'})-[:worked_at]-&gt;(n2:node {name:'Apple'})\n</code></pre>\n\n<p>I want to create one node of Adam and two other nodes i.e. <code>USA</code> and <code>Apple</code>. Are there any checks in java to avoid duplications?</p>\n"},{"tags":["java","swing","user-interface","grid","cardlayout"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":5,"creation_date":1649281209,"post_id":71773913,"comment_id":126839356,"body_markdown":"Just having that method will not allow a grid to change &quot;on the fly&quot; when the program is running. Instead, you will need to listen to changes in the JRadioButton state, and then re-lay out the components based on its state. Or better yet, use a [CardLayout tutorial](http://docs.oracle.com/javase/tutorial/uiswing/layout/card.html) to allow you to swap the two grid &quot;views&quot;.","body":"Just having that method will not allow a grid to change &quot;on the fly&quot; when the program is running. Instead, you will need to listen to changes in the JRadioButton state, and then re-lay out the components based on its state. Or better yet, use a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">CardLayout tutorial</a> to allow you to swap the two grid &quot;views&quot;."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1649289172,"post_id":71773913,"comment_id":126840875,"body_markdown":"I suggest creating a drawing JPanel, and drawing the grid, S, O, and lines.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.  Perhaps this [SOS game readme](https://github.com/ggleblanc2/sos#readme) might be of some help.","body":"I suggest creating a drawing JPanel, and drawing the grid, S, O, and lines.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section.  Perhaps this <a href=\"https://github.com/ggleblanc2/sos#readme\" rel=\"nofollow noreferrer\">SOS game readme</a> might be of some help."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649292550,"creation_date":1649292550,"answer_id":71775110,"question_id":71773913,"body_markdown":"Again, I suggest that if you want to use components as your grid cell, that you either swap views (JPanels) using a CardLayout, or you swap out the grid cells when a JRadioButton is pressed.\r\n\r\nI suggest:\r\n* Adding an ActionListener to the JRadioButton to be notified when it is pressed.\r\n* If you will swap components, then create a JPanel to hold the grid cells, say called gridHolder, and remove all components when the button is pressed.\r\n* Then add a new GridLayout layout manager to this JPanel, with constraints set depending on whih JRadioButton has been pressed.\r\n* Then re-adding grid cell components to this holder JPanel\r\n* Then relaying out all components in the GUI and resizing it by calling `pack()` on the top-level window, here a JFrame.\r\n* In the example below, I use JLabels to hold the grid cells since it is trivial to add text to these.\r\n* I store the row and column of each grid cell using the `.putClientProperty(...)` method and likewise can retrieve values using the `.getClientProperty(...)` method.\r\n* I call `createGrid(...)` in the constructor to create the grid with the default, small, size.\r\n* I call the same method whenever a JRadioButton has been pressed.\r\n\r\nFor example:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.GridLayout;\r\nimport java.awt.Window;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.border.BevelBorder;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class SosGrid2 extends JPanel {\r\n\tprivate static final int SMALL_SIZE = 5;\r\n\tprivate static final int LARGE_SIZE = 8;\r\n\tprivate static final String[] SIZES = { &quot;Small&quot;, &quot;Large&quot; };\r\n\tprivate static final Dimension CELL_SIZE = new Dimension(60, 60);\r\n\tprivate static final Color GRID_BG = new Color(200, 200, 200);\r\n\tprivate static final String ROW = &quot;row&quot;;\r\n\tprivate static final String COL = &quot;col&quot;;\r\n\tprivate JPanel gridHolder = new JPanel();\r\n\tprivate ButtonGroup gridSizeGroup = new ButtonGroup();\r\n\r\n\tpublic SosGrid2() {\r\n\t\tJPanel radioButtonPanel = new JPanel();\r\n\r\n\t\tfor (String size : SIZES) {\r\n\t\t\tJRadioButton radioButton = new JRadioButton(size);\r\n\t\t\tradioButton.setSelected(size.equals(SIZES[0]));\r\n\t\t\tradioButton.setActionCommand(size);\r\n\t\t\tgridSizeGroup.add(radioButton);\r\n\t\t\tradioButtonPanel.add(radioButton);\r\n\t\t\tradioButton.addActionListener(e -&gt; radioListener());\r\n\t\t}\r\n\r\n\t\tcreateGrid(SMALL_SIZE);\r\n\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tadd(gridHolder);\r\n\t\tadd(radioButtonPanel, BorderLayout.PAGE_END);\r\n\t}\r\n\r\n\tprivate void createGrid(int gridSize) {\r\n\t\tgridHolder.removeAll();\r\n\t\tgridHolder.setLayout(new GridLayout(gridSize, gridSize));\r\n\t\tfor (int row = 0; row &lt; gridSize; row++) {\r\n\t\t\tfor (int col = 0; col &lt; gridSize; col++) {\r\n\t\t\t\tJLabel gridCell = createGridCell(row, col);\r\n\t\t\t\tgridHolder.add(gridCell);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t// factory method to create grid cell JLabels.\r\n\tprivate JLabel createGridCell(int row, int col) {\r\n\t\tJLabel label = new JLabel(&quot;&quot;, SwingConstants.CENTER);\r\n\t\tlabel.setFont(label.getFont().deriveFont(Font.BOLD, 32f));\r\n\t\tlabel.setOpaque(true);\r\n\t\tlabel.setBackground(GRID_BG);\r\n\t\tlabel.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\r\n\t\tlabel.setPreferredSize(CELL_SIZE);\r\n\t\tlabel.putClientProperty(ROW, row);\r\n\t\tlabel.putClientProperty(COL, col);\r\n\t\tlabel.addMouseListener(new MyMouseListener());\r\n\t\t\r\n\t\treturn label; \r\n\t}\r\n\t\r\n\tprivate class MyMouseListener extends MouseAdapter {\r\n\t\t@Override\r\n\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\tJLabel gridCell = (JLabel) e.getSource();\r\n\t\t\tint row = (int) gridCell.getClientProperty(ROW);\r\n\t\t\tint col = (int) gridCell.getClientProperty(COL);\r\n\t\t\tString message = String.format(&quot;Row: %d, Col: %d&quot;, row, col);\r\n\t\t\tString title = &quot;Cell Pressed&quot;;\r\n\t\t\tint type = JOptionPane.PLAIN_MESSAGE;\r\n\t\t\tJOptionPane.showMessageDialog(SosGrid2.this, message, title, type);\r\n\t\t\t\r\n\t\t\tString text = gridCell.getText();\r\n\t\t\tif (text.isEmpty()) {\r\n\t\t\t\tgridCell.setText(&quot;X&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tgridCell.setText(&quot;&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void radioListener() {\r\n\t\tButtonModel btnModel = gridSizeGroup.getSelection();\r\n\t\tif (btnModel != null) {\r\n\t\t\tint gridSize = btnModel.getActionCommand().equals(SIZES[0]) ? SMALL_SIZE : LARGE_SIZE;\r\n\t\t\tcreateGrid(gridSize);\r\n\t\t\tWindow jframe = SwingUtilities.getWindowAncestor(this);\r\n\t\t\tjframe.pack();\r\n\t\t\tjframe.setLocationRelativeTo(null);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\tSosGrid2 mainPanel = new SosGrid2();\r\n\r\n\t\t\tJFrame frame = new JFrame(&quot;GUI&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.add(mainPanel);\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n\t}\r\n}\r\n```","title":"Attempting to change grid size based on which RadioButton is selected - Java Swing GUI - SOS board game","body":"<p>Again, I suggest that if you want to use components as your grid cell, that you either swap views (JPanels) using a CardLayout, or you swap out the grid cells when a JRadioButton is pressed.</p>\n<p>I suggest:</p>\n<ul>\n<li>Adding an ActionListener to the JRadioButton to be notified when it is pressed.</li>\n<li>If you will swap components, then create a JPanel to hold the grid cells, say called gridHolder, and remove all components when the button is pressed.</li>\n<li>Then add a new GridLayout layout manager to this JPanel, with constraints set depending on whih JRadioButton has been pressed.</li>\n<li>Then re-adding grid cell components to this holder JPanel</li>\n<li>Then relaying out all components in the GUI and resizing it by calling <code>pack()</code> on the top-level window, here a JFrame.</li>\n<li>In the example below, I use JLabels to hold the grid cells since it is trivial to add text to these.</li>\n<li>I store the row and column of each grid cell using the <code>.putClientProperty(...)</code> method and likewise can retrieve values using the <code>.getClientProperty(...)</code> method.</li>\n<li>I call <code>createGrid(...)</code> in the constructor to create the grid with the default, small, size.</li>\n<li>I call the same method whenever a JRadioButton has been pressed.</li>\n</ul>\n<p>For example:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.GridLayout;\nimport java.awt.Window;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\nimport javax.swing.*;\nimport javax.swing.border.BevelBorder;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class SosGrid2 extends JPanel {\n    private static final int SMALL_SIZE = 5;\n    private static final int LARGE_SIZE = 8;\n    private static final String[] SIZES = { &quot;Small&quot;, &quot;Large&quot; };\n    private static final Dimension CELL_SIZE = new Dimension(60, 60);\n    private static final Color GRID_BG = new Color(200, 200, 200);\n    private static final String ROW = &quot;row&quot;;\n    private static final String COL = &quot;col&quot;;\n    private JPanel gridHolder = new JPanel();\n    private ButtonGroup gridSizeGroup = new ButtonGroup();\n\n    public SosGrid2() {\n        JPanel radioButtonPanel = new JPanel();\n\n        for (String size : SIZES) {\n            JRadioButton radioButton = new JRadioButton(size);\n            radioButton.setSelected(size.equals(SIZES[0]));\n            radioButton.setActionCommand(size);\n            gridSizeGroup.add(radioButton);\n            radioButtonPanel.add(radioButton);\n            radioButton.addActionListener(e -&gt; radioListener());\n        }\n\n        createGrid(SMALL_SIZE);\n\n        setLayout(new BorderLayout());\n        add(gridHolder);\n        add(radioButtonPanel, BorderLayout.PAGE_END);\n    }\n\n    private void createGrid(int gridSize) {\n        gridHolder.removeAll();\n        gridHolder.setLayout(new GridLayout(gridSize, gridSize));\n        for (int row = 0; row &lt; gridSize; row++) {\n            for (int col = 0; col &lt; gridSize; col++) {\n                JLabel gridCell = createGridCell(row, col);\n                gridHolder.add(gridCell);\n            }\n        }\n    }\n    \n    // factory method to create grid cell JLabels.\n    private JLabel createGridCell(int row, int col) {\n        JLabel label = new JLabel(&quot;&quot;, SwingConstants.CENTER);\n        label.setFont(label.getFont().deriveFont(Font.BOLD, 32f));\n        label.setOpaque(true);\n        label.setBackground(GRID_BG);\n        label.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\n        label.setPreferredSize(CELL_SIZE);\n        label.putClientProperty(ROW, row);\n        label.putClientProperty(COL, col);\n        label.addMouseListener(new MyMouseListener());\n        \n        return label; \n    }\n    \n    private class MyMouseListener extends MouseAdapter {\n        @Override\n        public void mousePressed(MouseEvent e) {\n            JLabel gridCell = (JLabel) e.getSource();\n            int row = (int) gridCell.getClientProperty(ROW);\n            int col = (int) gridCell.getClientProperty(COL);\n            String message = String.format(&quot;Row: %d, Col: %d&quot;, row, col);\n            String title = &quot;Cell Pressed&quot;;\n            int type = JOptionPane.PLAIN_MESSAGE;\n            JOptionPane.showMessageDialog(SosGrid2.this, message, title, type);\n            \n            String text = gridCell.getText();\n            if (text.isEmpty()) {\n                gridCell.setText(&quot;X&quot;);\n            } else {\n                gridCell.setText(&quot;&quot;);\n            }\n        }\n    }\n\n    private void radioListener() {\n        ButtonModel btnModel = gridSizeGroup.getSelection();\n        if (btnModel != null) {\n            int gridSize = btnModel.getActionCommand().equals(SIZES[0]) ? SMALL_SIZE : LARGE_SIZE;\n            createGrid(gridSize);\n            Window jframe = SwingUtilities.getWindowAncestor(this);\n            jframe.pack();\n            jframe.setLocationRelativeTo(null);\n        }\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            SosGrid2 mainPanel = new SosGrid2();\n\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23223541,"reputation":27,"user_id":17315364,"display_name":"ralwnn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71775110,"answer_count":1,"score":1,"last_activity_date":1649636000,"creation_date":1649281057,"question_id":71773913,"body_markdown":"This project revolves around a game that is a variation of TicTacToe called SOS. One of the requirements is that the game grid needs to have two size options. The smaller grid is 5x5 and the larger is 8x8.\r\n\r\nMy goal is to have the grid size change based off which radio button is selected. In my code below I have a commented out method to change the GRID_SIZE variable based off which radio button is selected. But it does not work where it is currently and I am struggling to come up with the solution. The other problem related to the grid size changing that I think I&#39;ll have is, I do not believe the way I create the grid now will allow for it to change live as the radio buttons are pushed.\r\n\r\nI will need to be keeping track of what gets played in each cell of the grid (whether a player is placing an S or an O) So my thought is maybe there is a better way to create the grid for both the GUI and as a storage method for the moves played.\r\n\r\nThis project is my first java project and first GUI project of this depth. It is also the major project for one of my last classes to graduate so I&#39;m taking this seriously and could really use the help. I know my code is probably not great, I&#39;m here to improve so any help is welcomed.\r\n\r\n\r\n    package practice;\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n\r\n\r\n    @SuppressWarnings({ &quot;serial&quot;, &quot;unused&quot;})\r\n    public class SOS_GUI extends JFrame {\r\n\t\r\n\t    public int GRID_SIZE = 8;\r\n\t\r\n\t    public Grid grid; \r\n\r\n\t\r\n\t    public SOS_GUI() {\r\n\t\t\r\n\t\t    GameBoard();\r\n\t\t    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t    pack(); \r\n\t\t    setTitle(&quot;SOS Practice&quot;);\r\n\t\t    this.setLocationRelativeTo(null);\r\n\t\t    setVisible(true);  \r\n\t    }\r\n\t\r\n\r\n\t    public void GameBoard(){\r\n\t\t\r\n\t\t    // CONTENT PANE FOR HOLDING ALL GUI COMPONENTS\r\n\t\t    Container ContentPane = getContentPane();\r\n\t\t\r\n\t\t    // PANEL FOR GAME GRID\r\n\t\t    JPanel gameBoardCanvas = new JPanel();  \r\n\t\t    gameBoardCanvas.setLayout(new GridLayout(GRID_SIZE, GRID_SIZE));\r\n            for (int x = 0; x &lt; GRID_SIZE; x++) {\r\n                for (int y = 0; y &lt; GRID_SIZE; y++) {\r\n                    final Grid cell = new Grid(x, y);\r\n                    gameBoardCanvas.add(cell);\r\n                }\r\n            }\r\n        \r\n        \r\n\t\t    // FOUR PANELS SURROUNDING GAME GRID\r\n\t\t    JPanel TopPanel = new JPanel();\r\n\t\t    JPanel BottomPanel = new JPanel();\r\n\t\t    JPanel LeftPanel = new JPanel();\r\n\t\t    JPanel RightPanel = new JPanel();\r\n\t\t\r\n\t\t    JLabel SpacerLabel = new JLabel(&quot;  ||   &quot;);\r\n\t\t\r\n\t\t    // GAME MODE OOPTIONS - SIMPLE OR GENERAL\r\n\t\t    JLabel GameModeLabel = new JLabel(&quot;Game Mode :&quot;);\r\n\t\t    JRadioButton SimpleGameButton = new JRadioButton(&quot;Simple&quot;, true);\r\n\t\t    JRadioButton GeneralGameButton = new JRadioButton(&quot;General&quot;);\r\n\t\t    ButtonGroup GameModeButtons = new ButtonGroup();\r\n\t\t    GameModeButtons.add(SimpleGameButton);\r\n\t\t    GameModeButtons.add(GeneralGameButton);\r\n\t\t\r\n\t\t    // BOARD SIZE BUTTONS - SMALL(5X5) OR LARGE(8X8)\r\n\t\t    JLabel SizeOptionLabel = new JLabel(&quot;Board Size :&quot;);\r\n\t\t    JRadioButton SmallGridButton = new JRadioButton(&quot;Small&quot;, true);\r\n\t\t    JRadioButton LargeGridButton = new JRadioButton(&quot;Large&quot;);\r\n\t\t    ButtonGroup GridSizeButtons = new ButtonGroup();\r\n\t\t    GridSizeButtons.add(SmallGridButton);\r\n\t\t    GridSizeButtons.add(LargeGridButton);\r\n\t\t\r\n\t\t    // PLAY LETTER SETTINGS\r\n\t\t    JRadioButton PlayS_Button = new JRadioButton(&quot;S&quot;, true);\r\n\t\t    JRadioButton PlayO_Button = new JRadioButton(&quot;O&quot;);\r\n\t\t    ButtonGroup PlayLetterButtons = new ButtonGroup();\r\n\t\t    PlayLetterButtons.add(PlayS_Button);\r\n\t\t    PlayLetterButtons.add(PlayO_Button);\r\n\t\t\r\n\t\t    //\tBLUE PLAYER SETTINGS\r\n\t\t    JLabel BluePlayerLabel = new JLabel(&quot;Blue Player&quot;);\r\n\t\t    JRadioButton BlueHumanButton = new JRadioButton(&quot;Human&quot;, true);\r\n\t\t    JRadioButton BlueComputerButton = new JRadioButton(&quot;Computer&quot;);\r\n\t\t    ButtonGroup BluePlayerButtons = new ButtonGroup();\r\n\t\t    BluePlayerButtons.add(BlueHumanButton);\r\n\t\t    BluePlayerButtons.add(BlueComputerButton);\r\n\t\t\t\r\n\t\t    // RED PLAYER SETTINGS\r\n\t\t    JLabel RedPlayerLabel = new JLabel(&quot;Red Player&quot;);\r\n\t\t    JRadioButton RedHumanButton = new JRadioButton(&quot;Human&quot;);\r\n\t\t    JRadioButton RedComputerButton = new JRadioButton(&quot;Computer&quot;, true);\r\n\t\t    ButtonGroup RedPlayerButtons = new ButtonGroup();\r\n\t\t    RedPlayerButtons.add(RedHumanButton);\r\n\t\t    RedPlayerButtons.add(RedComputerButton);\r\n\t\t\r\n\t\t\r\n\t\t    // ADDING COMPONENTS TO TOP PANEL\r\n\t\t    TopPanel.add(GameModeLabel);\r\n\t\t    TopPanel.add(SimpleGameButton);\r\n\t\t    TopPanel.add(GeneralGameButton);\r\n\t\t    TopPanel.add(SpacerLabel);\r\n\t\t    TopPanel.add(SizeOptionLabel);\r\n\t\t    TopPanel.add(SmallGridButton);\r\n\t\t    TopPanel.add(LargeGridButton);\r\n\t\t\r\n\t\t    // ADDING COMPONENTS TO BOTTOM PANEL\r\n\t\t    BottomPanel.add(PlayS_Button);\r\n\t\t    BottomPanel.add(PlayO_Button);\r\n\t\t\r\n\t\t    // ADDING COMPONENTS TO LEFT PANEL\r\n\t\t    LeftPanel.add(BluePlayerLabel);\r\n\t\t    LeftPanel.add(BlueHumanButton);\r\n\t\t    LeftPanel.add(BlueComputerButton);\r\n\t\t\r\n\t\t    // ADDING COMPONENTS TO RIGHT PANEL\r\n\t\t    RightPanel.add(RedPlayerLabel);\r\n\t\t    RightPanel.add(RedHumanButton);\r\n\t\t    RightPanel.add(RedComputerButton);\r\n\t\t\r\n\t\t    // ADDING PANELS TO CONTENT PANE\r\n\t\t    ContentPane.setLayout(new BorderLayout());\r\n\t\t    ContentPane.add(TopPanel, BorderLayout.NORTH);\r\n\t\t    ContentPane.add(BottomPanel, BorderLayout.SOUTH);\r\n\t\t    ContentPane.add(LeftPanel, BorderLayout.WEST);\r\n\t\t    ContentPane.add(RightPanel, BorderLayout.EAST);\r\n\t\t    ContentPane.add(gameBoardCanvas, BorderLayout.CENTER);\r\n\t\t    TopPanel.setPreferredSize(new Dimension(50, 50));\r\n\t\t    BottomPanel.setPreferredSize(new Dimension(50, 50));\r\n\t\t    LeftPanel.setPreferredSize(new Dimension(100, 100));\r\n            RightPanel.setPreferredSize(new Dimension(100, 100));\r\n\t\t    ContentPane.setPreferredSize(new Dimension(550, 500));\r\n\t    }\r\n\r\n\t\r\n\t    // CLASS SETTING UP HOW THE GRID WILL BE CREATED\r\n\t    class Grid extends JPanel {\r\n            public static final int CELL_SIZE = 1;\r\n            private int xPos;\r\n            private int yPos;\r\n            public JLabel gridLabel;\r\n\r\n            public Grid (int x, int y) {\r\n                xPos = x;\r\n                yPos = y;\r\n                gridLabel = new JLabel(&quot;&quot;);\r\n                gridLabel.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 40));\r\n                add(gridLabel);\r\n                setOpaque(true);\r\n                setLayout(new FlowLayout());\r\n                setBorder(BorderFactory.createBevelBorder(CELL_SIZE));\r\n                setBackground(new Color(200, 200, 200));\r\n                setPreferredSize(new Dimension(CELL_SIZE, CELL_SIZE));\r\n            }\r\n\t    }\r\n\t\r\n\t\r\n\t\r\n\t    /* POSSIBLE FUNCTION TO SET GRID_SIZE BASED OFF RADIO BUTTON INPUT? DOESNT WORK HERE\r\n\t    public getGridSize() {\r\n\t\t    if (GameBoard().SmallGridButton.isSelected() == true) {\r\n\t\t\t    GRID_SIZE = 5;\r\n\t\t    }\r\n\t\t    else if (GameBoard().LargeGridButton.isSelected() == true) {\r\n\t\t\t    GRID_SIZE = 8;\r\n\t\t    }\r\n\t\t    return GRID_SIZE;\r\n\t    }\r\n\t    */\r\n\r\n\t\r\n\t    public static void main(String[] args) {\r\n\t\t    new SOS_GUI(); \r\n\t    }\r\n\t\r\n    } \r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n[screenshot of the smaller 5x5 grid][1]\r\n[screenshot of larger 8x8 grid][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C3NHI.png\r\n  [2]: https://i.stack.imgur.com/tGWKk.png","title":"Attempting to change grid size based on which RadioButton is selected - Java Swing GUI - SOS board game","body":"<p>This project revolves around a game that is a variation of TicTacToe called SOS. One of the requirements is that the game grid needs to have two size options. The smaller grid is 5x5 and the larger is 8x8.</p>\n<p>My goal is to have the grid size change based off which radio button is selected. In my code below I have a commented out method to change the GRID_SIZE variable based off which radio button is selected. But it does not work where it is currently and I am struggling to come up with the solution. The other problem related to the grid size changing that I think I'll have is, I do not believe the way I create the grid now will allow for it to change live as the radio buttons are pushed.</p>\n<p>I will need to be keeping track of what gets played in each cell of the grid (whether a player is placing an S or an O) So my thought is maybe there is a better way to create the grid for both the GUI and as a storage method for the moves played.</p>\n<p>This project is my first java project and first GUI project of this depth. It is also the major project for one of my last classes to graduate so I'm taking this seriously and could really use the help. I know my code is probably not great, I'm here to improve so any help is welcomed.</p>\n<pre><code>package practice;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\n\n@SuppressWarnings({ &quot;serial&quot;, &quot;unused&quot;})\npublic class SOS_GUI extends JFrame {\n\n    public int GRID_SIZE = 8;\n\n    public Grid grid; \n\n\n    public SOS_GUI() {\n    \n        GameBoard();\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        pack(); \n        setTitle(&quot;SOS Practice&quot;);\n        this.setLocationRelativeTo(null);\n        setVisible(true);  \n    }\n\n\n    public void GameBoard(){\n    \n        // CONTENT PANE FOR HOLDING ALL GUI COMPONENTS\n        Container ContentPane = getContentPane();\n    \n        // PANEL FOR GAME GRID\n        JPanel gameBoardCanvas = new JPanel();  \n        gameBoardCanvas.setLayout(new GridLayout(GRID_SIZE, GRID_SIZE));\n        for (int x = 0; x &lt; GRID_SIZE; x++) {\n            for (int y = 0; y &lt; GRID_SIZE; y++) {\n                final Grid cell = new Grid(x, y);\n                gameBoardCanvas.add(cell);\n            }\n        }\n    \n    \n        // FOUR PANELS SURROUNDING GAME GRID\n        JPanel TopPanel = new JPanel();\n        JPanel BottomPanel = new JPanel();\n        JPanel LeftPanel = new JPanel();\n        JPanel RightPanel = new JPanel();\n    \n        JLabel SpacerLabel = new JLabel(&quot;  ||   &quot;);\n    \n        // GAME MODE OOPTIONS - SIMPLE OR GENERAL\n        JLabel GameModeLabel = new JLabel(&quot;Game Mode :&quot;);\n        JRadioButton SimpleGameButton = new JRadioButton(&quot;Simple&quot;, true);\n        JRadioButton GeneralGameButton = new JRadioButton(&quot;General&quot;);\n        ButtonGroup GameModeButtons = new ButtonGroup();\n        GameModeButtons.add(SimpleGameButton);\n        GameModeButtons.add(GeneralGameButton);\n    \n        // BOARD SIZE BUTTONS - SMALL(5X5) OR LARGE(8X8)\n        JLabel SizeOptionLabel = new JLabel(&quot;Board Size :&quot;);\n        JRadioButton SmallGridButton = new JRadioButton(&quot;Small&quot;, true);\n        JRadioButton LargeGridButton = new JRadioButton(&quot;Large&quot;);\n        ButtonGroup GridSizeButtons = new ButtonGroup();\n        GridSizeButtons.add(SmallGridButton);\n        GridSizeButtons.add(LargeGridButton);\n    \n        // PLAY LETTER SETTINGS\n        JRadioButton PlayS_Button = new JRadioButton(&quot;S&quot;, true);\n        JRadioButton PlayO_Button = new JRadioButton(&quot;O&quot;);\n        ButtonGroup PlayLetterButtons = new ButtonGroup();\n        PlayLetterButtons.add(PlayS_Button);\n        PlayLetterButtons.add(PlayO_Button);\n    \n        //  BLUE PLAYER SETTINGS\n        JLabel BluePlayerLabel = new JLabel(&quot;Blue Player&quot;);\n        JRadioButton BlueHumanButton = new JRadioButton(&quot;Human&quot;, true);\n        JRadioButton BlueComputerButton = new JRadioButton(&quot;Computer&quot;);\n        ButtonGroup BluePlayerButtons = new ButtonGroup();\n        BluePlayerButtons.add(BlueHumanButton);\n        BluePlayerButtons.add(BlueComputerButton);\n        \n        // RED PLAYER SETTINGS\n        JLabel RedPlayerLabel = new JLabel(&quot;Red Player&quot;);\n        JRadioButton RedHumanButton = new JRadioButton(&quot;Human&quot;);\n        JRadioButton RedComputerButton = new JRadioButton(&quot;Computer&quot;, true);\n        ButtonGroup RedPlayerButtons = new ButtonGroup();\n        RedPlayerButtons.add(RedHumanButton);\n        RedPlayerButtons.add(RedComputerButton);\n    \n    \n        // ADDING COMPONENTS TO TOP PANEL\n        TopPanel.add(GameModeLabel);\n        TopPanel.add(SimpleGameButton);\n        TopPanel.add(GeneralGameButton);\n        TopPanel.add(SpacerLabel);\n        TopPanel.add(SizeOptionLabel);\n        TopPanel.add(SmallGridButton);\n        TopPanel.add(LargeGridButton);\n    \n        // ADDING COMPONENTS TO BOTTOM PANEL\n        BottomPanel.add(PlayS_Button);\n        BottomPanel.add(PlayO_Button);\n    \n        // ADDING COMPONENTS TO LEFT PANEL\n        LeftPanel.add(BluePlayerLabel);\n        LeftPanel.add(BlueHumanButton);\n        LeftPanel.add(BlueComputerButton);\n    \n        // ADDING COMPONENTS TO RIGHT PANEL\n        RightPanel.add(RedPlayerLabel);\n        RightPanel.add(RedHumanButton);\n        RightPanel.add(RedComputerButton);\n    \n        // ADDING PANELS TO CONTENT PANE\n        ContentPane.setLayout(new BorderLayout());\n        ContentPane.add(TopPanel, BorderLayout.NORTH);\n        ContentPane.add(BottomPanel, BorderLayout.SOUTH);\n        ContentPane.add(LeftPanel, BorderLayout.WEST);\n        ContentPane.add(RightPanel, BorderLayout.EAST);\n        ContentPane.add(gameBoardCanvas, BorderLayout.CENTER);\n        TopPanel.setPreferredSize(new Dimension(50, 50));\n        BottomPanel.setPreferredSize(new Dimension(50, 50));\n        LeftPanel.setPreferredSize(new Dimension(100, 100));\n        RightPanel.setPreferredSize(new Dimension(100, 100));\n        ContentPane.setPreferredSize(new Dimension(550, 500));\n    }\n\n\n    // CLASS SETTING UP HOW THE GRID WILL BE CREATED\n    class Grid extends JPanel {\n        public static final int CELL_SIZE = 1;\n        private int xPos;\n        private int yPos;\n        public JLabel gridLabel;\n\n        public Grid (int x, int y) {\n            xPos = x;\n            yPos = y;\n            gridLabel = new JLabel(&quot;&quot;);\n            gridLabel.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 40));\n            add(gridLabel);\n            setOpaque(true);\n            setLayout(new FlowLayout());\n            setBorder(BorderFactory.createBevelBorder(CELL_SIZE));\n            setBackground(new Color(200, 200, 200));\n            setPreferredSize(new Dimension(CELL_SIZE, CELL_SIZE));\n        }\n    }\n\n\n\n    /* POSSIBLE FUNCTION TO SET GRID_SIZE BASED OFF RADIO BUTTON INPUT? DOESNT WORK HERE\n    public getGridSize() {\n        if (GameBoard().SmallGridButton.isSelected() == true) {\n            GRID_SIZE = 5;\n        }\n        else if (GameBoard().LargeGridButton.isSelected() == true) {\n            GRID_SIZE = 8;\n        }\n        return GRID_SIZE;\n    }\n    */\n\n\n    public static void main(String[] args) {\n        new SOS_GUI(); \n    }\n\n} \n</code></pre>\n<p></p>\n<p><a href=\"https://i.stack.imgur.com/C3NHI.png\" rel=\"nofollow noreferrer\">screenshot of the smaller 5x5 grid</a>\n<a href=\"https://i.stack.imgur.com/tGWKk.png\" rel=\"nofollow noreferrer\">screenshot of larger 8x8 grid</a></p>\n"},{"tags":["java","spring","spring-boot","kotlin","mockito"],"answers":[{"tags":[],"owner":{"account_id":10281011,"reputation":620,"user_id":7586172,"display_name":"Khan9797"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649634960,"creation_date":1649634960,"answer_id":71821438,"question_id":71821252,"body_markdown":"If I understood correctly, `WordServiceImpl` is kind of wrapper to `WordRepository`. Every call to repository goes through service. Since you have mocked the service, those actions don&#39;t go to the repository. \r\n\r\nIf you want to assert repository interaction, don&#39;t mock `WordServiceImpl` or use spy instead.\r\n\r\nWhen you create a mock object of a class, you have to define its behavior, since the mocked object does not act as the original instance of the class.\r\n\r\nYou can use spy instead of mock which behaves like the original instance if you don&#39;t tell the otherwise via mocking its methods.\r\n\r\nYou can do either:\r\n\r\n 1. Delete `@MockBean lateinit var wordService: WordServiceImpl` or\r\n 2. Use `@SpyBean` instead of `@MockBean` for `WordServiceImpl`\r\n\r\nBut if I were you, I would choose the first option, since it doesn&#39;t really make sense to use `@SpyBean` for an object that you didn&#39;t use ","title":"Mockito: Wanted but not invoked Webflux Spring boot","body":"<p>If I understood correctly, <code>WordServiceImpl</code> is kind of wrapper to <code>WordRepository</code>. Every call to repository goes through service. Since you have mocked the service, those actions don't go to the repository.</p>\n<p>If you want to assert repository interaction, don't mock <code>WordServiceImpl</code> or use spy instead.</p>\n<p>When you create a mock object of a class, you have to define its behavior, since the mocked object does not act as the original instance of the class.</p>\n<p>You can use spy instead of mock which behaves like the original instance if you don't tell the otherwise via mocking its methods.</p>\n<p>You can do either:</p>\n<ol>\n<li>Delete <code>@MockBean lateinit var wordService: WordServiceImpl</code> or</li>\n<li>Use <code>@SpyBean</code> instead of <code>@MockBean</code> for <code>WordServiceImpl</code></li>\n</ol>\n<p>But if I were you, I would choose the first option, since it doesn't really make sense to use <code>@SpyBean</code> for an object that you didn't use</p>\n"}],"owner":{"account_id":24831435,"reputation":105,"user_id":18710568,"display_name":"Alfa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71821438,"answer_count":1,"score":0,"last_activity_date":1649634960,"creation_date":1649632699,"question_id":71821252,"body_markdown":"It seems this is a well-documented issue here on Stackoverflow but it seems non of the solutions are working for me (if I am wrong I&#39;d be glad if someone pointed me to a solution). I was following [this tutorial][1] on how to test Webflux controllers in Spring boot. I did what I believe is exactly what is in the tutorial but for some reason, I am getting the error below:\r\n\r\n        Wanted but not invoked:\r\n    wordRepository bean.save(\r\n        Word(word=test word, id=0, updatedAt=2022-04-11T01:19:10.275631, createdAt=2022-04-11T01:19:10.275631)\r\n    );\r\n    -&gt; at com.freeman.hangman.controller.WordControllerImplTest.givenWordDTO_expectedCreateWord(WordControllerImplTest.kt:78)\r\n    Actually, there were zero interactions with this mock.\r\n\r\n    Wanted but not invoked:\r\n    wordRepository bean.save(\r\n        Word(word=test word, id=0, updatedAt=2022-04-11T01:19:10.275631, createdAt=2022-04-11T01:19:10.275631)\r\n    );\r\n    -&gt; at com.freeman.hangman.controller.WordControllerImplTest.givenWordDTO_expectedCreateWord(WordControllerImplTest.kt:78)\r\n    Actually, there were zero interactions with this mock.\r\n\r\n\r\nThis is my controller\r\n\r\n    @ExtendWith(SpringExtension::class)\r\n    @WebFluxTest(WordControllerImpl::class)\r\n    @Import(WordServiceImpl::class)\r\n    class WordControllerImplTest {\r\n\r\n        @Autowired\r\n        lateinit var webClient: WebTestClient\r\n\r\n        @MockBean\r\n        lateinit var wordService: WordServiceImpl\r\n\r\n        @MockBean\r\n        lateinit var wordRepository: WordRepository\r\n\r\n\r\n        private val CURRENT_DATE_TIME = LocalDateTime.now()\r\n        private val TEST_WORD_ID = 1\r\n\r\n\r\n        @Test\r\n        @WithMockUser(username = &quot;testuser@gmail.com&quot;, authorities = [&quot;ROLE_USER&quot;, &quot;ROLE_ADMIN&quot;], password = &quot;pwd&quot;)\r\n        fun givenWordDTO_expectedCreateWord(){\r\n            val wordDto = WordDto(word = &quot;test word&quot;, id = 0, createdAt = CURRENT_DATE_TIME.toString())\r\n            val word = Word(&quot;test word&quot;, 0, CURRENT_DATE_TIME, CURRENT_DATE_TIME)\r\n            `when`(wordRepository.save(word)).thenReturn(Mono.just(word))\r\n\r\n            webClient.mutateWith(csrf()).post()\r\n                .uri(&quot;/freeman-hangman/words/create&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .body(BodyInserters.fromValue(wordDto))\r\n                .exchange()\r\n                .expectStatus()\r\n                .isCreated\r\n\r\n            verify(wordRepository, times(1)).save(word)//this is where the error is happening\r\n        }\r\n\r\n    }\r\n\r\n\r\nWhere can I be going wrong?\r\n\r\n  [1]: https://howtodoinjava.com/spring-webflux/webfluxtest-with-webtestclient/","title":"Mockito: Wanted but not invoked Webflux Spring boot","body":"<p>It seems this is a well-documented issue here on Stackoverflow but it seems non of the solutions are working for me (if I am wrong I'd be glad if someone pointed me to a solution). I was following <a href=\"https://howtodoinjava.com/spring-webflux/webfluxtest-with-webtestclient/\" rel=\"nofollow noreferrer\">this tutorial</a> on how to test Webflux controllers in Spring boot. I did what I believe is exactly what is in the tutorial but for some reason, I am getting the error below:</p>\n<pre><code>    Wanted but not invoked:\nwordRepository bean.save(\n    Word(word=test word, id=0, updatedAt=2022-04-11T01:19:10.275631, createdAt=2022-04-11T01:19:10.275631)\n);\n-&gt; at com.freeman.hangman.controller.WordControllerImplTest.givenWordDTO_expectedCreateWord(WordControllerImplTest.kt:78)\nActually, there were zero interactions with this mock.\n\nWanted but not invoked:\nwordRepository bean.save(\n    Word(word=test word, id=0, updatedAt=2022-04-11T01:19:10.275631, createdAt=2022-04-11T01:19:10.275631)\n);\n-&gt; at com.freeman.hangman.controller.WordControllerImplTest.givenWordDTO_expectedCreateWord(WordControllerImplTest.kt:78)\nActually, there were zero interactions with this mock.\n</code></pre>\n<p>This is my controller</p>\n<pre><code>@ExtendWith(SpringExtension::class)\n@WebFluxTest(WordControllerImpl::class)\n@Import(WordServiceImpl::class)\nclass WordControllerImplTest {\n\n    @Autowired\n    lateinit var webClient: WebTestClient\n\n    @MockBean\n    lateinit var wordService: WordServiceImpl\n\n    @MockBean\n    lateinit var wordRepository: WordRepository\n\n\n    private val CURRENT_DATE_TIME = LocalDateTime.now()\n    private val TEST_WORD_ID = 1\n\n\n    @Test\n    @WithMockUser(username = &quot;testuser@gmail.com&quot;, authorities = [&quot;ROLE_USER&quot;, &quot;ROLE_ADMIN&quot;], password = &quot;pwd&quot;)\n    fun givenWordDTO_expectedCreateWord(){\n        val wordDto = WordDto(word = &quot;test word&quot;, id = 0, createdAt = CURRENT_DATE_TIME.toString())\n        val word = Word(&quot;test word&quot;, 0, CURRENT_DATE_TIME, CURRENT_DATE_TIME)\n        `when`(wordRepository.save(word)).thenReturn(Mono.just(word))\n\n        webClient.mutateWith(csrf()).post()\n            .uri(&quot;/freeman-hangman/words/create&quot;)\n            .contentType(MediaType.APPLICATION_JSON)\n            .body(BodyInserters.fromValue(wordDto))\n            .exchange()\n            .expectStatus()\n            .isCreated\n\n        verify(wordRepository, times(1)).save(word)//this is where the error is happening\n    }\n\n}\n</code></pre>\n<p>Where can I be going wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1649627847,"post_id":71820745,"comment_id":126917669,"body_markdown":"Have a look at the graalvm javascript engine (this is a library, you don&#39;t need to run under the graal jvm)","body":"Have a look at the graalvm javascript engine (this is a library, you don&#39;t need to run under the graal jvm)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649649487,"post_id":71820745,"comment_id":126920666,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":9874911,"reputation":21,"user_id":7313062,"display_name":"Oscar Acosta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649634733,"creation_date":1649634733,"answer_id":71821423,"question_id":71820745,"body_markdown":"If I understand correctly, what you want to do is called **Remote Procedure Call** and it doesn&#39;t help much that all your code (java and js) runs on the same computer. But you can probably at least get away without authentication or security.\r\n\r\nThere are a bunch of libraries that may save you some trouble. You may want to take a look at those options:\r\nhttps://en.wikipedia.org/wiki/Remote_procedure_call#General\r\n\r\nI only got the occasion of using one: **json-rpc**, which isn&#39;t necessarily the best option, but it is the only one I can give you more details about.\r\n\r\nThe specification of the protocol is available here https://www.jsonrpc.org/specification and there should be Java and Javascript libraries to ease the implementation. \r\n\r\nFor example:\r\n\r\n - Java - https://github.com/briandilley/jsonrpc4j\r\n - Javascript - https://github.com/jershell/simple-jsonrpc-js\r\n\r\nCalling this Java **hello** method:\r\n\r\n```\r\npublic String hello(@JsonRpcParam(value=&quot;message&quot;) String message) {\r\n        return message;\r\n}\r\n```\r\n\r\nFrom your client, a call to **hello** would look like this:\r\n\r\n```\r\nvar jrpc = simple_jsonrpc.connect_xhr(&#39;localhost:8080&#39;);\r\njrpc.call(&#39;hello&#39;, {message: &#39;hello world!&#39;}).then(res =&gt; console.log(res));\r\n```\r\n\r\nOf course there&#39;s additional configuration, at least on sever (java) side to make this work.\r\n","title":"Inheriting methods from an other program wrote in another language","body":"<p>If I understand correctly, what you want to do is called <strong>Remote Procedure Call</strong> and it doesn't help much that all your code (java and js) runs on the same computer. But you can probably at least get away without authentication or security.</p>\n<p>There are a bunch of libraries that may save you some trouble. You may want to take a look at those options:\n<a href=\"https://en.wikipedia.org/wiki/Remote_procedure_call#General\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Remote_procedure_call#General</a></p>\n<p>I only got the occasion of using one: <strong>json-rpc</strong>, which isn't necessarily the best option, but it is the only one I can give you more details about.</p>\n<p>The specification of the protocol is available here <a href=\"https://www.jsonrpc.org/specification\" rel=\"nofollow noreferrer\">https://www.jsonrpc.org/specification</a> and there should be Java and Javascript libraries to ease the implementation.</p>\n<p>For example:</p>\n<ul>\n<li>Java - <a href=\"https://github.com/briandilley/jsonrpc4j\" rel=\"nofollow noreferrer\">https://github.com/briandilley/jsonrpc4j</a></li>\n<li>Javascript - <a href=\"https://github.com/jershell/simple-jsonrpc-js\" rel=\"nofollow noreferrer\">https://github.com/jershell/simple-jsonrpc-js</a></li>\n</ul>\n<p>Calling this Java <strong>hello</strong> method:</p>\n<pre><code>public String hello(@JsonRpcParam(value=&quot;message&quot;) String message) {\n        return message;\n}\n</code></pre>\n<p>From your client, a call to <strong>hello</strong> would look like this:</p>\n<pre><code>var jrpc = simple_jsonrpc.connect_xhr('localhost:8080');\njrpc.call('hello', {message: 'hello world!'}).then(res =&gt; console.log(res));\n</code></pre>\n<p>Of course there's additional configuration, at least on sever (java) side to make this work.</p>\n"}],"owner":{"account_id":24893954,"reputation":1,"user_id":18765464,"display_name":"Xibalba "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649634733,"creation_date":1649626412,"question_id":71820745,"body_markdown":"I&#39;m making a system for an app, witch have for objective to allow the user to create custom script to interact with the program by handleing events and reacting to them by calling functions. The main program is wrote in java, but If want to allow the script to be wrote in JavaScript. What is the best way to do that ? \r\n\r\nI&#39;ve tryed to use the sockets to transfer data and events, but I thinks it&#39;s a bit overkill, because the app and the scripts are on the same machine. Does it exist a better way to do that?","title":"Inheriting methods from an other program wrote in another language","body":"<p>I'm making a system for an app, witch have for objective to allow the user to create custom script to interact with the program by handleing events and reacting to them by calling functions. The main program is wrote in java, but If want to allow the script to be wrote in JavaScript. What is the best way to do that ?</p>\n<p>I've tryed to use the sockets to transfer data and events, but I thinks it's a bit overkill, because the app and the scripts are on the same machine. Does it exist a better way to do that?</p>\n"},{"tags":["java","hibernate","orm","jpa","mapping"],"comments":[{"owner":{"account_id":158222,"reputation":25283,"user_id":376702,"accept_rate":78,"display_name":"Developer"},"score":1,"creation_date":1399896402,"post_id":2749689,"comment_id":36241523,"body_markdown":"http://stackoverflow.com/questions/12493865/what-is-the-difference-between-inversedby-and-mappedby","body":"<a href=\"http://stackoverflow.com/questions/12493865/what-is-the-difference-between-inversedby-and-mappedby\" title=\"what is the difference between inversedby and mappedby\">stackoverflow.com/questions/12493865/&hellip;</a>"},{"owner":{"account_id":1176530,"reputation":401,"user_id":1152406,"accept_rate":78,"display_name":"darga33"},"score":13,"creation_date":1478512475,"post_id":2749689,"comment_id":68171889,"body_markdown":"I was lost until I read this: https://www.javacodegeeks.com/2013/04/jpa-determining-the-owning-side-of-a-relationship.html","body":"I was lost until I read this: <a href=\"https://www.javacodegeeks.com/2013/04/jpa-determining-the-owning-side-of-a-relationship.html\" rel=\"nofollow noreferrer\">javacodegeeks.com/2013/04/&hellip;</a>"},{"owner":{"account_id":1765312,"reputation":463,"user_id":2335486,"accept_rate":29,"display_name":"Diablo"},"score":6,"creation_date":1479306045,"post_id":2749689,"comment_id":68501191,"body_markdown":"The DB table with the foreign key column is treated as owning side. So the business entity representing that DB table is the Owner(Owning-side) of that relation. Not neccessarily, but most of the cases Owning-side will have @JoinColumn annotation.","body":"The DB table with the foreign key column is treated as owning side. So the business entity representing that DB table is the Owner(Owning-side) of that relation. Not neccessarily, but most of the cases Owning-side will have @JoinColumn annotation."},{"owner":{"account_id":3026387,"reputation":440,"user_id":2566304,"accept_rate":0,"display_name":"Andrey M. Stepanov"},"score":0,"creation_date":1652651955,"post_id":2749689,"comment_id":127651797,"body_markdown":"This is not true. We can define foreign key on Many side with JoinColumn annotation on One side.  In such case the owning side is One despite the foreign key being a column of the Many table","body":"This is not true. We can define foreign key on Many side with JoinColumn annotation on One side.  In such case the owning side is One despite the foreign key being a column of the Many table"}],"answers":[{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":8,"up_vote_count":166,"is_accepted":false,"score":158,"last_activity_date":1436840656,"creation_date":1272713048,"answer_id":2749719,"question_id":2749689,"body_markdown":"You can imagine that the _owning side_ is the entity that has the reference to the other one. In your excerpt, you have an one-to-one relationship. Since it&#39;s a _symmetric_ relation, you&#39;ll end up having that if object A is in relation with object B then also the vice-versa is true.\r\n\r\nThis means that saving into object A a reference to object B and saving in object B a reference to object A will be redundant: that&#39;s why you choose which object &quot;owns&quot; the other having the reference to it.\r\n\r\nWhen you have got an one-to-many relationship, the objects related to the &quot;many&quot; part will be the owning side, otherwise you would have to store many references from a single object to a multitude. To avoid that, every object in the second class will have a pointer to the single one they refer to (so they are the owning side).\r\n\r\nFor a many-to-many relationship, since you will need a separate mapping table anyway there won&#39;t be any owning side.\r\n\r\nIn conclusion the __owning side__ is the entity that has the reference to the other.","title":"What is the &quot;owning side&quot; in an ORM mapping?","body":"<p>You can imagine that the <em>owning side</em> is the entity that has the reference to the other one. In your excerpt, you have an one-to-one relationship. Since it's a <em>symmetric</em> relation, you'll end up having that if object A is in relation with object B then also the vice-versa is true.</p>\n\n<p>This means that saving into object A a reference to object B and saving in object B a reference to object A will be redundant: that's why you choose which object \"owns\" the other having the reference to it.</p>\n\n<p>When you have got an one-to-many relationship, the objects related to the \"many\" part will be the owning side, otherwise you would have to store many references from a single object to a multitude. To avoid that, every object in the second class will have a pointer to the single one they refer to (so they are the owning side).</p>\n\n<p>For a many-to-many relationship, since you will need a separate mapping table anyway there won't be any owning side.</p>\n\n<p>In conclusion the <strong>owning side</strong> is the entity that has the reference to the other.</p>\n"},{"tags":[],"owner":{"account_id":3462098,"reputation":42531,"user_id":2898867,"accept_rate":80,"display_name":"Angular University"},"down_vote_count":0,"up_vote_count":322,"is_accepted":true,"score":322,"last_activity_date":1637915987,"creation_date":1389478943,"answer_id":21068644,"question_id":2749689,"body_markdown":"**Why is the notion of a owning side necessary:**\r\n\r\nThe idea of a owning side of a bidirectional relation comes from the fact that in relational databases there are no bidirectional relations like in the case of objects. In databases we only have unidirectional relations - foreign keys. \r\n\r\n**What is the reason for the name &#39;owning side&#39;?**\r\n\r\nThe owning side of the relation tracked by Hibernate is the side of the relation that *owns* the foreign key in the database.\r\n\r\n**What is the problem that the notion of owning side solves?**\r\n\r\nTake an example of two entities mapped *without* declaring a owning side:\r\n\r\n    @Entity\r\n    @Table(name=&quot;PERSONS&quot;)\r\n    public class Person {\r\n        @OneToMany\r\n        private List&lt;IdDocument&gt;  idDocuments;\r\n    }\r\n   \r\n    @Entity\r\n    @Table(name=&quot;ID_DOCUMENTS&quot;)\r\n    public class IdDocument {\r\n        @ManyToOne\r\n        private Person person;\r\n    }\r\n\r\nFrom a OO point of view this mapping defines not one bi-directional relation, but *two* separate uni-directional relations. \r\n\r\nThe mapping would create not only tables `PERSONS` and `ID_DOCUMENTS`, but would also create a third association table `PERSONS_ID_DOCUMENTS`:\r\n\r\n\r\n    CREATE TABLE PERSONS_ID_DOCUMENTS\r\n    (\r\n      persons_id bigint NOT NULL,\r\n      id_documents_id bigint NOT NULL,\r\n      CONSTRAINT fk_persons FOREIGN KEY (persons_id) REFERENCES persons (id),\r\n      CONSTRAINT fk_docs FOREIGN KEY (id_documents_id) REFERENCES id_documents (id),\r\n      CONSTRAINT pk UNIQUE (id_documents_id)\r\n    )\r\n\r\nNotice the primary key `pk` on `ID_DOCUMENTS` only. In this case Hibernate tracks both sides of the relation independently: If you add a document to relation `Person.idDocuments`, it inserts a record in the association table `PERSON_ID_DOCUMENTS`.\r\n\r\nOn the other hand, if we call `idDocument.setPerson(person)`, we change the foreign key person_id on table `ID_DOCUMENTS`. Hibernate is creating *two* unidirectional (foreign key) relations on the database, to implement *one* bidirectional object relation.\r\n\r\n**How the notion of owning side solves the problem:**\r\n\r\nMany times what we want is only a foreign key on table `ID_DOCUMENTS` towards `PERSONS`and not the extra association table.\r\n\r\nTo solve this we need to configure Hibernate to stop tracking the modifications on relation `Person.idDocuments`. Hibernate should only track the *other* side of the relation `IdDocument.person`, and to do so we add **mappedBy**:\r\n\r\n\r\n    @OneToMany(mappedBy=&quot;person&quot;)\r\n    private List&lt;IdDocument&gt;  idDocuments;\r\n\r\n**What does it mean mappedBy ?**\r\n\r\n&gt; This means something like: &quot;modifications on this side of the relation are already **Mapped By**\r\n&gt; the other side of the relation IdDocument.person, so no need to\r\n&gt; track it here separately in an extra table.&quot;\r\n\r\n**Are there any GOTCHAs, consequences?**\r\n\r\nUsing **mappedBy**, If we only call `person.getDocuments().add(document)`, the foreign key in `ID_DOCUMENTS` will **NOT** be linked to the new document, because this is not the owning /tracked side of the relation!\r\n\r\nTo link the document to the new person, you need to explicitly call `document.setPerson(person)`, because that is the ***owning side*** of the relation.\r\n\r\nWhen using **mappedBy**, it is the responsibility of the developer to know what is the owning side, and update the correct side of the relation in order to trigger the persistence of the new relation in the database.\r\n\r\n ","title":"What is the &quot;owning side&quot; in an ORM mapping?","body":"<p><strong>Why is the notion of a owning side necessary:</strong></p>\n<p>The idea of a owning side of a bidirectional relation comes from the fact that in relational databases there are no bidirectional relations like in the case of objects. In databases we only have unidirectional relations - foreign keys.</p>\n<p><strong>What is the reason for the name 'owning side'?</strong></p>\n<p>The owning side of the relation tracked by Hibernate is the side of the relation that <em>owns</em> the foreign key in the database.</p>\n<p><strong>What is the problem that the notion of owning side solves?</strong></p>\n<p>Take an example of two entities mapped <em>without</em> declaring a owning side:</p>\n<pre><code>@Entity\n@Table(name=&quot;PERSONS&quot;)\npublic class Person {\n    @OneToMany\n    private List&lt;IdDocument&gt;  idDocuments;\n}\n\n@Entity\n@Table(name=&quot;ID_DOCUMENTS&quot;)\npublic class IdDocument {\n    @ManyToOne\n    private Person person;\n}\n</code></pre>\n<p>From a OO point of view this mapping defines not one bi-directional relation, but <em>two</em> separate uni-directional relations.</p>\n<p>The mapping would create not only tables <code>PERSONS</code> and <code>ID_DOCUMENTS</code>, but would also create a third association table <code>PERSONS_ID_DOCUMENTS</code>:</p>\n<pre><code>CREATE TABLE PERSONS_ID_DOCUMENTS\n(\n  persons_id bigint NOT NULL,\n  id_documents_id bigint NOT NULL,\n  CONSTRAINT fk_persons FOREIGN KEY (persons_id) REFERENCES persons (id),\n  CONSTRAINT fk_docs FOREIGN KEY (id_documents_id) REFERENCES id_documents (id),\n  CONSTRAINT pk UNIQUE (id_documents_id)\n)\n</code></pre>\n<p>Notice the primary key <code>pk</code> on <code>ID_DOCUMENTS</code> only. In this case Hibernate tracks both sides of the relation independently: If you add a document to relation <code>Person.idDocuments</code>, it inserts a record in the association table <code>PERSON_ID_DOCUMENTS</code>.</p>\n<p>On the other hand, if we call <code>idDocument.setPerson(person)</code>, we change the foreign key person_id on table <code>ID_DOCUMENTS</code>. Hibernate is creating <em>two</em> unidirectional (foreign key) relations on the database, to implement <em>one</em> bidirectional object relation.</p>\n<p><strong>How the notion of owning side solves the problem:</strong></p>\n<p>Many times what we want is only a foreign key on table <code>ID_DOCUMENTS</code> towards <code>PERSONS</code>and not the extra association table.</p>\n<p>To solve this we need to configure Hibernate to stop tracking the modifications on relation <code>Person.idDocuments</code>. Hibernate should only track the <em>other</em> side of the relation <code>IdDocument.person</code>, and to do so we add <strong>mappedBy</strong>:</p>\n<pre><code>@OneToMany(mappedBy=&quot;person&quot;)\nprivate List&lt;IdDocument&gt;  idDocuments;\n</code></pre>\n<p><strong>What does it mean mappedBy ?</strong></p>\n<blockquote>\n<p>This means something like: &quot;modifications on this side of the relation are already <strong>Mapped By</strong>\nthe other side of the relation IdDocument.person, so no need to\ntrack it here separately in an extra table.&quot;</p>\n</blockquote>\n<p><strong>Are there any GOTCHAs, consequences?</strong></p>\n<p>Using <strong>mappedBy</strong>, If we only call <code>person.getDocuments().add(document)</code>, the foreign key in <code>ID_DOCUMENTS</code> will <strong>NOT</strong> be linked to the new document, because this is not the owning /tracked side of the relation!</p>\n<p>To link the document to the new person, you need to explicitly call <code>document.setPerson(person)</code>, because that is the <em><strong>owning side</strong></em> of the relation.</p>\n<p>When using <strong>mappedBy</strong>, it is the responsibility of the developer to know what is the owning side, and update the correct side of the relation in order to trigger the persistence of the new relation in the database.</p>\n"},{"tags":[],"owner":{"account_id":19527123,"reputation":21,"user_id":14287749,"display_name":"Vishnu Shinde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613563706,"creation_date":1613563706,"answer_id":66241669,"question_id":2749689,"body_markdown":"Bidirectional relationships must follow these rules.\r\n\r\nThe inverse side of a bidirectional relationship must refer to its owning side by using the mappedBy element of the @OneToOne, @OneToMany, or @ManyToMany annotation. The mappedBy element designates the property or field in the entity that is the owner of the relationship.\r\n\r\nThe many side of many-to-one bidirectional relationships must not define the mappedBy element. ***The many side is always the owning side of the relationship.***(According to Oracle docs : https://docs.oracle.com/cd/E19798-01/821-1841/bnbqi/index.html)\r\n\r\nFor one-to-one bidirectional relationships, the owning side corresponds to the side that contains the corresponding foreign key.\r\n\r\nFor many-to-many bidirectional relationships, either side may be the owning side.","title":"What is the &quot;owning side&quot; in an ORM mapping?","body":"<p>Bidirectional relationships must follow these rules.</p>\n<p>The inverse side of a bidirectional relationship must refer to its owning side by using the mappedBy element of the @OneToOne, @OneToMany, or @ManyToMany annotation. The mappedBy element designates the property or field in the entity that is the owner of the relationship.</p>\n<p>The many side of many-to-one bidirectional relationships must not define the mappedBy element. <em><strong>The many side is always the owning side of the relationship.</strong></em>(According to Oracle docs : <a href=\"https://docs.oracle.com/cd/E19798-01/821-1841/bnbqi/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E19798-01/821-1841/bnbqi/index.html</a>)</p>\n<p>For one-to-one bidirectional relationships, the owning side corresponds to the side that contains the corresponding foreign key.</p>\n<p>For many-to-many bidirectional relationships, either side may be the owning side.</p>\n"},{"tags":[],"owner":{"account_id":23533650,"reputation":1,"user_id":17578902,"display_name":"fullstackdeveloper"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638860879,"creation_date":1638860879,"answer_id":70256118,"question_id":2749689,"body_markdown":"Well that helps alot. I upvote this discussion\r\n\r\nEspecially I was looking for the following use case in Hospital Management System.\r\nPatient-&gt;Patient History\r\n1.Patient is not dependent on patient history ie only in the first instance when Patient visited the hospital, his ailment history has to be added. \r\n2. In subsequent visits the history gets added in history table but need a patient_id reference to Patient. So here as the foriegn key is in PatientHIstory table, the owning side is PatientHistory\r\n\r\nSo this relation has to be modelled Bi-Directional OneToMany, mappedby=&quot;patient&quot; in patient Entity. Each of the entities refer to each other.  ","title":"What is the &quot;owning side&quot; in an ORM mapping?","body":"<p>Well that helps alot. I upvote this discussion</p>\n<p>Especially I was looking for the following use case in Hospital Management System.\nPatient-&gt;Patient History\n1.Patient is not dependent on patient history ie only in the first instance when Patient visited the hospital, his ailment history has to be added.\n2. In subsequent visits the history gets added in history table but need a patient_id reference to Patient. So here as the foriegn key is in PatientHIstory table, the owning side is PatientHistory</p>\n<p>So this relation has to be modelled Bi-Directional OneToMany, mappedby=&quot;patient&quot; in patient Entity. Each of the entities refer to each other.</p>\n"},{"tags":[],"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1649634686,"creation_date":1643693245,"answer_id":70935919,"question_id":2749689,"body_markdown":"I will explaing about this very briefly. &quot;Owning&quot; means that carries the foreign key column in itself. In other words, it owns the relationship. Many people misunderstand the word owning. They think that the owning party is the main party. But when we look at it, the table with the foreign key column is the linked side. For example : Let&#39;s think about Person and Adress and relationship between them OneToOne\r\n\r\n    @Data\r\n    @Entity\r\n    public class Person {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;adress_id&quot;)\r\n        private Adress adress;\r\n    }\r\n\r\n    @Data\r\n    @Entity\r\n    public class Adress {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @OneToOne(mappedBy = &quot;adress&quot;)\r\n        private Person person;\r\n    \r\n    }\r\n\r\nin this case Person has adress_id fk column which linked of Adress of primary key column.\r\n\r\nIn general, you might be thinking why do I need the owning side? To understand this, you need to know database rules. For example, let&#39;s say you don&#39;t want to use an owning side and all data stores in one table and that means implementing a bad database practise. So I assume you now understand that each entity should store its own data in its own table. Now they are asking you to show the Person and his Address in the view section. How would you do it if there was no owning side? You would probably have to create 2 queries for each entity, right? Here, too, you have made a bad DML. Instead of writing 2 queries, you can write 1 query using `JOIN`. JOIN&#39;s work with the owning side we define, without them, we cannot select the data belonging to one table from the other table. ORM also offers you a more comfortable way by using basic java codes through entities without using databases. That&#39;s it.\r\n\r\n","title":"What is the &quot;owning side&quot; in an ORM mapping?","body":"<p>I will explaing about this very briefly. &quot;Owning&quot; means that carries the foreign key column in itself. In other words, it owns the relationship. Many people misunderstand the word owning. They think that the owning party is the main party. But when we look at it, the table with the foreign key column is the linked side. For example : Let's think about Person and Adress and relationship between them OneToOne</p>\n<pre><code>@Data\n@Entity\npublic class Person {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n    @OneToOne\n    @JoinColumn(name = &quot;adress_id&quot;)\n    private Adress adress;\n}\n\n@Data\n@Entity\npublic class Adress {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @OneToOne(mappedBy = &quot;adress&quot;)\n    private Person person;\n\n}\n</code></pre>\n<p>in this case Person has adress_id fk column which linked of Adress of primary key column.</p>\n<p>In general, you might be thinking why do I need the owning side? To understand this, you need to know database rules. For example, let's say you don't want to use an owning side and all data stores in one table and that means implementing a bad database practise. So I assume you now understand that each entity should store its own data in its own table. Now they are asking you to show the Person and his Address in the view section. How would you do it if there was no owning side? You would probably have to create 2 queries for each entity, right? Here, too, you have made a bad DML. Instead of writing 2 queries, you can write 1 query using <code>JOIN</code>. JOIN's work with the owning side we define, without them, we cannot select the data belonging to one table from the other table. ORM also offers you a more comfortable way by using basic java codes through entities without using databases. That's it.</p>\n"}],"owner":{"account_id":57059,"reputation":27150,"user_id":170931,"accept_rate":86,"display_name":"Just a learner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60240,"favorite_count":0,"down_vote_count":0,"up_vote_count":199,"accepted_answer_id":21068644,"answer_count":5,"score":199,"last_activity_date":1649634686,"creation_date":1272712307,"question_id":2749689,"body_markdown":"What exactly does the ***owning side*** mean? What is an explanation with some mapping examples (***one to many, one to one, many to one***)?\r\n\r\nThe following text is an excerpt from the description of ***@OneToOne*** in Java EE 6 documentation. You can see the concept ***owning side*** in it.\r\n\r\n&gt; Defines a single-valued association to\r\n&gt; another entity that has one-to-one\r\n&gt; multiplicity. It is not normally\r\n&gt; necessary to specify the associated\r\n&gt; target entity explicitly since it can\r\n&gt; usually be inferred from the type of\r\n&gt; the object being referenced. If the\r\n&gt; relationship is bidirectional, ***the\r\n&gt; non-owning side*** must use the mappedBy\r\n&gt; element of the OneToOne annotation to\r\n&gt; specify the relationship field or\r\n&gt; property of the owning side.\r\n","title":"What is the &quot;owning side&quot; in an ORM mapping?","body":"<p>What exactly does the <strong><em>owning side</em></strong> mean? What is an explanation with some mapping examples (<strong><em>one to many, one to one, many to one</em></strong>)?</p>\n\n<p>The following text is an excerpt from the description of <strong><em>@OneToOne</em></strong> in Java EE 6 documentation. You can see the concept <strong><em>owning side</em></strong> in it.</p>\n\n<blockquote>\n  <p>Defines a single-valued association to\n  another entity that has one-to-one\n  multiplicity. It is not normally\n  necessary to specify the associated\n  target entity explicitly since it can\n  usually be inferred from the type of\n  the object being referenced. If the\n  relationship is bidirectional, <strong><em>the\n  non-owning side</em></strong> must use the mappedBy\n  element of the OneToOne annotation to\n  specify the relationship field or\n  property of the owning side.</p>\n</blockquote>\n"},{"tags":["java","css","javafx"],"answers":[{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649634658,"creation_date":1649633957,"answer_id":71821353,"question_id":71808518,"body_markdown":"Using pure css, you can add `.chart-series-line {\r\n-fx-stroke: transparent;\r\n}` and after that you can modify the stroke of the first series to its original color with `.default-color0.chart-series-line {\r\n-fx-stroke: CHART_COLOR_1; }`.\r\n\r\n    .chart-series-line {\r\n        -fx-stroke: transparent;\r\n    }\r\n\r\n    .default-color0.chart-series-line {\r\n        -fx-stroke: CHART_COLOR_1;\r\n    }\r\n\r\n    .default-color0.chart-line-symbol {\r\n        -fx-background-color: transparent;\r\n    }\r\n\r\nAlternatively, you can add a listener to the chart series `ObservableList` programmatically. When a change notification is received, you can iterate over the series and find the line `Node` using the lookup css selector `.chart-series-line`. Finally, you can set the node style `-fx-stroke: transparent;`.\r\n\r\nAssuming that the first series (`series1`) always stays in the chart, here&#39;s a sample code:\r\n\r\n    chart.getData().add(series1);\r\n\r\n    chart.getData().addListener((ListChangeListener&lt;XYChart.Series&gt;) c -&gt; {\r\n        while (c.next()) {\r\n            if (c.wasAdded()) {\r\n                c.getAddedSubList().stream()\r\n                        .map(series -&gt; series.getNode().lookup(&quot;.chart-series-line&quot;))\r\n                        .forEach(node -&gt; node.setStyle(&quot;-fx-stroke: transparent;&quot;));\r\n            }\r\n        }\r\n    });\r\n","title":"Make the markers on the LineChart transparent. javafx","body":"<p>Using pure css, you can add <code>.chart-series-line { -fx-stroke: transparent; }</code> and after that you can modify the stroke of the first series to its original color with <code>.default-color0.chart-series-line { -fx-stroke: CHART_COLOR_1; }</code>.</p>\n<pre><code>.chart-series-line {\n    -fx-stroke: transparent;\n}\n\n.default-color0.chart-series-line {\n    -fx-stroke: CHART_COLOR_1;\n}\n\n.default-color0.chart-line-symbol {\n    -fx-background-color: transparent;\n}\n</code></pre>\n<p>Alternatively, you can add a listener to the chart series <code>ObservableList</code> programmatically. When a change notification is received, you can iterate over the series and find the line <code>Node</code> using the lookup css selector <code>.chart-series-line</code>. Finally, you can set the node style <code>-fx-stroke: transparent;</code>.</p>\n<p>Assuming that the first series (<code>series1</code>) always stays in the chart, here's a sample code:</p>\n<pre><code>chart.getData().add(series1);\n\nchart.getData().addListener((ListChangeListener&lt;XYChart.Series&gt;) c -&gt; {\n    while (c.next()) {\n        if (c.wasAdded()) {\n            c.getAddedSubList().stream()\n                    .map(series -&gt; series.getNode().lookup(&quot;.chart-series-line&quot;))\n                    .forEach(node -&gt; node.setStyle(&quot;-fx-stroke: transparent;&quot;));\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":20433475,"reputation":37,"user_id":16446710,"display_name":"Vsevolod Rostovskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71821353,"answer_count":1,"score":0,"last_activity_date":1649634658,"creation_date":1649511099,"question_id":71808518,"body_markdown":"I&#39;m displaying data on a LineChart. With GUI I am adding new data and I have a need to add new data series. I also need the new data series to have transparent symbols.\r\nIf this is not done, then the following picture will turn out:\r\n\r\n\r\n![Example showing bold lines are made up of markers][1]\r\n\r\nThe data series are added dynamically, and I don&#39;t know if it&#39;s possible to somehow apply css styles to these data series.\r\n\r\nThe only solution that I have come up with so far is to create a new CSS file every time I change the chart, in which the transparency property will be written for each color:\r\n```\r\n/* Remove data series points */\r\n.default-color0.chart-line-symbol {\r\n    -fx-background-color: transparent;\r\n}\r\n/* Remove data series lines */\r\n.default-color1.chart-series-line {\r\n    -fx-stroke: transparent;\r\n}\r\n/* Remove data series lines */\r\n.default-color2.chart-series-line {\r\n    -fx-stroke: transparent;\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XH4Lx.png","title":"Make the markers on the LineChart transparent. javafx","body":"<p>I'm displaying data on a LineChart. With GUI I am adding new data and I have a need to add new data series. I also need the new data series to have transparent symbols.\nIf this is not done, then the following picture will turn out:</p>\n<p><img src=\"https://i.stack.imgur.com/XH4Lx.png\" alt=\"Example showing bold lines are made up of markers\" /></p>\n<p>The data series are added dynamically, and I don't know if it's possible to somehow apply css styles to these data series.</p>\n<p>The only solution that I have come up with so far is to create a new CSS file every time I change the chart, in which the transparency property will be written for each color:</p>\n<pre><code>/* Remove data series points */\n.default-color0.chart-line-symbol {\n    -fx-background-color: transparent;\n}\n/* Remove data series lines */\n.default-color1.chart-series-line {\n    -fx-stroke: transparent;\n}\n/* Remove data series lines */\n.default-color2.chart-series-line {\n    -fx-stroke: transparent;\n}\n\n</code></pre>\n"},{"tags":["java","android","arraylist","android-listview","android-arrayadapter"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":2,"creation_date":1649637993,"post_id":71821404,"comment_id":126919181,"body_markdown":"That error is saying you&#39;re calling ``setAdapter`` on something that should be a ``ListView`` but it&#39;s actually null. ``findViewById`` returns null if it can&#39;t find that view in the layout, so at a guess you don&#39;t have a ``ListView`` with an ID of ``dataresults`` inside ``activity_results.xml``, meaning your ``dataresults`` variable is null","body":"That error is saying you&#39;re calling <code>setAdapter</code> on something that should be a <code>ListView</code> but it&#39;s actually null. <code>findViewById</code> returns null if it can&#39;t find that view in the layout, so at a guess you don&#39;t have a <code>ListView</code> with an ID of <code>dataresults</code> inside <code>activity_results.xml</code>, meaning your <code>dataresults</code> variable is null"},{"owner":{"account_id":24493596,"reputation":25,"user_id":18410262,"display_name":"MMS"},"score":0,"creation_date":1649643669,"post_id":71821404,"comment_id":126919959,"body_markdown":"It looks like I still had a text view instead of a list view. Thank you so much for your help, I got it working after I swapped them.","body":"It looks like I still had a text view instead of a list view. Thank you so much for your help, I got it working after I swapped them."}],"owner":{"account_id":24493596,"reputation":25,"user_id":18410262,"display_name":"MMS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649634575,"creation_date":1649634575,"question_id":71821404,"body_markdown":"I am a beginner in Android studio and I am trying to send an array list to a list view. I know that I am passing the correct info from my main activity to the second activity and that it is received properly in the second activity. My issue is coming in when I try to pass the array list &quot;filteredlist&quot; to the array adapter &quot;arradapter&quot; to then send to list view. It is giving me this error: java.lang.NullPointerException: &quot;Attempt to invoke virtual method &#39;void android.widget.ListView.setAdapter(android.widget.ListAdapter)&#39; on a null object reference.&quot;\r\nI am sure I am missing something, but I am not sure what.\r\nI am aware the code isn&#39;t perfect, and I plan on streamlining it later.\r\n\r\nSecond activity:\r\n```\r\npackage com.example.charityfinder;\r\n\r\nimport android.os.Bundle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.util.Log;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\nimport java.util.ArrayList;\r\n\r\n\r\n\r\npublic class ResultsActivity extends AppCompatActivity {\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_results);\r\n\r\n        ArrayList&lt;NationalCharity&gt; filteredlist = (ArrayList&lt;NationalCharity&gt;) getIntent().getSerializableExtra(&quot;Filtered List&quot;);\r\n        Log.d(&quot;DEBUG&quot;, &quot;Second Activity: &quot; + filteredlist);//prints out list here\r\n        ListView dataresults = (ListView) findViewById(R.id.dataresults);\r\n        ArrayAdapter&lt;NationalCharity&gt; arradapter = new ArrayAdapter&lt;NationalCharity&gt;(this, R.layout.item_view, R.id.itemTextView, filteredlist);\r\n        dataresults.setAdapter(arradapter);\r\n\r\n\r\n    }\r\n}\r\n```\r\nMain Activity:\r\n```\r\npackage com.example.charityfinder;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Parcelable;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.RadioButton;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.Serializable;\r\nimport java.nio.charset.Charset;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    //references to buttons and other controls\r\n\r\n    Button submitbtn;\r\n    RadioButton medicalRadio, envirRadio, hserviceRadio, educationRadio, publicaRadio,\r\n            cultureRadio, domesticvRadio, hrightsRadio, homelessRadio, religionRadio, youthRadio;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        readcharitydata();\r\n\r\n        medicalRadio = findViewById(R.id.medicalRadio);\r\n        envirRadio = findViewById(R.id.envirRadio);\r\n        hserviceRadio = findViewById(R.id.hserviceRadio);\r\n        educationRadio = findViewById(R.id.educationRadio);\r\n        publicaRadio = findViewById(R.id.publicaRadio);\r\n        cultureRadio = findViewById(R.id.cultureRadio);\r\n        domesticvRadio = findViewById(R.id.domesticvRadio);\r\n        hrightsRadio = findViewById(R.id.hrightsRadio);\r\n        homelessRadio = findViewById(R.id.homelessRadio);\r\n        religionRadio = findViewById(R.id.religionRadio);\r\n        youthRadio = findViewById(R.id.youthRadio);\r\n        submitbtn = findViewById(R.id.submitbtn);\r\n        submitbtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openNewActivity();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    String category;\r\n\r\n    public void onRadioButtonClicked(View view) {\r\n\r\n        if (medicalRadio.isChecked()) {\r\n            category = &quot;Medical&quot;;\r\n        } else if (envirRadio.isChecked()) {\r\n            category = &quot;Environmental_Animal&quot;;\r\n        } else if (hserviceRadio.isChecked()) {\r\n            category = &quot;Human_Services&quot;;\r\n        } else if (educationRadio.isChecked()) {\r\n            category = &quot;Education&quot;;\r\n        } else if (publicaRadio.isChecked()) {\r\n            category = &quot;Public_Affairs&quot;;\r\n        } else if (cultureRadio.isChecked()) {\r\n            category = &quot;Culture_Arts_Humanities&quot;;\r\n        } else if (domesticvRadio.isChecked()) {\r\n            category = &quot;Domestic_Violence&quot;;\r\n        } else if (hrightsRadio.isChecked()) {\r\n            category = &quot;Human_Rights&quot;;\r\n        } else if (homelessRadio.isChecked()) {\r\n            category = &quot;Homelessness&quot;;\r\n        } else if (religionRadio.isChecked()) {\r\n            category = &quot;Religious&quot;;\r\n        } else if (youthRadio.isChecked()) {\r\n            category = &quot;Youth&quot;;\r\n        }\r\n\r\n        filterCharity(category);\r\n    }\r\n\r\n    private List&lt;NationalCharity&gt; charities = new ArrayList&lt;&gt;();\r\n\r\n    private void readcharitydata() {\r\n        InputStream is = getResources().openRawResource(R.raw.charities);\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(is, Charset.forName(&quot;UTF-8&quot;)));\r\n\r\n        String line = &quot;&quot;;\r\n        try {\r\n            //ignore headers\r\n            reader.readLine();\r\n            while ((line = reader.readLine()) != null) {\r\n                //split by comma\r\n                String[] token = line.split(&quot;,&quot;);\r\n                //Read data\r\n                NationalCharity charity = new NationalCharity();\r\n                charity.setCharity_name(token[0]);\r\n                charity.setCategory(token[1]);\r\n                charity.setWeb_address(token[2]);\r\n                charity.setAddress(token[3]);\r\n                charity.setCity(token[4]);\r\n                charity.setState(token[5]);\r\n                charity.setZipcode(token[6]);\r\n                charity.setMission_statement(token[7]);\r\n                charities.add(charity);\r\n            }\r\n        } catch (IOException e) {\r\n            Log.wtf(&quot;Error&quot;, &quot;Error reading data file&quot; + line, e);\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    private ArrayList&lt;NationalCharity&gt; filtered = new ArrayList&lt;&gt;();\r\n\r\n    //needing to filter here from the charities list\r\n    private void filterCharity(String type) {\r\n        for (NationalCharity charity : charities) {\r\n            if (charity.getCategory().equals(type)) {\r\n                filtered.add(charity);\r\n                Log.d(&quot;DEBUG&quot;, &quot;Just created: &quot; + filtered);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public void openNewActivity() {\r\n        Intent intent = new Intent(MainActivity.this, ResultsActivity.class);\r\n        intent.putExtra(&quot;Filtered List&quot;, filtered);\r\n        Log.d(&quot;DEBUG&quot;, &quot;Passing: &quot; + filtered);\r\n        startActivity(intent);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"Using list view and array adapter in android studio","body":"<p>I am a beginner in Android studio and I am trying to send an array list to a list view. I know that I am passing the correct info from my main activity to the second activity and that it is received properly in the second activity. My issue is coming in when I try to pass the array list &quot;filteredlist&quot; to the array adapter &quot;arradapter&quot; to then send to list view. It is giving me this error: java.lang.NullPointerException: &quot;Attempt to invoke virtual method 'void android.widget.ListView.setAdapter(android.widget.ListAdapter)' on a null object reference.&quot;\nI am sure I am missing something, but I am not sure what.\nI am aware the code isn't perfect, and I plan on streamlining it later.</p>\n<p>Second activity:</p>\n<pre><code>package com.example.charityfinder;\n\nimport android.os.Bundle;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.util.Log;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport java.util.ArrayList;\n\n\n\npublic class ResultsActivity extends AppCompatActivity {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_results);\n\n        ArrayList&lt;NationalCharity&gt; filteredlist = (ArrayList&lt;NationalCharity&gt;) getIntent().getSerializableExtra(&quot;Filtered List&quot;);\n        Log.d(&quot;DEBUG&quot;, &quot;Second Activity: &quot; + filteredlist);//prints out list here\n        ListView dataresults = (ListView) findViewById(R.id.dataresults);\n        ArrayAdapter&lt;NationalCharity&gt; arradapter = new ArrayAdapter&lt;NationalCharity&gt;(this, R.layout.item_view, R.id.itemTextView, filteredlist);\n        dataresults.setAdapter(arradapter);\n\n\n    }\n}\n</code></pre>\n<p>Main Activity:</p>\n<pre><code>package com.example.charityfinder;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Parcelable;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.RadioButton;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.Serializable;\nimport java.nio.charset.Charset;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    //references to buttons and other controls\n\n    Button submitbtn;\n    RadioButton medicalRadio, envirRadio, hserviceRadio, educationRadio, publicaRadio,\n            cultureRadio, domesticvRadio, hrightsRadio, homelessRadio, religionRadio, youthRadio;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        readcharitydata();\n\n        medicalRadio = findViewById(R.id.medicalRadio);\n        envirRadio = findViewById(R.id.envirRadio);\n        hserviceRadio = findViewById(R.id.hserviceRadio);\n        educationRadio = findViewById(R.id.educationRadio);\n        publicaRadio = findViewById(R.id.publicaRadio);\n        cultureRadio = findViewById(R.id.cultureRadio);\n        domesticvRadio = findViewById(R.id.domesticvRadio);\n        hrightsRadio = findViewById(R.id.hrightsRadio);\n        homelessRadio = findViewById(R.id.homelessRadio);\n        religionRadio = findViewById(R.id.religionRadio);\n        youthRadio = findViewById(R.id.youthRadio);\n        submitbtn = findViewById(R.id.submitbtn);\n        submitbtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openNewActivity();\n            }\n        });\n\n    }\n\n    String category;\n\n    public void onRadioButtonClicked(View view) {\n\n        if (medicalRadio.isChecked()) {\n            category = &quot;Medical&quot;;\n        } else if (envirRadio.isChecked()) {\n            category = &quot;Environmental_Animal&quot;;\n        } else if (hserviceRadio.isChecked()) {\n            category = &quot;Human_Services&quot;;\n        } else if (educationRadio.isChecked()) {\n            category = &quot;Education&quot;;\n        } else if (publicaRadio.isChecked()) {\n            category = &quot;Public_Affairs&quot;;\n        } else if (cultureRadio.isChecked()) {\n            category = &quot;Culture_Arts_Humanities&quot;;\n        } else if (domesticvRadio.isChecked()) {\n            category = &quot;Domestic_Violence&quot;;\n        } else if (hrightsRadio.isChecked()) {\n            category = &quot;Human_Rights&quot;;\n        } else if (homelessRadio.isChecked()) {\n            category = &quot;Homelessness&quot;;\n        } else if (religionRadio.isChecked()) {\n            category = &quot;Religious&quot;;\n        } else if (youthRadio.isChecked()) {\n            category = &quot;Youth&quot;;\n        }\n\n        filterCharity(category);\n    }\n\n    private List&lt;NationalCharity&gt; charities = new ArrayList&lt;&gt;();\n\n    private void readcharitydata() {\n        InputStream is = getResources().openRawResource(R.raw.charities);\n        BufferedReader reader = new BufferedReader(new InputStreamReader(is, Charset.forName(&quot;UTF-8&quot;)));\n\n        String line = &quot;&quot;;\n        try {\n            //ignore headers\n            reader.readLine();\n            while ((line = reader.readLine()) != null) {\n                //split by comma\n                String[] token = line.split(&quot;,&quot;);\n                //Read data\n                NationalCharity charity = new NationalCharity();\n                charity.setCharity_name(token[0]);\n                charity.setCategory(token[1]);\n                charity.setWeb_address(token[2]);\n                charity.setAddress(token[3]);\n                charity.setCity(token[4]);\n                charity.setState(token[5]);\n                charity.setZipcode(token[6]);\n                charity.setMission_statement(token[7]);\n                charities.add(charity);\n            }\n        } catch (IOException e) {\n            Log.wtf(&quot;Error&quot;, &quot;Error reading data file&quot; + line, e);\n            e.printStackTrace();\n        }\n\n    }\n\n    private ArrayList&lt;NationalCharity&gt; filtered = new ArrayList&lt;&gt;();\n\n    //needing to filter here from the charities list\n    private void filterCharity(String type) {\n        for (NationalCharity charity : charities) {\n            if (charity.getCategory().equals(type)) {\n                filtered.add(charity);\n                Log.d(&quot;DEBUG&quot;, &quot;Just created: &quot; + filtered);\n            }\n        }\n\n    }\n\n    public void openNewActivity() {\n        Intent intent = new Intent(MainActivity.this, ResultsActivity.class);\n        intent.putExtra(&quot;Filtered List&quot;, filtered);\n        Log.d(&quot;DEBUG&quot;, &quot;Passing: &quot; + filtered);\n        startActivity(intent);\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","arrays","object","arraylist","casting"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1649623346,"post_id":71820373,"comment_id":126916875,"body_markdown":"you should do a loop for the outer array. or use a stream.","body":"you should do a loop for the outer array. or use a stream."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649626041,"post_id":71820373,"comment_id":126917366,"body_markdown":"Are you missing quotes in your sample data? Did you intend single strings or pairs of strings?","body":"Are you missing quotes in your sample data? Did you intend single strings or pairs of strings?"},{"owner":{"display_name":"user18588618"},"score":0,"creation_date":1649626305,"post_id":71820373,"comment_id":126917409,"body_markdown":"I intend pairs of string, but they are also an array. So, I iterate over 4 element in that array and each of them has 2 words as another array.","body":"I intend pairs of string, but they are also an array. So, I iterate over 4 element in that array and each of them has 2 words as another array."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1649626867,"post_id":71820373,"comment_id":126917508,"body_markdown":"A comma-separated string does not an array make.","body":"A comma-separated string does not an array make."}],"answers":[{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649627632,"creation_date":1649623907,"answer_id":71820475,"question_id":71820373,"body_markdown":"You can `stream` the array and then collect to a `List`:\r\n\r\n    Object[] array = new Object[] {\r\n                new String[] {&quot;add, hack&quot;},\r\n                new String[] {&quot;add, hackerrank&quot;},\r\n                new String[] {&quot;find, hac&quot;},\r\n                new String[] {&quot;find, hak&quot;}};\r\n\r\n    List&lt;List&lt;String&gt;&gt; list = Arrays.stream(array)\r\n            .map(String[].class::cast)\r\n            .map(arr -&gt; arr[0].split(&quot;, &quot;))\r\n            .map(Arrays::asList)\r\n            .collect(Collectors.toList());\r\n        \r\n    System.out.println(list);\r\n\r\nOutput:\r\n\r\n    [[add, hack], [add, hackerrank], [find, hac], [find, hak]]\r\n\r\nWith JDK 16+ you can do:\r\n\r\n    List&lt;List&lt;String&gt;&gt; list = Arrays.stream(array)\r\n            .map(String[].class::cast)\r\n            .map(arr -&gt; arr[0].split(&quot;, &quot;))\r\n            .map(Arrays::asList)\r\n            .toList();","title":"How to type-cast a nested Array of Objects into a nested List of Strings","body":"<p>You can <code>stream</code> the array and then collect to a <code>List</code>:</p>\n<pre><code>Object[] array = new Object[] {\n            new String[] {&quot;add, hack&quot;},\n            new String[] {&quot;add, hackerrank&quot;},\n            new String[] {&quot;find, hac&quot;},\n            new String[] {&quot;find, hak&quot;}};\n\nList&lt;List&lt;String&gt;&gt; list = Arrays.stream(array)\n        .map(String[].class::cast)\n        .map(arr -&gt; arr[0].split(&quot;, &quot;))\n        .map(Arrays::asList)\n        .collect(Collectors.toList());\n    \nSystem.out.println(list);\n</code></pre>\n<p>Output:</p>\n<pre><code>[[add, hack], [add, hackerrank], [find, hac], [find, hak]]\n</code></pre>\n<p>With JDK 16+ you can do:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; list = Arrays.stream(array)\n        .map(String[].class::cast)\n        .map(arr -&gt; arr[0].split(&quot;, &quot;))\n        .map(Arrays::asList)\n        .toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24520317,"reputation":103,"user_id":18433459,"display_name":"ilanfriedman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649624103,"creation_date":1649624103,"answer_id":71820493,"question_id":71820373,"body_markdown":"In order to be an &quot;array of arrays&quot; it would need to be a 2-dimensional array:\r\n\r\n```java\r\nString[][] arrays = new String[][] {new String[] {&quot;add, hack&quot;}, ...}\r\n```\r\n\r\nThen you could convert each array inside the array into an item in the list\r\n\r\n```java\r\nList&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();\r\nfor (String[] array : arrays) {\r\n    list.add(Arrays.asList(array));\r\n}\r\n```","title":"How to type-cast a nested Array of Objects into a nested List of Strings","body":"<p>In order to be an &quot;array of arrays&quot; it would need to be a 2-dimensional array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] arrays = new String[][] {new String[] {&quot;add, hack&quot;}, ...}\n</code></pre>\n<p>Then you could convert each array inside the array into an item in the list</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();\nfor (String[] array : arrays) {\n    list.add(Arrays.asList(array));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649633818,"creation_date":1649624178,"answer_id":71820503,"question_id":71820373,"body_markdown":"Every array inside the source array in your code like `new String[] {&quot;add, hack&quot;}` is treated as `Object` - that&#39;s all the compiler knows about it because `array` has been declared as `Object[]` (i.e. array of objects, not array of arrays objects, or array of arrays of strings).\r\n\r\n`Arrays.asList(array.toString())` - creates a list with a single element of type `String`. And when you invoke `toString()` on an array of any type, you will obtain a string containing the array&#39;s type and hash-based sequence of symbols after the at-sign `@`. In order to get  a string representation of the array contents, you need to use static method `toString()` of the `Arrays` class.\r\n\r\nThis way you can approach the problem of casting an array of `Object` type \r\n\r\n    public static void main(String[] args) {\r\n        Object[][] array =  new Object[][]{\r\n            new String[] {&quot;add, hack&quot;},\r\n            new String[] {&quot;add, hackerrank&quot;},\r\n            new String[] {&quot;find, hac&quot;},\r\n            {&quot;find, hak&quot;} // you can omit new String[] when assigning array while at the same time with initialization\r\n        };    \r\n\r\n        List&lt;List&lt;String&gt;&gt; list = arraysToList(array, String.class);\r\n\r\n        System.out.println(list);\r\n    }\r\n\r\nGeneric method for casting, that expects a `Class` object as a parameter:\r\n\r\n    public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; arraysToList(Object[][] array, Class&lt;T&gt; clazz) {\r\n        return Stream.of(array)\r\n            .map(arr -&gt; Stream.of(arr).map(clazz::cast).toList())\r\n            .collect(Collectors.toList());\r\n    }\r\n\r\n**Output**\r\n```\r\n[[add, hack], [add, hackerrank], [find, hac], [find, hak]]\r\n```\r\n\r\nYour Question is unclear as to your goal. Perhaps you want to generate text in a specific format. If so, add a method to the record class `Query` that returns a `String` object in your desired format.\r\n______________________________________\r\nIf you need to split a single string containing non-alphabetic symbols into separate words, you can make use of the `split()` method:\r\n```\r\nstr.split(&quot;[^\\\\p{Alpha}]+&quot;); // returns an array of strings comprised of alphabetic symbols only\r\n```","title":"How to type-cast a nested Array of Objects into a nested List of Strings","body":"<p>Every array inside the source array in your code like <code>new String[] {&quot;add, hack&quot;}</code> is treated as <code>Object</code> - that's all the compiler knows about it because <code>array</code> has been declared as <code>Object[]</code> (i.e. array of objects, not array of arrays objects, or array of arrays of strings).</p>\n<p><code>Arrays.asList(array.toString())</code> - creates a list with a single element of type <code>String</code>. And when you invoke <code>toString()</code> on an array of any type, you will obtain a string containing the array's type and hash-based sequence of symbols after the at-sign <code>@</code>. In order to get  a string representation of the array contents, you need to use static method <code>toString()</code> of the <code>Arrays</code> class.</p>\n<p>This way you can approach the problem of casting an array of <code>Object</code> type</p>\n<pre><code>public static void main(String[] args) {\n    Object[][] array =  new Object[][]{\n        new String[] {&quot;add, hack&quot;},\n        new String[] {&quot;add, hackerrank&quot;},\n        new String[] {&quot;find, hac&quot;},\n        {&quot;find, hak&quot;} // you can omit new String[] when assigning array while at the same time with initialization\n    };    \n\n    List&lt;List&lt;String&gt;&gt; list = arraysToList(array, String.class);\n\n    System.out.println(list);\n}\n</code></pre>\n<p>Generic method for casting, that expects a <code>Class</code> object as a parameter:</p>\n<pre><code>public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; arraysToList(Object[][] array, Class&lt;T&gt; clazz) {\n    return Stream.of(array)\n        .map(arr -&gt; Stream.of(arr).map(clazz::cast).toList())\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[[add, hack], [add, hackerrank], [find, hac], [find, hak]]\n</code></pre>\n<p>Your Question is unclear as to your goal. Perhaps you want to generate text in a specific format. If so, add a method to the record class <code>Query</code> that returns a <code>String</code> object in your desired format.</p>\n<hr />\n<p>If you need to split a single string containing non-alphabetic symbols into separate words, you can make use of the <code>split()</code> method:</p>\n<pre><code>str.split(&quot;[^\\\\p{Alpha}]+&quot;); // returns an array of strings comprised of alphabetic symbols only\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649625892,"creation_date":1649625892,"answer_id":71820681,"question_id":71820373,"body_markdown":"One more solution assuming you want to start from Object[] array - first transforms to list of String[] using casting and then maps every String[] to List:\r\n\r\n        List&lt;String[]&gt; arrList = new ArrayList&lt;&gt;();\r\n\r\n        for (Object o : array)\r\n            arrList.add((String[]) o);\r\n\r\n        List&lt;List&lt;String&gt;&gt; strList = arrList.stream()\r\n                .map(Arrays::asList)\r\n                .collect(Collectors.toList());\r\n\r\n","title":"How to type-cast a nested Array of Objects into a nested List of Strings","body":"<p>One more solution assuming you want to start from Object[] array - first transforms to list of String[] using casting and then maps every String[] to List:</p>\n<pre><code>    List&lt;String[]&gt; arrList = new ArrayList&lt;&gt;();\n\n    for (Object o : array)\n        arrList.add((String[]) o);\n\n    List&lt;List&lt;String&gt;&gt; strList = arrList.stream()\n            .map(Arrays::asList)\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649634243,"creation_date":1649627276,"answer_id":71820826,"question_id":71820373,"body_markdown":"# Use objects, not lists of arrays\r\n\r\nThe other Answers seem to be correct about your various problems. I will look at the bigger picture Your design approach has ignored the the best feature of Java: [object-oriented programming][1].\r\n\r\nYour query pieces should be packaged as a class, a [record][2].\r\n\r\n    record Query ( String verb , String noun ) {}\r\n\r\nApparently you are starting with a [comma-separated string][3] as inputs. So add a [static factory method][4] to parse each input.\r\n\r\n    record Query ( String verb , String noun ) {\r\n        // Factory method to instantiate `Query` object by parsing input string containing a pair of comma-separated values.\r\n        public static Query parse( final String input ) {\r\n            String[] parts = input.split( &quot;, &quot; ) ;\r\n            return new Query ( parts[0] , parts[1] ) ;\r\n        }\r\n    }\r\n\r\nSkip the arrays, and use `List` or `Set` for their convenience.\r\n\r\n    List&lt; Query &gt; queries = \r\n        List.of(\r\n            Query.parse( &quot;add, hack&quot; ) ,  // Instantiates a `Query` object. \r\n            Query.parse( &quot;add, hackerrank&quot; ) , \r\n            Query.parse( &quot;find, hac&quot; ) ,\r\n            Query.parse( &quot;find, hak&quot; )\r\n        )\r\n    ;\r\n\r\n\r\n\r\n## Generating text\r\n\r\nReport contents.\r\n\r\n    System.out.println( &quot;queries = &quot; + queries );\r\n\r\n&gt;queries = [Query[verb=add, noun=hack], Query[verb=add, noun=hackerrank], Query[verb=find, noun=hac], Query[verb=find, noun=hak]]\r\n\r\nYour Question is not clear as to its end goal. If your goal is to generate text in a particular format, add a method to your class. Here we add a method called `report`. \r\n\r\n    String report ( ) { return String.format( &quot;{ %s, %s }&quot; , this.verb , this.noun ); }\r\n\r\nTo use that `report` method, loop your objects, generating text for each.\r\n\r\n```java\r\nqueries.forEach( query -&gt; System.out.println( query.report() ) );\r\n```\r\n\r\n```none\r\n{ add, hack }\r\n{ add, hackerrank }\r\n{ find, hac }\r\n{ find, hak }\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nCaveat: In real work, we would do more to verify and validate. For example we would validate our input data to make sure the input string is [non-null][5], non-[blank][6], and composed of two parts. I omitted such code to keep the demo short and on-point.\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Object-oriented_programming\r\n  [2]: http://openjdk.java.net/jeps/395\r\n  [3]: https://en.wikipedia.org/wiki/Comma-separated_values\r\n  [4]: https://stackoverflow.com/q/929021/642706\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNull(T)\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#isBlank()","title":"How to type-cast a nested Array of Objects into a nested List of Strings","body":"<h1>Use objects, not lists of arrays</h1>\n<p>The other Answers seem to be correct about your various problems. I will look at the bigger picture Your design approach has ignored the the best feature of Java: <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">object-oriented programming</a>.</p>\n<p>Your query pieces should be packaged as a class, a <a href=\"http://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a>.</p>\n<pre><code>record Query ( String verb , String noun ) {}\n</code></pre>\n<p>Apparently you are starting with a <a href=\"https://en.wikipedia.org/wiki/Comma-separated_values\" rel=\"nofollow noreferrer\">comma-separated string</a> as inputs. So add a <a href=\"https://stackoverflow.com/q/929021/642706\">static factory method</a> to parse each input.</p>\n<pre><code>record Query ( String verb , String noun ) {\n    // Factory method to instantiate `Query` object by parsing input string containing a pair of comma-separated values.\n    public static Query parse( final String input ) {\n        String[] parts = input.split( &quot;, &quot; ) ;\n        return new Query ( parts[0] , parts[1] ) ;\n    }\n}\n</code></pre>\n<p>Skip the arrays, and use <code>List</code> or <code>Set</code> for their convenience.</p>\n<pre><code>List&lt; Query &gt; queries = \n    List.of(\n        Query.parse( &quot;add, hack&quot; ) ,  // Instantiates a `Query` object. \n        Query.parse( &quot;add, hackerrank&quot; ) , \n        Query.parse( &quot;find, hac&quot; ) ,\n        Query.parse( &quot;find, hak&quot; )\n    )\n;\n</code></pre>\n<h2>Generating text</h2>\n<p>Report contents.</p>\n<pre><code>System.out.println( &quot;queries = &quot; + queries );\n</code></pre>\n<blockquote>\n<p>queries = [Query[verb=add, noun=hack], Query[verb=add, noun=hackerrank], Query[verb=find, noun=hac], Query[verb=find, noun=hak]]</p>\n</blockquote>\n<p>Your Question is not clear as to its end goal. If your goal is to generate text in a particular format, add a method to your class. Here we add a method called <code>report</code>.</p>\n<pre><code>String report ( ) { return String.format( &quot;{ %s, %s }&quot; , this.verb , this.noun ); }\n</code></pre>\n<p>To use that <code>report</code> method, loop your objects, generating text for each.</p>\n<pre class=\"lang-java prettyprint-override\"><code>queries.forEach( query -&gt; System.out.println( query.report() ) );\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>{ add, hack }\n{ add, hackerrank }\n{ find, hac }\n{ find, hak }\n</code></pre>\n<hr />\n<p>Caveat: In real work, we would do more to verify and validate. For example we would validate our input data to make sure the input string is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNull(T)\" rel=\"nofollow noreferrer\">non-null</a>, non-<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#isBlank()\" rel=\"nofollow noreferrer\">blank</a>, and composed of two parts. I omitted such code to keep the demo short and on-point.</p>\n"}],"owner":{"display_name":"user18588618"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1204,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71820681,"answer_count":5,"score":1,"last_activity_date":1649634243,"creation_date":1649623088,"question_id":71820373,"body_markdown":"Cannot create nested ArrayList from Array in Java\r\n\r\nI am trying to create a nested list from an array.\r\n\r\nBut I have a problem while converting `Object` to `String`:\r\n\r\n```\r\nObject[] array = new Object[] {\r\n                    new String[] {&quot;add, hack&quot;},\r\n                    new String[] {&quot;add, hackerrank&quot;},\r\n                    new String[] {&quot;find, hac&quot;},\r\n                    new String[] {&quot;find, hak&quot;}\r\n};\r\n\r\nList&lt;List&lt;String&gt;&gt; list = Arrays.asList(Arrays.asList((array.toString())));\r\n```\r\n\r\nSo, how can I convert it properly?\r\n\r\n&lt;br/&gt;\r\n\r\nHere is the method that reserves the `List&lt;List&lt;String&gt;&gt;`:\r\n\r\n```\r\npublic static List&lt;Integer&gt; contacts(List&lt;List&lt;String&gt;&gt; queries) {\r\n    for (List&lt;String&gt; query : queries) {\r\n        String operation = query.get(0); // --&gt; gives &quot;add, hack&quot; (I expect &quot;add&quot;)\r\n        String word = query.get(1);\r\n    }\r\n}\r\n```","title":"How to type-cast a nested Array of Objects into a nested List of Strings","body":"<p>Cannot create nested ArrayList from Array in Java</p>\n<p>I am trying to create a nested list from an array.</p>\n<p>But I have a problem while converting <code>Object</code> to <code>String</code>:</p>\n<pre><code>Object[] array = new Object[] {\n                    new String[] {&quot;add, hack&quot;},\n                    new String[] {&quot;add, hackerrank&quot;},\n                    new String[] {&quot;find, hac&quot;},\n                    new String[] {&quot;find, hak&quot;}\n};\n\nList&lt;List&lt;String&gt;&gt; list = Arrays.asList(Arrays.asList((array.toString())));\n</code></pre>\n<p>So, how can I convert it properly?</p>\n<br/>\n<p>Here is the method that reserves the <code>List&lt;List&lt;String&gt;&gt;</code>:</p>\n<pre><code>public static List&lt;Integer&gt; contacts(List&lt;List&lt;String&gt;&gt; queries) {\n    for (List&lt;String&gt; query : queries) {\n        String operation = query.get(0); // --&gt; gives &quot;add, hack&quot; (I expect &quot;add&quot;)\n        String word = query.get(1);\n    }\n}\n</code></pre>\n"},{"tags":["java","dynamic-programming","subsequence"],"answers":[{"tags":[],"owner":{"account_id":1609379,"reputation":8624,"user_id":1488799,"display_name":"Gassa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649634153,"creation_date":1649634153,"answer_id":71821366,"question_id":71820913,"body_markdown":"If you really want to reuse the old solution, consider _why_ it doesn&#39;t work anymore.\r\n\r\nOf the three transitions, the one when letters are equal should survive, and the two skipping a letter in one of the strings should disappear.\r\n\r\nSo, the transitions can be just:\r\n\r\n                    if (x.charAt(i - 1) == y.charAt(j - 1)) {\r\n                        c[i][j] = c[i - 1][j - 1] + 1;\r\n                    } else {\r\n                        c[i][j] = 0;\r\n                    }\r\n\r\nNote that, with this approach, the answer is no longer at `c[m][n]`: instead, you should search the whole table for the maximum value.\r\n\r\n-----\r\n\r\nThe simplicity of the transitions suggests there are faster solutions to the [longest common substring](https://en.wikipedia.org/wiki/Longest_common_substring_problem) problem (substring is a consecutive subsequence).\r\nAnd indeed there is a linear yet complex solution involving a suffix tree (mentioned in the above link), or simpler solutions using hashes and binary search for the answer&#39;s length.","title":"How to modify a longest common subsequence algorithm to a longest common contiguous subsequence algorithm?","body":"<p>If you really want to reuse the old solution, consider <em>why</em> it doesn't work anymore.</p>\n<p>Of the three transitions, the one when letters are equal should survive, and the two skipping a letter in one of the strings should disappear.</p>\n<p>So, the transitions can be just:</p>\n<pre><code>                if (x.charAt(i - 1) == y.charAt(j - 1)) {\n                    c[i][j] = c[i - 1][j - 1] + 1;\n                } else {\n                    c[i][j] = 0;\n                }\n</code></pre>\n<p>Note that, with this approach, the answer is no longer at <code>c[m][n]</code>: instead, you should search the whole table for the maximum value.</p>\n<hr />\n<p>The simplicity of the transitions suggests there are faster solutions to the <a href=\"https://en.wikipedia.org/wiki/Longest_common_substring_problem\" rel=\"nofollow noreferrer\">longest common substring</a> problem (substring is a consecutive subsequence).\nAnd indeed there is a linear yet complex solution involving a suffix tree (mentioned in the above link), or simpler solutions using hashes and binary search for the answer's length.</p>\n"}],"owner":{"account_id":19800481,"reputation":13,"user_id":14501623,"display_name":"Jake_3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71821366,"answer_count":1,"score":0,"last_activity_date":1649634153,"creation_date":1649628393,"question_id":71820913,"body_markdown":"I&#39;m wondering how to change the class I have so that it can produce the longest contiguous common subsequence between two strings. This code right now is setup so that I can get the length of the longest common subsequence of the two strings. I want the final result string to be unbroken (it can be found in both strings with no characters in between). I would like it if, for example, sending the method ACGGTTGTCGCAGTCC and TGTAGCAG would result in length 4 for GCAG, instead of what it does now, which is length 7 for TGTGCAG.\r\n```\r\npublic class GenomeSequencer {\r\n    private String x;\r\n    private String y;\r\npublic String getLongestCommon() {\r\n        int[][] table = lcsLength();\r\n        return Integer.toString(table[x.length()][y.length()]);\r\n    }\r\n\r\n    private int[][] lcsLength() {\r\n        int m = x.length();\r\n        int n = y.length();\r\n\r\n        int[][] c = new int[m + 1][n + 1];\r\n\r\n        for (int i = 0; i &lt;= m; i++) {\r\n            c[i][0] = 0;\r\n        }\r\n        for (int j = 0; j &lt;= n; j++) {\r\n            c[0][j] = 0;\r\n        }\r\n        for (int i = 1; i &lt;= m; i++) {\r\n            for (int j = 1; j &lt;= n; j++) {\r\n                if (x.charAt(i - 1) == y.charAt(j - 1)) {\r\n                    c[i][j] = c[i - 1][j - 1] + 1;\r\n                } else if (c[i - 1][j] &gt;= c[i][j - 1]) {\r\n                    c[i][j] = c[i - 1][j];\r\n                } else {\r\n                    c[i][j] = c[i][j - 1];\r\n                }\r\n            }\r\n        }\r\n        return c;\r\n\r\n    }\r\n\r\n}\r\n```\r\n","title":"How to modify a longest common subsequence algorithm to a longest common contiguous subsequence algorithm?","body":"<p>I'm wondering how to change the class I have so that it can produce the longest contiguous common subsequence between two strings. This code right now is setup so that I can get the length of the longest common subsequence of the two strings. I want the final result string to be unbroken (it can be found in both strings with no characters in between). I would like it if, for example, sending the method ACGGTTGTCGCAGTCC and TGTAGCAG would result in length 4 for GCAG, instead of what it does now, which is length 7 for TGTGCAG.</p>\n<pre><code>public class GenomeSequencer {\n    private String x;\n    private String y;\npublic String getLongestCommon() {\n        int[][] table = lcsLength();\n        return Integer.toString(table[x.length()][y.length()]);\n    }\n\n    private int[][] lcsLength() {\n        int m = x.length();\n        int n = y.length();\n\n        int[][] c = new int[m + 1][n + 1];\n\n        for (int i = 0; i &lt;= m; i++) {\n            c[i][0] = 0;\n        }\n        for (int j = 0; j &lt;= n; j++) {\n            c[0][j] = 0;\n        }\n        for (int i = 1; i &lt;= m; i++) {\n            for (int j = 1; j &lt;= n; j++) {\n                if (x.charAt(i - 1) == y.charAt(j - 1)) {\n                    c[i][j] = c[i - 1][j - 1] + 1;\n                } else if (c[i - 1][j] &gt;= c[i][j - 1]) {\n                    c[i][j] = c[i - 1][j];\n                } else {\n                    c[i][j] = c[i][j - 1];\n                }\n            }\n        }\n        return c;\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","security","spring-security"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1649633354,"creation_date":1649559512,"answer_id":71813446,"question_id":71813290,"body_markdown":"According to [Spring Security &gt; Features &gt; Authentication &gt; Password Storage\r\n](https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html), Spring Security provides a number of built-in ways to encode passwords in a password store.  Indeed, you can implement your own encoding scheme.\r\n\r\nLooking at the existing `StandardPasswordEncoder` [javadoc](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/crypto/password/StandardPasswordEncoder.html) we see that is described as combining the password, a salt and a secret in the input to a crypto hash function (SHA-256).  The secret can be &quot;system wide&quot; or specific to the encoder.  You could either use this class directly, or clone and modify it.\r\n\r\n**HOWEVER**\r\n----------- \r\n\r\nThe `StandardPasswordEncoder` class has been deprecated by Spring.  According to them, the approach of hashing a salted password is insecure, even when you add a secret; e.g. a &quot;pepper&quot;.\r\n\r\nAccording to them, a more secure approach is to use a very computationally expensive (i.e. slow) function to do the hashing.  They provide a number of encoders that work this way; e.g. `BCryptPasswordEncoder`, `Argon2PasswordEncoder`, `Pbkdf2PasswordEncoder` and `SCryptPasswordEncoder`.\r\n\r\nSo my advice would be: \r\n\r\n1. Do not use `StandardPasswordEncoder`.  It is deprecated.\r\n\r\n2. Do not to try roll your own Spring password encoding scheme based on salts and peppers.  In addition to the systemic weakness of such schemes (which is why `StandardPasswordEncoder` is deprecated), you risk injecting extra weaknesses due to flaws in your own implementation; e.g. the handling of the &quot;pepper&quot; secret(s).\r\n\r\n3. Do use one of the alternatives (see above) that the Spring engineers have developed, tested and support.\r\n\r\n","title":"How do I implement a pepper in Spring MVC","body":"<p>According to <a href=\"https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html\" rel=\"nofollow noreferrer\">Spring Security &gt; Features &gt; Authentication &gt; Password Storage\n</a>, Spring Security provides a number of built-in ways to encode passwords in a password store.  Indeed, you can implement your own encoding scheme.</p>\n<p>Looking at the existing <code>StandardPasswordEncoder</code> <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/crypto/password/StandardPasswordEncoder.html\" rel=\"nofollow noreferrer\">javadoc</a> we see that is described as combining the password, a salt and a secret in the input to a crypto hash function (SHA-256).  The secret can be &quot;system wide&quot; or specific to the encoder.  You could either use this class directly, or clone and modify it.</p>\n<h2><strong>HOWEVER</strong></h2>\n<p>The <code>StandardPasswordEncoder</code> class has been deprecated by Spring.  According to them, the approach of hashing a salted password is insecure, even when you add a secret; e.g. a &quot;pepper&quot;.</p>\n<p>According to them, a more secure approach is to use a very computationally expensive (i.e. slow) function to do the hashing.  They provide a number of encoders that work this way; e.g. <code>BCryptPasswordEncoder</code>, <code>Argon2PasswordEncoder</code>, <code>Pbkdf2PasswordEncoder</code> and <code>SCryptPasswordEncoder</code>.</p>\n<p>So my advice would be:</p>\n<ol>\n<li><p>Do not use <code>StandardPasswordEncoder</code>.  It is deprecated.</p>\n</li>\n<li><p>Do not to try roll your own Spring password encoding scheme based on salts and peppers.  In addition to the systemic weakness of such schemes (which is why <code>StandardPasswordEncoder</code> is deprecated), you risk injecting extra weaknesses due to flaws in your own implementation; e.g. the handling of the &quot;pepper&quot; secret(s).</p>\n</li>\n<li><p>Do use one of the alternatives (see above) that the Spring engineers have developed, tested and support.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":14896627,"reputation":314,"user_id":15322039,"display_name":"Anes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649633354,"creation_date":1649557116,"question_id":71813290,"body_markdown":"I was trying to make my Application secure, when I tought to myself that I should implement peppers, so that the password is secure. I haven&#39;t really found any solutions using the spring-security framework, so I wanted to ask if it&#39;s even possible.","title":"How do I implement a pepper in Spring MVC","body":"<p>I was trying to make my Application secure, when I tought to myself that I should implement peppers, so that the password is secure. I haven't really found any solutions using the spring-security framework, so I wanted to ask if it's even possible.</p>\n"},{"tags":["java","server","udp","client","communication"],"comments":[{"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"score":0,"creation_date":1649521798,"post_id":71809846,"comment_id":126899169,"body_markdown":"Can&#39;t recreate. Tried\n        `String msg = &quot;18011d5651,0,348,1649520496736,5,0:1010,1;int d = Integer.parseInt(msg.split(&quot;,&quot;)[4]);System.out.println(d);` and it seems to work fine for me.","body":"Can&#39;t recreate. Tried         <code>String msg = &quot;18011d5651,0,348,1649520496736,5,0:1010,1;int d = Integer.parseInt(msg.split(&quot;,&quot;)[4]);System.out.println(d);</code> and it seems to work fine for me."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":3,"creation_date":1649521885,"post_id":71809846,"comment_id":126899186,"body_markdown":"Possibly there are some hidden/non-printable characters in that string. Try to log `msg.split(&quot;,&quot;)[4].length()`.","body":"Possibly there are some hidden/non-printable characters in that string. Try to log <code>msg.split(&quot;,&quot;)[4].length()</code>."},{"owner":{"account_id":15445755,"reputation":101,"user_id":11142761,"display_name":"Rami"},"score":0,"creation_date":1649522836,"post_id":71809846,"comment_id":126899386,"body_markdown":"len is : 835 :) which is extremely strange..","body":"len is : 835 :) which is extremely strange.."}],"answers":[{"tags":[],"owner":{"account_id":6269879,"reputation":168,"user_id":4874430,"display_name":"Isma"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649538485,"creation_date":1649523089,"answer_id":71810054,"question_id":71809846,"body_markdown":"Perhaps the problem is that server uses different charset enconding. You can try converting the charset to UTF-8:\r\n\r\n    \tint d = Integer.parseInt(StringUtils.newStringUtf8(StringUtils.getBytesUtf8(msg.split(&quot;,&quot;)[4])));\r\n\r\nYou should import StringUtils:\r\n\r\n      import org.apache.commons.codec.binary.StringUtils;","title":"java Integer.parseInt() acting weird","body":"<p>Perhaps the problem is that server uses different charset enconding. You can try converting the charset to UTF-8:</p>\n<pre><code>    int d = Integer.parseInt(StringUtils.newStringUtf8(StringUtils.getBytesUtf8(msg.split(&quot;,&quot;)[4])));\n</code></pre>\n<p>You should import StringUtils:</p>\n<pre><code>  import org.apache.commons.codec.binary.StringUtils;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15445755,"reputation":101,"user_id":11142761,"display_name":"Rami"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649584944,"creation_date":1649524078,"answer_id":71810198,"question_id":71809846,"body_markdown":"the problem was solved with \r\n```\r\n.replaceAll(&quot;\\0&quot;, &quot;&quot;)\r\n```\r\n\r\nI was sending the data from a client to a proxy to a server, so in the proxy, it was reading 1000 bytes, and of which are being appended to the last element &quot;5&quot; then the part that the proxy adds was appended (,0:1010,1) so there were 834 nulls. using the line above I replaced all the nulls in the message in the proxy before forwarding it to the server, then added the proxy part then sent it to the server and the processing was successful.\r\n\r\nanother way to tackle it is by removing the nulls from it on the server-side, but if the server buffer was 1000 bytes we&#39;ll have an issue too, cuz the proxy appended part wouldn&#39;t be delivered. I didn&#39;t realize why that was happening until I made the buffer in the server 1100 bytes.\r\n\r\nthe solution given that the buffer in the server is 1100 bytes is as follows \r\n\r\n``` \r\nString msg = &quot;18011d5651,0,348,1649520496736,5,0:1010,1&quot;.replaceAll(&quot;\\0&quot;, &quot;&quot;);\r\nint d = Integer.parseInt(msg.split(&quot;,&quot;)[4]); \r\n&gt; d = 5\r\n&gt; d.length() = 1\r\n```","title":"java Integer.parseInt() acting weird","body":"<p>the problem was solved with</p>\n<pre><code>.replaceAll(&quot;\\0&quot;, &quot;&quot;)\n</code></pre>\n<p>I was sending the data from a client to a proxy to a server, so in the proxy, it was reading 1000 bytes, and of which are being appended to the last element &quot;5&quot; then the part that the proxy adds was appended (,0:1010,1) so there were 834 nulls. using the line above I replaced all the nulls in the message in the proxy before forwarding it to the server, then added the proxy part then sent it to the server and the processing was successful.</p>\n<p>another way to tackle it is by removing the nulls from it on the server-side, but if the server buffer was 1000 bytes we'll have an issue too, cuz the proxy appended part wouldn't be delivered. I didn't realize why that was happening until I made the buffer in the server 1100 bytes.</p>\n<p>the solution given that the buffer in the server is 1100 bytes is as follows</p>\n<pre><code>String msg = &quot;18011d5651,0,348,1649520496736,5,0:1010,1&quot;.replaceAll(&quot;\\0&quot;, &quot;&quot;);\nint d = Integer.parseInt(msg.split(&quot;,&quot;)[4]); \n&gt; d = 5\n&gt; d.length() = 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649633018,"creation_date":1649592248,"answer_id":71816401,"question_id":71809846,"body_markdown":"So as per your self-answer, the problem was that you had lots of unexpected NUL characters (`&#39;\\000&#39;`) in the message string you were processing.\r\n\r\nYour solution was to just remove all of the NUK&#39;s with `replaceAll`. This is (IMO) suboptimal, and possibly incorrect.  There are two problems:\r\n\r\n  1.  You are still sending messages from your server that are bloated with meaningless NUL characters.  That *costs* network bandwidth.  It also *costs* CPU time on the client side, directly because of the extra data copying, the `replaceAll`, etc, and indirectly because you will be generating more garbage.\r\n\r\n  2.  Depending on how your server is implemented, it is possible that it is recycling its output buffer between successive messages without fully zeroing it.  If that is the case, and the messages don&#39;t always have the same length, then it is possible that there will **occasionally** be garbage characters in the string that are not NUL characters.\r\n\r\nRather than trying to fix this on the client side, I think you need to fix the server so that it doesn&#39;t send messages with garbage characters in them.\r\n\r\n-----------------\r\n\r\nPer your followup comments, the problem is on the receiving end.  You are receiving the data in datagrams, and the junk is due to receiving into a byte array that is larger than the datagram.\r\n\r\nIn that case, you have a bug in your receiving code.  The `DatagramPacket` class has a `getLength` method that returns the number of bytes of data actually received.  You should use that value (not the byte array size) where you are converting the bytes to a `String`; e.g. \r\n\r\n    String msg = new String(datagram.getData(), 0,\r\n                            datagram.getLength(), charset);","title":"java Integer.parseInt() acting weird","body":"<p>So as per your self-answer, the problem was that you had lots of unexpected NUL characters (<code>'\\000'</code>) in the message string you were processing.</p>\n<p>Your solution was to just remove all of the NUK's with <code>replaceAll</code>. This is (IMO) suboptimal, and possibly incorrect.  There are two problems:</p>\n<ol>\n<li><p>You are still sending messages from your server that are bloated with meaningless NUL characters.  That <em>costs</em> network bandwidth.  It also <em>costs</em> CPU time on the client side, directly because of the extra data copying, the <code>replaceAll</code>, etc, and indirectly because you will be generating more garbage.</p>\n</li>\n<li><p>Depending on how your server is implemented, it is possible that it is recycling its output buffer between successive messages without fully zeroing it.  If that is the case, and the messages don't always have the same length, then it is possible that there will <strong>occasionally</strong> be garbage characters in the string that are not NUL characters.</p>\n</li>\n</ol>\n<p>Rather than trying to fix this on the client side, I think you need to fix the server so that it doesn't send messages with garbage characters in them.</p>\n<hr />\n<p>Per your followup comments, the problem is on the receiving end.  You are receiving the data in datagrams, and the junk is due to receiving into a byte array that is larger than the datagram.</p>\n<p>In that case, you have a bug in your receiving code.  The <code>DatagramPacket</code> class has a <code>getLength</code> method that returns the number of bytes of data actually received.  You should use that value (not the byte array size) where you are converting the bytes to a <code>String</code>; e.g.</p>\n<pre><code>String msg = new String(datagram.getData(), 0,\n                        datagram.getLength(), charset);\n</code></pre>\n"}],"owner":{"account_id":15445755,"reputation":101,"user_id":11142761,"display_name":"Rami"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1649633018,"creation_date":1649521334,"question_id":71809846,"body_markdown":"So I&#39;ve been working on a server-client program where the client sends the server a string, the server splits that string to perform certain calculations.\r\n\r\n//message sample\r\n\r\n```\r\n18011d5651,0,348,1649520496736,5,0:1010,1\r\n```\r\nthen the message is stored in a string called msg\r\n\r\nwhen I try to run the following line on the server side:\r\n\r\n``` \r\nint d = Integer.parseInt(msg.split(&quot;,&quot;)[4]); \r\n```\r\n\r\nit returns an error as follows \r\n\r\n``` \r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;5&quot;\r\n  at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n  at java.lang.Integer.parseInt(Integer.java:580)\r\n  at java.lang.Integer.parseInt(Integer.java:615)\r\n  at test.test1.main(test1.java:54)\r\nC:\\Users\\xxxx\\AppData\\Local\\NetBeans\\Cache\\8.2\\executor-snippets\\run.xml:53: Java returned: 1\r\nBUILD FAILED (total time: 9 seconds) ```","title":"java Integer.parseInt() acting weird","body":"<p>So I've been working on a server-client program where the client sends the server a string, the server splits that string to perform certain calculations.</p>\n<p>//message sample</p>\n<pre><code>18011d5651,0,348,1649520496736,5,0:1010,1\n</code></pre>\n<p>then the message is stored in a string called msg</p>\n<p>when I try to run the following line on the server side:</p>\n<pre><code>int d = Integer.parseInt(msg.split(&quot;,&quot;)[4]); \n</code></pre>\n<p>it returns an error as follows</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;5&quot;\n  at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n  at java.lang.Integer.parseInt(Integer.java:580)\n  at java.lang.Integer.parseInt(Integer.java:615)\n  at test.test1.main(test1.java:54)\nC:\\Users\\xxxx\\AppData\\Local\\NetBeans\\Cache\\8.2\\executor-snippets\\run.xml:53: Java returned: 1\nBUILD FAILED (total time: 9 seconds) ```\n</code></pre>\n"},{"tags":["java","arrays","methods","java.util.scanner"],"comments":[{"owner":{"account_id":3465438,"reputation":2658,"user_id":2901129,"accept_rate":100,"display_name":"Basil Battikhi"},"score":1,"creation_date":1649632508,"post_id":71820496,"comment_id":126918399,"body_markdown":"Is it mandatory to use an array? \nyou can use arrayList if it is not a task.","body":"Is it mandatory to use an array?  you can use arrayList if it is not a task."},{"owner":{"account_id":24893754,"reputation":9,"user_id":18765296,"display_name":"Cristian"},"score":0,"creation_date":1649732961,"post_id":71820496,"comment_id":126945060,"body_markdown":"Yes it is mandatory.","body":"Yes it is mandatory."}],"answers":[{"tags":[],"owner":{"account_id":24520317,"reputation":103,"user_id":18433459,"display_name":"ilanfriedman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649631957,"creation_date":1649631957,"answer_id":71821207,"question_id":71820496,"body_markdown":"For starters, it will make your life a lot easier to not have to put the length in as an input. Just using arr.length will give you the same result without having to worry about another variable.\r\n\r\nYou have a good start for an insertion. A more efficient and less complex way to do it would be with multiple for-loop.\r\n\r\n```java\r\nint newArray[] = new int[arr.length + 1];\r\nfor (int i = 0; i &lt; p; i++) {\r\n    newArray[i] = arr[i];\r\n}\r\nnewArray[p] = ins;\r\nfor (int i = p + 1; i &lt; newArray.length; i++) {\r\n    newArray[i] = arr[i - 1];\r\n}\r\nreturn newArray;\r\n```\r\nLet me know if this doesn&#39;t do what you&#39;re looking for and I can modify it.\r\n\r\nP.S. If you are comfortable with changing more of your code you should look into using [Lists][1] instead. I&#39;d be happy to add a version with a list to my answer.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html","title":"Inserting an element at any position in array","body":"<p>For starters, it will make your life a lot easier to not have to put the length in as an input. Just using arr.length will give you the same result without having to worry about another variable.</p>\n<p>You have a good start for an insertion. A more efficient and less complex way to do it would be with multiple for-loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int newArray[] = new int[arr.length + 1];\nfor (int i = 0; i &lt; p; i++) {\n    newArray[i] = arr[i];\n}\nnewArray[p] = ins;\nfor (int i = p + 1; i &lt; newArray.length; i++) {\n    newArray[i] = arr[i - 1];\n}\nreturn newArray;\n</code></pre>\n<p>Let me know if this doesn't do what you're looking for and I can modify it.</p>\n<p>P.S. If you are comfortable with changing more of your code you should look into using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">Lists</a> instead. I'd be happy to add a version with a list to my answer.</p>\n"}],"owner":{"account_id":24893754,"reputation":9,"user_id":18765296,"display_name":"Cristian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649632540,"creation_date":1649624125,"question_id":71820496,"body_markdown":"I&#39;m relatively new to programming and some help would be appreciated. I&#39;m receiving the error message: array index out of bounds. \r\n\r\n    static int[] insert1(int z, int arr[], int ins, int p)\r\n    {\r\n        int i;\r\n\r\n\r\n        int newarray[] = new int [z + 1];\r\n\r\n        for (i = 0; i &lt; z + 1 ; i++) {\r\n            if (i &lt; p - 1 )\r\n                newarray[i] = arr[i];\r\n            else if (i == p - 1)\r\n                newarray[i] = ins;\r\n            else\r\n                newarray[i] = arr[i - 1];\r\n        }\r\n        return newarray;\r\n\r\n    }\r\n     public static void main(String[] args) {\r\n\r\n        int ins = 20;\r\n        int z = 5;\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n        int p = Integer.parseInt((scan.next()));\r\n\r\n        arr = insert1(a, arr, ins, p);\r\n\r\n        System.out.println(&quot;Insert Array:\\t&quot; + Arrays.toString(arr));\r\n\r\n     }\r\n    }\r\n","title":"Inserting an element at any position in array","body":"<p>I'm relatively new to programming and some help would be appreciated. I'm receiving the error message: array index out of bounds.</p>\n<pre><code>static int[] insert1(int z, int arr[], int ins, int p)\n{\n    int i;\n\n\n    int newarray[] = new int [z + 1];\n\n    for (i = 0; i &lt; z + 1 ; i++) {\n        if (i &lt; p - 1 )\n            newarray[i] = arr[i];\n        else if (i == p - 1)\n            newarray[i] = ins;\n        else\n            newarray[i] = arr[i - 1];\n    }\n    return newarray;\n\n}\n public static void main(String[] args) {\n\n    int ins = 20;\n    int z = 5;\n\n    Scanner scan = new Scanner(System.in);\n    int p = Integer.parseInt((scan.next()));\n\n    arr = insert1(a, arr, ins, p);\n\n    System.out.println(&quot;Insert Array:\\t&quot; + Arrays.toString(arr));\n\n }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8551,"page":1441,"page_size":100}
