{"items":[{"tags":["java","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1642128212,"post_id":70697637,"comment_id":124995379,"body_markdown":"When posting code, please be careful not to post uncompilable pseudo code. For example, your `WovenClass` is missing the `class` keyword and the `void` keyword for the setter method. The pointcut in the aspect annotation is not enclosed in double quotes. Please give your questions some more love in the future and make sure your problems are reproducible. Be advised to learn what an [MCVE](https://stackoverflow.com/help/mcve) is. Thank you very much.","body":"When posting code, please be careful not to post uncompilable pseudo code. For example, your <code>WovenClass</code> is missing the <code>class</code> keyword and the <code>void</code> keyword for the setter method. The pointcut in the aspect annotation is not enclosed in double quotes. Please give your questions some more love in the future and make sure your problems are reproducible. Be advised to learn what an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> is. Thank you very much."},{"owner":{"account_id":23587902,"reputation":53,"user_id":17697751,"display_name":"avenue68"},"score":0,"creation_date":1642208401,"post_id":70697637,"comment_id":125018064,"body_markdown":"Sorry for my mess, I fixed them.","body":"Sorry for my mess, I fixed them."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642575580,"creation_date":1642129437,"answer_id":70705582,"question_id":70697637,"body_markdown":"## Validation based on setter methods\r\n\r\nCurrently, you are intercepting field write access using a `set` poitcut. If you want to access annotations from setter methods, you need to use a pointcut which intercepts methods, such as `execution` and/or `@annotation`. Then it is easy to access the annotation.\r\n\r\nThe field write access `this.value= value` itself is not annotated and cannot be, because the JVM does not know annotations on individual lines of code. You could of course annotated the field and then fetch the annotation from the field, but I think the annotated setter method is a good way to do it. With the little bit of information you provided, this is hard to tell.\r\n\r\nBTW, the `set` pointcut would also intercept field write access from places other than annotated methods, which does not seem to be what you want.\r\n\r\nAnother problem in your code is that in an `@AfterReturning` advice, you cannot   stop the value to be validated to be assigned, because, as the pointcut name implies, the aspect fires _after_ the methods has already finished its job. You should either use a `@Before` pointcut, if you want to throw a validation exception in case of negative validation, or an `@Around` pointcut if you want to do something more sophisticated, such as setting a default value in case of negative validation. I am showing you the simple case in my [MCVE](https://stackoverflow.com/help/mcve):\r\n\r\n**Helper classes to make the example code compile:**\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class Group1 {}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class Group2 {}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface Validated {\r\n  Class&lt;?&gt;[] value();\r\n}\r\n```\r\n\r\n**Target class with setter to be validated and main method:**\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class WovenClass {\r\n  private int value;\r\n  private String name;\r\n\r\n  public void setName(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  @Validated({ Group1.class, Group2.class })\r\n  public void setField(int value) {\r\n    this.value= value;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    // Should not be intercepted (no validation annotation)\r\n    new WovenClass().setName(&quot;foo&quot;);\r\n    // Should yield positive validation\r\n    new WovenClass().setField(11);\r\n    // Should yield negative validation -&gt; exception\r\n    new WovenClass().setField(0);\r\n  }\r\n}\r\n```\r\n\r\n**Validation aspect:**\r\n\r\n```java\r\npackage de.scrum_master.aspect;\r\n\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\n\r\nimport de.scrum_master.app.Validated;\r\n\r\n@Aspect\r\npublic class ValidationAspect {\r\n  @Before(&quot;execution(* set*(*)) &amp;&amp; @annotation(validated) &amp;&amp; args(value)&quot;)\r\n  public void validate(JoinPoint jp, Object value, Validated validated) {\r\n    System.out.println(jp);\r\n    System.out.println(&quot;  validation rule: &quot; + validated);\r\n    System.out.println(&quot;  value to be set: &quot; + value);\r\n    // Some random condition in order to mimic a negative validation\r\n    if (value.equals(0))\r\n      throw new RuntimeException(&quot;field validation failed&quot;);\r\n  }\r\n}\r\n```\r\n\r\nPlease note the consituents of the pointcut and how the annotation and the method parameter are both conveniently bound to advice method values, which you can directly access without any reflection magic for annotation access or ugly calls like `jp.getArgs[0]`.\r\n\r\n**Console log:**\r\n\r\n```none\r\nexecution(void de.scrum_master.app.WovenClass.setField(int))\r\n  validation rule: @de.scrum_master.app.Validated(value={de.scrum_master.app.Group1.class, de.scrum_master.app.Group2.class})\r\n  value to be set: 11\r\nexecution(void de.scrum_master.app.WovenClass.setField(int))\r\n  validation rule: @de.scrum_master.app.Validated(value={de.scrum_master.app.Group1.class, de.scrum_master.app.Group2.class})\r\n  value to be set: 0\r\nException in thread &quot;main&quot; java.lang.RuntimeException: field validation failed\r\n\tat de.scrum_master.aspect.ValidationAspect.validate(ValidationAspect.aj:18)\r\n\tat de.scrum_master.app.WovenClass.setField(WovenClass.java:13)\r\n\tat de.scrum_master.app.WovenClass.main(WovenClass.java:22)\r\n```\r\n\r\n## Validation based on field write access\r\n\r\n**Update:** OK, now that we have established that for whatever reason you want to intercept field setters everywhere rather than only in annotated setter methods, using an `EnclosingStaticPart` advice parameter in order to get the calling method? But because chances are that some methods are not annotated with `@Validated` - e.g. `setName` in my example above - the advice gets triggered anyway. You have to search for the annotation via reflection and only perform validation when it is found.\r\n\r\nI also extended the aspect to also cover validation annotations on constructors and adjusted the main class in order to test that:\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class WovenClass {\r\n  private int value;\r\n  private String name;\r\n\r\n  public WovenClass() {\r\n  }\r\n\r\n  @Validated({ Group1.class, Group2.class })\r\n  public WovenClass(int value, String name) {\r\n    this.value = value;\r\n    this.name = name;\r\n  }\r\n\r\n  public void setName(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  @Validated({ Group1.class, Group2.class })\r\n  public void setField(int value) {\r\n    this.value = value;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    // Should not be intercepted (no validation annotation)\r\n    new WovenClass().setName(&quot;foo&quot;);\r\n    // Should yield positive validation\r\n    new WovenClass().setField(11);\r\n    // Should yield positive validation\r\n    new WovenClass(22, &quot;bar&quot;);\r\n    // Should yield negative validation -&gt; exception\r\n    try {\r\n      new WovenClass(0, &quot;zot&quot;);\r\n    } catch (RuntimeException e) {\r\n      System.out.println(&quot;  &quot; + e);\r\n    }\r\n    // Should yield negative validation -&gt; exception\r\n    try {\r\n      new WovenClass().setField(0);\r\n    } catch (RuntimeException e) {\r\n      System.out.println(&quot;  &quot; + e);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.aspect;\r\n\r\nimport java.lang.reflect.Executable;\r\n\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.JoinPoint.EnclosingStaticPart;\r\nimport org.aspectj.lang.Signature;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\nimport org.aspectj.lang.reflect.ConstructorSignature;\r\nimport org.aspectj.lang.reflect.MethodSignature;\r\n\r\nimport de.scrum_master.app.Validated;\r\n\r\n@Aspect\r\npublic class ValidationAspect {\r\n  @Before(&quot;set(* *) &amp;&amp; args(value)&quot;)\r\n  public void validateFieldSet(JoinPoint jp, EnclosingStaticPart enclosing, Object value) {\r\n    System.out.println(jp);\r\n    Signature signature = enclosing.getSignature();\r\n    boolean isMethod = signature instanceof MethodSignature;\r\n    System.out.println(&quot;  Enclosing &quot; + (isMethod ? &quot;method: &quot; : &quot;constructor: &quot;) + enclosing);\r\n\r\n    Executable executable = isMethod\r\n      ? ((MethodSignature) signature).getMethod()\r\n      : ((ConstructorSignature) signature).getConstructor();\r\n    Validated[] validatedAnnotations = executable.getDeclaredAnnotationsByType(Validated.class);\r\n    if (validatedAnnotations.length == 0)\r\n      System.out.println(&quot;  @Validated not found, skipping validation&quot;);\r\n\r\n    for (Validated validated : validatedAnnotations) {\r\n      System.out.println(&quot;  Validation rule:  &quot; + validated);\r\n      System.out.println(&quot;  Value to be set:  &quot; + value);\r\n      // Some random condition in order to mimic a negative validation\r\n      if (value.equals(0))\r\n        throw new RuntimeException(&quot;field validation failed&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe console log will change to:\r\n\r\n```none\r\nset(String de.scrum_master.app.WovenClass.name)\r\n  Enclosing method: execution(void de.scrum_master.app.WovenClass.setName(String))\r\n  @Validated not found, skipping validation\r\nset(int de.scrum_master.app.WovenClass.value)\r\n  Enclosing method: execution(void de.scrum_master.app.WovenClass.setField(int))\r\n  Validation rule:  @de.scrum_master.app.Validated(value={de.scrum_master.app.Group1.class, de.scrum_master.app.Group2.class})\r\n  Value to be set:  11\r\nset(int de.scrum_master.app.WovenClass.value)\r\n  Enclosing constructor: execution(de.scrum_master.app.WovenClass(int, String))\r\n  Validation rule:  @de.scrum_master.app.Validated(value={de.scrum_master.app.Group1.class, de.scrum_master.app.Group2.class})\r\n  Value to be set:  22\r\nset(String de.scrum_master.app.WovenClass.name)\r\n  Enclosing constructor: execution(de.scrum_master.app.WovenClass(int, String))\r\n  Validation rule:  @de.scrum_master.app.Validated(value={de.scrum_master.app.Group1.class, de.scrum_master.app.Group2.class})\r\n  Value to be set:  bar\r\nset(int de.scrum_master.app.WovenClass.value)\r\n  Enclosing constructor: execution(de.scrum_master.app.WovenClass(int, String))\r\n  Validation rule:  @de.scrum_master.app.Validated(value={de.scrum_master.app.Group1.class, de.scrum_master.app.Group2.class})\r\n  Value to be set:  0\r\n  java.lang.RuntimeException: field validation failed\r\nset(int de.scrum_master.app.WovenClass.value)\r\n  Enclosing method: execution(void de.scrum_master.app.WovenClass.setField(int))\r\n  Validation rule:  @de.scrum_master.app.Validated(value={de.scrum_master.app.Group1.class, de.scrum_master.app.Group2.class})\r\n  Value to be set:  0\r\n  java.lang.RuntimeException: field validation failed\r\n```\r\n\r\n#### Resources for `thisEnclosingJoinPointStaticPart` and `EnclosingStaticPart`\r\n\r\n&gt; How could I know existence of EnclosingStaticPart arg? I think I searched into AspectJ references kind of deeply though. It would be nice if you could provide me a reference or something about it.\r\n\r\n* The programming guide for native AspectJ syntax mentions the `thisEnclosingJoinPointStaticPart` variable in several places:\r\n \r\n  * https://www.eclipse.org/aspectj/doc/next/progguide/printable.html#language-thisJoinPoint\r\n  * https://www.eclipse.org/aspectj/doc/next/progguide/printable.html#quick-advice\r\n  * https://www.eclipse.org/aspectj/doc/next/progguide/printable.html#reflective-access-to-the-join-point\r\n\r\n* The developer&#39;s notebook for the annotation-based AspectJ syntax (more relevant for you) mentions `JoinPoint.EnclosingStaticPart`:\r\n\r\n  * https://www.eclipse.org/aspectj/doc/next/adk15notebook/printable.html#d0e3697\r\n  * https://www.eclipse.org/aspectj/doc/next/adk15notebook/printable.html#advice\r\n\r\n* The [Javadoc mentions it](https://www.eclipse.org/aspectj/doc/released/runtime-api/org/aspectj/lang/JoinPoint.EnclosingStaticPart.html), but does not explain anything (sorry!). So that is not a very good reference. But at least it exists.\r\n\r\n* If you are OK to buy a book, &quot;AspectJ in Action, 2nd edition&quot; by Ramnivas Laddad also mentions it in two or three places.","title":"Is it possible to get annotations of a method in advice related with field set pointcuts?","body":"<h2>Validation based on setter methods</h2>\n<p>Currently, you are intercepting field write access using a <code>set</code> poitcut. If you want to access annotations from setter methods, you need to use a pointcut which intercepts methods, such as <code>execution</code> and/or <code>@annotation</code>. Then it is easy to access the annotation.</p>\n<p>The field write access <code>this.value= value</code> itself is not annotated and cannot be, because the JVM does not know annotations on individual lines of code. You could of course annotated the field and then fetch the annotation from the field, but I think the annotated setter method is a good way to do it. With the little bit of information you provided, this is hard to tell.</p>\n<p>BTW, the <code>set</code> pointcut would also intercept field write access from places other than annotated methods, which does not seem to be what you want.</p>\n<p>Another problem in your code is that in an <code>@AfterReturning</code> advice, you cannot   stop the value to be validated to be assigned, because, as the pointcut name implies, the aspect fires <em>after</em> the methods has already finished its job. You should either use a <code>@Before</code> pointcut, if you want to throw a validation exception in case of negative validation, or an <code>@Around</code> pointcut if you want to do something more sophisticated, such as setting a default value in case of negative validation. I am showing you the simple case in my <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>:</p>\n<p><strong>Helper classes to make the example code compile:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Group1 {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Group2 {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\n\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Validated {\n  Class&lt;?&gt;[] value();\n}\n</code></pre>\n<p><strong>Target class with setter to be validated and main method:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class WovenClass {\n  private int value;\n  private String name;\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  @Validated({ Group1.class, Group2.class })\n  public void setField(int value) {\n    this.value= value;\n  }\n\n  public static void main(String[] args) {\n    // Should not be intercepted (no validation annotation)\n    new WovenClass().setName(&quot;foo&quot;);\n    // Should yield positive validation\n    new WovenClass().setField(11);\n    // Should yield negative validation -&gt; exception\n    new WovenClass().setField(0);\n  }\n}\n</code></pre>\n<p><strong>Validation aspect:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\n\nimport de.scrum_master.app.Validated;\n\n@Aspect\npublic class ValidationAspect {\n  @Before(&quot;execution(* set*(*)) &amp;&amp; @annotation(validated) &amp;&amp; args(value)&quot;)\n  public void validate(JoinPoint jp, Object value, Validated validated) {\n    System.out.println(jp);\n    System.out.println(&quot;  validation rule: &quot; + validated);\n    System.out.println(&quot;  value to be set: &quot; + value);\n    // Some random condition in order to mimic a negative validation\n    if (value.equals(0))\n      throw new RuntimeException(&quot;field validation failed&quot;);\n  }\n}\n</code></pre>\n<p>Please note the consituents of the pointcut and how the annotation and the method parameter are both conveniently bound to advice method values, which you can directly access without any reflection magic for annotation access or ugly calls like <code>jp.getArgs[0]</code>.</p>\n<p><strong>Console log:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>execution(void de.scrum_master.app.WovenClass.setField(int))\n  validation rule: @de.scrum_master.app.Validated(value={de.scrum_master.app.Group1.class, de.scrum_master.app.Group2.class})\n  value to be set: 11\nexecution(void de.scrum_master.app.WovenClass.setField(int))\n  validation rule: @de.scrum_master.app.Validated(value={de.scrum_master.app.Group1.class, de.scrum_master.app.Group2.class})\n  value to be set: 0\nException in thread &quot;main&quot; java.lang.RuntimeException: field validation failed\n    at de.scrum_master.aspect.ValidationAspect.validate(ValidationAspect.aj:18)\n    at de.scrum_master.app.WovenClass.setField(WovenClass.java:13)\n    at de.scrum_master.app.WovenClass.main(WovenClass.java:22)\n</code></pre>\n<h2>Validation based on field write access</h2>\n<p><strong>Update:</strong> OK, now that we have established that for whatever reason you want to intercept field setters everywhere rather than only in annotated setter methods, using an <code>EnclosingStaticPart</code> advice parameter in order to get the calling method? But because chances are that some methods are not annotated with <code>@Validated</code> - e.g. <code>setName</code> in my example above - the advice gets triggered anyway. You have to search for the annotation via reflection and only perform validation when it is found.</p>\n<p>I also extended the aspect to also cover validation annotations on constructors and adjusted the main class in order to test that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class WovenClass {\n  private int value;\n  private String name;\n\n  public WovenClass() {\n  }\n\n  @Validated({ Group1.class, Group2.class })\n  public WovenClass(int value, String name) {\n    this.value = value;\n    this.name = name;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  @Validated({ Group1.class, Group2.class })\n  public void setField(int value) {\n    this.value = value;\n  }\n\n  public static void main(String[] args) {\n    // Should not be intercepted (no validation annotation)\n    new WovenClass().setName(&quot;foo&quot;);\n    // Should yield positive validation\n    new WovenClass().setField(11);\n    // Should yield positive validation\n    new WovenClass(22, &quot;bar&quot;);\n    // Should yield negative validation -&gt; exception\n    try {\n      new WovenClass(0, &quot;zot&quot;);\n    } catch (RuntimeException e) {\n      System.out.println(&quot;  &quot; + e);\n    }\n    // Should yield negative validation -&gt; exception\n    try {\n      new WovenClass().setField(0);\n    } catch (RuntimeException e) {\n      System.out.println(&quot;  &quot; + e);\n    }\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport java.lang.reflect.Executable;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.JoinPoint.EnclosingStaticPart;\nimport org.aspectj.lang.Signature;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.aspectj.lang.reflect.ConstructorSignature;\nimport org.aspectj.lang.reflect.MethodSignature;\n\nimport de.scrum_master.app.Validated;\n\n@Aspect\npublic class ValidationAspect {\n  @Before(&quot;set(* *) &amp;&amp; args(value)&quot;)\n  public void validateFieldSet(JoinPoint jp, EnclosingStaticPart enclosing, Object value) {\n    System.out.println(jp);\n    Signature signature = enclosing.getSignature();\n    boolean isMethod = signature instanceof MethodSignature;\n    System.out.println(&quot;  Enclosing &quot; + (isMethod ? &quot;method: &quot; : &quot;constructor: &quot;) + enclosing);\n\n    Executable executable = isMethod\n      ? ((MethodSignature) signature).getMethod()\n      : ((ConstructorSignature) signature).getConstructor();\n    Validated[] validatedAnnotations = executable.getDeclaredAnnotationsByType(Validated.class);\n    if (validatedAnnotations.length == 0)\n      System.out.println(&quot;  @Validated not found, skipping validation&quot;);\n\n    for (Validated validated : validatedAnnotations) {\n      System.out.println(&quot;  Validation rule:  &quot; + validated);\n      System.out.println(&quot;  Value to be set:  &quot; + value);\n      // Some random condition in order to mimic a negative validation\n      if (value.equals(0))\n        throw new RuntimeException(&quot;field validation failed&quot;);\n    }\n  }\n}\n</code></pre>\n<p>The console log will change to:</p>\n<pre class=\"lang-none prettyprint-override\"><code>set(String de.scrum_master.app.WovenClass.name)\n  Enclosing method: execution(void de.scrum_master.app.WovenClass.setName(String))\n  @Validated not found, skipping validation\nset(int de.scrum_master.app.WovenClass.value)\n  Enclosing method: execution(void de.scrum_master.app.WovenClass.setField(int))\n  Validation rule:  @de.scrum_master.app.Validated(value={de.scrum_master.app.Group1.class, de.scrum_master.app.Group2.class})\n  Value to be set:  11\nset(int de.scrum_master.app.WovenClass.value)\n  Enclosing constructor: execution(de.scrum_master.app.WovenClass(int, String))\n  Validation rule:  @de.scrum_master.app.Validated(value={de.scrum_master.app.Group1.class, de.scrum_master.app.Group2.class})\n  Value to be set:  22\nset(String de.scrum_master.app.WovenClass.name)\n  Enclosing constructor: execution(de.scrum_master.app.WovenClass(int, String))\n  Validation rule:  @de.scrum_master.app.Validated(value={de.scrum_master.app.Group1.class, de.scrum_master.app.Group2.class})\n  Value to be set:  bar\nset(int de.scrum_master.app.WovenClass.value)\n  Enclosing constructor: execution(de.scrum_master.app.WovenClass(int, String))\n  Validation rule:  @de.scrum_master.app.Validated(value={de.scrum_master.app.Group1.class, de.scrum_master.app.Group2.class})\n  Value to be set:  0\n  java.lang.RuntimeException: field validation failed\nset(int de.scrum_master.app.WovenClass.value)\n  Enclosing method: execution(void de.scrum_master.app.WovenClass.setField(int))\n  Validation rule:  @de.scrum_master.app.Validated(value={de.scrum_master.app.Group1.class, de.scrum_master.app.Group2.class})\n  Value to be set:  0\n  java.lang.RuntimeException: field validation failed\n</code></pre>\n<h4>Resources for <code>thisEnclosingJoinPointStaticPart</code> and <code>EnclosingStaticPart</code></h4>\n<blockquote>\n<p>How could I know existence of EnclosingStaticPart arg? I think I searched into AspectJ references kind of deeply though. It would be nice if you could provide me a reference or something about it.</p>\n</blockquote>\n<ul>\n<li><p>The programming guide for native AspectJ syntax mentions the <code>thisEnclosingJoinPointStaticPart</code> variable in several places:</p>\n<ul>\n<li><a href=\"https://www.eclipse.org/aspectj/doc/next/progguide/printable.html#language-thisJoinPoint\" rel=\"nofollow noreferrer\">https://www.eclipse.org/aspectj/doc/next/progguide/printable.html#language-thisJoinPoint</a></li>\n<li><a href=\"https://www.eclipse.org/aspectj/doc/next/progguide/printable.html#quick-advice\" rel=\"nofollow noreferrer\">https://www.eclipse.org/aspectj/doc/next/progguide/printable.html#quick-advice</a></li>\n<li><a href=\"https://www.eclipse.org/aspectj/doc/next/progguide/printable.html#reflective-access-to-the-join-point\" rel=\"nofollow noreferrer\">https://www.eclipse.org/aspectj/doc/next/progguide/printable.html#reflective-access-to-the-join-point</a></li>\n</ul>\n</li>\n<li><p>The developer's notebook for the annotation-based AspectJ syntax (more relevant for you) mentions <code>JoinPoint.EnclosingStaticPart</code>:</p>\n<ul>\n<li><a href=\"https://www.eclipse.org/aspectj/doc/next/adk15notebook/printable.html#d0e3697\" rel=\"nofollow noreferrer\">https://www.eclipse.org/aspectj/doc/next/adk15notebook/printable.html#d0e3697</a></li>\n<li><a href=\"https://www.eclipse.org/aspectj/doc/next/adk15notebook/printable.html#advice\" rel=\"nofollow noreferrer\">https://www.eclipse.org/aspectj/doc/next/adk15notebook/printable.html#advice</a></li>\n</ul>\n</li>\n<li><p>The <a href=\"https://www.eclipse.org/aspectj/doc/released/runtime-api/org/aspectj/lang/JoinPoint.EnclosingStaticPart.html\" rel=\"nofollow noreferrer\">Javadoc mentions it</a>, but does not explain anything (sorry!). So that is not a very good reference. But at least it exists.</p>\n</li>\n<li><p>If you are OK to buy a book, &quot;AspectJ in Action, 2nd edition&quot; by Ramnivas Laddad also mentions it in two or three places.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":23587902,"reputation":53,"user_id":17697751,"display_name":"avenue68"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70705582,"answer_count":1,"score":0,"last_activity_date":1642575580,"creation_date":1642081533,"question_id":70697637,"body_markdown":"I have an Aspect whose advice is executed when fields are set. I want to get annotation objects of methods where the advice executed (=where fields are set). Is it possible?\r\n\r\n```java\r\npublic class WovenClass {\r\n\r\n  private int value;\r\n\r\n  @Validated({Group1.class, Group2.class})\r\n  public void setField(int value) {\r\n    this.value= value; // Advice should weave here and I want pass &#39;@Validated&#39; annotation to Advice.\r\n  }\r\n}\r\n\r\n@Aspect\r\npublic class MyAspect {\r\n\r\n  @AfterReturning(&quot;set(* *)&quot;)\r\n  public void intercept(JoinPoint jp) {\r\n    // I want to handle &#39;@Validated&#39; annotation here. \r\n  }\r\n}\r\n```\r\n\r\nAnd also want to know if the pointcut expression for all field set is correct or not. Sorry for the multiple questions.","title":"Is it possible to get annotations of a method in advice related with field set pointcuts?","body":"<p>I have an Aspect whose advice is executed when fields are set. I want to get annotation objects of methods where the advice executed (=where fields are set). Is it possible?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WovenClass {\n\n  private int value;\n\n  @Validated({Group1.class, Group2.class})\n  public void setField(int value) {\n    this.value= value; // Advice should weave here and I want pass '@Validated' annotation to Advice.\n  }\n}\n\n@Aspect\npublic class MyAspect {\n\n  @AfterReturning(&quot;set(* *)&quot;)\n  public void intercept(JoinPoint jp) {\n    // I want to handle '@Validated' annotation here. \n  }\n}\n</code></pre>\n<p>And also want to know if the pointcut expression for all field set is correct or not. Sorry for the multiple questions.</p>\n"},{"tags":["java","reflection","annotations"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1642589324,"post_id":70766437,"comment_id":125108849,"body_markdown":"There is no other way. But why are you using string operations instead of real type checks? Any why even semantically wrong `contains` instead of `equals`? Use `if(obj instanceof List)` and `if(obj instanceof Map)` for checking the object’s type. And use `List.class.isAssignableFrom(f.getType())` and `Map.class.isAssignableFrom(f.getType())` for checking the field’s type.","body":"There is no other way. But why are you using string operations instead of real type checks? Any why even semantically wrong <code>contains</code> instead of <code>equals</code>? Use <code>if(obj instanceof List)</code> and <code>if(obj instanceof Map)</code> for checking the object’s type. And use <code>List.class.isAssignableFrom(f.getType())</code> and <code>Map.class.isAssignableFrom(f.getType())</code> for checking the field’s type."},{"owner":{"account_id":22260550,"reputation":1,"user_id":16492031,"display_name":"drink more water"},"score":0,"creation_date":1642752867,"post_id":70766437,"comment_id":125160458,"body_markdown":"Thank you for your advice!  I will optimize it.","body":"Thank you for your advice!  I will optimize it."}],"owner":{"account_id":22260550,"reputation":1,"user_id":16492031,"display_name":"drink more water"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642575570,"creation_date":1642575570,"question_id":70766437,"body_markdown":"I customed a field annotation to annotate the field which I want to it multiplied by scale.\r\n\r\nI&#39;m wandering is there a better way to get annotated fields, instead of iterating over all the fields.\r\n\r\nIt&#39;s my code below:\r\n\r\ncustom annotation:\r\n\r\n```\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@interface ShowScale {\r\n    String scale();\r\n}\r\n```\r\nJava object (the map is the matter):\r\n```\r\nclass Vo {\r\n    @ShowScale(scale = &quot;0.8&quot;)\r\n    private BigDecimal member1 = BigDecimal.ZERO;\r\n    @ShowScale(scale = &quot;0.8&quot;)\r\n    private BigDecimal member2 = BigDecimal.ONE;\r\n    @ShowScale(scale = &quot;0.8&quot;)\r\n    private BigDecimal member3 = BigDecimal.TEN;\r\n\r\n    private String otherMember = &quot;leave me alone&quot;;\r\n\r\n    //this map is the matter...\r\n    private Map&lt;String, List&lt;InnerVo&gt;&gt; map;\r\n\r\n    public static class InnerVo {\r\n        @ShowScale(scale = &quot;0.8&quot;)\r\n        private BigDecimal innerMember1 = BigDecimal.ZERO;\r\n        @ShowScale(scale = &quot;0.8&quot;)\r\n        private BigDecimal innerMember2 = BigDecimal.ONE;\r\n        private String otherMember = &quot;leave me alone&quot;;\r\n\r\n        @Override\r\n        public String toString() {\r\n            return new ToStringBuilder(this)\r\n                    .append(&quot;innerMember1&quot;, innerMember1)\r\n                    .append(&quot;innerMember2&quot;, innerMember2)\r\n                    .append(&quot;otherMember&quot;, otherMember)\r\n                    .toString();\r\n        }\r\n    }\r\n\r\n    public Vo() {\r\n        HashMap&lt;String, List&lt;InnerVo&gt;&gt; map = new HashMap&lt;&gt;();\r\n        ArrayList&lt;InnerVo&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(new InnerVo());\r\n        list.add(new InnerVo());\r\n        list.add(new InnerVo());\r\n        ArrayList&lt;InnerVo&gt; list1 = new ArrayList&lt;&gt;();\r\n        list1.add(new InnerVo());\r\n        list1.add(new InnerVo());\r\n        list1.add(new InnerVo());\r\n        ArrayList&lt;InnerVo&gt; list2 = new ArrayList&lt;&gt;();\r\n        list2.add(new InnerVo());\r\n        list2.add(new InnerVo());\r\n        list2.add(new InnerVo());\r\n        map.put(&quot;key&quot;, list);\r\n        map.put(&quot;key1&quot;, list1);\r\n        map.put(&quot;key2&quot;, list2);\r\n        this.map = map;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return new ToStringBuilder(this)\r\n                .append(&quot;member1&quot;, member1)\r\n                .append(&quot;member2&quot;, member2)\r\n                .append(&quot;member3&quot;, member3)\r\n                .append(&quot;otherMember&quot;, otherMember)\r\n                .append(&quot;map&quot;, map)\r\n                .toString();\r\n    }\r\n}\r\n```\r\nMy implement:\r\n```\r\npublic class ClassTest {\r\n    public static void main(String[] args) throws Exception {\r\n        Vo vo = new Vo();\r\n        System.out.println(&quot;before-----&gt;：&quot; + vo);\r\n        handle(vo);\r\n        System.out.println(&quot;after-----&gt;：&quot; + vo);\r\n    }\r\n\r\n    /**\r\n     * All the fields (include in map and list) annotated by @ShowScale\r\n     * should be multiplied by scale.\r\n     *\r\n     * @param obj\r\n     */\r\n    private static &lt;T&gt; void handle(T obj) {\r\n        try {\r\n            Class&lt;?&gt; clz = obj.getClass();\r\n            String className = clz.getName();\r\n            System.out.println(&quot;\\n-------&gt; objType:&quot; + className);\r\n\r\n            if (className.contains(&quot;java.util.ArrayList&quot;)) {\r\n                for (Object o : (List) obj) {\r\n                    handle(o);\r\n                }\r\n            } else if (className.contains(&quot;java.util.Map&quot;)) {\r\n                Map map = (Map) obj;\r\n                map.forEach((key, value) -&gt; {\r\n                    System.out.println(key + &quot; ：&quot; + value);\r\n                    handle(value);\r\n                });\r\n            } else {\r\n                for (Field f : clz.getDeclaredFields()) {\r\n                    String typeName = f.getType().getTypeName();\r\n                    if (f.isAnnotationPresent(ShowScale.class)) {\r\n                        f.setAccessible(true);\r\n                        BigDecimal o = (BigDecimal) f.get(obj);\r\n                        System.out.println(&quot;o = &quot; + o);\r\n\r\n                        BigDecimal scale = new BigDecimal(f.getAnnotation(ShowScale.class).scale());\r\n                        f.set(obj, o.multiply(scale).setScale(2, RoundingMode.HALF_UP));\r\n\r\n                    } else if (typeName.contains(Map.class.getName())) {\r\n                        f.setAccessible(true);\r\n                        Map map = (Map) f.get(obj);\r\n                        map.forEach((key, value) -&gt; {\r\n                            System.out.println(key + &quot; ：&quot; + value);\r\n                            handle(value);\r\n                        });\r\n                    } else if (typeName.contains(List.class.getName())) {\r\n                        f.setAccessible(true);\r\n                        for (Object o : (List) f.get(obj)) {\r\n                            handle(o);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } catch (IllegalAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n thank you for any tips :)\r\n","title":"How to get all the fields which is annotated by my custom annotation?","body":"<p>I customed a field annotation to annotate the field which I want to it multiplied by scale.</p>\n<p>I'm wandering is there a better way to get annotated fields, instead of iterating over all the fields.</p>\n<p>It's my code below:</p>\n<p>custom annotation:</p>\n<pre><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@interface ShowScale {\n    String scale();\n}\n</code></pre>\n<p>Java object (the map is the matter):</p>\n<pre><code>class Vo {\n    @ShowScale(scale = &quot;0.8&quot;)\n    private BigDecimal member1 = BigDecimal.ZERO;\n    @ShowScale(scale = &quot;0.8&quot;)\n    private BigDecimal member2 = BigDecimal.ONE;\n    @ShowScale(scale = &quot;0.8&quot;)\n    private BigDecimal member3 = BigDecimal.TEN;\n\n    private String otherMember = &quot;leave me alone&quot;;\n\n    //this map is the matter...\n    private Map&lt;String, List&lt;InnerVo&gt;&gt; map;\n\n    public static class InnerVo {\n        @ShowScale(scale = &quot;0.8&quot;)\n        private BigDecimal innerMember1 = BigDecimal.ZERO;\n        @ShowScale(scale = &quot;0.8&quot;)\n        private BigDecimal innerMember2 = BigDecimal.ONE;\n        private String otherMember = &quot;leave me alone&quot;;\n\n        @Override\n        public String toString() {\n            return new ToStringBuilder(this)\n                    .append(&quot;innerMember1&quot;, innerMember1)\n                    .append(&quot;innerMember2&quot;, innerMember2)\n                    .append(&quot;otherMember&quot;, otherMember)\n                    .toString();\n        }\n    }\n\n    public Vo() {\n        HashMap&lt;String, List&lt;InnerVo&gt;&gt; map = new HashMap&lt;&gt;();\n        ArrayList&lt;InnerVo&gt; list = new ArrayList&lt;&gt;();\n        list.add(new InnerVo());\n        list.add(new InnerVo());\n        list.add(new InnerVo());\n        ArrayList&lt;InnerVo&gt; list1 = new ArrayList&lt;&gt;();\n        list1.add(new InnerVo());\n        list1.add(new InnerVo());\n        list1.add(new InnerVo());\n        ArrayList&lt;InnerVo&gt; list2 = new ArrayList&lt;&gt;();\n        list2.add(new InnerVo());\n        list2.add(new InnerVo());\n        list2.add(new InnerVo());\n        map.put(&quot;key&quot;, list);\n        map.put(&quot;key1&quot;, list1);\n        map.put(&quot;key2&quot;, list2);\n        this.map = map;\n    }\n\n    @Override\n    public String toString() {\n        return new ToStringBuilder(this)\n                .append(&quot;member1&quot;, member1)\n                .append(&quot;member2&quot;, member2)\n                .append(&quot;member3&quot;, member3)\n                .append(&quot;otherMember&quot;, otherMember)\n                .append(&quot;map&quot;, map)\n                .toString();\n    }\n}\n</code></pre>\n<p>My implement:</p>\n<pre><code>public class ClassTest {\n    public static void main(String[] args) throws Exception {\n        Vo vo = new Vo();\n        System.out.println(&quot;before-----&gt;：&quot; + vo);\n        handle(vo);\n        System.out.println(&quot;after-----&gt;：&quot; + vo);\n    }\n\n    /**\n     * All the fields (include in map and list) annotated by @ShowScale\n     * should be multiplied by scale.\n     *\n     * @param obj\n     */\n    private static &lt;T&gt; void handle(T obj) {\n        try {\n            Class&lt;?&gt; clz = obj.getClass();\n            String className = clz.getName();\n            System.out.println(&quot;\\n-------&gt; objType:&quot; + className);\n\n            if (className.contains(&quot;java.util.ArrayList&quot;)) {\n                for (Object o : (List) obj) {\n                    handle(o);\n                }\n            } else if (className.contains(&quot;java.util.Map&quot;)) {\n                Map map = (Map) obj;\n                map.forEach((key, value) -&gt; {\n                    System.out.println(key + &quot; ：&quot; + value);\n                    handle(value);\n                });\n            } else {\n                for (Field f : clz.getDeclaredFields()) {\n                    String typeName = f.getType().getTypeName();\n                    if (f.isAnnotationPresent(ShowScale.class)) {\n                        f.setAccessible(true);\n                        BigDecimal o = (BigDecimal) f.get(obj);\n                        System.out.println(&quot;o = &quot; + o);\n\n                        BigDecimal scale = new BigDecimal(f.getAnnotation(ShowScale.class).scale());\n                        f.set(obj, o.multiply(scale).setScale(2, RoundingMode.HALF_UP));\n\n                    } else if (typeName.contains(Map.class.getName())) {\n                        f.setAccessible(true);\n                        Map map = (Map) f.get(obj);\n                        map.forEach((key, value) -&gt; {\n                            System.out.println(key + &quot; ：&quot; + value);\n                            handle(value);\n                        });\n                    } else if (typeName.contains(List.class.getName())) {\n                        f.setAccessible(true);\n                        for (Object o : (List) f.get(obj)) {\n                            handle(o);\n                        }\n                    }\n                }\n            }\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>thank you for any tips :)</p>\n"},{"tags":["java","jvm"],"answers":[{"tags":[],"owner":{"account_id":322175,"reputation":14732,"user_id":641451,"accept_rate":42,"display_name":"mgarciaisaia"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1353741502,"creation_date":1353741502,"answer_id":13539197,"question_id":13539132,"body_markdown":"For isolating execution contexts.\r\n\r\nIf one of the processes hangs, or fails, or it&#39;s security is compromised, the others don&#39;t get affected.\r\n\r\nI think having separate runtimes also helps GC, because it has less references to handle than if it was altogether.\r\n\r\nBesides, why would you run them all in one JVM?","title":"Why have one JVM per application?","body":"<p>For isolating execution contexts.</p>\n\n<p>If one of the processes hangs, or fails, or it's security is compromised, the others don't get affected.</p>\n\n<p>I think having separate runtimes also helps GC, because it has less references to handle than if it was altogether.</p>\n\n<p>Besides, why would you run them all in one JVM?</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1642575440,"creation_date":1353741519,"answer_id":13539199,"question_id":13539132,"body_markdown":"(I assume you are talking about applications launched via a `public static void main(String[])` method ...)\r\n\r\nIn theory you can run multiple applications in a JVM.  In practice, they can interfere with each other in various ways.  For example:\r\n\r\n  - The JVM has one set of `System.in/out/err`, one default encoding, one default locale, one set of system properties, and so on.  If one application changes these, it affects all applications.\r\n  - Any application that calls `System.exit()` will effectively kill all applications.\r\n  - If one application goes wild, and consumes too much CPU or memory it will affect the other applications too.\r\n\r\nIn short, there are lots of problems.  People have tried hard to make this work, but they have never really succeeded.  One example is the [Echidna][1] library, though that project has been quiet for ~10 years.  [JNode][2] is another example, though they (actually we) &quot;cheated&quot; by hacking core Java classes (like `java.lang.System`) so that each application got what appeared to be independent versions of `System.in/out/err`, the System properties and so on&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\n&lt;sup&gt;1 - This (&quot;proclets&quot;) was supposed to be an interim hack, pending a proper solution using true &quot;isolates&quot;.  But isolates support stalled, primarily because the JNode architecture used a single address space with no obvious way to separate &quot;system&quot; and &quot;user&quot; stuff.  So while we could create APIs that matched the isolate APIs, key isolate functionality (like cleanly killing an isolate) was virtually impossible to implement.  Or at least, that was/is my view.&lt;/sup&gt;\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/echidna/\r\n  [2]: http://jnode.org","title":"Why have one JVM per application?","body":"<p>(I assume you are talking about applications launched via a <code>public static void main(String[])</code> method ...)</p>\n<p>In theory you can run multiple applications in a JVM.  In practice, they can interfere with each other in various ways.  For example:</p>\n<ul>\n<li>The JVM has one set of <code>System.in/out/err</code>, one default encoding, one default locale, one set of system properties, and so on.  If one application changes these, it affects all applications.</li>\n<li>Any application that calls <code>System.exit()</code> will effectively kill all applications.</li>\n<li>If one application goes wild, and consumes too much CPU or memory it will affect the other applications too.</li>\n</ul>\n<p>In short, there are lots of problems.  People have tried hard to make this work, but they have never really succeeded.  One example is the <a href=\"http://sourceforge.net/projects/echidna/\" rel=\"nofollow noreferrer\">Echidna</a> library, though that project has been quiet for ~10 years.  <a href=\"http://jnode.org\" rel=\"nofollow noreferrer\">JNode</a> is another example, though they (actually we) &quot;cheated&quot; by hacking core Java classes (like <code>java.lang.System</code>) so that each application got what appeared to be independent versions of <code>System.in/out/err</code>, the System properties and so on<sup>1</sup>.</p>\n<p><sup>1 - This (&quot;proclets&quot;) was supposed to be an interim hack, pending a proper solution using true &quot;isolates&quot;.  But isolates support stalled, primarily because the JNode architecture used a single address space with no obvious way to separate &quot;system&quot; and &quot;user&quot; stuff.  So while we could create APIs that matched the isolate APIs, key isolate functionality (like cleanly killing an isolate) was virtually impossible to implement.  Or at least, that was/is my view.</sup></p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353741613,"creation_date":1353741613,"answer_id":13539209,"question_id":13539132,"body_markdown":"Java Application Servers, like JBoss, are design to run many applications in one JVM","title":"Why have one JVM per application?","body":"<p>Java Application Servers, like JBoss, are design to run many applications in one JVM</p>\n"},{"tags":[],"owner":{"account_id":1496697,"reputation":8191,"user_id":1402453,"display_name":"Alexey Ragozin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1353742342,"creation_date":1353742342,"answer_id":13539292,"question_id":13539132,"body_markdown":"Reason to have one JVM pre application, basically same having OS process per application.\r\nHere are few reasons why to have a process per application.\r\n\r\n - Application bug will not bring down / corrupt data in other applications sharing same process.\r\n - System resources are accounted per process hence per application.\r\n - Terminating process will automatically release all associated resources (application may not clean up for itself, so sharing processes may produce resource leaks).\r\n\r\nWell some applications such a Chrome go even further creating multiple processes to isolate different tabs and plugins.\r\n\r\nSpeaking of Java there are few more reasons not to share JVM.\r\n\r\n - Heap space maintenance penalty is higher with large heap size. Multiple smaller independent heaps easier to manage.\r\n - It is fairly hard to unload &quot;application&quot; in JVM (there to many subtle reasons for it to stay in memory even if it is not running).\r\n - JVM have a lot of tuning option which you may want to tailor for an application.\r\n\r\nThough there are several cases there JVM is actually shared between application:\r\n\r\n - Application servers and servlet containers (e.g. Tomcat). Server side Java specs are designed with shared server JVM and dynamic loading/unloading applications in mind.\r\n - There few attempts to create shared JVM utility for CLI applications (e.g. [nailgun][1])\r\n\r\nBut in practice, even in server side java, it usually better to use JVM (or several) per applications, for reasons mentioned above.\r\n\r\n  [1]: http://www.martiansoftware.com/nailgun/","title":"Why have one JVM per application?","body":"<p>Reason to have one JVM pre application, basically same having OS process per application.\nHere are few reasons why to have a process per application.</p>\n\n<ul>\n<li>Application bug will not bring down / corrupt data in other applications sharing same process.</li>\n<li>System resources are accounted per process hence per application.</li>\n<li>Terminating process will automatically release all associated resources (application may not clean up for itself, so sharing processes may produce resource leaks).</li>\n</ul>\n\n<p>Well some applications such a Chrome go even further creating multiple processes to isolate different tabs and plugins.</p>\n\n<p>Speaking of Java there are few more reasons not to share JVM.</p>\n\n<ul>\n<li>Heap space maintenance penalty is higher with large heap size. Multiple smaller independent heaps easier to manage.</li>\n<li>It is fairly hard to unload \"application\" in JVM (there to many subtle reasons for it to stay in memory even if it is not running).</li>\n<li>JVM have a lot of tuning option which you may want to tailor for an application.</li>\n</ul>\n\n<p>Though there are several cases there JVM is actually shared between application:</p>\n\n<ul>\n<li>Application servers and servlet containers (e.g. Tomcat). Server side Java specs are designed with shared server JVM and dynamic loading/unloading applications in mind.</li>\n<li>There few attempts to create shared JVM utility for CLI applications (e.g. <a href=\"http://www.martiansoftware.com/nailgun/\" rel=\"noreferrer\">nailgun</a>)</li>\n</ul>\n\n<p>But in practice, even in server side java, it usually better to use JVM (or several) per applications, for reasons mentioned above.</p>\n"}],"owner":{"account_id":1979323,"reputation":3583,"user_id":1776310,"accept_rate":76,"display_name":"Apple Grinder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13012,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":13539199,"answer_count":4,"score":13,"last_activity_date":1642575440,"creation_date":1353740767,"question_id":13539132,"body_markdown":"I read that each application runs in its own JVM. Why is it so ? Why don&#39;t they make one JVM run 2 or more apps ?\r\n\r\nI read a SO post, but could not get the answers there.\r\nhttps://stackoverflow.com/questions/5947207/one-jvm-per-java-application\r\n\r\n&lt;EDIT&gt; \r\nI am talking about applications launched via a public static void main(String[]) method ...)\r\n","title":"Why have one JVM per application?","body":"<p>I read that each application runs in its own JVM. Why is it so ? Why don't they make one JVM run 2 or more apps ?</p>\n\n<p>I read a SO post, but could not get the answers there.\n<a href=\"https://stackoverflow.com/questions/5947207/one-jvm-per-java-application\">Is there one JVM per Java application?</a></p>\n\n<p> \nI am talking about applications launched via a public static void main(String[]) method ...)</p>\n"},{"tags":["java","spring","security","http","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":1320282,"reputation":85,"user_id":1266268,"accept_rate":50,"display_name":"Petey22uk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331657536,"creation_date":1331657536,"answer_id":9688429,"question_id":9688065,"body_markdown":"When you use Spring to request a mapping of that type (i.e. &quot;/anything&quot;) Spring actually maps your controller to several URLs:\r\n\r\n/welcome&lt;br&gt;\r\n/welcome.*&lt;br&gt;\r\n/welcome/&lt;br&gt;\r\n\r\nTo prevent this - either be more specific when you RequestMapping (i.e. /welcome.htm ), or manually map the URL to controller in your Xml config:\r\n\r\n    &lt;bean class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\r\n            &lt;property name=&quot;mappings&quot;&gt;\r\n                &lt;props&gt;\r\n                    &lt;prop key=&quot;/welcome&quot;&gt;YourControllerBean&lt;/prop&gt;\r\n                &lt;/props&gt;\r\n            &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n&lt;br&gt;\r\n\r\nCheers, Pete","title":"Spring MVC application filtering HTML in URL - Is this a security issue?","body":"<p>When you use Spring to request a mapping of that type (i.e. \"/anything\") Spring actually maps your controller to several URLs:</p>\n\n<p>/welcome<br>\n/welcome.*<br>\n/welcome/<br></p>\n\n<p>To prevent this - either be more specific when you RequestMapping (i.e. /welcome.htm ), or manually map the URL to controller in your Xml config:</p>\n\n<pre><code>&lt;bean class=\"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping\"&gt;\n        &lt;property name=\"mappings\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"/welcome\"&gt;YourControllerBean&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p><br></p>\n\n<p>Cheers, Pete</p>\n"},{"tags":[],"owner":{"account_id":82253,"reputation":12905,"user_id":231417,"accept_rate":54,"display_name":"tbruyelle"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1401277169,"creation_date":1331658529,"answer_id":9688702,"question_id":9688065,"body_markdown":"This behavior is due to the option `useSuffixPatternMatch` which is true by default inside the `RequestMappingHandlerMapping` (I assume you use Spring MVC 3.1).\r\n\r\n&gt;**useSuffixPatternMatch :**\r\n&gt;Whether to use suffix pattern match (&quot;.\\*&quot;) when matching patterns to requests. If enabled a method mapped to &quot;/users&quot; also matches to &quot;/users.\\*&quot;. The default value is &quot;true&quot;.\r\n\r\nTo set `useSuffixPatternMatch` to *false*, the easiest way is to use `@Configuration` :\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class Api extends WebMvcConfigurationSupport {\r\n    \r\n        @Override\r\n        public RequestMappingHandlerMapping requestMappingHandlerMapping() {\r\n            RequestMappingHandlerMapping mapping = super.requestMappingHandlerMapping();\r\n            mapping.setUseSuffixPatternMatch(false);\r\n            return mapping;\r\n        }\r\n    \r\n    }","title":"Spring MVC application filtering HTML in URL - Is this a security issue?","body":"<p>This behavior is due to the option <code>useSuffixPatternMatch</code> which is true by default inside the <code>RequestMappingHandlerMapping</code> (I assume you use Spring MVC 3.1).</p>\n\n<blockquote>\n  <p><strong>useSuffixPatternMatch :</strong>\n  Whether to use suffix pattern match (\".*\") when matching patterns to requests. If enabled a method mapped to \"/users\" also matches to \"/users.*\". The default value is \"true\".</p>\n</blockquote>\n\n<p>To set <code>useSuffixPatternMatch</code> to <em>false</em>, the easiest way is to use <code>@Configuration</code> :</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class Api extends WebMvcConfigurationSupport {\n\n    @Override\n    public RequestMappingHandlerMapping requestMappingHandlerMapping() {\n        RequestMappingHandlerMapping mapping = super.requestMappingHandlerMapping();\n        mapping.setUseSuffixPatternMatch(false);\n        return mapping;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1252478,"reputation":1866,"user_id":1212605,"display_name":"raddykrish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331660222,"creation_date":1331660222,"answer_id":9689122,"question_id":9688065,"body_markdown":"You can also restrict this in the web.xml by mentioning the url pattern. Instead of giving &quot;/*&quot;, you can mention &quot;/*.htm&quot; in your web.xml.\r\n\r\nSomething like \r\n\r\n    &lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/application/*.htm&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n","title":"Spring MVC application filtering HTML in URL - Is this a security issue?","body":"<p>You can also restrict this in the web.xml by mentioning the url pattern. Instead of giving \"/<em>\", you can mention \"/</em>.htm\" in your web.xml.</p>\n\n<p>Something like </p>\n\n<pre><code>&lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/application/*.htm&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":259140,"reputation":837,"user_id":541805,"accept_rate":80,"display_name":"saurzcode"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338833788,"creation_date":1338833788,"answer_id":10886108,"question_id":9688065,"body_markdown":"You can use the [useDefaultSuffixPattern][1] property.\r\n\r\n    &lt;bean class=&quot;org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping&quot;&gt;\r\n        &lt;property name=&quot;useDefaultSuffixPattern&quot; value=&quot;false&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/servlet/mvc/annotation/DefaultAnnotationHandlerMapping.html#setUseDefaultSuffixPattern%28boolean%29\r\n\r\n\r\nAlso refer https://stackoverflow.com/questions/10883192/url-pattern-restricting-in-spring-mvc","title":"Spring MVC application filtering HTML in URL - Is this a security issue?","body":"<p>You can use the <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/servlet/mvc/annotation/DefaultAnnotationHandlerMapping.html#setUseDefaultSuffixPattern%28boolean%29\" rel=\"nofollow noreferrer\">useDefaultSuffixPattern</a> property.</p>\n\n<pre><code>&lt;bean class=\"org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping\"&gt;\n    &lt;property name=\"useDefaultSuffixPattern\" value=\"false\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Also refer <a href=\"https://stackoverflow.com/questions/10883192/url-pattern-restricting-in-spring-mvc\">URL Pattern Restricting in SPRING MVC</a></p>\n"},{"tags":[],"owner":{"account_id":4190090,"reputation":93,"user_id":3432913,"display_name":"Heikki S&#228;rkk&#228;"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1504169064,"creation_date":1504169064,"answer_id":45977092,"question_id":9688065,"body_markdown":"In current Spring Java config, there is a slightly easier way to configure the same thing:\r\n\r\n    @Configuration\r\n    public class DispatcherConfig extends WebMvcConfigurationSupport {\r\n\r\n        @Override\r\n        protected void configurePathMatch(PathMatchConfigurer configurer) {\r\n            configurer.setUseSuffixPatternMatch(false);\r\n        }\r\n\r\n    }\r\n","title":"Spring MVC application filtering HTML in URL - Is this a security issue?","body":"<p>In current Spring Java config, there is a slightly easier way to configure the same thing:</p>\n\n<pre><code>@Configuration\npublic class DispatcherConfig extends WebMvcConfigurationSupport {\n\n    @Override\n    protected void configurePathMatch(PathMatchConfigurer configurer) {\n        configurer.setUseSuffixPatternMatch(false);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6950939,"reputation":422,"user_id":5333592,"display_name":"Olavi Vaino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642575368,"creation_date":1642575368,"answer_id":70766409,"question_id":9688065,"body_markdown":"Starting from Spring framework 5.3 useDefaultSuffixPattern is deprecated and turned off by default. Spring upgrade notes, [section &quot;Use of Path Extensions Deprecated in Spring MVC&quot;][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#upgrading-to-version-53","title":"Spring MVC application filtering HTML in URL - Is this a security issue?","body":"<p>Starting from Spring framework 5.3 useDefaultSuffixPattern is deprecated and turned off by default. Spring upgrade notes, <a href=\"https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#upgrading-to-version-53\" rel=\"nofollow noreferrer\">section &quot;Use of Path Extensions Deprecated in Spring MVC&quot;</a></p>\n"}],"owner":{"account_id":484049,"reputation":1034,"user_id":899488,"accept_rate":72,"display_name":"Raghav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6351,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":9688702,"answer_count":6,"score":12,"last_activity_date":1642575368,"creation_date":1331656245,"question_id":9688065,"body_markdown":"My existing Spring Web MVC application has the following handler mapping in the Controller.\r\n\r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;/welcome&quot;)\r\n\r\n\r\nI trigger the following request`http://www.example.com/welcome`and this works fine.\r\n\r\nThe problem is\r\n\r\n    http://www.example.com/welcome.check.blah \r\n\r\nalso works!!!\r\n\r\nAlso, a HTTP GET request URL to the application with script tag is getting redisplayed though it fails the authorization.\r\n\r\nExample `http://www.example.com/welcome&lt;script&gt;alert(&quot;hi&quot;)&lt;/script&gt;` gets redisplayed as such in the browser window and as a result of my authorization logic &quot;Not authorized&quot; message is displayed.\r\n\r\nI wonder if this is a security issue and should I need do any encoding/filtering in the code?\r\n\r\n \r\n\r\n","title":"Spring MVC application filtering HTML in URL - Is this a security issue?","body":"<p>My existing Spring Web MVC application has the following handler mapping in the Controller.</p>\n\n<pre><code>    @RequestMapping(method = RequestMethod.GET, value = \"/welcome\")\n</code></pre>\n\n<p>I trigger the following request<code>http://www.example.com/welcome</code>and this works fine.</p>\n\n<p>The problem is</p>\n\n<pre><code>http://www.example.com/welcome.check.blah \n</code></pre>\n\n<p>also works!!!</p>\n\n<p>Also, a HTTP GET request URL to the application with script tag is getting redisplayed though it fails the authorization.</p>\n\n<p>Example <code>http://www.example.com/welcome&lt;script&gt;alert(\"hi\")&lt;/script&gt;</code> gets redisplayed as such in the browser window and as a result of my authorization logic \"Not authorized\" message is displayed.</p>\n\n<p>I wonder if this is a security issue and should I need do any encoding/filtering in the code?</p>\n"},{"tags":["java","android","android-fragments","visible","fragment-backstack"],"comments":[{"owner":{"account_id":6850340,"reputation":6801,"user_id":6021469,"accept_rate":29,"display_name":"Shweta Chauhan"},"score":0,"creation_date":1501148599,"post_id":45346825,"comment_id":77655194,"body_markdown":"In short, you want to change toolbar title according to fragment right?","body":"In short, you want to change toolbar title according to fragment right?"},{"owner":{"account_id":6850340,"reputation":6801,"user_id":6021469,"accept_rate":29,"display_name":"Shweta Chauhan"},"score":0,"creation_date":1501149128,"post_id":45346825,"comment_id":77655558,"body_markdown":"check this : https://stackoverflow.com/a/33123356/6021469","body":"check this : <a href=\"https://stackoverflow.com/a/33123356/6021469\">stackoverflow.com/a/33123356/6021469</a>"}],"answers":[{"tags":[],"owner":{"account_id":7143350,"reputation":3880,"user_id":5460066,"display_name":"phatnhse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501149053,"creation_date":1501149053,"answer_id":45347205,"question_id":45346825,"body_markdown":"This function let you know if the fragment is visible or not\r\n\r\n    \r\n\r\n    @Override\r\n    public void setUserVisibleHint(boolean isVisibleToUser) {\r\n        super.setUserVisibleHint(isVisibleToUser);\r\n        if (isVisibleToUser) {\r\n            // Handle when fragment is visible\r\n        } else {\r\n            // And not\r\n        }\r\n    }\r\n\r\nBut in your use-case, if you using `ViewPager` or `Tab`, you can get your title easily by this \r\n\r\n    \r\n        viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\r\n            @Override\r\n            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\r\n                \r\n            }\r\n\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                yourFragmentPagerAdapter.getTitle(position);\r\n            }\r\n\r\n            @Override\r\n            public void onPageScrollStateChanged(int state) {\r\n\r\n            }\r\n        });","title":"How to know if any fragment is active or visible?","body":"<p>This function let you know if the fragment is visible or not</p>\n\n<pre><code>@Override\npublic void setUserVisibleHint(boolean isVisibleToUser) {\n    super.setUserVisibleHint(isVisibleToUser);\n    if (isVisibleToUser) {\n        // Handle when fragment is visible\n    } else {\n        // And not\n    }\n}\n</code></pre>\n\n<p>But in your use-case, if you using <code>ViewPager</code> or <code>Tab</code>, you can get your title easily by this </p>\n\n<pre><code>    viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n        @Override\n        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n\n        }\n\n        @Override\n        public void onPageSelected(int position) {\n            yourFragmentPagerAdapter.getTitle(position);\n        }\n\n        @Override\n        public void onPageScrollStateChanged(int state) {\n\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4180095,"reputation":2767,"user_id":3425390,"accept_rate":100,"display_name":"Akash Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1501151446,"creation_date":1501149204,"answer_id":45347270,"question_id":45346825,"body_markdown":"If you want to change title of toolbar in activity for different fragments than use `interface`.\r\n\r\nCreate interface :\r\n\r\n    public interface OnFragmentTitleChangeListener {\r\n        void onFragmentTitle(String strTitle);\r\n    }\r\n\r\nImplement this interface in your activity\r\n\r\n    public class YourActivity extends AppCompatActivity implements OnFragmentTitleChangeListener\r\n    {\r\n      TextView title;\r\n      ......\r\n      ......\r\n      // Initialize title in onCreate method\r\n      ......\r\n      ......\r\n      // Override this method\r\n      public void onFragmentTitle(String strTitle) \r\n      {\r\n          title.setText(strTitle);\r\n      }\r\n\r\n      @Override\r\n      public void onBackPressed() {\r\n        FragmentManager fm = getSupportFragmentManager();\r\n\r\n        if (onBack(fm)) {\r\n            return;\r\n        }\r\n        super.onBackPressed();\r\n      }\r\n\r\n      private boolean onBack(FragmentManager fm) {\r\n         if (fm != null) {\r\n            if (fm.getBackStackEntryCount() &gt; 0) {\r\n                fm.popBackStack();\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n\r\nAfter that set text from fragment&#39;s onResume method.\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        ((OnFragmentTitleChangeListener) mContext).onFragmentTitle(getResources().getString(R.string.yourtext));\r\n    }","title":"How to know if any fragment is active or visible?","body":"<p>If you want to change title of toolbar in activity for different fragments than use <code>interface</code>.</p>\n\n<p>Create interface :</p>\n\n<pre><code>public interface OnFragmentTitleChangeListener {\n    void onFragmentTitle(String strTitle);\n}\n</code></pre>\n\n<p>Implement this interface in your activity</p>\n\n<pre><code>public class YourActivity extends AppCompatActivity implements OnFragmentTitleChangeListener\n{\n  TextView title;\n  ......\n  ......\n  // Initialize title in onCreate method\n  ......\n  ......\n  // Override this method\n  public void onFragmentTitle(String strTitle) \n  {\n      title.setText(strTitle);\n  }\n\n  @Override\n  public void onBackPressed() {\n    FragmentManager fm = getSupportFragmentManager();\n\n    if (onBack(fm)) {\n        return;\n    }\n    super.onBackPressed();\n  }\n\n  private boolean onBack(FragmentManager fm) {\n     if (fm != null) {\n        if (fm.getBackStackEntryCount() &gt; 0) {\n            fm.popBackStack();\n            return true;\n        }\n    }\n    return false;\n  }\n}\n</code></pre>\n\n<p>After that set text from fragment's onResume method.</p>\n\n<pre><code>@Override\npublic void onResume() {\n    super.onResume();\n    ((OnFragmentTitleChangeListener) mContext).onFragmentTitle(getResources().getString(R.string.yourtext));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23984531,"reputation":1,"user_id":17971504,"display_name":"user17971504"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642574768,"creation_date":1642574768,"answer_id":70766299,"question_id":45346825,"body_markdown":"use navigation graph for fragment navigations. By doing so simply you can get fragments label by calling navController.currentDestination.label","title":"How to know if any fragment is active or visible?","body":"<p>use navigation graph for fragment navigations. By doing so simply you can get fragments label by calling navController.currentDestination.label</p>\n"}],"owner":{"account_id":7733383,"reputation":2830,"user_id":5855723,"accept_rate":62,"display_name":"Sid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4152,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45347270,"answer_count":3,"score":3,"last_activity_date":1642574768,"creation_date":1501148136,"question_id":45346825,"body_markdown":"I have three fragments A,B and c in one activity, activity has a toolbar with test view title.\r\n\r\nNow as I navigate from fragment to fragment I want to change the text of text view depending on which fragment is shown.\r\n\r\nFor this in fragment B and C I am getting the toolbar of main activity and the text view and changing its title like this:\r\n\r\n            final Toolbar toolbar = (Toolbar) ((MainActivity) getActivity()).findViewById(R.id.toolbar);\r\n        ((MainActivity) getActivity()).setSupportActionBar(toolbar);\r\n\r\n        TextView title = (TextView) getActivity().findViewById(R.id.textView_Title);\r\n        title.setVisibility(View.VISIBLE);\r\n        title.setText(R.string.profile);\r\n\r\nThis works fine. But when I go back to main fragment I want to change the title again but its not getting change.\r\n\r\nI tried to set it in onCreate method of main activity, and like this:\r\n\r\n     @Override\r\n    public void onBackPressed() {\r\n\r\n\r\n        DashboardFragment test = (DashboardFragment) getSupportFragmentManager().findFragmentByTag(&quot;DASHBOARD_FRAGMENT&quot;);\r\n        if (test != null &amp;&amp; test.isVisible()) {\r\n            //DO STUFF\r\n\r\n            title = (TextView) findViewById(R.id.textView_Title);\r\n            title.setVisibility(View.VISIBLE);\r\n            title.setText(R.string.dashboardTitle);\r\n        }\r\n        else {\r\n            //Whatever\r\n        }\r\n        // Do nothing if the back button is disabled.\r\n        if (!mBackPressCancelled) {\r\n\r\n            if (getFragmentManager().getBackStackEntryCount() &gt; 0) {\r\n                getFragmentManager().popBackStackImmediate();\r\n            }\r\n            else {\r\n\r\n                super.onBackPressed();\r\n\r\n            }\r\n        }\r\n    }\r\n\r\nBut with this it changes its title to main fragments title even B fragment is visible.\r\n\r\nHow can I do this. Please help. Thank you.\r\n\r\nEDIT:\r\n\r\nMainFragment :\r\n\r\n            fragmentManager = getSupportFragmentManager();\r\n        DashboardFragment fragment1 = new DashboardFragment();\r\n        Bundle bundle = new Bundle();\r\n        fragment1.setArguments(bundle);\r\n        fragmentManager.popBackStack(null,FragmentManager.POP_BACK_STACK_INCLUSIVE);\r\n        fragmentManager.beginTransaction().replace(R.id.frame, fragment1, &quot;DASHBOARD_FRAGMENT&quot;).commitAllowingStateLoss();\r\n\r\n\r\nA fragment:\r\n\r\n    \r\n                    fragmentManager = ((MainActivity)(mContext)).getSupportFragmentManager();\r\n                    ProfileFragment fragment1 = new ProfileFragment();\r\n                    Bundle bundle = new Bundle();\r\n                    fragment1.setArguments(bundle);           \r\n                    fragmentManager.beginTransaction().add(R.id.frame, fragment1, &quot;PROFILE_FRAGMENT&quot;).addToBackStack(&quot;B&quot;).commit();\r\n\r\nB fragment\r\n\r\n           fragmentManager = getActivity().getSupportFragmentManager();\r\n                ProfileEditFragment fragment1 = new ProfileEditFragment();\r\n                Bundle bundle = new Bundle();\r\n                fragment1.setArguments(bundle);       \r\n                fragmentManager.beginTransaction().add(R.id.frame, fragment1, &quot;PROFILE_EDIT_FRAGMENT&quot;).addToBackStack(&quot;C&quot;).commit();","title":"How to know if any fragment is active or visible?","body":"<p>I have three fragments A,B and c in one activity, activity has a toolbar with test view title.</p>\n\n<p>Now as I navigate from fragment to fragment I want to change the text of text view depending on which fragment is shown.</p>\n\n<p>For this in fragment B and C I am getting the toolbar of main activity and the text view and changing its title like this:</p>\n\n<pre><code>        final Toolbar toolbar = (Toolbar) ((MainActivity) getActivity()).findViewById(R.id.toolbar);\n    ((MainActivity) getActivity()).setSupportActionBar(toolbar);\n\n    TextView title = (TextView) getActivity().findViewById(R.id.textView_Title);\n    title.setVisibility(View.VISIBLE);\n    title.setText(R.string.profile);\n</code></pre>\n\n<p>This works fine. But when I go back to main fragment I want to change the title again but its not getting change.</p>\n\n<p>I tried to set it in onCreate method of main activity, and like this:</p>\n\n<pre><code> @Override\npublic void onBackPressed() {\n\n\n    DashboardFragment test = (DashboardFragment) getSupportFragmentManager().findFragmentByTag(\"DASHBOARD_FRAGMENT\");\n    if (test != null &amp;&amp; test.isVisible()) {\n        //DO STUFF\n\n        title = (TextView) findViewById(R.id.textView_Title);\n        title.setVisibility(View.VISIBLE);\n        title.setText(R.string.dashboardTitle);\n    }\n    else {\n        //Whatever\n    }\n    // Do nothing if the back button is disabled.\n    if (!mBackPressCancelled) {\n\n        if (getFragmentManager().getBackStackEntryCount() &gt; 0) {\n            getFragmentManager().popBackStackImmediate();\n        }\n        else {\n\n            super.onBackPressed();\n\n        }\n    }\n}\n</code></pre>\n\n<p>But with this it changes its title to main fragments title even B fragment is visible.</p>\n\n<p>How can I do this. Please help. Thank you.</p>\n\n<p>EDIT:</p>\n\n<p>MainFragment :</p>\n\n<pre><code>        fragmentManager = getSupportFragmentManager();\n    DashboardFragment fragment1 = new DashboardFragment();\n    Bundle bundle = new Bundle();\n    fragment1.setArguments(bundle);\n    fragmentManager.popBackStack(null,FragmentManager.POP_BACK_STACK_INCLUSIVE);\n    fragmentManager.beginTransaction().replace(R.id.frame, fragment1, \"DASHBOARD_FRAGMENT\").commitAllowingStateLoss();\n</code></pre>\n\n<p>A fragment:</p>\n\n<pre><code>                fragmentManager = ((MainActivity)(mContext)).getSupportFragmentManager();\n                ProfileFragment fragment1 = new ProfileFragment();\n                Bundle bundle = new Bundle();\n                fragment1.setArguments(bundle);           \n                fragmentManager.beginTransaction().add(R.id.frame, fragment1, \"PROFILE_FRAGMENT\").addToBackStack(\"B\").commit();\n</code></pre>\n\n<p>B fragment</p>\n\n<pre><code>       fragmentManager = getActivity().getSupportFragmentManager();\n            ProfileEditFragment fragment1 = new ProfileEditFragment();\n            Bundle bundle = new Bundle();\n            fragment1.setArguments(bundle);       \n            fragmentManager.beginTransaction().add(R.id.frame, fragment1, \"PROFILE_EDIT_FRAGMENT\").addToBackStack(\"C\").commit();\n</code></pre>\n"},{"tags":["java","oop","constructor","default-constructor"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1642570124,"post_id":70765681,"comment_id":125102769,"body_markdown":"One reason: Some frameworks, such as Hibernate, require an explicit default constructor.","body":"One reason: Some frameworks, such as Hibernate, require an explicit default constructor."},{"owner":{"account_id":16452068,"reputation":1085,"user_id":11885241,"display_name":"Ofek"},"score":0,"creation_date":1642570217,"post_id":70765681,"comment_id":125102786,"body_markdown":"Also, if you want more than one constructor, one with no parameters and let say one with two. if you just write the one with two, you wont get the one without parameters, so you need to write it too.","body":"Also, if you want more than one constructor, one with no parameters and let say one with two. if you just write the one with two, you wont get the one without parameters, so you need to write it too."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1642570243,"post_id":70765681,"comment_id":125102792,"body_markdown":"Once you create a constructor which takes parameters, you will no longer have a default constructor, so you will need to define a no-args constructor explicitly, if one is required.","body":"Once you create a constructor which takes parameters, you will no longer have a default constructor, so you will need to define a no-args constructor explicitly, if one is required."},{"owner":{"account_id":16452068,"reputation":1085,"user_id":11885241,"display_name":"Ofek"},"score":0,"creation_date":1642570313,"post_id":70765681,"comment_id":125102799,"body_markdown":"The entire idea of default constructor is to help you reduce the amount of code you write. sometimes you don&#39;t even need a constructor, like main classes.","body":"The entire idea of default constructor is to help you reduce the amount of code you write. sometimes you don&#39;t even need a constructor, like main classes."}],"answers":[{"tags":[],"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642571059,"creation_date":1642571059,"answer_id":70765788,"question_id":70765681,"body_markdown":"Constructors are basically used for making objects. As far as variable initialization is concerned, when you initialize a variable (instance variable), you change the variable which is a member of the object you just created. You will understand it better by the example given below (your eg itself):\r\n\r\n    public class Restaurant {\r\n       String name;\r\n       int rating;\r\n       public Restaurant() {\r\n           name = &quot;No name&quot;;\r\n           rating = -1;\r\n       }\r\n    }\r\n\r\nNow suppose you create an object,\r\n\r\n    Restaurant obj = new Restaurant();\r\n\r\nHere, `obj.name = &quot;No name&quot;` and `obj.rating=-1`. Note that `name` and `obj.name` are different. Now when you use the first code given by you,\r\n\r\n    public class Restaurant {\r\n        String name = &quot;No name&quot;;\r\n        int Rating = -1;\r\n    }\r\n\r\nNow whichever object you create, variable `name` of every object will contain `&quot;No name&quot;` only. \r\n\r\nThus, when you have to work with objects, you should initialize the instance variable through constructors. By the way, instance itself means object...","title":"What&#39;s the point of a default constructor in OOP?","body":"<p>Constructors are basically used for making objects. As far as variable initialization is concerned, when you initialize a variable (instance variable), you change the variable which is a member of the object you just created. You will understand it better by the example given below (your eg itself):</p>\n<pre><code>public class Restaurant {\n   String name;\n   int rating;\n   public Restaurant() {\n       name = &quot;No name&quot;;\n       rating = -1;\n   }\n}\n</code></pre>\n<p>Now suppose you create an object,</p>\n<pre><code>Restaurant obj = new Restaurant();\n</code></pre>\n<p>Here, <code>obj.name = &quot;No name&quot;</code> and <code>obj.rating=-1</code>. Note that <code>name</code> and <code>obj.name</code> are different. Now when you use the first code given by you,</p>\n<pre><code>public class Restaurant {\n    String name = &quot;No name&quot;;\n    int Rating = -1;\n}\n</code></pre>\n<p>Now whichever object you create, variable <code>name</code> of every object will contain <code>&quot;No name&quot;</code> only.</p>\n<p>Thus, when you have to work with objects, you should initialize the instance variable through constructors. By the way, instance itself means object...</p>\n"},{"tags":[],"owner":{"account_id":17822090,"reputation":371,"user_id":12944233,"display_name":"Hitesh A. Bosamiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642573091,"creation_date":1642573091,"answer_id":70766048,"question_id":70765681,"body_markdown":"When your variable initialization is based on some logic, you need to write some code and for that purpose default constructor is required. Java provides another approach called initializer blocks and you will be able to do the same but the consistency is the key. The constructors are for object construction let it handle the construction from code readability and maintainability perspective.","title":"What&#39;s the point of a default constructor in OOP?","body":"<p>When your variable initialization is based on some logic, you need to write some code and for that purpose default constructor is required. Java provides another approach called initializer blocks and you will be able to do the same but the consistency is the key. The constructors are for object construction let it handle the construction from code readability and maintainability perspective.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642574633,"creation_date":1642574633,"answer_id":70766276,"question_id":70765681,"body_markdown":"IMHO the default constructor is not a requirement of OOP. This is more of a requirement of Java: each class must have at least one constructor. This is underlined by the [JLS: 8.8.9 Default Constructors](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8.9):\r\n\r\n&gt; If a class contains no constructor declarations, then a default constructor is implicitly declared.\r\n\r\nIf your class contains at least one constructor declaration (as in your second example) the default constructor is not generated.\r\n\r\n----\r\nNote that when you write\r\n\r\n    public class Restaurant {\r\n        String name = &quot;No name&quot;;\r\n        int Rating = -1;\r\n    }\r\n\r\nthe field initializers `name = &quot;No name&quot;;` and `Rating = -1;` are executed as part of the constructor ([JLS 12.5 Creation of New Class Instances](https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.5)):\r\n\r\n&gt; Just before a reference to the newly created object is returned as the result, the indicated constructor is processed to initialize the new object using the following procedure:\r\n&gt;\r\n&gt; 1. Assign the arguments for the constructor to newly created parameter variables for this constructor invocation.\r\n&gt;\r\n&gt; 2. If this constructor begins with an explicit constructor invocation (&#167;8.8.7.1) of another constructor in the same class (using this), then evaluate the arguments and process that constructor invocation recursively using these same five steps. If that constructor invocation completes abruptly, then this procedure completes abruptly for the same reason; otherwise, continue with step 5.\r\n&gt;\r\n&gt; 3. This constructor does not begin with an explicit constructor invocation of another constructor in the same class (using this). If this constructor is for a class other than Object, then this constructor will begin with an explicit or implicit invocation of a superclass constructor (using super). Evaluate the arguments and process that superclass constructor invocation recursively using these same five steps. If that constructor invocation completes abruptly, then this procedure completes abruptly for the same reason. Otherwise, continue with step 4.\r\n&gt;\r\n&gt; 4. **Execute the instance initializers and instance variable initializers** for this class, assigning the values of instance variable initializers to the corresponding instance variables, in the left-to-right order in which they appear textually in the source code for the class. If execution of any of these initializers results in an exception, then no further initializers are processed and this procedure completes abruptly with that same exception. Otherwise, continue with step 5.\r\n&gt; \r\n&gt; 5. Execute the rest of the body of this constructor. If that execution completes abruptly, then this procedure completes abruptly for the same reason. Otherwise, this procedure completes normally.\r\n\r\nThis initialization code is added to every constructor - whether it is the default constructor or any constructor that you write.","title":"What&#39;s the point of a default constructor in OOP?","body":"<p>IMHO the default constructor is not a requirement of OOP. This is more of a requirement of Java: each class must have at least one constructor. This is underlined by the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8.9\" rel=\"nofollow noreferrer\">JLS: 8.8.9 Default Constructors</a>:</p>\n<blockquote>\n<p>If a class contains no constructor declarations, then a default constructor is implicitly declared.</p>\n</blockquote>\n<p>If your class contains at least one constructor declaration (as in your second example) the default constructor is not generated.</p>\n<hr />\n<p>Note that when you write</p>\n<pre><code>public class Restaurant {\n    String name = &quot;No name&quot;;\n    int Rating = -1;\n}\n</code></pre>\n<p>the field initializers <code>name = &quot;No name&quot;;</code> and <code>Rating = -1;</code> are executed as part of the constructor (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.5\" rel=\"nofollow noreferrer\">JLS 12.5 Creation of New Class Instances</a>):</p>\n<blockquote>\n<p>Just before a reference to the newly created object is returned as the result, the indicated constructor is processed to initialize the new object using the following procedure:</p>\n<ol>\n<li><p>Assign the arguments for the constructor to newly created parameter variables for this constructor invocation.</p>\n</li>\n<li><p>If this constructor begins with an explicit constructor invocation (§8.8.7.1) of another constructor in the same class (using this), then evaluate the arguments and process that constructor invocation recursively using these same five steps. If that constructor invocation completes abruptly, then this procedure completes abruptly for the same reason; otherwise, continue with step 5.</p>\n</li>\n<li><p>This constructor does not begin with an explicit constructor invocation of another constructor in the same class (using this). If this constructor is for a class other than Object, then this constructor will begin with an explicit or implicit invocation of a superclass constructor (using super). Evaluate the arguments and process that superclass constructor invocation recursively using these same five steps. If that constructor invocation completes abruptly, then this procedure completes abruptly for the same reason. Otherwise, continue with step 4.</p>\n</li>\n<li><p><strong>Execute the instance initializers and instance variable initializers</strong> for this class, assigning the values of instance variable initializers to the corresponding instance variables, in the left-to-right order in which they appear textually in the source code for the class. If execution of any of these initializers results in an exception, then no further initializers are processed and this procedure completes abruptly with that same exception. Otherwise, continue with step 5.</p>\n</li>\n<li><p>Execute the rest of the body of this constructor. If that execution completes abruptly, then this procedure completes abruptly for the same reason. Otherwise, this procedure completes normally.</p>\n</li>\n</ol>\n</blockquote>\n<p>This initialization code is added to every constructor - whether it is the default constructor or any constructor that you write.</p>\n"}],"owner":{"account_id":23291904,"reputation":21,"user_id":17970915,"display_name":"Allen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1642574633,"creation_date":1642569969,"question_id":70765681,"body_markdown":"I&#39;m relatively new/inexperienced when it comes to computer science. I was wondering what the point of having a default constructor is when you can just declare any fields you want in your class and initialize them with whatever default value you want them to have. Then, you can write overloaded constructors. \r\n\r\nTo get an idea of what I&#39;m talking about, here&#39;s an example.\r\n\r\n    public class Restaurant {\r\n          String name = &quot;No name&quot;;\r\n          int Rating = -1;\r\n    }\r\n\r\nversus \r\n\r\n    public class Restaurant {\r\n         String name;\r\n         int rating;\r\n         public Restaurant() {\r\n               name = &quot;No name&quot;;\r\n               rating = -1;\r\n         }\r\n               \r\n\r\n    ","title":"What&#39;s the point of a default constructor in OOP?","body":"<p>I'm relatively new/inexperienced when it comes to computer science. I was wondering what the point of having a default constructor is when you can just declare any fields you want in your class and initialize them with whatever default value you want them to have. Then, you can write overloaded constructors.</p>\n<p>To get an idea of what I'm talking about, here's an example.</p>\n<pre><code>public class Restaurant {\n      String name = &quot;No name&quot;;\n      int Rating = -1;\n}\n</code></pre>\n<p>versus</p>\n<pre><code>public class Restaurant {\n     String name;\n     int rating;\n     public Restaurant() {\n           name = &quot;No name&quot;;\n           rating = -1;\n     }\n           \n</code></pre>\n"},{"tags":["java","sql","spring"],"comments":[{"owner":{"account_id":7932983,"reputation":1434,"user_id":5990117,"display_name":"Petr Aleksandrov"},"score":0,"creation_date":1642540299,"post_id":70762354,"comment_id":125096992,"body_markdown":"The problem is double quotes in the insert. It should be &#39;FLTO&#39; not &quot;FLTO&quot;.  import.sql has NO double quotes, right? Any ideas where the double quotes come from?","body":"The problem is double quotes in the insert. It should be &#39;FLTO&#39; not &quot;FLTO&quot;.  import.sql has NO double quotes, right? Any ideas where the double quotes come from?"}],"answers":[{"tags":[],"owner":{"account_id":18090628,"reputation":1,"user_id":13150237,"display_name":"Edir Lucas Icety"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642556089,"creation_date":1642555167,"answer_id":70764274,"question_id":70762354,"body_markdown":"H2 db uses the same syntax as Mysql under the covers. As already said, H2/Mysql does not accept double quotes. Looking at your import.sql file it seems to be all right. However, your console shows double quotes for the column values.\r\n\r\nTry to check if your script.sql is not running before hibernate creates the tables. This would cause an error.\r\n\r\nYou can try putting this in your configuration class:\r\n\r\n    spring.jpa.defer-datasource-initialization=true\r\n\r\nThis will make Hibernate create the tables before your script values ​​are entered.","title":"Hibernate exception inserting into database at startup","body":"<p>H2 db uses the same syntax as Mysql under the covers. As already said, H2/Mysql does not accept double quotes. Looking at your import.sql file it seems to be all right. However, your console shows double quotes for the column values.</p>\n<p>Try to check if your script.sql is not running before hibernate creates the tables. This would cause an error.</p>\n<p>You can try putting this in your configuration class:</p>\n<pre><code>spring.jpa.defer-datasource-initialization=true\n</code></pre>\n<p>This will make Hibernate create the tables before your script values ​​are entered.</p>\n"},{"tags":[],"owner":{"account_id":20871433,"reputation":81,"user_id":15331281,"display_name":"coding_stark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642573981,"creation_date":1642572645,"answer_id":70765984,"question_id":70762354,"body_markdown":"Add the below code to your application.properties file and check because hibernate may not be detecting your queries as MySQL queries(native queries).\r\n\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\nAlso, if you see values in the query in the first line of your error stack trace, they are inside double-quotes. Do something so that values come in single quotes because using double quotes for values is a bad practice. Backticks are only used for table and column names so use backticks around table and column names and use double quotes for surrounding queries.\r\n","title":"Hibernate exception inserting into database at startup","body":"<p>Add the below code to your application.properties file and check because hibernate may not be detecting your queries as MySQL queries(native queries).</p>\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p>Also, if you see values in the query in the first line of your error stack trace, they are inside double-quotes. Do something so that values come in single quotes because using double quotes for values is a bad practice. Backticks are only used for table and column names so use backticks around table and column names and use double quotes for surrounding queries.</p>\n"}],"owner":{"account_id":13124959,"reputation":1077,"user_id":9481249,"display_name":"Silent Tree"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642573981,"creation_date":1642539905,"question_id":70762354,"body_markdown":"I am currently learning Spring from the book &quot;Spring in Action&quot;. I want to insert data into my H2 database when starting the server. Since it doesn&#39;t work like in the book, I follow [this][1] guide. The tables are created, but no data in it. \r\n\r\nThis is the error I receive: \r\n\r\n```\r\n2022-01-18 21:52:01.361  WARN 44885 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;insert into Ingredient (id, name, type) values (&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, &quot;WRAP&quot;)&quot; via JDBC Statement\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;insert into Ingredient (id, name, type) values (&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, &quot;WRAP&quot;)&quot; via JDBC Statement\r\n        at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:514) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:183) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:164) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:81) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n        at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n        at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.14.jar:5.3.14]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.14.jar:5.3.14]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.14.jar:5.3.14]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.14.jar:5.3.14]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.14.jar:5.3.14]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.14.jar:5.3.14]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.14.jar:5.3.14]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.14.jar:5.3.14]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.14.jar:5.3.14]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.14.jar:5.3.14]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.14.jar:5.3.14]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.2.jar:2.6.2]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.2.jar:2.6.2]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.2.jar:2.6.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.2.jar:2.6.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.2.jar:2.6.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.2.jar:2.6.2]\r\n        at com.example.tacocloud.TacoCloudApplication.main(TacoCloudApplication.java:10) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.2.jar:2.6.2]\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;FLTO&quot; not found; SQL statement:\r\ninsert into Ingredient (id, name, type) values (&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, &quot;WRAP&quot;) [42122-200]\r\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:453) ~[h2-1.4.200.jar:1.4.200]\r\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\r\n        at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]\r\n        at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]\r\n        at org.h2.expression.ExpressionColumn.getColumnException(ExpressionColumn.java:163) ~[h2-1.4.200.jar:1.4.200]\r\n        at org.h2.expression.ExpressionColumn.optimize(ExpressionColumn.java:145) ~[h2-1.4.200.jar:1.4.200]\r\n        at org.h2.command.dml.Insert.prepare(Insert.java:327) ~[h2-1.4.200.jar:1.4.200]\r\n        at org.h2.command.Parser.prepareCommand(Parser.java:744) ~[h2-1.4.200.jar:1.4.200]\r\n        at org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\r\n        at org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\r\n        at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\r\n        at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\r\n        at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\r\n        at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n        at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n        at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n        ... 38 common frames omitted\r\n\r\n```\r\n\r\nMy import.sql looks like the following: \r\n```\r\ndelete from Taco_Order_Tacos;\r\ndelete from Taco_Ingredients;\r\ndelete from Taco;\r\ndelete from Taco_Order;\r\n\r\ndelete from Ingredient;\r\ninsert into Ingredient (id, name, type) values (&#39;FLTO&#39;, &#39;Flour Tortilla&#39;, &#39;WRAP&#39;);\r\ninsert into Ingredient (id, name, type) values (&#39;COTO&#39;, &#39;Corn Tortilla&#39;, &#39;WRAP&#39;);\r\ninsert into Ingredient (id, name, type) values (&#39;GRBF&#39;, &#39;Ground Beef&#39;, &#39;PROTEIN&#39;);\r\ninsert into Ingredient (id, name, type) values (&#39;CARN&#39;, &#39;Carnitas&#39;, &#39;PROTEIN&#39;);\r\ninsert into Ingredient (id, name, type) values (&#39;TMTO&#39;, &#39;Diced Tomatoes&#39;, &#39;VEGGIES&#39;);\r\ninsert into Ingredient (id, name, type) values (&#39;LETC&#39;, &#39;Lettuce&#39;, &#39;VEGGIES&#39;);\r\ninsert into Ingredient (id, name, type) values (&#39;CHED&#39;, &#39;Cheddar&#39;, &#39;CHEESE&#39;);\r\ninsert into Ingredient (id, name, type) values (&#39;JACK&#39;, &#39;Monterrey Jack&#39;, &#39;CHEESE&#39;);\r\ninsert into Ingredient (id, name, type) values (&#39;SLSA&#39;, &#39;Salsa&#39;, &#39;SAUCE&#39;);\r\ninsert into Ingredient (id, name, type) values (&#39;SRCR&#39;, &#39;Sour Cream&#39;, &#39;SAUCE&#39;);\r\n```\r\n\r\nThe Ingredient class has: \r\n```\r\nprivate final String id;\r\nprivate final String name;\r\nprivate final Type type; // an enum: WRAP, SAUCE, ...\r\n```\r\n\r\nThank you for your help!\r\n\r\n  [1]: https://javabydeveloper.com/spring-boot-loading-initial-data/","title":"Hibernate exception inserting into database at startup","body":"<p>I am currently learning Spring from the book &quot;Spring in Action&quot;. I want to insert data into my H2 database when starting the server. Since it doesn't work like in the book, I follow <a href=\"https://javabydeveloper.com/spring-boot-loading-initial-data/\" rel=\"nofollow noreferrer\">this</a> guide. The tables are created, but no data in it.</p>\n<p>This is the error I receive:</p>\n<pre><code>2022-01-18 21:52:01.361  WARN 44885 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;insert into Ingredient (id, name, type) values (&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, &quot;WRAP&quot;)&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;insert into Ingredient (id, name, type) values (&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, &quot;WRAP&quot;)&quot; via JDBC Statement\n        at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:514) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:183) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:164) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:81) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n        at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n        at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.14.jar:5.3.14]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.14.jar:5.3.14]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.14.jar:5.3.14]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.14.jar:5.3.14]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.14.jar:5.3.14]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.14.jar:5.3.14]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.14.jar:5.3.14]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.14.jar:5.3.14]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.14.jar:5.3.14]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.14.jar:5.3.14]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.14.jar:5.3.14]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.2.jar:2.6.2]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.2.jar:2.6.2]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.2.jar:2.6.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.2.jar:2.6.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.2.jar:2.6.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.2.jar:2.6.2]\n        at com.example.tacocloud.TacoCloudApplication.main(TacoCloudApplication.java:10) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.2.jar:2.6.2]\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;FLTO&quot; not found; SQL statement:\ninsert into Ingredient (id, name, type) values (&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, &quot;WRAP&quot;) [42122-200]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:453) ~[h2-1.4.200.jar:1.4.200]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\n        at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]\n        at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]\n        at org.h2.expression.ExpressionColumn.getColumnException(ExpressionColumn.java:163) ~[h2-1.4.200.jar:1.4.200]\n        at org.h2.expression.ExpressionColumn.optimize(ExpressionColumn.java:145) ~[h2-1.4.200.jar:1.4.200]\n        at org.h2.command.dml.Insert.prepare(Insert.java:327) ~[h2-1.4.200.jar:1.4.200]\n        at org.h2.command.Parser.prepareCommand(Parser.java:744) ~[h2-1.4.200.jar:1.4.200]\n        at org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\n        at org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\n        at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\n        at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\n        at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\n        at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\n        at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\n        at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n        ... 38 common frames omitted\n\n</code></pre>\n<p>My import.sql looks like the following:</p>\n<pre><code>delete from Taco_Order_Tacos;\ndelete from Taco_Ingredients;\ndelete from Taco;\ndelete from Taco_Order;\n\ndelete from Ingredient;\ninsert into Ingredient (id, name, type) values ('FLTO', 'Flour Tortilla', 'WRAP');\ninsert into Ingredient (id, name, type) values ('COTO', 'Corn Tortilla', 'WRAP');\ninsert into Ingredient (id, name, type) values ('GRBF', 'Ground Beef', 'PROTEIN');\ninsert into Ingredient (id, name, type) values ('CARN', 'Carnitas', 'PROTEIN');\ninsert into Ingredient (id, name, type) values ('TMTO', 'Diced Tomatoes', 'VEGGIES');\ninsert into Ingredient (id, name, type) values ('LETC', 'Lettuce', 'VEGGIES');\ninsert into Ingredient (id, name, type) values ('CHED', 'Cheddar', 'CHEESE');\ninsert into Ingredient (id, name, type) values ('JACK', 'Monterrey Jack', 'CHEESE');\ninsert into Ingredient (id, name, type) values ('SLSA', 'Salsa', 'SAUCE');\ninsert into Ingredient (id, name, type) values ('SRCR', 'Sour Cream', 'SAUCE');\n</code></pre>\n<p>The Ingredient class has:</p>\n<pre><code>private final String id;\nprivate final String name;\nprivate final Type type; // an enum: WRAP, SAUCE, ...\n</code></pre>\n<p>Thank you for your help!</p>\n"},{"tags":["java","android","google-cloud-firestore","concurrency","materialdatepicker"],"comments":[{"owner":{"account_id":14349390,"reputation":659,"user_id":10365380,"display_name":"Rohaitas Tanoli"},"score":0,"creation_date":1642579476,"post_id":70766162,"comment_id":125105017,"body_markdown":"https://stackoverflow.com/questions/53454711/how-do-you-disable-certain-days-on-a-datepicker-android.","body":"<a href=\"https://stackoverflow.com/questions/53454711/how-do-you-disable-certain-days-on-a-datepicker-android\" title=\"how do you disable certain days on a datepicker android\">stackoverflow.com/questions/53454711/&hellip;</a>."}],"owner":{"account_id":19378846,"reputation":11,"user_id":14170563,"display_name":" arjunspramod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642573790,"creation_date":1642573790,"question_id":70766162,"body_markdown":"**Background**: I was working on an Android project where concurrencies in date booking will raise, and I have used **MaterialDatePicker** in order to choose the dates.\r\n\r\n**Problem**: I need to DISABLE some **SPECIFIC** dates that are already selected by other users in order to handle the concurrencies. I am able to fetch the dates selected by other users from the firestore (Firebase - backend development platform), but unable to deal with the calender. I came across a blog which suggests to use **setDisabledDays(calender[] days)**, but not so clearly how to do that?!\r\n\r\n**Need help with!** - how do I disable specific dates on the calender???\r\n\r\n    Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        calendar.clear();\r\n        long today = MaterialDatePicker.todayInUtcMilliseconds();\r\n        calendar.setTimeInMillis(today);\r\n        calendar.set(Calendar.MONTH, Calendar.JANUARY);\r\n        long January = calendar.getTimeInMillis();\r\n        calendar.set(Calendar.MONTH, Calendar.DECEMBER);\r\n        long December = calendar.getTimeInMillis();\r\n\r\n        CalendarConstraints.Builder calenderConstraintBuilder = new CalendarConstraints.Builder();\r\n        calenderConstraintBuilder.setOpenAt(today);\r\n        calenderConstraintBuilder.setValidator(DateValidatorPointForward.now());\r\n        MaterialDatePicker.Builder builder = MaterialDatePicker.Builder.datePicker();\r\n        builder.setTitleText(&quot;Select start date&quot;);\r\n        builder.setCalendarConstraints(calenderConstraintBuilder.build());\r\n        MaterialDatePicker materialDatePicker = builder.build(); \r\n\r\n        mDatePickerBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                materialDatePicker.show(getSupportFragmentManager(), &quot;DATE_PICKER&quot;);\r\n            }\r\n        });\r\n\r\n        materialDatePicker.addOnPositiveButtonClickListener(new MaterialPickerOnPositiveButtonClickListener() {\r\n            @Override\r\n            public void onPositiveButtonClick(Object selection) {\r\n                duration = materialDatePicker.getHeaderText();\r\n                //This duration variable must be stored in database, it has both start and end date\r\n                dateResult.setText(&quot;Selected dates: &quot; + duration);\r\n            }\r\n        });","title":"How to disable SPECIFIC dates of Material DatePicker on Android studio project?","body":"<p><strong>Background</strong>: I was working on an Android project where concurrencies in date booking will raise, and I have used <strong>MaterialDatePicker</strong> in order to choose the dates.</p>\n<p><strong>Problem</strong>: I need to DISABLE some <strong>SPECIFIC</strong> dates that are already selected by other users in order to handle the concurrencies. I am able to fetch the dates selected by other users from the firestore (Firebase - backend development platform), but unable to deal with the calender. I came across a blog which suggests to use <strong>setDisabledDays(calender[] days)</strong>, but not so clearly how to do that?!</p>\n<p><strong>Need help with!</strong> - how do I disable specific dates on the calender???</p>\n<pre><code>Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;));\n    calendar.clear();\n    long today = MaterialDatePicker.todayInUtcMilliseconds();\n    calendar.setTimeInMillis(today);\n    calendar.set(Calendar.MONTH, Calendar.JANUARY);\n    long January = calendar.getTimeInMillis();\n    calendar.set(Calendar.MONTH, Calendar.DECEMBER);\n    long December = calendar.getTimeInMillis();\n\n    CalendarConstraints.Builder calenderConstraintBuilder = new CalendarConstraints.Builder();\n    calenderConstraintBuilder.setOpenAt(today);\n    calenderConstraintBuilder.setValidator(DateValidatorPointForward.now());\n    MaterialDatePicker.Builder builder = MaterialDatePicker.Builder.datePicker();\n    builder.setTitleText(&quot;Select start date&quot;);\n    builder.setCalendarConstraints(calenderConstraintBuilder.build());\n    MaterialDatePicker materialDatePicker = builder.build(); \n\n    mDatePickerBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            materialDatePicker.show(getSupportFragmentManager(), &quot;DATE_PICKER&quot;);\n        }\n    });\n\n    materialDatePicker.addOnPositiveButtonClickListener(new MaterialPickerOnPositiveButtonClickListener() {\n        @Override\n        public void onPositiveButtonClick(Object selection) {\n            duration = materialDatePicker.getHeaderText();\n            //This duration variable must be stored in database, it has both start and end date\n            dateResult.setText(&quot;Selected dates: &quot; + duration);\n        }\n    });\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":5178132,"reputation":3269,"user_id":4144572,"accept_rate":43,"display_name":"Prakash Palnati"},"score":0,"creation_date":1642574102,"post_id":70766125,"comment_id":125103561,"body_markdown":"are you trying this in your local?","body":"are you trying this in your local?"},{"owner":{"account_id":15287059,"reputation":113,"user_id":11029787,"display_name":"Saher"},"score":0,"creation_date":1642574219,"post_id":70766125,"comment_id":125103588,"body_markdown":"Yes, eventually it&#39;ll be deployed. but for now yes, I&#39;m trying to run on local.","body":"Yes, eventually it&#39;ll be deployed. but for now yes, I&#39;m trying to run on local."},{"owner":{"account_id":5178132,"reputation":3269,"user_id":4144572,"accept_rate":43,"display_name":"Prakash Palnati"},"score":0,"creation_date":1642574569,"post_id":70766125,"comment_id":125103656,"body_markdown":"you will have two beans of ConcurrentKafkaListenerContainerFactory? which one will take precedence?","body":"you will have two beans of ConcurrentKafkaListenerContainerFactory? which one will take precedence?"},{"owner":{"account_id":15287059,"reputation":113,"user_id":11029787,"display_name":"Saher"},"score":0,"creation_date":1642574831,"post_id":70766125,"comment_id":125103716,"body_markdown":"wouldn&#39;t mentioning the `containerFactory = &quot;${bean_name}&quot;` take care of that?","body":"wouldn&#39;t mentioning the <code>containerFactory = &quot;${bean_name}&quot;</code> take care of that?"},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1642602120,"post_id":70766125,"comment_id":125114255,"body_markdown":"Yes; that should work; look at the INFO log emitted by the `Consumer Config` to see the final properties after property placeholder resolution. It makes no sense to me that you see cross talk like this.","body":"Yes; that should work; look at the INFO log emitted by the <code>Consumer Config</code> to see the final properties after property placeholder resolution. It makes no sense to me that you see cross talk like this."}],"owner":{"account_id":15287059,"reputation":113,"user_id":11029787,"display_name":"Saher"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642573621,"creation_date":1642573621,"question_id":70766125,"body_markdown":"I wrote a Kafka Producer &amp; Consumer some time ago, and now I need to add another consumer to the application, but I&#39;m having issues with the configurations of it.\r\n\r\n**config class 1**\r\n```java\r\n@Configuration\r\n@EnableKafka\r\npublic class consumerConfig1 {\r\n@Bean\r\n    public Map&lt;String, Object&gt; firstConsumerConfigs(Environment env) {\r\n        Map&lt;String, Object&gt; kafkaProps = new HashMap&lt;&gt;();\r\n\r\n        kafkaProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, env.getProperty(&quot;my-app.kafka.bootstrap-servers&quot;, &quot;&quot;));\r\n        kafkaProps.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, env.getProperty(&quot;my-app.kafka.properties.schema.registry.url&quot;, &quot;&quot;));\r\n        kafkaProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, env.getProperty(&quot;my-app.kafka.consumer.key-deserializer&quot;, &quot;&quot;));\r\n        kafkaProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, env.getProperty(&quot;my-app.kafka.consumer.value-deserializer&quot;, &quot;&quot;));\r\n        kafkaProps.put(&quot;group.id&quot;, env.getProperty(&quot;my-app.kafka.consumer.group-id&quot;, &quot;&quot;));\r\n        kafkaProps.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n        kafkaProps.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, 600000);\r\n        kafkaProps.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 100);\r\n        kafkaProps.put(ConsumerConfig.REQUEST_TIMEOUT_MS_CONFIG, &quot;600000&quot;);\r\n\r\n        kafkaProps.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, env.getProperty(&quot;my-app.kafka.properties.security.protocol&quot;, &quot;&quot;));\r\n        kafkaProps.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG, env.getProperty(&quot;my-app.kafka.ssl.trust-store-location&quot;, &quot;&quot;)\r\n                    .replace(&quot;file://&quot;, &quot;&quot;).replace(&quot;file:&quot;, &quot;&quot;));\r\n        kafkaProps.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, env.getProperty(&quot;my-app.kafka.ssl.trust-store-password&quot;, &quot;&quot;));\r\n\r\n        kafkaProps.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG, env.getProperty(&quot;my-app.kafka.ssl.key-store-location&quot;, &quot;&quot;)\r\n                    .replace(&quot;file://&quot;, &quot;&quot;).replace(&quot;file:&quot;, &quot;&quot;));\r\n        kafkaProps.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG, env.getProperty(&quot;my-app.kafka.ssl.key-store-password&quot;, &quot;&quot;));\r\n        kafkaProps.put(SslConfigs.SSL_KEY_PASSWORD_CONFIG, env.getProperty(&quot;my-app.kafka.ssl.key-password&quot;, &quot;&quot;));\r\n        kafkaProps.put(ConsumerConfig.GROUP_ID_CONFIG, env.getProperty(&quot;my-app.kafka.consumer.group-id&quot;, &quot;&quot;));\r\n        kafkaProps.put(ConsumerConfig.CLIENT_ID_CONFIG, env.getProperty(&quot;my-app.kafka.client-id&quot;, &quot;&quot;));\r\n        kafkaProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, env.getProperty(&quot;my-app.kafka.consumer.auto-offset-reset&quot;, &quot;&quot;));\r\n\r\n        // For the IDE to work\r\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, env.getProperty(&quot;my-app.kafka.ssl.trust-store-location&quot;, &quot;&quot;)\r\n                    .replace(&quot;file://&quot;, &quot;&quot;).replace(&quot;file:&quot;, &quot;&quot;));\r\n\r\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, env.getProperty(&quot;my-app.kafka.ssl.trust-store-password&quot;, &quot;&quot;));\r\n\r\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, env.getProperty(&quot;my-app.kafka.ssl.key-store-location&quot;, &quot;&quot;)\r\n                    .replace(&quot;file://&quot;, &quot;&quot;).replace(&quot;file:&quot;, &quot;&quot;));\r\n\r\n        System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, env.getProperty(&quot;my-app.kafka.ssl.key-store-password&quot;, &quot;&quot;));\r\n\r\n        LogUtil.logInfo(&quot;&quot;, &quot;&quot;,&quot;Kafka Consumer Config&quot; , &quot;APP CONFIGURATIONS&quot;, &quot;&quot;, &quot;Kafka Consumer 1 Ingest Consumer Configurations ===&gt; &quot; + kafkaProps.toString());\r\n\r\n        return kafkaProps;\r\n    }\r\n\r\n    @Bean\r\n    public firstConsumerFactory&lt;GenericRecord, GenericRecord&gt; ingestConsumerFactory(Environment env){\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(firstConsumerConfigs(env));\r\n    }\r\n\r\n    @Bean\r\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;GenericRecord, GenericRecord&gt;&gt; firstListenerContainerFactory(Environment env) {\r\n        return firstListenerContainerFactory(env);\r\n    }\r\n\r\n    @Bean(name = &quot;firstListenerContainerFactory&quot;)\r\n    public ConcurrentKafkaListenerContainerFactory&lt;GenericRecord, GenericRecord&gt; firstListenerContainerFactory(Environment env) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;GenericRecord, GenericRecord&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n\r\n        factory.setConsumerFactory(firstListenerContainerFactory(env));\r\n        factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\r\n        factory.setConcurrency(1);\r\n\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public FirstReceiver receiver() {\r\n        return new FirstReceiver();\r\n    }\r\n}\r\n```\r\n**Consumer Receiver Class**\r\n```java\r\n@Service\r\npublic class FirstReceiver {\r\n\r\n    @KafkaListener(topics = &quot;${my-app.kafka.template.first-topic}&quot;, groupId = &quot;${my-app.kafka.consumer.group-id}&quot;, containerFactory = &quot;firstListenerContainerFactory&quot;)\r\n    public void receive(@Payload ConsumerRecord&lt;GenericRecord, GenericRecord&gt; record, Acknowledgment acknowledgment) {\r\n    acknowledgment.acknowledge();\r\n    //.... continue consumer logic\r\n}\r\n```\r\n\r\nUp to this point, everything was working... configuration started to get missed-up when I tried to add a second configuration class to hold certs &amp; configs for the second consumer\r\n\r\n**config class 2**\r\n```java\r\n@Configuration\r\n@EnableKafka\r\npublic class consumerConfig2 {\r\n@Bean\r\n    public Map&lt;String, Object&gt; secondConsumerConfigs(Environment env) {\r\n        Map&lt;String, Object&gt; kafkaProps = new HashMap&lt;&gt;();\r\n\r\n        kafkaProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, env.getProperty(&quot;my-new-app.kafka.bootstrap-servers&quot;, &quot;&quot;));\r\n        kafkaProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, env.getProperty(&quot;my-new-app.kafka.consumer.key-deserializer&quot;, &quot;&quot;));\r\n        kafkaProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, env.getProperty(&quot;my-new-app.kafka.consumer.value-deserializer&quot;, &quot;&quot;));\r\n        kafkaProps.put(&quot;group.id&quot;, env.getProperty(&quot;my-new-app.kafka.consumer.group-id&quot;, &quot;&quot;));\r\n        kafkaProps.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n        kafkaProps.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, 600000);\r\n        kafkaProps.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 100);\r\n        kafkaProps.put(ConsumerConfig.REQUEST_TIMEOUT_MS_CONFIG, &quot;600000&quot;);\r\n\r\n        kafkaProps.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, env.getProperty(&quot;my-new-app.kafka.properties.security.protocol&quot;, &quot;&quot;));\r\n        kafkaProps.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG, env.getProperty(&quot;my-new-app.kafka.ssl.trust-store-location&quot;, &quot;&quot;)\r\n                    .replace(&quot;file://&quot;, &quot;&quot;).replace(&quot;file:&quot;, &quot;&quot;));\r\n        kafkaProps.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, env.getProperty(&quot;my-new-app.kafka.ssl.trust-store-password&quot;, &quot;&quot;));\r\n\r\n        kafkaProps.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG, env.getProperty(&quot;my-new-app.kafka.ssl.key-store-location&quot;, &quot;&quot;)\r\n                    .replace(&quot;file://&quot;, &quot;&quot;).replace(&quot;file:&quot;, &quot;&quot;));\r\n        kafkaProps.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG, env.getProperty(&quot;my-new-app.kafka.ssl.key-store-password&quot;, &quot;&quot;));\r\n        kafkaProps.put(SslConfigs.SSL_KEY_PASSWORD_CONFIG, env.getProperty(&quot;my-new-app.kafka.ssl.key-password&quot;, &quot;&quot;));\r\n        kafkaProps.put(ConsumerConfig.GROUP_ID_CONFIG, env.getProperty(&quot;my-new-app.kafka.consumer.group-id&quot;, &quot;&quot;));\r\n        kafkaProps.put(ConsumerConfig.CLIENT_ID_CONFIG, env.getProperty(&quot;my-new-app.kafka.client-id&quot;, &quot;&quot;));\r\n        kafkaProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, env.getProperty(&quot;my-new-app.kafka.consumer.auto-offset-reset&quot;, &quot;&quot;));\r\n\r\n        // For the IDE to work\r\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, env.getProperty(&quot;my-new-app.kafka.ssl.trust-store-location&quot;, &quot;&quot;)\r\n                    .replace(&quot;file://&quot;, &quot;&quot;).replace(&quot;file:&quot;, &quot;&quot;));\r\n\r\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, env.getProperty(&quot;my-new-app.kafka.ssl.trust-store-password&quot;, &quot;&quot;));\r\n\r\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, env.getProperty(&quot;my-new-app.kafka.ssl.key-store-location&quot;, &quot;&quot;)\r\n                    .replace(&quot;file://&quot;, &quot;&quot;).replace(&quot;file:&quot;, &quot;&quot;));\r\n\r\n        System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, env.getProperty(&quot;my-new-app.kafka.ssl.key-store-password&quot;, &quot;&quot;));\r\n\r\n        LogUtil.logInfo(&quot;&quot;, &quot;&quot;,&quot;Kafka Consumer Config&quot; , &quot;APP CONFIGURATIONS&quot;, &quot;&quot;, &quot;Kafka Consumer 2 Ingest Consumer Configurations ===&gt; &quot; + kafkaProps.toString());\r\n\r\n        return kafkaProps;\r\n    }\r\n\r\n    @Bean\r\n    public secondConsumerFactory&lt;GenericRecord, GenericRecord&gt; ingestConsumerFactory(Environment env){\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(secondConsumerConfigs(env));\r\n    }\r\n\r\n    @Bean\r\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; secondListenerContainerFactory(Environment env) {\r\n        return secondListenerContainerFactory(env);\r\n    }\r\n\r\n    @Bean(name = &quot;secondListenerContainerFactory&quot;)\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; secondListenerContainerFactory(Environment env) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n\r\n        factory.setConsumerFactory(secondListenerContainerFactory(env));\r\n        factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\r\n        factory.setConcurrency(1);\r\n\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public SecondReceiver receiver2() {\r\n        return new secondReceiver();\r\n    }\r\n}\r\n```\r\nconsumer class is very similar to the previous one \r\n```java\r\n@Service\r\npublic class SecondReceiver {\r\n\r\n    @KafkaListener(topics = &quot;${my-new-app.kafka.template.first-topic}&quot;, groupId = &quot;${my--new-app.kafka.consumer.group-id}&quot;, containerFactory = &quot;secondListenerContainerFactory&quot;)\r\n    public void receive(@Payload ConsumerRecord&lt;String, String&gt; record, Acknowledgment acknowledgment) {\r\n    acknowledgment.acknowledge();\r\n    //.... continue consumer logic\r\n}\r\n```\r\n\r\nAdding the second configuration, mess up with the certs of the first configuration &amp; now I&#39;m ***unauthorized to access the first topic*** &amp; also I&#39;m still failing to connect to the second topic with an ***unauthorized to access group*** error\r\n\r\nAlso, how would I put both configuration for the IDE *(System.setProperties())* to configure with.... I can&#39;t have both loaded, right?\r\n\r\nI&#39;ve been trying to get my configuration in order &amp; failing for past couple of days. any help would be greatly appreciated.","title":"Two separate Kafka Consumer Configs and Listeners","body":"<p>I wrote a Kafka Producer &amp; Consumer some time ago, and now I need to add another consumer to the application, but I'm having issues with the configurations of it.</p>\n<p><strong>config class 1</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableKafka\npublic class consumerConfig1 {\n@Bean\n    public Map&lt;String, Object&gt; firstConsumerConfigs(Environment env) {\n        Map&lt;String, Object&gt; kafkaProps = new HashMap&lt;&gt;();\n\n        kafkaProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, env.getProperty(&quot;my-app.kafka.bootstrap-servers&quot;, &quot;&quot;));\n        kafkaProps.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, env.getProperty(&quot;my-app.kafka.properties.schema.registry.url&quot;, &quot;&quot;));\n        kafkaProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, env.getProperty(&quot;my-app.kafka.consumer.key-deserializer&quot;, &quot;&quot;));\n        kafkaProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, env.getProperty(&quot;my-app.kafka.consumer.value-deserializer&quot;, &quot;&quot;));\n        kafkaProps.put(&quot;group.id&quot;, env.getProperty(&quot;my-app.kafka.consumer.group-id&quot;, &quot;&quot;));\n        kafkaProps.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n        kafkaProps.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, 600000);\n        kafkaProps.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 100);\n        kafkaProps.put(ConsumerConfig.REQUEST_TIMEOUT_MS_CONFIG, &quot;600000&quot;);\n\n        kafkaProps.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, env.getProperty(&quot;my-app.kafka.properties.security.protocol&quot;, &quot;&quot;));\n        kafkaProps.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG, env.getProperty(&quot;my-app.kafka.ssl.trust-store-location&quot;, &quot;&quot;)\n                    .replace(&quot;file://&quot;, &quot;&quot;).replace(&quot;file:&quot;, &quot;&quot;));\n        kafkaProps.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, env.getProperty(&quot;my-app.kafka.ssl.trust-store-password&quot;, &quot;&quot;));\n\n        kafkaProps.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG, env.getProperty(&quot;my-app.kafka.ssl.key-store-location&quot;, &quot;&quot;)\n                    .replace(&quot;file://&quot;, &quot;&quot;).replace(&quot;file:&quot;, &quot;&quot;));\n        kafkaProps.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG, env.getProperty(&quot;my-app.kafka.ssl.key-store-password&quot;, &quot;&quot;));\n        kafkaProps.put(SslConfigs.SSL_KEY_PASSWORD_CONFIG, env.getProperty(&quot;my-app.kafka.ssl.key-password&quot;, &quot;&quot;));\n        kafkaProps.put(ConsumerConfig.GROUP_ID_CONFIG, env.getProperty(&quot;my-app.kafka.consumer.group-id&quot;, &quot;&quot;));\n        kafkaProps.put(ConsumerConfig.CLIENT_ID_CONFIG, env.getProperty(&quot;my-app.kafka.client-id&quot;, &quot;&quot;));\n        kafkaProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, env.getProperty(&quot;my-app.kafka.consumer.auto-offset-reset&quot;, &quot;&quot;));\n\n        // For the IDE to work\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, env.getProperty(&quot;my-app.kafka.ssl.trust-store-location&quot;, &quot;&quot;)\n                    .replace(&quot;file://&quot;, &quot;&quot;).replace(&quot;file:&quot;, &quot;&quot;));\n\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, env.getProperty(&quot;my-app.kafka.ssl.trust-store-password&quot;, &quot;&quot;));\n\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, env.getProperty(&quot;my-app.kafka.ssl.key-store-location&quot;, &quot;&quot;)\n                    .replace(&quot;file://&quot;, &quot;&quot;).replace(&quot;file:&quot;, &quot;&quot;));\n\n        System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, env.getProperty(&quot;my-app.kafka.ssl.key-store-password&quot;, &quot;&quot;));\n\n        LogUtil.logInfo(&quot;&quot;, &quot;&quot;,&quot;Kafka Consumer Config&quot; , &quot;APP CONFIGURATIONS&quot;, &quot;&quot;, &quot;Kafka Consumer 1 Ingest Consumer Configurations ===&gt; &quot; + kafkaProps.toString());\n\n        return kafkaProps;\n    }\n\n    @Bean\n    public firstConsumerFactory&lt;GenericRecord, GenericRecord&gt; ingestConsumerFactory(Environment env){\n        return new DefaultKafkaConsumerFactory&lt;&gt;(firstConsumerConfigs(env));\n    }\n\n    @Bean\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;GenericRecord, GenericRecord&gt;&gt; firstListenerContainerFactory(Environment env) {\n        return firstListenerContainerFactory(env);\n    }\n\n    @Bean(name = &quot;firstListenerContainerFactory&quot;)\n    public ConcurrentKafkaListenerContainerFactory&lt;GenericRecord, GenericRecord&gt; firstListenerContainerFactory(Environment env) {\n        ConcurrentKafkaListenerContainerFactory&lt;GenericRecord, GenericRecord&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n\n        factory.setConsumerFactory(firstListenerContainerFactory(env));\n        factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\n        factory.setConcurrency(1);\n\n        return factory;\n    }\n\n    @Bean\n    public FirstReceiver receiver() {\n        return new FirstReceiver();\n    }\n}\n</code></pre>\n<p><strong>Consumer Receiver Class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class FirstReceiver {\n\n    @KafkaListener(topics = &quot;${my-app.kafka.template.first-topic}&quot;, groupId = &quot;${my-app.kafka.consumer.group-id}&quot;, containerFactory = &quot;firstListenerContainerFactory&quot;)\n    public void receive(@Payload ConsumerRecord&lt;GenericRecord, GenericRecord&gt; record, Acknowledgment acknowledgment) {\n    acknowledgment.acknowledge();\n    //.... continue consumer logic\n}\n</code></pre>\n<p>Up to this point, everything was working... configuration started to get missed-up when I tried to add a second configuration class to hold certs &amp; configs for the second consumer</p>\n<p><strong>config class 2</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableKafka\npublic class consumerConfig2 {\n@Bean\n    public Map&lt;String, Object&gt; secondConsumerConfigs(Environment env) {\n        Map&lt;String, Object&gt; kafkaProps = new HashMap&lt;&gt;();\n\n        kafkaProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, env.getProperty(&quot;my-new-app.kafka.bootstrap-servers&quot;, &quot;&quot;));\n        kafkaProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, env.getProperty(&quot;my-new-app.kafka.consumer.key-deserializer&quot;, &quot;&quot;));\n        kafkaProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, env.getProperty(&quot;my-new-app.kafka.consumer.value-deserializer&quot;, &quot;&quot;));\n        kafkaProps.put(&quot;group.id&quot;, env.getProperty(&quot;my-new-app.kafka.consumer.group-id&quot;, &quot;&quot;));\n        kafkaProps.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n        kafkaProps.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, 600000);\n        kafkaProps.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 100);\n        kafkaProps.put(ConsumerConfig.REQUEST_TIMEOUT_MS_CONFIG, &quot;600000&quot;);\n\n        kafkaProps.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, env.getProperty(&quot;my-new-app.kafka.properties.security.protocol&quot;, &quot;&quot;));\n        kafkaProps.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG, env.getProperty(&quot;my-new-app.kafka.ssl.trust-store-location&quot;, &quot;&quot;)\n                    .replace(&quot;file://&quot;, &quot;&quot;).replace(&quot;file:&quot;, &quot;&quot;));\n        kafkaProps.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, env.getProperty(&quot;my-new-app.kafka.ssl.trust-store-password&quot;, &quot;&quot;));\n\n        kafkaProps.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG, env.getProperty(&quot;my-new-app.kafka.ssl.key-store-location&quot;, &quot;&quot;)\n                    .replace(&quot;file://&quot;, &quot;&quot;).replace(&quot;file:&quot;, &quot;&quot;));\n        kafkaProps.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG, env.getProperty(&quot;my-new-app.kafka.ssl.key-store-password&quot;, &quot;&quot;));\n        kafkaProps.put(SslConfigs.SSL_KEY_PASSWORD_CONFIG, env.getProperty(&quot;my-new-app.kafka.ssl.key-password&quot;, &quot;&quot;));\n        kafkaProps.put(ConsumerConfig.GROUP_ID_CONFIG, env.getProperty(&quot;my-new-app.kafka.consumer.group-id&quot;, &quot;&quot;));\n        kafkaProps.put(ConsumerConfig.CLIENT_ID_CONFIG, env.getProperty(&quot;my-new-app.kafka.client-id&quot;, &quot;&quot;));\n        kafkaProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, env.getProperty(&quot;my-new-app.kafka.consumer.auto-offset-reset&quot;, &quot;&quot;));\n\n        // For the IDE to work\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, env.getProperty(&quot;my-new-app.kafka.ssl.trust-store-location&quot;, &quot;&quot;)\n                    .replace(&quot;file://&quot;, &quot;&quot;).replace(&quot;file:&quot;, &quot;&quot;));\n\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, env.getProperty(&quot;my-new-app.kafka.ssl.trust-store-password&quot;, &quot;&quot;));\n\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, env.getProperty(&quot;my-new-app.kafka.ssl.key-store-location&quot;, &quot;&quot;)\n                    .replace(&quot;file://&quot;, &quot;&quot;).replace(&quot;file:&quot;, &quot;&quot;));\n\n        System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, env.getProperty(&quot;my-new-app.kafka.ssl.key-store-password&quot;, &quot;&quot;));\n\n        LogUtil.logInfo(&quot;&quot;, &quot;&quot;,&quot;Kafka Consumer Config&quot; , &quot;APP CONFIGURATIONS&quot;, &quot;&quot;, &quot;Kafka Consumer 2 Ingest Consumer Configurations ===&gt; &quot; + kafkaProps.toString());\n\n        return kafkaProps;\n    }\n\n    @Bean\n    public secondConsumerFactory&lt;GenericRecord, GenericRecord&gt; ingestConsumerFactory(Environment env){\n        return new DefaultKafkaConsumerFactory&lt;&gt;(secondConsumerConfigs(env));\n    }\n\n    @Bean\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; secondListenerContainerFactory(Environment env) {\n        return secondListenerContainerFactory(env);\n    }\n\n    @Bean(name = &quot;secondListenerContainerFactory&quot;)\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; secondListenerContainerFactory(Environment env) {\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n\n        factory.setConsumerFactory(secondListenerContainerFactory(env));\n        factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\n        factory.setConcurrency(1);\n\n        return factory;\n    }\n\n    @Bean\n    public SecondReceiver receiver2() {\n        return new secondReceiver();\n    }\n}\n</code></pre>\n<p>consumer class is very similar to the previous one</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class SecondReceiver {\n\n    @KafkaListener(topics = &quot;${my-new-app.kafka.template.first-topic}&quot;, groupId = &quot;${my--new-app.kafka.consumer.group-id}&quot;, containerFactory = &quot;secondListenerContainerFactory&quot;)\n    public void receive(@Payload ConsumerRecord&lt;String, String&gt; record, Acknowledgment acknowledgment) {\n    acknowledgment.acknowledge();\n    //.... continue consumer logic\n}\n</code></pre>\n<p>Adding the second configuration, mess up with the certs of the first configuration &amp; now I'm <em><strong>unauthorized to access the first topic</strong></em> &amp; also I'm still failing to connect to the second topic with an <em><strong>unauthorized to access group</strong></em> error</p>\n<p>Also, how would I put both configuration for the IDE <em>(System.setProperties())</em> to configure with.... I can't have both loaded, right?</p>\n<p>I've been trying to get my configuration in order &amp; failing for past couple of days. any help would be greatly appreciated.</p>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1641030669,"post_id":70547602,"comment_id":124709181,"body_markdown":"I don’t know what the sample JavaFX project is, nor the cause of your error, but the easiest way to get JavaFX working in Idea is to use the [new JavaFX project wizard](https://www.jetbrains.com/help/idea/javafx.html) IMO.  I’d also advise jdk 17 rather than 11.","body":"I don’t know what the sample JavaFX project is, nor the cause of your error, but the easiest way to get JavaFX working in Idea is to use the <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">new JavaFX project wizard</a> IMO.  I’d also advise jdk 17 rather than 11."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1641031033,"post_id":70547602,"comment_id":124709239,"body_markdown":"Please don’t screenshot code (and fxml), paste it as text formatted as code (just indent 4 spaces).","body":"Please don’t screenshot code (and fxml), paste it as text formatted as code (just indent 4 spaces)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1641034236,"post_id":70547602,"comment_id":124709668,"body_markdown":"Likely, you&#39;ve set `--add-modules` somewhere but you forgot to include `javafx.fxml`.","body":"Likely, you&#39;ve set <code>--add-modules</code> somewhere but you forgot to include <code>javafx.fxml</code>."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1641209612,"post_id":70547602,"comment_id":124739884,"body_markdown":"Use the IDE New Project Wizard to create a proper javaFX project that would work correctly with JDK 9+ versions.","body":"Use the IDE New Project Wizard to create a proper javaFX project that would work correctly with JDK 9+ versions."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1641762978,"post_id":70547602,"comment_id":124885381,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":16990040,"reputation":5,"user_id":12289836,"display_name":"SertseV"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642573499,"creation_date":1642573499,"answer_id":70766102,"question_id":70547602,"body_markdown":"The cause of my error was a simple module configuration, I finally added the JavaFX library on the project module and removed the VM option arguments and it worked.\r\n\r\nThank you, everyone, for your comments!","title":"Exception in Application start method related error","body":"<p>The cause of my error was a simple module configuration, I finally added the JavaFX library on the project module and removed the VM option arguments and it worked.</p>\n<p>Thank you, everyone, for your comments!</p>\n"}],"owner":{"account_id":16990040,"reputation":5,"user_id":12289836,"display_name":"SertseV"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642573499,"creation_date":1641024205,"question_id":70547602,"body_markdown":"I was trying to run the sample JavaFX project from IntelliJ Idea 20.1. The program is a sample program. The structure is \r\n\r\n[![project structure][1]][1]\r\n\r\nand the code is the same, I changed nothing\r\n\r\n[![Main.java code][2]][2]\r\n\r\n[![fxml code simple hello world][3]][3]\r\n\r\nI am using jdk 11, openjfx 17, and I am getting this error, I do not understand the cause I tried many possible solutions nothing seems to work.\r\n\r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.lang.IllegalAccessError: class com.sun.javafx.fxml.FXMLLoaderHelper (in unnamed module @0x4800c48b) cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) because module javafx.graphics does not export com.sun.javafx.util to unnamed module @0x4800c48b\r\n    \tat com.sun.javafx.fxml.FXMLLoaderHelper.&lt;clinit&gt;(FXMLLoaderHelper.java:38)\r\n    \tat javafx.fxml.FXMLLoader.&lt;clinit&gt;(FXMLLoader.java:2135)\r\n    \tat sample.Main.start(Main.java:13)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n    \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n    \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n    \tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n    \tat javafx.graphics/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n    \tat javafx.graphics/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:290)\r\n    \t... 1 more\r\n    Exception running application sample.Main\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2v1S2.png\r\n  [2]: https://i.stack.imgur.com/JnkDx.png\r\n  [3]: https://i.stack.imgur.com/yejCk.png","title":"Exception in Application start method related error","body":"<p>I was trying to run the sample JavaFX project from IntelliJ Idea 20.1. The program is a sample program. The structure is</p>\n<p><a href=\"https://i.stack.imgur.com/2v1S2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2v1S2.png\" alt=\"project structure\" /></a></p>\n<p>and the code is the same, I changed nothing</p>\n<p><a href=\"https://i.stack.imgur.com/JnkDx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JnkDx.png\" alt=\"Main.java code\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/yejCk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yejCk.png\" alt=\"fxml code simple hello world\" /></a></p>\n<p>I am using jdk 11, openjfx 17, and I am getting this error, I do not understand the cause I tried many possible solutions nothing seems to work.</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.IllegalAccessError: class com.sun.javafx.fxml.FXMLLoaderHelper (in unnamed module @0x4800c48b) cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) because module javafx.graphics does not export com.sun.javafx.util to unnamed module @0x4800c48b\n    at com.sun.javafx.fxml.FXMLLoaderHelper.&lt;clinit&gt;(FXMLLoaderHelper.java:38)\n    at javafx.fxml.FXMLLoader.&lt;clinit&gt;(FXMLLoader.java:2135)\n    at sample.Main.start(Main.java:13)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:290)\n    ... 1 more\nException running application sample.Main\n</code></pre>\n"},{"tags":["java","arrays","if-statement","range"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1642559141,"post_id":70764594,"comment_id":125101037,"body_markdown":"In this case, a switch statement would work. See https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html.  If there were too many case labels to enumerate, then the `TreeMap` class is an alternative.","body":"In this case, a switch statement would work. See <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.htm&zwnj;&#8203;l</a>.  If there were too many case labels to enumerate, then the <code>TreeMap</code> class is an alternative."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1642559218,"post_id":70764594,"comment_id":125101049,"body_markdown":"I agree with the above, but that code above is not yet what I would categorize as &quot;lengthy&quot;. It&#39;s not well-formatted, but I can fix that for you.","body":"I agree with the above, but that code above is not yet what I would categorize as &quot;lengthy&quot;. It&#39;s not well-formatted, but I can fix that for you."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1642559686,"post_id":70764594,"comment_id":125101122,"body_markdown":"Agreed.  It is doubtful that it is worth the effort to make this code shorter.","body":"Agreed.  It is doubtful that it is worth the effort to make this code shorter."},{"owner":{"account_id":23982648,"reputation":7,"user_id":17969831,"display_name":"javaCoder"},"score":0,"creation_date":1642560038,"post_id":70764594,"comment_id":125101194,"body_markdown":"Thanks for commenting! Can you teach me how i can make it well-formatted?","body":"Thanks for commenting! Can you teach me how i can make it well-formatted?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1642561898,"post_id":70764594,"comment_id":125101520,"body_markdown":"A simplification would be to remove the `discount` array, and use literals in the bodies of the if statements instead. This has the advantage that you can immediately see what quantity is associated with which discount, and removes the possibility of having an array index in an if statement which doesn&#39;t exist in `discount`. However this change conflicts with the goal of learning Java, and I hope you did get, and fix, at least one `ArrayIndexOutOfBoundsException` while working on this code!","body":"A simplification would be to remove the <code>discount</code> array, and use literals in the bodies of the if statements instead. This has the advantage that you can immediately see what quantity is associated with which discount, and removes the possibility of having an array index in an if statement which doesn&#39;t exist in <code>discount</code>. However this change conflicts with the goal of learning Java, and I hope you did get, and fix, at least one <code>ArrayIndexOutOfBoundsException</code> while working on this code!"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1642572829,"post_id":70764594,"comment_id":125103277,"body_markdown":"&quot;Can you teach me how i can make it well-formatted?&quot; - Look at the edit history and compare ...","body":"&quot;Can you teach me how i can make it well-formatted?&quot; - Look at the edit history and compare ..."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642564002,"creation_date":1642559559,"answer_id":70764664,"question_id":70764594,"body_markdown":"I suggest you to apply decomposition by extracting the code that is responsible for calculating discounts and printing messages into separate methods. It will make your code cleaner even without switch expressions.\r\n\r\n**1. Calculate discount:**\r\n\r\n    public static int getDiscount(int items) {\r\n        return switch(items) {\r\n            case 0, 1, 2, 3 -&gt; 0;\r\n            case 4, 5, 6 -&gt; 5;\r\n            case 7, 8, 9, 10 -&gt; 10;\r\n            default -&gt; 15;\r\n        };\r\n    }\r\n\r\n**2. Print the message:**\r\n\r\n    public static void printMessage(int discount) {\r\n        switch(discount) {\r\n            case 0 -&gt; System.out.print(&quot;no discount&quot;);\r\n            default -&gt; System.out.println(discount + &quot;% discount&quot;);\r\n        }\r\n    }\r\n\r\n**3. main:**\r\n\r\n    public static void main(String[] args) {    \r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Input the number of items: &quot;);\r\n                \r\n        printMessage(getDiscount(input.nextInt()));\r\n    }\r\n\r\n* This code will work with Java 14 onwards","title":"Can you show me an alternative to these lengthy if else statements?","body":"<p>I suggest you to apply decomposition by extracting the code that is responsible for calculating discounts and printing messages into separate methods. It will make your code cleaner even without switch expressions.</p>\n<p><strong>1. Calculate discount:</strong></p>\n<pre><code>public static int getDiscount(int items) {\n    return switch(items) {\n        case 0, 1, 2, 3 -&gt; 0;\n        case 4, 5, 6 -&gt; 5;\n        case 7, 8, 9, 10 -&gt; 10;\n        default -&gt; 15;\n    };\n}\n</code></pre>\n<p><strong>2. Print the message:</strong></p>\n<pre><code>public static void printMessage(int discount) {\n    switch(discount) {\n        case 0 -&gt; System.out.print(&quot;no discount&quot;);\n        default -&gt; System.out.println(discount + &quot;% discount&quot;);\n    }\n}\n</code></pre>\n<p><strong>3. main:</strong></p>\n<pre><code>public static void main(String[] args) {    \n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Input the number of items: &quot;);\n            \n    printMessage(getDiscount(input.nextInt()));\n}\n</code></pre>\n<ul>\n<li>This code will work with Java 14 onwards</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642566407,"creation_date":1642566407,"answer_id":70765299,"question_id":70764594,"body_markdown":"Without Kotlin `when`, Java&#39;s `switch` may or may not do what everything you would like. But if you do want to write with `if-else`, it can clean up:\r\n\r\n````\r\nif(quantity &gt; 0){ \r\n    int discount = -1\r\n    if(quantity &lt; 4) discount = 0; \r\n    else if (quantity &lt; 7) discount = 5; \r\n    else if (quantity &lt; 11) discount = 10;\r\n    else discount = 15; \r\n    printDiscountMessage(discount)\r\n}\r\n\r\n````\r\n\r\n  ","title":"Can you show me an alternative to these lengthy if else statements?","body":"<p>Without Kotlin <code>when</code>, Java's <code>switch</code> may or may not do what everything you would like. But if you do want to write with <code>if-else</code>, it can clean up:</p>\n<pre><code>if(quantity &gt; 0){ \n    int discount = -1\n    if(quantity &lt; 4) discount = 0; \n    else if (quantity &lt; 7) discount = 5; \n    else if (quantity &lt; 11) discount = 10;\n    else discount = 15; \n    printDiscountMessage(discount)\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23977205,"reputation":136,"user_id":17965148,"display_name":"Optimizer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642573463,"creation_date":1642573463,"answer_id":70766093,"question_id":70764594,"body_markdown":"use this\r\n\r\n    int discountCalculation = (quantity &gt;= 1 &amp;&amp; quantity &lt; 4) ?discount[0]: (quantity &gt;= 4 &amp;&amp; quantity &lt; 7)?discount[1]: (quantity &gt;= 7 &amp;&amp; quantity &lt; 11) ?discount[2]:discount[3];\r\n \r\n","title":"Can you show me an alternative to these lengthy if else statements?","body":"<p>use this</p>\n<pre><code>int discountCalculation = (quantity &gt;= 1 &amp;&amp; quantity &lt; 4) ?discount[0]: (quantity &gt;= 4 &amp;&amp; quantity &lt; 7)?discount[1]: (quantity &gt;= 7 &amp;&amp; quantity &lt; 11) ?discount[2]:discount[3];\n</code></pre>\n"}],"owner":{"account_id":23982648,"reputation":7,"user_id":17969831,"display_name":"javaCoder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1642573463,"creation_date":1642558925,"question_id":70764594,"body_markdown":"I&#39;m trying to create code that takes the number of items that a customer has bought, then print out how much will be discounted.\r\n \r\n```\r\n1-3 items purchased will get no discount\r\n4-6 items purchased will get 5% discount\r\n7-10 items purchased will get 10% discount\r\n11 or more items purchased will get a 15% discount\r\n```\r\n\r\nAny help will be appreciated, thank you. Here is the code that i created.\r\n\r\n```\r\npackage discount;\r\nimport java.util.Scanner;\r\n\r\npublic class Discount {\r\n\r\n    public static void main(String[] args) {    \r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Input the number of items: &quot;);\r\n        int quantity = input.nextInt();\r\n                \r\n        int[] discount = {0, 5, 10, 15};\r\n        \r\n        if (quantity &gt;= 1 &amp;&amp; quantity &lt; 4) {\r\n\t\t\tSystem.out.print(&quot;no discount&quot;);\r\n        } else if (quantity &gt;= 4 &amp;&amp; quantity &lt; 7) {\r\n\t\t\tSystem.out.print(discount[1] + &quot;% discount&quot;);\r\n        } else if (quantity &gt;= 7 &amp;&amp; quantity &lt; 11) {\r\n\t\t\tSystem.out.print(discount[2] + &quot;% discount&quot;);\r\n        } else if (quantity &gt;= 11) {\r\n\t\t\tSystem.out.print(discount[3] + &quot;% discount&quot;);\r\n        }     \r\n    }\r\n}\r\n```","title":"Can you show me an alternative to these lengthy if else statements?","body":"<p>I'm trying to create code that takes the number of items that a customer has bought, then print out how much will be discounted.</p>\n<pre><code>1-3 items purchased will get no discount\n4-6 items purchased will get 5% discount\n7-10 items purchased will get 10% discount\n11 or more items purchased will get a 15% discount\n</code></pre>\n<p>Any help will be appreciated, thank you. Here is the code that i created.</p>\n<pre><code>package discount;\nimport java.util.Scanner;\n\npublic class Discount {\n\n    public static void main(String[] args) {    \n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Input the number of items: &quot;);\n        int quantity = input.nextInt();\n                \n        int[] discount = {0, 5, 10, 15};\n        \n        if (quantity &gt;= 1 &amp;&amp; quantity &lt; 4) {\n            System.out.print(&quot;no discount&quot;);\n        } else if (quantity &gt;= 4 &amp;&amp; quantity &lt; 7) {\n            System.out.print(discount[1] + &quot;% discount&quot;);\n        } else if (quantity &gt;= 7 &amp;&amp; quantity &lt; 11) {\n            System.out.print(discount[2] + &quot;% discount&quot;);\n        } else if (quantity &gt;= 11) {\n            System.out.print(discount[3] + &quot;% discount&quot;);\n        }     \n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","loops","polygon","point"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1641898405,"post_id":70665542,"comment_id":124922251,"body_markdown":"The constructor of `Polygon` that you&#39;ve shown takes no arguments. Presumably, you need to create a polygon with no points, then add the 4 points (although you&#39;ve not shown an `add` method), then return it.","body":"The constructor of <code>Polygon</code> that you&#39;ve shown takes no arguments. Presumably, you need to create a polygon with no points, then add the 4 points (although you&#39;ve not shown an <code>add</code> method), then return it."},{"owner":{"account_id":23413265,"reputation":25,"user_id":17474577,"display_name":"Dima Tkachuk"},"score":0,"creation_date":1641898598,"post_id":70665542,"comment_id":124922325,"body_markdown":"@AndyTurner ohhh wait there is an add method... i didn&#39;t think about using it, i will also add it to the post one moment","body":"@AndyTurner ohhh wait there is an add method... i didn&#39;t think about using it, i will also add it to the post one moment"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1641898697,"post_id":70665542,"comment_id":124922359,"body_markdown":"You also have the `getBoundingBox()` methods work on the points contained in the polygon itself; I think it should be something like `getBoundingBox(Point[] boundThese)`.","body":"You also have the <code>getBoundingBox()</code> methods work on the points contained in the polygon itself; I think it should be something like <code>getBoundingBox(Point[] boundThese)</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1641898872,"post_id":70665542,"comment_id":124922418,"body_markdown":"To @daniu&#39;s point, consider what the bounding box of `(-1, 0), (0, 1), (1, 0), (1, 0)` (a square rotated 45 degrees) would be.","body":"To @daniu&#39;s point, consider what the bounding box of <code>(-1, 0), (0, 1), (1, 0), (1, 0)</code> (a square rotated 45 degrees) would be."},{"owner":{"account_id":23413265,"reputation":25,"user_id":17474577,"display_name":"Dima Tkachuk"},"score":0,"creation_date":1641898889,"post_id":70665542,"comment_id":124922425,"body_markdown":"@daniu besides the methods above all i have are calculation of perimeter and area and things like that and we are not allowed to import anything or create any other methods","body":"@daniu besides the methods above all i have are calculation of perimeter and area and things like that and we are not allowed to import anything or create any other methods"},{"owner":{"account_id":8099621,"reputation":3911,"user_id":6103001,"display_name":"Michał Zaborowski"},"score":2,"creation_date":1641898893,"post_id":70665542,"comment_id":124922427,"body_markdown":"iterate over the points - take min / max of both x,y - so you have 4 corners of needed rectangle.","body":"iterate over the points - take min / max of both x,y - so you have 4 corners of needed rectangle."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1641899291,"post_id":70665542,"comment_id":124922568,"body_markdown":"@user16320675 You&#39;re right, you can just return `new Polygon(new Point(Integer.MIN, Integer.MIN), new Point(Integer.MIN, Integer.MAX), new Point(Integer.MAX, Integer.MIN), new Point(Integer.MAX, Integer.MAX)` for any points given. Don&#39;t do that OP, it&#39;s a joke, of course you need the smallest rectangle.","body":"@user16320675 You&#39;re right, you can just return <code>new Polygon(new Point(Integer.MIN, Integer.MIN), new Point(Integer.MIN, Integer.MAX), new Point(Integer.MAX, Integer.MIN), new Point(Integer.MAX, Integer.MAX)</code> for any points given. Don&#39;t do that OP, it&#39;s a joke, of course you need the smallest rectangle."}],"owner":{"account_id":23413265,"reputation":25,"user_id":17474577,"display_name":"Dima Tkachuk"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642572927,"creation_date":1641898311,"question_id":70665542,"body_markdown":"**what the method needs to do:** to put it simply, we receive any number of points(from class `Point`) like (1,4)...(7,2) and there can be anywhere from 3 to 10 (if less then 3 it returns `null`) and the methods needs to return the rectangle(which needs to be from class `Polygon`) that blocks the `Polygon` created from the given points, (in other words we get points that create a polygon and  we need to find the rectangle that blocks the polygon),\r\n\r\n\r\n\r\n**the problem**: I believe the code i created should work? but my main problem is I don&#39;t know how to write the return command to return those values that are from class Point and print them in this method which is supposed to be class `Polygon`, I have a toString command that prints out everything i just don&#39;t know how can i take those point values from SW,SE,NE,NW and insert return them with toString inside the `getBoundingBox()` method\r\n\r\nThanks if you can help i will add the code below, the method i am having trouble with in the return command is `public Polygon getBoundingBox()`\r\n\r\n```\r\n//tester\r\nPolygon boundingBox = polygon.getBoundingBox();\r\nString boundingBoxStr = boundingBox.toString();\r\nif (boundingBoxStr.equals(&quot;The polygon has 4 vertices:\\n((1,0),(7,0),(7,6),(1,6))&quot;))\r\n    System.out.println(&quot;\\ngetBoundingBox - OK&quot;);\r\nelse\r\n{\r\n    System.out.println(&quot;\\nError in getBoundingBox or in toString&quot;);\r\n    System.out.println(&quot;Your bounding box is:\\n&quot; + boundingBox + &quot;\\nExpected bounding box is:\\nThe polygon has 4 vertices:\\n((1,0),(7,0),(7,6),(1,6))&quot;);\r\n}\r\n```\r\n\r\n```\r\n// instance variables -\r\nprivate Point [] _vertices;\r\nprivate int _noOfVertices;\r\n\r\nprivate  final int MAX_VERTICES = 10;\r\n```\r\n\r\n```\r\n// constructor\r\npublic Polygon()\r\n{\r\n    _vertices = new Point[MAX_VERTICES];\r\n    _noOfVertices = 0;\r\n}\r\n```\r\n```\r\n// add vertex(or point)\r\npublic boolean addVertex(int x, int y)\r\n{\r\n    if (_noOfVertices == MAX_VERTICES)\r\n        return false;\r\n\r\n    _vertices[_noOfVertices++] = new Point(x,y);\r\n    return true;\r\n}\r\n```\r\n```\r\n//toString\r\npublic String toString()\r\n{\r\n    String str = &quot;&quot;;\r\n\r\n    if(_noOfVertices == 0)  \r\n    {\r\n        str = &quot;The polygon has 0 vertices.&quot;;\r\n    }\r\n\r\n    int i;\r\n    if(_noOfVertices &gt; 0)  \r\n    {\r\n        str += &quot;The polygon has &quot; + _noOfVertices +  &quot; vertices:&quot; + &quot;\\n&quot;;\r\n        str += &quot;&quot; + (&quot;(&quot;);\r\n\r\n        for(i=0; i &lt; _noOfVertices; i++)\r\n            if (i == _noOfVertices-1)\r\n            {\r\n                str += &quot;&quot; + _vertices[i];\r\n\r\n            }\r\n            else\r\n            {\r\n                str += &quot;&quot; + _vertices[i] + &quot;,&quot;;\r\n\r\n            }\r\n\r\n        if(i ==_noOfVertices)\r\n        {\r\n            str += &quot;&quot; + (&quot;)&quot;);\r\n        }\r\n\r\n    }\r\n    return str;\r\n}\r\n```\r\n\r\n```\r\npublic Polygon getBoundingBox()\r\n{\r\n    Polygon rectangle = new Polygon();\r\n    String str = &quot;&quot;;\r\n\r\n    if(_noOfVertices &lt; 3)\r\n        return null;\r\n\r\n    Point SW = _vertices[0];\r\n    Point SE = _vertices[0];\r\n    Point NE = _vertices[0];\r\n    Point NW = _vertices[0];\r\n\r\n    for (int i=1; i&lt;_noOfVertices; i++)\r\n    {\r\n        if(_vertices[i].isLeft(SW) &amp;&amp; _vertices[i].isUnder(SW))\r\n        {\r\n            SW = _vertices[i];\r\n        }\r\n\r\n        if(_vertices[i].isRight(SE) &amp;&amp; _vertices[i].isUnder(SE))\r\n        {\r\n            SE = _vertices[i];\r\n        }\r\n\r\n        if(_vertices[i].isRight(NE) &amp;&amp; _vertices[i].isAbove(NE))\r\n        {\r\n            NE = _vertices[i];\r\n        }\r\n\r\n        if(_vertices[i].isLeft(NW) &amp;&amp; _vertices[i].isAbove(NW))\r\n        {\r\n            NW = _vertices[i];\r\n        }\r\n\r\n    }\r\n\r\n    return new Polygon(SW,SE,NE,NW); // if i try to add the points SW,SE,NE,NW to Polygon i get an error &quot;constructor polygon in class polygon can&#39;t be \r\n    // to given types\r\n\r\n    // I am suppsoed to print it out like this using toString command:\r\n    // The polygon has 5 vertices: \r\n    // ((SW,SE,NE,NW))\r\n}\r\n```","title":"I was asked to write a code that returns a rectangle that blocks any given polygon between 3 and 10 points (java+arrays+loops)","body":"<p><strong>what the method needs to do:</strong> to put it simply, we receive any number of points(from class <code>Point</code>) like (1,4)...(7,2) and there can be anywhere from 3 to 10 (if less then 3 it returns <code>null</code>) and the methods needs to return the rectangle(which needs to be from class <code>Polygon</code>) that blocks the <code>Polygon</code> created from the given points, (in other words we get points that create a polygon and  we need to find the rectangle that blocks the polygon),</p>\n<p><strong>the problem</strong>: I believe the code i created should work? but my main problem is I don't know how to write the return command to return those values that are from class Point and print them in this method which is supposed to be class <code>Polygon</code>, I have a toString command that prints out everything i just don't know how can i take those point values from SW,SE,NE,NW and insert return them with toString inside the <code>getBoundingBox()</code> method</p>\n<p>Thanks if you can help i will add the code below, the method i am having trouble with in the return command is <code>public Polygon getBoundingBox()</code></p>\n<pre><code>//tester\nPolygon boundingBox = polygon.getBoundingBox();\nString boundingBoxStr = boundingBox.toString();\nif (boundingBoxStr.equals(&quot;The polygon has 4 vertices:\\n((1,0),(7,0),(7,6),(1,6))&quot;))\n    System.out.println(&quot;\\ngetBoundingBox - OK&quot;);\nelse\n{\n    System.out.println(&quot;\\nError in getBoundingBox or in toString&quot;);\n    System.out.println(&quot;Your bounding box is:\\n&quot; + boundingBox + &quot;\\nExpected bounding box is:\\nThe polygon has 4 vertices:\\n((1,0),(7,0),(7,6),(1,6))&quot;);\n}\n</code></pre>\n<pre><code>// instance variables -\nprivate Point [] _vertices;\nprivate int _noOfVertices;\n\nprivate  final int MAX_VERTICES = 10;\n</code></pre>\n<pre><code>// constructor\npublic Polygon()\n{\n    _vertices = new Point[MAX_VERTICES];\n    _noOfVertices = 0;\n}\n</code></pre>\n<pre><code>// add vertex(or point)\npublic boolean addVertex(int x, int y)\n{\n    if (_noOfVertices == MAX_VERTICES)\n        return false;\n\n    _vertices[_noOfVertices++] = new Point(x,y);\n    return true;\n}\n</code></pre>\n<pre><code>//toString\npublic String toString()\n{\n    String str = &quot;&quot;;\n\n    if(_noOfVertices == 0)  \n    {\n        str = &quot;The polygon has 0 vertices.&quot;;\n    }\n\n    int i;\n    if(_noOfVertices &gt; 0)  \n    {\n        str += &quot;The polygon has &quot; + _noOfVertices +  &quot; vertices:&quot; + &quot;\\n&quot;;\n        str += &quot;&quot; + (&quot;(&quot;);\n\n        for(i=0; i &lt; _noOfVertices; i++)\n            if (i == _noOfVertices-1)\n            {\n                str += &quot;&quot; + _vertices[i];\n\n            }\n            else\n            {\n                str += &quot;&quot; + _vertices[i] + &quot;,&quot;;\n\n            }\n\n        if(i ==_noOfVertices)\n        {\n            str += &quot;&quot; + (&quot;)&quot;);\n        }\n\n    }\n    return str;\n}\n</code></pre>\n<pre><code>public Polygon getBoundingBox()\n{\n    Polygon rectangle = new Polygon();\n    String str = &quot;&quot;;\n\n    if(_noOfVertices &lt; 3)\n        return null;\n\n    Point SW = _vertices[0];\n    Point SE = _vertices[0];\n    Point NE = _vertices[0];\n    Point NW = _vertices[0];\n\n    for (int i=1; i&lt;_noOfVertices; i++)\n    {\n        if(_vertices[i].isLeft(SW) &amp;&amp; _vertices[i].isUnder(SW))\n        {\n            SW = _vertices[i];\n        }\n\n        if(_vertices[i].isRight(SE) &amp;&amp; _vertices[i].isUnder(SE))\n        {\n            SE = _vertices[i];\n        }\n\n        if(_vertices[i].isRight(NE) &amp;&amp; _vertices[i].isAbove(NE))\n        {\n            NE = _vertices[i];\n        }\n\n        if(_vertices[i].isLeft(NW) &amp;&amp; _vertices[i].isAbove(NW))\n        {\n            NW = _vertices[i];\n        }\n\n    }\n\n    return new Polygon(SW,SE,NE,NW); // if i try to add the points SW,SE,NE,NW to Polygon i get an error &quot;constructor polygon in class polygon can't be \n    // to given types\n\n    // I am suppsoed to print it out like this using toString command:\n    // The polygon has 5 vertices: \n    // ((SW,SE,NE,NW))\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot"],"comments":[{"owner":{"account_id":20508871,"reputation":19,"user_id":15051070,"display_name":"Gopal Sakhwala"},"score":0,"creation_date":1642577018,"post_id":70765626,"comment_id":125104268,"body_markdown":"for example - Telemetry -Laptop &amp; Device - Dell , Hp, Macbook............. So I need list of device which have telemetry key as laptop.","body":"for example - Telemetry -Laptop &amp; Device - Dell , Hp, Macbook............. So I need list of device which have telemetry key as laptop."}],"answers":[{"tags":[],"owner":{"account_id":9838723,"reputation":197,"user_id":7288288,"accept_rate":0,"display_name":"Jayamal Jayamaha  "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642572829,"creation_date":1642572829,"answer_id":70766009,"question_id":70765626,"body_markdown":"You can remove if `!f.getName().startsWith(&quot;System_Processor&quot;)` from the list\r\n\r\n    deviceType.getTelemetries().stream()\r\n        .removeIf(f -&gt; !f.getName().startsWith(&quot;System_Processor&quot;))","title":"spring Boot MongoDB Query","body":"<p>You can remove if <code>!f.getName().startsWith(&quot;System_Processor&quot;)</code> from the list</p>\n<pre><code>deviceType.getTelemetries().stream()\n    .removeIf(f -&gt; !f.getName().startsWith(&quot;System_Processor&quot;))\n</code></pre>\n"}],"owner":{"account_id":20508871,"reputation":19,"user_id":15051070,"display_name":"Gopal Sakhwala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642572829,"creation_date":1642569462,"question_id":70765626,"body_markdown":"I have the following scenario:-\r\n1. Use Device_Type telemetry for searching.\r\n2. Should pull any Device that has a telemetry key that start with &quot;processor&quot;.\r\n\r\nDatabase used : Mongo DB\r\n\r\n**Device_Type.Class (Field of Device_Type collection)**\r\n\r\n    @NotBlank\r\n\tprivate String applicationId;\r\n\tprivate AcnDeviceCategory deviceCategory;\r\n\tprivate boolean editable = CoreConstant.DEFAULT_EDITABLE;\r\n\tprivate List&lt;DeviceTelemetry&gt; telemetries = new ArrayList&lt;&gt;();\r\n\tprivate Map&lt;String, DeviceStateValueMetadata&gt; stateMetadata = new HashMap&lt;&gt;();\r\n\tprivate List&lt;DeviceAction&gt; actions = new ArrayList&lt;&gt;();\r\n\r\nDeviceTelemetry.Class\r\n\r\n    private String name;\r\n\tprivate String description;\r\n\t@NotNull\r\n\tprivate TelemetryItemType type;\r\n\tprivate String telemetryUnitId;\r\n\tprivate Map&lt;String, String&gt; variables = new HashMap&lt;&gt;();\r\n\r\nDevice.class\r\n\r\n    @NotBlank\r\n\tprivate String uid;\r\n\t@NotBlank\r\n\tprivate String name;\r\n\r\n    enter code here\r\n\r\n\r\nMy code query is something like this\r\n\r\n    \tpublic static List&lt;Device&gt; getFilteredTelemetries(DeviceType deviceType) {\r\n\t\tList&lt;DeviceTelemetry&gt; telemetriesToAdd = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t\r\n\t\t\tdeviceType.getTelemetries().stream()\r\n\t\t\t.filter(f -&gt; f.getName().startsWith(&quot;System_Processor&quot;))\r\n\t\t\t.forEach(f -&gt; {\r\n\t\t\t\ttelemetriesToAdd.add(f);\r\n\t\t\t});\r\n\t\t\tdeviceType.getTelemetries().addAll(telemetriesToAdd);\r\n\t\t\t\t\t\t\t\r\n\t\treturn null;\r\n\t}\r\n\r\ncan anyone please help me, how I return the device list here? Thank you for your help.","title":"spring Boot MongoDB Query","body":"<p>I have the following scenario:-</p>\n<ol>\n<li>Use Device_Type telemetry for searching.</li>\n<li>Should pull any Device that has a telemetry key that start with &quot;processor&quot;.</li>\n</ol>\n<p>Database used : Mongo DB</p>\n<p><strong>Device_Type.Class (Field of Device_Type collection)</strong></p>\n<pre><code>@NotBlank\nprivate String applicationId;\nprivate AcnDeviceCategory deviceCategory;\nprivate boolean editable = CoreConstant.DEFAULT_EDITABLE;\nprivate List&lt;DeviceTelemetry&gt; telemetries = new ArrayList&lt;&gt;();\nprivate Map&lt;String, DeviceStateValueMetadata&gt; stateMetadata = new HashMap&lt;&gt;();\nprivate List&lt;DeviceAction&gt; actions = new ArrayList&lt;&gt;();\n</code></pre>\n<p>DeviceTelemetry.Class</p>\n<pre><code>private String name;\nprivate String description;\n@NotNull\nprivate TelemetryItemType type;\nprivate String telemetryUnitId;\nprivate Map&lt;String, String&gt; variables = new HashMap&lt;&gt;();\n</code></pre>\n<p>Device.class</p>\n<pre><code>@NotBlank\nprivate String uid;\n@NotBlank\nprivate String name;\n\nenter code here\n</code></pre>\n<p>My code query is something like this</p>\n<pre><code>    public static List&lt;Device&gt; getFilteredTelemetries(DeviceType deviceType) {\n    List&lt;DeviceTelemetry&gt; telemetriesToAdd = new ArrayList&lt;&gt;();\n    \n    \n        deviceType.getTelemetries().stream()\n        .filter(f -&gt; f.getName().startsWith(&quot;System_Processor&quot;))\n        .forEach(f -&gt; {\n            telemetriesToAdd.add(f);\n        });\n        deviceType.getTelemetries().addAll(telemetriesToAdd);\n                        \n    return null;\n}\n</code></pre>\n<p>can anyone please help me, how I return the device list here? Thank you for your help.</p>\n"},{"tags":["java","postgresql","exe"],"answers":[{"tags":[],"owner":{"account_id":20010953,"reputation":80,"user_id":14667978,"display_name":"Bj&#246;rn B&#252;ttner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642572583,"creation_date":1642572583,"answer_id":70765971,"question_id":70765697,"body_markdown":"The closest I can think of would be launch4j, adding an exe launcher for your application. This will add the exe, but will not magically make it a desktop-application, for that you may need to adjust code.\r\n\r\nA configuration in the pom.xml would look similar to the following:\r\n\r\n```xml\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.akathist.maven.plugins.launch4j&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;launch4j-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.1.2&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;l4j-gui&lt;/id&gt;\r\n                                &lt;phase&gt;package&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;launch4j&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;headerType&gt;gui&lt;/headerType&gt;\r\n                                    &lt;outfile&gt;target/${project.artifactId}.exe&lt;/outfile&gt;\r\n                                    &lt;jar&gt;target/${project.artifactId}.jar&lt;/jar&gt;\r\n                                    &lt;dontWrapJar&gt;false&lt;/dontWrapJar&gt;\r\n                                    &lt;addDependencies&gt;true&lt;/addDependencies&gt;\r\n                                    &lt;errTitle&gt;Error in launch4j plugin&lt;/errTitle&gt;\r\n                                    &lt;classPath&gt;\r\n                                        &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n                                    &lt;/classPath&gt;\r\n                                    &lt;icon&gt;src/main/resources/Images/logo.ico&lt;/icon&gt;\r\n                                    &lt;jre&gt;\r\n                                        &lt;path&gt;./java&lt;/path&gt;\r\n                                    &lt;/jre&gt;\r\n                                    &lt;versionInfo&gt;\r\n                                        &lt;fileVersion&gt;${project.version}.0&lt;/fileVersion&gt;\r\n                                        &lt;txtFileVersion&gt;${project.version}.0&lt;/txtFileVersion&gt;\r\n                                        &lt;fileDescription&gt;${description}&lt;/fileDescription&gt;\r\n                                        &lt;copyright&gt;Copyright(c) ${distributor}&lt;/copyright&gt;\r\n                                        &lt;companyName&gt;${distributor}&lt;/companyName&gt;\r\n                                        &lt;productVersion&gt;${project.version}.0&lt;/productVersion&gt;\r\n                                        &lt;txtProductVersion&gt;${project.version}.0&lt;/txtProductVersion&gt;\r\n                                        &lt;productName&gt;${project.artifactId}&lt;/productName&gt;\r\n                                        &lt;internalName&gt;${project.artifactId}&lt;/internalName&gt;\r\n                                        &lt;originalFilename&gt;${project.artifactId}.exe&lt;/originalFilename&gt;\r\n                                        &lt;language&gt;ENGLISH_UK&lt;/language&gt;\r\n                                    &lt;/versionInfo&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n```","title":"Make windows stand-alone executable file for spring boot project and angular project which can access offline in windows","body":"<p>The closest I can think of would be launch4j, adding an exe launcher for your application. This will add the exe, but will not magically make it a desktop-application, for that you may need to adjust code.</p>\n<p>A configuration in the pom.xml would look similar to the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.akathist.maven.plugins.launch4j&lt;/groupId&gt;\n                        &lt;artifactId&gt;launch4j-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.1.2&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;l4j-gui&lt;/id&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;launch4j&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;headerType&gt;gui&lt;/headerType&gt;\n                                    &lt;outfile&gt;target/${project.artifactId}.exe&lt;/outfile&gt;\n                                    &lt;jar&gt;target/${project.artifactId}.jar&lt;/jar&gt;\n                                    &lt;dontWrapJar&gt;false&lt;/dontWrapJar&gt;\n                                    &lt;addDependencies&gt;true&lt;/addDependencies&gt;\n                                    &lt;errTitle&gt;Error in launch4j plugin&lt;/errTitle&gt;\n                                    &lt;classPath&gt;\n                                        &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n                                    &lt;/classPath&gt;\n                                    &lt;icon&gt;src/main/resources/Images/logo.ico&lt;/icon&gt;\n                                    &lt;jre&gt;\n                                        &lt;path&gt;./java&lt;/path&gt;\n                                    &lt;/jre&gt;\n                                    &lt;versionInfo&gt;\n                                        &lt;fileVersion&gt;${project.version}.0&lt;/fileVersion&gt;\n                                        &lt;txtFileVersion&gt;${project.version}.0&lt;/txtFileVersion&gt;\n                                        &lt;fileDescription&gt;${description}&lt;/fileDescription&gt;\n                                        &lt;copyright&gt;Copyright(c) ${distributor}&lt;/copyright&gt;\n                                        &lt;companyName&gt;${distributor}&lt;/companyName&gt;\n                                        &lt;productVersion&gt;${project.version}.0&lt;/productVersion&gt;\n                                        &lt;txtProductVersion&gt;${project.version}.0&lt;/txtProductVersion&gt;\n                                        &lt;productName&gt;${project.artifactId}&lt;/productName&gt;\n                                        &lt;internalName&gt;${project.artifactId}&lt;/internalName&gt;\n                                        &lt;originalFilename&gt;${project.artifactId}.exe&lt;/originalFilename&gt;\n                                        &lt;language&gt;ENGLISH_UK&lt;/language&gt;\n                                    &lt;/versionInfo&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":11508102,"reputation":1,"user_id":8433760,"display_name":"JAY KALARIYA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642572583,"creation_date":1642570154,"question_id":70765697,"body_markdown":"I have one jar file which bundles with UI now I want to make one standalone window executable file. in the jar file, I have code with PostgreSQL database tomcat server \r\n my pom file for the project like\r\n\r\n\r\nI want only one exe which has run directly on double click \r\n\r\n``` &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;dev.marco&lt;/groupId&gt;\r\n        &lt;artifactId&gt;java-angular-example&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.build.outputEncoding&gt;UTF-8&lt;/project.build.outputEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;frontend&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n       ....\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;dev.marco.ShlowinApplication&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n...\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Make windows stand-alone executable file for spring boot project and angular project which can access offline in windows","body":"<p>I have one jar file which bundles with UI now I want to make one standalone window executable file. in the jar file, I have code with PostgreSQL database tomcat server\nmy pom file for the project like</p>\n<p>I want only one exe which has run directly on double click</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;dev.marco&lt;/groupId&gt;\n        &lt;artifactId&gt;java-angular-example&lt;/artifactId&gt;\n        &lt;version&gt;0.1-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.build.outputEncoding&gt;UTF-8&lt;/project.build.outputEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n            &lt;artifactId&gt;frontend&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n       ....\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;dev.marco.ShlowinApplication&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n...\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1642320283,"post_id":70728161,"comment_id":125035898,"body_markdown":"Start by having a look at [How to Use Combo Boxes](https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html) - you should learn that all Swing components come with a &quot;model&quot;, which can be independent on the component, so you should be updating the model.  Also, Swing is not thread safe, so beware of that as well","body":"Start by having a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html\" rel=\"nofollow noreferrer\">How to Use Combo Boxes</a> - you should learn that all Swing components come with a &quot;model&quot;, which can be independent on the component, so you should be updating the model.  Also, Swing is not thread safe, so beware of that as well"},{"owner":{"account_id":23954419,"reputation":23,"user_id":17945507,"display_name":"Nick Fury"},"score":0,"creation_date":1642328239,"post_id":70728161,"comment_id":125037236,"body_markdown":"I understand the model part, my createCustomComponents gets called before I can set jComboBox.setModel(model), how do I update the jComboBox from an outside class?","body":"I understand the model part, my createCustomComponents gets called before I can set jComboBox.setModel(model), how do I update the jComboBox from an outside class?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1642329154,"post_id":70728161,"comment_id":125037410,"body_markdown":"The [JComboBox API](https://docs.oracle.com/javase/8/docs/api/javax/swing/JComboBox.html) has all kinds of useful methods, including `getModel` and `setModel`, just to name two.","body":"The <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JComboBox.html\" rel=\"nofollow noreferrer\">JComboBox API</a> has all kinds of useful methods, including <code>getModel</code> and <code>setModel</code>, just to name two."},{"owner":{"account_id":23954419,"reputation":23,"user_id":17945507,"display_name":"Nick Fury"},"score":0,"creation_date":1642571830,"post_id":70728161,"comment_id":125103093,"body_markdown":"I needed a reference of the already instantiated combobox, the below code helped me.\nMyComboBox myComboBox = (MyComboBox) ActionManager.getInstance().getAction(&quot;searchThread&quot;);\n        myComboBox.updateUI(newList);","body":"I needed a reference of the already instantiated combobox, the below code helped me. MyComboBox myComboBox = (MyComboBox) ActionManager.getInstance().getAction(&quot;searchThread&quot;);         myComboBox.updateUI(newList);"},{"owner":{"account_id":23954419,"reputation":23,"user_id":17945507,"display_name":"Nick Fury"},"score":0,"creation_date":1642571870,"post_id":70728161,"comment_id":125103103,"body_markdown":"Another method exposed in MyComboBox called updateUI:\n\npublic void updateUI(List&lt;String&gt; ids) {\n        this.ids = ids;\n        String[] array = this.ids.toArray(new String[0]);\n\n        jComboBox.setModel(new DefaultComboBoxModel&lt;&gt;(array));\n\n        jComboBox.setSelectedIndex(0);\n\n        jComboBox.updateUI();\n    }","body":"Another method exposed in MyComboBox called updateUI:  public void updateUI(List&lt;String&gt; ids) {         this.ids = ids;         String[] array = this.ids.toArray(new String[0]);          jComboBox.setModel(new DefaultComboBoxModel&lt;&gt;(array));          jComboBox.setSelectedIndex(0);          jComboBox.updateUI();     }"}],"answers":[{"tags":[],"owner":{"account_id":23954419,"reputation":23,"user_id":17945507,"display_name":"Nick Fury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642572004,"creation_date":1642572004,"answer_id":70765910,"question_id":70728161,"body_markdown":"I needed a reference to the already instantiated combobox. \r\nI got it with \r\n\r\n    MyComboBox myComboBox = (MyComboBox) ActionManager.getInstance().getAction(&quot;searchThread&quot;)\r\n\r\nI added another method in MyComboBox:\r\n\r\n    public void updateUI(List&lt;String&gt; ids) {\r\n            this.ids = ids;\r\n            String[] array = this.ids.toArray(new String[0]);\r\n    \r\n            jComboBox.setModel(new DefaultComboBoxModel&lt;&gt;(array));\r\n    \r\n            jComboBox.setSelectedIndex(0);\r\n    \r\n            jComboBox.updateUI();\r\n        }\r\n\r\nand used:\r\n\r\n    myComboBox.updateUI(newList);\r\n\r\nThat solved my problem.","title":"How to fill in ComboBox from an API call?","body":"<p>I needed a reference to the already instantiated combobox.\nI got it with</p>\n<pre><code>MyComboBox myComboBox = (MyComboBox) ActionManager.getInstance().getAction(&quot;searchThread&quot;)\n</code></pre>\n<p>I added another method in MyComboBox:</p>\n<pre><code>public void updateUI(List&lt;String&gt; ids) {\n        this.ids = ids;\n        String[] array = this.ids.toArray(new String[0]);\n\n        jComboBox.setModel(new DefaultComboBoxModel&lt;&gt;(array));\n\n        jComboBox.setSelectedIndex(0);\n\n        jComboBox.updateUI();\n    }\n</code></pre>\n<p>and used:</p>\n<pre><code>myComboBox.updateUI(newList);\n</code></pre>\n<p>That solved my problem.</p>\n"}],"owner":{"account_id":23954419,"reputation":23,"user_id":17945507,"display_name":"Nick Fury"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642572004,"creation_date":1642318526,"question_id":70728161,"body_markdown":"I need to call an API, get a response, add items to ComboBox and update the view in the plugin.\r\n\r\n[Attached is the image of the combobox][1]\r\n\r\n  [1]: https://i.stack.imgur.com/KqW7h.png\r\n\r\nI need to update the thread Ids as they load from an API. My custom Combobox for this is as shown below. I am not sure how to update the custom component from outside the class. Any help? \r\n\r\n    public class MyComboBox extends AnAction implements CustomComponentAction {\r\n        @Override\r\n        public void actionPerformed(@NotNull AnActionEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public @NotNull JComponent createCustomComponent(@NotNull Presentation presentation, @NotNull String place) {\r\n    \r\n            ComboBox&lt;String&gt; jComboBox = new ComboBox&lt;&gt;();\r\n            jComboBox.setMinLength(100);\r\n            jComboBox.addItem(&quot;Thread Id: &quot; + UUID.randomUUID().toString());\r\n            jComboBox.addItem(&quot;Thread Id: &quot; + UUID.randomUUID().toString());\r\n            jComboBox.setEnabled(true);\r\n    \r\n            return jComboBox;\r\n    \r\n        }\r\n    \r\n    }","title":"How to fill in ComboBox from an API call?","body":"<p>I need to call an API, get a response, add items to ComboBox and update the view in the plugin.</p>\n<p><a href=\"https://i.stack.imgur.com/KqW7h.png\" rel=\"nofollow noreferrer\">Attached is the image of the combobox</a></p>\n<p>I need to update the thread Ids as they load from an API. My custom Combobox for this is as shown below. I am not sure how to update the custom component from outside the class. Any help?</p>\n<pre><code>public class MyComboBox extends AnAction implements CustomComponentAction {\n    @Override\n    public void actionPerformed(@NotNull AnActionEvent e) {\n\n    }\n\n    @Override\n    public @NotNull JComponent createCustomComponent(@NotNull Presentation presentation, @NotNull String place) {\n\n        ComboBox&lt;String&gt; jComboBox = new ComboBox&lt;&gt;();\n        jComboBox.setMinLength(100);\n        jComboBox.addItem(&quot;Thread Id: &quot; + UUID.randomUUID().toString());\n        jComboBox.addItem(&quot;Thread Id: &quot; + UUID.randomUUID().toString());\n        jComboBox.setEnabled(true);\n\n        return jComboBox;\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","service"],"comments":[{"owner":{"account_id":17921829,"reputation":572,"user_id":13021452,"display_name":"Ivan Garza"},"score":0,"creation_date":1638554909,"post_id":70218875,"comment_id":124128593,"body_markdown":"Are you certain you&#39;ve added mic permissions to your Manifest, and that they&#39;ve been accepted?","body":"Are you certain you&#39;ve added mic permissions to your Manifest, and that they&#39;ve been accepted?"},{"owner":{"account_id":14290476,"reputation":119,"user_id":10322610,"display_name":"H.jalali"},"score":0,"creation_date":1638555115,"post_id":70218875,"comment_id":124128660,"body_markdown":"yes! but can&#39;t get `allowed all time `","body":"yes! but can&#39;t get <code>allowed all time </code>"},{"owner":{"account_id":14290476,"reputation":119,"user_id":10322610,"display_name":"H.jalali"},"score":0,"creation_date":1638555188,"post_id":70218875,"comment_id":124128676,"body_markdown":"you mean this -&gt; `&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;`","body":"you mean this -&gt; <code>&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; &#47;&gt;</code>"},{"owner":{"account_id":17921829,"reputation":572,"user_id":13021452,"display_name":"Ivan Garza"},"score":0,"creation_date":1638555237,"post_id":70218875,"comment_id":124128688,"body_markdown":"Correct. And well, starting with Android 11 you cannot have microphone permissions to be &quot;allowed all of the time&quot; -- check out this link for more info: https://developer.android.com/about/versions/11/privacy/permissions#one-time","body":"Correct. And well, starting with Android 11 you cannot have microphone permissions to be &quot;allowed all of the time&quot; -- check out this link for more info: <a href=\"https://developer.android.com/about/versions/11/privacy/permissions#one-time\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/11/privacy/&hellip;</a>"},{"owner":{"account_id":14290476,"reputation":119,"user_id":10322610,"display_name":"H.jalali"},"score":0,"creation_date":1638555301,"post_id":70218875,"comment_id":124128704,"body_markdown":"yes i know, but how some app can record call in background?","body":"yes i know, but how some app can record call in background?"},{"owner":{"account_id":14290476,"reputation":119,"user_id":10322610,"display_name":"H.jalali"},"score":0,"creation_date":1638555351,"post_id":70218875,"comment_id":124128716,"body_markdown":"i think can do that with `accessibility service ` but i don&#39;t know how","body":"i think can do that with <code>accessibility service </code> but i don&#39;t know how"},{"owner":{"account_id":17921829,"reputation":572,"user_id":13021452,"display_name":"Ivan Garza"},"score":0,"creation_date":1638556253,"post_id":70218875,"comment_id":124128985,"body_markdown":"I&#39;ve never used an `AccessibilityService` but this documentation https://developer.android.com/reference/android/accessibilityservice/AccessibilityService seems to imply that is meant for disabilities and such.  Are you using a background or foreground service to do the recordings? Perhaps try the alternative","body":"I&#39;ve never used an <code>AccessibilityService</code> but this documentation <a href=\"https://developer.android.com/reference/android/accessibilityservice/AccessibilityService\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/accessibilityservice&zwnj;&#8203;/&hellip;</a> seems to imply that is meant for disabilities and such.  Are you using a background or foreground service to do the recordings? Perhaps try the alternative"},{"owner":{"account_id":14290476,"reputation":119,"user_id":10322610,"display_name":"H.jalali"},"score":0,"creation_date":1639015985,"post_id":70218875,"comment_id":124243065,"body_markdown":"background. why?","body":"background. why?"},{"owner":{"account_id":8881914,"reputation":770,"user_id":6631692,"display_name":"Ahmad"},"score":0,"creation_date":1666045246,"post_id":70218875,"comment_id":130838271,"body_markdown":"found any solution ??","body":"found any solution ??"}],"answers":[{"tags":[],"owner":{"account_id":6605717,"reputation":238,"user_id":5102602,"display_name":"Shashank Bhong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642571939,"creation_date":1642571939,"answer_id":70765900,"question_id":70218875,"body_markdown":"To allow voice recording in Service you can use [ref]( https://developer.android.com/guide/components/foreground-services#types)\r\n\r\n```\r\n&lt;manifest&gt;\r\n    ...\r\n    &lt;service ...\r\n        android:foregroundServiceType=&quot;microphone&quot; /&gt;\r\n&lt;/manifest&gt;\r\n```\r\n","title":"android 11 (api 30): recording voice in background service no working","body":"<p>To allow voice recording in Service you can use <a href=\"https://developer.android.com/guide/components/foreground-services#types\" rel=\"nofollow noreferrer\">ref</a></p>\n<pre><code>&lt;manifest&gt;\n    ...\n    &lt;service ...\n        android:foregroundServiceType=&quot;microphone&quot; /&gt;\n&lt;/manifest&gt;\n</code></pre>\n"}],"owner":{"account_id":14290476,"reputation":119,"user_id":10322610,"display_name":"H.jalali"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1692,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642571939,"creation_date":1638554803,"question_id":70218875,"body_markdown":"for recording call and voice in background on API 29 and lower , i don&#39;t have any problem (i use receiver and background service together)\r\nbut when i using API 30 and above , my app crashed `permission denied`.\r\n\r\nin my research i get must use `accessibility service` but i don&#39;t know how!\r\n\r\n```xml\r\n&lt;service\r\n     android:name=&quot;.recordService&quot;\r\n     android:process=&quot;:remote&quot;\r\n     android:foregroundServiceType=&quot;microphone&quot;\r\n     android:permission=&quot;android.permission.BIND_ACCESSIBILITY_SERVICE&quot;\r\n     android:exported=&quot;true&quot;&gt;\r\n     &lt;intent-filter&gt;\r\n          &lt;action android:name=&quot;android.accessibilityservice.AccessibilityService&quot; /&gt;\r\n     &lt;/intent-filter&gt;\r\n     &lt;meta-data android:name=&quot;android.accessibilityservice&quot; android:resource=&quot;@xml/accessibilityservice&quot; /&gt;\r\n&lt;/service&gt;\r\n\r\n&lt;receiver\r\n    android:name=&quot;ReceiverSMS&quot;\r\n    android:process=&quot;:remote&quot;\r\n    android:enabled=&quot;true&quot;\r\n    android:permission=&quot;android.permission.BROADCAST_SMS&quot;\r\n    android:exported=&quot;true&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n       &lt;!-- BROADCAST_SMS --&gt;\r\n       &lt;action android:name=&quot;android.provider.Telephony.SMS_DELIVER&quot; /&gt;\r\n       &lt;action android:name=&quot;android.provider.Telephony.SMS_RECEIVED&quot;/&gt;\r\n       &lt;!-- CALL --&gt;\r\n       &lt;action android:name=&quot;android.intent.action.NEW_OUTGOING_CALL&quot; /&gt;\r\n       &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/receiver&gt;\r\n\r\n```\r\n\r\n\r\n```java\r\nmRecorder = new MediaRecorder();\r\nmRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\nmRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\r\nmRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\r\nmRecorder.setOutputFile(__FILE__);\r\n```","title":"android 11 (api 30): recording voice in background service no working","body":"<p>for recording call and voice in background on API 29 and lower , i don't have any problem (i use receiver and background service together)\nbut when i using API 30 and above , my app crashed <code>permission denied</code>.</p>\n<p>in my research i get must use <code>accessibility service</code> but i don't know how!</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;service\n     android:name=&quot;.recordService&quot;\n     android:process=&quot;:remote&quot;\n     android:foregroundServiceType=&quot;microphone&quot;\n     android:permission=&quot;android.permission.BIND_ACCESSIBILITY_SERVICE&quot;\n     android:exported=&quot;true&quot;&gt;\n     &lt;intent-filter&gt;\n          &lt;action android:name=&quot;android.accessibilityservice.AccessibilityService&quot; /&gt;\n     &lt;/intent-filter&gt;\n     &lt;meta-data android:name=&quot;android.accessibilityservice&quot; android:resource=&quot;@xml/accessibilityservice&quot; /&gt;\n&lt;/service&gt;\n\n&lt;receiver\n    android:name=&quot;ReceiverSMS&quot;\n    android:process=&quot;:remote&quot;\n    android:enabled=&quot;true&quot;\n    android:permission=&quot;android.permission.BROADCAST_SMS&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n       &lt;!-- BROADCAST_SMS --&gt;\n       &lt;action android:name=&quot;android.provider.Telephony.SMS_DELIVER&quot; /&gt;\n       &lt;action android:name=&quot;android.provider.Telephony.SMS_RECEIVED&quot;/&gt;\n       &lt;!-- CALL --&gt;\n       &lt;action android:name=&quot;android.intent.action.NEW_OUTGOING_CALL&quot; /&gt;\n       &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>mRecorder = new MediaRecorder();\nmRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\nmRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\nmRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\nmRecorder.setOutputFile(__FILE__);\n</code></pre>\n"},{"tags":["java","spring-boot","authentication","spring-security","azure-active-directory"],"comments":[{"owner":{"display_name":"user9065831"},"score":0,"creation_date":1577635296,"post_id":59520785,"comment_id":105212888,"body_markdown":"we have done something similar, during AD authentication we save the username coming from AD service and then, check in the database. Isn&#39;t it possible for you to add the same check in &#39;aadAuthFilter&#39;. Are you able to get the username ??","body":"we have done something similar, during AD authentication we save the username coming from AD service and then, check in the database. Isn&#39;t it possible for you to add the same check in &#39;aadAuthFilter&#39;. Are you able to get the username ??"},{"owner":{"account_id":15882680,"reputation":27,"user_id":11460020,"display_name":"Karthik"},"score":0,"creation_date":1577637905,"post_id":59520785,"comment_id":105213544,"body_markdown":"@AmanGarg Can u please direct me to a resource (or) provide a working example on how to do this. Thank you.","body":"@AmanGarg Can u please direct me to a resource (or) provide a working example on how to do this. Thank you."},{"owner":{"display_name":"user9065831"},"score":0,"creation_date":1577696746,"post_id":59520785,"comment_id":105226393,"body_markdown":"One way could be in `oidcUserService` in method `public OidcUser loadUser(OidcUserRequest userRequest) throws OAuth2AuthenticationException`, `oidcUser` implements `DefaultOAuth2User`  class. call `getName` method to get the username and then, check user in DB in loadUser method itself,\nRef: https://github.com/spring-projects/spring-security/blob/master/oauth2/oauth2-client/src/main/java/org/springframework/security/oauth2/client/oidc/userinfo/OidcUserService.java","body":"One way could be in <code>oidcUserService</code> in method <code>public OidcUser loadUser(OidcUserRequest userRequest) throws OAuth2AuthenticationException</code>, <code>oidcUser</code> implements <code>DefaultOAuth2User</code>  class. call <code>getName</code> method to get the username and then, check user in DB in loadUser method itself, Ref: <a href=\"https://github.com/spring-projects/spring-security/blob/master/oauth2/oauth2-client/src/main/java/org/springframework/security/oauth2/client/oidc/userinfo/OidcUserService.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/blob/master/oauth&zwnj;&#8203;2/&hellip;</a>"},{"owner":{"account_id":15882680,"reputation":27,"user_id":11460020,"display_name":"Karthik"},"score":0,"creation_date":1577976277,"post_id":59520785,"comment_id":105298180,"body_markdown":"@AmanGarg I have updated with custom OidcUserService, But still no use. Updates latest code is provided in Edit 1","body":"@AmanGarg I have updated with custom OidcUserService, But still no use. Updates latest code is provided in Edit 1"}],"answers":[{"tags":[],"owner":{"account_id":15384876,"reputation":15178,"user_id":11099213,"display_name":"Hury Shen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577946711,"creation_date":1577946711,"answer_id":59559186,"question_id":59520785,"body_markdown":"Per my understanding, you don&#39;t need to use Mysql database to store the user and their roles, we can implement this requirement just by Azure Active Directory.\r\n\r\nFirst, we can create a group in Azure Active Directory by clicking &quot;Groups&quot; --&gt; &quot;New group&quot; buttons on azure portal and select the members which you want to this group from the employee in you azure ad(shown as below screenshots):\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThen go to your application in azure ad by clicking &quot;App registrations&quot; and click &quot;Manifest&quot; button.\r\n[![enter image description here][4]][4]\r\n\r\nYou can also add more roles under the &quot;appRoles&quot; property in the screenshot above.\r\n\r\nAfter that, in your application in azure ad, please click &quot;Managed application in local directory&quot;.\r\n[![enter image description here][5]][5]\r\n\r\nThen click &quot;Users and groups&quot; --&gt; &quot;Add user&quot;.\r\n[![enter image description here][6]][6]\r\n\r\nChoose the group which we created just now and select a role for it.\r\n[![enter image description here][7]][7]\r\n\r\nNow you can do service level authorization for the user by the annotation you mentioned in your question(@PreAuthorize), you can also refer to this [tutorial][8].\r\n\r\nBy the way, if we want to assign a role to a group in azure ad, we need to have Premium P1 or P2 plan for azure ad([Azure Active Directory pricing][9]). If you don&#39;t have Premium plan, you can just assign a role to each user but not a group in the last screenshot.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nCgsz.png\r\n  [2]: https://i.stack.imgur.com/ANLLb.png\r\n  [3]: https://i.stack.imgur.com/ZgDzN.png\r\n  [4]: https://i.stack.imgur.com/hMGeK.png\r\n  [5]: https://i.stack.imgur.com/nwsVQ.png\r\n  [6]: https://i.stack.imgur.com/THrXO.png\r\n  [7]: https://i.stack.imgur.com/Yo1GH.png\r\n  [8]: https://azure.microsoft.com/es-mx/blog/spring-security-azure-ad/\r\n  [9]: https://azure.microsoft.com/en-us/pricing/details/active-directory/","title":"Authenticating With Azure Directory and Fetch the Valid User Roles From Database","body":"<p>Per my understanding, you don't need to use Mysql database to store the user and their roles, we can implement this requirement just by Azure Active Directory.</p>\n\n<p>First, we can create a group in Azure Active Directory by clicking \"Groups\" --> \"New group\" buttons on azure portal and select the members which you want to this group from the employee in you azure ad(shown as below screenshots):\n<a href=\"https://i.stack.imgur.com/nCgsz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nCgsz.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ANLLb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ANLLb.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ZgDzN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZgDzN.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then go to your application in azure ad by clicking \"App registrations\" and click \"Manifest\" button.\n<a href=\"https://i.stack.imgur.com/hMGeK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hMGeK.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can also add more roles under the \"appRoles\" property in the screenshot above.</p>\n\n<p>After that, in your application in azure ad, please click \"Managed application in local directory\".\n<a href=\"https://i.stack.imgur.com/nwsVQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nwsVQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then click \"Users and groups\" --> \"Add user\".\n<a href=\"https://i.stack.imgur.com/THrXO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/THrXO.png\" alt=\"enter image description here\"></a></p>\n\n<p>Choose the group which we created just now and select a role for it.\n<a href=\"https://i.stack.imgur.com/Yo1GH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yo1GH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now you can do service level authorization for the user by the annotation you mentioned in your question(@PreAuthorize), you can also refer to this <a href=\"https://azure.microsoft.com/es-mx/blog/spring-security-azure-ad/\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n\n<p>By the way, if we want to assign a role to a group in azure ad, we need to have Premium P1 or P2 plan for azure ad(<a href=\"https://azure.microsoft.com/en-us/pricing/details/active-directory/\" rel=\"nofollow noreferrer\">Azure Active Directory pricing</a>). If you don't have Premium plan, you can just assign a role to each user but not a group in the last screenshot.</p>\n"}],"owner":{"account_id":15882680,"reputation":27,"user_id":11460020,"display_name":"Karthik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1559,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642571571,"creation_date":1577633861,"question_id":59520785,"body_markdown":"I have to design a application for an organization where Authentication need to be happen Using SSO with Azure Directory using spring boot. \r\n\r\nAll the employee Information is stored in the AD. My custom application will have it&#39;s own users and their roles which are saved in the Database. Not every Employee in the organization will have access to this application. Admin will add user and their roles in Database(Mysql). \r\n\r\nI am able to figure it out to do SSO with AD by adding relevant details in properties-file and configuring WebSecurify Config class\r\n\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n       @Autowired\r\n       private OAuth2UserService&lt;OidcUserRequest, OidcUser&gt; oidcUserService;\r\n\r\n       @Autowired\r\n       private AADAuthenticationFilter aadAuthFilter;\r\n\r\n\r\n       @Override\r\n       protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeRequests().antMatchers(HttpMethod.OPTIONS, \r\n                 &quot;/**&quot;).permitAll().anyRequest().authenticated()\r\n                .and()\r\n                .oauth2Login()\r\n                .userInfoEndpoint()\r\n                .oidcUserService(oidcUserService);\r\n\r\n        http\r\n                .addFilterBefore(aadAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n        http\r\n                .headers()\r\n                .frameOptions().sameOrigin()\r\n                .cacheControl();\r\n\r\n           http\r\n                  .csrf().disable()\r\n                  .authorizeRequests().antMatchers(HttpMethod.OPTIONS, \r\n                  &quot;/**&quot;).permitAll().anyRequest().authenticated()\r\n         }\r\n\r\n     }\r\n\r\n\r\nOnce the user is validated, In response i will get JWT token, Which i will use for all my further API requests. But the Problem is, Here i am allowing all the Employees to access the application since he is authenticated using AD. But, Once User is Authenticated i want to check whether user is available in the database or not, If he is not available, i need to send invalid user, if he is valid user to my application, i need to fetch roles and send it to front end as a Valid response.\r\n\r\nI also want to do service level authorization for the user, I have used @PreAuthorize Annotation for most of my services.\r\n    @PreAuthorize(&quot;hasRole(&#39;ROLE_VIEWER&#39;) or hasRole(&#39;ROLE_EDITOR&#39;)&quot;)  \r\n \r\n **Edit 1**\r\n\r\n    public class UserDetailsServiceImpl extends OidcUserService implements \r\n    CustomUserDetailsService {\r\n    @Override\r\n\tpublic OidcUser loadUser(OidcUserRequest userRequest) throws \r\n    OAuth2AuthenticationException {\r\n\t\t\r\n\t\tOidcUser oidcUser;\r\n\t\t\r\n\t\tString mail=userRequest.getClientRegistration().getRegistrationId();\r\n\t\t\r\n\t\t Set&lt;GrantedAuthority&gt; grantedAuthorities = getAuthorities(mail);\r\n\t\t\r\n\t\toidcUser = new DefaultOidcUser(grantedAuthorities, \r\n        userRequest.getIdToken());\r\n\t\t\r\n\t\treturn oidcUser;\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate Set&lt;GrantedAuthority&gt; getAuthorities(String email) {\r\n\t\t  List&lt;RoleIdDetails&gt; \r\n         roleIdDetails=usersRepository.getRoleIdDeatils(email);\r\n           final Set&lt;GrantedAuthority&gt; authorities = \r\n        roleIdDetails.stream().map(role -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot; + \r\n      role.getRoleName().toString().toUpperCase())).collect(Collectors.toSet());\r\n        return authorities;\r\n       }\r\n     } \r\n\r\nI have updated With My Own Custom OidcUserService, But Still I&#39;m not able to set the roles.","title":"Authenticating With Azure Directory and Fetch the Valid User Roles From Database","body":"<p>I have to design a application for an organization where Authentication need to be happen Using SSO with Azure Directory using spring boot. </p>\n\n<p>All the employee Information is stored in the AD. My custom application will have it's own users and their roles which are saved in the Database. Not every Employee in the organization will have access to this application. Admin will add user and their roles in Database(Mysql). </p>\n\n<p>I am able to figure it out to do SSO with AD by adding relevant details in properties-file and configuring WebSecurify Config class</p>\n\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n   @Autowired\n   private OAuth2UserService&lt;OidcUserRequest, OidcUser&gt; oidcUserService;\n\n   @Autowired\n   private AADAuthenticationFilter aadAuthFilter;\n\n\n   @Override\n   protected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n            .authorizeRequests().antMatchers(HttpMethod.OPTIONS, \n             \"/**\").permitAll().anyRequest().authenticated()\n            .and()\n            .oauth2Login()\n            .userInfoEndpoint()\n            .oidcUserService(oidcUserService);\n\n    http\n            .addFilterBefore(aadAuthFilter, UsernamePasswordAuthenticationFilter.class);\n\n    http\n            .headers()\n            .frameOptions().sameOrigin()\n            .cacheControl();\n\n       http\n              .csrf().disable()\n              .authorizeRequests().antMatchers(HttpMethod.OPTIONS, \n              \"/**\").permitAll().anyRequest().authenticated()\n     }\n\n }\n</code></pre>\n\n<p>Once the user is validated, In response i will get JWT token, Which i will use for all my further API requests. But the Problem is, Here i am allowing all the Employees to access the application since he is authenticated using AD. But, Once User is Authenticated i want to check whether user is available in the database or not, If he is not available, i need to send invalid user, if he is valid user to my application, i need to fetch roles and send it to front end as a Valid response.</p>\n\n<p>I also want to do service level authorization for the user, I have used @PreAuthorize Annotation for most of my services.\n    @PreAuthorize(\"hasRole('ROLE_VIEWER') or hasRole('ROLE_EDITOR')\")  </p>\n\n<p><strong>Edit 1</strong></p>\n\n<pre><code>public class UserDetailsServiceImpl extends OidcUserService implements \nCustomUserDetailsService {\n@Override\npublic OidcUser loadUser(OidcUserRequest userRequest) throws \nOAuth2AuthenticationException {\n\n    OidcUser oidcUser;\n\n    String mail=userRequest.getClientRegistration().getRegistrationId();\n\n     Set&lt;GrantedAuthority&gt; grantedAuthorities = getAuthorities(mail);\n\n    oidcUser = new DefaultOidcUser(grantedAuthorities, \n    userRequest.getIdToken());\n\n    return oidcUser;\n\n\n}\n\nprivate Set&lt;GrantedAuthority&gt; getAuthorities(String email) {\n      List&lt;RoleIdDetails&gt; \n     roleIdDetails=usersRepository.getRoleIdDeatils(email);\n       final Set&lt;GrantedAuthority&gt; authorities = \n    roleIdDetails.stream().map(role -&gt; new SimpleGrantedAuthority(\"ROLE_\" + \n  role.getRoleName().toString().toUpperCase())).collect(Collectors.toSet());\n    return authorities;\n   }\n } \n</code></pre>\n\n<p>I have updated With My Own Custom OidcUserService, But Still I'm not able to set the roles.</p>\n"},{"tags":["java","list","class","sorting","comparator"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642571543,"creation_date":1642571543,"answer_id":70765852,"question_id":70765785,"body_markdown":"```\r\nPotentialHS :: getElementWithDistance\r\n```\r\n\r\nis shorthand for:\r\n\r\n```\r\n(PotentialHS x) -&gt; x.getElementWithDistance()\r\n```\r\n\r\nIn other words, it says: To sort this stream, applying the following operation:\r\n\r\n* Per item in the stream, fetch the thing you get by invoking `getElementWithDistance()` on it. Treat that as a double, then sort by those doubles.\r\n\r\nWhich obviously won&#39;t work - `ElementWithDistance` is not a double.\r\n\r\nYou want:\r\n\r\n```\r\n(PotentialHS x) -&gt; x.getElementWithDistance().getDistance();\r\n```\r\n\r\n\r\nNote also how that is a `Double`, not a `double`, so that&#39;s a mistake (fix it. `Double` is the non-primitive wrapper type around `double`, and you really don&#39;t want it. It has an extra value (`null`), and is grievously inefficient. It also means you can&#39;t do things like &#39;give me the largest double in this stream&#39;.\r\n\r\nThis gets you:\r\n\r\n```\r\nList&lt;PotentialHS&gt; potentialHS = potentialHS.stream().sorted(Comparator.comparingDouble(x -&gt; x.getElementWithDistance().getDistance())).collect(Collectors.toList());\r\n```\r\n","title":"Sort the list of objects by the field in included object","body":"<pre><code>PotentialHS :: getElementWithDistance\n</code></pre>\n<p>is shorthand for:</p>\n<pre><code>(PotentialHS x) -&gt; x.getElementWithDistance()\n</code></pre>\n<p>In other words, it says: To sort this stream, applying the following operation:</p>\n<ul>\n<li>Per item in the stream, fetch the thing you get by invoking <code>getElementWithDistance()</code> on it. Treat that as a double, then sort by those doubles.</li>\n</ul>\n<p>Which obviously won't work - <code>ElementWithDistance</code> is not a double.</p>\n<p>You want:</p>\n<pre><code>(PotentialHS x) -&gt; x.getElementWithDistance().getDistance();\n</code></pre>\n<p>Note also how that is a <code>Double</code>, not a <code>double</code>, so that's a mistake (fix it. <code>Double</code> is the non-primitive wrapper type around <code>double</code>, and you really don't want it. It has an extra value (<code>null</code>), and is grievously inefficient. It also means you can't do things like 'give me the largest double in this stream'.</p>\n<p>This gets you:</p>\n<pre><code>List&lt;PotentialHS&gt; potentialHS = potentialHS.stream().sorted(Comparator.comparingDouble(x -&gt; x.getElementWithDistance().getDistance())).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":18025801,"reputation":149,"user_id":13101805,"display_name":"HappyProgrammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70765852,"answer_count":1,"score":0,"last_activity_date":1642571543,"creation_date":1642571053,"question_id":70765785,"body_markdown":"I want to sort the list of objects potentialHS by the distance in ElementWithDistance class but I can&#39;t get the distnace field in this way. After calling getElementWithDistance i can&#39;t call getDistance. How can I sort my list by the the field in included class? \r\n\r\n\r\n    List&lt;PotentialHS&gt; potentialHS = potentialHS.stream().sorted(Comparator.comparingDouble(PotentialHS :: getElementWithDistance)).collect(Collectors.toList());\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @ToString\r\n    public class PotentialHS {\r\n        private Integer density;\r\n        private Double startDistance;\r\n        private Double lastDistance;\r\n        private List&lt;PMValue&gt; pmv;\r\n        private ElementWithDistance elementWithDistance;\r\n    }\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @ToString\r\n    public class ElementWithDistance  {\r\n        private Long elementId;\r\n        private Double distance;\r\n        private Type type;\r\n    }","title":"Sort the list of objects by the field in included object","body":"<p>I want to sort the list of objects potentialHS by the distance in ElementWithDistance class but I can't get the distnace field in this way. After calling getElementWithDistance i can't call getDistance. How can I sort my list by the the field in included class?</p>\n<pre><code>List&lt;PotentialHS&gt; potentialHS = potentialHS.stream().sorted(Comparator.comparingDouble(PotentialHS :: getElementWithDistance)).collect(Collectors.toList());\n\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Builder\n@ToString\npublic class PotentialHS {\n    private Integer density;\n    private Double startDistance;\n    private Double lastDistance;\n    private List&lt;PMValue&gt; pmv;\n    private ElementWithDistance elementWithDistance;\n}\n\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Builder\n@ToString\npublic class ElementWithDistance  {\n    private Long elementId;\n    private Double distance;\n    private Type type;\n}\n</code></pre>\n"},{"tags":["java","canvas","awt","graphics2d","affinetransform"],"comments":[{"owner":{"account_id":9379507,"reputation":15967,"user_id":7599833,"display_name":"Helder Sepulveda"},"score":0,"creation_date":1638021372,"post_id":70133901,"comment_id":123979056,"body_markdown":"Does it have to be on Java? ... I get a feeling you will get an easier job using an HTML canvas and there are plenty of libraries to make your job easier","body":"Does it have to be on Java? ... I get a feeling you will get an easier job using an HTML canvas and there are plenty of libraries to make your job easier"},{"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"score":0,"creation_date":1638022242,"post_id":70133901,"comment_id":123979250,"body_markdown":"Nope. The Teacher asked for java.awt.Canvas or java.awt.Panel","body":"Nope. The Teacher asked for java.awt.Canvas or java.awt.Panel"},{"owner":{"account_id":9379507,"reputation":15967,"user_id":7599833,"display_name":"Helder Sepulveda"},"score":0,"creation_date":1638052725,"post_id":70133901,"comment_id":123986099,"body_markdown":"In that case then you need to troubleshoot what is going... this question feels like you have multiple issues try to break them down and ask one question per issue, first thing that sticks out like a sore thumb is the upside down `drawString` could that be caused by the negative value in your `AffineTransform.getScaleInstance(1, -1)` ?","body":"In that case then you need to troubleshoot what is going... this question feels like you have multiple issues try to break them down and ask one question per issue, first thing that sticks out like a sore thumb is the upside down <code>drawString</code> could that be caused by the negative value in your <code>AffineTransform.getScaleInstance(1, -1)</code> ?"},{"owner":{"account_id":9379507,"reputation":15967,"user_id":7599833,"display_name":"Helder Sepulveda"},"score":0,"creation_date":1638053351,"post_id":70133901,"comment_id":123986207,"body_markdown":"... and to make it easier for anyone attempting to troubleshoot your problem maybe add a working sample to an online compiler like: https://onecompiler.com/java","body":"... and to make it easier for anyone attempting to troubleshoot your problem maybe add a working sample to an online compiler like: <a href=\"https://onecompiler.com/java\" rel=\"nofollow noreferrer\">onecompiler.com/java</a>"}],"answers":[{"tags":[],"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638106583,"creation_date":1638106583,"answer_id":70143927,"question_id":70133901,"body_markdown":"Thank you for the feedback. I figured out that issue number 1 is born by using the AffineTransform. If I apply the scale and translate on the g2 directly the issue disappears.\r\n\r\nIssue number 2 is a conflict of interest. We couldn&#39;t manage to find and apply the &quot;three magic lines of code&quot; (or whatever number would be required) to from thereon programm in a cartesian coordinate system. Instead we are converting all y-values into this top-level-origin coordinate system. Makes the code hard to read, but with the help debugging we managed.","title":"How to flip entire awt.Canvas vertically","body":"<p>Thank you for the feedback. I figured out that issue number 1 is born by using the AffineTransform. If I apply the scale and translate on the g2 directly the issue disappears.</p>\n<p>Issue number 2 is a conflict of interest. We couldn't manage to find and apply the &quot;three magic lines of code&quot; (or whatever number would be required) to from thereon programm in a cartesian coordinate system. Instead we are converting all y-values into this top-level-origin coordinate system. Makes the code hard to read, but with the help debugging we managed.</p>\n"}],"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642571305,"creation_date":1638008631,"question_id":70133901,"body_markdown":"I am sitting with my son, trying to implement a school homework. The task is to write a program that draws X and Y axis and functions, e.g. Sinus or x&#178; into a awt.Canvas. The issue we are struggeling with is that the root, Point(0,0) of the Canvas is designed to be in the upper left corner. The cartesian coordinate system that we have to have, has the origin in the lower left corner. So we tried to apply a AffineTransform and translate in the paint method of the Canvas, which in essence works but has two issues: \r\n\r\n1st, for whatever reason the related translation doesn&#39;t really moves the origin to the bottom but about 100 pixels to high (see image).\r\nWhen we put in the below code an additional offset of about 100 pixels with ```tx.translate(0, -(getHeight()+100));``` it looks about right.Same issue seems to be true on the right side. There is also unintended free space. We colored the background of the containing Frame in black and the Canvas in grey to exclude an artefact between these two containers. But doesn&#39;t seem to be the case.\r\n\r\n2nd, and that concerns us more, is the side effect that all text, when e.g. adding values to the axes will also be fliped, as you see at our debug info in the plotAxes method.\r\n\r\nHere is what we have done so far.. \r\n\r\n    public class PlotterView extends Canvas {\r\n    \r\n    protected int MINWIDTH = 500;\r\n    protected int MINHEIGHT = 400;\r\n    \r\n    Point[][] lines;\r\n    \r\n    public PlotterView() {\r\n    \tDimension dim = new Dimension(MINWIDTH, MINHEIGHT);\r\n    \tsetPreferredSize(dim);\r\n    \tsetBackground(Color.LIGHT_GRAY);\r\n    }\r\n    \r\n    protected void plotAxes(Graphics2D g) {\r\n    \t\r\n    \tColor defaultColor = g.getColor();  // save to restore defaults in the end\r\n    \tint originX = 5;   // x origin of both axes - shift right\r\n    \tint originY = 5;   // y origin of both axis - shift up\r\n    \t\r\n        // Debug info to compare\r\n    \tg.setColor(Color.BLACK);\r\n    \tg.drawString(&quot;X: &quot; + originX + &quot;; Y: &quot; + originY, originX, originY);\r\n    \r\n    \t// X-Axis\r\n    \tg.setColor(Color.RED);\r\n    \tg.drawLine(originX, originY, MINWIDTH-20, originY);\r\n    \tg.drawLine(MINWIDTH-20, originY, MINWIDTH-30, originY-5);\r\n    \tg.drawLine(MINWIDTH-20, originY, MINWIDTH-30, originY+5);\r\n    \r\n    \t// Y-Axis\r\n    \tg.setColor(Color.BLUE);\r\n    \tg.drawLine(originX, originY,  originX, MINHEIGHT-20);\r\n    \tg.drawLine(originX, MINHEIGHT-20, originX-5, MINHEIGHT-30);\r\n    \tg.drawLine(originX, MINHEIGHT-20, originX+5, MINHEIGHT-30);\r\n    \t\r\n        // Restore defaults\r\n    \tg.setColor(defaultColor);\r\n    \r\n    }\r\n    \r\n    public void paint(Graphics g) { \r\n    \tsuper.paint(g);\r\n    \r\n    \tGraphics2D g2 = (Graphics2D) g; \r\n    \tAffineTransform tx = AffineTransform.getScaleInstance(1, -1);\r\n    \ttx.translate(0, -getHeight());\r\n    \tg2.setTransform(tx);\r\n    \r\n    \tplotAxes(g2);\r\n    }\r\n    }\r\n\r\nOne alternative would be to implement a method that &quot;adjusts&quot; every x-value from upper left to lower left, but that feels like a kind of botch job. \r\n\r\nHow to solve this right? Thank you in advance\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gDei5.png","title":"How to flip entire awt.Canvas vertically","body":"<p>I am sitting with my son, trying to implement a school homework. The task is to write a program that draws X and Y axis and functions, e.g. Sinus or x² into a awt.Canvas. The issue we are struggeling with is that the root, Point(0,0) of the Canvas is designed to be in the upper left corner. The cartesian coordinate system that we have to have, has the origin in the lower left corner. So we tried to apply a AffineTransform and translate in the paint method of the Canvas, which in essence works but has two issues:</p>\n<p>1st, for whatever reason the related translation doesn't really moves the origin to the bottom but about 100 pixels to high (see image).\nWhen we put in the below code an additional offset of about 100 pixels with <code>tx.translate(0, -(getHeight()+100));</code> it looks about right.Same issue seems to be true on the right side. There is also unintended free space. We colored the background of the containing Frame in black and the Canvas in grey to exclude an artefact between these two containers. But doesn't seem to be the case.</p>\n<p>2nd, and that concerns us more, is the side effect that all text, when e.g. adding values to the axes will also be fliped, as you see at our debug info in the plotAxes method.</p>\n<p>Here is what we have done so far..</p>\n<pre><code>public class PlotterView extends Canvas {\n\nprotected int MINWIDTH = 500;\nprotected int MINHEIGHT = 400;\n\nPoint[][] lines;\n\npublic PlotterView() {\n    Dimension dim = new Dimension(MINWIDTH, MINHEIGHT);\n    setPreferredSize(dim);\n    setBackground(Color.LIGHT_GRAY);\n}\n\nprotected void plotAxes(Graphics2D g) {\n    \n    Color defaultColor = g.getColor();  // save to restore defaults in the end\n    int originX = 5;   // x origin of both axes - shift right\n    int originY = 5;   // y origin of both axis - shift up\n    \n    // Debug info to compare\n    g.setColor(Color.BLACK);\n    g.drawString(&quot;X: &quot; + originX + &quot;; Y: &quot; + originY, originX, originY);\n\n    // X-Axis\n    g.setColor(Color.RED);\n    g.drawLine(originX, originY, MINWIDTH-20, originY);\n    g.drawLine(MINWIDTH-20, originY, MINWIDTH-30, originY-5);\n    g.drawLine(MINWIDTH-20, originY, MINWIDTH-30, originY+5);\n\n    // Y-Axis\n    g.setColor(Color.BLUE);\n    g.drawLine(originX, originY,  originX, MINHEIGHT-20);\n    g.drawLine(originX, MINHEIGHT-20, originX-5, MINHEIGHT-30);\n    g.drawLine(originX, MINHEIGHT-20, originX+5, MINHEIGHT-30);\n    \n    // Restore defaults\n    g.setColor(defaultColor);\n\n}\n\npublic void paint(Graphics g) { \n    super.paint(g);\n\n    Graphics2D g2 = (Graphics2D) g; \n    AffineTransform tx = AffineTransform.getScaleInstance(1, -1);\n    tx.translate(0, -getHeight());\n    g2.setTransform(tx);\n\n    plotAxes(g2);\n}\n}\n</code></pre>\n<p>One alternative would be to implement a method that &quot;adjusts&quot; every x-value from upper left to lower left, but that feels like a kind of botch job.</p>\n<p>How to solve this right? Thank you in advance</p>\n<p><a href=\"https://i.stack.imgur.com/gDei5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gDei5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","docker","github","containers","automated-deployment"],"comments":[{"owner":{"account_id":1912742,"reputation":15070,"user_id":1726083,"display_name":"erik258"},"score":0,"creation_date":1642571923,"post_id":70765813,"comment_id":125103116,"body_markdown":"Build new docker images with new versions of the code. Then update your servers to run the new code.   Docker images should be treated as immutable and containers ephemeral.  The database updates can happen on container startup","body":"Build new docker images with new versions of the code. Then update your servers to run the new code.   Docker images should be treated as immutable and containers ephemeral.  The database updates can happen on container startup"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1642577732,"post_id":70765813,"comment_id":125104492,"body_markdown":"Any capable build system should be able to orchestrate this outside the container.  Downtime in the way you describe it will cause unacceptable downtime except for the most trivial cases.","body":"Any capable build system should be able to orchestrate this outside the container.  Downtime in the way you describe it will cause unacceptable downtime except for the most trivial cases."},{"owner":{"account_id":232989,"reputation":1670,"user_id":498190,"accept_rate":55,"display_name":"Marvin"},"score":0,"creation_date":1642579906,"post_id":70765813,"comment_id":125105151,"body_markdown":"I am not sure you are targetting the right technology here : docker is single process - stateless oriented. If you want more processes (update, run, compile, etc), you should consider using docker-compose at least. But your gitlab code should be externalized (eg through a volume mounting). And about triggers (application 1 stopping application 2 on specific condition) : docker is not suited at all (to my pov). What you describe sounds like continuous integration, and there are frameworks dedicated to such tasks (such as Jenkins or Gitlab-ci... and so many more)","body":"I am not sure you are targetting the right technology here : docker is single process - stateless oriented. If you want more processes (update, run, compile, etc), you should consider using docker-compose at least. But your gitlab code should be externalized (eg through a volume mounting). And about triggers (application 1 stopping application 2 on specific condition) : docker is not suited at all (to my pov). What you describe sounds like continuous integration, and there are frameworks dedicated to such tasks (such as Jenkins or Gitlab-ci... and so many more)"}],"owner":{"account_id":19544849,"reputation":23,"user_id":14301914,"display_name":"Mr_President_White"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642571183,"creation_date":1642571183,"question_id":70765813,"body_markdown":"I&#39;m looking for a docker container which can run a Java application.  However, this should automatically pull updates from a GitHub repository. I had the following features in mind for a Workflow:\r\n\r\n- Watching on a (private) GitHub repo for merges in main\r\n- stopping active java app\r\n- Fetching the GitHub repo\r\n- building the Source Code (maven)\r\n- updating DB structure if needed\r\n- executing the new jar\r\n\r\nDoes something like this already exist or do I have to build it from scratch? I&#39;ve been looking for a way to implement this workflow for my Java discord bot for so long and haven&#39;t found anything yet.\r\n\r\nI would be very grateful for tips or similar.","title":"Docker Container for Java Application with automated Updates from GitHub","body":"<p>I'm looking for a docker container which can run a Java application.  However, this should automatically pull updates from a GitHub repository. I had the following features in mind for a Workflow:</p>\n<ul>\n<li>Watching on a (private) GitHub repo for merges in main</li>\n<li>stopping active java app</li>\n<li>Fetching the GitHub repo</li>\n<li>building the Source Code (maven)</li>\n<li>updating DB structure if needed</li>\n<li>executing the new jar</li>\n</ul>\n<p>Does something like this already exist or do I have to build it from scratch? I've been looking for a way to implement this workflow for my Java discord bot for so long and haven't found anything yet.</p>\n<p>I would be very grateful for tips or similar.</p>\n"},{"tags":["java","android","android-studio","gradle","android-manifest"],"answers":[{"tags":[],"owner":{"account_id":2978849,"reputation":8198,"user_id":2529309,"accept_rate":100,"display_name":"Kayvan N"},"down_vote_count":1,"up_vote_count":197,"is_accepted":true,"score":196,"last_activity_date":1580020825,"creation_date":1422005546,"answer_id":28106780,"question_id":28095703,"body_markdown":"Give this a try:\r\n\r\nAdd this to `&lt;manifest/&gt;`\r\n\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n\r\nAdd this to `&lt;application/&gt;`\r\n\r\n    tools:node=&quot;replace&quot;\r\n\r\nBased on [this][1], it should override all the elements. &quot;Replace the lower priority declaration with the annotated one.&quot;\r\n\r\n  [1]: https://developer.android.com/studio/build/manifest-merge.html#merge_rule_markers\r\n","title":"Manifest merger failed error","body":"<p>Give this a try:</p>\n\n<p>Add this to <code>&lt;manifest/&gt;</code></p>\n\n<pre><code>xmlns:tools=\"http://schemas.android.com/tools\"\n</code></pre>\n\n<p>Add this to <code>&lt;application/&gt;</code></p>\n\n<pre><code>tools:node=\"replace\"\n</code></pre>\n\n<p>Based on <a href=\"https://developer.android.com/studio/build/manifest-merge.html#merge_rule_markers\" rel=\"noreferrer\">this</a>, it should override all the elements. \"Replace the lower priority declaration with the annotated one.\"</p>\n"},{"tags":[],"owner":{"account_id":3678339,"reputation":15327,"user_id":3063884,"accept_rate":92,"display_name":"CJBS"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1438622767,"creation_date":1438622767,"answer_id":31793227,"question_id":28095703,"body_markdown":"&lt;h1&gt;Background&lt;/h1&gt;\r\nWhen the manifest files are being merged, there is a conflict with the `label` attribute. \r\n\r\nIn general, [there are three types][1] of manifest files that need to be merged into a single resulting app manifest, here in priority order :\r\n\r\n 1. Product flavors and build types specific manifest files. \r\n 2. Main manifest file for the application. \r\n 3. Library manifest files.\r\n\r\n&lt;h2&gt;Resolutions&lt;/h2&gt;\r\nThe conflict can be resolved in one of two ways:-\r\n\r\n&lt;h3&gt;Remove the conflicting label&lt;/h3&gt;\r\nRemove the conflicting attribute from the library (or lower-level) manifest file. \r\n\r\nIn this case, the `ANDROID_APPLICATION:Library:unspecified:9:18 value=(@string/app_name)` has a `@string/app_name` value defined that&#39;s different from that in the main application. So if it&#39;s not required, then remove it -- simply remove the `android:label=&quot;@string/app_name&quot;` from the library file&#39;s `AndroidManifest.xml` file.\r\n\r\n\r\n&lt;h3&gt;Add an attribute to allow an automatic resolution to the conflict&lt;/h3&gt;\r\n\r\nThere are [several special attribute markers][2] (in the tools namespace) that may be used to express a specific decision for how to resolve conflicts.\r\n\r\nIn this case, to explicitly cause the main app&#39;s `android:label` to override any other (e.g. library file) application labels, add the `xmlns:tools=&quot;http://schemas.android.com/tools&quot;` definition to the `&lt;manifest&gt;` node, and `tools:replace=&quot;label&quot;` to the `&lt;application&gt;` node. \r\n\r\nHere is an example - use this in the main application&#39;s `AndroidManifest.xml` file:\r\n\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.mycompany.myapp&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:label=&quot;@string/app_name&quot;\r\n            tools:replace=&quot;label&quot;/&gt;\r\n    &lt;/manifest&gt;\r\n\r\nThis approach would also work with any other conflicting attributes; for example if the `icon` attribute was also in conflict, it could be changed to `tools:replace=&quot;label, icon&quot;`.\r\n\r\n\r\n  [1]: http://tools.android.com/tech-docs/new-build-system/user-guide/manifest-merger\r\n  [2]: http://tools.android.com/tech-docs/new-build-system/user-guide/manifest-merger#TOC-tools:node-markers","title":"Manifest merger failed error","body":"<h1>Background</h1>\n\n<p>When the manifest files are being merged, there is a conflict with the <code>label</code> attribute. </p>\n\n<p>In general, <a href=\"http://tools.android.com/tech-docs/new-build-system/user-guide/manifest-merger\">there are three types</a> of manifest files that need to be merged into a single resulting app manifest, here in priority order :</p>\n\n<ol>\n<li>Product flavors and build types specific manifest files. </li>\n<li>Main manifest file for the application. </li>\n<li>Library manifest files.</li>\n</ol>\n\n<h2>Resolutions</h2>\n\n<p>The conflict can be resolved in one of two ways:-</p>\n\n<h3>Remove the conflicting label</h3>\n\n<p>Remove the conflicting attribute from the library (or lower-level) manifest file. </p>\n\n<p>In this case, the <code>ANDROID_APPLICATION:Library:unspecified:9:18 value=(@string/app_name)</code> has a <code>@string/app_name</code> value defined that's different from that in the main application. So if it's not required, then remove it -- simply remove the <code>android:label=\"@string/app_name\"</code> from the library file's <code>AndroidManifest.xml</code> file.</p>\n\n<h3>Add an attribute to allow an automatic resolution to the conflict</h3>\n\n<p>There are <a href=\"http://tools.android.com/tech-docs/new-build-system/user-guide/manifest-merger#TOC-tools:node-markers\">several special attribute markers</a> (in the tools namespace) that may be used to express a specific decision for how to resolve conflicts.</p>\n\n<p>In this case, to explicitly cause the main app's <code>android:label</code> to override any other (e.g. library file) application labels, add the <code>xmlns:tools=\"http://schemas.android.com/tools\"</code> definition to the <code>&lt;manifest&gt;</code> node, and <code>tools:replace=\"label\"</code> to the <code>&lt;application&gt;</code> node. </p>\n\n<p>Here is an example - use this in the main application's <code>AndroidManifest.xml</code> file:</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.mycompany.myapp\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;application\n        android:label=\"@string/app_name\"\n        tools:replace=\"label\"/&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>This approach would also work with any other conflicting attributes; for example if the <code>icon</code> attribute was also in conflict, it could be changed to <code>tools:replace=\"label, icon\"</code>.</p>\n"},{"tags":[],"owner":{"account_id":2051151,"reputation":1570,"user_id":1830141,"accept_rate":78,"display_name":"dm78"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1443213424,"creation_date":1443213424,"answer_id":32790287,"question_id":28095703,"body_markdown":"If you were fortunate, as I was, you can manually fix the problem with a hacky work-around.  \r\n\r\nAAR files are just .zip files with an .aar extension.  In my case, I unzipped the .aar, removed the offending `android:label` from the library&#39;s `AndroidManifest.xml`, and then rearchived the remaining files with a .aar extension and everything seems to work perfectly with the new .aar.\r\n\r\nFYI, [this appears to be a known bug in the android gradle plugin][1].\r\n\r\n\r\n  [1]: https://code.google.com/p/android/issues/detail?id=72450","title":"Manifest merger failed error","body":"<p>If you were fortunate, as I was, you can manually fix the problem with a hacky work-around.  </p>\n\n<p>AAR files are just .zip files with an .aar extension.  In my case, I unzipped the .aar, removed the offending <code>android:label</code> from the library's <code>AndroidManifest.xml</code>, and then rearchived the remaining files with a .aar extension and everything seems to work perfectly with the new .aar.</p>\n\n<p>FYI, <a href=\"https://code.google.com/p/android/issues/detail?id=72450\" rel=\"noreferrer\">this appears to be a known bug in the android gradle plugin</a>.</p>\n"},{"tags":[],"owner":{"account_id":3239175,"reputation":2249,"user_id":2732632,"display_name":"Kimmi Dhingra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505064229,"creation_date":1473921577,"answer_id":39504518,"question_id":28095703,"body_markdown":"I was also facing same issues, and after lot of research found the soultion\r\n&gt;1. your min sdk version should be same as of the modules you are using\r\n  eg: your module min sdk version is 14 and your app min sdk version is 9\r\nIt should be same.\r\n&gt;2. If build version of your app and modules not same. Again it should same\r\n\r\n**In short, your app build.gradle file and manifest should have same configurations**\r\n&gt;3. There&#39;s no duplicacy like same permissions added in manifest file twice, same activity mention twice\r\n&gt;4. If you have delete any activity from your project, delete it from your manifest file as well\r\n&gt;5. Sometimes its becuase of label, icon etc tag of manifest file\r\n   a)  add the xmlns:tools line in the manifest tag\r\n   b) add tools:replace= or tools:ignore=in the application tag \r\n**Example**\r\n\r\n       &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.slinfy.ikharelimiteduk&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:versionCode=&quot;1&quot;\r\n    android:versionName=&quot;1.0&quot; &gt;\r\n    &lt;application\r\n        tools:replace=&quot;icon, label&quot;\r\n        android:label=&quot;myApp&quot;\r\n        android:name=&quot;com.example.MyApplication&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:hardwareAccelerated=&quot;false&quot;\r\n        android:icon=&quot;@drawable/ic_launcher&quot;\r\n        android:theme=&quot;@style/Theme.AppCompat&quot; &gt;\r\n    &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nBy considering these points in mind, you will get rid of this manifest merger failed issue\r\nCheck my post: This issue is due to issue in Manifest file or build.gradle file. You can check my post \r\nhttps://wordpress.com/post/dhingrakimmi.wordpress.com/23\r\n","title":"Manifest merger failed error","body":"<p>I was also facing same issues, and after lot of research found the soultion</p>\n\n<blockquote>\n  <ol>\n  <li>your min sdk version should be same as of the modules you are using\n  eg: your module min sdk version is 14 and your app min sdk version is 9\n  It should be same.</li>\n  <li>If build version of your app and modules not same. Again it should same</li>\n  </ol>\n</blockquote>\n\n<p><strong>In short, your app build.gradle file and manifest should have same configurations</strong></p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>There's no duplicacy like same permissions added in manifest file twice, same activity mention twice</li>\n  <li>If you have delete any activity from your project, delete it from your manifest file as well</li>\n  <li>Sometimes its becuase of label, icon etc tag of manifest file\n  a)  add the xmlns:tools line in the manifest tag\n  b) add tools:replace= or tools:ignore=in the application tag \n  <strong>Example</strong></li>\n  </ol>\n</blockquote>\n\n<pre><code>   &lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.slinfy.ikharelimiteduk\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:versionCode=\"1\"\nandroid:versionName=\"1.0\" &gt;\n&lt;application\n    tools:replace=\"icon, label\"\n    android:label=\"myApp\"\n    android:name=\"com.example.MyApplication\"\n    android:allowBackup=\"true\"\n    android:hardwareAccelerated=\"false\"\n    android:icon=\"@drawable/ic_launcher\"\n    android:theme=\"@style/Theme.AppCompat\" &gt;\n&lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>By considering these points in mind, you will get rid of this manifest merger failed issue\nCheck my post: This issue is due to issue in Manifest file or build.gradle file. You can check my post \n<a href=\"https://wordpress.com/post/dhingrakimmi.wordpress.com/23\" rel=\"nofollow noreferrer\">https://wordpress.com/post/dhingrakimmi.wordpress.com/23</a></p>\n"},{"tags":[],"owner":{"account_id":7187717,"reputation":633,"user_id":5489153,"display_name":"stefan K"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1477661506,"creation_date":1477661506,"answer_id":40306193,"question_id":28095703,"body_markdown":"I fixed same issue. Solution for me:\r\n\r\n 1. add the `xmlns:tools=&quot;http://schemas.android.com/tools&quot;` line in the manifest tag\r\n 2. add `tools:replace=..` in the manifest tag\r\n 3. move `android:label=...` in the manifest tag\r\n\r\n\r\n[Example here][1]\r\n\r\n\r\n[1]: https://stackoverflow.com/a/40306041/5489153","title":"Manifest merger failed error","body":"<p>I fixed same issue. Solution for me:</p>\n\n<ol>\n<li>add the <code>xmlns:tools=\"http://schemas.android.com/tools\"</code> line in the manifest tag</li>\n<li>add <code>tools:replace=..</code> in the manifest tag</li>\n<li>move <code>android:label=...</code> in the manifest tag</li>\n</ol>\n\n<p><a href=\"https://stackoverflow.com/a/40306041/5489153\">Example here</a></p>\n"},{"tags":[],"owner":{"account_id":6190369,"reputation":1220,"user_id":4823237,"accept_rate":14,"display_name":"itzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543235024,"creation_date":1540309442,"answer_id":52953041,"question_id":28095703,"body_markdown":"I just removed \r\n\r\n`android:label=&quot;@string/app_name`\r\n\r\nfrom the `manifest file` and it worked!","title":"Manifest merger failed error","body":"<p>I just removed </p>\n\n<p><code>android:label=\"@string/app_name</code></p>\n\n<p>from the <code>manifest file</code> and it worked!</p>\n"},{"tags":[],"owner":{"account_id":9564031,"reputation":12915,"user_id":7103882,"display_name":"Codemaker2015"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603206626,"creation_date":1603206626,"answer_id":64448070,"question_id":28095703,"body_markdown":"I modified the manifest file from\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:supportsRtl=&quot;true&quot;&gt;\r\n            &lt;activity android:name=&quot;.SomeActivity&quot;/&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nTo\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            tools:replace=&quot;android:label&quot;&gt;\r\n            &lt;activity android:name=&quot;.SomeActivity&quot;/&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nAnd now the `android:label` is replaced by the label from the parent application.","title":"Manifest merger failed error","body":"<p>I modified the manifest file from</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;&gt;\n        &lt;activity android:name=&quot;.SomeActivity&quot;/&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>To</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        tools:replace=&quot;android:label&quot;&gt;\n        &lt;activity android:name=&quot;.SomeActivity&quot;/&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>And now the <code>android:label</code> is replaced by the label from the parent application.</p>\n"},{"tags":[],"owner":{"account_id":18045829,"reputation":1,"user_id":13116857,"display_name":"Ashutosh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631339609,"creation_date":1631337210,"answer_id":69140202,"question_id":28095703,"body_markdown":"Try adding `android.useAndroidX=true` and `android.enableJetifier=true`\r\nin `gradle.properties` file.\r\nIt helped me to solve my problem.","title":"Manifest merger failed error","body":"<p>Try adding <code>android.useAndroidX=true</code> and <code>android.enableJetifier=true</code>\nin <code>gradle.properties</code> file.\nIt helped me to solve my problem.</p>\n"},{"tags":[],"owner":{"account_id":18023252,"reputation":815,"user_id":13099907,"display_name":"SandaliTP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642570230,"creation_date":1642570230,"answer_id":70765704,"question_id":28095703,"body_markdown":"I came across the same problem. In my case `android:label` was empty in AndroidManifest.xml file. Then I changed it as below\r\n\r\n`android:label=&quot;@string/app_name`\r\n\r\nMaybe this simple solution will help someone. Thank you.","title":"Manifest merger failed error","body":"<p>I came across the same problem. In my case <code>android:label</code> was empty in AndroidManifest.xml file. Then I changed it as below</p>\n<p><code>android:label=&quot;@string/app_name</code></p>\n<p>Maybe this simple solution will help someone. Thank you.</p>\n"}],"owner":{"account_id":1884606,"reputation":2415,"user_id":1704082,"accept_rate":67,"display_name":"James King"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97897,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"accepted_answer_id":28106780,"answer_count":9,"score":72,"last_activity_date":1642570230,"creation_date":1421949838,"question_id":28095703,"body_markdown":"I am in the process of moving my current projects huge application into Android Studio and Gradle. I am currently stuck on the following issue:\r\n\r\n    Error:(87, 9) Execution failed for task &#39;:App:processDebugManifest&#39;.\r\n    &gt; Manifest merger failed : Attribute application@label value=(@string/app_label) from AndroidManifest.xml:87:9\r\n    \tis also present at ANDROID_APPLICATION:Library:unspecified:9:18 value=(@string/app_name)\r\n    \tSuggestion: add &#39;tools:replace=&quot;android:label&quot;&#39; to &lt;application&gt; element at AndroidManifest.xml:82:5 to override\r\n\r\nI have tried adding the following attributes to the main `AndroidManifest.xml` file:\r\n\r\n    tools:replace=&quot;android:label, *App Name*&quot;\r\n    tools:replace=&quot;android:label, @string/app_label&quot;\r\n    tools:replace=&quot;android:label&quot;\r\n\r\nNone of these attribute definitions works. What am I doing wrong?\r\n","title":"Manifest merger failed error","body":"<p>I am in the process of moving my current projects huge application into Android Studio and Gradle. I am currently stuck on the following issue:</p>\n\n<pre><code>Error:(87, 9) Execution failed for task ':App:processDebugManifest'.\n&gt; Manifest merger failed : Attribute application@label value=(@string/app_label) from AndroidManifest.xml:87:9\n    is also present at ANDROID_APPLICATION:Library:unspecified:9:18 value=(@string/app_name)\n    Suggestion: add 'tools:replace=\"android:label\"' to &lt;application&gt; element at AndroidManifest.xml:82:5 to override\n</code></pre>\n\n<p>I have tried adding the following attributes to the main <code>AndroidManifest.xml</code> file:</p>\n\n<pre><code>tools:replace=\"android:label, *App Name*\"\ntools:replace=\"android:label, @string/app_label\"\ntools:replace=\"android:label\"\n</code></pre>\n\n<p>None of these attribute definitions works. What am I doing wrong?</p>\n"},{"tags":["java","sql","jdbc","derby"],"answers":[{"tags":[],"owner":{"account_id":276,"reputation":16266,"user_id":342,"accept_rate":72,"display_name":"graham.reeds"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1223199889,"creation_date":1223199889,"answer_id":171761,"question_id":171727,"body_markdown":"I think most db providers don&#39;t allow DROP TABLE * (or similar).\r\n\r\nI think the best way would be to SHOW TABLES and then go through each deleting in a loop via a resultset.\r\n\r\nHTH.","title":"Delete all tables in Derby DB","body":"<p>I think most db providers don't allow DROP TABLE * (or similar).</p>\n\n<p>I think the best way would be to SHOW TABLES and then go through each deleting in a loop via a resultset.</p>\n\n<p>HTH.</p>\n"},{"tags":[],"owner":{"account_id":408,"reputation":4792,"user_id":518,"accept_rate":86,"display_name":"Telcontar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1450098168,"creation_date":1223200689,"answer_id":171773,"question_id":171727,"body_markdown":"Do a little method in java in which you execute a \r\n\r\n    DROP TABLE [tablename]\r\n\r\n`tablename` is passed by parameter.\r\n\r\nAnd another method in which you loop over a record set formed by the query\r\n \r\n    SELECT tablename FROM SYSTABLES\r\n\r\ncalling the first method.\r\n\r\n[Derby latest documentation][1]\r\n\r\n\r\n  [1]: http://db.apache.org/derby/docs/10.4/ref/","title":"Delete all tables in Derby DB","body":"<p>Do a little method in java in which you execute a </p>\n\n<pre><code>DROP TABLE [tablename]\n</code></pre>\n\n<p><code>tablename</code> is passed by parameter.</p>\n\n<p>And another method in which you loop over a record set formed by the query</p>\n\n<pre><code>SELECT tablename FROM SYSTABLES\n</code></pre>\n\n<p>calling the first method.</p>\n\n<p><a href=\"http://db.apache.org/derby/docs/10.4/ref/\" rel=\"nofollow noreferrer\">Derby latest documentation</a></p>\n"},{"tags":[],"owner":{"display_name":"Thomas Morgner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1223202668,"creation_date":1223202668,"answer_id":171800,"question_id":171727,"body_markdown":"JDBC allows you to solve your task in a database agnostic way:\r\n\r\n 1. Open the connection\r\n 2. Grab the DatabaseMetaData\r\n 3. Use it to list all tables in your database [JavaDoc][1]\r\n 4. Iterate over the resultset and fire the DROP TABLE &lt;tablename&gt; for each table\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/sql/DatabaseMetaData.html#getTables(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String[]) ","title":"Delete all tables in Derby DB","body":"<p>JDBC allows you to solve your task in a database agnostic way:</p>\n\n<ol>\n<li>Open the connection</li>\n<li>Grab the DatabaseMetaData</li>\n<li>Use it to list all tables in your database <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/sql/DatabaseMetaData.html#getTables(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String[])\" rel=\"nofollow noreferrer\">JavaDoc</a></li>\n<li>Iterate over the resultset and fire the DROP TABLE  for each table</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12463,"reputation":5654,"user_id":24550,"accept_rate":40,"display_name":"Fuangwith S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1223221731,"creation_date":1223221731,"answer_id":172169,"question_id":171727,"body_markdown":"1. you must generate schema and table name from Derby DB system catalog.\r\n2. Order all tables by relation.\r\n3. Generate java statement for drop all tables\r\n4. Use autoCommit() method and set this method to false. for manual commit or rollback transactions when got errors.\r\n5. Run you java process.\r\nGood Luck.","title":"Delete all tables in Derby DB","body":"<ol>\n<li>you must generate schema and table name from Derby DB system catalog.</li>\n<li>Order all tables by relation.</li>\n<li>Generate java statement for drop all tables</li>\n<li>Use autoCommit() method and set this method to false. for manual commit or rollback transactions when got errors.</li>\n<li>Run you java process.\nGood Luck.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1223248804,"creation_date":1223248804,"answer_id":172828,"question_id":171727,"body_markdown":"A simpler solution is to use JDBC to run &quot;drop database foo&quot; then &quot;create database foo&quot;. However, this will cause all objects in the DB to be deleted (i.e. not just tables).","title":"Delete all tables in Derby DB","body":"<p>A simpler solution is to use JDBC to run \"drop database foo\" then \"create database foo\". However, this will cause all objects in the DB to be deleted (i.e. not just tables).</p>\n"},{"tags":[],"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1600183594,"creation_date":1258212725,"answer_id":1734570,"question_id":171727,"body_markdown":"For actual code that does this, check [CleanDatabaseTestSetup.java][1] in the Derby test suite section of the Derby distribution.\r\n\r\n[1]: http://svn.apache.org/viewvc/db/derby/code/trunk/java/org.apache.derby.tests/org/apache/derbyTesting/junit/CleanDatabaseTestSetup.java?view=markup","title":"Delete all tables in Derby DB","body":"<p>For actual code that does this, check <a href=\"http://svn.apache.org/viewvc/db/derby/code/trunk/java/org.apache.derby.tests/org/apache/derbyTesting/junit/CleanDatabaseTestSetup.java?view=markup\" rel=\"nofollow noreferrer\">CleanDatabaseTestSetup.java</a> in the Derby test suite section of the Derby distribution.</p>\n"},{"tags":[],"owner":{"account_id":98401,"reputation":1290,"user_id":266387,"accept_rate":42,"display_name":"gregn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355817328,"creation_date":1355817328,"answer_id":13928594,"question_id":171727,"body_markdown":"If you&#39;re working from the command prompt rather than through JDBC, this should get you started.\r\n\r\n    SELECT &#39;DROP TABLE &#39; || schemaname ||&#39;.&#39; || tablename || &#39;;&#39;\r\n    FROM SYS.SYSTABLES\r\n    INNER JOIN SYS.SYSSCHEMAS ON SYS.SYSTABLES.SCHEMAID = SYS.SYSSCHEMAS.SCHEMAID\r\n    ;\r\n","title":"Delete all tables in Derby DB","body":"<p>If you're working from the command prompt rather than through JDBC, this should get you started.</p>\n\n<pre><code>SELECT 'DROP TABLE ' || schemaname ||'.' || tablename || ';'\nFROM SYS.SYSTABLES\nINNER JOIN SYS.SYSSCHEMAS ON SYS.SYSTABLES.SCHEMAID = SYS.SYSSCHEMAS.SCHEMAID\n;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3209999,"reputation":1,"user_id":2710181,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377245826,"creation_date":1377244636,"answer_id":18397682,"question_id":171727,"body_markdown":"A simple solution is to do right click -&gt; disconnect then delete the folder containing your database and reconnect it.\r\n","title":"Delete all tables in Derby DB","body":"<p>A simple solution is to do right click -> disconnect then delete the folder containing your database and reconnect it.</p>\n"},{"tags":[],"owner":{"account_id":172084,"reputation":243,"user_id":399894,"accept_rate":50,"display_name":"Brij"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384702880,"creation_date":1384702880,"answer_id":20032620,"question_id":171727,"body_markdown":"Download Squirrel SQL from http://squirrel-sql.sourceforge.net/\r\n\r\nConnect to the database.\r\n\r\nExpand the TABLE node.\r\n\r\nSelect the tables that you want to drop.\r\n\r\nRight click and select -&gt; Scripts -&gt; Drop table scripts\r\n\r\nRun the generated queries\r\n\r\nYou can even select delete records to empty the selected tables.","title":"Delete all tables in Derby DB","body":"<p>Download Squirrel SQL from <a href=\"http://squirrel-sql.sourceforge.net/\" rel=\"nofollow\">http://squirrel-sql.sourceforge.net/</a></p>\n\n<p>Connect to the database.</p>\n\n<p>Expand the TABLE node.</p>\n\n<p>Select the tables that you want to drop.</p>\n\n<p>Right click and select -> Scripts -> Drop table scripts</p>\n\n<p>Run the generated queries</p>\n\n<p>You can even select delete records to empty the selected tables.</p>\n"},{"tags":[],"owner":{"account_id":1912589,"reputation":3588,"user_id":1725975,"display_name":"Sym-Sym"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1396893967,"creation_date":1396760334,"answer_id":22890176,"question_id":171727,"body_markdown":"Thanks are due to [the blog][1]:\r\n\r\n###Step 1:\r\n\r\nRun the SQL statement, but don&#39;t forget to replace the schema name &#39;APP&#39; with your your schema name in the 2 occurrences below:\r\n\r\n    SELECT\r\n    &#39;ALTER TABLE &#39;||S.SCHEMANAME||&#39;.&#39;||T.TABLENAME||&#39; DROP CONSTRAINT &#39;||C.CONSTRAINTNAME||&#39;;&#39;\r\n    FROM\r\n        SYS.SYSCONSTRAINTS C,\r\n        SYS.SYSSCHEMAS S,\r\n        SYS.SYSTABLES T\r\n    WHERE\r\n        C.SCHEMAID = S.SCHEMAID\r\n    AND\r\n        C.TABLEID = T.TABLEID\r\n    AND\r\n    S.SCHEMANAME = &#39;APP&#39;\r\n    UNION\r\n    SELECT &#39;DROP TABLE &#39; || schemaname ||&#39;.&#39; || tablename || &#39;;&#39;\r\n    FROM SYS.SYSTABLES\r\n    INNER JOIN SYS.SYSSCHEMAS ON SYS.SYSTABLES.SCHEMAID = SYS.SYSSCHEMAS.SCHEMAID\r\n    where schemaname=&#39;APP&#39;;\r\n\r\n###Step 2:\r\nThe result of the above execution is a set of SQL statements, copy them to the SQL editor, execute them, then the constraints and the tables are dropped.\r\n\r\n\r\n  [1]: http://stuetzpunkt.wordpress.com/2013/02/02/drop-tables-in-derby-db/","title":"Delete all tables in Derby DB","body":"<p>Thanks are due to <a href=\"http://stuetzpunkt.wordpress.com/2013/02/02/drop-tables-in-derby-db/\" rel=\"noreferrer\">the blog</a>:</p>\n\n<h3>Step 1:</h3>\n\n<p>Run the SQL statement, but don't forget to replace the schema name 'APP' with your your schema name in the 2 occurrences below:</p>\n\n<pre><code>SELECT\n'ALTER TABLE '||S.SCHEMANAME||'.'||T.TABLENAME||' DROP CONSTRAINT '||C.CONSTRAINTNAME||';'\nFROM\n    SYS.SYSCONSTRAINTS C,\n    SYS.SYSSCHEMAS S,\n    SYS.SYSTABLES T\nWHERE\n    C.SCHEMAID = S.SCHEMAID\nAND\n    C.TABLEID = T.TABLEID\nAND\nS.SCHEMANAME = 'APP'\nUNION\nSELECT 'DROP TABLE ' || schemaname ||'.' || tablename || ';'\nFROM SYS.SYSTABLES\nINNER JOIN SYS.SYSSCHEMAS ON SYS.SYSTABLES.SCHEMAID = SYS.SYSSCHEMAS.SCHEMAID\nwhere schemaname='APP';\n</code></pre>\n\n<h3>Step 2:</h3>\n\n<p>The result of the above execution is a set of SQL statements, copy them to the SQL editor, execute them, then the constraints and the tables are dropped.</p>\n"},{"tags":[],"owner":{"account_id":1142801,"reputation":380,"user_id":1126250,"accept_rate":60,"display_name":"keithphw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642569769,"creation_date":1642134280,"answer_id":70706017,"question_id":171727,"body_markdown":"For those wanting to delete all schemas programmatically without having to manually copy-paste SQL each time, here&#39;s code lifted from *org.apache.derbyTesting.junit.CleanDatabaseTestSetup* and *org.apache.derbyTesting.junit.JDBC*. You just call dropAllSchemas(connection);\r\n\r\n    public static void dropAllSchemas(Connection conn) throws SQLException {\r\n        DatabaseMetaData dmd = conn.getMetaData();\r\n        SQLException sqle = null;\r\n        // Loop a number of arbitary times to catch cases\r\n        // where objects are dependent on objects in\r\n        // different schemas.\r\n        for (int count = 0; count &lt; 5; count++) {\r\n            // Fetch all the user schemas into a list\r\n            List&lt;String&gt; schemas = new ArrayList&lt;String&gt;();\r\n            ResultSet rs = dmd.getSchemas();\r\n            while (rs.next()) {\r\n                String schema = rs.getString(&quot;TABLE_SCHEM&quot;);\r\n                if (schema.startsWith(&quot;SYS&quot;))\r\n                    continue;\r\n                if (schema.equals(&quot;SQLJ&quot;))\r\n                    continue;\r\n                if (schema.equals(&quot;NULLID&quot;))\r\n                    continue;\r\n                schemas.add(schema);\r\n            }\r\n            rs.close();\r\n            // DROP all the user schemas.\r\n            sqle = null;\r\n            for (String schema : schemas) {\r\n                try {\r\n                    dropSchema(dmd, schema);\r\n                } catch (SQLException e) {\r\n                    sqle = e;\r\n                }\r\n            }\r\n            // No errors means all the schemas we wanted to\r\n            // drop were dropped, so nothing more to do.\r\n            if (sqle == null)\r\n                return;\r\n        }\r\n        throw sqle;\r\n    }\r\n\t\r\n\t\r\n    /**\r\n     * Constant to pass to DatabaseMetaData.getTables() to fetch\r\n     * just tables.\r\n     */\r\n    public static final String[] GET_TABLES_TABLE = new String[] {&quot;TABLE&quot;};\r\n    /**\r\n     * Constant to pass to DatabaseMetaData.getTables() to fetch\r\n     * just views.\r\n     */\r\n    public static final String[] GET_TABLES_VIEW = new String[] {&quot;VIEW&quot;};\r\n    /**\r\n     * Constant to pass to DatabaseMetaData.getTables() to fetch\r\n     * just synonyms.\r\n     */\r\n    public static final String[] GET_TABLES_SYNONYM =\r\n        new String[] {&quot;SYNONYM&quot;};\r\n\t/**\r\n\t * Drop a database schema by dropping all objects in it\r\n\t * and then executing DROP SCHEMA. If the schema is\r\n\t * APP it is cleaned but DROP SCHEMA is not executed.\r\n\t * \r\n\t * TODO: Handle dependencies by looping in some intelligent\r\n\t * way until everything can be dropped.\r\n\t * \r\n\r\n\t * \r\n\t * @param dmd DatabaseMetaData object for database\r\n\t * @param schema Name of the schema\r\n\t * @throws SQLException database error\r\n\t */\r\n\tpublic static void dropSchema(DatabaseMetaData dmd, String schema) throws SQLException{\t\t\r\n\t\tConnection conn = dmd.getConnection();\r\n\t\tStatement s = dmd.getConnection().createStatement();\r\n\r\n        // Triggers\r\n        PreparedStatement pstr = conn.prepareStatement(\r\n                &quot;SELECT TRIGGERNAME FROM SYS.SYSSCHEMAS S, SYS.SYSTRIGGERS T &quot;\r\n                + &quot;WHERE S.SCHEMAID = T.SCHEMAID AND SCHEMANAME = ?&quot;);\r\n        pstr.setString(1, schema);\r\n        ResultSet trrs = pstr.executeQuery();\r\n        while (trrs.next()) {\r\n            String trigger = trrs.getString(1);\r\n            s.execute(&quot;DROP TRIGGER &quot; + escape(schema, trigger));\r\n        }\r\n        trrs.close();\r\n        pstr.close();\r\n\r\n        // Functions - not supported by JDBC meta data until JDBC 4\r\n        // Need to use the CHAR() function on A.ALIASTYPE\r\n        // so that the compare will work in any schema.\r\n        PreparedStatement psf = conn.prepareStatement(\r\n                &quot;SELECT ALIAS FROM SYS.SYSALIASES A, SYS.SYSSCHEMAS S&quot; +\r\n                &quot; WHERE A.SCHEMAID = S.SCHEMAID &quot; +\r\n                &quot; AND CHAR(A.ALIASTYPE) = ? &quot; +\r\n                &quot; AND S.SCHEMANAME = ?&quot;);\r\n        psf.setString(1, &quot;F&quot; );\r\n        psf.setString(2, schema);\r\n        ResultSet rs = psf.executeQuery();\r\n        dropUsingDMD(s, rs, schema, &quot;ALIAS&quot;, &quot;FUNCTION&quot;);        \r\n\r\n\t\t// Procedures\r\n\t\trs = dmd.getProcedures((String) null,\r\n\t\t\t\tschema, (String) null);\r\n\t\t\r\n\t\tdropUsingDMD(s, rs, schema, &quot;PROCEDURE_NAME&quot;, &quot;PROCEDURE&quot;);\r\n\t\t\r\n\t\t// Views\r\n\t\trs = dmd.getTables((String) null, schema, (String) null,\r\n                GET_TABLES_VIEW);\r\n\t\t\r\n\t\tdropUsingDMD(s, rs, schema, &quot;TABLE_NAME&quot;, &quot;VIEW&quot;);\r\n\t\t\r\n\t\t// Tables\r\n\t\trs = dmd.getTables((String) null, schema, (String) null,\r\n                GET_TABLES_TABLE);\r\n\t\t\r\n\t\tdropUsingDMD(s, rs, schema, &quot;TABLE_NAME&quot;, &quot;TABLE&quot;);\r\n        \r\n        // At this point there may be tables left due to\r\n        // foreign key constraints leading to a dependency loop.\r\n        // Drop any constraints that remain and then drop the tables.\r\n        // If there are no tables then this should be a quick no-op.\r\n        ResultSet table_rs = dmd.getTables((String) null, schema, (String) null,\r\n                GET_TABLES_TABLE);\r\n\r\n        while (table_rs.next()) {\r\n            String tablename = table_rs.getString(&quot;TABLE_NAME&quot;);\r\n            rs = dmd.getExportedKeys((String) null, schema, tablename);\r\n            while (rs.next()) {\r\n                short keyPosition = rs.getShort(&quot;KEY_SEQ&quot;);\r\n                if (keyPosition != 1)\r\n                    continue;\r\n                String fkName = rs.getString(&quot;FK_NAME&quot;);\r\n                // No name, probably can&#39;t happen but couldn&#39;t drop it anyway.\r\n                if (fkName == null)\r\n                    continue;\r\n                String fkSchema = rs.getString(&quot;FKTABLE_SCHEM&quot;);\r\n                String fkTable = rs.getString(&quot;FKTABLE_NAME&quot;);\r\n\r\n                String ddl = &quot;ALTER TABLE &quot; +\r\n                    escape(fkSchema, fkTable) +\r\n                    &quot; DROP FOREIGN KEY &quot; +\r\n                    escape(fkName);\r\n                s.executeUpdate(ddl);\r\n            }\r\n            rs.close();\r\n        }\r\n        table_rs.close();\r\n        conn.commit();\r\n                \r\n        // Tables (again)\r\n        rs = dmd.getTables((String) null, schema, (String) null,\r\n                GET_TABLES_TABLE);        \r\n        dropUsingDMD(s, rs, schema, &quot;TABLE_NAME&quot;, &quot;TABLE&quot;);\r\n\r\n        // drop UDTs\r\n        psf.setString(1, &quot;A&quot; );\r\n        psf.setString(2, schema);\r\n        rs = psf.executeQuery();\r\n        dropUsingDMD(s, rs, schema, &quot;ALIAS&quot;, &quot;TYPE&quot;);        \r\n  \r\n        // drop aggregates\r\n        psf.setString(1, &quot;G&quot; );\r\n        psf.setString(2, schema);\r\n        rs = psf.executeQuery();\r\n        dropUsingDMD(s, rs, schema, &quot;ALIAS&quot;, &quot;DERBY AGGREGATE&quot;);        \r\n        psf.close();\r\n  \r\n        // Synonyms - need work around for DERBY-1790 where\r\n        // passing a table type of SYNONYM fails.\r\n        rs = dmd.getTables((String) null, schema, (String) null,\r\n                GET_TABLES_SYNONYM);\r\n        \r\n        dropUsingDMD(s, rs, schema, &quot;TABLE_NAME&quot;, &quot;SYNONYM&quot;);\r\n                \r\n        // sequences\r\n        if ( sysSequencesExists( conn ) )\r\n        {\r\n            psf = conn.prepareStatement\r\n                (\r\n                 &quot;SELECT SEQUENCENAME FROM SYS.SYSSEQUENCES A, SYS.SYSSCHEMAS S&quot; +\r\n                 &quot; WHERE A.SCHEMAID = S.SCHEMAID &quot; +\r\n                 &quot; AND S.SCHEMANAME = ?&quot;);\r\n            psf.setString(1, schema);\r\n            rs = psf.executeQuery();\r\n            dropUsingDMD(s, rs, schema, &quot;SEQUENCENAME&quot;, &quot;SEQUENCE&quot;);\r\n            psf.close();\r\n        }\r\n\r\n\t\t// Finally drop the schema if it is not APP\r\n\t\tif (!schema.equals(&quot;APP&quot;)) {\r\n\t\t\ts.executeUpdate(&quot;DROP SCHEMA &quot; + escape(schema) + &quot; RESTRICT&quot;);\r\n\t\t}\r\n\t\tconn.commit();\r\n\t\ts.close();\r\n\t}\r\n\t\r\n\t    /**\r\n     * Return true if the SYSSEQUENCES table exists.\r\n     */\r\n    private static boolean sysSequencesExists( Connection conn ) throws SQLException\r\n    {\r\n        PreparedStatement ps = null;\r\n        ResultSet rs =  null;\r\n        try {\r\n            ps = conn.prepareStatement\r\n                (\r\n                 &quot;select count(*) from sys.systables t, sys.sysschemas s\\n&quot; +\r\n                 &quot;where t.schemaid = s.schemaid\\n&quot; +\r\n                 &quot;and ( cast(s.schemaname as varchar(128)))= &#39;SYS&#39;\\n&quot; +\r\n                 &quot;and ( cast(t.tablename as varchar(128))) = &#39;SYSSEQUENCES&#39;&quot; );\r\n            rs = ps.executeQuery();\r\n            rs.next();\r\n            return ( rs.getInt( 1 ) &gt; 0 );\r\n        }\r\n        finally\r\n        {\r\n            if ( rs != null ) { rs.close(); }\r\n            if ( ps != null ) { ps.close(); }\r\n        }\r\n    }\r\n\t\r\n\t/**\r\n\t * Escape a non-qualified name so that it is suitable\r\n\t * for use in a SQL query executed by JDBC.\r\n\t */\r\n\tpublic static String escape(String name)\r\n\t{\r\n        StringBuffer buffer = new StringBuffer(name.length() + 2);\r\n        buffer.append(&#39;&quot;&#39;);\r\n        for (int i = 0; i &lt; name.length(); i++) {\r\n            char c = name.charAt(i);\r\n            // escape double quote characters with an extra double quote\r\n            if (c == &#39;&quot;&#39;) buffer.append(&#39;&quot;&#39;);\r\n            buffer.append(c);\r\n        }\r\n        buffer.append(&#39;&quot;&#39;);\r\n        return buffer.toString();\r\n\t}\t\r\n\r\n    /**\r\n\t * Escape a schema-qualified name so that it is suitable\r\n\t * for use in a SQL query executed by JDBC.\r\n\t */\r\n\tpublic static String escape(String schema, String name)\r\n\t{\r\n        return escape(schema) + &quot;.&quot; + escape(name);\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * DROP a set of objects based upon a ResultSet from a\r\n\t * DatabaseMetaData call.\r\n\t * \r\n\t * TODO: Handle errors to ensure all objects are dropped,\r\n\t * probably requires interaction with its caller.\r\n\t * \r\n\t * @param s Statement object used to execute the DROP commands.\r\n\t * @param rs DatabaseMetaData ResultSet\r\n\t * @param schema Schema the objects are contained in\r\n\t * @param mdColumn The column name used to extract the object&#39;s\r\n\t * name from rs\r\n\t * @param dropType The keyword to use after DROP in the SQL statement\r\n\t * @throws SQLException database errors.\r\n\t */\r\n\tprivate static void dropUsingDMD(\r\n\t\t\tStatement s, ResultSet rs, String schema,\r\n\t\t\tString mdColumn,\r\n\t\t\tString dropType) throws SQLException\r\n\t{\r\n\t\tString dropLeadIn = &quot;DROP &quot; + dropType + &quot; &quot;;\r\n\t\t\r\n        // First collect the set of DROP SQL statements.\r\n        ArrayList&lt;String&gt; ddl = new ArrayList&lt;String&gt;();\r\n\t\twhile (rs.next())\r\n\t\t{\r\n            String objectName = rs.getString(mdColumn);\r\n            String raw = dropLeadIn + escape(schema, objectName);\r\n            if (\r\n                &quot;TYPE&quot;.equals( dropType )  ||\r\n                &quot;SEQUENCE&quot;.equals( dropType ) ||\r\n                &quot;DERBY AGGREGATE&quot;.equals( dropType )\r\n                )\r\n            { raw = raw + &quot; restrict &quot;; }\r\n            ddl.add( raw );\r\n\t\t}\r\n\t\trs.close();\r\n        if (ddl.isEmpty())\r\n            return;\r\n                \r\n        // Execute them as a complete batch, hoping they will all succeed.\r\n        s.clearBatch();\r\n        int batchCount = 0;\r\n        for (Iterator i = ddl.iterator(); i.hasNext(); )\r\n        {\r\n            Object sql = i.next();\r\n            if (sql != null) {\r\n                s.addBatch(sql.toString());\r\n                batchCount++;\r\n            }\r\n        }\r\n\r\n\t\tint[] results;\r\n        boolean hadError;\r\n\t\ttry {\r\n\t\t    results = s.executeBatch();\r\n\t\t    //Assert.assertNotNull(results);\r\n\t\t    //Assert.assertEquals(&quot;Incorrect result length from executeBatch&quot;, batchCount, results.length);\r\n            hadError = false;\r\n\t\t} catch (BatchUpdateException batchException) {\r\n\t\t\tresults = batchException.getUpdateCounts();\r\n\t\t\t//Assert.assertNotNull(results);\r\n\t\t\t//Assert.assertTrue(&quot;Too many results in BatchUpdateException&quot;, results.length &lt;= batchCount);\r\n            hadError = true;\r\n\t\t}\r\n\t\t\r\n        // Remove any statements from the list that succeeded.\r\n\t\tboolean didDrop = false;\r\n\t\tfor (int i = 0; i &lt; results.length; i++)\r\n\t\t{\r\n\t\t\tint result = results[i];\r\n\t\t\tif (result == Statement.EXECUTE_FAILED)\r\n\t\t\t\thadError = true;\r\n\t\t\telse if (result == Statement.SUCCESS_NO_INFO || result &gt;= 0) {\r\n\t\t\t\tdidDrop = true;\r\n\t\t\t\tddl.set(i, null);\r\n\t\t\t}\r\n\t\t\t//else\r\n\t\t\t\t//Assert.fail(&quot;Negative executeBatch status&quot;);\r\n\t\t}\r\n        s.clearBatch();\r\n        if (didDrop) {\r\n            // Commit any work we did do.\r\n            s.getConnection().commit();\r\n        }\r\n\r\n        // If we had failures drop them as individual statements\r\n        // until there are none left or none succeed. We need to\r\n        // do this because the batch processing stops at the first\r\n        // error. This copes with the simple case where there\r\n        // are objects of the same type that depend on each other\r\n        // and a different drop order will allow all or most\r\n        // to be dropped.\r\n        if (hadError) {\r\n            do {\r\n                hadError = false;\r\n                didDrop = false;\r\n                for (ListIterator&lt;String&gt; i = ddl.listIterator(); i.hasNext();) {\r\n                    String sql = i.next();\r\n                    if (sql != null) {\r\n                        try {\r\n                            s.executeUpdate(sql);\r\n                            i.set(null);\r\n                            didDrop = true;\r\n                        } catch (SQLException e) {\r\n                            hadError = true;\r\n                        }\r\n                    }\r\n                }\r\n                if (didDrop)\r\n                    s.getConnection().commit();\r\n            } while (hadError &amp;&amp; didDrop);\r\n        }\r\n\t}\r\n\r\n\r\nPS: This code came in handy for when I migrated my database from H2 that does support DROP ALL OBJECTS, to Apache Derby which [does not][1] (headache). The only reason I migrated away from H2 is that it&#39;s a fully in-memory database and was getting too big for my server&#39;s RAM, so I decided to try Apache Derby. H2 is far easier and more user-friendly than Derby, I highly recommend it. I&#39;m sad that I can&#39;t afford the RAM to keep using H2. \r\nBy the way, for those affected by Derby&#39;s lack of LIMIT or UPSERT, see this post about substituting [FETCH NEXT][2] instead of LIMIT and this one about correctly using [MERGE INTO][3].\r\n\r\n\r\n  [1]: https://db.apache.org/derby/docs/10.0/manuals/reference/sqlj28.html\r\n  [2]: https://stackoverflow.com/questions/33613748/vaadin-sqlsyntaxerrorexception-using-javadb-derby-encountered-limit-at-line-1/70675622#70675622\r\n  [3]: https://stackoverflow.com/questions/34734653/can-i-use-merge-into-to-simulate-upsert-in-apache-derby/51406647","title":"Delete all tables in Derby DB","body":"<p>For those wanting to delete all schemas programmatically without having to manually copy-paste SQL each time, here's code lifted from <em>org.apache.derbyTesting.junit.CleanDatabaseTestSetup</em> and <em>org.apache.derbyTesting.junit.JDBC</em>. You just call dropAllSchemas(connection);</p>\n<pre><code>public static void dropAllSchemas(Connection conn) throws SQLException {\n    DatabaseMetaData dmd = conn.getMetaData();\n    SQLException sqle = null;\n    // Loop a number of arbitary times to catch cases\n    // where objects are dependent on objects in\n    // different schemas.\n    for (int count = 0; count &lt; 5; count++) {\n        // Fetch all the user schemas into a list\n        List&lt;String&gt; schemas = new ArrayList&lt;String&gt;();\n        ResultSet rs = dmd.getSchemas();\n        while (rs.next()) {\n            String schema = rs.getString(&quot;TABLE_SCHEM&quot;);\n            if (schema.startsWith(&quot;SYS&quot;))\n                continue;\n            if (schema.equals(&quot;SQLJ&quot;))\n                continue;\n            if (schema.equals(&quot;NULLID&quot;))\n                continue;\n            schemas.add(schema);\n        }\n        rs.close();\n        // DROP all the user schemas.\n        sqle = null;\n        for (String schema : schemas) {\n            try {\n                dropSchema(dmd, schema);\n            } catch (SQLException e) {\n                sqle = e;\n            }\n        }\n        // No errors means all the schemas we wanted to\n        // drop were dropped, so nothing more to do.\n        if (sqle == null)\n            return;\n    }\n    throw sqle;\n}\n\n\n/**\n * Constant to pass to DatabaseMetaData.getTables() to fetch\n * just tables.\n */\npublic static final String[] GET_TABLES_TABLE = new String[] {&quot;TABLE&quot;};\n/**\n * Constant to pass to DatabaseMetaData.getTables() to fetch\n * just views.\n */\npublic static final String[] GET_TABLES_VIEW = new String[] {&quot;VIEW&quot;};\n/**\n * Constant to pass to DatabaseMetaData.getTables() to fetch\n * just synonyms.\n */\npublic static final String[] GET_TABLES_SYNONYM =\n    new String[] {&quot;SYNONYM&quot;};\n/**\n * Drop a database schema by dropping all objects in it\n * and then executing DROP SCHEMA. If the schema is\n * APP it is cleaned but DROP SCHEMA is not executed.\n * \n * TODO: Handle dependencies by looping in some intelligent\n * way until everything can be dropped.\n * \n\n * \n * @param dmd DatabaseMetaData object for database\n * @param schema Name of the schema\n * @throws SQLException database error\n */\npublic static void dropSchema(DatabaseMetaData dmd, String schema) throws SQLException{     \n    Connection conn = dmd.getConnection();\n    Statement s = dmd.getConnection().createStatement();\n\n    // Triggers\n    PreparedStatement pstr = conn.prepareStatement(\n            &quot;SELECT TRIGGERNAME FROM SYS.SYSSCHEMAS S, SYS.SYSTRIGGERS T &quot;\n            + &quot;WHERE S.SCHEMAID = T.SCHEMAID AND SCHEMANAME = ?&quot;);\n    pstr.setString(1, schema);\n    ResultSet trrs = pstr.executeQuery();\n    while (trrs.next()) {\n        String trigger = trrs.getString(1);\n        s.execute(&quot;DROP TRIGGER &quot; + escape(schema, trigger));\n    }\n    trrs.close();\n    pstr.close();\n\n    // Functions - not supported by JDBC meta data until JDBC 4\n    // Need to use the CHAR() function on A.ALIASTYPE\n    // so that the compare will work in any schema.\n    PreparedStatement psf = conn.prepareStatement(\n            &quot;SELECT ALIAS FROM SYS.SYSALIASES A, SYS.SYSSCHEMAS S&quot; +\n            &quot; WHERE A.SCHEMAID = S.SCHEMAID &quot; +\n            &quot; AND CHAR(A.ALIASTYPE) = ? &quot; +\n            &quot; AND S.SCHEMANAME = ?&quot;);\n    psf.setString(1, &quot;F&quot; );\n    psf.setString(2, schema);\n    ResultSet rs = psf.executeQuery();\n    dropUsingDMD(s, rs, schema, &quot;ALIAS&quot;, &quot;FUNCTION&quot;);        \n\n    // Procedures\n    rs = dmd.getProcedures((String) null,\n            schema, (String) null);\n    \n    dropUsingDMD(s, rs, schema, &quot;PROCEDURE_NAME&quot;, &quot;PROCEDURE&quot;);\n    \n    // Views\n    rs = dmd.getTables((String) null, schema, (String) null,\n            GET_TABLES_VIEW);\n    \n    dropUsingDMD(s, rs, schema, &quot;TABLE_NAME&quot;, &quot;VIEW&quot;);\n    \n    // Tables\n    rs = dmd.getTables((String) null, schema, (String) null,\n            GET_TABLES_TABLE);\n    \n    dropUsingDMD(s, rs, schema, &quot;TABLE_NAME&quot;, &quot;TABLE&quot;);\n    \n    // At this point there may be tables left due to\n    // foreign key constraints leading to a dependency loop.\n    // Drop any constraints that remain and then drop the tables.\n    // If there are no tables then this should be a quick no-op.\n    ResultSet table_rs = dmd.getTables((String) null, schema, (String) null,\n            GET_TABLES_TABLE);\n\n    while (table_rs.next()) {\n        String tablename = table_rs.getString(&quot;TABLE_NAME&quot;);\n        rs = dmd.getExportedKeys((String) null, schema, tablename);\n        while (rs.next()) {\n            short keyPosition = rs.getShort(&quot;KEY_SEQ&quot;);\n            if (keyPosition != 1)\n                continue;\n            String fkName = rs.getString(&quot;FK_NAME&quot;);\n            // No name, probably can't happen but couldn't drop it anyway.\n            if (fkName == null)\n                continue;\n            String fkSchema = rs.getString(&quot;FKTABLE_SCHEM&quot;);\n            String fkTable = rs.getString(&quot;FKTABLE_NAME&quot;);\n\n            String ddl = &quot;ALTER TABLE &quot; +\n                escape(fkSchema, fkTable) +\n                &quot; DROP FOREIGN KEY &quot; +\n                escape(fkName);\n            s.executeUpdate(ddl);\n        }\n        rs.close();\n    }\n    table_rs.close();\n    conn.commit();\n            \n    // Tables (again)\n    rs = dmd.getTables((String) null, schema, (String) null,\n            GET_TABLES_TABLE);        \n    dropUsingDMD(s, rs, schema, &quot;TABLE_NAME&quot;, &quot;TABLE&quot;);\n\n    // drop UDTs\n    psf.setString(1, &quot;A&quot; );\n    psf.setString(2, schema);\n    rs = psf.executeQuery();\n    dropUsingDMD(s, rs, schema, &quot;ALIAS&quot;, &quot;TYPE&quot;);        \n\n    // drop aggregates\n    psf.setString(1, &quot;G&quot; );\n    psf.setString(2, schema);\n    rs = psf.executeQuery();\n    dropUsingDMD(s, rs, schema, &quot;ALIAS&quot;, &quot;DERBY AGGREGATE&quot;);        \n    psf.close();\n\n    // Synonyms - need work around for DERBY-1790 where\n    // passing a table type of SYNONYM fails.\n    rs = dmd.getTables((String) null, schema, (String) null,\n            GET_TABLES_SYNONYM);\n    \n    dropUsingDMD(s, rs, schema, &quot;TABLE_NAME&quot;, &quot;SYNONYM&quot;);\n            \n    // sequences\n    if ( sysSequencesExists( conn ) )\n    {\n        psf = conn.prepareStatement\n            (\n             &quot;SELECT SEQUENCENAME FROM SYS.SYSSEQUENCES A, SYS.SYSSCHEMAS S&quot; +\n             &quot; WHERE A.SCHEMAID = S.SCHEMAID &quot; +\n             &quot; AND S.SCHEMANAME = ?&quot;);\n        psf.setString(1, schema);\n        rs = psf.executeQuery();\n        dropUsingDMD(s, rs, schema, &quot;SEQUENCENAME&quot;, &quot;SEQUENCE&quot;);\n        psf.close();\n    }\n\n    // Finally drop the schema if it is not APP\n    if (!schema.equals(&quot;APP&quot;)) {\n        s.executeUpdate(&quot;DROP SCHEMA &quot; + escape(schema) + &quot; RESTRICT&quot;);\n    }\n    conn.commit();\n    s.close();\n}\n\n    /**\n * Return true if the SYSSEQUENCES table exists.\n */\nprivate static boolean sysSequencesExists( Connection conn ) throws SQLException\n{\n    PreparedStatement ps = null;\n    ResultSet rs =  null;\n    try {\n        ps = conn.prepareStatement\n            (\n             &quot;select count(*) from sys.systables t, sys.sysschemas s\\n&quot; +\n             &quot;where t.schemaid = s.schemaid\\n&quot; +\n             &quot;and ( cast(s.schemaname as varchar(128)))= 'SYS'\\n&quot; +\n             &quot;and ( cast(t.tablename as varchar(128))) = 'SYSSEQUENCES'&quot; );\n        rs = ps.executeQuery();\n        rs.next();\n        return ( rs.getInt( 1 ) &gt; 0 );\n    }\n    finally\n    {\n        if ( rs != null ) { rs.close(); }\n        if ( ps != null ) { ps.close(); }\n    }\n}\n\n/**\n * Escape a non-qualified name so that it is suitable\n * for use in a SQL query executed by JDBC.\n */\npublic static String escape(String name)\n{\n    StringBuffer buffer = new StringBuffer(name.length() + 2);\n    buffer.append('&quot;');\n    for (int i = 0; i &lt; name.length(); i++) {\n        char c = name.charAt(i);\n        // escape double quote characters with an extra double quote\n        if (c == '&quot;') buffer.append('&quot;');\n        buffer.append(c);\n    }\n    buffer.append('&quot;');\n    return buffer.toString();\n}   \n\n/**\n * Escape a schema-qualified name so that it is suitable\n * for use in a SQL query executed by JDBC.\n */\npublic static String escape(String schema, String name)\n{\n    return escape(schema) + &quot;.&quot; + escape(name);\n}\n\n\n/**\n * DROP a set of objects based upon a ResultSet from a\n * DatabaseMetaData call.\n * \n * TODO: Handle errors to ensure all objects are dropped,\n * probably requires interaction with its caller.\n * \n * @param s Statement object used to execute the DROP commands.\n * @param rs DatabaseMetaData ResultSet\n * @param schema Schema the objects are contained in\n * @param mdColumn The column name used to extract the object's\n * name from rs\n * @param dropType The keyword to use after DROP in the SQL statement\n * @throws SQLException database errors.\n */\nprivate static void dropUsingDMD(\n        Statement s, ResultSet rs, String schema,\n        String mdColumn,\n        String dropType) throws SQLException\n{\n    String dropLeadIn = &quot;DROP &quot; + dropType + &quot; &quot;;\n    \n    // First collect the set of DROP SQL statements.\n    ArrayList&lt;String&gt; ddl = new ArrayList&lt;String&gt;();\n    while (rs.next())\n    {\n        String objectName = rs.getString(mdColumn);\n        String raw = dropLeadIn + escape(schema, objectName);\n        if (\n            &quot;TYPE&quot;.equals( dropType )  ||\n            &quot;SEQUENCE&quot;.equals( dropType ) ||\n            &quot;DERBY AGGREGATE&quot;.equals( dropType )\n            )\n        { raw = raw + &quot; restrict &quot;; }\n        ddl.add( raw );\n    }\n    rs.close();\n    if (ddl.isEmpty())\n        return;\n            \n    // Execute them as a complete batch, hoping they will all succeed.\n    s.clearBatch();\n    int batchCount = 0;\n    for (Iterator i = ddl.iterator(); i.hasNext(); )\n    {\n        Object sql = i.next();\n        if (sql != null) {\n            s.addBatch(sql.toString());\n            batchCount++;\n        }\n    }\n\n    int[] results;\n    boolean hadError;\n    try {\n        results = s.executeBatch();\n        //Assert.assertNotNull(results);\n        //Assert.assertEquals(&quot;Incorrect result length from executeBatch&quot;, batchCount, results.length);\n        hadError = false;\n    } catch (BatchUpdateException batchException) {\n        results = batchException.getUpdateCounts();\n        //Assert.assertNotNull(results);\n        //Assert.assertTrue(&quot;Too many results in BatchUpdateException&quot;, results.length &lt;= batchCount);\n        hadError = true;\n    }\n    \n    // Remove any statements from the list that succeeded.\n    boolean didDrop = false;\n    for (int i = 0; i &lt; results.length; i++)\n    {\n        int result = results[i];\n        if (result == Statement.EXECUTE_FAILED)\n            hadError = true;\n        else if (result == Statement.SUCCESS_NO_INFO || result &gt;= 0) {\n            didDrop = true;\n            ddl.set(i, null);\n        }\n        //else\n            //Assert.fail(&quot;Negative executeBatch status&quot;);\n    }\n    s.clearBatch();\n    if (didDrop) {\n        // Commit any work we did do.\n        s.getConnection().commit();\n    }\n\n    // If we had failures drop them as individual statements\n    // until there are none left or none succeed. We need to\n    // do this because the batch processing stops at the first\n    // error. This copes with the simple case where there\n    // are objects of the same type that depend on each other\n    // and a different drop order will allow all or most\n    // to be dropped.\n    if (hadError) {\n        do {\n            hadError = false;\n            didDrop = false;\n            for (ListIterator&lt;String&gt; i = ddl.listIterator(); i.hasNext();) {\n                String sql = i.next();\n                if (sql != null) {\n                    try {\n                        s.executeUpdate(sql);\n                        i.set(null);\n                        didDrop = true;\n                    } catch (SQLException e) {\n                        hadError = true;\n                    }\n                }\n            }\n            if (didDrop)\n                s.getConnection().commit();\n        } while (hadError &amp;&amp; didDrop);\n    }\n}\n</code></pre>\n<p>PS: This code came in handy for when I migrated my database from H2 that does support DROP ALL OBJECTS, to Apache Derby which <a href=\"https://db.apache.org/derby/docs/10.0/manuals/reference/sqlj28.html\" rel=\"nofollow noreferrer\">does not</a> (headache). The only reason I migrated away from H2 is that it's a fully in-memory database and was getting too big for my server's RAM, so I decided to try Apache Derby. H2 is far easier and more user-friendly than Derby, I highly recommend it. I'm sad that I can't afford the RAM to keep using H2.\nBy the way, for those affected by Derby's lack of LIMIT or UPSERT, see this post about substituting <a href=\"https://stackoverflow.com/questions/33613748/vaadin-sqlsyntaxerrorexception-using-javadb-derby-encountered-limit-at-line-1/70675622#70675622\">FETCH NEXT</a> instead of LIMIT and this one about correctly using <a href=\"https://stackoverflow.com/questions/34734653/can-i-use-merge-into-to-simulate-upsert-in-apache-derby/51406647\">MERGE INTO</a>.</p>\n"}],"owner":{"account_id":8394,"reputation":5773,"user_id":15100,"accept_rate":78,"display_name":"Shimi Bandiel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32509,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":1734570,"answer_count":11,"score":14,"last_activity_date":1642569769,"creation_date":1223197312,"question_id":171727,"body_markdown":"How do i delete all the tables in the schema on Apache Derby DB using JDBC?","title":"Delete all tables in Derby DB","body":"<p>How do i delete all the tables in the schema on Apache Derby DB using JDBC?</p>\n"},{"tags":["java","maven","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"down_vote_count":1,"up_vote_count":67,"is_accepted":false,"score":66,"last_activity_date":1550093191,"creation_date":1380096933,"answer_id":18999647,"question_id":18999401,"body_markdown":"Maybe this is related to a unresolved issue in Maven: https://issues.apache.org/jira/browse/MNG-5346\r\n\r\nFor my plugin projects, i could workaround by adding an explicit execution of the maven-plugin-plugin:\r\n\r\n    &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;!-- see http://jira.codehaus.org/browse/MNG-5346 --&gt;\r\n                        &lt;skipErrorNoDescriptorsFound&gt;true&lt;/skipErrorNoDescriptorsFound&gt;\r\n                    &lt;/configuration&gt;\r\n                    \r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;mojo-descriptor&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;descriptor&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\nBut see the comments in the JIRA issue for more elaborate solutions!","title":"Basic maven plugin project not working, Mojo plugin descriptors not generating","body":"<p>Maybe this is related to a unresolved issue in Maven: <a href=\"https://issues.apache.org/jira/browse/MNG-5346\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/MNG-5346</a></p>\n\n<p>For my plugin projects, i could workaround by adding an explicit execution of the maven-plugin-plugin:</p>\n\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!-- see http://jira.codehaus.org/browse/MNG-5346 --&gt;\n                    &lt;skipErrorNoDescriptorsFound&gt;true&lt;/skipErrorNoDescriptorsFound&gt;\n                &lt;/configuration&gt;\n\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;mojo-descriptor&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;descriptor&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>But see the comments in the JIRA issue for more elaborate solutions!</p>\n"},{"tags":[],"owner":{"account_id":380946,"reputation":8180,"user_id":735284,"accept_rate":73,"display_name":"coderatchet"},"down_vote_count":1,"up_vote_count":42,"is_accepted":true,"score":41,"last_activity_date":1521561971,"creation_date":1380098040,"answer_id":18999968,"question_id":18999401,"body_markdown":"after reading the [Jira Issue that Gyro posted][1], i added the following lines to my pom and everything compiled nicely.\r\n\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;goalPrefix&gt;mysql-jdbc-compliance&lt;/goalPrefix&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-descriptor&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;descriptor&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;help-descriptor&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;helpmojo&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n[1]:https://issues.apache.org/jira/browse/MNG-5346","title":"Basic maven plugin project not working, Mojo plugin descriptors not generating","body":"<p>after reading the <a href=\"https://issues.apache.org/jira/browse/MNG-5346\" rel=\"noreferrer\">Jira Issue that Gyro posted</a>, i added the following lines to my pom and everything compiled nicely.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;goalPrefix&gt;mysql-jdbc-compliance&lt;/goalPrefix&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-descriptor&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;descriptor&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;process-classes&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;help-descriptor&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;helpmojo&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;process-classes&lt;/phase&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32864,"reputation":9277,"user_id":91497,"accept_rate":67,"display_name":"Jmini"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1642569667,"creation_date":1435214360,"answer_id":31042965,"question_id":18999401,"body_markdown":"As mentioned in the [previous answer][1], this was a bug and it is now fixed.\r\n\r\nYou just need to tell maven it should use a newer version of the `maven-plugin-plugin`.\r\n\r\nHere is what my pom file looks like:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;!-- ...other maven config... --&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/18999647/91497","title":"Basic maven plugin project not working, Mojo plugin descriptors not generating","body":"<p>As mentioned in the <a href=\"https://stackoverflow.com/a/18999647/91497\">previous answer</a>, this was a bug and it is now fixed.</p>\n<p>You just need to tell maven it should use a newer version of the <code>maven-plugin-plugin</code>.</p>\n<p>Here is what my pom file looks like:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;!-- ...other maven config... --&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":359707,"reputation":936,"user_id":701285,"accept_rate":80,"display_name":"randomUser56789"},"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1611763704,"creation_date":1458433265,"answer_id":36108858,"question_id":18999401,"body_markdown":"Simply incrementing maven plugin version to 3.3 or 3.4 won&#39;t fix any issue (as some has stated).\r\n\r\nYou have to add a minimum of `default-descriptor` execution with the correct phase.\r\nSo the minimum config of build information is as follows:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-descriptor&lt;/id&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nirrespective of `maven-plugin-plugin` version. (it can be 3.1, 3.2, 3.3. 3.4 (didn&#39;t test the others)).\r\n\r\nwill yield:\r\n\r\n    ...\r\n    [INFO] --- maven-plugin-plugin:3.2:descriptor (default-descriptor) @ example-maven-plugin ---\r\n    [WARNING] Using platform encoding (UTF-8 actually) to read mojo metadata, i.e. build is platform dependent!\r\n    [INFO] Applying mojo extractor for language: java-annotations\r\n    [INFO] Mojo extractor for language: java-annotations found 1 mojo descriptors.\r\n    [INFO] Applying mojo extractor for language: java\r\n    [INFO] Mojo extractor for language: java found 0 mojo descriptors.\r\n    [INFO] Applying mojo extractor for language: bsh\r\n    [INFO] Mojo extractor for language: bsh found 0 mojo descriptors.\r\n    ...\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nAnother option if you don&#39;t want to have build tags in your pom, you can use javadocs on your Mojo. For instance:\r\n\r\n    /**\r\n     * @goal run123\r\n     */\r\n    @Mojo(name = &quot;run123&quot;)\r\n    public class MyMojo extends AbstractMojo {\r\n    }\r\n\r\nwill yield:\r\n\r\n    ...\r\n    [INFO] --- maven-plugin-plugin:3.2:descriptor (default-descriptor) @ example-maven-plugin ---\r\n    [WARNING] Using platform encoding (UTF-8 actually) to read mojo metadata, i.e. build is platform dependent!\r\n    [INFO] Applying mojo extractor for language: java-annotations\r\n    [INFO] Mojo extractor for language: java-annotations found 0 mojo descriptors.\r\n    [INFO] Applying mojo extractor for language: java\r\n    [INFO] Mojo extractor for language: java found 1 mojo descriptors.\r\n    [INFO] Applying mojo extractor for language: bsh\r\n    [INFO] Mojo extractor for language: bsh found 0 mojo descriptors. \r\n    ...\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nPlease refer to this guide for more info \r\nhttp://maven.apache.org/plugin-tools/maven-plugin-plugin/examples/using-annotations.html","title":"Basic maven plugin project not working, Mojo plugin descriptors not generating","body":"<p>Simply incrementing maven plugin version to 3.3 or 3.4 won't fix any issue (as some has stated).</p>\n<p>You have to add a minimum of <code>default-descriptor</code> execution with the correct phase.\nSo the minimum config of build information is as follows:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-descriptor&lt;/id&gt;\n                    &lt;phase&gt;process-classes&lt;/phase&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>irrespective of <code>maven-plugin-plugin</code> version. (it can be 3.1, 3.2, 3.3. 3.4 (didn't test the others)).</p>\n<p>will yield:</p>\n<pre><code>...\n[INFO] --- maven-plugin-plugin:3.2:descriptor (default-descriptor) @ example-maven-plugin ---\n[WARNING] Using platform encoding (UTF-8 actually) to read mojo metadata, i.e. build is platform dependent!\n[INFO] Applying mojo extractor for language: java-annotations\n[INFO] Mojo extractor for language: java-annotations found 1 mojo descriptors.\n[INFO] Applying mojo extractor for language: java\n[INFO] Mojo extractor for language: java found 0 mojo descriptors.\n[INFO] Applying mojo extractor for language: bsh\n[INFO] Mojo extractor for language: bsh found 0 mojo descriptors.\n...\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>Another option if you don't want to have build tags in your pom, you can use javadocs on your Mojo. For instance:</p>\n<pre><code>/**\n * @goal run123\n */\n@Mojo(name = &quot;run123&quot;)\npublic class MyMojo extends AbstractMojo {\n}\n</code></pre>\n<p>will yield:</p>\n<pre><code>...\n[INFO] --- maven-plugin-plugin:3.2:descriptor (default-descriptor) @ example-maven-plugin ---\n[WARNING] Using platform encoding (UTF-8 actually) to read mojo metadata, i.e. build is platform dependent!\n[INFO] Applying mojo extractor for language: java-annotations\n[INFO] Mojo extractor for language: java-annotations found 0 mojo descriptors.\n[INFO] Applying mojo extractor for language: java\n[INFO] Mojo extractor for language: java found 1 mojo descriptors.\n[INFO] Applying mojo extractor for language: bsh\n[INFO] Mojo extractor for language: bsh found 0 mojo descriptors. \n...\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>Please refer to this guide for more info\n<a href=\"http://maven.apache.org/plugin-tools/maven-plugin-plugin/examples/using-annotations.html\" rel=\"nofollow noreferrer\">http://maven.apache.org/plugin-tools/maven-plugin-plugin/examples/using-annotations.html</a></p>\n"},{"tags":[],"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1499693133,"creation_date":1499691660,"answer_id":45012786,"question_id":18999401,"body_markdown":"Initially I thought Gyro&#39;s answer fixed the error. But later when executing the goal it failed.\r\n\r\n&gt; mvn sample.plugin:hello-maven-plugin:1.0-SNAPSHOT:sayhi\r\n\r\nproduced\r\n\r\n&gt; [ERROR] Could not find goal &#39;sayhi&#39; in plugin sample.plugin:hello-maven-plugin:1.0-SNAPSHOT among available goals -&gt; [Help 1]\r\n\r\nTurns out that\r\n\r\n&gt; skipErrorNoDescriptorsFound\r\n\r\nonly suppressed the error. i.e. It did not resolve the underlying problem. I removed this fix.\r\n\r\nAfter that the solution was simple (and the cause purely my fault). When I created GreetingMojo.java I placed it in the following directory\r\n\r\n&gt; .../Development/my-maven-plugin/src/sample/plugin/GreetingMojo.java\r\n\r\nIt needed to be under\r\n\r\n&gt; .../Development/my-maven-plugin/src/main/Java/sample/plugin/GreetingMojo.java","title":"Basic maven plugin project not working, Mojo plugin descriptors not generating","body":"<p>Initially I thought Gyro's answer fixed the error. But later when executing the goal it failed.</p>\n\n<blockquote>\n  <p>mvn sample.plugin:hello-maven-plugin:1.0-SNAPSHOT:sayhi</p>\n</blockquote>\n\n<p>produced</p>\n\n<blockquote>\n  <p>[ERROR] Could not find goal 'sayhi' in plugin sample.plugin:hello-maven-plugin:1.0-SNAPSHOT among available goals -> [Help 1]</p>\n</blockquote>\n\n<p>Turns out that</p>\n\n<blockquote>\n  <p>skipErrorNoDescriptorsFound</p>\n</blockquote>\n\n<p>only suppressed the error. i.e. It did not resolve the underlying problem. I removed this fix.</p>\n\n<p>After that the solution was simple (and the cause purely my fault). When I created GreetingMojo.java I placed it in the following directory</p>\n\n<blockquote>\n  <p>.../Development/my-maven-plugin/src/sample/plugin/GreetingMojo.java</p>\n</blockquote>\n\n<p>It needed to be under</p>\n\n<blockquote>\n  <p>.../Development/my-maven-plugin/src/main/Java/sample/plugin/GreetingMojo.java</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4652638,"reputation":980,"user_id":3769076,"accept_rate":50,"display_name":"solbs"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1554234778,"creation_date":1554234778,"answer_id":55482550,"question_id":18999401,"body_markdown":"Great answers above -- I&#39;d like to augment them by adding a resource to find the latest version:\r\nhttps://mvnrepository.com/artifact/org.apache.maven.plugins/maven-plugin-plugin\r\n\r\n\r\nApril 2, 2019 -- I encountered the same error above and resolved it by using 3.6.0","title":"Basic maven plugin project not working, Mojo plugin descriptors not generating","body":"<p>Great answers above -- I'd like to augment them by adding a resource to find the latest version:\n<a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-plugin-plugin\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-plugin-plugin</a></p>\n\n<p>April 2, 2019 -- I encountered the same error above and resolved it by using 3.6.0</p>\n"}],"owner":{"account_id":380946,"reputation":8180,"user_id":735284,"accept_rate":73,"display_name":"coderatchet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74170,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":18999968,"answer_count":6,"score":75,"last_activity_date":1642569667,"creation_date":1380096103,"question_id":18999401,"body_markdown":"I am following the [tutorial][1] for creating a maven plugin and cannot run mvn install without getting errors. The info complains that i don&#39;t have the required mojo descriptors when the annotations should be generating them for me. I am running maven 3.0.5 and using intellij as my ide. here is my Main class:\r\n\r\n\t@Mojo(name = &quot;modify-connector&quot;)\r\n\tpublic class ComplianceMojo extends AbstractMojo {\r\n\r\n\t\t@Parameter\r\n\t\tprivate String artifactId;\r\n\r\n\t\t@Parameter\r\n\t\tprivate String version;\r\n\r\n\t\t@Override\r\n\t\tpublic void execute() throws MojoExecutionException, MojoFailureException {\r\n\t\t\tFile jar = new File(getPluginContext().get(&quot;project.build.directory&quot;) + &quot;/&quot;\r\n\t\t\t\t\t+ getPluginContext().get(&quot;project.build.finalname&quot;) + &quot;/&quot; + artifactId + &quot;-&quot; + version);\r\n\t\t\tif(jar.exists()){\r\n\t\t\t\tgetLog().info(&quot;The file exists! &quot; + jar.getAbsolutePath());\r\n\t\t\t} else {\r\n\t\t\t\tgetLog().info(&quot;The file does not exist: &quot; + jar.getAbsolutePath());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nAnd here is my pom.xml\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t\t&lt;groupId&gt;mysql-jdbc-compliance-maven-plugin&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-jdbc-compliance-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;packaging&gt;maven-plugin&lt;/packaging&gt;\r\n\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\r\n\t&lt;/project&gt;\r\n\r\n&lt;b&gt;Note:&lt;/b&gt; I had to separately add the annotations dependency as the main plugin api did not contain these classes. when i run mvn install on my project, the output is as follows:\r\n\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[INFO] BUILD FAILURE\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[INFO] Total time: 0.867s\r\n\t[INFO] Finished at: Wed Sep 25 17:45:55 EST 2013\r\n\t[INFO] Final Memory: 8M/244M\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:2.9:descriptor (default-descriptor) on project mysql-jdbc-compliance-maven-plugin: Error extracting plugin descriptor: &#39;No mojo definitions were found for plugin: mysql-jdbc-compliance-maven-plugin:mysql-jdbc-compliance-maven-plugin.&#39; -&gt; [Help 1]\r\n\t[ERROR] \r\n\t[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n\t[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n\t[ERROR] \r\n\t[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n\t[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n[1]: http://maven.apache.org/guides/plugin/guide-java-plugin-development.html","title":"Basic maven plugin project not working, Mojo plugin descriptors not generating","body":"<p>I am following the <a href=\"http://maven.apache.org/guides/plugin/guide-java-plugin-development.html\">tutorial</a> for creating a maven plugin and cannot run mvn install without getting errors. The info complains that i don't have the required mojo descriptors when the annotations should be generating them for me. I am running maven 3.0.5 and using intellij as my ide. here is my Main class:</p>\n\n<pre><code>@Mojo(name = \"modify-connector\")\npublic class ComplianceMojo extends AbstractMojo {\n\n    @Parameter\n    private String artifactId;\n\n    @Parameter\n    private String version;\n\n    @Override\n    public void execute() throws MojoExecutionException, MojoFailureException {\n        File jar = new File(getPluginContext().get(\"project.build.directory\") + \"/\"\n                + getPluginContext().get(\"project.build.finalname\") + \"/\" + artifactId + \"-\" + version);\n        if(jar.exists()){\n            getLog().info(\"The file exists! \" + jar.getAbsolutePath());\n        } else {\n            getLog().info(\"The file does not exist: \" + jar.getAbsolutePath());\n        }\n    }\n}\n</code></pre>\n\n<p>And here is my pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;mysql-jdbc-compliance-maven-plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-jdbc-compliance-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n            &lt;version&gt;3.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p><b>Note:</b> I had to separately add the annotations dependency as the main plugin api did not contain these classes. when i run mvn install on my project, the output is as follows:</p>\n\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 0.867s\n[INFO] Finished at: Wed Sep 25 17:45:55 EST 2013\n[INFO] Final Memory: 8M/244M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:2.9:descriptor (default-descriptor) on project mysql-jdbc-compliance-maven-plugin: Error extracting plugin descriptor: 'No mojo definitions were found for plugin: mysql-jdbc-compliance-maven-plugin:mysql-jdbc-compliance-maven-plugin.' -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","swing","jscrollbar"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1642566766,"post_id":66940660,"comment_id":125102199,"body_markdown":"More helpful than a screenshot (which could be described as &#39;lots of controls with a scrollbar on the right&#39;) would be a [mre]. Note though that nowhere in the question do you mention a `JScrollPane` which is the component you should be focusing on. See [How to Use Scroll Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html) in the tutorial.","body":"More helpful than a screenshot (which could be described as &#39;lots of controls with a scrollbar on the right&#39;) would be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Note though that nowhere in the question do you mention a <code>JScrollPane</code> which is the component you should be focusing on. See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">How to Use Scroll Panes</a> in the tutorial."}],"answers":[{"tags":[],"owner":{"account_id":11456951,"reputation":113,"user_id":8397651,"display_name":"SRM Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642568564,"creation_date":1642568564,"answer_id":70765514,"question_id":66940660,"body_markdown":"Try to  take a `Panel` and add components to that `Panel` and set the `JScrollPane` to that panel and add that to your `Frame`.\r\n\r\n\r\n    JScrollPane scrollPane = new JScrollPane(yourPanel);\r\n    yourFrame.add(scrollPane, BorderLayout.CENTER);\r\n\r\n\r\nBetter to add the `scrollpane` to the **CENTER**, so that it will get all the space available to yourFrame.","title":"How to make JScrollBar to scroll?","body":"<p>Try to  take a <code>Panel</code> and add components to that <code>Panel</code> and set the <code>JScrollPane</code> to that panel and add that to your <code>Frame</code>.</p>\n<pre><code>JScrollPane scrollPane = new JScrollPane(yourPanel);\nyourFrame.add(scrollPane, BorderLayout.CENTER);\n</code></pre>\n<p>Better to add the <code>scrollpane</code> to the <strong>CENTER</strong>, so that it will get all the space available to yourFrame.</p>\n"}],"owner":{"account_id":14942961,"reputation":1,"user_id":10789042,"display_name":"Shinto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642568564,"creation_date":1617534885,"question_id":66940660,"body_markdown":"I am working on a project in Netbeans for which I need to use a scrollbar (Swing controls). I have added the same in the `JFrame` but it is not scrolling. I don&#39;t know what is the code to be given to make it scrollable and under which event. I&#39;m new to Java and I would be very grateful if somebody could help and give me the answer.\r\n\r\n[UI DESIGN][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qQspa.png","title":"How to make JScrollBar to scroll?","body":"<p>I am working on a project in Netbeans for which I need to use a scrollbar (Swing controls). I have added the same in the <code>JFrame</code> but it is not scrolling. I don't know what is the code to be given to make it scrollable and under which event. I'm new to Java and I would be very grateful if somebody could help and give me the answer.</p>\n<p><a href=\"https://i.stack.imgur.com/qQspa.png\" rel=\"nofollow noreferrer\">UI DESIGN</a></p>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":9876770,"reputation":303,"user_id":17935543,"display_name":"Mr.Droid"},"score":0,"creation_date":1642491072,"post_id":70751642,"comment_id":125077479,"body_markdown":"Add the contents of the themes.xml file","body":"Add the contents of the themes.xml file"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1642491174,"post_id":70751642,"comment_id":125077522,"body_markdown":"I have added please check sir.","body":"I have added please check sir."},{"owner":{"account_id":9876770,"reputation":303,"user_id":17935543,"display_name":"Mr.Droid"},"score":0,"creation_date":1642491732,"post_id":70751642,"comment_id":125077671,"body_markdown":"Please add the full code for the design with root layout .","body":"Please add the full code for the design with root layout ."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1642491974,"post_id":70751642,"comment_id":125077763,"body_markdown":"Sir sorry but what is root layout?","body":"Sir sorry but what is root layout?"},{"owner":{"account_id":9876770,"reputation":303,"user_id":17935543,"display_name":"Mr.Droid"},"score":0,"creation_date":1642492177,"post_id":70751642,"comment_id":125077842,"body_markdown":"I mean the entire contents of the design file","body":"I mean the entire contents of the design file"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1642568397,"post_id":70751642,"comment_id":125102470,"body_markdown":"I have added entire code of desing file please check","body":"I have added entire code of desing file please check"},{"owner":{"account_id":9876770,"reputation":303,"user_id":17935543,"display_name":"Mr.Droid"},"score":0,"creation_date":1642570699,"post_id":70751642,"comment_id":125102876,"body_markdown":"There is no problem with the design code. I tested it and it works fine","body":"There is no problem with the design code. I tested it and it works fine"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1642571052,"post_id":70751642,"comment_id":125102945,"body_markdown":"yes sir it is working fine on my emulator also but when I open/install the app on my mobile then it is not working properly that is the case. i have attached the photos","body":"yes sir it is working fine on my emulator also but when I open/install the app on my mobile then it is not working properly that is the case. i have attached the photos"},{"owner":{"account_id":9876770,"reputation":303,"user_id":17935543,"display_name":"Mr.Droid"},"score":0,"creation_date":1642571550,"post_id":70751642,"comment_id":125103036,"body_markdown":"Yes, I tested it on a real device and there is no problem with it either :) . Are you using a custom theme on your phone? Try the default theme","body":"Yes, I tested it on a real device and there is no problem with it either :) . Are you using a custom theme on your phone? Try the default theme"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1642655289,"post_id":70751642,"comment_id":125130116,"body_markdown":"oh sir, now I changed my theme from dark mode to light mode and now it is working but why it is not showing on the dark mode then??","body":"oh sir, now I changed my theme from dark mode to light mode and now it is working but why it is not showing on the dark mode then??"},{"owner":{"account_id":9876770,"reputation":303,"user_id":17935543,"display_name":"Mr.Droid"},"score":0,"creation_date":1642655559,"post_id":70751642,"comment_id":125130160,"body_markdown":"There is another file to set a different theme when activating the night mode on the phone https://developer.android.com/guide/topics/ui/look-and-feel/darktheme","body":"There is another file to set a different theme when activating the night mode on the phone <a href=\"https://developer.android.com/guide/topics/ui/look-and-feel/darktheme\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/look-and-feel/darkthem&zwnj;&#8203;e</a>"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642568368,"creation_date":1642490510,"question_id":70751642,"body_markdown":"I am using Material Design for Android, it is working fine on emulator but when I m installing it on my phone it is not working/ it is not showing.\r\n\r\n**Dependency I m using** \r\n\r\n        implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n\r\n**My XML fILE** \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/white&quot;\r\n    tools:context=&quot;.SetUpProfileActivity&quot;&gt;\r\n\r\n    &lt;de.hdodenhof.circleimageview.CircleImageView\r\n        android:id=&quot;@+id/profile_image&quot;\r\n        android:layout_width=&quot;96dp&quot;\r\n        android:layout_height=&quot;96dp&quot;\r\n        android:layout_marginStart=&quot;159dp&quot;\r\n        android:layout_marginTop=&quot;101dp&quot;\r\n        android:layout_marginEnd=&quot;138dp&quot;\r\n        android:src=&quot;@drawable/user&quot;\r\n        app:civ_border_color=&quot;#7E7B7B&quot;\r\n        app:civ_border_width=&quot;2dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView4&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:text=&quot;Enter Your Details Here&quot;\r\n        android:textColor=&quot;#535252&quot;\r\n        android:textSize=&quot;15sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/profile_image&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/textInputLayout2&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        android:hint=&quot;Enter your Name&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:imeOptions=&quot;actionNext&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/textInputLayout3&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:prefixText=&quot;+91&quot;\r\n\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout2&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Enter Phone&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:maxLength=&quot;10&quot;\r\n            android:imeOptions=&quot;actionNext&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/textInputLayout4&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout3&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Enter Email&quot;\r\n            android:inputType=&quot;textEmailAddress&quot;/&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/textInputLayout5&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        app:endIconMode=&quot;password_toggle&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout4&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Enter Password&quot;\r\n            android:inputType=&quot;textPassword&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        android:backgroundTint=&quot;@color/reddark&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:text=&quot;Update&quot;\r\n        android:textAllCaps=&quot;false&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;\r\n        android:textSize=&quot;15sp&quot;\r\n        app:cornerRadius=&quot;5dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout5&quot; /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n**theme.xml content**\r\n\r\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.Backsoon&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/reddark&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;#323232&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;#303030&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n\r\n**Image of Emulator Pixel 5 API 27**\r\n[![enter image description here][1]][1]\r\n\r\n**On phone, they are showing only when I m clicking on designs**\r\nImage of my fone\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BVP7u.jpg\r\n  [2]: https://i.stack.imgur.com/AgeFl.jpg\r\n  [3]: https://i.stack.imgur.com/ay5T9.jpg","title":"Problem: - Material Design is not showing on my Mobile","body":"<p>I am using Material Design for Android, it is working fine on emulator but when I m installing it on my phone it is not working/ it is not showing.</p>\n<p><strong>Dependency I m using</strong></p>\n<pre><code>    implementation 'com.google.android.material:material:1.4.0'\n</code></pre>\n<p><strong>My XML fILE</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;@color/white&quot;\ntools:context=&quot;.SetUpProfileActivity&quot;&gt;\n\n&lt;de.hdodenhof.circleimageview.CircleImageView\n    android:id=&quot;@+id/profile_image&quot;\n    android:layout_width=&quot;96dp&quot;\n    android:layout_height=&quot;96dp&quot;\n    android:layout_marginStart=&quot;159dp&quot;\n    android:layout_marginTop=&quot;101dp&quot;\n    android:layout_marginEnd=&quot;138dp&quot;\n    android:src=&quot;@drawable/user&quot;\n    app:civ_border_color=&quot;#7E7B7B&quot;\n    app:civ_border_width=&quot;2dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/textView4&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;20dp&quot;\n    android:text=&quot;Enter Your Details Here&quot;\n    android:textColor=&quot;#535252&quot;\n    android:textSize=&quot;15sp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/profile_image&quot; /&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/textInputLayout2&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;20dp&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:layout_marginEnd=&quot;20dp&quot;\n    android:hint=&quot;Enter your Name&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:imeOptions=&quot;actionNext&quot;/&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/textInputLayout3&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;20dp&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:layout_marginEnd=&quot;20dp&quot;\n    app:endIconMode=&quot;clear_text&quot;\n    app:prefixText=&quot;+91&quot;\n\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout2&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Enter Phone&quot;\n        android:inputType=&quot;number&quot;\n        android:maxLength=&quot;10&quot;\n        android:imeOptions=&quot;actionNext&quot;/&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/textInputLayout4&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;20dp&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:layout_marginEnd=&quot;20dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout3&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Enter Email&quot;\n        android:inputType=&quot;textEmailAddress&quot;/&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/textInputLayout5&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;20dp&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:layout_marginEnd=&quot;20dp&quot;\n    app:endIconMode=&quot;password_toggle&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout4&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Enter Password&quot;\n        android:inputType=&quot;textPassword&quot;/&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;Button\n    android:id=&quot;@+id/button&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;20dp&quot;\n    android:layout_marginTop=&quot;16dp&quot;\n    android:layout_marginEnd=&quot;20dp&quot;\n    android:backgroundTint=&quot;@color/reddark&quot;\n    android:padding=&quot;10dp&quot;\n    android:text=&quot;Update&quot;\n    android:textAllCaps=&quot;false&quot;\n    android:textColor=&quot;#FFFFFF&quot;\n    android:textSize=&quot;15sp&quot;\n    app:cornerRadius=&quot;5dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout5&quot; /&gt;\n</code></pre>\n<p>&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</p>\n<p><strong>theme.xml content</strong></p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;Theme.Backsoon&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n    &lt;!-- Primary brand color. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/reddark&lt;/item&gt;\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n    &lt;!-- Secondary brand color. --&gt;\n    &lt;item name=&quot;colorSecondary&quot;&gt;#323232&lt;/item&gt;\n    &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n    &lt;item name=&quot;colorOnSecondary&quot;&gt;#303030&lt;/item&gt;\n    &lt;!-- Status bar color. --&gt;\n    &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n    &lt;!-- Customize your theme here. --&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p><strong>Image of Emulator Pixel 5 API 27</strong>\n<a href=\"https://i.stack.imgur.com/BVP7u.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BVP7u.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>On phone, they are showing only when I m clicking on designs</strong>\nImage of my fone\n<a href=\"https://i.stack.imgur.com/AgeFl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AgeFl.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/ay5T9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ay5T9.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":15319993,"reputation":11,"user_id":11052773,"display_name":"poorwa kesharwani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642566894,"creation_date":1642566894,"answer_id":70765343,"question_id":70765288,"body_markdown":"You can store the result in a file and then for read-only n file from the file. Using FileReader in Java.","title":"How to just read first N lines of a GET API response instead of loading the entire response?","body":"<p>You can store the result in a file and then for read-only n file from the file. Using FileReader in Java.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642568238,"creation_date":1642568238,"answer_id":70765480,"question_id":70765288,"body_markdown":"Using the provided sample, you can do it like this:\r\n\r\n        //getting the input stream as a project resource\r\n        //you should get it from the API response\r\n        InputStream inputStream = Objects.requireNonNull(ClassLoader.getSystemResourceAsStream(&quot;response.txt&quot;));\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n        final String start = &quot;--------Start Certificate 1---------&quot;;\r\n        final String end = &quot;---------End Certificate 1----------&quot;;\r\n        String line = reader.readLine();\r\n        //dumping everything before first certificate start\r\n        while (!line.equals(start)) {\r\n          line = reader.readLine();\r\n        }\r\n        StringBuilder firstCertificate = new StringBuilder(line).append(System.lineSeparator());\r\n        line = reader.readLine();\r\n        while (!line.equals(end)) {\r\n          firstCertificate.append(line).append(System.lineSeparator());\r\n          line = reader.readLine();\r\n        }\r\n        firstCertificate.append(line);\r\n        System.out.println(firstCertificate);\r\n\r\nIf you or your team are responsible for this API, it would be best if you add support for pagination. If you happen to need second, third certificate, or something after that, you still have to read up to that. And there is no point in the server sending data you will just dump.","title":"How to just read first N lines of a GET API response instead of loading the entire response?","body":"<p>Using the provided sample, you can do it like this:</p>\n<pre><code>    //getting the input stream as a project resource\n    //you should get it from the API response\n    InputStream inputStream = Objects.requireNonNull(ClassLoader.getSystemResourceAsStream(&quot;response.txt&quot;));\n    BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n    final String start = &quot;--------Start Certificate 1---------&quot;;\n    final String end = &quot;---------End Certificate 1----------&quot;;\n    String line = reader.readLine();\n    //dumping everything before first certificate start\n    while (!line.equals(start)) {\n      line = reader.readLine();\n    }\n    StringBuilder firstCertificate = new StringBuilder(line).append(System.lineSeparator());\n    line = reader.readLine();\n    while (!line.equals(end)) {\n      firstCertificate.append(line).append(System.lineSeparator());\n      line = reader.readLine();\n    }\n    firstCertificate.append(line);\n    System.out.println(firstCertificate);\n</code></pre>\n<p>If you or your team are responsible for this API, it would be best if you add support for pagination. If you happen to need second, third certificate, or something after that, you still have to read up to that. And there is no point in the server sending data you will just dump.</p>\n"}],"owner":{"account_id":15718732,"reputation":13,"user_id":11342237,"display_name":"Devasish Sahoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70765480,"answer_count":2,"score":0,"last_activity_date":1642568238,"creation_date":1642566339,"question_id":70765288,"body_markdown":"We have a `GET` API and the response is a huge list of certificates. How do we read just the 1st certificate if we know the start and end tag of the 1st certificate? instead of loading the entire response in the memory?\r\n\r\n    Sample Response :\r\n    --------Start Certificate 1---------\r\n    chgdbhbdjnjkvfdlnlkvdknl;vkkdsnvnknv\r\n    hvjbdjnjvnjdnvjkndjvnjdnvjndnvdjbdee\r\n    hbvhjfbnvjnbjfnvjnfjnvjnfjvjnvfjnvjd\r\n    ---------End Certificate 1----------\r\n    --------Start Certificate 2---------\r\n    chgdbhbdjnjkvfdlnlkvdknl;vkkdsnvnknv\r\n    hvjbdjnjvnjdnvjkndjvnjdnvjndnvdjbdee\r\n    hbvhjfbnvjnbjfnvjnfjnvjnfjvjnvfjnvjd\r\n    ---------End Certificate 2----------\r\n    --------Start Certificate 3---------\r\n    chgdbhbdjnjkvfdlnlkvdknl;vkkdsnvnknv\r\n    hvjbdjnjvnjdnvjkndjvnjdnvjndnvdjbdee\r\n    hbvhjfbnvjnbjfnvjnfjnvjnfjvjnvfjnvjd\r\n    ---------End Certificate 3----------\r\n    --------Start Certificate 4---------\r\n    chgdbhbdjnjkvfdlnlkvdknl;vkkdsnvnknv\r\n    hvjbdjnjvnjdnvjkndjvnjdnvjndnvdjbdee\r\n    hbvhjfbnvjnbjfnvjnfjnvjnfjvjnvfjnvjd\r\n    ---------End Certificate 4----------","title":"How to just read first N lines of a GET API response instead of loading the entire response?","body":"<p>We have a <code>GET</code> API and the response is a huge list of certificates. How do we read just the 1st certificate if we know the start and end tag of the 1st certificate? instead of loading the entire response in the memory?</p>\n<pre><code>Sample Response :\n--------Start Certificate 1---------\nchgdbhbdjnjkvfdlnlkvdknl;vkkdsnvnknv\nhvjbdjnjvnjdnvjkndjvnjdnvjndnvdjbdee\nhbvhjfbnvjnbjfnvjnfjnvjnfjvjnvfjnvjd\n---------End Certificate 1----------\n--------Start Certificate 2---------\nchgdbhbdjnjkvfdlnlkvdknl;vkkdsnvnknv\nhvjbdjnjvnjdnvjkndjvnjdnvjndnvdjbdee\nhbvhjfbnvjnbjfnvjnfjnvjnfjvjnvfjnvjd\n---------End Certificate 2----------\n--------Start Certificate 3---------\nchgdbhbdjnjkvfdlnlkvdknl;vkkdsnvnknv\nhvjbdjnjvnjdnvjkndjvnjdnvjndnvdjbdee\nhbvhjfbnvjnbjfnvjnfjnvjnfjvjnvfjnvjd\n---------End Certificate 3----------\n--------Start Certificate 4---------\nchgdbhbdjnjkvfdlnlkvdknl;vkkdsnvnknv\nhvjbdjnjvnjdnvjkndjvnjdnvjndnvdjbdee\nhbvhjfbnvjnbjfnvjnfjnvjnfjvjnvfjnvjd\n---------End Certificate 4----------\n</code></pre>\n"},{"tags":["java","rest","web-services","jersey","jax-rs"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1642553237,"post_id":70756130,"comment_id":125099973,"body_markdown":"`@QueryParam` is what you&#39;re looking for.","body":"<code>@QueryParam</code> is what you&#39;re looking for."},{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1642568330,"post_id":70756130,"comment_id":125102455,"body_markdown":"@PaulSamsotha, I have avoided using &quot;@QueryParam&quot; as I have good number of arguments to be handled and the list is likely to grow.  As an alternative approach, I have decided to use UriInfo. I have updated the implementation on the question.  But the issue that I am facing is. How to I restrict the user to use only of the above mentioned parameters?","body":"@PaulSamsotha, I have avoided using &quot;@QueryParam&quot; as I have good number of arguments to be handled and the list is likely to grow.  As an alternative approach, I have decided to use UriInfo. I have updated the implementation on the question.  But the issue that I am facing is. How to I restrict the user to use only of the above mentioned parameters?"},{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1642568373,"post_id":70756130,"comment_id":125102464,"body_markdown":"@PaulSamsotha, Or is there a better way to handle it?","body":"@PaulSamsotha, Or is there a better way to handle it?"}],"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642568166,"creation_date":1642511414,"question_id":70756130,"body_markdown":"I have a rest API \r\n\r\n    http://localhost:9090/hello-todo/api/v1/todo/list\r\n\r\nThe implementation for the same is \r\n\r\n    @Path(&quot;list&quot;)\r\n    @GET\r\n    public List&lt;Todo&gt; getTodos(){\r\n      return todoService.getTodos();\r\n    }\r\n\r\nI need to write the implementation for the below API&#39;s\r\n\r\n    http://localhost:9090/hello-todo/api/v1/todo/list?status=CRITICAL\r\n\r\n    http://localhost:9090/hello-todo/api/v1/todo/list?status=MAJOR\r\n\r\n    http://localhost:9090/hello-todo/api/v1/todo/list?status={criticality}&amp;todo.completion.status=completed\r\n\r\n    http://localhost:9090/hello-todo/api/v1/todo/list?status={criticality}&amp;todo.completion.status=completed&amp;todo.title={title}\r\n\r\n    http://localhost:9090/hello-todo/api/v1/todo/list?status={criticality}&amp;todo.completion.status=completed&amp;todo.title={title}&amp;todo.startDate={startDate}\r\n\r\n\r\nIs it possible for a single path annotation to handle all the implementations? \r\n\r\nMy concern is **todo.completion.status=completed** is defaulted in the query itself.\r\n\r\nI have even looked at the below solution it does not work for me for the above mentioned reason.\r\n\r\nhttps://stackoverflow.com/questions/41100241/java-rest-api-query-annotation\r\n\r\n**Update**\r\n\r\n I have avoided using @QueryParam as I have good number of arguments to be handled and the list is likely to grow. The method signature will only grow in future and it will affect readability of the code.\r\n\r\nHence, I have chosen to use UriInfo. \r\n\r\n    @Path(&quot;list&quot;)\r\n    @GET\r\n    public List&lt;Todo&gt; getTodos(@Context UriInfo uriInfo){\r\n      MultivaluedMap&lt;String, String&gt; queryParameters = uriInfo.getQueryParameters();\r\n      .\r\n      .\r\n      .\r\n    }\r\n\r\nThe rest Query that I am building writes a query to collect information from other services. The issue with this approach is we can any parameters, How do I restrict the user to use only of the above parameters?","title":"Java: Jersey: How to handle multiple query parameters","body":"<p>I have a rest API</p>\n<pre><code>http://localhost:9090/hello-todo/api/v1/todo/list\n</code></pre>\n<p>The implementation for the same is</p>\n<pre><code>@Path(&quot;list&quot;)\n@GET\npublic List&lt;Todo&gt; getTodos(){\n  return todoService.getTodos();\n}\n</code></pre>\n<p>I need to write the implementation for the below API's</p>\n<pre><code>http://localhost:9090/hello-todo/api/v1/todo/list?status=CRITICAL\n\nhttp://localhost:9090/hello-todo/api/v1/todo/list?status=MAJOR\n\nhttp://localhost:9090/hello-todo/api/v1/todo/list?status={criticality}&amp;todo.completion.status=completed\n\nhttp://localhost:9090/hello-todo/api/v1/todo/list?status={criticality}&amp;todo.completion.status=completed&amp;todo.title={title}\n\nhttp://localhost:9090/hello-todo/api/v1/todo/list?status={criticality}&amp;todo.completion.status=completed&amp;todo.title={title}&amp;todo.startDate={startDate}\n</code></pre>\n<p>Is it possible for a single path annotation to handle all the implementations?</p>\n<p>My concern is <strong>todo.completion.status=completed</strong> is defaulted in the query itself.</p>\n<p>I have even looked at the below solution it does not work for me for the above mentioned reason.</p>\n<p><a href=\"https://stackoverflow.com/questions/41100241/java-rest-api-query-annotation\">Java REST API Query annotation</a></p>\n<p><strong>Update</strong></p>\n<p>I have avoided using @QueryParam as I have good number of arguments to be handled and the list is likely to grow. The method signature will only grow in future and it will affect readability of the code.</p>\n<p>Hence, I have chosen to use UriInfo.</p>\n<pre><code>@Path(&quot;list&quot;)\n@GET\npublic List&lt;Todo&gt; getTodos(@Context UriInfo uriInfo){\n  MultivaluedMap&lt;String, String&gt; queryParameters = uriInfo.getQueryParameters();\n  .\n  .\n  .\n}\n</code></pre>\n<p>The rest Query that I am building writes a query to collect information from other services. The issue with this approach is we can any parameters, How do I restrict the user to use only of the above parameters?</p>\n"},{"tags":["java","swing","layout","jbutton","jscrollpane"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1530785030,"post_id":51188466,"comment_id":89358555,"body_markdown":"You could use a `GridBagLayout`","body":"You could use a <code>GridBagLayout</code>"}],"answers":[{"tags":[],"owner":{"account_id":2640224,"reputation":586,"user_id":9189768,"display_name":"BluEOS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530785233,"creation_date":1530785233,"answer_id":51188562,"question_id":51188466,"body_markdown":"Create a new JPanel, set a GridBadLayout or a GridLayout and add your Chat buttons.\r\nThen create a JScrollPane with your new panel.\r\nYou can improve scrolling (mouse scroll) implementing Scrollable on your JPanel.","title":"Adding JButtons to Scrollpane","body":"<p>Create a new JPanel, set a GridBadLayout or a GridLayout and add your Chat buttons.\nThen create a JScrollPane with your new panel.\nYou can improve scrolling (mouse scroll) implementing Scrollable on your JPanel.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1530785756,"creation_date":1530785756,"answer_id":51188760,"question_id":51188466,"body_markdown":"Start by isolating your required functionality.  Start with a `JPanel`, a `GridBagLayout` and some buttons...\r\n\r\n\t\tsetLayout(new GridBagLayout());\r\n\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\t\tgbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n\r\n\t\tfor (int index = 0; index &lt; 100; index++) {\r\n\t\t\tadd(new JButton(&quot;Chat &quot; + (index + 1)), gbc);\r\n\t\t}\r\n\r\nThen add this to a `JScrollPane` and add that to the primary container, perhaps with a using `BorderLayout`\r\n\r\n    frame.add(new JScrollPane(new ChatListPane()), BorderLayout.LINE_START);\r\n\r\nYou may find that you may also need to implement the `Scrollable` `interface` to better control the size of the `JScrollPane` to better suit your overall needs.  While I used it here, you don&#39;t always need it...\r\n\r\n\timport java.awt.BorderLayout;\r\n\timport java.awt.Dimension;\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.GridBagConstraints;\r\n\timport java.awt.GridBagLayout;\r\n\timport java.awt.Rectangle;\r\n\timport javax.swing.JButton;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.JScrollPane;\r\n\timport javax.swing.Scrollable;\r\n\timport javax.swing.UIManager;\r\n\timport javax.swing.UnsupportedLookAndFeelException;\r\n\r\n\tpublic class Test {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Test();\r\n\t\t}\r\n\r\n\t\tpublic Test() {\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\tframe.add(new ChatPane());\r\n\t\t\t\t\tframe.add(new JScrollPane(new ChatListPane()), BorderLayout.LINE_START);\r\n\t\t\t\t\tframe.pack();\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic class ChatPane extends JPanel {\r\n\r\n\t\t\tpublic ChatPane() {\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Dimension getPreferredSize() {\r\n\t\t\t\treturn new Dimension(200, 200);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tpublic class ChatListPane extends JPanel implements Scrollable {\r\n\r\n\t\t\tpublic ChatListPane() {\r\n\t\t\t\tsetLayout(new GridBagLayout());\r\n\t\t\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\t\t\t\tgbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\t\t\t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n\r\n\t\t\t\tfor (int index = 0; index &lt; 100; index++) {\r\n\t\t\t\t\tadd(new JButton(&quot;Chat &quot; + (index + 1)), gbc);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Dimension getPreferredScrollableViewportSize() {\r\n\t\t\t\treturn new Dimension(100, 100);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int getScrollableUnitIncrement(Rectangle visibleRect, int orientation, int direction) {\r\n\t\t\t\treturn 64;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int getScrollableBlockIncrement(Rectangle visibleRect, int orientation, int direction) {\r\n\t\t\t\treturn 64;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic boolean getScrollableTracksViewportWidth() {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic boolean getScrollableTracksViewportHeight() {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\nAnother, and arguably better, solution would be to use a `JList` and a custom `ListCellRenderer`.\r\n\r\nSee [How to Use Lists](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html) for more details","title":"Adding JButtons to Scrollpane","body":"<p>Start by isolating your required functionality.  Start with a <code>JPanel</code>, a <code>GridBagLayout</code> and some buttons...</p>\n\n<pre><code>    setLayout(new GridBagLayout());\n    GridBagConstraints gbc = new GridBagConstraints();\n    gbc.gridwidth = GridBagConstraints.REMAINDER;\n    gbc.fill = GridBagConstraints.HORIZONTAL;\n\n    for (int index = 0; index &lt; 100; index++) {\n        add(new JButton(\"Chat \" + (index + 1)), gbc);\n    }\n</code></pre>\n\n<p>Then add this to a <code>JScrollPane</code> and add that to the primary container, perhaps with a using <code>BorderLayout</code></p>\n\n<pre><code>frame.add(new JScrollPane(new ChatListPane()), BorderLayout.LINE_START);\n</code></pre>\n\n<p>You may find that you may also need to implement the <code>Scrollable</code> <code>interface</code> to better control the size of the <code>JScrollPane</code> to better suit your overall needs.  While I used it here, you don't always need it...</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Rectangle;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.Scrollable;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(\"Testing\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new ChatPane());\n                frame.add(new JScrollPane(new ChatListPane()), BorderLayout.LINE_START);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class ChatPane extends JPanel {\n\n        public ChatPane() {\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n    }\n\n    public class ChatListPane extends JPanel implements Scrollable {\n\n        public ChatListPane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n\n            for (int index = 0; index &lt; 100; index++) {\n                add(new JButton(\"Chat \" + (index + 1)), gbc);\n            }\n        }\n\n        @Override\n        public Dimension getPreferredScrollableViewportSize() {\n            return new Dimension(100, 100);\n        }\n\n        @Override\n        public int getScrollableUnitIncrement(Rectangle visibleRect, int orientation, int direction) {\n            return 64;\n        }\n\n        @Override\n        public int getScrollableBlockIncrement(Rectangle visibleRect, int orientation, int direction) {\n            return 64;\n        }\n\n        @Override\n        public boolean getScrollableTracksViewportWidth() {\n            return true;\n        }\n\n        @Override\n        public boolean getScrollableTracksViewportHeight() {\n            return false;\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Another, and arguably better, solution would be to use a <code>JList</code> and a custom <code>ListCellRenderer</code>.</p>\n\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\">How to Use Lists</a> for more details</p>\n"}],"owner":{"account_id":13014309,"reputation":467,"user_id":9406165,"display_name":"CodingTil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51188760,"answer_count":2,"score":0,"last_activity_date":1642567530,"creation_date":1530784941,"question_id":51188466,"body_markdown":"JAVA:\r\n\r\nI want to add some JButtons to an Scrollpane. The JButtons are the Chats (like in Skype). I want them in a list with 1 column only.\r\nThe amount of groups / rows should be flexible. \r\nThe size of the buttons should be the same all the time (300x50 or something like that) and the text inside the buttons should be aligned left.\r\nHow can I achieve this?\r\n\r\nCODE:\r\n\r\n    class Chat extends JButton {\r\n\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\t\tpublic Group group;\r\n\t\t\r\n\t\t\r\n\t\tpublic Chat(Group group) {\r\n\t\t\tthis.group = group;\r\n\t\t\tsetMinimumSize(new Dimension(300, 50));\r\n\t\t\t\r\n\t\t\tsetFocusPainted(false);\r\n\t\t\tsetText(group.groupname);\r\n\t\t\tsetFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 30));\r\n\t\t\tsetForeground(Manager.dark);\r\n\t\t\tsetBackground(blue);\r\n\t\t\tsetBorder(new MatteBorder(0, 0, 1, 0, Manager.ct.getForeground()));\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\n    public void initGroups() {\r\n\t\tint count = 0;\r\n\t\tfor(Group group : groups) {\r\n\t\t\tif(group != null) {\r\n\t\t\t\t//TODO: ADD CHATS (GROUPS) TO SCROLLPANE\r\n\t\t\t\tcount ++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(count == 0) {\r\n\t\t\tSystem.out.println(&quot;No groups&quot;);\r\n\t\t}\r\n\t}","title":"Adding JButtons to Scrollpane","body":"<p>JAVA:</p>\n\n<p>I want to add some JButtons to an Scrollpane. The JButtons are the Chats (like in Skype). I want them in a list with 1 column only.\nThe amount of groups / rows should be flexible. \nThe size of the buttons should be the same all the time (300x50 or something like that) and the text inside the buttons should be aligned left.\nHow can I achieve this?</p>\n\n<p>CODE:</p>\n\n<pre><code>class Chat extends JButton {\n\n    private static final long serialVersionUID = 1L;\n    public Group group;\n\n\n    public Chat(Group group) {\n        this.group = group;\n        setMinimumSize(new Dimension(300, 50));\n\n        setFocusPainted(false);\n        setText(group.groupname);\n        setFont(new Font(\"Tahoma\", Font.PLAIN, 30));\n        setForeground(Manager.dark);\n        setBackground(blue);\n        setBorder(new MatteBorder(0, 0, 1, 0, Manager.ct.getForeground()));\n    }\n\n}\n\n\npublic void initGroups() {\n    int count = 0;\n    for(Group group : groups) {\n        if(group != null) {\n            //TODO: ADD CHATS (GROUPS) TO SCROLLPANE\n            count ++;\n        }\n    }\n\n    if(count == 0) {\n        System.out.println(\"No groups\");\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jscrollpane","jscrollbar"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1541540047,"post_id":53180324,"comment_id":93250840,"body_markdown":"You can pass scrollbar policies into [the constructor](https://docs.oracle.com/javase/7/docs/api/javax/swing/JScrollPane.html#JScrollPane(java.awt.Component,%20int,%20int)) when you create the `new JScrollPane`","body":"You can pass scrollbar policies into <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JScrollPane.html#JScrollPane(java.awt.Component,%20int,%20int)\" rel=\"nofollow noreferrer\">the constructor</a> when you create the <code>new JScrollPane</code>"},{"owner":{"account_id":2625304,"reputation":5244,"user_id":2272450,"accept_rate":64,"display_name":"Atomiklan"},"score":0,"creation_date":1541540189,"post_id":53180324,"comment_id":93250893,"body_markdown":"Ok, thank you. I will read into that some more right now. Still don&#39;t know exactly how to accomplish that though. Can you provide an example?","body":"Ok, thank you. I will read into that some more right now. Still don&#39;t know exactly how to accomplish that though. Can you provide an example?"}],"answers":[{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541540246,"creation_date":1541540246,"answer_id":53180425,"question_id":53180324,"body_markdown":"You can pass scrollbar policies into [the constructor](https://docs.oracle.com/javase/7/docs/api/javax/swing/JScrollPane.html#JScrollPane(java.awt.Component,%20int,%20int)) when you create the new scrollpane.\r\n\r\n    private final JScrollPane instanceScroll = new JScrollPane(instancesTable, \r\n                               ScrollPaneConstants.VERTICAL_SCROLLBAR_NEVER, \r\n                               ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n\r\nOr you can leave your constructor call as it is, and set the policy (for instance) in your `initComponents()` method.\r\n\r\n    instanceScroll.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_NEVER);","title":"Where to set VERTICAL_SCROLLBAR_NEVER?","body":"<p>You can pass scrollbar policies into <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JScrollPane.html#JScrollPane(java.awt.Component,%20int,%20int)\" rel=\"nofollow noreferrer\">the constructor</a> when you create the new scrollpane.</p>\n\n<pre><code>private final JScrollPane instanceScroll = new JScrollPane(instancesTable, \n                           ScrollPaneConstants.VERTICAL_SCROLLBAR_NEVER, \n                           ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n</code></pre>\n\n<p>Or you can leave your constructor call as it is, and set the policy (for instance) in your <code>initComponents()</code> method.</p>\n\n<pre><code>instanceScroll.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_NEVER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541637167,"creation_date":1541636434,"answer_id":53199866,"question_id":53180324,"body_markdown":"Your splitPane&#39;s two components are a JScrollPane on the left, and on the right we cannot tell because you did not include that part of the code.\r\n\r\nFrom the two screenshots, we can only guess you are interested in having the component on the RIGHT without scrollbars.\r\n\r\nSo if that&#39;s the case, you&#39;ll have to show the `createNewPanel()` code, or indeed make the right component a JScrollPane with no scrollbars too.","title":"Where to set VERTICAL_SCROLLBAR_NEVER?","body":"<p>Your splitPane's two components are a JScrollPane on the left, and on the right we cannot tell because you did not include that part of the code.</p>\n\n<p>From the two screenshots, we can only guess you are interested in having the component on the RIGHT without scrollbars.</p>\n\n<p>So if that's the case, you'll have to show the <code>createNewPanel()</code> code, or indeed make the right component a JScrollPane with no scrollbars too.</p>\n"}],"owner":{"account_id":2625304,"reputation":5244,"user_id":2272450,"accept_rate":64,"display_name":"Atomiklan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1642566936,"creation_date":1541539814,"question_id":53180324,"body_markdown":"I am very new to Java, so go easy on me please. After quite a bit of research I believe I understand that the `JScrollPane` option displays the scroll bar by default. I am trying to change this behavior in some existing code. I believe the default simply needs to be changed with `VERTICAL_SCROLLBAR_NEVER`. However, I am having difficulty determining where this is set in the code. Can somebody please help show me where this property is set (or if I am even on the right track)?\r\n\r\nThis is the segment of code I believe to be relevant to this question. A scroll bar is present on the right side of the split pane window. I would like to permanently hide this.\r\n\r\n    public class LauncherFrame extends JFrame {\r\n    \r\n        private final Launcher launcher;\r\n    \r\n        @Getter\r\n        private final InstanceTable instancesTable = new InstanceTable();\r\n        private final InstanceTableModel instancesModel;\r\n        @Getter\r\n        private final JScrollPane instanceScroll = new JScrollPane(instancesTable);\r\n        private WebpagePanel webView;\r\n        private JSplitPane splitPane;\r\n        private final JButton launchButton = new JButton(SharedLocale.tr(&quot;launcher.launch&quot;));\r\n        private final JButton refreshButton = new JButton(SharedLocale.tr(&quot;launcher.checkForUpdates&quot;));\r\n        private final JButton optionsButton = new JButton(SharedLocale.tr(&quot;launcher.options&quot;));\r\n        private final JButton selfUpdateButton = new JButton(SharedLocale.tr(&quot;launcher.updateLauncher&quot;));\r\n        private final JCheckBox updateCheck = new JCheckBox(SharedLocale.tr(&quot;launcher.downloadUpdates&quot;));\r\n    \r\n        public LauncherFrame(@NonNull Launcher launcher) {\r\n            super(tr(&quot;launcher.title&quot;, launcher.getVersion()));\r\n    \r\n            this.launcher = launcher;\r\n            instancesModel = new InstanceTableModel(launcher.getInstances());\r\n    \r\n            setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    \t\tsetSize(new Dimension(615, 322));\r\n    \t\tsetResizable(false);\r\n            initComponents();\r\n            setLocationRelativeTo(null);\r\n    \r\n            SwingHelper.setFrameIcon(this, Launcher.class, &quot;icon.png&quot;);\r\n    \r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    loadInstances();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void initComponents() {\r\n            JPanel container = createContainerPanel();\r\n            container.setLayout(new MigLayout(&quot;fill, insets dialog&quot;, &quot;[][]push[][]&quot;, &quot;[grow][]&quot;));\r\n    \r\n            webView = createNewsPanel();\r\n            splitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, instanceScroll, webView);\r\n            selfUpdateButton.setVisible(launcher.getUpdateManager().getPendingUpdate());\r\n    \r\n            launcher.getUpdateManager().addPropertyChangeListener(new PropertyChangeListener() {\r\n                @Override\r\n                public void propertyChange(PropertyChangeEvent evt) {\r\n                    if (evt.getPropertyName().equals(&quot;pendingUpdate&quot;)) {\r\n                        selfUpdateButton.setVisible((Boolean) evt.getNewValue());\r\n    \r\n                    }\r\n                }\r\n            });\r\n    \r\n            updateCheck.setSelected(true);\r\n            instancesTable.setModel(instancesModel);\r\n            launchButton.setFont(launchButton.getFont().deriveFont(Font.BOLD));\r\n            splitPane.setDividerLocation(100);\r\n            splitPane.setDividerSize(4);\r\n            splitPane.setOpaque(false);\r\n            container.add(splitPane, &quot;grow, wrap, span 5, gapbottom unrel, w null:680, h null:350&quot;);\r\n            SwingHelper.flattenJSplitPane(splitPane);\r\n            container.add(refreshButton);\r\n            container.add(updateCheck);\r\n            container.add(selfUpdateButton);\r\n            container.add(optionsButton);\r\n            container.add(launchButton);\r\n    \r\n            add(container, BorderLayout.CENTER);\r\n        }\r\n\r\n*** UPDATE ***\r\n\r\nAttempted suggestions below, but still getting visible scroll bar. I changed window to resizable true so you can see it easier when reduced in size.\r\n\r\n[![Scroll bar example][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J1O69.png\r\n  [2]: https://i.stack.imgur.com/LfcAH.png","title":"Where to set VERTICAL_SCROLLBAR_NEVER?","body":"<p>I am very new to Java, so go easy on me please. After quite a bit of research I believe I understand that the <code>JScrollPane</code> option displays the scroll bar by default. I am trying to change this behavior in some existing code. I believe the default simply needs to be changed with <code>VERTICAL_SCROLLBAR_NEVER</code>. However, I am having difficulty determining where this is set in the code. Can somebody please help show me where this property is set (or if I am even on the right track)?</p>\n\n<p>This is the segment of code I believe to be relevant to this question. A scroll bar is present on the right side of the split pane window. I would like to permanently hide this.</p>\n\n<pre><code>public class LauncherFrame extends JFrame {\n\n    private final Launcher launcher;\n\n    @Getter\n    private final InstanceTable instancesTable = new InstanceTable();\n    private final InstanceTableModel instancesModel;\n    @Getter\n    private final JScrollPane instanceScroll = new JScrollPane(instancesTable);\n    private WebpagePanel webView;\n    private JSplitPane splitPane;\n    private final JButton launchButton = new JButton(SharedLocale.tr(\"launcher.launch\"));\n    private final JButton refreshButton = new JButton(SharedLocale.tr(\"launcher.checkForUpdates\"));\n    private final JButton optionsButton = new JButton(SharedLocale.tr(\"launcher.options\"));\n    private final JButton selfUpdateButton = new JButton(SharedLocale.tr(\"launcher.updateLauncher\"));\n    private final JCheckBox updateCheck = new JCheckBox(SharedLocale.tr(\"launcher.downloadUpdates\"));\n\n    public LauncherFrame(@NonNull Launcher launcher) {\n        super(tr(\"launcher.title\", launcher.getVersion()));\n\n        this.launcher = launcher;\n        instancesModel = new InstanceTableModel(launcher.getInstances());\n\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        setSize(new Dimension(615, 322));\n        setResizable(false);\n        initComponents();\n        setLocationRelativeTo(null);\n\n        SwingHelper.setFrameIcon(this, Launcher.class, \"icon.png\");\n\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                loadInstances();\n            }\n        });\n    }\n\n    private void initComponents() {\n        JPanel container = createContainerPanel();\n        container.setLayout(new MigLayout(\"fill, insets dialog\", \"[][]push[][]\", \"[grow][]\"));\n\n        webView = createNewsPanel();\n        splitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, instanceScroll, webView);\n        selfUpdateButton.setVisible(launcher.getUpdateManager().getPendingUpdate());\n\n        launcher.getUpdateManager().addPropertyChangeListener(new PropertyChangeListener() {\n            @Override\n            public void propertyChange(PropertyChangeEvent evt) {\n                if (evt.getPropertyName().equals(\"pendingUpdate\")) {\n                    selfUpdateButton.setVisible((Boolean) evt.getNewValue());\n\n                }\n            }\n        });\n\n        updateCheck.setSelected(true);\n        instancesTable.setModel(instancesModel);\n        launchButton.setFont(launchButton.getFont().deriveFont(Font.BOLD));\n        splitPane.setDividerLocation(100);\n        splitPane.setDividerSize(4);\n        splitPane.setOpaque(false);\n        container.add(splitPane, \"grow, wrap, span 5, gapbottom unrel, w null:680, h null:350\");\n        SwingHelper.flattenJSplitPane(splitPane);\n        container.add(refreshButton);\n        container.add(updateCheck);\n        container.add(selfUpdateButton);\n        container.add(optionsButton);\n        container.add(launchButton);\n\n        add(container, BorderLayout.CENTER);\n    }\n</code></pre>\n\n<p><strong>* UPDATE *</strong></p>\n\n<p>Attempted suggestions below, but still getting visible scroll bar. I changed window to resizable true so you can see it easier when reduced in size.</p>\n\n<p><a href=\"https://i.stack.imgur.com/J1O69.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J1O69.png\" alt=\"Scroll bar example\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/LfcAH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LfcAH.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","swing","max","setvalue","jscrollbar"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1616800617,"post_id":66825189,"comment_id":118125822,"body_markdown":"Once again we have another question without an [mre]. If people haven&#39;t been reading your last 3 or 4 question they have no idea what you are attempting to do.","body":"Once again we have another question without an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. If people haven&#39;t been reading your last 3 or 4 question they have no idea what you are attempting to do."},{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":0,"creation_date":1616800680,"post_id":66825189,"comment_id":118125834,"body_markdown":"@camickr Sorry let me do that right now","body":"@camickr Sorry let me do that right now"},{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":0,"creation_date":1616801256,"post_id":66825189,"comment_id":118125940,"body_markdown":"@camickr Alright at the top I stated that the code is my minimal reproducible example. I have included everything for the Main class and below that I also have the code for the Map class. I think that is sufficient.","body":"@camickr Alright at the top I stated that the code is my minimal reproducible example. I have included everything for the Main class and below that I also have the code for the Map class. I think that is sufficient."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1616815455,"post_id":66825189,"comment_id":118128953,"body_markdown":"The posted code does not compile. Therefore it is not an [mre]. We should be able to copy/paste/compile and test to see the described behaviour. Also you don&#39;t need the Map class. You can just create a JPanel and set the preferred size. *I tested this by printing out the maximum sizes of the scrollbars before and after I pressed any of the keys* - this should be part of the MRE so we can see exactly how you tested.","body":"The posted code does not compile. Therefore it is not an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. We should be able to copy/paste/compile and test to see the described behaviour. Also you don&#39;t need the Map class. You can just create a JPanel and set the preferred size. <i>I tested this by printing out the maximum sizes of the scrollbars before and after I pressed any of the keys</i> - this should be part of the MRE so we can see exactly how you tested."},{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":0,"creation_date":1616822572,"post_id":66825189,"comment_id":118129706,"body_markdown":"@camickr Alright I edited my post and I edited the code and tested it myself - it reproduces my problem. Sorry for being so ignorant here, and thanks for being patient with me. I will put more effort into future posts.","body":"@camickr Alright I edited my post and I edited the code and tested it myself - it reproduces my problem. Sorry for being so ignorant here, and thanks for being patient with me. I will put more effort into future posts."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616840029,"creation_date":1616840029,"answer_id":66830151,"question_id":66825189,"body_markdown":"I finally got your example to work somewhat.  I can move the scroll bars with the WASD keys.\r\n\r\nI removed the static from the `JScrollPane` class field.\r\n\r\nI started the Swing application with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread][1].\r\n\r\nI added the key listener to the `JScrollPane`, rather than the `JFrame`.\r\n\r\nI made the `JScrollPane` focusable, so the key presses would actually register.  [Key bindings][2] would work a lot easier.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.SpringLayout;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class JScrollPaneTest implements KeyListener {\r\n        private JScrollPane view;   \r\n    \r\n        public JScrollPaneTest() { \r\n            create();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n        \tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\t new JScrollPaneTest();\r\n    \t\t\t}\r\n        \t});\r\n        }\r\n    \r\n        public void create() {\r\n           JFrame frame = new JFrame(); //make frame\r\n           frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n           frame.setSize(1000, 1000);\r\n           frame.setLocationRelativeTo(null);\r\n           frame.setResizable(false);\r\n    \r\n           SpringLayout layout = new SpringLayout(); \r\n           JPanel base = new JPanel();\r\n           base.setPreferredSize(new Dimension(1000, 1000));\r\n           base.setLayout(layout);\r\n             \r\n           JPanel map = new JPanel();  //make panel for the scrollpane\r\n           map.setPreferredSize(new Dimension(1000, 1000));\r\n           \r\n           \r\n           view = new JScrollPane(map);  //initialize scrollpane and add to base with a SpringLayout\r\n           view.setFocusable(true);\r\n           view.setPreferredSize(new Dimension(300, 300));\r\n           layout.putConstraint(SpringLayout.HORIZONTAL_CENTER, view, 0, SpringLayout.HORIZONTAL_CENTER, base);\r\n           layout.putConstraint(SpringLayout.VERTICAL_CENTER, view, 0,  SpringLayout.VERTICAL_CENTER, base);\r\n           base.add(view); //add scrollpane to base jpanel\r\n    \r\n           frame.add(base);\r\n           frame.setVisible(true);\r\n           view.addKeyListener(this);\r\n           \r\n           view.getHorizontalScrollBar().setMaximum(10*800); //set wanted max sizes of each scroll bar\r\n           view.getVerticalScrollBar().setMaximum(10*800);\r\n        }\r\n    \r\n    \tpublic void keyPressed(KeyEvent event) { // W, A, S, D keys to change values of jscrollbars\r\n    \t\tint verticalValue = view.getVerticalScrollBar().getValue();\r\n    \t\tint horizontalValue = view.getHorizontalScrollBar().getValue();\r\n    \t\t\r\n    \t\tswitch (event.getKeyCode()) {\r\n    \t\tcase KeyEvent.VK_W:\r\n    \t\t\tview.getVerticalScrollBar().setValue(verticalValue - 10);\r\n    \t\t\tbreak;\r\n    \t\tcase KeyEvent.VK_S:\r\n    \t\t\tview.getVerticalScrollBar().setValue(verticalValue + 10);\r\n    \t\t\tbreak;\r\n    \t\tcase KeyEvent.VK_A:\r\n    \t\t\tview.getHorizontalScrollBar().setValue(horizontalValue - 10);\r\n    \t\t\tbreak;\r\n    \t\tcase KeyEvent.VK_D:\r\n    \t\t\tview.getHorizontalScrollBar().setValue(horizontalValue + 10);\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void keyTyped(KeyEvent e) {\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void keyReleased(KeyEvent e) {\r\n    \t}\r\n     \r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html","title":"JScrollBars value change not keeping maximum value constant","body":"<p>I finally got your example to work somewhat.  I can move the scroll bars with the WASD keys.</p>\n<p>I removed the static from the <code>JScrollPane</code> class field.</p>\n<p>I started the Swing application with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>I added the key listener to the <code>JScrollPane</code>, rather than the <code>JFrame</code>.</p>\n<p>I made the <code>JScrollPane</code> focusable, so the key presses would actually register.  <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key bindings</a> would work a lot easier.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.SpringLayout;\nimport javax.swing.SwingUtilities;\n\npublic class JScrollPaneTest implements KeyListener {\n    private JScrollPane view;   \n\n    public JScrollPaneTest() { \n        create();\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                 new JScrollPaneTest();\n            }\n        });\n    }\n\n    public void create() {\n       JFrame frame = new JFrame(); //make frame\n       frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n       frame.setSize(1000, 1000);\n       frame.setLocationRelativeTo(null);\n       frame.setResizable(false);\n\n       SpringLayout layout = new SpringLayout(); \n       JPanel base = new JPanel();\n       base.setPreferredSize(new Dimension(1000, 1000));\n       base.setLayout(layout);\n         \n       JPanel map = new JPanel();  //make panel for the scrollpane\n       map.setPreferredSize(new Dimension(1000, 1000));\n       \n       \n       view = new JScrollPane(map);  //initialize scrollpane and add to base with a SpringLayout\n       view.setFocusable(true);\n       view.setPreferredSize(new Dimension(300, 300));\n       layout.putConstraint(SpringLayout.HORIZONTAL_CENTER, view, 0, SpringLayout.HORIZONTAL_CENTER, base);\n       layout.putConstraint(SpringLayout.VERTICAL_CENTER, view, 0,  SpringLayout.VERTICAL_CENTER, base);\n       base.add(view); //add scrollpane to base jpanel\n\n       frame.add(base);\n       frame.setVisible(true);\n       view.addKeyListener(this);\n       \n       view.getHorizontalScrollBar().setMaximum(10*800); //set wanted max sizes of each scroll bar\n       view.getVerticalScrollBar().setMaximum(10*800);\n    }\n\n    public void keyPressed(KeyEvent event) { // W, A, S, D keys to change values of jscrollbars\n        int verticalValue = view.getVerticalScrollBar().getValue();\n        int horizontalValue = view.getHorizontalScrollBar().getValue();\n        \n        switch (event.getKeyCode()) {\n        case KeyEvent.VK_W:\n            view.getVerticalScrollBar().setValue(verticalValue - 10);\n            break;\n        case KeyEvent.VK_S:\n            view.getVerticalScrollBar().setValue(verticalValue + 10);\n            break;\n        case KeyEvent.VK_A:\n            view.getHorizontalScrollBar().setValue(horizontalValue - 10);\n            break;\n        case KeyEvent.VK_D:\n            view.getHorizontalScrollBar().setValue(horizontalValue + 10);\n            break;\n        }\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n    }\n \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1616867292,"creation_date":1616860060,"answer_id":66833187,"question_id":66825189,"body_markdown":"The `JScrollBar` uses the `DefaultBoundedRangeModel` to track the values.\r\n\r\nInside the `BasicScrollPaneUI` is the method `syncScrollPaneWithViewport()` which invokes `hsb.setValues(...)`. \r\n\r\nThe setValues(...) method invokes the `setRangeProperties(...)` method of the BoundedRangeModel. \r\n\r\nUnfortunately the max value is reset based on the width of the panel added to the viewport.\r\n\r\nSo my suggestion is that you will need to create your own custom BoundedRangeModel and make sure the &quot;max&quot; value is not reset (to a smaller value)? I don&#39;t know if this will affect scrolling or not.\r\n\r\nYour can check out the source code for the DefaultBoundedRangeModel and BasicScrollPaneUI at:\r\n\r\nhttps://github.com/openjdk/jdk/tree/master/src/java.desktop/share/classes/javax\r\n\r\nHere is the test code I used to verify that the max value was being changed by a method external to the setValue(...) statement itself. However, this statement does apparently cause the synching of the viewport to happen:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.event.*;\r\n    import java.awt.*;\r\n    \r\n    public class Test implements KeyListener {\r\n               private static JScrollPane view;\r\n    \r\n               public Test() {\r\n                   create();\r\n               }\r\n    \r\n               public static void main(String[] args) {\r\n    \t\t\t\tSwingUtilities.invokeLater( () -&gt; new Test() );\r\n               }\r\n    \r\n               public void create() {\r\n                  JFrame frame = new JFrame(); //make frame\r\n                  frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                  frame.setSize(1000, 1000);\r\n                  frame.setLocationRelativeTo(null);\r\n                  frame.setResizable(false);\r\n    \r\n                  SpringLayout layout = new SpringLayout();\r\n                  JPanel base = new JPanel();\r\n                  base.setPreferredSize(new Dimension(1000, 1000));\r\n                  base.setLayout(layout);\r\n    \r\n                  JPanel map = new JPanel();  //make panel for the scrollpane\r\n                  map.setPreferredSize(new Dimension(1200, 1200));\r\n    \r\n    \r\n                  view = new JScrollPane(map);  //initialize scrollpane and add to base with a SpringLayout\r\n                  view.setPreferredSize(new Dimension(300, 300));\r\n                  layout.putConstraint(SpringLayout.HORIZONTAL_CENTER, view, 0, SpringLayout.HORIZONTAL_CENTER, base);\r\n                  layout.putConstraint(SpringLayout.VERTICAL_CENTER, view, 0,  SpringLayout.VERTICAL_CENTER, base);\r\n                  base.add(view); //add scrollpane to base jpanel\r\n    \r\n    \t\t\t\tview.getHorizontalScrollBar().setModel( new MyBoundedRangeModel() );\r\n    \t\t\t\tSystem.out.println(&quot;default value&quot;);\r\n               \t\tSystem.out.println(view.getHorizontalScrollBar().getMaximum());\r\n    \r\n    \r\n                  frame.add(base);\r\n                  frame.setVisible(true);\r\n                  frame.addKeyListener(this);\r\n    \r\n        \t\t\tSystem.out.println(&quot;after Visible&quot;);\r\n             \t\tSystem.out.println(view.getHorizontalScrollBar().getMaximum());\r\n    \r\n    \r\n    \t           view.getHorizontalScrollBar().setMaximum(10*800); //set wanted max sizes of each scroll bar\r\n           \t\t   view.getVerticalScrollBar().setMaximum(10*800);\r\n    \r\n    \t\t\t\tSystem.out.println(&quot;after changing maximum&quot;);\r\n               \t\tSystem.out.println(view.getHorizontalScrollBar().getMaximum());\r\n    \r\n    \r\n               }\r\n    \r\n               public void keyPressed(KeyEvent event)\r\n               {\r\n               \t\tSystem.out.println(&quot;Before&quot;);\r\n               \t\tSystem.out.println(view.getHorizontalScrollBar().getValue());\r\n               \t\tSystem.out.println(view.getHorizontalScrollBar().getMaximum());\r\n    \r\n                   switch(event.getKeyCode()) {\r\n                  case KeyEvent.VK_W:\r\n                       view.getVerticalScrollBar().setValue((int) (view.getVerticalScrollBar().getValue() - 10*0.9));\r\n                       break;\r\n                  case KeyEvent.VK_S:\r\n                       view.getVerticalScrollBar().setValue((int) (view.getVerticalScrollBar().getValue() + 10*0.9));\r\n                       break;\r\n                  case KeyEvent.VK_A:\r\n                       view.getHorizontalScrollBar().setValue((int) (view.getHorizontalScrollBar().getValue() - 10*0.9));\r\n                       break;\r\n                  case KeyEvent.VK_D:\r\n                       view.getHorizontalScrollBar().setValue((int) (view.getHorizontalScrollBar().getValue() + 10*0.9));\r\n                       break;\r\n                   }\r\n    \r\n               \t\tSystem.out.println(&quot;after&quot;);\r\n                \tSystem.out.println(view.getHorizontalScrollBar().getValue());\r\n                \tSystem.out.println(view.getHorizontalScrollBar().getMaximum());\r\n               }\r\n    \r\n            @Override\r\n            public void keyTyped(KeyEvent e) {\r\n                // TODO Auto-generated method stub\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void keyReleased(KeyEvent e) {\r\n                // TODO Auto-generated method stub\r\n    \r\n            }\r\n    \r\n    \t\tclass MyBoundedRangeModel extends DefaultBoundedRangeModel\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic void setValue(int i)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;setValue&quot;);\r\n    \t\t\t\tsuper.setValue(i);\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void setMaximum(int i)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;setMaximum&quot;);\r\n    \t\t\t\tsuper.setMaximum(i);\r\n    \t\t\t}\r\n    \t\t\t@Override\r\n    \t\t\tpublic void setMinimum(int i)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;setMinimum&quot;);\r\n    \t\t\t\tsuper.setMinimum(i);\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void setExtent(int i)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;setExtent&quot;);\r\n    \t\t\t\tsuper.setExtent(i);\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void setRangeProperties(int newValue, int newExtent, int newMin, int newMax, boolean adjusting)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;setRangeProperties&quot;);\r\n    \t\t\t\tSystem.out.println(newValue + &quot; : &quot; + newExtent + &quot; : &quot; + newMax);\r\n    \t\t\t\tsuper.setRangeProperties(newValue, newExtent, newMin, newMax, adjusting);\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    }\r\n\r\nEdit:\r\n\r\nAbove code demonstrates how to extend the DefaultBoundedRangeModel. Currently, it only shows when each method is invoked to try to understand the logic flow when the model is updated. \r\n\r\nNote that after the &quot;setMaximum&quot; the &quot;setRangeProperties&quot; is invoked with the correct max value.\r\n\r\nHowever, &quot;setRangeProperties&quot; is invoked a second time (as a result of logic found in the BasicScrollPaneUI as I tried to explain at the top of my answer). Only this time it is invoked with the width of the panel (1200) as the maximum value, not the 8000 you originally specified.\r\n\r\nSo it would appear you need to rewrite the code of the `setRangeProperties(...)` method to always use the 8000 as the maximum value. So maybe when you create an instance of the `MyBoundedRangeModel` you pass in the maximum value you want to use. \r\n\r\nI gave you a link where you can find the source code for the DefaultBoundedRangeModel. Start by copying the code from the `setRangeProperties(...)` method to use as a starting point. Then you need to customize the code to make sure the maximum is always 8000. \r\n\r\nThis is my best guess as to how you can solve the problem. I don&#39;t know if it will work or not.\r\n","title":"JScrollBars value change not keeping maximum value constant","body":"<p>The <code>JScrollBar</code> uses the <code>DefaultBoundedRangeModel</code> to track the values.</p>\n<p>Inside the <code>BasicScrollPaneUI</code> is the method <code>syncScrollPaneWithViewport()</code> which invokes <code>hsb.setValues(...)</code>.</p>\n<p>The setValues(...) method invokes the <code>setRangeProperties(...)</code> method of the BoundedRangeModel.</p>\n<p>Unfortunately the max value is reset based on the width of the panel added to the viewport.</p>\n<p>So my suggestion is that you will need to create your own custom BoundedRangeModel and make sure the &quot;max&quot; value is not reset (to a smaller value)? I don't know if this will affect scrolling or not.</p>\n<p>Your can check out the source code for the DefaultBoundedRangeModel and BasicScrollPaneUI at:</p>\n<p><a href=\"https://github.com/openjdk/jdk/tree/master/src/java.desktop/share/classes/javax\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/tree/master/src/java.desktop/share/classes/javax</a></p>\n<p>Here is the test code I used to verify that the max value was being changed by a method external to the setValue(...) statement itself. However, this statement does apparently cause the synching of the viewport to happen:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.*;\nimport java.awt.*;\n\npublic class Test implements KeyListener {\n           private static JScrollPane view;\n\n           public Test() {\n               create();\n           }\n\n           public static void main(String[] args) {\n                SwingUtilities.invokeLater( () -&gt; new Test() );\n           }\n\n           public void create() {\n              JFrame frame = new JFrame(); //make frame\n              frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n              frame.setSize(1000, 1000);\n              frame.setLocationRelativeTo(null);\n              frame.setResizable(false);\n\n              SpringLayout layout = new SpringLayout();\n              JPanel base = new JPanel();\n              base.setPreferredSize(new Dimension(1000, 1000));\n              base.setLayout(layout);\n\n              JPanel map = new JPanel();  //make panel for the scrollpane\n              map.setPreferredSize(new Dimension(1200, 1200));\n\n\n              view = new JScrollPane(map);  //initialize scrollpane and add to base with a SpringLayout\n              view.setPreferredSize(new Dimension(300, 300));\n              layout.putConstraint(SpringLayout.HORIZONTAL_CENTER, view, 0, SpringLayout.HORIZONTAL_CENTER, base);\n              layout.putConstraint(SpringLayout.VERTICAL_CENTER, view, 0,  SpringLayout.VERTICAL_CENTER, base);\n              base.add(view); //add scrollpane to base jpanel\n\n                view.getHorizontalScrollBar().setModel( new MyBoundedRangeModel() );\n                System.out.println(&quot;default value&quot;);\n                System.out.println(view.getHorizontalScrollBar().getMaximum());\n\n\n              frame.add(base);\n              frame.setVisible(true);\n              frame.addKeyListener(this);\n\n                System.out.println(&quot;after Visible&quot;);\n                System.out.println(view.getHorizontalScrollBar().getMaximum());\n\n\n               view.getHorizontalScrollBar().setMaximum(10*800); //set wanted max sizes of each scroll bar\n               view.getVerticalScrollBar().setMaximum(10*800);\n\n                System.out.println(&quot;after changing maximum&quot;);\n                System.out.println(view.getHorizontalScrollBar().getMaximum());\n\n\n           }\n\n           public void keyPressed(KeyEvent event)\n           {\n                System.out.println(&quot;Before&quot;);\n                System.out.println(view.getHorizontalScrollBar().getValue());\n                System.out.println(view.getHorizontalScrollBar().getMaximum());\n\n               switch(event.getKeyCode()) {\n              case KeyEvent.VK_W:\n                   view.getVerticalScrollBar().setValue((int) (view.getVerticalScrollBar().getValue() - 10*0.9));\n                   break;\n              case KeyEvent.VK_S:\n                   view.getVerticalScrollBar().setValue((int) (view.getVerticalScrollBar().getValue() + 10*0.9));\n                   break;\n              case KeyEvent.VK_A:\n                   view.getHorizontalScrollBar().setValue((int) (view.getHorizontalScrollBar().getValue() - 10*0.9));\n                   break;\n              case KeyEvent.VK_D:\n                   view.getHorizontalScrollBar().setValue((int) (view.getHorizontalScrollBar().getValue() + 10*0.9));\n                   break;\n               }\n\n                System.out.println(&quot;after&quot;);\n                System.out.println(view.getHorizontalScrollBar().getValue());\n                System.out.println(view.getHorizontalScrollBar().getMaximum());\n           }\n\n        @Override\n        public void keyTyped(KeyEvent e) {\n            // TODO Auto-generated method stub\n\n        }\n\n        @Override\n        public void keyReleased(KeyEvent e) {\n            // TODO Auto-generated method stub\n\n        }\n\n        class MyBoundedRangeModel extends DefaultBoundedRangeModel\n        {\n            @Override\n            public void setValue(int i)\n            {\n                System.out.println(&quot;setValue&quot;);\n                super.setValue(i);\n            }\n\n            @Override\n            public void setMaximum(int i)\n            {\n                System.out.println(&quot;setMaximum&quot;);\n                super.setMaximum(i);\n            }\n            @Override\n            public void setMinimum(int i)\n            {\n                System.out.println(&quot;setMinimum&quot;);\n                super.setMinimum(i);\n            }\n\n            @Override\n            public void setExtent(int i)\n            {\n                System.out.println(&quot;setExtent&quot;);\n                super.setExtent(i);\n            }\n\n            @Override\n            public void setRangeProperties(int newValue, int newExtent, int newMin, int newMax, boolean adjusting)\n            {\n                System.out.println(&quot;setRangeProperties&quot;);\n                System.out.println(newValue + &quot; : &quot; + newExtent + &quot; : &quot; + newMax);\n                super.setRangeProperties(newValue, newExtent, newMin, newMax, adjusting);\n            }\n\n        }\n}\n</code></pre>\n<p>Edit:</p>\n<p>Above code demonstrates how to extend the DefaultBoundedRangeModel. Currently, it only shows when each method is invoked to try to understand the logic flow when the model is updated.</p>\n<p>Note that after the &quot;setMaximum&quot; the &quot;setRangeProperties&quot; is invoked with the correct max value.</p>\n<p>However, &quot;setRangeProperties&quot; is invoked a second time (as a result of logic found in the BasicScrollPaneUI as I tried to explain at the top of my answer). Only this time it is invoked with the width of the panel (1200) as the maximum value, not the 8000 you originally specified.</p>\n<p>So it would appear you need to rewrite the code of the <code>setRangeProperties(...)</code> method to always use the 8000 as the maximum value. So maybe when you create an instance of the <code>MyBoundedRangeModel</code> you pass in the maximum value you want to use.</p>\n<p>I gave you a link where you can find the source code for the DefaultBoundedRangeModel. Start by copying the code from the <code>setRangeProperties(...)</code> method to use as a starting point. Then you need to customize the code to make sure the maximum is always 8000.</p>\n<p>This is my best guess as to how you can solve the problem. I don't know if it will work or not.</p>\n"}],"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66833187,"answer_count":2,"score":1,"last_activity_date":1642566913,"creation_date":1616798646,"question_id":66825189,"body_markdown":"So I have the JScrollPane ```view``` like so (this is my minimal reproducible example),\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\nimport java.awt.*;\r\n\r\npublic class Test implements KeyListener {\r\n\t\t   private static JScrollPane view;   \r\n\r\n\t\t   public Test() { \r\n\t\t       create();\r\n\t\t   }\r\n\r\n\t\t   public static void main(String[] args) {\r\n\t\t       new Test();\r\n\t\t   }\r\n\r\n\t\t   public void create() {\r\n\t\t      JFrame frame = new JFrame(); //make frame\r\n\t\t      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t      frame.setSize(1000, 1000);\r\n\t\t      frame.setLocationRelativeTo(null);\r\n\t\t      frame.setResizable(false);\r\n\r\n\t\t      SpringLayout layout = new SpringLayout(); \r\n\t\t      JPanel base = new JPanel();\r\n\t\t      base.setPreferredSize(new Dimension(1000, 1000));\r\n\t\t      base.setLayout(layout);\r\n\t\t        \r\n\t\t      JPanel map = new JPanel();  //make panel for the scrollpane\r\n\t\t      map.setPreferredSize(new Dimension(1000, 1000));\r\n\t\t      \r\n\t\t      \r\n\t\t      view = new JScrollPane(map);  //initialize scrollpane and add to base with a SpringLayout\r\n\t\t      view.setPreferredSize(new Dimension(300, 300));\r\n\t\t      layout.putConstraint(SpringLayout.HORIZONTAL_CENTER, view, 0, SpringLayout.HORIZONTAL_CENTER, base);\r\n\t\t      layout.putConstraint(SpringLayout.VERTICAL_CENTER, view, 0,  SpringLayout.VERTICAL_CENTER, base);\r\n\t\t      base.add(view); //add scrollpane to base jpanel\r\n\r\n\t\t      frame.add(base);\r\n\t\t      frame.setVisible(true);\r\n\t\t      frame.addKeyListener(this);\r\n\t\t      \r\n\t\t      view.getHorizontalScrollBar().setMaximum(10*800); //set wanted max sizes of each scroll bar\r\n\t\t      view.getVerticalScrollBar().setMaximum(10*800);\r\n\t\t   }\r\n\r\n\t\t   public void keyPressed(KeyEvent event) {  //W, A, S, D keys to change values of jscrollbars\r\n\t\t\t   switch(event.getKeyCode()) {\r\n\t\t      case KeyEvent.VK_W:\r\n\t\t           view.getVerticalScrollBar().setValue((int) (view.getVerticalScrollBar().getValue() - 10*0.9));\r\n\t\t           break;\r\n\t\t      case KeyEvent.VK_S:\r\n\t\t           view.getVerticalScrollBar().setValue((int) (view.getVerticalScrollBar().getValue() + 10*0.9));\r\n\t\t           break;\r\n\t\t      case KeyEvent.VK_A:\r\n\t\t           view.getHorizontalScrollBar().setValue((int) (view.getHorizontalScrollBar().getValue() - 10*0.9));\r\n\t\t           break;\r\n\t\t      case KeyEvent.VK_D:\r\n\t\t           view.getHorizontalScrollBar().setValue((int) (view.getHorizontalScrollBar().getValue() + 10*0.9));\r\n\t\t           break;\r\n\t\t\t   }\r\n\t\t   }\r\n\r\n\t\t@Override\r\n\t\tpublic void keyTyped(KeyEvent e) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void keyReleased(KeyEvent e) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\r\n\t\t}\r\n}\r\n\r\n```\r\n\r\nI set the JScrollPane scroll bars to have new maximum values which can be seen above, but I will type here again. (This is done so I can scroll slower in the same view size (My unit increment of 1 was still scrolling too fast for me))\r\n\r\n```\r\nview.getHorizontalScrollBar().setMaximum(10*800);\r\nview.getVerticalScrollBar().setMaximum(10*800);\r\n```\r\n\r\nSo I start up the program and the jscrollbars have defintely increased in their maximum size, which is what I want. With that, I also have the following code to change the jscrollbars values using a keylistener, which can also be seen above.\r\n\r\n```\r\ncase KeyEvent.VK_W:\r\n\tview.getVerticalScrollBar().setValue((int) (view.getVerticalScrollBar().getValue() - 10*0.3));\r\n    break;\r\ncase KeyEvent.VK_S:\r\n\tview.getVerticalScrollBar().setValue((int) (view.getVerticalScrollBar().getValue() + 10*0.3));\r\n    break;\r\ncase KeyEvent.VK_A:\r\n\tview.getHorizontalScrollBar().setValue((int) (view.getHorizontalScrollBar().getValue() - 10*0.3));\r\n    break;\r\ncase KeyEvent.VK_D:\r\n\tview.getHorizontalScrollBar().setValue((int) (view.getHorizontalScrollBar().getValue() + 10*0.3));\r\n    break;\r\n```\r\n\r\n**Problem:**\r\n\r\nWhen I press any of those keys, the scrollbars maximums are no longer what I set them too, and instead have their maximum sizes defaulted to the preferred size of ```map``` (I tested this by printing out the maximum sizes of the scrollbars before and after I pressed any of the keys and they changed). I believe this problem derives from the ```bar.setValue()``` method, not sure why.\r\n\r\nSo, how can I prevent the jscrollbars from changing their maximum sizes? My goal is to scroll the entirety of the jlabel ```map``` with solely W, A, S, and D keys with my set maximum values to the jscrollbars.\r\n\r\n\r\n\r\n","title":"JScrollBars value change not keeping maximum value constant","body":"<p>So I have the JScrollPane <code>view</code> like so (this is my minimal reproducible example),</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.*;\nimport java.awt.*;\n\npublic class Test implements KeyListener {\n           private static JScrollPane view;   \n\n           public Test() { \n               create();\n           }\n\n           public static void main(String[] args) {\n               new Test();\n           }\n\n           public void create() {\n              JFrame frame = new JFrame(); //make frame\n              frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n              frame.setSize(1000, 1000);\n              frame.setLocationRelativeTo(null);\n              frame.setResizable(false);\n\n              SpringLayout layout = new SpringLayout(); \n              JPanel base = new JPanel();\n              base.setPreferredSize(new Dimension(1000, 1000));\n              base.setLayout(layout);\n                \n              JPanel map = new JPanel();  //make panel for the scrollpane\n              map.setPreferredSize(new Dimension(1000, 1000));\n              \n              \n              view = new JScrollPane(map);  //initialize scrollpane and add to base with a SpringLayout\n              view.setPreferredSize(new Dimension(300, 300));\n              layout.putConstraint(SpringLayout.HORIZONTAL_CENTER, view, 0, SpringLayout.HORIZONTAL_CENTER, base);\n              layout.putConstraint(SpringLayout.VERTICAL_CENTER, view, 0,  SpringLayout.VERTICAL_CENTER, base);\n              base.add(view); //add scrollpane to base jpanel\n\n              frame.add(base);\n              frame.setVisible(true);\n              frame.addKeyListener(this);\n              \n              view.getHorizontalScrollBar().setMaximum(10*800); //set wanted max sizes of each scroll bar\n              view.getVerticalScrollBar().setMaximum(10*800);\n           }\n\n           public void keyPressed(KeyEvent event) {  //W, A, S, D keys to change values of jscrollbars\n               switch(event.getKeyCode()) {\n              case KeyEvent.VK_W:\n                   view.getVerticalScrollBar().setValue((int) (view.getVerticalScrollBar().getValue() - 10*0.9));\n                   break;\n              case KeyEvent.VK_S:\n                   view.getVerticalScrollBar().setValue((int) (view.getVerticalScrollBar().getValue() + 10*0.9));\n                   break;\n              case KeyEvent.VK_A:\n                   view.getHorizontalScrollBar().setValue((int) (view.getHorizontalScrollBar().getValue() - 10*0.9));\n                   break;\n              case KeyEvent.VK_D:\n                   view.getHorizontalScrollBar().setValue((int) (view.getHorizontalScrollBar().getValue() + 10*0.9));\n                   break;\n               }\n           }\n\n        @Override\n        public void keyTyped(KeyEvent e) {\n            // TODO Auto-generated method stub\n            \n        }\n\n        @Override\n        public void keyReleased(KeyEvent e) {\n            // TODO Auto-generated method stub\n            \n        }\n}\n\n</code></pre>\n<p>I set the JScrollPane scroll bars to have new maximum values which can be seen above, but I will type here again. (This is done so I can scroll slower in the same view size (My unit increment of 1 was still scrolling too fast for me))</p>\n<pre><code>view.getHorizontalScrollBar().setMaximum(10*800);\nview.getVerticalScrollBar().setMaximum(10*800);\n</code></pre>\n<p>So I start up the program and the jscrollbars have defintely increased in their maximum size, which is what I want. With that, I also have the following code to change the jscrollbars values using a keylistener, which can also be seen above.</p>\n<pre><code>case KeyEvent.VK_W:\n    view.getVerticalScrollBar().setValue((int) (view.getVerticalScrollBar().getValue() - 10*0.3));\n    break;\ncase KeyEvent.VK_S:\n    view.getVerticalScrollBar().setValue((int) (view.getVerticalScrollBar().getValue() + 10*0.3));\n    break;\ncase KeyEvent.VK_A:\n    view.getHorizontalScrollBar().setValue((int) (view.getHorizontalScrollBar().getValue() - 10*0.3));\n    break;\ncase KeyEvent.VK_D:\n    view.getHorizontalScrollBar().setValue((int) (view.getHorizontalScrollBar().getValue() + 10*0.3));\n    break;\n</code></pre>\n<p><strong>Problem:</strong></p>\n<p>When I press any of those keys, the scrollbars maximums are no longer what I set them too, and instead have their maximum sizes defaulted to the preferred size of <code>map</code> (I tested this by printing out the maximum sizes of the scrollbars before and after I pressed any of the keys and they changed). I believe this problem derives from the <code>bar.setValue()</code> method, not sure why.</p>\n<p>So, how can I prevent the jscrollbars from changing their maximum sizes? My goal is to scroll the entirety of the jlabel <code>map</code> with solely W, A, S, and D keys with my set maximum values to the jscrollbars.</p>\n"},{"tags":["java","swing","debugging","concurrency","jframe"],"answers":[{"tags":[],"owner":{"account_id":11421243,"reputation":123,"user_id":8372670,"display_name":"Smartsav10"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593289034,"creation_date":1593289034,"answer_id":62615108,"question_id":62615051,"body_markdown":"You should try using a timer instead. Import javax.swing.Timer;\r\n```\r\nTimer t = new Timer(1000, (ActionEvent e)-&gt;{\r\n//here is where you would put what you want to happen every 1000 milliseconds\r\n\r\n\r\n});\r\n\r\n```\r\nThen you can make a button that when pressed you call:\r\n```\r\nt.start();\r\n```\r\nand for the close button:\r\n```\r\nt.stop();\r\n```","title":"Is it possible to make my JFrame button to constantly prints outputs","body":"<p>You should try using a timer instead. Import javax.swing.Timer;</p>\n<pre><code>Timer t = new Timer(1000, (ActionEvent e)-&gt;{\n//here is where you would put what you want to happen every 1000 milliseconds\n\n\n});\n\n</code></pre>\n<p>Then you can make a button that when pressed you call:</p>\n<pre><code>t.start();\n</code></pre>\n<p>and for the close button:</p>\n<pre><code>t.stop();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11421243,"reputation":123,"user_id":8372670,"display_name":"Smartsav10"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1593289754,"creation_date":1593289754,"answer_id":62615233,"question_id":62615051,"body_markdown":"Your complete code would be\r\n```\r\npackage com.mc.main;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.WindowAdapter;\r\nimport java.awt.event.WindowEvent;\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.Timer;\r\npublic class GetTime {\r\n    private JFrame frame;\r\n    private JLabel headerLabel;\r\n    private JLabel statusLabel;\r\n    private JPanel controlPanel;\r\n    static String usersTimeNow;\r\n    public LocalDateTime now;\r\n    public static Timer t;\r\n    public GetTime() {\r\n        prepareGUI();\r\n        \r\n    }\r\n       private void prepareGUI(){\r\n              frame = new JFrame(&quot;Java Swing&quot;);\r\n         t = new Timer(1000,(ActionEvent e)-&gt; {\r\n        \t DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;);  \r\n        \t now = LocalDateTime.now();\r\n             System.out.println(dtf.format(now));  \r\n             usersTimeNow = dtf.format(now);\r\n           \r\n             statusLabel.setText(usersTimeNow);\r\n            \t\r\n            });\r\n              frame.setSize(500,500);\r\n              frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n              frame.setLayout(new GridLayout(3, 1));\r\n              frame.addWindowListener(new WindowAdapter() {\r\n                 public void windowClosing(WindowEvent windowEvent){\r\n                    System.exit(0);\r\n                 }\r\n              });\r\n              headerLabel = new JLabel(&quot;&quot;, JLabel.CENTER);\r\n              statusLabel = new JLabel(&quot;&quot;,JLabel.CENTER);\r\n              statusLabel.setSize(350,100);\r\n              controlPanel = new JPanel();\r\n              controlPanel.setLayout(new FlowLayout());\r\n              frame.add(headerLabel);\r\n              frame.add(controlPanel);\r\n              frame.add(statusLabel);\r\n              frame.setVisible(true);\r\n           }\r\n           private void showButtonDemo(){\r\n              boolean isStopped = false; \r\n              headerLabel.setText(&quot;Button Demo&quot;);\r\n              JButton okButton = new JButton(&quot;OK&quot;);\r\n              okButton.addActionListener(new ActionListener() {\r\n                 public void actionPerformed(ActionEvent e) {\r\n                    \r\n                     getUsersTime();\r\n                     sleepDelay();\r\n                     \r\n                 }\r\n              });\r\n              controlPanel.add(okButton);\r\n              frame.setVisible(true);\r\n              \r\n              JButton closeButton = new JButton(&quot;CLOSE&quot;);\r\n              closeButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    // TODO Auto-generated method stub\r\n                   t.stop();\r\n                \t// frame.dispatchEvent(new WindowEvent(frame, WindowEvent.WINDOW_CLOSING));\r\n                }\r\n              });\r\n              controlPanel.add(closeButton);\r\n              frame.setVisible(true);\r\n              \r\n           }\r\n    public void getUsersTime() {\r\n        t.start();  \r\n    \t\r\n           \r\n    }\r\n    public void sleepDelay() {\r\n        long start = System.currentTimeMillis();\r\n        try {\r\n            Thread.sleep(1000);\r\n        } catch (InterruptedException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        GetTime test = new GetTime();\r\n        test.showButtonDemo();\r\n        \r\n        \r\n    }\r\n    \r\n}\r\n```","title":"Is it possible to make my JFrame button to constantly prints outputs","body":"<p>Your complete code would be</p>\n<pre><code>package com.mc.main;\nimport java.awt.FlowLayout;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\npublic class GetTime {\n    private JFrame frame;\n    private JLabel headerLabel;\n    private JLabel statusLabel;\n    private JPanel controlPanel;\n    static String usersTimeNow;\n    public LocalDateTime now;\n    public static Timer t;\n    public GetTime() {\n        prepareGUI();\n        \n    }\n       private void prepareGUI(){\n              frame = new JFrame(&quot;Java Swing&quot;);\n         t = new Timer(1000,(ActionEvent e)-&gt; {\n             DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;);  \n             now = LocalDateTime.now();\n             System.out.println(dtf.format(now));  \n             usersTimeNow = dtf.format(now);\n           \n             statusLabel.setText(usersTimeNow);\n                \n            });\n              frame.setSize(500,500);\n              frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n              frame.setLayout(new GridLayout(3, 1));\n              frame.addWindowListener(new WindowAdapter() {\n                 public void windowClosing(WindowEvent windowEvent){\n                    System.exit(0);\n                 }\n              });\n              headerLabel = new JLabel(&quot;&quot;, JLabel.CENTER);\n              statusLabel = new JLabel(&quot;&quot;,JLabel.CENTER);\n              statusLabel.setSize(350,100);\n              controlPanel = new JPanel();\n              controlPanel.setLayout(new FlowLayout());\n              frame.add(headerLabel);\n              frame.add(controlPanel);\n              frame.add(statusLabel);\n              frame.setVisible(true);\n           }\n           private void showButtonDemo(){\n              boolean isStopped = false; \n              headerLabel.setText(&quot;Button Demo&quot;);\n              JButton okButton = new JButton(&quot;OK&quot;);\n              okButton.addActionListener(new ActionListener() {\n                 public void actionPerformed(ActionEvent e) {\n                    \n                     getUsersTime();\n                     sleepDelay();\n                     \n                 }\n              });\n              controlPanel.add(okButton);\n              frame.setVisible(true);\n              \n              JButton closeButton = new JButton(&quot;CLOSE&quot;);\n              closeButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    // TODO Auto-generated method stub\n                   t.stop();\n                    // frame.dispatchEvent(new WindowEvent(frame, WindowEvent.WINDOW_CLOSING));\n                }\n              });\n              controlPanel.add(closeButton);\n              frame.setVisible(true);\n              \n           }\n    public void getUsersTime() {\n        t.start();  \n        \n           \n    }\n    public void sleepDelay() {\n        long start = System.currentTimeMillis();\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    public static void main(String[] args) {\n        GetTime test = new GetTime();\n        test.showButtonDemo();\n        \n        \n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":18000697,"reputation":19,"user_id":13082707,"display_name":"mangos coconuts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642566212,"creation_date":1593288678,"question_id":62615051,"body_markdown":"What the program is supposed to do:\r\nHas a OK BUTTON: outputs the users time every 1000ms\r\nHas a CLOSE button: stops the OK BUTTON and have no outputs\r\n\r\nIs it possible to make my actionlistener for my button &quot;Ok&quot; to keep on going without a while loop? I&#39;m trying to make it so u can click once, and every other button can still work in my JFrame.\r\n\r\nWhat i mean by this is, whenever you place the while loop inside the action listener, it ignores all inputs to a different button, and i can&#39;t stop it unless i completely delete the program. So, is it possible just to make my program keep running as if it was a while loop but can be stopped with the &quot;Close&quot; button i had made in the program? \r\n \r\n\r\n    package com.mc.main;\r\n    import java.time.format.DateTimeFormatter;  \r\n    import java.time.LocalDateTime;   \r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    public class GetTime {\r\n    \tprivate JFrame frame;\r\n    \tprivate JLabel headerLabel;\r\n    \tprivate JLabel statusLabel;\r\n    \tprivate JPanel controlPanel;\r\n    \tstatic String usersTimeNow;\r\n    \tpublic GetTime() {\r\n    \t\tprepareGUI();\r\n    \t\t\r\n    \t}\r\n    \t   private void prepareGUI(){\r\n    \t\t      frame = new JFrame(&quot;Java Swing&quot;);\r\n    \t\t      frame.setSize(500,500);\r\n    \t\t      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t      frame.setLayout(new GridLayout(3, 1));\r\n    \t\t      frame.addWindowListener(new WindowAdapter() {\r\n    \t\t         public void windowClosing(WindowEvent windowEvent){\r\n    \t\t            System.exit(0);\r\n    \t\t         }\r\n    \t\t      });\r\n    \t\t      headerLabel = new JLabel(&quot;&quot;, JLabel.CENTER);\r\n    \t\t      statusLabel = new JLabel(&quot;&quot;,JLabel.CENTER);\r\n    \t\t      statusLabel.setSize(350,100);\r\n    \t\t      controlPanel = new JPanel();\r\n    \t\t      controlPanel.setLayout(new FlowLayout());\r\n    \t\t      frame.add(headerLabel);\r\n    \t\t      frame.add(controlPanel);\r\n    \t\t      frame.add(statusLabel);\r\n    \t\t      frame.setVisible(true);\r\n    \t\t   }\r\n    \t\t   private void showButtonDemo(){\r\n    \t\t\t  boolean isStopped = false; \r\n    \t\t      headerLabel.setText(&quot;Button Demo&quot;);\r\n    \t\t      JButton okButton = new JButton(&quot;OK&quot;);\r\n    \t\t      okButton.addActionListener(new ActionListener() {\r\n    \t\t         public void actionPerformed(ActionEvent e) {\r\n    \t\t        \t\r\n    \t\t\t       \t getUsersTime();\r\n    \t\t\t       \t sleepDelay();\r\n    \t\t        \t \r\n    \t\t         }\r\n    \t\t      });\r\n    \t\t      controlPanel.add(okButton);\r\n    \t\t      frame.setVisible(true);\r\n    \t\t      \r\n    \t\t      JButton closeButton = new JButton(&quot;CLOSE&quot;);\r\n    \t\t      closeButton.addActionListener(new ActionListener() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\tframe.dispatchEvent(new WindowEvent(frame, WindowEvent.WINDOW_CLOSING));\r\n    \t\t\t\t}\r\n    \t\t      });\r\n    \t\t      controlPanel.add(closeButton);\r\n    \t\t      frame.setVisible(true);\r\n    \t\t      \r\n    \t\t   }\r\n    \tpublic void getUsersTime() {\r\n    \t\t   DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;);  \r\n    \t\t   LocalDateTime now = LocalDateTime.now();  \r\n    \t\t   System.out.println(dtf.format(now));  \r\n    \t\t   usersTimeNow = dtf.format(now);\r\n    \t\t   statusLabel.setText(usersTimeNow);\r\n    \r\n    \t}\r\n    \tpublic void sleepDelay() {\r\n            long start = System.currentTimeMillis();\r\n            try {\r\n    \t\t\tThread.sleep(1000);\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tGetTime test = new GetTime();\r\n    \t    test.showButtonDemo();\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Is it possible to make my JFrame button to constantly prints outputs","body":"<p>What the program is supposed to do:\nHas a OK BUTTON: outputs the users time every 1000ms\nHas a CLOSE button: stops the OK BUTTON and have no outputs</p>\n<p>Is it possible to make my actionlistener for my button &quot;Ok&quot; to keep on going without a while loop? I'm trying to make it so u can click once, and every other button can still work in my JFrame.</p>\n<p>What i mean by this is, whenever you place the while loop inside the action listener, it ignores all inputs to a different button, and i can't stop it unless i completely delete the program. So, is it possible just to make my program keep running as if it was a while loop but can be stopped with the &quot;Close&quot; button i had made in the program?</p>\n<pre><code>package com.mc.main;\nimport java.time.format.DateTimeFormatter;  \nimport java.time.LocalDateTime;   \nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\npublic class GetTime {\n    private JFrame frame;\n    private JLabel headerLabel;\n    private JLabel statusLabel;\n    private JPanel controlPanel;\n    static String usersTimeNow;\n    public GetTime() {\n        prepareGUI();\n        \n    }\n       private void prepareGUI(){\n              frame = new JFrame(&quot;Java Swing&quot;);\n              frame.setSize(500,500);\n              frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n              frame.setLayout(new GridLayout(3, 1));\n              frame.addWindowListener(new WindowAdapter() {\n                 public void windowClosing(WindowEvent windowEvent){\n                    System.exit(0);\n                 }\n              });\n              headerLabel = new JLabel(&quot;&quot;, JLabel.CENTER);\n              statusLabel = new JLabel(&quot;&quot;,JLabel.CENTER);\n              statusLabel.setSize(350,100);\n              controlPanel = new JPanel();\n              controlPanel.setLayout(new FlowLayout());\n              frame.add(headerLabel);\n              frame.add(controlPanel);\n              frame.add(statusLabel);\n              frame.setVisible(true);\n           }\n           private void showButtonDemo(){\n              boolean isStopped = false; \n              headerLabel.setText(&quot;Button Demo&quot;);\n              JButton okButton = new JButton(&quot;OK&quot;);\n              okButton.addActionListener(new ActionListener() {\n                 public void actionPerformed(ActionEvent e) {\n                    \n                     getUsersTime();\n                     sleepDelay();\n                     \n                 }\n              });\n              controlPanel.add(okButton);\n              frame.setVisible(true);\n              \n              JButton closeButton = new JButton(&quot;CLOSE&quot;);\n              closeButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    // TODO Auto-generated method stub\n                    frame.dispatchEvent(new WindowEvent(frame, WindowEvent.WINDOW_CLOSING));\n                }\n              });\n              controlPanel.add(closeButton);\n              frame.setVisible(true);\n              \n           }\n    public void getUsersTime() {\n           DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;);  \n           LocalDateTime now = LocalDateTime.now();  \n           System.out.println(dtf.format(now));  \n           usersTimeNow = dtf.format(now);\n           statusLabel.setText(usersTimeNow);\n\n    }\n    public void sleepDelay() {\n        long start = System.currentTimeMillis();\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    public static void main(String[] args) {\n        GetTime test = new GetTime();\n        test.showButtonDemo();\n        \n        \n    }\n    \n}\n</code></pre>\n"},{"tags":["java","gradle","jar","publishing"],"answers":[{"tags":[],"owner":{"account_id":7755513,"reputation":177,"user_id":5870012,"accept_rate":55,"display_name":"jaxonjma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1600441488,"creation_date":1600206216,"answer_id":63910252,"question_id":63895799,"body_markdown":"Finally this worked for me:\r\n\r\n    metadataSources {\r\n\t            artifact()\r\n\t        }\r\n\r\nForces to search only for the jar file.\r\nThe complete configuration:\r\n\r\n    publishing {\r\n    publications {\r\n        mavenJava(MavenPublication) {\r\n              groupId = &#39;com.company.myproject&#39;\r\n              artifactId = &#39;myproject-base&#39;\r\n              version = &#39;1.0.1&#39;\r\n            from components.java\r\n        }   \r\n    }\r\n    repositories {\r\n        maven {\r\n            name = &#39;artifactory&#39;\r\n            url &#39;https://url/artifactory/MyProject&#39;\r\n            credentials {\r\n                username System.getenv(&quot;ARTIFACTORY_USER&quot;) \r\n                password System.getenv(&quot;ARTIFACTORY_PWD&quot;)  \r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n    repositories {\r\n    jcenter()\r\n    maven {\r\n        url &#39;https://url/artifactory/MyProject&#39;\r\n        credentials {\r\n                    username System.getenv(&quot;ARTIFACTORY_USER&quot;) \r\n                    password System.getenv(&quot;ARTIFACTORY_PWD&quot;)  \r\n                }\r\n        metadataSources {\r\n\t            artifact()\r\n\t    }\r\n    }\r\n    }\r\n\r\n\r\nDocumentation (Example 18):\r\n&lt;https://docs.gradle.org/current/userguide/dependency_management.html&gt;","title":"Generate and consume gradle dependency without POM","body":"<p>Finally this worked for me:</p>\n<pre><code>metadataSources {\n            artifact()\n        }\n</code></pre>\n<p>Forces to search only for the jar file.\nThe complete configuration:</p>\n<pre><code>publishing {\npublications {\n    mavenJava(MavenPublication) {\n          groupId = 'com.company.myproject'\n          artifactId = 'myproject-base'\n          version = '1.0.1'\n        from components.java\n    }   \n}\nrepositories {\n    maven {\n        name = 'artifactory'\n        url 'https://url/artifactory/MyProject'\n        credentials {\n            username System.getenv(&quot;ARTIFACTORY_USER&quot;) \n            password System.getenv(&quot;ARTIFACTORY_PWD&quot;)  \n        }\n    }\n}\n}\n\nrepositories {\njcenter()\nmaven {\n    url 'https://url/artifactory/MyProject'\n    credentials {\n                username System.getenv(&quot;ARTIFACTORY_USER&quot;) \n                password System.getenv(&quot;ARTIFACTORY_PWD&quot;)  \n            }\n    metadataSources {\n            artifact()\n    }\n}\n}\n</code></pre>\n<p>Documentation (Example 18):\n<a href=\"https://docs.gradle.org/current/userguide/dependency_management.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/dependency_management.html</a></p>\n"},{"tags":[],"owner":{"account_id":5769633,"reputation":792,"user_id":4553414,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642566153,"creation_date":1642566153,"answer_id":70765269,"question_id":63895799,"body_markdown":"[Example 17. Maven repository that supports artifacts without metadata][1]\r\n\r\n    repositories {\r\n        maven {\r\n            url &quot;http://repo.mycompany.com/repo&quot;\r\n            metadataSources {\r\n                mavenPom()\r\n                artifact()\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:supported_metadata_sources","title":"Generate and consume gradle dependency without POM","body":"<p><a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:supported_metadata_sources\" rel=\"nofollow noreferrer\">Example 17. Maven repository that supports artifacts without metadata</a></p>\n<pre><code>repositories {\n    maven {\n        url &quot;http://repo.mycompany.com/repo&quot;\n        metadataSources {\n            mavenPom()\n            artifact()\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7755513,"reputation":177,"user_id":5870012,"accept_rate":55,"display_name":"jaxonjma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4201,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63910252,"answer_count":2,"score":2,"last_activity_date":1642566153,"creation_date":1600148602,"question_id":63895799,"body_markdown":"I am trying to generate the .jar of my Gradle project but when it is generated using Maven publishing it is also generating a .pom file.\r\n\r\nThe problem is that I have another project that when it implements this dependency before it only looked for .jar and now it looks for .pom in all the others, what I want to do is that the project stops generating a .pom using the &quot;publishing&quot; task or that when implement it stop looking for the .pom files for the others to work.\r\n\r\nHere is the code to generate the .jar in Artifactory project A with the one in project B that uses A and looks for the .pom:\r\n\r\n    publishing {\r\n        publications {\r\n            mavenJava(MavenPublication) {\r\n                  groupId = &#39;com.proteccion.myproject&#39;\r\n                  artifactId = &#39;myproject-base&#39;\r\n                  version = &#39;1.0.1&#39;\r\n                from components.java\r\n            }   \r\n        }\r\n        repositories {\r\n            maven {\r\n                name = &#39;artifactory&#39;\r\n                url &#39;https://url/artifactory/MyProject&#39;\r\n                credentials {\r\n                    username System.getenv(&quot;ARTIFACTORY_USER&quot;) \r\n                    password System.getenv(&quot;ARTIFACTORY_PWD&quot;)  \r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n\t    jcenter()\r\n\t    maven {\r\n\t\t    url &#39;https://url/artifactory/MyProject&#39;\r\n\t\t    credentials {\r\n                        username System.getenv(&quot;ARTIFACTORY_USER&quot;) \r\n                        password System.getenv(&quot;ARTIFACTORY_PWD&quot;)  \r\n                    }\r\n\t    }\r\n    }\r\n\r\nPerhaps with a Gradle equivalent of this segment:\r\n\r\n    publishing {\r\n        publications {\r\n            mavenJava(MavenPublication) {\r\n                  groupId = &#39;com.proteccion.myproject&#39;\r\n                  artifactId = &#39;myproject-base&#39;\r\n                  version = &#39;1.0.1&#39;\r\n                from components.java\r\n            }   \r\n        }\r\n\r\n\r\n\r\n","title":"Generate and consume gradle dependency without POM","body":"<p>I am trying to generate the .jar of my Gradle project but when it is generated using Maven publishing it is also generating a .pom file.</p>\n<p>The problem is that I have another project that when it implements this dependency before it only looked for .jar and now it looks for .pom in all the others, what I want to do is that the project stops generating a .pom using the &quot;publishing&quot; task or that when implement it stop looking for the .pom files for the others to work.</p>\n<p>Here is the code to generate the .jar in Artifactory project A with the one in project B that uses A and looks for the .pom:</p>\n<pre><code>publishing {\n    publications {\n        mavenJava(MavenPublication) {\n              groupId = 'com.proteccion.myproject'\n              artifactId = 'myproject-base'\n              version = '1.0.1'\n            from components.java\n        }   \n    }\n    repositories {\n        maven {\n            name = 'artifactory'\n            url 'https://url/artifactory/MyProject'\n            credentials {\n                username System.getenv(&quot;ARTIFACTORY_USER&quot;) \n                password System.getenv(&quot;ARTIFACTORY_PWD&quot;)  \n            }\n        }\n    }\n}\n\nrepositories {\n    jcenter()\n    maven {\n        url 'https://url/artifactory/MyProject'\n        credentials {\n                    username System.getenv(&quot;ARTIFACTORY_USER&quot;) \n                    password System.getenv(&quot;ARTIFACTORY_PWD&quot;)  \n                }\n    }\n}\n</code></pre>\n<p>Perhaps with a Gradle equivalent of this segment:</p>\n<pre><code>publishing {\n    publications {\n        mavenJava(MavenPublication) {\n              groupId = 'com.proteccion.myproject'\n              artifactId = 'myproject-base'\n              version = '1.0.1'\n            from components.java\n        }   \n    }\n</code></pre>\n"},{"tags":["java","docker","kubernetes","intellij-idea","web-deployment"],"answers":[{"tags":[],"owner":{"account_id":6392687,"reputation":466,"user_id":4958233,"display_name":"kus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642564326,"creation_date":1642564326,"answer_id":70765108,"question_id":70764646,"body_markdown":"most of the attached image are not visible.\r\n\r\n- IP address should be accessible from your local system\r\n  [888.88.888.888] note sure this is correct.\r\n- debug port also need to be mapped from your local system\r\n    -use port forwarding\r\n  ex:kubectl port-forward &lt;app-image-name&gt; 5005:5005\r\n\r\nIf you have  configure port forwarding then you can use localhost:5005 for debugging\r\n\r\n","title":"How to set intellij remote debug?","body":"<p>most of the attached image are not visible.</p>\n<ul>\n<li>IP address should be accessible from your local system\n[888.88.888.888] note sure this is correct.</li>\n<li>debug port also need to be mapped from your local system\n-use port forwarding\nex:kubectl port-forward  5005:5005</li>\n</ul>\n<p>If you have  configure port forwarding then you can use localhost:5005 for debugging</p>\n"},{"tags":[],"owner":{"account_id":22562332,"reputation":582,"user_id":16749821,"display_name":"Hans-Christian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642566018,"creation_date":1642566018,"answer_id":70765259,"question_id":70764646,"body_markdown":"I see three things that you can check:\r\n\r\n**Check the IP address:**\r\nThe jar file runs inside a Docker container, which runs inside a pod. To access the pod you usually go through a service and an ingress. The ip you are using is most likely hitting the ingress/service or any other higher layer. \r\n\r\nTo attach a remote debugger, you will need to connect **directly to the PodIP**. One way of doing this is to first connect to your kubernetes cluster using the tool *kubectl* (some configuration required) and make a port forward from your pod: `kubectl port-forward my-pod-c93b8b6df-8c4aa 5005:5005` pod (as an example, the pod instance name is my-pod-c93b8b6df-8c4aa). \r\n\r\nThis will open a connection from your local computer into the pod. Then you will need to identify the PodIP by `kubectl describe pods my-pod-c93b8b6df-8c4aa` and use that in IntelliJ\r\n\r\n**Check if the port is exposed:**\r\nMake sure you expose the port `5005` from the pod in your test environment (similar to exposing a port when you run the container locally). \r\n\r\nHow to do this depends a bit on how you are running your Kubernetes cluster. If you use Helm chart, you can just add a configuration like this in the port section of your deployment yaml: \r\n```\r\n- containerPort: 5005\r\n  name: debug\r\n  protocol: TCP\r\n```\r\n\r\n**Check debug-command address:**\r\nLast thing is to make sure you are adding the correct address in the command line option. As IntelliJ suggest in the debug editor: for JDK9+ use `…suspend=n,address=*:5005` and for JDK8 and below use `…suspend=n,address=5005`\r\n","title":"How to set intellij remote debug?","body":"<p>I see three things that you can check:</p>\n<p><strong>Check the IP address:</strong>\nThe jar file runs inside a Docker container, which runs inside a pod. To access the pod you usually go through a service and an ingress. The ip you are using is most likely hitting the ingress/service or any other higher layer.</p>\n<p>To attach a remote debugger, you will need to connect <strong>directly to the PodIP</strong>. One way of doing this is to first connect to your kubernetes cluster using the tool <em>kubectl</em> (some configuration required) and make a port forward from your pod: <code>kubectl port-forward my-pod-c93b8b6df-8c4aa 5005:5005</code> pod (as an example, the pod instance name is my-pod-c93b8b6df-8c4aa).</p>\n<p>This will open a connection from your local computer into the pod. Then you will need to identify the PodIP by <code>kubectl describe pods my-pod-c93b8b6df-8c4aa</code> and use that in IntelliJ</p>\n<p><strong>Check if the port is exposed:</strong>\nMake sure you expose the port <code>5005</code> from the pod in your test environment (similar to exposing a port when you run the container locally).</p>\n<p>How to do this depends a bit on how you are running your Kubernetes cluster. If you use Helm chart, you can just add a configuration like this in the port section of your deployment yaml:</p>\n<pre><code>- containerPort: 5005\n  name: debug\n  protocol: TCP\n</code></pre>\n<p><strong>Check debug-command address:</strong>\nLast thing is to make sure you are adding the correct address in the command line option. As IntelliJ suggest in the debug editor: for JDK9+ use <code>…suspend=n,address=*:5005</code> and for JDK8 and below use <code>…suspend=n,address=5005</code></p>\n"}],"owner":{"account_id":21065545,"reputation":1,"user_id":15482909,"display_name":"Eric&#39;s easy home"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642566018,"creation_date":1642559391,"question_id":70764646,"body_markdown":"I am trying to debug my app in testing environment, my app is running in pod, I said &#39;pod&#39; because I am not familiar with *Kubernetes*, its manage client looks like this:[app running schematic diagram][1]. I have learn I should set idea like this [idea RUN/Debug Configurations schematic diagram][2]. And should restart and redeploy my app, I changed Dockfile firstly. the origin instruction is `FROM xxx/java:alpine\r\nVOLUME /tmp\r\nADD recruitment.jar app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-Xmx2048m&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]` and I changed this to `FROM xxx/java:alpine\r\nVOLUME /tmp\r\nADD recruitment.jar app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]`  but it always show error like this `Error running &#39;face_remote&#39;: Unable to open debugger port (888.88.888.888[not real]:5005): java.io.IOException &quot;handshake timeout&quot;`. I am not sure with this ip,sicne I use &#39;ping 888.88.888.888&#39; instruction can not success. I use this ip because Swagger request url&#39;s domain name&#39;s ip is this.this main [enter image description here][3]. and I guess if the app is running in docker or k8s and it will have a different Interactive mode. not same like just running in linux\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kjRjf.png\r\n  [2]: https://i.stack.imgur.com/brm2d.png\r\n  [3]: https://i.stack.imgur.com/Sgh91.png","title":"How to set intellij remote debug?","body":"<p>I am trying to debug my app in testing environment, my app is running in pod, I said 'pod' because I am not familiar with <em>Kubernetes</em>, its manage client looks like this:<a href=\"https://i.stack.imgur.com/kjRjf.png\" rel=\"nofollow noreferrer\">app running schematic diagram</a>. I have learn I should set idea like this <a href=\"https://i.stack.imgur.com/brm2d.png\" rel=\"nofollow noreferrer\">idea RUN/Debug Configurations schematic diagram</a>. And should restart and redeploy my app, I changed Dockfile firstly. the origin instruction is <code>FROM xxx/java:alpine VOLUME /tmp ADD recruitment.jar app.jar ENTRYPOINT [&quot;java&quot;,&quot;-Xmx2048m&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]</code> and I changed this to <code>FROM xxx/java:alpine VOLUME /tmp ADD recruitment.jar app.jar ENTRYPOINT [&quot;java&quot;,&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]</code>  but it always show error like this <code>Error running 'face_remote': Unable to open debugger port (888.88.888.888[not real]:5005): java.io.IOException &quot;handshake timeout&quot;</code>. I am not sure with this ip,sicne I use 'ping 888.88.888.888' instruction can not success. I use this ip because Swagger request url's domain name's ip is this.this main <a href=\"https://i.stack.imgur.com/Sgh91.png\" rel=\"nofollow noreferrer\">enter image description here</a>. and I guess if the app is running in docker or k8s and it will have a different Interactive mode. not same like just running in linux</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":14216584,"reputation":99,"user_id":10270304,"display_name":"Nguyễn Nh&#226;n"},"score":3,"creation_date":1642566192,"post_id":70765257,"comment_id":125102116,"body_markdown":"I think Java can auto convert int and double into a string if you concatenate int or double after some string","body":"I think Java can auto convert int and double into a string if you concatenate int or double after some string"},{"owner":{"account_id":22202832,"reputation":57,"user_id":16443218,"display_name":"Corvo"},"score":0,"creation_date":1642566979,"post_id":70765257,"comment_id":125102230,"body_markdown":"So when it sees an int or double after some string it calls `toString()` method? Anyway, I think the third answer of [this question](https://stackoverflow.com/questions/46439339/int-to-string-while-string-concatenation-in-java) already clarified me :) tnx","body":"So when it sees an int or double after some string it calls <code>toString()</code> method? Anyway, I think the third answer of <a href=\"https://stackoverflow.com/questions/46439339/int-to-string-while-string-concatenation-in-java\">this question</a> already clarified me :) tnx"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1642593231,"post_id":70765257,"comment_id":125110488,"body_markdown":"`2022` is an existing construct in Java (a number literal), `welcome` is an identifier but there is no existing variable. There is no rule that the arguments have to be a string or variable. And this has nothing to do with string concatenation at all. Regardless of where you write `welcome`, as long as there is no variable of that name, you get an error.","body":"<code>2022</code> is an existing construct in Java (a number literal), <code>welcome</code> is an identifier but there is no existing variable. There is no rule that the arguments have to be a string or variable. And this has nothing to do with string concatenation at all. Regardless of where you write <code>welcome</code>, as long as there is no variable of that name, you get an error."},{"owner":{"account_id":22202832,"reputation":57,"user_id":16443218,"display_name":"Corvo"},"score":0,"creation_date":1642613793,"post_id":70765257,"comment_id":125120042,"body_markdown":"@Holger What is a construct in this context?","body":"@Holger What is a construct in this context?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1642614422,"post_id":70765257,"comment_id":125120307,"body_markdown":"The literal English meaning, not a formal term at all. The formal term would be “literal”, as given in the brackets. I wrote “number literal” but the specification uses the terms “integer literals” and “floating-point literals”.","body":"The literal English meaning, not a formal term at all. The formal term would be “literal”, as given in the brackets. I wrote “number literal” but the specification uses the terms “integer literals” and “floating-point literals”."}],"owner":{"account_id":22202832,"reputation":57,"user_id":16443218,"display_name":"Corvo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642566295,"answer_count":0,"score":0,"last_activity_date":1642566000,"creation_date":1642566000,"question_id":70765257,"body_markdown":"    String word1 = &quot;Hello&quot;;\r\n    String word2 = &quot;World&quot;;\r\n            \r\n    String message = word1 + &quot; &quot; + word2  + &quot; &quot; + 2022 +&quot;!&quot;;\r\n    System.out.println(message);\r\n\r\nOutput on console: Hello World 2022!\r\n\r\nNote that I didn&#39;t add double quotes in `2022` (so it&#39;s not a String nor a variable) and even then the code ran without errors. Why?\r\n\r\nIf I had typed something like:\r\n\r\n    String message = word1 + &quot; &quot; + word2  + &quot; &quot; + welcome +&quot;!&quot;;\r\n\r\nI would obviously have gotten an error since `welcome` is not a String nor a variable, but why doesn&#39;t this error happen when you concatenate integers (not a primitive integer value, but literally an integer number) like in the previous example that had `2022` concatenated with `word1` and `word2` variables?\r\n\r\n\r\n","title":"What happens when you literally concatenate a number into a String object?","body":"<pre><code>String word1 = &quot;Hello&quot;;\nString word2 = &quot;World&quot;;\n        \nString message = word1 + &quot; &quot; + word2  + &quot; &quot; + 2022 +&quot;!&quot;;\nSystem.out.println(message);\n</code></pre>\n<p>Output on console: Hello World 2022!</p>\n<p>Note that I didn't add double quotes in <code>2022</code> (so it's not a String nor a variable) and even then the code ran without errors. Why?</p>\n<p>If I had typed something like:</p>\n<pre><code>String message = word1 + &quot; &quot; + word2  + &quot; &quot; + welcome +&quot;!&quot;;\n</code></pre>\n<p>I would obviously have gotten an error since <code>welcome</code> is not a String nor a variable, but why doesn't this error happen when you concatenate integers (not a primitive integer value, but literally an integer number) like in the previous example that had <code>2022</code> concatenated with <code>word1</code> and <code>word2</code> variables?</p>\n"},{"tags":["java","parallel-processing","java-stream"],"comments":[{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":2,"creation_date":1580994627,"post_id":60095513,"comment_id":106286563,"body_markdown":"This is an interesting read--&gt; [Why is shared mutability bad?](https://stackoverflow.com/questions/44219903/why-is-shared-mutability-bad/44220017#44220017)","body":"This is an interesting read--&gt; <a href=\"https://stackoverflow.com/questions/44219903/why-is-shared-mutability-bad/44220017#44220017\">Why is shared mutability bad?</a>"},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1580996319,"post_id":60095513,"comment_id":106287507,"body_markdown":"This has clear explanation https://stackoverflow.com/questions/3589308/arraylist-and-multithreading-in-java","body":"This has clear explanation <a href=\"https://stackoverflow.com/questions/3589308/arraylist-and-multithreading-in-java\" title=\"arraylist and multithreading in java\">stackoverflow.com/questions/3589308/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1581008545,"creation_date":1580993987,"answer_id":60095599,"question_id":60095513,"body_markdown":"Because `ArrayList` is not a thread-safe collection. Using a thread-safe collection like `CopyOnWriteArrayList` would make it correct but not necessarily efficient. \r\n\r\nUsing a `Collector` instead would be much simpler and correct. e.g.\r\n\r\n    source.parallelStream().collect(Collectors.toList())","title":"Why is list.parallelStream().forEach() not processing all the elements in the list in Java?","body":"<p>Because <code>ArrayList</code> is not a thread-safe collection. Using a thread-safe collection like <code>CopyOnWriteArrayList</code> would make it correct but not necessarily efficient. </p>\n\n<p>Using a <code>Collector</code> instead would be much simpler and correct. e.g.</p>\n\n<pre><code>source.parallelStream().collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1580993998,"creation_date":1580993998,"answer_id":60095601,"question_id":60095513,"body_markdown":"The `forEach` operation of the parallel stream is adding elements to an un-synchronized `Collection` (an `ArrayList`) from multiple threads. Therefore, the operation is not thread safe, and has unexpected results.\r\n\r\nUsing `forEachOrdered()` instead of `forEach()` will ensure all the elements of the `source` `List` are added to the `destination` `List`.\r\n\r\nHowever, as mentioned in the other answer, using `collect(Collectors.toList())` is the correct way to produce an output `List` from a `Stream`.\r\n","title":"Why is list.parallelStream().forEach() not processing all the elements in the list in Java?","body":"<p>The <code>forEach</code> operation of the parallel stream is adding elements to an un-synchronized <code>Collection</code> (an <code>ArrayList</code>) from multiple threads. Therefore, the operation is not thread safe, and has unexpected results.</p>\n\n<p>Using <code>forEachOrdered()</code> instead of <code>forEach()</code> will ensure all the elements of the <code>source</code> <code>List</code> are added to the <code>destination</code> <code>List</code>.</p>\n\n<p>However, as mentioned in the other answer, using <code>collect(Collectors.toList())</code> is the correct way to produce an output <code>List</code> from a <code>Stream</code>.</p>\n"},{"tags":[],"owner":{"account_id":8614818,"reputation":1436,"user_id":6452106,"display_name":"Planck Constant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580994655,"creation_date":1580994655,"answer_id":60095783,"question_id":60095513,"body_markdown":"Because you should use concurrent version of the destination list. You have several options to choose, i.e.:\r\n\r\n    CopyOnWriteArrayList&lt;Integer&gt; destination  = new CopyOnWriteArrayList&lt;&gt;();\r\n\r\nIt is expensive to modify this list because it makes a copy of the underlying array with every modification but fast when reading the list.\r\n\r\n\r\n    Collections.synchronizedList(destination);\r\n\r\nEvery method is synchronized so it will be thread safe\r\n","title":"Why is list.parallelStream().forEach() not processing all the elements in the list in Java?","body":"<p>Because you should use concurrent version of the destination list. You have several options to choose, i.e.:</p>\n\n<pre><code>CopyOnWriteArrayList&lt;Integer&gt; destination  = new CopyOnWriteArrayList&lt;&gt;();\n</code></pre>\n\n<p>It is expensive to modify this list because it makes a copy of the underlying array with every modification but fast when reading the list.</p>\n\n<pre><code>Collections.synchronizedList(destination);\n</code></pre>\n\n<p>Every method is synchronized so it will be thread safe</p>\n"},{"tags":[],"owner":{"account_id":5493641,"reputation":1,"user_id":4365526,"display_name":"Amol Surjuse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642565985,"creation_date":1642513191,"answer_id":70756526,"question_id":60095513,"body_markdown":"Because you are creating more than one thread and your collection is not thread safe, you may have to deal with issues like ArrayIndexOutofbound Exception or your data will not be stored properly. Create a thread safe list and then you can add values.\r\n\r\nThe below code will solve your issue.\r\n\r\n    List&lt;Integer&gt; destination = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n    \r\nFull code:\r\n\r\n    public static void main(String args[]) {\r\n    \t\tList&lt;Integer&gt; source =new ArrayList&lt;&gt;();\r\n    \t    List&lt;Integer&gt; destination = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n    \t    IntStream.range(0, 10000).forEach(element -&gt;{\r\n    \t        source.add(element);\r\n    \t    });\r\n    \r\n    \t    //System.out.println(source.size());\r\n    \r\n    \t    source.parallelStream().forEach(c-&gt;{\r\n    \t        destination.add(c);\r\n    \t    });\r\n    \r\n    \t    System.out.println(&quot;Source Size:&quot;+source.size());\r\n    \t    System.out.println(&quot;destination size:&quot;+destination.size());\r\n    \t}","title":"Why is list.parallelStream().forEach() not processing all the elements in the list in Java?","body":"<p>Because you are creating more than one thread and your collection is not thread safe, you may have to deal with issues like ArrayIndexOutofbound Exception or your data will not be stored properly. Create a thread safe list and then you can add values.</p>\n<p>The below code will solve your issue.</p>\n<pre><code>List&lt;Integer&gt; destination = Collections.synchronizedList(new ArrayList&lt;&gt;());\n</code></pre>\n<p>Full code:</p>\n<pre><code>public static void main(String args[]) {\n        List&lt;Integer&gt; source =new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; destination = Collections.synchronizedList(new ArrayList&lt;&gt;());\n        IntStream.range(0, 10000).forEach(element -&gt;{\n            source.add(element);\n        });\n\n        //System.out.println(source.size());\n\n        source.parallelStream().forEach(c-&gt;{\n            destination.add(c);\n        });\n\n        System.out.println(&quot;Source Size:&quot;+source.size());\n        System.out.println(&quot;destination size:&quot;+destination.size());\n    }\n</code></pre>\n"}],"owner":{"account_id":7091295,"reputation":167,"user_id":5426380,"display_name":"Prabhu Kvn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17317,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":4,"score":17,"last_activity_date":1642565985,"creation_date":1580993704,"question_id":60095513,"body_markdown":"The following code is not putting all the elements in the destination list after finishing parallel process. Is there any reason for this?\r\n\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\tList&lt;Integer&gt; source =new ArrayList&lt;&gt;();\r\n\t\tList&lt;Integer&gt; destination = new ArrayList&lt;&gt;();\r\n\t\tIntStream.range(0, 10000).forEach(element -&gt;{\r\n\t\t\tsource.add(element);\r\n\t\t});\r\n\t\t\r\n\t\t//System.out.println(source.size());\r\n\t\t\r\n\t\tsource.parallelStream().forEach(c-&gt;{\r\n\t\t\tdestination.add(c);\r\n\t\t});\r\n\t\t\r\n\t\tSystem.out.println(&quot;Source Size:&quot;+source.size());\r\n\t\tSystem.out.println(&quot;destination size:&quot;+destination.size());\r\n\t}\r\n\r\nOutput:\r\nSource Size:10000\r\ndestination size:4343\r\n\r\n","title":"Why is list.parallelStream().forEach() not processing all the elements in the list in Java?","body":"<p>The following code is not putting all the elements in the destination list after finishing parallel process. Is there any reason for this?</p>\n\n<pre><code>public static void main(String[] args) {\n\n    List&lt;Integer&gt; source =new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; destination = new ArrayList&lt;&gt;();\n    IntStream.range(0, 10000).forEach(element -&gt;{\n        source.add(element);\n    });\n\n    //System.out.println(source.size());\n\n    source.parallelStream().forEach(c-&gt;{\n        destination.add(c);\n    });\n\n    System.out.println(\"Source Size:\"+source.size());\n    System.out.println(\"destination size:\"+destination.size());\n}\n</code></pre>\n\n<p>Output:\nSource Size:10000\ndestination size:4343</p>\n"},{"tags":["java","algorithm","sorting","selection-sort"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1605144963,"post_id":64796576,"comment_id":114564619,"body_markdown":"So, for the input array {10, 7, 76, 415}, is the answer supposed to be 77,641,510?  Because you can get bigger than an int pretty quick.","body":"So, for the input array {10, 7, 76, 415}, is the answer supposed to be 77,641,510?  Because you can get bigger than an int pretty quick."},{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":0,"creation_date":1605145135,"post_id":64796576,"comment_id":114564648,"body_markdown":"You haven&#39;t mentioned what the problem that your code is supposed to be solving is, or what your code currently does which is different to that.","body":"You haven&#39;t mentioned what the problem that your code is supposed to be solving is, or what your code currently does which is different to that."},{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":0,"creation_date":1605145184,"post_id":64796576,"comment_id":114564661,"body_markdown":"But as a &#39;first guess&#39; at what&#39;s wrong.  You&#39;re `return`-ing a `String` from a method which says it will return an `int`.","body":"But as a &#39;first guess&#39; at what&#39;s wrong.  You&#39;re <code>return</code>-ing a <code>String</code> from a method which says it will return an <code>int</code>."},{"owner":{"account_id":19012340,"reputation":11215,"user_id":13878034,"display_name":"Mike67"},"score":0,"creation_date":1605145294,"post_id":64796576,"comment_id":114564686,"body_markdown":"You also need to fix the swap code. You need a temp variable.","body":"You also need to fix the swap code. You need a temp variable."},{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":0,"creation_date":1605145772,"post_id":64796576,"comment_id":114564793,"body_markdown":"Just to clarify why a &#39;temp variable&#39; is needed, this is because when you do `arr[i] = arr[j];` you have now _changed_ `arr[i]` and it is equal to `arr[j]`.  So when you _then_ do `arr[j] = arr[i]` you are using the new value, and nothing changes.  `tmp = arr[i]; arr[i] = arr[j]; arr[j] = tmp;` avoids this issue.","body":"Just to clarify why a &#39;temp variable&#39; is needed, this is because when you do <code>arr[i] = arr[j];</code> you have now <i>changed</i> <code>arr[i]</code> and it is equal to <code>arr[j]</code>.  So when you <i>then</i> do <code>arr[j] = arr[i]</code> you are using the new value, and nothing changes.  <code>tmp = arr[i]; arr[i] = arr[j]; arr[j] = tmp;</code> avoids this issue."},{"owner":{"account_id":19953689,"reputation":45,"user_id":14622768,"display_name":"Sk_Hssn"},"score":0,"creation_date":1605148813,"post_id":64796576,"comment_id":114565321,"body_markdown":"Edit: I just updated the code the it&#39;s compiling now. But it&#39;s giving me wrong output","body":"Edit: I just updated the code the it&#39;s compiling now. But it&#39;s giving me wrong output"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1605158231,"post_id":64796576,"comment_id":114567090,"body_markdown":"I think the algorithmic approach is even simpler: You can just sort them in descending order by their leading characters, and then the second characters, etc. Mismatched lengths would compare the last character they could (so `73` &lt; `7` &lt; `79`). The end result will be the biggest possible number (digit-wise).","body":"I think the algorithmic approach is even simpler: You can just sort them in descending order by their leading characters, and then the second characters, etc. Mismatched lengths would compare the last character they could (so <code>73</code> &lt; <code>7</code> &lt; <code>79</code>). The end result will be the biggest possible number (digit-wise)."}],"answers":[{"tags":[],"owner":{"account_id":6965660,"reputation":6723,"user_id":5343790,"accept_rate":92,"display_name":"Shridhar R Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1605157668,"creation_date":1605157331,"answer_id":64798227,"question_id":64796576,"body_markdown":"**Fix the bugs** as shown below and it should work. \r\n\r\n    for (int i = 0; i &lt; arr.length; i++) { //correction here\r\n            for (int j = i +1; j &lt; arr.length; j++) {\r\n                    String temp1 = Integer.toString(arr[i]) + Integer.toString(arr[j]); //correction here\r\n                    String temp2 = Integer.toString(arr[j]) + Integer.toString(arr[i]); //correction here\r\n\r\nTo write some **elegant code**, I would have used a comparator as shown below:\r\n\r\n            String[] stringArr = new String[arr.length];\r\n    \t\tfor(int i = 0; i &lt; arr.length; i++)\r\n    \t\t    stringArr[i] = String.valueOf(arr[i]);\r\n        \r\n            Comparator&lt;String&gt; comp = new Comparator&lt;String&gt;(){\r\n    \t\t    @Override\r\n    \t\t    public int compare(String str1, String str2){\r\n    \t\t        String s1 = str1 + str2;\r\n    \t\t\t\tString s2 = str2 + str1;\r\n    \t\t\t\treturn s2.compareTo(s1);\r\n    \t\t    }\r\n    \t     };\r\n    \t\t\r\n    \t\tArrays.sort(stringArr, comp);\r\n        \r\n            String ansNum = &quot;&quot;;\r\n            for(int i = 0; i &lt; stringArr.length; i++) {\r\n                ansNum += stringArr[i];\r\n                \r\n            }\r\n            \r\n            return Integer.parseInt(ansNum);\r\n\r\nTo talk about **time complexity**, the two for loops in your code makes this solution `O(n^2)` whereas with the use of sort it becomes `O(nlog(n))` where `n` is the number of elements in the input array. So, not only the code becomes elegant with the use of comparator, in this case it becomes efficient too.","title":"Create an algorithm that arranges them in order to form the largest possible integer","body":"<p><strong>Fix the bugs</strong> as shown below and it should work.</p>\n<pre><code>for (int i = 0; i &lt; arr.length; i++) { //correction here\n        for (int j = i +1; j &lt; arr.length; j++) {\n                String temp1 = Integer.toString(arr[i]) + Integer.toString(arr[j]); //correction here\n                String temp2 = Integer.toString(arr[j]) + Integer.toString(arr[i]); //correction here\n</code></pre>\n<p>To write some <strong>elegant code</strong>, I would have used a comparator as shown below:</p>\n<pre><code>        String[] stringArr = new String[arr.length];\n        for(int i = 0; i &lt; arr.length; i++)\n            stringArr[i] = String.valueOf(arr[i]);\n    \n        Comparator&lt;String&gt; comp = new Comparator&lt;String&gt;(){\n            @Override\n            public int compare(String str1, String str2){\n                String s1 = str1 + str2;\n                String s2 = str2 + str1;\n                return s2.compareTo(s1);\n            }\n         };\n        \n        Arrays.sort(stringArr, comp);\n    \n        String ansNum = &quot;&quot;;\n        for(int i = 0; i &lt; stringArr.length; i++) {\n            ansNum += stringArr[i];\n            \n        }\n        \n        return Integer.parseInt(ansNum);\n</code></pre>\n<p>To talk about <strong>time complexity</strong>, the two for loops in your code makes this solution <code>O(n^2)</code> whereas with the use of sort it becomes <code>O(nlog(n))</code> where <code>n</code> is the number of elements in the input array. So, not only the code becomes elegant with the use of comparator, in this case it becomes efficient too.</p>\n"},{"tags":[],"owner":{"account_id":23983365,"reputation":1,"user_id":17970473,"display_name":"Deepak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642565129,"creation_date":1642565129,"answer_id":70765174,"question_id":64796576,"body_markdown":"    public class largestNumber { \r\n      public static int largestNumber(int[] arr) {\r\n    \r\n        for (int i = 0; i &lt; arr.length -1; i++) {\r\n            for (int j = i +1; j &lt; arr.length; j++) {\r\n                String temp1 = Integer.toString(arr[i]) + Integer.toString(arr[j]);\r\n                String temp2 = Integer.toString(arr[j]) + Integer.toString(arr[i]);//rectified\r\n                \r\n                if (Integer.parseInt(temp2) &gt; Integer.parseInt(temp1)) {\r\n                    int swap = arr[i];\r\n                    arr[i] = arr[j];\r\n                    arr[j] = swap;\r\n                }\r\n            }\r\n    \r\n        \r\n        }\r\n        \r\n        String ansNum = &quot;&quot;;\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            ansNum += Integer.toString(arr[i]);\r\n            \r\n        }\r\n        \r\n        return Integer.parseInt(ansNum);\r\n    \r\n    }\r\n        public static void main(String[] args) {   \r\n            int [] arr = {10, 7, 76, 415};\r\n            int output = largestNumber(arr);\r\n            System.out.println(output); //Print out the number\r\n        }\r\n    }","title":"Create an algorithm that arranges them in order to form the largest possible integer","body":"<pre><code>public class largestNumber { \n  public static int largestNumber(int[] arr) {\n\n    for (int i = 0; i &lt; arr.length -1; i++) {\n        for (int j = i +1; j &lt; arr.length; j++) {\n            String temp1 = Integer.toString(arr[i]) + Integer.toString(arr[j]);\n            String temp2 = Integer.toString(arr[j]) + Integer.toString(arr[i]);//rectified\n            \n            if (Integer.parseInt(temp2) &gt; Integer.parseInt(temp1)) {\n                int swap = arr[i];\n                arr[i] = arr[j];\n                arr[j] = swap;\n            }\n        }\n\n    \n    }\n    \n    String ansNum = &quot;&quot;;\n    for (int i = 0; i &lt; arr.length; i++) {\n        ansNum += Integer.toString(arr[i]);\n        \n    }\n    \n    return Integer.parseInt(ansNum);\n\n}\n    public static void main(String[] args) {   \n        int [] arr = {10, 7, 76, 415};\n        int output = largestNumber(arr);\n        System.out.println(output); //Print out the number\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19953689,"reputation":45,"user_id":14622768,"display_name":"Sk_Hssn"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64798227,"answer_count":2,"score":0,"last_activity_date":1642565129,"creation_date":1605144185,"question_id":64796576,"body_markdown":"I am struggling with this coding problem in Java. It has to be solved using an algorithm. It is supposed to give me the largest possible inter that can be formed with the numbers in the array: {10, 7, 76, 415}. I tried to solve it using selection sort. So far I have is this code below but it&#39;s giving me the wrong output. My code:\r\n\r\n\r\npublic class largestNumber {\r\n    public static int largestNumber(int[] arr) {\r\n        \r\n        \r\n        \r\n        for (int i = 1; i &lt; arr.length -1; i++) {\r\n            for (int j = i +1; j &lt; arr.length; j++) {\r\n                String temp1 = Integer.toString(i) + Integer.toString(j);\r\n                String temp2 = Integer.toString(j) + Integer.toString(i);\r\n                \r\n                if (Integer.parseInt(temp2) &gt; Integer.parseInt(temp1)) {\r\n                    int swap = arr[i];\r\n                    arr[i] = arr[j];\r\n                    arr[j] = swap;\r\n                }\r\n            }\r\n \r\n        \r\n        }\r\n        \r\n        String ansNum = &quot;&quot;;\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            ansNum += Integer.toString(arr[i]);\r\n            \r\n        }\r\n        \r\n        return Integer.parseInt(ansNum);\r\n\r\n    }\r\n    public static void main(String[] args) {   \r\n        int [] arr = {10, 7, 76, 415};\r\n        int output = largestNumber(arr);\r\n        System.out.println(output); //Print out the number\r\n    }\r\n    \r\n    \r\n}\r\n\r\nThe given output from this code is:10415767\r\nBut the right answer is: 77641510\r\n\r\nPlease give your feedback and thoughts.","title":"Create an algorithm that arranges them in order to form the largest possible integer","body":"<p>I am struggling with this coding problem in Java. It has to be solved using an algorithm. It is supposed to give me the largest possible inter that can be formed with the numbers in the array: {10, 7, 76, 415}. I tried to solve it using selection sort. So far I have is this code below but it's giving me the wrong output. My code:</p>\n<p>public class largestNumber {\npublic static int largestNumber(int[] arr) {</p>\n<pre><code>    for (int i = 1; i &lt; arr.length -1; i++) {\n        for (int j = i +1; j &lt; arr.length; j++) {\n            String temp1 = Integer.toString(i) + Integer.toString(j);\n            String temp2 = Integer.toString(j) + Integer.toString(i);\n            \n            if (Integer.parseInt(temp2) &gt; Integer.parseInt(temp1)) {\n                int swap = arr[i];\n                arr[i] = arr[j];\n                arr[j] = swap;\n            }\n        }\n\n    \n    }\n    \n    String ansNum = &quot;&quot;;\n    for (int i = 0; i &lt; arr.length; i++) {\n        ansNum += Integer.toString(arr[i]);\n        \n    }\n    \n    return Integer.parseInt(ansNum);\n\n}\npublic static void main(String[] args) {   \n    int [] arr = {10, 7, 76, 415};\n    int output = largestNumber(arr);\n    System.out.println(output); //Print out the number\n}\n</code></pre>\n<p>}</p>\n<p>The given output from this code is:10415767\nBut the right answer is: 77641510</p>\n<p>Please give your feedback and thoughts.</p>\n"},{"tags":["java","threadpoolexecutor"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1642558093,"post_id":70764500,"comment_id":125100872,"body_markdown":"I think you may find the answer here: https://stackoverflow.com/questions/46959700/displaying-all-thread-groups-and-threads-currently-running-in-jvm","body":"I think you may find the answer here: <a href=\"https://stackoverflow.com/questions/46959700/displaying-all-thread-groups-and-threads-currently-running-in-jvm\" title=\"displaying all thread groups and threads currently running in jvm\">stackoverflow.com/questions/46959700/&hellip;</a>"},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1642558509,"post_id":70764500,"comment_id":125100934,"body_markdown":"Or in [the documentation](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html).","body":"Or in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">the documentation</a>."}],"answers":[{"tags":[],"owner":{"account_id":23977205,"reputation":136,"user_id":17965148,"display_name":"Optimizer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642564001,"creation_date":1642564001,"answer_id":70765081,"question_id":70764500,"body_markdown":"To get total number of threads:\r\n\r\n    Set&lt;Thread&gt; threadSet = Thread.getAllStackTraces().keySet();","title":"How to get the number of current worker threads in a JVM threadpool?","body":"<p>To get total number of threads:</p>\n<pre><code>Set&lt;Thread&gt; threadSet = Thread.getAllStackTraces().keySet();\n</code></pre>\n"}],"owner":{"account_id":57073,"reputation":7420,"user_id":170966,"accept_rate":57,"display_name":"feroze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642564001,"creation_date":1642557852,"question_id":70764500,"body_markdown":"I am using the threadpool classes in java Base class library. Specifically `Executors.newFixedThreadPool()` etc.\r\n\r\nIn my application i want to log metrics on how many threads are running (actually doing user supplied work) vs waiting for work.\r\n\r\nI looked at the hooks provided by the classes, but could not find any way to do it.\r\n\r\nI can of course implement something like that by putting my work unit in the worker thread around a `try/finally` and incrementing/decrementing a global counter. But was wondering if there was something out of the box that i am missing.","title":"How to get the number of current worker threads in a JVM threadpool?","body":"<p>I am using the threadpool classes in java Base class library. Specifically <code>Executors.newFixedThreadPool()</code> etc.</p>\n<p>In my application i want to log metrics on how many threads are running (actually doing user supplied work) vs waiting for work.</p>\n<p>I looked at the hooks provided by the classes, but could not find any way to do it.</p>\n<p>I can of course implement something like that by putting my work unit in the worker thread around a <code>try/finally</code> and incrementing/decrementing a global counter. But was wondering if there was something out of the box that i am missing.</p>\n"},{"tags":["java","spring-boot","java-8","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1642564389,"post_id":70765007,"comment_id":125101869,"body_markdown":"`patternMatcher.stream().filter(x -&gt; x.getValue0().matcher(fileName).matches()).map(x -&gt; Pair.with(x.getValue1(), x.getValue2()))`","body":"<code>patternMatcher.stream().filter(x -&gt; x.getValue0().matcher(fileName).matches()).map(x -&gt; Pair.with(x.getValue1(), x.getValue2()))</code>"},{"owner":{"account_id":16669662,"reputation":478,"user_id":12047466,"display_name":"TechGeek"},"score":0,"creation_date":1642565466,"post_id":70765007,"comment_id":125102018,"body_markdown":"@shmosel It worked.","body":"@shmosel It worked."}],"owner":{"account_id":16669662,"reputation":478,"user_id":12047466,"display_name":"TechGeek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642563013,"creation_date":1642563013,"question_id":70765007,"body_markdown":"I have a triplet with pattern and string objects. I would like to return the string objects pair if there is a match in pattten.\r\n\r\n```\r\n List&lt;Triplet&lt;Pattern, String, String&gt;&gt; patternMatcher = Arrays.asList(\r\n        Triplet.with(Pattern.compile(&quot;check_report_\\\\d{8}_\\\\d{8}.csv&quot;), &quot;check-report&quot;,\r\n            &quot;CheckReport&quot;),\r\n        Triplet.with(Pattern.compile(&quot;\\\\d{8}-\\\\d{6}_On_Hand_\\\\d{4}.csv&quot;),\r\n            &quot;on-hand&quot;, &quot;OnHand&quot;) \r\n    );\r\n```\r\n\r\n```\r\nString container = patternMatcher\r\n        .stream()\r\n        .map(x -&gt; Pair.with(x.getValue0().matcher(fileName).matches(), x.getValue1()))\r\n        .filter(Pair::getValue0)\r\n        .map(Pair::getValue1)\r\n        .findFirst()\r\n        .orElseThrow(() -&gt; new Exception(&quot;Unknown file type.&quot;));\r\n\r\nString directory = patternMatcher\r\n        .stream()\r\n        .map(x -&gt; Pair.with(x.getValue0().matcher(fileName).matches(), x.getValue2()))\r\n        .filter(Pair::getValue0)\r\n        .map(Pair::getValue1)\r\n        .findFirst()\r\n        .orElseThrow(() -&gt; new Exception(&quot;Unknown file type.&quot;));\r\n\r\n```\r\n\r\nGiven fileName -&gt; `check_report_12345678_12345678.csv` , It should return `Pair` of two string objects `check-report` and `CheckReport`.The above `container` will only give me `check-report`.And  `directory` will give me only directory `CheckReport`.. Can someone help me how I can process as `Pair` in single time ? I want that Processed single time and return `Pair`.","title":"How to read values from triplet and extract into pair using java stream","body":"<p>I have a triplet with pattern and string objects. I would like to return the string objects pair if there is a match in pattten.</p>\n<pre><code> List&lt;Triplet&lt;Pattern, String, String&gt;&gt; patternMatcher = Arrays.asList(\n        Triplet.with(Pattern.compile(&quot;check_report_\\\\d{8}_\\\\d{8}.csv&quot;), &quot;check-report&quot;,\n            &quot;CheckReport&quot;),\n        Triplet.with(Pattern.compile(&quot;\\\\d{8}-\\\\d{6}_On_Hand_\\\\d{4}.csv&quot;),\n            &quot;on-hand&quot;, &quot;OnHand&quot;) \n    );\n</code></pre>\n<pre><code>String container = patternMatcher\n        .stream()\n        .map(x -&gt; Pair.with(x.getValue0().matcher(fileName).matches(), x.getValue1()))\n        .filter(Pair::getValue0)\n        .map(Pair::getValue1)\n        .findFirst()\n        .orElseThrow(() -&gt; new Exception(&quot;Unknown file type.&quot;));\n\nString directory = patternMatcher\n        .stream()\n        .map(x -&gt; Pair.with(x.getValue0().matcher(fileName).matches(), x.getValue2()))\n        .filter(Pair::getValue0)\n        .map(Pair::getValue1)\n        .findFirst()\n        .orElseThrow(() -&gt; new Exception(&quot;Unknown file type.&quot;));\n\n</code></pre>\n<p>Given fileName -&gt; <code>check_report_12345678_12345678.csv</code> , It should return <code>Pair</code> of two string objects <code>check-report</code> and <code>CheckReport</code>.The above <code>container</code> will only give me <code>check-report</code>.And  <code>directory</code> will give me only directory <code>CheckReport</code>.. Can someone help me how I can process as <code>Pair</code> in single time ? I want that Processed single time and return <code>Pair</code>.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":14093595,"reputation":1000,"user_id":10181124,"display_name":"chakwok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642562384,"creation_date":1642562384,"answer_id":70764942,"question_id":70764506,"body_markdown":"You could add a method like below to your `DishRepository` and it should be able to achieve that without needing to write custom query with `@Query()` annotation\r\n```\r\npublic interface DishRepository extends CrudRepository&lt;Dish, Long&gt; {\r\n    Dish findByCategory(String category, Sort sort);\r\n}\r\n```","title":"Spring data jpa, how to filter and then sort results in this example?","body":"<p>You could add a method like below to your <code>DishRepository</code> and it should be able to achieve that without needing to write custom query with <code>@Query()</code> annotation</p>\n<pre><code>public interface DishRepository extends CrudRepository&lt;Dish, Long&gt; {\n    Dish findByCategory(String category, Sort sort);\n}\n</code></pre>\n"}],"owner":{"display_name":"user15599360"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70764942,"answer_count":1,"score":0,"last_activity_date":1642562384,"creation_date":1642557917,"question_id":70764506,"body_markdown":"I wrote a method, but as you can see - Category here is never used.\r\n\r\n Is to possible to find only Dishes where Category is same as defined and only after it - sort it by parameter using plain Spring data jpa?\r\nOr  the only way to it is a custom query?\r\n\r\n\r\n    public List&lt;Dish&gt; findAllDishesSorted(String sortField, String sortDirection, String category) {\r\n        Sort sort = sortDirection.equalsIgnoreCase(Sort.Direction.ASC.name())\r\n                ? Sort.by(sortField).ascending() : Sort.by(sortField).descending();\r\n    \r\n                return dishRepository.findAll(sort);\r\n    }","title":"Spring data jpa, how to filter and then sort results in this example?","body":"<p>I wrote a method, but as you can see - Category here is never used.</p>\n<p>Is to possible to find only Dishes where Category is same as defined and only after it - sort it by parameter using plain Spring data jpa?\nOr  the only way to it is a custom query?</p>\n<pre><code>public List&lt;Dish&gt; findAllDishesSorted(String sortField, String sortDirection, String category) {\n    Sort sort = sortDirection.equalsIgnoreCase(Sort.Direction.ASC.name())\n            ? Sort.by(sortField).ascending() : Sort.by(sortField).descending();\n\n            return dishRepository.findAll(sort);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642562267,"creation_date":1642562267,"answer_id":70764925,"question_id":70761907,"body_markdown":"There&#39;s a feature request in github: [Autorebuild option as eclipse][1], where the author ask the auto-rebuild feature including rebuild war packages.\r\n\r\nThe programmer still keeps the issue open and waits for users to vote it up then decides if this feature is needed, so you may upvote and comment there.\r\n\r\n  [1]: https://github.com/microsoft/vscode-maven/issues/752","title":"Hot reload with Spring MVC in VSCode?","body":"<p>There's a feature request in github: <a href=\"https://github.com/microsoft/vscode-maven/issues/752\" rel=\"nofollow noreferrer\">Autorebuild option as eclipse</a>, where the author ask the auto-rebuild feature including rebuild war packages.</p>\n<p>The programmer still keeps the issue open and waits for users to vote it up then decides if this feature is needed, so you may upvote and comment there.</p>\n"}],"owner":{"account_id":23024882,"reputation":19,"user_id":17834929,"display_name":"melosomelo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642562267,"creation_date":1642537192,"question_id":70761907,"body_markdown":"Does anyone know of a way to hot reload a Spring MVC (not spring boot) application in VSCode? I&#39;m using the *Microsoft Java Extension* Pack and *Tomcat for Java* extensions to compile and run them, but it seems that for every change I make I need to rebuild the `.war`file and restart my server. \r\n\r\nPersonally, I think this is highly inefficient and tiresome. Does anyone know how to make this process automatic? I migrated from Intellij because apparently this isn&#39;t possible in the community version. \r\n\r\nP.S.: To be more clear, I&#39;m using Spring MVC but I intend to build a REST API with it, so I will not be using any `.jsp` files.","title":"Hot reload with Spring MVC in VSCode?","body":"<p>Does anyone know of a way to hot reload a Spring MVC (not spring boot) application in VSCode? I'm using the <em>Microsoft Java Extension</em> Pack and <em>Tomcat for Java</em> extensions to compile and run them, but it seems that for every change I make I need to rebuild the <code>.war</code>file and restart my server.</p>\n<p>Personally, I think this is highly inefficient and tiresome. Does anyone know how to make this process automatic? I migrated from Intellij because apparently this isn't possible in the community version.</p>\n<p>P.S.: To be more clear, I'm using Spring MVC but I intend to build a REST API with it, so I will not be using any <code>.jsp</code> files.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1642562333,"post_id":70764887,"comment_id":125101590,"body_markdown":"You&#39;ll need to give more detail of exactly what you want to do, and show the sources of the prices.","body":"You&#39;ll need to give more detail of exactly what you want to do, and show the sources of the prices."},{"owner":{"account_id":2369279,"reputation":2588,"user_id":2074257,"display_name":"Nghia Do"},"score":0,"creation_date":1642562980,"post_id":70764887,"comment_id":125101699,"body_markdown":"Use Builder pattern for this case","body":"Use Builder pattern for this case"},{"owner":{"account_id":23902361,"reputation":1,"user_id":17900349,"display_name":"JAMBUGOLA MAHESH"},"score":0,"creation_date":1642577347,"post_id":70764887,"comment_id":125104372,"body_markdown":"I would like to know what can be used as sources for the prices","body":"I would like to know what can be used as sources for the prices"}],"owner":{"account_id":23902361,"reputation":1,"user_id":17900349,"display_name":"JAMBUGOLA MAHESH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642561877,"creation_date":1642561877,"question_id":70764887,"body_markdown":"If I have a class Model which represent the actual price and discounted price of an item. \r\n```\r\npublic class Item {\r\n private String name;\r\n private double actualPrice;\r\n private double discountPrice;\r\n}\r\n```\r\n\r\nI will get an input with the Item Object which have only &quot;name&quot; field initialized. I need to initialize the other fields with actualPrice and discountPrice based on enums or constants or etc.. (not with HahsMaps). How can I do that efficiently ?","title":"What is the best way to initialize a class model fields based on primary field/key/mappings?","body":"<p>If I have a class Model which represent the actual price and discounted price of an item.</p>\n<pre><code>public class Item {\n private String name;\n private double actualPrice;\n private double discountPrice;\n}\n</code></pre>\n<p>I will get an input with the Item Object which have only &quot;name&quot; field initialized. I need to initialize the other fields with actualPrice and discountPrice based on enums or constants or etc.. (not with HahsMaps). How can I do that efficiently ?</p>\n"},{"tags":["java","biginteger","radix"],"comments":[{"owner":{"account_id":23982079,"reputation":11,"user_id":17969337,"display_name":"OxAa01"},"score":0,"creation_date":1642554569,"post_id":70764056,"comment_id":125100238,"body_markdown":"So in the above code I used String value = bigInteger.toString(finalBase) to return a String representation of the base10 BigInteger in the given radix of finalBase but I&#39;m not allowed to do that. Do i need to build another function to parse through the bigInteger string to convert individual chars to specific values?","body":"So in the above code I used String value = bigInteger.toString(finalBase) to return a String representation of the base10 BigInteger in the given radix of finalBase but I&#39;m not allowed to do that. Do i need to build another function to parse through the bigInteger string to convert individual chars to specific values?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1642557171,"post_id":70764056,"comment_id":125100695,"body_markdown":"Please edit your question and clearly explain exactly what problems you are having and where you need help.  Don&#39;t put that in the comments, put it in  your question.  Explain your task `exactly` as your professor explained it to you.  Hopefully that should not take more than a few sentences.  And please don&#39;t post links to anything.","body":"Please edit your question and clearly explain exactly what problems you are having and where you need help.  Don&#39;t put that in the comments, put it in  your question.  Explain your task <code>exactly</code> as your professor explained it to you.  Hopefully that should not take more than a few sentences.  And please don&#39;t post links to anything."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1642603677,"post_id":70764056,"comment_id":125115130,"body_markdown":"*...I&#39;m not allowed to use StringBuilder as well as that is not thread safe....* Your code uses two static methods that reference no external (to the functions) shared state. They are inherently thread-safe and you can use StringBuilder.","body":"<i>...I&#39;m not allowed to use StringBuilder as well as that is not thread safe....</i> Your code uses two static methods that reference no external (to the functions) shared state. They are inherently thread-safe and you can use StringBuilder."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1642605555,"post_id":70764056,"comment_id":125116120,"body_markdown":"*..I&#39;m not allowed to use StringBuilder as well as that is not thread safe...*  Then use StringBuffer.  It is a thread safe version of StringBuilder.  And you won&#39;t risk irking your professor.","body":"<i>..I&#39;m not allowed to use StringBuilder as well as that is not thread safe...</i>  Then use StringBuffer.  It is a thread safe version of StringBuilder.  And you won&#39;t risk irking your professor."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642560847,"creation_date":1642560847,"answer_id":70764772,"question_id":70764056,"body_markdown":"Here is a basic example of converting 3932 base 10 to base 16.\r\n\r\n``` \r\n1. 3932 / 16 = 245 w remainder 12 = hex digit C\r\n2.  245 / 16 =  15 w remainder  5 = hex digit 5\r\n3.   15 / 16 =   0 w remainder 15 = hex digit F\r\n\r\nSo 3932 base 10 is F5C base 16\r\n```\r\nNow convert base `F5C` to base `10`\r\n```\r\n1. set v = 0;\r\n2.  v = v * 16 + F = 0 * 16 + 15 = 15\r\n3.  v = v * 16 + 5 = 15 * 16 + 5 = 245\r\n4.  v = v * 16 + C = 245 * 16 + C = 3920 + 12 = 3932\r\n\r\n```\r\n- You will need a string of digits (`01234...XYZ`) for the bases. \r\n- the string will be indexed by the remainder to when going from decimal to a base\r\n- when going from a some base to decimal you will use the base digits position in the string.  E.g. F is position 15.\r\n\r\nThe `String method` `indexOf and charAt` can help with that and `BigInteger` provides a `remainder` method.\r\n\r\nTo convert between any two bases I use decimal as an intermediary base. So from base 4 to base 18 I would convert 4 to base 10 and base 10 to base 18.  There may be other ways of doing it but imo that would be the simplest.\r\n\r\nCheck out this site for other ideas on base conversions.\r\n","title":"BigInteger Base Conversion","body":"<p>Here is a basic example of converting 3932 base 10 to base 16.</p>\n<pre><code>1. 3932 / 16 = 245 w remainder 12 = hex digit C\n2.  245 / 16 =  15 w remainder  5 = hex digit 5\n3.   15 / 16 =   0 w remainder 15 = hex digit F\n\nSo 3932 base 10 is F5C base 16\n</code></pre>\n<p>Now convert base <code>F5C</code> to base <code>10</code></p>\n<pre><code>1. set v = 0;\n2.  v = v * 16 + F = 0 * 16 + 15 = 15\n3.  v = v * 16 + 5 = 15 * 16 + 5 = 245\n4.  v = v * 16 + C = 245 * 16 + C = 3920 + 12 = 3932\n\n</code></pre>\n<ul>\n<li>You will need a string of digits (<code>01234...XYZ</code>) for the bases.</li>\n<li>the string will be indexed by the remainder to when going from decimal to a base</li>\n<li>when going from a some base to decimal you will use the base digits position in the string.  E.g. F is position 15.</li>\n</ul>\n<p>The <code>String method</code> <code>indexOf and charAt</code> can help with that and <code>BigInteger</code> provides a <code>remainder</code> method.</p>\n<p>To convert between any two bases I use decimal as an intermediary base. So from base 4 to base 18 I would convert 4 to base 10 and base 10 to base 18.  There may be other ways of doing it but imo that would be the simplest.</p>\n<p>Check out this site for other ideas on base conversions.</p>\n"}],"owner":{"account_id":23982079,"reputation":11,"user_id":17969337,"display_name":"OxAa01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":592,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1642560847,"creation_date":1642552885,"question_id":70764056,"body_markdown":"The following program should:\r\n\r\n* Display a friendly greeting to the user\r\n* Prompt the user for the value to convert (a String)\r\n* Accept that String\r\n* Prompt the user for the value of the initial base (an integer)\r\n* Accept that integer\r\n* Prompt the user for the desired base of the output (an integer)\r\n* Accept that integer\r\n* If the String is not a legal expression of a number in the initial base, display an error message and exit the program\r\n* Convert the value represented by the String in the initial base to the desired base.\r\n* Display the result.\r\n\r\nMy program assignment is convert a string value input by the user from the initial input base to the final input base using BigInteger. How do I convert my base 10 BigInteger bigInteger to the desired value of finalBase and return it as a String without using toString? I&#39;m sure I&#39;m not allowed to use StringBuilder as well as that is not thread safe.\r\nI&#39;ve been told by my professor that my code should step through the string by each character at a time.\r\nI&#39;m able to view the accurate base10 representation of the initial base value by using String value = &quot;&quot; + bigInteger; however I haven&#39;t honestly figured out where to move past that math wise\r\n\r\nMy code for reference:\r\n        \r\n        public static boolean isValidInt(String theValue, int theBase){\r\n            char charParse;\r\n            for(int i = 0; i &lt; theValue.length(); i++){\r\n                charParse = theValue.toUpperCase().charAt(i);\r\n                if (Character.isDigit(charParse) &amp;&amp; (charParse - &#39;0&#39;) &gt;= theBase){\r\n                    System.out.println(&quot;Cannot have digit &quot; + charParse + &quot; in given base &quot; + theBase);\r\n                    return false;\r\n                } else if (Character.isLetter(charParse) &amp;&amp; (charParse - &#39;A&#39;) + 10 &gt;= theBase) {\r\n                    System.out.println(&quot;Cannot have character &quot; + charParse + &quot; in given base &quot; + theBase);\r\n                    return false;\r\n                } else if (!Character.isDigit(charParse) &amp;&amp; !Character.isLetter(charParse)){\r\n                    System.out.println(&quot;Cannot have symbol &quot; + charParse + &quot; in given base &quot; + theBase);\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n\r\n        public static string convertInteger(String theValue, int initialBase, int finalBase){\r\n            if(isValidInteger(theValue, initialBase)){\r\n                if(initialBase &lt; 2 || initialBase &gt; 36) {\r\n                    System.out.println(&quot;Invalid initial base&quot;);\r\n                    System.exit(1);\r\n                } else if (finalBase &lt; 2 || finalBase &gt; 36) {\r\n                    System.out.println(&quot;Invalid final base&quot;);\r\n                    System.exit(1);\r\n                }\r\n            }\r\n            BigInteger bigInteger = new BigInteger(theValue, initialBase);\r\n            String value = bigInteger.toString(finalBase);\r\n            return value = value.toUpperCase();\r\n        }\r\n        \r\n        public static void main(String[] args){\r\n            String theValue;\r\n            String newValue;\r\n            int initialBase;\r\n            int finalBase;\r\n            System.out.println(&quot;Starting&quot;);\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter value to convert (a String):&quot;);\r\n            theValue = sc.nextLine();\r\n            System.out.println(&quot;Enter value of initial base (integer):&quot;);\r\n            initialBase = sc.nextInt();\r\n            isValidInteger(theValue, initialBase);\r\n            System.out.println(&quot;Enter a value for the desired output base (integer):&quot;);\r\n            finalBase = sc.nextInt();\r\n            sc.close();\r\n            newValue = convertInteger(theValue, initialBase, finalBase);\r\n            System.out.println(&quot;New value: &quot; + newValue);\r\n            }\r\n        }\r\n","title":"BigInteger Base Conversion","body":"<p>The following program should:</p>\n<ul>\n<li>Display a friendly greeting to the user</li>\n<li>Prompt the user for the value to convert (a String)</li>\n<li>Accept that String</li>\n<li>Prompt the user for the value of the initial base (an integer)</li>\n<li>Accept that integer</li>\n<li>Prompt the user for the desired base of the output (an integer)</li>\n<li>Accept that integer</li>\n<li>If the String is not a legal expression of a number in the initial base, display an error message and exit the program</li>\n<li>Convert the value represented by the String in the initial base to the desired base.</li>\n<li>Display the result.</li>\n</ul>\n<p>My program assignment is convert a string value input by the user from the initial input base to the final input base using BigInteger. How do I convert my base 10 BigInteger bigInteger to the desired value of finalBase and return it as a String without using toString? I'm sure I'm not allowed to use StringBuilder as well as that is not thread safe.\nI've been told by my professor that my code should step through the string by each character at a time.\nI'm able to view the accurate base10 representation of the initial base value by using String value = &quot;&quot; + bigInteger; however I haven't honestly figured out where to move past that math wise</p>\n<p>My code for reference:</p>\n<pre><code>    public static boolean isValidInt(String theValue, int theBase){\n        char charParse;\n        for(int i = 0; i &lt; theValue.length(); i++){\n            charParse = theValue.toUpperCase().charAt(i);\n            if (Character.isDigit(charParse) &amp;&amp; (charParse - '0') &gt;= theBase){\n                System.out.println(&quot;Cannot have digit &quot; + charParse + &quot; in given base &quot; + theBase);\n                return false;\n            } else if (Character.isLetter(charParse) &amp;&amp; (charParse - 'A') + 10 &gt;= theBase) {\n                System.out.println(&quot;Cannot have character &quot; + charParse + &quot; in given base &quot; + theBase);\n                return false;\n            } else if (!Character.isDigit(charParse) &amp;&amp; !Character.isLetter(charParse)){\n                System.out.println(&quot;Cannot have symbol &quot; + charParse + &quot; in given base &quot; + theBase);\n                return false;\n            }\n        }\n        return true;\n    }\n\n    public static string convertInteger(String theValue, int initialBase, int finalBase){\n        if(isValidInteger(theValue, initialBase)){\n            if(initialBase &lt; 2 || initialBase &gt; 36) {\n                System.out.println(&quot;Invalid initial base&quot;);\n                System.exit(1);\n            } else if (finalBase &lt; 2 || finalBase &gt; 36) {\n                System.out.println(&quot;Invalid final base&quot;);\n                System.exit(1);\n            }\n        }\n        BigInteger bigInteger = new BigInteger(theValue, initialBase);\n        String value = bigInteger.toString(finalBase);\n        return value = value.toUpperCase();\n    }\n    \n    public static void main(String[] args){\n        String theValue;\n        String newValue;\n        int initialBase;\n        int finalBase;\n        System.out.println(&quot;Starting&quot;);\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter value to convert (a String):&quot;);\n        theValue = sc.nextLine();\n        System.out.println(&quot;Enter value of initial base (integer):&quot;);\n        initialBase = sc.nextInt();\n        isValidInteger(theValue, initialBase);\n        System.out.println(&quot;Enter a value for the desired output base (integer):&quot;);\n        finalBase = sc.nextInt();\n        sc.close();\n        newValue = convertInteger(theValue, initialBase, finalBase);\n        System.out.println(&quot;New value: &quot; + newValue);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","visual-studio-code","microservices"],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642560400,"creation_date":1642560069,"answer_id":70764709,"question_id":70759795,"body_markdown":"You can create a `launch.json` and [compound][1] the three projects.\r\n\r\n1. Create a `launch.json`, which should generate configurations automatically.\r\n2. Add `compound` args. Compound configurations list the names of the above three launch configuration.\r\n\r\n        &quot;compounds&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;Compound&quot;,\r\n                &quot;configurations&quot;: [&quot;Launch Demo1Application&quot;,&quot;Launch Demo2Application&quot;,&quot;Launch DemoApplication&quot;]\r\n            }\r\n        ]\r\n[![enter image description here][2]][2]\r\n\r\n3. Select `compound` then debug.\r\n\r\nSee the effect in my VS Code:[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://code.visualstudio.com/Docs/editor/debugging#_compound-launch-configurations\r\n  [2]: https://i.stack.imgur.com/A0zov.png\r\n  [3]: https://i.stack.imgur.com/ZDKyB.gif","title":"Executing multiple java process on same VisualCode workspace","body":"<p>You can create a <code>launch.json</code> and <a href=\"https://code.visualstudio.com/Docs/editor/debugging#_compound-launch-configurations\" rel=\"nofollow noreferrer\">compound</a> the three projects.</p>\n<ol>\n<li><p>Create a <code>launch.json</code>, which should generate configurations automatically.</p>\n</li>\n<li><p>Add <code>compound</code> args. Compound configurations list the names of the above three launch configuration.</p>\n<pre><code> &quot;compounds&quot;: [\n     {\n         &quot;name&quot;: &quot;Compound&quot;,\n         &quot;configurations&quot;: [&quot;Launch Demo1Application&quot;,&quot;Launch Demo2Application&quot;,&quot;Launch DemoApplication&quot;]\n     }\n ]\n</code></pre>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/A0zov.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A0zov.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Select <code>compound</code> then debug.</li>\n</ol>\n<p>See the effect in my VS Code:<a href=\"https://i.stack.imgur.com/ZDKyB.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZDKyB.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20852934,"reputation":51,"user_id":15317030,"display_name":"James Stan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70764709,"answer_count":1,"score":1,"last_activity_date":1642560400,"creation_date":1642526486,"question_id":70759795,"body_markdown":"I have three springboot app in a visual Studio code workspace. All three configured to run on unique port.Is it possible to start all three springboot service on the same workspace? Earlier I have seen options where one can select the select the terminals for each process. Anysuggestion would be of great help.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sU07Y.png\r\n\r\n","title":"Executing multiple java process on same VisualCode workspace","body":"<p>I have three springboot app in a visual Studio code workspace. All three configured to run on unique port.Is it possible to start all three springboot service on the same workspace? Earlier I have seen options where one can select the select the terminals for each process. Anysuggestion would be of great help.</p>\n<p><a href=\"https://i.stack.imgur.com/sU07Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sU07Y.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","amazon-web-services","aws-cdk","aws-codepipeline"],"comments":[{"owner":{"account_id":14422932,"reputation":9181,"user_id":10418515,"display_name":"gshpychka"},"score":1,"creation_date":1642436321,"post_id":70744031,"comment_id":125064673,"body_markdown":"What&#39;s the classpath when running the app in CodeBuild?","body":"What&#39;s the classpath when running the app in CodeBuild?"},{"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"score":0,"creation_date":1642472026,"post_id":70744031,"comment_id":125074005,"body_markdown":"Hi @gshpychka, thank you for your reply, I&#39;m not sure how to get that, but I&#39;ve tried few tricks to get the path, hope this is what you are expecting.\n1. `Java classpath in App -&gt; /opt/maven/boot/plexus-classworlds-2.6.0.jar`\n2. `Building jar: /codebuild/output/src095163261/src/target/pipeline-deployment-0.1.jar`","body":"Hi @gshpychka, thank you for your reply, I&#39;m not sure how to get that, but I&#39;ve tried few tricks to get the path, hope this is what you are expecting. 1. <code>Java classpath in App -&gt; &#47;opt&#47;maven&#47;boot&#47;plexus-classworlds-2.6.0.jar</code> 2. <code>Building jar: &#47;codebuild&#47;output&#47;src095163261&#47;src&#47;target&#47;pipeline-deploymen&zwnj;&#8203;t-0.1.jar</code>"}],"answers":[{"tags":[],"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642559096,"creation_date":1642559096,"answer_id":70764605,"question_id":70744031,"body_markdown":"I found an answer [here][1] and it worked for me. The location of properties file matters.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/35356200/how-to-load-property-file-from-classpath-in-aws-lambda-java","title":"FileNotFoundException for properties file in aws-cdk","body":"<p>I found an answer <a href=\"https://stackoverflow.com/questions/35356200/how-to-load-property-file-from-classpath-in-aws-lambda-java\">here</a> and it worked for me. The location of properties file matters.</p>\n"}],"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70764605,"answer_count":1,"score":0,"last_activity_date":1642559096,"creation_date":1642434476,"question_id":70744031,"body_markdown":"I&#39;ve been trying to read a properties file and want it to be dynamic, I&#39;m doing this in aws-cdk.\r\n\r\nMy project layout:\r\n- Main Project\r\n    - resources\r\n        - config.properties\r\n    - src\r\n        - main/java/com/myorg\r\n            - xxxstage.java\r\n\r\nThe class xxxstage.java has following code:\r\n\r\n```\r\npublic class xxxstage extends Stage {\r\n    public xxxstage(final Construct scope, final String id) {\r\n        this(scope, id, null);\r\n    }\r\n    public xxxstage(final Construct scope, final String id, final StageProps props) {\r\n        super(scope, id, props);\r\n\r\n        String account = null;\r\n        InputStream inputStream = null;\r\n\r\n        try {\r\n\t\t\tProperties prop = new Properties();\r\n\t\t\tString propFileName = &quot;resources/config.properties&quot;;\r\n\t\t\tinputStream = this.getClass().getClassLoader().getResourceAsStream(propFileName);\r\n\t\t\tSystem.out.println(&quot;inputStream is -&gt; &quot;+inputStream);\r\n \r\n\t\t\tif (inputStream != null) {\r\n\t\t\t\tprop.load(inputStream);\r\n\t\t\t} else {\r\n\t\t\t\tthrow new FileNotFoundException(&quot;property file &#39;&quot; + propFileName + &quot;&#39; not found in the classpath&quot;);\r\n\t\t\t}\r\n \r\n\t\t\t// get the property value and print it out\r\n\t\t\taccount = prop.getProperty(&quot;account.id&quot;);\r\n \r\n\t\t\tSystem.out.println(&quot;account id -&gt; &quot;+account);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Exception: &quot; + e);\r\n\t\t} finally {\r\n\t\t\ttry{\r\n                inputStream.close();\r\n            }\r\n            catch (Exception e){\r\n                System.out.println(&quot;Exception: &quot; + e);\r\n            }\r\n\t\t}\r\n\r\n        new xxxStack(this, &quot;xxxStack&quot;, StackProps.builder()\r\n        .env(new Environment.Builder()\r\n                .account(account)\r\n                .region(&quot;us-east-1&quot;)\r\n                .build())\r\n        .build());\r\n    }\r\n}\r\n```\r\n\r\nThe line where I&#39;m trying to print ```System.out.println(&quot;inputStream is -&gt; &quot;+inputStream);``` is showing null, and hence the ```FileNotFoundException```.\r\n\r\nIt worth noting that this is working fine when I run it on local java-project, its however failing during build phase of the aws-codepipeline.\r\nIn the pipeline build phase I&#39;m getting:\r\n&gt; - inputStream is -&gt; null\r\n&gt; - Exception: java.io.FileNotFoundException: property file &#39;resources/config.properties&#39; not found in the classpath\r\n&gt; - Exception: java.lang.NullPointerException\r\n\r\nCan someone please help?\r\n\r\n**EDIT 1 - Adding environment variables:**\r\n\r\n*****************************Environment Vars*****************************\r\n- PATH=/root/.npm/_npx/230/bin:/usr/local/bin/sbt/bin:/root/.phpenv/shims:/root/.phpenv/bin:/root/.goenv/shims:/root/.goenv/bin:/go/bin:/root/.phpenv/shims:/root/.phpenv/bin:/root/.pyenv/shims:/root/.pyenv/bin:/root/.rbenv/shims:/usr/local/rbenv/bin:/usr/local/rbenv/shims:/root/.dotnet/:/root/.dotnet/tools/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/tools:/codebuild/user/bin\r\n- AWS_CONTAINER_CREDENTIALS_RELATIVE_URI=/v2/credentials/xxx-xxx-xxx\r\n- CODEBUILD_CI=true\r\n- CODEBUILD_AUTH_TOKEN=xxx-xxx-xxx\r\n- JAVA_8_HOME=/usr/lib/jvm/java-1.8.0-amazon-corretto\r\n- JDK_8_HOME=/usr/lib/jvm/java-1.8.0-amazon-corretto\r\n- CODEBUILD_BUILD_ARN=arn:aws:codebuild:us-east-1:821518525729:build/pipelinePipelinexxx-C-xxx-xxx-xxx\r\n- CODEBUILD_GOPATH=/codebuild/output/src123245\r\n- GOLANG_15_VERSION=1.15.12\r\n- CODEBUILD_BUILD_SUCCEEDING=1\r\n- GOENV_DISABLE_GOPATH=1\r\n- JRE_HOME=/usr/lib/jvm/java-11-amazon-corretto\r\n- CDK_DEFAULT_REGION=us-east-1\r\n- JAVA_11_HOME=/usr/lib/jvm/java-11-amazon-corretto\r\n- PHP_74_VERSION=7.4.13\r\n- CODEBUILD_SOURCE_VERSION=arn:aws:s3:::pipelinexxxstack-pipelinexxxartifacts-1cacuj92rramf/ServiceDeploymentPip/(user)/c1BGqPX\r\n- RUBY_BUILD_SRC_DIR=/usr/local/rbenv/plugins/ruby-build\r\n- JDK_HOME=/usr/lib/jvm/java-11-amazon-corretto\r\n- PWD=/codebuild/output/src12345/src\r\n- CODEBUILD_CONTAINER_NAME=default\r\n- PYTHON_37_VERSION=3.7.10\r\n- CODEBUILD_START_TIME=1642556874326\r\n- CDK_DEFAULT_ACCOUNT=12345\r\n- AWS_REGION=us-east-1\r\n- PYTHON_38_VERSION=3.8.10\r\n- CODEBUILD_BUILD_URL=https://us-east-1.console.aws.amazon.com/codebuild/home?region=us-east-1#/builds/pipelinePipelinexxxSynthC-ofdfmXGrWl5m:xxx-xxx-xxx/view/new\r\n- CDK_OUTDIR=cdk.out\r\n- DOTNET_31_SDK_VERSION=3.1.404\r\n- CODEBUILD_BUILD_ID=pipelinePipelinexxxSynthC-ofdfmXGrWl5m:xxx-xxx-xxx\r\nGOPATH=/go:/codebuild/output/src12345\r\n- CODEBUILD_RESOLVED_SOURCE_VERSION=xxx-xxx-xxx\r\n- OLDPWD=/codebuild/output/src12345/src\r\n- RUBY_26_VERSION=2.6.6\r\n- AWS_STS_REGIONAL_ENDPOINTS=regional\r\n- DOTNET_ROOT=/root/.dotnet\r\n- _PROJECT_CONFIG_HASH=xxx-xxx-xxx\r\n- CODEBUILD_AGENT_ENDPOINT=http://127.0.0.1:port\r\n- LC_CTYPE=C.UTF-8\r\n- JRE_8_HOME=/usr/lib/jvm/java-1.8.0-amazon-corretto/jre\r\n- CODEBUILD_BUILD_IMAGE=aws/codebuild/standard:5.0\r\n- PYYAML_VERSION=5.4.1\r\n- FORCE_COLOR=0\r\n- CODEBUILD_BMR_URL=https://CODEBUILD_AGENT:port\r\n- JAVA_HOME=/usr/lib/jvm/java-11-amazon-corretto\r\n- CODEBUILD_SRC_DIR=/codebuild/output/src12345/src\r\n- AWS_DEFAULT_REGION=us-east-1\r\n- AWS_EXECUTION_ENV=AWS_ECS_EC2\r\n- ECS_CONTAINER_METADATA_URI=http://169.254.170.2/v3/xxx-xxx-xxx\r\n- ECS_CONTAINER_METADATA_URI_V4=http://169.254.170.2/v4/xxx-xxx-xxx\r\n- CODEBUILD_INITIATOR=codepipeline/ServicexxxPipeline\r\n- MAVEN_OPTS= -Dmaven.wagon.httpconnectionManager.maxPerRoute=2\r\n- CDK_CONTEXT_JSON={&quot;@aws-cdk/aws-apigateway:usagePlanKeyOrderInsensitiveId&quot;:true,&quot;@aws-cdk/core:enableStackNameDuplicates&quot;:true,&quot;aws-cdk:enableDiffNoFail&quot;:true,&quot;@aws-cdk/core:stackRelativeExports&quot;:true,&quot;@aws-cdk/aws-ecr-assets:dockerIgnoreSupport&quot;:true,&quot;@aws-cdk/aws-secretsmanager:parseOwnedSecretName&quot;:true,&quot;@aws-cdk/aws-kms:defaultKeyPolicies&quot;:true,&quot;@aws-cdk/aws-s3:grantWriteWithoutAcl&quot;:true,&quot;@aws-cdk/aws-ecs-patterns:removeDefaultDesiredCount&quot;:true,&quot;@aws-cdk/aws-rds:lowercaseDbIdentifier&quot;:true,&quot;@aws-cdk/aws-efs:defaultEncryptionAtRest&quot;:true,&quot;@aws-cdk/aws-lambda:recognizeVersionProps&quot;:true,&quot;@aws-cdk/aws-cloudfront:defaultSecurityPolicyTLSv1.2_2021&quot;:true,&quot;@aws-cdk/core:newStyleStackSynthesis&quot;:true,&quot;aws:cdk:enable-path-metadata&quot;:true,&quot;aws:cdk:enable-asset-metadata&quot;:true,&quot;aws:cdk:version-reporting&quot;:true,&quot;aws:cdk:bundling-stacks&quot;:[]}\r\n- CODEBUILD_LOG_PATH=xxx-xxx-xxx\r\n- CODEBUILD_EXECUTION_ROLE_BUILD=\r\n- CODEBUILD_BUILD_NUMBER=31\r\n- GOLANG_16_VERSION=1.16.4\r\n- PHP_73_VERSION=7.3.25\r\n- CODEBUILD_FE_REPORT_ENDPOINT=https://codebuild.us-east-1.amazonaws.com/\r\n- CODEBUILD_LAST_EXIT=0\r\n- AWS_NODEJS_CONNECTION_REUSE_ENABLED=1\r\n- MAVEN_CMD_LINE_ARGS= -e -q compile exec:java\r\n- NUGET_XMLDOC_MODE=skip\r\n- DOTNET_5_SDK_VERSION=5.0.202\r\n- NODE_12_VERSION=12.22.2\r\n- PYTHON_39_VERSION=3.9.5\r\n- CDK_CLI_VERSION=2.8.0\r\n- NODE_14_VERSION=14.17.2\r\n- MAVEN_PROJECTBASEDIR=/codebuild/output/src12345/src\r\n- CDK_CLI_ASM_VERSION=16.0.0\r\n- JRE_11_HOME=/usr/lib/jvm/java-11-amazon-corretto\r\n- RUBY_27_VERSION=2.7.2\r\n- HOSTNAME=12345\r\n- JDK_11_HOME=/usr/lib/jvm/java-11-amazon-corretto\r\n- CODEBUILD_PROJECT_UUID=xxx-xxx-xxx\r\n- PHP_80_VERSION=8.0.0\r\n- CODEBUILD_KMS_KEY_ID=arn:aws:kms:us-east-1:(account-num):alias/aws/s3\r\n- HOME=/root\r\n","title":"FileNotFoundException for properties file in aws-cdk","body":"<p>I've been trying to read a properties file and want it to be dynamic, I'm doing this in aws-cdk.</p>\n<p>My project layout:</p>\n<ul>\n<li>Main Project\n<ul>\n<li>resources\n<ul>\n<li>config.properties</li>\n</ul>\n</li>\n<li>src\n<ul>\n<li>main/java/com/myorg\n<ul>\n<li>xxxstage.java</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>The class xxxstage.java has following code:</p>\n<pre><code>public class xxxstage extends Stage {\n    public xxxstage(final Construct scope, final String id) {\n        this(scope, id, null);\n    }\n    public xxxstage(final Construct scope, final String id, final StageProps props) {\n        super(scope, id, props);\n\n        String account = null;\n        InputStream inputStream = null;\n\n        try {\n            Properties prop = new Properties();\n            String propFileName = &quot;resources/config.properties&quot;;\n            inputStream = this.getClass().getClassLoader().getResourceAsStream(propFileName);\n            System.out.println(&quot;inputStream is -&gt; &quot;+inputStream);\n \n            if (inputStream != null) {\n                prop.load(inputStream);\n            } else {\n                throw new FileNotFoundException(&quot;property file '&quot; + propFileName + &quot;' not found in the classpath&quot;);\n            }\n \n            // get the property value and print it out\n            account = prop.getProperty(&quot;account.id&quot;);\n \n            System.out.println(&quot;account id -&gt; &quot;+account);\n        } catch (Exception e) {\n            System.out.println(&quot;Exception: &quot; + e);\n        } finally {\n            try{\n                inputStream.close();\n            }\n            catch (Exception e){\n                System.out.println(&quot;Exception: &quot; + e);\n            }\n        }\n\n        new xxxStack(this, &quot;xxxStack&quot;, StackProps.builder()\n        .env(new Environment.Builder()\n                .account(account)\n                .region(&quot;us-east-1&quot;)\n                .build())\n        .build());\n    }\n}\n</code></pre>\n<p>The line where I'm trying to print <code>System.out.println(&quot;inputStream is -&gt; &quot;+inputStream);</code> is showing null, and hence the <code>FileNotFoundException</code>.</p>\n<p>It worth noting that this is working fine when I run it on local java-project, its however failing during build phase of the aws-codepipeline.\nIn the pipeline build phase I'm getting:</p>\n<blockquote>\n<ul>\n<li>inputStream is -&gt; null</li>\n<li>Exception: java.io.FileNotFoundException: property file 'resources/config.properties' not found in the classpath</li>\n<li>Exception: java.lang.NullPointerException</li>\n</ul>\n</blockquote>\n<p>Can someone please help?</p>\n<p><strong>EDIT 1 - Adding environment variables:</strong></p>\n<p><em><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>Environment Vars</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></em></p>\n<ul>\n<li>PATH=/root/.npm/_npx/230/bin:/usr/local/bin/sbt/bin:/root/.phpenv/shims:/root/.phpenv/bin:/root/.goenv/shims:/root/.goenv/bin:/go/bin:/root/.phpenv/shims:/root/.phpenv/bin:/root/.pyenv/shims:/root/.pyenv/bin:/root/.rbenv/shims:/usr/local/rbenv/bin:/usr/local/rbenv/shims:/root/.dotnet/:/root/.dotnet/tools/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/tools:/codebuild/user/bin</li>\n<li>AWS_CONTAINER_CREDENTIALS_RELATIVE_URI=/v2/credentials/xxx-xxx-xxx</li>\n<li>CODEBUILD_CI=true</li>\n<li>CODEBUILD_AUTH_TOKEN=xxx-xxx-xxx</li>\n<li>JAVA_8_HOME=/usr/lib/jvm/java-1.8.0-amazon-corretto</li>\n<li>JDK_8_HOME=/usr/lib/jvm/java-1.8.0-amazon-corretto</li>\n<li>CODEBUILD_BUILD_ARN=arn:aws:codebuild:us-east-1:821518525729:build/pipelinePipelinexxx-C-xxx-xxx-xxx</li>\n<li>CODEBUILD_GOPATH=/codebuild/output/src123245</li>\n<li>GOLANG_15_VERSION=1.15.12</li>\n<li>CODEBUILD_BUILD_SUCCEEDING=1</li>\n<li>GOENV_DISABLE_GOPATH=1</li>\n<li>JRE_HOME=/usr/lib/jvm/java-11-amazon-corretto</li>\n<li>CDK_DEFAULT_REGION=us-east-1</li>\n<li>JAVA_11_HOME=/usr/lib/jvm/java-11-amazon-corretto</li>\n<li>PHP_74_VERSION=7.4.13</li>\n<li>CODEBUILD_SOURCE_VERSION=arn:aws:s3:::pipelinexxxstack-pipelinexxxartifacts-1cacuj92rramf/ServiceDeploymentPip/(user)/c1BGqPX</li>\n<li>RUBY_BUILD_SRC_DIR=/usr/local/rbenv/plugins/ruby-build</li>\n<li>JDK_HOME=/usr/lib/jvm/java-11-amazon-corretto</li>\n<li>PWD=/codebuild/output/src12345/src</li>\n<li>CODEBUILD_CONTAINER_NAME=default</li>\n<li>PYTHON_37_VERSION=3.7.10</li>\n<li>CODEBUILD_START_TIME=1642556874326</li>\n<li>CDK_DEFAULT_ACCOUNT=12345</li>\n<li>AWS_REGION=us-east-1</li>\n<li>PYTHON_38_VERSION=3.8.10</li>\n<li>CODEBUILD_BUILD_URL=https://us-east-1.console.aws.amazon.com/codebuild/home?region=us-east-1#/builds/pipelinePipelinexxxSynthC-ofdfmXGrWl5m:xxx-xxx-xxx/view/new</li>\n<li>CDK_OUTDIR=cdk.out</li>\n<li>DOTNET_31_SDK_VERSION=3.1.404</li>\n<li>CODEBUILD_BUILD_ID=pipelinePipelinexxxSynthC-ofdfmXGrWl5m:xxx-xxx-xxx\nGOPATH=/go:/codebuild/output/src12345</li>\n<li>CODEBUILD_RESOLVED_SOURCE_VERSION=xxx-xxx-xxx</li>\n<li>OLDPWD=/codebuild/output/src12345/src</li>\n<li>RUBY_26_VERSION=2.6.6</li>\n<li>AWS_STS_REGIONAL_ENDPOINTS=regional</li>\n<li>DOTNET_ROOT=/root/.dotnet</li>\n<li>_PROJECT_CONFIG_HASH=xxx-xxx-xxx</li>\n<li>CODEBUILD_AGENT_ENDPOINT=http://127.0.0.1:port</li>\n<li>LC_CTYPE=C.UTF-8</li>\n<li>JRE_8_HOME=/usr/lib/jvm/java-1.8.0-amazon-corretto/jre</li>\n<li>CODEBUILD_BUILD_IMAGE=aws/codebuild/standard:5.0</li>\n<li>PYYAML_VERSION=5.4.1</li>\n<li>FORCE_COLOR=0</li>\n<li>CODEBUILD_BMR_URL=https://CODEBUILD_AGENT:port</li>\n<li>JAVA_HOME=/usr/lib/jvm/java-11-amazon-corretto</li>\n<li>CODEBUILD_SRC_DIR=/codebuild/output/src12345/src</li>\n<li>AWS_DEFAULT_REGION=us-east-1</li>\n<li>AWS_EXECUTION_ENV=AWS_ECS_EC2</li>\n<li>ECS_CONTAINER_METADATA_URI=http://169.254.170.2/v3/xxx-xxx-xxx</li>\n<li>ECS_CONTAINER_METADATA_URI_V4=http://169.254.170.2/v4/xxx-xxx-xxx</li>\n<li>CODEBUILD_INITIATOR=codepipeline/ServicexxxPipeline</li>\n<li>MAVEN_OPTS= -Dmaven.wagon.httpconnectionManager.maxPerRoute=2</li>\n<li>CDK_CONTEXT_JSON={&quot;@aws-cdk/aws-apigateway:usagePlanKeyOrderInsensitiveId&quot;:true,&quot;@aws-cdk/core:enableStackNameDuplicates&quot;:true,&quot;aws-cdk:enableDiffNoFail&quot;:true,&quot;@aws-cdk/core:stackRelativeExports&quot;:true,&quot;@aws-cdk/aws-ecr-assets:dockerIgnoreSupport&quot;:true,&quot;@aws-cdk/aws-secretsmanager:parseOwnedSecretName&quot;:true,&quot;@aws-cdk/aws-kms:defaultKeyPolicies&quot;:true,&quot;@aws-cdk/aws-s3:grantWriteWithoutAcl&quot;:true,&quot;@aws-cdk/aws-ecs-patterns:removeDefaultDesiredCount&quot;:true,&quot;@aws-cdk/aws-rds:lowercaseDbIdentifier&quot;:true,&quot;@aws-cdk/aws-efs:defaultEncryptionAtRest&quot;:true,&quot;@aws-cdk/aws-lambda:recognizeVersionProps&quot;:true,&quot;@aws-cdk/aws-cloudfront:defaultSecurityPolicyTLSv1.2_2021&quot;:true,&quot;@aws-cdk/core:newStyleStackSynthesis&quot;:true,&quot;aws:cdk:enable-path-metadata&quot;:true,&quot;aws:cdk:enable-asset-metadata&quot;:true,&quot;aws:cdk:version-reporting&quot;:true,&quot;aws:cdk:bundling-stacks&quot;:[]}</li>\n<li>CODEBUILD_LOG_PATH=xxx-xxx-xxx</li>\n<li>CODEBUILD_EXECUTION_ROLE_BUILD=</li>\n<li>CODEBUILD_BUILD_NUMBER=31</li>\n<li>GOLANG_16_VERSION=1.16.4</li>\n<li>PHP_73_VERSION=7.3.25</li>\n<li>CODEBUILD_FE_REPORT_ENDPOINT=https://codebuild.us-east-1.amazonaws.com/</li>\n<li>CODEBUILD_LAST_EXIT=0</li>\n<li>AWS_NODEJS_CONNECTION_REUSE_ENABLED=1</li>\n<li>MAVEN_CMD_LINE_ARGS= -e -q compile exec:java</li>\n<li>NUGET_XMLDOC_MODE=skip</li>\n<li>DOTNET_5_SDK_VERSION=5.0.202</li>\n<li>NODE_12_VERSION=12.22.2</li>\n<li>PYTHON_39_VERSION=3.9.5</li>\n<li>CDK_CLI_VERSION=2.8.0</li>\n<li>NODE_14_VERSION=14.17.2</li>\n<li>MAVEN_PROJECTBASEDIR=/codebuild/output/src12345/src</li>\n<li>CDK_CLI_ASM_VERSION=16.0.0</li>\n<li>JRE_11_HOME=/usr/lib/jvm/java-11-amazon-corretto</li>\n<li>RUBY_27_VERSION=2.7.2</li>\n<li>HOSTNAME=12345</li>\n<li>JDK_11_HOME=/usr/lib/jvm/java-11-amazon-corretto</li>\n<li>CODEBUILD_PROJECT_UUID=xxx-xxx-xxx</li>\n<li>PHP_80_VERSION=8.0.0</li>\n<li>CODEBUILD_KMS_KEY_ID=arn:aws:kms:us-east-1:(account-num):alias/aws/s3</li>\n<li>HOME=/root</li>\n</ul>\n"},{"tags":["java","python-3.x","amazon-web-services","machine-learning","amazon-sagemaker"],"answers":[{"tags":[],"owner":{"account_id":6447305,"reputation":511,"user_id":4995441,"display_name":"Tyler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642557950,"creation_date":1642557950,"answer_id":70764515,"question_id":70762596,"body_markdown":"Based on your error, it appears you are using v0.11.2 of the tokenizers module, and the message indicates you should use a version between 0.10.1 and 0.11.\r\n\r\nTry to uninstall the tokenizers module, and then pull an older release via pip... \r\n\r\n    pip install &#39;tokenizers&gt;=0.10.1,&lt;0.11&#39;\r\n\r\nHere are all the release versions for reference: https://pypi.org/project/tokenizers/#history\r\n\r\nAfter you update the module, deploy your lambda function again and see if that does the trick. ","title":"AWS Sagemaker java.lang.IllegalArgumentException","body":"<p>Based on your error, it appears you are using v0.11.2 of the tokenizers module, and the message indicates you should use a version between 0.10.1 and 0.11.</p>\n<p>Try to uninstall the tokenizers module, and then pull an older release via pip...</p>\n<pre><code>pip install 'tokenizers&gt;=0.10.1,&lt;0.11'\n</code></pre>\n<p>Here are all the release versions for reference: <a href=\"https://pypi.org/project/tokenizers/#history\" rel=\"nofollow noreferrer\">https://pypi.org/project/tokenizers/#history</a></p>\n<p>After you update the module, deploy your lambda function again and see if that does the trick.</p>\n"}],"owner":{"account_id":9301616,"reputation":636,"user_id":6906901,"display_name":"sagar1025"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642557950,"creation_date":1642541414,"question_id":70762596,"body_markdown":"I have a SageMaker endpoint. The SageMaker endpoint is being invoked via a Lambda function. Part of that Lambda function code that invokes it is:\r\n\r\n    SM_ENDPOINT_NAME = &quot;pytorch-inference-2021-xx-xx&quot;\r\n    sm_runtime= boto3.client(&#39;runtime.sagemaker&#39;)\r\n    txt = &quot;Canon Compact Photo Printer&quot;\r\n    response = sm_runtime.invoke_endpoint(EndpointName=SM_ENDPOINT_NAME, ContentType=&#39;text/plain&#39;, Body=txt)\r\n    print(response)\r\n\r\nThe `response` does not get logged. It is supposed to return a `vector`\r\n\r\nWhen the Lambda function calls the SageMaker endpoint it times out. I started seeing this error suddenly today in the SageMaker Endpoint logs:\r\n\r\n    java.lang.IllegalArgumentException: reasonPhrase contains one of the following prohibited characters: \\r\\n: tokenizers&gt;=0.10.1,&lt;0.11 is required for a normal functioning of this module, but found tokenizers==0.11.2.\r\n\r\n    Try: pip install transformers -U or pip install -e &#39;.[dev]&#39; if you&#39;re working with git master\r\n\r\n\r\nFor context, The ML Model is supposed to accept a string input and return a `vector` (list). All of my code base is in Python3 . The Java exception seems to be from the SageMaker Backend.\r\n\r\n\r\nI have not updated the SageMaker endpoint or the Lambda function in a few months. This seems like it has to be an issue with SageMaker.\r\n\r\nIs this an issue I can fix or do I need to contact AWS? If so how can I do that?\r\n","title":"AWS Sagemaker java.lang.IllegalArgumentException","body":"<p>I have a SageMaker endpoint. The SageMaker endpoint is being invoked via a Lambda function. Part of that Lambda function code that invokes it is:</p>\n<pre><code>SM_ENDPOINT_NAME = &quot;pytorch-inference-2021-xx-xx&quot;\nsm_runtime= boto3.client('runtime.sagemaker')\ntxt = &quot;Canon Compact Photo Printer&quot;\nresponse = sm_runtime.invoke_endpoint(EndpointName=SM_ENDPOINT_NAME, ContentType='text/plain', Body=txt)\nprint(response)\n</code></pre>\n<p>The <code>response</code> does not get logged. It is supposed to return a <code>vector</code></p>\n<p>When the Lambda function calls the SageMaker endpoint it times out. I started seeing this error suddenly today in the SageMaker Endpoint logs:</p>\n<pre><code>java.lang.IllegalArgumentException: reasonPhrase contains one of the following prohibited characters: \\r\\n: tokenizers&gt;=0.10.1,&lt;0.11 is required for a normal functioning of this module, but found tokenizers==0.11.2.\n\nTry: pip install transformers -U or pip install -e '.[dev]' if you're working with git master\n</code></pre>\n<p>For context, The ML Model is supposed to accept a string input and return a <code>vector</code> (list). All of my code base is in Python3 . The Java exception seems to be from the SageMaker Backend.</p>\n<p>I have not updated the SageMaker endpoint or the Lambda function in a few months. This seems like it has to be an issue with SageMaker.</p>\n<p>Is this an issue I can fix or do I need to contact AWS? If so how can I do that?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":15019503,"reputation":81,"user_id":10841385,"display_name":"Fakhri Khairi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642557918,"creation_date":1642557918,"answer_id":70764509,"question_id":70761343,"body_markdown":"I want to know what value of model.getFeedpic() or model.getProfilepic(). If value of that is name of image, it can not show, when using Glide. Maybe you can upload to firestorage first and then get the url from firestorage.\r\n\r\ntry this to upload the image [upload file to firabase storage][1]\r\n\r\nand than add this code to get url of image from firestorage\r\n\r\n    StorageReference storageReference1 = storageReference.child(System.currentTimeMillis()+ &quot;.&quot;+ GetFileExtension(FilePathUri));\r\n        storageReference1.putFile(FilePathUri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n\r\n                storageReference1.getDownloadUrl().addOnSuccessListener(uri -&gt; { url = uri.toString(); }\r\n\r\n            }\r\n        });\r\n\r\n\r\nSo you can set the value of model.getFeedpic() or model.getProfilepic() is url from firestorage.\r\n\r\nI hope can solve your problem, Thank you\r\n\r\n  [1]: https://firebase.google.com/docs/storage/android/upload-files?hl=id","title":"Tried to retrieve some pictures from database but failed to show images","body":"<p>I want to know what value of model.getFeedpic() or model.getProfilepic(). If value of that is name of image, it can not show, when using Glide. Maybe you can upload to firestorage first and then get the url from firestorage.</p>\n<p>try this to upload the image <a href=\"https://firebase.google.com/docs/storage/android/upload-files?hl=id\" rel=\"nofollow noreferrer\">upload file to firabase storage</a></p>\n<p>and than add this code to get url of image from firestorage</p>\n<pre><code>StorageReference storageReference1 = storageReference.child(System.currentTimeMillis()+ &quot;.&quot;+ GetFileExtension(FilePathUri));\n    storageReference1.putFile(FilePathUri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n        @Override\n        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n\n            storageReference1.getDownloadUrl().addOnSuccessListener(uri -&gt; { url = uri.toString(); }\n\n        }\n    });\n</code></pre>\n<p>So you can set the value of model.getFeedpic() or model.getProfilepic() is url from firestorage.</p>\n<p>I hope can solve your problem, Thank you</p>\n"}],"owner":{"account_id":19351726,"reputation":11,"user_id":14148992,"display_name":"Lutaaya Abdulsalaam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642557918,"creation_date":1642534059,"question_id":70761343,"body_markdown":"  This was my adapter view but glide failed to bring image.i tried running it but does not show pictures\r\n    \r\n   \r\n\r\n    public class myadapter extends FirebaseRecyclerAdapter&lt;Store, myadapter.myviewholder&gt;{\r\n    \r\n        public myadapter(@NonNull FirebaseRecyclerOptions&lt;Store&gt; options) {\r\n            super(options);\r\n        }\r\n    \r\n        @Override\r\n        protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull Store model) {\r\n            holder.feed_news.setText(model.getNewstxt());\r\n            Glide.with(holder.itemView.getContext()).load(model.getFeedpic()).into(holder.feed_pic);\r\n            Glide.with(holder.profile_pic.getContext()).load(model.getProfilepic()).into(holder.profile_pic);\r\n    \r\n    \r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.feed_item,parent,false);\r\n            return new myviewholder(view);\r\n        }\r\n          class myviewholder extends RecyclerView.ViewHolder {\r\n            ShapeableImageView profile_pic;\r\n            ImageView feed_pic;\r\n            TextView feed_news;\r\n            public myviewholder(@NonNull View itemView) {\r\n                super(itemView);\r\n                feed_news =(TextView) itemView.findViewById(R.id.feed_news);\r\n                feed_pic = (ImageView) itemView.findViewById(R.id.feed_pic);\r\n                profile_pic = (ShapeableImageView)itemView.findViewById(R.id.profile_pic);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAnd am looking for some solution on\r\n\r\n```java\r\nGlide.with(holder.itemView.getContext()).load(model.getFeedpic()).into(holder.feed_pic);\r\nGlide.with(holder.profile_pic.getContext()).load(model.getProfilepic()).into(holder.profile_pic);\r\n```\r\n","title":"Tried to retrieve some pictures from database but failed to show images","body":"<p>This was my adapter view but glide failed to bring image.i tried running it but does not show pictures</p>\n<pre><code>public class myadapter extends FirebaseRecyclerAdapter&lt;Store, myadapter.myviewholder&gt;{\n\n    public myadapter(@NonNull FirebaseRecyclerOptions&lt;Store&gt; options) {\n        super(options);\n    }\n\n    @Override\n    protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull Store model) {\n        holder.feed_news.setText(model.getNewstxt());\n        Glide.with(holder.itemView.getContext()).load(model.getFeedpic()).into(holder.feed_pic);\n        Glide.with(holder.profile_pic.getContext()).load(model.getProfilepic()).into(holder.profile_pic);\n\n\n    }\n\n    @NonNull\n    @Override\n    public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.feed_item,parent,false);\n        return new myviewholder(view);\n    }\n      class myviewholder extends RecyclerView.ViewHolder {\n        ShapeableImageView profile_pic;\n        ImageView feed_pic;\n        TextView feed_news;\n        public myviewholder(@NonNull View itemView) {\n            super(itemView);\n            feed_news =(TextView) itemView.findViewById(R.id.feed_news);\n            feed_pic = (ImageView) itemView.findViewById(R.id.feed_pic);\n            profile_pic = (ShapeableImageView)itemView.findViewById(R.id.profile_pic);\n\n        }\n    }\n}\n</code></pre>\n<p>And am looking for some solution on</p>\n<pre class=\"lang-java prettyprint-override\"><code>Glide.with(holder.itemView.getContext()).load(model.getFeedpic()).into(holder.feed_pic);\nGlide.with(holder.profile_pic.getContext()).load(model.getProfilepic()).into(holder.profile_pic);\n</code></pre>\n"},{"tags":["java","graphics","system"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1642558236,"post_id":70764493,"comment_id":125100887,"body_markdown":"Might be related to the systems DPI - may be have a look at [goggle](https://www.google.com/search?client=safari&amp;rls=en&amp;q=java+dpi+scaling&amp;ie=UTF-8&amp;oe=UTF-8)","body":"Might be related to the systems DPI - may be have a look at <a href=\"https://www.google.com/search?client=safari&amp;rls=en&amp;q=java+dpi+scaling&amp;ie=UTF-8&amp;oe=UTF-8\" rel=\"nofollow noreferrer\">goggle</a>"},{"owner":{"account_id":19314335,"reputation":104,"user_id":14119438,"display_name":"Kostas Xafis"},"score":0,"creation_date":1642559034,"post_id":70764493,"comment_id":125101015,"body_markdown":"@MadProgrammer Absolute legend!!!! Thanks a lot! You saved me from a big headache.","body":"@MadProgrammer Absolute legend!!!! Thanks a lot! You saved me from a big headache."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1642559290,"post_id":70764493,"comment_id":125101060,"body_markdown":"Good luck with getting it fixed &#129322;&#129315;","body":"Good luck with getting it fixed 🤪🤣"},{"owner":{"account_id":19314335,"reputation":104,"user_id":14119438,"display_name":"Kostas Xafis"},"score":0,"creation_date":1642594124,"post_id":70764493,"comment_id":125110869,"body_markdown":"I answered both my previous and this question here:  https://stackoverflow.com/q/70760607/14119438","body":"I answered both my previous and this question here:  <a href=\"https://stackoverflow.com/q/70760607/14119438\">stackoverflow.com/q/70760607/14119438</a>"}],"owner":{"account_id":19314335,"reputation":104,"user_id":14119438,"display_name":"Kostas Xafis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642557803,"creation_date":1642557803,"question_id":70764493,"body_markdown":"Continuing from my previous question: (https://stackoverflow.com/questions/70760607/jsvgcanvas-svg-is-blurry),\r\nI remembered that all of the java applications that I have on my laptop have the same problem of text/fonts/icons not rendering correctly. This has happened ONLY in my java applications. Here is a screenshot of my MySQL Workbench: [![image1][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kh1Dw.png\r\nAt first glance it might seem ok, but looking closer you&#39;ll see the almost pixelated text and icons. I also had somewhat of the same problem with Xilinx&#39;s Vivado IDE. Although it wasn&#39;t that bad like MySQL, the drawn schematics were awful. My system is running on a Ryzen 3800U with Vega 8 Graphics with Windows 10-&gt;11 (Had the same problem with both 10 and 11). Can anyone help, or am trying to find a needle in a haystack?","title":"Java applications are not rendered properly on my system","body":"<p>Continuing from my previous question: (<a href=\"https://stackoverflow.com/questions/70760607/jsvgcanvas-svg-is-blurry\">JSVGCanvas svg is blurry</a>),\nI remembered that all of the java applications that I have on my laptop have the same problem of text/fonts/icons not rendering correctly. This has happened ONLY in my java applications. Here is a screenshot of my MySQL Workbench: <a href=\"https://i.stack.imgur.com/kh1Dw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kh1Dw.png\" alt=\"image1\" /></a></p>\n<p>At first glance it might seem ok, but looking closer you'll see the almost pixelated text and icons. I also had somewhat of the same problem with Xilinx's Vivado IDE. Although it wasn't that bad like MySQL, the drawn schematics were awful. My system is running on a Ryzen 3800U with Vega 8 Graphics with Windows 10-&gt;11 (Had the same problem with both 10 and 11). Can anyone help, or am trying to find a needle in a haystack?</p>\n"},{"tags":["java","stringbuilder"],"comments":[{"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"score":1,"creation_date":1393415830,"post_id":22040457,"comment_id":33415370,"body_markdown":"You need to change the approach you&#39;re using for a Calculator. Do not immediately append the values to the `StringBuilder` on user input. Rather do the final string creation when the operation is provided by the user. In any case, IMHO this approach looks a bit broken.","body":"You need to change the approach you&#39;re using for a Calculator. Do not immediately append the values to the <code>StringBuilder</code> on user input. Rather do the final string creation when the operation is provided by the user. In any case, IMHO this approach looks a bit broken."},{"owner":{"account_id":33284,"reputation":1277,"user_id":93065,"accept_rate":75,"display_name":"Sirs"},"score":0,"creation_date":1393415858,"post_id":22040457,"comment_id":33415396,"body_markdown":"For what you&#39;re asking for, you should probably use an ArrayList (or equivalent) of Strings and concatenate them in the end when you&#39;re sure you&#39;re done. StringBuilder&#39;s API doesn&#39;t really contemplate your use case.","body":"For what you&#39;re asking for, you should probably use an ArrayList (or equivalent) of Strings and concatenate them in the end when you&#39;re sure you&#39;re done. StringBuilder&#39;s API doesn&#39;t really contemplate your use case."}],"answers":[{"tags":[],"owner":{"account_id":2861586,"reputation":1333,"user_id":2456732,"accept_rate":72,"display_name":"Mohammad Ashfaq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393415608,"creation_date":1393415608,"answer_id":22040563,"question_id":22040457,"body_markdown":"You can use `delete` method of StringBuilder to remove string, but you have to provide start and end position that you wants to remove.\r\n\r\nFor delete method description:\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#delete(int, int)","title":"Remove appended strings to StringBuilder","body":"<p>You can use <code>delete</code> method of StringBuilder to remove string, but you have to provide start and end position that you wants to remove.</p>\n\n<p>For delete method description:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#delete(int\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#delete(int</a>, int)</p>\n"},{"tags":[],"owner":{"account_id":3685403,"reputation":9772,"user_id":3069254,"display_name":"Jorge_B"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393415674,"creation_date":1393415674,"answer_id":22040589,"question_id":22040457,"body_markdown":"There is no immediate way to do this.  I suggest you append each substring to a `List` or even to a `Stack`, and pop whatever you don&#39;t need out of your data structure.  When you are totally sure about what to present in your `StringBuilder`, start appending to it by running through your `Collection` and putting each substring into your final `StringBuilder`.","title":"Remove appended strings to StringBuilder","body":"<p>There is no immediate way to do this.  I suggest you append each substring to a <code>List</code> or even to a <code>Stack</code>, and pop whatever you don't need out of your data structure.  When you are totally sure about what to present in your <code>StringBuilder</code>, start appending to it by running through your <code>Collection</code> and putting each substring into your final <code>StringBuilder</code>.</p>\n"},{"tags":[],"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393415690,"creation_date":1393415690,"answer_id":22040595,"question_id":22040457,"body_markdown":"I am afraid there isn&#39;t an easy way to do that.\r\n\r\nInstead, you can store your results into an structure you can index, such as an ArrayList&lt;String&gt;() and only construct your result string in the end, when you&#39;re sure about what is the data you want to append to your StringBuilder\r\n\r\n","title":"Remove appended strings to StringBuilder","body":"<p>I am afraid there isn't an easy way to do that.</p>\n\n<p>Instead, you can store your results into an structure you can index, such as an ArrayList() and only construct your result string in the end, when you're sure about what is the data you want to append to your StringBuilder</p>\n"},{"tags":[],"owner":{"account_id":3403175,"reputation":22394,"user_id":2854908,"accept_rate":95,"display_name":"libik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1393415692,"creation_date":1393415692,"answer_id":22040600,"question_id":22040457,"body_markdown":"Once you append it, it becomes &quot;one&quot; and you cant reverse \r\n\r\nHowever you can use this in this case :\r\n\r\n    result.delete(result.lastIndexOf(&quot;+&quot;), result.length());","title":"Remove appended strings to StringBuilder","body":"<p>Once you append it, it becomes \"one\" and you cant reverse </p>\n\n<p>However you can use this in this case :</p>\n\n<pre><code>result.delete(result.lastIndexOf(\"+\"), result.length());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2428191,"reputation":950,"user_id":2119693,"display_name":"Rikke Bendlin Gammelmark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393415807,"creation_date":1393415807,"answer_id":22040645,"question_id":22040457,"body_markdown":"For your specific example, where each dollar amount is seperated by a &#39;+&#39; character, I would go for the split method in the String class, after having made the string from the StringBuilder. If you could be a bit more specific about why you want to remove the strings again, that would help in choosing the right solution.\r\n\r\nI guess what you are really looking for is a remove method on a StringBuilder object, but I am afraid such a thing does not exist.","title":"Remove appended strings to StringBuilder","body":"<p>For your specific example, where each dollar amount is seperated by a '+' character, I would go for the split method in the String class, after having made the string from the StringBuilder. If you could be a bit more specific about why you want to remove the strings again, that would help in choosing the right solution.</p>\n\n<p>I guess what you are really looking for is a remove method on a StringBuilder object, but I am afraid such a thing does not exist.</p>\n"},{"tags":[],"owner":{"account_id":2075948,"reputation":52334,"user_id":4233197,"accept_rate":55,"display_name":"Hiren Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507107717,"creation_date":1507107717,"answer_id":46560933,"question_id":22040457,"body_markdown":"As per your question there it **doesn&#39;t required remove characters** from **output String**.\r\n\r\nSince **Java 8** new **StringJoiner** class has been introduced.\r\n\r\n    StringJoiner stringJoiner = new StringJoiner(&quot;, &quot;);\r\n    for (String item : itemList) {\r\n        stringJoiner.add(item)\r\n    }\r\n\r\nFor more information please read [StringJoiner][1].\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html","title":"Remove appended strings to StringBuilder","body":"<p>As per your question there it <strong>doesn't required remove characters</strong> from <strong>output String</strong>.</p>\n\n<p>Since <strong>Java 8</strong> new <strong>StringJoiner</strong> class has been introduced.</p>\n\n<pre><code>StringJoiner stringJoiner = new StringJoiner(\", \");\nfor (String item : itemList) {\n    stringJoiner.add(item)\n}\n</code></pre>\n\n<p>For more information please read <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"nofollow noreferrer\">StringJoiner</a>.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":6988000,"reputation":1,"user_id":5358181,"display_name":"Fanlu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642557588,"creation_date":1642557588,"answer_id":70764472,"question_id":22040457,"body_markdown":"There&#39;s one convenient way to remove if you are able to store the length of the StringBuilder before appending.\r\n```java\r\nresult.append(&quot;$10.00&quot;);\r\nint len = result.length();\r\nresult.append(&quot;+&quot; + &quot;$20.00&quot;);\r\n// remove what is appended\r\nresult.setLength(len);\r\n\r\n```","title":"Remove appended strings to StringBuilder","body":"<p>There's one convenient way to remove if you are able to store the length of the StringBuilder before appending.</p>\n<pre class=\"lang-java prettyprint-override\"><code>result.append(&quot;$10.00&quot;);\nint len = result.length();\nresult.append(&quot;+&quot; + &quot;$20.00&quot;);\n// remove what is appended\nresult.setLength(len);\n\n</code></pre>\n"}],"owner":{"account_id":331804,"reputation":3008,"user_id":656718,"accept_rate":38,"display_name":"SleepNot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5159,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":7,"score":3,"last_activity_date":1642557588,"creation_date":1393415362,"question_id":22040457,"body_markdown":"How do I remove the previously appended strings to my String Builder? If I have for example\r\n\r\n    result.append(&quot;$10.00&quot;);\r\n    result.append(&quot;+&quot; + &quot;$20.00&quot;);\r\n    result.append(&quot;+&quot; + &quot;$5.00&quot;);\r\n\r\nHow do I remove $5 and $20 respectively from a string which is now &quot;`$10.00 + $20.00 + $5.00`&quot;?","title":"Remove appended strings to StringBuilder","body":"<p>How do I remove the previously appended strings to my String Builder? If I have for example</p>\n\n<pre><code>result.append(\"$10.00\");\nresult.append(\"+\" + \"$20.00\");\nresult.append(\"+\" + \"$5.00\");\n</code></pre>\n\n<p>How do I remove $5 and $20 respectively from a string which is now \"<code>$10.00 + $20.00 + $5.00</code>\"?</p>\n"},{"tags":["java","runnable"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1642540382,"post_id":70762320,"comment_id":125097021,"body_markdown":"The first thing to learn is, Swing is not thread safe.  This means you shouldn&#39;t be using threads to modify the state of the UI. See [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for more details","body":"The first thing to learn is, Swing is not thread safe.  This means you shouldn&#39;t be using threads to modify the state of the UI. See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> for more details"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642557389,"creation_date":1642541595,"answer_id":70762625,"question_id":70762320,"body_markdown":"# What&#39;s going wrong...\r\n\r\n    if (x &lt; width) {\r\n        x = +10;\r\n    } else if (x &gt;= 0) {\r\n        x = -10;\r\n    }\r\n\r\nSo, the above code is simply assigning either `-10` or `+10` to the `x` variable, it never increments/decrements the value.  Use `+=` and `-=` instead\r\n\r\n    if (x &lt; width) {\r\n        x += 10;\r\n    } else if (x &gt;= 0) {\r\n        x -= 10;\r\n    }\r\n\r\nThis will solve the immediate issue, but create a new one.  It would be better to have a simple delta which was either positive or negative and is then simply applied to the variable\r\n\r\n    x += delta; // +/- speed\r\n    if (x + 20 &gt;= width) {\r\n        x = width - 20;\r\n        delta *= -1\r\n    } ...\r\n\r\n# Additional fixes\r\n\r\nSwing is not thread, you should not be using threads to change the state of the UI.  Start by having a look at [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for more details.\r\n\r\nYou should also have a look at [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) as you should be preferring `paintComponent` over `paint`\r\n\r\nThe following is a rewrite of your example using a Swing `Timer`\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.ButtonGroup;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JToggleButton;\r\n    import javax.swing.Timer;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        protected class TestPane extends JPanel {\r\n\r\n            private AnimationPanel animationPane;\r\n\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());            \r\n                animationPane = new AnimationPanel();            \r\n                add(animationPane);\r\n\r\n                JToggleButton pauseButton = new JToggleButton(&quot;Pause&quot;);\r\n                pauseButton.setSelected(true);\r\n                pauseButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        animationPane.setPaused(pauseButton.isSelected());\r\n                    }\r\n                });\r\n\r\n                JButton fasterButton = new JButton(&quot;Faster&quot;);\r\n                fasterButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        animationPane.setSpeed(animationPane.getSpeed() * 2);\r\n                    }\r\n                });\r\n                JButton slowerButton = new JButton(&quot;Slower&quot;);\r\n                slowerButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        animationPane.setSpeed(animationPane.getSpeed() / 2);\r\n                    }\r\n                });\r\n\r\n                JToggleButton horizontalButton = new JToggleButton(&quot;Horizontal&quot;);\r\n                JToggleButton verticalButton = new JToggleButton(&quot;Vertical&quot;);\r\n\r\n                horizontalButton.setSelected(true);\r\n\r\n                ButtonGroup bg = new ButtonGroup();\r\n                bg.add(horizontalButton);\r\n                bg.add(verticalButton);\r\n\r\n                horizontalButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        animationPane.setLeftToRight(horizontalButton.isSelected());\r\n                    }\r\n                });\r\n\r\n                verticalButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        animationPane.setLeftToRight(!verticalButton.isSelected());\r\n                    }\r\n                });\r\n\r\n                JPanel actionPane = new JPanel();\r\n                actionPane.add(pauseButton);\r\n                actionPane.add(slowerButton);\r\n                actionPane.add(fasterButton);\r\n                actionPane.add(horizontalButton);\r\n                actionPane.add(verticalButton);\r\n\r\n                add(actionPane, BorderLayout.SOUTH);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        public class AnimationPanel extends JPanel {\r\n\r\n            public int getSpeed() {\r\n                return speed;\r\n            }\r\n\r\n            public void setSpeed(int speed) {\r\n                this.speed = speed;\r\n            }\r\n\r\n            public boolean isLeftToRight() {\r\n                return isLeftToRight;\r\n            }\r\n\r\n            public void setLeftToRight(boolean isLeftToRight) {\r\n                this.isLeftToRight = isLeftToRight;\r\n            }\r\n\r\n            private boolean paused = true;\r\n            private int speed = 10;\r\n\r\n            private boolean isLeftToRight = true;\r\n\r\n            private Point origin = new Point(190, 190);\r\n\r\n            private Timer timer;\r\n\r\n            public AnimationPanel() {\r\n                timer = new Timer(16, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        movement();\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(Color.BLUE);\r\n                g2d.fillOval(origin.x, origin.y, 20, 20);\r\n                g2d.dispose();\r\n            }\r\n\r\n            public boolean isPaused() {\r\n                return paused;\r\n            }\r\n\r\n            public void setPaused(boolean paused) {\r\n                this.paused = paused;\r\n                if (paused) {\r\n                    timer.stop();\r\n                } else {\r\n                    timer.start();\r\n                }\r\n            }\r\n\r\n            public void movement() {\r\n\r\n                int height = this.getHeight();\r\n                int width = this.getWidth();\r\n\r\n                if (isLeftToRight) {\r\n                    origin.x += speed;\r\n                    if (origin.x + 20 &gt;= width) {\r\n                        speed *= -1;\r\n                        origin.x = width - 20;\r\n                    } else if (origin.x &lt;= 0) {\r\n                        speed *= -1;\r\n                        origin.x = 0;\r\n                    }\r\n                } else {\r\n                    origin.y += speed;\r\n                    if (origin.y + 20 &gt;= height) {\r\n                        speed *= -1;\r\n                        origin.y = height - 20;\r\n                    } else if (origin.y &lt;= 0) {\r\n                        speed *= -1;\r\n                        origin.y = 0;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n# A &quot;different&quot; approach\r\n\r\nI don&#39;t like delta based animations, I think they are shorted sighted and they generally produce bad results.  Where possible, I prefer to make use of time based animations.  That is, based on a given time, move the object over a given range.\r\n\r\nWhen done right, this is really flexible.  It allows the system to drop frames automatically without the animation &quot;stalling&quot; and generally produces nicer animation which is generally easier to manage and maintained.\r\n\r\nThis does, however, introduce more complexity, but if you spend the time to generalise the workflows, they can be re-used relatively easily.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.geom.Ellipse2D;\r\n    import java.awt.geom.Line2D;\r\n    import java.awt.geom.Point2D;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import javax.swing.ButtonGroup;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JToggleButton;\r\n    import javax.swing.Timer;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        protected class TestPane extends JPanel {\r\n\r\n            private AnimationPanel animationPane;\r\n\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n                animationPane = new AnimationPanel();\r\n                add(animationPane);\r\n\r\n                JToggleButton pauseButton = new JToggleButton(&quot;Run&quot;);\r\n                pauseButton.setSelected(true);\r\n                pauseButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (pauseButton.isSelected()) {\r\n                            pauseButton.setText(&quot;Run&quot;);\r\n                        } else {\r\n                            pauseButton.setText(&quot;Pause&quot;);\r\n                        }\r\n                        animationPane.setPaused(pauseButton.isSelected());\r\n                    }\r\n                });\r\n\r\n    //            JButton fasterButton = new JButton(&quot;Faster&quot;);\r\n    //            fasterButton.addActionListener(new ActionListener() {\r\n    //                @Override\r\n    //                public void actionPerformed(ActionEvent e) {\r\n    //                    animationPane.setSpeed(animationPane.getSpeed() * 2);\r\n    //                }\r\n    //            });\r\n    //            JButton slowerButton = new JButton(&quot;Slower&quot;);\r\n    //            slowerButton.addActionListener(new ActionListener() {\r\n    //                @Override\r\n    //                public void actionPerformed(ActionEvent e) {\r\n    //                    animationPane.setSpeed(animationPane.getSpeed() / 2);\r\n    //                }\r\n    //            });\r\n\r\n                JToggleButton horizontalButton = new JToggleButton(&quot;Horizontal&quot;);\r\n                JToggleButton verticalButton = new JToggleButton(&quot;Vertical&quot;);\r\n\r\n                horizontalButton.setSelected(true);\r\n\r\n                ButtonGroup bg = new ButtonGroup();\r\n                bg.add(horizontalButton);\r\n                bg.add(verticalButton);\r\n\r\n    //            horizontalButton.addActionListener(new ActionListener() {\r\n    //                @Override\r\n    //                public void actionPerformed(ActionEvent e) {\r\n    //                    animationPane.setLeftToRight(horizontalButton.isSelected());\r\n    //                }\r\n    //            });\r\n    //\r\n    //            verticalButton.addActionListener(new ActionListener() {\r\n    //                @Override\r\n    //                public void actionPerformed(ActionEvent e) {\r\n    //                    animationPane.setLeftToRight(!verticalButton.isSelected());\r\n    //                }\r\n    //            });\r\n\r\n                JPanel actionPane = new JPanel();\r\n                actionPane.add(pauseButton);\r\n    //            actionPane.add(slowerButton);\r\n    //            actionPane.add(fasterButton);\r\n    //            actionPane.add(horizontalButton);\r\n    //            actionPane.add(verticalButton);\r\n\r\n                add(actionPane, BorderLayout.SOUTH);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        public class AnimationPanel extends JPanel {\r\n\r\n            public enum Direction {\r\n                VERTICAL, HORIZONTAL\r\n            }\r\n\r\n            private Direction direction = Direction.HORIZONTAL;\r\n\r\n            private Point2D origin = new Point2D.Double(200, 200);\r\n\r\n            private Animator animator;\r\n\r\n            private Range&lt;Double&gt; range;\r\n\r\n            private Duration duration = Duration.ofSeconds(5);\r\n\r\n            private Ellipse2D dot = new Ellipse2D.Double(0, 0, 20, 20);\r\n\r\n            public AnimationPanel() {\r\n                animator = new Animator(new Animator.Observer() {\r\n                    @Override\r\n                    public void animatorDidTick(Animator animator, double progress) {\r\n                        double nextValue = range.valueAt(progress);\r\n                        if (direction == Direction.HORIZONTAL) {\r\n                            origin.setLocation(nextValue, origin.getY());\r\n                        }\r\n                        repaint();\r\n                    }\r\n\r\n                    @Override\r\n                    public void animatorDidComplete(Animator animator) {\r\n                        double targetPoint = range.getTo();\r\n                        if (direction == Direction.HORIZONTAL) {\r\n                            range = getDotHorizontalRange();\r\n                            if (targetPoint != range.getFrom()) {\r\n                                range.reverse();\r\n                            }\r\n                        }\r\n                        animator.setDuration(duration);\r\n                        resume();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(Color.BLUE);\r\n\r\n                g2d.drawRect(0, 0, getWidth() - 1, getHeight() - 1);\r\n                g2d.draw(new Line2D.Double(0, getHeight() / 2, getWidth(), getHeight() / 2));\r\n                g2d.draw(new Line2D.Double(getWidth() / 2, 0, getWidth() / 2, getHeight()));\r\n\r\n                g2d.translate(origin.getX() - (dot.getWidth() / 2d), origin.getY() - (dot.getHeight() / 2d));\r\n                g2d.fill(dot);\r\n                g2d.dispose();\r\n            }\r\n\r\n            protected Range&lt;Double&gt; getDotHorizontalRange() {\r\n                return new DoubleRange(dot.getWidth() / 2, getWidth() - (dot.getWidth() / 2));\r\n            }\r\n\r\n            protected double getHorizontalRangeDistance() {\r\n                return ((DoubleRange)getDotHorizontalRange()).getDistance();\r\n            }\r\n\r\n            public void setPaused(boolean paused) {\r\n                if (paused) {\r\n                    animator.pause();\r\n                } else {\r\n                    if (range == null) {\r\n                        initialiseRange();\r\n                    }\r\n                    animator.resume();\r\n                }\r\n            }\r\n\r\n            protected void resume() {\r\n                if (range == null) {\r\n                    // Try and force a restart...\r\n                    setPaused(false);\r\n                }\r\n                animator.resume();\r\n            }\r\n\r\n            protected void initialiseRange() {\r\n                if (direction == Direction.HORIZONTAL) {\r\n                    double currentX = origin.getX();\r\n                    // Assume a positive intial direction\r\n                    double avaliableRange = Math.abs(getHorizontalRangeDistance());\r\n                    double distance = avaliableRange - currentX;\r\n                    int remainingTime = (int)(duration.toMillis() * (distance / avaliableRange));\r\n                    animator.setDuration(Duration.ofMillis(remainingTime));\r\n                    range = new DoubleRange((double)currentX, getDotHorizontalRange().getTo());\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        public abstract class Range&lt;T&gt; {\r\n\r\n            private T from;\r\n            private T to;\r\n\r\n            public Range(T from, T to) {\r\n                this.from = from;\r\n                this.to = to;\r\n            }\r\n\r\n            public T getFrom() {\r\n                return from;\r\n            }\r\n\r\n            public T getTo() {\r\n                return to;\r\n            }\r\n\r\n            @Override\r\n            public String toString() {\r\n                return &quot;From &quot; + getFrom() + &quot; to &quot; + getTo();\r\n            }\r\n\r\n            public abstract T valueAt(double progress);\r\n\r\n            public void reverse() {\r\n                T nextFrom = to;\r\n                to = from;\r\n                from = nextFrom;\r\n            }\r\n\r\n        }\r\n\r\n        public class DoubleRange extends Range&lt;Double&gt; {\r\n\r\n            public DoubleRange(Double from, Double to) {\r\n                super(from, to);\r\n            }\r\n\r\n            public Double getDistance() {\r\n                return getTo() - getFrom();\r\n            }\r\n\r\n            @Override\r\n            public Double valueAt(double progress) {\r\n                double distance = getDistance();\r\n                double value = distance * progress;\r\n                value += getFrom();\r\n                return value;\r\n            }\r\n\r\n        }\r\n\r\n        public class Animator {\r\n\r\n            public enum State {\r\n                STOP, PAUSE, RUN\r\n            }\r\n\r\n            public interface Observer {\r\n\r\n                public void animatorDidTick(Animator animator, double progress);\r\n\r\n                public void animatorDidComplete(Animator animator);\r\n            }\r\n\r\n            private Duration duration = Duration.ofSeconds(5);\r\n            // Used to manage pause support.  This will be\r\n            // added onto the &quot;live&quot; runtime when the\r\n            // animator is running\r\n            private Duration previousRuntime = Duration.ZERO;\r\n\r\n            private Instant epoch;\r\n\r\n            private Observer observer;\r\n\r\n            private State state = State.STOP;\r\n\r\n            // This is actually used to manage the &quot;ticks&quot;\r\n            private Timer ticker = new Timer(5, new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    if (epoch == null) {\r\n                        epoch = Instant.now();\r\n                    }\r\n                    double progress = getProgressAtCurrentTime();\r\n                    observer.animatorDidTick(Animator.this, Math.max(0, Math.min(1.0, progress)));\r\n                    if (progress &gt;= 1.0) {\r\n                        progress = 1.0;\r\n                        stop();\r\n                        observer.animatorDidComplete(Animator.this);\r\n                    }\r\n                }\r\n            });\r\n\r\n            public Animator(Observer observer) {\r\n                this.observer = observer;\r\n            }\r\n\r\n            public void setDuration(Duration duration) {\r\n                this.duration = duration;\r\n            }\r\n\r\n            public boolean isPaused() {\r\n                return state == State.PAUSE;\r\n            }\r\n\r\n            public boolean isRunning() {\r\n                return state == State.RUN;\r\n            }\r\n\r\n            public boolean isStopped() {\r\n                return state == State.STOP;\r\n            }\r\n\r\n            public void pause() {\r\n                ticker.stop();\r\n                if (epoch != null) {\r\n                    Duration runtime = Duration.between(epoch, Instant.now());\r\n                    previousRuntime = previousRuntime.plus(runtime);\r\n                    state = State.PAUSE;\r\n                }\r\n                epoch = null;\r\n            }\r\n\r\n            public void resume() {\r\n                state = State.RUN;\r\n                ticker.start();\r\n            }\r\n\r\n            protected double getProgressAtCurrentTime() {\r\n                Duration runtime = Duration.ZERO;\r\n                if (epoch != null) {\r\n                    // The delta time between when we started and now\r\n                    runtime = Duration.between(epoch, Instant.now());\r\n                }\r\n\r\n                // Plus any additonal time which was recored\r\n                runtime = runtime.plus(previousRuntime);\r\n\r\n                return runtime.toMillis() / (double) duration.toMillis();\r\n            }\r\n\r\n            // This is for internal reset purposes\r\n            protected void stop() {\r\n                ticker.stop();\r\n                state = State.STOP;\r\n                previousRuntime = Duration.ZERO;\r\n                epoch = null;\r\n            }\r\n        }\r\n    }\r\n\r\nThe above example makes use of a concept of &quot;normalised&quot; time.  That is, any given animation transitions over a time range of 0-1.  This makes it incredibly easy to change the speed.  Want to to go faster?  Decrease the duration.  Slower?  Increase the duration.  Everything else is done by simply calculating the required properties against a &quot;from&quot; and &quot;to&quot; state and the current &quot;normalised time&quot; value.\r\n\r\nFor example, look at the animation above.  The dot starts at the halfway point, but the time it takes to get to the other side is no different then the time it takes to return ALL the way to far side (the speed doesn&#39;t change), this is because, the initial duration is calculated based on a delta of the whole range and the current position (that is, the initial duration is 50% of the desired duration).\r\n\r\nThe above example also allows you to &quot;pause&quot; the running animation and when it resumes, it will continue as if nothing happened.\r\n\r\nAnimation, I mean, really good animation, is complicated.  Don&#39;t believe me, take a look at https://stackoverflow.com/questions/70718553/move-dot-between-2-points-jframe/70718933#70718933 (which I&#39;ve spent the last few days building out as personal projects to run in [Java](https://github.com/RustyKnight/BounceImagePixel) and [MacOS](https://github.com/RustyKnight/BounceImagePixelMacOS), because apparently I don&#39;t have a live) and https://stackoverflow.com/questions/28335787/how-can-i-implement-easing-functions-with-a-thread/28338188#28338188 which takes a deep dive into just one aspect of the animation theory and don&#39;t even get me started on &quot;time line&quot; animation.\r\n\r\n  [1]: https://i.stack.imgur.com/aAym3.gif","title":"The oval is not moving when I use thread in java implementing runnable Question","body":"<h1>What's going wrong...</h1>\n<pre><code>if (x &lt; width) {\n    x = +10;\n} else if (x &gt;= 0) {\n    x = -10;\n}\n</code></pre>\n<p>So, the above code is simply assigning either <code>-10</code> or <code>+10</code> to the <code>x</code> variable, it never increments/decrements the value.  Use <code>+=</code> and <code>-=</code> instead</p>\n<pre><code>if (x &lt; width) {\n    x += 10;\n} else if (x &gt;= 0) {\n    x -= 10;\n}\n</code></pre>\n<p>This will solve the immediate issue, but create a new one.  It would be better to have a simple delta which was either positive or negative and is then simply applied to the variable</p>\n<pre><code>x += delta; // +/- speed\nif (x + 20 &gt;= width) {\n    x = width - 20;\n    delta *= -1\n} ...\n</code></pre>\n<h1>Additional fixes</h1>\n<p>Swing is not thread, you should not be using threads to change the state of the UI.  Start by having a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> for more details.</p>\n<p>You should also have a look at <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> as you should be preferring <code>paintComponent</code> over <code>paint</code></p>\n<p>The following is a rewrite of your example using a Swing <code>Timer</code></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.ButtonGroup;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JToggleButton;\nimport javax.swing.Timer;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    protected class TestPane extends JPanel {\n\n        private AnimationPanel animationPane;\n\n        public TestPane() {\n            setLayout(new BorderLayout());            \n            animationPane = new AnimationPanel();            \n            add(animationPane);\n\n            JToggleButton pauseButton = new JToggleButton(&quot;Pause&quot;);\n            pauseButton.setSelected(true);\n            pauseButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    animationPane.setPaused(pauseButton.isSelected());\n                }\n            });\n\n            JButton fasterButton = new JButton(&quot;Faster&quot;);\n            fasterButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    animationPane.setSpeed(animationPane.getSpeed() * 2);\n                }\n            });\n            JButton slowerButton = new JButton(&quot;Slower&quot;);\n            slowerButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    animationPane.setSpeed(animationPane.getSpeed() / 2);\n                }\n            });\n\n            JToggleButton horizontalButton = new JToggleButton(&quot;Horizontal&quot;);\n            JToggleButton verticalButton = new JToggleButton(&quot;Vertical&quot;);\n\n            horizontalButton.setSelected(true);\n\n            ButtonGroup bg = new ButtonGroup();\n            bg.add(horizontalButton);\n            bg.add(verticalButton);\n\n            horizontalButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    animationPane.setLeftToRight(horizontalButton.isSelected());\n                }\n            });\n\n            verticalButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    animationPane.setLeftToRight(!verticalButton.isSelected());\n                }\n            });\n\n            JPanel actionPane = new JPanel();\n            actionPane.add(pauseButton);\n            actionPane.add(slowerButton);\n            actionPane.add(fasterButton);\n            actionPane.add(horizontalButton);\n            actionPane.add(verticalButton);\n\n            add(actionPane, BorderLayout.SOUTH);\n\n        }\n\n    }\n\n    public class AnimationPanel extends JPanel {\n\n        public int getSpeed() {\n            return speed;\n        }\n\n        public void setSpeed(int speed) {\n            this.speed = speed;\n        }\n\n        public boolean isLeftToRight() {\n            return isLeftToRight;\n        }\n\n        public void setLeftToRight(boolean isLeftToRight) {\n            this.isLeftToRight = isLeftToRight;\n        }\n\n        private boolean paused = true;\n        private int speed = 10;\n\n        private boolean isLeftToRight = true;\n\n        private Point origin = new Point(190, 190);\n\n        private Timer timer;\n\n        public AnimationPanel() {\n            timer = new Timer(16, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    movement();\n                    repaint();\n                }\n            });\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(Color.BLUE);\n            g2d.fillOval(origin.x, origin.y, 20, 20);\n            g2d.dispose();\n        }\n\n        public boolean isPaused() {\n            return paused;\n        }\n\n        public void setPaused(boolean paused) {\n            this.paused = paused;\n            if (paused) {\n                timer.stop();\n            } else {\n                timer.start();\n            }\n        }\n\n        public void movement() {\n\n            int height = this.getHeight();\n            int width = this.getWidth();\n\n            if (isLeftToRight) {\n                origin.x += speed;\n                if (origin.x + 20 &gt;= width) {\n                    speed *= -1;\n                    origin.x = width - 20;\n                } else if (origin.x &lt;= 0) {\n                    speed *= -1;\n                    origin.x = 0;\n                }\n            } else {\n                origin.y += speed;\n                if (origin.y + 20 &gt;= height) {\n                    speed *= -1;\n                    origin.y = height - 20;\n                } else if (origin.y &lt;= 0) {\n                    speed *= -1;\n                    origin.y = 0;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<h1>A &quot;different&quot; approach</h1>\n<p>I don't like delta based animations, I think they are shorted sighted and they generally produce bad results.  Where possible, I prefer to make use of time based animations.  That is, based on a given time, move the object over a given range.</p>\n<p>When done right, this is really flexible.  It allows the system to drop frames automatically without the animation &quot;stalling&quot; and generally produces nicer animation which is generally easier to manage and maintained.</p>\n<p>This does, however, introduce more complexity, but if you spend the time to generalise the workflows, they can be re-used relatively easily.</p>\n<p><a href=\"https://i.stack.imgur.com/aAym3.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aAym3.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.Line2D;\nimport java.awt.geom.Point2D;\nimport java.time.Duration;\nimport java.time.Instant;\nimport javax.swing.ButtonGroup;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JToggleButton;\nimport javax.swing.Timer;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    protected class TestPane extends JPanel {\n\n        private AnimationPanel animationPane;\n\n        public TestPane() {\n            setLayout(new BorderLayout());\n            animationPane = new AnimationPanel();\n            add(animationPane);\n\n            JToggleButton pauseButton = new JToggleButton(&quot;Run&quot;);\n            pauseButton.setSelected(true);\n            pauseButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (pauseButton.isSelected()) {\n                        pauseButton.setText(&quot;Run&quot;);\n                    } else {\n                        pauseButton.setText(&quot;Pause&quot;);\n                    }\n                    animationPane.setPaused(pauseButton.isSelected());\n                }\n            });\n\n//            JButton fasterButton = new JButton(&quot;Faster&quot;);\n//            fasterButton.addActionListener(new ActionListener() {\n//                @Override\n//                public void actionPerformed(ActionEvent e) {\n//                    animationPane.setSpeed(animationPane.getSpeed() * 2);\n//                }\n//            });\n//            JButton slowerButton = new JButton(&quot;Slower&quot;);\n//            slowerButton.addActionListener(new ActionListener() {\n//                @Override\n//                public void actionPerformed(ActionEvent e) {\n//                    animationPane.setSpeed(animationPane.getSpeed() / 2);\n//                }\n//            });\n\n            JToggleButton horizontalButton = new JToggleButton(&quot;Horizontal&quot;);\n            JToggleButton verticalButton = new JToggleButton(&quot;Vertical&quot;);\n\n            horizontalButton.setSelected(true);\n\n            ButtonGroup bg = new ButtonGroup();\n            bg.add(horizontalButton);\n            bg.add(verticalButton);\n\n//            horizontalButton.addActionListener(new ActionListener() {\n//                @Override\n//                public void actionPerformed(ActionEvent e) {\n//                    animationPane.setLeftToRight(horizontalButton.isSelected());\n//                }\n//            });\n//\n//            verticalButton.addActionListener(new ActionListener() {\n//                @Override\n//                public void actionPerformed(ActionEvent e) {\n//                    animationPane.setLeftToRight(!verticalButton.isSelected());\n//                }\n//            });\n\n            JPanel actionPane = new JPanel();\n            actionPane.add(pauseButton);\n//            actionPane.add(slowerButton);\n//            actionPane.add(fasterButton);\n//            actionPane.add(horizontalButton);\n//            actionPane.add(verticalButton);\n\n            add(actionPane, BorderLayout.SOUTH);\n\n        }\n\n    }\n\n    public class AnimationPanel extends JPanel {\n\n        public enum Direction {\n            VERTICAL, HORIZONTAL\n        }\n\n        private Direction direction = Direction.HORIZONTAL;\n\n        private Point2D origin = new Point2D.Double(200, 200);\n\n        private Animator animator;\n\n        private Range&lt;Double&gt; range;\n\n        private Duration duration = Duration.ofSeconds(5);\n\n        private Ellipse2D dot = new Ellipse2D.Double(0, 0, 20, 20);\n\n        public AnimationPanel() {\n            animator = new Animator(new Animator.Observer() {\n                @Override\n                public void animatorDidTick(Animator animator, double progress) {\n                    double nextValue = range.valueAt(progress);\n                    if (direction == Direction.HORIZONTAL) {\n                        origin.setLocation(nextValue, origin.getY());\n                    }\n                    repaint();\n                }\n\n                @Override\n                public void animatorDidComplete(Animator animator) {\n                    double targetPoint = range.getTo();\n                    if (direction == Direction.HORIZONTAL) {\n                        range = getDotHorizontalRange();\n                        if (targetPoint != range.getFrom()) {\n                            range.reverse();\n                        }\n                    }\n                    animator.setDuration(duration);\n                    resume();\n                }\n            });\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(Color.BLUE);\n\n            g2d.drawRect(0, 0, getWidth() - 1, getHeight() - 1);\n            g2d.draw(new Line2D.Double(0, getHeight() / 2, getWidth(), getHeight() / 2));\n            g2d.draw(new Line2D.Double(getWidth() / 2, 0, getWidth() / 2, getHeight()));\n\n            g2d.translate(origin.getX() - (dot.getWidth() / 2d), origin.getY() - (dot.getHeight() / 2d));\n            g2d.fill(dot);\n            g2d.dispose();\n        }\n\n        protected Range&lt;Double&gt; getDotHorizontalRange() {\n            return new DoubleRange(dot.getWidth() / 2, getWidth() - (dot.getWidth() / 2));\n        }\n\n        protected double getHorizontalRangeDistance() {\n            return ((DoubleRange)getDotHorizontalRange()).getDistance();\n        }\n\n        public void setPaused(boolean paused) {\n            if (paused) {\n                animator.pause();\n            } else {\n                if (range == null) {\n                    initialiseRange();\n                }\n                animator.resume();\n            }\n        }\n\n        protected void resume() {\n            if (range == null) {\n                // Try and force a restart...\n                setPaused(false);\n            }\n            animator.resume();\n        }\n\n        protected void initialiseRange() {\n            if (direction == Direction.HORIZONTAL) {\n                double currentX = origin.getX();\n                // Assume a positive intial direction\n                double avaliableRange = Math.abs(getHorizontalRangeDistance());\n                double distance = avaliableRange - currentX;\n                int remainingTime = (int)(duration.toMillis() * (distance / avaliableRange));\n                animator.setDuration(Duration.ofMillis(remainingTime));\n                range = new DoubleRange((double)currentX, getDotHorizontalRange().getTo());\n            }\n        }\n\n    }\n\n    public abstract class Range&lt;T&gt; {\n\n        private T from;\n        private T to;\n\n        public Range(T from, T to) {\n            this.from = from;\n            this.to = to;\n        }\n\n        public T getFrom() {\n            return from;\n        }\n\n        public T getTo() {\n            return to;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;From &quot; + getFrom() + &quot; to &quot; + getTo();\n        }\n\n        public abstract T valueAt(double progress);\n\n        public void reverse() {\n            T nextFrom = to;\n            to = from;\n            from = nextFrom;\n        }\n\n    }\n\n    public class DoubleRange extends Range&lt;Double&gt; {\n\n        public DoubleRange(Double from, Double to) {\n            super(from, to);\n        }\n\n        public Double getDistance() {\n            return getTo() - getFrom();\n        }\n\n        @Override\n        public Double valueAt(double progress) {\n            double distance = getDistance();\n            double value = distance * progress;\n            value += getFrom();\n            return value;\n        }\n\n    }\n\n    public class Animator {\n\n        public enum State {\n            STOP, PAUSE, RUN\n        }\n\n        public interface Observer {\n\n            public void animatorDidTick(Animator animator, double progress);\n\n            public void animatorDidComplete(Animator animator);\n        }\n\n        private Duration duration = Duration.ofSeconds(5);\n        // Used to manage pause support.  This will be\n        // added onto the &quot;live&quot; runtime when the\n        // animator is running\n        private Duration previousRuntime = Duration.ZERO;\n\n        private Instant epoch;\n\n        private Observer observer;\n\n        private State state = State.STOP;\n\n        // This is actually used to manage the &quot;ticks&quot;\n        private Timer ticker = new Timer(5, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (epoch == null) {\n                    epoch = Instant.now();\n                }\n                double progress = getProgressAtCurrentTime();\n                observer.animatorDidTick(Animator.this, Math.max(0, Math.min(1.0, progress)));\n                if (progress &gt;= 1.0) {\n                    progress = 1.0;\n                    stop();\n                    observer.animatorDidComplete(Animator.this);\n                }\n            }\n        });\n\n        public Animator(Observer observer) {\n            this.observer = observer;\n        }\n\n        public void setDuration(Duration duration) {\n            this.duration = duration;\n        }\n\n        public boolean isPaused() {\n            return state == State.PAUSE;\n        }\n\n        public boolean isRunning() {\n            return state == State.RUN;\n        }\n\n        public boolean isStopped() {\n            return state == State.STOP;\n        }\n\n        public void pause() {\n            ticker.stop();\n            if (epoch != null) {\n                Duration runtime = Duration.between(epoch, Instant.now());\n                previousRuntime = previousRuntime.plus(runtime);\n                state = State.PAUSE;\n            }\n            epoch = null;\n        }\n\n        public void resume() {\n            state = State.RUN;\n            ticker.start();\n        }\n\n        protected double getProgressAtCurrentTime() {\n            Duration runtime = Duration.ZERO;\n            if (epoch != null) {\n                // The delta time between when we started and now\n                runtime = Duration.between(epoch, Instant.now());\n            }\n\n            // Plus any additonal time which was recored\n            runtime = runtime.plus(previousRuntime);\n\n            return runtime.toMillis() / (double) duration.toMillis();\n        }\n\n        // This is for internal reset purposes\n        protected void stop() {\n            ticker.stop();\n            state = State.STOP;\n            previousRuntime = Duration.ZERO;\n            epoch = null;\n        }\n    }\n}\n</code></pre>\n<p>The above example makes use of a concept of &quot;normalised&quot; time.  That is, any given animation transitions over a time range of 0-1.  This makes it incredibly easy to change the speed.  Want to to go faster?  Decrease the duration.  Slower?  Increase the duration.  Everything else is done by simply calculating the required properties against a &quot;from&quot; and &quot;to&quot; state and the current &quot;normalised time&quot; value.</p>\n<p>For example, look at the animation above.  The dot starts at the halfway point, but the time it takes to get to the other side is no different then the time it takes to return ALL the way to far side (the speed doesn't change), this is because, the initial duration is calculated based on a delta of the whole range and the current position (that is, the initial duration is 50% of the desired duration).</p>\n<p>The above example also allows you to &quot;pause&quot; the running animation and when it resumes, it will continue as if nothing happened.</p>\n<p>Animation, I mean, really good animation, is complicated.  Don't believe me, take a look at <a href=\"https://stackoverflow.com/questions/70718553/move-dot-between-2-points-jframe/70718933#70718933\">move dot between 2 points jframe</a> (which I've spent the last few days building out as personal projects to run in <a href=\"https://github.com/RustyKnight/BounceImagePixel\" rel=\"nofollow noreferrer\">Java</a> and <a href=\"https://github.com/RustyKnight/BounceImagePixelMacOS\" rel=\"nofollow noreferrer\">MacOS</a>, because apparently I don't have a live) and <a href=\"https://stackoverflow.com/questions/28335787/how-can-i-implement-easing-functions-with-a-thread/28338188#28338188\">How can I implement easing functions with a thread</a> which takes a deep dive into just one aspect of the animation theory and don't even get me started on &quot;time line&quot; animation.</p>\n"}],"owner":{"account_id":23980828,"reputation":1,"user_id":17968285,"display_name":"nacia354"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642557389,"creation_date":1642539722,"question_id":70762320,"body_markdown":"I have this code, that the oval shape should automatically move to the right/left/up/down (it depends on decision from the user) while implementing the runnable class. However it does not move. I would really appreciate any advice. Thank you in advance.\r\n\r\npublic class AnimationPanel extends JPanel implements Runnable{\r\n\t\r\n\tpublic int getSpeed() {\r\n\t\treturn speed;\r\n\t}\r\n\r\n\tpublic void setSpeed(int speed) {\r\n\t\tthis.speed = speed;\r\n\t}\r\n\r\n\tpublic boolean isLeftToRight() {\r\n\t\treturn isLeftToRight;\r\n\t}\r\n\r\n\tpublic void setLeftToRight(boolean isLeftToRight) {\r\n\t\tthis.isLeftToRight = isLeftToRight;\r\n\t}\r\n\t\r\n\tprivate int x;\r\n\tprivate int y;\r\n\t\r\n\tprivate boolean isPaused = false;\r\n\t\r\n\tprivate int width;\r\n\tprivate int hwight;\r\n\r\n\tprivate int speed=10;\r\n\tprivate Thread animThread;\r\n\tprivate boolean isLeftToRight = true;\r\n\t\t\r\n\t\r\n\tpublic AnimationPanel() {\r\n\t\t\r\n\t\t setBackground(Color.WHITE);\r\n\t     setDoubleBuffered(true);\r\n\t        \r\n\t\tx = 0;\r\n\t\ty = 0;\r\n\t\t\r\n\t\tanimThread = new Thread(this);\r\n\t\tanimThread.start();\r\n\t}\r\n\r\n\tpublic void paint(Graphics g) {\r\n\t\tsuper.paint(g);\r\n\t\t\r\n\t\tGraphics2D g2 = (Graphics2D) g;\r\n\t\t\r\n\t\tg2.setColor(Color.BLUE);\r\n\t\tg2.fillOval(x, y,20,20);\t\r\n\t}\r\n\t\r\n\tpublic void movement() {\r\n\t\t\r\n\t\thwight = this.getHeight();\r\n\t\twidth  = this.getWidth();\r\n\t\t\t\r\n\t\t\tif(isLeftToRight) {\r\n\t\t\t\t\r\n\t\t\t\tif(x&lt;width) {\r\n\t\t\t\t\tx=+10;\r\n\t\t\t\t} else if(x&gt;=0){\r\n\t\t\t\t\tx=-10;\r\n\t\t\t\t}\t\r\n\t\t\t} else {\r\n\t\t\t\t\r\n\t\t\t\tif(y&lt;hwight) {\r\n\t\t\t\t\ty=+10;\r\n\t\t\t\t} else if(y&gt;=0){\r\n\t\t\t\t\ty=-10;\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\t\r\n\t\twhile(true) {\r\n\t\t\t\r\n\t\t\tif (!isPaused)\r\n        \t{\r\n        \t\tmovement();\r\n        \t\trepaint();\r\n        \t}\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(speed);\r\n\t\t\t} catch(InterruptedException e) {\r\n\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Interrupted&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\npublic class AppFrame extends JFrame implements ActionListener{\r\n\t\r\n\tprivate AnimationPanel anim;\r\n\t\r\n\tprivate JButton slowerButton;\r\n\tprivate JButton fasterButton;\r\n\tprivate JButton upDownButton;\r\n\tprivate JButton leftRightButton;\r\n\t\r\n\tprivate JPanel buttonsPanel;\r\n\t\r\n\tprivate int height = 500;\r\n\tprivate int width = 500;\r\n\t\r\n\t\r\n\tpublic AppFrame() {\r\n\t\tthis.setTitle(&quot;Circle&quot;);\r\n\t\tthis.setSize(height,width);\r\n\t\tthis.setResizable(false);\r\n\t\t\r\n\t\tinitGui();\r\n\t\t\r\n\t\tthis.setLocationRelativeTo(null);\r\n\t\tthis.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\t\r\n\t}\r\n\r\n\tprivate void initGui() {\r\n\t\t\r\n\t\tbuttonsPanel = new JPanel();\r\n\t\t\r\n\t\tthis.setLayout(new BorderLayout());\r\n\t\tbuttonsPanel.setLayout(new FlowLayout());\r\n\t\t\r\n\t\tbuttonsPanel.add(slowerButton = new JButton(&quot;Slower&quot;));\r\n\t\tbuttonsPanel.add(fasterButton = new JButton(&quot;Faste&quot;));\r\n\t\tbuttonsPanel.add(upDownButton = new JButton(&quot;up and down&quot;));\r\n\t\tbuttonsPanel.add(leftRightButton = new JButton(&quot;left to right&quot;));\r\n\r\n\t\tslowerButton.addActionListener(this);\r\n\t\tfasterButton.addActionListener(this);\r\n\t\tupDownButton.addActionListener(this);\r\n\t\tleftRightButton.addActionListener(this);\r\n\t\t\r\n\t\tanim = new AnimationPanel();\r\n\t\t\r\n\t\tthis.add(buttonsPanel, BorderLayout.PAGE_START);\r\n\t\tthis.add(anim);\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\t\tObject zrodlo = e.getSource();\r\n\t\t\r\n\t\tif(slowerButton == zrodlo) {\r\n\t\t\tanim.setSpeed(anim.getSpeed()*2);\r\n\t\t} else if(fasterButton == zrodlo) {\r\n\t\t\tanim.setSpeed(anim.getSpeed()/2);\r\n\t\t} else if(upDownButton == zrodlo) {\r\n\t\t\tanim.setLeftToRight(false);\r\n\t\t} else if(leftRightButton == zrodlo) {\r\n\t\t\tanim.setLeftToRight(true);\r\n\t\t} \r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n\r\npublic class Runner {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tAppFrame app =new AppFrame();\r\n\t\tapp.setVisible(true);\r\n\t}\r\n}\r\n","title":"The oval is not moving when I use thread in java implementing runnable Question","body":"<p>I have this code, that the oval shape should automatically move to the right/left/up/down (it depends on decision from the user) while implementing the runnable class. However it does not move. I would really appreciate any advice. Thank you in advance.</p>\n<p>public class AnimationPanel extends JPanel implements Runnable{</p>\n<pre><code>public int getSpeed() {\n    return speed;\n}\n\npublic void setSpeed(int speed) {\n    this.speed = speed;\n}\n\npublic boolean isLeftToRight() {\n    return isLeftToRight;\n}\n\npublic void setLeftToRight(boolean isLeftToRight) {\n    this.isLeftToRight = isLeftToRight;\n}\n\nprivate int x;\nprivate int y;\n\nprivate boolean isPaused = false;\n\nprivate int width;\nprivate int hwight;\n\nprivate int speed=10;\nprivate Thread animThread;\nprivate boolean isLeftToRight = true;\n    \n\npublic AnimationPanel() {\n    \n     setBackground(Color.WHITE);\n     setDoubleBuffered(true);\n        \n    x = 0;\n    y = 0;\n    \n    animThread = new Thread(this);\n    animThread.start();\n}\n\npublic void paint(Graphics g) {\n    super.paint(g);\n    \n    Graphics2D g2 = (Graphics2D) g;\n    \n    g2.setColor(Color.BLUE);\n    g2.fillOval(x, y,20,20);    \n}\n\npublic void movement() {\n    \n    hwight = this.getHeight();\n    width  = this.getWidth();\n        \n        if(isLeftToRight) {\n            \n            if(x&lt;width) {\n                x=+10;\n            } else if(x&gt;=0){\n                x=-10;\n            }   \n        } else {\n            \n            if(y&lt;hwight) {\n                y=+10;\n            } else if(y&gt;=0){\n                y=-10;\n            }   \n        }\n    }\n\n\n\n@Override\npublic void run() {\n    \n    while(true) {\n        \n        if (!isPaused)\n        {\n            movement();\n            repaint();\n        }\n        \n        try {\n            Thread.sleep(speed);\n        } catch(InterruptedException e) {\n            JOptionPane.showMessageDialog(null, &quot;Interrupted&quot;);\n        }\n    }\n    \n    \n}\n</code></pre>\n<p>}</p>\n<p>public class AppFrame extends JFrame implements ActionListener{</p>\n<pre><code>private AnimationPanel anim;\n\nprivate JButton slowerButton;\nprivate JButton fasterButton;\nprivate JButton upDownButton;\nprivate JButton leftRightButton;\n\nprivate JPanel buttonsPanel;\n\nprivate int height = 500;\nprivate int width = 500;\n\n\npublic AppFrame() {\n    this.setTitle(&quot;Circle&quot;);\n    this.setSize(height,width);\n    this.setResizable(false);\n    \n    initGui();\n    \n    this.setLocationRelativeTo(null);\n    this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n    \n}\n\nprivate void initGui() {\n    \n    buttonsPanel = new JPanel();\n    \n    this.setLayout(new BorderLayout());\n    buttonsPanel.setLayout(new FlowLayout());\n    \n    buttonsPanel.add(slowerButton = new JButton(&quot;Slower&quot;));\n    buttonsPanel.add(fasterButton = new JButton(&quot;Faste&quot;));\n    buttonsPanel.add(upDownButton = new JButton(&quot;up and down&quot;));\n    buttonsPanel.add(leftRightButton = new JButton(&quot;left to right&quot;));\n\n    slowerButton.addActionListener(this);\n    fasterButton.addActionListener(this);\n    upDownButton.addActionListener(this);\n    leftRightButton.addActionListener(this);\n    \n    anim = new AnimationPanel();\n    \n    this.add(buttonsPanel, BorderLayout.PAGE_START);\n    this.add(anim);\n    \n    \n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    \n    Object zrodlo = e.getSource();\n    \n    if(slowerButton == zrodlo) {\n        anim.setSpeed(anim.getSpeed()*2);\n    } else if(fasterButton == zrodlo) {\n        anim.setSpeed(anim.getSpeed()/2);\n    } else if(upDownButton == zrodlo) {\n        anim.setLeftToRight(false);\n    } else if(leftRightButton == zrodlo) {\n        anim.setLeftToRight(true);\n    } \n    \n}\n</code></pre>\n<p>}</p>\n<p>public class Runner {</p>\n<pre><code>public static void main(String[] args) {\n    AppFrame app =new AppFrame();\n    app.setVisible(true);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","dto"],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642556709,"creation_date":1642556709,"answer_id":70764412,"question_id":70763894,"body_markdown":"The associated `UserType`s and `Wallet`s are lazily loaded, which means on access. However, when your mapper accesses those properties of the entity, the corresponding transaction was already committed (it was only active during the repository call, which is annotated with `@Transactional`) and the session has ended, so that the missing information of the associated entities cannot be fetched anymore.\r\n\r\nYou may consider fetching the needed info directly as part of the repository query, e.g. using entity-graphs: https://www.baeldung.com/spring-data-jpa-named-entity-graphs\r\n\r\nAnother option would be to map your DTO before committing the transaction (e.g. using springs declarative transaction management to demarcate transaction boundaries in own services https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch11s05.html), but this can create performance issues: https://stackoverflow.com/questions/97197/what-is-the-n1-selects-problem-in-orm-object-relational-mapping","title":"Why am I obtaining this MappingException trying to convert an Hibernate entity class instance into its DTO class instance?","body":"<p>The associated <code>UserType</code>s and <code>Wallet</code>s are lazily loaded, which means on access. However, when your mapper accesses those properties of the entity, the corresponding transaction was already committed (it was only active during the repository call, which is annotated with <code>@Transactional</code>) and the session has ended, so that the missing information of the associated entities cannot be fetched anymore.</p>\n<p>You may consider fetching the needed info directly as part of the repository query, e.g. using entity-graphs: <a href=\"https://www.baeldung.com/spring-data-jpa-named-entity-graphs\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-named-entity-graphs</a></p>\n<p>Another option would be to map your DTO before committing the transaction (e.g. using springs declarative transaction management to demarcate transaction boundaries in own services <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch11s05.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch11s05.html</a>), but this can create performance issues: <a href=\"https://stackoverflow.com/questions/97197/what-is-the-n1-selects-problem-in-orm-object-relational-mapping\">What is the &quot;N+1 selects problem&quot; in ORM (Object-Relational Mapping)?</a></p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642556709,"creation_date":1642551059,"question_id":70763894,"body_markdown":"I am working on a Spring Boot using **Spring Data JPA** and **Hibernate** mapping application and I am finding some difficulties trying to convert an instance of an entity class into its DTO version. Following I will describe the situation.\r\n\r\nFirst of all this is my **User** entity class containing the Hibernate mapping:\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;portal_user&quot;)\r\n\t@Getter\r\n\t@Setter\r\n\tpublic class User implements Serializable {\r\n\t\t \r\n\t\tprivate static final long serialVersionUID = 5062673109048808267L;\r\n\t\t\r\n\t\t@Id\r\n\t\t@Column(name = &quot;id&quot;)\r\n\t\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t\tprivate Integer id;\r\n\t\t\r\n\t\t@Column(name = &quot;first_name&quot;)\r\n\t\t@NotNull(message = &quot;{NotNull.User.firstName.Validation}&quot;)\r\n\t\tprivate String firstName;\r\n\t\t\r\n\t\t@Column(name = &quot;middle_name&quot;)\r\n\t\tprivate String middleName;\r\n\t\t\r\n\t\t@Column(name = &quot;surname&quot;)\r\n\t\t@NotNull(message = &quot;{NotNull.User.surname.Validation}&quot;)\r\n\t\tprivate String surname;\r\n\t\t\r\n\t\t@Column(name = &quot;sex&quot;)\r\n\t\t@NotNull(message = &quot;{NotNull.User.sex.Validation}&quot;)\r\n\t\tprivate char sex;\r\n\t\t\r\n\t\t@Column(name = &quot;birthdate&quot;)\r\n\t\t@NotNull(message = &quot;{NotNull.User.birthdate.Validation}&quot;)\r\n\t\tprivate Date birthdate;\r\n\t\t\r\n\t\t@Column(name = &quot;tax_code&quot;)\r\n\t\t@NotNull(message = &quot;{NotNull.User.taxCode.Validation}&quot;)\r\n\t\tprivate String taxCode;\r\n\t\t\r\n\t\t@Column(name = &quot;e_mail&quot;)\r\n\t\t@NotNull(message = &quot;{NotNull.User.email.Validation}&quot;)\r\n\t\tprivate String email;\r\n\t\t\r\n\t\t@Column(name = &quot;pswd&quot;)\r\n\t\t@NotNull(message = &quot;{NotNull.User.pswd.Validation}&quot;)\r\n\t\tprivate String pswd;\r\n\t\t\r\n\t\t@Column(name = &quot;contact_number&quot;)\r\n\t\t@NotNull(message = &quot;{NotNull.User.contactNumber.Validation}&quot;)\r\n\t\tprivate String contactNumber;\r\n\t\t\r\n\t\t@Temporal(TemporalType.DATE)\r\n\t\t@Column(name = &quot;created_at&quot;)\r\n\t\tprivate Date createdAt;\r\n\t\t\r\n\t\t@Column(name = &quot;is_active&quot;)\r\n\t\tprivate boolean is_active;\r\n\t\t\r\n\t\t@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\r\n\t\t@JsonManagedReference(value = &quot;address&quot;)\r\n\t\tprivate Set&lt;Address&gt; addressesList = new HashSet&lt;&gt;();\r\n\t\t\r\n\t\t@ManyToMany(cascade = { CascadeType.MERGE })\r\n\t\t@JoinTable(\r\n\t\t\tname = &quot;portal_user_user_type&quot;, \r\n\t\t\tjoinColumns = { @JoinColumn(name = &quot;portal_user_id_fk&quot;) }, \r\n\t\t\tinverseJoinColumns = { @JoinColumn(name = &quot;user_type_id_fk&quot;) }\r\n\t\t)\r\n\t\tprivate Set&lt;UserType&gt; userTypes;\r\n\r\n\r\n\t\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t\t@JsonProperty(&quot;subagent&quot;)\r\n\t\tprivate User parent;\r\n\r\n\t\t@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\r\n\t\t@JsonManagedReference(value = &quot;user-wallets&quot;)\r\n\t\tprivate Set&lt;Wallet&gt; wallets = new HashSet&lt;&gt;();\r\n\r\n\r\n\t\tpublic User() {\r\n\t\t\tsuper();\r\n\t\t\t// TODO Auto-generated constructor stub\r\n\t\t}\r\n\r\n\r\n\t\tpublic User(String firstName, String middleName, String surname, char sex, Date birthdate, String taxCode,\r\n\t\t\t\tString email, String pswd, String contactNumber, Date createdAt, boolean is_active) {\r\n\t\t\tsuper();\r\n\t\t\tthis.firstName = firstName;\r\n\t\t\tthis.middleName = middleName;\r\n\t\t\tthis.surname = surname;\r\n\t\t\tthis.sex = sex;\r\n\t\t\tthis.birthdate = birthdate;\r\n\t\t\tthis.taxCode = taxCode;\r\n\t\t\tthis.email = email;\r\n\t\t\tthis.pswd = pswd;\r\n\t\t\tthis.contactNumber = contactNumber;\r\n\t\t\tthis.createdAt = createdAt;\r\n\t\t\tthis.is_active = is_active;\r\n\t\t}\r\n\t\t\r\n\r\n\t}\r\n\r\nThen I have created this **UserDTO** class that contains the same fields of the previous entity class:\r\n\r\n\t@Getter\r\n\t@Setter\r\n\t@NoArgsConstructor\r\n\t@AllArgsConstructor\r\n\tpublic class UserDTO {\r\n\t\t\r\n\t\tprivate Integer id;\r\n\t\tprivate String firstName;\r\n\t\tprivate String middleName;\r\n\t\tprivate String surname;\r\n\t\tprivate char sex;\r\n\t\tprivate Date birthdate;\r\n\t\tprivate String taxCode;\r\n\t\tprivate String email;\r\n\t\tprivate String pswd;\r\n\t\tprivate String contactNumber;\r\n\t\tprivate Date createdAt;\r\n\t\tprivate boolean is_active;\r\n\t\t\r\n\t\tprivate Set&lt;UserType&gt; userTypes;\r\n\t\tprivate User parent;\r\n\t\tprivate Set&lt;Wallet&gt; wallets;\t\t\r\n\r\n\t}\r\n\r\nThen I created this **ToUserDTOConverter* class implementing the **Converter** interface, this should be the class used to convert the **User** entity class into the **UserDTO** DTO class:\r\n\r\n    @Component\r\n    public class ToUserDTOConverter implements Converter&lt;User, UserDTO&gt; {\r\n    \t\r\n    \t@Autowired\r\n        ModelMapper modelMapper;\r\n    \r\n    \t@Override\r\n    \tpublic UserDTO convert(User source) {\r\n    \t\t\r\n    \t\tUserDTO result = modelMapper.map(source, UserDTO.class);\r\n    \t\t\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    }\r\n\r\nI also created the converter class implementing the inverse behavior (from an **UserDTO** instance to a **User** instance), this one:\r\n\r\n    @Component\r\n    public class ToUserConverter implements Converter&lt;UserDTO, User&gt; {\r\n    \t\r\n    \t@Autowired\r\n        ModelMapper modelMapper;\r\n    \r\n    \t@Override\r\n    \tpublic User convert(UserDTO source) {\r\n    \t\t\r\n    \t\tUser result = modelMapper.map(source, User.class);\r\n    \t\t\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    }\r\n\r\nThen into my service class (named **UserServiceImpl**) I injected a **ConversionService** instance:\r\n\r\n\t@Autowired\r\n\tConversionService conversionService;\r\n\r\nin the same **UserServiceImpl** class I defined this service method:\r\n\r\n\t@Override\r\n\tpublic UserDTO activateDeactivateUser(int userId, boolean isActive) throws NotFoundException {\r\n\r\n\t    User retrievedUser = this.userRepository.findById(userId)\r\n\t            .orElseThrow(() -&gt; new NotFoundException(String.format(&quot;The user having ID or email %s was not found&quot;, userId)));\r\n\r\n\t    retrievedUser.set_active(isActive);\r\n\t    this.userRepository.save(retrievedUser);\r\n\r\n\t    return conversionService.convert(retrievedUser, UserDTO.class);\r\n\t}\r\n\r\nAs you can see it retrieve a **User** instance from the DB, update it and finally it should convert the  retrieved **User** object into an **UserDTO** object to be returned.\r\n\r\nHere I have some problem. I created the following unit test method:\r\n\r\n\t@Test\r\n\t@Order(3)\r\n\tpublic void activateDeactivateUserTest() throws NotFoundException {\r\n\t\t\r\n\t\tUserDTO retrievedUser = this.userService.activateDeactivateUser(50, false);\r\n\t\t\r\n\t\tassertTrue(retrievedUser.getFirstName().equals(&quot;Renato&quot;) &amp;&amp; retrievedUser.getSurname().equals(&quot;Gialli&quot;), &quot;The retrieved user is: Renato Gialli&quot;);\t\r\n\t\tassertTrue(retrievedUser.is_active() == false);\r\n\t\t\r\n\t\tretrievedUser = this.userService.activateDeactivateUser(50, true);\r\n\t\tassertTrue(retrievedUser.is_active() == true);\t\r\n\t}\r\n\r\nPerforming this method what happens is that (I checked it in debug mode):\r\n\r\n1) It correctly enter into the **activateDeactivateUser()** service method to be tested, here it correctly retrieve and unpdate my **User** object.\r\n\r\n2) Then when it try to executed the conversion of the **User** object into the **UserDTO** object --&gt; it entered into the **convert()** method of the previous **ToUserDTOConverter** class (as expected). But when it try to execute this line:\r\n\r\n    UserDTO result = modelMapper.map(source, UserDTO.class);\r\n\r\nit throw a **ConversionFailedException** (the strange thing is that it doesn&#39;t print the excpetion details in my stacktrace but i can see it with the debugger). In particular it seems to have this message:\r\n\r\n\torg.modelmapper.MappingException: ModelMapper mapping errors:\r\n\r\n\t1) Converter org.modelmapper.internal.converter.MergingCollectionConverter@c50d1b2 failed to convert org.hibernate.collection.internal.PersistentSet to java.util.Set.\r\n\tCaused by: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.easydefi.users.entity.User.userTypes, could not initialize proxy - no Session\r\n\t\tat org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)\r\n\t\tat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)\r\n\t\tat org.hibernate.collection.internal.AbstractPersistentCollection.readSize(AbstractPersistentCollection.java:162)\r\n\t\tat org.hibernate.collection.internal.PersistentSet.size(PersistentSet.java:168)\r\n\t\tat org.modelmapper.internal.util.Iterables.getLength(Iterables.java:50)\r\n\t\tat org.modelmapper.internal.converter.MergingCollectionConverter.convert(MergingCollectionConverter.java:44)\r\n\t\tat org.modelmapper.internal.converter.MergingCollectionConverter.convert(MergingCollectionConverter.java:31)\r\n\t\tat org.modelmapper.internal.MappingEngineImpl.convert(MappingEngineImpl.java:306)\r\n\t\tat org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:109)\r\n\t\tat org.modelmapper.internal.MappingEngineImpl.setDestinationValue(MappingEngineImpl.java:245)\r\n\t\tat org.modelmapper.internal.MappingEngineImpl.propertyMap(MappingEngineImpl.java:187)\r\n\t\tat org.modelmapper.internal.MappingEngineImpl.typeMap(MappingEngineImpl.java:151)\r\n\t\tat org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:114)\r\n\t\tat org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:71)\r\n\t\tat org.modelmapper.ModelMapper.mapInternal(ModelMapper.java:573)\r\n\t\tat org.modelmapper.ModelMapper.map(ModelMapper.java:406)\r\n\t\tat com.easydefi.users.converter.ToUserDTOConverter.convert(ToUserDTOConverter.java:20)\r\n\t\tat com.easydefi.users.converter.ToUserDTOConverter.convert(ToUserDTOConverter.java:1)\r\n\t\tat org.springframework.core.convert.support.GenericConversionService$ConverterAdapter.convert(GenericConversionService.java:386)\r\n\t\tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)\r\n\t\tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\r\n\t\tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175)\r\n\t\tat com.easydefi.users.service.UserServiceImpl.activateDeactivateUser(UserServiceImpl.java:175)\r\n\t\tat com.easydefi.users.service.UserServiceImpl$$FastClassBySpringCGLIB$$a3f57390.invoke(&lt;generated&gt;)\r\n\t\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n\t\tat com.easydefi.users.service.UserServiceImpl$$EnhancerBySpringCGLIB$$fcf9794.activateDeactivateUser(&lt;generated&gt;)\r\n\t\tat com.easydefi.users.service.UserServiceTest.activateDeactivateUserTest(UserServiceTest.java:112)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\r\n\t\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\t\tat org.eclipse.jdt....\r\n\r\nWhy am I obtaining this error? What am I missing? How can I try to fix it? I suppose that maybe it could depend by the fact that some fields of the entity class are lazy loaded or something like this...I am going crazy to figure out how to solve this issue.\r\n\r\n**ADDITIONAL INFO:** After an additional test I discovered that the problem it should be caused by the following 2 fields of the entity class:\r\n\r\n\t@ManyToMany(cascade = { CascadeType.MERGE })\r\n    @JoinTable(\r\n        name = &quot;portal_user_user_type&quot;, \r\n        joinColumns = { @JoinColumn(name = &quot;portal_user_id_fk&quot;) }, \r\n        inverseJoinColumns = { @JoinColumn(name = &quot;user_type_id_fk&quot;) }\r\n    )\r\n    private Set&lt;UserType&gt; userTypes;\r\n\r\n\t@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\r\n\t@JsonManagedReference(value = &quot;user-wallets&quot;)\r\n\tprivate Set&lt;Wallet&gt; wallets = new HashSet&lt;&gt;();\r\n\r\n\r\nCommeinging out the corresponding fields into the DTO class:\r\n\r\n\t//private Set&lt;UserType&gt; userTypes;\r\n\t//private Set&lt;Wallet&gt; wallets;\t\r\n\r\nit seems that the conversion of these 2 fields is skipped and it works fine. But why? How can I solve to set also these 2 fields?\r\n\r\n\r\n","title":"Why am I obtaining this MappingException trying to convert an Hibernate entity class instance into its DTO class instance?","body":"<p>I am working on a Spring Boot using <strong>Spring Data JPA</strong> and <strong>Hibernate</strong> mapping application and I am finding some difficulties trying to convert an instance of an entity class into its DTO version. Following I will describe the situation.</p>\n<p>First of all this is my <strong>User</strong> entity class containing the Hibernate mapping:</p>\n<pre><code>@Entity\n@Table(name = &quot;portal_user&quot;)\n@Getter\n@Setter\npublic class User implements Serializable {\n     \n    private static final long serialVersionUID = 5062673109048808267L;\n    \n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer id;\n    \n    @Column(name = &quot;first_name&quot;)\n    @NotNull(message = &quot;{NotNull.User.firstName.Validation}&quot;)\n    private String firstName;\n    \n    @Column(name = &quot;middle_name&quot;)\n    private String middleName;\n    \n    @Column(name = &quot;surname&quot;)\n    @NotNull(message = &quot;{NotNull.User.surname.Validation}&quot;)\n    private String surname;\n    \n    @Column(name = &quot;sex&quot;)\n    @NotNull(message = &quot;{NotNull.User.sex.Validation}&quot;)\n    private char sex;\n    \n    @Column(name = &quot;birthdate&quot;)\n    @NotNull(message = &quot;{NotNull.User.birthdate.Validation}&quot;)\n    private Date birthdate;\n    \n    @Column(name = &quot;tax_code&quot;)\n    @NotNull(message = &quot;{NotNull.User.taxCode.Validation}&quot;)\n    private String taxCode;\n    \n    @Column(name = &quot;e_mail&quot;)\n    @NotNull(message = &quot;{NotNull.User.email.Validation}&quot;)\n    private String email;\n    \n    @Column(name = &quot;pswd&quot;)\n    @NotNull(message = &quot;{NotNull.User.pswd.Validation}&quot;)\n    private String pswd;\n    \n    @Column(name = &quot;contact_number&quot;)\n    @NotNull(message = &quot;{NotNull.User.contactNumber.Validation}&quot;)\n    private String contactNumber;\n    \n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;created_at&quot;)\n    private Date createdAt;\n    \n    @Column(name = &quot;is_active&quot;)\n    private boolean is_active;\n    \n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\n    @JsonManagedReference(value = &quot;address&quot;)\n    private Set&lt;Address&gt; addressesList = new HashSet&lt;&gt;();\n    \n    @ManyToMany(cascade = { CascadeType.MERGE })\n    @JoinTable(\n        name = &quot;portal_user_user_type&quot;, \n        joinColumns = { @JoinColumn(name = &quot;portal_user_id_fk&quot;) }, \n        inverseJoinColumns = { @JoinColumn(name = &quot;user_type_id_fk&quot;) }\n    )\n    private Set&lt;UserType&gt; userTypes;\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JsonProperty(&quot;subagent&quot;)\n    private User parent;\n\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\n    @JsonManagedReference(value = &quot;user-wallets&quot;)\n    private Set&lt;Wallet&gt; wallets = new HashSet&lt;&gt;();\n\n\n    public User() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n\n    public User(String firstName, String middleName, String surname, char sex, Date birthdate, String taxCode,\n            String email, String pswd, String contactNumber, Date createdAt, boolean is_active) {\n        super();\n        this.firstName = firstName;\n        this.middleName = middleName;\n        this.surname = surname;\n        this.sex = sex;\n        this.birthdate = birthdate;\n        this.taxCode = taxCode;\n        this.email = email;\n        this.pswd = pswd;\n        this.contactNumber = contactNumber;\n        this.createdAt = createdAt;\n        this.is_active = is_active;\n    }\n    \n\n}\n</code></pre>\n<p>Then I have created this <strong>UserDTO</strong> class that contains the same fields of the previous entity class:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UserDTO {\n    \n    private Integer id;\n    private String firstName;\n    private String middleName;\n    private String surname;\n    private char sex;\n    private Date birthdate;\n    private String taxCode;\n    private String email;\n    private String pswd;\n    private String contactNumber;\n    private Date createdAt;\n    private boolean is_active;\n    \n    private Set&lt;UserType&gt; userTypes;\n    private User parent;\n    private Set&lt;Wallet&gt; wallets;        \n\n}\n</code></pre>\n<p>Then I created this *<em>ToUserDTOConverter</em> class implementing the <strong>Converter</strong> interface, this should be the class used to convert the <strong>User</strong> entity class into the <strong>UserDTO</strong> DTO class:</p>\n<pre><code>@Component\npublic class ToUserDTOConverter implements Converter&lt;User, UserDTO&gt; {\n    \n    @Autowired\n    ModelMapper modelMapper;\n\n    @Override\n    public UserDTO convert(User source) {\n        \n        UserDTO result = modelMapper.map(source, UserDTO.class);\n        \n        return result;\n    }\n\n}\n</code></pre>\n<p>I also created the converter class implementing the inverse behavior (from an <strong>UserDTO</strong> instance to a <strong>User</strong> instance), this one:</p>\n<pre><code>@Component\npublic class ToUserConverter implements Converter&lt;UserDTO, User&gt; {\n    \n    @Autowired\n    ModelMapper modelMapper;\n\n    @Override\n    public User convert(UserDTO source) {\n        \n        User result = modelMapper.map(source, User.class);\n        \n        return result;\n    }\n\n}\n</code></pre>\n<p>Then into my service class (named <strong>UserServiceImpl</strong>) I injected a <strong>ConversionService</strong> instance:</p>\n<pre><code>@Autowired\nConversionService conversionService;\n</code></pre>\n<p>in the same <strong>UserServiceImpl</strong> class I defined this service method:</p>\n<pre><code>@Override\npublic UserDTO activateDeactivateUser(int userId, boolean isActive) throws NotFoundException {\n\n    User retrievedUser = this.userRepository.findById(userId)\n            .orElseThrow(() -&gt; new NotFoundException(String.format(&quot;The user having ID or email %s was not found&quot;, userId)));\n\n    retrievedUser.set_active(isActive);\n    this.userRepository.save(retrievedUser);\n\n    return conversionService.convert(retrievedUser, UserDTO.class);\n}\n</code></pre>\n<p>As you can see it retrieve a <strong>User</strong> instance from the DB, update it and finally it should convert the  retrieved <strong>User</strong> object into an <strong>UserDTO</strong> object to be returned.</p>\n<p>Here I have some problem. I created the following unit test method:</p>\n<pre><code>@Test\n@Order(3)\npublic void activateDeactivateUserTest() throws NotFoundException {\n    \n    UserDTO retrievedUser = this.userService.activateDeactivateUser(50, false);\n    \n    assertTrue(retrievedUser.getFirstName().equals(&quot;Renato&quot;) &amp;&amp; retrievedUser.getSurname().equals(&quot;Gialli&quot;), &quot;The retrieved user is: Renato Gialli&quot;);   \n    assertTrue(retrievedUser.is_active() == false);\n    \n    retrievedUser = this.userService.activateDeactivateUser(50, true);\n    assertTrue(retrievedUser.is_active() == true);  \n}\n</code></pre>\n<p>Performing this method what happens is that (I checked it in debug mode):</p>\n<ol>\n<li><p>It correctly enter into the <strong>activateDeactivateUser()</strong> service method to be tested, here it correctly retrieve and unpdate my <strong>User</strong> object.</p>\n</li>\n<li><p>Then when it try to executed the conversion of the <strong>User</strong> object into the <strong>UserDTO</strong> object --&gt; it entered into the <strong>convert()</strong> method of the previous <strong>ToUserDTOConverter</strong> class (as expected). But when it try to execute this line:</p>\n<p>UserDTO result = modelMapper.map(source, UserDTO.class);</p>\n</li>\n</ol>\n<p>it throw a <strong>ConversionFailedException</strong> (the strange thing is that it doesn't print the excpetion details in my stacktrace but i can see it with the debugger). In particular it seems to have this message:</p>\n<pre><code>org.modelmapper.MappingException: ModelMapper mapping errors:\n\n1) Converter org.modelmapper.internal.converter.MergingCollectionConverter@c50d1b2 failed to convert org.hibernate.collection.internal.PersistentSet to java.util.Set.\nCaused by: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.easydefi.users.entity.User.userTypes, could not initialize proxy - no Session\n    at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.readSize(AbstractPersistentCollection.java:162)\n    at org.hibernate.collection.internal.PersistentSet.size(PersistentSet.java:168)\n    at org.modelmapper.internal.util.Iterables.getLength(Iterables.java:50)\n    at org.modelmapper.internal.converter.MergingCollectionConverter.convert(MergingCollectionConverter.java:44)\n    at org.modelmapper.internal.converter.MergingCollectionConverter.convert(MergingCollectionConverter.java:31)\n    at org.modelmapper.internal.MappingEngineImpl.convert(MappingEngineImpl.java:306)\n    at org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:109)\n    at org.modelmapper.internal.MappingEngineImpl.setDestinationValue(MappingEngineImpl.java:245)\n    at org.modelmapper.internal.MappingEngineImpl.propertyMap(MappingEngineImpl.java:187)\n    at org.modelmapper.internal.MappingEngineImpl.typeMap(MappingEngineImpl.java:151)\n    at org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:114)\n    at org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:71)\n    at org.modelmapper.ModelMapper.mapInternal(ModelMapper.java:573)\n    at org.modelmapper.ModelMapper.map(ModelMapper.java:406)\n    at com.easydefi.users.converter.ToUserDTOConverter.convert(ToUserDTOConverter.java:20)\n    at com.easydefi.users.converter.ToUserDTOConverter.convert(ToUserDTOConverter.java:1)\n    at org.springframework.core.convert.support.GenericConversionService$ConverterAdapter.convert(GenericConversionService.java:386)\n    at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175)\n    at com.easydefi.users.service.UserServiceImpl.activateDeactivateUser(UserServiceImpl.java:175)\n    at com.easydefi.users.service.UserServiceImpl$$FastClassBySpringCGLIB$$a3f57390.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n    at com.easydefi.users.service.UserServiceImpl$$EnhancerBySpringCGLIB$$fcf9794.activateDeactivateUser(&lt;generated&gt;)\n    at com.easydefi.users.service.UserServiceTest.activateDeactivateUserTest(UserServiceTest.java:112)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt....\n</code></pre>\n<p>Why am I obtaining this error? What am I missing? How can I try to fix it? I suppose that maybe it could depend by the fact that some fields of the entity class are lazy loaded or something like this...I am going crazy to figure out how to solve this issue.</p>\n<p><strong>ADDITIONAL INFO:</strong> After an additional test I discovered that the problem it should be caused by the following 2 fields of the entity class:</p>\n<pre><code>@ManyToMany(cascade = { CascadeType.MERGE })\n@JoinTable(\n    name = &quot;portal_user_user_type&quot;, \n    joinColumns = { @JoinColumn(name = &quot;portal_user_id_fk&quot;) }, \n    inverseJoinColumns = { @JoinColumn(name = &quot;user_type_id_fk&quot;) }\n)\nprivate Set&lt;UserType&gt; userTypes;\n\n@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\n@JsonManagedReference(value = &quot;user-wallets&quot;)\nprivate Set&lt;Wallet&gt; wallets = new HashSet&lt;&gt;();\n</code></pre>\n<p>Commeinging out the corresponding fields into the DTO class:</p>\n<pre><code>//private Set&lt;UserType&gt; userTypes;\n//private Set&lt;Wallet&gt; wallets;  \n</code></pre>\n<p>it seems that the conversion of these 2 fields is skipped and it works fine. But why? How can I solve to set also these 2 fields?</p>\n"},{"tags":["java","spring","postgresql","hibernate","exception"],"comments":[{"owner":{"account_id":23938771,"reputation":60,"user_id":17932189,"display_name":"Andre"},"score":1,"creation_date":1642498757,"post_id":70753111,"comment_id":125080372,"body_markdown":"Not sure if you can create custom constraint exceptions to be thrown. Have you read this https://stackoverflow.com/questions/9842672/best-practice-propagating-unique-violation-exceptions-to-ui ?","body":"Not sure if you can create custom constraint exceptions to be thrown. Have you read this <a href=\"https://stackoverflow.com/questions/9842672/best-practice-propagating-unique-violation-exceptions-to-ui\" title=\"best practice propagating unique violation exceptions to ui\">stackoverflow.com/questions/9842672/&hellip;</a> ?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642557070,"post_id":70753111,"comment_id":125100675,"body_markdown":"Just because an exception is thrown in your persistent layer, it doesn&#39;t necessarily mean you must propagate that exception everywhere. Even if you could create a custom exception, it will not be appropriate to throw a new exception in this case. While attempting to create a user that already exist in your database, you can simply ignore that exception and move on. Beyond logging the failed attempt, there is no reason for the application to continue as if nothing happened.","body":"Just because an exception is thrown in your persistent layer, it doesn&#39;t necessarily mean you must propagate that exception everywhere. Even if you could create a custom exception, it will not be appropriate to throw a new exception in this case. While attempting to create a user that already exist in your database, you can simply ignore that exception and move on. Beyond logging the failed attempt, there is no reason for the application to continue as if nothing happened."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642502548,"creation_date":1642502548,"answer_id":70754204,"question_id":70753111,"body_markdown":"You can not do custom exceptions if you depend on the Hibernate Validator.  \r\n\r\nTo explain why, look at the BeanValidationEventHandler which listens to all Create/Update/Delete events, it uses the `Validator` `validate` method and deals with only `ConstraintViolation`:\r\n\r\n    private &lt;T&gt; void validate(T object, EntityMode mode, EntityPersister persister,\r\n    \t\t\t\t\t\t\t  SessionFactoryImplementor sessionFactory, GroupsPerOperation.Operation operation) {\r\n    \t\tif ( object == null || mode != EntityMode.POJO ) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tTraversableResolver tr = new HibernateTraversableResolver(\r\n    \t\t\t\tpersister, associationsPerEntityPersister, sessionFactory\r\n    \t\t);\r\n    \t\tValidator validator = factory.usingContext()\r\n    \t\t\t\t.traversableResolver( tr )\r\n    \t\t\t\t.getValidator();\r\n    \t\tfinal Class&lt;?&gt;[] groups = groupsPerOperation.get( operation );\r\n    \t\tif ( groups.length &gt; 0 ) {\r\n    \t\t\tfinal Set&lt;ConstraintViolation&lt;T&gt;&gt; constraintViolations = validator.validate( object, groups );\r\n    \t\t\tif ( constraintViolations.size() &gt; 0 ) {\r\n    \t\t\t\tSet&lt;ConstraintViolation&lt;?&gt;&gt; propagatedViolations =\r\n    \t\t\t\t\t\tnew HashSet&lt;ConstraintViolation&lt;?&gt;&gt;( constraintViolations.size() );\r\n    \t\t\t\tSet&lt;String&gt; classNames = new HashSet&lt;String&gt;();\r\n    \t\t\t\tfor ( ConstraintViolation&lt;?&gt; violation : constraintViolations ) {\r\n    \t\t\t\t\tLOG.trace( violation );\r\n    \t\t\t\t\tpropagatedViolations.add( violation );\r\n    \t\t\t\t\tclassNames.add( violation.getLeafBean().getClass().getName() );\r\n    \t\t\t\t}\r\n    \t\t\t\tStringBuilder builder = new StringBuilder();\r\n    \t\t\t\tbuilder.append( &quot;Validation failed for classes &quot; );\r\n    \t\t\t\tbuilder.append( classNames );\r\n    \t\t\t\tbuilder.append( &quot; during &quot; );\r\n    \t\t\t\tbuilder.append( operation.getName() );\r\n    \t\t\t\tbuilder.append( &quot; time for groups &quot; );\r\n    \t\t\t\tbuilder.append( toString( groups ) );\r\n    \t\t\t\tbuilder.append( &quot;\\nList of constraint violations:[\\n&quot; );\r\n    \t\t\t\tfor (ConstraintViolation&lt;?&gt; violation : constraintViolations) {\r\n    \t\t\t\t\tbuilder.append( &quot;\\t&quot; ).append( violation.toString() ).append(&quot;\\n&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tbuilder.append( &quot;]&quot; );\r\n    \r\n    \t\t\t\tthrow new ConstraintViolationException(\r\n    \t\t\t\t\t\tbuilder.toString(), propagatedViolations\r\n    \t\t\t\t);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nhttps://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/cfg/beanvalidation/BeanValidationEventListener.java\r\n\r\n--- \r\n\r\nThe `Validator` interface deals with ConstraintViolation also:\r\n\r\n\r\n    public interface Validator {\r\n    \r\n    \t/**\r\n    \t * Validates all constraints on {@code object}.\r\n    \t *\r\n    \t * @param object object to validate\r\n    \t * @param groups the group or list of groups targeted for validation (defaults to\r\n    \t *        {@link Default})\r\n    \t * @return constraint violations or an empty set if none\r\n    \t * @throws IllegalArgumentException if object is {@code null}\r\n    \t *         or if {@code null} is passed to the varargs groups\r\n    \t * @throws ValidationException if a non recoverable error happens\r\n    \t *         during the validation process\r\n    \t */\r\n    \t&lt;T&gt; Set&lt;ConstraintViolation&lt;T&gt;&gt; validate(T object, Class&lt;?&gt;... groups);\r\n\r\n","title":"How to specify constraint for exception","body":"<p>You can not do custom exceptions if you depend on the Hibernate Validator.</p>\n<p>To explain why, look at the BeanValidationEventHandler which listens to all Create/Update/Delete events, it uses the <code>Validator</code> <code>validate</code> method and deals with only <code>ConstraintViolation</code>:</p>\n<pre><code>private &lt;T&gt; void validate(T object, EntityMode mode, EntityPersister persister,\n                              SessionFactoryImplementor sessionFactory, GroupsPerOperation.Operation operation) {\n        if ( object == null || mode != EntityMode.POJO ) {\n            return;\n        }\n        TraversableResolver tr = new HibernateTraversableResolver(\n                persister, associationsPerEntityPersister, sessionFactory\n        );\n        Validator validator = factory.usingContext()\n                .traversableResolver( tr )\n                .getValidator();\n        final Class&lt;?&gt;[] groups = groupsPerOperation.get( operation );\n        if ( groups.length &gt; 0 ) {\n            final Set&lt;ConstraintViolation&lt;T&gt;&gt; constraintViolations = validator.validate( object, groups );\n            if ( constraintViolations.size() &gt; 0 ) {\n                Set&lt;ConstraintViolation&lt;?&gt;&gt; propagatedViolations =\n                        new HashSet&lt;ConstraintViolation&lt;?&gt;&gt;( constraintViolations.size() );\n                Set&lt;String&gt; classNames = new HashSet&lt;String&gt;();\n                for ( ConstraintViolation&lt;?&gt; violation : constraintViolations ) {\n                    LOG.trace( violation );\n                    propagatedViolations.add( violation );\n                    classNames.add( violation.getLeafBean().getClass().getName() );\n                }\n                StringBuilder builder = new StringBuilder();\n                builder.append( &quot;Validation failed for classes &quot; );\n                builder.append( classNames );\n                builder.append( &quot; during &quot; );\n                builder.append( operation.getName() );\n                builder.append( &quot; time for groups &quot; );\n                builder.append( toString( groups ) );\n                builder.append( &quot;\\nList of constraint violations:[\\n&quot; );\n                for (ConstraintViolation&lt;?&gt; violation : constraintViolations) {\n                    builder.append( &quot;\\t&quot; ).append( violation.toString() ).append(&quot;\\n&quot;);\n                }\n                builder.append( &quot;]&quot; );\n\n                throw new ConstraintViolationException(\n                        builder.toString(), propagatedViolations\n                );\n            }\n        }\n    }\n</code></pre>\n<p><a href=\"https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/cfg/beanvalidation/BeanValidationEventListener.java\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/cfg/beanvalidation/BeanValidationEventListener.java</a></p>\n<hr />\n<p>The <code>Validator</code> interface deals with ConstraintViolation also:</p>\n<pre><code>public interface Validator {\n\n    /**\n     * Validates all constraints on {@code object}.\n     *\n     * @param object object to validate\n     * @param groups the group or list of groups targeted for validation (defaults to\n     *        {@link Default})\n     * @return constraint violations or an empty set if none\n     * @throws IllegalArgumentException if object is {@code null}\n     *         or if {@code null} is passed to the varargs groups\n     * @throws ValidationException if a non recoverable error happens\n     *         during the validation process\n     */\n    &lt;T&gt; Set&lt;ConstraintViolation&lt;T&gt;&gt; validate(T object, Class&lt;?&gt;... groups);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user10260739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642556607,"creation_date":1642556607,"answer_id":70764405,"question_id":70753111,"body_markdown":"Before saving the User you can check whether the given username already exists or not. If it already exists then don&#39;t save the user and ask to enter another username else save the user.","title":"How to specify constraint for exception","body":"<p>Before saving the User you can check whether the given username already exists or not. If it already exists then don't save the user and ask to enter another username else save the user.</p>\n"}],"owner":{"account_id":23731216,"reputation":71,"user_id":17750444,"display_name":"stan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1642556607,"creation_date":1642497765,"question_id":70753111,"body_markdown":"I have a spring application and I added to my user entity unique constraints for username and email. So users can&#39;t create many accounts with the same username or email. When someone creates a new user with a username that already exists my app throws me ConstraintViolationException\r\n\r\nMy exception details: \r\n\r\n&gt; org.postgresql.util.PSQLException: ERROR: Duplicate key values violate\r\n&gt; unique constraints &quot;ukdfui7gxngrgwn9ewee3ogtgym&quot;    Detail: The key\r\n&gt; (username) = (dev123) already exists.\r\n\r\nMy user entity:\r\n\r\n    @Table(name = &quot;usr&quot;, uniqueConstraints={\r\n    @UniqueConstraint(columnNames ={&quot;username&quot;}),\r\n    @UniqueConstraint(columnNames={&quot;email&quot;})})\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator=&quot;usr_seq&quot;)\r\n        @SequenceGenerator(name = &quot;usr_seq&quot;, sequenceName = &quot;usr_seq&quot;, initialValue = 1, allocationSize=1)\r\n        @Column(name=&quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;username&quot;)\r\n        private String username;\r\n    \r\n        @Column(name = &quot;password&quot;)\r\n        private String password;\r\n    \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n        @Column(name = &quot;role&quot;)\r\n        private Role role;\r\n    \r\n        @Column(name = &quot;email&quot;)\r\n        private String email;\r\n    \r\n        @Column(name = &quot;status&quot;)\r\n        private Status status;\r\n    \r\n    //    @OneToMany(mappedBy = &quot;author&quot;)\r\n    //    private List&lt;Message&gt; messages;\r\n    \r\n    //    @OneToMany(mappedBy = &quot;author&quot;)\r\n    //    private List&lt;Comment&gt; comments;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;gender_id&quot;)\r\n        private Gender gender;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;address_id&quot;)\r\n        private Address address;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;user_subscriptions&quot;,\r\n                joinColumns =  @JoinColumn(name = &quot;channel_id&quot;) ,\r\n                inverseJoinColumns =  @JoinColumn(name = &quot;subscriber_id&quot;))\r\n        private Set&lt;User&gt; subscribers;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;user_subscriptions&quot;,\r\n                joinColumns =  @JoinColumn(name = &quot;subscriber_id&quot;) ,\r\n                inverseJoinColumns =  @JoinColumn(name = &quot;channel_id&quot;))\r\n        private Set&lt;User&gt; subscriptions;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;file_id&quot;)\r\n        private FileEntity fileEntity;\r\n    \r\n    }\r\nMy user table:\r\n\r\n    create table usr\r\n    (\r\n        id         bigint not null\r\n            constraint usr_pkey\r\n                primary key,\r\n        email      varchar(255)\r\n            constraint ukg9l96r670qkidthshajdtxrqf\r\n                unique,\r\n        first_name varchar(255),\r\n        last_name  varchar(255),\r\n        password   varchar(255),\r\n        role       integer,\r\n        status     integer,\r\n        username   varchar(255)\r\n            constraint ukdfui7gxngrgwn9ewee3ogtgym\r\n                unique,\r\n        address_id integer\r\n            constraint fkilsqnqkb7dlk6s5gqedb6lk3r\r\n                references address,\r\n        file_id    bigint\r\n            constraint fkabswqn807logqymtak5wfktfr\r\n                references file,\r\n        gender_id  integer\r\n            constraint fkp89wdnbeu22hjl41g38rk8a1q\r\n                references gender\r\n    );\r\n    \r\n    alter table usr\r\n        owner to postgres;\r\n\r\ni tried to handle that exception in @RestControllerAdvice class:\r\n\r\n    @ExceptionHandler(ConstraintViolationException.class)\r\n        public ResponseEntity&lt;Object&gt; handleConstraintViolationException(){\r\n            ExceptionDetails exceptionDetails = new ExceptionDetails(Errors.ERROR9.getMessage(),timestamp);\r\n            return new ResponseEntity&lt;&gt;(exceptionDetails,HttpStatus.FORBIDDEN);\r\n        }\r\nBut this catches all the problems with the constraints(not null violation, primary key violation, and so on) and I just want to catch specific constraint violations for my username and email\r\n\r\n  [1]: https://i.stack.imgur.com/Sr9PI.png","title":"How to specify constraint for exception","body":"<p>I have a spring application and I added to my user entity unique constraints for username and email. So users can't create many accounts with the same username or email. When someone creates a new user with a username that already exists my app throws me ConstraintViolationException</p>\n<p>My exception details:</p>\n<blockquote>\n<p>org.postgresql.util.PSQLException: ERROR: Duplicate key values violate\nunique constraints &quot;ukdfui7gxngrgwn9ewee3ogtgym&quot;    Detail: The key\n(username) = (dev123) already exists.</p>\n</blockquote>\n<p>My user entity:</p>\n<pre><code>@Table(name = &quot;usr&quot;, uniqueConstraints={\n@UniqueConstraint(columnNames ={&quot;username&quot;}),\n@UniqueConstraint(columnNames={&quot;email&quot;})})\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator=&quot;usr_seq&quot;)\n    @SequenceGenerator(name = &quot;usr_seq&quot;, sequenceName = &quot;usr_seq&quot;, initialValue = 1, allocationSize=1)\n    @Column(name=&quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;username&quot;)\n    private String username;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;role&quot;)\n    private Role role;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;status&quot;)\n    private Status status;\n\n//    @OneToMany(mappedBy = &quot;author&quot;)\n//    private List&lt;Message&gt; messages;\n\n//    @OneToMany(mappedBy = &quot;author&quot;)\n//    private List&lt;Comment&gt; comments;\n\n    @OneToOne\n    @JoinColumn(name = &quot;gender_id&quot;)\n    private Gender gender;\n\n    @OneToOne\n    @JoinColumn(name = &quot;address_id&quot;)\n    private Address address;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;user_subscriptions&quot;,\n            joinColumns =  @JoinColumn(name = &quot;channel_id&quot;) ,\n            inverseJoinColumns =  @JoinColumn(name = &quot;subscriber_id&quot;))\n    private Set&lt;User&gt; subscribers;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;user_subscriptions&quot;,\n            joinColumns =  @JoinColumn(name = &quot;subscriber_id&quot;) ,\n            inverseJoinColumns =  @JoinColumn(name = &quot;channel_id&quot;))\n    private Set&lt;User&gt; subscriptions;\n\n    @OneToOne\n    @JoinColumn(name = &quot;file_id&quot;)\n    private FileEntity fileEntity;\n\n}\n</code></pre>\n<p>My user table:</p>\n<pre><code>create table usr\n(\n    id         bigint not null\n        constraint usr_pkey\n            primary key,\n    email      varchar(255)\n        constraint ukg9l96r670qkidthshajdtxrqf\n            unique,\n    first_name varchar(255),\n    last_name  varchar(255),\n    password   varchar(255),\n    role       integer,\n    status     integer,\n    username   varchar(255)\n        constraint ukdfui7gxngrgwn9ewee3ogtgym\n            unique,\n    address_id integer\n        constraint fkilsqnqkb7dlk6s5gqedb6lk3r\n            references address,\n    file_id    bigint\n        constraint fkabswqn807logqymtak5wfktfr\n            references file,\n    gender_id  integer\n        constraint fkp89wdnbeu22hjl41g38rk8a1q\n            references gender\n);\n\nalter table usr\n    owner to postgres;\n</code></pre>\n<p>i tried to handle that exception in @RestControllerAdvice class:</p>\n<pre><code>@ExceptionHandler(ConstraintViolationException.class)\n    public ResponseEntity&lt;Object&gt; handleConstraintViolationException(){\n        ExceptionDetails exceptionDetails = new ExceptionDetails(Errors.ERROR9.getMessage(),timestamp);\n        return new ResponseEntity&lt;&gt;(exceptionDetails,HttpStatus.FORBIDDEN);\n    }\n</code></pre>\n<p>But this catches all the problems with the constraints(not null violation, primary key violation, and so on) and I just want to catch specific constraint violations for my username and email</p>\n"},{"tags":["java","multithreading","thread-safety"],"comments":[{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1642504749,"post_id":70752764,"comment_id":125082957,"body_markdown":"Because &quot;current thread is not owner&quot;. You can not ```synchronized``` on ```A``` but call ```B#wait``` in  this ```synchronized``` block","body":"Because &quot;current thread is not owner&quot;. You can not <code>synchronized</code> on <code>A</code> but call <code>B#wait</code> in  this <code>synchronized</code> block"}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642556170,"creation_date":1642556170,"answer_id":70764372,"question_id":70752764,"body_markdown":"The reason for the `IllegalMonitorStateException` is that you are calling `wait` on an object (`this`) without holding the monitor for that object. You must either wrap this call with a `synchronized (this)` block, or call `wait` on `Q1.yeni`, which this code already has synchronized.\r\n\r\nHowever, it looks like the use of `wait` might be mistaken. This method is used to wait on a condition, which is signaled with a call to `notify` or `notifyAll` on the same object. Since there is no apparent condition in this code, and no usages of `notify` or `notifyAll`, I suspect that what you really want to call is [`this.sleep(3000)`][1], which pauses the thread for three seconds, then resumes it after that duration elapses.\r\n\r\nThe `sleep` method does not require ownership of any monitors, and does not release ownership of held monitors, so another thread would not be able to enter the `synchronized (Q1.yeni)` block while one is currently sleeping. This implies that the first thread to enter that block will run to completion, iterating through the entire list, before the second thread has a chance to begin. It&#39;s not totally clear if that&#39;s what is intended here.\r\n\r\nSee the documentation for [`Object.wait`][2] and [`Thread.sleep`][1] for more usage information.\r\n\r\nA second problem is that `Q1.yeni` is accessed by these threads before it is necessarily initialized, because the threads are started in the `Q1` constructor, and the statement `yeni = new Q1();` only assigns `yeni` after the constructor completes. In this case, it might be better for the threads to use `synchronized (liste)` instead.\r\n\r\nOther than that, having `synchronized (list)` in the `Q1` constructor does not accomplish much, since the main thread does not access or manipulate the contents of `list` in that section. The only practical effect is that the threads it starts will block when they reach the first call to `liste.size()` until the main thread exits the `synchronized (list)` (immediately after starting the two threads). This has the potential to slightly slow down the first thread that runs, but has no effect on the thread-safety or correctness of the program.\r\n\r\nI would also recommend reviewing [&quot;How to Handle InterruptedException in Java&quot;][3]. In this case, I would recommend restoring the interruption status in the exception handler.\r\n\r\nPut together, here is a revised example of this code (including other minor changes to remove unused code and boilerplate comments, improve formatting, and ensure consistency with Java naming conventions):\r\n\r\n`Q1.java`:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class Q1 {\r\n        private static Q1 yeni;\r\n    \r\n        public static void main(String[] args) {\r\n            yeni = new Q1();\r\n        }\r\n    \r\n        Q1() {\r\n            List&lt;String&gt; list = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n            list.add(&quot;a1&quot;);\r\n            list.add(&quot;b1&quot;);\r\n            list.add(&quot;c1&quot;);\r\n            list.add(&quot;d1&quot;);\r\n            list.add(&quot;e1&quot;);\r\n            list.add(&quot;f1&quot;);\r\n    \r\n            MyThread thread1 = new MyThread(list);\r\n            MyThread thread2 = new MyThread(list);\r\n            thread1.start();\r\n            thread2.start();\r\n        }\r\n    }\r\n\r\n`MyThread.java`:\r\n\r\n    import java.util.*;\r\n    \r\n    public class MyThread extends Thread {\r\n        private final List&lt;String&gt; liste;\r\n    \r\n        public MyThread(List&lt;String&gt; liste) {\r\n            this.liste = liste;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            try {\r\n                synchronized (liste) {\r\n                    System.out.println(&quot;Thread number &quot; + this.getName() + &quot; started running.&quot;);\r\n                    for (int i = 0; i &lt; liste.size(); i++) {\r\n                        System.out.println(liste.get(i));\r\n                        sleep(3000);\r\n                    }\r\n                }\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n                interrupt();\r\n            }\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    Thread number Thread-0 started running.\r\n    a1\r\n    b1\r\n    c1\r\n    d1\r\n    e1\r\n    f1\r\n    Thread number Thread-1 started running.\r\n    a1\r\n    b1\r\n    c1\r\n    d1\r\n    e1\r\n    f1\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#sleep-long-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-\r\n  [3]: https://www.baeldung.com/java-interrupted-exception\r\n\r\n","title":"Getting IllegalMonitorStateException while printing arraylist using threads","body":"<p>The reason for the <code>IllegalMonitorStateException</code> is that you are calling <code>wait</code> on an object (<code>this</code>) without holding the monitor for that object. You must either wrap this call with a <code>synchronized (this)</code> block, or call <code>wait</code> on <code>Q1.yeni</code>, which this code already has synchronized.</p>\n<p>However, it looks like the use of <code>wait</code> might be mistaken. This method is used to wait on a condition, which is signaled with a call to <code>notify</code> or <code>notifyAll</code> on the same object. Since there is no apparent condition in this code, and no usages of <code>notify</code> or <code>notifyAll</code>, I suspect that what you really want to call is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#sleep-long-\" rel=\"nofollow noreferrer\"><code>this.sleep(3000)</code></a>, which pauses the thread for three seconds, then resumes it after that duration elapses.</p>\n<p>The <code>sleep</code> method does not require ownership of any monitors, and does not release ownership of held monitors, so another thread would not be able to enter the <code>synchronized (Q1.yeni)</code> block while one is currently sleeping. This implies that the first thread to enter that block will run to completion, iterating through the entire list, before the second thread has a chance to begin. It's not totally clear if that's what is intended here.</p>\n<p>See the documentation for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-\" rel=\"nofollow noreferrer\"><code>Object.wait</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#sleep-long-\" rel=\"nofollow noreferrer\"><code>Thread.sleep</code></a> for more usage information.</p>\n<p>A second problem is that <code>Q1.yeni</code> is accessed by these threads before it is necessarily initialized, because the threads are started in the <code>Q1</code> constructor, and the statement <code>yeni = new Q1();</code> only assigns <code>yeni</code> after the constructor completes. In this case, it might be better for the threads to use <code>synchronized (liste)</code> instead.</p>\n<p>Other than that, having <code>synchronized (list)</code> in the <code>Q1</code> constructor does not accomplish much, since the main thread does not access or manipulate the contents of <code>list</code> in that section. The only practical effect is that the threads it starts will block when they reach the first call to <code>liste.size()</code> until the main thread exits the <code>synchronized (list)</code> (immediately after starting the two threads). This has the potential to slightly slow down the first thread that runs, but has no effect on the thread-safety or correctness of the program.</p>\n<p>I would also recommend reviewing <a href=\"https://www.baeldung.com/java-interrupted-exception\" rel=\"nofollow noreferrer\">&quot;How to Handle InterruptedException in Java&quot;</a>. In this case, I would recommend restoring the interruption status in the exception handler.</p>\n<p>Put together, here is a revised example of this code (including other minor changes to remove unused code and boilerplate comments, improve formatting, and ensure consistency with Java naming conventions):</p>\n<p><code>Q1.java</code>:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Q1 {\n    private static Q1 yeni;\n\n    public static void main(String[] args) {\n        yeni = new Q1();\n    }\n\n    Q1() {\n        List&lt;String&gt; list = Collections.synchronizedList(new ArrayList&lt;&gt;());\n        list.add(&quot;a1&quot;);\n        list.add(&quot;b1&quot;);\n        list.add(&quot;c1&quot;);\n        list.add(&quot;d1&quot;);\n        list.add(&quot;e1&quot;);\n        list.add(&quot;f1&quot;);\n\n        MyThread thread1 = new MyThread(list);\n        MyThread thread2 = new MyThread(list);\n        thread1.start();\n        thread2.start();\n    }\n}\n</code></pre>\n<p><code>MyThread.java</code>:</p>\n<pre><code>import java.util.*;\n\npublic class MyThread extends Thread {\n    private final List&lt;String&gt; liste;\n\n    public MyThread(List&lt;String&gt; liste) {\n        this.liste = liste;\n    }\n\n    @Override\n    public void run() {\n        try {\n            synchronized (liste) {\n                System.out.println(&quot;Thread number &quot; + this.getName() + &quot; started running.&quot;);\n                for (int i = 0; i &lt; liste.size(); i++) {\n                    System.out.println(liste.get(i));\n                    sleep(3000);\n                }\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n            interrupt();\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Thread number Thread-0 started running.\na1\nb1\nc1\nd1\ne1\nf1\nThread number Thread-1 started running.\na1\nb1\nc1\nd1\ne1\nf1\n</code></pre>\n"}],"owner":{"account_id":22081851,"reputation":103,"user_id":16341308,"display_name":"ahmetsaim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70764372,"answer_count":1,"score":1,"last_activity_date":1642556170,"creation_date":1642496137,"question_id":70752764,"body_markdown":"I am trying to print out the content of arraylist using 2 threads, my main goal is to make threads read arraylist in a  synchronized way and print its content. Eventhough I use synchronized block, I still am getting IllegalMonitorStateException. I know this is a basic question but I can not get it working, pardon me.\r\n\r\n    import java.util.*;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n\r\n    public class Q1 {\r\n\tpublic static Q1 yeni;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tyeni = new Q1();\r\n\t}\r\n\r\n\tQ1() {\r\n\r\n\t\tList&lt;String&gt; list = Collections.synchronizedList(new ArrayList&lt;String&gt;());\r\n\r\n\t\tlist.add(&quot;a1&quot;);\r\n\t\tlist.add(&quot;b1&quot;);\r\n\t\tlist.add(&quot;c1&quot;);\r\n\t\tlist.add(&quot;d1&quot;);\r\n\t\tlist.add(&quot;e1&quot;);\r\n\t\tlist.add(&quot;f1&quot;);\r\n\t\tExecutorService executorService = Executors.newFixedThreadPool(10);\r\n\r\n\t\tsynchronized (list) {\r\n\t\t\tmyThread thread1 = new myThread(list);\r\n\t\t\tmyThread thread2 = new myThread(list);\r\n\t\t\tthread1.start();\r\n\t\t\tthread2.start();\r\n\r\n\t\t}\r\n\t    }\r\n\r\n        }\r\nAnd here is myThread class\r\n\r\n    import java.util.*;\r\n\r\n    public class myThread extends Thread {\r\n\tList&lt;String&gt; liste;\r\n\r\n\tpublic myThread(List&lt;String&gt; liste) {\r\n\t\tthis.liste = liste;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\tsynchronized (Q1.yeni) {\r\n\t\t\t\tSystem.out.println(&quot;Thread number &quot; + this.getName() + &quot; started running.&quot;);\r\n\t\t\t\tfor (int i = 0; i &lt; liste.size(); i++) {\r\n\t\t\t\t\tSystem.out.println(liste.get(i));\r\n\t\t\t\t\tthis.wait(3000);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t    }\r\n\r\n        }\r\n\r\n\r\n","title":"Getting IllegalMonitorStateException while printing arraylist using threads","body":"<p>I am trying to print out the content of arraylist using 2 threads, my main goal is to make threads read arraylist in a  synchronized way and print its content. Eventhough I use synchronized block, I still am getting IllegalMonitorStateException. I know this is a basic question but I can not get it working, pardon me.</p>\n<pre><code>import java.util.*;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class Q1 {\npublic static Q1 yeni;\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    yeni = new Q1();\n}\n\nQ1() {\n\n    List&lt;String&gt; list = Collections.synchronizedList(new ArrayList&lt;String&gt;());\n\n    list.add(&quot;a1&quot;);\n    list.add(&quot;b1&quot;);\n    list.add(&quot;c1&quot;);\n    list.add(&quot;d1&quot;);\n    list.add(&quot;e1&quot;);\n    list.add(&quot;f1&quot;);\n    ExecutorService executorService = Executors.newFixedThreadPool(10);\n\n    synchronized (list) {\n        myThread thread1 = new myThread(list);\n        myThread thread2 = new myThread(list);\n        thread1.start();\n        thread2.start();\n\n    }\n    }\n\n    }\n</code></pre>\n<p>And here is myThread class</p>\n<pre><code>import java.util.*;\n\npublic class myThread extends Thread {\nList&lt;String&gt; liste;\n\npublic myThread(List&lt;String&gt; liste) {\n    this.liste = liste;\n}\n\n@Override\npublic void run() {\n    try {\n        synchronized (Q1.yeni) {\n            System.out.println(&quot;Thread number &quot; + this.getName() + &quot; started running.&quot;);\n            for (int i = 0; i &lt; liste.size(); i++) {\n                System.out.println(liste.get(i));\n                this.wait(3000);\n            }\n        }\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    }\n\n    }\n</code></pre>\n"},{"tags":["java","hibernate","spring-data"],"answers":[{"tags":[],"owner":{"account_id":19428189,"reputation":96,"user_id":14209256,"display_name":"Marcelo Silva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642537578,"creation_date":1642537578,"answer_id":70761973,"question_id":70760093,"body_markdown":"Answering your questions:\r\n\r\n1 - I think it&#39;s ok to fetch this data in one query.\r\n&lt;p&gt;2 - One way you could do it is making a query to bring your top artists and then in your Java code filter the top 3. Another way would be to define the elements size of your page to 3, since the `limit` clause is not supported in hql. There are some ways to compare dates on HQL, you can use the BETWEEN X AND Y clause for example.\r\n\r\nI found this post on stackoverflow about limiting the result, maybe it can help you! https://stackoverflow.com/questions/1239723/how-do-you-do-a-limit-query-in-jpql-or-hql\r\n","title":"Creating a pageable query where each entity has no more than N children","body":"<p>Answering your questions:</p>\n<p>1 - I think it's ok to fetch this data in one query.</p>\n<p>2 - One way you could do it is making a query to bring your top artists and then in your Java code filter the top 3. Another way would be to define the elements size of your page to 3, since the `limit` clause is not supported in hql. There are some ways to compare dates on HQL, you can use the BETWEEN X AND Y clause for example.\n<p>I found this post on stackoverflow about limiting the result, maybe it can help you! <a href=\"https://stackoverflow.com/questions/1239723/how-do-you-do-a-limit-query-in-jpql-or-hql\">How do you do a limit query in JPQL or HQL?</a></p>\n"},{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642555600,"creation_date":1642555600,"answer_id":70764315,"question_id":70760093,"body_markdown":"When the number of tracks per artist is small, it might not hurt a lot to just select the page of artists and fetch all of their tracks (either directly as part of the first query using e.g. join-fetch, or with a second query fetching batches of tracks). The tracks could then be easily sorted and filtered in java.\r\n\r\nHowever, this can also be a real waste of resources, in case a larger amount of tracks is expensively loaded just to be discarded, since only the 3 most popular tracks are needed.\r\n\r\n---\r\n\r\nSo in general, using a single DTO-projection query should be considered.  \r\n\r\nThe problem here is that the projection of child-collections is not that simple:  \r\nhttps://stackoverflow.com/questions/52452550/load-child-collection-dtos-in-jpa-dto-projection-query  \r\nhttps://stackoverflow.com/questions/23719237/mapping-jpa-or-hibernate-projection-query-to-dto-data-transfer-object\r\n\r\nOne convenient way to realize this would be to use [blaze-persistance entity-views](https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/).\r\nIt enables the simple definition and mapping of DTOs including [collection-mappings](https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#limit-mapping).\r\n\r\nA DTO could look like this:\r\n\r\n    @EntityView(ProjectionEntity.class) // &lt;-- parent-entity\r\n    public interface ProjectionEntityView {\r\n\r\n      @IdMapping\r\n      Long getId();\r\n      \r\n      // only include the 3 &#39;most popular&#39; children:\r\n      @Mapping(value = &quot;children&quot;) // &lt;-- associated collection\r\n      @Limit(limit = &quot;3&quot;, order = { &quot;counter DESC&quot; }) // &lt;-- each child has a &#39;counter&#39; prop\r\n      List&lt;ProjectionChildEntityView&gt; getThe3MostPopularChildren(); // child-dto-projection\r\n    }\r\n\r\nAnd it could be queried via a spring-data-repository:\r\n\r\n    public interface ProjectionEntityViewRepository\r\n        extends Repository&lt;ProjectionEntity, Long&gt; {\r\n\r\n      List&lt;ProjectionEntityView&gt; findAll(Pageable pageable);\r\n\r\n    }\r\n\r\n---\r\n\r\n_Extension:_ Suppose that you would want to order the artists by their overall popularity (sum of the popularity of all their tracks), this calculated property could be included into the DTO by specifying a [correlated subquery](https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#anchor-subquery-mappings) as part of the view interface:\r\n\r\n    @EntityView(ProjectionEntity.class)\r\n    public interface ProjectionEntityView {\r\n\r\n    @IdMapping\r\n    Long getId();\r\n\r\n    @Mapping(value = &quot;children&quot;)\r\n    @Limit(limit = &quot;3&quot;, order = { &quot;counter DESC&quot; })\r\n    List&lt;ProjectionChildEntityView&gt; getThe3MostCountedChildren();\r\n\r\n    // &quot;overall popularity of the artist&quot;\r\n    @MappingSubquery(ChildrenCounterSumSubqueryProvider.class)\r\n    Long getCounterSum();\r\n\r\n    class ChildrenCounterSumSubqueryProvider implements SubqueryProvider {\r\n        @Override\r\n        public &lt;T&gt; T createSubquery(SubqueryInitiator&lt;T&gt; subqueryBuilder) {\r\n            return subqueryBuilder.from(ProjectionChildEntity.class, &quot;child&quot;) //\r\n                    .select(&quot;SUM(counter)&quot;) //\r\n                    .where(&quot;child.parent.id&quot;).eqExpression(&quot;EMBEDDING_VIEW(id)&quot;)//\r\n                    .groupBy(&quot;child.parent.id&quot;)\r\n                    .end(); // (query-dsl is also possible)\r\n        }\r\n    }\r\n    }\r\n\r\nThe calculated property can then be referenced as part of a `Sort` as usual:\r\n\r\n    Pageable pageable = PageRequest.of(0, 10, Sort.by(Order.desc(&quot;counterSum&quot;), Order.asc(&quot;id&quot;)));\r\n    var page1 = parentViewRepository.findAll(pageable);\r\n\r\n[complete example](https://github.com/fladdimir/jpa-so-2/tree/master/src/main/java/org/demo/projection) w/ [test](https://github.com/fladdimir/jpa-so-2/blob/master/src/test/java/org/demo/projection/ProjectionTest.java)","title":"Creating a pageable query where each entity has no more than N children","body":"<p>When the number of tracks per artist is small, it might not hurt a lot to just select the page of artists and fetch all of their tracks (either directly as part of the first query using e.g. join-fetch, or with a second query fetching batches of tracks). The tracks could then be easily sorted and filtered in java.</p>\n<p>However, this can also be a real waste of resources, in case a larger amount of tracks is expensively loaded just to be discarded, since only the 3 most popular tracks are needed.</p>\n<hr />\n<p>So in general, using a single DTO-projection query should be considered.</p>\n<p>The problem here is that the projection of child-collections is not that simple:<br />\n<a href=\"https://stackoverflow.com/questions/52452550/load-child-collection-dtos-in-jpa-dto-projection-query\">Load child collection DTOs in JPA DTO projection query</a><br />\n<a href=\"https://stackoverflow.com/questions/23719237/mapping-jpa-or-hibernate-projection-query-to-dto-data-transfer-object\">Mapping JPA or Hibernate projection query to DTO (Data Transfer Object)</a></p>\n<p>One convenient way to realize this would be to use <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/\" rel=\"nofollow noreferrer\">blaze-persistance entity-views</a>.\nIt enables the simple definition and mapping of DTOs including <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#limit-mapping\" rel=\"nofollow noreferrer\">collection-mappings</a>.</p>\n<p>A DTO could look like this:</p>\n<pre><code>@EntityView(ProjectionEntity.class) // &lt;-- parent-entity\npublic interface ProjectionEntityView {\n\n  @IdMapping\n  Long getId();\n  \n  // only include the 3 'most popular' children:\n  @Mapping(value = &quot;children&quot;) // &lt;-- associated collection\n  @Limit(limit = &quot;3&quot;, order = { &quot;counter DESC&quot; }) // &lt;-- each child has a 'counter' prop\n  List&lt;ProjectionChildEntityView&gt; getThe3MostPopularChildren(); // child-dto-projection\n}\n</code></pre>\n<p>And it could be queried via a spring-data-repository:</p>\n<pre><code>public interface ProjectionEntityViewRepository\n    extends Repository&lt;ProjectionEntity, Long&gt; {\n\n  List&lt;ProjectionEntityView&gt; findAll(Pageable pageable);\n\n}\n</code></pre>\n<hr />\n<p><em>Extension:</em> Suppose that you would want to order the artists by their overall popularity (sum of the popularity of all their tracks), this calculated property could be included into the DTO by specifying a <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#anchor-subquery-mappings\" rel=\"nofollow noreferrer\">correlated subquery</a> as part of the view interface:</p>\n<pre><code>@EntityView(ProjectionEntity.class)\npublic interface ProjectionEntityView {\n\n@IdMapping\nLong getId();\n\n@Mapping(value = &quot;children&quot;)\n@Limit(limit = &quot;3&quot;, order = { &quot;counter DESC&quot; })\nList&lt;ProjectionChildEntityView&gt; getThe3MostCountedChildren();\n\n// &quot;overall popularity of the artist&quot;\n@MappingSubquery(ChildrenCounterSumSubqueryProvider.class)\nLong getCounterSum();\n\nclass ChildrenCounterSumSubqueryProvider implements SubqueryProvider {\n    @Override\n    public &lt;T&gt; T createSubquery(SubqueryInitiator&lt;T&gt; subqueryBuilder) {\n        return subqueryBuilder.from(ProjectionChildEntity.class, &quot;child&quot;) //\n                .select(&quot;SUM(counter)&quot;) //\n                .where(&quot;child.parent.id&quot;).eqExpression(&quot;EMBEDDING_VIEW(id)&quot;)//\n                .groupBy(&quot;child.parent.id&quot;)\n                .end(); // (query-dsl is also possible)\n    }\n}\n}\n</code></pre>\n<p>The calculated property can then be referenced as part of a <code>Sort</code> as usual:</p>\n<pre><code>Pageable pageable = PageRequest.of(0, 10, Sort.by(Order.desc(&quot;counterSum&quot;), Order.asc(&quot;id&quot;)));\nvar page1 = parentViewRepository.findAll(pageable);\n</code></pre>\n<p><a href=\"https://github.com/fladdimir/jpa-so-2/tree/master/src/main/java/org/demo/projection\" rel=\"nofollow noreferrer\">complete example</a> w/ <a href=\"https://github.com/fladdimir/jpa-so-2/blob/master/src/test/java/org/demo/projection/ProjectionTest.java\" rel=\"nofollow noreferrer\">test</a></p>\n"}],"owner":{"account_id":22125116,"reputation":11,"user_id":16377634,"display_name":"ivanko_p"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642555600,"creation_date":1642527781,"question_id":70760093,"body_markdown":"I want to write a query that would fetch a page of artists with top 3 most listened tracks. Is it possible to accomplish this with a single repository query? Or would it be better to create a query fetching most popular artists first and then fetch top 3 tracks for each artist using separate queries? \r\n\r\nInitially I wanted to accomplish it with a non-native query like this (which only fetches top popular artists by tracks and doesn&#39;t limit tracks):\r\n\r\n    @Query(value = &quot;SELECT author FROM Artist artist JOIN artist.tracks track JOIN track.usersListenedTrack ult&quot; +\r\n            &quot; WHERE ult.listenedAt &gt;= :time&quot; +\r\n            &quot; GROUP BY artist&quot; +\r\n            &quot; ORDER BY COUNT(artist) DESC&quot;)\r\n    Page&lt;Artist&gt; findPopularArtistsByPeriod(Instant time, Pageable pageable);\r\n\r\nBut because non-native queries don&#39;t support `LIMIT` operator I guess I need to use a native sql (postgres in my case)\r\n\r\nSo, the query should look something like this:\r\n\r\n    @Query(native = true, value = &quot;SELECT * FROM artist a &quot; +\r\n        &quot; INNER JOIN artist_tracks at ON at.artist_id = a.id&quot; +\r\n        &quot; INNER JOIN tracks t ON at.track_id = t.id&quot; +\r\n        &quot; INNER JOIN (SELECT * from listened_tracks lt WHERE ?????) tmp ON tmp.track_id = t.id&quot; +\r\n            &quot; WHERE lt.listened_at &gt;= :time&quot; +\r\n            &quot; GROUP BY artist&quot; +\r\n            &quot; ORDER BY COUNT(artist) DESC&quot;)\r\n    Page&lt;Artist&gt; findPopularArtistsByPeriod(Instant time, Pageable pageable);\r\n\r\nBut I&#39;m not sure how to select top 3 tracks from `listened_tracks` grouped by artist\r\n\r\nSo, my questions are:\r\n\r\n1. Is it ok to fetch such data in one query?\r\n2. What is the right way of querieng the `listened_tracks` table to fetch top 3 tracks by artist","title":"Creating a pageable query where each entity has no more than N children","body":"<p>I want to write a query that would fetch a page of artists with top 3 most listened tracks. Is it possible to accomplish this with a single repository query? Or would it be better to create a query fetching most popular artists first and then fetch top 3 tracks for each artist using separate queries?</p>\n<p>Initially I wanted to accomplish it with a non-native query like this (which only fetches top popular artists by tracks and doesn't limit tracks):</p>\n<pre><code>@Query(value = &quot;SELECT author FROM Artist artist JOIN artist.tracks track JOIN track.usersListenedTrack ult&quot; +\n        &quot; WHERE ult.listenedAt &gt;= :time&quot; +\n        &quot; GROUP BY artist&quot; +\n        &quot; ORDER BY COUNT(artist) DESC&quot;)\nPage&lt;Artist&gt; findPopularArtistsByPeriod(Instant time, Pageable pageable);\n</code></pre>\n<p>But because non-native queries don't support <code>LIMIT</code> operator I guess I need to use a native sql (postgres in my case)</p>\n<p>So, the query should look something like this:</p>\n<pre><code>@Query(native = true, value = &quot;SELECT * FROM artist a &quot; +\n    &quot; INNER JOIN artist_tracks at ON at.artist_id = a.id&quot; +\n    &quot; INNER JOIN tracks t ON at.track_id = t.id&quot; +\n    &quot; INNER JOIN (SELECT * from listened_tracks lt WHERE ?????) tmp ON tmp.track_id = t.id&quot; +\n        &quot; WHERE lt.listened_at &gt;= :time&quot; +\n        &quot; GROUP BY artist&quot; +\n        &quot; ORDER BY COUNT(artist) DESC&quot;)\nPage&lt;Artist&gt; findPopularArtistsByPeriod(Instant time, Pageable pageable);\n</code></pre>\n<p>But I'm not sure how to select top 3 tracks from <code>listened_tracks</code> grouped by artist</p>\n<p>So, my questions are:</p>\n<ol>\n<li>Is it ok to fetch such data in one query?</li>\n<li>What is the right way of querieng the <code>listened_tracks</code> table to fetch top 3 tracks by artist</li>\n</ol>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1642552821,"post_id":70763964,"comment_id":125099901,"body_markdown":"You&#39;ll need a method on `Student` which returns the value of `average`. Then you can sum the average mark of each student just as you summed the scores for a single student.","body":"You&#39;ll need a method on <code>Student</code> which returns the value of <code>average</code>. Then you can sum the average mark of each student just as you summed the scores for a single student."}],"answers":[{"tags":[],"owner":{"account_id":18361596,"reputation":91,"user_id":13373575,"display_name":"MadMax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642555018,"creation_date":1642555018,"answer_id":70764262,"question_id":70763964,"body_markdown":"You are calculating the average of each student but you are not retrieving it. You can keep calculating it through the constructor and just add a getter for the average of each student.\r\n\r\n```\r\npublic double getAverage() {   \r\n    return average;\r\n}\r\n```\r\n\r\nI would try something like this:\r\n\r\n```\r\n while(scan.hasNext()){\r\n        int score[]= new int[5];\r\n        name=scan.next();\r\n        for(int i=0;i&lt;score.length;i++) {\r\n            score[i]=scan.nextInt();\r\n        }\r\n        students[studentCount]=new Student(name, score);\r\n        average += students[studentCount].getAverage(); \r\n        studentCount++;\r\n    }\r\n  double classAverage = average/studentCount;\r\n```\r\nAlso you won&#39;t need to let the method Calculate Average to return anything so you can leave it as a void method like so:\r\n\r\n```\r\npublic void calculateAverage() {\r\n    double sum = 0;\r\n    for(int i = 0; i &lt; score.length; i++) {\r\n        sum+=score[i];\r\n    }\r\n        average = sum/score.length;\r\n}\r\n\r\n```","title":"How would I add up each individual average created from a method?","body":"<p>You are calculating the average of each student but you are not retrieving it. You can keep calculating it through the constructor and just add a getter for the average of each student.</p>\n<pre><code>public double getAverage() {   \n    return average;\n}\n</code></pre>\n<p>I would try something like this:</p>\n<pre><code> while(scan.hasNext()){\n        int score[]= new int[5];\n        name=scan.next();\n        for(int i=0;i&lt;score.length;i++) {\n            score[i]=scan.nextInt();\n        }\n        students[studentCount]=new Student(name, score);\n        average += students[studentCount].getAverage(); \n        studentCount++;\n    }\n  double classAverage = average/studentCount;\n</code></pre>\n<p>Also you won't need to let the method Calculate Average to return anything so you can leave it as a void method like so:</p>\n<pre><code>public void calculateAverage() {\n    double sum = 0;\n    for(int i = 0; i &lt; score.length; i++) {\n        sum+=score[i];\n    }\n        average = sum/score.length;\n}\n\n</code></pre>\n"}],"owner":{"account_id":15677351,"reputation":27,"user_id":11312285,"display_name":"Amber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642555018,"creation_date":1642551819,"question_id":70763964,"body_markdown":"I have this program that calculates each persons test score average and it counts each student. I need to print the class average and I know that I just need to add up the averages and then divide by the number of students, my issue is I&#39;m not sure how to actually add up the averages and I&#39;m just a little stuck - any help would be appreciated! \r\nHere&#39;s my code:\r\n\r\npublic class GradeAnalyzer {\r\n\r\n\tpublic static void main(String[] args) throws FileNotFoundException, IOException {\r\n\t\t\r\n\t\tStudent students[] = new Student[30];\r\n\t\tScanner scan = new Scanner(new File(&quot;student_grades.txt&quot;));\r\n\t\tint studentCount = 0;\r\n\t\tString name;\r\n\t\tdouble average = 0;\r\n\r\n\t\twhile(scan.hasNext()){\r\n\t\t\tint score[]= new int[5];\r\n\t\t\tname=scan.next();\r\n\t\t\tfor(int i=0;i&lt;score.length;i++) {\r\n\t\t\t\tscore[i]=scan.nextInt();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tstudents[studentCount++]=new Student(name, score);\r\n\t\t}\r\n\t\t\r\n\t\tfor(int i=0;i&lt;students.length;i++) {\r\n\t\t\t\r\n\t\t\t//I assume I would put it here, but I&#39;m pretty sure I could also put it in the for loop above as well \r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tdouble classAverage = average/studentCount;\r\n\r\nand my calculateAverage method:\r\npublic class Student {\r\n\r\n\tprivate String name;\r\n\tprivate char grade;\r\n\tprivate double average;\r\n\tprivate int score[] = new int[5];\r\n\t\r\n\tpublic Student(String name, int[] score) {\r\n\t\tthis.name = name;\r\n\t\tthis.score = score;\r\n\t\tcalculateAverage();\r\n\t\tcalculateGrade();\r\n\t}\r\n\t\r\n\tpublic double calculateAverage() {\r\n\t\tdouble sum = 0;\r\n\t\tfor(int i = 0; i &lt; score.length; i++) {\r\n\t\t\tsum+=score[i];\r\n\t\t}\r\n\t\t\taverage = sum/score.length;\r\n\t\t\treturn average;\r\n\t}","title":"How would I add up each individual average created from a method?","body":"<p>I have this program that calculates each persons test score average and it counts each student. I need to print the class average and I know that I just need to add up the averages and then divide by the number of students, my issue is I'm not sure how to actually add up the averages and I'm just a little stuck - any help would be appreciated!\nHere's my code:</p>\n<p>public class GradeAnalyzer {</p>\n<pre><code>public static void main(String[] args) throws FileNotFoundException, IOException {\n    \n    Student students[] = new Student[30];\n    Scanner scan = new Scanner(new File(&quot;student_grades.txt&quot;));\n    int studentCount = 0;\n    String name;\n    double average = 0;\n\n    while(scan.hasNext()){\n        int score[]= new int[5];\n        name=scan.next();\n        for(int i=0;i&lt;score.length;i++) {\n            score[i]=scan.nextInt();\n            \n        }\n        students[studentCount++]=new Student(name, score);\n    }\n    \n    for(int i=0;i&lt;students.length;i++) {\n        \n        //I assume I would put it here, but I'm pretty sure I could also put it in the for loop above as well \n        \n    }\n    \n    double classAverage = average/studentCount;\n</code></pre>\n<p>and my calculateAverage method:\npublic class Student {</p>\n<pre><code>private String name;\nprivate char grade;\nprivate double average;\nprivate int score[] = new int[5];\n\npublic Student(String name, int[] score) {\n    this.name = name;\n    this.score = score;\n    calculateAverage();\n    calculateGrade();\n}\n\npublic double calculateAverage() {\n    double sum = 0;\n    for(int i = 0; i &lt; score.length; i++) {\n        sum+=score[i];\n    }\n        average = sum/score.length;\n        return average;\n}\n</code></pre>\n"},{"tags":["python","java","monkeyrunner"],"comments":[{"owner":{"account_id":230492,"reputation":30459,"user_id":494134,"accept_rate":66,"display_name":"John Gordon"},"score":0,"creation_date":1642554894,"post_id":70764234,"comment_id":125100294,"body_markdown":"`com.android.monkeyrunner` looks like a Java thing.  Are you sure that&#39;s the right package name for Python?","body":"<code>com.android.monkeyrunner</code> looks like a Java thing.  Are you sure that&#39;s the right package name for Python?"},{"owner":{"account_id":21435774,"reputation":1,"user_id":15791269,"display_name":"Ricky"},"score":0,"creation_date":1642555355,"post_id":70764234,"comment_id":125100367,"body_markdown":"I find the package on this page. https://developer.android.com/studio/test/monkeyrunner","body":"I find the package on this page. <a href=\"https://developer.android.com/studio/test/monkeyrunner\" rel=\"nofollow noreferrer\">developer.android.com/studio/test/monkeyrunner</a>"},{"owner":{"account_id":230492,"reputation":30459,"user_id":494134,"accept_rate":66,"display_name":"John Gordon"},"score":0,"creation_date":1642555456,"post_id":70764234,"comment_id":125100387,"body_markdown":"Okay, that is the right package name.  But it says you have to use Jython, not regular Python.  Are you using that?","body":"Okay, that is the right package name.  But it says you have to use Jython, not regular Python.  Are you using that?"},{"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"score":0,"creation_date":1642655198,"post_id":70764234,"comment_id":125130101,"body_markdown":"You need `monkeyrunner` as the interpreter. If your intention is to use `python` you can take a look at [AndroidViewClient/culebra](https://github.com/dtmilano/AndroidViewClient) which provides similar functionality but using standard python3","body":"You need <code>monkeyrunner</code> as the interpreter. If your intention is to use <code>python</code> you can take a look at <a href=\"https://github.com/dtmilano/AndroidViewClient\" rel=\"nofollow noreferrer\">AndroidViewClient/culebra</a> which provides similar functionality but using standard python3"}],"owner":{"account_id":21435774,"reputation":1,"user_id":15791269,"display_name":"Ricky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642554773,"creation_date":1642554773,"question_id":70764234,"body_markdown":"   I want to use the monkeyrunner by python, but it showed the error &quot; No module named &#39;com&#39; &quot;.\r\n\r\n     from com.android.monkeyrunner import MonkeyRunner,MonkeyDevice\r\n\r\nTherefore, I searched lots of slovers to edit my monkeyrunner.bat, set the environment variable, but when I called the monkeyrunner on the command line, it still wrong.\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/android/chimpchat/\r\n        at com.android.monkeyrunner.MonkeyRunnerStarter.&lt;init&gt;(MonkeyRunnerStarter.java:60)\r\n        at com.android.monkeyrunner.MonkeyRunnerStarter.main(MonkeyRunnerStarter.java:188)\r\n    Caused by: java.lang.ClassNotFoundException: com.android.chimpchat.ChimpChat\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n            ... 2 more\r\n\r\nWhat&#39;s my problem?  \r\n\r\n[My path][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zIsVR.png","title":"No module named &#39;com&#39; when I used the monkeyrunner by python","body":"<p>I want to use the monkeyrunner by python, but it showed the error &quot; No module named 'com' &quot;.</p>\n<pre><code> from com.android.monkeyrunner import MonkeyRunner,MonkeyDevice\n</code></pre>\n<p>Therefore, I searched lots of slovers to edit my monkeyrunner.bat, set the environment variable, but when I called the monkeyrunner on the command line, it still wrong.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/android/chimpchat/\n    at com.android.monkeyrunner.MonkeyRunnerStarter.&lt;init&gt;(MonkeyRunnerStarter.java:60)\n    at com.android.monkeyrunner.MonkeyRunnerStarter.main(MonkeyRunnerStarter.java:188)\nCaused by: java.lang.ClassNotFoundException: com.android.chimpchat.ChimpChat\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 2 more\n</code></pre>\n<p>What's my problem?</p>\n<p><a href=\"https://i.stack.imgur.com/zIsVR.png\" rel=\"nofollow noreferrer\">My path</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1642549920,"post_id":70763757,"comment_id":125099423,"body_markdown":"You need to look at the, many, possible options which are available for creating an exe from a Jar/java project and see which ones allow you to embedded the JRE (this will EXPLODE the size of the resulting exe).  Alternatively, you could bundle the JRE along side the exe, again, you&#39;ll need to check which  products will allow you to specify the JRE path to be used.  I did (the second one) years ago, but we also had a installer to do all that nice heavy lifting.  And, no I don&#39;t recall any &quot;java to native binary&quot; converter (that at least actually worked)","body":"You need to look at the, many, possible options which are available for creating an exe from a Jar/java project and see which ones allow you to embedded the JRE (this will EXPLODE the size of the resulting exe).  Alternatively, you could bundle the JRE along side the exe, again, you&#39;ll need to check which  products will allow you to specify the JRE path to be used.  I did (the second one) years ago, but we also had a installer to do all that nice heavy lifting.  And, no I don&#39;t recall any &quot;java to native binary&quot; converter (that at least actually worked)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1642550112,"post_id":70763757,"comment_id":125099448,"body_markdown":"For [example](https://stackoverflow.com/questions/13996547/how-do-i-bundle-a-jre-into-an-exe-for-a-java-application-launch4j-says-runtime), [might be interesting](https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/self-contained-packaging.html), [is a little dated, but](https://robbamforth.wordpress.com/2016/01/29/java-how-to-bundle-a-java-app-as-an-windows-executable-exe-jar-to-exe-6/)","body":"For <a href=\"https://stackoverflow.com/questions/13996547/how-do-i-bundle-a-jre-into-an-exe-for-a-java-application-launch4j-says-runtime\">example</a>, <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/self-contained-packaging.html\" rel=\"nofollow noreferrer\">might be interesting</a>, <a href=\"https://robbamforth.wordpress.com/2016/01/29/java-how-to-bundle-a-java-app-as-an-windows-executable-exe-jar-to-exe-6/\" rel=\"nofollow noreferrer\">is a little dated, but</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1642550308,"post_id":70763757,"comment_id":125099475,"body_markdown":"You may want to learn about [jlink](https://openjdk.java.net/jeps/282) and [jpackage](https://openjdk.java.net/jeps/392).","body":"You may want to learn about <a href=\"https://openjdk.java.net/jeps/282\" rel=\"nofollow noreferrer\">jlink</a> and <a href=\"https://openjdk.java.net/jeps/392\" rel=\"nofollow noreferrer\">jpackage</a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1642564772,"post_id":70763757,"comment_id":125101918,"body_markdown":"You may find https://stackoverflow.com/questions/53453212/how-to-deploy-a-javafx-11-desktop-application-with-a-jre helpful.","body":"You may find <a href=\"https://stackoverflow.com/questions/53453212/how-to-deploy-a-javafx-11-desktop-application-with-a-jre\" title=\"how to deploy a javafx 11 desktop application with a jre\">stackoverflow.com/questions/53453212/&hellip;</a> helpful."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642553433,"creation_date":1642553433,"answer_id":70764121,"question_id":70763757,"body_markdown":"You can also use GraalVM. This brings an app called native-image, which you can run like this:\r\n\r\n    &quot;D:\\apps\\graalvm\\graalvm-ce-java11-21.0.0.2\\bin\\native-image&quot; -cp &quot;D:\\workspace\\HelloWold\\bin2&quot; Main &quot;D:\\workspace\\HelloWold\\release\\HelloWold&quot;\r\n\r\nAnd which will output a standalone .exe file.","title":"How do you export a Java project to an EXE without needing Java to run the EXE?","body":"<p>You can also use GraalVM. This brings an app called native-image, which you can run like this:</p>\n<pre><code>&quot;D:\\apps\\graalvm\\graalvm-ce-java11-21.0.0.2\\bin\\native-image&quot; -cp &quot;D:\\workspace\\HelloWold\\bin2&quot; Main &quot;D:\\workspace\\HelloWold\\release\\HelloWold&quot;\n</code></pre>\n<p>And which will output a standalone .exe file.</p>\n"}],"owner":{"account_id":23981778,"reputation":1,"user_id":17969081,"display_name":"Memento"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642553433,"creation_date":1642549613,"question_id":70763757,"body_markdown":"The Title is probably worded weirdly.\r\n\r\nI&#39;ve been using Jarsplice to convert my Jar files into Exes and they&#39;re able to run properly. But when I try to run the exes on different computers it would say that Java is required to run the program. So I just wanted to know if anyone knows how to and what can convert jar files into exes without java being necessary to install on other devices.","title":"How do you export a Java project to an EXE without needing Java to run the EXE?","body":"<p>The Title is probably worded weirdly.</p>\n<p>I've been using Jarsplice to convert my Jar files into Exes and they're able to run properly. But when I try to run the exes on different computers it would say that Java is required to run the program. So I just wanted to know if anyone knows how to and what can convert jar files into exes without java being necessary to install on other devices.</p>\n"},{"tags":["java","swt","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642552986,"creation_date":1642552986,"answer_id":70764065,"question_id":70758061,"body_markdown":"This is a bug, reported in [issue #98][1]: _`setTickLabelFont` is not respected for `LogAxis` if `setNumberFormatOverride` is used_. It is fixed in branch [v1.5.x][2]. You can omit the override, use the workaround in the bug report, or build `jfreechart-1.5.4-SNAPSHOT.jar`, illustrated, like [this][3].\r\n\r\n[![image][4]][4]\r\n\r\n```\r\nimport java.awt.EventQueue;\r\nimport java.awt.Font;\r\nimport java.io.IOException;\r\nimport java.text.DecimalFormat;\r\nimport java.util.Random;\r\nimport javax.swing.JFrame;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.axis.LogAxis;\r\nimport org.jfree.chart.axis.NumberAxis;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\r\nimport org.jfree.data.xy.XYSeries;\r\nimport org.jfree.data.xy.XYSeriesCollection;\r\n\r\n/** @see https://stackoverflow.com/q/70758061/230513 */\r\npublic class ExpoTest {\r\n\r\n    private static final int N = 100;\r\n    private static final Font FONT = new Font(Font.SANS_SERIF, Font.BOLD, 16);\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        EventQueue.invokeLater(new ExpoTest()::display);\r\n    }\r\n\r\n    private void display() {\r\n        Random r = new Random();\r\n        XYSeries series = new XYSeries(&quot;rand&quot;);\r\n        for (int i = 0; i &lt; N; i++) {\r\n            series.add(r.nextDouble(), r.nextDouble() / 1000);\r\n        }\r\n        NumberAxis domainAxis = new NumberAxis();\r\n        domainAxis.setTickLabelFont(FONT);\r\n        LogAxis rangeAxis = new LogAxis(&quot;log&quot;);\r\n        rangeAxis.setTickLabelFont(FONT);\r\n        rangeAxis.setNumberFormatOverride(new DecimalFormat(&quot;0.0E0&quot;));\r\n        XYPlot p = new XYPlot(new XYSeriesCollection(series), domainAxis,\r\n            rangeAxis, new XYLineAndShapeRenderer());\r\n        JFreeChart chart = new JFreeChart(p);\r\n        JFrame f = new JFrame(&quot;Log Axis&quot;);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.add(new ChartPanel(chart));\r\n        f.pack();\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/jfree/jfreechart/issues/98\r\n  [2]: https://github.com/jfree/jfreechart/tree/v1.5.x\r\n  [3]: https://stackoverflow.com/a/69653678/230513\r\n  [4]: https://i.stack.imgur.com/LomdH.png","title":"Change the font size of the y-axis and x-axis values","body":"<p>This is a bug, reported in <a href=\"https://github.com/jfree/jfreechart/issues/98\" rel=\"nofollow noreferrer\">issue #98</a>: <em><code>setTickLabelFont</code> is not respected for <code>LogAxis</code> if <code>setNumberFormatOverride</code> is used</em>. It is fixed in branch <a href=\"https://github.com/jfree/jfreechart/tree/v1.5.x\" rel=\"nofollow noreferrer\">v1.5.x</a>. You can omit the override, use the workaround in the bug report, or build <code>jfreechart-1.5.4-SNAPSHOT.jar</code>, illustrated, like <a href=\"https://stackoverflow.com/a/69653678/230513\">this</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/LomdH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LomdH.png\" alt=\"image\" /></a></p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.Font;\nimport java.io.IOException;\nimport java.text.DecimalFormat;\nimport java.util.Random;\nimport javax.swing.JFrame;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.axis.LogAxis;\nimport org.jfree.chart.axis.NumberAxis;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\nimport org.jfree.data.xy.XYSeries;\nimport org.jfree.data.xy.XYSeriesCollection;\n\n/** @see https://stackoverflow.com/q/70758061/230513 */\npublic class ExpoTest {\n\n    private static final int N = 100;\n    private static final Font FONT = new Font(Font.SANS_SERIF, Font.BOLD, 16);\n\n    public static void main(String[] args) throws IOException {\n        EventQueue.invokeLater(new ExpoTest()::display);\n    }\n\n    private void display() {\n        Random r = new Random();\n        XYSeries series = new XYSeries(&quot;rand&quot;);\n        for (int i = 0; i &lt; N; i++) {\n            series.add(r.nextDouble(), r.nextDouble() / 1000);\n        }\n        NumberAxis domainAxis = new NumberAxis();\n        domainAxis.setTickLabelFont(FONT);\n        LogAxis rangeAxis = new LogAxis(&quot;log&quot;);\n        rangeAxis.setTickLabelFont(FONT);\n        rangeAxis.setNumberFormatOverride(new DecimalFormat(&quot;0.0E0&quot;));\n        XYPlot p = new XYPlot(new XYSeriesCollection(series), domainAxis,\n            rangeAxis, new XYLineAndShapeRenderer());\n        JFreeChart chart = new JFreeChart(p);\n        JFrame f = new JFrame(&quot;Log Axis&quot;);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.add(new ChartPanel(chart));\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23877960,"reputation":33,"user_id":17878955,"display_name":"tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70764065,"answer_count":1,"score":1,"last_activity_date":1642552986,"creation_date":1642519230,"question_id":70758061,"body_markdown":"In the following code, I want to reduce the font size of the y-axis and x-axis values.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI searched and found these code:\r\n\r\nsuppose you want to reduce the font size of number axis use the following code:\r\n\r\n    Font nwfont=new Font(&quot;Arial&quot;,0,7);\r\n    NumberAxis rangeAxis = (NumberAxis) plot.getRangeAxis();\r\n    rangeAxis.setTickLabelFont(nwfont);\r\n\r\nsuppose you want to reduce the font size of CategoryAxis use the following code:\r\n\r\n    CategoryAxis domainAxis = plot.getDomainAxis();\r\n    domainAxis.setTickLabelFont(nwfont);\r\n\r\n\r\nbut unfortunately, the size of the axes did not decrease.\r\nDid I do something wrong?\r\n\r\n\r\nthis sample code:\r\n\r\n   \r\n\r\n     public class NegativeExpPlot {\r\n    \r\n            public static void main(String[] args) throws IOException {\r\n                EventQueue.invokeLater(new NegativeExpPlot()::display);\r\n            }\r\n    \r\n            private void display() {\r\n                int nData = 100;\r\n                Random r = new Random(nData);\r\n                XYSeries ds1 = new XYSeries(&quot;rand&quot;);\r\n                for (int i = 0; i &lt; nData; i++) {\r\n                    ds1.add(r.nextDouble(), r.nextDouble() / 1000);\r\n                }\r\n                for (int i = 0; i &lt; nData; i++) {\r\n                    ds1.add(r.nextDouble(), r.nextDouble() * 1000);\r\n                }\r\n                LogAxis logAxis = new LogAxis(&quot;log&quot;);\r\n                XYPlot p = new XYPlot(new XYSeriesCollection(ds1), new NumberAxis(),\r\n                    logAxis, new XYLineAndShapeRenderer());\r\n                logAxis.setNumberFormatOverride(new DecimalFormat(&quot;0.0E0&quot;));\r\n                Font nwfont=new Font(&quot;Arial&quot;,0,1);\r\n                logAxis.setTickLabelFont(nwfont);\r\n                JFreeChart chart = new JFreeChart(p);\r\n                JFrame f = new JFrame(&quot;Log Axis&quot;);\r\n                f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                f.add(new ChartPanel(chart));\r\n                f.pack();\r\n                f.setLocationRelativeTo(null);\r\n                f.setVisible(true);\r\n                NumberAxis rangeAxis = (NumberAxis) p.getRangeAxis();\r\n                rangeAxis.setTickLabelFont(nwfont);\r\n            }\r\n    \r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jOP0B.png","title":"Change the font size of the y-axis and x-axis values","body":"<p>In the following code, I want to reduce the font size of the y-axis and x-axis values.</p>\n<p><a href=\"https://i.stack.imgur.com/jOP0B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jOP0B.png\" alt=\"enter image description here\" /></a></p>\n<p>I searched and found these code:</p>\n<p>suppose you want to reduce the font size of number axis use the following code:</p>\n<pre><code>Font nwfont=new Font(&quot;Arial&quot;,0,7);\nNumberAxis rangeAxis = (NumberAxis) plot.getRangeAxis();\nrangeAxis.setTickLabelFont(nwfont);\n</code></pre>\n<p>suppose you want to reduce the font size of CategoryAxis use the following code:</p>\n<pre><code>CategoryAxis domainAxis = plot.getDomainAxis();\ndomainAxis.setTickLabelFont(nwfont);\n</code></pre>\n<p>but unfortunately, the size of the axes did not decrease.\nDid I do something wrong?</p>\n<p>this sample code:</p>\n<pre><code> public class NegativeExpPlot {\n\n        public static void main(String[] args) throws IOException {\n            EventQueue.invokeLater(new NegativeExpPlot()::display);\n        }\n\n        private void display() {\n            int nData = 100;\n            Random r = new Random(nData);\n            XYSeries ds1 = new XYSeries(&quot;rand&quot;);\n            for (int i = 0; i &lt; nData; i++) {\n                ds1.add(r.nextDouble(), r.nextDouble() / 1000);\n            }\n            for (int i = 0; i &lt; nData; i++) {\n                ds1.add(r.nextDouble(), r.nextDouble() * 1000);\n            }\n            LogAxis logAxis = new LogAxis(&quot;log&quot;);\n            XYPlot p = new XYPlot(new XYSeriesCollection(ds1), new NumberAxis(),\n                logAxis, new XYLineAndShapeRenderer());\n            logAxis.setNumberFormatOverride(new DecimalFormat(&quot;0.0E0&quot;));\n            Font nwfont=new Font(&quot;Arial&quot;,0,1);\n            logAxis.setTickLabelFont(nwfont);\n            JFreeChart chart = new JFreeChart(p);\n            JFrame f = new JFrame(&quot;Log Axis&quot;);\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            f.add(new ChartPanel(chart));\n            f.pack();\n            f.setLocationRelativeTo(null);\n            f.setVisible(true);\n            NumberAxis rangeAxis = (NumberAxis) p.getRangeAxis();\n            rangeAxis.setTickLabelFont(nwfont);\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":2426036,"reputation":479,"user_id":2117938,"display_name":"Alec"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642022842,"creation_date":1642022842,"answer_id":70688631,"question_id":70687786,"body_markdown":"You can pass the options as a POJO.\r\n\r\n    public class JsonSpec {\r\n        public String stringArg;\r\n        public int intArg;\r\n    }\r\n\r\nThen reference in your options\r\n\r\n    public interface CustomPipelineOptions extends PipelineOptions {\r\n        @Description(&quot;The Json spec&quot;)\r\n        JsonSpec getJsonSpec();\r\n        void setJsonSpec(JsonSpec jsonSpec);\r\n    }\r\n\r\nOptions will be parsed to the class; [I believe by Jackson though not sure.][1]\r\n\r\nI am wondering why you want to pass in &quot;hundreds of lines of JSON&quot; as a pipeline option? This doesn&#39;t seem like a very &quot;Beam&quot; way of doing things. Pipeline options should pass configuration; do you really need hundreds of lines of configuration per pipeline run? If you intend to pass data to create a PCollection then better off using TextIO and then processing lines as JSON.\r\n\r\n\r\n  [1]: https://beam.apache.org/releases/javadoc/2.35.0/org/apache/beam/sdk/options/PipelineOptionsFactory.Builder.html#fromArgs-java.lang.String...-","title":"Best practice to pass large pipeline option in apache beam","body":"<p>You can pass the options as a POJO.</p>\n<pre><code>public class JsonSpec {\n    public String stringArg;\n    public int intArg;\n}\n</code></pre>\n<p>Then reference in your options</p>\n<pre><code>public interface CustomPipelineOptions extends PipelineOptions {\n    @Description(&quot;The Json spec&quot;)\n    JsonSpec getJsonSpec();\n    void setJsonSpec(JsonSpec jsonSpec);\n}\n</code></pre>\n<p>Options will be parsed to the class; <a href=\"https://beam.apache.org/releases/javadoc/2.35.0/org/apache/beam/sdk/options/PipelineOptionsFactory.Builder.html#fromArgs-java.lang.String...-\" rel=\"nofollow noreferrer\">I believe by Jackson though not sure.</a></p>\n<p>I am wondering why you want to pass in &quot;hundreds of lines of JSON&quot; as a pipeline option? This doesn't seem like a very &quot;Beam&quot; way of doing things. Pipeline options should pass configuration; do you really need hundreds of lines of configuration per pipeline run? If you intend to pass data to create a PCollection then better off using TextIO and then processing lines as JSON.</p>\n"},{"tags":[],"owner":{"account_id":5974726,"reputation":1921,"user_id":4696015,"display_name":"chamikara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642552052,"creation_date":1642530431,"answer_id":70760631,"question_id":70687786,"body_markdown":"Beam `PipelineOptions`, as name implies, are intended to be used to provide small configuration parameters to configure a pipeline. `PipelineOptions` are usually read at job submission. So even if you get your json spec to job submission program using a `PipelineOption`, you have to make sure that you write your program so that your `DoFn`s have access to this file at runtime. For this:\r\n\r\n1. You have to save your files in a distributed storage system that Dataflow VMs have access to (for example, GCS)\r\n2. You have to pass your input file to the transform that is reading the file.\r\n\r\nThere are multiple ways to do (2). For example,\r\n* Directly pass in the file path to constructor of your DoFn.\r\n* Pass in the file path as a [side input][1] to your transform (which allows you to configure it during runtime)\r\n\r\n\r\n  [1]: https://beam.apache.org/documentation/programming-guide/#side-inputs","title":"Best practice to pass large pipeline option in apache beam","body":"<p>Beam <code>PipelineOptions</code>, as name implies, are intended to be used to provide small configuration parameters to configure a pipeline. <code>PipelineOptions</code> are usually read at job submission. So even if you get your json spec to job submission program using a <code>PipelineOption</code>, you have to make sure that you write your program so that your <code>DoFn</code>s have access to this file at runtime. For this:</p>\n<ol>\n<li>You have to save your files in a distributed storage system that Dataflow VMs have access to (for example, GCS)</li>\n<li>You have to pass your input file to the transform that is reading the file.</li>\n</ol>\n<p>There are multiple ways to do (2). For example,</p>\n<ul>\n<li>Directly pass in the file path to constructor of your DoFn.</li>\n<li>Pass in the file path as a <a href=\"https://beam.apache.org/documentation/programming-guide/#side-inputs\" rel=\"nofollow noreferrer\">side input</a> to your transform (which allows you to configure it during runtime)</li>\n</ul>\n"}],"owner":{"account_id":1616749,"reputation":348,"user_id":1494229,"display_name":"Balasubramanian Naagarajan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70688631,"answer_count":2,"score":0,"last_activity_date":1642552052,"creation_date":1642018096,"question_id":70687786,"body_markdown":"We have a use case where we want in to pass hundred lines of json spec to our apache beam pipeline.? One straight forward way is to create custom pipeline option as mentioned below. Is there any other way where we can pass the input as file?\r\n\r\n    public interface CustomPipelineOptions extends PipelineOptions {\r\n        @Description(&quot;The Json spec&quot;)\r\n        String getJsonSpec();\r\n        void setJsonSpec(String jsonSpec);\r\n    }\r\n\r\nI want to deploy the pipeline in Google dataflow engine. Even If I pass the spec as filepath and read the file contents inside the beam code before starting the pipeline, how do I bundle the spec file part of pipeline.\r\nP.S Note, I don&#39;t want to commit the spec file(in resource folder) part of my source code where my beam code is available. It needs to configurable, i.e I want to pass different spec file for different beam pipeline job.","title":"Best practice to pass large pipeline option in apache beam","body":"<p>We have a use case where we want in to pass hundred lines of json spec to our apache beam pipeline.? One straight forward way is to create custom pipeline option as mentioned below. Is there any other way where we can pass the input as file?</p>\n<pre><code>public interface CustomPipelineOptions extends PipelineOptions {\n    @Description(&quot;The Json spec&quot;)\n    String getJsonSpec();\n    void setJsonSpec(String jsonSpec);\n}\n</code></pre>\n<p>I want to deploy the pipeline in Google dataflow engine. Even If I pass the spec as filepath and read the file contents inside the beam code before starting the pipeline, how do I bundle the spec file part of pipeline.\nP.S Note, I don't want to commit the spec file(in resource folder) part of my source code where my beam code is available. It needs to configurable, i.e I want to pass different spec file for different beam pipeline job.</p>\n"},{"tags":["java","spring-webflux","spring-webclient","jsonnode"],"comments":[{"owner":{"account_id":80124,"reputation":528,"user_id":226758,"accept_rate":92,"display_name":"Harry"},"score":0,"creation_date":1642540190,"post_id":70762126,"comment_id":125096951,"body_markdown":"Did you look at these ?? -&gt; https://stackoverflow.com/questions/25024999/convert-jsonnode-into-object/25026832 and https://stackoverflow.com/questions/19711695/convert-jsonnode-into-pojo","body":"Did you look at these ?? -&gt; <a href=\"https://stackoverflow.com/questions/25024999/convert-jsonnode-into-object/25026832\" title=\"convert jsonnode into object\">stackoverflow.com/questions/25024999/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/19711695/convert-jsonnode-into-pojo\" title=\"convert jsonnode into pojo\">stackoverflow.com/questions/19711695/convert-jsonnode-into-p&zwnj;&#8203;ojo</a>"},{"owner":{"account_id":23980479,"reputation":3,"user_id":17967997,"display_name":"Akhyansh Bohidar"},"score":0,"creation_date":1642541860,"post_id":70762126,"comment_id":125097501,"body_markdown":"Yes. I have already tried it. We have to use blocking to convert it to User.java using mapper.\ncan we return specific jsonnode without blocking?\n&#39;.retrieve().bodyToMono(JsonNode.class)&#39; -Like do something with the response of Mono and then return it.","body":"Yes. I have already tried it. We have to use blocking to convert it to User.java using mapper. can we return specific jsonnode without blocking? &#39;.retrieve().bodyToMono(JsonNode.class)&#39; -Like do something with the response of Mono and then return it."}],"answers":[{"tags":[],"owner":{"account_id":80124,"reputation":528,"user_id":226758,"accept_rate":92,"display_name":"Harry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642551778,"creation_date":1642551417,"answer_id":70763928,"question_id":70762126,"body_markdown":"This is pretty straightforward and there is no need to block. Its just applying further mappings on the response. You can use the following code for your problem\r\n\r\n     return webClient\r\n                .get()\r\n                .uri(&quot;profilesEndPoint/&quot; + id)\r\n                .retrieve()\r\n                .bodyToMono(JsonNode.class)\r\n                .map(jsonNode -&gt;\r\n                        jsonNode.path(&quot;resultholder&quot;).path(&quot;profiles&quot;).path(&quot;profileholder&quot;).path(&quot;user&quot;)\r\n                ).map(\r\n                        userjsonNode -&gt; mapper.convertValue(userjsonNode, User.class)\r\n                );\r\n\r\nWhere mapper is jackson ObjectMapper \r\n\r\n&gt;    private  final ObjectMapper mapper = new ObjectMapper();\r\n\r\nIf you have any issues please refer to this code [here][1] : \r\n\r\n\r\n  [1]: https://github.com/harryalto/reactive-springwebflux/commit/b990f6b6026349cc96949d096f4404a934b58132","title":"spring-webflux : How to Extract user defined object from Mono&lt;T&gt; or Flux&lt;T&gt; from the response without blocking?","body":"<p>This is pretty straightforward and there is no need to block. Its just applying further mappings on the response. You can use the following code for your problem</p>\n<pre><code> return webClient\n            .get()\n            .uri(&quot;profilesEndPoint/&quot; + id)\n            .retrieve()\n            .bodyToMono(JsonNode.class)\n            .map(jsonNode -&gt;\n                    jsonNode.path(&quot;resultholder&quot;).path(&quot;profiles&quot;).path(&quot;profileholder&quot;).path(&quot;user&quot;)\n            ).map(\n                    userjsonNode -&gt; mapper.convertValue(userjsonNode, User.class)\n            );\n</code></pre>\n<p>Where mapper is jackson ObjectMapper</p>\n<blockquote>\n<p>private  final ObjectMapper mapper = new ObjectMapper();</p>\n</blockquote>\n<p>If you have any issues please refer to this code <a href=\"https://github.com/harryalto/reactive-springwebflux/commit/b990f6b6026349cc96949d096f4404a934b58132\" rel=\"nofollow noreferrer\">here</a> :</p>\n"}],"owner":{"account_id":23980479,"reputation":3,"user_id":17967997,"display_name":"Akhyansh Bohidar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70763928,"answer_count":1,"score":0,"last_activity_date":1642551778,"creation_date":1642538574,"question_id":70762126,"body_markdown":"getUserDetails Method returns Mono of Type JsonNode. **But I Actually want to return a Mono&lt;User.java&gt; or Flux&lt;User.java&gt;.**  please help modifying getBulkUserInfo or getUserDetails to get the Mono&lt;User.java&gt; or Flux&lt;User.java&gt;\r\n\r\n\r\n    public Mono&lt;JsonNode&gt; getUser(BigInteger Id){\r\n\t\treturn this.client.get()\r\n\t\t\t\t.uri(&quot;/URL/{Id}&quot;,Id)\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.bodyToMono(JsonNode.class);\r\n\t}\r\n\t\r\n\tpublic Flux getBulkUsers(List&lt;BigInteger&gt; Ids){\r\n\t\treturn Flux.fromIterable(Ids).flatMap(this::getUser);\r\n\t}\r\n\r\nBut The json response from the Url is something like \r\n\r\n    {\r\n    &quot;resultholder&quot;: {\r\n                &quot;totalResults&quot;: &quot;1&quot;,\r\n                &quot;profiles&quot;: {\r\n                    &quot;profileholder&quot;: {\r\n                        &quot;user&quot;: {\r\n                            &quot;country&quot;: &quot;IND&quot;,\r\n                            &quot;zipCode&quot;: &quot;560048&quot;,\r\n                            &quot;name&quot;:&quot;Test&quot;\r\n                        }\r\n                    }\r\n                }            \r\n            }\r\n    }\r\n\r\nI tried different ways but nothing worked subscribe() and \r\n.doOnNext(resp -&gt; resp.get(&quot;resultholder&quot;).get(&quot;profiles&quot;).get(&quot;profileholder&quot;).get(&quot;user&quot;))\r\n\r\n        .bodyToMono(JsonNode.class)\r\n    .doOnNext(resp -&gt;{return\r\n     JSONUtils.deserialize(resp.get(&quot;resultholder&quot;).get(&quot;profiles&quot;).get(&quot;profileholder&quot;).get(&quot;user&quot;), User.class)})\r\n\r\n    ","title":"spring-webflux : How to Extract user defined object from Mono&lt;T&gt; or Flux&lt;T&gt; from the response without blocking?","body":"<p>getUserDetails Method returns Mono of Type JsonNode. <strong>But I Actually want to return a Mono&lt;User.java&gt; or Flux&lt;User.java&gt;.</strong>  please help modifying getBulkUserInfo or getUserDetails to get the Mono&lt;User.java&gt; or Flux&lt;User.java&gt;</p>\n<pre><code>public Mono&lt;JsonNode&gt; getUser(BigInteger Id){\n    return this.client.get()\n            .uri(&quot;/URL/{Id}&quot;,Id)\n            .retrieve()\n            .bodyToMono(JsonNode.class);\n}\n\npublic Flux getBulkUsers(List&lt;BigInteger&gt; Ids){\n    return Flux.fromIterable(Ids).flatMap(this::getUser);\n}\n</code></pre>\n<p>But The json response from the Url is something like</p>\n<pre><code>{\n&quot;resultholder&quot;: {\n            &quot;totalResults&quot;: &quot;1&quot;,\n            &quot;profiles&quot;: {\n                &quot;profileholder&quot;: {\n                    &quot;user&quot;: {\n                        &quot;country&quot;: &quot;IND&quot;,\n                        &quot;zipCode&quot;: &quot;560048&quot;,\n                        &quot;name&quot;:&quot;Test&quot;\n                    }\n                }\n            }            \n        }\n}\n</code></pre>\n<p>I tried different ways but nothing worked subscribe() and\n.doOnNext(resp -&gt; resp.get(&quot;resultholder&quot;).get(&quot;profiles&quot;).get(&quot;profileholder&quot;).get(&quot;user&quot;))</p>\n<pre><code>    .bodyToMono(JsonNode.class)\n.doOnNext(resp -&gt;{return\n JSONUtils.deserialize(resp.get(&quot;resultholder&quot;).get(&quot;profiles&quot;).get(&quot;profileholder&quot;).get(&quot;user&quot;), User.class)})\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":2540460,"reputation":471,"user_id":2206366,"accept_rate":0,"display_name":"user2206366"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642551394,"creation_date":1642551394,"answer_id":70763925,"question_id":70709043,"body_markdown":"Got a workaround for this from [SpringFramework issues][1].\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/28874\r\n\r\nHowever, I was using the older mechanism of path/request matching in RequestMappingInfo and was using RequestMappingHandlerMapping in Filter specifically OncePerRequestFilter. Certain attributes like PATH are set later in the code hence the error. Though as per community thread it is bad practise to use RequestMappingHandlerMapping (the way I have above)inside OncePerRequestFilter calling below code explicitly resolved the issue for me,\r\n\r\n    requestMappingHandlerMapping.getUrlPathHelper().resolveAndCacheLookupPath(request);\r\n\r\n ","title":"RequestMappingInfo.getMatchingCondition throwing IllegalArgumentException after upgrading to springboot 2.4.13","body":"<p>Got a workaround for this from <a href=\"https://github.com/spring-projects/spring-boot/issues/28874\" rel=\"nofollow noreferrer\">SpringFramework issues</a>.</p>\n<p>However, I was using the older mechanism of path/request matching in RequestMappingInfo and was using RequestMappingHandlerMapping in Filter specifically OncePerRequestFilter. Certain attributes like PATH are set later in the code hence the error. Though as per community thread it is bad practise to use RequestMappingHandlerMapping (the way I have above)inside OncePerRequestFilter calling below code explicitly resolved the issue for me,</p>\n<pre><code>requestMappingHandlerMapping.getUrlPathHelper().resolveAndCacheLookupPath(request);\n</code></pre>\n"}],"owner":{"account_id":2540460,"reputation":471,"user_id":2206366,"accept_rate":0,"display_name":"user2206366"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1429,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1642551394,"creation_date":1642155524,"question_id":70709043,"body_markdown":"I have a piece of code as below,\r\n\r\n    final Entry&lt;RequestMappingInfo, HandlerMethod&gt; e = mappingHandler.getHandlerMethods()\r\n            .entrySet()\r\n            .stream()\r\n            .filter(entry -&gt; entry.getKey().getMatchingCondition(request) != null)\r\n            .findFirst()\r\n            .orElse(null);\r\n\r\nwhich is working fine in spring-boot version 2.3.8.RELEASE but if I upgrade it to 2.4.13 it throws an exception as below,\r\n\r\n    java.lang.IllegalArgumentException: Expected lookupPath in request attribute &quot;org.springframework.web.util.UrlPathHelper.PATH&quot;.\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n\tat org.springframework.web.util.UrlPathHelper.getResolvedLookupPath(UrlPathHelper.java:213)\r\n\tat org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getMatchingCondition(PatternsRequestCondition.java:280)\r\n\tat org.springframework.web.servlet.mvc.method.RequestMappingInfo.getMatchingCondition(RequestMappingInfo.java:406)\r\n\r\nI tried to look up online and found https://github.com/spring-projects/spring-framework/issues/27715 but I am not able to relate as the issue says something about building mappings yourself which I am not doing at all. I am invoking the Rest Endpoint using a MockMvc object which hits the above code.","title":"RequestMappingInfo.getMatchingCondition throwing IllegalArgumentException after upgrading to springboot 2.4.13","body":"<p>I have a piece of code as below,</p>\n<pre><code>final Entry&lt;RequestMappingInfo, HandlerMethod&gt; e = mappingHandler.getHandlerMethods()\n        .entrySet()\n        .stream()\n        .filter(entry -&gt; entry.getKey().getMatchingCondition(request) != null)\n        .findFirst()\n        .orElse(null);\n</code></pre>\n<p>which is working fine in spring-boot version 2.3.8.RELEASE but if I upgrade it to 2.4.13 it throws an exception as below,</p>\n<pre><code>java.lang.IllegalArgumentException: Expected lookupPath in request attribute &quot;org.springframework.web.util.UrlPathHelper.PATH&quot;.\nat org.springframework.util.Assert.notNull(Assert.java:201)\nat org.springframework.web.util.UrlPathHelper.getResolvedLookupPath(UrlPathHelper.java:213)\nat org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getMatchingCondition(PatternsRequestCondition.java:280)\nat org.springframework.web.servlet.mvc.method.RequestMappingInfo.getMatchingCondition(RequestMappingInfo.java:406)\n</code></pre>\n<p>I tried to look up online and found <a href=\"https://github.com/spring-projects/spring-framework/issues/27715\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/27715</a> but I am not able to relate as the issue says something about building mappings yourself which I am not doing at all. I am invoking the Rest Endpoint using a MockMvc object which hits the above code.</p>\n"},{"tags":["java","kotlin","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1642545647,"post_id":70762783,"comment_id":125098543,"body_markdown":"The OpenSSL statement does not decrypt, but encrypts. Apart from that, key and IV hex are encoded in the statement.","body":"The OpenSSL statement does not decrypt, but encrypts. Apart from that, key and IV hex are encoded in the statement."},{"owner":{"account_id":6778222,"reputation":11,"user_id":5219413,"display_name":"fabelmk1"},"score":0,"creation_date":1642550195,"post_id":70762783,"comment_id":125099458,"body_markdown":"Thank you, this has led me on the right path as i thought i was decrypting all along lol. So many wasted hours. I&#39;m getting closer, but still getting wrong output","body":"Thank you, this has led me on the right path as i thought i was decrypting all along lol. So many wasted hours. I&#39;m getting closer, but still getting wrong output"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1642562461,"post_id":70762783,"comment_id":125101605,"body_markdown":"(1) there is no `String.toByteArray()` method; do you mean `.getBytes([charset])`? (2) the value encrypted by `openssl` includes a newline; in Java source use `&quot;MTQ4MjY5\\n&quot;`","body":"(1) there is no <code>String.toByteArray()</code> method; do you mean <code>.getBytes([charset])</code>? (2) the value encrypted by <code>openssl</code> includes a newline; in Java source use <code>&quot;MTQ4MjY5\\n&quot;</code>"},{"owner":{"account_id":6778222,"reputation":11,"user_id":5219413,"display_name":"fabelmk1"},"score":0,"creation_date":1642585527,"post_id":70762783,"comment_id":125107288,"body_markdown":"Thank you Dave, the new line fixed the issue!!","body":"Thank you Dave, the new line fixed the issue!!"}],"owner":{"account_id":6778222,"reputation":11,"user_id":5219413,"display_name":"fabelmk1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1642551377,"creation_date":1642542465,"question_id":70762783,"body_markdown":"im trying to make an android app with inspiration from a bash script program, but im stuck here:\r\n```\r\necho MTQ4MjY5 | openssl enc -aes256  -K &quot;3235373436353338353932393338333936373634363632383739383333323838&quot; -iv &quot;34323036393133333738303038313335&quot; -a\r\n```\r\n\r\nI need to find a way to encrypt **MTQ4MjY5** in java/kotlin as they do with openssl, but im unable to do so.\r\n\r\nI have tried:\r\n\r\nUPDATE:\r\nStill returns wrong encrypted string, but getting closer. Any ideas why?\r\n```\r\n public static byte[]  encrypt(byte[] plainText) throws Exception{\r\n\r\n        byte[] key= DatatypeConverter.parseHexBinary(&quot;3235373436353338353932393338333936373634363632383739383333323838&quot;);\r\n        byte[] iv= DatatypeConverter.parseHexBinary(&quot;34323036393133333738303038313335&quot;);\r\n        SecretKeySpec secretKey=new SecretKeySpec(key,ALGORITHM);\r\n        IvParameterSpec ivParameterSpec=new IvParameterSpec(iv);\r\n        Cipher cipher=Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE,secretKey,ivParameterSpec);\r\n        return cipher.doFinal(plainText);\r\n    }\r\n``` \r\n\r\nCalled like this:\r\n\r\n```\r\nval result = DatatypeConverter.printBase64Binary(Encrypt.encrypt(&quot;MTQ4MjY5&quot;.toByteArray()))\r\n```\r\nWrong output: **PNKLL87lXkHjjYU7yMtObA==**\r\n\r\n\r\nI have no idea how to solve this, help much appreciated\r\n\r\nThe correct encrypted string is: **juF+fDAsvFnKIfaXUzMoHQ==**","title":"Decrypting string with java/kotlin as is done with openssl enc","body":"<p>im trying to make an android app with inspiration from a bash script program, but im stuck here:</p>\n<pre><code>echo MTQ4MjY5 | openssl enc -aes256  -K &quot;3235373436353338353932393338333936373634363632383739383333323838&quot; -iv &quot;34323036393133333738303038313335&quot; -a\n</code></pre>\n<p>I need to find a way to encrypt <strong>MTQ4MjY5</strong> in java/kotlin as they do with openssl, but im unable to do so.</p>\n<p>I have tried:</p>\n<p>UPDATE:\nStill returns wrong encrypted string, but getting closer. Any ideas why?</p>\n<pre><code> public static byte[]  encrypt(byte[] plainText) throws Exception{\n\n        byte[] key= DatatypeConverter.parseHexBinary(&quot;3235373436353338353932393338333936373634363632383739383333323838&quot;);\n        byte[] iv= DatatypeConverter.parseHexBinary(&quot;34323036393133333738303038313335&quot;);\n        SecretKeySpec secretKey=new SecretKeySpec(key,ALGORITHM);\n        IvParameterSpec ivParameterSpec=new IvParameterSpec(iv);\n        Cipher cipher=Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE,secretKey,ivParameterSpec);\n        return cipher.doFinal(plainText);\n    }\n</code></pre>\n<p>Called like this:</p>\n<pre><code>val result = DatatypeConverter.printBase64Binary(Encrypt.encrypt(&quot;MTQ4MjY5&quot;.toByteArray()))\n</code></pre>\n<p>Wrong output: <strong>PNKLL87lXkHjjYU7yMtObA==</strong></p>\n<p>I have no idea how to solve this, help much appreciated</p>\n<p>The correct encrypted string is: <strong>juF+fDAsvFnKIfaXUzMoHQ==</strong></p>\n"},{"tags":["java","hibernate","jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":261742,"reputation":4474,"user_id":546128,"accept_rate":76,"display_name":"Rasmus Franke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350052519,"creation_date":1350052519,"answer_id":12861336,"question_id":12861187,"body_markdown":"Try `@Column(name = &quot;myprop&quot;)` instead. Also note that Type/Type2/Type3 must be Simple types (Integer/Long/String/Date usually).","title":"Hibernate native query : Invalid Column Name Error SQL-17006","body":"<p>Try <code>@Column(name = \"myprop\")</code> instead. Also note that Type/Type2/Type3 must be Simple types (Integer/Long/String/Date usually).</p>\n"},{"tags":[],"owner":{"account_id":1131732,"reputation":65,"user_id":1741362,"accept_rate":75,"display_name":"cee_el"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1350198660,"creation_date":1350198660,"answer_id":12880076,"question_id":12861187,"body_markdown":"Well, earlier I was trying to specify both the columns and entities attributes in the resultsetmapping, so I tried removing the entity mappings, keeping the columns attribute, and calling the aliastobean result transformer, that plus writing setters to accept BigDecimal instead of Long (since its an Oracle DB), solved the issue...","title":"Hibernate native query : Invalid Column Name Error SQL-17006","body":"<p>Well, earlier I was trying to specify both the columns and entities attributes in the resultsetmapping, so I tried removing the entity mappings, keeping the columns attribute, and calling the aliastobean result transformer, that plus writing setters to accept BigDecimal instead of Long (since its an Oracle DB), solved the issue...</p>\n"},{"tags":[],"owner":{"account_id":315930,"reputation":1931,"user_id":631823,"display_name":"Rajesh"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1377166007,"creation_date":1377166007,"answer_id":18377446,"question_id":12861187,"body_markdown":"We should have all the table columns in the Select list for oracle..\r\nIf we keep only few columns.\r\nEg,\r\n your table Employee has columns FirstName,LastName, EmpId,\r\nand if you have query like .\r\n\r\n    session.createSQLQuery(&quot;Select FirstName from Employee&quot;);\r\nthe above query won&#39;t work. it will throw Invalid column error Exception.\r\nSo better put all the columns in Select clause for Oracle.\r\n\r\nCourtesy :\r\n[one answer][1]\r\nThanks,\r\nRajesh.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17321547/native-sql-throwing-invalid-column-name-exception?answertab=votes#tab-top","title":"Hibernate native query : Invalid Column Name Error SQL-17006","body":"<p>We should have all the table columns in the Select list for oracle..\nIf we keep only few columns.\nEg,\n your table Employee has columns FirstName,LastName, EmpId,\nand if you have query like .</p>\n\n<pre><code>session.createSQLQuery(\"Select FirstName from Employee\");\n</code></pre>\n\n<p>the above query won't work. it will throw Invalid column error Exception.\nSo better put all the columns in Select clause for Oracle.</p>\n\n<p>Courtesy :\n<a href=\"https://stackoverflow.com/questions/17321547/native-sql-throwing-invalid-column-name-exception?answertab=votes#tab-top\">one answer</a>\nThanks,\nRajesh.</p>\n"},{"tags":[],"owner":{"account_id":1051561,"reputation":3004,"user_id":1055373,"accept_rate":76,"display_name":"henrykodev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642550521,"creation_date":1642550521,"answer_id":70763840,"question_id":12861187,"body_markdown":"In my case, my I needed to give an inner-select body a name, as it was mysteriously truncating away a CASE column.\r\n\r\nThe following did not work - for some reason COLUMN_B gets mysteriously removed:\r\n\r\n    SELECT\r\n      COLUMN_A,\r\n      CASE WHEN ... THEN ... ELSE ... END as COLUMN_B,\r\n      COLUMN_C\r\n    FROM (\r\n       ...\r\n    )\r\n\r\nThen following fixed the problem:\r\n\r\n    SELECT\r\n      RES.COLUMN_A,\r\n      CASE WHEN ... THEN ... ELSE ... END as COLUMN_B,\r\n      RES.COLUMN_C\r\n    FROM (\r\n       ...\r\n    ) RES\r\n\r\nThe whole SQL is only dealing with one table.\r\n\r\nJava code:\r\n\r\n    // The &quot;sql&quot; variable is the SQL statement shown above.\r\n    javax.persistence.Query res = myEntityManager.createNativeQuery(sql, SomeClass.class);\r\n\r\n&#128580;\r\n\r\nI&#39;m using Spring Boot 2.4.3 with JPA and Oracle 12c.\r\n\r\n","title":"Hibernate native query : Invalid Column Name Error SQL-17006","body":"<p>In my case, my I needed to give an inner-select body a name, as it was mysteriously truncating away a CASE column.</p>\n<p>The following did not work - for some reason COLUMN_B gets mysteriously removed:</p>\n<pre><code>SELECT\n  COLUMN_A,\n  CASE WHEN ... THEN ... ELSE ... END as COLUMN_B,\n  COLUMN_C\nFROM (\n   ...\n)\n</code></pre>\n<p>Then following fixed the problem:</p>\n<pre><code>SELECT\n  RES.COLUMN_A,\n  CASE WHEN ... THEN ... ELSE ... END as COLUMN_B,\n  RES.COLUMN_C\nFROM (\n   ...\n) RES\n</code></pre>\n<p>The whole SQL is only dealing with one table.</p>\n<p>Java code:</p>\n<pre><code>// The &quot;sql&quot; variable is the SQL statement shown above.\njavax.persistence.Query res = myEntityManager.createNativeQuery(sql, SomeClass.class);\n</code></pre>\n<p>🙄</p>\n<p>I'm using Spring Boot 2.4.3 with JPA and Oracle 12c.</p>\n"}],"owner":{"account_id":1131732,"reputation":65,"user_id":1741362,"accept_rate":75,"display_name":"cee_el"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51634,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":12880076,"answer_count":4,"score":5,"last_activity_date":1642550521,"creation_date":1350051995,"question_id":12861187,"body_markdown":"    package com.abc.def.model;\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Embeddable;\r\n    import javax.persistence.IdClass;\r\n    import java.util.Date;\r\n    import java.io.Serializable;\r\n\r\n\r\n    \r\n    @NamedNativeQuery(name=&quot;getMetadata&quot;,query=&quot;\r\n                      select a.name alias1,a.fullname alias2,\r\n                             b.name alias3,b.age alias4,\r\n                             c.height alias5,c.something alias6,\r\n                             d.otherthing alias7\r\n                      from lame_table_name a,\r\n                           lame_table_name_2 b\r\n                      where a.id = b.id\r\n                         and b.id = c.id \r\n                         and c.id = d.id \r\n                         and d.id = :namedparameter\r\n                      order by a.index,b.index\r\n                   &quot;,\r\n                resultClass=MetadataModel.class)\r\n\r\n\r\n      @Entity\r\n      @IdClass(SomeIdClass.class)\r\n\r\n      public class MetadataModel{\r\n\r\n      @Id @Column(&quot;alias1&quot;)\r\n      private Type alias1property;\r\n\r\n      @Id @Column(&quot;alias2&quot;)\r\n      private Type2 alias2property;\r\n\r\n      @Column(&quot;alias3&quot;)\r\n      private Type3 alias3property;\r\n\r\n      //getters and setters\r\n      }\r\n\r\n      @Embeddable\r\n      class SomeIdClass implements Serializable{\r\n\r\n      //serialVersionUID line\r\n\r\n      @Id @Column(&quot;alias1&quot;)\r\n      private Type alias1property;\r\n\r\n      @Id @Column(&quot;alias2&quot;)\r\n      private Type2 alias2property;\r\n\r\n      //getter and setters\r\n      }\r\n\r\n\r\nThe error is SQL-17006, Invalid Column Name, have been trying out variations of this setup the whole day\r\nShould I try putting Column(&quot;lame_table_name.name&quot;)\r\n\r\n\r\nI also tried using SqlResultSetMapping (and removed @Column from fields of POJO) (and specifying all the column aliases in the columns attribute of SqlResultSetMapping) (are we supposed to specify the resultsetmapping again when executing the query via the setResultSetMapping method of the SQLQuery interface?)\r\n\r\n\r\n\r\n    package com.abc.def.model;\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Embeddable;\r\n    import javax.persistence.IdClass;\r\n    import java.util.Date;\r\n    import java.io.Serializable;\r\n    //other imports for the SqlResultSetMapping\r\n\r\n\r\n    \r\n    @NamedNativeQuery(name=&quot;getMetadata&quot;,query=&quot;\r\n                      select a.name alias1,a.fullname alias2,\r\n                             b.name alias3,b.age alias4,\r\n                             c.height alias5,c.something alias6,\r\n                             d.otherthing alias7\r\n                      from lame_table_name a,\r\n                           lame_table_name_2 b\r\n                      where a.id = b.id\r\n                         and b.id = c.id \r\n                         and c.id = d.id \r\n                         and d.id = :namedparameter\r\n                      order by a.index,b.index\r\n                   &quot;,\r\n                resultSetMapping=&quot;metaDataMapping&quot;)\r\n\r\n\r\n    @SqlResultSetMapping(name=&quot;metaDataMapping&quot;,\r\n                  entities=@EntityResult(entityClass=MetadataModel.class,\r\n                    fields = {@FieldResult(name=&quot;alias1Property&quot;,column=&quot;alias1&quot;)\r\n                               //so on\r\n                          }\r\n\r\n                     )\r\n                )\r\n\r\n      @Entity\r\n      @IdClass(SomeIdClass.class)\r\n\r\n      public class MetadataModel{\r\n\r\n\r\n      private Type alias1property;\r\n\r\n\r\n      private Type2 alias2property;\r\n\r\n\r\n      private Type3 alias3property;\r\n\r\n      //getters and setters\r\n      }\r\n\r\n      //composite class, exactly as above\r\n","title":"Hibernate native query : Invalid Column Name Error SQL-17006","body":"<pre><code>package com.abc.def.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Id;\nimport javax.persistence.Entity;\nimport javax.persistence.Embeddable;\nimport javax.persistence.IdClass;\nimport java.util.Date;\nimport java.io.Serializable;\n\n\n\n@NamedNativeQuery(name=\"getMetadata\",query=\"\n                  select a.name alias1,a.fullname alias2,\n                         b.name alias3,b.age alias4,\n                         c.height alias5,c.something alias6,\n                         d.otherthing alias7\n                  from lame_table_name a,\n                       lame_table_name_2 b\n                  where a.id = b.id\n                     and b.id = c.id \n                     and c.id = d.id \n                     and d.id = :namedparameter\n                  order by a.index,b.index\n               \",\n            resultClass=MetadataModel.class)\n\n\n  @Entity\n  @IdClass(SomeIdClass.class)\n\n  public class MetadataModel{\n\n  @Id @Column(\"alias1\")\n  private Type alias1property;\n\n  @Id @Column(\"alias2\")\n  private Type2 alias2property;\n\n  @Column(\"alias3\")\n  private Type3 alias3property;\n\n  //getters and setters\n  }\n\n  @Embeddable\n  class SomeIdClass implements Serializable{\n\n  //serialVersionUID line\n\n  @Id @Column(\"alias1\")\n  private Type alias1property;\n\n  @Id @Column(\"alias2\")\n  private Type2 alias2property;\n\n  //getter and setters\n  }\n</code></pre>\n\n<p>The error is SQL-17006, Invalid Column Name, have been trying out variations of this setup the whole day\nShould I try putting Column(\"lame_table_name.name\")</p>\n\n<p>I also tried using SqlResultSetMapping (and removed @Column from fields of POJO) (and specifying all the column aliases in the columns attribute of SqlResultSetMapping) (are we supposed to specify the resultsetmapping again when executing the query via the setResultSetMapping method of the SQLQuery interface?)</p>\n\n<pre><code>package com.abc.def.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Id;\nimport javax.persistence.Entity;\nimport javax.persistence.Embeddable;\nimport javax.persistence.IdClass;\nimport java.util.Date;\nimport java.io.Serializable;\n//other imports for the SqlResultSetMapping\n\n\n\n@NamedNativeQuery(name=\"getMetadata\",query=\"\n                  select a.name alias1,a.fullname alias2,\n                         b.name alias3,b.age alias4,\n                         c.height alias5,c.something alias6,\n                         d.otherthing alias7\n                  from lame_table_name a,\n                       lame_table_name_2 b\n                  where a.id = b.id\n                     and b.id = c.id \n                     and c.id = d.id \n                     and d.id = :namedparameter\n                  order by a.index,b.index\n               \",\n            resultSetMapping=\"metaDataMapping\")\n\n\n@SqlResultSetMapping(name=\"metaDataMapping\",\n              entities=@EntityResult(entityClass=MetadataModel.class,\n                fields = {@FieldResult(name=\"alias1Property\",column=\"alias1\")\n                           //so on\n                      }\n\n                 )\n            )\n\n  @Entity\n  @IdClass(SomeIdClass.class)\n\n  public class MetadataModel{\n\n\n  private Type alias1property;\n\n\n  private Type2 alias2property;\n\n\n  private Type3 alias3property;\n\n  //getters and setters\n  }\n\n  //composite class, exactly as above\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":15464461,"reputation":161,"user_id":11156237,"display_name":"Serhat Yılmaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642519784,"creation_date":1642519784,"answer_id":70758210,"question_id":70757526,"body_markdown":"There is no way to catch and throw an `Exception` that is thrown in a Functional interface. But you can handle if it is a checked exception like:\r\n\r\n    @Configuration\r\n    class conf {\r\n\r\n        @Bean\r\n        public Function&lt;A, B&gt; method() {\r\n            return valueA -&gt; {\r\n                B valueB = doSomeThing(valueA);\r\n                return valueB;\r\n            };\r\n        }\r\n        \r\n        B doSomeThing(A valueA) {\r\n            try {\r\n                return new B();\r\n            } catch (Exception e) {\r\n                // you can convert checked exception into an unchecked exception here\r\n                throw new RuntimeException()\r\n            }\r\n        }\r\n    }","title":"How to catch an exception in a configuration bean","body":"<p>There is no way to catch and throw an <code>Exception</code> that is thrown in a Functional interface. But you can handle if it is a checked exception like:</p>\n<pre><code>@Configuration\nclass conf {\n\n    @Bean\n    public Function&lt;A, B&gt; method() {\n        return valueA -&gt; {\n            B valueB = doSomeThing(valueA);\n            return valueB;\n        };\n    }\n    \n    B doSomeThing(A valueA) {\n        try {\n            return new B();\n        } catch (Exception e) {\n            // you can convert checked exception into an unchecked exception here\n            throw new RuntimeException()\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4330135,"reputation":13,"user_id":3535890,"display_name":"user3535890"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642550492,"creation_date":1642517182,"question_id":70757526,"body_markdown":"How can I catch an exception thrown by the doSomeThing() method call, and throwing it afterwards?\r\n\r\n\r\n```\r\n@Configuration\r\nClass conf{\r\n\r\n@Bean\r\npublic Function&lt;A, B&gt; method() {\r\n    return valueA -&gt; {\r\n    B valueB = doSomeThing(valueA);\r\n    return valueB;\r\n  };\r\n}\r\n}\r\n```","title":"How to catch an exception in a configuration bean","body":"<p>How can I catch an exception thrown by the doSomeThing() method call, and throwing it afterwards?</p>\n<pre><code>@Configuration\nClass conf{\n\n@Bean\npublic Function&lt;A, B&gt; method() {\n    return valueA -&gt; {\n    B valueB = doSomeThing(valueA);\n    return valueB;\n  };\n}\n}\n</code></pre>\n"},{"tags":["java","version"],"answers":[{"tags":[],"owner":{"account_id":13328605,"reputation":68,"user_id":9620766,"display_name":"random coder dude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642549479,"creation_date":1642387820,"answer_id":70736004,"question_id":70734775,"body_markdown":"You need to use Oracle 1.8.0_60.","title":"Issue with Java version in AsterixDB","body":"<p>You need to use Oracle 1.8.0_60.</p>\n"},{"tags":[],"owner":{"account_id":12621600,"reputation":26,"user_id":9176902,"display_name":"Akil Sevim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642401630,"creation_date":1642401630,"answer_id":70737416,"question_id":70734775,"body_markdown":"You are referring to the documentation for an old version, but if you are installing the latest version of AsterixDB (0.9.7.1), please try Java 11 or more.","title":"Issue with Java version in AsterixDB","body":"<p>You are referring to the documentation for an old version, but if you are installing the latest version of AsterixDB (0.9.7.1), please try Java 11 or more.</p>\n"}],"owner":{"account_id":12847660,"reputation":23,"user_id":9293514,"display_name":"Ankitha Sathya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70737416,"answer_count":2,"score":0,"last_activity_date":1642549479,"creation_date":1642372799,"question_id":70734775,"body_markdown":"I am trying the installation of AsterixDB and see that Java version 8 is not compatible on starting the cluster.  \r\nAlthough in the documentation I see that this version should work. \r\nhttps://asterixdb.apache.org/docs/0.9.2/install.html\r\n\r\nIf your version is at least 1.8.0_x, similar to the output shown below, you are good to proceed.\r\n\r\nMy version is 1.8.0_311. \r\n","title":"Issue with Java version in AsterixDB","body":"<p>I am trying the installation of AsterixDB and see that Java version 8 is not compatible on starting the cluster.<br />\nAlthough in the documentation I see that this version should work.\n<a href=\"https://asterixdb.apache.org/docs/0.9.2/install.html\" rel=\"nofollow noreferrer\">https://asterixdb.apache.org/docs/0.9.2/install.html</a></p>\n<p>If your version is at least 1.8.0_x, similar to the output shown below, you are good to proceed.</p>\n<p>My version is 1.8.0_311.</p>\n"},{"tags":["java","audio","spi","aac","m4a"],"answers":[{"tags":[],"owner":{"account_id":9954470,"reputation":81,"user_id":7365927,"display_name":"9Lukas5"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1642549280,"creation_date":1502626586,"answer_id":45660243,"question_id":45660234,"body_markdown":"This weekend I gave it another try and searched along again, and have got a working code searched together from different sites, but nowhere was a complete working solution.\r\n\r\nFor a more comfortable usage in future projects I made me a small library for aac playback.\r\n\r\nAs it was hard to find the working solution, I wanted to share it with you, in the hope some one having the same problem in the future will have it a bit easier.  \r\nThe following code is a snippet from the lib I wrote. You can have a look onto the whole lib on GitLab at \r\n[Java AAC-Player](https://gitlab.com/9Lukas5/java-aac-player).  \r\nThis lib/solution uses the aac decoder [JAAD](http://jaadec.sourceforge.net).  \r\nThe player I wrote around the JAAD library is available as Maven artifact:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.gitlab.9lukas5&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaad&lt;/artifactId&gt;\r\n    &lt;!--\r\n        check latest version on https://search.maven.org\r\n        or try the latest tag you find in git\r\n    --&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\n    public static void play(File[] files)\r\n    {\r\n                    // local vars\r\n                    byte[]          b;              // array for the actual audio Data during the playback\r\n                    AudioTrack      track;          // track we are playing atm\r\n                    AudioFormat     af;             // the track&#39;s format\r\n                    SourceDataLine  line;           // the line we&#39;ll use the get our audio to the speaker&#39;s\r\n                    Decoder         dec;            // decoder to get the audio bytes\r\n                    Frame           frame;          //\r\n                    SampleBuffer    buf;            //\r\n                    int             currentTrack;   // index of current track from playlist\r\n                    MP4Container    cont;           // container to open the current track with\r\n                    Movie           movie;          // and get the content from the container\r\n\r\n                    try\r\n                    {\r\n                        // for-next loop to play each titel from the playlist once\r\n                        for (currentTrack = 0; currentTrack &lt; files.length; currentTrack++)\r\n                        {\r\n                            cont    = new MP4Container(new RandomAccessFile(files[currentTrack], &quot;r&quot;)); // open titel with random access\r\n                            movie   = cont.getMovie();                          // get content from container,\r\n                            List&lt;Track&gt; content = movie.getTracks();\r\n                            if (content.isEmpty())                              // check if container HAS content\r\n                                throw new Exception (&quot;insert error message here&quot;);  // if so,\r\n                            track   = (AudioTrack) movie.getTracks().get(0);    // grab first track and set the audioformat\r\n                            af      = new AudioFormat(track.getSampleRate(), track.getSampleSize(), track.getChannelCount(), true, true);\r\n                            line    = AudioSystem.getSourceDataLine(af);        // get a DataLine from the AudioSystem\r\n                            line.open();                                        // open and\r\n                            line.start();                                       // start it\r\n\r\n                            dec     = new Decoder(track.getDecoderSpecificInfo());\r\n\r\n                            buf = new SampleBuffer();\r\n                            while(track.hasMoreFrames())                // while we have frames left\r\n                            {\r\n                                frame = track.readNextFrame();          // read next frame,\r\n                                dec.decodeFrame(frame.getData(), buf);  // decode it and put into the buffer\r\n                                b = buf.getData();                      // write the frame data from the buffer to our byte-array\r\n                                line.write(b, 0, b.length);             // and from there write the byte array into our open AudioSystem DataLine\r\n\r\n                                while (paused)                  // check if we should pause\r\n                                {\r\n                                    Thread.sleep(500);          // if yes, stay half a second\r\n\r\n                                    if (Thread.interrupted())   // check if we should stop possibly\r\n                                    {\r\n                                        line.close();           // if yes, close line and\r\n                                        return;                 // exit thread\r\n                                    }\r\n                                }\r\n\r\n                                if (Thread.interrupted())       // if not in pause, still check on each frame if we should\r\n                                {                               // stop. If so\r\n                                    line.close();               // close line and\r\n                                    return;                     // exit thread\r\n                                }\r\n                            }\r\n\r\n                            line.close();           // after titel is over, close line\r\n\r\n                            if (loop)               // if we should loop current titel, set currentTrack -1,\r\n                                currentTrack--;     // as on bottom of for-next it get&#39;s +1 and so the same titel get&#39;s played again\r\n                            else if (repeat &amp;&amp; (currentTrack == files.length -1)) // else check if we are at the end of the playlist\r\n                                currentTrack = -1;  // and should repeat the whole list. If so, set currentTrack -1, so it get&#39;s 0 on for-next bottom\r\n                        }\r\n                    }\r\n                    catch (LineUnavailableException | IOException | InterruptedException e)\r\n                    {\r\n                        e.printStackTrace();\r\n                    }\r\n    }\r\n","title":"Java play AAC encoded audio ( JAAD decoder )","body":"<p>This weekend I gave it another try and searched along again, and have got a working code searched together from different sites, but nowhere was a complete working solution.</p>\n<p>For a more comfortable usage in future projects I made me a small library for aac playback.</p>\n<p>As it was hard to find the working solution, I wanted to share it with you, in the hope some one having the same problem in the future will have it a bit easier.<br />\nThe following code is a snippet from the lib I wrote. You can have a look onto the whole lib on GitLab at\n<a href=\"https://gitlab.com/9Lukas5/java-aac-player\" rel=\"nofollow noreferrer\">Java AAC-Player</a>.<br />\nThis lib/solution uses the aac decoder <a href=\"http://jaadec.sourceforge.net\" rel=\"nofollow noreferrer\">JAAD</a>.<br />\nThe player I wrote around the JAAD library is available as Maven artifact:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.gitlab.9lukas5&lt;/groupId&gt;\n    &lt;artifactId&gt;jaad&lt;/artifactId&gt;\n    &lt;!--\n        check latest version on https://search.maven.org\n        or try the latest tag you find in git\n    --&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<pre><code>public static void play(File[] files)\n{\n                // local vars\n                byte[]          b;              // array for the actual audio Data during the playback\n                AudioTrack      track;          // track we are playing atm\n                AudioFormat     af;             // the track's format\n                SourceDataLine  line;           // the line we'll use the get our audio to the speaker's\n                Decoder         dec;            // decoder to get the audio bytes\n                Frame           frame;          //\n                SampleBuffer    buf;            //\n                int             currentTrack;   // index of current track from playlist\n                MP4Container    cont;           // container to open the current track with\n                Movie           movie;          // and get the content from the container\n\n                try\n                {\n                    // for-next loop to play each titel from the playlist once\n                    for (currentTrack = 0; currentTrack &lt; files.length; currentTrack++)\n                    {\n                        cont    = new MP4Container(new RandomAccessFile(files[currentTrack], &quot;r&quot;)); // open titel with random access\n                        movie   = cont.getMovie();                          // get content from container,\n                        List&lt;Track&gt; content = movie.getTracks();\n                        if (content.isEmpty())                              // check if container HAS content\n                            throw new Exception (&quot;insert error message here&quot;);  // if so,\n                        track   = (AudioTrack) movie.getTracks().get(0);    // grab first track and set the audioformat\n                        af      = new AudioFormat(track.getSampleRate(), track.getSampleSize(), track.getChannelCount(), true, true);\n                        line    = AudioSystem.getSourceDataLine(af);        // get a DataLine from the AudioSystem\n                        line.open();                                        // open and\n                        line.start();                                       // start it\n\n                        dec     = new Decoder(track.getDecoderSpecificInfo());\n\n                        buf = new SampleBuffer();\n                        while(track.hasMoreFrames())                // while we have frames left\n                        {\n                            frame = track.readNextFrame();          // read next frame,\n                            dec.decodeFrame(frame.getData(), buf);  // decode it and put into the buffer\n                            b = buf.getData();                      // write the frame data from the buffer to our byte-array\n                            line.write(b, 0, b.length);             // and from there write the byte array into our open AudioSystem DataLine\n\n                            while (paused)                  // check if we should pause\n                            {\n                                Thread.sleep(500);          // if yes, stay half a second\n\n                                if (Thread.interrupted())   // check if we should stop possibly\n                                {\n                                    line.close();           // if yes, close line and\n                                    return;                 // exit thread\n                                }\n                            }\n\n                            if (Thread.interrupted())       // if not in pause, still check on each frame if we should\n                            {                               // stop. If so\n                                line.close();               // close line and\n                                return;                     // exit thread\n                            }\n                        }\n\n                        line.close();           // after titel is over, close line\n\n                        if (loop)               // if we should loop current titel, set currentTrack -1,\n                            currentTrack--;     // as on bottom of for-next it get's +1 and so the same titel get's played again\n                        else if (repeat &amp;&amp; (currentTrack == files.length -1)) // else check if we are at the end of the playlist\n                            currentTrack = -1;  // and should repeat the whole list. If so, set currentTrack -1, so it get's 0 on for-next bottom\n                    }\n                }\n                catch (LineUnavailableException | IOException | InterruptedException e)\n                {\n                    e.printStackTrace();\n                }\n}\n</code></pre>\n"}],"owner":{"account_id":9954470,"reputation":81,"user_id":7365927,"display_name":"9Lukas5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2548,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45660243,"answer_count":1,"score":3,"last_activity_date":1642549280,"creation_date":1502626554,"question_id":45660234,"body_markdown":"I have struggled with playing aac encoded audio files with Java a while now.\n\nWe had a group project at the end of our first semester and wanted to have a background music and few soundeffects in there.\nAt the end we used WAV files, as we couldn&#39;t get the AAC&#39;s to play.","title":"Java play AAC encoded audio ( JAAD decoder )","body":"<p>I have struggled with playing aac encoded audio files with Java a while now.</p>\n\n<p>We had a group project at the end of our first semester and wanted to have a background music and few soundeffects in there.\nAt the end we used WAV files, as we couldn't get the AAC's to play.</p>\n"},{"tags":["java","spring-boot","maven","google-app-engine"],"comments":[{"owner":{"account_id":23696739,"reputation":961,"user_id":17720363,"display_name":"Catherine O"},"score":0,"creation_date":1642560726,"post_id":70763254,"comment_id":125101303,"body_markdown":"Could you try to run **gcloud app logs tail** to see if it shows the same logs?","body":"Could you try to run <b>gcloud app logs tail</b> to see if it shows the same logs?"},{"owner":{"account_id":6821093,"reputation":2498,"user_id":5248230,"accept_rate":76,"display_name":"Daniel ORTIZ"},"score":0,"creation_date":1642599205,"post_id":70763254,"comment_id":125112962,"body_markdown":"Hi Catherine, yes is show me the same log","body":"Hi Catherine, yes is show me the same log"},{"owner":{"account_id":23696739,"reputation":961,"user_id":17720363,"display_name":"Catherine O"},"score":0,"creation_date":1642656785,"post_id":70763254,"comment_id":125130380,"body_markdown":"Based from your logs, it&#39;s not clearly shown as to what triggers the error aside from the instance being shutdown since there was no incoming requests. You may want to try to increase your max instances as 1 is not considered as best practice as also mentioned in this stack [post](https://stackoverflow.com/questions/61323488/google-app-engine-restarting-automatically-randomly/61349165#61349165). @Daniel ORTIZ","body":"Based from your logs, it&#39;s not clearly shown as to what triggers the error aside from the instance being shutdown since there was no incoming requests. You may want to try to increase your max instances as 1 is not considered as best practice as also mentioned in this stack <a href=\"https://stackoverflow.com/questions/61323488/google-app-engine-restarting-automatically-randomly/61349165#61349165\">post</a>. @Daniel ORTIZ"},{"owner":{"account_id":6821093,"reputation":2498,"user_id":5248230,"accept_rate":76,"display_name":"Daniel ORTIZ"},"score":0,"creation_date":1642697752,"post_id":70763254,"comment_id":125146359,"body_markdown":"I do, but the result is the same, i think is something belong to war config","body":"I do, but the result is the same, i think is something belong to war config"},{"owner":{"account_id":23696739,"reputation":961,"user_id":17720363,"display_name":"Catherine O"},"score":0,"creation_date":1642735844,"post_id":70763254,"comment_id":125156832,"body_markdown":"The logs you&#39;ve provided looks normal to me and don&#39;t show any trace of HTTP 500 error encountered. However, possible cause of HTTP 500 error can be port issue, instance start up etc.","body":"The logs you&#39;ve provided looks normal to me and don&#39;t show any trace of HTTP 500 error encountered. However, possible cause of HTTP 500 error can be port issue, instance start up etc."}],"owner":{"account_id":6821093,"reputation":2498,"user_id":5248230,"accept_rate":76,"display_name":"Daniel ORTIZ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642549092,"creation_date":1642545588,"question_id":70763254,"body_markdown":"I&#39;m trying to deploy my Applicaiton on spring boot but when I made, service returns 500 and logs only show that:\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m trying with the tutorial off GPC: https://codelabs.developers.google.com/codelabs/cloud-app-engine-springboot#0 \r\nBut it doesnt work and the logs are not clear that what is going wrong, if any one can help me I will appreciate. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z9Gzl.png\r\n\r\nMy appengine/app.yaml\r\n\r\n    runtime: java11\r\n    env: standard\r\n    runtime_config:\r\n      jdk: openjdk11\r\n    env_variables:\r\n      SPRING_PROFILES_ACTIVE: &quot;dev&quot;\r\n    handlers:\r\n      - url: /.*\r\n        script: this field is required, but ignored\r\n    manual_scaling:\r\n      instances: 1\r\n\r\nMy mainclass:\r\n\r\n    @SpringBootApplication\r\n    @RestController\r\n    public class Application {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\n\r\nMy pom.xml \r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.softlond&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;foodtech_backend&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;Base Softlond&lt;/name&gt;\r\n    \t&lt;description&gt;Base preconfigurada para softlond&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.11.106&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.18.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.9.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.thetransactioncompany&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cors-filter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;20160810&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\r\n    \t\t\t\t\t&lt;layout&gt;WAR&lt;/layout&gt;\r\n    \t\t\t\t\t&lt;addResources&gt;true&lt;/addResources&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n","title":"Deploy Java 11 Maven SpringBoot on AppEngine Fails","body":"<p>I'm trying to deploy my Applicaiton on spring boot but when I made, service returns 500 and logs only show that:\n<a href=\"https://i.stack.imgur.com/Z9Gzl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z9Gzl.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm trying with the tutorial off GPC: <a href=\"https://codelabs.developers.google.com/codelabs/cloud-app-engine-springboot#0\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/cloud-app-engine-springboot#0</a>\nBut it doesnt work and the logs are not clear that what is going wrong, if any one can help me I will appreciate.</p>\n<p>My appengine/app.yaml</p>\n<pre><code>runtime: java11\nenv: standard\nruntime_config:\n  jdk: openjdk11\nenv_variables:\n  SPRING_PROFILES_ACTIVE: &quot;dev&quot;\nhandlers:\n  - url: /.*\n    script: this field is required, but ignored\nmanual_scaling:\n  instances: 1\n</code></pre>\n<p>My mainclass:</p>\n<pre><code>@SpringBootApplication\n@RestController\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>My pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.softlond&lt;/groupId&gt;\n    &lt;artifactId&gt;foodtech_backend&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;Base Softlond&lt;/name&gt;\n    &lt;description&gt;Base preconfigurada para softlond&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.11.106&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n            &lt;version&gt;0.18.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n            &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n            &lt;version&gt;6.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.thetransactioncompany&lt;/groupId&gt;\n            &lt;artifactId&gt;cors-filter&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20160810&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\n                    &lt;layout&gt;WAR&lt;/layout&gt;\n                    &lt;addResources&gt;true&lt;/addResources&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","java-8","java-stream","java-14"],"answers":[{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642548604,"creation_date":1642548604,"answer_id":70763654,"question_id":70763310,"body_markdown":"In the first example the `if` statement is entirely pointless. You can entirely drop it, since the `map` on the `Optional` will be executed if there is an actual value returned which is not `null`. Also, there is a code duplication for the `NotFoundException`.\r\n\r\n```\r\n@Override\r\npublic UserDTO activateDeactivateUser(int userId, boolean isActive) throws NotFoundException {\r\n    return this.userRepository.findById(userId)\r\n            .map((userToBeUpdated) -&gt; {\r\n                log.info(String.format(&quot;****** USER E-MAIL *******&quot;, userToBeUpdated.getEmail()));\r\n\r\n                userToBeUpdated.set_active(isActive);\r\n                this.userRepository.save(userToBeUpdated);\r\n\r\n                return userToBeUpdated;\r\n            })\r\n            .orElseThrow(() -&gt; new NotFoundException(String.format(&quot;The user having ID or email %s was not found&quot;, userId)));\r\n\r\n}\r\n```\r\n\r\nAlthough, this code might work, the problem with this is that we have a side-effect inside the lambda in the `map`. It is recommended to have pure functions  when we pass it as a higher-order function for a mapping operation. It would probably be better to go with something like this:\r\n\r\n\r\n```\r\n@Override\r\npublic User activateDeactivateUser(int userId, boolean isActive) throws NotFoundException {\r\n\r\n    User retrievedUser = this.userRepository.findById(userId)\r\n            .orElseThrow(() -&gt; new NotFoundException(String.format(&quot;The user having ID or email %s was not found&quot;, userId)));\r\n\r\n    retrievedUser.set_active(isActive);\r\n    this.userRepository.save(retrievedUser);\r\n\r\n    return retrievedUser;\r\n}\r\n```\r\n\r\nNow, your second example is more problematic. This snippet is invalid and logically makes no sense:\r\n\r\n```\r\nuserToBeUpdated\r\n            .map((userToBeUpdated) -&gt; {...})\r\n```\r\n\r\n`User` class is a hibernate entity, which most likely does not have a `map` method implemented on it, why would it? In Java usually streams and optionals offer implementation for a `map`. It is used apply some transformation to each object encapsulated by the stream/optional. You would want to check out the docs for [streams](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html) and [optionals](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html) to read more about them.\r\n\r\nWhat I believe you want to do here is the following:\r\n\r\n```\r\n@Override\r\npublic UserDTO activateDeactivateUser(int userId, boolean isActive) throws NotFoundException {\r\n\r\n    User retrievedUser = this.userRepository.findById(userId)\r\n            .orElseThrow(() -&gt; new NotFoundException(String.format(&quot;The user having ID or email %s was not found&quot;, userId)));\r\n\r\n    retrievedUser.set_active(isActive);\r\n    this.userRepository.save(retrievedUser);\r\n\r\n    return conversionService.convert(retrievedUser);\r\n}\r\n```\r\n\r\nI expect that the `ConversionService` has something like a `convert` method, which takes an entity object and returns a DTO. \r\n\r\nSome other notes unrelated to the question:\r\n\r\n- Please adhere the Java coding standards. In Java, we do not use snake case for method calls. This `userToBeUpdated.set_active(isActive);` should be something like this `userToBeUpdated.setActive(isActive);`","title":"How can I correctly use the stream map() in this use case involving the conversion of an entity class instance into a DTO instance?","body":"<p>In the first example the <code>if</code> statement is entirely pointless. You can entirely drop it, since the <code>map</code> on the <code>Optional</code> will be executed if there is an actual value returned which is not <code>null</code>. Also, there is a code duplication for the <code>NotFoundException</code>.</p>\n<pre><code>@Override\npublic UserDTO activateDeactivateUser(int userId, boolean isActive) throws NotFoundException {\n    return this.userRepository.findById(userId)\n            .map((userToBeUpdated) -&gt; {\n                log.info(String.format(&quot;****** USER E-MAIL *******&quot;, userToBeUpdated.getEmail()));\n\n                userToBeUpdated.set_active(isActive);\n                this.userRepository.save(userToBeUpdated);\n\n                return userToBeUpdated;\n            })\n            .orElseThrow(() -&gt; new NotFoundException(String.format(&quot;The user having ID or email %s was not found&quot;, userId)));\n\n}\n</code></pre>\n<p>Although, this code might work, the problem with this is that we have a side-effect inside the lambda in the <code>map</code>. It is recommended to have pure functions  when we pass it as a higher-order function for a mapping operation. It would probably be better to go with something like this:</p>\n<pre><code>@Override\npublic User activateDeactivateUser(int userId, boolean isActive) throws NotFoundException {\n\n    User retrievedUser = this.userRepository.findById(userId)\n            .orElseThrow(() -&gt; new NotFoundException(String.format(&quot;The user having ID or email %s was not found&quot;, userId)));\n\n    retrievedUser.set_active(isActive);\n    this.userRepository.save(retrievedUser);\n\n    return retrievedUser;\n}\n</code></pre>\n<p>Now, your second example is more problematic. This snippet is invalid and logically makes no sense:</p>\n<pre><code>userToBeUpdated\n            .map((userToBeUpdated) -&gt; {...})\n</code></pre>\n<p><code>User</code> class is a hibernate entity, which most likely does not have a <code>map</code> method implemented on it, why would it? In Java usually streams and optionals offer implementation for a <code>map</code>. It is used apply some transformation to each object encapsulated by the stream/optional. You would want to check out the docs for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">streams</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">optionals</a> to read more about them.</p>\n<p>What I believe you want to do here is the following:</p>\n<pre><code>@Override\npublic UserDTO activateDeactivateUser(int userId, boolean isActive) throws NotFoundException {\n\n    User retrievedUser = this.userRepository.findById(userId)\n            .orElseThrow(() -&gt; new NotFoundException(String.format(&quot;The user having ID or email %s was not found&quot;, userId)));\n\n    retrievedUser.set_active(isActive);\n    this.userRepository.save(retrievedUser);\n\n    return conversionService.convert(retrievedUser);\n}\n</code></pre>\n<p>I expect that the <code>ConversionService</code> has something like a <code>convert</code> method, which takes an entity object and returns a DTO.</p>\n<p>Some other notes unrelated to the question:</p>\n<ul>\n<li>Please adhere the Java coding standards. In Java, we do not use snake case for method calls. This <code>userToBeUpdated.set_active(isActive);</code> should be something like this <code>userToBeUpdated.setActive(isActive);</code></li>\n</ul>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70763654,"answer_count":1,"score":-1,"last_activity_date":1642548604,"creation_date":1642546107,"question_id":70763310,"body_markdown":"I am working on a Spring Boot application and I am trying to use a more modern (Java 8+ constructs) but I am finding some difficulties trying to implement the following changes to my existing code.\r\n\r\nI have the following service method:\r\n\r\n\t@Override\r\n\tpublic Optional&lt;User&gt; activateDeactivateUser(int userId, boolean isActive) throws NotFoundException {\r\n\t    \r\n\t\tOptional&lt;User&gt; retrievedUser = this.userRepository.findById(userId);\r\n\t\t\r\n\t\tif(retrievedUser.isEmpty())\r\n\t\t\tthrow new NotFoundException(String.format(&quot;The user having ID or email %s was not found&quot;, userId));\r\n\t\t\r\n\t    \r\n\t    return Optional.ofNullable(retrievedUser) \r\n\t    \t\t.map((user) -&gt; { \r\n\t    \t\t\tlog.info(String.format(&quot;****** USER E-MAIL *******&quot;, user.get().getEmail()));\r\n\t    \t\t\t\r\n\t    \t\t\tuser.get().set_active(isActive);\r\n\t    \t\t\tthis.userRepository.save(user.get());\r\n\t    \t\t\t\r\n\t    \t\t\treturn user;\r\n\t\t\t\t\t})\r\n\t\t\t\t.orElseThrow(() -&gt; new NotFoundException(String.format(&quot;The user having ID or email %s was not found&quot;, userId)));\r\n\t}\r\n\r\nAs you can see this method return an **Optional&lt;User&gt;** object. As first thing I am not sure that returning an **Optional** is a good practice (because if it is empty I am throwing and handling a **NotFoundException**).\r\n\r\nBut the main problem is that my **User** class is an entity class (I am using Hibernate so it contains the table mapping) I want to change the previous method in order to retrive an **UserDTO** object.\r\n\r\nIn order to convert an **User** instance to an **UserDTO** instance I have this **ConversionService** injected into my service class (I used it elsewhere)\r\n\r\n\t@Autowired\r\n\tConversionService conversionService;\r\n\r\nMy main problem is that in my previous method I am using the **map()** operator. I have tried to change the previous service method in this way:\r\n\r\n\t@Override\r\n\tpublic UserDTO activateDeactivateUser(int userId, boolean isActive) throws NotFoundException {\r\n\t    \r\n\t\tOptional&lt;User&gt; retrievedUser = this.userRepository.findById(userId);\r\n\t\tUser userToBeUpdated = null;\r\n\t\t\r\n\t\tif(retrievedUser.isEmpty())\r\n\t\t\tthrow new NotFoundException(String.format(&quot;The user having ID or email %s was not found&quot;, userId));\r\n\t\telse\r\n\t\t\tuserToBeUpdated = retrievedUser.get(); \r\n\t\t\r\n\t\treturn userToBeUpdated\r\n\t    \t\t.map((userToBeUpdated) -&gt; { \r\n\t    \t\t\tlog.info(String.format(&quot;****** USER E-MAIL *******&quot;, userToBeUpdated.getEmail()));\r\n\t    \t\t\t\r\n\t    \t\t\tuserToBeUpdated.set_active(isActive);\r\n\t    \t\t\tthis.userRepository.save(userToBeUpdated);\r\n\t    \t\t\t\r\n\t    \t\t\treturn userToBeUpdated;\r\n\t\t\t\t\t})\r\n\t\t\t\t.orElseThrow(() -&gt; new NotFoundException(String.format(&quot;The user having ID or email %s was not found&quot;, userId)));\r\n\r\n\t}\r\n\r\nMy idea was to use the **map()** method in order to transform one object (my **User** object into an **UserDTO** object and save it on the DB applying a function). \r\n\r\nFirst of all Eclipse it is giving me the following error on the **map()** method call:\r\n\r\n&gt; The method map((&lt;no type&gt; userToBeUpdated) -&gt; {}) is undefined for the\r\n&gt; type User\r\n\r\nSince I have few experience with stream I have no idea if it is a proper use case of the **map()** use. This because (also in the first method implementation, that worked fine) I am not implementing a real object transformation but I am changing the value of an object field and then I am saving it into the DB. In this second scenario (my second version of my service method) I have to transform from **User** to **UsertDTO**.\r\n\r\nWhat am I missing? Is it legit to use **map()** for this use case or is it forcing the way that was intended the map()? What could be a good solution for this problem?\r\n\r\n\r\n\r\n","title":"How can I correctly use the stream map() in this use case involving the conversion of an entity class instance into a DTO instance?","body":"<p>I am working on a Spring Boot application and I am trying to use a more modern (Java 8+ constructs) but I am finding some difficulties trying to implement the following changes to my existing code.</p>\n<p>I have the following service method:</p>\n<pre><code>@Override\npublic Optional&lt;User&gt; activateDeactivateUser(int userId, boolean isActive) throws NotFoundException {\n    \n    Optional&lt;User&gt; retrievedUser = this.userRepository.findById(userId);\n    \n    if(retrievedUser.isEmpty())\n        throw new NotFoundException(String.format(&quot;The user having ID or email %s was not found&quot;, userId));\n    \n    \n    return Optional.ofNullable(retrievedUser) \n            .map((user) -&gt; { \n                log.info(String.format(&quot;****** USER E-MAIL *******&quot;, user.get().getEmail()));\n                \n                user.get().set_active(isActive);\n                this.userRepository.save(user.get());\n                \n                return user;\n                })\n            .orElseThrow(() -&gt; new NotFoundException(String.format(&quot;The user having ID or email %s was not found&quot;, userId)));\n}\n</code></pre>\n<p>As you can see this method return an <strong>Optional</strong> object. As first thing I am not sure that returning an <strong>Optional</strong> is a good practice (because if it is empty I am throwing and handling a <strong>NotFoundException</strong>).</p>\n<p>But the main problem is that my <strong>User</strong> class is an entity class (I am using Hibernate so it contains the table mapping) I want to change the previous method in order to retrive an <strong>UserDTO</strong> object.</p>\n<p>In order to convert an <strong>User</strong> instance to an <strong>UserDTO</strong> instance I have this <strong>ConversionService</strong> injected into my service class (I used it elsewhere)</p>\n<pre><code>@Autowired\nConversionService conversionService;\n</code></pre>\n<p>My main problem is that in my previous method I am using the <strong>map()</strong> operator. I have tried to change the previous service method in this way:</p>\n<pre><code>@Override\npublic UserDTO activateDeactivateUser(int userId, boolean isActive) throws NotFoundException {\n    \n    Optional&lt;User&gt; retrievedUser = this.userRepository.findById(userId);\n    User userToBeUpdated = null;\n    \n    if(retrievedUser.isEmpty())\n        throw new NotFoundException(String.format(&quot;The user having ID or email %s was not found&quot;, userId));\n    else\n        userToBeUpdated = retrievedUser.get(); \n    \n    return userToBeUpdated\n            .map((userToBeUpdated) -&gt; { \n                log.info(String.format(&quot;****** USER E-MAIL *******&quot;, userToBeUpdated.getEmail()));\n                \n                userToBeUpdated.set_active(isActive);\n                this.userRepository.save(userToBeUpdated);\n                \n                return userToBeUpdated;\n                })\n            .orElseThrow(() -&gt; new NotFoundException(String.format(&quot;The user having ID or email %s was not found&quot;, userId)));\n\n}\n</code></pre>\n<p>My idea was to use the <strong>map()</strong> method in order to transform one object (my <strong>User</strong> object into an <strong>UserDTO</strong> object and save it on the DB applying a function).</p>\n<p>First of all Eclipse it is giving me the following error on the <strong>map()</strong> method call:</p>\n<blockquote>\n<p>The method map(( userToBeUpdated) -&gt; {}) is undefined for the\ntype User</p>\n</blockquote>\n<p>Since I have few experience with stream I have no idea if it is a proper use case of the <strong>map()</strong> use. This because (also in the first method implementation, that worked fine) I am not implementing a real object transformation but I am changing the value of an object field and then I am saving it into the DB. In this second scenario (my second version of my service method) I have to transform from <strong>User</strong> to <strong>UsertDTO</strong>.</p>\n<p>What am I missing? Is it legit to use <strong>map()</strong> for this use case or is it forcing the way that was intended the map()? What could be a good solution for this problem?</p>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":2847683,"reputation":4674,"user_id":2445629,"display_name":"Jon Armstrong"},"score":2,"creation_date":1642553710,"post_id":70763537,"comment_id":125100059,"body_markdown":"Make sure both sessions commit.  Also be sure both sessions connect to the same database properly.","body":"Make sure both sessions commit.  Also be sure both sessions connect to the same database properly."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1642597701,"post_id":70763537,"comment_id":125112312,"body_markdown":"@JonArmstrong is probably right, you are inserting stuff &quot;manually&quot; but probably never commit it.","body":"@JonArmstrong is probably right, you are inserting stuff &quot;manually&quot; but probably never commit it."}],"owner":{"account_id":18163769,"reputation":1,"user_id":13214742,"display_name":"K H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642547751,"creation_date":1642547751,"question_id":70763537,"body_markdown":"My Java code works on retrieving data I inserted into the SQL database. However, if I manually put data into the SQL server then it will not be retrieved by the Java code. In other words, it does not retrieve everything from the database. Instead, it will only get things that I inserted into it from my Java code. I know this because if I do a select * from table in SQL then I retrieve more data than if I do a select * from table in the Java code. How do I fix this?\r\n\r\n```\r\nimport java.sql.*;\r\nimport java.util.*;\r\n\r\npublic class ItemDAO {\r\n\r\n\t// database information\r\n\tprivate Connection connection = null;\r\n\tprivate String user = &quot;&quot;; //took out\r\n\tprivate String pass = &quot;&quot;; //took out\r\n\tprivate String databaseURL = &quot;jdbc:oracle:thin:@localhost:1521:orcl&quot;;\r\n\tprivate ArrayList&lt;Item&gt; itemList = new ArrayList&lt;Item&gt;();\r\n\r\n\t// empty constructor\r\n\tpublic ItemDAO() {\r\n\r\n\t}\r\n\r\n\tpublic int[] getConnection() throws SQLException {\r\n\t\tint[] rowCount = new int[3];\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;oracle.jdbc.OracleDriver&quot;); // tries to set up driver class for oracle\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\tSystem.out.println(&quot;The Driver Class for Oracle was not found&quot; + e);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tconnection = DriverManager.getConnection(databaseURL, user, pass);\r\n\t\t\tStatement statement = connection.createStatement();\r\n\t\t\tResultSet resultSet;\r\n\t\t\tfor(int i = 0; i &lt;= 2; i++){\r\n\t\t\t\tString sql = &quot;SELECT COUNT(*) AS total FROM PURCHASES WHERE PURCHASE_TYPE = &quot; + i;\r\n\t\t\t\tresultSet = statement.executeQuery(sql);\r\n\t\t\t\twhile(resultSet.next()){\r\n\t\t\t\t\trowCount[i] = resultSet.getInt(&quot;total&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tresultSet.close();\r\n\t\t\t}\r\n\t\t\tstatement.close();\r\n\t\t} catch (SQLException sqle) {\r\n\t\t\t sqle.printStackTrace();\r\n\t\t\tSystem.out.println(&quot;The connection to the database was unsucessful.&quot; + sqle);\r\n\t\t}\r\n\t\treturn rowCount;\r\n\t}\r\n```","title":"My Java code does not retrieve anything inserted manually into the SQL database?","body":"<p>My Java code works on retrieving data I inserted into the SQL database. However, if I manually put data into the SQL server then it will not be retrieved by the Java code. In other words, it does not retrieve everything from the database. Instead, it will only get things that I inserted into it from my Java code. I know this because if I do a select * from table in SQL then I retrieve more data than if I do a select * from table in the Java code. How do I fix this?</p>\n<pre><code>import java.sql.*;\nimport java.util.*;\n\npublic class ItemDAO {\n\n    // database information\n    private Connection connection = null;\n    private String user = &quot;&quot;; //took out\n    private String pass = &quot;&quot;; //took out\n    private String databaseURL = &quot;jdbc:oracle:thin:@localhost:1521:orcl&quot;;\n    private ArrayList&lt;Item&gt; itemList = new ArrayList&lt;Item&gt;();\n\n    // empty constructor\n    public ItemDAO() {\n\n    }\n\n    public int[] getConnection() throws SQLException {\n        int[] rowCount = new int[3];\n        try {\n            Class.forName(&quot;oracle.jdbc.OracleDriver&quot;); // tries to set up driver class for oracle\n        } catch (ClassNotFoundException e) {\n            System.out.println(&quot;The Driver Class for Oracle was not found&quot; + e);\n        }\n        try {\n            connection = DriverManager.getConnection(databaseURL, user, pass);\n            Statement statement = connection.createStatement();\n            ResultSet resultSet;\n            for(int i = 0; i &lt;= 2; i++){\n                String sql = &quot;SELECT COUNT(*) AS total FROM PURCHASES WHERE PURCHASE_TYPE = &quot; + i;\n                resultSet = statement.executeQuery(sql);\n                while(resultSet.next()){\n                    rowCount[i] = resultSet.getInt(&quot;total&quot;);\n                }\n                resultSet.close();\n            }\n            statement.close();\n        } catch (SQLException sqle) {\n             sqle.printStackTrace();\n            System.out.println(&quot;The connection to the database was unsucessful.&quot; + sqle);\n        }\n        return rowCount;\n    }\n</code></pre>\n"},{"tags":["java","inheritance","visibility","protected","access-modifiers"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1642547344,"post_id":70763442,"comment_id":125098934,"body_markdown":"It&#39;s just `animalName = &quot;abc&quot;;`  Why are you qualifying it with a _class_ name?","body":"It&#39;s just <code>animalName = &quot;abc&quot;;</code>  Why are you qualifying it with a <i>class</i> name?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642547557,"creation_date":1642547557,"answer_id":70763510,"question_id":70763442,"body_markdown":"That happens because you confusing static and instance members.\r\n\r\n**AnimalApp.animalName** - is a way to refer to a *static* variable (by using the class name, because static variable resides on the class, they do not belong to any instance of the class and hence cant be inherited).\r\n\r\n**this.animalName** or **super.animalName** or simply **animalName** - are proper ways to access *instance* variables","title":"Protected variable not accessible within child class in Java","body":"<p>That happens because you confusing static and instance members.</p>\n<p><strong>AnimalApp.animalName</strong> - is a way to refer to a <em>static</em> variable (by using the class name, because static variable resides on the class, they do not belong to any instance of the class and hence cant be inherited).</p>\n<p><strong>this.animalName</strong> or <strong>super.animalName</strong> or simply <strong>animalName</strong> - are proper ways to access <em>instance</em> variables</p>\n"}],"owner":{"account_id":16765025,"reputation":1192,"user_id":12118888,"display_name":"Payel Senapati"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70763510,"answer_count":1,"score":-2,"last_activity_date":1642547557,"creation_date":1642547152,"question_id":70763442,"body_markdown":"I have the following structure - \r\n\r\n`App.java` - \r\n\r\n```\r\npackage JohnParcellJavaBasics.AccessModifierDemo;\r\nimport JohnParcellJavaBasics.AccessModifierDemo.*;\r\n\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        \r\n    }\r\n}\r\n\r\n```\r\n\r\n`AnimalApp.java` -\r\n\r\n```\r\npackage JohnParcellJavaBasics.AccessModifierDemo.Animal;\r\nimport JohnParcellJavaBasics.AccessModifierDemo.Animal.*;\r\n\r\npublic class AnimalApp {\r\n    protected String animalName;\r\n    public void myMethod() {\r\n        \r\n    }\r\n}\r\n\r\n```\r\n\r\n`Eagle.java` -\r\n\r\n```\r\npackage JohnParcellJavaBasics.AccessModifierDemo.Animal.Bird;\r\nimport JohnParcellJavaBasics.AccessModifierDemo.Animal.*;\r\n\r\npublic class Eagle extends AnimalApp {\r\n    public void myMethod() {\r\n        AnimalApp.animalName = &quot;abc&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nIn the file - `Eagle.java`, in the line `AnimalApp.animalName = &quot;abc&quot;;` below `animalName` there is a read line which reads - \r\n\r\n`The field AnimalApp.animalName is not visible`\r\n\r\nHow can this be possible? \r\n\r\nI am using VSCode on Ubuntu and OpenJDK 11.","title":"Protected variable not accessible within child class in Java","body":"<p>I have the following structure -</p>\n<p><code>App.java</code> -</p>\n<pre><code>package JohnParcellJavaBasics.AccessModifierDemo;\nimport JohnParcellJavaBasics.AccessModifierDemo.*;\n\npublic class App {\n    public static void main(String[] args) {\n        \n    }\n}\n\n</code></pre>\n<p><code>AnimalApp.java</code> -</p>\n<pre><code>package JohnParcellJavaBasics.AccessModifierDemo.Animal;\nimport JohnParcellJavaBasics.AccessModifierDemo.Animal.*;\n\npublic class AnimalApp {\n    protected String animalName;\n    public void myMethod() {\n        \n    }\n}\n\n</code></pre>\n<p><code>Eagle.java</code> -</p>\n<pre><code>package JohnParcellJavaBasics.AccessModifierDemo.Animal.Bird;\nimport JohnParcellJavaBasics.AccessModifierDemo.Animal.*;\n\npublic class Eagle extends AnimalApp {\n    public void myMethod() {\n        AnimalApp.animalName = &quot;abc&quot;;\n    }\n}\n\n</code></pre>\n<p>In the file - <code>Eagle.java</code>, in the line <code>AnimalApp.animalName = &quot;abc&quot;;</code> below <code>animalName</code> there is a read line which reads -</p>\n<p><code>The field AnimalApp.animalName is not visible</code></p>\n<p>How can this be possible?</p>\n<p>I am using VSCode on Ubuntu and OpenJDK 11.</p>\n"},{"tags":["java","android","google-maps-markers"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1642604206,"post_id":70763376,"comment_id":125115428,"body_markdown":"I noticed you have a habit of not following up on your questions. If an answer is provided that solves your problem, please mark it as the solution or at less answer your own question. The questions you ask are more for the next person.","body":"I noticed you have a habit of not following up on your questions. If an answer is provided that solves your problem, please mark it as the solution or at less answer your own question. The questions you ask are more for the next person."}],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642547414,"creation_date":1642547414,"answer_id":70763484,"question_id":70763376,"body_markdown":"On your setOnMarkerDragListener, you want to use the local variable &#39;marker&#39;. Don&#39;t try to get the value from outside of the scope.\r\n\r\n    mMap.setOnMarkerDragListener(new GoogleMap.OnMarkerDragListener() {\r\n            @Override\r\n            public void onMarkerDrag(@NonNull Marker marker) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onMarkerDragEnd(@NonNull Marker marker) {\r\n                Toast.makeText(getApplicationContext(), marker.getPostition.toString(), Toast.LENGTH_SHORT).show();\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onMarkerDragStart(@NonNull Marker marker) {\r\n    \r\n            }\r\n        });\r\n\r\nThe documentation has some really good examples: https://developers.google.com/maps/documentation/android-sdk/marker\r\n\r\n","title":"How can I get position from a draggable marker in Google Maps?","body":"<p>On your setOnMarkerDragListener, you want to use the local variable 'marker'. Don't try to get the value from outside of the scope.</p>\n<pre><code>mMap.setOnMarkerDragListener(new GoogleMap.OnMarkerDragListener() {\n        @Override\n        public void onMarkerDrag(@NonNull Marker marker) {\n\n        }\n\n        @Override\n        public void onMarkerDragEnd(@NonNull Marker marker) {\n            Toast.makeText(getApplicationContext(), marker.getPostition.toString(), Toast.LENGTH_SHORT).show();\n\n        }\n\n        @Override\n        public void onMarkerDragStart(@NonNull Marker marker) {\n\n        }\n    });\n</code></pre>\n<p>The documentation has some really good examples: <a href=\"https://developers.google.com/maps/documentation/android-sdk/marker\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/android-sdk/marker</a></p>\n"}],"owner":{"account_id":14905662,"reputation":35,"user_id":10762991,"display_name":"kushal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642547414,"creation_date":1642546595,"question_id":70763376,"body_markdown":"This is my current method\r\n\r\n    private void createNewMarker() {\r\n        MarkerOptions AlarmMarker = new MarkerOptions();\r\n        AlarmMarker.position(SearchedLocation).alpha(2).draggable(true)\r\n                .snippet(MessageDataText).title(MessageDataTitle).zIndex(2.0f);\r\n        mMap.addMarker(AlarmMarker);\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(SearchedLocation,10));\r\n        mMap.setOnMarkerDragListener(new GoogleMap.OnMarkerDragListener() {\r\n            @Override\r\n            public void onMarkerDrag(@NonNull Marker marker) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onMarkerDragEnd(@NonNull Marker marker) {\r\n                AlarmMarkerLatLng = AlarmMarker.getPosition();\r\n                Toast.makeText(getApplicationContext(), AlarmMarkerLatLng.toString(), Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onMarkerDragStart(@NonNull Marker marker) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\nThis only returns position that my marker was created on and not the updated one...\r\n\r\n","title":"How can I get position from a draggable marker in Google Maps?","body":"<p>This is my current method</p>\n<pre><code>private void createNewMarker() {\n    MarkerOptions AlarmMarker = new MarkerOptions();\n    AlarmMarker.position(SearchedLocation).alpha(2).draggable(true)\n            .snippet(MessageDataText).title(MessageDataTitle).zIndex(2.0f);\n    mMap.addMarker(AlarmMarker);\n    mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(SearchedLocation,10));\n    mMap.setOnMarkerDragListener(new GoogleMap.OnMarkerDragListener() {\n        @Override\n        public void onMarkerDrag(@NonNull Marker marker) {\n\n        }\n\n        @Override\n        public void onMarkerDragEnd(@NonNull Marker marker) {\n            AlarmMarkerLatLng = AlarmMarker.getPosition();\n            Toast.makeText(getApplicationContext(), AlarmMarkerLatLng.toString(), Toast.LENGTH_SHORT).show();\n\n        }\n\n        @Override\n        public void onMarkerDragStart(@NonNull Marker marker) {\n\n        }\n    });\n\n\n}\n</code></pre>\n<p>This only returns position that my marker was created on and not the updated one...</p>\n"},{"tags":["java","auto-value"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1635457670,"post_id":69761129,"comment_id":123311318,"body_markdown":"https://github.com/google/auto/blob/master/value/userguide/builders-howto.md#validate","body":"<a href=\"https://github.com/google/auto/blob/master/value/userguide/builders-howto.md#validate\" rel=\"nofollow noreferrer\">github.com/google/auto/blob/master/value/userguide/&hellip;</a>"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":1,"creation_date":1635484774,"post_id":69761129,"comment_id":123315873,"body_markdown":"You can use Java or Hibernate `validation` : https://hibernate.org/validator/","body":"You can use Java or Hibernate <code>validation</code> : <a href=\"https://hibernate.org/validator/\" rel=\"nofollow noreferrer\">hibernate.org/validator</a>"}],"owner":{"account_id":4494290,"reputation":76,"user_id":3654542,"display_name":"user3654542"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642546856,"creation_date":1635456354,"question_id":69761129,"body_markdown":"Can an AutoValue class do a negative check similar to how it checks for Missing required properties?\r\nMaybe it can support validation by annotations? \r\n\r\n```\r\n@AutoValue\r\n@JsonSerialize(as = ExampleRequest.class)\r\n@JsonDeserialize(builder = ExampleRequest.Builder.class)\r\npublic abstract class ExampleRequest {\r\n\r\n  @JsonProperty(&quot;name&quot;)\r\n  public abstract String name();\r\n\r\n  @NegativeCheck // is there something available ?\r\n  @JsonProperty(&quot;version&quot;)\r\n  public abstract long version();\r\n\r\n  public static ExampleRequest.Builder builder() {\r\n    return Builder.builder();\r\n  }\r\n\r\n  @AutoValue.Builder\r\n  @JsonIgnoreProperties(ignoreUnknown = true)\r\n  public abstract static class Builder {\r\n    @JsonCreator\r\n    public static ExampleRequest.Builder builder() {\r\n      return new AutoValue_ExampleRequest.Builder();\r\n    }\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    public abstract ExampleRequest.Builder name(String name);\r\n    @JsonProperty(&quot;version&quot;)\r\n    public abstract ExampleRequest.Builder version(long version);\r\n\r\n    public abstract ExampleRequest build();\r\n  }\r\n}\r\n```\r\n\r\nI can solve it like below \r\nbut I was wondering if there is support for some built-in validation using tags so I don&#39;t have to write custom validation.\r\n```\r\n@AutoValue\r\n@JsonSerialize(as = ExampleRequest.class)\r\n@JsonDeserialize(builder = ExampleRequest.Builder.class)\r\npublic abstract class ExampleRequest {\r\n\r\n  @JsonProperty(&quot;name&quot;)\r\n  public abstract String name();\r\n\r\n  @JsonProperty(&quot;version&quot;)\r\n  public abstract long version();\r\n\r\n  public static ExampleRequest.Builder builder() {\r\n    return Builder.builder();\r\n  }\r\n\r\n  @AutoValue.Builder\r\n  @JsonIgnoreProperties(ignoreUnknown = true)\r\n  public abstract static class Builder {\r\n    @JsonCreator\r\n    public static ExampleRequest.Builder builder() {\r\n      return new AutoValue_ExampleRequest.Builder();\r\n    }\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    public abstract ExampleRequest.Builder name(String name);\r\n    @JsonProperty(&quot;version&quot;)\r\n    public abstract ExampleRequest.Builder version(long version);\r\n    \r\n    abstract ExampleRequest autoBuild();\r\n\r\n    public ExampleRequest build() {\r\n      ExampleRequest request = autoBuild();\r\n      validateParameterVersion(request.version());\r\n      return request;\r\n    }\r\n    \r\n    private void validateParameterVersion(long version) {\r\n      if (version &lt; 0) {\r\n        throw new IllegalStateException(&quot;version cannot be negative&quot;);\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n","title":"AutoValue Negative Check","body":"<p>Can an AutoValue class do a negative check similar to how it checks for Missing required properties?\nMaybe it can support validation by annotations?</p>\n<pre><code>@AutoValue\n@JsonSerialize(as = ExampleRequest.class)\n@JsonDeserialize(builder = ExampleRequest.Builder.class)\npublic abstract class ExampleRequest {\n\n  @JsonProperty(&quot;name&quot;)\n  public abstract String name();\n\n  @NegativeCheck // is there something available ?\n  @JsonProperty(&quot;version&quot;)\n  public abstract long version();\n\n  public static ExampleRequest.Builder builder() {\n    return Builder.builder();\n  }\n\n  @AutoValue.Builder\n  @JsonIgnoreProperties(ignoreUnknown = true)\n  public abstract static class Builder {\n    @JsonCreator\n    public static ExampleRequest.Builder builder() {\n      return new AutoValue_ExampleRequest.Builder();\n    }\n\n    @JsonProperty(&quot;name&quot;)\n    public abstract ExampleRequest.Builder name(String name);\n    @JsonProperty(&quot;version&quot;)\n    public abstract ExampleRequest.Builder version(long version);\n\n    public abstract ExampleRequest build();\n  }\n}\n</code></pre>\n<p>I can solve it like below\nbut I was wondering if there is support for some built-in validation using tags so I don't have to write custom validation.</p>\n<pre><code>@AutoValue\n@JsonSerialize(as = ExampleRequest.class)\n@JsonDeserialize(builder = ExampleRequest.Builder.class)\npublic abstract class ExampleRequest {\n\n  @JsonProperty(&quot;name&quot;)\n  public abstract String name();\n\n  @JsonProperty(&quot;version&quot;)\n  public abstract long version();\n\n  public static ExampleRequest.Builder builder() {\n    return Builder.builder();\n  }\n\n  @AutoValue.Builder\n  @JsonIgnoreProperties(ignoreUnknown = true)\n  public abstract static class Builder {\n    @JsonCreator\n    public static ExampleRequest.Builder builder() {\n      return new AutoValue_ExampleRequest.Builder();\n    }\n\n    @JsonProperty(&quot;name&quot;)\n    public abstract ExampleRequest.Builder name(String name);\n    @JsonProperty(&quot;version&quot;)\n    public abstract ExampleRequest.Builder version(long version);\n    \n    abstract ExampleRequest autoBuild();\n\n    public ExampleRequest build() {\n      ExampleRequest request = autoBuild();\n      validateParameterVersion(request.version());\n      return request;\n    }\n    \n    private void validateParameterVersion(long version) {\n      if (version &lt; 0) {\n        throw new IllegalStateException(&quot;version cannot be negative&quot;);\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","groovy","static","mockito","junit5"],"comments":[{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":0,"creation_date":1615210823,"post_id":66529995,"comment_id":117613220,"body_markdown":"can you add a full test example for your new test that mocks a static method and an existing test where you now face the `InvalidUseOfMatchersException`?","body":"can you add a full test example for your new test that mocks a static method and an existing test where you now face the <code>InvalidUseOfMatchersException</code>?"},{"owner":{"account_id":6715788,"reputation":49,"user_id":5177666,"accept_rate":91,"display_name":"Montezuma"},"score":0,"creation_date":1615213939,"post_id":66529995,"comment_id":117614691,"body_markdown":"@rieckpil Edited my question, by adding examples. Somehow my unit-tests with mockito break when using mockito-inline. But using mockito-inline enables me to write tests for static classes and methods.","body":"@rieckpil Edited my question, by adding examples. Somehow my unit-tests with mockito break when using mockito-inline. But using mockito-inline enables me to write tests for static classes and methods."}],"answers":[{"tags":[],"owner":{"account_id":5209827,"reputation":13,"user_id":4166618,"display_name":"Mesru Koprulu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642546785,"creation_date":1642546785,"answer_id":70763395,"question_id":66529995,"body_markdown":"It is too late for your problem but still wanted to put this answer here so that someone else like me might find an answer for their problem.\r\n\r\nAccording to Mockito documentation, Mockito-core and Mockito-inline cannot co-exist in a project. Your mockito-junit-jupiter dependency already depends on mockito-core, thus indirectly causing Mockito-core and Mockito-inline co-exist. If you can eliminate mockito-junit-jupiter dependency and leave only mockito-inline, hopefully it will solve the problem.","title":"Why does using mockito-junit-jupiter and mockito-inline together in Groovy, results in InvalidUseOfMatchersException?","body":"<p>It is too late for your problem but still wanted to put this answer here so that someone else like me might find an answer for their problem.</p>\n<p>According to Mockito documentation, Mockito-core and Mockito-inline cannot co-exist in a project. Your mockito-junit-jupiter dependency already depends on mockito-core, thus indirectly causing Mockito-core and Mockito-inline co-exist. If you can eliminate mockito-junit-jupiter dependency and leave only mockito-inline, hopefully it will solve the problem.</p>\n"}],"owner":{"account_id":6715788,"reputation":49,"user_id":5177666,"accept_rate":91,"display_name":"Montezuma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642546785,"creation_date":1615206989,"question_id":66529995,"body_markdown":"I have a problem with using `mockito-junit-jupiter` and `mockito-inline` together in my groovy code, for testing static classes and methods. Hopefully someone can help me.\r\nMy current situation is: I am using Groovy, Junit5 and Mockito.\r\nThe important parts in my pom.xml are the following:\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.8&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;groovy-testng&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Test dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.15.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nMy Tests are working fine. Now I heard, that I can write tests for static classes and methods. Therefor I read a few posts and in all of them they tell me, that I need to add following dependency on top in my pom and i can test statics:\r\n\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n\r\nWhen I do that, I can use `Mockito.mockStatic` in new tests, but now all my other tests, where I use Mockito are broken, as following error message appears: `org.mockito.exceptions.misusing.InvalidUseOfMatchersException`\r\n\r\nBut these lines in which I allegedly use wrong argument matchers, I didnt change and they still look totally fine for me. For example: `Mockito.when(pipelineConfigLoaderMock.loadResource(Mockito.any(ResourceDefinition.class))).thenThrow(new LoadingResourceFailedException(&quot;Mocked Exception&quot;))`\r\n\r\nCan someone tell me how to use `mockito-junit-jupiter` along with `mockito-inline` in groovy? Do i use wrong dependencies or wrong versions which are not compatible together? The exception `InvalidUseOfMatchersException`, that I receive here, doesn&#39;t seem to show the real problem. I already tried groovy 2.5.14 as well, but nothing changed.\r\n\r\nThx in advance\r\n\r\n\r\n\r\nEdit:\r\n\r\nHere is a example of an unit-test, which works before I added &#39;mockito-inline&#39; to my pom:\r\n\r\n      @Test\r\n      @DisplayName(&quot;getMyself - handle 404 NOT_FOUND&quot;)\r\n      void testGetMyself_HandleNotFoundResponse() {\r\n        when(simpleRestClientMock.execute(any(RequestEntity.class))).thenAnswer(new Answer&lt;ResponseEntity&gt;() {\r\n          @Override\r\n          ResponseEntity answer(InvocationOnMock invocation) {\r\n            return new ResponseEntity(&quot;AnyResponse&quot;, HttpStatus.NOT_FOUND)\r\n          }\r\n        })\r\n    \r\n        assertThatThrownBy({ -&gt;\r\n          underTest.getMyself()\r\n        }).isInstanceOf(RuntimeException.class).hasMessage(&quot;Unknown status: 404 NOT_FOUND&quot;)\r\n      }\r\n\r\n After adding the dependency to the pom I receive following error:\r\n\r\n        org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\n        Invalid use of argument matchers!\r\n        0 matchers expected, 1 recorded:\r\n        -&gt; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:55)\r\n        \r\n        This exception may occur if matchers are combined with raw values:\r\n            //incorrect:\r\n            someMethod(anyObject(), &quot;raw String&quot;);\r\n        When using matchers, all arguments have to be provided by matchers.\r\n        For example:\r\n            //correct:\r\n            someMethod(anyObject(), eq(&quot;String by matcher&quot;));\r\n    at com.xxx.xxx.cda.core.http.client.SimpleRestClient.getMetaClass(SimpleRestClient.groovy)\r\n    at com.xxx.xxx.cda.pipeline.adapter.JiraAdapterTest.testGetMyself_HandleNotFoundResponse\r\n\r\nBut adding `mockito-inline` to my pom, enables me to write an unit-test for static classes, that works, for example:\r\n\r\n    @Test\r\n    void approvalHelperThrowsTimeoutExceptionWithout() {\r\n        ApprovalHelper underTest = new ApprovalHelper()\r\n        underTest = new ApprovalHelper()\r\n        OffsetDateTime startDate = OffsetDateTime.now()\r\n        OffsetDateTime stopDate = startDate.minusHours(1)\r\n        long incrementer = 0\r\n        def closure = { Approval approval -&gt;\r\n            incrementer++\r\n            return false\r\n        }\r\n       Mockito.mockStatic(ApprovalHelper).with {theMock -&gt;\r\n            theMock.when({ -&gt;\r\n                ApprovalHelper.createAndExecTimeoutCommand(Mockito.any(OffsetDateTime.class),\r\n                    Mockito.any(OffsetDateTime), Mockito.any(Closure.class)) })\r\n                .thenThrow(new TimeoutException(&quot;Mocked Timeout Exception&quot;))\r\n            underTest.aroundApproval(TimeDependent.EMPTY, startDate, stopDate, closure)\r\n            assertThat(incrementer).isEqualTo(0L)\r\n        }\r\n    }\r\n\r\nWithout &#39;mockito-inline&#39; dependency I would receive following error:\r\n\r\n    org.mockito.exceptions.base.MockitoException: \r\n    The used MockMaker SubclassByteBuddyMockMaker does not support the creation of static mocks\r\n    \r\n    Mockito&#39;s inline mock maker supports static mocks based on the Instrumentation API.\r\n    You can simply enable this mock mode, by placing the &#39;mockito-inline&#39; artifact where you are currently using &#39;mockito-core&#39;.\r\n    Note that Mockito&#39;s inline mock maker is not supported on Android.\r\n\r\n\r\nI hope these examples are helpful to explain my problem.\r\n\r\nBest regards\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why does using mockito-junit-jupiter and mockito-inline together in Groovy, results in InvalidUseOfMatchersException?","body":"<p>I have a problem with using <code>mockito-junit-jupiter</code> and <code>mockito-inline</code> together in my groovy code, for testing static classes and methods. Hopefully someone can help me.\nMy current situation is: I am using Groovy, Junit5 and Mockito.\nThe important parts in my pom.xml are the following:</p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n        &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n        &lt;version&gt;2.5.8&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                &lt;artifactId&gt;groovy-testng&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Test dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;${junit5.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;version&gt;3.15.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>My Tests are working fine. Now I heard, that I can write tests for static classes and methods. Therefor I read a few posts and in all of them they tell me, that I need to add following dependency on top in my pom and i can test statics:</p>\n<pre><code>      &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>When I do that, I can use <code>Mockito.mockStatic</code> in new tests, but now all my other tests, where I use Mockito are broken, as following error message appears: <code>org.mockito.exceptions.misusing.InvalidUseOfMatchersException</code></p>\n<p>But these lines in which I allegedly use wrong argument matchers, I didnt change and they still look totally fine for me. For example: <code>Mockito.when(pipelineConfigLoaderMock.loadResource(Mockito.any(ResourceDefinition.class))).thenThrow(new LoadingResourceFailedException(&quot;Mocked Exception&quot;))</code></p>\n<p>Can someone tell me how to use <code>mockito-junit-jupiter</code> along with <code>mockito-inline</code> in groovy? Do i use wrong dependencies or wrong versions which are not compatible together? The exception <code>InvalidUseOfMatchersException</code>, that I receive here, doesn't seem to show the real problem. I already tried groovy 2.5.14 as well, but nothing changed.</p>\n<p>Thx in advance</p>\n<p>Edit:</p>\n<p>Here is a example of an unit-test, which works before I added 'mockito-inline' to my pom:</p>\n<pre><code>  @Test\n  @DisplayName(&quot;getMyself - handle 404 NOT_FOUND&quot;)\n  void testGetMyself_HandleNotFoundResponse() {\n    when(simpleRestClientMock.execute(any(RequestEntity.class))).thenAnswer(new Answer&lt;ResponseEntity&gt;() {\n      @Override\n      ResponseEntity answer(InvocationOnMock invocation) {\n        return new ResponseEntity(&quot;AnyResponse&quot;, HttpStatus.NOT_FOUND)\n      }\n    })\n\n    assertThatThrownBy({ -&gt;\n      underTest.getMyself()\n    }).isInstanceOf(RuntimeException.class).hasMessage(&quot;Unknown status: 404 NOT_FOUND&quot;)\n  }\n</code></pre>\n<p>After adding the dependency to the pom I receive following error:</p>\n<pre><code>    org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \n    Invalid use of argument matchers!\n    0 matchers expected, 1 recorded:\n    -&gt; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:55)\n    \n    This exception may occur if matchers are combined with raw values:\n        //incorrect:\n        someMethod(anyObject(), &quot;raw String&quot;);\n    When using matchers, all arguments have to be provided by matchers.\n    For example:\n        //correct:\n        someMethod(anyObject(), eq(&quot;String by matcher&quot;));\nat com.xxx.xxx.cda.core.http.client.SimpleRestClient.getMetaClass(SimpleRestClient.groovy)\nat com.xxx.xxx.cda.pipeline.adapter.JiraAdapterTest.testGetMyself_HandleNotFoundResponse\n</code></pre>\n<p>But adding <code>mockito-inline</code> to my pom, enables me to write an unit-test for static classes, that works, for example:</p>\n<pre><code>@Test\nvoid approvalHelperThrowsTimeoutExceptionWithout() {\n    ApprovalHelper underTest = new ApprovalHelper()\n    underTest = new ApprovalHelper()\n    OffsetDateTime startDate = OffsetDateTime.now()\n    OffsetDateTime stopDate = startDate.minusHours(1)\n    long incrementer = 0\n    def closure = { Approval approval -&gt;\n        incrementer++\n        return false\n    }\n   Mockito.mockStatic(ApprovalHelper).with {theMock -&gt;\n        theMock.when({ -&gt;\n            ApprovalHelper.createAndExecTimeoutCommand(Mockito.any(OffsetDateTime.class),\n                Mockito.any(OffsetDateTime), Mockito.any(Closure.class)) })\n            .thenThrow(new TimeoutException(&quot;Mocked Timeout Exception&quot;))\n        underTest.aroundApproval(TimeDependent.EMPTY, startDate, stopDate, closure)\n        assertThat(incrementer).isEqualTo(0L)\n    }\n}\n</code></pre>\n<p>Without 'mockito-inline' dependency I would receive following error:</p>\n<pre><code>org.mockito.exceptions.base.MockitoException: \nThe used MockMaker SubclassByteBuddyMockMaker does not support the creation of static mocks\n\nMockito's inline mock maker supports static mocks based on the Instrumentation API.\nYou can simply enable this mock mode, by placing the 'mockito-inline' artifact where you are currently using 'mockito-core'.\nNote that Mockito's inline mock maker is not supported on Android.\n</code></pre>\n<p>I hope these examples are helpful to explain my problem.</p>\n<p>Best regards</p>\n"},{"tags":["java","android","android-studio-3.0"],"answers":[{"tags":[],"owner":{"account_id":22165740,"reputation":1230,"user_id":16411959,"display_name":"AI Shakil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642546084,"creation_date":1637383583,"answer_id":70043305,"question_id":70043265,"body_markdown":"I got the solution:\r\n\r\n* Copy the whole project folder ,\r\n* then paste anywhere you want ,\r\n* then just open this new pasted project from Android Studio\r\n\r\nI&#39;ve solved my alien texts by this way.\r\n","title":"Android studio Manifest and Gradle files destroyed after my pc shut down suddenly","body":"<p>I got the solution:</p>\n<ul>\n<li>Copy the whole project folder ,</li>\n<li>then paste anywhere you want ,</li>\n<li>then just open this new pasted project from Android Studio</li>\n</ul>\n<p>I've solved my alien texts by this way.</p>\n"}],"owner":{"account_id":22165740,"reputation":1230,"user_id":16411959,"display_name":"AI Shakil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70043305,"answer_count":1,"score":0,"last_activity_date":1642546084,"creation_date":1637383019,"question_id":70043265,"body_markdown":"I was working on a project. Maybe for electricity drop my pc restarted and now my Manifest &amp; Gradle file text like alien..:(\r\n\r\nhere is some screenshots :\r\n[![Manifest][1]][1]\r\n\r\n[![Gradle][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SFQ3Q.png\r\n  [2]: https://i.stack.imgur.com/pvqY3.png","title":"Android studio Manifest and Gradle files destroyed after my pc shut down suddenly","body":"<p>I was working on a project. Maybe for electricity drop my pc restarted and now my Manifest &amp; Gradle file text like alien..:(</p>\n<p>here is some screenshots :\n<a href=\"https://i.stack.imgur.com/SFQ3Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SFQ3Q.png\" alt=\"Manifest\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/pvqY3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pvqY3.png\" alt=\"Gradle\" /></a></p>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638954872,"creation_date":1638954872,"answer_id":70272483,"question_id":70272086,"body_markdown":"You can fix the size of the items you create for the recyclerview. Try to give the average size of the incoming data as width height in the design. or in html logic : width: 100vw;\r\nheight: 100vh; can you try","title":"Move RecyclerView item causes item height to change","body":"<p>You can fix the size of the items you create for the recyclerview. Try to give the average size of the incoming data as width height in the design. or in html logic : width: 100vw;\nheight: 100vh; can you try</p>\n"}],"owner":{"account_id":16804611,"reputation":13,"user_id":12149129,"display_name":"大盗不操戈"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642546074,"creation_date":1638952837,"question_id":70272086,"body_markdown":"\r\nCustom ItemDecoration:\r\n\r\n```Kotlin\r\nclass DemoDecoration(context: Context, left: Float, top: Float, right: Float, bottom: Float) : ItemDecoration() {\r\n\r\n    companion object {\r\n        private const val dividerHeight = 8f\r\n        private const val dividerPaddingLeft = 0f\r\n    }\r\n\r\n    private val left: Int\r\n    private val top: Int\r\n    private val right: Int\r\n    private val bottom: Int\r\n    private val dividerPaddingRight = 0f\r\n    private val dividerPaint: Paint\r\n    private val textPaint: Paint\r\n\r\n    init {\r\n        val density = context.resources.displayMetrics.density\r\n        this.left = (density * left).toInt()\r\n        this.top = (density * top).toInt()\r\n        this.right = (density * right).toInt()\r\n        this.bottom = (density * bottom).toInt()\r\n        dividerPaint = Paint()\r\n        dividerPaint.isAntiAlias = true\r\n        dividerPaint.style = Paint.Style.FILL\r\n        dividerPaint.color = ContextCompat.getColor(context, android.R.color.darker_gray)\r\n        textPaint = Paint()\r\n        textPaint.isAntiAlias = true\r\n        textPaint.style = Paint.Style.FILL\r\n        textPaint.textSize = 30f\r\n        textPaint.typeface = Typeface.DEFAULT_BOLD\r\n        textPaint.color = Color.BLACK\r\n    }\r\n\r\n    override fun onDraw(canvas: Canvas, parent: RecyclerView, state: RecyclerView.State) {\r\n        draw(canvas, parent)\r\n    }\r\n\r\n    override fun onDrawOver(canvas: Canvas, parent: RecyclerView, state: RecyclerView.State) {\r\n        draw(canvas, parent)\r\n    }\r\n\r\n    private fun draw(canvas: Canvas, parent: RecyclerView) {\r\n        if (parent.layoutManager == null) {\r\n            return\r\n        }\r\n        canvas.save()\r\n        drawRect(canvas, parent)\r\n        canvas.restore()\r\n    }\r\n\r\n    private fun drawRect(canvas: Canvas, parent: RecyclerView) {\r\n        val childCount = parent.childCount\r\n        val spanCount = getSpanCount(parent)\r\n        val space = 0f.coerceAtLeast(((top + bottom).toFloat() - dividerHeight) / 2)\r\n        var i = 0\r\n        if (i &lt; childCount) {\r\n            val view = parent.getChildAt(i)\r\n            val position = parent.getChildAdapterPosition(view)\r\n            if (position / spanCount % 2 == 0) {\r\n                canvas.drawRect(dividerPaddingLeft, view.bottom + space,\r\n                    parent.right - dividerPaddingRight, view.bottom + space + dividerHeight,\r\n                    dividerPaint)\r\n            }\r\n            i += spanCount\r\n        }\r\n    }\r\n\r\n    override fun getItemOffsets(outRect: Rect, view: View, parent: RecyclerView, state: RecyclerView.State) {\r\n        if (parent.layoutManager == null) {\r\n            return\r\n        }\r\n        val position = parent.getChildAdapterPosition(view)\r\n        val spanCount = getSpanCount(parent)\r\n        val index = position / spanCount\r\n        if (index &gt; 0 &amp;&amp; index % 2 == 0) {\r\n            outRect[left, 56, right] = bottom\r\n        } else {\r\n            outRect[left, top, right] = bottom\r\n        }\r\n    }\r\n\r\n    private fun getSpanCount(parent: RecyclerView): Int {\r\n        var spanCount = -1\r\n        val layoutManager = parent.layoutManager\r\n        if (layoutManager is GridLayoutManager) {\r\n            spanCount = layoutManager.spanCount\r\n        } else if (layoutManager is StaggeredGridLayoutManager) {\r\n            spanCount = layoutManager.spanCount\r\n        }\r\n        return spanCount\r\n    }\r\n}\r\n\r\n```\r\nchange item position\r\n```Kotlin\r\nclass MainActivity: AppCompatActivity() {\r\n\r\n    private lateinit var change: Button\r\n    private lateinit var recycler: RecyclerView\r\n    private val demoAdapter: DemoAdapter = DemoAdapter()\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.main_activity)\r\n\r\n        change = findViewById(R.id.change)\r\n        change.setOnClickListener {\r\n            val list = ArrayList(demoAdapter.currentList)\r\n            list.add(10, list.removeAt(5))\r\n            demoAdapter.submitList(list)\r\n        }\r\n\r\n        recycler = findViewById(R.id.recycler)\r\n        recycler.apply {\r\n            layoutManager = GridLayoutManager(this@MainActivity, 5)\r\n            setHasFixedSize(true)\r\n            isNestedScrollingEnabled = false\r\n            itemAnimator = DefaultItemAnimator()\r\n            addItemDecoration(DemoDecoration(this@MainActivity, 2f, 4f, 2f, 4f))\r\n            adapter = demoAdapter\r\n        }\r\n\r\n        val data: MutableList&lt;Model&gt; = ArrayList()\r\n        for (i: Int in 0 .. 39) {\r\n            when ((1..2).random()) {\r\n                1 -&gt; data.add(Model(&quot;$i\\n\\na&quot;))\r\n                2 -&gt; data.add(Model(&quot;$i\\na\\nb&quot;))\r\n            }\r\n        }\r\n        demoAdapter.submitList(data)\r\n    }\r\n}\r\n```\r\nadapter\r\n```Kotlin\r\nclass DemoAdapter: ListAdapter&lt;Model, DemoAdapter.ViewHolder&gt;(TaskDiffCallback()) {\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n        return ViewHolder(LayoutInflater.from(parent.context).inflate(R.layout.item, parent, false))\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        val model = getItem(position)\r\n        holder.text.text = model.text\r\n    }\r\n\r\n    class ViewHolder(view: View): RecyclerView.ViewHolder(view) {\r\n        val container: ConstraintLayout\r\n        val text: TextView\r\n\r\n        init {\r\n            container = view.findViewById(R.id.container)\r\n            text = view.findViewById(R.id.text)\r\n        }\r\n    }\r\n\r\n    private class TaskDiffCallback : DiffUtil.ItemCallback&lt;Model&gt;() {\r\n        override fun areItemsTheSame(oldItem: Model, newItem: Model): Boolean {\r\n            return oldItem == newItem\r\n        }\r\n\r\n        override fun areContentsTheSame(oldItem: Model, newItem: Model): Boolean {\r\n            return oldItem == newItem\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n`data class Model(val text: String)`\r\n\r\nitem layout\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:background=&quot;@drawable/shape_stroke_black&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/text&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:paddingTop=&quot;4dp&quot;\r\n        android:paddingBottom=&quot;4dp&quot;\r\n        android:background=&quot;@android:color/holo_blue_light&quot;\r\n        android:textColor=&quot;@android:color/black&quot;\r\n        android:textSize=&quot;12sp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n[RecyclerviewDemo][1]\r\n\r\n5--&gt;10\r\n![5--&gt;10[1]][2]\r\n\r\n\r\nItem height is changed. How can to keep item height unchanged?\r\n\r\n\r\n  [1]: https://github.com/JakeWoki/RecyclerviewDemo\r\n  [2]: https://i.stack.imgur.com/UsghY.png","title":"Move RecyclerView item causes item height to change","body":"<p>Custom ItemDecoration:</p>\n<pre><code>class DemoDecoration(context: Context, left: Float, top: Float, right: Float, bottom: Float) : ItemDecoration() {\n\n    companion object {\n        private const val dividerHeight = 8f\n        private const val dividerPaddingLeft = 0f\n    }\n\n    private val left: Int\n    private val top: Int\n    private val right: Int\n    private val bottom: Int\n    private val dividerPaddingRight = 0f\n    private val dividerPaint: Paint\n    private val textPaint: Paint\n\n    init {\n        val density = context.resources.displayMetrics.density\n        this.left = (density * left).toInt()\n        this.top = (density * top).toInt()\n        this.right = (density * right).toInt()\n        this.bottom = (density * bottom).toInt()\n        dividerPaint = Paint()\n        dividerPaint.isAntiAlias = true\n        dividerPaint.style = Paint.Style.FILL\n        dividerPaint.color = ContextCompat.getColor(context, android.R.color.darker_gray)\n        textPaint = Paint()\n        textPaint.isAntiAlias = true\n        textPaint.style = Paint.Style.FILL\n        textPaint.textSize = 30f\n        textPaint.typeface = Typeface.DEFAULT_BOLD\n        textPaint.color = Color.BLACK\n    }\n\n    override fun onDraw(canvas: Canvas, parent: RecyclerView, state: RecyclerView.State) {\n        draw(canvas, parent)\n    }\n\n    override fun onDrawOver(canvas: Canvas, parent: RecyclerView, state: RecyclerView.State) {\n        draw(canvas, parent)\n    }\n\n    private fun draw(canvas: Canvas, parent: RecyclerView) {\n        if (parent.layoutManager == null) {\n            return\n        }\n        canvas.save()\n        drawRect(canvas, parent)\n        canvas.restore()\n    }\n\n    private fun drawRect(canvas: Canvas, parent: RecyclerView) {\n        val childCount = parent.childCount\n        val spanCount = getSpanCount(parent)\n        val space = 0f.coerceAtLeast(((top + bottom).toFloat() - dividerHeight) / 2)\n        var i = 0\n        if (i &lt; childCount) {\n            val view = parent.getChildAt(i)\n            val position = parent.getChildAdapterPosition(view)\n            if (position / spanCount % 2 == 0) {\n                canvas.drawRect(dividerPaddingLeft, view.bottom + space,\n                    parent.right - dividerPaddingRight, view.bottom + space + dividerHeight,\n                    dividerPaint)\n            }\n            i += spanCount\n        }\n    }\n\n    override fun getItemOffsets(outRect: Rect, view: View, parent: RecyclerView, state: RecyclerView.State) {\n        if (parent.layoutManager == null) {\n            return\n        }\n        val position = parent.getChildAdapterPosition(view)\n        val spanCount = getSpanCount(parent)\n        val index = position / spanCount\n        if (index &gt; 0 &amp;&amp; index % 2 == 0) {\n            outRect[left, 56, right] = bottom\n        } else {\n            outRect[left, top, right] = bottom\n        }\n    }\n\n    private fun getSpanCount(parent: RecyclerView): Int {\n        var spanCount = -1\n        val layoutManager = parent.layoutManager\n        if (layoutManager is GridLayoutManager) {\n            spanCount = layoutManager.spanCount\n        } else if (layoutManager is StaggeredGridLayoutManager) {\n            spanCount = layoutManager.spanCount\n        }\n        return spanCount\n    }\n}\n\n</code></pre>\n<p>change item position</p>\n<pre><code>class MainActivity: AppCompatActivity() {\n\n    private lateinit var change: Button\n    private lateinit var recycler: RecyclerView\n    private val demoAdapter: DemoAdapter = DemoAdapter()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.main_activity)\n\n        change = findViewById(R.id.change)\n        change.setOnClickListener {\n            val list = ArrayList(demoAdapter.currentList)\n            list.add(10, list.removeAt(5))\n            demoAdapter.submitList(list)\n        }\n\n        recycler = findViewById(R.id.recycler)\n        recycler.apply {\n            layoutManager = GridLayoutManager(this@MainActivity, 5)\n            setHasFixedSize(true)\n            isNestedScrollingEnabled = false\n            itemAnimator = DefaultItemAnimator()\n            addItemDecoration(DemoDecoration(this@MainActivity, 2f, 4f, 2f, 4f))\n            adapter = demoAdapter\n        }\n\n        val data: MutableList&lt;Model&gt; = ArrayList()\n        for (i: Int in 0 .. 39) {\n            when ((1..2).random()) {\n                1 -&gt; data.add(Model(&quot;$i\\n\\na&quot;))\n                2 -&gt; data.add(Model(&quot;$i\\na\\nb&quot;))\n            }\n        }\n        demoAdapter.submitList(data)\n    }\n}\n</code></pre>\n<p>adapter</p>\n<pre><code>class DemoAdapter: ListAdapter&lt;Model, DemoAdapter.ViewHolder&gt;(TaskDiffCallback()) {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        return ViewHolder(LayoutInflater.from(parent.context).inflate(R.layout.item, parent, false))\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val model = getItem(position)\n        holder.text.text = model.text\n    }\n\n    class ViewHolder(view: View): RecyclerView.ViewHolder(view) {\n        val container: ConstraintLayout\n        val text: TextView\n\n        init {\n            container = view.findViewById(R.id.container)\n            text = view.findViewById(R.id.text)\n        }\n    }\n\n    private class TaskDiffCallback : DiffUtil.ItemCallback&lt;Model&gt;() {\n        override fun areItemsTheSame(oldItem: Model, newItem: Model): Boolean {\n            return oldItem == newItem\n        }\n\n        override fun areContentsTheSame(oldItem: Model, newItem: Model): Boolean {\n            return oldItem == newItem\n        }\n    }\n\n}\n</code></pre>\n<p><code>data class Model(val text: String)</code></p>\n<p>item layout</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;@drawable/shape_stroke_black&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:paddingTop=&quot;4dp&quot;\n        android:paddingBottom=&quot;4dp&quot;\n        android:background=&quot;@android:color/holo_blue_light&quot;\n        android:textColor=&quot;@android:color/black&quot;\n        android:textSize=&quot;12sp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><a href=\"https://github.com/JakeWoki/RecyclerviewDemo\" rel=\"nofollow noreferrer\">RecyclerviewDemo</a></p>\n<p>5--&gt;10\n<img src=\"https://i.stack.imgur.com/UsghY.png\" alt=\"5--&gt;101\" /></p>\n<p>Item height is changed. How can to keep item height unchanged?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-cloudformation","aws-sam"],"comments":[{"owner":{"account_id":3598339,"reputation":1871,"user_id":3002336,"display_name":"Anand Varkey Philips"},"score":0,"creation_date":1642101762,"post_id":70646127,"comment_id":124989072,"body_markdown":"Are you trying to run both java and node js together?","body":"Are you trying to run both java and node js together?"},{"owner":{"account_id":52713,"reputation":3740,"user_id":157541,"accept_rate":94,"display_name":"sissonb"},"score":0,"creation_date":1642102470,"post_id":70646127,"comment_id":124989342,"body_markdown":"@AnandVarkeyPhilips I&#39;m trying to have the project build one lambda that is NodeJS and another separate lambda that is Java. This is working on my localhost","body":"@AnandVarkeyPhilips I&#39;m trying to have the project build one lambda that is NodeJS and another separate lambda that is Java. This is working on my localhost"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1642348465,"post_id":70646127,"comment_id":125041697,"body_markdown":"#1 Did you solve your problem? #2 Are you trying to execute java code inside a nodejs lambda on aws? #3 Why not implement it with pure nodejs or pure java?","body":"#1 Did you solve your problem? #2 Are you trying to execute java code inside a nodejs lambda on aws? #3 Why not implement it with pure nodejs or pure java?"},{"owner":{"account_id":52713,"reputation":3740,"user_id":157541,"accept_rate":94,"display_name":"sissonb"},"score":0,"creation_date":1642367513,"post_id":70646127,"comment_id":125046406,"body_markdown":"@JRichardsz #1 I understand the problem better now, but it&#39;s not solved. I plan to accept the answer below before the bounty expires if there isn&#39;t a simpler solution to this. #2 I am trying to create 2 separate lambdas from the project. One lambda being Java and the other being NodeJS. #3 Each lambda is written in only one language. Also there isn&#39;t an option to select a Docker image with Java preinstalled, only NodeJS. I&#39;m hoping that AWS allows us to customize the build image in the future to make this simpler","body":"@JRichardsz #1 I understand the problem better now, but it&#39;s not solved. I plan to accept the answer below before the bounty expires if there isn&#39;t a simpler solution to this. #2 I am trying to create 2 separate lambdas from the project. One lambda being Java and the other being NodeJS. #3 Each lambda is written in only one language. Also there isn&#39;t an option to select a Docker image with Java preinstalled, only NodeJS. I&#39;m hoping that AWS allows us to customize the build image in the future to make this simpler"}],"answers":[{"tags":[],"owner":{"account_id":23897984,"reputation":2653,"user_id":17896613,"display_name":"Kaustubh Khavnekar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642243018,"creation_date":1642103429,"answer_id":70702313,"question_id":70646127,"body_markdown":"buildspec.yml if you want to deploy using AWS CodeBuild (would be an unusual flow):\r\n\r\n``` lang-yaml\r\n---\r\nversion: &#39;0.2&#39;\r\nphases:\r\n  install:\r\n    commands:\r\n    - echo Entered the install phase...\r\n    - npm install --global lerna\r\n    - lerna bootstrap --concurrency=1 -- --production\r\n  build:\r\n    commands:\r\n    - sam build\r\n    - sam deploy --stack-name stackoverflow-stack --capabilities CAPABILITY_IAM --no-fail-on-empty-changeset\r\n      --s3-bucket your-bucket-name-here --parameter-overrides AppId=your-app-id-here\r\n```\r\n\r\nbuildspec.yml if you only want to produce a CloudFormation template file which you can directly deploy (using CodeDeploy or other means). It is almost the same as what you already have, with the following difference:\r\n- Adds `sam build`\r\n- Uses `sam package` instead of `aws cloudformation package`. `sam package` uses `.aws-sam/template.yaml` (output of sam build) instead of `template.yaml` as the first default.\r\n\r\n``` lang-yaml\r\n---\r\nversion: &#39;0.2&#39;\r\nphases:\r\n  install:\r\n    commands:\r\n    - echo Entered the install phase...\r\n    - npm install --global lerna\r\n    - lerna bootstrap --concurrency=1 -- --production\r\n  build:\r\n    commands:\r\n    - sam build\r\n    - sam package --s3-bucket your-bucket-name-here --output-template-file\r\n      template-export.yml\r\nartifacts:\r\n  files:\r\n  - template-export.yml\r\n```\r\n\r\nEdit2: OP&#39;s build project was created by Lambda applications. The build project uses `aws/lambda/nodejs:10-1.0` which has two issues:\r\n- The SAM CLI version is outdated\r\n- Java isn&#39;t installed because the image is meant to be used for nodejs based Lambda functions. Java is required to build the Java based AWS Lambda function\r\n\r\nThe following buildspec.yaml can be used to fix both these issues:\r\n``` lang-yaml\r\n---\r\nversion: &#39;0.2&#39;\r\nphases:\r\n  install:\r\n    commands:\r\n    - echo Entered the install phase...\r\n    - npm install --global lerna\r\n    - lerna bootstrap --concurrency=1 -- --production\r\n    - yum install -y amazon-linux-extras which\r\n    - amazon-linux-extras install java-openjdk11\r\n    - pip install aws-sam-cli --upgrade\r\n  build:\r\n    commands:\r\n    - sam build\r\n    - sam package --s3-bucket cf-templates-fgoi5xu7d2hs-us-east-1 --output-template-file\r\n      template-export.yml\r\nartifacts:\r\n  files:\r\n  - template-export.yml\r\n```","title":"AWS Lambda Application with Java resource","body":"<p>buildspec.yml if you want to deploy using AWS CodeBuild (would be an unusual flow):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>---\nversion: '0.2'\nphases:\n  install:\n    commands:\n    - echo Entered the install phase...\n    - npm install --global lerna\n    - lerna bootstrap --concurrency=1 -- --production\n  build:\n    commands:\n    - sam build\n    - sam deploy --stack-name stackoverflow-stack --capabilities CAPABILITY_IAM --no-fail-on-empty-changeset\n      --s3-bucket your-bucket-name-here --parameter-overrides AppId=your-app-id-here\n</code></pre>\n<p>buildspec.yml if you only want to produce a CloudFormation template file which you can directly deploy (using CodeDeploy or other means). It is almost the same as what you already have, with the following difference:</p>\n<ul>\n<li>Adds <code>sam build</code></li>\n<li>Uses <code>sam package</code> instead of <code>aws cloudformation package</code>. <code>sam package</code> uses <code>.aws-sam/template.yaml</code> (output of sam build) instead of <code>template.yaml</code> as the first default.</li>\n</ul>\n<pre class=\"lang-yaml prettyprint-override\"><code>---\nversion: '0.2'\nphases:\n  install:\n    commands:\n    - echo Entered the install phase...\n    - npm install --global lerna\n    - lerna bootstrap --concurrency=1 -- --production\n  build:\n    commands:\n    - sam build\n    - sam package --s3-bucket your-bucket-name-here --output-template-file\n      template-export.yml\nartifacts:\n  files:\n  - template-export.yml\n</code></pre>\n<p>Edit2: OP's build project was created by Lambda applications. The build project uses <code>aws/lambda/nodejs:10-1.0</code> which has two issues:</p>\n<ul>\n<li>The SAM CLI version is outdated</li>\n<li>Java isn't installed because the image is meant to be used for nodejs based Lambda functions. Java is required to build the Java based AWS Lambda function</li>\n</ul>\n<p>The following buildspec.yaml can be used to fix both these issues:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>---\nversion: '0.2'\nphases:\n  install:\n    commands:\n    - echo Entered the install phase...\n    - npm install --global lerna\n    - lerna bootstrap --concurrency=1 -- --production\n    - yum install -y amazon-linux-extras which\n    - amazon-linux-extras install java-openjdk11\n    - pip install aws-sam-cli --upgrade\n  build:\n    commands:\n    - sam build\n    - sam package --s3-bucket cf-templates-fgoi5xu7d2hs-us-east-1 --output-template-file\n      template-export.yml\nartifacts:\n  files:\n  - template-export.yml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13679688,"reputation":938,"user_id":9870346,"display_name":"Bilal Ali Jafri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642545336,"creation_date":1642545336,"answer_id":70763217,"question_id":70646127,"body_markdown":"There are Docker images for Java and NodeJS. I would suggest to use Docker Images as the base for your lambdas. \r\n\r\n&gt; **For Java**\r\n\r\nExample Dockerfile below:\r\n\r\n    FROM public.ecr.aws/lambda/java:11\r\n    \r\n    # Copy function code and runtime dependencies from Gradle layout\r\n    COPY build/classes/java/main ${LAMBDA_TASK_ROOT}\r\n    COPY build/dependency/* ${LAMBDA_TASK_ROOT}/lib/\r\n    \r\n    # Set the CMD to your handler (could also be done as a parameter override outside of the Dockerfile)\r\n    CMD [ &quot;com.example.LambdaHandler::handleRequest&quot; ]\r\n\r\nExample Gradle task definition to prepare the runtime dependencies:\r\n\r\n    task copyRuntimeDependencies(type: Copy) {\r\n        from configurations.runtimeClasspath\r\n        into &#39;build/dependency&#39;\r\n    }\r\n\r\n&gt; **For NodeJS**\r\n\r\nExample Dockerfile below:\r\n\r\n    FROM public.ecr.aws/lambda/nodejs:12\r\n    \r\n    # Copy function code\r\n    COPY app.js ${LAMBDA_TASK_ROOT}\r\n    \r\n    # Set the CMD to your handler (could also be done as a parameter override outside of the Dockerfile)\r\n    CMD [ &quot;app.handler&quot; ]\r\n\r\n&gt; **To test both the images locally**\r\n\r\n**To build your image:**\r\n\r\n    docker build -t &lt;image name&gt; .\r\n\r\n**To run your image locally:**\r\n\r\n    docker run -p 9000:8080 &lt;image name&gt;\r\n\r\n**In a separate terminal, you can then locally invoke the function using cURL:**\r\n\r\n    curl -XPOST &quot;http://localhost:9000/2015-03-31/functions/function/invocations&quot; -d &#39;{&quot;payload&quot;:&quot;hello world!&quot;}&#39;\r\n\r\n`Reference:` \r\n\r\n - https://gallery.ecr.aws/lambda/nodejs\r\n - https://gallery.ecr.aws/lambda/java\r\n\r\nYou can also try to create multi layer lambda. Not sure if it works. \r\n\r\n\r\n\r\n","title":"AWS Lambda Application with Java resource","body":"<p>There are Docker images for Java and NodeJS. I would suggest to use Docker Images as the base for your lambdas.</p>\n<blockquote>\n<p><strong>For Java</strong></p>\n</blockquote>\n<p>Example Dockerfile below:</p>\n<pre><code>FROM public.ecr.aws/lambda/java:11\n\n# Copy function code and runtime dependencies from Gradle layout\nCOPY build/classes/java/main ${LAMBDA_TASK_ROOT}\nCOPY build/dependency/* ${LAMBDA_TASK_ROOT}/lib/\n\n# Set the CMD to your handler (could also be done as a parameter override outside of the Dockerfile)\nCMD [ &quot;com.example.LambdaHandler::handleRequest&quot; ]\n</code></pre>\n<p>Example Gradle task definition to prepare the runtime dependencies:</p>\n<pre><code>task copyRuntimeDependencies(type: Copy) {\n    from configurations.runtimeClasspath\n    into 'build/dependency'\n}\n</code></pre>\n<blockquote>\n<p><strong>For NodeJS</strong></p>\n</blockquote>\n<p>Example Dockerfile below:</p>\n<pre><code>FROM public.ecr.aws/lambda/nodejs:12\n\n# Copy function code\nCOPY app.js ${LAMBDA_TASK_ROOT}\n\n# Set the CMD to your handler (could also be done as a parameter override outside of the Dockerfile)\nCMD [ &quot;app.handler&quot; ]\n</code></pre>\n<blockquote>\n<p><strong>To test both the images locally</strong></p>\n</blockquote>\n<p><strong>To build your image:</strong></p>\n<pre><code>docker build -t &lt;image name&gt; .\n</code></pre>\n<p><strong>To run your image locally:</strong></p>\n<pre><code>docker run -p 9000:8080 &lt;image name&gt;\n</code></pre>\n<p><strong>In a separate terminal, you can then locally invoke the function using cURL:</strong></p>\n<pre><code>curl -XPOST &quot;http://localhost:9000/2015-03-31/functions/function/invocations&quot; -d '{&quot;payload&quot;:&quot;hello world!&quot;}'\n</code></pre>\n<p><code>Reference:</code></p>\n<ul>\n<li><a href=\"https://gallery.ecr.aws/lambda/nodejs\" rel=\"nofollow noreferrer\">https://gallery.ecr.aws/lambda/nodejs</a></li>\n<li><a href=\"https://gallery.ecr.aws/lambda/java\" rel=\"nofollow noreferrer\">https://gallery.ecr.aws/lambda/java</a></li>\n</ul>\n<p>You can also try to create multi layer lambda. Not sure if it works.</p>\n"}],"owner":{"account_id":52713,"reputation":3740,"user_id":157541,"accept_rate":94,"display_name":"sissonb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1060,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1642545336,"creation_date":1641768006,"question_id":70646127,"body_markdown":"I have a project that I&#39;m able to run locally, but it fails on AWS. To run the project locally I do `sam build` and then `sam local start-api --host 0.0.0.0`. Then I call `http://localhost:3000/skill2/task1` and get the hello world response back. When I call the api gateway `https://p4x0n2nemc.execute-api.us-east-2.amazonaws.com/Prod/skill2/task1` it fails. The error I see in cloudwatch is \r\n```\r\nClass not found: helloworld.App: java.lang.ClassNotFoundException\r\njava.lang.ClassNotFoundException: helloworld.App. Current classpath: file:/var/task/\r\n```\r\n\r\nI created the helloworld app with this command and copied it into my AWS Lambda Application.\r\n\r\n```\r\nsam init --name java11-demo-app --runtime java11 --dependency-manager gradle --app-template hello-world\r\n```\r\n\r\nHere is the Github repo for the AWS Lambda Application with the Java resource\r\n\r\nhttps://github.com/bennebbenneb/sample-app\r\n\r\nHow can I update this AWS Lambda Application so that it creates Java resources in addition to the NodeJS resources? I&#39;m not trying to manually zip up the Java project and upload it. I want the Java code to be built as part of the pipeline.\r\n\r\nLocal build output `sam build`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nJava Lambda working on localhost\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAWS Lambda Applications can be created from the AWS Console. These are CloudFormation projects.\r\nhttps://us-east-2.console.aws.amazon.com/lambda/home?region=us-east-2#/create/application\r\n\r\nError when adding `sam build` to buildspec.yml\r\n[![enter image description here][3]][3]\r\n\r\nError after removing `Architectures` config\r\n[![enter image description here][4]][4]\r\n\r\nResources created by the AWS Lambda Application\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vtm9D.png\r\n  [2]: https://i.stack.imgur.com/uOr8O.png\r\n  [3]: https://i.stack.imgur.com/2pivg.png\r\n  [4]: https://i.stack.imgur.com/C4p5k.png\r\n  [5]: https://i.stack.imgur.com/sSwI5.png","title":"AWS Lambda Application with Java resource","body":"<p>I have a project that I'm able to run locally, but it fails on AWS. To run the project locally I do <code>sam build</code> and then <code>sam local start-api --host 0.0.0.0</code>. Then I call <code>http://localhost:3000/skill2/task1</code> and get the hello world response back. When I call the api gateway <code>https://p4x0n2nemc.execute-api.us-east-2.amazonaws.com/Prod/skill2/task1</code> it fails. The error I see in cloudwatch is</p>\n<pre><code>Class not found: helloworld.App: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: helloworld.App. Current classpath: file:/var/task/\n</code></pre>\n<p>I created the helloworld app with this command and copied it into my AWS Lambda Application.</p>\n<pre><code>sam init --name java11-demo-app --runtime java11 --dependency-manager gradle --app-template hello-world\n</code></pre>\n<p>Here is the Github repo for the AWS Lambda Application with the Java resource</p>\n<p><a href=\"https://github.com/bennebbenneb/sample-app\" rel=\"nofollow noreferrer\">https://github.com/bennebbenneb/sample-app</a></p>\n<p>How can I update this AWS Lambda Application so that it creates Java resources in addition to the NodeJS resources? I'm not trying to manually zip up the Java project and upload it. I want the Java code to be built as part of the pipeline.</p>\n<p>Local build output <code>sam build</code></p>\n<p><a href=\"https://i.stack.imgur.com/Vtm9D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vtm9D.png\" alt=\"enter image description here\" /></a></p>\n<p>Java Lambda working on localhost</p>\n<p><a href=\"https://i.stack.imgur.com/uOr8O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uOr8O.png\" alt=\"enter image description here\" /></a></p>\n<p>AWS Lambda Applications can be created from the AWS Console. These are CloudFormation projects.\n<a href=\"https://us-east-2.console.aws.amazon.com/lambda/home?region=us-east-2#/create/application\" rel=\"nofollow noreferrer\">https://us-east-2.console.aws.amazon.com/lambda/home?region=us-east-2#/create/application</a></p>\n<p>Error when adding <code>sam build</code> to buildspec.yml\n<a href=\"https://i.stack.imgur.com/2pivg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2pivg.png\" alt=\"enter image description here\" /></a></p>\n<p>Error after removing <code>Architectures</code> config\n<a href=\"https://i.stack.imgur.com/C4p5k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C4p5k.png\" alt=\"enter image description here\" /></a></p>\n<p>Resources created by the AWS Lambda Application\n<a href=\"https://i.stack.imgur.com/sSwI5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sSwI5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","variables","arraylist","scope"],"comments":[{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":0,"creation_date":1642539583,"post_id":70762207,"comment_id":125096759,"body_markdown":"Where are you declaring `scanner` and `data`?","body":"Where are you declaring <code>scanner</code> and <code>data</code>?"},{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1642539659,"post_id":70762207,"comment_id":125096783,"body_markdown":"what is data after readFile()?","body":"what is data after readFile()?"},{"owner":{"account_id":21552968,"reputation":133,"user_id":15888753,"display_name":"Wadite RK"},"score":3,"creation_date":1642539824,"post_id":70762207,"comment_id":125096827,"body_markdown":"Hey Emma. I&#39;m not really sure if it will solve your problem, but perhaps your ```singleBinaryNumber.clear()``` is the source of the problem. I believe that by adding the &quot;single&quot; list to the &quot;all&quot; list you add a reference to the original single list, which is later cleared. Perhaps try to add a copy of it? In case this is indeed the source of the problem, you can find an answer [here](https://stackoverflow.com/a/33845997/15888753). Let me know if it helped.","body":"Hey Emma. I&#39;m not really sure if it will solve your problem, but perhaps your <code>singleBinaryNumber.clear()</code> is the source of the problem. I believe that by adding the &quot;single&quot; list to the &quot;all&quot; list you add a reference to the original single list, which is later cleared. Perhaps try to add a copy of it? In case this is indeed the source of the problem, you can find an answer <a href=\"https://stackoverflow.com/a/33845997/15888753\">here</a>. Let me know if it helped."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642543146,"creation_date":1642539958,"answer_id":70762362,"question_id":70762207,"body_markdown":"You are reusing the same `singleBinaryNumber` which you clear after you finish populating it. Remember, this is a **reference** (pointer) which means you are adding the same list rather than new lists on each iteration.\r\n\r\nYou code should be something like this:\r\n\r\n```\r\npublic static ArrayList&lt;ArrayList&gt; dataPrep(){\r\n        ArrayList&lt;ArrayList&gt; allBinaryNumbers = new ArrayList&lt;ArrayList&gt;();\r\n        \r\n        int counter = 0;\r\n      \r\n        while (scanner.hasNextLine()) {\r\n            String line = scanner.nextLine();\r\n            char[] charLine = line.toCharArray();\r\n            \r\n            ArrayList&lt;Integer&gt; singleBinaryNumber = new ArrayList&lt;Integer&gt;(); // create a new list for each iteration \r\n            for (char numb : charLine){\r\n                singleBinaryNumber.add(Integer.parseInt(String.valueOf(numb)));\r\n            }\r\n            allBinaryNumbers.add(singleBinaryNumber);\r\n            System.out.println(allBinaryNumbers); \r\n            // singleBinaryNumber.clear(); &lt;-- remove this line\r\n            counter++;\r\n        }\r\n        \r\n        System.out.println(allBinaryNumbers);\r\n        System.out.println(counter);\r\n        return allBinaryNumbers;\r\n        \r\n    }\r\n```","title":"ArrayList contents Out of Scope, and deleted, after a While Loop in Java","body":"<p>You are reusing the same <code>singleBinaryNumber</code> which you clear after you finish populating it. Remember, this is a <strong>reference</strong> (pointer) which means you are adding the same list rather than new lists on each iteration.</p>\n<p>You code should be something like this:</p>\n<pre><code>public static ArrayList&lt;ArrayList&gt; dataPrep(){\n        ArrayList&lt;ArrayList&gt; allBinaryNumbers = new ArrayList&lt;ArrayList&gt;();\n        \n        int counter = 0;\n      \n        while (scanner.hasNextLine()) {\n            String line = scanner.nextLine();\n            char[] charLine = line.toCharArray();\n            \n            ArrayList&lt;Integer&gt; singleBinaryNumber = new ArrayList&lt;Integer&gt;(); // create a new list for each iteration \n            for (char numb : charLine){\n                singleBinaryNumber.add(Integer.parseInt(String.valueOf(numb)));\n            }\n            allBinaryNumbers.add(singleBinaryNumber);\n            System.out.println(allBinaryNumbers); \n            // singleBinaryNumber.clear(); &lt;-- remove this line\n            counter++;\n        }\n        \n        System.out.println(allBinaryNumbers);\n        System.out.println(counter);\n        return allBinaryNumbers;\n        \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642545312,"creation_date":1642545312,"answer_id":70763215,"question_id":70762207,"body_markdown":"I think a better way to go would be to have the `readFile()` method do exactly that, read the file instead of just opening it and to have this method return an ArrayList. It should also accept a String argument that would be the file path (with file name) rather than hard coding the file path directly in the method itself, for example:\r\n\r\n    // Class instance member variable with Getter &amp; Setter methods.\r\n    private String sourceFile; \r\n\r\n    // In your main() method:  \r\n    // List of Lists. Each internal list is from a different file.\r\n    List&lt;List&lt;String&gt;&gt; filesBinaries = new ArrayList&lt;&gt;(); \r\n    \r\n    // List for current file to be read.\r\n    List&lt;String&gt; binaries = readFile(sourceFile);\r\n    \r\n    // Add the current file List object to the \r\n    // List of Lists (filesBinaries).\r\n    if (!binaries.isEmpty()) { \r\n        filesBinaries.add(binaries);\r\n    }\r\n\r\nWith this, your `readFile()` method would then possibly look something like this:\r\n\r\n    public static List&lt;String&gt; readFile(String filePath) throws FileNotFoundException {\r\n        File file = new File(filePath);\r\n        if (!file.exists()) {\r\n            throw new FileNotFoundException(&quot;readFile() Method Error! The &quot;\r\n                    + &quot;supplied file in the path shown below does not exist!&quot; + System.lineSeparator()\r\n                    + file.getAbsolutePath() + System.lineSeparator());\r\n        }\r\n\r\n        List&lt;String&gt; binaryLines = new ArrayList&lt;&gt;();\r\n        // &#39;Try With Resources&#39; is used here to auto-close the reader.\r\n        try (Scanner reader = new Scanner(file)) {\r\n            String line = &quot;&quot;;\r\n            while (reader.hasNextLine()) {\r\n                line = reader.nextLine().trim();\r\n                // Data Line Validation:\r\n                /* Skip past blank lines (if any) and any lines\r\n                that do not contain a valid binary string. Valid\r\n                lines would be: 100100  or  00100 11100 01110      */\r\n                if (line.isEmpty() || !line.matches(&quot;[01 ]+&quot;)) {\r\n                    continue;\r\n                }\r\n                binaryLines.add(line);\r\n            }\r\n        }\r\n        return binaryLines;\r\n    }\r\n\r\nAnd to fire this method, your `main()` method might look something like this:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;List&lt;String&gt;&gt; filesData = new ArrayList&lt;&gt;();\r\n        String sourceFile = &quot;BinaryData.txt&quot;;  // The CURRENT file to read\r\n\r\n        try {\r\n            // Read the desired file...\r\n            List&lt;String&gt; binaryData = readFile(sourceFile);\r\n            // If the binaryData list is not empty then add it to the fileData List.\r\n            if (!binaryData.isEmpty()) {\r\n                filesData.add(binaryData);\r\n            }\r\n        }\r\n        catch (FileNotFoundException ex) {\r\n            System.err.println(&quot;The file: \\&quot;&quot; + sourceFile + &quot;\\&quot; could not be &quot;\r\n                    + &quot;found!&quot; + System.lineSeparator() + ex.getMessage());\r\n        }\r\n        \r\n        // Display the contens of the filesData List...\r\n        for (int i = 0; i &lt; filesData.size(); i++) {\r\n             System.out.println(&quot;File #&quot; + (i + 1) + &quot; Binary Data:&quot;);\r\n             System.out.println(&quot;====================&quot;);\r\n             for (String binaryString : filesData.get(i)) {\r\n                 System.out.println(binaryString);\r\n             }\r\n        }\r\n    }","title":"ArrayList contents Out of Scope, and deleted, after a While Loop in Java","body":"<p>I think a better way to go would be to have the <code>readFile()</code> method do exactly that, read the file instead of just opening it and to have this method return an ArrayList. It should also accept a String argument that would be the file path (with file name) rather than hard coding the file path directly in the method itself, for example:</p>\n<pre><code>// Class instance member variable with Getter &amp; Setter methods.\nprivate String sourceFile; \n\n// In your main() method:  \n// List of Lists. Each internal list is from a different file.\nList&lt;List&lt;String&gt;&gt; filesBinaries = new ArrayList&lt;&gt;(); \n\n// List for current file to be read.\nList&lt;String&gt; binaries = readFile(sourceFile);\n\n// Add the current file List object to the \n// List of Lists (filesBinaries).\nif (!binaries.isEmpty()) { \n    filesBinaries.add(binaries);\n}\n</code></pre>\n<p>With this, your <code>readFile()</code> method would then possibly look something like this:</p>\n<pre><code>public static List&lt;String&gt; readFile(String filePath) throws FileNotFoundException {\n    File file = new File(filePath);\n    if (!file.exists()) {\n        throw new FileNotFoundException(&quot;readFile() Method Error! The &quot;\n                + &quot;supplied file in the path shown below does not exist!&quot; + System.lineSeparator()\n                + file.getAbsolutePath() + System.lineSeparator());\n    }\n\n    List&lt;String&gt; binaryLines = new ArrayList&lt;&gt;();\n    // 'Try With Resources' is used here to auto-close the reader.\n    try (Scanner reader = new Scanner(file)) {\n        String line = &quot;&quot;;\n        while (reader.hasNextLine()) {\n            line = reader.nextLine().trim();\n            // Data Line Validation:\n            /* Skip past blank lines (if any) and any lines\n            that do not contain a valid binary string. Valid\n            lines would be: 100100  or  00100 11100 01110      */\n            if (line.isEmpty() || !line.matches(&quot;[01 ]+&quot;)) {\n                continue;\n            }\n            binaryLines.add(line);\n        }\n    }\n    return binaryLines;\n}\n</code></pre>\n<p>And to fire this method, your <code>main()</code> method might look something like this:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;List&lt;String&gt;&gt; filesData = new ArrayList&lt;&gt;();\n    String sourceFile = &quot;BinaryData.txt&quot;;  // The CURRENT file to read\n\n    try {\n        // Read the desired file...\n        List&lt;String&gt; binaryData = readFile(sourceFile);\n        // If the binaryData list is not empty then add it to the fileData List.\n        if (!binaryData.isEmpty()) {\n            filesData.add(binaryData);\n        }\n    }\n    catch (FileNotFoundException ex) {\n        System.err.println(&quot;The file: \\&quot;&quot; + sourceFile + &quot;\\&quot; could not be &quot;\n                + &quot;found!&quot; + System.lineSeparator() + ex.getMessage());\n    }\n    \n    // Display the contens of the filesData List...\n    for (int i = 0; i &lt; filesData.size(); i++) {\n         System.out.println(&quot;File #&quot; + (i + 1) + &quot; Binary Data:&quot;);\n         System.out.println(&quot;====================&quot;);\n         for (String binaryString : filesData.get(i)) {\n             System.out.println(binaryString);\n         }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23980731,"reputation":3,"user_id":17968212,"display_name":"Emma Wise"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70762362,"answer_count":2,"score":0,"last_activity_date":1642545312,"creation_date":1642539037,"question_id":70762207,"body_markdown":"I&#39;m attempting to save a list of lists to an ArrayList using a while loop which is looping over the lines in a scanner. The scanner is reading a 12 line text file of binary. The list of list (ArrayList&lt;ArrayList&gt;) is successfully created, but as soon as the while loop terminates the variable ArrayList&lt;ArrayList&gt; is empty and an empty list of lists is returned. I also tested the code by declaring a counter at the same time I declare the list of lists and the counter is incremented in the while loop and retains the data after the loop. \r\n\r\nI&#39;m still very new to coding! Thank you in advance. \r\n\r\n```\r\npublic static void main(String[] args) throws Exception{\r\n        \r\n        \r\n        try { \r\n            readFile();\r\n            data = dataPrep();\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace ();\r\n        }\r\n        \r\n    }\r\n    \r\n    public static void readFile() throws FileNotFoundException {\r\n \r\n        try {\r\n            File inputtxt = new File(&quot;test.txt&quot;);\r\n            scanner = new Scanner(inputtxt);\r\n        }\r\n    \r\n        catch (FileNotFoundException error) {\r\n            System.out.println(error);\r\n        }\r\n    }\r\n\r\n\r\n\r\npublic static ArrayList&lt;ArrayList&gt; dataPrep(){\r\n        ArrayList&lt;ArrayList&gt; allBinaryNumbers = new ArrayList&lt;ArrayList&gt;();\r\n        ArrayList&lt;Integer&gt; singleBinaryNumber = new ArrayList&lt;Integer&gt;();  \r\n        \r\n        int counter = 0;\r\n      \r\n        while (scanner.hasNextLine()) {\r\n            String line = scanner.nextLine();\r\n            char[] charLine = line.toCharArray();\r\n            \r\n            for (char numb : charLine){\r\n                singleBinaryNumber.add(Integer.parseInt(String.valueOf(numb)));\r\n            }\r\n            allBinaryNumbers.add(singleBinaryNumber);\r\n            System.out.println(allBinaryNumbers); \r\n            singleBinaryNumber.clear();     \r\n            counter++;\r\n        }\r\n        \r\n        System.out.println(allBinaryNumbers);\r\n        System.out.println(counter);\r\n        return allBinaryNumbers;\r\n        \r\n    }\r\n```\r\n\r\nMy test.txt is this\r\n```\r\n00100\r\n11110\r\n10110\r\n10111\r\n10101\r\n01111\r\n00111\r\n11100\r\n10000\r\n11001\r\n00010\r\n01010\r\n```\r\n","title":"ArrayList contents Out of Scope, and deleted, after a While Loop in Java","body":"<p>I'm attempting to save a list of lists to an ArrayList using a while loop which is looping over the lines in a scanner. The scanner is reading a 12 line text file of binary. The list of list (ArrayList) is successfully created, but as soon as the while loop terminates the variable ArrayList is empty and an empty list of lists is returned. I also tested the code by declaring a counter at the same time I declare the list of lists and the counter is incremented in the while loop and retains the data after the loop.</p>\n<p>I'm still very new to coding! Thank you in advance.</p>\n<pre><code>public static void main(String[] args) throws Exception{\n        \n        \n        try { \n            readFile();\n            data = dataPrep();\n        }\n        catch (Exception e) {\n            e.printStackTrace ();\n        }\n        \n    }\n    \n    public static void readFile() throws FileNotFoundException {\n \n        try {\n            File inputtxt = new File(&quot;test.txt&quot;);\n            scanner = new Scanner(inputtxt);\n        }\n    \n        catch (FileNotFoundException error) {\n            System.out.println(error);\n        }\n    }\n\n\n\npublic static ArrayList&lt;ArrayList&gt; dataPrep(){\n        ArrayList&lt;ArrayList&gt; allBinaryNumbers = new ArrayList&lt;ArrayList&gt;();\n        ArrayList&lt;Integer&gt; singleBinaryNumber = new ArrayList&lt;Integer&gt;();  \n        \n        int counter = 0;\n      \n        while (scanner.hasNextLine()) {\n            String line = scanner.nextLine();\n            char[] charLine = line.toCharArray();\n            \n            for (char numb : charLine){\n                singleBinaryNumber.add(Integer.parseInt(String.valueOf(numb)));\n            }\n            allBinaryNumbers.add(singleBinaryNumber);\n            System.out.println(allBinaryNumbers); \n            singleBinaryNumber.clear();     \n            counter++;\n        }\n        \n        System.out.println(allBinaryNumbers);\n        System.out.println(counter);\n        return allBinaryNumbers;\n        \n    }\n</code></pre>\n<p>My test.txt is this</p>\n<pre><code>00100\n11110\n10110\n10111\n10101\n01111\n00111\n11100\n10000\n11001\n00010\n01010\n</code></pre>\n"},{"tags":["java","string","colors","integer"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1632779464,"post_id":69352920,"comment_id":122581098,"body_markdown":"You might want to mention that you are discussing RedGreenBlue with Alpha color representations. At first glance, your example data appears to be invalid hex.","body":"You might want to mention that you are discussing RedGreenBlue with Alpha color representations. At first glance, your example data appears to be invalid hex."},{"owner":{"account_id":22716878,"reputation":61,"user_id":16881985,"display_name":"Day Trip"},"score":0,"creation_date":1632933511,"post_id":69352920,"comment_id":122629483,"body_markdown":"Ok will do! Thanks!","body":"Ok will do! Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":14927040,"reputation":358,"user_id":10777578,"display_name":"Julian Kreuzer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632775756,"creation_date":1632775756,"answer_id":69353105,"question_id":69352920,"body_markdown":"Here is all you need I guess to do that\r\n\r\n    \r\n    public static int toARGB(int a,int r,int g,int b){\r\n      return ((((((a &lt;&lt; 8) | r) &lt;&lt; 8) | g) &lt;&lt; 8) | b);\r\n    }\r\n\r\n    public static int setB(int origin,int value){\r\n      return set(origin,0,value);\r\n    }\r\n    public static int setG(int origin,int value){\r\n      return set(origin,1,value);\r\n    }\r\n    public static int setR(int origin,int value){\r\n      return set(origin,2,value);\r\n    }\r\n\r\n    public static int setA(int origin,int value){\r\n      return set(origin,3,value);\r\n    }\r\n\r\n    public static int set(int origin,int pos,int value){\r\n      return (origin &amp; ~(0xFF &lt;&lt; (pos * 8)) | value &lt;&lt; (8 * pos));\r\n    }","title":"How to edit the values of hexadecimal integer in Java?","body":"<p>Here is all you need I guess to do that</p>\n<pre><code>public static int toARGB(int a,int r,int g,int b){\n  return ((((((a &lt;&lt; 8) | r) &lt;&lt; 8) | g) &lt;&lt; 8) | b);\n}\n\npublic static int setB(int origin,int value){\n  return set(origin,0,value);\n}\npublic static int setG(int origin,int value){\n  return set(origin,1,value);\n}\npublic static int setR(int origin,int value){\n  return set(origin,2,value);\n}\n\npublic static int setA(int origin,int value){\n  return set(origin,3,value);\n}\n\npublic static int set(int origin,int pos,int value){\n  return (origin &amp; ~(0xFF &lt;&lt; (pos * 8)) | value &lt;&lt; (8 * pos));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632776636,"creation_date":1632776636,"answer_id":69353238,"question_id":69352920,"body_markdown":"Bitwise and (`&amp;`) can be used to clear specific bits:\r\n\r\n    int j = 0xff224488;\r\n\r\n    j = j &amp; 0xffff00ff;     // j is now 0xff220088\r\n\r\nBitwise or (`|`) can be used to set specific bits:\r\n\r\n    int j = 0xff224488;\r\n\r\n    j = j &amp; 0xffff00ff;     // j is now 0xff220088\r\n\r\n    j = j | 0x00003300;     // j is now 0xff223388\r\n","title":"How to edit the values of hexadecimal integer in Java?","body":"<p>Bitwise and (<code>&amp;</code>) can be used to clear specific bits:</p>\n<pre><code>int j = 0xff224488;\n\nj = j &amp; 0xffff00ff;     // j is now 0xff220088\n</code></pre>\n<p>Bitwise or (<code>|</code>) can be used to set specific bits:</p>\n<pre><code>int j = 0xff224488;\n\nj = j &amp; 0xffff00ff;     // j is now 0xff220088\n\nj = j | 0x00003300;     // j is now 0xff223388\n</code></pre>\n"}],"owner":{"account_id":22716878,"reputation":61,"user_id":16881985,"display_name":"Day Trip"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69353105,"answer_count":2,"score":0,"last_activity_date":1642545290,"creation_date":1632774715,"question_id":69352920,"body_markdown":"I&#39;m trying to edit values in a hexadecimal in Java.\r\n\r\nEDIT: By the way, the hexadecimal contains not just RGB but also alpha.\r\n\r\nFor example:\r\n\r\n    int j = 0xAARRGGBB\r\n\r\nHow would I change the value of `AA` or `RR` after the integer has been created?\r\n\r\nI couldn&#39;t find this question answered anywhere on Google.\r\n\r\nThank you so much for the help!","title":"How to edit the values of hexadecimal integer in Java?","body":"<p>I'm trying to edit values in a hexadecimal in Java.</p>\n<p>EDIT: By the way, the hexadecimal contains not just RGB but also alpha.</p>\n<p>For example:</p>\n<pre><code>int j = 0xAARRGGBB\n</code></pre>\n<p>How would I change the value of <code>AA</code> or <code>RR</code> after the integer has been created?</p>\n<p>I couldn't find this question answered anywhere on Google.</p>\n<p>Thank you so much for the help!</p>\n"},{"tags":["python","java","java-native-interface","native","java-native-library"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1635629526,"post_id":69782279,"comment_id":123348540,"body_markdown":"The question is not entirely clear. Why did you bring up the `dll` example? Do you want to compile the Java code down to a `dll` and load it in Python? Do you want to compile your Python code down to a `dll` and load it in Java? Do you have an existing `dll` that you &quot;*just want to load*&quot;? Do you want to run a Python script from a Java program? Do you want to execute bytecode from a Python script? Please [edit] the post and clarify.","body":"The question is not entirely clear. Why did you bring up the <code>dll</code> example? Do you want to compile the Java code down to a <code>dll</code> and load it in Python? Do you want to compile your Python code down to a <code>dll</code> and load it in Java? Do you have an existing <code>dll</code> that you &quot;<i>just want to load</i>&quot;? Do you want to run a Python script from a Java program? Do you want to execute bytecode from a Python script? Please <a href=\"https://stackoverflow.com/posts/69782279/edit\">edit</a> the post and clarify."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1635629867,"post_id":69782279,"comment_id":123348598,"body_markdown":"If the core of the question revolves around the interaction between Python and Java, then [GraalVM](https://www.graalvm.org/) could be an option. See [this answer](https://stackoverflow.com/a/63200642/4216641) by [Wildhammer](https://stackoverflow.com/users/2582581/wildhammer) for details. GraalVM uses libraries aswell, but does more. It uses [truffle](https://www.graalvm.org/graalvm-as-a-platform/language-implementation-framework/) to transform the python code in bytecode.","body":"If the core of the question revolves around the interaction between Python and Java, then <a href=\"https://www.graalvm.org/\" rel=\"nofollow noreferrer\">GraalVM</a> could be an option. See <a href=\"https://stackoverflow.com/a/63200642/4216641\">this answer</a> by <a href=\"https://stackoverflow.com/users/2582581/wildhammer\">Wildhammer</a> for details. GraalVM uses libraries aswell, but does more. It uses <a href=\"https://www.graalvm.org/graalvm-as-a-platform/language-implementation-framework/\" rel=\"nofollow noreferrer\">truffle</a> to transform the python code in bytecode."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635633325,"creation_date":1635633325,"answer_id":69782644,"question_id":69782279,"body_markdown":"The problem is libraries. Languages like java and python are designed for a &#39;batteries included&#39; mode -- the _entire stack_ is fundamentally designed based on the idea that the entire infrastructure and core library set is just there. For example, in java (and python is similar), even a one-liner `System.out.println(&quot;Hello, World!&quot;)` app loads in a whole heap of I/O control systems, loads in a pluggable framework system in order to then use this to query the classpath for available charsets, and has a charset support system just to render that string. In the big picture, considering we live in 2021 and your average computer is literally capable of executing in a single second what a million Commodore 64 computers could calculate in an entire day - this is sensible. We _DO_ have room to have a system that can render strings written in various languages, instead of making computers that do not and never really can be made to work in a place that doesn&#39;t share an alphabet with what it shipped with.\r\n\r\nThat notion (of &#39;standing on the shoulders of giants&#39;) is pretty much baked right into these platforms.\r\n\r\nTherefore, &#39;translating&#39; a python one-liner that just prints a string into a DLL that is tiny and doesn&#39;t also encode half of the python standard lib stack __just is not available__. It&#39;s not really _impossible_, but it is quite difficult (requires rewriting pretty much every core lib into something stand-alone), and seems mostly useless: That&#39;s not going to actually make stuff any faster, and it is pretty much guaranteed to not _actually_ act like proper up-to-spec java or python: That kind of code won&#39;t really support the various features that python or java does have out of the box. It&#39;s that or have extremely (hard-AI level) intelligent code that figures out precisely that the code you wrote doesn&#39;t rely on these more advanced features and therefore one can fathom a fairly simplistic batch of C/machine code that doesn&#39;t rely on complicated libraries at all - and this compiler would be capable of producing it if available. Point is: Incredibly difficult to do that correctly.\r\n\r\nThe &#39;cost&#39; to make such a tool is incredibly high. The benefits are tiny. Why in the blazes do you want to &#39;avoid&#39; libraries? Yes, it SEEMS to us humans utterly stupid to demand a full megabyte of &#39;libraries&#39; _just_ to print &#39;Hello!&#39; - that&#39;s the total memory capability of 16 Commodore 64s!!! - but the amount of coffee you waste simply by spilling a grain of it on your countertop would seem equally incredibly stupid to an ant. You aren&#39;t an ant, and that computer of yours aint a C64. Wasting a megabyte on a pointless library Just. Does. Not. Matter. It&#39;s like peeing in the ocean near The Hague and concluding that this must be raising the ocean level in Long Island. Sure, yeah. Technically. You&#39;ll never be able to measure it and it is beyond nuts to worry about that sort of thing.\r\n\r\nConclusion: Folks who know their stuff is _required_ to build such a complicated tool. Because they know their stuff, they know that whole &#39;depends on a few libraries&#39; thing just doesn&#39;t add up to anything relevant, and so they won&#39;t bother doing that.\r\n\r\nReal-Time java and GraalVM are probably the closest attempts in the java world to convert java code into stuff that will run in reliable C-style simplistic, machine-code-translatable chunks.\r\n\r\nThere are also languages that aren&#39;t java or python but copy most of the syntax of java or python which _are_ intended to run on extremely simple stuff. In the distant past, java had different &#39;profiles&#39; (defining behaviours you could rely on, core library availability, and a few other things), notably including a micro-profile for running on at-the-time tiny candybar phones and smartcards and the like, but that part of java seems to have mostly died out (yup, what you want is something very few people seem to be interested in, unfortunately). I&#39;m not aware of any such libraries for python though.\r\n\r\nTL;DR: Nope, doesn&#39;t exist, never will. You&#39;re worrying about the wrong thing.\r\n","title":"Is it possible to make a native in pure Java using python?","body":"<p>The problem is libraries. Languages like java and python are designed for a 'batteries included' mode -- the <em>entire stack</em> is fundamentally designed based on the idea that the entire infrastructure and core library set is just there. For example, in java (and python is similar), even a one-liner <code>System.out.println(&quot;Hello, World!&quot;)</code> app loads in a whole heap of I/O control systems, loads in a pluggable framework system in order to then use this to query the classpath for available charsets, and has a charset support system just to render that string. In the big picture, considering we live in 2021 and your average computer is literally capable of executing in a single second what a million Commodore 64 computers could calculate in an entire day - this is sensible. We <em>DO</em> have room to have a system that can render strings written in various languages, instead of making computers that do not and never really can be made to work in a place that doesn't share an alphabet with what it shipped with.</p>\n<p>That notion (of 'standing on the shoulders of giants') is pretty much baked right into these platforms.</p>\n<p>Therefore, 'translating' a python one-liner that just prints a string into a DLL that is tiny and doesn't also encode half of the python standard lib stack <strong>just is not available</strong>. It's not really <em>impossible</em>, but it is quite difficult (requires rewriting pretty much every core lib into something stand-alone), and seems mostly useless: That's not going to actually make stuff any faster, and it is pretty much guaranteed to not <em>actually</em> act like proper up-to-spec java or python: That kind of code won't really support the various features that python or java does have out of the box. It's that or have extremely (hard-AI level) intelligent code that figures out precisely that the code you wrote doesn't rely on these more advanced features and therefore one can fathom a fairly simplistic batch of C/machine code that doesn't rely on complicated libraries at all - and this compiler would be capable of producing it if available. Point is: Incredibly difficult to do that correctly.</p>\n<p>The 'cost' to make such a tool is incredibly high. The benefits are tiny. Why in the blazes do you want to 'avoid' libraries? Yes, it SEEMS to us humans utterly stupid to demand a full megabyte of 'libraries' <em>just</em> to print 'Hello!' - that's the total memory capability of 16 Commodore 64s!!! - but the amount of coffee you waste simply by spilling a grain of it on your countertop would seem equally incredibly stupid to an ant. You aren't an ant, and that computer of yours aint a C64. Wasting a megabyte on a pointless library Just. Does. Not. Matter. It's like peeing in the ocean near The Hague and concluding that this must be raising the ocean level in Long Island. Sure, yeah. Technically. You'll never be able to measure it and it is beyond nuts to worry about that sort of thing.</p>\n<p>Conclusion: Folks who know their stuff is <em>required</em> to build such a complicated tool. Because they know their stuff, they know that whole 'depends on a few libraries' thing just doesn't add up to anything relevant, and so they won't bother doing that.</p>\n<p>Real-Time java and GraalVM are probably the closest attempts in the java world to convert java code into stuff that will run in reliable C-style simplistic, machine-code-translatable chunks.</p>\n<p>There are also languages that aren't java or python but copy most of the syntax of java or python which <em>are</em> intended to run on extremely simple stuff. In the distant past, java had different 'profiles' (defining behaviours you could rely on, core library availability, and a few other things), notably including a micro-profile for running on at-the-time tiny candybar phones and smartcards and the like, but that part of java seems to have mostly died out (yup, what you want is something very few people seem to be interested in, unfortunately). I'm not aware of any such libraries for python though.</p>\n<p>TL;DR: Nope, doesn't exist, never will. You're worrying about the wrong thing.</p>\n"}],"owner":{"account_id":22716878,"reputation":61,"user_id":16881985,"display_name":"Day Trip"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69782644,"answer_count":1,"score":0,"last_activity_date":1642545205,"creation_date":1635629190,"question_id":69782279,"body_markdown":"Using JNI, or *Java Native Interface*, it is possible to use c++/c types and functions in Java. I want to do something similar with Python. There are many libraries for executing Python code from Java such as Jython, but I don&#39;t want to use any libraries. \r\n\r\nTechnically, a **dll** file is just compiled machine code, so if c/c++ can be compiled into that, then so can Python. Is it possible to use types and functions from Python using Java&#39;s built-in native interface? Here is an example of what I&#39;m trying to accomplish:\r\n\r\n**In Python:** (A file called `hello.py`)\r\n```py\r\nimport math\r\n\r\nclass ATestClass:\r\n    def run_something_very_important(self, a: float, b: float) -&gt; float:\r\n        print(&quot;Hello!&quot;)\r\n        return math.cos(a * b)\r\n```\r\n\r\nThe resulting **DLL** file would be `hello.dll`\r\n\r\n**And then this would be the code in Java:** (In a file called `hello.java`)\r\n\r\n```java\r\npublic class hello {\r\n    public native float run_something_very_important(float a, float b);\r\n\r\n    static {\r\n        System.loadLibrary(&quot;hello.dll&quot;);\r\n    }\r\n}\r\n```","title":"Is it possible to make a native in pure Java using python?","body":"<p>Using JNI, or <em>Java Native Interface</em>, it is possible to use c++/c types and functions in Java. I want to do something similar with Python. There are many libraries for executing Python code from Java such as Jython, but I don't want to use any libraries.</p>\n<p>Technically, a <strong>dll</strong> file is just compiled machine code, so if c/c++ can be compiled into that, then so can Python. Is it possible to use types and functions from Python using Java's built-in native interface? Here is an example of what I'm trying to accomplish:</p>\n<p><strong>In Python:</strong> (A file called <code>hello.py</code>)</p>\n<pre class=\"lang-py prettyprint-override\"><code>import math\n\nclass ATestClass:\n    def run_something_very_important(self, a: float, b: float) -&gt; float:\n        print(&quot;Hello!&quot;)\n        return math.cos(a * b)\n</code></pre>\n<p>The resulting <strong>DLL</strong> file would be <code>hello.dll</code></p>\n<p><strong>And then this would be the code in Java:</strong> (In a file called <code>hello.java</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class hello {\n    public native float run_something_very_important(float a, float b);\n\n    static {\n        System.loadLibrary(&quot;hello.dll&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":5581005,"reputation":302,"user_id":4422882,"accept_rate":67,"display_name":"srikanth r"},"score":0,"creation_date":1642419845,"post_id":70740615,"comment_id":125057830,"body_markdown":"Yes @Abra it is implementing Callable I have just written a kind of pseudo code to give overall representation of code flow.","body":"Yes @Abra it is implementing Callable I have just written a kind of pseudo code to give overall representation of code flow."},{"owner":{"account_id":5581005,"reputation":302,"user_id":4422882,"accept_rate":67,"display_name":"srikanth r"},"score":0,"creation_date":1642420672,"post_id":70740615,"comment_id":125058148,"body_markdown":"okay sure @Abra Have added it as pseudo code in description. Here as my prime suspect of code is &quot;Thread.yield();&quot; So just added code relevant to it rather than adding complete class","body":"okay sure @Abra Have added it as pseudo code in description. Here as my prime suspect of code is &quot;Thread.yield();&quot; So just added code relevant to it rather than adding complete class"},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":1,"creation_date":1642421244,"post_id":70740615,"comment_id":125058349,"body_markdown":"Related: https://stackoverflow.com/questions/6979796/what-are-the-main-uses-of-yield-and-how-does-it-differ-from-join-and-interr","body":"Related: <a href=\"https://stackoverflow.com/questions/6979796/what-are-the-main-uses-of-yield-and-how-does-it-differ-from-join-and-interr\" title=\"what are the main uses of yield and how does it differ from join and interr\">stackoverflow.com/questions/6979796/&hellip;</a>"},{"owner":{"account_id":5581005,"reputation":302,"user_id":4422882,"accept_rate":67,"display_name":"srikanth r"},"score":0,"creation_date":1642423005,"post_id":70740615,"comment_id":125059040,"body_markdown":"@tevemadar Thank you the reference was very much valuable.","body":"@tevemadar Thank you the reference was very much valuable."}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642544832,"creation_date":1642448619,"answer_id":70746716,"question_id":70740615,"body_markdown":"&gt; So I suspect does Thread.yield() can result into such scenario&#39;s. Since all reports invoking this code flow having same thread priority.\r\n\r\nThe short answer is no.  You are going in the wrong direction.  See below if you are really stuck on thinking that `Thread.yield()` is the issue.\r\n\r\nIn looking at your pseudo code, I&#39;m really confused by the following which just may be how it is represented in your post.  If the code is really like the following then there are bugs.  I&#39;ve annotated each line with my thoughts:\r\n\r\n    Callable&lt;ReportDownload&gt;  = new Download(request, requestid);\r\n    // the only time you need `FutureTask` is if you want a `Runnable` to\r\n    // return something.  Wrapping a Callable in a `FutureTask` seems like a mistake\r\n    FutureTask&lt;ReportDownload&gt; futureTask = new FutureTask&lt;&gt;(download);\r\n    // why do this at all?  Why not call in the current thread?\r\n    ExecutorService executorService = Executors.newFixedThreadPool(1);\r\n    // I just about never use execute because there is no way to catch exceptions\r\n    executorService.execute(futureTask);\r\n    // if your job throws this will hang, prolly the source of your bug\r\n    downloadResponse = futureTask.get();\r\n    executorService.shutdown();\r\n\r\nI think your use of `FutureTask` here is flawed.  You should just submit your `Callable` to the `executorService` and then use the `Future` returned.  I almost never call `ExecutorService.execute()` especially because if your query throws an exception, you won&#39;t be able to see it.  I bet that is your problem.  If your task throws an exception (maybe a timeout exception) then the `FutureTask.get()` call will never return.\r\n\r\n    // maybe this should be newCachedThreadPool and run all queries?\r\n    ExecutorService executorService = Executors.newFixedThreadPool(1);\r\n    Callable&lt;ReportDownload&gt; download = new Download(request, requestid);\r\n    Future&lt;ReportDownload&gt; future = executorService.submit(download);\r\n    // get() waits for the job to complete, if you are submitting multiple queries\r\n    // then put the futures in a list and call get on them after you call shutdown()\r\n    ReportDownload downloadResponse = future.get();\r\n    executorService.shutdown();\r\n\r\nAlso, why not just call this in the calling thread?  Why do you need a thread pool?  If you are trying to fork multiple queries then you should use one thread pool and submit a bunch of `Download` objects to it but I only see one thread being created here.\r\n\r\nYeah the following code hangs.  I suspect that you super long running query is throwing an exception causing your program to hang.\r\n\r\n\t// you should not use FutureTask to wrap a Callable\r\n\tFutureTask&lt;Void&gt; futureTask = new FutureTask&lt;Void&gt;(new Callable&lt;Void&gt;() {\r\n\t\tpublic Void call() throws Exception {\r\n\t\t\tthrow new Exception();\r\n\t\t}\r\n\t});\r\n\tExecutorService executorService = Executors.newFixedThreadPool(1);\r\n\texecutorService.execute(futureTask);\r\n\t// bug: this hangs here because the task never completes\r\n\tfutureTask.get();\r\n\texecutorService.shutdown();\r\n\r\n---------\r\n\r\nIf you really think it has something to do with the yield, take a look at the [`Thread.yield()` javadocs mention][1]:  \r\n\r\n&gt;  A hint to the scheduler that the current thread is willing to yield\r\nits current use of a processor. The scheduler is free to ignore this\r\nhint...\r\n It is rarely appropriate to use this method. It may be useful for debugging or testing purposes, where it may help to reproduce bugs due to race conditions.\r\n\r\nWhat yield does depends highly on the underlying native thread implementation and operating system but I suspect that it does very little in this situation.  I suspect that removing it from your program will not change the frequency of hangs that you have seeing.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#yield()","title":"Can Thread.yield() sometime lead to Thread being stuck in waiting state","body":"<blockquote>\n<p>So I suspect does Thread.yield() can result into such scenario's. Since all reports invoking this code flow having same thread priority.</p>\n</blockquote>\n<p>The short answer is no.  You are going in the wrong direction.  See below if you are really stuck on thinking that <code>Thread.yield()</code> is the issue.</p>\n<p>In looking at your pseudo code, I'm really confused by the following which just may be how it is represented in your post.  If the code is really like the following then there are bugs.  I've annotated each line with my thoughts:</p>\n<pre><code>Callable&lt;ReportDownload&gt;  = new Download(request, requestid);\n// the only time you need `FutureTask` is if you want a `Runnable` to\n// return something.  Wrapping a Callable in a `FutureTask` seems like a mistake\nFutureTask&lt;ReportDownload&gt; futureTask = new FutureTask&lt;&gt;(download);\n// why do this at all?  Why not call in the current thread?\nExecutorService executorService = Executors.newFixedThreadPool(1);\n// I just about never use execute because there is no way to catch exceptions\nexecutorService.execute(futureTask);\n// if your job throws this will hang, prolly the source of your bug\ndownloadResponse = futureTask.get();\nexecutorService.shutdown();\n</code></pre>\n<p>I think your use of <code>FutureTask</code> here is flawed.  You should just submit your <code>Callable</code> to the <code>executorService</code> and then use the <code>Future</code> returned.  I almost never call <code>ExecutorService.execute()</code> especially because if your query throws an exception, you won't be able to see it.  I bet that is your problem.  If your task throws an exception (maybe a timeout exception) then the <code>FutureTask.get()</code> call will never return.</p>\n<pre><code>// maybe this should be newCachedThreadPool and run all queries?\nExecutorService executorService = Executors.newFixedThreadPool(1);\nCallable&lt;ReportDownload&gt; download = new Download(request, requestid);\nFuture&lt;ReportDownload&gt; future = executorService.submit(download);\n// get() waits for the job to complete, if you are submitting multiple queries\n// then put the futures in a list and call get on them after you call shutdown()\nReportDownload downloadResponse = future.get();\nexecutorService.shutdown();\n</code></pre>\n<p>Also, why not just call this in the calling thread?  Why do you need a thread pool?  If you are trying to fork multiple queries then you should use one thread pool and submit a bunch of <code>Download</code> objects to it but I only see one thread being created here.</p>\n<p>Yeah the following code hangs.  I suspect that you super long running query is throwing an exception causing your program to hang.</p>\n<pre><code>// you should not use FutureTask to wrap a Callable\nFutureTask&lt;Void&gt; futureTask = new FutureTask&lt;Void&gt;(new Callable&lt;Void&gt;() {\n    public Void call() throws Exception {\n        throw new Exception();\n    }\n});\nExecutorService executorService = Executors.newFixedThreadPool(1);\nexecutorService.execute(futureTask);\n// bug: this hangs here because the task never completes\nfutureTask.get();\nexecutorService.shutdown();\n</code></pre>\n<hr />\n<p>If you really think it has something to do with the yield, take a look at the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#yield()\" rel=\"nofollow noreferrer\"><code>Thread.yield()</code> javadocs mention</a>:</p>\n<blockquote>\n<p>A hint to the scheduler that the current thread is willing to yield\nits current use of a processor. The scheduler is free to ignore this\nhint...\nIt is rarely appropriate to use this method. It may be useful for debugging or testing purposes, where it may help to reproduce bugs due to race conditions.</p>\n</blockquote>\n<p>What yield does depends highly on the underlying native thread implementation and operating system but I suspect that it does very little in this situation.  I suspect that removing it from your program will not change the frequency of hangs that you have seeing.</p>\n"}],"owner":{"account_id":5581005,"reputation":302,"user_id":4422882,"accept_rate":67,"display_name":"srikanth r"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642544832,"creation_date":1642418974,"question_id":70740615,"body_markdown":"Currently I am working on an Report generator based application as part of which when ever a user logs in and tries to download a report he will end up in calling below method as part of flow\r\n\r\nwhich executes list of queries to fetch required data and return result.\r\n\r\nNote : some queries can take 40-60 mins to execute.\r\n\r\nNowadays I did come up across a strange issue where I could see some times the report never resumes after triggering post below code [ Observation was found via logs].\r\n\r\nSo I suspect does Thread.yield() can result into such scenario&#39;s. Since all reports invoking this code flow having same thread priority.\r\n\r\nI am not sure the use of Thread.yield in this flow as this is an legacy app, So can anyone guide me if such code can result in infinite waiting state for an thread?\r\n\r\nBelow is the basic Pseudo code representation of  flow, Kindly let me know if any additional information is required. Thanks in advance\r\n\r\n```\r\nClass A {\r\n\r\nvoid m1(reportName) {\r\n try {\r\n\r\n// an unique request id gets created for each report generation request\r\n       Callable&lt;ReportDownload&gt;  = new Download(request, requestid);\r\n       FutureTask&lt;ReportDownload&gt; futureTask = new FutureTask&lt;&gt;(download);\r\n        ExecutorService executorService = Executors.newFixedThreadPool(1);\r\n        executorService.execute(futureTask);\r\n        downloadResponse = futureTask.get();\r\n         executorService.shutdown();download\r\n     } catch (Throwable drt) {\r\n\t\t// logs \r\n    } finally {\r\n         // does terminal operations\r\n   }\r\n }\r\n```\r\n\r\n```\r\nClass Download {\r\n\r\n  genrate(reortName) {\r\n    List sqllist = // fecth all 3 queries related to connector and store in lis\r\n    runQueries(sqllist)\r\n  }\r\n \r\n //  the list sqllist will always have 3 queries and these 3 queries will differ for each and every report\r\n \r\n List runQueries(sqllist) {\r\n \r\n \r\n List list = new ArrayList() // used to store result of each query\r\n for (int i = 0; i != sqllist.size(); ++i) {\r\n       Thread.yield();\r\n\t   DBConnection dbconnection = null;\r\n\t   try {\r\n\t   dbconnection = // creates db connection\r\n\t   String query = sqllist.get(i);\r\n\t   /* uses DB connection pool and exectes query and store result\r\n\t    * someting like as shown below \r\n\t   */ And there is no issue with query or dbconnection\r\n\t   DBResult DBResult= dbconnection.retrieve(sql);\r\n\t   // proces returnes result and store in list.\r\n\t   list.add(DBResult);\r\n\t   }\r\n\t   catch (SQLException e)  {\r\n\t   // log sql exception\r\n\t   }\r\n\t   \r\n\t}  \r\n\t\r\n\treturn list;\r\n\t\r\n}\r\n\t   \r\n              ```\r\n","title":"Can Thread.yield() sometime lead to Thread being stuck in waiting state","body":"<p>Currently I am working on an Report generator based application as part of which when ever a user logs in and tries to download a report he will end up in calling below method as part of flow</p>\n<p>which executes list of queries to fetch required data and return result.</p>\n<p>Note : some queries can take 40-60 mins to execute.</p>\n<p>Nowadays I did come up across a strange issue where I could see some times the report never resumes after triggering post below code [ Observation was found via logs].</p>\n<p>So I suspect does Thread.yield() can result into such scenario's. Since all reports invoking this code flow having same thread priority.</p>\n<p>I am not sure the use of Thread.yield in this flow as this is an legacy app, So can anyone guide me if such code can result in infinite waiting state for an thread?</p>\n<p>Below is the basic Pseudo code representation of  flow, Kindly let me know if any additional information is required. Thanks in advance</p>\n<pre><code>Class A {\n\nvoid m1(reportName) {\n try {\n\n// an unique request id gets created for each report generation request\n       Callable&lt;ReportDownload&gt;  = new Download(request, requestid);\n       FutureTask&lt;ReportDownload&gt; futureTask = new FutureTask&lt;&gt;(download);\n        ExecutorService executorService = Executors.newFixedThreadPool(1);\n        executorService.execute(futureTask);\n        downloadResponse = futureTask.get();\n         executorService.shutdown();download\n     } catch (Throwable drt) {\n        // logs \n    } finally {\n         // does terminal operations\n   }\n }\n</code></pre>\n<pre><code>Class Download {\n\n  genrate(reortName) {\n    List sqllist = // fecth all 3 queries related to connector and store in lis\n    runQueries(sqllist)\n  }\n \n //  the list sqllist will always have 3 queries and these 3 queries will differ for each and every report\n \n List runQueries(sqllist) {\n \n \n List list = new ArrayList() // used to store result of each query\n for (int i = 0; i != sqllist.size(); ++i) {\n       Thread.yield();\n       DBConnection dbconnection = null;\n       try {\n       dbconnection = // creates db connection\n       String query = sqllist.get(i);\n       /* uses DB connection pool and exectes query and store result\n        * someting like as shown below \n       */ And there is no issue with query or dbconnection\n       DBResult DBResult= dbconnection.retrieve(sql);\n       // proces returnes result and store in list.\n       list.add(DBResult);\n       }\n       catch (SQLException e)  {\n       // log sql exception\n       }\n       \n    }  \n    \n    return list;\n    \n}\n       \n              ```\n</code></pre>\n"},{"tags":["java","hibernate","annotations","parent-child","cascade"],"answers":[{"tags":[],"owner":{"account_id":1685054,"reputation":21,"user_id":1548530,"display_name":"slobodanl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365600691,"creation_date":1365599399,"answer_id":15926807,"question_id":14227775,"body_markdown":"For correct parent/child relation modeling you should have modeled the one to many part of relation please find an example:\r\n\r\n        @ManyToOne(cascade={CascadeType.ALL})\r\n        @JoinColumn(name=&quot;parent_id&quot;)\r\n    \tprivate Menu parent;\r\n    \t@OneToMany(mappedBy=&quot;parent&quot;,orphanRemoval=true)\r\n        private List&lt;Menu&gt; children = new ArrayList&lt;Menu&gt;();\r\n\r\nThis is an unidirectional link so the owner of the relation would be the parent side of the relation. Now when you issue a `EM.delete(parent)` or `session.delete(parent)` the `delete` will be cascaded by the chain and children will be deleted too ( normally called orphans, by default hibernate will not issue a delete statement on orphans ) so that&#39;s why `orphanRemoval = true` is configured.\r\n","title":"Hibernate unable to delete parent/child self-join entity","body":"<p>For correct parent/child relation modeling you should have modeled the one to many part of relation please find an example:</p>\n\n<pre><code>    @ManyToOne(cascade={CascadeType.ALL})\n    @JoinColumn(name=\"parent_id\")\n    private Menu parent;\n    @OneToMany(mappedBy=\"parent\",orphanRemoval=true)\n    private List&lt;Menu&gt; children = new ArrayList&lt;Menu&gt;();\n</code></pre>\n\n<p>This is an unidirectional link so the owner of the relation would be the parent side of the relation. Now when you issue a <code>EM.delete(parent)</code> or <code>session.delete(parent)</code> the <code>delete</code> will be cascaded by the chain and children will be deleted too ( normally called orphans, by default hibernate will not issue a delete statement on orphans ) so that's why <code>orphanRemoval = true</code> is configured.</p>\n"},{"tags":[],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589784347,"creation_date":1567162554,"answer_id":57725433,"question_id":14227775,"body_markdown":"Though bit old to answer, but today i faced same issue, but on deleting child, parent is also getting deleted.\r\n\r\nDo not use `cascade={CascadeType.ALL}` on Parent if you do wish to cascade CRUD operations from child to parent.\r\n\r\n    @ManyToOne(cascade={CascadeType.ALL})\r\n    @JoinColumn(name=&quot;parent_id&quot;)\r\n    private Menu parent;\r\n\r\n    @OneToMany(mappedBy=&quot;parent&quot;,orphanRemoval=true)\r\n    private List&lt;Menu&gt; children = new ArrayList&lt;Menu&gt;();\r\n\r\nIf you delete children, it also deletes the parent: you can remove cascade operations from parent.\r\n\r\nSo we can change as per below,\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;parent_id&quot;)\r\n    private Menu parent;\r\n\r\n    @OneToMany(mappedBy=&quot;parent&quot;,orphanRemoval=true)\r\n    private List&lt;Menu&gt; children = new ArrayList&lt;Menu&gt;();","title":"Hibernate unable to delete parent/child self-join entity","body":"<p>Though bit old to answer, but today i faced same issue, but on deleting child, parent is also getting deleted.</p>\n\n<p>Do not use <code>cascade={CascadeType.ALL}</code> on Parent if you do wish to cascade CRUD operations from child to parent.</p>\n\n<pre><code>@ManyToOne(cascade={CascadeType.ALL})\n@JoinColumn(name=\"parent_id\")\nprivate Menu parent;\n\n@OneToMany(mappedBy=\"parent\",orphanRemoval=true)\nprivate List&lt;Menu&gt; children = new ArrayList&lt;Menu&gt;();\n</code></pre>\n\n<p>If you delete children, it also deletes the parent: you can remove cascade operations from parent.</p>\n\n<p>So we can change as per below,</p>\n\n<pre><code>@ManyToOne\n@JoinColumn(name=\"parent_id\")\nprivate Menu parent;\n\n@OneToMany(mappedBy=\"parent\",orphanRemoval=true)\nprivate List&lt;Menu&gt; children = new ArrayList&lt;Menu&gt;();\n</code></pre>\n"}],"owner":{"account_id":1893505,"reputation":21,"user_id":1710955,"display_name":"user1710955"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2452,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1642544339,"creation_date":1357701550,"question_id":14227775,"body_markdown":"I&#39;m trying to delete a parent/child self-join entity  but unable to do so\r\nhere is my mapping\r\n\r\n```java\r\n@Entity\r\npublic class FolderNode  {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY, generator = &quot;hibernate_sequence&quot;)\r\n\t@SequenceGenerator(name = &quot;hibernate_sequence&quot;, sequenceName = &quot;hibernate_sequence&quot;)\r\n\t@Column(name=&quot;folder_id&quot;)\r\n\tprivate long folderId;\r\n\r\n\t\r\n\t@ManyToOne\r\n\t@Cascade(CascadeType.DELETE)\r\n    @JoinColumn(name=&quot;parent_id&quot;)\r\n\t@OnDelete(action = org.hibernate.annotations.OnDeleteAction.CASCADE)\r\n\tprivate FolderNode parent;\r\n\r\n}\r\n```","title":"Hibernate unable to delete parent/child self-join entity","body":"<p>I'm trying to delete a parent/child self-join entity  but unable to do so\nhere is my mapping</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class FolderNode  {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY, generator = &quot;hibernate_sequence&quot;)\n    @SequenceGenerator(name = &quot;hibernate_sequence&quot;, sequenceName = &quot;hibernate_sequence&quot;)\n    @Column(name=&quot;folder_id&quot;)\n    private long folderId;\n\n    \n    @ManyToOne\n    @Cascade(CascadeType.DELETE)\n    @JoinColumn(name=&quot;parent_id&quot;)\n    @OnDelete(action = org.hibernate.annotations.OnDeleteAction.CASCADE)\n    private FolderNode parent;\n\n}\n</code></pre>\n"},{"tags":["java","methods","comments","pmd","no-op"],"comments":[{"owner":{"account_id":110825,"reputation":1483,"user_id":293115,"accept_rate":100,"display_name":"HairyFotr"},"score":0,"creation_date":1378123418,"post_id":18571229,"comment_id":27327693,"body_markdown":"Try adding the @Override annotation before the method.","body":"Try adding the @Override annotation before the method."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1378118650,"creation_date":1378118650,"answer_id":18571309,"question_id":18571229,"body_markdown":"When you have a method with an empty body, it is possible that you started writing the method and then forgot to insert the body. If you intend for the method to be empty, you should make a note (in a comment) to explain that it&#39;s empty on purpose. In the case of `Filter`, since you have to implement the `destroy()` method, you should write a comment that says something like &quot;nothing to clean up&quot;.","title":"How to explicitly comment empty methods?","body":"<p>When you have a method with an empty body, it is possible that you started writing the method and then forgot to insert the body. If you intend for the method to be empty, you should make a note (in a comment) to explain that it's empty on purpose. In the case of <code>Filter</code>, since you have to implement the <code>destroy()</code> method, you should write a comment that says something like \"nothing to clean up\".</p>\n"},{"tags":[],"owner":{"account_id":2908151,"reputation":11425,"user_id":2492977,"accept_rate":75,"display_name":"No Idea For Name"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378118822,"creation_date":1378118822,"answer_id":18571368,"question_id":18571229,"body_markdown":"the warning pretty much explain itself.\r\n\r\nwhen you leave an empty method, you should leave a comment saying why is it empty, who did it and when/who is responsible to write it. that way users know why is it here and who should use it, and why isn&#39;t it working","title":"How to explicitly comment empty methods?","body":"<p>the warning pretty much explain itself.</p>\n\n<p>when you leave an empty method, you should leave a comment saying why is it empty, who did it and when/who is responsible to write it. that way users know why is it here and who should use it, and why isn't it working</p>\n"},{"tags":[],"owner":{"account_id":1612392,"reputation":3450,"user_id":1490986,"accept_rate":75,"display_name":"Dan King"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1423226605,"creation_date":1423226605,"answer_id":28366066,"question_id":18571229,"body_markdown":"It means - in PMD terms - that you have to leave a comment ***inside*** an empty method, so it&#39;s obvious that the method is meant to be empty.\r\n\r\nYou can comment the outside of the method as well if you like, but this won&#39;t satisfy PMD.","title":"How to explicitly comment empty methods?","body":"<p>It means - in PMD terms - that you have to leave a comment <strong><em>inside</em></strong> an empty method, so it's obvious that the method is meant to be empty.</p>\n\n<p>You can comment the outside of the method as well if you like, but this won't satisfy PMD.</p>\n"},{"tags":[],"owner":{"account_id":51571,"reputation":34238,"user_id":154133,"accept_rate":57,"display_name":"friederbluemle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521793641,"creation_date":1521793641,"answer_id":49445274,"question_id":18571229,"body_markdown":"In certain cases it might only add additional clutter to a class if you had to add the same comment to each empty method body (for example if you&#39;re implementing an interface with a lot of methods, but you are only interested in using one method).\r\n\r\nUse this annotation to suppress the warning:\r\n\r\n    @SuppressWarnings(&quot;PMD.UncommentedEmptyMethodBody&quot;)","title":"How to explicitly comment empty methods?","body":"<p>In certain cases it might only add additional clutter to a class if you had to add the same comment to each empty method body (for example if you're implementing an interface with a lot of methods, but you are only interested in using one method).</p>\n\n<p>Use this annotation to suppress the warning:</p>\n\n<pre><code>@SuppressWarnings(\"PMD.UncommentedEmptyMethodBody\")\n</code></pre>\n"}],"owner":{"account_id":3196442,"reputation":607,"user_id":2699528,"accept_rate":40,"display_name":"Madhu Sudhan Reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12407,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":4,"score":4,"last_activity_date":1642543407,"creation_date":1378118427,"question_id":18571229,"body_markdown":"    public void destroy() {\r\n    }\r\n\r\nI have written above empty method in my filter class which is required as per the interface. But when my code goes to PMD check it mentions\r\n\r\n&gt; Uncommented Empty Method finds instances where a method does not contain statements, but there is no comment. By explicitly commenting empty methods it is easier to distinguish between intentional (commented) and unintentional empty methods.\r\n\r\nI do not understand it. What really does it mean?","title":"How to explicitly comment empty methods?","body":"<pre><code>public void destroy() {\n}\n</code></pre>\n\n<p>I have written above empty method in my filter class which is required as per the interface. But when my code goes to PMD check it mentions</p>\n\n<blockquote>\n  <p>Uncommented Empty Method finds instances where a method does not contain statements, but there is no comment. By explicitly commenting empty methods it is easier to distinguish between intentional (commented) and unintentional empty methods.</p>\n</blockquote>\n\n<p>I do not understand it. What really does it mean?</p>\n"},{"tags":["java","button","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":17031067,"reputation":11,"user_id":12321245,"display_name":"Thorguay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1573143650,"creation_date":1573143650,"answer_id":58752955,"question_id":58696412,"body_markdown":"I solved the problem by myself:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import org.telegram.telegrambots.api.methods.send.SendMessage;\r\n    import org.telegram.telegrambots.api.objects.Update;\r\n    import org.telegram.telegrambots.bots.TelegramLongPollingBot;\r\n    import org.telegram.telegrambots.exceptions.TelegramApiException;\r\n    import org.telegram.telegrambots.api.objects.replykeyboard.InlineKeyboardMarkup;\r\n    import.org.telegram.telegrambots.api.objects.replykeyboard.buttons.InlineKeyboardButton;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    if (message_text.equals(&quot;test&quot;)) \r\n        {InlineKeyboardMarkup markupInline = new InlineKeyboardMarkup();\r\n                List &lt; List &lt; InlineKeyboardButton &gt;&gt; rowsInline = new ArrayList &lt; &gt; ();\r\n                List &lt; InlineKeyboardButton &gt; rowInline = new ArrayList &lt; &gt; ();\r\n                rowInline.add(new InlineKeyboardButton().setText(&quot;Open Browser&quot;).setUrl(&quot;https://www.google.com/&quot;));\r\n                rowsInline.add(rowInline);\r\n                markupInline.setKeyboard(rowsInline);\r\n                message.setReplyMarkup(markupInline);\r\n            }\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to make a url button for a telegram bot using java","body":"<p>I solved the problem by myself:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import org.telegram.telegrambots.api.methods.send.SendMessage;\r\nimport org.telegram.telegrambots.api.objects.Update;\r\nimport org.telegram.telegrambots.bots.TelegramLongPollingBot;\r\nimport org.telegram.telegrambots.exceptions.TelegramApiException;\r\nimport org.telegram.telegrambots.api.objects.replykeyboard.InlineKeyboardMarkup;\r\nimport.org.telegram.telegrambots.api.objects.replykeyboard.buttons.InlineKeyboardButton;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nif (message_text.equals(\"test\")) \r\n    {InlineKeyboardMarkup markupInline = new InlineKeyboardMarkup();\r\n            List &lt; List &lt; InlineKeyboardButton &gt;&gt; rowsInline = new ArrayList &lt; &gt; ();\r\n            List &lt; InlineKeyboardButton &gt; rowInline = new ArrayList &lt; &gt; ();\r\n            rowInline.add(new InlineKeyboardButton().setText(\"Open Browser\").setUrl(\"https://www.google.com/\"));\r\n            rowsInline.add(rowInline);\r\n            markupInline.setKeyboard(rowsInline);\r\n            message.setReplyMarkup(markupInline);\r\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":12140914,"reputation":1,"user_id":8864754,"display_name":"Andrey Zhukovskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642543319,"creation_date":1642543319,"answer_id":70762942,"question_id":58696412,"body_markdown":"    InlineKeyboardMarkup markupInline = new InlineKeyboardMarkup();\r\n\r\n    List &lt; List &lt; InlineKeyboardButton &gt;&gt; rowsInline = new ArrayList &lt; &gt; ();\r\n    List &lt; InlineKeyboardButton &gt; rowInline = new ArrayList &lt; &gt; ();\r\n\r\n    InlineKeyboardButton inlineKeyboardButton = new InlineKeyboardButton();\r\n    inlineKeyboardButton.setUrl(&quot;https://google.com&quot;);\r\n    inlineKeyboardButton.setText(&quot;Blabla&quot;)\r\n    inlineKeyboardButton.setCallbackData(&quot;Call back data&quot;);\r\n\r\n    rowInline.add(inlineKeyboardButton);\r\n\r\n    rowsInline.add(rowInline);\r\n    markupInline.setKeyboard(rowsInline);\r\n\r\n    message.setReplyMarkup(markupInline);\r\n","title":"How to make a url button for a telegram bot using java","body":"<pre><code>InlineKeyboardMarkup markupInline = new InlineKeyboardMarkup();\n\nList &lt; List &lt; InlineKeyboardButton &gt;&gt; rowsInline = new ArrayList &lt; &gt; ();\nList &lt; InlineKeyboardButton &gt; rowInline = new ArrayList &lt; &gt; ();\n\nInlineKeyboardButton inlineKeyboardButton = new InlineKeyboardButton();\ninlineKeyboardButton.setUrl(&quot;https://google.com&quot;);\ninlineKeyboardButton.setText(&quot;Blabla&quot;)\ninlineKeyboardButton.setCallbackData(&quot;Call back data&quot;);\n\nrowInline.add(inlineKeyboardButton);\n\nrowsInline.add(rowInline);\nmarkupInline.setKeyboard(rowsInline);\n\nmessage.setReplyMarkup(markupInline);\n</code></pre>\n"}],"owner":{"account_id":17031067,"reputation":11,"user_id":12321245,"display_name":"Thorguay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58752955,"answer_count":2,"score":1,"last_activity_date":1642543319,"creation_date":1572881134,"question_id":58696412,"body_markdown":"I have not that much experience with java but I&#39;m trying to make a telegram bot.\r\nI want to create a button which opens a link when you click on it but I don&#39;t know how.\r\nThis is my code:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import org.telegram.telegrambots.api.methods.send.SendMessage;\r\n    import org.telegram.telegrambots.api.objects.Update;\r\n    import org.telegram.telegrambots.bots.TelegramLongPollingBot;\r\n    import org.telegram.telegrambots.exceptions.TelegramApiException;\r\n    import org.telegram.telegrambots.api.objects.replykeyboard.InlineKeyboardMarkup;\r\nimport.org.telegram.telegrambots.api.objects.replykeyboard.buttons.InlineKeyboardButton;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n    if (message_text.equals(&quot;test&quot;)) {\r\n      InlineKeyboardMarkup markupInline = new InlineKeyboardMarkup();\r\n\r\n\r\n      List &lt; List &lt; InlineKeyboardButton &gt;&gt; rowsInline = new ArrayList &lt; &gt; ();\r\n      List &lt; InlineKeyboardButton &gt; rowInline = new ArrayList &lt; &gt; ();\r\n      rowInline.add(new InlineKeyboardButton().setText(&quot;https://www.google.com/&quot;).setCallbackData(&quot;I don&#39;t know what to put in here&quot;));\r\n      rowsInline.add(rowInline);\r\n      markupInline.setKeyboard(rowsInline);\r\n      message.setReplyMarkup(markupInline);\r\n\r\n    } else if (update.hasCallbackQuery()) {\r\n      String call_data = update.getCallbackQuery().getData();\r\n      long message_id = update.getCallbackQuery().getMessage().getMessageId();\r\n      long chat_id = update.getCallbackQuery().getMessage().getChatId();\r\n\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to make a url button for a telegram bot using java","body":"<p>I have not that much experience with java but I'm trying to make a telegram bot.\nI want to create a button which opens a link when you click on it but I don't know how.\nThis is my code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import org.telegram.telegrambots.api.methods.send.SendMessage;\r\nimport org.telegram.telegrambots.api.objects.Update;\r\nimport org.telegram.telegrambots.bots.TelegramLongPollingBot;\r\nimport org.telegram.telegrambots.exceptions.TelegramApiException;\r\nimport org.telegram.telegrambots.api.objects.replykeyboard.InlineKeyboardMarkup;\r\nimport.org.telegram.telegrambots.api.objects.replykeyboard.buttons.InlineKeyboardButton;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nif (message_text.equals(\"test\")) {\r\n  InlineKeyboardMarkup markupInline = new InlineKeyboardMarkup();\r\n\r\n\r\n  List &lt; List &lt; InlineKeyboardButton &gt;&gt; rowsInline = new ArrayList &lt; &gt; ();\r\n  List &lt; InlineKeyboardButton &gt; rowInline = new ArrayList &lt; &gt; ();\r\n  rowInline.add(new InlineKeyboardButton().setText(\"https://www.google.com/\").setCallbackData(\"I don't know what to put in here\"));\r\n  rowsInline.add(rowInline);\r\n  markupInline.setKeyboard(rowsInline);\r\n  message.setReplyMarkup(markupInline);\r\n\r\n} else if (update.hasCallbackQuery()) {\r\n  String call_data = update.getCallbackQuery().getData();\r\n  long message_id = update.getCallbackQuery().getMessage().getMessageId();\r\n  long chat_id = update.getCallbackQuery().getMessage().getChatId();\r\n\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","amazon-sqs"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642543143,"creation_date":1642543143,"answer_id":70762920,"question_id":70758025,"body_markdown":"\r\nIt&#39;s not clear from your question what the message contains, but if the message contains the S3 bucket and key, then yes, you can just use the S3 API to download this.\r\n\r\nAdd the following dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n      &lt;artifactId&gt;s3&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nThis logic will create the S3 client and download the object.\r\n\r\n    AwsCredentials credentials = AwsBasicCredentials.create(\r\n        &quot;&lt;AWS Access Key&gt;&quot;,\r\n        &quot;&lt;AWS Secret&gt;&quot;\r\n    );\r\n\r\n    S3Client s3client = S3Client.builder()\r\n        .region(Region.US_EAST_1) // or whatever region you&#39;re in\r\n        .credentialsProvider(() -&gt; credentials) // credentials created above (or preferably injected)\r\n        .build();\r\n\r\n    GetObjectRequest getObjectRequest = GetObjectRequest.builder()\r\n        .bucket(&quot;the bucket&quot;) // the bucket that contains the object, from message maybe?\r\n        .key(&quot;the key&quot;) // the key to the object, from message maybe?\r\n        .build();\r\n    \r\n    ResponseInputStream&lt;GetObjectResponse&gt; responseInputStream = s3client.getObject(getObjectRequest);\r\n\r\nThis will give you an InputStream that you can read from.","title":"How can I automatically get file in java from s3?","body":"<p>It's not clear from your question what the message contains, but if the message contains the S3 bucket and key, then yes, you can just use the S3 API to download this.</p>\n<p>Add the following dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n  &lt;artifactId&gt;s3&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This logic will create the S3 client and download the object.</p>\n<pre><code>AwsCredentials credentials = AwsBasicCredentials.create(\n    &quot;&lt;AWS Access Key&gt;&quot;,\n    &quot;&lt;AWS Secret&gt;&quot;\n);\n\nS3Client s3client = S3Client.builder()\n    .region(Region.US_EAST_1) // or whatever region you're in\n    .credentialsProvider(() -&gt; credentials) // credentials created above (or preferably injected)\n    .build();\n\nGetObjectRequest getObjectRequest = GetObjectRequest.builder()\n    .bucket(&quot;the bucket&quot;) // the bucket that contains the object, from message maybe?\n    .key(&quot;the key&quot;) // the key to the object, from message maybe?\n    .build();\n\nResponseInputStream&lt;GetObjectResponse&gt; responseInputStream = s3client.getObject(getObjectRequest);\n</code></pre>\n<p>This will give you an InputStream that you can read from.</p>\n"}],"owner":{"account_id":23977983,"reputation":37,"user_id":17965833,"display_name":"ani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70762920,"answer_count":1,"score":1,"last_activity_date":1642543143,"creation_date":1642519086,"question_id":70758025,"body_markdown":"    @Value(&quot;${amazon.sqs.queue.endpoint}&quot;)\r\n    private String endpoint;\r\n    @Value(&quot;${amazon.sqs.queue.name}&quot;)\r\n    private String queueName;\r\n    @Autowired\r\n    private SQSListener sqsListener;\r\n\r\n    @Bean\r\n    public DefaultMessageListenerContainer jmsListenerContainer() throws JMSException {\r\n        SQSConnectionFactory sqsConnectionFactory = SQSConnectionFactory.builder()\r\n                .withAWSCredentialsProvider(new DefaultAWSCredentialsProviderChain())\r\n                .withEndpoint(endpoint)\r\n                .withAWSCredentialsProvider(new ClasspathPropertiesFileCredentialsProvider(&quot;AwsCredentials-sqs.properties&quot;))\r\n                .withNumberOfMessagesToPrefetch(10).build();\r\n\r\n        DefaultMessageListenerContainer dmlc = new DefaultMessageListenerContainer();\r\n        dmlc.setConnectionFactory(sqsConnectionFactory);\r\n        dmlc.setDestinationName(queueName);\r\n        dmlc.setConcurrentConsumers(1);\r\n        dmlc.setMaxConcurrentConsumers(100);\r\n\r\n        dmlc.setMessageListener(sqsListener);\r\n\r\n        return dmlc;\r\n    }\r\n\r\n\r\n\r\n\r\n    @Component\r\n   public class SQSListener implements MessageListener {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(SQSListener.class);\r\n\r\n    @Override\r\n    public void onMessage(Message message) {\r\n        try {\r\n            // Cast the recei\r\n\r\n    ved message as TextMessage and print the text to screen.\r\n                System.out.println(&quot;Received: &quot; + ((TextMessage) message).getText());\r\n            } catch (JMSException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nI added a file in s3 then the message was sent to sqs queue.\r\nafter getting this message can I get the actual data, that was uploaded in s3?\r\n\r\n","title":"How can I automatically get file in java from s3?","body":"<pre><code>@Value(&quot;${amazon.sqs.queue.endpoint}&quot;)\nprivate String endpoint;\n@Value(&quot;${amazon.sqs.queue.name}&quot;)\nprivate String queueName;\n@Autowired\nprivate SQSListener sqsListener;\n\n@Bean\npublic DefaultMessageListenerContainer jmsListenerContainer() throws JMSException {\n    SQSConnectionFactory sqsConnectionFactory = SQSConnectionFactory.builder()\n            .withAWSCredentialsProvider(new DefaultAWSCredentialsProviderChain())\n            .withEndpoint(endpoint)\n            .withAWSCredentialsProvider(new ClasspathPropertiesFileCredentialsProvider(&quot;AwsCredentials-sqs.properties&quot;))\n            .withNumberOfMessagesToPrefetch(10).build();\n\n    DefaultMessageListenerContainer dmlc = new DefaultMessageListenerContainer();\n    dmlc.setConnectionFactory(sqsConnectionFactory);\n    dmlc.setDestinationName(queueName);\n    dmlc.setConcurrentConsumers(1);\n    dmlc.setMaxConcurrentConsumers(100);\n\n    dmlc.setMessageListener(sqsListener);\n\n    return dmlc;\n}\n\n\n\n\n@Component\n</code></pre>\n<p>public class SQSListener implements MessageListener {</p>\n<pre><code>private static final Logger LOGGER = LoggerFactory.getLogger(SQSListener.class);\n\n@Override\npublic void onMessage(Message message) {\n    try {\n        // Cast the recei\n\nved message as TextMessage and print the text to screen.\n            System.out.println(&quot;Received: &quot; + ((TextMessage) message).getText());\n        } catch (JMSException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>I added a file in s3 then the message was sent to sqs queue.\nafter getting this message can I get the actual data, that was uploaded in s3?</p>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":189,"is_accepted":true,"score":189,"last_activity_date":1505386428,"creation_date":1323969434,"answer_id":8524043,"question_id":8524011,"body_markdown":"Don&#39;t use regex, use the [`Introspector`][1]:\r\n\r\n    for(PropertyDescriptor propertyDescriptor : \r\n        Introspector.getBeanInfo(yourClass).getPropertyDescriptors()){\r\n\r\n        // propertyEditor.getReadMethod() exposes the getter\r\n        // btw, this may be null if you have a write-only property\r\n        System.out.println(propertyDescriptor.getReadMethod());\r\n    }\r\n\r\nUsually you don&#39;t want properties from Object.class, so you&#39;d use the method with two parameters:\r\n\r\n    Introspector.getBeanInfo(yourClass, stopClass)\r\n    // usually with Object.class as 2nd param\r\n    // the first class is inclusive, the second exclusive\r\n\r\nBTW: there are frameworks that do that for you and present you a high-level view. E.g. \r\ncommons/beanutils has the method \r\n\r\n    Map&lt;String, String&gt; properties = BeanUtils.describe(yourObject);\r\n\r\n([docs here][2]) which does just that: find and execute all the getters and store the result in a map. Unfortunately, `BeanUtils.describe()` converts all the property values to Strings before returning. WTF. Thanks @danw\r\n\r\n\r\n----------\r\n\r\n**Update:**\r\n\r\nHere&#39;s a Java 8 method that returns a `Map&lt;String, Object&gt;` based on an object&#39;s bean properties.\r\n\r\n    public static Map&lt;String, Object&gt; beanProperties(Object bean) {\r\n      try {\r\n        return Arrays.asList(\r\n             Introspector.getBeanInfo(bean.getClass(), Object.class)\r\n                         .getPropertyDescriptors()\r\n          )\r\n          .stream()\r\n          // filter out properties with setters only\r\n          .filter(pd -&gt; Objects.nonNull(pd.getReadMethod()))\r\n          .collect(Collectors.toMap(\r\n            // bean property name\r\n            PropertyDescriptor::getName,\r\n            pd -&gt; { // invoke method to get value\r\n                try { \r\n                    return pd.getReadMethod().invoke(bean);\r\n                } catch (Exception e) {\r\n                    // replace this with better error handling\r\n                   return null;\r\n                }\r\n            }));\r\n      } catch (IntrospectionException e) {\r\n        // and this, too\r\n        return Collections.emptyMap();\r\n      }\r\n    }\r\n\r\nYou probably want to make error handling more robust, though. Sorry for the boilerplate, checked exceptions prevent us from going fully functional here.\r\n\r\n\r\n----------\r\n\r\nTurns out that Collectors.toMap() hates null values. Here&#39;s a more imperative version of the above code:\r\n\r\n    public static Map&lt;String, Object&gt; beanProperties(Object bean) {\r\n        try {\r\n            Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n            Arrays.asList(Introspector.getBeanInfo(bean.getClass(), Object.class)\r\n                                      .getPropertyDescriptors())\r\n                  .stream()\r\n                  // filter out properties with setters only\r\n                  .filter(pd -&gt; Objects.nonNull(pd.getReadMethod()))\r\n                  .forEach(pd -&gt; { // invoke method to get value\r\n                      try {\r\n                          Object value = pd.getReadMethod().invoke(bean);\r\n                          if (value != null) {\r\n                              map.put(pd.getName(), value);\r\n                          }\r\n                      } catch (Exception e) {\r\n                          // add proper error handling here\r\n                      }\r\n                  });\r\n            return map;\r\n        } catch (IntrospectionException e) {\r\n            // and here, too\r\n            return Collections.emptyMap();\r\n        }\r\n    }\r\n\r\nHere&#39;s the same functionality in a more concise way, using [JavaSlang][3]:\r\n\r\n    public static Map&lt;String, Object&gt; javaSlangBeanProperties(Object bean) {\r\n        try {\r\n            return Stream.of(Introspector.getBeanInfo(bean.getClass(), Object.class)\r\n                                         .getPropertyDescriptors())\r\n                         .filter(pd -&gt; pd.getReadMethod() != null)\r\n                         .toJavaMap(pd -&gt; {\r\n                             try {\r\n                                 return new Tuple2&lt;&gt;(\r\n                                         pd.getName(),\r\n                                         pd.getReadMethod().invoke(bean));\r\n                             } catch (Exception e) {\r\n                                 throw new IllegalStateException();\r\n                             }\r\n                         });\r\n        } catch (IntrospectionException e) {\r\n            throw new IllegalStateException();\r\n\r\n        }\r\n    }\r\n\r\nAnd here&#39;s a Guava version:\r\n\r\n    public static Map&lt;String, Object&gt; guavaBeanProperties(Object bean) {\r\n        Object NULL = new Object();\r\n        try {\r\n            return Maps.transformValues(\r\n                    Arrays.stream(\r\n                            Introspector.getBeanInfo(bean.getClass(), Object.class)\r\n                                        .getPropertyDescriptors())\r\n                          .filter(pd -&gt; Objects.nonNull(pd.getReadMethod()))\r\n                          .collect(ImmutableMap::&lt;String, Object&gt;builder,\r\n                                   (builder, pd) -&gt; {\r\n                                       try {\r\n                                           Object result = pd.getReadMethod()\r\n                                                             .invoke(bean);\r\n                                           builder.put(pd.getName(),\r\n                                                       firstNonNull(result, NULL));\r\n                                       } catch (Exception e) {\r\n                                           throw propagate(e);\r\n                                       }\r\n                                   },\r\n                                   (left, right) -&gt; left.putAll(right.build()))\r\n                          .build(), v -&gt; v == NULL ? null : v);\r\n        } catch (IntrospectionException e) {\r\n            throw propagate(e);\r\n        }\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/beans/Introspector.html\r\n  [2]: https://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.2/apidocs/org/apache/commons/beanutils/BeanUtils.html#describe%28java.lang.Object%29\r\n  [3]: http://www.javaslang.io/","title":"Java Reflection: How can I get the all getter methods of a java class and invoke them","body":"<p>Don't use regex, use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/beans/Introspector.html\" rel=\"noreferrer\"><code>Introspector</code></a>:</p>\n\n<pre><code>for(PropertyDescriptor propertyDescriptor : \n    Introspector.getBeanInfo(yourClass).getPropertyDescriptors()){\n\n    // propertyEditor.getReadMethod() exposes the getter\n    // btw, this may be null if you have a write-only property\n    System.out.println(propertyDescriptor.getReadMethod());\n}\n</code></pre>\n\n<p>Usually you don't want properties from Object.class, so you'd use the method with two parameters:</p>\n\n<pre><code>Introspector.getBeanInfo(yourClass, stopClass)\n// usually with Object.class as 2nd param\n// the first class is inclusive, the second exclusive\n</code></pre>\n\n<p>BTW: there are frameworks that do that for you and present you a high-level view. E.g. \ncommons/beanutils has the method </p>\n\n<pre><code>Map&lt;String, String&gt; properties = BeanUtils.describe(yourObject);\n</code></pre>\n\n<p>(<a href=\"https://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.2/apidocs/org/apache/commons/beanutils/BeanUtils.html#describe%28java.lang.Object%29\" rel=\"noreferrer\">docs here</a>) which does just that: find and execute all the getters and store the result in a map. Unfortunately, <code>BeanUtils.describe()</code> converts all the property values to Strings before returning. WTF. Thanks @danw</p>\n\n<hr>\n\n<p><strong>Update:</strong></p>\n\n<p>Here's a Java 8 method that returns a <code>Map&lt;String, Object&gt;</code> based on an object's bean properties.</p>\n\n<pre><code>public static Map&lt;String, Object&gt; beanProperties(Object bean) {\n  try {\n    return Arrays.asList(\n         Introspector.getBeanInfo(bean.getClass(), Object.class)\n                     .getPropertyDescriptors()\n      )\n      .stream()\n      // filter out properties with setters only\n      .filter(pd -&gt; Objects.nonNull(pd.getReadMethod()))\n      .collect(Collectors.toMap(\n        // bean property name\n        PropertyDescriptor::getName,\n        pd -&gt; { // invoke method to get value\n            try { \n                return pd.getReadMethod().invoke(bean);\n            } catch (Exception e) {\n                // replace this with better error handling\n               return null;\n            }\n        }));\n  } catch (IntrospectionException e) {\n    // and this, too\n    return Collections.emptyMap();\n  }\n}\n</code></pre>\n\n<p>You probably want to make error handling more robust, though. Sorry for the boilerplate, checked exceptions prevent us from going fully functional here.</p>\n\n<hr>\n\n<p>Turns out that Collectors.toMap() hates null values. Here's a more imperative version of the above code:</p>\n\n<pre><code>public static Map&lt;String, Object&gt; beanProperties(Object bean) {\n    try {\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        Arrays.asList(Introspector.getBeanInfo(bean.getClass(), Object.class)\n                                  .getPropertyDescriptors())\n              .stream()\n              // filter out properties with setters only\n              .filter(pd -&gt; Objects.nonNull(pd.getReadMethod()))\n              .forEach(pd -&gt; { // invoke method to get value\n                  try {\n                      Object value = pd.getReadMethod().invoke(bean);\n                      if (value != null) {\n                          map.put(pd.getName(), value);\n                      }\n                  } catch (Exception e) {\n                      // add proper error handling here\n                  }\n              });\n        return map;\n    } catch (IntrospectionException e) {\n        // and here, too\n        return Collections.emptyMap();\n    }\n}\n</code></pre>\n\n<p>Here's the same functionality in a more concise way, using <a href=\"http://www.javaslang.io/\" rel=\"noreferrer\">JavaSlang</a>:</p>\n\n<pre><code>public static Map&lt;String, Object&gt; javaSlangBeanProperties(Object bean) {\n    try {\n        return Stream.of(Introspector.getBeanInfo(bean.getClass(), Object.class)\n                                     .getPropertyDescriptors())\n                     .filter(pd -&gt; pd.getReadMethod() != null)\n                     .toJavaMap(pd -&gt; {\n                         try {\n                             return new Tuple2&lt;&gt;(\n                                     pd.getName(),\n                                     pd.getReadMethod().invoke(bean));\n                         } catch (Exception e) {\n                             throw new IllegalStateException();\n                         }\n                     });\n    } catch (IntrospectionException e) {\n        throw new IllegalStateException();\n\n    }\n}\n</code></pre>\n\n<p>And here's a Guava version:</p>\n\n<pre><code>public static Map&lt;String, Object&gt; guavaBeanProperties(Object bean) {\n    Object NULL = new Object();\n    try {\n        return Maps.transformValues(\n                Arrays.stream(\n                        Introspector.getBeanInfo(bean.getClass(), Object.class)\n                                    .getPropertyDescriptors())\n                      .filter(pd -&gt; Objects.nonNull(pd.getReadMethod()))\n                      .collect(ImmutableMap::&lt;String, Object&gt;builder,\n                               (builder, pd) -&gt; {\n                                   try {\n                                       Object result = pd.getReadMethod()\n                                                         .invoke(bean);\n                                       builder.put(pd.getName(),\n                                                   firstNonNull(result, NULL));\n                                   } catch (Exception e) {\n                                       throw propagate(e);\n                                   }\n                               },\n                               (left, right) -&gt; left.putAll(right.build()))\n                      .build(), v -&gt; v == NULL ? null : v);\n    } catch (IntrospectionException e) {\n        throw propagate(e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":395649,"reputation":18444,"user_id":758708,"accept_rate":100,"display_name":"dku.rajkumar"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1323970078,"creation_date":1323969771,"answer_id":8524109,"question_id":8524011,"body_markdown":"     // Get the Class object associated with this class.\r\n        MyClass myClass= new MyClass ();\r\n        Class objClass= myClass.getClass();\r\n\r\n        // Get the public methods associated with this class.\r\n        Method[] methods = objClass.getMethods();\r\n        for (Method method:methods)\r\n        {\r\n            System.out.println(&quot;Public method found: &quot; +  method.toString());\r\n        }","title":"Java Reflection: How can I get the all getter methods of a java class and invoke them","body":"<pre><code> // Get the Class object associated with this class.\n    MyClass myClass= new MyClass ();\n    Class objClass= myClass.getClass();\n\n    // Get the public methods associated with this class.\n    Method[] methods = objClass.getMethods();\n    for (Method method:methods)\n    {\n        System.out.println(\"Public method found: \" +  method.toString());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3468183,"reputation":476,"user_id":2903245,"display_name":"Naveedur Rahman"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1424873868,"creation_date":1385993472,"answer_id":20330295,"question_id":8524011,"body_markdown":"You can use [Reflections][1] framework for this\r\n\r\n    import org.reflections.ReflectionUtils.*;\r\n    Set&lt;Method&gt; getters = ReflectionUtils.getAllMethods(someClass,\r\n          ReflectionUtils.withModifier(Modifier.PUBLIC), ReflectionUtils.withPrefix(&quot;get&quot;));\r\n\r\n\r\n  [1]: https://code.google.com/p/reflections/","title":"Java Reflection: How can I get the all getter methods of a java class and invoke them","body":"<p>You can use <a href=\"https://code.google.com/p/reflections/\">Reflections</a> framework for this</p>\n\n<pre><code>import org.reflections.ReflectionUtils.*;\nSet&lt;Method&gt; getters = ReflectionUtils.getAllMethods(someClass,\n      ReflectionUtils.withModifier(Modifier.PUBLIC), ReflectionUtils.withPrefix(\"get\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1429000251,"creation_date":1429000251,"answer_id":29622595,"question_id":8524011,"body_markdown":"[Spring][1] offers an easy [BeanUtil method][2] for Bean introspection:\r\n\r\n    PropertyDescriptor pd = BeanUtils.getPropertyDescriptor(clazz, property);\r\n    Method getter = pd.getReadMethod();\r\n\r\n\r\n  [1]: http://spring.ip\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/BeanUtils.html#getPropertyDescriptor-java.lang.Class-java.lang.String-","title":"Java Reflection: How can I get the all getter methods of a java class and invoke them","body":"<p><a href=\"http://spring.ip\" rel=\"noreferrer\">Spring</a> offers an easy <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/BeanUtils.html#getPropertyDescriptor-java.lang.Class-java.lang.String-\" rel=\"noreferrer\">BeanUtil method</a> for Bean introspection:</p>\n\n<pre><code>PropertyDescriptor pd = BeanUtils.getPropertyDescriptor(clazz, property);\nMethod getter = pd.getReadMethod();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9973920,"reputation":352,"user_id":7379152,"accept_rate":0,"display_name":"Sayan Mukherjee"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1553507095,"creation_date":1520599587,"answer_id":49194132,"question_id":8524011,"body_markdown":"This code is tested OK.\r\n\r\n    private void callAllGetterMethodsInTestModel(TestModel testModelObject) {\r\n            try {\r\n                Class testModelClass = Class.forName(&quot;com.example.testreflectionapi.TestModel&quot;);\r\n                Method[] methods = testModelClass.getDeclaredMethods();\r\n                ArrayList&lt;String&gt; getterResults = new ArrayList&lt;&gt;();\r\n                for (Method method :\r\n                        methods) {\r\n                    if (method.getName().startsWith(&quot;get&quot;)){\r\n                        getterResults.add((String) method.invoke(testModelObject));\r\n                    }\r\n                }\r\n                Log.d(&quot;sayanReflextion&quot;, &quot;==&gt;: &quot;+getterResults.toString());\r\n            } catch (ClassNotFoundException | IllegalAccessException | InvocationTargetException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }","title":"Java Reflection: How can I get the all getter methods of a java class and invoke them","body":"<p>This code is tested OK.</p>\n\n<pre><code>private void callAllGetterMethodsInTestModel(TestModel testModelObject) {\n        try {\n            Class testModelClass = Class.forName(\"com.example.testreflectionapi.TestModel\");\n            Method[] methods = testModelClass.getDeclaredMethods();\n            ArrayList&lt;String&gt; getterResults = new ArrayList&lt;&gt;();\n            for (Method method :\n                    methods) {\n                if (method.getName().startsWith(\"get\")){\n                    getterResults.add((String) method.invoke(testModelObject));\n                }\n            }\n            Log.d(\"sayanReflextion\", \"==&gt;: \"+getterResults.toString());\n        } catch (ClassNotFoundException | IllegalAccessException | InvocationTargetException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7719863,"reputation":31,"user_id":5846425,"display_name":"Antonius"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583341155,"creation_date":1583341155,"answer_id":60531145,"question_id":8524011,"body_markdown":"Why not use simple Java?\r\n...\r\n\r\n\tpublic static Map&lt;String, Object&gt; beanProperties(final Object bean) {\r\n\t\tfinal Map&lt;String, Object&gt; result = new HashMap&lt;String, Object&gt;();\r\n\r\n\t\ttry {\r\n\t\t\tfinal PropertyDescriptor[] propertyDescriptors = Introspector.getBeanInfo(bean.getClass(), Object.class).getPropertyDescriptors();\r\n\t\t\tfor (PropertyDescriptor propertyDescriptor : propertyDescriptors) {\r\n\t\t\t\tfinal Method readMethod = propertyDescriptor.getReadMethod();\r\n\t\t\t\tif (readMethod != null) {\r\n\t\t\t\t\tresult.put(propertyDescriptor.getName(), readMethod.invoke(bean, (Object[]) null));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception ex) {\r\n\t\t\t// ignore\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n...\r\n","title":"Java Reflection: How can I get the all getter methods of a java class and invoke them","body":"<p>Why not use simple Java?\n...</p>\n\n<pre><code>public static Map&lt;String, Object&gt; beanProperties(final Object bean) {\n    final Map&lt;String, Object&gt; result = new HashMap&lt;String, Object&gt;();\n\n    try {\n        final PropertyDescriptor[] propertyDescriptors = Introspector.getBeanInfo(bean.getClass(), Object.class).getPropertyDescriptors();\n        for (PropertyDescriptor propertyDescriptor : propertyDescriptors) {\n            final Method readMethod = propertyDescriptor.getReadMethod();\n            if (readMethod != null) {\n                result.put(propertyDescriptor.getName(), readMethod.invoke(bean, (Object[]) null));\n            }\n        }\n    } catch (Exception ex) {\n        // ignore\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>...</p>\n"},{"tags":[],"owner":{"account_id":23981232,"reputation":1,"user_id":17968624,"display_name":"Ing. Vik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642542870,"creation_date":1642542870,"answer_id":70762867,"question_id":8524011,"body_markdown":"    public static void retrieveAndExecuteBeanGetterMethods(Object bean) throws IntrospectionException {\r\n        List&lt;PropertyDescriptor&gt; beanGettersList = Arrays.asList(\r\n                Introspector.getBeanInfo(bean.getClass(), Object.class)\r\n                        .getPropertyDescriptors());\r\n\r\n        beanGettersList.stream()\r\n                .filter(pd -&gt; Objects.nonNull(pd.getReadMethod()))\r\n                .collect(Collectors.toMap(PropertyDescriptor::getName,\r\n                        pd -&gt; {\r\n                            try {\r\n                                return pd.getReadMethod().invoke(bean);\r\n                            } catch (Exception e) {\r\n                                return null;\r\n                            }\r\n                        }));\r\n    }","title":"Java Reflection: How can I get the all getter methods of a java class and invoke them","body":"<pre><code>public static void retrieveAndExecuteBeanGetterMethods(Object bean) throws IntrospectionException {\n    List&lt;PropertyDescriptor&gt; beanGettersList = Arrays.asList(\n            Introspector.getBeanInfo(bean.getClass(), Object.class)\n                    .getPropertyDescriptors());\n\n    beanGettersList.stream()\n            .filter(pd -&gt; Objects.nonNull(pd.getReadMethod()))\n            .collect(Collectors.toMap(PropertyDescriptor::getName,\n                    pd -&gt; {\n                        try {\n                            return pd.getReadMethod().invoke(bean);\n                        } catch (Exception e) {\n                            return null;\n                        }\n                    }));\n}\n</code></pre>\n"}],"owner":{"account_id":974946,"reputation":1219,"user_id":996505,"accept_rate":59,"display_name":"user996505"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117966,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":8524043,"answer_count":7,"score":87,"last_activity_date":1642542870,"creation_date":1323969321,"question_id":8524011,"body_markdown":"I write a java class which has many getters..now I want to get all getter methods and invoke them sometime..I know there are methods such as getMethods() or getMethod(String name, Class&lt;?&gt;... parameterTypes) ,but i just want to get the getter indeed..., use regex?    anyone can tell me ?Thanks!\r\n","title":"Java Reflection: How can I get the all getter methods of a java class and invoke them","body":"<p>I write a java class which has many getters..now I want to get all getter methods and invoke them sometime..I know there are methods such as getMethods() or getMethod(String name, Class... parameterTypes) ,but i just want to get the getter indeed..., use regex?    anyone can tell me ?Thanks!</p>\n"},{"tags":["java","spring","stream","webclient","webflux"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1642601914,"post_id":70762818,"comment_id":125114158,"body_markdown":"Can you include `DataBuffer` code? Thanks!","body":"Can you include <code>DataBuffer</code> code? Thanks!"},{"owner":{"account_id":8523491,"reputation":123,"user_id":6389566,"accept_rate":40,"display_name":"Samshay"},"score":0,"creation_date":1642607308,"post_id":70762818,"comment_id":125117003,"body_markdown":"Euh, DataBuffer is an interface of org.springframework.core.io.buffer https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DataBuffer.html","body":"Euh, DataBuffer is an interface of org.springframework.core.io.buffer <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DataBuffer.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"}],"owner":{"account_id":8523491,"reputation":123,"user_id":6389566,"accept_rate":40,"display_name":"Samshay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642542617,"creation_date":1642542617,"question_id":70762818,"body_markdown":"I have this controller :\r\n```java\r\n@GetMapping(value = &quot;/stream&quot;)\r\n    public Flux&lt;DataBuffer&gt; stream() {  \r\n            ...\r\n            return webClient.get().uri(builder.buildAndExpand(parametres).toUriString())\r\n                .header(HttpHeaders.CONTENT_TYPE, TEXT_CSV).retrieve().bodyToFlux(DataBuffer.class);\r\n        }\r\n    }\r\n```\r\n\r\nWhen i called this endpoint with PostMan, i have this reponse :\r\n```json\r\n[\r\n    {\r\n        &quot;nativeBuffer&quot;: {\r\n            &quot;direct&quot;: true,\r\n            &quot;readOnly&quot;: false,\r\n            &quot;contiguous&quot;: true,\r\n            &quot;readable&quot;: true,\r\n            &quot;writable&quot;: false\r\n        },\r\n        &quot;allocated&quot;: true\r\n    },\r\n...\r\n```\r\n\r\nMy question is, how can i consume this endoint with webclient to read the content of flux. Or perhaps, the controller is wrong ?\r\n\r\nI tried this, but it&#39;s don&#39;t work :\r\n```java\r\n Flux&lt;DataBuffer&gt; fluxDataBuffer= webClient.get()\r\n                .uri(&quot;http://localhost:8080/stream&quot;)\r\n                .retrieve()\r\n                .bodyToFlux(DataBuffer.class);\r\n\r\nDataBufferUtils.write(fluxDataBuffer, Paths.get(&quot;test.txt&quot;),\r\n                        StandardOpenOption.CREATE)\r\n                .share().block();\r\n```\r\n\r\nThanks for your help","title":"How can i consume a Flux&lt;DataBuffer&gt; with WebClient","body":"<p>I have this controller :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/stream&quot;)\n    public Flux&lt;DataBuffer&gt; stream() {  \n            ...\n            return webClient.get().uri(builder.buildAndExpand(parametres).toUriString())\n                .header(HttpHeaders.CONTENT_TYPE, TEXT_CSV).retrieve().bodyToFlux(DataBuffer.class);\n        }\n    }\n</code></pre>\n<p>When i called this endpoint with PostMan, i have this reponse :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;nativeBuffer&quot;: {\n            &quot;direct&quot;: true,\n            &quot;readOnly&quot;: false,\n            &quot;contiguous&quot;: true,\n            &quot;readable&quot;: true,\n            &quot;writable&quot;: false\n        },\n        &quot;allocated&quot;: true\n    },\n...\n</code></pre>\n<p>My question is, how can i consume this endoint with webclient to read the content of flux. Or perhaps, the controller is wrong ?</p>\n<p>I tried this, but it's don't work :</p>\n<pre class=\"lang-java prettyprint-override\"><code> Flux&lt;DataBuffer&gt; fluxDataBuffer= webClient.get()\n                .uri(&quot;http://localhost:8080/stream&quot;)\n                .retrieve()\n                .bodyToFlux(DataBuffer.class);\n\nDataBufferUtils.write(fluxDataBuffer, Paths.get(&quot;test.txt&quot;),\n                        StandardOpenOption.CREATE)\n                .share().block();\n</code></pre>\n<p>Thanks for your help</p>\n"},{"tags":["java","android","google-cloud-firestore","firebaseui"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642540247,"creation_date":1642540247,"answer_id":70762410,"question_id":70762186,"body_markdown":"It looks like in the [`PagingDataAdapter` class](https://developer.android.com/reference/kotlin/androidx/paging/PagingDataAdapter) that FirebaseUI extends, you can get an item by its position by calling `getItem(position)` or [`peek(position)`](https://developer.android.com/reference/kotlin/androidx/paging/PagingDataAdapter#peek(kotlin.Int)).","title":"How to get Snapshot in FirestorePagingAdapter with Firebase Ui 8","body":"<p>It looks like in the <a href=\"https://developer.android.com/reference/kotlin/androidx/paging/PagingDataAdapter\" rel=\"nofollow noreferrer\"><code>PagingDataAdapter</code> class</a> that FirebaseUI extends, you can get an item by its position by calling <code>getItem(position)</code> or <a href=\"https://developer.android.com/reference/kotlin/androidx/paging/PagingDataAdapter#peek(kotlin.Int)\" rel=\"nofollow noreferrer\"><code>peek(position)</code></a>.</p>\n"}],"owner":{"account_id":17697609,"reputation":13,"user_id":12847970,"display_name":"chrspeiser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70762410,"answer_count":1,"score":0,"last_activity_date":1642542359,"creation_date":1642538877,"question_id":70762186,"body_markdown":"Before the update from\r\n\r\n`implementation &#39;com.firebaseui:firebase-ui-firestore:7.2.0&#39;`\r\n\r\nto\r\n\r\n`implementation &#39;com.firebaseui:firebase-ui-firestore:8.0.0&#39;`\r\n\r\n\r\nI got snapshot in `FirestorePagingAdapter` like this\r\n\r\n`val snapshot = currentList!![holder.adapterPosition]`\r\n\r\nbut after the update `currentList` is not working anymore.\r\n\r\nI didn&#39;t find any documentation about this in the official update guide.\r\n\r\n---\r\n\r\nAnswer: I solved the issue by using `val snapshot = getItem(holder.adapterPosition)`","title":"How to get Snapshot in FirestorePagingAdapter with Firebase Ui 8","body":"<p>Before the update from</p>\n<p><code>implementation 'com.firebaseui:firebase-ui-firestore:7.2.0'</code></p>\n<p>to</p>\n<p><code>implementation 'com.firebaseui:firebase-ui-firestore:8.0.0'</code></p>\n<p>I got snapshot in <code>FirestorePagingAdapter</code> like this</p>\n<p><code>val snapshot = currentList!![holder.adapterPosition]</code></p>\n<p>but after the update <code>currentList</code> is not working anymore.</p>\n<p>I didn't find any documentation about this in the official update guide.</p>\n<hr />\n<p>Answer: I solved the issue by using <code>val snapshot = getItem(holder.adapterPosition)</code></p>\n"},{"tags":["java","mysql","centos","haproxy","galera"],"comments":[{"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"score":0,"creation_date":1582699097,"post_id":38624521,"comment_id":106862683,"body_markdown":"Did you find any solution? Facing same problem.","body":"Did you find any solution? Facing same problem."}],"answers":[{"tags":[],"owner":{"account_id":7808791,"reputation":895,"user_id":5905741,"accept_rate":71,"display_name":"Amit Mahajan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469660454,"creation_date":1469660454,"answer_id":38624550,"question_id":38624521,"body_markdown":"This looks like network issue, check if you are able to ping, telnet the host as well as the jdbc port and service-id is correct","title":"Caused by: org.hibernate.TransactionException: JDBC begin transaction failed:","body":"<p>This looks like network issue, check if you are able to ping, telnet the host as well as the jdbc port and service-id is correct</p>\n"},{"tags":[],"owner":{"account_id":4305868,"reputation":44,"user_id":3518243,"accept_rate":25,"display_name":"Cajova_Houba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642542096,"creation_date":1642542096,"answer_id":70762728,"question_id":38624521,"body_markdown":"I know this question is 5yo but I&#39;ve encountered a very similar problem, although I&#39;ve not been using any proxy and running both the app and DB on local machine. By the way, it seems that your app was able to access the DB and connect to it. The DB just aborted the connection because it received invalid packet.\r\n\r\nIn my case the problem was with the data source I was using: `org.springframework.jdbc.datasource.DriverManagerDataSource` from the `org.springframework:spring-jdbc:4.3.9.RELEASE`. I don&#39;t know why this data source kept failing, but using `org.apache.commons.dbcp.BasicDataSource` from the `commons-dbcp:commons-dbcp:1.4` resolved the issue. Using `ComboPooledDataSource` from c3p0 works as well.","title":"Caused by: org.hibernate.TransactionException: JDBC begin transaction failed:","body":"<p>I know this question is 5yo but I've encountered a very similar problem, although I've not been using any proxy and running both the app and DB on local machine. By the way, it seems that your app was able to access the DB and connect to it. The DB just aborted the connection because it received invalid packet.</p>\n<p>In my case the problem was with the data source I was using: <code>org.springframework.jdbc.datasource.DriverManagerDataSource</code> from the <code>org.springframework:spring-jdbc:4.3.9.RELEASE</code>. I don't know why this data source kept failing, but using <code>org.apache.commons.dbcp.BasicDataSource</code> from the <code>commons-dbcp:commons-dbcp:1.4</code> resolved the issue. Using <code>ComboPooledDataSource</code> from c3p0 works as well.</p>\n"}],"owner":{"account_id":1538593,"reputation":930,"user_id":1433865,"accept_rate":0,"display_name":"Ranjeet Ranjan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4717,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642542096,"creation_date":1469660237,"question_id":38624521,"body_markdown":"We are getting error \r\nCaused by: org.hibernate.TransactionException: JDBC begin transaction failed: \r\n\r\nPlease find below \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    8820042 WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: null\r\n    8820042 ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Already closed.\r\n    8820067 ERROR c.a.a.a.ExceptionHandlingAdvice - Exception occured at 2016-07-28T03:59:05.795 \r\n    org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.TransactionException: JDBC begin transaction failed: \r\n    \tat org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:544) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) ~[spring-tx-4.0.9.RELEASE.jar:4.0.9.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:420) ~[spring-tx-4.0.9.RELEASE.jar:4.0.9.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:257) ~[spring-tx-4.0.9.RELEASE.jar:4.0.9.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95) ~[spring-tx-4.0.9.RELEASE.jar:4.0.9.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat com.sun.proxy.$Proxy222.getAllCampaigns(Unknown Source) ~[na:na]\r\n    \tat com.adsizzler.adserver.controller.AdminCampaignController.GetCampaigns(AdminCampaignController.java:181) ~[classes/:na]\r\n    \tat sun.reflect.GeneratedMethodAccessor183.invoke(Unknown Source) ~[na:na]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_91]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_91]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221) ~[spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137) ~[spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:776) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:857) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:622) [servlet-api.jar:na]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729) [servlet-api.jar:na]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292) [catalina.jar:8.0.36]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) [catalina.jar:8.0.36]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-websocket.jar:8.0.36]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) [catalina.jar:8.0.36]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) [catalina.jar:8.0.36]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:199) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:125) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344) [spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261) [spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) [catalina.jar:8.0.36]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) [catalina.jar:8.0.36]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212) [catalina.jar:8.0.36]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106) [catalina.jar:8.0.36]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502) [catalina.jar:8.0.36]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141) [catalina.jar:8.0.36]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [catalina.jar:8.0.36]\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616) [catalina.jar:8.0.36]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [catalina.jar:8.0.36]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528) [catalina.jar:8.0.36]\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099) [tomcat-coyote.jar:8.0.36]\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670) [tomcat-coyote.jar:8.0.36]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520) [tomcat-coyote.jar:8.0.36]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476) [tomcat-coyote.jar:8.0.36]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_91]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_91]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:8.0.36]\r\n    \tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_91]\r\n    Caused by: org.hibernate.TransactionException: JDBC begin transaction failed: \r\n    \tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:76) ~[hibernate-core-4.3.7.Final.jar:4.3.7.Final]\r\n    \tat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:162) ~[hibernate-core-4.3.7.Final.jar:4.3.7.Final]\r\n    \tat org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1435) ~[hibernate-core-4.3.7.Final.jar:4.3.7.Final]\r\n    \tat org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:502) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \t... 76 common frames omitted\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n    The last packet successfully received from the server was 435,883 milliseconds ago.  The last packet sent successfully to the server was 1 milliseconds ago.\r\n    \tat sun.reflect.GeneratedConstructorAccessor133.newInstance(Unknown Source) ~[na:na]\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_91]\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_91]\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:409) ~[mysql-connector-java-5.1.30.jar:na]\r\n    \tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1127) ~[mysql-connector-java-5.1.30.jar:na]\r\n    \tat com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3715) ~[mysql-connector-java-5.1.30.jar:na]\r\n    \tat com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3604) ~[mysql-connector-java-5.1.30.jar:na]\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4155) ~[mysql-connector-java-5.1.30.jar:na]\r\n    \tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615) ~[mysql-connector-java-5.1.30.jar:na]\r\n    \tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776) ~[mysql-connector-java-5.1.30.jar:na]\r\n    \tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2832) ~[mysql-connector-java-5.1.30.jar:na]\r\n    \tat com.mysql.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:5357) ~[mysql-connector-java-5.1.30.jar:na]\r\n    \tat org.apache.commons.dbcp.DelegatingConnection.setAutoCommit(DelegatingConnection.java:331) ~[commons-dbcp-1.2.2.jar:1.2.2]\r\n    \tat org.apache.commons.dbcp.PoolingDataSource$PoolGuardConnectionWrapper.setAutoCommit(PoolingDataSource.java:317) ~[commons-dbcp-1.2.2.jar:1.2.2]\r\n    \tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:72) ~[hibernate-core-4.3.7.Final.jar:4.3.7.Final]\r\n    \t... 79 common frames omitted\r\n    Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\r\n    \tat com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:3161) ~[mysql-connector-java-5.1.30.jar:na]\r\n    \tat com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3615) ~[mysql-connector-java-5.1.30.jar:na]\r\n    \t... 88 common frames omitted\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIn the same time I am getting below error in MySql\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    2016-07-28 03:52:49 22031 [Warning] Aborted connection 102085 to db: &#39;XXX&#39; user: &#39;XXX&#39; host: &#39;10.139.0.167&#39; (Got an error reading communication packets)\r\n    2016-07-28 04:06:57 22031 [Warning] Aborted connection 102512 to db: &#39;XXXX&#39; user: &#39;XXXX&#39; host: &#39;10.139.0.167&#39; (Got an error reading communication packets)\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n When I have bind-address in my.cnf, application unable to connect to Galera mysql through HaProxy. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    [MYSQLD]\r\n    bind-address=127.0.0.1\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAlso Just I wanted to update I am using HAProxy between application and DD (MySql Galera). Please find below configuration.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    listen galera *:3307\r\n    #     balance source\r\n         mode tcp\r\n         option tcpka\r\n         balance leastconn\r\n         option mysql-check user haproxy\r\n         default-server port 9200 inter 2s downinter 5s rise 3 fall 3 slowstart 60s maxconn 250 maxqueue 128 weight 100\r\n         server db1 10.139.255.14:3306 check port \r\n         server db2 10.139.255.17:3306 check port \r\n         server db3 10.139.0.160:3306 check port \r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nPlease help to get it resolved.\r\n","title":"Caused by: org.hibernate.TransactionException: JDBC begin transaction failed:","body":"<p>We are getting error \nCaused by: org.hibernate.TransactionException: JDBC begin transaction failed: </p>\n\n<p>Please find below </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>8820042 WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: null\r\n8820042 ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Already closed.\r\n8820067 ERROR c.a.a.a.ExceptionHandlingAdvice - Exception occured at 2016-07-28T03:59:05.795 \r\norg.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.TransactionException: JDBC begin transaction failed: \r\n\tat org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:544) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) ~[spring-tx-4.0.9.RELEASE.jar:4.0.9.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:420) ~[spring-tx-4.0.9.RELEASE.jar:4.0.9.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:257) ~[spring-tx-4.0.9.RELEASE.jar:4.0.9.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95) ~[spring-tx-4.0.9.RELEASE.jar:4.0.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207) ~[spring-aop-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat com.sun.proxy.$Proxy222.getAllCampaigns(Unknown Source) ~[na:na]\r\n\tat com.adsizzler.adserver.controller.AdminCampaignController.GetCampaigns(AdminCampaignController.java:181) ~[classes/:na]\r\n\tat sun.reflect.GeneratedMethodAccessor183.invoke(Unknown Source) ~[na:na]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_91]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_91]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221) ~[spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137) ~[spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:776) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:857) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:622) [servlet-api.jar:na]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842) ~[spring-webmvc-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729) [servlet-api.jar:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292) [catalina.jar:8.0.36]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) [catalina.jar:8.0.36]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-websocket.jar:8.0.36]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) [catalina.jar:8.0.36]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) [catalina.jar:8.0.36]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:199) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:125) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160) [spring-security-web-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344) [spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261) [spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) [catalina.jar:8.0.36]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) [catalina.jar:8.0.36]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212) [catalina.jar:8.0.36]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106) [catalina.jar:8.0.36]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502) [catalina.jar:8.0.36]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141) [catalina.jar:8.0.36]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [catalina.jar:8.0.36]\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616) [catalina.jar:8.0.36]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [catalina.jar:8.0.36]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528) [catalina.jar:8.0.36]\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099) [tomcat-coyote.jar:8.0.36]\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670) [tomcat-coyote.jar:8.0.36]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520) [tomcat-coyote.jar:8.0.36]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476) [tomcat-coyote.jar:8.0.36]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_91]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_91]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:8.0.36]\r\n\tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_91]\r\nCaused by: org.hibernate.TransactionException: JDBC begin transaction failed: \r\n\tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:76) ~[hibernate-core-4.3.7.Final.jar:4.3.7.Final]\r\n\tat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:162) ~[hibernate-core-4.3.7.Final.jar:4.3.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1435) ~[hibernate-core-4.3.7.Final.jar:4.3.7.Final]\r\n\tat org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:502) ~[spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\t... 76 common frames omitted\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\nThe last packet successfully received from the server was 435,883 milliseconds ago.  The last packet sent successfully to the server was 1 milliseconds ago.\r\n\tat sun.reflect.GeneratedConstructorAccessor133.newInstance(Unknown Source) ~[na:na]\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_91]\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_91]\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:409) ~[mysql-connector-java-5.1.30.jar:na]\r\n\tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1127) ~[mysql-connector-java-5.1.30.jar:na]\r\n\tat com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3715) ~[mysql-connector-java-5.1.30.jar:na]\r\n\tat com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3604) ~[mysql-connector-java-5.1.30.jar:na]\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4155) ~[mysql-connector-java-5.1.30.jar:na]\r\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615) ~[mysql-connector-java-5.1.30.jar:na]\r\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776) ~[mysql-connector-java-5.1.30.jar:na]\r\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2832) ~[mysql-connector-java-5.1.30.jar:na]\r\n\tat com.mysql.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:5357) ~[mysql-connector-java-5.1.30.jar:na]\r\n\tat org.apache.commons.dbcp.DelegatingConnection.setAutoCommit(DelegatingConnection.java:331) ~[commons-dbcp-1.2.2.jar:1.2.2]\r\n\tat org.apache.commons.dbcp.PoolingDataSource$PoolGuardConnectionWrapper.setAutoCommit(PoolingDataSource.java:317) ~[commons-dbcp-1.2.2.jar:1.2.2]\r\n\tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:72) ~[hibernate-core-4.3.7.Final.jar:4.3.7.Final]\r\n\t... 79 common frames omitted\r\nCaused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\r\n\tat com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:3161) ~[mysql-connector-java-5.1.30.jar:na]\r\n\tat com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3615) ~[mysql-connector-java-5.1.30.jar:na]\r\n\t... 88 common frames omitted</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In the same time I am getting below error in MySql</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>2016-07-28 03:52:49 22031 [Warning] Aborted connection 102085 to db: 'XXX' user: 'XXX' host: '10.139.0.167' (Got an error reading communication packets)\r\n2016-07-28 04:06:57 22031 [Warning] Aborted connection 102512 to db: 'XXXX' user: 'XXXX' host: '10.139.0.167' (Got an error reading communication packets)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>When I have bind-address in my.cnf, application unable to connect to Galera mysql through HaProxy. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>[MYSQLD]\r\nbind-address=127.0.0.1</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Also Just I wanted to update I am using HAProxy between application and DD (MySql Galera). Please find below configuration.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>listen galera *:3307\r\n#     balance source\r\n     mode tcp\r\n     option tcpka\r\n     balance leastconn\r\n     option mysql-check user haproxy\r\n     default-server port 9200 inter 2s downinter 5s rise 3 fall 3 slowstart 60s maxconn 250 maxqueue 128 weight 100\r\n     server db1 10.139.255.14:3306 check port \r\n     server db2 10.139.255.17:3306 check port \r\n     server db3 10.139.0.160:3306 check port </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Please help to get it resolved.</p>\n"},{"tags":["java","java-8","instance-methods"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1642465760,"post_id":70748970,"comment_id":125072997,"body_markdown":"So the task is to extract MAX value from a list?","body":"So the task is to extract MAX value from a list?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1642466029,"post_id":70748970,"comment_id":125073038,"body_markdown":"&#39;by different criteria&#39; - means that criteria will be provided as a method argument to specify which of the object properties (value1, value2, etc.) must be used for comparison?","body":"&#39;by different criteria&#39; - means that criteria will be provided as a method argument to specify which of the object properties (value1, value2, etc.) must be used for comparison?"},{"owner":{"account_id":4941166,"reputation":15,"user_id":3977811,"display_name":"mert"},"score":0,"creation_date":1642466114,"post_id":70748970,"comment_id":125073055,"body_markdown":"The task is to extract the Max values from a list, where the max value is defined by different functions defined on the class. Let say we have List&lt;A&gt; as with three elements as a1, a2 and a3. If we sort based on method getValue1() a1 might be the max, if we sort on getValue2() a2 might be the max, if we sort on getValue3() all might be equal so we may need to return all of them.","body":"The task is to extract the Max values from a list, where the max value is defined by different functions defined on the class. Let say we have List&lt;A&gt; as with three elements as a1, a2 and a3. If we sort based on method getValue1() a1 might be the max, if we sort on getValue2() a2 might be the max, if we sort on getValue3() all might be equal so we may need to return all of them."},{"owner":{"account_id":4941166,"reputation":15,"user_id":3977811,"display_name":"mert"},"score":0,"creation_date":1642466218,"post_id":70748970,"comment_id":125073072,"body_markdown":"Yes, your second comment is what I want to do. The problem occurs due to the fact that there may not be only one, but multiple. To check that I could not think of a way without using methods on instances.","body":"Yes, your second comment is what I want to do. The problem occurs due to the fact that there may not be only one, but multiple. To check that I could not think of a way without using methods on instances."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1642466322,"post_id":70748970,"comment_id":125073079,"body_markdown":"Is what you want to do to pass `A::getValue1`? instead of `Comparator.comparing(A::getValue1)`?","body":"Is what you want to do to pass <code>A::getValue1</code>? instead of <code>Comparator.comparing(A::getValue1)</code>?"},{"owner":{"account_id":4941166,"reputation":15,"user_id":3977811,"display_name":"mert"},"score":0,"creation_date":1642466575,"post_id":70748970,"comment_id":125073112,"body_markdown":"If passing that way will help me to use that function as in the line 4 or  8 of the code in the bottom, yes.","body":"If passing that way will help me to use that function as in the line 4 or  8 of the code in the bottom, yes."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1642466873,"post_id":70748970,"comment_id":125073171,"body_markdown":"It isn’t necessary to sort the entire list to determine the instances with the maximum value. You can iterate through it once.","body":"It isn’t necessary to sort the entire list to determine the instances with the maximum value. You can iterate through it once."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1642466941,"post_id":70748970,"comment_id":125073180,"body_markdown":"I suggest you provide some sample data and show the expected results.  Make certain the data is sufficient to eliminate any ambiguities in what you are trying to accomplish.  And please use sufficiently defined and populated data structures and classes so others may easily check their own recommendations.","body":"I suggest you provide some sample data and show the expected results.  Make certain the data is sufficient to eliminate any ambiguities in what you are trying to accomplish.  And please use sufficiently defined and populated data structures and classes so others may easily check their own recommendations."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1642467171,"post_id":70748970,"comment_id":125073203,"body_markdown":"@mert are you saying that `getValueX()` and `getName()` can be anything?","body":"@mert are you saying that <code>getValueX()</code> and <code>getName()</code> can be anything?"},{"owner":{"account_id":4941166,"reputation":15,"user_id":3977811,"display_name":"mert"},"score":0,"creation_date":1642467419,"post_id":70748970,"comment_id":125073246,"body_markdown":"@TimMoore Can you clarifty a little more? I think your suggestion is  to iterate over the list and compare the value of whatever the function is needed. However, I guess I would be stuck at the same point. How to pass the class function to compare the values of the instances. Am I right, or missing a point?","body":"@TimMoore Can you clarifty a little more? I think your suggestion is  to iterate over the list and compare the value of whatever the function is needed. However, I guess I would be stuck at the same point. How to pass the class function to compare the values of the instances. Am I right, or missing a point?"},{"owner":{"account_id":4941166,"reputation":15,"user_id":3977811,"display_name":"mert"},"score":0,"creation_date":1642467511,"post_id":70748970,"comment_id":125073269,"body_markdown":"@WJS thanks for the suggestion, I will edit my question. I guess I failed to make my question abstract. I will edit the question and put a simple example of what I tried to mean. Thank you for the suggestion.","body":"@WJS thanks for the suggestion, I will edit my question. I guess I failed to make my question abstract. I will edit the question and put a simple example of what I tried to mean. Thank you for the suggestion."},{"owner":{"account_id":4941166,"reputation":15,"user_id":3977811,"display_name":"mert"},"score":0,"creation_date":1642467549,"post_id":70748970,"comment_id":125073281,"body_markdown":"@Bohemian, getName is fixed but getValueX can be different functions.","body":"@Bohemian, getName is fixed but getValueX can be different functions."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1642468308,"post_id":70748970,"comment_id":125073400,"body_markdown":"@mert  I don&#39;t see any sample data.  I don&#39;t want verbal explanation of input and output.  I would like to see it based on actual data.  So show three or four populated instances of classes and the expected results.","body":"@mert  I don&#39;t see any sample data.  I don&#39;t want verbal explanation of input and output.  I would like to see it based on actual data.  So show three or four populated instances of classes and the expected results."},{"owner":{"account_id":4941166,"reputation":15,"user_id":3977811,"display_name":"mert"},"score":0,"creation_date":1642470053,"post_id":70748970,"comment_id":125073690,"body_markdown":"I have added the requested changes in edit 2 @WJS","body":"I have added the requested changes in edit 2 @WJS"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642468745,"creation_date":1642468083,"answer_id":70749224,"question_id":70748970,"body_markdown":"You can pass the getter method and create the Comparator in `getMaxString`:\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport java.util.function.Function;\r\n\r\npublic class Foo {\r\n    static class AClass {\r\n        private final String name;\r\n        private final int value1;\r\n        private final int value2;\r\n\r\n        String getName() { return name; }\r\n        int getValue1() { return value1; }\r\n        int getValue2() { return value2; }\r\n\r\n        public AClass(String name, int value1, int value2) {\r\n            this.name = name;\r\n            this.value1 = value1;\r\n            this.value2 = value2;\r\n        }\r\n    }\r\n\r\n    static String getMaxString(Function&lt;AClass,Integer&gt; f, List&lt;AClass&gt; listToSort) {\r\n        listToSort.sort(Comparator.comparing(f));\r\n        int maxValue = f.apply(listToSort.get(listToSort.size() - 1));\r\n        String maxString = listToSort.get(listToSort.size() - 1).getName();\r\n\r\n        for (int i = listToSort.size() - 2; i &gt;= 0; i--) {\r\n            if (f.apply(listToSort.get(i)) == maxValue) {\r\n                maxString += &quot;, &quot; + listToSort.get(i).getName();\r\n            }\r\n        }\r\n        return maxString;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;AClass&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(new AClass(&quot;a&quot;, 1,2));\r\n        list.add(new AClass(&quot;b&quot;, 1,2));\r\n        list.add(new AClass(&quot;c&quot;, 2,1));\r\n        list.add(new AClass(&quot;d&quot;, 2,1));\r\n        System.out.println(getMaxString(AClass::getValue1, list));\r\n        System.out.println(getMaxString(AClass::getValue2, list));\r\n    }\r\n}\r\n```\r\n\r\nAs Tim Moore suggested above, it isn&#39;t necessary to sort the list (which has cost O(n*log n)), we can traverse it twice:\r\n```java\r\n    static String getMaxString2(ToIntFunction&lt;AClass&gt; f, List&lt;AClass&gt; listToSort) {\r\n        int maxValue = listToSort.stream().mapToInt(f).max().orElseThrow();\r\n        return listToSort.stream()\r\n          .filter(a -&gt; maxValue == f.applyAsInt(a))\r\n          .map(AClass::getName)\r\n          .collect(Collectors.joining(&quot;, &quot;));\r\n    }\r\n```\r\n\r\nNote that you should test your code with an empty list.","title":"How to choose pass instance method to use to a method in Java","body":"<p>You can pass the getter method and create the Comparator in <code>getMaxString</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.function.Function;\n\npublic class Foo {\n    static class AClass {\n        private final String name;\n        private final int value1;\n        private final int value2;\n\n        String getName() { return name; }\n        int getValue1() { return value1; }\n        int getValue2() { return value2; }\n\n        public AClass(String name, int value1, int value2) {\n            this.name = name;\n            this.value1 = value1;\n            this.value2 = value2;\n        }\n    }\n\n    static String getMaxString(Function&lt;AClass,Integer&gt; f, List&lt;AClass&gt; listToSort) {\n        listToSort.sort(Comparator.comparing(f));\n        int maxValue = f.apply(listToSort.get(listToSort.size() - 1));\n        String maxString = listToSort.get(listToSort.size() - 1).getName();\n\n        for (int i = listToSort.size() - 2; i &gt;= 0; i--) {\n            if (f.apply(listToSort.get(i)) == maxValue) {\n                maxString += &quot;, &quot; + listToSort.get(i).getName();\n            }\n        }\n        return maxString;\n    }\n\n    public static void main(String[] args) {\n        List&lt;AClass&gt; list = new ArrayList&lt;&gt;();\n        list.add(new AClass(&quot;a&quot;, 1,2));\n        list.add(new AClass(&quot;b&quot;, 1,2));\n        list.add(new AClass(&quot;c&quot;, 2,1));\n        list.add(new AClass(&quot;d&quot;, 2,1));\n        System.out.println(getMaxString(AClass::getValue1, list));\n        System.out.println(getMaxString(AClass::getValue2, list));\n    }\n}\n</code></pre>\n<p>As Tim Moore suggested above, it isn't necessary to sort the list (which has cost O(n*log n)), we can traverse it twice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static String getMaxString2(ToIntFunction&lt;AClass&gt; f, List&lt;AClass&gt; listToSort) {\n        int maxValue = listToSort.stream().mapToInt(f).max().orElseThrow();\n        return listToSort.stream()\n          .filter(a -&gt; maxValue == f.applyAsInt(a))\n          .map(AClass::getName)\n          .collect(Collectors.joining(&quot;, &quot;));\n    }\n</code></pre>\n<p>Note that you should test your code with an empty list.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642468377,"creation_date":1642468377,"answer_id":70749258,"question_id":70748970,"body_markdown":"**Time complexity** O(n) - only one iteration through the dataset.\r\n\r\nHope it&#39;ll help. \r\nIf something will be unclear fill free to raise a question.\r\n\r\n**Main**\r\n\r\n    public class MaxClient {\r\n    public static void main(String[] args) {\r\n        Comparator&lt;A&gt; comp = Comparator.comparingInt(A::getVal1);\r\n\r\n        List&lt;A&gt; items = List.of(new A(1, 8), new A(2, 8), new A(5, 8), new A(5, 27), new A(3, 8));\r\n        items.stream()\r\n                .collect(new GetMax(comp))\r\n                .forEach(System.out::println);\r\n    }\r\n}\r\n\r\nCustom collector **GetMax** \r\n\r\n    public class GetMax implements Collector &lt;A, Deque&lt;A&gt;, Deque&lt;A&gt;&gt; {\r\n    private final Comparator&lt;A&gt; comp;\r\n\r\n    public GetMax(Comparator&lt;A&gt; comp) {\r\n        this.comp = comp;\r\n    }\r\n\r\n    @Override\r\n    public Supplier&lt;Deque&lt;A&gt;&gt; supplier() {\r\n        return ArrayDeque::new;\r\n    }\r\n\r\n    @Override\r\n    public BiConsumer&lt;Deque&lt;A&gt;, A&gt; accumulator() {\r\n        return (stack, next) -&gt; {\r\n            if (!stack.isEmpty() &amp;&amp; comp.compare(next, stack.peekFirst()) &gt; 0) stack.clear();\r\n            if (stack.isEmpty() || comp.compare(next, stack.peekFirst()) == 0) stack.offerLast(next);\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public BinaryOperator&lt;Deque&lt;A&gt;&gt; combiner() {\r\n        return (stack1, stack2) -&gt; {\r\n            if (stack1.isEmpty()) return stack2;\r\n            if (stack2.isEmpty()) return stack1;\r\n            if (comp.compare(stack1.peekFirst(), stack2.peekFirst()) == 0) {\r\n                stack1.addAll(stack2);\r\n            }\r\n            return stack1;\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public Function&lt;Deque&lt;A&gt;, Deque&lt;A&gt;&gt; finisher() {\r\n        return stack -&gt; stack;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Characteristics&gt; characteristics() {\r\n        return Set.of(Characteristics.UNORDERED);\r\n    }\r\n}\r\n\r\nClass **A** that I used for testing purposes\r\n\r\n    public class A {\r\n    private int val1;\r\n    private int val2;\r\n\r\n    public A(int val1, int val2) {\r\n        this.val1 = val1;\r\n        this.val2 = val2;\r\n    }\r\n\r\n    public int getVal1() {\r\n        return val1;\r\n    }\r\n\r\n    public int getVal2() {\r\n        return val2;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;A val1: &quot; + val1 + &quot; val2: &quot; + val2;\r\n    }\r\n}\r\n\r\n**OUTPUT** \r\n\r\n    A val1: 5 val2: 8\r\n    A val1: 5 val2: 27","title":"How to choose pass instance method to use to a method in Java","body":"<p><strong>Time complexity</strong> O(n) - only one iteration through the dataset.</p>\n<p>Hope it'll help.\nIf something will be unclear fill free to raise a question.</p>\n<p><strong>Main</strong></p>\n<pre><code>public class MaxClient {\npublic static void main(String[] args) {\n    Comparator&lt;A&gt; comp = Comparator.comparingInt(A::getVal1);\n\n    List&lt;A&gt; items = List.of(new A(1, 8), new A(2, 8), new A(5, 8), new A(5, 27), new A(3, 8));\n    items.stream()\n            .collect(new GetMax(comp))\n            .forEach(System.out::println);\n}\n</code></pre>\n<p>}</p>\n<p>Custom collector <strong>GetMax</strong></p>\n<pre><code>public class GetMax implements Collector &lt;A, Deque&lt;A&gt;, Deque&lt;A&gt;&gt; {\nprivate final Comparator&lt;A&gt; comp;\n\npublic GetMax(Comparator&lt;A&gt; comp) {\n    this.comp = comp;\n}\n\n@Override\npublic Supplier&lt;Deque&lt;A&gt;&gt; supplier() {\n    return ArrayDeque::new;\n}\n\n@Override\npublic BiConsumer&lt;Deque&lt;A&gt;, A&gt; accumulator() {\n    return (stack, next) -&gt; {\n        if (!stack.isEmpty() &amp;&amp; comp.compare(next, stack.peekFirst()) &gt; 0) stack.clear();\n        if (stack.isEmpty() || comp.compare(next, stack.peekFirst()) == 0) stack.offerLast(next);\n    };\n}\n\n@Override\npublic BinaryOperator&lt;Deque&lt;A&gt;&gt; combiner() {\n    return (stack1, stack2) -&gt; {\n        if (stack1.isEmpty()) return stack2;\n        if (stack2.isEmpty()) return stack1;\n        if (comp.compare(stack1.peekFirst(), stack2.peekFirst()) == 0) {\n            stack1.addAll(stack2);\n        }\n        return stack1;\n    };\n}\n\n@Override\npublic Function&lt;Deque&lt;A&gt;, Deque&lt;A&gt;&gt; finisher() {\n    return stack -&gt; stack;\n}\n\n@Override\npublic Set&lt;Characteristics&gt; characteristics() {\n    return Set.of(Characteristics.UNORDERED);\n}\n</code></pre>\n<p>}</p>\n<p>Class <strong>A</strong> that I used for testing purposes</p>\n<pre><code>public class A {\nprivate int val1;\nprivate int val2;\n\npublic A(int val1, int val2) {\n    this.val1 = val1;\n    this.val2 = val2;\n}\n\npublic int getVal1() {\n    return val1;\n}\n\npublic int getVal2() {\n    return val2;\n}\n\n@Override\npublic String toString() {\n    return &quot;A val1: &quot; + val1 + &quot; val2: &quot; + val2;\n}\n</code></pre>\n<p>}</p>\n<p><strong>OUTPUT</strong></p>\n<pre><code>A val1: 5 val2: 8\nA val1: 5 val2: 27\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642469237,"creation_date":1642469237,"answer_id":70749338,"question_id":70748970,"body_markdown":"It&#39;s useful to look at the type signature for [`Comparator.comparing`](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-), because it sounds like you want to do something similar:\r\n\r\n    static &lt;T,U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; comparing(Function&lt;? super T,? extends U&gt; keyExtractor)\r\n\r\nThe interesting part is the type of `keyExtractor`. Roughly speaking, it&#39;s a function from the type of the object you&#39;re comparing, to the type of the field you want to use for the comparison. In our case, these correspond to the `A` class and `Integer`. Because these types are fixed in this example, you can declare a method with a signature like this:\r\n\r\n    String getMaxString(Function&lt;A, Integer&gt; property)\r\n\r\nWith the existing algorithm, it can be used this way:\r\n\r\n    String getMaxString(Function&lt;A, Integer&gt; property) {\r\n        listToSort.sort(Comparator.comparing(property));\r\n\r\n        int maxValue = property.apply(listToSort.get(listToSort.size() - 1));\r\n        String maxString = listToSort.get(listToSort.size() - 1).getName();\r\n\r\n        for (int i = listToSort.size() - 2; i &gt;= 0; i--) {\r\n            if (listToSort.get(i).getValueN() == maxValue) {\r\n                maxString += &quot;, &quot; + listToSort.get(i).getName();\r\n            }\r\n        }\r\n        return maxString;\r\n    }\r\n\r\nHowever, it isn&#39;t necessary or efficient to sort the entire list in order to determine the maximum elements, as this can be determined by iterating through the list once:\r\n\r\n    String getMaxString(Function&lt;A, Integer&gt; property) {\r\n        int maxValue = Integer.MIN_VALUE;\r\n        StringBuilder maxString = new StringBuilder();\r\n\r\n        for (A element : listToSort) {\r\n            int currentValue = property.apply(element);\r\n            if (currentValue &gt; maxValue) {\r\n                // there is a new maximum, so start the string again\r\n                maxString = new StringBuilder(element.getName());\r\n                maxValue = currentValue;\r\n            } else if (currentValue == maxValue) {\r\n                // equal to the existing maximum, append it to the string\r\n                if (maxString.length() &gt; 0) {\r\n                    maxString.append(&quot;, &quot;);\r\n                }\r\n                maxString.append(element.getName());\r\n            }\r\n            // otherwise, it&#39;s less than the existing maximum and can be  ignored \r\n        }\r\n\r\n        return maxString.toString();\r\n    }\r\n\r\nEither way, you can call it using the same method reference syntax:\r\n\r\n    getMaxString(A::getValueN)","title":"How to choose pass instance method to use to a method in Java","body":"<p>It's useful to look at the type signature for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Comparator.comparing</code></a>, because it sounds like you want to do something similar:</p>\n<pre><code>static &lt;T,U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; comparing(Function&lt;? super T,? extends U&gt; keyExtractor)\n</code></pre>\n<p>The interesting part is the type of <code>keyExtractor</code>. Roughly speaking, it's a function from the type of the object you're comparing, to the type of the field you want to use for the comparison. In our case, these correspond to the <code>A</code> class and <code>Integer</code>. Because these types are fixed in this example, you can declare a method with a signature like this:</p>\n<pre><code>String getMaxString(Function&lt;A, Integer&gt; property)\n</code></pre>\n<p>With the existing algorithm, it can be used this way:</p>\n<pre><code>String getMaxString(Function&lt;A, Integer&gt; property) {\n    listToSort.sort(Comparator.comparing(property));\n\n    int maxValue = property.apply(listToSort.get(listToSort.size() - 1));\n    String maxString = listToSort.get(listToSort.size() - 1).getName();\n\n    for (int i = listToSort.size() - 2; i &gt;= 0; i--) {\n        if (listToSort.get(i).getValueN() == maxValue) {\n            maxString += &quot;, &quot; + listToSort.get(i).getName();\n        }\n    }\n    return maxString;\n}\n</code></pre>\n<p>However, it isn't necessary or efficient to sort the entire list in order to determine the maximum elements, as this can be determined by iterating through the list once:</p>\n<pre><code>String getMaxString(Function&lt;A, Integer&gt; property) {\n    int maxValue = Integer.MIN_VALUE;\n    StringBuilder maxString = new StringBuilder();\n\n    for (A element : listToSort) {\n        int currentValue = property.apply(element);\n        if (currentValue &gt; maxValue) {\n            // there is a new maximum, so start the string again\n            maxString = new StringBuilder(element.getName());\n            maxValue = currentValue;\n        } else if (currentValue == maxValue) {\n            // equal to the existing maximum, append it to the string\n            if (maxString.length() &gt; 0) {\n                maxString.append(&quot;, &quot;);\n            }\n            maxString.append(element.getName());\n        }\n        // otherwise, it's less than the existing maximum and can be  ignored \n    }\n\n    return maxString.toString();\n}\n</code></pre>\n<p>Either way, you can call it using the same method reference syntax:</p>\n<pre><code>getMaxString(A::getValueN)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642542040,"creation_date":1642472225,"answer_id":70749592,"question_id":70748970,"body_markdown":"Thanks for posting the information I requested.  Here is what I came up with.\r\n\r\nCreate a list of Course objects\r\n```\r\nList&lt;Course&gt; list = List.of(\r\n      new Course(&quot;a&quot;, 10, 5),\r\n      new Course(&quot;b&quot;, 20, 5),\r\n      new Course(&quot;c&quot;, 30, 0));\r\n```\r\nStream the methods and apply them to the list\r\n```                            \r\nList&lt;String&gt; results = Stream.&lt;Function&lt;Course, Integer&gt;&gt;of(\r\n\tCourse::getCapacity, \r\n    Course::getStudents)\r\n      .map(fnc-&gt; getMaxString(fnc, list))\r\n\t  .toList();\r\n\t\r\nresults.forEach(System.out::println);\r\n```\r\nprint the results\r\n```\r\nc\r\na b\r\n```\r\nI wrote a simple method that takes a method reference and list and finds the maximum. It does not do any sorting.\r\n- allocate a list to hold the names\r\n- set the maximum to the lowest possible\r\n- iterate thru the list applying the method.\r\n- if the value is greater than the current max replace it and clear the current list of names.\r\n- otherwise, if equal, add a new name.\r\n- once done, return the formatted string.\r\n```\r\n\r\n\t\r\nstatic String getMaxString(Function&lt;Course, Integer&gt; fnc,\r\n\t\tList&lt;Course&gt; list) {\r\n\tList&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\tint max = Integer.MIN_VALUE;\r\n\tfor (Course obj : list) {\r\n\t\tint val = fnc.apply(obj);\r\n\t\tif (val &gt;= max) {\r\n\t\t\tif (val &gt; max) {\r\n\t\t\t\tresult.clear();\r\n\t\t\t}\r\n\t\t\tmax = val;\r\n\t\t\tresult.add(obj.getName());\r\n\t\t}\r\n\t}\r\n\treturn String.join(&quot; &quot;, result);\r\n}","title":"How to choose pass instance method to use to a method in Java","body":"<p>Thanks for posting the information I requested.  Here is what I came up with.</p>\n<p>Create a list of Course objects</p>\n<pre><code>List&lt;Course&gt; list = List.of(\n      new Course(&quot;a&quot;, 10, 5),\n      new Course(&quot;b&quot;, 20, 5),\n      new Course(&quot;c&quot;, 30, 0));\n</code></pre>\n<p>Stream the methods and apply them to the list</p>\n<pre><code>List&lt;String&gt; results = Stream.&lt;Function&lt;Course, Integer&gt;&gt;of(\n    Course::getCapacity, \n    Course::getStudents)\n      .map(fnc-&gt; getMaxString(fnc, list))\n      .toList();\n    \nresults.forEach(System.out::println);\n</code></pre>\n<p>print the results</p>\n<pre><code>c\na b\n</code></pre>\n<p>I wrote a simple method that takes a method reference and list and finds the maximum. It does not do any sorting.</p>\n<ul>\n<li>allocate a list to hold the names</li>\n<li>set the maximum to the lowest possible</li>\n<li>iterate thru the list applying the method.</li>\n<li>if the value is greater than the current max replace it and clear the current list of names.</li>\n<li>otherwise, if equal, add a new name.</li>\n<li>once done, return the formatted string.</li>\n</ul>\n<pre><code>\n    \nstatic String getMaxString(Function&lt;Course, Integer&gt; fnc,\n        List&lt;Course&gt; list) {\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\n    int max = Integer.MIN_VALUE;\n    for (Course obj : list) {\n        int val = fnc.apply(obj);\n        if (val &gt;= max) {\n            if (val &gt; max) {\n                result.clear();\n            }\n            max = val;\n            result.add(obj.getName());\n        }\n    }\n    return String.join(&quot; &quot;, result);\n}\n</code></pre>\n"}],"owner":{"account_id":4941166,"reputation":15,"user_id":3977811,"display_name":"mert"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70749224,"answer_count":4,"score":1,"last_activity_date":1642542040,"creation_date":1642465101,"question_id":70748970,"body_markdown":"I have a method that sorts a List by different criteria and returns the name (an instance variable) of the one with maximum value. In case more than one instance is having the maximum, all of their names should be concatenated. \r\n\r\n\r\nLet&#39;s say I have Class A as follows.\r\n\r\n```\r\nClass A {\r\n    ...\r\n    String getName(){...}\r\n    int getValue1() {...}\r\n    int getValue2() {...}\r\n    ...\r\n    int getValueN() {...}\r\n    ...\r\n}\r\n\r\n```\r\n\r\nI have `a List&lt;A&gt; listToSort`. I would normally sort this list as `listToSort.sort(Comparator.comparing(A::getValue1))` or `listToSort.sort(Comparator.comparing(A::getValue2))`, so on and so forth. Then get the ones sharing the maximum value.\r\n\r\n\r\nIn a method I believe this should be done as: \r\n```\r\nString getMaxString (Comparator c) {\r\n    listToSort.sort(c);\r\n    ...\r\n}\r\n```\r\n\r\nand send `Comparator.comparing(A.getValueX)` as parameter to call it with different methods. (X here indicates an arbitrary number for the getValue function). \r\n\r\nHowever, I need to also return other instances sharing the same values \r\nI will need to pass the Class methods to my method and call on instances as:\r\n\r\n```\r\nString getMaxString (Comparator c) {\r\n    listToSort.sort(c);\r\n\r\n    int maxValue = listToSort.get(listToSort.size() - 1).getValueX();\r\n    String maxString = listToSort.get(listToSort.size() - 1).getName();\r\n\r\n    for (int i = listToSort.size() - 2; i &gt;= 0; i--) {\r\n        if (listToSort.get(i).getValueX()() == maxValue) {\r\n            maxString += &quot;, &quot; + listToSort.get(i).getName();\r\n        }\r\n    }\r\n    return maxString;\r\n}\r\n```\r\n\r\nHow would I pass this method to call on instances here? Or do I need to consider another way?\r\n\r\n\r\n**Edit**:\r\n\r\nI have a list of Courses as `List&lt;Course&gt; mylist` where a course can be simplified as: \r\n\r\n```\r\nClass Course {\r\n    private String name;\r\n    private int capacity;\r\n    private int students;\r\n    \r\n    ...\r\n    //bunch of getters.\r\n}\r\n```\r\n\r\nMy task is to return Strings for the course(es) with maximum capacity, the course(es) with maximum registered students, the course(es) with most difficulty, the maximum filled percentage, the course(es) with the maximum number of TAs etc...\r\n\r\n**Edit 2:**\r\nAs requested in the comment section.\r\n\r\nList of \r\n```\r\nCourse a (name &quot;a&quot;, capacity 10, students 5)\r\nCourse b (name &quot;b&quot;, capacity 20, students 5)\r\nCourse c (name &quot;c&quot;, capacity 30, students 0)\r\n```\r\n\r\n\r\nSorting based on capacity should return &quot;c&quot; \r\n\r\nSorting based on students should return &quot;a b&quot;","title":"How to choose pass instance method to use to a method in Java","body":"<p>I have a method that sorts a List by different criteria and returns the name (an instance variable) of the one with maximum value. In case more than one instance is having the maximum, all of their names should be concatenated.</p>\n<p>Let's say I have Class A as follows.</p>\n<pre><code>Class A {\n    ...\n    String getName(){...}\n    int getValue1() {...}\n    int getValue2() {...}\n    ...\n    int getValueN() {...}\n    ...\n}\n\n</code></pre>\n<p>I have <code>a List&lt;A&gt; listToSort</code>. I would normally sort this list as <code>listToSort.sort(Comparator.comparing(A::getValue1))</code> or <code>listToSort.sort(Comparator.comparing(A::getValue2))</code>, so on and so forth. Then get the ones sharing the maximum value.</p>\n<p>In a method I believe this should be done as:</p>\n<pre><code>String getMaxString (Comparator c) {\n    listToSort.sort(c);\n    ...\n}\n</code></pre>\n<p>and send <code>Comparator.comparing(A.getValueX)</code> as parameter to call it with different methods. (X here indicates an arbitrary number for the getValue function).</p>\n<p>However, I need to also return other instances sharing the same values\nI will need to pass the Class methods to my method and call on instances as:</p>\n<pre><code>String getMaxString (Comparator c) {\n    listToSort.sort(c);\n\n    int maxValue = listToSort.get(listToSort.size() - 1).getValueX();\n    String maxString = listToSort.get(listToSort.size() - 1).getName();\n\n    for (int i = listToSort.size() - 2; i &gt;= 0; i--) {\n        if (listToSort.get(i).getValueX()() == maxValue) {\n            maxString += &quot;, &quot; + listToSort.get(i).getName();\n        }\n    }\n    return maxString;\n}\n</code></pre>\n<p>How would I pass this method to call on instances here? Or do I need to consider another way?</p>\n<p><strong>Edit</strong>:</p>\n<p>I have a list of Courses as <code>List&lt;Course&gt; mylist</code> where a course can be simplified as:</p>\n<pre><code>Class Course {\n    private String name;\n    private int capacity;\n    private int students;\n    \n    ...\n    //bunch of getters.\n}\n</code></pre>\n<p>My task is to return Strings for the course(es) with maximum capacity, the course(es) with maximum registered students, the course(es) with most difficulty, the maximum filled percentage, the course(es) with the maximum number of TAs etc...</p>\n<p><strong>Edit 2:</strong>\nAs requested in the comment section.</p>\n<p>List of</p>\n<pre><code>Course a (name &quot;a&quot;, capacity 10, students 5)\nCourse b (name &quot;b&quot;, capacity 20, students 5)\nCourse c (name &quot;c&quot;, capacity 30, students 0)\n</code></pre>\n<p>Sorting based on capacity should return &quot;c&quot;</p>\n<p>Sorting based on students should return &quot;a b&quot;</p>\n"},{"tags":["java","unicode","currency","symbols"],"comments":[{"owner":{"account_id":14300453,"reputation":256,"user_id":10329913,"display_name":"Dinomaster"},"score":0,"creation_date":1540374779,"post_id":52965963,"comment_id":92838353,"body_markdown":"so what is the question?","body":"so what is the question?"},{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1540374851,"post_id":52965963,"comment_id":92838389,"body_markdown":"You didn&#39;t explain the problem?","body":"You didn&#39;t explain the problem?"},{"owner":{"account_id":9446096,"reputation":1412,"user_id":7024806,"display_name":"Wasi Sadman"},"score":0,"creation_date":1540375443,"post_id":52965963,"comment_id":92838782,"body_markdown":"sorry. that was the answer that i want to share... thought some one might have needed the suggestion... my reputation gone below 15 ... sorry again","body":"sorry. that was the answer that i want to share... thought some one might have needed the suggestion... my reputation gone below 15 ... sorry again"},{"owner":{"account_id":1692258,"reputation":26916,"user_id":1554386,"accept_rate":71,"display_name":"Alastair McCormack"},"score":0,"creation_date":1541856374,"post_id":52965963,"comment_id":93364674,"body_markdown":"If your source code is UTF-8 encoded, you can just use the character directly: `System.out.println(&quot;৳&quot;);`","body":"If your source code is UTF-8 encoded, you can just use the character directly: <code>System.out.println(&quot;৳&quot;);</code>"},{"owner":{"account_id":9446096,"reputation":1412,"user_id":7024806,"display_name":"Wasi Sadman"},"score":0,"creation_date":1542013180,"post_id":52965963,"comment_id":93401934,"body_markdown":"what is the keyboard shortcut for &quot;৳&quot; ? i have found Shift+B .. but it didn&#39;t work... can you please help with that?","body":"what is the keyboard shortcut for &quot;৳&quot; ? i have found Shift+B .. but it didn&#39;t work... can you please help with that?"}],"answers":[{"tags":[],"owner":{"account_id":9446096,"reputation":1412,"user_id":7024806,"display_name":"Wasi Sadman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1642541444,"creation_date":1540375323,"answer_id":52966191,"question_id":52965963,"body_markdown":"To use Bangladeshi taka symbol in **Java**\r\n\r\n    tvCartTotalAmount.setText(&quot;\\u09F3&quot;+&quot; Data&quot;);\r\n\r\nThe symbol will look like this\r\n&gt; &quot; ৳ &quot; \r\n\r\nThis [link][1] will help you further...\r\n\r\n  [1]: https://www.fileformat.info/info/unicode/char/09f3/index.htm","title":"How can I get Bangladeshi taka symbol &quot;tk&quot; or Unicode Character &quot; ৳ &quot; in java","body":"<p>To use Bangladeshi taka symbol in <strong>Java</strong></p>\n<pre><code>tvCartTotalAmount.setText(&quot;\\u09F3&quot;+&quot; Data&quot;);\n</code></pre>\n<p>The symbol will look like this</p>\n<blockquote>\n<p>&quot; ৳ &quot;</p>\n</blockquote>\n<p>This <a href=\"https://www.fileformat.info/info/unicode/char/09f3/index.htm\" rel=\"nofollow noreferrer\">link</a> will help you further...</p>\n"}],"owner":{"account_id":9446096,"reputation":1412,"user_id":7024806,"display_name":"Wasi Sadman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2141,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"accepted_answer_id":52966191,"answer_count":1,"score":1,"last_activity_date":1642541444,"creation_date":1540374634,"question_id":52965963,"body_markdown":"I was doing like \r\n\r\n    tvCartTotalAmount.setText(&quot;tk &quot;+String.format(&quot;%.2f&quot;,totalAmount)+&quot;/-&quot;);\r\n\r\nthe output was\r\n\r\n&gt; tk 315/-\r\n\r\nI want to show like \r\n\r\n&gt;৳ 315/-\r\n\r\nHow can I do that?\r\n","title":"How can I get Bangladeshi taka symbol &quot;tk&quot; or Unicode Character &quot; ৳ &quot; in java","body":"<p>I was doing like </p>\n\n<pre><code>tvCartTotalAmount.setText(\"tk \"+String.format(\"%.2f\",totalAmount)+\"/-\");\n</code></pre>\n\n<p>the output was</p>\n\n<blockquote>\n  <p>tk 315/-</p>\n</blockquote>\n\n<p>I want to show like </p>\n\n<blockquote>\n  <p>৳ 315/-</p>\n</blockquote>\n\n<p>How can I do that?</p>\n"},{"tags":["java","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1642535232,"creation_date":1642535232,"answer_id":70761567,"question_id":70761467,"body_markdown":"The Lombok magic is implemented via an [annotation processor](https://www.baeldung.com/java-annotation-processing-builder).\r\n\r\nSee [here](https://projectlombok.org/setup/gradle) for the recommended Lombok Gradle config \r\n\r\n```\r\ndependencies {\r\n\tcompileOnly &#39;org.projectlombok:lombok:1.18.22&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n\t\r\n\ttestCompileOnly &#39;org.projectlombok:lombok:1.18.22&#39;\r\n\ttestAnnotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n}\r\n```","title":"Gradle not seeing &quot;log&quot; variable definition?","body":"<p>The Lombok magic is implemented via an <a href=\"https://www.baeldung.com/java-annotation-processing-builder\" rel=\"nofollow noreferrer\">annotation processor</a>.</p>\n<p>See <a href=\"https://projectlombok.org/setup/gradle\" rel=\"nofollow noreferrer\">here</a> for the recommended Lombok Gradle config</p>\n<pre><code>dependencies {\n    compileOnly 'org.projectlombok:lombok:1.18.22'\n    annotationProcessor 'org.projectlombok:lombok:1.18.22'\n    \n    testCompileOnly 'org.projectlombok:lombok:1.18.22'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.22'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1495517,"reputation":14806,"user_id":1401560,"accept_rate":70,"display_name":"Chris F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642541388,"creation_date":1642541388,"answer_id":70762593,"question_id":70761467,"body_markdown":"The application&#39;s `build.gradle` file, the one that uses the platform, should look like this\r\n```\r\ndependencies {\r\n    implementation platform(group: &quot;com.mycompany.platform&quot;, name: &quot;my-java-platform&quot;, version: &quot;1.0.0&quot;)\r\n    annotationProcessor platform(group: &quot;com.company.platform&quot;, name: &quot;my-java-platform&quot;, version: &quot;1.0.0&quot;)\r\n\r\n    annotationProcessor group: &quot;org.projectlombok&quot;, name: &quot;lombok&quot;\r\n    ...\r\n}\r\n```\r\n","title":"Gradle not seeing &quot;log&quot; variable definition?","body":"<p>The application's <code>build.gradle</code> file, the one that uses the platform, should look like this</p>\n<pre><code>dependencies {\n    implementation platform(group: &quot;com.mycompany.platform&quot;, name: &quot;my-java-platform&quot;, version: &quot;1.0.0&quot;)\n    annotationProcessor platform(group: &quot;com.company.platform&quot;, name: &quot;my-java-platform&quot;, version: &quot;1.0.0&quot;)\n\n    annotationProcessor group: &quot;org.projectlombok&quot;, name: &quot;lombok&quot;\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":1495517,"reputation":14806,"user_id":1401560,"accept_rate":70,"display_name":"Chris F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70762593,"answer_count":2,"score":0,"last_activity_date":1642541388,"creation_date":1642534676,"question_id":70761467,"body_markdown":"Gradle v7.3.3\r\n\r\nI&#39;m trying to use the [The Java Platform Plugin][1], and I have this so far in my platform `build.gradle` file\r\n```\r\nartifactId = &quot;my-java-platform&quot;\r\ngroup = &quot;com.mycompany.platform&quot;\r\nversion = &quot;1.0.0&quot;\r\n\r\ndependencies {\r\n  constraints {\r\n    ...\r\n    api &quot;org.slf4j:slf4j-log4j12:1.7.9&quot;\r\n    api &quot;org.projectlombok:lombok:1.16.18&quot;\r\n    ...\r\n  }\r\n}\r\n```\r\nI did a `./gradlew publishToMavenLocal` and see the resulting `pom.xml` file with those 2 dependencies.\r\n\r\nThen in my application&#39;s `build.gradle` file I have\r\n```\r\nrepositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n  implementation platform(group: &quot;com.company.platform&quot;, name: &quot;my-java-platform&quot;, version: &quot;1.0.0&quot;)\r\n  annotationProcessor platform(group: &quot;com.company.platform&quot;, name: &quot;my-java-platform&quot;, version: &quot;1.0.0&quot;)\r\n\r\n  compileOnly group: &quot;org.slf4j&quot;, name: &quot;slf4j-log4j12&quot;\r\n  compileOnly group: &quot;org.projectlombok&quot;, name: &quot;lombok&quot;\r\n  ...\r\n}\r\n```\r\nOne of my applications source code has\r\n```\r\npackage com.mycompany.common\r\n\r\nimport java.util.TimeZone;\r\n\r\nimport org.springframework.http.converter.json.Jackson2ObjectMapperBuilder;\r\n\r\nimport com.fasterxml.jackson.databind.DeserializationFeature;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.util.ISO8601DateFormat;\r\nimport com.fasterxml.jackson.datatype.guava.GuavaModule;\r\nimport com.fasterxml.jackson.datatype.jsr310.JSR310Module;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\npublic class ObjectMapperConfiguration {\r\n    private static ObjectMapper objectMapper;\r\n\r\n    /**\r\n     * Static only\r\n     */\r\n    private ObjectMapperConfiguration() {}\r\n\r\n    /**\r\n     * Work with Spring to configure the ObjectMapper\r\n     */\r\n    public static ObjectMapper objectMapper(Jackson2ObjectMapperBuilder builder) {\r\n        objectMapper = builder.createXmlMapper(false).build();\r\n        configureObjectMapper(objectMapper);\r\n        log.info(&quot;The ObjectMapperConfiguration has run&quot;);\r\n        return objectMapper;\r\n    }\r\n    ...\r\n}\r\n```\r\nBut I get\r\n```\r\n$ ./gradlew clean build\r\n\r\n&gt; Task :compileJava FAILED\r\n/Users/.../src/main/java/com/company/common/ObjectMapperConfiguration.java:39: error: cannot find symbol\r\n        log.info(&quot;The ObjectMapperConfiguration has run&quot;);\r\n        ^\r\n  symbol:   variable log\r\n  location: class com.company.common.ObjectMapperConfiguration\r\n```\r\nI understand that the `log` variable is defined in the `@Slf4j` annotation? If so why am I getting the error? Thanks!\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_platform_plugin.html","title":"Gradle not seeing &quot;log&quot; variable definition?","body":"<p>Gradle v7.3.3</p>\n<p>I'm trying to use the <a href=\"https://docs.gradle.org/current/userguide/java_platform_plugin.html\" rel=\"nofollow noreferrer\">The Java Platform Plugin</a>, and I have this so far in my platform <code>build.gradle</code> file</p>\n<pre><code>artifactId = &quot;my-java-platform&quot;\ngroup = &quot;com.mycompany.platform&quot;\nversion = &quot;1.0.0&quot;\n\ndependencies {\n  constraints {\n    ...\n    api &quot;org.slf4j:slf4j-log4j12:1.7.9&quot;\n    api &quot;org.projectlombok:lombok:1.16.18&quot;\n    ...\n  }\n}\n</code></pre>\n<p>I did a <code>./gradlew publishToMavenLocal</code> and see the resulting <code>pom.xml</code> file with those 2 dependencies.</p>\n<p>Then in my application's <code>build.gradle</code> file I have</p>\n<pre><code>repositories {\n    mavenLocal()\n    mavenCentral()\n}\n\ndependencies {\n  implementation platform(group: &quot;com.company.platform&quot;, name: &quot;my-java-platform&quot;, version: &quot;1.0.0&quot;)\n  annotationProcessor platform(group: &quot;com.company.platform&quot;, name: &quot;my-java-platform&quot;, version: &quot;1.0.0&quot;)\n\n  compileOnly group: &quot;org.slf4j&quot;, name: &quot;slf4j-log4j12&quot;\n  compileOnly group: &quot;org.projectlombok&quot;, name: &quot;lombok&quot;\n  ...\n}\n</code></pre>\n<p>One of my applications source code has</p>\n<pre><code>package com.mycompany.common\n\nimport java.util.TimeZone;\n\nimport org.springframework.http.converter.json.Jackson2ObjectMapperBuilder;\n\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.util.ISO8601DateFormat;\nimport com.fasterxml.jackson.datatype.guava.GuavaModule;\nimport com.fasterxml.jackson.datatype.jsr310.JSR310Module;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class ObjectMapperConfiguration {\n    private static ObjectMapper objectMapper;\n\n    /**\n     * Static only\n     */\n    private ObjectMapperConfiguration() {}\n\n    /**\n     * Work with Spring to configure the ObjectMapper\n     */\n    public static ObjectMapper objectMapper(Jackson2ObjectMapperBuilder builder) {\n        objectMapper = builder.createXmlMapper(false).build();\n        configureObjectMapper(objectMapper);\n        log.info(&quot;The ObjectMapperConfiguration has run&quot;);\n        return objectMapper;\n    }\n    ...\n}\n</code></pre>\n<p>But I get</p>\n<pre><code>$ ./gradlew clean build\n\n&gt; Task :compileJava FAILED\n/Users/.../src/main/java/com/company/common/ObjectMapperConfiguration.java:39: error: cannot find symbol\n        log.info(&quot;The ObjectMapperConfiguration has run&quot;);\n        ^\n  symbol:   variable log\n  location: class com.company.common.ObjectMapperConfiguration\n</code></pre>\n<p>I understand that the <code>log</code> variable is defined in the <code>@Slf4j</code> annotation? If so why am I getting the error? Thanks!</p>\n"},{"tags":["java","android","android-studio","android-handler","android-handlerthread"],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642540570,"creation_date":1642540570,"answer_id":70762451,"question_id":70762349,"body_markdown":"You can use View&#39;s `postDelayed` method:\r\n\r\n    Runnable runnable = () -&gt; {\r\n            imageButton1.setForeground(AppCompatResources.getDrawable(this, R.color.teal_200));\r\n            imageButton2.setForeground(AppCompatResources.getDrawable(this, R.color.teal_200));\r\n        };\r\n    imageButton1.postDelayed(runnable, 1000);\r\n\r\nIt will updated UI in Main Thread.","title":"UI changes in a thread in android","body":"<p>You can use View's <code>postDelayed</code> method:</p>\n<pre><code>Runnable runnable = () -&gt; {\n        imageButton1.setForeground(AppCompatResources.getDrawable(this, R.color.teal_200));\n        imageButton2.setForeground(AppCompatResources.getDrawable(this, R.color.teal_200));\n    };\nimageButton1.postDelayed(runnable, 1000);\n</code></pre>\n<p>It will updated UI in Main Thread.</p>\n"}],"owner":{"account_id":21997618,"reputation":27,"user_id":16269836,"display_name":"moustafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70762451,"answer_count":1,"score":0,"last_activity_date":1642541143,"creation_date":1642539863,"question_id":70762349,"body_markdown":"I&#39;m writing an android application that require me to hold the foreground of an Image Button for a second before changing it again. so I have written the code below (it worked on changing the colors of the text on two buttons in some other project) and I know that the problem is that I&#39;m changing UI  element in a non-main thread and im aware that i cant use &quot;runOnUiThread&quot; method but cant find a way to do so in my current function so please if someone can help me its appreciated.\r\n\r\n    public void waitTime(ImageButton imageButton1, ImageButton imageButton2) {\r\n        HandlerThread handlerThread = new HandlerThread(&quot;showText&quot;);\r\n        handlerThread.start();\r\n        Handler handler = new Handler(handlerThread.getLooper());\r\n        Runnable runnable = () -&gt; {\r\n            imageButton1.setForeground(AppCompatResources.getDrawable(this, R.color.teal_200));\r\n            imageButton2.setForeground(AppCompatResources.getDrawable(this, R.color.teal_200));\r\n        };\r\n        handler.postDelayed(runnable, 1000);\r\n    }","title":"UI changes in a thread in android","body":"<p>I'm writing an android application that require me to hold the foreground of an Image Button for a second before changing it again. so I have written the code below (it worked on changing the colors of the text on two buttons in some other project) and I know that the problem is that I'm changing UI  element in a non-main thread and im aware that i cant use &quot;runOnUiThread&quot; method but cant find a way to do so in my current function so please if someone can help me its appreciated.</p>\n<pre><code>public void waitTime(ImageButton imageButton1, ImageButton imageButton2) {\n    HandlerThread handlerThread = new HandlerThread(&quot;showText&quot;);\n    handlerThread.start();\n    Handler handler = new Handler(handlerThread.getLooper());\n    Runnable runnable = () -&gt; {\n        imageButton1.setForeground(AppCompatResources.getDrawable(this, R.color.teal_200));\n        imageButton2.setForeground(AppCompatResources.getDrawable(this, R.color.teal_200));\n    };\n    handler.postDelayed(runnable, 1000);\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate","rest"],"comments":[{"owner":{"account_id":8515167,"reputation":5100,"user_id":6383857,"display_name":"StaticBeagle"},"score":2,"creation_date":1639781567,"post_id":70399553,"comment_id":124444919,"body_markdown":"Maybe a mistake but the `building` and `floor` models you wrote in your question are the same.","body":"Maybe a mistake but the <code>building</code> and <code>floor</code> models you wrote in your question are the same."},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1639781758,"post_id":70399553,"comment_id":124444957,"body_markdown":"#1 Also we need to see how are you querying the ParkingBuilding: hibernate, spring repository, etc #2 Could you print the value of parkingFloors before to send it as response?","body":"#1 Also we need to see how are you querying the ParkingBuilding: hibernate, spring repository, etc #2 Could you print the value of parkingFloors before to send it as response?"}],"answers":[{"tags":[],"owner":{"account_id":1339352,"reputation":1021,"user_id":1281370,"accept_rate":50,"display_name":"Shantanu Wagh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639803017,"creation_date":1639803017,"answer_id":70401056,"question_id":70399553,"body_markdown":"Not sure how you are retrieving the floors. OneToMany is by default `lazy` and would not load unless asked.\r\n\r\nIn your repository, try:\r\n```\r\n@EntityGraph(attributePaths = &quot;parkingFloors&quot;)\r\nParkingBuilding findById(long id);\r\n```\r\n","title":"Cant get spring boot hibernate rest api to return a one to many relationship","body":"<p>Not sure how you are retrieving the floors. OneToMany is by default <code>lazy</code> and would not load unless asked.</p>\n<p>In your repository, try:</p>\n<pre><code>@EntityGraph(attributePaths = &quot;parkingFloors&quot;)\nParkingBuilding findById(long id);\n</code></pre>\n"}],"owner":{"account_id":14626845,"reputation":21,"user_id":10563960,"display_name":"Daniel Hann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642540900,"creation_date":1639780954,"question_id":70399553,"body_markdown":"I have modelled a car park with building and floor models. There is a one to many relationship between building and floor. I have built a rest controllers to retrieve the data. I am attempting to retrive the data via a simple get request to `api/v1/parkingbuildings/1/`. The issue is that when retrieving a building i do not see a list of floors as per my relation mapping. Any insight into any mistakes i may be making would be appreciated. Below is the json that gets returned;\r\n\r\n    {&quot;building_id&quot;:1,&quot;building_name&quot;:&quot;Labadiestad&quot;,&quot;postcode&quot;:&quot;SA78BQ&quot;,&quot;max_floors&quot;:14,&quot;owner_name&quot;:&quot;Schaefer, Gutmann and Braun&quot;}\r\n\r\nI am expecting to see a collection of floors in the payload and i cannot fathom why, ive written other similar simpler solutions that do the same without issue, ive compared my prior solutions and see little difference that matters in my approach.\r\n\r\nHere is my building model\r\n\r\n    package com.admiral.reslink.models;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @Entity(name = &quot;parking_buildings&quot;)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    public class ParkingBuilding {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long building_id;\r\n    \r\n        private String building_name;\r\n        private String postcode;\r\n        private int max_floors;\r\n        private String owner_name;\r\n    \r\n        // ToDo sort the relationships\r\n    \r\n        @OneToMany(mappedBy = &quot;parkingBuilding&quot;)\r\n        @JsonIgnore\r\n        private List&lt;ParkingFloor&gt; parkingFloors;\r\n    \r\n        public ParkingBuilding() {\r\n        }\r\n    \r\n        public long getBuilding_id() {\r\n            return building_id;\r\n        }\r\n    \r\n        public void setBuilding_id(long building_id) {\r\n            this.building_id = building_id;\r\n        }\r\n    \r\n        public String getBuilding_name() {\r\n            return building_name;\r\n        }\r\n    \r\n        public void setBuilding_name(String building_name) {\r\n            this.building_name = building_name;\r\n        }\r\n    \r\n        public String getPostcode() {\r\n            return postcode;\r\n        }\r\n    \r\n        public void setPostcode(String postcode) {\r\n            this.postcode = postcode;\r\n        }\r\n    \r\n        public int getMax_floors() {\r\n            return max_floors;\r\n        }\r\n    \r\n        public void setMax_floors(int max_floors) {\r\n            this.max_floors = max_floors;\r\n        }\r\n    \r\n        public String getOwner_name() {\r\n            return owner_name;\r\n        }\r\n    \r\n        public void setOwner_name(String owner_name) {\r\n            this.owner_name = owner_name;\r\n        }\r\n    \r\n        public List&lt;ParkingFloor&gt; getParkingFloors() {\r\n            return parkingFloors;\r\n        }\r\n    \r\n        public void setParkingFloors(List&lt;ParkingFloor&gt; parkingFloors) {\r\n            this.parkingFloors = parkingFloors;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nAnd here is my floor model\r\n\r\n    package com.admiral.reslink.models;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.List;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;parking_floors&quot;)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    \r\n    public class ParkingFloor {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long floor_id;\r\n    \r\n        private int floor_number;\r\n        private int max_height_inches;\r\n        private boolean is_covered;\r\n        private boolean is_disabled_access;\r\n    \r\n        // ToDo sort the relationships\r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;building_id&quot;, nullable=false)\r\n        private ParkingBuilding parkingBuilding;\r\n    \r\n        @OneToMany(mappedBy = &quot;parkingFloor&quot;)\r\n        @JsonIgnore\r\n        private List&lt;ParkingSpace&gt; parkingSpace;\r\n    \r\n        public ParkingFloor() {\r\n        }\r\n    \r\n        public long getFloor_id() {\r\n            return floor_id;\r\n        }\r\n    \r\n        public void setFloor_id(long floor_id) {\r\n            this.floor_id = floor_id;\r\n        }\r\n    \r\n        public int getFloor_number() {\r\n            return floor_number;\r\n        }\r\n    \r\n        public void setFloor_number(int floor_number) {\r\n            this.floor_number = floor_number;\r\n        }\r\n    \r\n        public int getMax_height_inches() {\r\n            return max_height_inches;\r\n        }\r\n    \r\n        public void setMax_height_inches(int max_height_inches) {\r\n            this.max_height_inches = max_height_inches;\r\n        }\r\n    \r\n        public boolean isIs_covered() {\r\n            return is_covered;\r\n        }\r\n    \r\n        public void setIs_covered(boolean is_covered) {\r\n            this.is_covered = is_covered;\r\n        }\r\n    \r\n        public boolean isIs_disabled_access() {\r\n            return is_disabled_access;\r\n        }\r\n    \r\n        public void setIs_disabled_access(boolean is_disabled_access) {\r\n            this.is_disabled_access = is_disabled_access;\r\n        }\r\n    \r\n        public ParkingBuilding getParkingBuilding() {\r\n            return parkingBuilding;\r\n        }\r\n    \r\n        public void setParkingBuilding(ParkingBuilding parkingBuilding) {\r\n            this.parkingBuilding = parkingBuilding;\r\n        }\r\n    \r\n        public List&lt;ParkingSpace&gt; getParkingSpace() {\r\n            return parkingSpace;\r\n        }\r\n    \r\n        public void setParkingSpace(List&lt;ParkingSpace&gt; parkingSpace) {\r\n            this.parkingSpace = parkingSpace;\r\n        }\r\n    }\r\n\r\nHere is my building controller\r\n\r\n    package com.admiral.reslink.controllers;\r\n    \r\n    import com.admiral.reslink.models.ParkingBuilding;\r\n    import com.admiral.reslink.models.ParkingFloor;\r\n    import com.admiral.reslink.repositories.ParkingBuildingRepository;\r\n    import com.admiral.reslink.repositories.ParkingFloorRepository;\r\n    import org.springframework.beans.BeanUtils;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/parkingbuildings&quot;)\r\n    public class ParkingBuildingController {\r\n    \r\n        @Autowired\r\n        private ParkingBuildingRepository parkingBuildingRepository;\r\n    \r\n        @GetMapping\r\n        public List&lt;ParkingBuilding&gt; list() {return parkingBuildingRepository.findAll();}\r\n    \r\n        @GetMapping\r\n        @RequestMapping(&quot;{id}&quot;)\r\n        public ParkingBuilding get(@PathVariable Long id) {return  parkingBuildingRepository.getById(id);}\r\n    \r\n        @PostMapping\r\n        public ParkingBuilding create(@RequestBody final ParkingBuilding parkingBuilding) {\r\n            return parkingBuildingRepository.saveAndFlush(parkingBuilding);\r\n        }\r\n    \r\n        @RequestMapping(value=&quot;{id}&quot;, method = RequestMethod.DELETE)\r\n        public void delete(@PathVariable Long id) {\r\n            parkingBuildingRepository.deleteById(id);\r\n        }\r\n    \r\n        @RequestMapping(value=&quot;{id}&quot;, method = RequestMethod.PUT)\r\n        public ParkingBuilding update(@PathVariable Long id, @RequestBody ParkingBuilding parkingBuilding) {\r\n            ParkingBuilding existingParkingBuilding = parkingBuildingRepository.getById(id);\r\n            BeanUtils.copyProperties(parkingBuilding, existingParkingBuilding, &quot;building_id&quot;);\r\n            return parkingBuildingRepository.saveAndFlush(existingParkingBuilding);\r\n        }\r\n    }\r\n\r\n","title":"Cant get spring boot hibernate rest api to return a one to many relationship","body":"<p>I have modelled a car park with building and floor models. There is a one to many relationship between building and floor. I have built a rest controllers to retrieve the data. I am attempting to retrive the data via a simple get request to <code>api/v1/parkingbuildings/1/</code>. The issue is that when retrieving a building i do not see a list of floors as per my relation mapping. Any insight into any mistakes i may be making would be appreciated. Below is the json that gets returned;</p>\n<pre><code>{&quot;building_id&quot;:1,&quot;building_name&quot;:&quot;Labadiestad&quot;,&quot;postcode&quot;:&quot;SA78BQ&quot;,&quot;max_floors&quot;:14,&quot;owner_name&quot;:&quot;Schaefer, Gutmann and Braun&quot;}\n</code></pre>\n<p>I am expecting to see a collection of floors in the payload and i cannot fathom why, ive written other similar simpler solutions that do the same without issue, ive compared my prior solutions and see little difference that matters in my approach.</p>\n<p>Here is my building model</p>\n<pre><code>package com.admiral.reslink.models;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Entity(name = &quot;parking_buildings&quot;)\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\npublic class ParkingBuilding {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long building_id;\n\n    private String building_name;\n    private String postcode;\n    private int max_floors;\n    private String owner_name;\n\n    // ToDo sort the relationships\n\n    @OneToMany(mappedBy = &quot;parkingBuilding&quot;)\n    @JsonIgnore\n    private List&lt;ParkingFloor&gt; parkingFloors;\n\n    public ParkingBuilding() {\n    }\n\n    public long getBuilding_id() {\n        return building_id;\n    }\n\n    public void setBuilding_id(long building_id) {\n        this.building_id = building_id;\n    }\n\n    public String getBuilding_name() {\n        return building_name;\n    }\n\n    public void setBuilding_name(String building_name) {\n        this.building_name = building_name;\n    }\n\n    public String getPostcode() {\n        return postcode;\n    }\n\n    public void setPostcode(String postcode) {\n        this.postcode = postcode;\n    }\n\n    public int getMax_floors() {\n        return max_floors;\n    }\n\n    public void setMax_floors(int max_floors) {\n        this.max_floors = max_floors;\n    }\n\n    public String getOwner_name() {\n        return owner_name;\n    }\n\n    public void setOwner_name(String owner_name) {\n        this.owner_name = owner_name;\n    }\n\n    public List&lt;ParkingFloor&gt; getParkingFloors() {\n        return parkingFloors;\n    }\n\n    public void setParkingFloors(List&lt;ParkingFloor&gt; parkingFloors) {\n        this.parkingFloors = parkingFloors;\n    }\n\n\n}\n</code></pre>\n<p>And here is my floor model</p>\n<pre><code>package com.admiral.reslink.models;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;parking_floors&quot;)\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\n\npublic class ParkingFloor {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long floor_id;\n\n    private int floor_number;\n    private int max_height_inches;\n    private boolean is_covered;\n    private boolean is_disabled_access;\n\n    // ToDo sort the relationships\n    @ManyToOne\n    @JoinColumn(name=&quot;building_id&quot;, nullable=false)\n    private ParkingBuilding parkingBuilding;\n\n    @OneToMany(mappedBy = &quot;parkingFloor&quot;)\n    @JsonIgnore\n    private List&lt;ParkingSpace&gt; parkingSpace;\n\n    public ParkingFloor() {\n    }\n\n    public long getFloor_id() {\n        return floor_id;\n    }\n\n    public void setFloor_id(long floor_id) {\n        this.floor_id = floor_id;\n    }\n\n    public int getFloor_number() {\n        return floor_number;\n    }\n\n    public void setFloor_number(int floor_number) {\n        this.floor_number = floor_number;\n    }\n\n    public int getMax_height_inches() {\n        return max_height_inches;\n    }\n\n    public void setMax_height_inches(int max_height_inches) {\n        this.max_height_inches = max_height_inches;\n    }\n\n    public boolean isIs_covered() {\n        return is_covered;\n    }\n\n    public void setIs_covered(boolean is_covered) {\n        this.is_covered = is_covered;\n    }\n\n    public boolean isIs_disabled_access() {\n        return is_disabled_access;\n    }\n\n    public void setIs_disabled_access(boolean is_disabled_access) {\n        this.is_disabled_access = is_disabled_access;\n    }\n\n    public ParkingBuilding getParkingBuilding() {\n        return parkingBuilding;\n    }\n\n    public void setParkingBuilding(ParkingBuilding parkingBuilding) {\n        this.parkingBuilding = parkingBuilding;\n    }\n\n    public List&lt;ParkingSpace&gt; getParkingSpace() {\n        return parkingSpace;\n    }\n\n    public void setParkingSpace(List&lt;ParkingSpace&gt; parkingSpace) {\n        this.parkingSpace = parkingSpace;\n    }\n}\n</code></pre>\n<p>Here is my building controller</p>\n<pre><code>package com.admiral.reslink.controllers;\n\nimport com.admiral.reslink.models.ParkingBuilding;\nimport com.admiral.reslink.models.ParkingFloor;\nimport com.admiral.reslink.repositories.ParkingBuildingRepository;\nimport com.admiral.reslink.repositories.ParkingFloorRepository;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/api/v1/parkingbuildings&quot;)\npublic class ParkingBuildingController {\n\n    @Autowired\n    private ParkingBuildingRepository parkingBuildingRepository;\n\n    @GetMapping\n    public List&lt;ParkingBuilding&gt; list() {return parkingBuildingRepository.findAll();}\n\n    @GetMapping\n    @RequestMapping(&quot;{id}&quot;)\n    public ParkingBuilding get(@PathVariable Long id) {return  parkingBuildingRepository.getById(id);}\n\n    @PostMapping\n    public ParkingBuilding create(@RequestBody final ParkingBuilding parkingBuilding) {\n        return parkingBuildingRepository.saveAndFlush(parkingBuilding);\n    }\n\n    @RequestMapping(value=&quot;{id}&quot;, method = RequestMethod.DELETE)\n    public void delete(@PathVariable Long id) {\n        parkingBuildingRepository.deleteById(id);\n    }\n\n    @RequestMapping(value=&quot;{id}&quot;, method = RequestMethod.PUT)\n    public ParkingBuilding update(@PathVariable Long id, @RequestBody ParkingBuilding parkingBuilding) {\n        ParkingBuilding existingParkingBuilding = parkingBuildingRepository.getById(id);\n        BeanUtils.copyProperties(parkingBuilding, existingParkingBuilding, &quot;building_id&quot;);\n        return parkingBuildingRepository.saveAndFlush(existingParkingBuilding);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","testing","spring-security","mocking"],"answers":[{"tags":[],"owner":{"account_id":7988880,"reputation":1070,"user_id":9528658,"display_name":"Vladimir.V.Bvn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642540822,"creation_date":1642540822,"answer_id":70762488,"question_id":70761599,"body_markdown":"@WithMockUser annotation does not do authentication. (Please note, you even did not provide a user name.)\r\nIt creates a new default user with user/password name and passwords and this user is authenticated already with a UsernamePasswordAuthenticationToken.\r\nAnd you provided the authority for this default user/password user in your @WithMockUser(authorities = &quot;app-user&quot;) annotation as &quot;app-user&quot;.\r\nhttps://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/test/context/support/WithMockUser.html\r\n\r\nSo the user you run your test has authentication and authorization.\r\n\r\nYour security configuration is NOT being applied.\r\nAgain, @WithMockUser creates new empty security context with SecurityContextHolder.createEmptyContext() with security defaults.\r\nhttps://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/test/context/support/WithMockUser.html\r\n\r\nAnd when you use Postman all that does not happen of course and you real user must be authenticated with normal bearer token.\r\n","title":"Why my test passes without a bearer token","body":"<p>@WithMockUser annotation does not do authentication. (Please note, you even did not provide a user name.)\nIt creates a new default user with user/password name and passwords and this user is authenticated already with a UsernamePasswordAuthenticationToken.\nAnd you provided the authority for this default user/password user in your @WithMockUser(authorities = &quot;app-user&quot;) annotation as &quot;app-user&quot;.\n<a href=\"https://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/test/context/support/WithMockUser.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/test/context/support/WithMockUser.html</a></p>\n<p>So the user you run your test has authentication and authorization.</p>\n<p>Your security configuration is NOT being applied.\nAgain, @WithMockUser creates new empty security context with SecurityContextHolder.createEmptyContext() with security defaults.\n<a href=\"https://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/test/context/support/WithMockUser.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/test/context/support/WithMockUser.html</a></p>\n<p>And when you use Postman all that does not happen of course and you real user must be authenticated with normal bearer token.</p>\n"}],"owner":{"account_id":8017300,"reputation":197,"user_id":6047129,"accept_rate":40,"display_name":"Felipe Hogrefe Bento"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70762488,"answer_count":1,"score":1,"last_activity_date":1642540822,"creation_date":1642535445,"question_id":70761599,"body_markdown":"I have a simple Spring app. But I don&#39;t understand why the test passes without the need of a bearer token.\r\n\r\nHere is the controller:\r\n\r\n    ...\r\n    @GetMapping\r\n    @PreAuthorize(&quot;hasAuthority(&#39;app-user&#39;)&quot;)\r\n    public ResponseEntity&lt;List&lt;FooDTO&gt;&gt; findAll(){\r\n        return ResponseEntity.ok(fooService.findAll());\r\n    }\r\n\r\nSecurity Configuration:\r\n\r\n\t@Configuration\r\n\t@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n\t@PropertySource(&quot;classpath:application-${env}.yml&quot;)\r\n\tstatic class OAuth2SecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\thttp.authorizeRequests()\r\n\t\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t        .and()\r\n\t\t\t\t\t.oauth2ResourceServer()\r\n\t\t\t\t\t.jwt();\r\n\t\t\thttp.cors();\r\n\t\t\thttp.csrf().disable();\r\n\t\t}\r\n\t}\r\n\r\nIn order to setup the security configs for tests I&#39;m using:\r\n\r\n    @TestConfiguration\r\n    @Import({OAuth2SecurityConfigurerAdapter.class})\r\n    public class DefaultTestConfiguration {\r\n    }\r\n\r\nSo my test class looks like this:\r\n\r\n    @AutoConfigureMockMvc\r\n    @ContextConfiguration(classes = {FooController.class})\r\n    @WebMvcTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @Import(DefaultTestConfiguration.class)\r\n    public class FooIntegrationTest {\r\n        \r\n        @Test\r\n        @WithMockUser(authorities = &quot;app-user&quot;)\r\n        public void findAllShouldReturnAList() throws Exception {\r\n            MvcResult result = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/foos&quot;)\r\n                            .accept(MediaType.APPLICATION_JSON))\r\n                    .andDo(MockMvcResultHandlers.print())\r\n                    .andExpect(status().isOk())\r\n                    .andReturn();\r\n            assertThat(result.getResponse()).isNotNull();\r\n        }\r\n    }\r\n\r\n\r\nIf I change the autority in the test to something like &#39;foo-user&#39; the response becomes 403, as expected, and because of that I think that the security configuration is being applied.\r\n\r\nIf I test the application with Postman the bearer token is needed to run requests, but why its not needed in the test? ","title":"Why my test passes without a bearer token","body":"<p>I have a simple Spring app. But I don't understand why the test passes without the need of a bearer token.</p>\n<p>Here is the controller:</p>\n<pre><code>...\n@GetMapping\n@PreAuthorize(&quot;hasAuthority('app-user')&quot;)\npublic ResponseEntity&lt;List&lt;FooDTO&gt;&gt; findAll(){\n    return ResponseEntity.ok(fooService.findAll());\n}\n</code></pre>\n<p>Security Configuration:</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@PropertySource(&quot;classpath:application-${env}.yml&quot;)\nstatic class OAuth2SecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n                .oauth2ResourceServer()\n                .jwt();\n        http.cors();\n        http.csrf().disable();\n    }\n}\n</code></pre>\n<p>In order to setup the security configs for tests I'm using:</p>\n<pre><code>@TestConfiguration\n@Import({OAuth2SecurityConfigurerAdapter.class})\npublic class DefaultTestConfiguration {\n}\n</code></pre>\n<p>So my test class looks like this:</p>\n<pre><code>@AutoConfigureMockMvc\n@ContextConfiguration(classes = {FooController.class})\n@WebMvcTest\n@ActiveProfiles(&quot;test&quot;)\n@Import(DefaultTestConfiguration.class)\npublic class FooIntegrationTest {\n    \n    @Test\n    @WithMockUser(authorities = &quot;app-user&quot;)\n    public void findAllShouldReturnAList() throws Exception {\n        MvcResult result = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/foos&quot;)\n                        .accept(MediaType.APPLICATION_JSON))\n                .andDo(MockMvcResultHandlers.print())\n                .andExpect(status().isOk())\n                .andReturn();\n        assertThat(result.getResponse()).isNotNull();\n    }\n}\n</code></pre>\n<p>If I change the autority in the test to something like 'foo-user' the response becomes 403, as expected, and because of that I think that the security configuration is being applied.</p>\n<p>If I test the application with Postman the bearer token is needed to run requests, but why its not needed in the test?</p>\n"},{"tags":["java","serialization","gson","deserialization"],"comments":[{"owner":{"account_id":930553,"reputation":4996,"user_id":960504,"accept_rate":62,"display_name":"RDM"},"score":0,"creation_date":1641879771,"post_id":70661252,"comment_id":124916171,"body_markdown":"Could you provide a minimal verifiable example? Normally you shouldn&#39;t have to do more than simply specifying the types in your Java class. For your example, that would be something like `public class MyClass { public Integer keyA; }`. If you&#39;re not restricted to GSON, you could also consider [jackson](https://github.com/FasterXML/jackson) (popular in Spring but also EE) or even [yasson](https://github.com/eclipse-ee4j/yasson) (the reference implementation of the JSON-B EE standard).","body":"Could you provide a minimal verifiable example? Normally you shouldn&#39;t have to do more than simply specifying the types in your Java class. For your example, that would be something like <code>public class MyClass { public Integer keyA; }</code>. If you&#39;re not restricted to GSON, you could also consider <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">jackson</a> (popular in Spring but also EE) or even <a href=\"https://github.com/eclipse-ee4j/yasson\" rel=\"nofollow noreferrer\">yasson</a> (the reference implementation of the JSON-B EE standard)."},{"owner":{"account_id":23899858,"reputation":11,"user_id":17898184,"display_name":"cspeng1"},"score":0,"creation_date":1642044360,"post_id":70661252,"comment_id":124969543,"body_markdown":"I&#39;ve update my post to describe it clearly, Thanks for your advice.","body":"I&#39;ve update my post to describe it clearly, Thanks for your advice."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641944283,"creation_date":1641944283,"answer_id":70674686,"question_id":70661252,"body_markdown":"When deserializing a JSON number with Gson as `Object`, it defaults to deserializing the JSON value as Java `Double` (as you have seen). Recently in Gson 2.8.9 a new feature has been added which allows specifying a [`ToNumberStrategy`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/ToNumberStrategy.html). This allows you to more easily influence how Gson deserializes JSON numbers. Some default implementations are provided by the `ToNumberPolicy` enum. The one closest to your requirement is [`ToNumberPolicy.LONG_OR_DOUBLE`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/ToNumberPolicy.html#LONG_OR_DOUBLE). If you really need `Integer` as value type, you can try writing your own implementation similar to [Gson&#39;s one](https://github.com/google/gson/blob/ffcfb15f6c63548f2d10a945116df8d5dbb8a025/gson/src/main/java/com/google/gson/ToNumberPolicy.java#L67-L80).","title":"How to deserialize json string to different specific java Objec？","body":"<p>When deserializing a JSON number with Gson as <code>Object</code>, it defaults to deserializing the JSON value as Java <code>Double</code> (as you have seen). Recently in Gson 2.8.9 a new feature has been added which allows specifying a <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/ToNumberStrategy.html\" rel=\"nofollow noreferrer\"><code>ToNumberStrategy</code></a>. This allows you to more easily influence how Gson deserializes JSON numbers. Some default implementations are provided by the <code>ToNumberPolicy</code> enum. The one closest to your requirement is <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/ToNumberPolicy.html#LONG_OR_DOUBLE\" rel=\"nofollow noreferrer\"><code>ToNumberPolicy.LONG_OR_DOUBLE</code></a>. If you really need <code>Integer</code> as value type, you can try writing your own implementation similar to <a href=\"https://github.com/google/gson/blob/ffcfb15f6c63548f2d10a945116df8d5dbb8a025/gson/src/main/java/com/google/gson/ToNumberPolicy.java#L67-L80\" rel=\"nofollow noreferrer\">Gson's one</a>.</p>\n"}],"owner":{"account_id":23899858,"reputation":11,"user_id":17898184,"display_name":"cspeng1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":688,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1642540641,"creation_date":1641871312,"question_id":70661252,"body_markdown":"I managed to serialize an extreme complex class (which nests 50-some customize java object) to json string using gson.\r\nHere is a piece of my object:\r\n\r\n```java\r\npublic class MyComplexObject{\r\n     private int a;\r\n     private String b;\r\n     private MyclassA c;\r\n     ...\r\n     private map&lt;String, Object&gt; x;\r\n}\r\n```\r\n\r\nPlease note that with the field `private map&lt;String, Object&gt; x`, the VALUE `Object` could be `Integer`,`Double`, `String`, `myClassC`, etc....\r\nIt works well when serializing, but when deserializing, gson could not convert the json string according to my expectation.\r\n\r\nMyClassC: \r\n```\r\npublic class MyclassC{\r\n    public String d;\r\n    public List&lt;Integer&gt; e;\r\n}\r\n```\r\n\r\nHere is an example:\r\n```\r\nMyComplexObject myComplexObject = new MyComplexObject();\r\nmyComplexObject.seta(1);\r\nmyComplexObject.setb(&quot;abc&quot;);\r\n\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\nlist.add(1);\r\nlist.add(2);\r\nMyClassC myClassC = new MyClassC(&quot;key1&quot;, list);\r\nmyComplexObject.setx(myClassC);\r\n\r\n// Serializing and Deserializing\r\nString myComplexObjectStr = gson.toJson(myComplexObject);\r\nMyComplexObject myComplexObject2 = gson.fromJson(myComplexObjectStr, MyComplexObject.class);\r\n\r\n// after deserializing, x has been converted to LinkedTreeMap\r\nmyComplexObject.x.getClass();   // class MyClassC\r\nmyComplexObject2.x.getClass();   // class com.google.gson.internal.LinkedTreeMap\r\n\r\n// Go further about the field x\r\n\r\nObject object = myComplexObject2.x.get(&quot;key1&quot;);\r\n\r\nLinkedTreeMap linkedTreeMap = (LinkedTreeMap) object;\r\nArrayList arrayList = (ArrayList) linkedTreeMap.get(&quot;e&quot;);\r\n\r\narrayList.get(0).getClass(); // class java.lang.Double\r\n```\r\n\r\n\r\nSo after serializing and deserializing:\r\n\r\n1. MyClassC was converted to LinkedTreeMap\r\n2. List\\&lt;Integer\\&gt; was converted to List\\&lt;Double\\&gt;\r\n\r\n\r\nSo my question is: What should I do to ensure `MyComplexObject` to be identical completely after serialization and deserialization?\r\n\r\n\r\n","title":"How to deserialize json string to different specific java Objec？","body":"<p>I managed to serialize an extreme complex class (which nests 50-some customize java object) to json string using gson.\nHere is a piece of my object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyComplexObject{\n     private int a;\n     private String b;\n     private MyclassA c;\n     ...\n     private map&lt;String, Object&gt; x;\n}\n</code></pre>\n<p>Please note that with the field <code>private map&lt;String, Object&gt; x</code>, the VALUE <code>Object</code> could be <code>Integer</code>,<code>Double</code>, <code>String</code>, <code>myClassC</code>, etc....\nIt works well when serializing, but when deserializing, gson could not convert the json string according to my expectation.</p>\n<p>MyClassC:</p>\n<pre><code>public class MyclassC{\n    public String d;\n    public List&lt;Integer&gt; e;\n}\n</code></pre>\n<p>Here is an example:</p>\n<pre><code>MyComplexObject myComplexObject = new MyComplexObject();\nmyComplexObject.seta(1);\nmyComplexObject.setb(&quot;abc&quot;);\n\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nlist.add(1);\nlist.add(2);\nMyClassC myClassC = new MyClassC(&quot;key1&quot;, list);\nmyComplexObject.setx(myClassC);\n\n// Serializing and Deserializing\nString myComplexObjectStr = gson.toJson(myComplexObject);\nMyComplexObject myComplexObject2 = gson.fromJson(myComplexObjectStr, MyComplexObject.class);\n\n// after deserializing, x has been converted to LinkedTreeMap\nmyComplexObject.x.getClass();   // class MyClassC\nmyComplexObject2.x.getClass();   // class com.google.gson.internal.LinkedTreeMap\n\n// Go further about the field x\n\nObject object = myComplexObject2.x.get(&quot;key1&quot;);\n\nLinkedTreeMap linkedTreeMap = (LinkedTreeMap) object;\nArrayList arrayList = (ArrayList) linkedTreeMap.get(&quot;e&quot;);\n\narrayList.get(0).getClass(); // class java.lang.Double\n</code></pre>\n<p>So after serializing and deserializing:</p>\n<ol>\n<li>MyClassC was converted to LinkedTreeMap</li>\n<li>List&lt;Integer&gt; was converted to List&lt;Double&gt;</li>\n</ol>\n<p>So my question is: What should I do to ensure <code>MyComplexObject</code> to be identical completely after serialization and deserialization?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1642159885,"post_id":70709922,"comment_id":125002627,"body_markdown":"Does this answer your question? [Unfortunately MyApp has stopped. How can I solve this?](https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this\">Unfortunately MyApp has stopped. How can I solve this?</a>"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":2,"creation_date":1642159901,"post_id":70709922,"comment_id":125002632,"body_markdown":"app crashes - find stack trace - research stack trace - change code - problem solved :)","body":"app crashes - find stack trace - research stack trace - change code - problem solved :)"},{"owner":{"account_id":23939412,"reputation":23,"user_id":17932735,"display_name":"Yashas"},"score":0,"creation_date":1642160851,"post_id":70709922,"comment_id":125002937,"body_markdown":"no it does not help I still do not know how to resolve the issue","body":"no it does not help I still do not know how to resolve the issue"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1642161455,"post_id":70709922,"comment_id":125003161,"body_markdown":"Move your `registerForActivityResult()` call to be a field initializer. See [this](https://gitlab.com/commonsguy/cw-jetpack-java/-/blob/master/ContentEditor/src/main/java/com/commonsware/jetpack/contenteditor/MainActivity.java#L43-75), for example.","body":"Move your <code>registerForActivityResult()</code> call to be a field initializer. See <a href=\"https://gitlab.com/commonsguy/cw-jetpack-java/-/blob/master/ContentEditor/src/main/java/com/commonsware/jetpack/contenteditor/MainActivity.java#L43-75\" rel=\"nofollow noreferrer\">this</a>, for example."}],"answers":[{"tags":[],"owner":{"account_id":11470295,"reputation":818,"user_id":8407336,"display_name":"LethalMaus"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642161914,"creation_date":1642161914,"answer_id":70710311,"question_id":70709922,"body_markdown":"You are registering the result launcher each time openGallery is called. Instead do the following\r\n\r\n```\r\npackage com.yashas.blogapp.Activities;\r\n\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport android.Manifest;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport com.yashas.blogapp.R;\r\n\r\npublic class RegisterActivity extends AppCompatActivity {\r\n\r\n    ImageView ImgUserPhoto;\r\n    static int PReqCode = 1;\r\n    static int REQUESCODE = 1;\r\n    Uri pickedimgUri;\r\n    \r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n        @Override\r\n        public void onActivityResult(ActivityResult result) {\r\n            if (result.getResultCode() == RESULT_OK &amp;&amp; result.getData() != null){\r\n                pickedimgUri = result.getData().getData();\r\n                ImgUserPhoto.setImageURI(pickedimgUri);\r\n            }\r\n        }\r\n    });\r\n\r\n//    @Override\r\n//    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n//        super.onActivityResult(requestCode, resultCode, data);\r\n//        if (resultCode == RESULT_OK &amp;&amp; resultCode == REQUESCODE &amp;&amp; data != null){\r\n//            pickedimgUri = data.getData();\r\n//            ImgUserPhoto.setImageURI(pickedimgUri);\r\n\r\n//        }\r\n//    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_regster);\r\n\r\n\r\n        //inu views\r\n        ImgUserPhoto = findViewById(R.id.regUserPhoto) ;\r\n        ImgUserPhoto.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (Build.VERSION.SDK_INT &gt;=22) {\r\n                    checkAndRequestForPermission();\r\n                }\r\n                else{\r\n                    openGallery();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void openGallery() {\r\n        //TODO: Open Gallery\r\n        Intent galleryIntent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        galleryIntent.setType(&quot;image/*&quot;);\r\n//        startActivityForResult(galleryIntent, REQUESCODE);\r\n        activityResultLauncher.launch(galleryIntent);\r\n    }\r\n\r\n    private void checkAndRequestForPermission() {\r\n        if (ContextCompat.checkSelfPermission(RegisterActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE)!= PackageManager.PERMISSION_GRANTED){\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(RegisterActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE)){\r\n                Toast.makeText(RegisterActivity.this, &quot;Please Allow the Required Permissions&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else{\r\n                ActivityCompat.requestPermissions(RegisterActivity.this,\r\n                        new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},PReqCode);\r\n            }\r\n        }\r\n        else\r\n            openGallery();\r\n    }\r\n}\r\n```\r\n","title":"App crashing due to activity result launcher","body":"<p>You are registering the result launcher each time openGallery is called. Instead do the following</p>\n<pre><code>package com.yashas.blogapp.Activities;\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport com.yashas.blogapp.R;\n\npublic class RegisterActivity extends AppCompatActivity {\n\n    ImageView ImgUserPhoto;\n    static int PReqCode = 1;\n    static int REQUESCODE = 1;\n    Uri pickedimgUri;\n    \n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n        @Override\n        public void onActivityResult(ActivityResult result) {\n            if (result.getResultCode() == RESULT_OK &amp;&amp; result.getData() != null){\n                pickedimgUri = result.getData().getData();\n                ImgUserPhoto.setImageURI(pickedimgUri);\n            }\n        }\n    });\n\n//    @Override\n//    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n//        super.onActivityResult(requestCode, resultCode, data);\n//        if (resultCode == RESULT_OK &amp;&amp; resultCode == REQUESCODE &amp;&amp; data != null){\n//            pickedimgUri = data.getData();\n//            ImgUserPhoto.setImageURI(pickedimgUri);\n\n//        }\n//    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_regster);\n\n\n        //inu views\n        ImgUserPhoto = findViewById(R.id.regUserPhoto) ;\n        ImgUserPhoto.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (Build.VERSION.SDK_INT &gt;=22) {\n                    checkAndRequestForPermission();\n                }\n                else{\n                    openGallery();\n                }\n            }\n        });\n    }\n\n    private void openGallery() {\n        //TODO: Open Gallery\n        Intent galleryIntent = new Intent(Intent.ACTION_GET_CONTENT);\n        galleryIntent.setType(&quot;image/*&quot;);\n//        startActivityForResult(galleryIntent, REQUESCODE);\n        activityResultLauncher.launch(galleryIntent);\n    }\n\n    private void checkAndRequestForPermission() {\n        if (ContextCompat.checkSelfPermission(RegisterActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE)!= PackageManager.PERMISSION_GRANTED){\n            if (ActivityCompat.shouldShowRequestPermissionRationale(RegisterActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE)){\n                Toast.makeText(RegisterActivity.this, &quot;Please Allow the Required Permissions&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else{\n                ActivityCompat.requestPermissions(RegisterActivity.this,\n                        new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},PReqCode);\n            }\n        }\n        else\n            openGallery();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23939412,"reputation":23,"user_id":17932735,"display_name":"Yashas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3325,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1642540450,"creation_date":1642159784,"question_id":70709922,"body_markdown":"    package com.yashas.blogapp.Activities;\r\n    \r\n    import androidx.activity.result.ActivityResult;\r\n    import androidx.activity.result.ActivityResultCallback;\r\n    import androidx.activity.result.ActivityResultLauncher;\r\n    import androidx.activity.result.contract.ActivityResultContracts;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    import android.Manifest;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.net.Uri;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.ImageView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.yashas.blogapp.R;\r\n    \r\n    public class RegisterActivity extends AppCompatActivity {\r\n    \r\n    \r\n        ImageView ImgUserPhoto;\r\n        static int PReqCode = 1;\r\n        static int REQUESCODE = 1;\r\n        Uri pickedimgUri;\r\n    \r\n    //    @Override\r\n    //    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n    //        super.onActivityResult(requestCode, resultCode, data);\r\n    //        if (resultCode == RESULT_OK &amp;&amp; resultCode == REQUESCODE &amp;&amp; data != null){\r\n    //            pickedimgUri = data.getData();\r\n    //            ImgUserPhoto.setImageURI(pickedimgUri);\r\n    \r\n    //        }\r\n    //    }\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_regster);\r\n    \r\n    \r\n            //inu views\r\n            ImgUserPhoto = findViewById(R.id.regUserPhoto) ;\r\n            ImgUserPhoto.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (Build.VERSION.SDK_INT &gt;=22) {\r\n                        checkAndRequestForPermission();\r\n                    }\r\n                    else{\r\n                        openGallery();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void openGallery() {\r\n            //TODO: Open Gallery\r\n            ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\r\n            activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode() == RESULT_OK &amp;&amp; result.getData() != null){\r\n                        pickedimgUri = result.getData().getData();\r\n                        ImgUserPhoto.setImageURI(pickedimgUri);\r\n                    }\r\n                }\r\n            });\r\n            Intent galleryIntent = new Intent(Intent.ACTION_GET_CONTENT);\r\n            galleryIntent.setType(&quot;image/*&quot;);\r\n    //        startActivityForResult(galleryIntent, REQUESCODE);\r\n            activityResultLauncher.launch(galleryIntent);\r\n        }\r\n    \r\n        private void checkAndRequestForPermission() {\r\n            if (ContextCompat.checkSelfPermission(RegisterActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE)!= PackageManager.PERMISSION_GRANTED){\r\n                if (ActivityCompat.shouldShowRequestPermissionRationale(RegisterActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE)){\r\n                    Toast.makeText(RegisterActivity.this, &quot;Please Allow the Required Permissions&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else{\r\n                    ActivityCompat.requestPermissions(RegisterActivity.this,\r\n                            new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},PReqCode);\r\n                }\r\n            }\r\n            else\r\n                openGallery();\r\n        }\r\n    }\r\n\r\nThe above is my code and my app is crashing when I use the activity result launcher. Kindly help me out with this. I was using it on activity start earlier, but it was depracated, and now with this, my app is crashing. As soon as I click the image to open the file manager, it crashes. I am trying to resolve this error since morning but it is not working out. It would be great help if someone helps me out with this. \r\n\r\nError stacktrace:\r\n\r\n    2022-01-14 17:05:49.205 9664-9664/com.yashas.blogapp E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.yashas.blogapp, PID: 9664\r\n        java.lang.IllegalStateException: LifecycleOwner com.yashas.blogapp.Activities.RegisterActivity@2166eff is attempting to register while current state is RESUMED. LifecycleOwners must call register before they are STARTED.\r\n            at androidx.activity.result.ActivityResultRegistry.register(ActivityResultRegistry.java:123)\r\n            at androidx.activity.ComponentActivity.registerForActivityResult(ComponentActivity.java:682)\r\n            at androidx.activity.ComponentActivity.registerForActivityResult(ComponentActivity.java:691)\r\n            at com.yashas.blogapp.Activities.RegisterActivity.openGallery(RegisterActivity.java:67)\r\n            at com.yashas.blogapp.Activities.RegisterActivity.checkAndRequestForPermission(RegisterActivity.java:93)\r\n            at com.yashas.blogapp.Activities.RegisterActivity.access$000(RegisterActivity.java:24)\r\n            at com.yashas.blogapp.Activities.RegisterActivity$1.onClick(RegisterActivity.java:55)\r\n            at android.view.View.performClick(View.java:7448)\r\n            at android.view.View.performClickInternal(View.java:7425)\r\n            at android.view.View.access$3600(View.java:810)\r\n            at android.view.View$PerformClick.run(View.java:28305)\r\n            at android.os.Handler.handleCallback(Handler.java:938)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:223)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n\r\nThe above is the logcat when the app crashes.","title":"App crashing due to activity result launcher","body":"<pre><code>package com.yashas.blogapp.Activities;\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport com.yashas.blogapp.R;\n\npublic class RegisterActivity extends AppCompatActivity {\n\n\n    ImageView ImgUserPhoto;\n    static int PReqCode = 1;\n    static int REQUESCODE = 1;\n    Uri pickedimgUri;\n\n//    @Override\n//    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n//        super.onActivityResult(requestCode, resultCode, data);\n//        if (resultCode == RESULT_OK &amp;&amp; resultCode == REQUESCODE &amp;&amp; data != null){\n//            pickedimgUri = data.getData();\n//            ImgUserPhoto.setImageURI(pickedimgUri);\n\n//        }\n//    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_regster);\n\n\n        //inu views\n        ImgUserPhoto = findViewById(R.id.regUserPhoto) ;\n        ImgUserPhoto.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (Build.VERSION.SDK_INT &gt;=22) {\n                    checkAndRequestForPermission();\n                }\n                else{\n                    openGallery();\n                }\n            }\n        });\n    }\n\n    private void openGallery() {\n        //TODO: Open Gallery\n        ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\n        activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n            @Override\n            public void onActivityResult(ActivityResult result) {\n                if (result.getResultCode() == RESULT_OK &amp;&amp; result.getData() != null){\n                    pickedimgUri = result.getData().getData();\n                    ImgUserPhoto.setImageURI(pickedimgUri);\n                }\n            }\n        });\n        Intent galleryIntent = new Intent(Intent.ACTION_GET_CONTENT);\n        galleryIntent.setType(&quot;image/*&quot;);\n//        startActivityForResult(galleryIntent, REQUESCODE);\n        activityResultLauncher.launch(galleryIntent);\n    }\n\n    private void checkAndRequestForPermission() {\n        if (ContextCompat.checkSelfPermission(RegisterActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE)!= PackageManager.PERMISSION_GRANTED){\n            if (ActivityCompat.shouldShowRequestPermissionRationale(RegisterActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE)){\n                Toast.makeText(RegisterActivity.this, &quot;Please Allow the Required Permissions&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else{\n                ActivityCompat.requestPermissions(RegisterActivity.this,\n                        new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},PReqCode);\n            }\n        }\n        else\n            openGallery();\n    }\n}\n</code></pre>\n<p>The above is my code and my app is crashing when I use the activity result launcher. Kindly help me out with this. I was using it on activity start earlier, but it was depracated, and now with this, my app is crashing. As soon as I click the image to open the file manager, it crashes. I am trying to resolve this error since morning but it is not working out. It would be great help if someone helps me out with this.</p>\n<p>Error stacktrace:</p>\n<pre><code>2022-01-14 17:05:49.205 9664-9664/com.yashas.blogapp E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.yashas.blogapp, PID: 9664\n    java.lang.IllegalStateException: LifecycleOwner com.yashas.blogapp.Activities.RegisterActivity@2166eff is attempting to register while current state is RESUMED. LifecycleOwners must call register before they are STARTED.\n        at androidx.activity.result.ActivityResultRegistry.register(ActivityResultRegistry.java:123)\n        at androidx.activity.ComponentActivity.registerForActivityResult(ComponentActivity.java:682)\n        at androidx.activity.ComponentActivity.registerForActivityResult(ComponentActivity.java:691)\n        at com.yashas.blogapp.Activities.RegisterActivity.openGallery(RegisterActivity.java:67)\n        at com.yashas.blogapp.Activities.RegisterActivity.checkAndRequestForPermission(RegisterActivity.java:93)\n        at com.yashas.blogapp.Activities.RegisterActivity.access$000(RegisterActivity.java:24)\n        at com.yashas.blogapp.Activities.RegisterActivity$1.onClick(RegisterActivity.java:55)\n        at android.view.View.performClick(View.java:7448)\n        at android.view.View.performClickInternal(View.java:7425)\n        at android.view.View.access$3600(View.java:810)\n        at android.view.View$PerformClick.run(View.java:28305)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>The above is the logcat when the app crashes.</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1642538665,"post_id":70762111,"comment_id":125096477,"body_markdown":"What part(s) of this are you having trouble with, and what *specifically* is that trouble?","body":"What part(s) of this are you having trouble with, and what <i>specifically</i> is that trouble?"},{"owner":{"account_id":2084987,"reputation":1147,"user_id":1856160,"accept_rate":0,"display_name":"Testuser"},"score":0,"creation_date":1642538758,"post_id":70762111,"comment_id":125096506,"body_markdown":"code not add the special characters logic","body":"code not add the special characters logic"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1642550313,"post_id":70762111,"comment_id":125099476,"body_markdown":"What is preventing you from adding that code?","body":"What is preventing you from adding that code?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1642573933,"post_id":70762111,"comment_id":125103515,"body_markdown":"By the way, the terrible `Date` classes were years ago supplanted by he modern *java.time* classes defined in JSR 310. To represent a moment as seen in UTC, use `Instant`.  To get a count of milliseconds since first moment of 1970 in UTC, call `Instant.now().toEpochMilli()`.","body":"By the way, the terrible <code>Date</code> classes were years ago supplanted by he modern <i>java.time</i> classes defined in JSR 310. To represent a moment as seen in UTC, use <code>Instant</code>.  To get a count of milliseconds since first moment of 1970 in UTC, call <code>Instant.now().toEpochMilli()</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1642574047,"post_id":70762111,"comment_id":125103545,"body_markdown":"Add clarifications as edits to the Question rather than as Comments.","body":"Add clarifications as edits to the Question rather than as Comments."}],"owner":{"account_id":2084987,"reputation":1147,"user_id":1856160,"accept_rate":0,"display_name":"Testuser"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1642539758,"creation_date":1642538490,"question_id":70762111,"body_markdown":"I written java code to random generate password using Date but I got stuck up add meet the below criteria in the code to include special characters. As I am new to java how to satisfy the below criteria of special characters in my code. please help on this.\r\n\r\nIt should contain at least one capital case letter.\r\n\r\nIt should contain at least one lower-case letter.\r\n\r\nIt should contain at least one number.\r\n\r\nLength should be 8 characters.\r\n\r\nIt should contain one of the following special characters: @, $, #, !.\r\n\r\n\r\n     private static String[] alpha = new String[] \r\n             {&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;,&quot;i&quot;,&quot;j&quot;,\r\n\t\t&quot;k&quot;,&quot;l&quot;,&quot;m&quot;,&quot;n&quot;,&quot;o&quot;,&quot;p&quot;,&quot;q&quot;,&quot;r&quot;,&quot;s&quot;,&quot;t&quot;,&quot;u&quot;,&quot;v&quot;,&quot;w&quot;,&quot;x&quot;,&quot;y&quot;,&quot;z&quot;};\r\n\r\n         private static String[] specialChars = new String[]{&quot;!&quot;, &quot;@&quot;, &quot;#&quot;, &quot;$&quot;, &quot;%&quot;, &quot;^&quot;, &quot;&amp;&quot;,\r\n\t\t&quot;*&quot;};\r\n\r\n      private static int NUMBER_LETTERS = 7;\r\n\tprivate static int NUMBER_ALPHABET = 26;\r\n\r\n    public class passwordGenerator implements Runnable {\r\n\r\n\t\tprivate String randomStr = null;\r\n\t\tpublic void run() {\r\n\t\t\tStringBuffer password = new StringBuffer();\r\n\r\n\t\t\ttry {\r\n\t\t\t\tDate d = new Date();\r\n\t\t\t\tlong currentTime = d.getTime();\r\n\r\n\t\t\t\t//First pick 6 letters and convert the randomly selected one to lowercase\r\n\t\t\t\tint lowerCaseIndex = (int) (currentTime % NUMBER_LETTERS);\r\n                int timeStep = 1739;\r\n                currentTime = new Date().getTime();\r\n\t\t\t\tfor(int letterIndex = 0; letterIndex &lt; NUMBER_LETTERS; letterIndex++) {\r\n\r\n\t\t\t\t\t//Pick a letter\r\n\t\t\t\t\tint randomNo = (int) (currentTime % NUMBER_ALPHABET);\r\n\t\t\t\t\tString letter = alpha[randomNo];\r\n\t\t\t\t\tif(letterIndex != lowerCaseIndex) {\r\n\t\t\t\t\t\tletter = letter.toUpperCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpassword.append(letter);\r\n                    currentTime += timeStep;\r\n\t\t\t\t}\r\n\t\t\t\tThread.sleep(200);\r\n\t\t\t\tcurrentTime = new Date().getTime();\r\n\t\t\t\tint number = (int) (currentTime % 10);\r\n\t\t\t\tpassword.append(String.valueOf(number));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tlog.error(&quot;error occurred while generating the random password!&quot;, e);\r\n\t\t\t\tThread.currentThread().destroy();\r\n\t\t\t}\r\n\r\n\t\t\trandomStr = password.toString();\r\n\t\t}\r\n\t\t/**\r\n\t\t * @return the randomStr\r\n\t\t */\r\n\t\tpublic String getRandomStr() {\r\n\t\t\treturn randomStr;\r\n\t\t}","title":"java random password generator code to include special characters","body":"<p>I written java code to random generate password using Date but I got stuck up add meet the below criteria in the code to include special characters. As I am new to java how to satisfy the below criteria of special characters in my code. please help on this.</p>\n<p>It should contain at least one capital case letter.</p>\n<p>It should contain at least one lower-case letter.</p>\n<p>It should contain at least one number.</p>\n<p>Length should be 8 characters.</p>\n<p>It should contain one of the following special characters: @, $, #, !.</p>\n<pre><code> private static String[] alpha = new String[] \n         {&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;,&quot;i&quot;,&quot;j&quot;,\n    &quot;k&quot;,&quot;l&quot;,&quot;m&quot;,&quot;n&quot;,&quot;o&quot;,&quot;p&quot;,&quot;q&quot;,&quot;r&quot;,&quot;s&quot;,&quot;t&quot;,&quot;u&quot;,&quot;v&quot;,&quot;w&quot;,&quot;x&quot;,&quot;y&quot;,&quot;z&quot;};\n\n     private static String[] specialChars = new String[]{&quot;!&quot;, &quot;@&quot;, &quot;#&quot;, &quot;$&quot;, &quot;%&quot;, &quot;^&quot;, &quot;&amp;&quot;,\n    &quot;*&quot;};\n\n  private static int NUMBER_LETTERS = 7;\nprivate static int NUMBER_ALPHABET = 26;\n\npublic class passwordGenerator implements Runnable {\n\n    private String randomStr = null;\n    public void run() {\n        StringBuffer password = new StringBuffer();\n\n        try {\n            Date d = new Date();\n            long currentTime = d.getTime();\n\n            //First pick 6 letters and convert the randomly selected one to lowercase\n            int lowerCaseIndex = (int) (currentTime % NUMBER_LETTERS);\n            int timeStep = 1739;\n            currentTime = new Date().getTime();\n            for(int letterIndex = 0; letterIndex &lt; NUMBER_LETTERS; letterIndex++) {\n\n                //Pick a letter\n                int randomNo = (int) (currentTime % NUMBER_ALPHABET);\n                String letter = alpha[randomNo];\n                if(letterIndex != lowerCaseIndex) {\n                    letter = letter.toUpperCase();\n                }\n                password.append(letter);\n                currentTime += timeStep;\n            }\n            Thread.sleep(200);\n            currentTime = new Date().getTime();\n            int number = (int) (currentTime % 10);\n            password.append(String.valueOf(number));\n        } catch (Exception e) {\n            log.error(&quot;error occurred while generating the random password!&quot;, e);\n            Thread.currentThread().destroy();\n        }\n\n        randomStr = password.toString();\n    }\n    /**\n     * @return the randomStr\n     */\n    public String getRandomStr() {\n        return randomStr;\n    }\n</code></pre>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":6223812,"reputation":2460,"user_id":9512475,"display_name":"Yılmaz Durmaz"},"score":0,"creation_date":1642416125,"post_id":70720493,"comment_id":125056440,"body_markdown":"when you do many-to-many relations, they has to evaluate lazily since you cannot add 2 cycling data at the same time. check your code to see where you miss this requirements","body":"when you do many-to-many relations, they has to evaluate lazily since you cannot add 2 cycling data at the same time. check your code to see where you miss this requirements"}],"answers":[{"tags":[],"owner":{"account_id":16199380,"reputation":112,"user_id":11696136,"display_name":"Petru-Cristian Boza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642253992,"creation_date":1642247864,"answer_id":70721199,"question_id":70720493,"body_markdown":"We need a bit more context, but you generally have two options:\r\n\r\n 1. Have the method where you call &quot;getRoles()&quot; be annotated with `@Transactional`.\r\n\r\nor \r\n\r\n 2. Create a method in jpa with a `@Query(&quot;SELECT u from user u join fetch u.roles where u.id =:id&quot;)`.","title":"LazyInitializationException when using @Inheritance","body":"<p>We need a bit more context, but you generally have two options:</p>\n<ol>\n<li>Have the method where you call &quot;getRoles()&quot; be annotated with <code>@Transactional</code>.</li>\n</ol>\n<p>or</p>\n<ol start=\"2\">\n<li>Create a method in jpa with a <code>@Query(&quot;SELECT u from user u join fetch u.roles where u.id =:id&quot;)</code>.</li>\n</ol>\n"}],"owner":{"account_id":23947475,"reputation":11,"user_id":17939615,"display_name":"Nantenaina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642539194,"creation_date":1642241382,"question_id":70720493,"body_markdown":"I&#39;m trying to use Inheritance using this project https://github.com/Baeldung/spring-security-registration.\r\n\r\nThis is my User:\r\n\r\n    @Data\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n    @DiscriminatorColumn(discriminatorType = DiscriminatorType.STRING, name = &quot;TYPE&quot;)\r\n    public abstract class User {\r\n         @ManyToMany(fetch = FetchType.EAGER)\r\n         @JoinTable(name = &quot;users_roles&quot;,joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;))\r\n         private Collection&lt;Role&gt; roles;\r\n    }\r\n\r\nand some subclass like UserAdmin:\r\n\r\n    @Entity\r\n    @DiscriminatorValue(&quot;ADMIN&quot;)\r\n    public class UserAdmin extends User {}\r\n\r\nThen my role class is like this:\r\n\r\n    @Data\r\n    @Entity\r\n    public class Role {\r\n         @ManyToMany(mappedBy = &quot;roles&quot;)\r\n         private Collection&lt;User&gt; users;\r\n    }\r\n\r\nBut I got this error when I register a user:\r\n\r\n&gt; o.h.LazyInitializationException: failed to lazily initialize a collection of role: com.baeldung.persistence.model.Role.users, could not initialize proxy - no Session\r\n\r\nNeed help guys.","title":"LazyInitializationException when using @Inheritance","body":"<p>I'm trying to use Inheritance using this project <a href=\"https://github.com/Baeldung/spring-security-registration\" rel=\"nofollow noreferrer\">https://github.com/Baeldung/spring-security-registration</a>.</p>\n<p>This is my User:</p>\n<pre><code>@Data\n@Entity\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(discriminatorType = DiscriminatorType.STRING, name = &quot;TYPE&quot;)\npublic abstract class User {\n     @ManyToMany(fetch = FetchType.EAGER)\n     @JoinTable(name = &quot;users_roles&quot;,joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;))\n     private Collection&lt;Role&gt; roles;\n}\n</code></pre>\n<p>and some subclass like UserAdmin:</p>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;ADMIN&quot;)\npublic class UserAdmin extends User {}\n</code></pre>\n<p>Then my role class is like this:</p>\n<pre><code>@Data\n@Entity\npublic class Role {\n     @ManyToMany(mappedBy = &quot;roles&quot;)\n     private Collection&lt;User&gt; users;\n}\n</code></pre>\n<p>But I got this error when I register a user:</p>\n<blockquote>\n<p>o.h.LazyInitializationException: failed to lazily initialize a collection of role: com.baeldung.persistence.model.Role.users, could not initialize proxy - no Session</p>\n</blockquote>\n<p>Need help guys.</p>\n"},{"tags":["java","dropwizard"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1642541887,"post_id":70762226,"comment_id":125097510,"body_markdown":"This is always a dependency version mismatch.  Your dependency is older than the code you&#39;re compiling, and in the older version that method is final and not overridable.","body":"This is always a dependency version mismatch.  Your dependency is older than the code you&#39;re compiling, and in the older version that method is final and not overridable."},{"owner":{"account_id":12214693,"reputation":11,"user_id":8915491,"display_name":"Sagar Shivani"},"score":0,"creation_date":1642654996,"post_id":70762226,"comment_id":125130054,"body_markdown":"So How should i proceed for this @Jim","body":"So How should i proceed for this @Jim"}],"owner":{"account_id":12214693,"reputation":11,"user_id":8915491,"display_name":"Sagar Shivani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642539143,"creation_date":1642539143,"question_id":70762226,"body_markdown":"I am getting this error while upgrading the Dropwizard version from 0.9.1 to 1.3.7.\r\nThe YAML file seems to internally not being read.. Could anyone tell me the appropriate way to resolve this?\r\nFYI: there is one internal module which has an object mapper of different version and while debugging the code it seem to redirect toward degraded Object mapper\r\nI have added the Gradle File : \r\n```\r\n configurations {\r\n        all*.exclude group: &#39;log4j&#39;, module: &#39;log4j&#39;\r\n        all*.exclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-log4j12&#39;\r\n        all*.exclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-simple&#39;\r\n        all*.exclude group: &#39;com.yammer.dropwizard&#39;, module: &#39;dropwizard-core&#39;\r\n        all*.exclude group: &#39;com.yammer.dropwizard&#39;, module: &#39;dropwizard-jdbi&#39;\r\n        all*.exclude group: &#39;com.yammer.dropwizard&#39;, module: &#39;dropwizard-metrics-graphite&#39;\r\n        all*.exclude group: &#39;com.yammer.dropwizard&#39;, module: &#39;dropwizard-testing&#39;\r\n        all*.exclude group: &#39;com.yammer.metrics&#39;, module: &#39;metrics-core&#39;\r\n        all*.exclude group: &#39;com.yammer.metrics&#39;, module: &#39;metrics-graphite&#39;\r\n        all*.exclude group: &#39;com.yammer.metrics&#39;, module: &#39;metrics-annotation&#39;\r\n        all*.exclude group: &#39;com.yammer.metrics&#39;, module: &#39;metrics-jvm&#39;\r\n\r\n//        all*.exclude group: &#39;com.codahale.metrics&#39;\r\n        all*.exclude group: &#39;com.sun.jersey&#39;, module: &#39;jersey-core&#39;\r\n        all*.exclude group: &#39;javax.ws.rs&#39;, module: &#39;jsr311-api&#39;\r\n//        all*.exclude group: &#39;org.flipkart&#39;, module: &#39;dss-auth-client:com.fasterxml.jackson&#39;\r\n//        all*.exclude group: &#39;io.dropwizard.metrics&#39;, module: &#39;metrics-core&#39;\r\n    }\r\n\r\n    dependencies {\r\n        compile &#39;com.fasterxml:classmate:1.5.1&#39;\r\n        compile &#39;io.dropwizard:dropwizard-core:&#39; + dropwizardVersion,\r\n                &#39;io.dropwizard:dropwizard-metrics-graphite:&#39; + dropwizardVersion,\r\n                &#39;io.dropwizard:dropwizard-jdbi:&#39; + dropwizardVersion,\r\n                &#39;io.dropwizard.metrics:metrics-core:&#39; + dropwizardMetric,\r\n                &#39;io.dropwizard.metrics:metrics-jvm:&#39; + dropwizardMetric,\r\n                &#39;io.dropwizard.metrics:metrics-annotation:&#39; + dropwizardMetric,\r\n                &#39;io.dropwizard:dropwizard-validation:&#39; + dropwizardVersion,\r\n                &#39;com.palominolabs.metrics:metrics-guice:4.0.0&#39; ,\r\n//                &#39;ru.vyarus:dropwizard-guicey:4.0.1&#39;\r\n        compile(&#39;com.hubspot.dropwizard:dropwizard-guice:&#39; + &#39;1.3.5.0&#39;) {\r\n            exclude group: &#39;com.google.inject&#39;, module: &#39;guice_servlet&#39;\r\n\r\n        }\r\n        compile &#39;org.projectlombok:lombok:&#39; + lombokVersion\r\n\r\n      \r\n                \r\n\r\n//        compile &#39;com.google.inject:guice:&#39; + guiceVersion,\r\n//                &#39;com.google.inject.extensions:guice-persist:&#39; + guiceVersion\r\n\r\n        compile &#39;mysql:mysql-connector-java:5.1.35&#39;,\r\n                &#39;org.hibernate:hibernate-entitymanager:4.3.5.Final&#39;\r\n\r\n        compile group: &#39;com.amazonaws&#39;, name: &#39;aws-java-sdk&#39;, version: &#39;1.9.4&#39;\r\n        compile(group: &#39;org.quartz-scheduler&#39;, name: &#39;quartz&#39;, version: &#39;2.2.1&#39;)\r\n        \r\n            exclude group: &#39;com.yammer.dropwizard&#39;\r\n            exclude group: &#39;com.sun.jersey&#39;\r\n            exclude group: &#39;javax.ws.rs&#39;, module: &#39;jsr311-api&#39;\r\n            exclude group: &#39;io.dropwizard&#39;\r\n        }\r\n\r\n        compile &#39;org.modelmapper:modelmapper:&#39; + modelMapperVersion,\r\n                &#39;org.modelmapper.extensions:modelmapper-guice:&#39; + modelMapperVersion\r\n       \r\n        \r\n        compile &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:&#39; + jacksonVersion\r\n       \r\n\r\n        testCompile &quot;junit:junit:4.12&quot;\r\n        testCompile &#39;com.h2database:h2:1.4.191&#39;,\r\n                    &#39;org.hsqldb:hsqldb:2.3.4&#39;,\r\n                    &#39;io.dropwizard.modules:dropwizard-flyway:0.7.0-1&#39;,\r\n                    &#39;io.dropwizard:dropwizard-testing:&#39; + dropwizardVersion\r\n        testCompile &#39;org.flywaydb:flyway-core:6.0.8&#39;\r\n\r\n        testCompile group: &#39;org.powermock&#39;, name: &#39;powermock-module-junit4&#39;, version: &#39;1.6.6&#39;\r\n        testCompile group: &#39;org.powermock&#39;, name: &#39;powermock-api-easymock&#39;, version: &#39;1.6.6&#39;\r\n        testCompile group: &#39;org.powermock&#39;, name: &#39;powermock-api-mockito&#39;, version: &#39;1.6.6&#39;\r\n```\r\n\r\n```\r\njava.lang.VerifyError: class com.fasterxml.jackson.databind.deser.SettableBeanProperty$Delegating overrides final method getDeclaringClass.()Ljava/lang/Class;\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat com.fasterxml.jackson.module.afterburner.deser.PropertyMutatorCollector.addObjectSetter(PropertyMutatorCollector.java:65)\r\n\tat com.fasterxml.jackson.module.afterburner.deser.DeserializerModifier.findOptimizableProperties(DeserializerModifier.java:140)\r\n\tat com.fasterxml.jackson.module.afterburner.deser.DeserializerModifier.updateBuilder(DeserializerModifier.java:58)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.buildBeanDeserializer(BeanDeserializerFactory.java:237)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:141)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:406)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:352)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:475)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._findRootDeserializer(ObjectMapper.java:3890)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:3756)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2090)\r\n\tat io.dropwizard.configuration.BaseConfigurationFactory.build(BaseConfigurationFactory.java:127)\r\n\tat io.dropwizard.configuration.BaseConfigurationFactory.build(BaseConfigurationFactory.java:89)\r\n\tat io.dropwizard.cli.ConfiguredCommand.parseConfiguration(ConfiguredCommand.java:126)\r\n\tat io.dropwizard.cli.ConfiguredCommand.run(ConfiguredCommand.java:74)\r\n\tat io.dropwizard.cli.Cli.run(Cli.java:78)\r\n\tat io.dropwizard.Application.run(Application.java:93)```","title":"Getting error while compiling jackson library code","body":"<p>I am getting this error while upgrading the Dropwizard version from 0.9.1 to 1.3.7.\nThe YAML file seems to internally not being read.. Could anyone tell me the appropriate way to resolve this?\nFYI: there is one internal module which has an object mapper of different version and while debugging the code it seem to redirect toward degraded Object mapper\nI have added the Gradle File :</p>\n<pre><code> configurations {\n        all*.exclude group: 'log4j', module: 'log4j'\n        all*.exclude group: 'org.slf4j', module: 'slf4j-log4j12'\n        all*.exclude group: 'org.slf4j', module: 'slf4j-simple'\n        all*.exclude group: 'com.yammer.dropwizard', module: 'dropwizard-core'\n        all*.exclude group: 'com.yammer.dropwizard', module: 'dropwizard-jdbi'\n        all*.exclude group: 'com.yammer.dropwizard', module: 'dropwizard-metrics-graphite'\n        all*.exclude group: 'com.yammer.dropwizard', module: 'dropwizard-testing'\n        all*.exclude group: 'com.yammer.metrics', module: 'metrics-core'\n        all*.exclude group: 'com.yammer.metrics', module: 'metrics-graphite'\n        all*.exclude group: 'com.yammer.metrics', module: 'metrics-annotation'\n        all*.exclude group: 'com.yammer.metrics', module: 'metrics-jvm'\n\n//        all*.exclude group: 'com.codahale.metrics'\n        all*.exclude group: 'com.sun.jersey', module: 'jersey-core'\n        all*.exclude group: 'javax.ws.rs', module: 'jsr311-api'\n//        all*.exclude group: 'org.flipkart', module: 'dss-auth-client:com.fasterxml.jackson'\n//        all*.exclude group: 'io.dropwizard.metrics', module: 'metrics-core'\n    }\n\n    dependencies {\n        compile 'com.fasterxml:classmate:1.5.1'\n        compile 'io.dropwizard:dropwizard-core:' + dropwizardVersion,\n                'io.dropwizard:dropwizard-metrics-graphite:' + dropwizardVersion,\n                'io.dropwizard:dropwizard-jdbi:' + dropwizardVersion,\n                'io.dropwizard.metrics:metrics-core:' + dropwizardMetric,\n                'io.dropwizard.metrics:metrics-jvm:' + dropwizardMetric,\n                'io.dropwizard.metrics:metrics-annotation:' + dropwizardMetric,\n                'io.dropwizard:dropwizard-validation:' + dropwizardVersion,\n                'com.palominolabs.metrics:metrics-guice:4.0.0' ,\n//                'ru.vyarus:dropwizard-guicey:4.0.1'\n        compile('com.hubspot.dropwizard:dropwizard-guice:' + '1.3.5.0') {\n            exclude group: 'com.google.inject', module: 'guice_servlet'\n\n        }\n        compile 'org.projectlombok:lombok:' + lombokVersion\n\n      \n                \n\n//        compile 'com.google.inject:guice:' + guiceVersion,\n//                'com.google.inject.extensions:guice-persist:' + guiceVersion\n\n        compile 'mysql:mysql-connector-java:5.1.35',\n                'org.hibernate:hibernate-entitymanager:4.3.5.Final'\n\n        compile group: 'com.amazonaws', name: 'aws-java-sdk', version: '1.9.4'\n        compile(group: 'org.quartz-scheduler', name: 'quartz', version: '2.2.1')\n        \n            exclude group: 'com.yammer.dropwizard'\n            exclude group: 'com.sun.jersey'\n            exclude group: 'javax.ws.rs', module: 'jsr311-api'\n            exclude group: 'io.dropwizard'\n        }\n\n        compile 'org.modelmapper:modelmapper:' + modelMapperVersion,\n                'org.modelmapper.extensions:modelmapper-guice:' + modelMapperVersion\n       \n        \n        compile 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:' + jacksonVersion\n       \n\n        testCompile &quot;junit:junit:4.12&quot;\n        testCompile 'com.h2database:h2:1.4.191',\n                    'org.hsqldb:hsqldb:2.3.4',\n                    'io.dropwizard.modules:dropwizard-flyway:0.7.0-1',\n                    'io.dropwizard:dropwizard-testing:' + dropwizardVersion\n        testCompile 'org.flywaydb:flyway-core:6.0.8'\n\n        testCompile group: 'org.powermock', name: 'powermock-module-junit4', version: '1.6.6'\n        testCompile group: 'org.powermock', name: 'powermock-api-easymock', version: '1.6.6'\n        testCompile group: 'org.powermock', name: 'powermock-api-mockito', version: '1.6.6'\n</code></pre>\n<pre><code>java.lang.VerifyError: class com.fasterxml.jackson.databind.deser.SettableBeanProperty$Delegating overrides final method getDeclaringClass.()Ljava/lang/Class;\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at com.fasterxml.jackson.module.afterburner.deser.PropertyMutatorCollector.addObjectSetter(PropertyMutatorCollector.java:65)\n    at com.fasterxml.jackson.module.afterburner.deser.DeserializerModifier.findOptimizableProperties(DeserializerModifier.java:140)\n    at com.fasterxml.jackson.module.afterburner.deser.DeserializerModifier.updateBuilder(DeserializerModifier.java:58)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.buildBeanDeserializer(BeanDeserializerFactory.java:237)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:141)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:406)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:352)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\n    at com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:475)\n    at com.fasterxml.jackson.databind.ObjectMapper._findRootDeserializer(ObjectMapper.java:3890)\n    at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:3756)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2090)\n    at io.dropwizard.configuration.BaseConfigurationFactory.build(BaseConfigurationFactory.java:127)\n    at io.dropwizard.configuration.BaseConfigurationFactory.build(BaseConfigurationFactory.java:89)\n    at io.dropwizard.cli.ConfiguredCommand.parseConfiguration(ConfiguredCommand.java:126)\n    at io.dropwizard.cli.ConfiguredCommand.run(ConfiguredCommand.java:74)\n    at io.dropwizard.cli.Cli.run(Cli.java:78)\n    at io.dropwizard.Application.run(Application.java:93)```\n</code></pre>\n"},{"tags":["java","spring-boot","event-handling","cqrs","axon"],"comments":[{"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"score":0,"creation_date":1642539242,"post_id":69993836,"comment_id":125096664,"body_markdown":"Some code examples and a word of explanation of what you already tried and try to achieve increases the possibility to receive answers to your questions. ;-) It also makes it easier to understand your intentions for readers :-)","body":"Some code examples and a word of explanation of what you already tried and try to achieve increases the possibility to receive answers to your questions. ;-) It also makes it easier to understand your intentions for readers :-)"},{"owner":{"account_id":23357571,"reputation":3,"user_id":17430337,"display_name":"newsoand"},"score":0,"creation_date":1642683714,"post_id":69993836,"comment_id":125139630,"body_markdown":"Hi KDW. Big thanks for your excellent response! I raised this at a time when I had chance to play with Axon in my own time :) I haven&#39;t managed to find the same time more recently, but thanks for clarifying that some of my understanding was correct. Apologies for the long-worded question, it was more about understanding conceptual stuff relating to error handling, and I was only partially optimistic that somebody would be kind enough to answer. I think part of the problem was that I hadn&#39;t setup the Transaction management properly.","body":"Hi KDW. Big thanks for your excellent response! I raised this at a time when I had chance to play with Axon in my own time :) I haven&#39;t managed to find the same time more recently, but thanks for clarifying that some of my understanding was correct. Apologies for the long-worded question, it was more about understanding conceptual stuff relating to error handling, and I was only partially optimistic that somebody would be kind enough to answer. I think part of the problem was that I hadn&#39;t setup the Transaction management properly."}],"answers":[{"tags":[],"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642539064,"creation_date":1642539064,"answer_id":70762212,"question_id":69993836,"body_markdown":"I am not sure to understand your question correctly.\r\n\r\n&gt; My question really comes down to: how do (or should) systems using Axon handle errors in these downstream event handlers?\r\n\r\nA downstream event handler (in which I assume a separate class implementing one or more `@EventHandler` methods) marks an event as &quot;consumed&quot; as soon as the annotated method terminates normally. If an exception is thrown during method execution, the event is considered not consumed. Axon keeps track, if configured to use a persistent token store, of handled events and retries when a previous request to handle an event by the EventHandler method fails. It keeps on trying until it eventually is consumed.\r\n\r\n&gt; With Axon, I understand that I can create a command, send it to the gateway, it then forwards it to the correct Aggregate, which then applies an event or two. The events are then persisted and optionally passed on to other event handlers.\r\n\r\nIf you mean &#39;the events are then persisted&#39; being events are persisted when the `AggregateLifecycle.apply` method is called passing the event as argument, then you are right. The event is then persisted in the event store on which other threads are &quot;scanning&quot; to inform `@EventHanlder` annotated methods.\r\n\r\n&gt; With Axon 4, I&#39;m noticing that additional EventHandlers are being executed in a different thread to the one which handles the command, so presumably there is an expectation that the command has been completed successfully once the Aggregate&#39;s command handler method has applied the events (?)\r\n\r\nCorrect! Keep in mind though that commands are &quot;fire and forget&quot;. They are not stored in some kind of command store. If a command handler cannot complete or fails for some reason, to bad... A retry should be done by sending a new command. Commands are a request to do some state changing action towards an aggregate but never change the state themselves. It is up to the aggregate to decide if this state update is allowed based on its current state. If so, the aggregate signals an event which will be stored in the event store. That event will again be captured by the aggregate&#39;s `@EventSourcingHandler` which updates the state. If the request in invalid, no event is applied and the command methods just terminated normally forgetting the command has ever been sent.\r\n\r\nHope this clarifies some of your questions.","title":"Axon in Java app - reacting to event handler errors","body":"<p>I am not sure to understand your question correctly.</p>\n<blockquote>\n<p>My question really comes down to: how do (or should) systems using Axon handle errors in these downstream event handlers?</p>\n</blockquote>\n<p>A downstream event handler (in which I assume a separate class implementing one or more <code>@EventHandler</code> methods) marks an event as &quot;consumed&quot; as soon as the annotated method terminates normally. If an exception is thrown during method execution, the event is considered not consumed. Axon keeps track, if configured to use a persistent token store, of handled events and retries when a previous request to handle an event by the EventHandler method fails. It keeps on trying until it eventually is consumed.</p>\n<blockquote>\n<p>With Axon, I understand that I can create a command, send it to the gateway, it then forwards it to the correct Aggregate, which then applies an event or two. The events are then persisted and optionally passed on to other event handlers.</p>\n</blockquote>\n<p>If you mean 'the events are then persisted' being events are persisted when the <code>AggregateLifecycle.apply</code> method is called passing the event as argument, then you are right. The event is then persisted in the event store on which other threads are &quot;scanning&quot; to inform <code>@EventHanlder</code> annotated methods.</p>\n<blockquote>\n<p>With Axon 4, I'm noticing that additional EventHandlers are being executed in a different thread to the one which handles the command, so presumably there is an expectation that the command has been completed successfully once the Aggregate's command handler method has applied the events (?)</p>\n</blockquote>\n<p>Correct! Keep in mind though that commands are &quot;fire and forget&quot;. They are not stored in some kind of command store. If a command handler cannot complete or fails for some reason, to bad... A retry should be done by sending a new command. Commands are a request to do some state changing action towards an aggregate but never change the state themselves. It is up to the aggregate to decide if this state update is allowed based on its current state. If so, the aggregate signals an event which will be stored in the event store. That event will again be captured by the aggregate's <code>@EventSourcingHandler</code> which updates the state. If the request in invalid, no event is applied and the command methods just terminated normally forgetting the command has ever been sent.</p>\n<p>Hope this clarifies some of your questions.</p>\n"}],"owner":{"account_id":23357571,"reputation":3,"user_id":17430337,"display_name":"newsoand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70762212,"answer_count":1,"score":0,"last_activity_date":1642539064,"creation_date":1637084880,"question_id":69993836,"body_markdown":"Apologies if this has already been covered, I am new to Axon, and I believe I have read through related Axon documentation and scanned through questions and not found anything which covers my question.\r\n\r\nHere is my query...\r\n\r\nWith Axon, I understand that I can create a command, send it to the gateway, it then forwards it to the correct Aggregate, which then *applies* an event or two. The events are then persisted and optionally passed on to *other* event handlers.\r\n\r\n(Please note in my case, I&#39;m using Spring Boot with an `EmbeddedEventStore`, a `SimpleCommandBus` and a `JdbcEventStorageEngine`).\r\n\r\nWith Axon 4, I&#39;m noticing that additional `EventHandler`s are being executed in a different thread to the one which handles the command, so presumably there is an expectation that the command has been completed successfully once the Aggregate&#39;s command handler method has applied the events (?)\r\n\r\nMy question really comes down to: how do (or should) systems using Axon handle errors in these downstream event handlers?\r\n\r\nFor example, a downstream handler may invoke another API - what should happen if that request fails, and is there anything built-in to Axon which provides a good convention for this?\r\n\r\nIn a non-CQRS/Axon based application, I imagine this would largely be performed by using an external message bus to host *event* messages and have consumers triggered based on new messages. XA transactions could be used to ensure data consistency (e.g. data written to DB, and message added to queue). I&#39;m not sure if XA transactions are still widely accepted anymore - given how microservices have become more prominent.\r\n\r\nWith Axon, I suspect the command has completed successfully, even if one of the downstream event handlers fails. I understand Axon is trying to completely separate the two concerns.\r\n\r\nPossible solution...?\r\n\r\nI could introduce an external Message bus or database to store failed events and retry them, but I cannot help but think this is duplicating what Axon is already doing - storing events and executing code in response to events. It would seem like a lot of work to serialize an event, send to a queue (which could also fail), only for it then to be consumed and then re-played within the application. I&#39;m not sure how I would re-invoke the same handlers even if I deserialized the same event to, say, an `EventMessage`.\r\n\r\nDoes anybody have any thoughts on this, please?\r\nPerhaps I&#39;m completely missing the point of CQRS and Axon, and going about things in the wrong way. Please correct if that&#39;s the case :).\r\n\r\nThanks","title":"Axon in Java app - reacting to event handler errors","body":"<p>Apologies if this has already been covered, I am new to Axon, and I believe I have read through related Axon documentation and scanned through questions and not found anything which covers my question.</p>\n<p>Here is my query...</p>\n<p>With Axon, I understand that I can create a command, send it to the gateway, it then forwards it to the correct Aggregate, which then <em>applies</em> an event or two. The events are then persisted and optionally passed on to <em>other</em> event handlers.</p>\n<p>(Please note in my case, I'm using Spring Boot with an <code>EmbeddedEventStore</code>, a <code>SimpleCommandBus</code> and a <code>JdbcEventStorageEngine</code>).</p>\n<p>With Axon 4, I'm noticing that additional <code>EventHandler</code>s are being executed in a different thread to the one which handles the command, so presumably there is an expectation that the command has been completed successfully once the Aggregate's command handler method has applied the events (?)</p>\n<p>My question really comes down to: how do (or should) systems using Axon handle errors in these downstream event handlers?</p>\n<p>For example, a downstream handler may invoke another API - what should happen if that request fails, and is there anything built-in to Axon which provides a good convention for this?</p>\n<p>In a non-CQRS/Axon based application, I imagine this would largely be performed by using an external message bus to host <em>event</em> messages and have consumers triggered based on new messages. XA transactions could be used to ensure data consistency (e.g. data written to DB, and message added to queue). I'm not sure if XA transactions are still widely accepted anymore - given how microservices have become more prominent.</p>\n<p>With Axon, I suspect the command has completed successfully, even if one of the downstream event handlers fails. I understand Axon is trying to completely separate the two concerns.</p>\n<p>Possible solution...?</p>\n<p>I could introduce an external Message bus or database to store failed events and retry them, but I cannot help but think this is duplicating what Axon is already doing - storing events and executing code in response to events. It would seem like a lot of work to serialize an event, send to a queue (which could also fail), only for it then to be consumed and then re-played within the application. I'm not sure how I would re-invoke the same handlers even if I deserialized the same event to, say, an <code>EventMessage</code>.</p>\n<p>Does anybody have any thoughts on this, please?\nPerhaps I'm completely missing the point of CQRS and Axon, and going about things in the wrong way. Please correct if that's the case :).</p>\n<p>Thanks</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1642415503,"post_id":70729952,"comment_id":125056188,"body_markdown":"Which string result do you want? The result of `contentAsString()`? Then why not map *before* filtering? `return hostList.stream() .map(Host::contentAsString) .filter(str -&gt; str.length() &gt; length) .toArray(String[]::new);`","body":"Which string result do you want? The result of <code>contentAsString()</code>? Then why not map <i>before</i> filtering? <code>return hostList.stream() .map(Host::contentAsString) .filter(str -&gt; str.length() &gt; length) .toArray(String[]::new);</code>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642538680,"creation_date":1642370122,"answer_id":70734490,"question_id":70729952,"body_markdown":"# Transform each object in stream\r\n\r\nYou are successfully streaming, filtering, and collecting a bunch of `Host` objects into an array. But you seem to be asking how to instead collect a *string representation* of each `Host` object.\r\n\r\nSo, you need to add a step to your streaming operations. For each `Host` object, we want to generate and collect a `String` object.\r\n\r\n## `Stream#map`\r\n\r\nTo transform from the objects being streamed to a different kind of object, use [`Stream#map`][1]. \r\n\r\nHere is an analog of your code, using [`LocalDate`][2]. We transform each filtered `LocalDate` object to a `String` object by passing a [method reference][3]: `LocalDate :: toString`. \r\n\r\n```java\r\nList &lt; LocalDate &gt; dates = new ArrayList&lt;&gt;( 4 ) ;\r\ndates.add( LocalDate.of( 2022 , Month.JANUARY, 11 ) ) ;\r\ndates.add( LocalDate.of( 2022 , Month.JANUARY, 12 ) ) ;\r\ndates.add( LocalDate.of( 2022 , Month.JANUARY, 13 ) ) ;\r\ndates.add( LocalDate.of( 2022 , Month.JANUARY, 14 ) ) ;\r\n\r\nString[] results = \r\n    dates\r\n    .stream()\r\n    .filter( localDate -&gt; localDate.getDayOfMonth() &gt; 12 )\r\n    .map( LocalDate :: toString )  // &#128072; \r\n    .toArray( String[] :: new ) ;\r\n\r\nSystem.out.println( &quot;results = &quot; + String.join( &quot;, &quot; , results ) ) ;\r\n```\r\n\r\nSee this [code run live at IdeOne.com][4].\r\n\r\n&gt;results = 2022-01-13, 2022-01-14\r\n\r\nI see you have a `contentAsString` method. I will guess that method returns the kind of text you want to collect.\r\n\r\nSo your code should be something like the following, passing method reference `Host :: contentAsString` to `Stream#map`. \r\n\r\n```java\r\nreturn \r\n    hostList\r\n    .stream()\r\n    .filter( str -&gt; str.contentAsString().length() &gt; length )\r\n    .map( host -&gt; Host::contentAsString )  // &#128072; Add this step.\r\n    .toArray( String[]::new );\r\n```\r\n\r\nThat code is effective but inefficient. No need to execute `contentAsString` method twice per input. We can fix this by putting the `map` call first, then filter based on the length of the already-produced string.\r\n\r\n```java\r\nreturn \r\n    hostList\r\n    .stream()\r\n    .map( host -&gt; Host::contentAsString )  // &#128072; Add this step.\r\n    .filter( string -&gt; string.length() &gt; length )  // &#128072; Change this step.\r\n    .toArray( String[]::new );\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [4]: https://ideone.com/BZFTkT","title":"Java filtering the object list to string array with stream","body":"<h1>Transform each object in stream</h1>\n<p>You are successfully streaming, filtering, and collecting a bunch of <code>Host</code> objects into an array. But you seem to be asking how to instead collect a <em>string representation</em> of each <code>Host</code> object.</p>\n<p>So, you need to add a step to your streaming operations. For each <code>Host</code> object, we want to generate and collect a <code>String</code> object.</p>\n<h2><code>Stream#map</code></h2>\n<p>To transform from the objects being streamed to a different kind of object, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Stream#map</code></a>.</p>\n<p>Here is an analog of your code, using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a>. We transform each filtered <code>LocalDate</code> object to a <code>String</code> object by passing a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method reference</a>: <code>LocalDate :: toString</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; LocalDate &gt; dates = new ArrayList&lt;&gt;( 4 ) ;\ndates.add( LocalDate.of( 2022 , Month.JANUARY, 11 ) ) ;\ndates.add( LocalDate.of( 2022 , Month.JANUARY, 12 ) ) ;\ndates.add( LocalDate.of( 2022 , Month.JANUARY, 13 ) ) ;\ndates.add( LocalDate.of( 2022 , Month.JANUARY, 14 ) ) ;\n\nString[] results = \n    dates\n    .stream()\n    .filter( localDate -&gt; localDate.getDayOfMonth() &gt; 12 )\n    .map( LocalDate :: toString )  // 👈 \n    .toArray( String[] :: new ) ;\n\nSystem.out.println( &quot;results = &quot; + String.join( &quot;, &quot; , results ) ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/BZFTkT\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>results = 2022-01-13, 2022-01-14</p>\n</blockquote>\n<p>I see you have a <code>contentAsString</code> method. I will guess that method returns the kind of text you want to collect.</p>\n<p>So your code should be something like the following, passing method reference <code>Host :: contentAsString</code> to <code>Stream#map</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return \n    hostList\n    .stream()\n    .filter( str -&gt; str.contentAsString().length() &gt; length )\n    .map( host -&gt; Host::contentAsString )  // 👈 Add this step.\n    .toArray( String[]::new );\n</code></pre>\n<p>That code is effective but inefficient. No need to execute <code>contentAsString</code> method twice per input. We can fix this by putting the <code>map</code> call first, then filter based on the length of the already-produced string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return \n    hostList\n    .stream()\n    .map( host -&gt; Host::contentAsString )  // 👈 Add this step.\n    .filter( string -&gt; string.length() &gt; length )  // 👈 Change this step.\n    .toArray( String[]::new );\n</code></pre>\n"}],"owner":{"account_id":17472465,"reputation":110,"user_id":12668030,"display_name":"Kheseyroon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70734490,"answer_count":1,"score":1,"last_activity_date":1642538680,"creation_date":1642335402,"question_id":70729952,"body_markdown":"I have a class like this\r\n```\r\npublic class Host {\r\n\r\n  private HTMLToken.TokenType type;\r\n  private StringBuilder content;\r\n\r\n  public Host(HTMLToken.TokenType type) {\r\n    this.type = type;\r\n    content = new StringBuilder();\r\n  }\r\n\r\n\r\n  String contentAsString() {\r\n    return content.toString();\r\n  }\r\n\r\n  void addStrig(String x) {\r\n    content.append(x);\r\n  }\r\n\r\n  public enum TokenType {\r\n    TAG, TEXT\r\n  }\r\n\r\n}\r\n```\r\nand static function like this\r\n\r\n```\r\n public static String[] filterLength(List&lt;Host&gt; hostList, int length) {\r\n    return hostList.stream().filter(str -&gt; str.contentAsString().length() &gt; length)\r\n        .toArray(String[]::new);\r\n  }\r\n```\r\n\r\nThe problem is inside of filterLength function I can&#39;t return stream as a String array(I want to return content in the Host class) because List holds Host object how can I return as a string in 1 line code?","title":"Java filtering the object list to string array with stream","body":"<p>I have a class like this</p>\n<pre><code>public class Host {\n\n  private HTMLToken.TokenType type;\n  private StringBuilder content;\n\n  public Host(HTMLToken.TokenType type) {\n    this.type = type;\n    content = new StringBuilder();\n  }\n\n\n  String contentAsString() {\n    return content.toString();\n  }\n\n  void addStrig(String x) {\n    content.append(x);\n  }\n\n  public enum TokenType {\n    TAG, TEXT\n  }\n\n}\n</code></pre>\n<p>and static function like this</p>\n<pre><code> public static String[] filterLength(List&lt;Host&gt; hostList, int length) {\n    return hostList.stream().filter(str -&gt; str.contentAsString().length() &gt; length)\n        .toArray(String[]::new);\n  }\n</code></pre>\n<p>The problem is inside of filterLength function I can't return stream as a String array(I want to return content in the Host class) because List holds Host object how can I return as a string in 1 line code?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8323,"page":1669,"page_size":100}
