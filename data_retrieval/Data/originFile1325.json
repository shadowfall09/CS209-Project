{"items":[{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1637347018,"post_id":70039299,"comment_id":123810836,"body_markdown":"Which point in the program do you expect to be able to break out of the loop?","body":"Which point in the program do you expect to be able to break out of the loop?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1637347192,"post_id":70039299,"comment_id":123810902,"body_markdown":"You are missing a negation in `while (name.contains(&quot;,&quot;) == false &amp;&amp; name.equalsIgnoreCase(&quot;q&quot;))` this should be `while (name.contains(&quot;,&quot;) == false &amp;&amp; !name.equalsIgnoreCase(&quot;q&quot;))` because you want the loop to only run when name is not `&quot;q&quot;`. And in your first loop you are only checking for comma: `while(name.contains(&quot;,&quot;) == false)` &lt;- Change this loop condition to also be the same as the other loop, so that it is also `while (name.contains(&quot;,&quot;) == false &amp;&amp; !name.equalsIgnoreCase(&quot;q&quot;))`","body":"You are missing a negation in <code>while (name.contains(&quot;,&quot;) == false &amp;&amp; name.equalsIgnoreCase(&quot;q&quot;))</code> this should be <code>while (name.contains(&quot;,&quot;) == false &amp;&amp; !name.equalsIgnoreCase(&quot;q&quot;))</code> because you want the loop to only run when name is not <code>&quot;q&quot;</code>. And in your first loop you are only checking for comma: <code>while(name.contains(&quot;,&quot;) == false)</code> &lt;- Change this loop condition to also be the same as the other loop, so that it is also <code>while (name.contains(&quot;,&quot;) == false &amp;&amp; !name.equalsIgnoreCase(&quot;q&quot;))</code>"}],"answers":[{"tags":[],"owner":{"account_id":2191726,"reputation":817,"user_id":1938574,"display_name":"Gregor Ophey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653263698,"creation_date":1637347677,"answer_id":70039579,"question_id":70039299,"body_markdown":"\r\nsometimes it is simpler to break out of an endless loop:\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class ParseStrings {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \r\n    \t\twhile (true) {\r\n    \t\t\tSystem.out.println(&quot;Enter input string (q to quit):&quot;);\r\n    \t\t\tString input = sc.nextLine();\r\n    \t\t\tif (&quot;q&quot;.equals(input.toLowerCase())) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t} else if (input.contains(&quot;,&quot;)) {\r\n    \t\t\t\tString[] splitting = input.split(&quot;,&quot;);\r\n    \t\t\t\tString first;\r\n    \t\t\t\tString second;\r\n    \t\t\t\tif (splitting[1].contains(&quot; &quot;)) {\r\n    \t\t\t\t\tfirst = splitting[0];\r\n    \t\t\t\t\tsecond = splitting[1].substring(\r\n    \t\t\t\t\t\t\tsplitting[1].indexOf(&#39; &#39;) + 1,\r\n    \t\t\t\t\t\t\tsplitting[1].length());\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tfirst = splitting[0];\r\n    \t\t\t\t\tsecond = splitting[1];\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println(&quot;First word: &quot; + first);\r\n    \t\t\t\tSystem.out.println(&quot;Second word: &quot; + second);\r\n    \t\t\t}\r\n    \r\n    \r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Thank you!&quot;);\r\n    \t\tsc.close();\r\n    \t}\r\n    }\r\n\r\n","title":"I can&#39;t get the while loop to break when the user inputs a q","body":"<p>sometimes it is simpler to break out of an endless loop:</p>\n<pre><code>import java.util.Scanner;\n\npublic class ParseStrings {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n\n        while (true) {\n            System.out.println(&quot;Enter input string (q to quit):&quot;);\n            String input = sc.nextLine();\n            if (&quot;q&quot;.equals(input.toLowerCase())) {\n                break;\n            } else if (input.contains(&quot;,&quot;)) {\n                String[] splitting = input.split(&quot;,&quot;);\n                String first;\n                String second;\n                if (splitting[1].contains(&quot; &quot;)) {\n                    first = splitting[0];\n                    second = splitting[1].substring(\n                            splitting[1].indexOf(' ') + 1,\n                            splitting[1].length());\n                } else {\n                    first = splitting[0];\n                    second = splitting[1];\n                }\n                System.out.println(&quot;First word: &quot; + first);\n                System.out.println(&quot;Second word: &quot; + second);\n            }\n\n\n        }\n        System.out.println(&quot;Thank you!&quot;);\n        sc.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23185142,"reputation":11,"user_id":17282390,"display_name":"Evan Zhang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653263698,"creation_date":1637346119,"question_id":70039299,"body_markdown":"```\r\nimport java.util.Scanner;\r\npublic class ParseStrings {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\r\n\t\tSystem.out.println(&quot;Enter input string:&quot;);\r\n\t\tString name = sc.nextLine();\r\n\r\n\t\twhile(name.contains(&quot;,&quot;) == false) {\r\n\t\t\tSystem.out.println(&quot;Error: No comma in string.&quot;);\r\n\t\t\tSystem.out.println(&quot;Enter input string:&quot;);\r\n\t\t\tname = sc.nextLine();\r\n\t\t}\r\n\r\n\t\twhile(!name.equals(&quot;q&quot;) &amp;&amp; !name.equalsIgnoreCase(&quot;q&quot;)) {\r\n\t\t\tString[] splitting = name.split(&quot;,&quot;);\r\n\t\t\tString first;\r\n\t\t\tString second;\r\n\t\t\t\r\n\t\t\tif(name.compareTo(&quot;q&quot;) == 1) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif(splitting[1].contains(&quot; &quot;)) {\r\n\t\t\t\tfirst = splitting[0];\r\n\t\t\t\tsecond = splitting[1].substring(splitting[1].indexOf(&#39; &#39;) + 1, splitting[1].length());\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfirst = splitting[0];\r\n\t\t\t\tsecond = splitting[1];\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(&quot;First word: &quot; + first);\r\n\t\t\tSystem.out.println(&quot;Second word: &quot; + second);\r\n\r\n\t\t\tSystem.out.println(&quot;Enter input string:&quot;);\r\n\t\t\tname = sc.nextLine();\r\n\t\t\twhile(name.contains(&quot;,&quot;) == false &amp;&amp; name.equalsIgnoreCase(&quot;q&quot;)) {\r\n\t\t\t\tSystem.out.println(&quot;Error: No comma in string.&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Enter input string:&quot;);\r\n\t\t\t\tname = sc.nextLine();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;Thank you!&quot;);\r\n\r\n\t\tsc.close();\r\n\t}\r\n}\r\n```\r\nI&#39;m trying to get this to work when the user inputs a q and it stops the while loop and says thank you at the end.\r\n\r\nI have tried so many different ways to do this already.","title":"I can&#39;t get the while loop to break when the user inputs a q","body":"<pre><code>import java.util.Scanner;\npublic class ParseStrings {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n\n        System.out.println(&quot;Enter input string:&quot;);\n        String name = sc.nextLine();\n\n        while(name.contains(&quot;,&quot;) == false) {\n            System.out.println(&quot;Error: No comma in string.&quot;);\n            System.out.println(&quot;Enter input string:&quot;);\n            name = sc.nextLine();\n        }\n\n        while(!name.equals(&quot;q&quot;) &amp;&amp; !name.equalsIgnoreCase(&quot;q&quot;)) {\n            String[] splitting = name.split(&quot;,&quot;);\n            String first;\n            String second;\n            \n            if(name.compareTo(&quot;q&quot;) == 1) {\n                break;\n            }\n\n            if(splitting[1].contains(&quot; &quot;)) {\n                first = splitting[0];\n                second = splitting[1].substring(splitting[1].indexOf(' ') + 1, splitting[1].length());\n            }\n            else {\n                first = splitting[0];\n                second = splitting[1];\n            }\n\n            System.out.println(&quot;First word: &quot; + first);\n            System.out.println(&quot;Second word: &quot; + second);\n\n            System.out.println(&quot;Enter input string:&quot;);\n            name = sc.nextLine();\n            while(name.contains(&quot;,&quot;) == false &amp;&amp; name.equalsIgnoreCase(&quot;q&quot;)) {\n                System.out.println(&quot;Error: No comma in string.&quot;);\n                System.out.println(&quot;Enter input string:&quot;);\n                name = sc.nextLine();\n            }\n        }\n        \n        System.out.println(&quot;Thank you!&quot;);\n\n        sc.close();\n    }\n}\n</code></pre>\n<p>I'm trying to get this to work when the user inputs a q and it stops the while loop and says thank you at the end.</p>\n<p>I have tried so many different ways to do this already.</p>\n"},{"tags":["java","plantuml"],"answers":[{"tags":[],"owner":{"account_id":4010822,"reputation":3327,"user_id":3304238,"display_name":"Frelling"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489674182,"creation_date":1489673061,"answer_id":42836314,"question_id":42693126,"body_markdown":"Given the `HeadlessException` it appears that your default Java installation is a headless version (i.e. has no support for keyboard, display, etc.); whereas, your IntelliJ installation is using a different Java installation.\r\n\r\nType `java -version` to see what information it returns. I&#39;d expect that it might be something to the tune of `openjdk-headless`. You may also want to check what other Java installations are available with `alternatives --config java` and select a more suitable one, if given.\r\n\r\nIf `alternatives` does not show a full version installation, you can either: 1) add the IntelliJ installation with `alternatives set java &lt;path_to_ij_install&gt;` or 2) use `yum` to install a full version.","title":"Lunching PlantUML JAR fails via terminal","body":"<p>Given the <code>HeadlessException</code> it appears that your default Java installation is a headless version (i.e. has no support for keyboard, display, etc.); whereas, your IntelliJ installation is using a different Java installation.</p>\n\n<p>Type <code>java -version</code> to see what information it returns. I'd expect that it might be something to the tune of <code>openjdk-headless</code>. You may also want to check what other Java installations are available with <code>alternatives --config java</code> and select a more suitable one, if given.</p>\n\n<p>If <code>alternatives</code> does not show a full version installation, you can either: 1) add the IntelliJ installation with <code>alternatives set java &lt;path_to_ij_install&gt;</code> or 2) use <code>yum</code> to install a full version.</p>\n"},{"tags":[],"owner":{"account_id":559579,"reputation":1149,"user_id":921859,"display_name":"Fumisky Wells"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653263603,"creation_date":1653263603,"answer_id":72342046,"question_id":42693126,"body_markdown":"In my case, I needed to pass &#39;-pipe&#39; option to plantuml as follows when passing text input from stdin:\r\n\r\n&gt; cat INPUT.txt | java -Djava.io.tmpdir=/var/tmp -Djava.awt.headless=true -jar /PATH/TO/plantuml.jar -pipe ...\r\n","title":"Lunching PlantUML JAR fails via terminal","body":"<p>In my case, I needed to pass '-pipe' option to plantuml as follows when passing text input from stdin:</p>\n<blockquote>\n<p>cat INPUT.txt | java -Djava.io.tmpdir=/var/tmp -Djava.awt.headless=true -jar /PATH/TO/plantuml.jar -pipe ...</p>\n</blockquote>\n"}],"owner":{"account_id":9850747,"reputation":85,"user_id":7296911,"accept_rate":29,"display_name":"Wickthor Battlecow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":968,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1653263603,"creation_date":1489056016,"question_id":42693126,"body_markdown":"I downloaded the PlantUML and tryed to run it via Terminal with the command &quot;java -jar /home/Victor/programms/plantUML/plantuml.jar&quot;.\r\n\r\nBut it always throws the following error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.awt.HeadlessException\r\n\tat java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:204)\r\n\tat java.awt.Window.&lt;init&gt;(Window.java:536)\r\n\tat java.awt.Frame.&lt;init&gt;(`Frame`.java:420)\r\n\tat javax.swing.JFrame.&lt;init&gt;(JFrame.java:233)\r\n\tat net.sourceforge.plantuml.swing.MainWindow2.&lt;init&gt;(MainWindow2.java:154)\r\n\tat net.sourceforge.plantuml.Run.main(Run.java:131)\r\n\r\nThe wired things is, when I import the jar to a project into IntelliJ and run it there, it works totally fine. \r\nWhat am I missing, what am I doing wrong.\r\nI&#39;m using Fedora (Linux)","title":"Lunching PlantUML JAR fails via terminal","body":"<p>I downloaded the PlantUML and tryed to run it via Terminal with the command \"java -jar /home/Victor/programms/plantUML/plantuml.jar\".</p>\n\n<p>But it always throws the following error:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.awt.HeadlessException\n      at java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:204)\n      at java.awt.Window.(Window.java:536)\n      at java.awt.Frame.(<code>Frame</code>.java:420)\n      at javax.swing.JFrame.(JFrame.java:233)\n      at net.sourceforge.plantuml.swing.MainWindow2.(MainWindow2.java:154)\n      at net.sourceforge.plantuml.Run.main(Run.java:131)</p>\n</blockquote>\n\n<p>The wired things is, when I import the jar to a project into IntelliJ and run it there, it works totally fine. \nWhat am I missing, what am I doing wrong.\nI'm using Fedora (Linux)</p>\n"},{"tags":["java","google-app-engine","objectify"],"answers":[{"tags":[],"owner":{"account_id":318652,"reputation":13503,"user_id":635982,"accept_rate":58,"display_name":"stickfigure"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653263550,"creation_date":1653263550,"answer_id":72342041,"question_id":72341632,"body_markdown":"If the transaction fails you will get an exception. If you don&#39;t handle the exception it will propagate.","title":"If my datastore transaction fails, will code after the transaction run?","body":"<p>If the transaction fails you will get an exception. If you don't handle the exception it will propagate.</p>\n"}],"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72342041,"answer_count":1,"score":0,"last_activity_date":1653263550,"creation_date":1653257581,"question_id":72341632,"body_markdown":"What happens if my datastore transaction fails and I have some more code that is supposed to run after it finishes? Does the application throw and error and end there? Will my second block of code run or will it never be reached?\r\n\r\n    ofy().transact(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            // Some code here.\r\n        }\r\n    });\r\n    \r\n    // Some more datastore code here. Will this be reached if the transact fails?","title":"If my datastore transaction fails, will code after the transaction run?","body":"<p>What happens if my datastore transaction fails and I have some more code that is supposed to run after it finishes? Does the application throw and error and end there? Will my second block of code run or will it never be reached?</p>\n<pre><code>ofy().transact(new Runnable() {\n    @Override\n    public void run() {\n        // Some code here.\n    }\n});\n\n// Some more datastore code here. Will this be reached if the transact fails?\n</code></pre>\n"},{"tags":["java","list","sorting","collections"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653262757,"creation_date":1653218747,"answer_id":72337136,"question_id":72337112,"body_markdown":"Use Java 8 methods of the `Comparator` interface [`comparing()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)) and [`thenComparing()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.function.Function)):\r\n\r\n```\r\nComparator&lt;Transactions&gt; byTypeAndTo = \r\n            Comparator.comparing(Transactions::getType)\r\n                .thenComparing(Transactions::getTo);\r\n```\r\n\r\nIn order to sort a list of objects, you can apply method `sort()` on it, available since Java 8:\r\n\r\n```\r\ntransactions.sort(byTypeAndTo);\r\n```\r\n\r\nYou can play around with this [Online demo](https://www.jdoodle.com/ia/r9y).\r\n\r\n*For more information on how to build comparators using Java 8, have a look at this* [*tutorial*](https://www.baeldung.com/java-8-comparator-comparing).\r\n\r\n&gt; But the last line of code gives an error:\r\n\r\nThe method signature is incorrect, I believe it should be:\r\n```\r\npublic void processTransactions(Collection&lt;Transactions&gt; ts)\r\n```\r\nDon&#39;t confuse utility class `Collections` with the `Collection` interface, and don&#39;t omit the generic type parameter.\r\n\r\nYou can invoke method `sort()` only on the object of type `List` (the same with `Collections.sort()` it expects a list and comparator).\r\n\r\nIn order to sort the list provided in the guise of `Collection` you need to apply casting. Since you have a requirement that you method should expect an argument of type `Collection` there&#39;s no other way around it (but it&#39;s not good design). That&#39;s how it might look like:\r\n```\r\npublic void processTransactions(Collection&lt;Transactions&gt; ts) {\r\n    if (!(ts instanceof List&lt;Transactions&gt;)) {\r\n        throw new IllegalArgumentException();\r\n    }\r\n    List&lt;Transactions&gt; transactions = (List&lt;Transactions&gt;) tr;\r\n    \r\n    transactions.sort(byTypeAndTo);\r\n\r\n    // process the `transactions` list\r\n}\r\n```\r\nNote: it&#39;s better to define a comparator inside the `Bank` class as a `public static final` field.","title":"How to sort a Collection of objects based on 2 properties","body":"<p>Use Java 8 methods of the <code>Comparator</code> interface <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>comparing()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>thenComparing()</code></a>:</p>\n<pre><code>Comparator&lt;Transactions&gt; byTypeAndTo = \n            Comparator.comparing(Transactions::getType)\n                .thenComparing(Transactions::getTo);\n</code></pre>\n<p>In order to sort a list of objects, you can apply method <code>sort()</code> on it, available since Java 8:</p>\n<pre><code>transactions.sort(byTypeAndTo);\n</code></pre>\n<p>You can play around with this <a href=\"https://www.jdoodle.com/ia/r9y\" rel=\"nofollow noreferrer\">Online demo</a>.</p>\n<p><em>For more information on how to build comparators using Java 8, have a look at this</em> <a href=\"https://www.baeldung.com/java-8-comparator-comparing\" rel=\"nofollow noreferrer\"><em>tutorial</em></a>.</p>\n<blockquote>\n<p>But the last line of code gives an error:</p>\n</blockquote>\n<p>The method signature is incorrect, I believe it should be:</p>\n<pre><code>public void processTransactions(Collection&lt;Transactions&gt; ts)\n</code></pre>\n<p>Don't confuse utility class <code>Collections</code> with the <code>Collection</code> interface, and don't omit the generic type parameter.</p>\n<p>You can invoke method <code>sort()</code> only on the object of type <code>List</code> (the same with <code>Collections.sort()</code> it expects a list and comparator).</p>\n<p>In order to sort the list provided in the guise of <code>Collection</code> you need to apply casting. Since you have a requirement that you method should expect an argument of type <code>Collection</code> there's no other way around it (but it's not good design). That's how it might look like:</p>\n<pre><code>public void processTransactions(Collection&lt;Transactions&gt; ts) {\n    if (!(ts instanceof List&lt;Transactions&gt;)) {\n        throw new IllegalArgumentException();\n    }\n    List&lt;Transactions&gt; transactions = (List&lt;Transactions&gt;) tr;\n    \n    transactions.sort(byTypeAndTo);\n\n    // process the `transactions` list\n}\n</code></pre>\n<p>Note: it's better to define a comparator inside the <code>Bank</code> class as a <code>public static final</code> field.</p>\n"}],"owner":{"account_id":17132619,"reputation":31,"user_id":12398385,"display_name":"Vecta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1653223948,"accepted_answer_id":72337136,"answer_count":1,"score":0,"last_activity_date":1653262757,"creation_date":1653218519,"question_id":72337112,"body_markdown":"I have a class like this:\r\n\r\n    \tstatic class Transactions{\r\n\t\tprivate int type;\r\n\t\tprivate String to;\r\n\t\tprivate String from;\r\n\t\tprivate double amount;\r\n\t\tpublic Transactions (int type, String to, String from, double amount) {\r\n\t\t\tif(type&gt;=1 || type&lt;=3) {\r\n\t\t\t\tthis.type=type;\r\n\t\t\t\tthis.to=to;\r\n\t\t\t\tthis.from=from;\r\n\t\t\t\tthis.amount=amount;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tthrow new InvalidParamaterException(type);\r\n\t\t}\r\n    //This is for deposits and withdrawal\r\n\t\tpublic Transactions (int type, String para, double amount) {\r\n\t\t\t\r\n\t\t}\r\n\t\tpublic int getType() {\r\n\t\t\treturn type;\r\n\t\t}\r\n\t\tpublic String getTo() {\r\n\t\t\treturn to;\r\n\t\t}\r\n\t\tpublic String getFrom() {\r\n\t\t\treturn from;\r\n\t\t}\r\n\t\tpublic double getAmount() {\r\n\t\t\treturn amount;\r\n\t\t}\r\n\t\t\r\n\t\t\t\r\n\t\t}\r\n \r\n\tstatic class Bank {\r\n\tprivate String Name;\r\n\tprivate ArrayList&lt;Customer&gt; customers = new ArrayList&lt;&gt;();\r\n    private ArrayList&lt;Company&gt; companies = new ArrayList&lt;&gt;();\r\n    private ArrayList&lt;Account&gt; accounts = new ArrayList&lt;&gt;();\r\n\tprivate String Address;\r\n\tpublic Bank(String Name, String Address) {\r\n\t\tthis.Name=Name;\r\n\t\tthis.Address=Address;\r\n\t}\r\n\tpublic void processTransactions(Collections ts) {\r\n\t\tComparator&lt;Transactions&gt; byTypeAndTo = \r\n\t            Comparator.comparing(Transactions::getType)\r\n\t                .thenComparing(Transactions::getTo);\r\n\t\tts.sort(byTypeAndTo);\r\n\t}\r\n\r\n\r\nWhat I want to do is create a `Transactions` collection and then sort that collection by `type`. Type only have values `1`, `2`, `3`, and sorting should happen in that order.\r\n\r\nIf two transactions have the same type, I want to sort them by `String` attribute `to` (*that is an account number, so it is all numerical*).\r\n\r\nHow can I sort a collection with two parameters like this?\r\n\r\n`processTransactions()` method should take unsorted collection as a parameter, sort them and process them. \r\n\r\nBut the last line of code gives an error:\r\n```\r\nThe method sort(List&lt;T&gt;) in the type Collections is not \r\napplicable for the arguments (Comparator&lt;Assignment02_20190808022.Transactions&gt;)\r\n```","title":"How to sort a Collection of objects based on 2 properties","body":"<p>I have a class like this:</p>\n<pre><code>    static class Transactions{\n    private int type;\n    private String to;\n    private String from;\n    private double amount;\n    public Transactions (int type, String to, String from, double amount) {\n        if(type&gt;=1 || type&lt;=3) {\n            this.type=type;\n            this.to=to;\n            this.from=from;\n            this.amount=amount;\n        }\n        else\n            throw new InvalidParamaterException(type);\n    }\n//This is for deposits and withdrawal\n    public Transactions (int type, String para, double amount) {\n        \n    }\n    public int getType() {\n        return type;\n    }\n    public String getTo() {\n        return to;\n    }\n    public String getFrom() {\n        return from;\n    }\n    public double getAmount() {\n        return amount;\n    }\n    \n        \n    }\n\nstatic class Bank {\nprivate String Name;\nprivate ArrayList&lt;Customer&gt; customers = new ArrayList&lt;&gt;();\nprivate ArrayList&lt;Company&gt; companies = new ArrayList&lt;&gt;();\nprivate ArrayList&lt;Account&gt; accounts = new ArrayList&lt;&gt;();\nprivate String Address;\npublic Bank(String Name, String Address) {\n    this.Name=Name;\n    this.Address=Address;\n}\npublic void processTransactions(Collections ts) {\n    Comparator&lt;Transactions&gt; byTypeAndTo = \n            Comparator.comparing(Transactions::getType)\n                .thenComparing(Transactions::getTo);\n    ts.sort(byTypeAndTo);\n}\n</code></pre>\n<p>What I want to do is create a <code>Transactions</code> collection and then sort that collection by <code>type</code>. Type only have values <code>1</code>, <code>2</code>, <code>3</code>, and sorting should happen in that order.</p>\n<p>If two transactions have the same type, I want to sort them by <code>String</code> attribute <code>to</code> (<em>that is an account number, so it is all numerical</em>).</p>\n<p>How can I sort a collection with two parameters like this?</p>\n<p><code>processTransactions()</code> method should take unsorted collection as a parameter, sort them and process them.</p>\n<p>But the last line of code gives an error:</p>\n<pre><code>The method sort(List&lt;T&gt;) in the type Collections is not \napplicable for the arguments (Comparator&lt;Assignment02_20190808022.Transactions&gt;)\n</code></pre>\n"},{"tags":["java","interface","callback","inner-classes"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1653126057,"post_id":72328210,"comment_id":127778530,"body_markdown":"How do you think this code should be written, without an inner class?","body":"How do you think this code should be written, without an inner class?"},{"owner":{"account_id":25349581,"reputation":1,"user_id":19166645,"display_name":"Curious"},"score":0,"creation_date":1653126508,"post_id":72328210,"comment_id":127778606,"body_markdown":"Thanks for noticing！ Just implement the Incrementable interface for class Callee， and comment out everything about inner class Closure. The code compiles and the output is the same @Sweeper","body":"Thanks for noticing！ Just implement the Incrementable interface for class Callee， and comment out everything about inner class Closure. The code compiles and the output is the same @Sweeper"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653148666,"post_id":72328210,"comment_id":127782931,"body_markdown":"Spelling: [Eckel](https://en.m.wikipedia.org/wiki/Bruce_Eckel)","body":"Spelling: <a href=\"https://en.m.wikipedia.org/wiki/Bruce_Eckel\" rel=\"nofollow noreferrer\">Eckel</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1653216994,"post_id":72328210,"comment_id":127792701,"body_markdown":"You use this pattern if you do not want to implement `Incrementable` in `Callee2`.","body":"You use this pattern if you do not want to implement <code>Incrementable</code> in <code>Callee2</code>."},{"owner":{"account_id":25349581,"reputation":1,"user_id":19166645,"display_name":"Curious"},"score":0,"creation_date":1653261345,"post_id":72328210,"comment_id":127801535,"body_markdown":"@MarkRotteveel I can get that. But I don&#39;t understand why the author emphasizes that you&#39;re forced to use inner class instead of implementing the interface.","body":"@MarkRotteveel I can get that. But I don&#39;t understand why the author emphasizes that you&#39;re forced to use inner class instead of implementing the interface."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1653270821,"post_id":72328210,"comment_id":127802622,"body_markdown":"Because the purpose of the example is to show you how to evade implementing the interface in the outer class, if you do not want to, as @MarkRotteveel has already stated.","body":"Because the purpose of the example is to show you how to evade implementing the interface in the outer class, if you do not want to, as @MarkRotteveel has already stated."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1653293336,"post_id":72328210,"comment_id":127806991,"body_markdown":"The text you quote explains why: the `increment()` method `Callee2` inherited from `MyIncrement` does something else than an `Incrementable.increment()` is supposed to do. The purpose of the example is to show what you can do in situations where direct inheritance is not possible (or not desired for other design reasons). In that way, it shows the benefit/use case for inner classes.","body":"The text you quote explains why: the <code>increment()</code> method <code>Callee2</code> inherited from <code>MyIncrement</code> does something else than an <code>Incrementable.increment()</code> is supposed to do. The purpose of the example is to show what you can do in situations where direct inheritance is not possible (or not desired for other design reasons). In that way, it shows the benefit/use case for inner classes."}],"owner":{"account_id":25349581,"reputation":1,"user_id":19166645,"display_name":"Curious"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653261203,"creation_date":1653124634,"question_id":72328210,"body_markdown":"Bruce Eckel gives the following example in Chapter Inner Classed of the book On Java 8 to demonstrate the necessity of using an inner class instead of implementing an interface. But I found the code works fine without the inner class. The code seems to compile and give the same result if you just implement the Incrementable interface for Callee2. Does Bruce Eckel gives an inappropriate example or do I miss something?\r\n    \r\n    package innerclasses;\r\n    \r\n    interface Incrementable {\r\n    \tvoid increment();\r\n    }\r\n    \r\n    // Very simple to just implement the interface:\r\n    class Callee1 implements Incrementable {\r\n    \tprivate int i = 0;\r\n    \t\r\n    \t@Override\r\n    \tpublic void increment() {\r\n    \t\ti++;\r\n    \t\tSystem.out.println(i);\r\n    \t}\r\n    }\r\n    \r\n    class MyIncrement {\r\n    \tpublic void increment() {\r\n    \t\tSystem.out.println(&quot;Other operation&quot;);\r\n    \t}\r\n    \t\r\n    \tstatic void f(MyIncrement mi) {\r\n    \t\tmi.increment();\r\n    \t}\r\n    }\r\n    \r\n    // If your class must implement increment() in\r\n    // some other way, you must use an inner class:\r\n    //Why not just implement Incremetable??? I don&#39;t get it\r\n    class Callee2 extends MyIncrement {\r\n    \tprivate int i = 0;\r\n    \t\r\n    \t@Override\r\n    \tpublic void increment() {\r\n    \t\tsuper.increment();\r\n    \t\ti++;\r\n    \t\tSystem.out.println(i);\r\n    \t}\r\n    \t\r\n    \tprivate class Closure implements Incrementable {\r\n    \t\t@Override\r\n    \t\tpublic void increment() {\r\n    \t\t\t// Specify outer-class method, otherwise\r\n    \t\t\t// you&#39;ll get an infinite recursion:\r\n    \t\t\tCallee2.this.increment();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tIncrementable getCallbackReference() {\r\n    \t\treturn new Closure();\r\n    \t}\r\n    }\r\n    \r\n    class Caller {\r\n    \tprivate Incrementable callbackReference;\r\n    \t\r\n    \tCaller(Incrementable cbh) {\r\n    \t\tcallbackReference = cbh;\r\n    \t}\r\n    \t\r\n    \tvoid go() {\r\n    \t\tcallbackReference.increment();\r\n    \t}\r\n    }\r\n    \r\n    public class Callbacks {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tCallee1 c1 = new Callee1();\r\n    \t\tCallee2 c2 = new Callee2();\r\n    \t\tMyIncrement.f(c2);\r\n    \t\tCaller caller1 = new Caller(c1);\r\n    \t\tCaller caller2 = new Caller(c2.getCallbackReference());\r\n    \t\tcaller1.go();\r\n    \t\tcaller1.go();\r\n    \t\tcaller2.go();\r\n    \t\tcaller2.go();\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n&lt;pre&gt;\r\nOther operation\r\n1\r\n1\r\n2\r\nOther operation\r\n2\r\nOther operation\r\n3\r\n&lt;/pre&gt;   \r\n    \r\nWhy not just implement the Incrementable interface for class Callee2? I tried that and it seems to work out fine.\r\n    \r\n    ...\r\n    class Callee2 extends MyIncrement implements Incrementable{\r\n        ...\r\n        // everything remains the same just comment out the inner class \r\n        // closure\r\n    }\r\n\r\nIn the book Bruce Eckel says:\r\n\r\n&gt;This shows a further distinction between implementing an interface in an outer class versus doing so in an inner class. Callee1 is clearly the simpler solution in terms of the code. Callee2 inherits from MyIncrement, which already has a different increment() method that does something unrelated to the one expected by the Incrementable interface. ***When MyIncrement is inherited into Callee2, increment() can’t be overridden for use by Incrementable, so you’re forced to provide a separate implementation using an inner class.***\r\n\r\n\r\nI didn&#39;t see why I&#39;m ***forced to*** use inner class since implementing the interface provides the exact same output. Could you please explain how the code may behave differently without the inner class?","title":"Inner class seems unnecessary in the example given in On Java 8 by Bruce Eckel","body":"<p>Bruce Eckel gives the following example in Chapter Inner Classed of the book On Java 8 to demonstrate the necessity of using an inner class instead of implementing an interface. But I found the code works fine without the inner class. The code seems to compile and give the same result if you just implement the Incrementable interface for Callee2. Does Bruce Eckel gives an inappropriate example or do I miss something?</p>\n<pre><code>package innerclasses;\n\ninterface Incrementable {\n    void increment();\n}\n\n// Very simple to just implement the interface:\nclass Callee1 implements Incrementable {\n    private int i = 0;\n    \n    @Override\n    public void increment() {\n        i++;\n        System.out.println(i);\n    }\n}\n\nclass MyIncrement {\n    public void increment() {\n        System.out.println(&quot;Other operation&quot;);\n    }\n    \n    static void f(MyIncrement mi) {\n        mi.increment();\n    }\n}\n\n// If your class must implement increment() in\n// some other way, you must use an inner class:\n//Why not just implement Incremetable??? I don't get it\nclass Callee2 extends MyIncrement {\n    private int i = 0;\n    \n    @Override\n    public void increment() {\n        super.increment();\n        i++;\n        System.out.println(i);\n    }\n    \n    private class Closure implements Incrementable {\n        @Override\n        public void increment() {\n            // Specify outer-class method, otherwise\n            // you'll get an infinite recursion:\n            Callee2.this.increment();\n        }\n    }\n    \n    Incrementable getCallbackReference() {\n        return new Closure();\n    }\n}\n\nclass Caller {\n    private Incrementable callbackReference;\n    \n    Caller(Incrementable cbh) {\n        callbackReference = cbh;\n    }\n    \n    void go() {\n        callbackReference.increment();\n    }\n}\n\npublic class Callbacks {\n    public static void main(String[] args) {\n        Callee1 c1 = new Callee1();\n        Callee2 c2 = new Callee2();\n        MyIncrement.f(c2);\n        Caller caller1 = new Caller(c1);\n        Caller caller2 = new Caller(c2.getCallbackReference());\n        caller1.go();\n        caller1.go();\n        caller2.go();\n        caller2.go();\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre>\nOther operation\n1\n1\n2\nOther operation\n2\nOther operation\n3\n</pre>   \n<p>Why not just implement the Incrementable interface for class Callee2? I tried that and it seems to work out fine.</p>\n<pre><code>...\nclass Callee2 extends MyIncrement implements Incrementable{\n    ...\n    // everything remains the same just comment out the inner class \n    // closure\n}\n</code></pre>\n<p>In the book Bruce Eckel says:</p>\n<blockquote>\n<p>This shows a further distinction between implementing an interface in an outer class versus doing so in an inner class. Callee1 is clearly the simpler solution in terms of the code. Callee2 inherits from MyIncrement, which already has a different increment() method that does something unrelated to the one expected by the Incrementable interface. <em><strong>When MyIncrement is inherited into Callee2, increment() can’t be overridden for use by Incrementable, so you’re forced to provide a separate implementation using an inner class.</strong></em></p>\n</blockquote>\n<p>I didn't see why I'm <em><strong>forced to</strong></em> use inner class since implementing the interface provides the exact same output. Could you please explain how the code may behave differently without the inner class?</p>\n"},{"tags":["java","android","database","sqlite","android-studio"],"answers":[{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653260315,"creation_date":1653257222,"answer_id":72341599,"question_id":72341317,"body_markdown":"Creating a polygon is simply a matter of invoking the API as described here: https://developers.google.com/maps/documentation/android-sdk/reference/com/google/android/libraries/maps/model/Polygon\r\n\r\nIn your case, you are almost there - modify your `onMapReady` - you can leave the markers if you wish (they will be positioned at the vertices):\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n\r\n            PolygonOptions po = new PolygonOptions();\r\n\r\n            // Place the Markers on the Map\r\n            for (String[] pos : IDs) {\r\n                LatLng tmp = new LatLng(Double.parseDouble(pos[0]), Double.parseDouble(pos[1]));\r\n                googleMap.addMarker(new MarkerOptions().position(tmp).title(&quot;ID:&quot; + pos[2]).icon(BitmapDescriptorFactory.defaultMarker(new Random().nextInt(360))));\r\n                po.add(tmp);\r\n            }\r\n            // set some polygon attributes for display\r\n            po.strokeColor(Color.RED);\r\n            po.fillColor(Color.BLUE);\r\n            Polygon myFirstPolygon = googleMap.addPolygon(po);\r\n\r\n            // here you can add back the camera update - just one!\r\n            // also see the &quot;newLatLngZoom&quot; for camera update \r\n\r\n\r\n    }\r\n}\r\n\r\nNOTE 1: you should complete the database read ops before invoking the `mapFragment.getMapAsync(this);` as there may be a race condition otherwise.  (Just move it to the end of `onCreate`).\r\n\r\nNOTE 2: I removed the camera updates since it would not make sense moving it for each marker/vertice.\r\n\r\nNOTE 3:  See https://developers.google.com/maps/documentation/android-sdk/reference/com/google/android/libraries/maps/CameraUpdateFactory#public-static-cameraupdate-newlatlngzoom-latlng-latlng,-float-zoom for a camera update with position and zoom in one.\r\n\r\nNOTE 4: You can use this answer to get an approximate polygon center using `LatLngBounds` provided you want to move the camera to the center: https://stackoverflow.com/a/27601389/17856705 .\r\n","title":"Create a Polygon in Google Maps with Coordinates from a SQLite Database Android","body":"<p>Creating a polygon is simply a matter of invoking the API as described here: <a href=\"https://developers.google.com/maps/documentation/android-sdk/reference/com/google/android/libraries/maps/model/Polygon\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/android-sdk/reference/com/google/android/libraries/maps/model/Polygon</a></p>\n<p>In your case, you are almost there - modify your <code>onMapReady</code> - you can leave the markers if you wish (they will be positioned at the vertices):</p>\n<pre><code>@Override\npublic void onMapReady(GoogleMap googleMap) {\n\n        PolygonOptions po = new PolygonOptions();\n\n        // Place the Markers on the Map\n        for (String[] pos : IDs) {\n            LatLng tmp = new LatLng(Double.parseDouble(pos[0]), Double.parseDouble(pos[1]));\n            googleMap.addMarker(new MarkerOptions().position(tmp).title(&quot;ID:&quot; + pos[2]).icon(BitmapDescriptorFactory.defaultMarker(new Random().nextInt(360))));\n            po.add(tmp);\n        }\n        // set some polygon attributes for display\n        po.strokeColor(Color.RED);\n        po.fillColor(Color.BLUE);\n        Polygon myFirstPolygon = googleMap.addPolygon(po);\n\n        // here you can add back the camera update - just one!\n        // also see the &quot;newLatLngZoom&quot; for camera update \n\n\n}\n</code></pre>\n<p>}</p>\n<p>NOTE 1: you should complete the database read ops before invoking the <code>mapFragment.getMapAsync(this);</code> as there may be a race condition otherwise.  (Just move it to the end of <code>onCreate</code>).</p>\n<p>NOTE 2: I removed the camera updates since it would not make sense moving it for each marker/vertice.</p>\n<p>NOTE 3:  See <a href=\"https://developers.google.com/maps/documentation/android-sdk/reference/com/google/android/libraries/maps/CameraUpdateFactory#public-static-cameraupdate-newlatlngzoom-latlng-latlng,-float-zoom\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/android-sdk/reference/com/google/android/libraries/maps/CameraUpdateFactory#public-static-cameraupdate-newlatlngzoom-latlng-latlng,-float-zoom</a> for a camera update with position and zoom in one.</p>\n<p>NOTE 4: You can use this answer to get an approximate polygon center using <code>LatLngBounds</code> provided you want to move the camera to the center: <a href=\"https://stackoverflow.com/a/27601389/17856705\">https://stackoverflow.com/a/27601389/17856705</a> .</p>\n"}],"owner":{"account_id":20261854,"reputation":83,"user_id":14860025,"display_name":"Argaros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72341599,"answer_count":1,"score":1,"last_activity_date":1653260315,"creation_date":1653253799,"question_id":72341317,"body_markdown":"I want to create a Polygon in Google Maps with Coordinates out of my SQLite Database. My Code can already create multiple Markers with Coordinates out of my Database. The Database contains an ID, E-Coordinates and N-Coordinates. I tried it with a Query like I did it with the markers but it wont work :/\r\nCan somebody help me to solve this problem?\r\n(The Code below is working 100%)\r\nThanks for the help!\r\n\r\nDatabase:\r\n```\r\n// This is only a part of the database\r\npublic class DBHelper extends SQLiteOpenHelper {\r\n    public static final String KEY_ID = &quot;key_id&quot;;\r\n    public static final String KEY_E_COORDINATES = &quot;e_coordinates&quot;;\r\n    public static final String KEY_N_COORDINATES = &quot;n_coordinates&quot;;\r\n    public DBHelper(Context context) {super(context, DATABASE_NAME, null,DATABASE_VERSION);}\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n           db.execSQL(&quot;create table &quot; + TABLE_FINDS + &quot;(&quot;\r\n                       + KEY_ID + &quot; text, &quot;\r\n                       + KEY_E_COORDINATES + &quot; text, &quot;\r\n                       + KEY_N_COORDINATES + &quot; text, &quot;\r\n                       + &quot;)&quot;);\r\n```\r\n\r\n\r\n\r\n\r\nMapsActivity:\r\n``` \r\npublic class MapsActivity extends AppCompatActivity implements OnMapReadyCallback {\r\n\r\n    private GoogleMap mMap;\r\n    ArrayList&lt;String[]&gt; IDs = new ArrayList&lt;String[]&gt;();\r\n    DBHelper dbHelper;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.fragment_map);\r\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n\r\n        dbHelper = new DBHelper(mapFragment.getContext());\r\n        String[] columns = {DBHelper.KEY_AREA};\r\n\r\n        SQLiteDatabase database = dbHelper.getWritableDatabase();                  //SQLiteDB\r\n        ContentValues contentValues = new ContentValues();\r\n        String selectQuery = &quot;SELECT key_id,e_coordinates,n_coordinates FROM  finds &quot;;\r\n        // Select the Coordinates with IDs from the Table and save it in tmp\r\n        Cursor cursor = database.rawQuery(selectQuery, null);\r\n\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                String[] tmp = new String[3];\r\n                tmp[0] = cursor.getString(cursor.getColumnIndexOrThrow(DBHelper.KEY_E_COORDINATES));\r\n                tmp[1] = cursor.getString(cursor.getColumnIndexOrThrow(DBHelper.KEY_N_COORDINATES));\r\n                tmp[2] = cursor.getString(cursor.getColumnIndexOrThrow(DBHelper.KEY_ID));\r\n                IDs.add(tmp);\r\n\r\n            }\r\n            while (cursor.moveToNext());\r\n        } else\r\n            Log.d(&quot;mLog&quot;, &quot;0 rows&quot;);\r\n        cursor.close();\r\n\r\n    }\r\n@Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n            // Place the Markers on the Map\r\n            for (String[] pos : IDs) {\r\n            LatLng tmp = new LatLng(Double.parseDouble(pos[0]), Double.parseDouble(pos[1]));\r\n            googleMap.addMarker(new MarkerOptions().position(tmp).title(&quot;ID:&quot; + pos[2]).icon(BitmapDescriptorFactory.defaultMarker(new Random().nextInt(360))));\r\n            googleMap.moveCamera(CameraUpdateFactory.newLatLng(tmp));\r\n            googleMap.moveCamera(CameraUpdateFactory.zoomTo(17.0f));\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Create a Polygon in Google Maps with Coordinates from a SQLite Database Android","body":"<p>I want to create a Polygon in Google Maps with Coordinates out of my SQLite Database. My Code can already create multiple Markers with Coordinates out of my Database. The Database contains an ID, E-Coordinates and N-Coordinates. I tried it with a Query like I did it with the markers but it wont work :/\nCan somebody help me to solve this problem?\n(The Code below is working 100%)\nThanks for the help!</p>\n<p>Database:</p>\n<pre><code>// This is only a part of the database\npublic class DBHelper extends SQLiteOpenHelper {\n    public static final String KEY_ID = &quot;key_id&quot;;\n    public static final String KEY_E_COORDINATES = &quot;e_coordinates&quot;;\n    public static final String KEY_N_COORDINATES = &quot;n_coordinates&quot;;\n    public DBHelper(Context context) {super(context, DATABASE_NAME, null,DATABASE_VERSION);}\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n           db.execSQL(&quot;create table &quot; + TABLE_FINDS + &quot;(&quot;\n                       + KEY_ID + &quot; text, &quot;\n                       + KEY_E_COORDINATES + &quot; text, &quot;\n                       + KEY_N_COORDINATES + &quot; text, &quot;\n                       + &quot;)&quot;);\n</code></pre>\n<p>MapsActivity:</p>\n<pre><code>public class MapsActivity extends AppCompatActivity implements OnMapReadyCallback {\n\n    private GoogleMap mMap;\n    ArrayList&lt;String[]&gt; IDs = new ArrayList&lt;String[]&gt;();\n    DBHelper dbHelper;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.fragment_map);\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n\n        dbHelper = new DBHelper(mapFragment.getContext());\n        String[] columns = {DBHelper.KEY_AREA};\n\n        SQLiteDatabase database = dbHelper.getWritableDatabase();                  //SQLiteDB\n        ContentValues contentValues = new ContentValues();\n        String selectQuery = &quot;SELECT key_id,e_coordinates,n_coordinates FROM  finds &quot;;\n        // Select the Coordinates with IDs from the Table and save it in tmp\n        Cursor cursor = database.rawQuery(selectQuery, null);\n\n        if (cursor.moveToFirst()) {\n            do {\n                String[] tmp = new String[3];\n                tmp[0] = cursor.getString(cursor.getColumnIndexOrThrow(DBHelper.KEY_E_COORDINATES));\n                tmp[1] = cursor.getString(cursor.getColumnIndexOrThrow(DBHelper.KEY_N_COORDINATES));\n                tmp[2] = cursor.getString(cursor.getColumnIndexOrThrow(DBHelper.KEY_ID));\n                IDs.add(tmp);\n\n            }\n            while (cursor.moveToNext());\n        } else\n            Log.d(&quot;mLog&quot;, &quot;0 rows&quot;);\n        cursor.close();\n\n    }\n@Override\n    public void onMapReady(GoogleMap googleMap) {\n            // Place the Markers on the Map\n            for (String[] pos : IDs) {\n            LatLng tmp = new LatLng(Double.parseDouble(pos[0]), Double.parseDouble(pos[1]));\n            googleMap.addMarker(new MarkerOptions().position(tmp).title(&quot;ID:&quot; + pos[2]).icon(BitmapDescriptorFactory.defaultMarker(new Random().nextInt(360))));\n            googleMap.moveCamera(CameraUpdateFactory.newLatLng(tmp));\n            googleMap.moveCamera(CameraUpdateFactory.zoomTo(17.0f));\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1466180784,"post_id":37886173,"comment_id":63227125,"body_markdown":"OS?  That matters here.","body":"OS?  That matters here."},{"owner":{"account_id":5789931,"reputation":793,"user_id":4567788,"accept_rate":89,"display_name":"Kyle"},"score":0,"creation_date":1466181099,"post_id":37886173,"comment_id":63227289,"body_markdown":"Windows 10, I&#39;m not going to be surprised if it&#39;s Windows causing the issue","body":"Windows 10, I&#39;m not going to be surprised if it&#39;s Windows causing the issue"}],"answers":[{"tags":[],"owner":{"account_id":5789931,"reputation":793,"user_id":4567788,"accept_rate":89,"display_name":"Kyle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466215980,"creation_date":1466215980,"answer_id":37892629,"question_id":37886173,"body_markdown":"So for everyone wondering, the issue lies in OBS Classic where the File seems to be restricted and not shared.\r\nThe developer Jim as instructed me to change the Source/MP4FileStream.cpp line 154 to \r\n\r\n    if(!fileOut.Open(lpFile, XFILE_SHARED, 1024*1024))\r\n\r\nWhere the shared should allow the file to be open for reading, OBS Studio doesn&#39;t follow suit on this problem.","title":"Open File For Reading Thats Being Written To By OBS","body":"<p>So for everyone wondering, the issue lies in OBS Classic where the File seems to be restricted and not shared.\nThe developer Jim as instructed me to change the Source/MP4FileStream.cpp line 154 to </p>\n\n<pre><code>if(!fileOut.Open(lpFile, XFILE_SHARED, 1024*1024))\n</code></pre>\n\n<p>Where the shared should allow the file to be open for reading, OBS Studio doesn't follow suit on this problem.</p>\n"}],"owner":{"account_id":5789931,"reputation":793,"user_id":4567788,"accept_rate":89,"display_name":"Kyle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1653259965,"creation_date":1466180475,"question_id":37886173,"body_markdown":"For anyone that&#39;s familiar with the open streaming software OBS (Open Broadcast Software), you would know they have a Start Recording( Live Capture ) feature. \r\n\r\nI want to grab that live capture and read in it&#39;s bytes for further manipulation on my end without toying with the actual file being created.\r\n\r\nThe problem persists in that the error message (The process cannot access the file because it is being used by another process) is being presented and it always errors on: \r\n\r\n```java\r\nFileInputStream fis = new FileInputStream(file);\r\n```\r\n\r\nFile being the location to the live file being written to.\r\n\r\nI was wondering what possible work arounds could there be? If the file is open for writing and possibly reading, shouldn&#39;t I have access to it only for reading purposes? I have also tried BufferedReader as well to combat this issue. \r\n\r\n---\r\n\r\nVLC gave this error when trying to open it as well, could be a simple permission block?\r\n\r\n```\r\nFile reading failed:\r\nVLC could not open the file &quot;D:\\Raw Clips\\Local Recordings\\Hello(01).flv&quot; (Permission denied).\r\n\r\nYour input can&#39;t be opened:\r\nVLC is unable to open the MRL &#39;file:///D:/Raw%20Clips/Local%20Recordings/Hello%20%2801%29.flv&#39;. Check the log for details.\r\n```","title":"Open File For Reading Thats Being Written To By OBS","body":"<p>For anyone that's familiar with the open streaming software OBS (Open Broadcast Software), you would know they have a Start Recording( Live Capture ) feature.</p>\n<p>I want to grab that live capture and read in it's bytes for further manipulation on my end without toying with the actual file being created.</p>\n<p>The problem persists in that the error message (The process cannot access the file because it is being used by another process) is being presented and it always errors on:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileInputStream fis = new FileInputStream(file);\n</code></pre>\n<p>File being the location to the live file being written to.</p>\n<p>I was wondering what possible work arounds could there be? If the file is open for writing and possibly reading, shouldn't I have access to it only for reading purposes? I have also tried BufferedReader as well to combat this issue.</p>\n<hr />\n<p>VLC gave this error when trying to open it as well, could be a simple permission block?</p>\n<pre><code>File reading failed:\nVLC could not open the file &quot;D:\\Raw Clips\\Local Recordings\\Hello(01).flv&quot; (Permission denied).\n\nYour input can't be opened:\nVLC is unable to open the MRL 'file:///D:/Raw%20Clips/Local%20Recordings/Hello%20%2801%29.flv'. Check the log for details.\n</code></pre>\n"},{"tags":["java","equals"],"comments":[{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":0,"creation_date":1653245555,"post_id":72340383,"comment_id":127798807,"body_markdown":"Your &#39;equals&#39; implementation has 3 clauses. Determine which one is reporting false. (My money&#39;s on the first one, since you have not provided the code of Person.equals for us to inspect).","body":"Your &#39;equals&#39; implementation has 3 clauses. Determine which one is reporting false. (My money&#39;s on the first one, since you have not provided the code of Person.equals for us to inspect)."},{"owner":{"account_id":16585225,"reputation":1,"user_id":11984828,"display_name":"mik3210"},"score":0,"creation_date":1653246143,"post_id":72340383,"comment_id":127798939,"body_markdown":"dangling else are you saying i need to override the equals function in the Person class","body":"dangling else are you saying i need to override the equals function in the Person class"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1653246640,"post_id":72340383,"comment_id":127799043,"body_markdown":"what is `super.equals(other)` doing? We cannot see the code :-/","body":"what is <code>super.equals(other)</code> doing? We cannot see the code :-/"},{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":0,"creation_date":1653256131,"post_id":72340383,"comment_id":127800755,"body_markdown":"Do **you** need to override Person.equals()?   No idea, since I don&#39;t know what is there already - you did not post that.   But **someone** needs to have written code that determines equality for Persons, presumably on the basis of equality for names.  And as mentioned in the previous comment, you&#39;re calling Person.equals(), so you&#39;d better find out whether it does what you&#39;re expecting it to do.","body":"Do <b>you</b> need to override Person.equals()?   No idea, since I don&#39;t know what is there already - you did not post that.   But <b>someone</b> needs to have written code that determines equality for Persons, presumably on the basis of equality for names.  And as mentioned in the previous comment, you&#39;re calling Person.equals(), so you&#39;d better find out whether it does what you&#39;re expecting it to do."},{"owner":{"account_id":16585225,"reputation":1,"user_id":11984828,"display_name":"mik3210"},"score":0,"creation_date":1653259011,"post_id":72340383,"comment_id":127801187,"body_markdown":"With your suggestion @danglingelse I solved the problemm by overriding the Person.equals() method. I&#39;ve also added the Person class to this page for future reference","body":"With your suggestion @danglingelse I solved the problemm by overriding the Person.equals() method. I&#39;ve also added the Person class to this page for future reference"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1653260014,"post_id":72340383,"comment_id":127801354,"body_markdown":"Does this answer your question? [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1653260137,"post_id":72340383,"comment_id":127801374,"body_markdown":"`name == other.name` - `name` is a `String`. See [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java) to fix this mistake.","body":"<code>name == other.name</code> - <code>name</code> is a <code>String</code>. See <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a> to fix this mistake."},{"owner":{"account_id":16585225,"reputation":1,"user_id":11984828,"display_name":"mik3210"},"score":0,"creation_date":1653263083,"post_id":72340383,"comment_id":127801727,"body_markdown":"When I change the data in array[2] am I supposed to get false.","body":"When I change the data in array[2] am I supposed to get false."}],"owner":{"account_id":16585225,"reputation":1,"user_id":11984828,"display_name":"mik3210"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653258940,"creation_date":1653244882,"question_id":72340383,"body_markdown":"I have an array of people. I have instantiated the **subclass** `Employee` twice and one `Student` **subclass** in the array. I just want to know why I&#39;m getting false when it should say true with regards to my equals method. Most of this code is from the Core ***Java Volume 1 Fundamentals*** and I&#39;m reading through the book to get a refresher but have no clue what to do with the equals method. Is it because it&#39;s a `Person` **Class**. First I tried putting the putting a different name and salary on the 3 person in the Person Array. I was still getting false. And then I switch it to the same name and still got false. I don&#39;t always understand the debugging tool but I thought it looked like the problem was with my return statement.\r\n\r\n```java\r\npackage v1ch05.abstractClasses;\r\n\r\n\r\npublic class PersonTest\r\n{\r\n   public static void main(String[] args)\r\n   {\r\n      var people = new Person[3];\r\n\r\n      // fill the people array with Student and Employee objects\r\n      people[0] = new Employee(&quot;Harry Hacker&quot;, 50000, 1989, 10, 1);\r\n      people[1] = new Student(&quot;Maria Morris&quot;, &quot;computer science&quot;);\r\n      people[2] = new Employee(&quot;Harry Hacker&quot;, 50000, 1989, 10, 1);\r\n\r\n      // print out names and descriptions of all Person objects\r\n      for (Person p : people)\r\n         System.out.println(p.getName() + &quot;, &quot; + p.getDescription());\r\n      \r\n      boolean isEmployee = people[0].equals(people[2]);\r\n      System.out.println(&quot;Is Employee:&quot; + isEmployee);\r\n   }\r\n   \r\n\r\n}\r\n```\r\n\r\n```java\r\npackage v1ch05.abstractClasses;\r\n\r\nimport java.time.*;\r\nimport java.util.Objects;\r\n\r\npublic class Employee extends Person\r\n{\r\n   private double salary;\r\n   private LocalDate hireDay;\r\n\r\n   public Employee(String name, double salary, int year, int month, int day)\r\n   {\r\n      super(name);\r\n      this.salary = salary;\r\n      hireDay = LocalDate.of(year, month, day);\r\n   }\r\n\r\n   public double getSalary()\r\n   {\r\n      return salary;\r\n   }\r\n\r\n   public LocalDate getHireDay()\r\n   {\r\n      return hireDay;\r\n   }\r\n\r\n   public String getDescription()\r\n   {\r\n      return String.format(&quot;an employee with a salary of $%.2f&quot;, salary);\r\n   }\r\n\r\n   public void raiseSalary(double byPercent)\r\n   {\r\n      double raise = salary * byPercent / 100;\r\n      salary += raise;\r\n   }\r\n   \r\n   @Override\r\n   public boolean equals(Object otherObject) {\r\n\t   if(this == otherObject) return true;\r\n\t   \r\n\t   if(otherObject == null) return false;\r\n\t   \r\n\t   if(getClass() != otherObject.getClass()) return false;\r\n\t   \r\n\t   Employee other = (Employee) otherObject;\r\n\t   \r\n\t   return super.equals(other)\r\n\t\t\t   &amp;&amp; salary == other.salary\r\n\t\t\t   &amp;&amp; Objects.equals(hireDay, other.hireDay);\r\n   }\r\n}\r\n```\r\n\r\n```\r\npackage v1ch05.abstractClasses;\r\n\r\npublic abstract class Person\r\n{\r\n   public abstract String getDescription();\r\n   private String name;\r\n\r\n   public Person(String name)\r\n   {\r\n      this.name = name;\r\n   }\r\n\r\n   public String getName()\r\n   {\r\n      return name;\r\n   }\r\n   \r\n   @Override\r\n   public boolean equals(Object otherObject) {\r\n\t   if(this == otherObject) return true;\r\n\t   \r\n\t   if(otherObject == null) return false;\r\n\t   \r\n\t   if(getClass() != otherObject.getClass()) return false;\r\n\t   \r\n\t   Person other = (Person) otherObject;\r\n\t   \r\n\t   return name == other.name;\r\n   }\r\n}\r\n```","title":"How do I implement the equals class my Employee Class when there is an array of Persons but an instantiation of Employees and Students","body":"<p>I have an array of people. I have instantiated the <strong>subclass</strong> <code>Employee</code> twice and one <code>Student</code> <strong>subclass</strong> in the array. I just want to know why I'm getting false when it should say true with regards to my equals method. Most of this code is from the Core <em><strong>Java Volume 1 Fundamentals</strong></em> and I'm reading through the book to get a refresher but have no clue what to do with the equals method. Is it because it's a <code>Person</code> <strong>Class</strong>. First I tried putting the putting a different name and salary on the 3 person in the Person Array. I was still getting false. And then I switch it to the same name and still got false. I don't always understand the debugging tool but I thought it looked like the problem was with my return statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package v1ch05.abstractClasses;\n\n\npublic class PersonTest\n{\n   public static void main(String[] args)\n   {\n      var people = new Person[3];\n\n      // fill the people array with Student and Employee objects\n      people[0] = new Employee(&quot;Harry Hacker&quot;, 50000, 1989, 10, 1);\n      people[1] = new Student(&quot;Maria Morris&quot;, &quot;computer science&quot;);\n      people[2] = new Employee(&quot;Harry Hacker&quot;, 50000, 1989, 10, 1);\n\n      // print out names and descriptions of all Person objects\n      for (Person p : people)\n         System.out.println(p.getName() + &quot;, &quot; + p.getDescription());\n      \n      boolean isEmployee = people[0].equals(people[2]);\n      System.out.println(&quot;Is Employee:&quot; + isEmployee);\n   }\n   \n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package v1ch05.abstractClasses;\n\nimport java.time.*;\nimport java.util.Objects;\n\npublic class Employee extends Person\n{\n   private double salary;\n   private LocalDate hireDay;\n\n   public Employee(String name, double salary, int year, int month, int day)\n   {\n      super(name);\n      this.salary = salary;\n      hireDay = LocalDate.of(year, month, day);\n   }\n\n   public double getSalary()\n   {\n      return salary;\n   }\n\n   public LocalDate getHireDay()\n   {\n      return hireDay;\n   }\n\n   public String getDescription()\n   {\n      return String.format(&quot;an employee with a salary of $%.2f&quot;, salary);\n   }\n\n   public void raiseSalary(double byPercent)\n   {\n      double raise = salary * byPercent / 100;\n      salary += raise;\n   }\n   \n   @Override\n   public boolean equals(Object otherObject) {\n       if(this == otherObject) return true;\n       \n       if(otherObject == null) return false;\n       \n       if(getClass() != otherObject.getClass()) return false;\n       \n       Employee other = (Employee) otherObject;\n       \n       return super.equals(other)\n               &amp;&amp; salary == other.salary\n               &amp;&amp; Objects.equals(hireDay, other.hireDay);\n   }\n}\n</code></pre>\n<pre><code>package v1ch05.abstractClasses;\n\npublic abstract class Person\n{\n   public abstract String getDescription();\n   private String name;\n\n   public Person(String name)\n   {\n      this.name = name;\n   }\n\n   public String getName()\n   {\n      return name;\n   }\n   \n   @Override\n   public boolean equals(Object otherObject) {\n       if(this == otherObject) return true;\n       \n       if(otherObject == null) return false;\n       \n       if(getClass() != otherObject.getClass()) return false;\n       \n       Person other = (Person) otherObject;\n       \n       return name == other.name;\n   }\n}\n</code></pre>\n"},{"tags":["java","github","github-api","pull-request","jgit"],"comments":[{"owner":{"account_id":6542357,"reputation":445,"user_id":5059384,"accept_rate":50,"display_name":"Sajed"},"score":0,"creation_date":1476104511,"post_id":39958881,"comment_id":67197369,"body_markdown":"To create a pull request, you must have changes committed to the your new branch. Go to the repository page on github. And click on &quot;Pull Request&quot; button in the repo header. Pick the branch you wish to have merged using the &quot;Head branch&quot; dropdown.","body":"To create a pull request, you must have changes committed to the your new branch. Go to the repository page on github. And click on &quot;Pull Request&quot; button in the repo header. Pick the branch you wish to have merged using the &quot;Head branch&quot; dropdown."},{"owner":{"account_id":4384098,"reputation":377,"user_id":3574857,"accept_rate":12,"display_name":"user3574857"},"score":0,"creation_date":1476104817,"post_id":39958881,"comment_id":67197552,"body_markdown":"&quot;From my java application&quot; using the github java Api","body":"&quot;From my java application&quot; using the github java Api"},{"owner":{"account_id":6542357,"reputation":445,"user_id":5059384,"accept_rate":50,"display_name":"Sajed"},"score":0,"creation_date":1476104949,"post_id":39958881,"comment_id":67197627,"body_markdown":"Did you check this sample            https://github.com/kevinsawicki/github-api-examples","body":"Did you check this sample            <a href=\"https://github.com/kevinsawicki/github-api-examples\" rel=\"nofollow noreferrer\">github.com/kevinsawicki/github-api-examples</a>"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":1,"creation_date":1476105168,"post_id":39958881,"comment_id":67197763,"body_markdown":"SO is not really for asking links, as they rot and tend to have several alternatives, so voting for closure.","body":"SO is not really for asking links, as they rot and tend to have several alternatives, so voting for closure."}],"answers":[{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476104957,"creation_date":1476104957,"answer_id":39959073,"question_id":39958881,"body_markdown":"There are several Java APIs listed in the GitHub developer guide:\r\n\r\nhttps://developer.github.com/libraries/ (search for &#39;Java&#39;)","title":"Create a Pull Request in Github from a Java Application","body":"<p>There are several Java APIs listed in the GitHub developer guide:</p>\n\n<p><a href=\"https://developer.github.com/libraries/\" rel=\"nofollow\">https://developer.github.com/libraries/</a> (search for 'Java')</p>\n"},{"tags":[],"owner":{"account_id":20188372,"reputation":29,"user_id":14807170,"display_name":"Arun Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633626351,"creation_date":1633626351,"answer_id":69485183,"question_id":39958881,"body_markdown":"I created on Spring boot and HTML project for taking a pull on private GitHub repository to ubuntu server\r\n\r\nuse this maven dependency\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;org.eclipse.jgit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.11.0.202103091610-r&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n&lt;b&gt; \r\nMake Sure the Github project present in your local storage &lt;br&gt;\r\ndir - is your location where this project is present in your local Director &lt;br&gt;\r\ngitDir - is your github repository url &lt;br&gt;\r\nusername and password is your github username and password &lt;br&gt;\r\n&lt;/b&gt;\r\n&lt;br&gt;\r\n\r\n    public String pullReq(String dir, String gitDir, String userName, String pass) {\r\n\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tRepository localRepo = new FileRepository(dir + &quot;/.git&quot;);\r\n\t\t\tGit git = new Git(localRepo);\r\n\t\t\tCredentialsProvider cp = new UsernamePasswordCredentialsProvider(userName, pass);\r\n\t\t\tgit.pull().setCredentialsProvider(cp).call();\r\n\t\t\tgit.close();\r\n\t\t\tlocalRepo.close();\r\n\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn e.getLocalizedMessage();\r\n\t\t}\r\n\t\treturn &quot;success&quot;;\r\n\r\n\t}\r\n\r\n\r\n&lt;strong&gt; Github plan to remove UsernamePasswordCredentialsProvider authentication.&lt;br&gt;\r\n I don&#39;t know how many days this code is working but currently, it is working.&lt;br&gt;\r\nGithub is asking to Use Token Based authentication.\r\n&lt;/strong&gt;","title":"Create a Pull Request in Github from a Java Application","body":"<p>I created on Spring boot and HTML project for taking a pull on private GitHub repository to ubuntu server</p>\n<p>use this maven dependency</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.jgit&lt;/artifactId&gt;\n        &lt;version&gt;5.11.0.202103091610-r&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<b> \nMake Sure the Github project present in your local storage <br>\ndir - is your location where this project is present in your local Director <br>\ngitDir - is your github repository url <br>\nusername and password is your github username and password <br>\n</b>\n<br>\n<pre><code>public String pullReq(String dir, String gitDir, String userName, String pass) {\n\n    try {\n        \n        Repository localRepo = new FileRepository(dir + &quot;/.git&quot;);\n        Git git = new Git(localRepo);\n        CredentialsProvider cp = new UsernamePasswordCredentialsProvider(userName, pass);\n        git.pull().setCredentialsProvider(cp).call();\n        git.close();\n        localRepo.close();\n    \n    } catch (Exception e) {\n        return e.getLocalizedMessage();\n    }\n    return &quot;success&quot;;\n\n}\n</code></pre>\n<p><strong> Github plan to remove UsernamePasswordCredentialsProvider authentication.<br>\nI don't know how many days this code is working but currently, it is working.<br>\nGithub is asking to Use Token Based authentication.\n</strong></p>\n"},{"tags":[],"owner":{"account_id":476761,"reputation":24593,"user_id":887836,"accept_rate":96,"display_name":"Alexander Oh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653258583,"creation_date":1653258229,"answer_id":72341690,"question_id":39958881,"body_markdown":"the link of Ruediger is dead: \r\n\r\nhere is a list of more up to date links: \r\n\r\n - github rest api: https://docs.github.com/en/rest/pulls\r\n - top hit in google for java rest api: https://github.com/hub4j/github-api\r\n\r\nthis would be the api function: https://github-api.kohsuke.org/apidocs/org/kohsuke/github/GHRepository.html#createPullRequest(java.lang.String,java.lang.String,java.lang.String,java.lang.String)","title":"Create a Pull Request in Github from a Java Application","body":"<p>the link of Ruediger is dead:</p>\n<p>here is a list of more up to date links:</p>\n<ul>\n<li>github rest api: <a href=\"https://docs.github.com/en/rest/pulls\" rel=\"nofollow noreferrer\">https://docs.github.com/en/rest/pulls</a></li>\n<li>top hit in google for java rest api: <a href=\"https://github.com/hub4j/github-api\" rel=\"nofollow noreferrer\">https://github.com/hub4j/github-api</a></li>\n</ul>\n<p>this would be the api function: <a href=\"https://github-api.kohsuke.org/apidocs/org/kohsuke/github/GHRepository.html#createPullRequest(java.lang.String,java.lang.String,java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">https://github-api.kohsuke.org/apidocs/org/kohsuke/github/GHRepository.html#createPullRequest(java.lang.String,java.lang.String,java.lang.String,java.lang.String)</a></p>\n"}],"owner":{"account_id":4384098,"reputation":377,"user_id":3574857,"accept_rate":12,"display_name":"user3574857"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3545,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1653258583,"creation_date":1476104354,"question_id":39958881,"body_markdown":"I&#39;m trying to create a pull request from my Java application but I can&#39;t find any documentation for Github&#39;s Java API.\r\n\r\nI already implemented all the methods for adding a file, commit, and push. \r\n\r\nAny useful links?","title":"Create a Pull Request in Github from a Java Application","body":"<p>I'm trying to create a pull request from my Java application but I can't find any documentation for Github's Java API.</p>\n\n<p>I already implemented all the methods for adding a file, commit, and push. </p>\n\n<p>Any useful links?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":1,"creation_date":1423469449,"post_id":28405143,"comment_id":45144940,"body_markdown":"Have you tried using a debugger?","body":"Have you tried using a debugger?"}],"answers":[{"tags":[],"owner":{"account_id":75676,"reputation":15039,"user_id":217019,"accept_rate":89,"display_name":"Mateusz Dymczyk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423469998,"creation_date":1423469410,"answer_id":28405331,"question_id":28405143,"body_markdown":"The way you are converting the number to a string:\r\n\r\n    Long.toBinaryString(num)\r\n\r\nWill not prefix the number with 0s, so for instance `3` will be `11` instead of `00000000000000000000000000000011`. Because of this your flipping method won&#39;t work the way the guys from hackerrank want it to work.\r\n\r\nNotice that the question states the integers are 32-bit long (somewhere and not very clearly but oh well) so you need to take that into account.\r\n\r\n@Edit: the easiest way to go around padding this would be:\r\n\r\n    numBinaryString = String.format(&quot;%32s&quot;,numBinaryString).replace(&quot; &quot;, &quot;0&quot;)","title":"@HackerRank: FlippingBits. Wrong output","body":"<p>The way you are converting the number to a string:</p>\n\n<pre><code>Long.toBinaryString(num)\n</code></pre>\n\n<p>Will not prefix the number with 0s, so for instance <code>3</code> will be <code>11</code> instead of <code>00000000000000000000000000000011</code>. Because of this your flipping method won't work the way the guys from hackerrank want it to work.</p>\n\n<p>Notice that the question states the integers are 32-bit long (somewhere and not very clearly but oh well) so you need to take that into account.</p>\n\n<p>@Edit: the easiest way to go around padding this would be:</p>\n\n<pre><code>numBinaryString = String.format(\"%32s\",numBinaryString).replace(\" \", \"0\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423469424,"creation_date":1423469424,"answer_id":28405334,"question_id":28405143,"body_markdown":"Nothing wrong with the code. If you try to convert the long number 2147483647 to a binary number you will get 1111111111111111111111111111111.\r\n\r\nAnd when you flip it, you get zero which is correct.\r\n\r\nApart from this, instead of manually creating decimal from binary number using `getNum`, you could use:\r\n\r\n    System.out.println(Long.parseLong(flippedString, 2));\r\n\r\nI would suggest first you try with smaller number like 10 and see how you get 5 out of it.","title":"@HackerRank: FlippingBits. Wrong output","body":"<p>Nothing wrong with the code. If you try to convert the long number 2147483647 to a binary number you will get 1111111111111111111111111111111.</p>\n\n<p>And when you flip it, you get zero which is correct.</p>\n\n<p>Apart from this, instead of manually creating decimal from binary number using <code>getNum</code>, you could use:</p>\n\n<pre><code>System.out.println(Long.parseLong(flippedString, 2));\n</code></pre>\n\n<p>I would suggest first you try with smaller number like 10 and see how you get 5 out of it.</p>\n"},{"tags":[],"owner":{"account_id":101156,"reputation":15133,"user_id":272287,"accept_rate":83,"display_name":"jdphenix"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1423470405,"creation_date":1423469889,"answer_id":28405417,"question_id":28405143,"body_markdown":"Because Java doesn&#39;t have unsigned types, and interprets integers in two&#39;s complement form, You&#39;ll need to address both.\r\n\r\nFor the first point, we can use a `long` to store the value. For the second point, we can bitmask with `0x00000000ffffffff` and get the 32-bit part we want. \r\n\r\n    int original = 1;\r\n    long flipped = ~original &amp; 0x00000000ffffffffL;\r\n    System.out.println(flipped); \r\n\r\n    // outputs 4294967294\r\n\r\nJava has tools to handle tasks like this as seen above - I wouldn&#39;t break out into `String` manipulation unless I had to.","title":"@HackerRank: FlippingBits. Wrong output","body":"<p>Because Java doesn't have unsigned types, and interprets integers in two's complement form, You'll need to address both.</p>\n\n<p>For the first point, we can use a <code>long</code> to store the value. For the second point, we can bitmask with <code>0x00000000ffffffff</code> and get the 32-bit part we want. </p>\n\n<pre><code>int original = 1;\nlong flipped = ~original &amp; 0x00000000ffffffffL;\nSystem.out.println(flipped); \n\n// outputs 4294967294\n</code></pre>\n\n<p>Java has tools to handle tasks like this as seen above - I wouldn't break out into <code>String</code> manipulation unless I had to.</p>\n"},{"tags":[],"owner":{"account_id":2728511,"reputation":536,"user_id":2352866,"accept_rate":80,"display_name":"Orestis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467242794,"creation_date":1467242794,"answer_id":38111681,"question_id":28405143,"body_markdown":"You have got some answers already but let me give you an alternative way.\r\n\r\nUse a long to store the value and then you can XOR it with 0xffffffffL (11111111111111111111111111111111 in binary). That will give you the correct answer.\r\n\r\nFor example:\r\n\r\n    00000000000000000000000000000001\r\n    11111111111111111111111111111111 ^\r\n    --------------------------------\r\n    11111111111111111111111111111110\r\n\r\nBelow you can find the code. Note that I use custom IO methods.\r\n\r\n    long n = in.readLong() ^ 0xffffffffL;\r\n    out.print(n + &quot;\\n&quot;);","title":"@HackerRank: FlippingBits. Wrong output","body":"<p>You have got some answers already but let me give you an alternative way.</p>\n\n<p>Use a long to store the value and then you can XOR it with 0xffffffffL (11111111111111111111111111111111 in binary). That will give you the correct answer.</p>\n\n<p>For example:</p>\n\n<pre><code>00000000000000000000000000000001\n11111111111111111111111111111111 ^\n--------------------------------\n11111111111111111111111111111110\n</code></pre>\n\n<p>Below you can find the code. Note that I use custom IO methods.</p>\n\n<pre><code>long n = in.readLong() ^ 0xffffffffL;\nout.print(n + \"\\n\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12696571,"reputation":391,"user_id":9224820,"display_name":"Sai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653258030,"creation_date":1653258030,"answer_id":72341676,"question_id":28405143,"body_markdown":"    public static long flippingBits(long n)\r\n    {\r\n        var binary = Convert.ToString(n,2).PadLeft(32,&#39;0&#39;);\r\n        var reverse = &quot;&quot;;\r\n        foreach(var item in binary){\r\n            if(item == &#39;1&#39;){\r\n                reverse = reverse + &#39;0&#39;;\r\n            }\r\n            else{\r\n                reverse = reverse + &#39;1&#39;;\r\n            }\r\n        }\r\n        \r\n        return Convert.ToInt64(reverse,2);\r\n    }\r\n","title":"@HackerRank: FlippingBits. Wrong output","body":"<pre><code>public static long flippingBits(long n)\n{\n    var binary = Convert.ToString(n,2).PadLeft(32,'0');\n    var reverse = &quot;&quot;;\n    foreach(var item in binary){\n        if(item == '1'){\n            reverse = reverse + '0';\n        }\n        else{\n            reverse = reverse + '1';\n        }\n    }\n    \n    return Convert.ToInt64(reverse,2);\n}\n</code></pre>\n"}],"owner":{"account_id":5377456,"reputation":878,"user_id":4283823,"accept_rate":100,"display_name":"Samarth Shah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2147,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":28405417,"answer_count":5,"score":5,"last_activity_date":1653258030,"creation_date":1423468606,"question_id":28405143,"body_markdown":"This one is really giving me a lot of hard time. So ultimately I decided to get some help from you guys. Perhaps, you can review it and tell me where I&#39;m going wrong.\r\n\r\n@ https://www.hackerrank.com/challenges/flipping-bits\r\n\r\nBasically:\r\n\r\n&gt; Input = Number\r\n&gt; \r\n&gt; 1. Convert it to binary String.\r\n&gt; 2. Flip the bits (Set all 0&#39;s and reset all 1&#39;s)\r\n&gt; 3. Output the Number you get by doing it.\r\n&gt; \r\n&gt; I have hard-coded a number for now, as it was mentioned in the\r\n&gt; question (= 2147483647)\r\n\r\nProblem is: It is giving me an output of:\r\n\r\n    0\r\n\r\nCode:\r\n\r\n    public class FlippingBits {\r\n\t\r\n\tprivate static String flipBits(String binaryOrig){\r\n\t\tString flippedString = &quot;&quot;;\r\n\t\tfor(int i = 0; i&lt;binaryOrig.length(); i++){\r\n\t\t\tif(binaryOrig.charAt(i) == &#39;1&#39;)\r\n\t\t\t\tflippedString += &#39;0&#39;;\r\n\t\t\telse \r\n\t\t\t\tflippedString += &#39;1&#39;;\r\n\t\t}\r\n\t\treturn flippedString;\r\n\t}\r\n\r\n\tprivate static long getNum(String flippedString){\r\n\t\tlong new_number = 0;\r\n\t\tfor(int i = 0; i &lt; flippedString.length(); i++){\r\n\t\t\tnew_number = (2*new_number) + (flippedString.charAt(i) - &#39;0&#39;);\r\n\t\t}\r\n\t\treturn new_number;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tlong num = 2147483647;\r\n\t\tString numBinaryString = Long.toBinaryString(num);\r\n\t\tString flippedString = flipBits(numBinaryString);\r\n\t\tSystem.out.println(Long.toString(getNum(flippedString)));\r\n        }\r\n    };\r\n\r\nCould anyone tell me what&#39;s wrong! This is after trying for 3-4 hours. Sorry if it&#39;s trivial.\r\n\r\nThanks in advance.\r\n\r\nEDIT: An excerpt from the Question:\r\n\r\n&quot;Take 1 for example, as unsigned 32-bits is\r\n\r\n00000000000000000000000000000001 \r\n\r\nand doing the flipping we get \r\n\r\n11111111111111111111111111111110 \r\n\r\nwhich in turn is 4294967294&quot;\r\n\r\nSo, I&#39;m having a feeling it has to do something with long being 64-bits. !?\r\n","title":"@HackerRank: FlippingBits. Wrong output","body":"<p>This one is really giving me a lot of hard time. So ultimately I decided to get some help from you guys. Perhaps, you can review it and tell me where I'm going wrong.</p>\n\n<p>@ <a href=\"https://www.hackerrank.com/challenges/flipping-bits\" rel=\"nofollow\">https://www.hackerrank.com/challenges/flipping-bits</a></p>\n\n<p>Basically:</p>\n\n<blockquote>\n  <p>Input = Number</p>\n  \n  <ol>\n  <li>Convert it to binary String.</li>\n  <li>Flip the bits (Set all 0's and reset all 1's)</li>\n  <li>Output the Number you get by doing it.</li>\n  </ol>\n  \n  <p>I have hard-coded a number for now, as it was mentioned in the\n  question (= 2147483647)</p>\n</blockquote>\n\n<p>Problem is: It is giving me an output of:</p>\n\n<pre><code>0\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>public class FlippingBits {\n\nprivate static String flipBits(String binaryOrig){\n    String flippedString = \"\";\n    for(int i = 0; i&lt;binaryOrig.length(); i++){\n        if(binaryOrig.charAt(i) == '1')\n            flippedString += '0';\n        else \n            flippedString += '1';\n    }\n    return flippedString;\n}\n\nprivate static long getNum(String flippedString){\n    long new_number = 0;\n    for(int i = 0; i &lt; flippedString.length(); i++){\n        new_number = (2*new_number) + (flippedString.charAt(i) - '0');\n    }\n    return new_number;\n}\n\npublic static void main(String[] args) {\n\n    long num = 2147483647;\n    String numBinaryString = Long.toBinaryString(num);\n    String flippedString = flipBits(numBinaryString);\n    System.out.println(Long.toString(getNum(flippedString)));\n    }\n};\n</code></pre>\n\n<p>Could anyone tell me what's wrong! This is after trying for 3-4 hours. Sorry if it's trivial.</p>\n\n<p>Thanks in advance.</p>\n\n<p>EDIT: An excerpt from the Question:</p>\n\n<p>\"Take 1 for example, as unsigned 32-bits is</p>\n\n<p>00000000000000000000000000000001 </p>\n\n<p>and doing the flipping we get </p>\n\n<p>11111111111111111111111111111110 </p>\n\n<p>which in turn is 4294967294\"</p>\n\n<p>So, I'm having a feeling it has to do something with long being 64-bits. !?</p>\n"},{"tags":["java","list","collections","set","comparator"],"comments":[{"owner":{"account_id":2196518,"reputation":4248,"user_id":2018455,"accept_rate":83,"display_name":"Neil Locketz"},"score":1,"creation_date":1653257731,"post_id":72341623,"comment_id":127800983,"body_markdown":"Sets are inherently unordered collections of things, so they cannot be sorted","body":"Sets are inherently unordered collections of things, so they cannot be sorted"},{"owner":{"account_id":16765025,"reputation":1192,"user_id":12118888,"display_name":"Payel Senapati"},"score":0,"creation_date":1653257812,"post_id":72341623,"comment_id":127800997,"body_markdown":"But I can set my own rules using Comparable, only Comparator gives me trouble","body":"But I can set my own rules using Comparable, only Comparator gives me trouble"},{"owner":{"account_id":2196518,"reputation":4248,"user_id":2018455,"accept_rate":83,"display_name":"Neil Locketz"},"score":1,"creation_date":1653257953,"post_id":72341623,"comment_id":127801019,"body_markdown":"It&#39;s not the comparator that is giving you trouble, if you look at Collections.sort it requires a List. TreeSet is not a list, and therefore can&#39;t be used there no matter what comparator you&#39;re going to use. This is because, in order for the generic sort implementation to work, it requires functions from the List interface to place things in the proper order. The Set interface has no such methods, because it&#39;s not meant to be ordered.","body":"It&#39;s not the comparator that is giving you trouble, if you look at Collections.sort it requires a List. TreeSet is not a list, and therefore can&#39;t be used there no matter what comparator you&#39;re going to use. This is because, in order for the generic sort implementation to work, it requires functions from the List interface to place things in the proper order. The Set interface has no such methods, because it&#39;s not meant to be ordered."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1653298230,"post_id":72341623,"comment_id":127808729,"body_markdown":"Well, to be precise, the comparator *is* giving you trouble, but independently of the `sort` method. A comparator is supposed to return zero when both argument are equal, so a comparator that never returns zero can’t be correct. The same applies to your broken `compareTo` method. Did you notice that the `TreeSet`’s `contains` method always returns `false`?","body":"Well, to be precise, the comparator <i>is</i> giving you trouble, but independently of the <code>sort</code> method. A comparator is supposed to return zero when both argument are equal, so a comparator that never returns zero can’t be correct. The same applies to your broken <code>compareTo</code> method. Did you notice that the <code>TreeSet</code>’s <code>contains</code> method always returns <code>false</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653257908,"creation_date":1653257908,"answer_id":72341663,"question_id":72341623,"body_markdown":"The first argument to `Collections.sort` is of type `List&lt;T&gt;`.  So you can only pass `List` objects to it, not `Set` objects, or anything else.\r\n\r\nThis is sensible.  The reason is that `Set` objects are of two types.  \r\n\r\n- There are those that are, by their nature, always unsorted, such as `HashSet`.  It doesn&#39;t make sense to sort these.\r\n- There are those that are, by their nature, always sorted the same way, such as `TreeSet`.  It doesn&#39;t make sense to sort these, because they&#39;re already sorted.\r\n\r\nI think maybe what you want is to take your `TreeSet` and have it sorted using a different `Comparator`.  To do that, you&#39;ll have to make a new `TreeSet` with your new `Comparator`, and copy the entries across from the old set using `addAll`.","title":"Can Collections.sort() take treeSet as first argument? If not why?","body":"<p>The first argument to <code>Collections.sort</code> is of type <code>List&lt;T&gt;</code>.  So you can only pass <code>List</code> objects to it, not <code>Set</code> objects, or anything else.</p>\n<p>This is sensible.  The reason is that <code>Set</code> objects are of two types.</p>\n<ul>\n<li>There are those that are, by their nature, always unsorted, such as <code>HashSet</code>.  It doesn't make sense to sort these.</li>\n<li>There are those that are, by their nature, always sorted the same way, such as <code>TreeSet</code>.  It doesn't make sense to sort these, because they're already sorted.</li>\n</ul>\n<p>I think maybe what you want is to take your <code>TreeSet</code> and have it sorted using a different <code>Comparator</code>.  To do that, you'll have to make a new <code>TreeSet</code> with your new <code>Comparator</code>, and copy the entries across from the old set using <code>addAll</code>.</p>\n"}],"owner":{"account_id":16765025,"reputation":1192,"user_id":12118888,"display_name":"Payel Senapati"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72341663,"answer_count":1,"score":0,"last_activity_date":1653257908,"creation_date":1653257466,"question_id":72341623,"body_markdown":"I have my &#39;Person&#39; `class` as follows - \r\n\r\n```\r\npublic class Person implements Comparable&lt;Person&gt; {\r\n    private int marks;\r\n    private String name;\r\n\r\n    Person(int marks, String name) {\r\n        this.marks = marks;\r\n        this.name = name;\r\n    }\r\n\r\n    public int getMarks() {\r\n        return marks;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person: Marks = &quot; + marks + &quot;, Name =  &quot; + name;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Person person) {\r\n        return marks &gt; person.marks ? 1 : -1;\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow in `main method` I have created another `comparator` with opposite `sorting` - \r\n\r\n```\r\nComparator&lt;Person&gt; comparator = new Comparator&lt;Person&gt;() {\r\n            @Override\r\n            public int compare(Person p1, Person p2) {\r\n                int marks1 = p1.getMarks();\r\n                int marks2 = p2.getMarks();\r\n                return marks1 &gt; marks2 ? -1 : 1;\r\n            }\r\n        };\r\n```\r\n\r\nNow, I create a `TreeSet` - \r\n\r\n```\r\nTreeSet&lt;Person&gt; treeSet1 = new TreeSet&lt;&gt;(List.of(\r\n                new Person(67, &quot;Himani&quot;),\r\n                new Person(73, &quot;Hasani&quot;),\r\n                new Person(21, &quot;Rohini&quot;)\r\n        ));\r\n```\r\n\r\nNow, I try passing treeSet as an argument to `Collections.sort()` - \r\n\r\n```\r\nCollections.sort(treeSet1, comparator);\r\n```\r\n\r\nHere, I get the following error - \r\n\r\n```\r\n\r\nRequired type                         Provided\r\n\r\nlist:List&lt;T&gt;                         TreeSet&lt;Person&gt;\r\n                              \r\nc:Comparator&lt;? super T&gt;              Comparator&lt;Person&gt;\r\n\r\n```\r\n\r\nAs far as I can deduce from the error - `Collections.sort()` with `comparator` can only be used on `List` and not `Set`. \r\n\r\nAm I correct? If not where am I going wrong? If yes why am I correct?","title":"Can Collections.sort() take treeSet as first argument? If not why?","body":"<p>I have my 'Person' <code>class</code> as follows -</p>\n<pre><code>public class Person implements Comparable&lt;Person&gt; {\n    private int marks;\n    private String name;\n\n    Person(int marks, String name) {\n        this.marks = marks;\n        this.name = name;\n    }\n\n    public int getMarks() {\n        return marks;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Person: Marks = &quot; + marks + &quot;, Name =  &quot; + name;\n    }\n\n    @Override\n    public int compareTo(Person person) {\n        return marks &gt; person.marks ? 1 : -1;\n    }\n}\n\n</code></pre>\n<p>Now in <code>main method</code> I have created another <code>comparator</code> with opposite <code>sorting</code> -</p>\n<pre><code>Comparator&lt;Person&gt; comparator = new Comparator&lt;Person&gt;() {\n            @Override\n            public int compare(Person p1, Person p2) {\n                int marks1 = p1.getMarks();\n                int marks2 = p2.getMarks();\n                return marks1 &gt; marks2 ? -1 : 1;\n            }\n        };\n</code></pre>\n<p>Now, I create a <code>TreeSet</code> -</p>\n<pre><code>TreeSet&lt;Person&gt; treeSet1 = new TreeSet&lt;&gt;(List.of(\n                new Person(67, &quot;Himani&quot;),\n                new Person(73, &quot;Hasani&quot;),\n                new Person(21, &quot;Rohini&quot;)\n        ));\n</code></pre>\n<p>Now, I try passing treeSet as an argument to <code>Collections.sort()</code> -</p>\n<pre><code>Collections.sort(treeSet1, comparator);\n</code></pre>\n<p>Here, I get the following error -</p>\n<pre><code>\nRequired type                         Provided\n\nlist:List&lt;T&gt;                         TreeSet&lt;Person&gt;\n                              \nc:Comparator&lt;? super T&gt;              Comparator&lt;Person&gt;\n\n</code></pre>\n<p>As far as I can deduce from the error - <code>Collections.sort()</code> with <code>comparator</code> can only be used on <code>List</code> and not <code>Set</code>.</p>\n<p>Am I correct? If not where am I going wrong? If yes why am I correct?</p>\n"},{"tags":["java","linked-list","shift","doubly-linked-list","circular-list"],"comments":[{"owner":{"account_id":2118345,"reputation":12755,"user_id":1882149,"display_name":"Achintya Jha"},"score":0,"creation_date":1366017357,"post_id":16011550,"comment_id":22835515,"body_markdown":"What is head in your code?","body":"What is head in your code?"},{"owner":{"account_id":2635716,"reputation":51,"user_id":2280464,"accept_rate":12,"display_name":"GreatBambino"},"score":0,"creation_date":1366017450,"post_id":16011550,"comment_id":22835560,"body_markdown":"first node in the list","body":"first node in the list"},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1366017518,"post_id":16011550,"comment_id":22835589,"body_markdown":"Either `head` or `tail` must be `null`. Without more code (a complete runnable program with the minimal amount of code that reproduces the problem always helps), it&#39;s impossible for us to tell which.","body":"Either <code>head</code> or <code>tail</code> must be <code>null</code>. Without more code (a complete runnable program with the minimal amount of code that reproduces the problem always helps), it&#39;s impossible for us to tell which."},{"owner":{"account_id":2118345,"reputation":12755,"user_id":1882149,"display_name":"Achintya Jha"},"score":0,"creation_date":1366017522,"post_id":16011550,"comment_id":22835593,"body_markdown":"You are having circular linkedList?","body":"You are having circular linkedList?"},{"owner":{"account_id":2118345,"reputation":12755,"user_id":1882149,"display_name":"Achintya Jha"},"score":0,"creation_date":1366017692,"post_id":16011550,"comment_id":22835690,"body_markdown":"Can you show us your full code? Like where you initializing head and tail.","body":"Can you show us your full code? Like where you initializing head and tail."},{"owner":{"account_id":366731,"reputation":4051,"user_id":712452,"accept_rate":77,"display_name":"smttsp"},"score":0,"creation_date":1366017772,"post_id":16011550,"comment_id":22835743,"body_markdown":"Then, only changing the position of head and tail is going to be enough if you structured your list truely. `head = head.next; tail = tail.next`","body":"Then, only changing the position of head and tail is going to be enough if you structured your list truely. <code>head = head.next; tail = tail.next</code>"},{"owner":{"account_id":2130230,"reputation":15498,"user_id":1891219,"display_name":"gaborsch"},"score":0,"creation_date":1366017801,"post_id":16011550,"comment_id":22835756,"body_markdown":"@user2280464 probably the bug is in the initialization of `head` or `tail`, not in the code you provided.","body":"@user2280464 probably the bug is in the initialization of <code>head</code> or <code>tail</code>, not in the code you provided."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1366017919,"post_id":16011550,"comment_id":22835821,"body_markdown":"By the way, you do not need to create a new LLNode.","body":"By the way, you do not need to create a new LLNode."},{"owner":{"account_id":366731,"reputation":4051,"user_id":712452,"accept_rate":77,"display_name":"smttsp"},"score":0,"creation_date":1366018017,"post_id":16011550,"comment_id":22835856,"body_markdown":"Could you give your add method too?","body":"Could you give your add method too?"},{"owner":{"account_id":366731,"reputation":4051,"user_id":712452,"accept_rate":77,"display_name":"smttsp"},"score":0,"creation_date":1366019839,"post_id":16011550,"comment_id":22836771,"body_markdown":"I guess, your problem is solved","body":"I guess, your problem is solved"}],"answers":[{"tags":[],"owner":{"account_id":2411771,"reputation":123,"user_id":2106684,"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366017730,"creation_date":1366017730,"answer_id":16011685,"question_id":16011550,"body_markdown":"You have to think about some points: &lt;br&gt;\r\n1) If your link list does not contain any element then what?&lt;br&gt;\r\n2) For all tokens to be shifted you have to use while-loop.&lt;br&gt;\r\n","title":"Shift elements in a linked list in java","body":"<p>You have to think about some points: <br>\n1) If your link list does not contain any element then what?<br>\n2) For all tokens to be shifted you have to use while-loop.<br></p>\n"},{"tags":[],"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366017839,"creation_date":1366017839,"answer_id":16011715,"question_id":16011550,"body_markdown":"I assume that `head` and `tail` are properly updated on `insert` and `remove`\r\n\r\n    public void shiftLeft()\r\n    {\r\n        if(head == null || head.next == null){\r\n           return;    \r\n        }\r\n        LLNode&lt;E&gt; temp = new LLNode&lt;E&gt;();     \r\n        temp = head;           \r\n        head = head.next;  \r\n        temp.next = null;   \r\n        tail.next = temp;  \r\n        tail = temp;  \r\n    }  \r\n\r\n**UPDATE:**  \r\nFrom the comment I see that the OP mentions about a circular list. This is not mentioned in the OP or apparent from the code. I will leave the answer as is.","title":"Shift elements in a linked list in java","body":"<p>I assume that <code>head</code> and <code>tail</code> are properly updated on <code>insert</code> and <code>remove</code></p>\n\n<pre><code>public void shiftLeft()\n{\n    if(head == null || head.next == null){\n       return;    \n    }\n    LLNode&lt;E&gt; temp = new LLNode&lt;E&gt;();     \n    temp = head;           \n    head = head.next;  \n    temp.next = null;   \n    tail.next = temp;  \n    tail = temp;  \n}  \n</code></pre>\n\n<p><strong>UPDATE:</strong><br>\nFrom the comment I see that the OP mentions about a circular list. This is not mentioned in the OP or apparent from the code. I will leave the answer as is.</p>\n"},{"tags":[],"owner":{"account_id":366731,"reputation":4051,"user_id":712452,"accept_rate":77,"display_name":"smttsp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1366018259,"creation_date":1366018259,"answer_id":16011844,"question_id":16011550,"body_markdown":"If it is circular linked list and your add method works properly. \r\n\r\n    public void shiftLeft(){\r\n        head = head.next; tail = tail.next;\r\n    }\r\n","title":"Shift elements in a linked list in java","body":"<p>If it is circular linked list and your add method works properly. </p>\n\n<pre><code>public void shiftLeft(){\n    head = head.next; tail = tail.next;\n}\n</code></pre>\n"}],"owner":{"account_id":2635716,"reputation":51,"user_id":2280464,"accept_rate":12,"display_name":"GreatBambino"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13242,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1653257175,"creation_date":1366017294,"question_id":16011550,"body_markdown":"I have to shift all of the tokens left by one position in a Linked List.\r\n\r\nHere&#39;s my code for the method:\r\n    \r\n    private LLNode&lt;E&gt; head;     // the first node in the list\r\n    private LLNode&lt;E&gt; tail;     // the last node in the list\r\n\r\n    public void shiftLeft()\r\n    {\r\n        LLNode&lt;E&gt; temp = new LLNode&lt;E&gt;();\r\n        temp = head;\r\n        head = head.next;\r\n        tail.next = temp;\r\n    }\r\n\r\n    /*from main method\r\n    TopSpinLinkedList&lt;Integer&gt; ll = new TopSpinLinkedList&lt;Integer&gt;(numTokens, spinSize);\r\n        \r\n    //fills LinkedList with tokens\r\n    for(int i = 1; i &lt;= numTokens; i++) {\r\n        ll.add(i);\r\n    }\r\n    */\r\nA nullpointer error appears during runtime when I call the method.  Any help would be appreciated. Thanks.","title":"Shift elements in a linked list in java","body":"<p>I have to shift all of the tokens left by one position in a Linked List.</p>\n\n<p>Here's my code for the method:</p>\n\n<pre><code>private LLNode&lt;E&gt; head;     // the first node in the list\nprivate LLNode&lt;E&gt; tail;     // the last node in the list\n\npublic void shiftLeft()\n{\n    LLNode&lt;E&gt; temp = new LLNode&lt;E&gt;();\n    temp = head;\n    head = head.next;\n    tail.next = temp;\n}\n\n/*from main method\nTopSpinLinkedList&lt;Integer&gt; ll = new TopSpinLinkedList&lt;Integer&gt;(numTokens, spinSize);\n\n//fills LinkedList with tokens\nfor(int i = 1; i &lt;= numTokens; i++) {\n    ll.add(i);\n}\n*/\n</code></pre>\n\n<p>A nullpointer error appears during runtime when I call the method.  Any help would be appreciated. Thanks.</p>\n"},{"tags":["java","mutation","pitest"],"answers":[{"tags":[],"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653255942,"creation_date":1653255942,"answer_id":72341493,"question_id":68581224,"body_markdown":"According to javadocs on pitest,\r\n\r\nhttps://github.com/hcoles/pitest/blob/90d5df53a32c62f78695232410ab2e2009cd82b9/pitest/src/main/java/org/pitest/mutationtest/engine/MutationDetails.java#L202-L208&lt;br /&gt;\r\nindex is `the index to the ... instruction on which this mutation occurs. This index is specific to how ASM represents the bytecode`.\r\n\r\nhttps://github.com/hcoles/pitest/blob/90d5df53a32c62f78695232410ab2e2009cd82b9/pitest/src/main/java/org/pitest/mutationtest/engine/MutationDetails.java#L171-L177&lt;br /&gt;\r\nblock is `basic block in which this mutation occurs`.\r\n\r\nhttps://github.com/hcoles/pitest/issues/131#issuecomment-47398717&lt;br /&gt;\r\n`block based means coverage is tracked per non-branching code block. Oversimplified this can be seen as coverage is recorder per pair of curly braces. If you don&#39;t have any control flow statement inside a method there is just one block. If you have an if statement (without else) there will be up to 3 blocks (one before the if statement, the &quot;then&quot; part of the if statement and one block after the if statement and so on).`\r\n","title":"What these two tags represent in a Pitest XML report?","body":"<p>According to javadocs on pitest,</p>\n<p><a href=\"https://github.com/hcoles/pitest/blob/90d5df53a32c62f78695232410ab2e2009cd82b9/pitest/src/main/java/org/pitest/mutationtest/engine/MutationDetails.java#L202-L208\" rel=\"nofollow noreferrer\">https://github.com/hcoles/pitest/blob/90d5df53a32c62f78695232410ab2e2009cd82b9/pitest/src/main/java/org/pitest/mutationtest/engine/MutationDetails.java#L202-L208</a><br />\nindex is <code>the index to the ... instruction on which this mutation occurs. This index is specific to how ASM represents the bytecode</code>.</p>\n<p><a href=\"https://github.com/hcoles/pitest/blob/90d5df53a32c62f78695232410ab2e2009cd82b9/pitest/src/main/java/org/pitest/mutationtest/engine/MutationDetails.java#L171-L177\" rel=\"nofollow noreferrer\">https://github.com/hcoles/pitest/blob/90d5df53a32c62f78695232410ab2e2009cd82b9/pitest/src/main/java/org/pitest/mutationtest/engine/MutationDetails.java#L171-L177</a><br />\nblock is <code>basic block in which this mutation occurs</code>.</p>\n<p><a href=\"https://github.com/hcoles/pitest/issues/131#issuecomment-47398717\" rel=\"nofollow noreferrer\">https://github.com/hcoles/pitest/issues/131#issuecomment-47398717</a><br />\n<code>block based means coverage is tracked per non-branching code block. Oversimplified this can be seen as coverage is recorder per pair of curly braces. If you don't have any control flow statement inside a method there is just one block. If you have an if statement (without else) there will be up to 3 blocks (one before the if statement, the &quot;then&quot; part of the if statement and one block after the if statement and so on).</code></p>\n"}],"owner":{"account_id":16134187,"reputation":2577,"user_id":11647025,"display_name":"crissal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1653255942,"creation_date":1627583294,"question_id":68581224,"body_markdown":"I am currently trying to extract mutations generated from tools&#39; reports, and I&#39;m currently struggling with Pitest.\r\n\r\nGiven an XML Pitest report, it has a mutation list; each mutation element has *n* attributes, including `index` and `block`, which I cannot understand what they represent. \r\n\r\nExcluding them, I have a problem of mutation overlapping, i.e. two different mutations have the same parameters; including them, I don&#39;t have this problem.\r\n\r\nWhat does they represent? \r\n\r\nThis is an example of a report with two colliding mutations:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;mutations&gt;\r\n&lt;mutation detected=&#39;false&#39; status=&#39;SURVIVED&#39; numberOfTestsRun=&#39;2&#39;&gt;&lt;sourceFile&gt;HelpFormatter.java&lt;/sourceFile&gt;&lt;mutatedClass&gt;org.apache.commons.cli.HelpFormatter&lt;/mutatedClass&gt;&lt;mutatedMethod&gt;renderOptions&lt;/mutatedMethod&gt;&lt;methodDescription&gt;(Ljava/lang/StringBuffer;ILorg/apache/commons/cli/Options;II)Ljava/lang/StringBuffer;&lt;/methodDescription&gt;&lt;lineNumber&gt;786&lt;/lineNumber&gt;&lt;mutator&gt;org.pitest.mutationtest.engine.gregor.mutators.RemoveConditionalMutator_EQUAL_ELSE&lt;/mutator&gt;&lt;index&gt;122&lt;/index&gt;&lt;block&gt;37&lt;/block&gt;&lt;killingTest/&gt;&lt;description&gt;removed conditional - replaced equality check with false&lt;/description&gt;&lt;/mutation&gt;\r\n&lt;mutation detected=&#39;false&#39; status=&#39;SURVIVED&#39; numberOfTestsRun=&#39;1&#39;&gt;&lt;sourceFile&gt;HelpFormatter.java&lt;/sourceFile&gt;&lt;mutatedClass&gt;org.apache.commons.cli.HelpFormatter&lt;/mutatedClass&gt;&lt;mutatedMethod&gt;renderOptions&lt;/mutatedMethod&gt;&lt;methodDescription&gt;(Ljava/lang/StringBuffer;ILorg/apache/commons/cli/Options;II)Ljava/lang/StringBuffer;&lt;/methodDescription&gt;&lt;lineNumber&gt;786&lt;/lineNumber&gt;&lt;mutator&gt;org.pitest.mutationtest.engine.gregor.mutators.RemoveConditionalMutator_EQUAL_ELSE&lt;/mutator&gt;&lt;index&gt;125&lt;/index&gt;&lt;block&gt;39&lt;/block&gt;&lt;killingTest/&gt;&lt;description&gt;removed conditional - replaced equality check with false&lt;/description&gt;&lt;/mutation&gt;\r\n&lt;/mutations&gt;\r\n```\r\n\r\nAnd this is the Java line that caused these two mutations:\r\n```java\r\nif (argName != null &amp;&amp; argName.length() == 0)\r\n```","title":"What these two tags represent in a Pitest XML report?","body":"<p>I am currently trying to extract mutations generated from tools' reports, and I'm currently struggling with Pitest.</p>\n<p>Given an XML Pitest report, it has a mutation list; each mutation element has <em>n</em> attributes, including <code>index</code> and <code>block</code>, which I cannot understand what they represent.</p>\n<p>Excluding them, I have a problem of mutation overlapping, i.e. two different mutations have the same parameters; including them, I don't have this problem.</p>\n<p>What does they represent?</p>\n<p>This is an example of a report with two colliding mutations:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;mutations&gt;\n&lt;mutation detected='false' status='SURVIVED' numberOfTestsRun='2'&gt;&lt;sourceFile&gt;HelpFormatter.java&lt;/sourceFile&gt;&lt;mutatedClass&gt;org.apache.commons.cli.HelpFormatter&lt;/mutatedClass&gt;&lt;mutatedMethod&gt;renderOptions&lt;/mutatedMethod&gt;&lt;methodDescription&gt;(Ljava/lang/StringBuffer;ILorg/apache/commons/cli/Options;II)Ljava/lang/StringBuffer;&lt;/methodDescription&gt;&lt;lineNumber&gt;786&lt;/lineNumber&gt;&lt;mutator&gt;org.pitest.mutationtest.engine.gregor.mutators.RemoveConditionalMutator_EQUAL_ELSE&lt;/mutator&gt;&lt;index&gt;122&lt;/index&gt;&lt;block&gt;37&lt;/block&gt;&lt;killingTest/&gt;&lt;description&gt;removed conditional - replaced equality check with false&lt;/description&gt;&lt;/mutation&gt;\n&lt;mutation detected='false' status='SURVIVED' numberOfTestsRun='1'&gt;&lt;sourceFile&gt;HelpFormatter.java&lt;/sourceFile&gt;&lt;mutatedClass&gt;org.apache.commons.cli.HelpFormatter&lt;/mutatedClass&gt;&lt;mutatedMethod&gt;renderOptions&lt;/mutatedMethod&gt;&lt;methodDescription&gt;(Ljava/lang/StringBuffer;ILorg/apache/commons/cli/Options;II)Ljava/lang/StringBuffer;&lt;/methodDescription&gt;&lt;lineNumber&gt;786&lt;/lineNumber&gt;&lt;mutator&gt;org.pitest.mutationtest.engine.gregor.mutators.RemoveConditionalMutator_EQUAL_ELSE&lt;/mutator&gt;&lt;index&gt;125&lt;/index&gt;&lt;block&gt;39&lt;/block&gt;&lt;killingTest/&gt;&lt;description&gt;removed conditional - replaced equality check with false&lt;/description&gt;&lt;/mutation&gt;\n&lt;/mutations&gt;\n</code></pre>\n<p>And this is the Java line that caused these two mutations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (argName != null &amp;&amp; argName.length() == 0)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-hateoas","hateoas"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653254434,"creation_date":1653254434,"answer_id":72341359,"question_id":72319230,"body_markdown":"As you can see in its source code `LinkBuilderSupport` already provides a [constructor](https://github.com/spring-projects/spring-hateoas/blob/19c2480f48ffeed1dd86befa8c80287a7fcc86dd/src/main/java/org/springframework/hateoas/server/core/LinkBuilderSupport.java#L62-L71) with the two required arguments, `UriComponents` and `List&lt;Affordance&gt;`.\r\n\r\nIn the own library codebase, different `LinkBuilder`s implementations as [`BasicLinkBuilder`](https://github.com/spring-projects/spring-hateoas/blob/7a17be558a77b158e7a4c6a40a5e5609fffd91f8/src/main/java/org/springframework/hateoas/server/mvc/BasicLinkBuilder.java) or  [`TemplateVariableAwareLinkBuilderSupport`](https://github.com/spring-projects/spring-hateoas/blob/7a17be558a77b158e7a4c6a40a5e5609fffd91f8/src/main/java/org/springframework/hateoas/server/core/TemplateVariableAwareLinkBuilderSupport.java) already takes advantage of this fact in their implementations.\r\n\r\nIn your use case, you could try something similar to this:\r\n\r\n```java\r\npublic class StaticPathLinkBuilder extends LinkBuilderSupport&lt;StaticPathLinkBuilder&gt; {\r\n\r\n  private StaticPathLinkBuilder(UriComponents components, List&lt;Affordance&gt; affordances) {\r\n    super(components, affordances);\r\n  }\r\n\r\n  @Override\r\n  protected StaticPathLinkBuilder createNewInstance(UriComponents components, List&lt;Affordance&gt; affordances) {\r\n    return new StaticPathLinkBuilder(components, affordances);\r\n  }\r\n}\r\n```\r\n","title":"Migrate builder to Spring hateoas 2.6.7","body":"<p>As you can see in its source code <code>LinkBuilderSupport</code> already provides a <a href=\"https://github.com/spring-projects/spring-hateoas/blob/19c2480f48ffeed1dd86befa8c80287a7fcc86dd/src/main/java/org/springframework/hateoas/server/core/LinkBuilderSupport.java#L62-L71\" rel=\"nofollow noreferrer\">constructor</a> with the two required arguments, <code>UriComponents</code> and <code>List&lt;Affordance&gt;</code>.</p>\n<p>In the own library codebase, different <code>LinkBuilder</code>s implementations as <a href=\"https://github.com/spring-projects/spring-hateoas/blob/7a17be558a77b158e7a4c6a40a5e5609fffd91f8/src/main/java/org/springframework/hateoas/server/mvc/BasicLinkBuilder.java\" rel=\"nofollow noreferrer\"><code>BasicLinkBuilder</code></a> or  <a href=\"https://github.com/spring-projects/spring-hateoas/blob/7a17be558a77b158e7a4c6a40a5e5609fffd91f8/src/main/java/org/springframework/hateoas/server/core/TemplateVariableAwareLinkBuilderSupport.java\" rel=\"nofollow noreferrer\"><code>TemplateVariableAwareLinkBuilderSupport</code></a> already takes advantage of this fact in their implementations.</p>\n<p>In your use case, you could try something similar to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StaticPathLinkBuilder extends LinkBuilderSupport&lt;StaticPathLinkBuilder&gt; {\n\n  private StaticPathLinkBuilder(UriComponents components, List&lt;Affordance&gt; affordances) {\n    super(components, affordances);\n  }\n\n  @Override\n  protected StaticPathLinkBuilder createNewInstance(UriComponents components, List&lt;Affordance&gt; affordances) {\n    return new StaticPathLinkBuilder(components, affordances);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72341359,"answer_count":1,"score":2,"last_activity_date":1653254434,"creation_date":1653051052,"question_id":72319230,"body_markdown":"I have this old code implemented in hateoas:1.0\r\n\r\n      public class StaticPathLinkBuilder extends LinkBuilderSupport&lt;StaticPathLinkBuilder&gt; {\r\n    \r\n      @Override\r\n      protected StaticPathLinkBuilder createNewInstance(UriComponentsBuilder builder) {\r\n        return new StaticPathLinkBuilder(builder);\r\n      }\r\n\r\n\r\nI updated my code to hateoas 2.6.7 but the code is changed this way:\r\n\r\n    public class StaticPathLinkBuilder extends LinkBuilderSupport&lt;StaticPathLinkBuilder&gt; {\r\n    \r\n    @Override\r\n      protected StaticPathLinkBuilder createNewInstance(UriComponents components, List&lt;Affordance&gt; affordances) {\r\n        return null;\r\n      }\r\n\r\n\r\nWhat is the proper way to implement this change? I tried this:\r\n\r\n      @Override\r\n      protected StaticPathLinkBuilder createNewInstance(UriComponents components, List&lt;Affordance&gt; affordances) {\r\n        return new StaticPathLinkBuilder(UriComponentsBuilder.newInstance().uriComponents(components));\r\n      }\r\n\r\nBut it&#39;s not clear how I have to implement the code that I can send `affordances`.\r\n\r\nCan you advice what is the proper way to implement this?","title":"Migrate builder to Spring hateoas 2.6.7","body":"<p>I have this old code implemented in hateoas:1.0</p>\n<pre><code>  public class StaticPathLinkBuilder extends LinkBuilderSupport&lt;StaticPathLinkBuilder&gt; {\n\n  @Override\n  protected StaticPathLinkBuilder createNewInstance(UriComponentsBuilder builder) {\n    return new StaticPathLinkBuilder(builder);\n  }\n</code></pre>\n<p>I updated my code to hateoas 2.6.7 but the code is changed this way:</p>\n<pre><code>public class StaticPathLinkBuilder extends LinkBuilderSupport&lt;StaticPathLinkBuilder&gt; {\n\n@Override\n  protected StaticPathLinkBuilder createNewInstance(UriComponents components, List&lt;Affordance&gt; affordances) {\n    return null;\n  }\n</code></pre>\n<p>What is the proper way to implement this change? I tried this:</p>\n<pre><code>  @Override\n  protected StaticPathLinkBuilder createNewInstance(UriComponents components, List&lt;Affordance&gt; affordances) {\n    return new StaticPathLinkBuilder(UriComponentsBuilder.newInstance().uriComponents(components));\n  }\n</code></pre>\n<p>But it's not clear how I have to implement the code that I can send <code>affordances</code>.</p>\n<p>Can you advice what is the proper way to implement this?</p>\n"},{"tags":["java","string","counter"],"comments":[{"owner":{"account_id":25014379,"reputation":51,"user_id":18873592,"display_name":"Orest Dymarchuk"},"score":0,"creation_date":1653253019,"post_id":72341172,"comment_id":127800271,"body_markdown":"No, because I have many words and I have to loop over every word, unfortunately, I can&#39;t use a specified index @ATP","body":"No, because I have many words and I have to loop over every word, unfortunately, I can&#39;t use a specified index @ATP"},{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":1,"creation_date":1653253171,"post_id":72341172,"comment_id":127800295,"body_markdown":"you can. after splitting the array for &quot; &quot; you know for sure that `word.charAt(0)` is the beginning of the word. work with `word` not with `text`, it was a mistake in the first comment also","body":"you can. after splitting the array for &quot; &quot; you know for sure that <code>word.charAt(0)</code> is the beginning of the word. work with <code>word</code> not with <code>text</code>, it was a mistake in the first comment also"},{"owner":{"account_id":25014379,"reputation":51,"user_id":18873592,"display_name":"Orest Dymarchuk"},"score":0,"creation_date":1653253421,"post_id":72341172,"comment_id":127800338,"body_markdown":"Thanks, it helped, Character.isUpperCase(words[i].charAt(0), now I can access to every word of array, now I have to figure out how to use both Character.isUpperCase and Character.isLowerCase in the same if @ATP","body":"Thanks, it helped, Character.isUpperCase(words[i].charAt(0), now I can access to every word of array, now I have to figure out how to use both Character.isUpperCase and Character.isLowerCase in the same if @ATP"},{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":1,"creation_date":1653253557,"post_id":72341172,"comment_id":127800357,"body_markdown":"use `&amp;&amp;` like you did for the `wordLength&gt;2`.  you want all the 3  statements to be `true`. see my answer","body":"use <code>&amp;&amp;</code> like you did for the <code>wordLength&gt;2</code>.  you want all the 3  statements to be <code>true</code>. see my answer"}],"answers":[{"tags":[],"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653253432,"creation_date":1653253432,"answer_id":72341294,"question_id":72341172,"body_markdown":"You can use `word.charAt(0)` and `word.charAt(1)` to get the first and second character in each word in the loop.\r\n\r\n    class NameCounterTest {\r\n        public static void main(String[] args) {\r\n            // 1\r\n            System.out.println(new NameCounter().count(&quot;Mars is great planet&quot;));\r\n    \r\n            // 2\r\n            System.out.println(new NameCounter().count(&quot;Moon is near Earth&quot;));\r\n    \r\n            // 0\r\n            System.out.println(new NameCounter().count(&quot;SPACE IS GREAT&quot;));\r\n        }\r\n    }\r\n    \r\n    class NameCounter {\r\n        public int count(String text) {\r\n            String[] words = text.split(&quot; &quot;);\r\n    \r\n            int wordLength = 0, counter = 0;\r\n    \r\n            for (int i = 0; i &lt; words.length; i++) {\r\n                String word = words[i];\r\n                wordLength = word.length();\r\n    \r\n                if (wordLength &gt;= 2 &amp;&amp; Character.isUpperCase(word.charAt(0)) &amp;&amp; Character.isLowerCase(word.charAt(1)))\r\n                    counter++;\r\n            }\r\n            return counter;\r\n        }\r\n    }","title":"How to count count the number of names Java","body":"<p>You can use <code>word.charAt(0)</code> and <code>word.charAt(1)</code> to get the first and second character in each word in the loop.</p>\n<pre><code>class NameCounterTest {\n    public static void main(String[] args) {\n        // 1\n        System.out.println(new NameCounter().count(&quot;Mars is great planet&quot;));\n\n        // 2\n        System.out.println(new NameCounter().count(&quot;Moon is near Earth&quot;));\n\n        // 0\n        System.out.println(new NameCounter().count(&quot;SPACE IS GREAT&quot;));\n    }\n}\n\nclass NameCounter {\n    public int count(String text) {\n        String[] words = text.split(&quot; &quot;);\n\n        int wordLength = 0, counter = 0;\n\n        for (int i = 0; i &lt; words.length; i++) {\n            String word = words[i];\n            wordLength = word.length();\n\n            if (wordLength &gt;= 2 &amp;&amp; Character.isUpperCase(word.charAt(0)) &amp;&amp; Character.isLowerCase(word.charAt(1)))\n                counter++;\n        }\n        return counter;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25014379,"reputation":51,"user_id":18873592,"display_name":"Orest Dymarchuk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72341294,"answer_count":1,"score":0,"last_activity_date":1653253432,"creation_date":1653252288,"question_id":72341172,"body_markdown":"Hi guys.\r\nI&#39;m new to Java, currently learning Strings.\r\n\r\nI have a task to count the number of names, the length of the name must be at least two, the first letter of the name should start with upper case, the second with lower case.\r\n\r\nThe issue is that I don&#39;t know how to use the Character.isUpperCase(text.charAt(i)) and Character.isLowerCase(text.charAt(i + 1)) in the same if.\r\n\r\nI would use some advice or hint.\r\n\r\n    class NameCounterTest {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// 1\r\n    \t\tSystem.out.println(new NameCounter().count(&quot;Mars is great planet&quot;));\r\n    \r\n    \t\t// 2\r\n    \t\tSystem.out.println(new NameCounter().count(&quot;Moon is near Earth&quot;));\r\n    \r\n    \t\t// 0\r\n    \t\tSystem.out.println(new NameCounter().count(&quot;SPACE IS GREAT&quot;));\r\n    \t}\r\n    }\r\n    \r\n    class NameCounter {\r\n    \tpublic int count(String text) {\r\n    \t\tString[] words = text.split(&quot; &quot;);\r\n    \r\n    \t\tint wordLength = 0, counter = 0;\r\n    \r\n    \t\tfor (int i = 0; i &lt; words.length; i++) {\r\n    \t\t\tString word = words[i];\r\n    \t\t\twordLength = word.length();\r\n    \r\n    \t\t\tif (wordLength &gt;= 2 &amp;&amp; Character.isUpperCase(text.charAt(i)))\r\n    \t\t\t\tcounter++;\r\n    \t\t}\r\n    \t\treturn counter;\r\n    \t}\r\n    }\r\n\r\n    Output:\r\n    1; //Should be 1;\r\n    1; //Should be 2;\r\n    3; //Should be 0;\r\n\r\n\r\n","title":"How to count count the number of names Java","body":"<p>Hi guys.\nI'm new to Java, currently learning Strings.</p>\n<p>I have a task to count the number of names, the length of the name must be at least two, the first letter of the name should start with upper case, the second with lower case.</p>\n<p>The issue is that I don't know how to use the Character.isUpperCase(text.charAt(i)) and Character.isLowerCase(text.charAt(i + 1)) in the same if.</p>\n<p>I would use some advice or hint.</p>\n<pre><code>class NameCounterTest {\n    public static void main(String[] args) {\n        // 1\n        System.out.println(new NameCounter().count(&quot;Mars is great planet&quot;));\n\n        // 2\n        System.out.println(new NameCounter().count(&quot;Moon is near Earth&quot;));\n\n        // 0\n        System.out.println(new NameCounter().count(&quot;SPACE IS GREAT&quot;));\n    }\n}\n\nclass NameCounter {\n    public int count(String text) {\n        String[] words = text.split(&quot; &quot;);\n\n        int wordLength = 0, counter = 0;\n\n        for (int i = 0; i &lt; words.length; i++) {\n            String word = words[i];\n            wordLength = word.length();\n\n            if (wordLength &gt;= 2 &amp;&amp; Character.isUpperCase(text.charAt(i)))\n                counter++;\n        }\n        return counter;\n    }\n}\n\nOutput:\n1; //Should be 1;\n1; //Should be 2;\n3; //Should be 0;\n</code></pre>\n"},{"tags":["java","spring","tomcat","keystore"],"comments":[{"owner":{"account_id":3584048,"reputation":2341,"user_id":2991594,"accept_rate":80,"display_name":"Pelit Mamani"},"score":0,"creation_date":1435033393,"post_id":30992424,"comment_id":50016861,"body_markdown":"Could you post the complete exception message &amp; stacktrace? I wonder if it could be a JVM definition issue(different security providers? different trust store?). The stacktrace might help.","body":"Could you post the complete exception message &amp; stacktrace? I wonder if it could be a JVM definition issue(different security providers? different trust store?). The stacktrace might help."},{"owner":{"account_id":2406720,"reputation":181,"user_id":2102974,"display_name":"P. Rower"},"score":0,"creation_date":1435073607,"post_id":30992424,"comment_id":50041580,"body_markdown":"Tracing the decompiled code of JavaKeyStore. These lines are executing.  `if (xMagic!=MAGIC ||\n                (xVersion!=VERSION_1 &amp;&amp; xVersion!=VERSION_2)) {\n                throw new IOException(&quot;Invalid keystore format&quot;);\n            }`","body":"Tracing the decompiled code of JavaKeyStore. These lines are executing.  <code>if (xMagic!=MAGIC ||                 (xVersion!=VERSION_1 &amp;&amp; xVersion!=VERSION_2)) {                 throw new IOException(&quot;Invalid keystore format&quot;);             }</code>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1652868730,"post_id":30992424,"comment_id":127709034,"body_markdown":"1. What is `env`? 2. Is your keystore really of `KeyStore.getDefaultType()`?","body":"1. What is <code>env</code>? 2. Is your keystore really of <code>KeyStore.getDefaultType()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2406720,"reputation":181,"user_id":2102974,"display_name":"P. Rower"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1435078988,"creation_date":1435075709,"answer_id":31007983,"question_id":30992424,"body_markdown":"I found my problem... my Maven filtering was corrupting the keystore.  I need to add the following to my pom.xml.  Sadly I don&#39;t think this the first time I had this problem. :(\r\n\r\npom.xml:\r\n`\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*.xml&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/*.jks&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*.jks&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/*.xml&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n`","title":"Tomcat java.io.IOException: Invalid keystore format when loading keystore via Classloader","body":"<p>I found my problem... my Maven filtering was corrupting the keystore.  I need to add the following to my pom.xml.  Sadly I don't think this the first time I had this problem. :(</p>\n\n<p>pom.xml:\n<code>\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.xml&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.jks&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.jks&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.xml&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n</code></p>\n"},{"tags":[],"owner":{"account_id":16639361,"reputation":11,"user_id":12025299,"display_name":"xiaochangbai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653253340,"creation_date":1652868238,"answer_id":72287084,"question_id":30992424,"body_markdown":"This is because Maven transcodes the key file during packaging. It can be solved by adding this Maven plug-in.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n            &lt;useDefaultDelimiters&gt;false&lt;/useDefaultDelimiters&gt;\r\n            &lt;delimiters&gt;\r\n                &lt;delimiter&gt;$[*]&lt;/delimiter&gt;\r\n            &lt;/delimiters&gt;\r\n            &lt;!-- Filter file suffixes that do not require transcoding .crt/.p8/jks --&gt;\r\n            &lt;nonFilteredFileExtensions&gt;\r\n                &lt;nonFilteredFileExtension&gt;crt&lt;/nonFilteredFileExtension&gt;\r\n                &lt;nonFilteredFileExtension&gt;p8&lt;/nonFilteredFileExtension&gt;\r\n                &lt;nonFilteredFileExtension&gt;jks&lt;/nonFilteredFileExtension&gt;\r\n            &lt;/nonFilteredFileExtensions&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Tomcat java.io.IOException: Invalid keystore format when loading keystore via Classloader","body":"<p>This is because Maven transcodes the key file during packaging. It can be solved by adding this Maven plug-in.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;useDefaultDelimiters&gt;false&lt;/useDefaultDelimiters&gt;\n        &lt;delimiters&gt;\n            &lt;delimiter&gt;$[*]&lt;/delimiter&gt;\n        &lt;/delimiters&gt;\n        &lt;!-- Filter file suffixes that do not require transcoding .crt/.p8/jks --&gt;\n        &lt;nonFilteredFileExtensions&gt;\n            &lt;nonFilteredFileExtension&gt;crt&lt;/nonFilteredFileExtension&gt;\n            &lt;nonFilteredFileExtension&gt;p8&lt;/nonFilteredFileExtension&gt;\n            &lt;nonFilteredFileExtension&gt;jks&lt;/nonFilteredFileExtension&gt;\n        &lt;/nonFilteredFileExtensions&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":2406720,"reputation":181,"user_id":2102974,"display_name":"P. Rower"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6866,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1653253340,"creation_date":1435022845,"question_id":30992424,"body_markdown":"I&#39;ve been trying for sometime to figure out this problem.  I keep getting invalid keystore format error when loading keystore via the Classloader on Tomcat.  I&#39;ve written some unit tests which are successful at loading my keystore via the classpath, but when running in Tomcat I get the Invalid keystore format error.\r\n\r\nThis is for a RestTemplate Spring REST client.\r\n\r\nMy Spring Configuration code... pretty much the same in the unit test and real config.\r\n\r\n    @Value(&quot;${env}&quot;)\r\n    private String env;\r\n\r\n    @Bean\r\n    public RestTemplate getRestTemplate(HttpComponentsClientHttpRequestFactory httpComponentsClientHttpRequestFactory) {\r\n        return new RestTemplate(httpComponentsClientHttpRequestFactory);\r\n    }\r\n\r\n    @Bean\r\n    public HttpComponentsClientHttpRequestFactory getHttpComponentsClientHttpRequestFactory(HttpClient httpClient) {\r\n        HttpComponentsClientHttpRequestFactory httpComponentsClientHttpRequestFactory = new HttpComponentsClientHttpRequestFactory(httpClient);\r\n        return httpComponentsClientHttpRequestFactory;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public HttpClientConnectionManager getHttpClientConnectionManager() throws Exception {\r\n        String password = environment.getProperty(&quot;keystore.password&quot;);\r\n        InputStream cpStream = Thread.currentThread().getContextClassLoader().getResourceAsStream(env + &quot;/keystore.jks&quot;);\r\n\r\n        //load the keystore\r\n        KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        keystore.load(cpStream, password.toCharArray());\r\n        SSLContext sslContext  = SSLContexts.custom().loadTrustMaterial(keystore).build();\r\n        SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslContext);\r\n\r\n        PlainConnectionSocketFactory plainsf = PlainConnectionSocketFactory.getSocketFactory();\r\n        Registry&lt;ConnectionSocketFactory&gt; r = RegistryBuilder.&lt;ConnectionSocketFactory&gt;create().register(&quot;http&quot;,plainsf).register(&quot;https&quot;,sslsf).build();\r\n\r\n        PoolingHttpClientConnectionManager cm = new PoolingHttpClientConnectionManager(r);\r\n        cm.setMaxTotal(200);\r\n        cm.setDefaultMaxPerRoute(50);\r\n        return cm;\r\n    }\r\n\r\n    @Bean\r\n    public HttpClient getHttpClient(HttpClientConnectionManager httpClientConnectionManager) {\r\n        return HttpClients.custom().setConnectionManager(httpClientConnectionManager).build();\r\n    }\r\n\r\nThis code works fine to create my `RestTemplate` with keystore I need for my `SSLContext` in my unit test.  I&#39;ve also tried following different ways to get the InputStream for my keystore from the class loader via my unit test and these all worked too.\r\n\r\n    InputStream cpStream = this.getClass().getClassLoader().getResourceAsStream(env + &quot;/csaa.jks&quot;);\r\n\r\n    InputStream cpStream = this.getClass().getResourceAsStream(&quot;/&quot; + env + &quot;/csaa.jks&quot;);\r\n   \r\nThe `env` variable is just a way to load a particular environments properties... env=DEV , etc....  Everything works fine with running this with JUnit `SpringJUnit4ClassRunner.class` but when deploying it to Tomcat I always get the Invalid keystore error.  If I use a `FileInputStream` with a hard coded path to the keystore on the file system it works just fine in Tomcat.  I really want to load it with the Classloader.\r\n\r\nI tried it in Liberty Profile too with same results.\r\n\r\nRelevant part of the stack trace:\r\n\r\n    Caused by: java.io.IOException: Invalid keystore format\r\n\tat sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:650)\r\n\tat sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:55)\r\n\tat java.security.KeyStore.load(KeyStore.java:1445)\r\n","title":"Tomcat java.io.IOException: Invalid keystore format when loading keystore via Classloader","body":"<p>I've been trying for sometime to figure out this problem.  I keep getting invalid keystore format error when loading keystore via the Classloader on Tomcat.  I've written some unit tests which are successful at loading my keystore via the classpath, but when running in Tomcat I get the Invalid keystore format error.</p>\n\n<p>This is for a RestTemplate Spring REST client.</p>\n\n<p>My Spring Configuration code... pretty much the same in the unit test and real config.</p>\n\n<pre><code>@Value(\"${env}\")\nprivate String env;\n\n@Bean\npublic RestTemplate getRestTemplate(HttpComponentsClientHttpRequestFactory httpComponentsClientHttpRequestFactory) {\n    return new RestTemplate(httpComponentsClientHttpRequestFactory);\n}\n\n@Bean\npublic HttpComponentsClientHttpRequestFactory getHttpComponentsClientHttpRequestFactory(HttpClient httpClient) {\n    HttpComponentsClientHttpRequestFactory httpComponentsClientHttpRequestFactory = new HttpComponentsClientHttpRequestFactory(httpClient);\n    return httpComponentsClientHttpRequestFactory;\n}\n\n\n@Bean\npublic HttpClientConnectionManager getHttpClientConnectionManager() throws Exception {\n    String password = environment.getProperty(\"keystore.password\");\n    InputStream cpStream = Thread.currentThread().getContextClassLoader().getResourceAsStream(env + \"/keystore.jks\");\n\n    //load the keystore\n    KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\n    keystore.load(cpStream, password.toCharArray());\n    SSLContext sslContext  = SSLContexts.custom().loadTrustMaterial(keystore).build();\n    SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslContext);\n\n    PlainConnectionSocketFactory plainsf = PlainConnectionSocketFactory.getSocketFactory();\n    Registry&lt;ConnectionSocketFactory&gt; r = RegistryBuilder.&lt;ConnectionSocketFactory&gt;create().register(\"http\",plainsf).register(\"https\",sslsf).build();\n\n    PoolingHttpClientConnectionManager cm = new PoolingHttpClientConnectionManager(r);\n    cm.setMaxTotal(200);\n    cm.setDefaultMaxPerRoute(50);\n    return cm;\n}\n\n@Bean\npublic HttpClient getHttpClient(HttpClientConnectionManager httpClientConnectionManager) {\n    return HttpClients.custom().setConnectionManager(httpClientConnectionManager).build();\n}\n</code></pre>\n\n<p>This code works fine to create my <code>RestTemplate</code> with keystore I need for my <code>SSLContext</code> in my unit test.  I've also tried following different ways to get the InputStream for my keystore from the class loader via my unit test and these all worked too.</p>\n\n<pre><code>InputStream cpStream = this.getClass().getClassLoader().getResourceAsStream(env + \"/csaa.jks\");\n\nInputStream cpStream = this.getClass().getResourceAsStream(\"/\" + env + \"/csaa.jks\");\n</code></pre>\n\n<p>The <code>env</code> variable is just a way to load a particular environments properties... env=DEV , etc....  Everything works fine with running this with JUnit <code>SpringJUnit4ClassRunner.class</code> but when deploying it to Tomcat I always get the Invalid keystore error.  If I use a <code>FileInputStream</code> with a hard coded path to the keystore on the file system it works just fine in Tomcat.  I really want to load it with the Classloader.</p>\n\n<p>I tried it in Liberty Profile too with same results.</p>\n\n<p>Relevant part of the stack trace:</p>\n\n<pre><code>Caused by: java.io.IOException: Invalid keystore format\nat sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:650)\nat sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:55)\nat java.security.KeyStore.load(KeyStore.java:1445)\n</code></pre>\n"},{"tags":["java","swing","jframe","jpanel","visibility"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1351658701,"post_id":13151383,"comment_id":17891031,"body_markdown":"For better help sooner, post an [SSCCE](http://sscce.org/).","body":"For better help sooner, post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>."},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":3,"creation_date":1351658812,"post_id":13151383,"comment_id":17891056,"body_markdown":"I am having a hard time finding `JFrame` in your code. Why are you doing `setVisible(true)` on your panels?","body":"I am having a hard time finding <code>JFrame</code> in your code. Why are you doing <code>setVisible(true)</code> on your panels?"},{"owner":{"account_id":1994173,"reputation":31,"user_id":1787458,"display_name":"user1787458"},"score":0,"creation_date":1351659393,"post_id":13151383,"comment_id":17891168,"body_markdown":"I added the JFrame and i set it to true messing around to try to solve the problem of the panels not showing up","body":"I added the JFrame and i set it to true messing around to try to solve the problem of the panels not showing up"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1351659595,"post_id":13151383,"comment_id":17891206,"body_markdown":"`frame.add(new InputPanel()); frame.add(new PaintPanel());`  The default layout for frame will take only one component with no constraint.  Change it to something like `GridLayout(1,0)`","body":"<code>frame.add(new InputPanel()); frame.add(new PaintPanel());</code>  The default layout for frame will take only one component with no constraint.  Change it to something like <code>GridLayout(1,0)</code>"},{"owner":{"account_id":880433,"reputation":2228,"user_id":1151902,"accept_rate":30,"display_name":"Tej Kiran"},"score":0,"creation_date":1351660385,"post_id":13151383,"comment_id":17891364,"body_markdown":"1.  class PaintPanel here in the class you create one more panel which is not added to the this panel add following statement\nthis.add(panel);\n\n2.InputPanel : Same as above\nthis.add(panel);\n\nFinally you did not set LayoutManage for JFrame as well as JPanel \nSo You need to set it also","body":"1.  class PaintPanel here in the class you create one more panel which is not added to the this panel add following statement this.add(panel);  2.InputPanel : Same as above this.add(panel);  Finally you did not set LayoutManage for JFrame as well as JPanel  So You need to set it also"},{"owner":{"account_id":880433,"reputation":2228,"user_id":1151902,"accept_rate":30,"display_name":"Tej Kiran"},"score":0,"creation_date":1351660573,"post_id":13151383,"comment_id":17891409,"body_markdown":"Add For Both Panel\nGridBagConstraints gb = new GridBagConstraints();\ngb.gridwidth = GridBagConstraints.REMAINDER;\npanel.add(rect,gb);\npanel.add(oval,gb);\npanel.add(line,gb);\npanel.add(fill,gb);\npanel.add(color1,gb);\nthis.add(panel);","body":"Add For Both Panel GridBagConstraints gb = new GridBagConstraints(); gb.gridwidth = GridBagConstraints.REMAINDER; panel.add(rect,gb); panel.add(oval,gb); panel.add(line,gb); panel.add(fill,gb); panel.add(color1,gb); this.add(panel);"}],"answers":[{"tags":[],"owner":{"account_id":1196838,"reputation":6753,"user_id":1168372,"accept_rate":79,"display_name":"Sujay"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1351660877,"creation_date":1351660507,"answer_id":13151648,"question_id":13151383,"body_markdown":"Apart from what Andrew mentioned, I noticed that within both your *InputPanel* and *PaintPanel* you&#39;re creating a new JPanel. You&#39;re adding new components to this panel, for sure, but at the end you&#39;re not adding this JPanel itself to your *InputPanel* or *PaintPanel*. So, make sure that in your constructors for these panels you have a `add(panel)`  at the end.\r\n\r\nAlso, as a side note, do please keep in mind that most operations in Swing are not thread-safe and so read about [&quot;Concurrency in Swing&quot;][1] before creating/interacting with UI components. In other words, any updates to the user interface must happen on the event dispatch thread, like the start-up of your application:\r\n\r\n    public static void main(String[] args){\r\n    \r\n    \tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\tJFrame frame = new JFrame(&quot;Shape Drawer!&quot;);\r\n    \t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\t\t//set the layout, add your panels\r\n    \r\n    \t\t\tframe.pack();\r\n    \t\t\tframe.setVisible(true);\t\t\t\t\r\n    \t\t}\r\n    \t});\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html","title":"Why are my panels not showing up in the JFrame","body":"<p>Apart from what Andrew mentioned, I noticed that within both your <em>InputPanel</em> and <em>PaintPanel</em> you're creating a new JPanel. You're adding new components to this panel, for sure, but at the end you're not adding this JPanel itself to your <em>InputPanel</em> or <em>PaintPanel</em>. So, make sure that in your constructors for these panels you have a <code>add(panel)</code>  at the end.</p>\n\n<p>Also, as a side note, do please keep in mind that most operations in Swing are not thread-safe and so read about <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow\">\"Concurrency in Swing\"</a> before creating/interacting with UI components. In other words, any updates to the user interface must happen on the event dispatch thread, like the start-up of your application:</p>\n\n<pre><code>public static void main(String[] args){\n\n    SwingUtilities.invokeLater(new Runnable() {\n        @Override\n        public void run() {\n            JFrame frame = new JFrame(\"Shape Drawer!\");\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n            //set the layout, add your panels\n\n            frame.pack();\n            frame.setVisible(true);             \n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1979869,"reputation":131,"user_id":1776749,"display_name":"sreejit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1351660632,"creation_date":1351660632,"answer_id":13151673,"question_id":13151383,"body_markdown":"JFrame by default uses BorderLayout. \r\n\r\n    frame.add(new InputPanel());\r\n    frame.add(new PaintPanel());\r\n\r\nis equivalent to saying,\r\n\r\n    frame.add(new InputPanel(), BorderLayout.CENTER);\r\n    frame.add(new PaintPanel(), BorderLayout.CENTER);\r\n\r\nThe net result being that the Panel that is added last would be the one that is visible, provided the rest of your code is working correctly.","title":"Why are my panels not showing up in the JFrame","body":"<p>JFrame by default uses BorderLayout. </p>\n\n<pre><code>frame.add(new InputPanel());\nframe.add(new PaintPanel());\n</code></pre>\n\n<p>is equivalent to saying,</p>\n\n<pre><code>frame.add(new InputPanel(), BorderLayout.CENTER);\nframe.add(new PaintPanel(), BorderLayout.CENTER);\n</code></pre>\n\n<p>The net result being that the Panel that is added last would be the one that is visible, provided the rest of your code is working correctly.</p>\n"},{"tags":[],"owner":{"account_id":25312980,"reputation":1,"user_id":19135495,"display_name":"Bernab&#233; Bila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653253132,"creation_date":1652785642,"answer_id":72272957,"question_id":13151383,"body_markdown":"Must add the panel to the frame, use:\r\n\r\n    this.add(panel);","title":"Why are my panels not showing up in the JFrame","body":"<p>Must add the panel to the frame, use:</p>\n<pre><code>this.add(panel);\n</code></pre>\n"}],"owner":{"account_id":1994173,"reputation":31,"user_id":1787458,"display_name":"user1787458"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5752,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1653253132,"creation_date":1351658568,"question_id":13151383,"body_markdown":"    public class InputPanel extends JPanel{\r\n        public static int shapeType; //1: Rectangle; 2: Oval; 3: Line\r\n        public static boolean isFilled; //whether or not the shape is filled\r\n        public static Color color; //color of the shape\r\n        \r\n        public InputPanel(){\r\n            \r\n            JPanel panel = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n            panel.setBackground(Color.GRAY);\r\n            setPreferredSize(new Dimension(200,500));\r\n            \r\n            JButton rect = new JButton(&quot;Rectangle&quot;);\r\n            JButton oval = new JButton(&quot;Oval&quot;);\r\n            JButton line = new JButton(&quot;Line&quot;);\r\n            JRadioButton fill = new JRadioButton(&quot;Filled:&quot;);\r\n            JButton color1 = new JButton(&quot;Color..&quot;);\r\n            \r\n            rect.addActionListener(new rectListener());\r\n            oval.addActionListener(new ovalListener());\r\n            line.addActionListener(new lineListener());\r\n            isFilled = fill.isSelected();\r\n            color1.addActionListener(new colorListener());\r\n            \r\n            panel.add(rect);\r\n            panel.add(oval);\r\n            panel.add(line);\r\n            panel.add(fill);\r\n            panel.add(color1);\r\n            \r\n            this.setVisible(true);\r\n            \r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    public class PaintPanel extends JPanel{\r\n        \r\n        public static int x1, y1, x2, y2;\r\n        \r\n        ArrayList&lt;Shape&gt; shapeList = new ArrayList&lt;Shape&gt;();\r\n        \r\n        public PaintPanel(){\r\n            \r\n            JPanel panel = new JPanel(new FlowLayout(FlowLayout.RIGHT));\r\n            panel.setBackground(Color.WHITE);\r\n            setPreferredSize(new Dimension(500, 500));\r\n            \r\n            this.addMouseListener(new MouseAdapter() {\r\n            @Override public void mousePressed(MouseEvent e) {\r\n                PaintPanel.x1 = e.getX();\r\n                PaintPanel.y1 = e.getY();\r\n            }\r\n    \r\n            @Override public void mouseReleased(MouseEvent e) {\r\n                PaintPanel.x2 = e.getX();\r\n                PaintPanel.y2 = e.getY();\r\n                if(InputPanel.shapeType == 1){\r\n                    shapeList.add(new Rectangle(PaintPanel.x1, PaintPanel.y1, PaintPanel.x2, PaintPanel.y2, InputPanel.isFilled));\r\n                }\r\n                if(InputPanel.shapeType == 2){\r\n                    shapeList.add(new Oval(PaintPanel.x1, PaintPanel.y1, PaintPanel.x2, PaintPanel.y2, InputPanel.isFilled));\r\n                }   \r\n                if(InputPanel.shapeType == 3){\r\n                    shapeList.add(new Line(PaintPanel.x1, PaintPanel.y1, PaintPanel.x2, PaintPanel.y2));\r\n                }\r\n                repaint();\r\n            }\r\n          });\r\n            \r\n         this.setVisible(true);   \r\n        }\r\n        \r\n        @Override \r\n        public void paintComponent(Graphics g){\r\n            super.paintComponent(g);\r\n            \r\n            for(Shape s : shapeList){\r\n                s.draw(g);\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    public class PaintGUI {\r\n        \r\n        public static void main(String[] args){\r\n            \r\n            JFrame frame = new JFrame(&quot;Shape Drawer!&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            \r\n            frame.add(new InputPanel());\r\n            frame.add(new PaintPanel());\r\n            \r\n            frame.pack();\r\n            \r\n            frame.setVisible(true);\r\n            \r\n        }\r\n        \r\n    }\r\n\r\nI&#39;m positive I&#39;ve created the JFrame properly and all of my other classes work, but there must be something in here I&#39;m missing...\r\nWhen I run the main method all I get is a gray box that is clearly a square (500x500, as instantiated in the PaintPanel class. What am I doing wrong?","title":"Why are my panels not showing up in the JFrame","body":"<pre><code>public class InputPanel extends JPanel{\n    public static int shapeType; //1: Rectangle; 2: Oval; 3: Line\n    public static boolean isFilled; //whether or not the shape is filled\n    public static Color color; //color of the shape\n\n    public InputPanel(){\n\n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.LEFT));\n        panel.setBackground(Color.GRAY);\n        setPreferredSize(new Dimension(200,500));\n\n        JButton rect = new JButton(\"Rectangle\");\n        JButton oval = new JButton(\"Oval\");\n        JButton line = new JButton(\"Line\");\n        JRadioButton fill = new JRadioButton(\"Filled:\");\n        JButton color1 = new JButton(\"Color..\");\n\n        rect.addActionListener(new rectListener());\n        oval.addActionListener(new ovalListener());\n        line.addActionListener(new lineListener());\n        isFilled = fill.isSelected();\n        color1.addActionListener(new colorListener());\n\n        panel.add(rect);\n        panel.add(oval);\n        panel.add(line);\n        panel.add(fill);\n        panel.add(color1);\n\n        this.setVisible(true);\n\n    }\n}\n\n\n\npublic class PaintPanel extends JPanel{\n\n    public static int x1, y1, x2, y2;\n\n    ArrayList&lt;Shape&gt; shapeList = new ArrayList&lt;Shape&gt;();\n\n    public PaintPanel(){\n\n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.RIGHT));\n        panel.setBackground(Color.WHITE);\n        setPreferredSize(new Dimension(500, 500));\n\n        this.addMouseListener(new MouseAdapter() {\n        @Override public void mousePressed(MouseEvent e) {\n            PaintPanel.x1 = e.getX();\n            PaintPanel.y1 = e.getY();\n        }\n\n        @Override public void mouseReleased(MouseEvent e) {\n            PaintPanel.x2 = e.getX();\n            PaintPanel.y2 = e.getY();\n            if(InputPanel.shapeType == 1){\n                shapeList.add(new Rectangle(PaintPanel.x1, PaintPanel.y1, PaintPanel.x2, PaintPanel.y2, InputPanel.isFilled));\n            }\n            if(InputPanel.shapeType == 2){\n                shapeList.add(new Oval(PaintPanel.x1, PaintPanel.y1, PaintPanel.x2, PaintPanel.y2, InputPanel.isFilled));\n            }   \n            if(InputPanel.shapeType == 3){\n                shapeList.add(new Line(PaintPanel.x1, PaintPanel.y1, PaintPanel.x2, PaintPanel.y2));\n            }\n            repaint();\n        }\n      });\n\n     this.setVisible(true);   \n    }\n\n    @Override \n    public void paintComponent(Graphics g){\n        super.paintComponent(g);\n\n        for(Shape s : shapeList){\n            s.draw(g);\n        }\n    }\n\n}\n\npublic class PaintGUI {\n\n    public static void main(String[] args){\n\n        JFrame frame = new JFrame(\"Shape Drawer!\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(new InputPanel());\n        frame.add(new PaintPanel());\n\n        frame.pack();\n\n        frame.setVisible(true);\n\n    }\n\n}\n</code></pre>\n\n<p>I'm positive I've created the JFrame properly and all of my other classes work, but there must be something in here I'm missing...\nWhen I run the main method all I get is a gray box that is clearly a square (500x500, as instantiated in the PaintPanel class. What am I doing wrong?</p>\n"},{"tags":["java","android","sqlite"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1653247848,"post_id":72339916,"comment_id":127799269,"body_markdown":"Does this answer your question? [How to perform an SQLite query within an Android application?](https://stackoverflow.com/questions/1243199/how-to-perform-an-sqlite-query-within-an-android-application)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1243199/how-to-perform-an-sqlite-query-within-an-android-application\">How to perform an SQLite query within an Android application?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653251901,"creation_date":1653248604,"answer_id":72340800,"question_id":72339916,"body_markdown":"&gt; All I need is to read data which Register activity inserted and put it in strings. How to do it?\r\n\r\nYou extract data into a **Cursor** using a query that SELECT&#39;s the appropriate data via a suitable **SQLiteDatabase** method that returns a **Cursor**. It is then a matter of traversing the returned **Cursor** using the **Cursor**&#39;s methods.\r\n\r\nThe two suitable SQLiteDatabase methods to query are the **query** method and **rawQuery**. The former being a convenience method that builds the underlying SQL based upon parameters passed to the method (of which there are four). The latter is passed the SQL string.\r\n\r\n- See https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#query(boolean,%20java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String)\r\n\r\ne.g. say you wanted to get the data for a provided email you could use:-\r\n\r\n    Cursor csr = database.query(TABLE_CONTACTS,null,&quot;KEY_EMAIL=?&quot;,new String[]{&quot;the_email_address&quot;},null,null,null);\r\n\r\n- The 3rd and 4th parameter are used to build the WHERE clause. The first is the actual clause where the ? is replaced (bound) using the 4th parameter. This is the recommended way to handle variable data within the query as it protects against SQL injection.\r\n\r\nor \r\n\r\n    Cursor csr = database.rawQuery(&quot;SELECT * FROM &quot; + TABLE_CONTACTS + &quot; WHERE &quot; + KEY_EMAIL + &quot;=?&quot;,new String[]{&quot;the_email_address&quot;});\r\n\r\n- The second parameter is data to be bound, i.e. to replace the ?&#39;s on a 1 by 1 basis.\r\n\r\nYou traverse the Cursor typicaly using the `move...` methods. It should be noted that a Cursor will be initially positioned at a position that is before the first row. So you have to move to a suitable row. In the case above you would be looking for just a single row; as such you would probably want to use the **`moveToFirst`** method. Noting that this returns true if the move can be made (there is a row) or false if the move cannot be made (there are no rows).\r\n\r\nSo you probably want\r\n\r\n    if (csr.moveToFirst()) {\r\n        ....\r\n    }\r\n    csr.close();\r\n\r\n\r\nYou extract the data from the Cursor using the `get...` methods to get the value from a column.\r\n\r\nSo to get all the data .... (the body of the `if` statement) could be :-\r\n\r\n    String id = csr.getString(0);\r\n    String email = csr.getString(1);\r\n    String user_binder = csr.getString(2);\r\n\r\nThis uses the Cursor&#39;s `get....` methods \r\n\r\n\r\n- see https://developer.android.com/reference/android/database/Cursor \r\n\r\n- Note this assumes that the table create is corrected, as according to your code you have two columns named email (which would result in an error), when it would appear that it should be an email column and the user_binder column.\r\n\r\n\r\n\r\n","title":"How to write the result of a query in SQLite to a variable","body":"<blockquote>\n<p>All I need is to read data which Register activity inserted and put it in strings. How to do it?</p>\n</blockquote>\n<p>You extract data into a <strong>Cursor</strong> using a query that SELECT's the appropriate data via a suitable <strong>SQLiteDatabase</strong> method that returns a <strong>Cursor</strong>. It is then a matter of traversing the returned <strong>Cursor</strong> using the <strong>Cursor</strong>'s methods.</p>\n<p>The two suitable SQLiteDatabase methods to query are the <strong>query</strong> method and <strong>rawQuery</strong>. The former being a convenience method that builds the underlying SQL based upon parameters passed to the method (of which there are four). The latter is passed the SQL string.</p>\n<ul>\n<li>See <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#query(boolean,%20java.lang.String,%20java.lang.String%5B%5D,%20java.lang.String,%20java.lang.String%5B%5D,%20java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#query(boolean,%20java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String)</a></li>\n</ul>\n<p>e.g. say you wanted to get the data for a provided email you could use:-</p>\n<pre><code>Cursor csr = database.query(TABLE_CONTACTS,null,&quot;KEY_EMAIL=?&quot;,new String[]{&quot;the_email_address&quot;},null,null,null);\n</code></pre>\n<ul>\n<li>The 3rd and 4th parameter are used to build the WHERE clause. The first is the actual clause where the ? is replaced (bound) using the 4th parameter. This is the recommended way to handle variable data within the query as it protects against SQL injection.</li>\n</ul>\n<p>or</p>\n<pre><code>Cursor csr = database.rawQuery(&quot;SELECT * FROM &quot; + TABLE_CONTACTS + &quot; WHERE &quot; + KEY_EMAIL + &quot;=?&quot;,new String[]{&quot;the_email_address&quot;});\n</code></pre>\n<ul>\n<li>The second parameter is data to be bound, i.e. to replace the ?'s on a 1 by 1 basis.</li>\n</ul>\n<p>You traverse the Cursor typicaly using the <code>move...</code> methods. It should be noted that a Cursor will be initially positioned at a position that is before the first row. So you have to move to a suitable row. In the case above you would be looking for just a single row; as such you would probably want to use the <strong><code>moveToFirst</code></strong> method. Noting that this returns true if the move can be made (there is a row) or false if the move cannot be made (there are no rows).</p>\n<p>So you probably want</p>\n<pre><code>if (csr.moveToFirst()) {\n    ....\n}\ncsr.close();\n</code></pre>\n<p>You extract the data from the Cursor using the <code>get...</code> methods to get the value from a column.</p>\n<p>So to get all the data .... (the body of the <code>if</code> statement) could be :-</p>\n<pre><code>String id = csr.getString(0);\nString email = csr.getString(1);\nString user_binder = csr.getString(2);\n</code></pre>\n<p>This uses the Cursor's <code>get....</code> methods</p>\n<ul>\n<li><p>see <a href=\"https://developer.android.com/reference/android/database/Cursor\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/database/Cursor</a></p>\n</li>\n<li><p>Note this assumes that the table create is corrected, as according to your code you have two columns named email (which would result in an error), when it would appear that it should be an email column and the user_binder column.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":24891622,"reputation":11,"user_id":19033919,"display_name":"art_egor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1653251901,"creation_date":1653241025,"question_id":72339916,"body_markdown":"I got a code:\r\nI got SQLite database with one table.:\r\n```\r\npackage com.example.kanlane;\r\n\r\nimport android.content.Context;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\npublic class SQLite extends SQLiteOpenHelper {\r\n\r\n    public static final int DATABASE_VERSION = 1;\r\n    public static final String DATABASE_NAME = &quot;sosDB&quot;;\r\n    public static final String TABLE_CONTACTS = &quot;contacts&quot;;\r\n\r\n    public static final String KEY_ID = &quot;_id&quot;;\r\n    public static final String KEY_EMAIL = &quot;email&quot;;\r\n    public static final String KEY_USERBINDER = &quot;user_binder&quot;;\r\n\r\n\r\n    public SQLite(Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        db.execSQL(&quot;create table &quot; + TABLE_CONTACTS + &quot;(&quot; + KEY_ID + &quot; integer primary key,&quot; + KEY_EMAIL +\r\n                &quot; text,&quot; + KEY_EMAIL + &quot; text&quot; + &quot;)&quot;);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        db.execSQL(&quot;drop table if exists &quot; + TABLE_CONTACTS);\r\n\r\n        onCreate(db);\r\n\r\n\r\n    }\r\n}\r\n```\r\nRegister activity which inserts data to SQLite, it inserts email and user_binder strings:\r\n```\r\npublic class Register extends AppCompatActivity {\r\n    //Variables\r\n    EditText mName, mEmail, mPassword, mUser_binder;\r\n    SQLite sqLite;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_register);\r\n\r\n\r\n        mName = findViewById(R.id.Name);\r\n        mEmail = findViewById(R.id.Email);\r\n        mPassword = findViewById(R.id.Password);\r\n        mUser_binder = findViewById(R.id.user_bind);\r\n        mLoginbtn = findViewById(R.id.login_mainscreen);\r\n        mRegisterBtn = findViewById(R.id.register_btn);\r\n\r\n        sqLite = new SQLite(this);\r\n\r\n\r\n       \r\n        mRegisterBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                \r\n                String id = mDataBase.getKey();\r\n                String name = mName.getText().toString().trim();\r\n                String email = mEmail.getText().toString().trim();\r\n                String password = mPassword.getText().toString().trim();\r\n                String user_binder = mUser_binder.getText().toString().trim();\r\n\r\n                SQLiteDatabase database = sqLite.getWritableDatabase();\r\n                ContentValues contentValues = new ContentValues();\r\n\r\n                contentValues.put(SQLite.KEY_EMAIL, email);\r\n                contentValues.put(SQLite.KEY_USERBINDER, user_binder);\r\n                database.insert(SQLite.TABLE_CONTACTS, null, contentValues);\r\n\r\n\r\n\r\n\r\n\r\n                User newUser = new User(id, name, email, password, user_binder);\r\n                mDataBase.push().setValue(newUser);\r\n\r\n                if(TextUtils.isEmpty(email)){\r\n                    mEmail.setError(&quot;Введите почту...&quot;);\r\n                    return;\r\n                }\r\n                if(TextUtils.isEmpty(password)){\r\n                    mEmail.setError(&quot;Введите пароль...&quot;);\r\n                    return;\r\n                }\r\n                if(password.length() &lt; 8 ){\r\n                    mPassword.setError(&quot;Пароль должен состоять из 8-ми символов.&quot;);\r\n                    return;\r\n                }\r\n\r\n                \r\n                fAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n\r\n\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if(task.isSuccessful()){\r\n\r\n                            Toast.makeText(Register.this, &quot;Пользователь зарегистрирован.&quot;,Toast.LENGTH_LONG).show();\r\n\r\n                            startActivity(new Intent(getApplicationContext(), MainActivity.class));\r\n                        }else{\r\n                            Toast.makeText(Register.this, &quot;Произошла ошибка. Повторите.&quot; +\r\n                                    task.getException().getMessage(),Toast.LENGTH_LONG).show();\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n}\r\n}\r\n\r\n```\r\nAnd MainActivity which needs to read data from SQLite and put it in variables (String emailfrom, emailto;)\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n        Button mAccountBtn;\r\n        Button mSosButton;\r\n        DatabaseReference databaseReference;\r\n        SQLite sqLite;\r\n\r\n\r\n\r\n        //EmailTo это Email\r\n        //EmailFrom это UserBinder\r\n\r\n\r\n\r\n        @Override\r\n        protected void onCreate (Bundle savedInstanceState){\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            mAccountBtn = findViewById(R.id.account_btn);\r\n            mSosButton = findViewById(R.id.sos_button);\r\n\r\n            sqLite = new SQLite(this);\r\n\r\n            SQLiteDatabase database = sqLite.getWritableDatabase();\r\n            \r\n\r\n}\r\n```\r\nAll I need is to read data which Register activity inserted and put it in strings.\r\nHow to do it?","title":"How to write the result of a query in SQLite to a variable","body":"<p>I got a code:\nI got SQLite database with one table.:</p>\n<pre><code>package com.example.kanlane;\n\nimport android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\nimport androidx.annotation.Nullable;\n\npublic class SQLite extends SQLiteOpenHelper {\n\n    public static final int DATABASE_VERSION = 1;\n    public static final String DATABASE_NAME = &quot;sosDB&quot;;\n    public static final String TABLE_CONTACTS = &quot;contacts&quot;;\n\n    public static final String KEY_ID = &quot;_id&quot;;\n    public static final String KEY_EMAIL = &quot;email&quot;;\n    public static final String KEY_USERBINDER = &quot;user_binder&quot;;\n\n\n    public SQLite(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(&quot;create table &quot; + TABLE_CONTACTS + &quot;(&quot; + KEY_ID + &quot; integer primary key,&quot; + KEY_EMAIL +\n                &quot; text,&quot; + KEY_EMAIL + &quot; text&quot; + &quot;)&quot;);\n\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(&quot;drop table if exists &quot; + TABLE_CONTACTS);\n\n        onCreate(db);\n\n\n    }\n}\n</code></pre>\n<p>Register activity which inserts data to SQLite, it inserts email and user_binder strings:</p>\n<pre><code>public class Register extends AppCompatActivity {\n    //Variables\n    EditText mName, mEmail, mPassword, mUser_binder;\n    SQLite sqLite;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n\n\n        mName = findViewById(R.id.Name);\n        mEmail = findViewById(R.id.Email);\n        mPassword = findViewById(R.id.Password);\n        mUser_binder = findViewById(R.id.user_bind);\n        mLoginbtn = findViewById(R.id.login_mainscreen);\n        mRegisterBtn = findViewById(R.id.register_btn);\n\n        sqLite = new SQLite(this);\n\n\n       \n        mRegisterBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                \n                String id = mDataBase.getKey();\n                String name = mName.getText().toString().trim();\n                String email = mEmail.getText().toString().trim();\n                String password = mPassword.getText().toString().trim();\n                String user_binder = mUser_binder.getText().toString().trim();\n\n                SQLiteDatabase database = sqLite.getWritableDatabase();\n                ContentValues contentValues = new ContentValues();\n\n                contentValues.put(SQLite.KEY_EMAIL, email);\n                contentValues.put(SQLite.KEY_USERBINDER, user_binder);\n                database.insert(SQLite.TABLE_CONTACTS, null, contentValues);\n\n\n\n\n\n                User newUser = new User(id, name, email, password, user_binder);\n                mDataBase.push().setValue(newUser);\n\n                if(TextUtils.isEmpty(email)){\n                    mEmail.setError(&quot;Введите почту...&quot;);\n                    return;\n                }\n                if(TextUtils.isEmpty(password)){\n                    mEmail.setError(&quot;Введите пароль...&quot;);\n                    return;\n                }\n                if(password.length() &lt; 8 ){\n                    mPassword.setError(&quot;Пароль должен состоять из 8-ми символов.&quot;);\n                    return;\n                }\n\n                \n                fAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n\n\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if(task.isSuccessful()){\n\n                            Toast.makeText(Register.this, &quot;Пользователь зарегистрирован.&quot;,Toast.LENGTH_LONG).show();\n\n                            startActivity(new Intent(getApplicationContext(), MainActivity.class));\n                        }else{\n                            Toast.makeText(Register.this, &quot;Произошла ошибка. Повторите.&quot; +\n                                    task.getException().getMessage(),Toast.LENGTH_LONG).show();\n                        }\n                    }\n                });\n\n\n            }\n        });\n\n\n\n}\n}\n\n</code></pre>\n<p>And MainActivity which needs to read data from SQLite and put it in variables (String emailfrom, emailto;)</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n        Button mAccountBtn;\n        Button mSosButton;\n        DatabaseReference databaseReference;\n        SQLite sqLite;\n\n\n\n        //EmailTo это Email\n        //EmailFrom это UserBinder\n\n\n\n        @Override\n        protected void onCreate (Bundle savedInstanceState){\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n\n            mAccountBtn = findViewById(R.id.account_btn);\n            mSosButton = findViewById(R.id.sos_button);\n\n            sqLite = new SQLite(this);\n\n            SQLiteDatabase database = sqLite.getWritableDatabase();\n            \n\n}\n</code></pre>\n<p>All I need is to read data which Register activity inserted and put it in strings.\nHow to do it?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1385878043,"post_id":20309182,"comment_id":30305532,"body_markdown":"This type of question belongs on [Code Review](http://codereview.stackexchange.com/)","body":"This type of question belongs on <a href=\"http://codereview.stackexchange.com/\">Code Review</a>"},{"owner":{"account_id":442633,"reputation":1586,"user_id":833336,"accept_rate":43,"display_name":"emecas"},"score":2,"creation_date":1385879119,"post_id":20309182,"comment_id":30305731,"body_markdown":"are the strings always coming in that way? nothing like aaabbbdddaa? In that case, will you expect a5b3d3 or a3b3d3a2?","body":"are the strings always coming in that way? nothing like aaabbbdddaa? In that case, will you expect a5b3d3 or a3b3d3a2?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1385883394,"post_id":20309182,"comment_id":30306532,"body_markdown":"This question appears to be off-topic because it is really request for a code review.","body":"This question appears to be off-topic because it is really request for a code review."},{"owner":{"account_id":45775,"reputation":12238,"user_id":135078,"accept_rate":94,"display_name":"Kelly S. French"},"score":1,"creation_date":1400095250,"post_id":20309182,"comment_id":36348748,"body_markdown":"What would make this on-topic? Having a bug in it? Having only a partial code snippet?  This still seems like a coding question, think of it like a puzzle.  I can write that code in X-1 lines... Oh yeah? I can write that code in X-5 lines, and so on.","body":"What would make this on-topic? Having a bug in it? Having only a partial code snippet?  This still seems like a coding question, think of it like a puzzle.  I can write that code in X-1 lines... Oh yeah? I can write that code in X-5 lines, and so on."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1385878419,"creation_date":1385877670,"answer_id":20309224,"question_id":20309182,"body_markdown":"Employ a `Map&lt;Character, Integer&gt;` instead.  Attempt to insert the new character into the map; if it already exists, then increment the value for that particular character.\r\n\r\nExample:\r\n\r\n    Map&lt;Character, Integer&gt; countMap = new HashMap&lt;&gt;();\r\n    if(!countMap.containsKey(&#39;a&#39;)) {\r\n        countMap.put(&#39;a&#39;, 1);\r\n    } else {\r\n        countMap.put(&#39;a&#39;, countMap.get(&#39;a&#39;) + 1);\r\n    }","title":"Turn String aaaabbbbddd into a4b4d3","body":"<p>Employ a <code>Map&lt;Character, Integer&gt;</code> instead.  Attempt to insert the new character into the map; if it already exists, then increment the value for that particular character.</p>\n\n<p>Example:</p>\n\n<pre><code>Map&lt;Character, Integer&gt; countMap = new HashMap&lt;&gt;();\nif(!countMap.containsKey('a')) {\n    countMap.put('a', 1);\n} else {\n    countMap.put('a', countMap.get('a') + 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1385877816,"creation_date":1385877816,"answer_id":20309243,"question_id":20309182,"body_markdown":"My version\r\n\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tint count = 0;\r\n\t\tchar last = s.charAt(0);\r\n\t\tfor(char c : s.toCharArray()) {\r\n\t\t\tif (c == last) {\r\n\t\t\t\tcount++;\r\n\t\t\t} else {\r\n\t\t\t\tsb.append(last).append(count);\r\n\t\t\t\tcount = 0;\r\n\t\t\t\tlast = c;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (count != 0) {\r\n\t\t\tsb.append(last).append(count);\r\n\t\t}\r\n\t\tSystem.out.println(sb);","title":"Turn String aaaabbbbddd into a4b4d3","body":"<p>My version</p>\n\n<pre><code>    StringBuilder sb = new StringBuilder();\n    int count = 0;\n    char last = s.charAt(0);\n    for(char c : s.toCharArray()) {\n        if (c == last) {\n            count++;\n        } else {\n            sb.append(last).append(count);\n            count = 0;\n            last = c;\n        }\n    }\n    if (count != 0) {\n        sb.append(last).append(count);\n    }\n    System.out.println(sb);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":328320,"reputation":878,"user_id":651210,"accept_rate":82,"display_name":"pgollangi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1402919438,"creation_date":1385878963,"answer_id":20309373,"question_id":20309182,"body_markdown":"Here is my solution\r\n\r\n    public String countChars(String in){\r\n     LinkedHashMapMap&lt;Character, Integer&gt; map = new LinkedHashMap&lt;Character, Integer&gt;();\r\n     for(char c: in.toCharArray()){\r\n       Integer count =  map.get(c);\r\n       if(count==null){\r\n        count=0;\r\n       }\r\n       count++;\r\n       map.put(c,count);\r\n     }\r\n     String out =&quot;&quot;;\r\n     for(Entry&lt;Character, Integer&gt; e : map.entrySet()){\r\n        out += e.getKey()+e.getValue();\r\n     }\r\n     return out;\r\n    }","title":"Turn String aaaabbbbddd into a4b4d3","body":"<p>Here is my solution</p>\n\n<pre><code>public String countChars(String in){\n LinkedHashMapMap&lt;Character, Integer&gt; map = new LinkedHashMap&lt;Character, Integer&gt;();\n for(char c: in.toCharArray()){\n   Integer count =  map.get(c);\n   if(count==null){\n    count=0;\n   }\n   count++;\n   map.put(c,count);\n }\n String out =\"\";\n for(Entry&lt;Character, Integer&gt; e : map.entrySet()){\n    out += e.getKey()+e.getValue();\n }\n return out;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1385879388,"creation_date":1385879388,"answer_id":20309435,"question_id":20309182,"body_markdown":"To add on to @Makoto&#39;s wonderful answer, in your situation, I would use a `TreeMap` instead of a `HashMap`. A `TreeMap` will allow you to print in alphabetical order.  I have also added the print code to show you how it would look. It&#39;s fully runnable.\r\n\r\n    import java.util.Map;\r\n    import java.util.TreeMap;\r\n    \r\n    public class MapPractice {\r\n    \r\n        public static void main(String[] args) {\r\n            Map&lt;Character, Integer&gt; map = new TreeMap&lt;&gt;();\r\n            \r\n            String blah = &quot;aaaabbbbddd&quot;;\r\n            \r\n            for (int i = 0; i &lt; blah.length(); i++) {\r\n                char c = blah.charAt(i);\r\n                if (!map.containsKey(c)) {\r\n                    map.put(c, 1);\r\n                } else {\r\n                    map.put(c, (map.get(c) + 1));\r\n                }\r\n            } \r\n            \r\n            for (Map.Entry&lt;Character, Integer&gt; entry: map.entrySet()) {\r\n                System.out.print(entry.getKey() + &quot;&quot; + entry.getValue());\r\n            }\r\n        }\r\n    }\r\n\r\nOutput with `TreeMap`: &lt;b&gt;`a4b4d3`&lt;/b&gt;\r\n\r\nOutput with `HashMap`: &lt;b&gt;`d3b4a4`&lt;/b&gt; ","title":"Turn String aaaabbbbddd into a4b4d3","body":"<p>To add on to @Makoto's wonderful answer, in your situation, I would use a <code>TreeMap</code> instead of a <code>HashMap</code>. A <code>TreeMap</code> will allow you to print in alphabetical order.  I have also added the print code to show you how it would look. It's fully runnable.</p>\n\n<pre><code>import java.util.Map;\nimport java.util.TreeMap;\n\npublic class MapPractice {\n\n    public static void main(String[] args) {\n        Map&lt;Character, Integer&gt; map = new TreeMap&lt;&gt;();\n\n        String blah = \"aaaabbbbddd\";\n\n        for (int i = 0; i &lt; blah.length(); i++) {\n            char c = blah.charAt(i);\n            if (!map.containsKey(c)) {\n                map.put(c, 1);\n            } else {\n                map.put(c, (map.get(c) + 1));\n            }\n        } \n\n        for (Map.Entry&lt;Character, Integer&gt; entry: map.entrySet()) {\n            System.out.print(entry.getKey() + \"\" + entry.getValue());\n        }\n    }\n}\n</code></pre>\n\n<p>Output with <code>TreeMap</code>: <b><code>a4b4d3</code></b></p>\n\n<p>Output with <code>HashMap</code>: <b><code>d3b4a4</code></b> </p>\n"},{"tags":[],"owner":{"account_id":1617069,"reputation":19784,"user_id":4094231,"accept_rate":46,"display_name":"Umair Ayub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385892099,"creation_date":1385892099,"answer_id":20310943,"question_id":20309182,"body_markdown":"Here is the code that I tried.\r\n\r\nI think you can&#39;t ask for a simpler code than this.\r\n\r\n        String s = &quot;aaaabbbbddd&quot;, modified = &quot;&quot;;\r\n        int len = s.length(),  i = 0,  j = i + 1,  count = 1;\r\n        char[] c = s.toCharArray();\r\n        for (; i &lt; len; i = j) {\r\n            count = 1;\r\n                for (; j &lt; len; j++) \r\n                     if (c[i] == c[j]) \r\n                     count++;\r\n                        else {\r\n                        j++;\r\n                        break;\r\n                        }\r\n            modified += c[i] + &quot;&quot; + count;\r\n        }\r\n        System.out.println(modified);","title":"Turn String aaaabbbbddd into a4b4d3","body":"<p>Here is the code that I tried.</p>\n\n<p>I think you can't ask for a simpler code than this.</p>\n\n<pre><code>    String s = \"aaaabbbbddd\", modified = \"\";\n    int len = s.length(),  i = 0,  j = i + 1,  count = 1;\n    char[] c = s.toCharArray();\n    for (; i &lt; len; i = j) {\n        count = 1;\n            for (; j &lt; len; j++) \n                 if (c[i] == c[j]) \n                 count++;\n                    else {\n                    j++;\n                    break;\n                    }\n        modified += c[i] + \"\" + count;\n    }\n    System.out.println(modified);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22228734,"reputation":1,"user_id":16465290,"display_name":"Darshit Gandhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649451487,"creation_date":1649449800,"answer_id":71802842,"question_id":20309182,"body_markdown":"Hope you find this useful. \r\n\r\nMethod 1\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the string : &quot;);\r\n        String str = scan.nextLine();\r\n        char c;\r\n\r\n        char[] charArr = str.toCharArray();\r\n\r\n        LinkedHashMap&lt;Character,Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\n        for(int i = 0 ; i &lt; charArr.length ; i++)\r\n        {\r\n            c = charArr[i];\r\n            if(map.containsKey(c) || map.containsKey(c-32))\r\n            {\r\n                if(c&lt;97)\r\n                {\r\n                    map.put(c,map.get(c)+1);\r\n                }\r\n                else\r\n                {\r\n                    map.put(c,map.get(c)+1);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                map.put((char)(c+32),1);\r\n            }\r\n        }\r\n\r\n        for(Map.Entry e : map.entrySet())\r\n        {\r\n            System.out.print(&quot;&quot;+e.getKey()+&quot;&quot;+e.getValue());\r\n        }\r\n\r\n\r\n\r\nMethod 2\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the string : &quot;);\r\n        String str = scan.nextLine();              \r\n        String newStr = &quot;&quot;;\r\n        char c;\r\n        int count = 1;\r\n\r\n        char[] charArr = str.toCharArray();          \r\n\r\n\r\n        for(int i = 0 ; i &lt; charArr.length ; i++)        \r\n        {\r\n            c = charArr[i];                          \r\n\r\n            if(i&gt;0)\r\n            {\r\n                if ( c == charArr[i-1] || c == (char)(charArr[i-1]+32) )\r\n                {\r\n                    count++;                      \r\n                }\r\n                else\r\n                {\r\n                    if(c &lt; 97)\r\n                    {\r\n                        newStr = newStr + count;\r\n                        count = 1;\r\n                        newStr = newStr + (char)(c+32);\r\n                    }\r\n                    else\r\n                    {\r\n                        newStr = newStr + count;\r\n                        count = 1;\r\n                        newStr = newStr + c;                 \r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if(c &lt; 97)\r\n                {\r\n                    newStr = newStr + (char)(c+32);\r\n                }\r\n                else\r\n                {\r\n                    newStr = newStr + (char)c;              \r\n                }\r\n            }\r\n\r\n\r\n        }\r\n        newStr = newStr + count;\r\n        System.out.print(newStr);","title":"Turn String aaaabbbbddd into a4b4d3","body":"<p>Hope you find this useful.</p>\n<p>Method 1</p>\n<pre><code>    Scanner scan = new Scanner(System.in);\n    System.out.print(&quot;Enter the string : &quot;);\n    String str = scan.nextLine();\n    char c;\n\n    char[] charArr = str.toCharArray();\n\n    LinkedHashMap&lt;Character,Integer&gt; map = new LinkedHashMap&lt;&gt;();\n    for(int i = 0 ; i &lt; charArr.length ; i++)\n    {\n        c = charArr[i];\n        if(map.containsKey(c) || map.containsKey(c-32))\n        {\n            if(c&lt;97)\n            {\n                map.put(c,map.get(c)+1);\n            }\n            else\n            {\n                map.put(c,map.get(c)+1);\n            }\n        }\n        else\n        {\n            map.put((char)(c+32),1);\n        }\n    }\n\n    for(Map.Entry e : map.entrySet())\n    {\n        System.out.print(&quot;&quot;+e.getKey()+&quot;&quot;+e.getValue());\n    }\n</code></pre>\n<p>Method 2</p>\n<pre><code>    Scanner scan = new Scanner(System.in);\n    System.out.print(&quot;Enter the string : &quot;);\n    String str = scan.nextLine();              \n    String newStr = &quot;&quot;;\n    char c;\n    int count = 1;\n\n    char[] charArr = str.toCharArray();          \n\n\n    for(int i = 0 ; i &lt; charArr.length ; i++)        \n    {\n        c = charArr[i];                          \n\n        if(i&gt;0)\n        {\n            if ( c == charArr[i-1] || c == (char)(charArr[i-1]+32) )\n            {\n                count++;                      \n            }\n            else\n            {\n                if(c &lt; 97)\n                {\n                    newStr = newStr + count;\n                    count = 1;\n                    newStr = newStr + (char)(c+32);\n                }\n                else\n                {\n                    newStr = newStr + count;\n                    count = 1;\n                    newStr = newStr + c;                 \n                }\n            }\n        }\n        else\n        {\n            if(c &lt; 97)\n            {\n                newStr = newStr + (char)(c+32);\n            }\n            else\n            {\n                newStr = newStr + (char)c;              \n            }\n        }\n\n\n    }\n    newStr = newStr + count;\n    System.out.print(newStr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20397190,"reputation":31,"user_id":14963713,"display_name":"Padmavathi Padma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653251761,"creation_date":1652873346,"answer_id":72288364,"question_id":20309182,"body_markdown":"    import java.io.*;\r\n    import java.util.*;\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t    \r\n    \t\tScanner S=new Scanner(System.in);\r\n    \t\tString in=S.next();\r\n    \t\tint count=1;\r\n    \t\tString out=&quot;&quot;;\r\n    \t\tfor(int i=0;i&lt;in.length()-1;){\r\n    \t\t    out+=in.charAt(i+1);\r\n    \t\t    count=1;\r\n    \t\t    if(in.charAt(i)!=in.charAt(i+1)){\r\n    \t\t        out+=count;\r\n    \t\t        i++;\r\n    \t\t    }else{\r\n    \t\t        while(i&lt;in.length()-1){\r\n    \t\t            if(in.charAt(i)==in.charAt(i+1)){\r\n    \t\t                count++;\r\n    \t\t                i++;\r\n    \t\t            }\r\n    \t\t            else{\r\n    \t\t                i++;\r\n    \t\t                break;\r\n    \t\t            }\r\n    \t\t        }\r\n    \t\t        out+=count;\r\n    \t\t    }\r\n    \t\t}\r\n    \t\tSystem.out.println(out);\r\n    \t\t\r\n    \t}\t\r\n    }\r\n\r\n","title":"Turn String aaaabbbbddd into a4b4d3","body":"<pre><code>import java.io.*;\nimport java.util.*;\npublic class Main\n{\n    public static void main(String[] args) {\n        \n        Scanner S=new Scanner(System.in);\n        String in=S.next();\n        int count=1;\n        String out=&quot;&quot;;\n        for(int i=0;i&lt;in.length()-1;){\n            out+=in.charAt(i+1);\n            count=1;\n            if(in.charAt(i)!=in.charAt(i+1)){\n                out+=count;\n                i++;\n            }else{\n                while(i&lt;in.length()-1){\n                    if(in.charAt(i)==in.charAt(i+1)){\n                        count++;\n                        i++;\n                    }\n                    else{\n                        i++;\n                        break;\n                    }\n                }\n                out+=count;\n            }\n        }\n        System.out.println(out);\n        \n    }   \n}\n</code></pre>\n"}],"owner":{"account_id":3633894,"reputation":289,"user_id":3029486,"accept_rate":78,"display_name":"user3029486"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":797,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":20309224,"answer_count":7,"score":8,"last_activity_date":1653251761,"creation_date":1385877319,"question_id":20309182,"body_markdown":"I&#39;m trying to get a head start on practicing interview questions and I came across this one: \r\n\r\nTurn String aaaabbbbddd into a4b4d3\r\n\r\nYou would basically want to convert the existing string into a string with each unique character occurrence and the number of times the character occurs. \r\n\r\nThis is my solution but I think it could be refined into something more elegant: \r\n\r\n        String s = &quot;aaaabbbbddd&quot;;\r\n        String modified = &quot;&quot;;\r\n        int len = s.length();\r\n        char[] c = s.toCharArray();\r\n        int count = 0;\r\n        for (int i = 0; i &lt; len; i++) {\r\n            count = 1;\r\n            for (int j = i + 1; j &lt; len; j++) {\r\n                if (c[i] == &#39; &#39;) {\r\n                    break;\r\n                }\r\n                if (c[i] == c[j]) {\r\n                    count++;\r\n                    c[j] = &#39; &#39;;\r\n                }\r\n\r\n            }\r\n            if (c[i] != &#39; &#39;) {\r\n                modified += c[i] + &quot;&quot; +  count; \r\n\r\n            }\r\n        }\r\n        System.out.println(modified);\r\n\r\nDoes anyone have any other suggestions for a solution? ","title":"Turn String aaaabbbbddd into a4b4d3","body":"<p>I'm trying to get a head start on practicing interview questions and I came across this one: </p>\n\n<p>Turn String aaaabbbbddd into a4b4d3</p>\n\n<p>You would basically want to convert the existing string into a string with each unique character occurrence and the number of times the character occurs. </p>\n\n<p>This is my solution but I think it could be refined into something more elegant: </p>\n\n<pre><code>    String s = \"aaaabbbbddd\";\n    String modified = \"\";\n    int len = s.length();\n    char[] c = s.toCharArray();\n    int count = 0;\n    for (int i = 0; i &lt; len; i++) {\n        count = 1;\n        for (int j = i + 1; j &lt; len; j++) {\n            if (c[i] == ' ') {\n                break;\n            }\n            if (c[i] == c[j]) {\n                count++;\n                c[j] = ' ';\n            }\n\n        }\n        if (c[i] != ' ') {\n            modified += c[i] + \"\" +  count; \n\n        }\n    }\n    System.out.println(modified);\n</code></pre>\n\n<p>Does anyone have any other suggestions for a solution? </p>\n"},{"tags":["java","csv","apache-commons"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1514705995,"post_id":48040761,"comment_id":83051986,"body_markdown":"You never actually ***read*** the existing data in.  You have to read the data and add the field to every line and then write the updated line.","body":"You never actually <b><i>read</i></b> the existing data in.  You have to read the data and add the field to every line and then write the updated line."}],"answers":[{"tags":[],"owner":{"account_id":3731798,"reputation":5057,"user_id":3103891,"display_name":"GalAbra"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1514705874,"creation_date":1514705874,"answer_id":48040825,"question_id":48040761,"body_markdown":"First of all, you shouldn&#39;t override your existing file. Hence, use the appending argument on the FileWriter constructor:\r\n\r\n    FileWriter pw = new FileWriter(&quot;C:\\\\exampleFile.csv&quot;,true); \r\n\r\nSecond, as you can see in your result, the CSVPrinter goes through your file by rows. If you want to add a new column, you actually need to iterate over each row and insert the new column&#39;s row data on every iteration, as explained thoroughly [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/34591134/3103891","title":"How to add a new column to a csv file using Apache Commons?","body":"<p>First of all, you shouldn't override your existing file. Hence, use the appending argument on the FileWriter constructor:</p>\n\n<pre><code>FileWriter pw = new FileWriter(\"C:\\\\exampleFile.csv\",true); \n</code></pre>\n\n<p>Second, as you can see in your result, the CSVPrinter goes through your file by rows. If you want to add a new column, you actually need to iterate over each row and insert the new column's row data on every iteration, as explained thoroughly <a href=\"https://stackoverflow.com/a/34591134/3103891\">here</a></p>\n"}],"owner":{"account_id":9126263,"reputation":81,"user_id":6789834,"display_name":"vijay venkat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2629,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1653251573,"creation_date":1514705121,"question_id":48040761,"body_markdown":"I have a csv file that look like this:\r\n\r\n    name,age,total\r\n    xyz,22\r\n    abc,20\r\n\r\nAfter processing the csv file should look like this:\r\n\r\n    name,age,total\r\n    xyz,22,100\r\n    abc,20,102\r\n\r\nAfter running this code:\r\n\r\n    public class Converter {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\t\r\n    \t\tBufferedWriter writer = Files.newBufferedWriter(Paths.get(Constants.SAMPLE_CSV_FILE));\r\n            CSVPrinter csvPrinter = new CSVPrinter(writer, CSVFormat.DEFAULT);\r\n    \t\t\r\n            csvPrinter.print(100);\r\n            csvPrinter.print(102);\r\n    \t\t\r\n            csvPrinter.close();\r\n    \t}\r\n    \r\n    }\r\n\r\nthe output csv file becomes like this:\r\n\r\n    100\r\n    102\r\n\r\nI want 100 and 102 to come under the total column. How can I do this?\r\n\r\n\r\n","title":"How to add a new column to a csv file using Apache Commons?","body":"<p>I have a csv file that look like this:</p>\n<pre><code>name,age,total\nxyz,22\nabc,20\n</code></pre>\n<p>After processing the csv file should look like this:</p>\n<pre><code>name,age,total\nxyz,22,100\nabc,20,102\n</code></pre>\n<p>After running this code:</p>\n<pre><code>public class Converter {\n\n    public static void main(String[] args) throws IOException {\n        \n        BufferedWriter writer = Files.newBufferedWriter(Paths.get(Constants.SAMPLE_CSV_FILE));\n        CSVPrinter csvPrinter = new CSVPrinter(writer, CSVFormat.DEFAULT);\n        \n        csvPrinter.print(100);\n        csvPrinter.print(102);\n        \n        csvPrinter.close();\n    }\n\n}\n</code></pre>\n<p>the output csv file becomes like this:</p>\n<pre><code>100\n102\n</code></pre>\n<p>I want 100 and 102 to come under the total column. How can I do this?</p>\n"},{"tags":["java","maven","upload","buffer","vaadin"],"answers":[{"tags":[],"owner":{"account_id":21805138,"reputation":39,"user_id":16103435,"display_name":"Oscar Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653251384,"creation_date":1653251384,"answer_id":72341084,"question_id":72340891,"body_markdown":"I don&#39;t know why this issue is happening but I solved it just changing from MemoryBuffer to FileBuffer class. Now it works.","title":"Vaadin Upload UnsupportedOperationException issue while creating a File","body":"<p>I don't know why this issue is happening but I solved it just changing from MemoryBuffer to FileBuffer class. Now it works.</p>\n"},{"tags":[],"owner":{"account_id":954957,"reputation":2251,"user_id":980439,"display_name":"Frettman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653251510,"creation_date":1653251510,"answer_id":72341101,"question_id":72340891,"body_markdown":"As the name implies, `MemoryBuffer` stores the uploaded file in memory, so it can&#39;t provide a `java.io.File`, only an `InputStream` to read the data from. If you want `Upload` to use a (temporary!) file, use a `FileBuffer` instead.","title":"Vaadin Upload UnsupportedOperationException issue while creating a File","body":"<p>As the name implies, <code>MemoryBuffer</code> stores the uploaded file in memory, so it can't provide a <code>java.io.File</code>, only an <code>InputStream</code> to read the data from. If you want <code>Upload</code> to use a (temporary!) file, use a <code>FileBuffer</code> instead.</p>\n"}],"owner":{"account_id":21805138,"reputation":39,"user_id":16103435,"display_name":"Oscar Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72341084,"answer_count":2,"score":1,"last_activity_date":1653251510,"creation_date":1653249414,"question_id":72340891,"body_markdown":"I&#39;m trying to get a midi file through a form in Vaadin, but when I try to get this File into a File class and getting a UnsupportedOperationException. This is happening in the File midiFile = fileData.getFile();\r\n\r\n&gt; java.lang.UnsupportedOperationException: class java.io.ByteArrayOutputStream not supported. Use a UploadOutputStream\r\n\r\nIn the form it seems that the file has been loaded, but there was an error as trying to generate the File. I don&#39;t know why is this happening as I follow the methods in Vaadin documentation to get the file from the Upload. And I don&#39;t understand why it says in this exception &quot;Happens if outputBuffer is not an UploadOutputStream&quot;.\r\n[https://vaadin.com/api/platform/23.0.9/com/vaadin/flow/component/upload/receivers/FileData.html][1]\r\n\r\nAnd if I run getFileName() from FileData after getting it from the MemoryBuffer I see that the recently uploaded file is there.\r\n[https://vaadin.com/api/platform/23.0.9/com/vaadin/flow/component/upload/receivers/MemoryBuffer.html][2]\r\n\r\n\r\nThis is the full code.\r\n\r\n    import com.vaadin.flow.component.upload.Upload;\r\n    import com.vaadin.flow.component.upload.receivers.FileData;\r\n    import com.vaadin.flow.component.upload.receivers.MemoryBuffer;\r\n\r\n    public MainView() {\r\n\r\n        MemoryBuffer memoryBuffer = new MemoryBuffer();\r\n        Upload midiFileUpload = new Upload(memoryBuffer);\r\n        midiFileUpload.setDropLabel(new Label(&quot;Upload a file in .mid format&quot;));\r\n\r\n        midiFileUpload.addSucceededListener(event -&gt; {\r\n\r\n            InputStream inputFileData = memoryBuffer.getInputStream();\r\n            String fileName = event.getFileName();\r\n            long contentLength = event.getContentLength();\r\n            String mimeType = event.getMIMEType();\r\n            FileData fileData = memoryBuffer.getFileData();\r\n            \r\n            try {\r\n                File midiFile = fileData.getFile();\r\n            } catch (UnsupportedOperationException uoe) {\r\n                System.out.println(&quot;OutputBuffer is not an UploadOutputStream.&quot;);\r\n                uoe.printStackTrace();\r\n            } catch (NullPointerException npe) {\r\n                System.out.println(&quot;Empty buffer.&quot;);\r\n                npe.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n  [1]: https://vaadin.com/api/platform/23.0.9/com/vaadin/flow/component/upload/receivers/FileData.html\r\n  [2]: https://vaadin.com/api/platform/23.0.9/com/vaadin/flow/component/upload/receivers/MemoryBuffer.html","title":"Vaadin Upload UnsupportedOperationException issue while creating a File","body":"<p>I'm trying to get a midi file through a form in Vaadin, but when I try to get this File into a File class and getting a UnsupportedOperationException. This is happening in the File midiFile = fileData.getFile();</p>\n<blockquote>\n<p>java.lang.UnsupportedOperationException: class java.io.ByteArrayOutputStream not supported. Use a UploadOutputStream</p>\n</blockquote>\n<p>In the form it seems that the file has been loaded, but there was an error as trying to generate the File. I don't know why is this happening as I follow the methods in Vaadin documentation to get the file from the Upload. And I don't understand why it says in this exception &quot;Happens if outputBuffer is not an UploadOutputStream&quot;.\n<a href=\"https://vaadin.com/api/platform/23.0.9/com/vaadin/flow/component/upload/receivers/FileData.html\" rel=\"nofollow noreferrer\">https://vaadin.com/api/platform/23.0.9/com/vaadin/flow/component/upload/receivers/FileData.html</a></p>\n<p>And if I run getFileName() from FileData after getting it from the MemoryBuffer I see that the recently uploaded file is there.\n<a href=\"https://vaadin.com/api/platform/23.0.9/com/vaadin/flow/component/upload/receivers/MemoryBuffer.html\" rel=\"nofollow noreferrer\">https://vaadin.com/api/platform/23.0.9/com/vaadin/flow/component/upload/receivers/MemoryBuffer.html</a></p>\n<p>This is the full code.</p>\n<pre><code>import com.vaadin.flow.component.upload.Upload;\nimport com.vaadin.flow.component.upload.receivers.FileData;\nimport com.vaadin.flow.component.upload.receivers.MemoryBuffer;\n\npublic MainView() {\n\n    MemoryBuffer memoryBuffer = new MemoryBuffer();\n    Upload midiFileUpload = new Upload(memoryBuffer);\n    midiFileUpload.setDropLabel(new Label(&quot;Upload a file in .mid format&quot;));\n\n    midiFileUpload.addSucceededListener(event -&gt; {\n\n        InputStream inputFileData = memoryBuffer.getInputStream();\n        String fileName = event.getFileName();\n        long contentLength = event.getContentLength();\n        String mimeType = event.getMIMEType();\n        FileData fileData = memoryBuffer.getFileData();\n        \n        try {\n            File midiFile = fileData.getFile();\n        } catch (UnsupportedOperationException uoe) {\n            System.out.println(&quot;OutputBuffer is not an UploadOutputStream.&quot;);\n            uoe.printStackTrace();\n        } catch (NullPointerException npe) {\n            System.out.println(&quot;Empty buffer.&quot;);\n            npe.printStackTrace();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","batch-file","runtime.exec"],"comments":[{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1298459550,"post_id":5090059,"comment_id":5703573,"body_markdown":"It works perfectly for me, using the same example you have provided. Not sure what is not working.","body":"It works perfectly for me, using the same example you have provided. Not sure what is not working."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":1,"creation_date":1298459696,"post_id":5090059,"comment_id":5703608,"body_markdown":"try running the same class from console","body":"try running the same class from console"},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":3,"creation_date":1298459760,"post_id":5090059,"comment_id":5703623,"body_markdown":"Just double check if you have not named your bat file as `batfile.bat.txt`. You can do so by going to `My Computer &gt; Tools &gt; Folder Options &gt; Uncheck &#39;Hide extensions of known file types&#39;`","body":"Just double check if you have not named your bat file as <code>batfile.bat.txt</code>. You can do so by going to <code>My Computer &gt; Tools &gt; Folder Options &gt; Uncheck &#39;Hide extensions of known file types&#39;</code>"},{"owner":{"account_id":307034,"reputation":439,"user_id":618111,"accept_rate":46,"display_name":"user618111"},"score":0,"creation_date":1298463545,"post_id":5090059,"comment_id":5704500,"body_markdown":"Thank you, i try to uncheck &#39;hide extensions of knoww file types&#39; but there is change. I almost finished my small project but i can&#39;t can&#39;t distribute it now because of this problem. I tried to convert .bat file .exe file but i have the same result.Could be a problem with the version of java? dos? windows xp?","body":"Thank you, i try to uncheck &#39;hide extensions of knoww file types&#39; but there is change. I almost finished my small project but i can&#39;t can&#39;t distribute it now because of this problem. I tried to convert .bat file .exe file but i have the same result.Could be a problem with the version of java? dos? windows xp?"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1298470288,"post_id":5090059,"comment_id":5705990,"body_markdown":"Do you really need the `start` here? If I remember right, this is `start.exe` which could be also called directly.","body":"Do you really need the <code>start</code> here? If I remember right, this is <code>start.exe</code> which could be also called directly."}],"answers":[{"tags":[],"owner":{"account_id":113654,"reputation":16617,"user_id":299204,"accept_rate":88,"display_name":"lzap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298463018,"creation_date":1298463018,"answer_id":5090706,"question_id":5090059,"body_markdown":"The process cmd.exe (picked from your PATH environment variable) is created with the current working directory the same as in the parent process (eclipse.exe = java). That is most likely c:\\eclipse or the workspace dir.\r\n\r\nIf it cant find the file (C:\\\\File\\\\batfile.bat) it tries the current working dir. If you run this code using Run As Java try to change the working directory there. Also make sure the BAT file does exist.","title":"Execute .bat file from Java, why Eclips project-directory matters?","body":"<p>The process cmd.exe (picked from your PATH environment variable) is created with the current working directory the same as in the parent process (eclipse.exe = java). That is most likely c:\\eclipse or the workspace dir.</p>\n\n<p>If it cant find the file (C:\\File\\batfile.bat) it tries the current working dir. If you run this code using Run As Java try to change the working directory there. Also make sure the BAT file does exist.</p>\n"},{"tags":[],"owner":{"account_id":1849135,"reputation":3076,"user_id":1676075,"accept_rate":50,"display_name":"user1676075"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369365705,"creation_date":1369365705,"answer_id":16727198,"question_id":5090059,"body_markdown":"Try this instead:\r\n\r\n    String com = System.getEnv(&quot;ComSpec&quot;) != null ? System.getEnv(&quot;ComSpec&quot;) : &quot;C:\\\\Windows\\\\System32\\\\cmd.exe&quot;;\r\n    \r\n    String[] command = { com, ...... }\r\n\r\nComSpec is often set to the path of cmd.exe. If not, use the full (expected path). You could also look for it in %SystemRoot%\\system32. Or even %path%. But just checking ComSpec is better than using cmd.exe with nothing else by default.\r\n\r\nAs someone else pointed out, your default working directory when running from Eclipse is usually the Eclipse project folder.\r\n\r\nIt&#39;s generally good practice not to rely on the working folder being anything useful. Instead specify paths to anything needed, or search the path (if the app doesn&#39;t do so for you).\r\n","title":"Execute .bat file from Java, why Eclips project-directory matters?","body":"<p>Try this instead:</p>\n\n<pre><code>String com = System.getEnv(\"ComSpec\") != null ? System.getEnv(\"ComSpec\") : \"C:\\\\Windows\\\\System32\\\\cmd.exe\";\n\nString[] command = { com, ...... }\n</code></pre>\n\n<p>ComSpec is often set to the path of cmd.exe. If not, use the full (expected path). You could also look for it in %SystemRoot%\\system32. Or even %path%. But just checking ComSpec is better than using cmd.exe with nothing else by default.</p>\n\n<p>As someone else pointed out, your default working directory when running from Eclipse is usually the Eclipse project folder.</p>\n\n<p>It's generally good practice not to rely on the working folder being anything useful. Instead specify paths to anything needed, or search the path (if the app doesn't do so for you).</p>\n"},{"tags":[],"owner":{"account_id":2966595,"reputation":11,"user_id":2519618,"display_name":"user2519618"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402268367,"creation_date":1372156109,"answer_id":17294934,"question_id":5090059,"body_markdown":"Remove `Start` from the command - it&#39;s unnecessary - and try:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String[] command = { &quot;cmd.exe&quot;, &quot;/C&quot;, &quot;C:\\\\File\\\\batfile.bat&quot; };\r\n","title":"Execute .bat file from Java, why Eclips project-directory matters?","body":"<p>Remove <code>Start</code> from the command - it's unnecessary - and try:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String[] command = { \"cmd.exe\", \"/C\", \"C:\\\\File\\\\batfile.bat\" };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372159125,"creation_date":1372159125,"answer_id":17295921,"question_id":5090059,"body_markdown":"    Runtime.getRuntime().exec(&quot;cmd /c start C:\\\\File\\\\batfile.bat&quot;);\r\n\r\n","title":"Execute .bat file from Java, why Eclips project-directory matters?","body":"<pre><code>Runtime.getRuntime().exec(\"cmd /c start C:\\\\File\\\\batfile.bat\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15865918,"reputation":11,"user_id":11448003,"display_name":"sheel sindhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586987425,"creation_date":1586963586,"answer_id":61232222,"question_id":5090059,"body_markdown":"To ensure the execution of a specific file, provide the **complete path** instead of just the executable name (which will only run from context of where the JVM was started - possibly unexpected within some IDE):\r\n\r\n    try{\r\n       \t Runtime.getRuntime().exec(&quot;.bat file complete path&quot;);\r\n       \t} catch(IOException e) {\r\n       \t\t System.out.println(&quot;exception&quot;);\r\n       \t}","title":"Execute .bat file from Java, why Eclips project-directory matters?","body":"<p>To ensure the execution of a specific file, provide the <strong>complete path</strong> instead of just the executable name (which will only run from context of where the JVM was started - possibly unexpected within some IDE):</p>\n\n<pre><code>try{\n     Runtime.getRuntime().exec(\".bat file complete path\");\n    } catch(IOException e) {\n         System.out.println(\"exception\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599303023,"creation_date":1599303023,"answer_id":63753074,"question_id":5090059,"body_markdown":"I faced the same scenario and following helped me to execute `bat` successfully via java. \r\n\r\n    String[] commands = {&quot;C:\\\\Windows\\\\System32\\\\cmd.exe&quot;, &quot;/c&quot;, &quot;bat_script_location.bat&quot;};\r\n    Process process = Runtime.getRuntime().exec(commands, null, &quot;output_directory_path&quot;);\r\n    process.waitFor();\r\n    int statusBatchJob = process.exitValue(); // to check the status of execution","title":"Execute .bat file from Java, why Eclips project-directory matters?","body":"<p>I faced the same scenario and following helped me to execute <code>bat</code> successfully via java.</p>\n<pre><code>String[] commands = {&quot;C:\\\\Windows\\\\System32\\\\cmd.exe&quot;, &quot;/c&quot;, &quot;bat_script_location.bat&quot;};\nProcess process = Runtime.getRuntime().exec(commands, null, &quot;output_directory_path&quot;);\nprocess.waitFor();\nint statusBatchJob = process.exitValue(); // to check the status of execution\n</code></pre>\n"}],"owner":{"account_id":307034,"reputation":439,"user_id":618111,"accept_rate":46,"display_name":"user618111"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17741,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1653251354,"creation_date":1298459335,"question_id":5090059,"body_markdown":"I want to execute a `.bat` file from a Java program.\r\n\r\nI declared the command for the `.bat` like: \r\n\r\n`&quot;cmd.exe&quot;, &quot;/C&quot;, &quot;Start&quot;, &quot;C:\\\\File\\\\batfile.bat&quot;`\r\n\r\nI use Windows XP and Eclipse Helios.\r\n\r\n### Code\r\n\r\n\r\n    String cmd;\r\n    \t\ttry {\r\n    \t\t\tString[] command = { &quot;cmd.exe&quot;, &quot;/C&quot;, &quot;Start&quot;, &quot;C:\\\\File\\\\batfile.bat&quot; };\r\n                   \tRuntime r = Runtime.getRuntime();\r\n                    Process p = r.exec(command);\r\n                    p.waitFor();\r\n    \r\n                    } catch (Exception e) \r\n                    {\r\n    \r\n                    System.out.println(&quot;Execution error&quot;);} \r\n\r\nWhy is it looking for my `.bat` file in the **project directory** of Eclipse?","title":"Execute .bat file from Java, why Eclips project-directory matters?","body":"<p>I want to execute a <code>.bat</code> file from a Java program.</p>\n<p>I declared the command for the <code>.bat</code> like:</p>\n<p><code>&quot;cmd.exe&quot;, &quot;/C&quot;, &quot;Start&quot;, &quot;C:\\\\File\\\\batfile.bat&quot;</code></p>\n<p>I use Windows XP and Eclipse Helios.</p>\n<h3>Code</h3>\n<pre><code>String cmd;\n        try {\n            String[] command = { &quot;cmd.exe&quot;, &quot;/C&quot;, &quot;Start&quot;, &quot;C:\\\\File\\\\batfile.bat&quot; };\n                Runtime r = Runtime.getRuntime();\n                Process p = r.exec(command);\n                p.waitFor();\n\n                } catch (Exception e) \n                {\n\n                System.out.println(&quot;Execution error&quot;);} \n</code></pre>\n<p>Why is it looking for my <code>.bat</code> file in the <strong>project directory</strong> of Eclipse?</p>\n"},{"tags":["java","batch-file"],"answers":[{"tags":[],"owner":{"account_id":7492,"reputation":63517,"user_id":13051,"accept_rate":68,"display_name":"JesperE"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1252953186,"creation_date":1252930196,"answer_id":1421159,"question_id":1421143,"body_markdown":"You have to run &quot;cmd.exe&quot; with the arguments &quot;/c&quot; and &quot;server.bat&quot;:\r\n\r\n    Runtime.getRuntime().exec(new String[] { &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;server.bat&quot; } );\r\n\r\n","title":"How to execute a batch file from java?","body":"<p>You have to run \"cmd.exe\" with the arguments \"/c\" and \"server.bat\":</p>\n\n<pre><code>Runtime.getRuntime().exec(new String[] { \"cmd.exe\", \"/c\", \"server.bat\" } );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6892,"reputation":8853,"user_id":11732,"accept_rate":92,"display_name":"Rorick"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1252931283,"creation_date":1252930673,"answer_id":1421206,"question_id":1421143,"body_markdown":"You can use [`ProcessBuilder`][1] for this. It provides much more control than `exec`. Particularly, it allows to set working directory with method `directory`.\r\n\r\nExample:\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;server.bat&quot;);\r\n    pb.directory(new File(deployDir + &quot;\\\\com\\\\project\\\\util&quot;));\r\n    Process p = pb.start();\r\n    int exitStatus = p.waitFor();\r\n\r\nOf course, your app must get deployDir from somewhere. It can be set in environment, in application configuration file, it can be current user directory or anything else.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/ProcessBuilder.html","title":"How to execute a batch file from java?","body":"<p>You can use <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/ProcessBuilder.html\" rel=\"noreferrer\"><code>ProcessBuilder</code></a> for this. It provides much more control than <code>exec</code>. Particularly, it allows to set working directory with method <code>directory</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"server.bat\");\npb.directory(new File(deployDir + \"\\\\com\\\\project\\\\util\"));\nProcess p = pb.start();\nint exitStatus = p.waitFor();\n</code></pre>\n\n<p>Of course, your app must get deployDir from somewhere. It can be set in environment, in application configuration file, it can be current user directory or anything else.</p>\n"},{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1653250943,"creation_date":1252930771,"answer_id":1421220,"question_id":1421143,"body_markdown":"When Java is running and you use Runtime.exec() with a relative path, relative means relative to the current user direcory, where the JVM was invoked. \r\n\r\nThis may work \r\n\r\n    Runtime.getRuntime().exec(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;./com/projct/util/server.bat&quot;);\r\n\r\nif you start java from com&#39;s parent directory. \r\n\r\nOr you must calculate an absolut path:\r\n\r\n    Runtime.getRuntime().exec(&quot;cmd.exe&quot;, &quot;/c&quot;, \r\n    System.getProperty(&quot;user.dir&quot;)+&quot;/com/projct/util/server.bat&quot;);\r\n\r\nI forget, read [When Runtime.exec() won&#39;t][1].\r\n\r\n\r\n  [1]: https://www.infoworld.com/article/2071275/when-runtime-exec---won-t.html","title":"How to execute a batch file from java?","body":"<p>When Java is running and you use Runtime.exec() with a relative path, relative means relative to the current user direcory, where the JVM was invoked.</p>\n<p>This may work</p>\n<pre><code>Runtime.getRuntime().exec(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;./com/projct/util/server.bat&quot;);\n</code></pre>\n<p>if you start java from com's parent directory.</p>\n<p>Or you must calculate an absolut path:</p>\n<pre><code>Runtime.getRuntime().exec(&quot;cmd.exe&quot;, &quot;/c&quot;, \nSystem.getProperty(&quot;user.dir&quot;)+&quot;/com/projct/util/server.bat&quot;);\n</code></pre>\n<p>I forget, read <a href=\"https://www.infoworld.com/article/2071275/when-runtime-exec---won-t.html\" rel=\"nofollow noreferrer\">When Runtime.exec() won't</a>.</p>\n"},{"tags":[],"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1252931184,"creation_date":1252931184,"answer_id":1421249,"question_id":1421143,"body_markdown":"[Plexus utils][1] provides a Commandline type that can invoke an arbitrary command line and handle parsing of the output. \r\n\r\n    Commandline cl = new Commandline();\r\n\r\n    cl.setExecutable( &quot;cmd.exe&quot; );\r\n    cl.createArg().setValue( &quot;/c&quot; );\r\n\r\n    cl.setWorkingDirectory( new File(System.getProperty(&quot;user.dir&quot;), \r\n        &quot;/com/project/util/Server.bat&quot;));\r\n\r\n    cl.createArg().setValue( &quot;/c&quot; );\r\n\r\n    StreamConsumer consumer = new StreamConsumer() {\r\n        public void consumeLine( String line ) {\r\n            //do something with the line\r\n        }\r\n    };\r\n\r\n    StreamConsumer stderr = new StreamConsumer() {\r\n        public void consumeLine( String line ) {\r\n            //do something with the line\r\n        }\r\n    };\r\n\r\n    int exitCode;\r\n\r\n    try {\r\n        exitCode = CommandLineUtils.execute( cl, consumer, stderr, getLogger() );\r\n    } catch ( CommandLineException ex ) {\r\n        //handle exception\r\n    }\r\n\r\n\r\n  [1]: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.5.9/\r\n  [2]: http://stackoverflow.com/questions/1251039/java-how-can-i-get-the-console-output-generated-by-a-exe-file/1251177#1251177","title":"How to execute a batch file from java?","body":"<p><a href=\"http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.5.9/\" rel=\"nofollow noreferrer\">Plexus utils</a> provides a Commandline type that can invoke an arbitrary command line and handle parsing of the output. </p>\n\n<pre><code>Commandline cl = new Commandline();\n\ncl.setExecutable( \"cmd.exe\" );\ncl.createArg().setValue( \"/c\" );\n\ncl.setWorkingDirectory( new File(System.getProperty(\"user.dir\"), \n    \"/com/project/util/Server.bat\"));\n\ncl.createArg().setValue( \"/c\" );\n\nStreamConsumer consumer = new StreamConsumer() {\n    public void consumeLine( String line ) {\n        //do something with the line\n    }\n};\n\nStreamConsumer stderr = new StreamConsumer() {\n    public void consumeLine( String line ) {\n        //do something with the line\n    }\n};\n\nint exitCode;\n\ntry {\n    exitCode = CommandLineUtils.execute( cl, consumer, stderr, getLogger() );\n} catch ( CommandLineException ex ) {\n    //handle exception\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18772,"reputation":6760,"user_id":43365,"accept_rate":94,"display_name":"Dan Polites"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1252931752,"creation_date":1252931752,"answer_id":1421285,"question_id":1421143,"body_markdown":"You&#39;re best bet is to store the installation directory of the application on the system and then use that to build your paths within the application. System.getProperty(&quot;user.dir&quot;) should work on Windows and Unix platforms to get the current working directory, but it is system dependent so be aware of that.","title":"How to execute a batch file from java?","body":"<p>You're best bet is to store the installation directory of the application on the system and then use that to build your paths within the application. System.getProperty(\"user.dir\") should work on Windows and Unix platforms to get the current working directory, but it is system dependent so be aware of that.</p>\n"},{"tags":[],"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1252932309,"creation_date":1252932309,"answer_id":1421335,"question_id":1421143,"body_markdown":"The second parameter to exec is a String[] of args for the environment settings (null means inherit the process&#39; current ones) and the third parameter to exec should be a file providing the working directory. Try this:\r\n\r\n    Runtime.getRuntime().exec(&quot;cmd /c server.bat&quot;, null, new File(&quot;./com/project/util&quot;));\r\n\r\n","title":"How to execute a batch file from java?","body":"<p>The second parameter to exec is a String[] of args for the environment settings (null means inherit the process' current ones) and the third parameter to exec should be a file providing the working directory. Try this:</p>\n\n<pre><code>Runtime.getRuntime().exec(\"cmd /c server.bat\", null, new File(\"./com/project/util\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1252937927,"creation_date":1252937927,"answer_id":1421851,"question_id":1421143,"body_markdown":"You can try it with Desktop if supported (Java 1.6)\r\n\r\n        File file = new File(&quot;server.bat&quot;);\r\n        Desktop.getDesktop().open(file);\r\n\r\n","title":"How to execute a batch file from java?","body":"<p>You can try it with Desktop if supported (Java 1.6)</p>\n\n<pre><code>    File file = new File(\"server.bat\");\n    Desktop.getDesktop().open(file);\n</code></pre>\n"}],"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62462,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":1421220,"answer_count":7,"score":10,"last_activity_date":1653250943,"creation_date":1252929911,"question_id":1421143,"body_markdown":"I want to execute a batch file from a java program.\r\n\r\nI am using the following command.\r\n\r\n    Runtime.getRuntime().exec(&quot;server.bat&quot;);\r\n\r\nBut the problem is I want to give a reative path instead of absolute path so that I can deploy that java project on any comp.\r\n\r\nThe dir structure of the project is like as follows:\r\n    \r\n\r\n    com\r\n       |\r\n      project\r\n       |\r\n       ------ parser\r\n       |         |_____ Main.java\r\n       |\r\n       -------util\r\n                 |_____ Server.bat\r\n\r\nI want to run the &quot;Server.bat&quot; file in the &quot;util&quot; dir from the &quot;Main.java&quot; file in the &quot;parser&quot; dir.\r\n   ","title":"How to execute a batch file from java?","body":"<p>I want to execute a batch file from a java program.</p>\n\n<p>I am using the following command.</p>\n\n<pre><code>Runtime.getRuntime().exec(\"server.bat\");\n</code></pre>\n\n<p>But the problem is I want to give a reative path instead of absolute path so that I can deploy that java project on any comp.</p>\n\n<p>The dir structure of the project is like as follows:</p>\n\n<pre><code>com\n   |\n  project\n   |\n   ------ parser\n   |         |_____ Main.java\n   |\n   -------util\n             |_____ Server.bat\n</code></pre>\n\n<p>I want to run the \"Server.bat\" file in the \"util\" dir from the \"Main.java\" file in the \"parser\" dir.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1653248598,"post_id":72339410,"comment_id":127799413,"body_markdown":"could you emphasise your primary problem? the content is the same for both page parameters (0 and 1)?","body":"could you emphasise your primary problem? the content is the same for both page parameters (0 and 1)?"},{"owner":{"account_id":24356269,"reputation":96,"user_id":18291382,"display_name":"Fambo"},"score":0,"creation_date":1653249222,"post_id":72339410,"comment_id":127799546,"body_markdown":"Yes, that is exactly the problem. I have 2 entities. Instead of the page 0 showing the 1 entity and page 1 showing the 2 entity. Both page 0 and page 1 show the same entity","body":"Yes, that is exactly the problem. I have 2 entities. Instead of the page 0 showing the 1 entity and page 1 showing the 2 entity. Both page 0 and page 1 show the same entity"}],"owner":{"account_id":24356269,"reputation":96,"user_id":18291382,"display_name":"Fambo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653249280,"creation_date":1653237059,"question_id":72339410,"body_markdown":"I&#39;m having trouble with spring boot pagination.\r\nMy pagination settings are:\r\n\r\n    spring.data.web.pageable.size-parameter=size\r\n    spring.data.web.pageable.page-parameter=page\r\n    spring.data.web.pageable.default-page-size=10\r\n    spring.data.web.pageable.one-indexed-parameters=false\r\n    spring.data.web.pageable.max-page-size=20\r\n    spring.data.web.pageable.qualifier-delimiter=_\r\nI have an endpoint that holds 2 entities, /blocked-study-groups\r\nwhen I call the endpoint with size=2&amp;page=0 I of course, get both of my entities. The problem comes, when I try to fetch the entities one by one. When I call the endpoint with size=1&amp;page=0 I get this response\r\n\r\n    {\r\n    &quot;content&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;7LRoDdGoKVn&quot;,\r\n            &quot;name&quot;: &quot;a--&quot;,\r\n            &quot;creator&quot;: {\r\n                &quot;id&quot;: &quot;wLKQgwWQ9Ab&quot;,\r\n                &quot;nickname&quot;: &quot;Giwemik&quot;,\r\n                &quot;email&quot;: &quot;giwemik611@roxoas.com&quot;,\r\n                &quot;avatar&quot;: &quot;https://avatars.dicebear.com/api/bottts/a9bf5e6d-b882-412a-a31c-2bae15f90465.svg&quot;,\r\n                &quot;nameId&quot;: &quot;GG7N&quot;,\r\n                &quot;emailNotifications&quot;: false,\r\n                &quot;pushNotifications&quot;: true\r\n            }\r\n        }\r\n    ],\r\n    &quot;pageable&quot;: {\r\n        &quot;sort&quot;: {\r\n            &quot;empty&quot;: true,\r\n            &quot;sorted&quot;: false,\r\n            &quot;unsorted&quot;: true\r\n        },\r\n        &quot;offset&quot;: 0,\r\n        &quot;pageNumber&quot;: 0,\r\n        &quot;pageSize&quot;: 1,\r\n        &quot;paged&quot;: true,\r\n        &quot;unpaged&quot;: false\r\n    },\r\n    &quot;size&quot;: 1,\r\n    &quot;number&quot;: 0,\r\n    &quot;sort&quot;: {\r\n        &quot;empty&quot;: true,\r\n        &quot;sorted&quot;: false,\r\n        &quot;unsorted&quot;: true\r\n    },\r\n    &quot;first&quot;: true,\r\n    &quot;last&quot;: false,\r\n    &quot;numberOfElements&quot;: 1,\r\n    &quot;empty&quot;: false\r\n    }\r\nWhich has the same **content** (not the whole response) as when I call it with size=1&amp;page=1:\r\n\r\n    {\r\n    &quot;content&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;7LRoDdGoKVn&quot;,\r\n            &quot;name&quot;: &quot;a--&quot;,\r\n            &quot;creator&quot;: {\r\n                &quot;id&quot;: &quot;wLKQgwWQ9Ab&quot;,\r\n                &quot;nickname&quot;: &quot;Giwemik&quot;,\r\n                &quot;email&quot;: &quot;giwemik611@roxoas.com&quot;,\r\n                &quot;avatar&quot;: &quot;https://avatars.dicebear.com/api/bottts/a9bf5e6d-b882-412a-a31c-2bae15f90465.svg&quot;,\r\n                &quot;nameId&quot;: &quot;GG7N&quot;,\r\n                &quot;emailNotifications&quot;: false,\r\n                &quot;pushNotifications&quot;: true\r\n            }\r\n        }\r\n    ],\r\n    &quot;pageable&quot;: {\r\n        &quot;sort&quot;: {\r\n            &quot;empty&quot;: true,\r\n            &quot;sorted&quot;: false,\r\n            &quot;unsorted&quot;: true\r\n        },\r\n        &quot;offset&quot;: 1,\r\n        &quot;pageNumber&quot;: 1,\r\n        &quot;pageSize&quot;: 1,\r\n        &quot;paged&quot;: true,\r\n        &quot;unpaged&quot;: false\r\n    },\r\n    &quot;size&quot;: 1,\r\n    &quot;number&quot;: 1,\r\n    &quot;sort&quot;: {\r\n        &quot;empty&quot;: true,\r\n        &quot;sorted&quot;: false,\r\n        &quot;unsorted&quot;: true\r\n    },\r\n    &quot;first&quot;: false,\r\n    &quot;last&quot;: true,\r\n    &quot;numberOfElements&quot;: 1,\r\n    &quot;empty&quot;: false\r\n    }\r\nI&#39;m not sure if it is needed, but for the record, I also provide controller and service:\r\nController:\r\n\r\n    @GetMapping(&quot;/{id}/blocked-study-groups&quot;)\r\n    public Slice&lt;StudyGroupDto&gt; getBlockedStudyGroups(@PathVariable String id, Pageable pageable) {\r\n        return studentService.getBlockedStudyGroups(hashidsUtil.decodeId(id), pageable);\r\n    }\r\n\r\nService:\r\n\r\n    public Slice&lt;StudyGroupDto&gt; getBlockedStudyGroups(long id, Pageable pageable) {\r\n        Slice&lt;StudyGroup&gt; page = studyGroupRepository.findByBlockedById(id, pageable);\r\n        return new SliceImpl&lt;&gt;(dtoMapper.mapStudyGroups(page.getContent()), page.getPageable(), page.hasNext());\r\n    }\r\nWhy do both pages display the same entity when I have 2 entities in the database? ","title":"Spring boot pagination returning same content","body":"<p>I'm having trouble with spring boot pagination.\nMy pagination settings are:</p>\n<pre><code>spring.data.web.pageable.size-parameter=size\nspring.data.web.pageable.page-parameter=page\nspring.data.web.pageable.default-page-size=10\nspring.data.web.pageable.one-indexed-parameters=false\nspring.data.web.pageable.max-page-size=20\nspring.data.web.pageable.qualifier-delimiter=_\n</code></pre>\n<p>I have an endpoint that holds 2 entities, /blocked-study-groups\nwhen I call the endpoint with size=2&amp;page=0 I of course, get both of my entities. The problem comes, when I try to fetch the entities one by one. When I call the endpoint with size=1&amp;page=0 I get this response</p>\n<pre><code>{\n&quot;content&quot;: [\n    {\n        &quot;id&quot;: &quot;7LRoDdGoKVn&quot;,\n        &quot;name&quot;: &quot;a--&quot;,\n        &quot;creator&quot;: {\n            &quot;id&quot;: &quot;wLKQgwWQ9Ab&quot;,\n            &quot;nickname&quot;: &quot;Giwemik&quot;,\n            &quot;email&quot;: &quot;giwemik611@roxoas.com&quot;,\n            &quot;avatar&quot;: &quot;https://avatars.dicebear.com/api/bottts/a9bf5e6d-b882-412a-a31c-2bae15f90465.svg&quot;,\n            &quot;nameId&quot;: &quot;GG7N&quot;,\n            &quot;emailNotifications&quot;: false,\n            &quot;pushNotifications&quot;: true\n        }\n    }\n],\n&quot;pageable&quot;: {\n    &quot;sort&quot;: {\n        &quot;empty&quot;: true,\n        &quot;sorted&quot;: false,\n        &quot;unsorted&quot;: true\n    },\n    &quot;offset&quot;: 0,\n    &quot;pageNumber&quot;: 0,\n    &quot;pageSize&quot;: 1,\n    &quot;paged&quot;: true,\n    &quot;unpaged&quot;: false\n},\n&quot;size&quot;: 1,\n&quot;number&quot;: 0,\n&quot;sort&quot;: {\n    &quot;empty&quot;: true,\n    &quot;sorted&quot;: false,\n    &quot;unsorted&quot;: true\n},\n&quot;first&quot;: true,\n&quot;last&quot;: false,\n&quot;numberOfElements&quot;: 1,\n&quot;empty&quot;: false\n}\n</code></pre>\n<p>Which has the same <strong>content</strong> (not the whole response) as when I call it with size=1&amp;page=1:</p>\n<pre><code>{\n&quot;content&quot;: [\n    {\n        &quot;id&quot;: &quot;7LRoDdGoKVn&quot;,\n        &quot;name&quot;: &quot;a--&quot;,\n        &quot;creator&quot;: {\n            &quot;id&quot;: &quot;wLKQgwWQ9Ab&quot;,\n            &quot;nickname&quot;: &quot;Giwemik&quot;,\n            &quot;email&quot;: &quot;giwemik611@roxoas.com&quot;,\n            &quot;avatar&quot;: &quot;https://avatars.dicebear.com/api/bottts/a9bf5e6d-b882-412a-a31c-2bae15f90465.svg&quot;,\n            &quot;nameId&quot;: &quot;GG7N&quot;,\n            &quot;emailNotifications&quot;: false,\n            &quot;pushNotifications&quot;: true\n        }\n    }\n],\n&quot;pageable&quot;: {\n    &quot;sort&quot;: {\n        &quot;empty&quot;: true,\n        &quot;sorted&quot;: false,\n        &quot;unsorted&quot;: true\n    },\n    &quot;offset&quot;: 1,\n    &quot;pageNumber&quot;: 1,\n    &quot;pageSize&quot;: 1,\n    &quot;paged&quot;: true,\n    &quot;unpaged&quot;: false\n},\n&quot;size&quot;: 1,\n&quot;number&quot;: 1,\n&quot;sort&quot;: {\n    &quot;empty&quot;: true,\n    &quot;sorted&quot;: false,\n    &quot;unsorted&quot;: true\n},\n&quot;first&quot;: false,\n&quot;last&quot;: true,\n&quot;numberOfElements&quot;: 1,\n&quot;empty&quot;: false\n}\n</code></pre>\n<p>I'm not sure if it is needed, but for the record, I also provide controller and service:\nController:</p>\n<pre><code>@GetMapping(&quot;/{id}/blocked-study-groups&quot;)\npublic Slice&lt;StudyGroupDto&gt; getBlockedStudyGroups(@PathVariable String id, Pageable pageable) {\n    return studentService.getBlockedStudyGroups(hashidsUtil.decodeId(id), pageable);\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>public Slice&lt;StudyGroupDto&gt; getBlockedStudyGroups(long id, Pageable pageable) {\n    Slice&lt;StudyGroup&gt; page = studyGroupRepository.findByBlockedById(id, pageable);\n    return new SliceImpl&lt;&gt;(dtoMapper.mapStudyGroups(page.getContent()), page.getPageable(), page.hasNext());\n}\n</code></pre>\n<p>Why do both pages display the same entity when I have 2 entities in the database?</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":6,"creation_date":1653246625,"post_id":72340563,"comment_id":127799041,"body_markdown":"1) Don&#39;t use a null layout. Swing was designed to be used with layout managers 2) Your top level panel can use a `CardLayout`. All panels will be sized to the size of the largest panel added. See the Swing tutorial o [How to Use CardLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html) for more information and working examples. Keep a link to the tutorial handy for all Swing basics.","body":"1) Don&#39;t use a null layout. Swing was designed to be used with layout managers 2) Your top level panel can use a <code>CardLayout</code>. All panels will be sized to the size of the largest panel added. See the Swing tutorial o <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">How to Use CardLayout</a> for more information and working examples. Keep a link to the tutorial handy for all Swing basics."}],"answers":[{"tags":[],"owner":{"account_id":15828371,"reputation":58,"user_id":11420520,"display_name":"Guillem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653249130,"creation_date":1653249130,"answer_id":72340862,"question_id":72340563,"body_markdown":"You have different valid options here. Knowing that you want to change from one view to another and keep the same size, it sounds like the best option would be to use a CardLayout allowing you to change between the different views without having to worry about repainting and revalidating stuff (this tutorial from Oracle helped me a lot back when I was learning to use this layout: [Oracle - How to use CardLayout][1].\r\n\r\nHowever, as usual with Swing/AWT this is not the only valid option. For example, you could also use the BorderLayout that is applied by default to the ContentPane from the JFrame and add the desired JPanel to the Center of that BorderLayout. However, you would have to manage the view-changing process in this case.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html","title":"JFrame and JPanel sizing","body":"<p>You have different valid options here. Knowing that you want to change from one view to another and keep the same size, it sounds like the best option would be to use a CardLayout allowing you to change between the different views without having to worry about repainting and revalidating stuff (this tutorial from Oracle helped me a lot back when I was learning to use this layout: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">Oracle - How to use CardLayout</a>.</p>\n<p>However, as usual with Swing/AWT this is not the only valid option. For example, you could also use the BorderLayout that is applied by default to the ContentPane from the JFrame and add the desired JPanel to the Center of that BorderLayout. However, you would have to manage the view-changing process in this case.</p>\n"}],"owner":{"account_id":25360105,"reputation":5,"user_id":19175521,"display_name":"JavaPuff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72340862,"answer_count":1,"score":0,"last_activity_date":1653249130,"creation_date":1653246503,"question_id":72340563,"body_markdown":"I have a JFrame and a few JPanels that are displayed depending on where the user goes (to login, homepage etc), is there a way to set all JPanels to the same size without having to manually specify?\r\n\r\n```\r\npublic mainApp() {\r\n    main = new JFrame(&quot;Application&quot;);\r\n    main.setSize(640, 480);\r\n    main.setVisible(true);\r\n}\r\n\r\nprivate JPanel loginScreen() {\r\n    login = new JPanel(null);\r\n    login.setSize(640, 480);\r\n    login.setVisible(true);\r\n    \r\n}\r\n```\r\n\r\nFor example I have 5 different JPanels, and have to specify the size in each, is there a way to set a default size that is the same as the JFrame?","title":"JFrame and JPanel sizing","body":"<p>I have a JFrame and a few JPanels that are displayed depending on where the user goes (to login, homepage etc), is there a way to set all JPanels to the same size without having to manually specify?</p>\n<pre><code>public mainApp() {\n    main = new JFrame(&quot;Application&quot;);\n    main.setSize(640, 480);\n    main.setVisible(true);\n}\n\nprivate JPanel loginScreen() {\n    login = new JPanel(null);\n    login.setSize(640, 480);\n    login.setVisible(true);\n    \n}\n</code></pre>\n<p>For example I have 5 different JPanels, and have to specify the size in each, is there a way to set a default size that is the same as the JFrame?</p>\n"},{"tags":["java","spring","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653249002,"creation_date":1653235846,"answer_id":72339261,"question_id":72338571,"body_markdown":"&lt;br&gt;During `mockStatic` definition in Mockito you can specify setting to perform real execution by default `Mockito.withSettings().defaultAnswer(Mockito.CALLS_REAL_METHODS)`. In this way, your static mock will work like `Spy`.\r\n&lt;br&gt;Let&#39;s create simple `Utils` class for testing.\r\n```java\r\npublic class Utils {\r\n    public static String method1() {\r\n        return &quot;Original mehtod1() value&quot;;\r\n    }\r\n\r\n    public static String method2() {\r\n        return &quot;Original mehtod2() value&quot;;\r\n    }\r\n\r\n    public static String method3() {\r\n        return method2();\r\n    }\r\n}\r\n```\r\nMake mock for `method2` and perform real execution of `method1` and `method3`\r\n```java\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockedStatic;\r\nimport org.mockito.Mockito;\r\n\r\npublic class SpyStaticTest {\r\n    @Test\r\n    public void spy_static_test() {\r\n        try (MockedStatic&lt;Utils&gt; utilities = Mockito.mockStatic(Utils.class, Mockito.withSettings().defaultAnswer(Mockito.CALLS_REAL_METHODS))) {\r\n            utilities.when(Utils::method2).thenReturn(&quot;static mock&quot;);\r\n\r\n            Assertions.assertEquals(Utils.method1(), &quot;Original mehtod1() value&quot;);\r\n            Assertions.assertEquals(Utils.method2(), &quot;static mock&quot;);\r\n            Assertions.assertEquals(Utils.method3(), &quot;static mock&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nExample for your class:\r\n```java\r\n    @Test\r\n    public void test() {\r\n        try (MockedStatic&lt;MessageValidationUtils&gt; utilities = Mockito.mockStatic(MessageValidationUtils.class, Mockito.withSettings().defaultAnswer(Mockito.CALLS_REAL_METHODS))) {\r\n            utilities.when(() -&gt; MessageValidationUtils.validateTelegramKeyMap(messageProcessDto.getMessageMessageType(),\r\n                    messageProcessDto.getMessageKeyValueMap())).thenAnswer((Answer&lt;Boolean&gt;) invocation -&gt; true);\r\n            \r\n            //perform testing of your service which uses MessageValidationUtils\r\n        }\r\n    }\r\n```\r\n**UPDATE:**\r\n&lt;br&gt;Example to use `mockStatic` in `@BeforeEach`\r\n```java\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockedStatic;\r\nimport org.mockito.Mockito;\r\n\r\npublic class SpyStaticTest {\r\n    MockedStatic&lt;Utils&gt; utilities;\r\n    \r\n    @BeforeEach\r\n    public void setUp() {\r\n        utilities = Mockito.mockStatic(Utils.class, Mockito.withSettings().defaultAnswer(Mockito.CALLS_REAL_METHODS));\r\n    }\r\n\r\n    @Test\r\n    public void spy_static_test1() {\r\n        utilities.when(Utils::method2).thenReturn(&quot;static mock&quot;);\r\n\r\n        Assertions.assertEquals(Utils.method1(), &quot;Original mehtod1() value&quot;);\r\n        Assertions.assertEquals(Utils.method2(), &quot;static mock&quot;);\r\n        Assertions.assertEquals(Utils.method3(), &quot;static mock&quot;);\r\n\r\n    }\r\n\r\n    @Test\r\n    public void spy_static_test2() {\r\n        utilities.when(Utils::method1).thenReturn(&quot;static mock&quot;);\r\n\r\n        Assertions.assertEquals(Utils.method1(), &quot;static mock&quot;);\r\n        Assertions.assertEquals(Utils.method2(), &quot;Original mehtod2() value&quot;);\r\n        Assertions.assertEquals(Utils.method3(), &quot;Original mehtod2() value&quot;);\r\n\r\n    }\r\n\r\n    @AfterEach\r\n    public void  afterTest() {\r\n        utilities.close();\r\n    }\r\n}\r\n```\r\n**UPDATE:**\r\n&lt;br&gt;Mockito does not provide method for static `Spy` creation, but you can define own utils and implemet spy static definition there.\r\n```java\r\nimport org.mockito.MockedStatic;\r\nimport org.mockito.Mockito;\r\n\r\npublic class MockitoUtils {\r\n    public static &lt;T&gt; MockedStatic&lt;T&gt; spyStatic(Class&lt;T&gt; classToMock) {\r\n        return Mockito.mockStatic(classToMock, Mockito.withSettings().defaultAnswer(Mockito.CALLS_REAL_METHODS));\r\n    }\r\n}\r\n```\r\nIn this way your tests will look more clear:\r\n```java\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockedStatic;\r\n\r\nimport static com.test.MockitoUtils.spyStatic;\r\n\r\npublic class SpyStaticTest {\r\n    MockedStatic&lt;Utils&gt; utilsSpy;\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        utilsSpy = spyStatic(Utils.class);\r\n    }\r\n\r\n    @Test\r\n    public void spy_static_test1() {\r\n        utilsSpy.when(Utils::method2).thenReturn(&quot;static mock&quot;);\r\n\r\n        Assertions.assertEquals(Utils.method1(), &quot;Original mehtod1() value&quot;);\r\n        Assertions.assertEquals(Utils.method2(), &quot;static mock&quot;);\r\n        Assertions.assertEquals(Utils.method3(), &quot;static mock&quot;);\r\n\r\n    }\r\n\r\n    @Test\r\n    public void spy_static_test2() {\r\n        utilsSpy.when(Utils::method1).thenReturn(&quot;static mock&quot;);\r\n\r\n        Assertions.assertEquals(Utils.method1(), &quot;static mock&quot;);\r\n        Assertions.assertEquals(Utils.method2(), &quot;Original mehtod2() value&quot;);\r\n        Assertions.assertEquals(Utils.method3(), &quot;Original mehtod2() value&quot;);\r\n\r\n    }\r\n\r\n    @AfterEach\r\n    public void  afterTest() {\r\n        utilsSpy.close();\r\n    }\r\n}\r\n```","title":"Spy a class without PowerMock","body":"<p><br>During <code>mockStatic</code> definition in Mockito you can specify setting to perform real execution by default <code>Mockito.withSettings().defaultAnswer(Mockito.CALLS_REAL_METHODS)</code>. In this way, your static mock will work like <code>Spy</code>.\n<br>Let's create simple <code>Utils</code> class for testing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Utils {\n    public static String method1() {\n        return &quot;Original mehtod1() value&quot;;\n    }\n\n    public static String method2() {\n        return &quot;Original mehtod2() value&quot;;\n    }\n\n    public static String method3() {\n        return method2();\n    }\n}\n</code></pre>\n<p>Make mock for <code>method2</code> and perform real execution of <code>method1</code> and <code>method3</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.MockedStatic;\nimport org.mockito.Mockito;\n\npublic class SpyStaticTest {\n    @Test\n    public void spy_static_test() {\n        try (MockedStatic&lt;Utils&gt; utilities = Mockito.mockStatic(Utils.class, Mockito.withSettings().defaultAnswer(Mockito.CALLS_REAL_METHODS))) {\n            utilities.when(Utils::method2).thenReturn(&quot;static mock&quot;);\n\n            Assertions.assertEquals(Utils.method1(), &quot;Original mehtod1() value&quot;);\n            Assertions.assertEquals(Utils.method2(), &quot;static mock&quot;);\n            Assertions.assertEquals(Utils.method3(), &quot;static mock&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Example for your class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void test() {\n        try (MockedStatic&lt;MessageValidationUtils&gt; utilities = Mockito.mockStatic(MessageValidationUtils.class, Mockito.withSettings().defaultAnswer(Mockito.CALLS_REAL_METHODS))) {\n            utilities.when(() -&gt; MessageValidationUtils.validateTelegramKeyMap(messageProcessDto.getMessageMessageType(),\n                    messageProcessDto.getMessageKeyValueMap())).thenAnswer((Answer&lt;Boolean&gt;) invocation -&gt; true);\n            \n            //perform testing of your service which uses MessageValidationUtils\n        }\n    }\n</code></pre>\n<p><strong>UPDATE:</strong>\n<br>Example to use <code>mockStatic</code> in <code>@BeforeEach</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.MockedStatic;\nimport org.mockito.Mockito;\n\npublic class SpyStaticTest {\n    MockedStatic&lt;Utils&gt; utilities;\n    \n    @BeforeEach\n    public void setUp() {\n        utilities = Mockito.mockStatic(Utils.class, Mockito.withSettings().defaultAnswer(Mockito.CALLS_REAL_METHODS));\n    }\n\n    @Test\n    public void spy_static_test1() {\n        utilities.when(Utils::method2).thenReturn(&quot;static mock&quot;);\n\n        Assertions.assertEquals(Utils.method1(), &quot;Original mehtod1() value&quot;);\n        Assertions.assertEquals(Utils.method2(), &quot;static mock&quot;);\n        Assertions.assertEquals(Utils.method3(), &quot;static mock&quot;);\n\n    }\n\n    @Test\n    public void spy_static_test2() {\n        utilities.when(Utils::method1).thenReturn(&quot;static mock&quot;);\n\n        Assertions.assertEquals(Utils.method1(), &quot;static mock&quot;);\n        Assertions.assertEquals(Utils.method2(), &quot;Original mehtod2() value&quot;);\n        Assertions.assertEquals(Utils.method3(), &quot;Original mehtod2() value&quot;);\n\n    }\n\n    @AfterEach\n    public void  afterTest() {\n        utilities.close();\n    }\n}\n</code></pre>\n<p><strong>UPDATE:</strong>\n<br>Mockito does not provide method for static <code>Spy</code> creation, but you can define own utils and implemet spy static definition there.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.mockito.MockedStatic;\nimport org.mockito.Mockito;\n\npublic class MockitoUtils {\n    public static &lt;T&gt; MockedStatic&lt;T&gt; spyStatic(Class&lt;T&gt; classToMock) {\n        return Mockito.mockStatic(classToMock, Mockito.withSettings().defaultAnswer(Mockito.CALLS_REAL_METHODS));\n    }\n}\n</code></pre>\n<p>In this way your tests will look more clear:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.MockedStatic;\n\nimport static com.test.MockitoUtils.spyStatic;\n\npublic class SpyStaticTest {\n    MockedStatic&lt;Utils&gt; utilsSpy;\n\n    @BeforeEach\n    public void setUp() {\n        utilsSpy = spyStatic(Utils.class);\n    }\n\n    @Test\n    public void spy_static_test1() {\n        utilsSpy.when(Utils::method2).thenReturn(&quot;static mock&quot;);\n\n        Assertions.assertEquals(Utils.method1(), &quot;Original mehtod1() value&quot;);\n        Assertions.assertEquals(Utils.method2(), &quot;static mock&quot;);\n        Assertions.assertEquals(Utils.method3(), &quot;static mock&quot;);\n\n    }\n\n    @Test\n    public void spy_static_test2() {\n        utilsSpy.when(Utils::method1).thenReturn(&quot;static mock&quot;);\n\n        Assertions.assertEquals(Utils.method1(), &quot;static mock&quot;);\n        Assertions.assertEquals(Utils.method2(), &quot;Original mehtod2() value&quot;);\n        Assertions.assertEquals(Utils.method3(), &quot;Original mehtod2() value&quot;);\n\n    }\n\n    @AfterEach\n    public void  afterTest() {\n        utilsSpy.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20084709,"reputation":216,"user_id":14726554,"display_name":"Emre Varol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1855,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72339261,"answer_count":1,"score":1,"last_activity_date":1653249002,"creation_date":1653230519,"question_id":72338571,"body_markdown":"I don&#39;t want to use powermock anymore. Because junit5 started mocking static classes. So i am trying to get rid of powermock methods.\r\n\r\nWhile i was using PowerMock, i could easily spy a class that has a private constructor, and then i was calling the static methods. \r\n\r\nThis is a part of my code ( When i was using PowerMock )\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(MessageValidationUtils.class)\r\n    public class MessageValidationServiceTest {\r\n    \r\n        @Mock\r\n        private CheckpointCustomerService checkpointCustomerService;\r\n    \r\n    \r\n        @Mock\r\n        private ProductClientService productClientService;\r\n    \r\n    \r\n        @Before\r\n        public void setUp() {\r\n            MockitoAnnotations.openMocks(this);\r\n            PowerMockito.spy(MessageValidationUtils.class);\r\n    }\r\n\r\n\r\nAfter i make a spy object of MessageValidationUtils.class, i was testing this:\r\n\r\n    when(MessageValidationUtils.validateTelegramKeyMap(messageProcessDto.getMessageMessageType(),\r\n            messageProcessDto.getMessageKeyValueMap())).thenAnswer((Answer&lt;Boolean&gt;) invocation -&gt; true);\r\n\r\nAfter some research i couldn&#39;t find anything related to spy a class that has a private constructor and static methods.","title":"Spy a class without PowerMock","body":"<p>I don't want to use powermock anymore. Because junit5 started mocking static classes. So i am trying to get rid of powermock methods.</p>\n<p>While i was using PowerMock, i could easily spy a class that has a private constructor, and then i was calling the static methods.</p>\n<p>This is a part of my code ( When i was using PowerMock )</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(MessageValidationUtils.class)\npublic class MessageValidationServiceTest {\n\n    @Mock\n    private CheckpointCustomerService checkpointCustomerService;\n\n\n    @Mock\n    private ProductClientService productClientService;\n\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.openMocks(this);\n        PowerMockito.spy(MessageValidationUtils.class);\n}\n</code></pre>\n<p>After i make a spy object of MessageValidationUtils.class, i was testing this:</p>\n<pre><code>when(MessageValidationUtils.validateTelegramKeyMap(messageProcessDto.getMessageMessageType(),\n        messageProcessDto.getMessageKeyValueMap())).thenAnswer((Answer&lt;Boolean&gt;) invocation -&gt; true);\n</code></pre>\n<p>After some research i couldn't find anything related to spy a class that has a private constructor and static methods.</p>\n"},{"tags":["java","spring","spring-boot","encryption","jasypt"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1652260942,"post_id":72198393,"comment_id":127561233,"body_markdown":"Because the encryption is a two-way encryption this is inherently unsafe (more or less). So instead of storing encrypted values in a properties file, more and more people/orgs start to use vaults (like the HashiCorp vault for instance) to store secrets. Or provide them on runtime as environment/container variables.","body":"Because the encryption is a two-way encryption this is inherently unsafe (more or less). So instead of storing encrypted values in a properties file, more and more people/orgs start to use vaults (like the HashiCorp vault for instance) to store secrets. Or provide them on runtime as environment/container variables."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":2,"creation_date":1652767228,"post_id":72198393,"comment_id":127678763,"body_markdown":"check [Spring Cloud Config Server - Encryption and Decryption](https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_server.html#_encryption_and_decryption)","body":"check <a href=\"https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_server.html#_encryption_and_decryption\" rel=\"nofollow noreferrer\">Spring Cloud Config Server - Encryption and Decryption</a>"},{"owner":{"account_id":5502263,"reputation":155,"user_id":4371264,"display_name":"schwaller"},"score":0,"creation_date":1677832133,"post_id":72198393,"comment_id":133418674,"body_markdown":"Not sure what you mean by Java 17 issues - if you mean java modules I think the whole spring project is not compatible. The fact they don&#39;t need to make changes is not bad ... whats the problem with Jasypt really? I&#39;m not familiar with Spring Cloud. You make it sound like its a Spring Boot replacement but that does not seem to be the case right?","body":"Not sure what you mean by Java 17 issues - if you mean java modules I think the whole spring project is not compatible. The fact they don&#39;t need to make changes is not bad ... whats the problem with Jasypt really? I&#39;m not familiar with Spring Cloud. You make it sound like its a Spring Boot replacement but that does not seem to be the case right?"}],"answers":[{"tags":[],"owner":{"account_id":1885290,"reputation":3234,"user_id":1704634,"display_name":"blagerweij"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653248843,"creation_date":1653248843,"answer_id":72340833,"question_id":72198393,"body_markdown":"Spring Cloud has builtin support for decrypting properties. Any property that starts with `{cipher}...` will automatically be decrypted at runtime. Similar to jasypt, a &#39;master&#39; encryption key is used. Configuring this key can be done  by specifying `encrypt.key` in bootstrap.yaml or by specifying the `ENCRYPT_KEY` environment variable. Default uses symmetric encryption, but it&#39;s also possible to use asymmetric keys. \r\n```\r\nspring:\r\n  datasource:\r\n    password: {cipher}xxxxx\r\n```\r\nThe Spring CLI also has support for encrypting values:\r\n```\r\nspring encrypt --key MySeCrEtMaStErKeY &#39;secretAPIkey&#39;\r\n```\r\nThen start your app by specifying the master encryption key in bootstrap.yaml or using an environment variable:\r\n```\r\nENCRYPT_KEY=MySeCrEtMaStErKeY java -jar myapp.jar\r\n```\r\n\r\nSee https://docs.spring.io/spring-cloud-commons/docs/current/reference/html/#encryption-and-decryption\r\n\r\nFor more sophisticated setups, I highly recommend using Hashicorp Vault. It&#39;s open source and free to use.","title":"Jasypt out of maintenance? What to use for encryption with Spring Boot","body":"<p>Spring Cloud has builtin support for decrypting properties. Any property that starts with <code>{cipher}...</code> will automatically be decrypted at runtime. Similar to jasypt, a 'master' encryption key is used. Configuring this key can be done  by specifying <code>encrypt.key</code> in bootstrap.yaml or by specifying the <code>ENCRYPT_KEY</code> environment variable. Default uses symmetric encryption, but it's also possible to use asymmetric keys.</p>\n<pre><code>spring:\n  datasource:\n    password: {cipher}xxxxx\n</code></pre>\n<p>The Spring CLI also has support for encrypting values:</p>\n<pre><code>spring encrypt --key MySeCrEtMaStErKeY 'secretAPIkey'\n</code></pre>\n<p>Then start your app by specifying the master encryption key in bootstrap.yaml or using an environment variable:</p>\n<pre><code>ENCRYPT_KEY=MySeCrEtMaStErKeY java -jar myapp.jar\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring-cloud-commons/docs/current/reference/html/#encryption-and-decryption\" rel=\"noreferrer\">https://docs.spring.io/spring-cloud-commons/docs/current/reference/html/#encryption-and-decryption</a></p>\n<p>For more sophisticated setups, I highly recommend using Hashicorp Vault. It's open source and free to use.</p>\n"}],"owner":{"account_id":37186,"reputation":1783,"user_id":106260,"accept_rate":56,"display_name":"jens"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3480,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72340833,"answer_count":1,"score":6,"last_activity_date":1653248843,"creation_date":1652260412,"question_id":72198393,"body_markdown":"Jasypt (https://github.com/jasypt/jasypt) and the according Spring Boot integration (https://github.com/ulisesbocchio/jasypt-spring-boot) do not really seem to be alive any longer. \r\n\r\n* issues with the latest LTS Java version (17)\r\n* no activity in the most recent history\r\n\r\nWhat are current good practices for encrypting properties in Spring Boot applications using open source libraries? Simple solutions preferred.","title":"Jasypt out of maintenance? What to use for encryption with Spring Boot","body":"<p>Jasypt (<a href=\"https://github.com/jasypt/jasypt\" rel=\"noreferrer\">https://github.com/jasypt/jasypt</a>) and the according Spring Boot integration (<a href=\"https://github.com/ulisesbocchio/jasypt-spring-boot\" rel=\"noreferrer\">https://github.com/ulisesbocchio/jasypt-spring-boot</a>) do not really seem to be alive any longer.</p>\n<ul>\n<li>issues with the latest LTS Java version (17)</li>\n<li>no activity in the most recent history</li>\n</ul>\n<p>What are current good practices for encrypting properties in Spring Boot applications using open source libraries? Simple solutions preferred.</p>\n"},{"tags":["java","android","email","android-intent"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653261188,"post_id":72340485,"comment_id":127801515,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":21543568,"reputation":5895,"user_id":15880865,"display_name":"Richard Onslow Roper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653248504,"creation_date":1653248504,"answer_id":72340790,"question_id":72340485,"body_markdown":"Add the email address in the mailto string, sir.","title":"I tried to use intent email in my small android project but its not working. Can anyone help me to find the error?","body":"<p>Add the email address in the mailto string, sir.</p>\n"}],"owner":{"account_id":25247173,"reputation":17,"user_id":19080266,"display_name":"shashank agrawal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653248504,"creation_date":1653245828,"question_id":72340485,"body_markdown":"public void submit_order(View view) {                                //For ORDER button\r\n        EditText name_var = (EditText) findViewById(R.id.name);\r\n        field = name_var.getText().toString();\r\n\r\n        Intent intent = new Intent(Intent.ACTION_SENDTO);                // only email apps should handle this\r\n        intent.setData(Uri.parse(&quot;mailto:&quot;));\r\n        intent.putExtra(Intent.EXTRA_SUBJECT, &quot;Just Java order for &quot; + field);\r\n        if (intent.resolveActivity(getPackageManager()) != null) {\r\n            startActivity(intent);\r\n        }\r\n        display_message(field, number_of_coffee);\r\n    }","title":"I tried to use intent email in my small android project but its not working. Can anyone help me to find the error?","body":"<p>public void submit_order(View view) {                                //For ORDER button\nEditText name_var = (EditText) findViewById(R.id.name);\nfield = name_var.getText().toString();</p>\n<pre><code>    Intent intent = new Intent(Intent.ACTION_SENDTO);                // only email apps should handle this\n    intent.setData(Uri.parse(&quot;mailto:&quot;));\n    intent.putExtra(Intent.EXTRA_SUBJECT, &quot;Just Java order for &quot; + field);\n    if (intent.resolveActivity(getPackageManager()) != null) {\n        startActivity(intent);\n    }\n    display_message(field, number_of_coffee);\n}\n</code></pre>\n"},{"tags":["java","vagrant","devops","maven-3","ubuntu-18.04"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1649499150,"post_id":71784943,"comment_id":126894471,"body_markdown":"`installation using provision, it just doesn&#39;t work.` what does this mean? How does your Vagrantfile look like? How do you call Vagrant ? Which version of Vagrant do you use? Furthermore why not using ansible for installing software on the system ? Furhtermore for Maven you only need an entry in PATH variable no `M2_HOME` nor `MAVEN_HOME`... Also you have to make entries in the `.bashrc` (or in system `/etc/profiles.d/...` ) entry to activate the path for new logins etc...","body":"<code>installation using provision, it just doesn&#39;t work.</code> what does this mean? How does your Vagrantfile look like? How do you call Vagrant ? Which version of Vagrant do you use? Furthermore why not using ansible for installing software on the system ? Furhtermore for Maven you only need an entry in PATH variable no <code>M2_HOME</code> nor <code>MAVEN_HOME</code>... Also you have to make entries in the <code>.bashrc</code> (or in system <code>&#47;etc&#47;profiles.d&#47;...</code> ) entry to activate the path for new logins etc..."}],"answers":[{"tags":[],"owner":{"account_id":25355767,"reputation":1,"user_id":19171910,"display_name":"user19171910"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1653248149,"creation_date":1653196322,"answer_id":72334951,"question_id":71784943,"body_markdown":"Install JAVA\r\n\r\n```SHELL\r\nsudo add-apt-repository ppa:openjdk-r/ppa\r\nsudo apt-get update\r\nsudo apt-get install -y openjdk-8-jdk\r\n```\r\n\r\nInstall Maven ( on Jenkins machine )\r\n```SHELL\r\ncd /tmp\r\nsudo wget https://dlcdn.apache.org/maven/maven-3/3.8.5/binaries/apache-maven-3.8.5-bin.tar.gz\r\n\r\ncd /tmp \r\nsudo tar -xzf apache-maven-3.8.5-bin.tar.gz -C  /opt/\r\nmv /opt/apache-maven-3.8.5 /opt/maven\r\n```","title":"How to install maven 3.8 and jdk 17 on ubuntu using vagrant","body":"<p>Install JAVA</p>\n<pre><code>sudo add-apt-repository ppa:openjdk-r/ppa\nsudo apt-get update\nsudo apt-get install -y openjdk-8-jdk\n</code></pre>\n<p>Install Maven ( on Jenkins machine )</p>\n<pre><code>cd /tmp\nsudo wget https://dlcdn.apache.org/maven/maven-3/3.8.5/binaries/apache-maven-3.8.5-bin.tar.gz\n\ncd /tmp \nsudo tar -xzf apache-maven-3.8.5-bin.tar.gz -C  /opt/\nmv /opt/apache-maven-3.8.5 /opt/maven\n</code></pre>\n"}],"owner":{"account_id":10274514,"reputation":147,"user_id":7581894,"display_name":"Funez Camilo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5261,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1653248149,"creation_date":1649345372,"question_id":71784943,"body_markdown":"As the titles says, I am triying to install maven 3.8 and jdk17 in a virtual machine using vagrant. This is what I have:\r\n\r\nVagrantfile:\r\n\r\n...\r\n\r\n\r\n    config.vm.provision &quot;shell&quot;, path: &quot;vagrantScripts/jdk17.sh&quot;\r\n\r\n\r\n...\r\n\r\njdk17.sh:\r\n\r\n    #jdk17 installation\r\n\r\n    curl  -O https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\r\n    sudo tar -xvf jdk-17_linux-x64_bin.tar.gz\r\n    sudo mv jdk-17.0.2 /opt/jdk17\r\n    export JAVA_HOME=/opt/jdk17\r\n    export PATH=$PATH:$JAVA_HOME/bin\r\n\r\n    #maven 3.8.5 installation\r\n    curl  -O https://dlcdn.apache.org/maven/maven-3/3.8.5/binaries/apache-maven-3.8.5-bin.tar.gz\r\n    sudo tar -xvf apache-maven-3.8.5-bin.tar.gz\r\n    sudo mv apache-maven-3.8.5 /opt/maven\r\n    export M2_HOME=/opt/maven\r\n    export MAVEN_HOME=/opt/maven\r\n    export PATH=${M2_HOME}/bin:${PATH}\r\n\r\n\r\n\r\n\r\nIf I do line by line coding in the command shell of the VM, everything works fine, but when I try to automate the installation using provision, it just doesn&#39;t work.\r\n\r\nAny help?\r\n\r\nThanks","title":"How to install maven 3.8 and jdk 17 on ubuntu using vagrant","body":"<p>As the titles says, I am triying to install maven 3.8 and jdk17 in a virtual machine using vagrant. This is what I have:</p>\n<p>Vagrantfile:</p>\n<p>...</p>\n<pre><code>config.vm.provision &quot;shell&quot;, path: &quot;vagrantScripts/jdk17.sh&quot;\n</code></pre>\n<p>...</p>\n<p>jdk17.sh:</p>\n<pre><code>#jdk17 installation\n\ncurl  -O https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\nsudo tar -xvf jdk-17_linux-x64_bin.tar.gz\nsudo mv jdk-17.0.2 /opt/jdk17\nexport JAVA_HOME=/opt/jdk17\nexport PATH=$PATH:$JAVA_HOME/bin\n\n#maven 3.8.5 installation\ncurl  -O https://dlcdn.apache.org/maven/maven-3/3.8.5/binaries/apache-maven-3.8.5-bin.tar.gz\nsudo tar -xvf apache-maven-3.8.5-bin.tar.gz\nsudo mv apache-maven-3.8.5 /opt/maven\nexport M2_HOME=/opt/maven\nexport MAVEN_HOME=/opt/maven\nexport PATH=${M2_HOME}/bin:${PATH}\n</code></pre>\n<p>If I do line by line coding in the command shell of the VM, everything works fine, but when I try to automate the installation using provision, it just doesn't work.</p>\n<p>Any help?</p>\n<p>Thanks</p>\n"},{"tags":["java","json","spring","kotlin","jackson"],"answers":[{"tags":[],"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1584042094,"creation_date":1584042094,"answer_id":60660906,"question_id":60660605,"body_markdown":"I haven&#39;t tried it with the exact versions you&#39;re using, but I suspect it&#39;ll work if you **replace `@JsonIgnore` with `@get:JsonIgnore`**.\r\n\r\nThis is one of those common gotchas when converting Java to Kotlin.&#160; In Java, you usually implement a property with a private field and a getter method (and a setter if it&#39;s mutable).&#160; You might also include a constructor parameter to initialise it from.&#160; That&#39;s up to four separate bits of code, all related to the same property — and each can have their own annotations.\r\n\r\nHowever, in Kotlin, you can get all of those from a single bit of code.&#160; (Any non-private property gives you a private field and a getter method; if it&#39;s `var` you also get a setter; and if it&#39;s in the primary constructor then you also get a constructor parameter.)&#160; Which is far more concise!\r\n\r\nBut what do any annotations apply to?\r\n\r\nBy default, they apply to the constructor param — or, if the property is defined in the class body, the property itself (which is visible only to Kotlin).&#160; So if you want them to apply to the field, or to the getter or setter, you need to specify that explicitly, with e.g. `@field:JsonIgnore` or `@get:JsonIgnore`.\r\n\r\nFull details are in the [Kotlin docs](https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets).","title":"Jackson JsonIgnore does not work in kotlin","body":"<p>I haven't tried it with the exact versions you're using, but I suspect it'll work if you <strong>replace <code>@JsonIgnore</code> with <code>@get:JsonIgnore</code></strong>.</p>\n\n<p>This is one of those common gotchas when converting Java to Kotlin.  In Java, you usually implement a property with a private field and a getter method (and a setter if it's mutable).  You might also include a constructor parameter to initialise it from.  That's up to four separate bits of code, all related to the same property — and each can have their own annotations.</p>\n\n<p>However, in Kotlin, you can get all of those from a single bit of code.  (Any non-private property gives you a private field and a getter method; if it's <code>var</code> you also get a setter; and if it's in the primary constructor then you also get a constructor parameter.)  Which is far more concise!</p>\n\n<p>But what do any annotations apply to?</p>\n\n<p>By default, they apply to the constructor param — or, if the property is defined in the class body, the property itself (which is visible only to Kotlin).  So if you want them to apply to the field, or to the getter or setter, you need to specify that explicitly, with e.g. <code>@field:JsonIgnore</code> or <code>@get:JsonIgnore</code>.</p>\n\n<p>Full details are in the <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"noreferrer\">Kotlin docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":10080338,"reputation":396,"user_id":7450890,"display_name":"VSMent"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1589697471,"creation_date":1589697471,"answer_id":61847925,"question_id":60660605,"body_markdown":"I did not found the solution, but with\r\n```\r\n    @JsonProperty(&quot;_id&quot;)\r\n    override var id: Long? = null,\r\n```\r\nit works as expected.","title":"Jackson JsonIgnore does not work in kotlin","body":"<p>I did not found the solution, but with</p>\n\n<pre><code>    @JsonProperty(\"_id\")\n    override var id: Long? = null,\n</code></pre>\n\n<p>it works as expected.</p>\n"},{"tags":[],"owner":{"account_id":9824068,"reputation":335,"user_id":7277725,"display_name":"Bobin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653248036,"creation_date":1653248036,"answer_id":72340737,"question_id":60660605,"body_markdown":"I had to remove @Serializable from my class in order for @JsonIgnore to work on the field. Very strange.","title":"Jackson JsonIgnore does not work in kotlin","body":"<p>I had to remove @Serializable from my class in order for @JsonIgnore to work on the field. Very strange.</p>\n"}],"owner":{"account_id":10080338,"reputation":396,"user_id":7450890,"display_name":"VSMent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9129,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":61847925,"answer_count":3,"score":5,"last_activity_date":1653248036,"creation_date":1584040769,"question_id":60660605,"body_markdown":"I am rewriting Java Spring application to Kotlin Spring application.\r\n\r\nAll works fine except API request to openweather. \r\n\r\nTo store DTO in database there is `id` field alongside with `cityId` retrieved from API (it is called `id` there).\r\n\r\nFor some reason @JsonIgnore does not work for DTO id field.\r\n\r\nbuild.gradle\r\n```\r\n// plugins\r\n\r\n    id &#39;org.springframework.boot&#39; version &#39;2.2.4.RELEASE&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n    id &#39;java&#39;\r\n    id &#39;war&#39;\r\n    id &#39;maven&#39;\r\n    id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.3.70&#39;\r\n    id &quot;org.jetbrains.kotlin.plugin.jpa&quot; version &quot;1.3.70&quot;\r\n    id &quot;org.jetbrains.kotlin.plugin.noarg&quot; version &quot;1.3.70&quot;\r\n    id &quot;org.jetbrains.kotlin.plugin.spring&quot; version &quot;1.3.70&quot;\r\n    id &quot;org.jetbrains.kotlin.plugin.allopen&quot; version &quot;1.3.70&quot;\r\n\r\n\r\n// dependencies\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-mail:2.2.4.RELEASE&#39;\r\n    implementation &#39;org.springframework.security:spring-security-test&#39;\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-reflect&quot;\r\n    implementation &quot;com.fasterxml.jackson.module:jackson-module-kotlin:2.10.2&quot;\r\n```\r\n\r\nOpenWeather responds with next JSON (some fields omitted):\r\n\r\n```\r\n{\r\n    &quot;coord&quot;:{\r\n        &quot;lon&quot;:-0.13,\r\n        &quot;lat&quot;:51.51\r\n    },\r\n    &quot;main&quot;:{\r\n        &quot;temp&quot;:14.04,\r\n        &quot;feels_like&quot;:7.05,\r\n        &quot;pressure&quot;:1011,\r\n        &quot;humidity&quot;:61\r\n    },\r\n    &quot;dt&quot;:1584018901,\r\n    &quot;id&quot;:2643743,              &lt;- cityId in DTO class\r\n    &quot;name&quot;:&quot;London&quot;,\r\n ...\r\n}\r\n```\r\nDTO class:\r\n```\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties\r\nimport com.fasterxml.jackson.annotation.JsonProperty\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\ndata class OpenWeatherApiDto(\r\n        @JsonIgnore\r\n        override var id: Long? = null,\r\n        ...\r\n        override var cityId: Int? = null,\r\n        ...\r\n) : AbstractWeatherSampleDto() {\r\n    ...\r\n    @JsonProperty(&quot;id&quot;)\r\n    private fun unpackId(idObj: Int?) {\r\n        cityId = idObj\r\n                ?: throw ApiFieldNotFoundException(&quot;id&quot;)\r\n    }\r\n    ...\r\n}\r\n```\r\nTest that fails\r\n```\r\n@Test\r\n    fun createFromFile() {\r\n        val mapper = jacksonObjectMapper()\r\n        Files.lines(Paths.get(&quot;src/test/resources/data/OWApi.json&quot;)).use { s -&gt;\r\n            val json: String = s.collect(Collectors.joining())\r\n            val ws: OpenWeatherApiDto = mapper.readValue(json)\r\n            println(ws)\r\n            assertThat(ws)\r\n                    .isNotNull\r\n                    .extracting(&quot;cityId&quot;).isEqualTo(2643743)\r\n        }\r\n    }\r\n```\r\nFail message is:\r\n```\r\n[Extracted: cityId] \r\nExpecting:\r\n &lt;null&gt;\r\nto be equal to:\r\n &lt;2643743&gt;\r\nbut was not.\r\n```\r\nAnd actual object is:\r\n\r\n&gt;OpenWeatherApiDto(**id=2643743**, cityName=London, temperature=14.04, feelsLike=7.05, pressure=1011.0, humidity=61, clouds=null, **cityId=null**, time=1584018901, latitude=51.51, longitude=-0.13)\r\n\r\nI&#39;ve found similar issue on `jackson-module-kotlin` [GitHub page][1] which happened to be `jackson-databind` [related][2] and [resolved][3] in **2.9.6** while I use **2.10.2**\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-module-kotlin/issues/124\r\n  [2]: https://github.com/FasterXML/jackson-databind/issues/2001\r\n  [3]: https://github.com/FasterXML/jackson-databind/pull/2002","title":"Jackson JsonIgnore does not work in kotlin","body":"<p>I am rewriting Java Spring application to Kotlin Spring application.</p>\n\n<p>All works fine except API request to openweather. </p>\n\n<p>To store DTO in database there is <code>id</code> field alongside with <code>cityId</code> retrieved from API (it is called <code>id</code> there).</p>\n\n<p>For some reason @JsonIgnore does not work for DTO id field.</p>\n\n<p>build.gradle</p>\n\n<pre><code>// plugins\n\n    id 'org.springframework.boot' version '2.2.4.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    id 'java'\n    id 'war'\n    id 'maven'\n    id 'org.jetbrains.kotlin.jvm' version '1.3.70'\n    id \"org.jetbrains.kotlin.plugin.jpa\" version \"1.3.70\"\n    id \"org.jetbrains.kotlin.plugin.noarg\" version \"1.3.70\"\n    id \"org.jetbrains.kotlin.plugin.spring\" version \"1.3.70\"\n    id \"org.jetbrains.kotlin.plugin.allopen\" version \"1.3.70\"\n\n\n// dependencies\n\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-mail:2.2.4.RELEASE'\n    implementation 'org.springframework.security:spring-security-test'\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n    implementation \"org.jetbrains.kotlin:kotlin-reflect\"\n    implementation \"com.fasterxml.jackson.module:jackson-module-kotlin:2.10.2\"\n</code></pre>\n\n<p>OpenWeather responds with next JSON (some fields omitted):</p>\n\n<pre><code>{\n    \"coord\":{\n        \"lon\":-0.13,\n        \"lat\":51.51\n    },\n    \"main\":{\n        \"temp\":14.04,\n        \"feels_like\":7.05,\n        \"pressure\":1011,\n        \"humidity\":61\n    },\n    \"dt\":1584018901,\n    \"id\":2643743,              &lt;- cityId in DTO class\n    \"name\":\"London\",\n ...\n}\n</code></pre>\n\n<p>DTO class:</p>\n\n<pre><code>\nimport com.fasterxml.jackson.annotation.JsonIgnore\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties\nimport com.fasterxml.jackson.annotation.JsonProperty\n\n@JsonIgnoreProperties(ignoreUnknown = true)\ndata class OpenWeatherApiDto(\n        @JsonIgnore\n        override var id: Long? = null,\n        ...\n        override var cityId: Int? = null,\n        ...\n) : AbstractWeatherSampleDto() {\n    ...\n    @JsonProperty(\"id\")\n    private fun unpackId(idObj: Int?) {\n        cityId = idObj\n                ?: throw ApiFieldNotFoundException(\"id\")\n    }\n    ...\n}\n</code></pre>\n\n<p>Test that fails</p>\n\n<pre><code>@Test\n    fun createFromFile() {\n        val mapper = jacksonObjectMapper()\n        Files.lines(Paths.get(\"src/test/resources/data/OWApi.json\")).use { s -&gt;\n            val json: String = s.collect(Collectors.joining())\n            val ws: OpenWeatherApiDto = mapper.readValue(json)\n            println(ws)\n            assertThat(ws)\n                    .isNotNull\n                    .extracting(\"cityId\").isEqualTo(2643743)\n        }\n    }\n</code></pre>\n\n<p>Fail message is:</p>\n\n<pre><code>[Extracted: cityId] \nExpecting:\n &lt;null&gt;\nto be equal to:\n &lt;2643743&gt;\nbut was not.\n</code></pre>\n\n<p>And actual object is:</p>\n\n<blockquote>\n  <p>OpenWeatherApiDto(<strong>id=2643743</strong>, cityName=London, temperature=14.04, feelsLike=7.05, pressure=1011.0, humidity=61, clouds=null, <strong>cityId=null</strong>, time=1584018901, latitude=51.51, longitude=-0.13)</p>\n</blockquote>\n\n<p>I've found similar issue on <code>jackson-module-kotlin</code> <a href=\"https://github.com/FasterXML/jackson-module-kotlin/issues/124\" rel=\"noreferrer\">GitHub page</a> which happened to be <code>jackson-databind</code> <a href=\"https://github.com/FasterXML/jackson-databind/issues/2001\" rel=\"noreferrer\">related</a> and <a href=\"https://github.com/FasterXML/jackson-databind/pull/2002\" rel=\"noreferrer\">resolved</a> in <strong>2.9.6</strong> while I use <strong>2.10.2</strong></p>\n"},{"tags":["java","function","oop","recursion","methods"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1652989436,"post_id":72310171,"comment_id":127747899,"body_markdown":"Recursive mean that you repeatedly apply the same function to a smaller input, until when a break condition occurs. Your toString() method clearly never calls itself, so by definition it is not recursive. Instead, it is iterating over the sets of the object in order to build the expansion. So, indeed, it is iterative and not recursive.","body":"Recursive mean that you repeatedly apply the same function to a smaller input, until when a break condition occurs. Your toString() method clearly never calls itself, so by definition it is not recursive. Instead, it is iterating over the sets of the object in order to build the expansion. So, indeed, it is iterative and not recursive."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1652989497,"post_id":72310171,"comment_id":127747911,"body_markdown":"[This article](https://www.geeksforgeeks.org/difference-between-recursion-and-iteration/) explains pretty much the difference between the two.  I suggest you to read it, it may help to clarify some ideas.","body":"<a href=\"https://www.geeksforgeeks.org/difference-between-recursion-and-iteration/\" rel=\"nofollow noreferrer\">This article</a> explains pretty much the difference between the two.  I suggest you to read it, it may help to clarify some ideas."},{"owner":{"account_id":2132733,"reputation":175,"user_id":1893174,"display_name":"r Blue"},"score":0,"creation_date":1652989861,"post_id":72310171,"comment_id":127748037,"body_markdown":"Are you sure that &quot;sets&quot; is an ArrayList of ArrayList of Nodes?  That, to me, appears to be incorrect.  I would think all you would need is an ArrayList of Nodes. Or am I missing something?","body":"Are you sure that &quot;sets&quot; is an ArrayList of ArrayList of Nodes?  That, to me, appears to be incorrect.  I would think all you would need is an ArrayList of Nodes. Or am I missing something?"},{"owner":{"account_id":15272657,"reputation":44,"user_id":11019393,"display_name":"Abdulmelik Saylan"},"score":0,"creation_date":1652991557,"post_id":72310171,"comment_id":127748544,"body_markdown":"@MatteoNNZ First I want to thank you for your comment. Normally, It is clear to me that the usage of the recursion concept when exponent, Fibonacci, division, or other string operations happens in a non-OOP context. Yes, It technically never calls itself but it calls the same set of instructions from another Node object. That part confused me about the existence of a hybrid iterative-recursive concept.","body":"@MatteoNNZ First I want to thank you for your comment. Normally, It is clear to me that the usage of the recursion concept when exponent, Fibonacci, division, or other string operations happens in a non-OOP context. Yes, It technically never calls itself but it calls the same set of instructions from another Node object. That part confused me about the existence of a hybrid iterative-recursive concept."},{"owner":{"account_id":15272657,"reputation":44,"user_id":11019393,"display_name":"Abdulmelik Saylan"},"score":0,"creation_date":1652991723,"post_id":72310171,"comment_id":127748589,"body_markdown":"@rBlue &quot;sets&quot; list is the list of elements separated by &quot;|&quot; in input. I needed it because when printing I had to be able to recreate &quot;|&quot; fractions.","body":"@rBlue &quot;sets&quot; list is the list of elements separated by &quot;|&quot; in input. I needed it because when printing I had to be able to recreate &quot;|&quot; fractions."},{"owner":{"account_id":2132733,"reputation":175,"user_id":1893174,"display_name":"r Blue"},"score":0,"creation_date":1652993940,"post_id":72310171,"comment_id":127749266,"body_markdown":"Ok, thanks for the clarification on sets.  I see that is how you&#39;re solving the problem.  The loading of that collection would be a concern to me due to the fact that it could lead to NullPointerExceptions since the inner collection is not initialized when the Node is instantiated.  Due diligence would need to be extended to the loader, but that could be considered a business-rule leakage since it must have knowledge of the internals of Node.","body":"Ok, thanks for the clarification on sets.  I see that is how you&#39;re solving the problem.  The loading of that collection would be a concern to me due to the fact that it could lead to NullPointerExceptions since the inner collection is not initialized when the Node is instantiated.  Due diligence would need to be extended to the loader, but that could be considered a business-rule leakage since it must have knowledge of the internals of Node."},{"owner":{"account_id":2132733,"reputation":175,"user_id":1893174,"display_name":"r Blue"},"score":0,"creation_date":1653306983,"post_id":72310171,"comment_id":127811822,"body_markdown":"@AbdulmelikSaylan Based upon your new edits to the question, I&#39;m assuming &quot;do not mind&quot; is synonymous for &quot;ignore&quot;. But it&#39;s unclear where it should be ignored; at input, or at printing the tree? My gut feeling would be related to only printing to prevent that self-node from becoming a cycle, mostly so the output will better reflect the input. But the input process that I presented is built in the reverse order so the child nodes can be connected; there is no &quot;searching&quot; or auto-connection, so the insertion of a cycle would have to be intentional.","body":"@AbdulmelikSaylan Based upon your new edits to the question, I&#39;m assuming &quot;do not mind&quot; is synonymous for &quot;ignore&quot;. But it&#39;s unclear where it should be ignored; at input, or at printing the tree? My gut feeling would be related to only printing to prevent that self-node from becoming a cycle, mostly so the output will better reflect the input. But the input process that I presented is built in the reverse order so the child nodes can be connected; there is no &quot;searching&quot; or auto-connection, so the insertion of a cycle would have to be intentional."},{"owner":{"account_id":2132733,"reputation":175,"user_id":1893174,"display_name":"r Blue"},"score":0,"creation_date":1653307509,"post_id":72310171,"comment_id":127812004,"body_markdown":"In the past I&#39;ve used a &quot;collection&quot; to keep track of all nodes that have been visited.  It makes the code a little more busy(ugly), but that technique can be used to prevent cycles at any depth, not just as a self-child.  I may try to add that to the answer that I&#39;ve already provided to show how it would work with both the iterative answer and the recursive answer. Generally, in when a cycle is detected, we just ignore it, such as in processing ontologies.  But I&#39;m thinking in these examples, it may be ideal to just show the node&#39;s name.","body":"In the past I&#39;ve used a &quot;collection&quot; to keep track of all nodes that have been visited.  It makes the code a little more busy(ugly), but that technique can be used to prevent cycles at any depth, not just as a self-child.  I may try to add that to the answer that I&#39;ve already provided to show how it would work with both the iterative answer and the recursive answer. Generally, in when a cycle is detected, we just ignore it, such as in processing ontologies.  But I&#39;m thinking in these examples, it may be ideal to just show the node&#39;s name."},{"owner":{"account_id":15272657,"reputation":44,"user_id":11019393,"display_name":"Abdulmelik Saylan"},"score":0,"creation_date":1653313263,"post_id":72310171,"comment_id":127814499,"body_markdown":"I was using a technique similar to yours to substitute. I was pooling the previous nodes the search and replace to connect nodes. Therefore, there was only one copy of each type of letter or symbol so probability was making the function recursive already according to my opinion. I mailed about it and indirect calls the function itself noticed but I got the response about the mismatch between the wanted solution and my solution. Probably you will see if you were able to read the quiz paper that the wanted solution is more like a recursive search on the input string as an argument.","body":"I was using a technique similar to yours to substitute. I was pooling the previous nodes the search and replace to connect nodes. Therefore, there was only one copy of each type of letter or symbol so probability was making the function recursive already according to my opinion. I mailed about it and indirect calls the function itself noticed but I got the response about the mismatch between the wanted solution and my solution. Probably you will see if you were able to read the quiz paper that the wanted solution is more like a recursive search on the input string as an argument."},{"owner":{"account_id":15272657,"reputation":44,"user_id":11019393,"display_name":"Abdulmelik Saylan"},"score":0,"creation_date":1653313728,"post_id":72310171,"comment_id":127814717,"body_markdown":"My conclusion from the complaints is that the final decision has already been made about my solution. Although I couldn&#39;t find the mismatch between my solution and \nunderstanding of the paper, I gave up on my score.","body":"My conclusion from the complaints is that the final decision has already been made about my solution. Although I couldn&#39;t find the mismatch between my solution and  understanding of the paper, I gave up on my score."},{"owner":{"account_id":2132733,"reputation":175,"user_id":1893174,"display_name":"r Blue"},"score":0,"creation_date":1653585547,"post_id":72310171,"comment_id":127892643,"body_markdown":"Speaking directly about the code, allow me to provide feedback on what I see and feel about it, which may provide insight on how others may rate it.  If a student who I mentor would submit code like that, I would have them rewrite it because it’s overly complex and not clear. The results may be fine and correct, but my concerns are: future maintainers need to quickly understand what it&#39;s doing, and. overall simplicity is needed to reduce the potential for bugs now and in the future. The use of a nested ArrayList is not required to solve the problem, nor is it a pattern that I&#39;ve seen before.","body":"Speaking directly about the code, allow me to provide feedback on what I see and feel about it, which may provide insight on how others may rate it.  If a student who I mentor would submit code like that, I would have them rewrite it because it’s overly complex and not clear. The results may be fine and correct, but my concerns are: future maintainers need to quickly understand what it&#39;s doing, and. overall simplicity is needed to reduce the potential for bugs now and in the future. The use of a nested ArrayList is not required to solve the problem, nor is it a pattern that I&#39;ve seen before."},{"owner":{"account_id":2132733,"reputation":175,"user_id":1893174,"display_name":"r Blue"},"score":0,"creation_date":1653585588,"post_id":72310171,"comment_id":127892665,"body_markdown":"By gathering nodes in a new array of Strings, it appears like the code is unable to directly use the collections that contains the child nodes. Since the children must be gathered before they can be used, that &quot;feels&quot; like a design failure. Reviewing the code the first time, I did not understand the reasoning for the double layered ArrayLists, nor did I understand why there had to be a transitive use of a String array to process the child nodes.  These issues did present a serious concern.","body":"By gathering nodes in a new array of Strings, it appears like the code is unable to directly use the collections that contains the child nodes. Since the children must be gathered before they can be used, that &quot;feels&quot; like a design failure. Reviewing the code the first time, I did not understand the reasoning for the double layered ArrayLists, nor did I understand why there had to be a transitive use of a String array to process the child nodes.  These issues did present a serious concern."},{"owner":{"account_id":2132733,"reputation":175,"user_id":1893174,"display_name":"r Blue"},"score":0,"creation_date":1653585629,"post_id":72310171,"comment_id":127892682,"body_markdown":"The behavior of the code &quot;appears&quot; to be an iterative approach because the gathering of the children grabs the focus of the reviewer, and that could have strongly influenced your grade.  I would also conjecture that the amount of time to understand your code was limited, and therefore a decision was quickly made about what it was doing, without trying to better understand where the recursion actually is within the code.","body":"The behavior of the code &quot;appears&quot; to be an iterative approach because the gathering of the children grabs the focus of the reviewer, and that could have strongly influenced your grade.  I would also conjecture that the amount of time to understand your code was limited, and therefore a decision was quickly made about what it was doing, without trying to better understand where the recursion actually is within the code."},{"owner":{"account_id":2132733,"reputation":175,"user_id":1893174,"display_name":"r Blue"},"score":0,"creation_date":1653585666,"post_id":72310171,"comment_id":127892695,"body_markdown":"I understand why you are calling your solution recursive, but at best it is implicitly recursive and not explicit, so therefore the recursion aspect could have been easily lost while trying to understand what the purpose of the String array was trying to accomplish.  My suggestion is to make the recursion more obvious by explicitly using the object&#39;s toString() function instead of just adding the objects to a String value, which will implicitly call toString().","body":"I understand why you are calling your solution recursive, but at best it is implicitly recursive and not explicit, so therefore the recursion aspect could have been easily lost while trying to understand what the purpose of the String array was trying to accomplish.  My suggestion is to make the recursion more obvious by explicitly using the object&#39;s toString() function instead of just adding the objects to a String value, which will implicitly call toString()."},{"owner":{"account_id":2132733,"reputation":175,"user_id":1893174,"display_name":"r Blue"},"score":0,"creation_date":1653585707,"post_id":72310171,"comment_id":127892713,"body_markdown":"Overall, I understand the results are correct, and recursion does exist implicitly, but there are too many issues related to style and good design that it would prevent me from giving it a high grade.  If creativity were a factor for the grade, then I would give you high marks for that, but I don’t think creativity was something they were looking for in the answers.","body":"Overall, I understand the results are correct, and recursion does exist implicitly, but there are too many issues related to style and good design that it would prevent me from giving it a high grade.  If creativity were a factor for the grade, then I would give you high marks for that, but I don’t think creativity was something they were looking for in the answers."},{"owner":{"account_id":15272657,"reputation":44,"user_id":11019393,"display_name":"Abdulmelik Saylan"},"score":0,"creation_date":1653675997,"post_id":72310171,"comment_id":127917030,"body_markdown":"Well, grading is determined before the evaluation, and evaluation is constructed by units of evaluation where each unit has a certain amount of points also each unit is multiplied by a coefficient between 1 and 0. Recursive printing (40 points, base 100) was one of those units for which I got 0 for its coefficient. On the other hand quality of the code has 35 points to evaluate. I had limited time when I was building the solution so I couldn&#39;t go over it to make it more understandable with low complexity.","body":"Well, grading is determined before the evaluation, and evaluation is constructed by units of evaluation where each unit has a certain amount of points also each unit is multiplied by a coefficient between 1 and 0. Recursive printing (40 points, base 100) was one of those units for which I got 0 for its coefficient. On the other hand quality of the code has 35 points to evaluate. I had limited time when I was building the solution so I couldn&#39;t go over it to make it more understandable with low complexity."},{"owner":{"account_id":15272657,"reputation":44,"user_id":11019393,"display_name":"Abdulmelik Saylan"},"score":0,"creation_date":1653676346,"post_id":72310171,"comment_id":127917165,"body_markdown":"My concern was the zero coefficient of that evaluation unit because even if the function had a iterative look it was implicitly recursive. Although we can&#39;t call the function fully recursive it didn&#39;t deserve zero for it in my opinion.","body":"My concern was the zero coefficient of that evaluation unit because even if the function had a iterative look it was implicitly recursive. Although we can&#39;t call the function fully recursive it didn&#39;t deserve zero for it in my opinion."},{"owner":{"account_id":15272657,"reputation":44,"user_id":11019393,"display_name":"Abdulmelik Saylan"},"score":0,"creation_date":1653677232,"post_id":72310171,"comment_id":127917436,"body_markdown":"The assignment and my solution had more background than I explain which is forbidden for me to share but I can say that rest of my classes and methods were for handling the text file and creating a single node tree with substitution operations on children. The node class had a head variable with the type of character because letter cases were used to distinguish terminal and non-terminal units If we consider a 2D array for children","body":"The assignment and my solution had more background than I explain which is forbidden for me to share but I can say that rest of my classes and methods were for handling the text file and creating a single node tree with substitution operations on children. The node class had a head variable with the type of character because letter cases were used to distinguish terminal and non-terminal units If we consider a 2D array for children"},{"owner":{"account_id":15272657,"reputation":44,"user_id":11019393,"display_name":"Abdulmelik Saylan"},"score":0,"creation_date":1653677692,"post_id":72310171,"comment_id":127917519,"body_markdown":"Other than those, I want to thank you for your feedback. I believe we made the recursive concept on OOP clearer for people who are in the same confusion.","body":"Other than those, I want to thank you for your feedback. I believe we made the recursive concept on OOP clearer for people who are in the same confusion."}],"answers":[{"tags":[],"owner":{"account_id":2132733,"reputation":175,"user_id":1893174,"display_name":"r Blue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652995289,"creation_date":1652993463,"answer_id":72310926,"question_id":72310171,"body_markdown":"I am sure I do not fully understand your problem, but when reading over it, this is how I envision a workable solution.  Of course, the code is not there to load the data, but this Node class would represent the inputs from what I can tell.\r\n\r\nSo to answer your question, no, the `toString()` function is not recursive, but interative.\r\n\r\nTo show that this is a correct assumption, here are the classes which produces the following output.  Please note that I included two solutions: one which is iterative, and the other is recursive.  I kept the recursive solution as close to the `toString()` as possible so you can see the differences.\r\n\r\n```\r\nIterative output:\r\n((b|ab)|(a|ba))\r\n\r\nRecursive output:\r\n((b|ab)|(a|ba))\r\n```\r\n\r\n```java\r\nimport java.util.ArrayList;\r\n\r\npublic class Node\r\n{\r\n\tprivate String head;\r\n\tprivate ArrayList&lt;Node&gt; sets;\r\n\t\r\n\tpublic Node( String head ) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis.head = head;\r\n\t\tthis.sets = new ArrayList&lt;&gt;();\r\n\t}\r\n\r\n\tpublic String toString() {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\r\n\t\tif ( getSets().size() &gt; 0 ) {\r\n\t\t\tfor ( Node set : getSets() )\r\n\t\t\t{\r\n\t\t\t\tif ( sb.length() &gt; 0 ) {\r\n\t\t\t\t\tsb.append( &quot;|&quot; );\r\n\t\t\t\t}\r\n\t\t\t\tsb.append( set.toString() );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tsb.insert( 0, &quot;(&quot; );\r\n\t\t\tsb.append( &quot;)&quot; );\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsb.append( getHead() );\r\n\t\t}\r\n\t\t\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\n\tpublic String expandChildren() {\r\n\t\treturn expandChildrenRecursive( this );\r\n\t}\r\n\t\r\n\tprivate String expandChildrenRecursive( Node node ) {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\r\n\t\tif ( node.getSets().size() &gt; 0 ) {\r\n\t\t\tfor ( Node set : node.getSets() )\r\n\t\t\t{\r\n\t\t\t\tif ( sb.length() &gt; 0 ) {\r\n\t\t\t\t\tsb.append( &quot;|&quot; );\r\n\t\t\t\t}\r\n\t\t\t\tsb.append( expandChildrenRecursive( set ) );\r\n//\t\t\t\tsb.append( set.toString() );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tsb.insert( 0, &quot;(&quot; );\r\n\t\t\tsb.append( &quot;)&quot; );\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsb.append( node.getHead() );\r\n\t\t}\r\n\t\t\r\n\t\treturn sb.toString();\r\n\t}\r\n\t\r\n\tpublic String getHead() {\r\n\t\treturn head;\r\n\t}\r\n\tpublic void setHead( String head ) {\r\n\t\tthis.head = head;\r\n\t}\r\n\r\n\tpublic ArrayList&lt;Node&gt; getSets() {\r\n\t\treturn sets;\r\n\t}\r\n\tpublic void setSets( ArrayList&lt;Node&gt; sets ) {\r\n\t\tthis.sets = sets;\r\n\t}\r\n}\r\n```\r\n\r\nNow here is the class I used to build the objects so I can test it.\r\n\r\n```java\r\npublic class NodeTest\r\n{\r\n\tpublic static void main ( String[] args ) {\r\n\t\t\r\n\t\tNode nodeB = new Node(&quot;B&quot;);\r\n\t\tnodeB.getSets().add( new Node(&quot;b&quot;) );\r\n\t\tnodeB.getSets().add( new Node(&quot;ab&quot;) );\r\n\t\t\r\n\t\tNode nodeC = new Node(&quot;C&quot;);\r\n\t\tnodeC.getSets().add( new Node(&quot;a&quot;) );\r\n\t\tnodeC.getSets().add( new Node(&quot;ba&quot;) );\r\n\t\t\r\n\t\tNode nodeA = new Node(&quot;A&quot;);\r\n\t\tnodeA.getSets().add( nodeB );\r\n\t\tnodeA.getSets().add( nodeC );\r\n\t\t\t\t\r\n\t\tSystem.out.println( &quot;Iterative output:&quot; );\r\n\t\tSystem.out.println( nodeA.toString() );\r\n\t\t\r\n\t\tSystem.out.println( &quot;\\nRecursive output:&quot; );\r\n\t\tSystem.out.println( nodeA.expandChildren() );\r\n\t}\r\n}\r\n```\r\n\r\nHopefully that does help to answer your question on how it is actually iterative and how a recursive solution is slightly different.","title":"Can We Tell the Function Call Between Instances of Same Class is Recursive?","body":"<p>I am sure I do not fully understand your problem, but when reading over it, this is how I envision a workable solution.  Of course, the code is not there to load the data, but this Node class would represent the inputs from what I can tell.</p>\n<p>So to answer your question, no, the <code>toString()</code> function is not recursive, but interative.</p>\n<p>To show that this is a correct assumption, here are the classes which produces the following output.  Please note that I included two solutions: one which is iterative, and the other is recursive.  I kept the recursive solution as close to the <code>toString()</code> as possible so you can see the differences.</p>\n<pre><code>Iterative output:\n((b|ab)|(a|ba))\n\nRecursive output:\n((b|ab)|(a|ba))\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\n\npublic class Node\n{\n    private String head;\n    private ArrayList&lt;Node&gt; sets;\n    \n    public Node( String head ) {\n        super();\n        \n        this.head = head;\n        this.sets = new ArrayList&lt;&gt;();\n    }\n\n    public String toString() {\n        StringBuilder sb = new StringBuilder();\n        \n        if ( getSets().size() &gt; 0 ) {\n            for ( Node set : getSets() )\n            {\n                if ( sb.length() &gt; 0 ) {\n                    sb.append( &quot;|&quot; );\n                }\n                sb.append( set.toString() );\n            }\n            \n            sb.insert( 0, &quot;(&quot; );\n            sb.append( &quot;)&quot; );\n            \n        }\n        else {\n            sb.append( getHead() );\n        }\n        \n        return sb.toString();\n    }\n\n    public String expandChildren() {\n        return expandChildrenRecursive( this );\n    }\n    \n    private String expandChildrenRecursive( Node node ) {\n        StringBuilder sb = new StringBuilder();\n        \n        if ( node.getSets().size() &gt; 0 ) {\n            for ( Node set : node.getSets() )\n            {\n                if ( sb.length() &gt; 0 ) {\n                    sb.append( &quot;|&quot; );\n                }\n                sb.append( expandChildrenRecursive( set ) );\n//              sb.append( set.toString() );\n            }\n            \n            sb.insert( 0, &quot;(&quot; );\n            sb.append( &quot;)&quot; );\n            \n        }\n        else {\n            sb.append( node.getHead() );\n        }\n        \n        return sb.toString();\n    }\n    \n    public String getHead() {\n        return head;\n    }\n    public void setHead( String head ) {\n        this.head = head;\n    }\n\n    public ArrayList&lt;Node&gt; getSets() {\n        return sets;\n    }\n    public void setSets( ArrayList&lt;Node&gt; sets ) {\n        this.sets = sets;\n    }\n}\n</code></pre>\n<p>Now here is the class I used to build the objects so I can test it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class NodeTest\n{\n    public static void main ( String[] args ) {\n        \n        Node nodeB = new Node(&quot;B&quot;);\n        nodeB.getSets().add( new Node(&quot;b&quot;) );\n        nodeB.getSets().add( new Node(&quot;ab&quot;) );\n        \n        Node nodeC = new Node(&quot;C&quot;);\n        nodeC.getSets().add( new Node(&quot;a&quot;) );\n        nodeC.getSets().add( new Node(&quot;ba&quot;) );\n        \n        Node nodeA = new Node(&quot;A&quot;);\n        nodeA.getSets().add( nodeB );\n        nodeA.getSets().add( nodeC );\n                \n        System.out.println( &quot;Iterative output:&quot; );\n        System.out.println( nodeA.toString() );\n        \n        System.out.println( &quot;\\nRecursive output:&quot; );\n        System.out.println( nodeA.expandChildren() );\n    }\n}\n</code></pre>\n<p>Hopefully that does help to answer your question on how it is actually iterative and how a recursive solution is slightly different.</p>\n"}],"owner":{"account_id":15272657,"reputation":44,"user_id":11019393,"display_name":"Abdulmelik Saylan"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653247755,"creation_date":1652988717,"question_id":72310171,"body_markdown":"I had a quiz of the OOP Course that runs with Java language. We were asked to create a data structure for text file input like this:\r\n\r\n    A-&gt;ab|Ca|Ba\r\n    C-&gt;Bb|aB\r\n    B-&gt;a|b\r\n\r\nto create an output like:\r\n\r\n    (ab|((a|b)b|a(a|b))a|(a|b)a)\r\n\r\ninput:\r\n\r\n    A-&gt;B|C\r\n    C-&gt;a|ba\r\n    B-&gt;b|ab\r\n\r\noutput:\r\n\r\n    ((b|ab)|(a|ba))\r\n\r\nUnfortunately, I can&#39;t fully share my solution due to Quiz paper but also we were asked to recursively print the full expansion of the ancestor node (node with head character &quot;A&quot;). I created a Node class to handle parent-&gt;children relationships and recursive print with toString method but I got no score from the recursive part of the quiz assignment and  I got feedback when I asked, that tells me, the solution is iterative and it is not recursive.\r\n\r\nI couldn&#39;t accept that since the method is able to call another method that has the same instructions even if it is owned by a Node instance with a child role.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    \r\n    public class Node {\r\n        private String head;\r\n        private ArrayList&lt;ArrayList&lt;Node&gt;&gt; sets;\r\n    \r\n        Node(String c) {\r\n            this.head = c;\r\n            this.sets = new ArrayList&lt;ArrayList&lt;Node&gt;&gt;();\r\n        }\r\n    \r\n        public String getHead() {\r\n            return this.head;\r\n        }\r\n    \r\n        public boolean hasChildren() {\r\n            return sets.size() &gt; 0;\r\n        }\r\n    \r\n        // recursively (?) return proper output in context of nodes\r\n        @Override public String toString() {\r\n            if (!this.hasChildren())\r\n                return this.getHead();\r\n            String[] parts = new String[sets.size()];\r\n            for (int i = 0; i &lt; sets.size(); i++) {\r\n                String subs = &quot;&quot;;\r\n                ArrayList&lt;Node&gt; set = sets.get(i);\r\n                for (int j = 0; j &lt; set.size(); j++) {\r\n                    subs += set.get(j); // subs += ((Node) set.get(j)).toString() || The part that I think add recursive feature to method, it doesn&#39;t call itself but calls the same method of Node from a child\r\n                }\r\n                parts[i] = subs;\r\n    \r\n            }\r\n            return &quot;(&quot; + String.join(&quot;|&quot;, parts) + &quot;)&quot;;\r\n        }\r\n    }\r\n\r\nI need more opinions about it. Do you think the `toString` method is recursive? Which functions we cannot call recursive?\r\n\r\nEdit:\r\nThere was also an instruction, &quot;do not mind the recursive self calls&quot;, this means a case like: `B -&gt; a|b|B`\r\n\r\nFrom that sentence, I didn&#39;t mind the neither termination case nor input filtering so when you input a case like that your Node object takes an indirect call from either a child or itself.\r\n\r\nSince there is a probability of receiving a recursive input, there will be a certain amount of ratio of probability upon toString function.\r\n","title":"Can We Tell the Function Call Between Instances of Same Class is Recursive?","body":"<p>I had a quiz of the OOP Course that runs with Java language. We were asked to create a data structure for text file input like this:</p>\n<pre><code>A-&gt;ab|Ca|Ba\nC-&gt;Bb|aB\nB-&gt;a|b\n</code></pre>\n<p>to create an output like:</p>\n<pre><code>(ab|((a|b)b|a(a|b))a|(a|b)a)\n</code></pre>\n<p>input:</p>\n<pre><code>A-&gt;B|C\nC-&gt;a|ba\nB-&gt;b|ab\n</code></pre>\n<p>output:</p>\n<pre><code>((b|ab)|(a|ba))\n</code></pre>\n<p>Unfortunately, I can't fully share my solution due to Quiz paper but also we were asked to recursively print the full expansion of the ancestor node (node with head character &quot;A&quot;). I created a Node class to handle parent-&gt;children relationships and recursive print with toString method but I got no score from the recursive part of the quiz assignment and  I got feedback when I asked, that tells me, the solution is iterative and it is not recursive.</p>\n<p>I couldn't accept that since the method is able to call another method that has the same instructions even if it is owned by a Node instance with a child role.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\n\npublic class Node {\n    private String head;\n    private ArrayList&lt;ArrayList&lt;Node&gt;&gt; sets;\n\n    Node(String c) {\n        this.head = c;\n        this.sets = new ArrayList&lt;ArrayList&lt;Node&gt;&gt;();\n    }\n\n    public String getHead() {\n        return this.head;\n    }\n\n    public boolean hasChildren() {\n        return sets.size() &gt; 0;\n    }\n\n    // recursively (?) return proper output in context of nodes\n    @Override public String toString() {\n        if (!this.hasChildren())\n            return this.getHead();\n        String[] parts = new String[sets.size()];\n        for (int i = 0; i &lt; sets.size(); i++) {\n            String subs = &quot;&quot;;\n            ArrayList&lt;Node&gt; set = sets.get(i);\n            for (int j = 0; j &lt; set.size(); j++) {\n                subs += set.get(j); // subs += ((Node) set.get(j)).toString() || The part that I think add recursive feature to method, it doesn't call itself but calls the same method of Node from a child\n            }\n            parts[i] = subs;\n\n        }\n        return &quot;(&quot; + String.join(&quot;|&quot;, parts) + &quot;)&quot;;\n    }\n}\n</code></pre>\n<p>I need more opinions about it. Do you think the <code>toString</code> method is recursive? Which functions we cannot call recursive?</p>\n<p>Edit:\nThere was also an instruction, &quot;do not mind the recursive self calls&quot;, this means a case like: <code>B -&gt; a|b|B</code></p>\n<p>From that sentence, I didn't mind the neither termination case nor input filtering so when you input a case like that your Node object takes an indirect call from either a child or itself.</p>\n<p>Since there is a probability of receiving a recursive input, there will be a certain amount of ratio of probability upon toString function.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":17783121,"reputation":418,"user_id":12913865,"display_name":"Šimon Vyhnis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653247734,"creation_date":1653247734,"answer_id":72340703,"question_id":72336776,"body_markdown":"Do you have activity_main_land.xml in the res/layout folder? Namespace declaration is never used is just a warning, because you have xmlns:tools imported, even you don&#39;t use it. ","title":"I have a problem in my activity_main_land.xml, it displays the following error: element LinearLayout must be declared","body":"<p>Do you have activity_main_land.xml in the res/layout folder? Namespace declaration is never used is just a warning, because you have xmlns:tools imported, even you don't use it.</p>\n"}],"owner":{"account_id":25357174,"reputation":1,"user_id":19173114,"display_name":"Godspower "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653247734,"creation_date":1653215712,"question_id":72336776,"body_markdown":"I have a problem in my activity_main_land.xml, it displays the following error: \r\nelement LinearLayout must be declared, Namespace declaration is never used\r\n\r\nthis is my code below \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;Linearlayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#000000&quot;\r\n        android:keepScreenOn=&quot;true&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        tools:context=&quot;com.example.derek.myspeedalerter.MainActivity&quot;&gt;\r\n\r\n        &lt;fragment\r\n            android:id=&quot;@+id/setspeed_fragment&quot;\r\n            android:name=&quot;com.example.derek.myspeedalerter.SetSpeedFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;top&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            tools:layout=&quot;@layout/setspeed_fragment&quot; /&gt;\r\n\r\n        &lt;fragment\r\n            android:id=&quot;@+id/display_fragment&quot;\r\n            android:name=&quot;com.example.derek.myspeedalerter.DisplayFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;bottom&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            tools:layout=&quot;@layout/display_fragment&quot; /&gt;\r\n    &lt;/Linearlayout&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"I have a problem in my activity_main_land.xml, it displays the following error: element LinearLayout must be declared","body":"<p>I have a problem in my activity_main_land.xml, it displays the following error:\nelement LinearLayout must be declared, Namespace declaration is never used</p>\n<p>this is my code below</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;Linearlayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#000000\"\n    android:keepScreenOn=\"true\"\n    android:orientation=\"horizontal\"\n    tools:context=\"com.example.derek.myspeedalerter.MainActivity\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/setspeed_fragment\"\n        android:name=\"com.example.derek.myspeedalerter.SetSpeedFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"top\"\n        android:layout_weight=\"1\"\n        tools:layout=\"@layout/setspeed_fragment\" /&gt;\n\n    &lt;fragment\n        android:id=\"@+id/display_fragment\"\n        android:name=\"com.example.derek.myspeedalerter.DisplayFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"bottom\"\n        android:layout_weight=\"1\"\n        tools:layout=\"@layout/display_fragment\" /&gt;\n&lt;/Linearlayout&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","data-structures","linked-list","reverse"],"comments":[{"owner":{"account_id":23860783,"reputation":33,"user_id":17863763,"display_name":"Suhas"},"score":0,"creation_date":1653242505,"post_id":72264026,"comment_id":127798162,"body_markdown":"@Dan After using the method you have written I can print the reversed list after using the create option but not the element that I entered after reversing the linked list.","body":"@Dan After using the method you have written I can print the reversed list after using the create option but not the element that I entered after reversing the linked list."},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1653247448,"post_id":72264026,"comment_id":127799179,"body_markdown":"that is a first version of my edit with a missing statement. I remember correcting it, though. I&#39;ve updated the answer by the way. The tail reset was missing.","body":"that is a first version of my edit with a missing statement. I remember correcting it, though. I&#39;ve updated the answer by the way. The tail reset was missing."},{"owner":{"account_id":23860783,"reputation":33,"user_id":17863763,"display_name":"Suhas"},"score":1,"creation_date":1653307230,"post_id":72264026,"comment_id":127811900,"body_markdown":"Thank you so much @Dan for helping with this... I got my expected output.","body":"Thank you so much @Dan for helping with this... I got my expected output."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653247360,"creation_date":1652727051,"answer_id":72264205,"question_id":72264026,"body_markdown":"In your `reversal` method you should keep 3 temporary nodes: \r\n- one to iterate the list (as you&#39;re doing). \r\n- one maintaining the head of the reversed list.\r\n- one to create a new node for the reversed list at each iteration of the list traversal.\r\n\r\nDuring each loop, the new node for the reversed list should contain the info of the currently visited node, then you could attach to this node the reversed list (so the last node created points to the first nodes visited) and finally updated the head of the reversed list with the new node created.\r\n\r\n&lt;h4&gt;Error Explanation&lt;/h4&gt;\r\n\r\nThe reason why you couldn&#39;t add any further elements after reversing your list is because your `tail` node wasn&#39;t being updated. In fact, in your version `tail` was left referencing a non-existing node (the old list is gone once you update `head` with the new reversed list). In your `while` loop you need to set `tail` to the first new node created, as this will become the last node of your reversed list at the end of the loop, i.e. your tail.\r\n\r\n```\r\npublic void reversal() {\r\n    //Temp node to iterate the list\r\n    Node temp = head;\r\n    \r\n    //Head of the reversed list\r\n    Node headRev = null;\r\n    \r\n    //Temporary node to create at each iteration a new node for the reversed list\r\n    Node newNode;\r\n\r\n    //Resetting the tail\r\n    tail = null;\r\n\r\n    //Iterating the list\r\n    while (temp != null) {\r\n        \r\n        //Creating a new node with the info of the current node\r\n        newNode = new Node(temp.data);\r\n\r\n        //Setting the tail of the new reversed list with the first node created\r\n        tail = tail == null ? newNode : tail;\r\n        \r\n        //Appending to the new node the rest of the reversed list\r\n        newNode.next = headRev;\r\n        \r\n        //Moving the head of the reversed list to the new node just created\r\n        headRev = newNode;\r\n        \r\n        //Moving the iteration of the list to the next node\r\n        temp = temp.next;\r\n    }\r\n    \r\n    //Updating the head node of the list with the head of the reversed list\r\n    head = headRev;\r\n}\r\n```","title":"Linked List reversing and inserting new node to the reversed linked list","body":"<p>In your <code>reversal</code> method you should keep 3 temporary nodes:</p>\n<ul>\n<li>one to iterate the list (as you're doing).</li>\n<li>one maintaining the head of the reversed list.</li>\n<li>one to create a new node for the reversed list at each iteration of the list traversal.</li>\n</ul>\n<p>During each loop, the new node for the reversed list should contain the info of the currently visited node, then you could attach to this node the reversed list (so the last node created points to the first nodes visited) and finally updated the head of the reversed list with the new node created.</p>\n<h4>Error Explanation</h4>\n<p>The reason why you couldn't add any further elements after reversing your list is because your <code>tail</code> node wasn't being updated. In fact, in your version <code>tail</code> was left referencing a non-existing node (the old list is gone once you update <code>head</code> with the new reversed list). In your <code>while</code> loop you need to set <code>tail</code> to the first new node created, as this will become the last node of your reversed list at the end of the loop, i.e. your tail.</p>\n<pre><code>public void reversal() {\n    //Temp node to iterate the list\n    Node temp = head;\n    \n    //Head of the reversed list\n    Node headRev = null;\n    \n    //Temporary node to create at each iteration a new node for the reversed list\n    Node newNode;\n\n    //Resetting the tail\n    tail = null;\n\n    //Iterating the list\n    while (temp != null) {\n        \n        //Creating a new node with the info of the current node\n        newNode = new Node(temp.data);\n\n        //Setting the tail of the new reversed list with the first node created\n        tail = tail == null ? newNode : tail;\n        \n        //Appending to the new node the rest of the reversed list\n        newNode.next = headRev;\n        \n        //Moving the head of the reversed list to the new node just created\n        headRev = newNode;\n        \n        //Moving the iteration of the list to the next node\n        temp = temp.next;\n    }\n    \n    //Updating the head node of the list with the head of the reversed list\n    head = headRev;\n}\n</code></pre>\n"}],"owner":{"account_id":23860783,"reputation":33,"user_id":17863763,"display_name":"Suhas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72264205,"answer_count":1,"score":1,"last_activity_date":1653247360,"creation_date":1652726045,"question_id":72264026,"body_markdown":"I&#39;m learning DSA, and I was trying to implement the reverse operation of a linked list, but apparently the `create` method that I&#39;ve written is not working after executing the `reversal` operation. \r\n\r\nHere is the code:\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class reverse {\r\n    Scanner sc = new Scanner(System.in);\r\n\r\n    static class Node {\r\n        int data;\r\n        Node next;\r\n\r\n        Node(int data) {\r\n            this.data = data;\r\n            this.next = null;\r\n        }\r\n    }\r\n\r\n    Node head = null;\r\n    Node tail = null;\r\n\r\n    public void create() {\r\n        System.out.println(&quot;Enter data&quot;);\r\n        int value = sc.nextInt();\r\n        Node newnode = new Node(value);\r\n        if (head == null) {\r\n            head = newnode;\r\n            tail = newnode;\r\n        } else {\r\n            tail.next = newnode;\r\n            tail = newnode;\r\n        }\r\n    }\r\n\r\n    public void reversal() {\r\n        Node prev = null;\r\n        Node temp = head;\r\n        Node nxt = null;\r\n        while (temp != null) {\r\n            nxt = temp.next;\r\n            temp.next = prev;\r\n            prev = temp;\r\n            temp = nxt;\r\n        }\r\n        head = prev;\r\n    }\r\n\r\n    public void display() {\r\n        Node temp = head;\r\n        while (temp.next != null) {\r\n            System.out.println(temp.data);\r\n            temp = temp.next;\r\n        }\r\n        System.out.println(temp.data);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int d = 0, a;\r\n        Scanner sc = new Scanner(System.in);\r\n        reverse obj = new reverse();\r\n        do {\r\n            System.out.println(&quot;1.Create\\n2.Reverse\\n3.Display&quot;);\r\n            int choice = sc.nextInt();\r\n            switch (choice) {\r\n                case 1:\r\n                    obj.create();\r\n                    break;\r\n                case 2:\r\n                    obj.reversal2();\r\n                    break;\r\n                case 3:\r\n                    obj.display();\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Enter a valid number!&quot;);\r\n                    break;\r\n            }\r\n            System.out.println(&quot;1-Continue,0-Exit&quot;);\r\n            a = sc.nextInt();\r\n            if (a == 1) {\r\n                d = 1;\r\n            } else if (a != 1 &amp;&amp; a != 0) {\r\n                System.out.println(&quot;Enter a valid number&quot;);\r\n            } else {\r\n                System.out.println(&quot;Code Terminated!!&quot;);\r\n                d = 0;\r\n            }\r\n        } while (d == 1 &amp;&amp; d != 0);\r\n    }\r\n}\r\n```\r\n\r\nThis is the output:\r\n\r\n```\r\n1.Create \r\n2.Reverse \r\n3.Display\r\n1\r\n\r\nEnter data\r\n1\r\n\r\n1-Continue,0-Exit\r\n1\r\n\r\n1.Create\r\n2.Reverse\r\n3.Display\r\n\r\n1\r\n\r\nEnter data\r\n2\r\n\r\n1-Continue,0-Exit\r\n1\r\n\r\n1.Create\r\n2.Reverse\r\n3.Display\r\n1\r\n\r\nEnter data\r\n3\r\n\r\n1-Continue,0-Exit\r\n1\r\n\r\n1.Create\r\n2.Reverse\r\n3.Display\r\n2\r\n\r\n1-Continue,0-Exit\r\n1\r\n\r\n1.Create\r\n2.Reverse\r\n3.Display\r\n3\r\n\r\nNumbers are:\r\n3\r\n2\r\n1\r\n\r\n1-Continue,0-Exit\r\n1\r\n```\r\nAfter reversing the linked list.\r\n```\r\n1.Create\r\n2.Reverse\r\n3.Display\r\n1\r\n\r\nEnter data\r\n4\r\n\r\n1-Continue,0-Exit\r\n1\r\n\r\n1.Create\r\n2.Reverse\r\n3.Display\r\n3\r\n\r\nNumbers are:\r\n3\r\n4\r\n\r\n1-Continue,0-Exit\r\n0\r\n```\r\n\r\nI am not able to figure out what&#39;s wrong.\r\n","title":"Linked List reversing and inserting new node to the reversed linked list","body":"<p>I'm learning DSA, and I was trying to implement the reverse operation of a linked list, but apparently the <code>create</code> method that I've written is not working after executing the <code>reversal</code> operation.</p>\n<p>Here is the code:</p>\n<pre><code>import java.util.*;\n\npublic class reverse {\n    Scanner sc = new Scanner(System.in);\n\n    static class Node {\n        int data;\n        Node next;\n\n        Node(int data) {\n            this.data = data;\n            this.next = null;\n        }\n    }\n\n    Node head = null;\n    Node tail = null;\n\n    public void create() {\n        System.out.println(&quot;Enter data&quot;);\n        int value = sc.nextInt();\n        Node newnode = new Node(value);\n        if (head == null) {\n            head = newnode;\n            tail = newnode;\n        } else {\n            tail.next = newnode;\n            tail = newnode;\n        }\n    }\n\n    public void reversal() {\n        Node prev = null;\n        Node temp = head;\n        Node nxt = null;\n        while (temp != null) {\n            nxt = temp.next;\n            temp.next = prev;\n            prev = temp;\n            temp = nxt;\n        }\n        head = prev;\n    }\n\n    public void display() {\n        Node temp = head;\n        while (temp.next != null) {\n            System.out.println(temp.data);\n            temp = temp.next;\n        }\n        System.out.println(temp.data);\n    }\n\n    public static void main(String[] args) {\n        int d = 0, a;\n        Scanner sc = new Scanner(System.in);\n        reverse obj = new reverse();\n        do {\n            System.out.println(&quot;1.Create\\n2.Reverse\\n3.Display&quot;);\n            int choice = sc.nextInt();\n            switch (choice) {\n                case 1:\n                    obj.create();\n                    break;\n                case 2:\n                    obj.reversal2();\n                    break;\n                case 3:\n                    obj.display();\n                    break;\n                default:\n                    System.out.println(&quot;Enter a valid number!&quot;);\n                    break;\n            }\n            System.out.println(&quot;1-Continue,0-Exit&quot;);\n            a = sc.nextInt();\n            if (a == 1) {\n                d = 1;\n            } else if (a != 1 &amp;&amp; a != 0) {\n                System.out.println(&quot;Enter a valid number&quot;);\n            } else {\n                System.out.println(&quot;Code Terminated!!&quot;);\n                d = 0;\n            }\n        } while (d == 1 &amp;&amp; d != 0);\n    }\n}\n</code></pre>\n<p>This is the output:</p>\n<pre><code>1.Create \n2.Reverse \n3.Display\n1\n\nEnter data\n1\n\n1-Continue,0-Exit\n1\n\n1.Create\n2.Reverse\n3.Display\n\n1\n\nEnter data\n2\n\n1-Continue,0-Exit\n1\n\n1.Create\n2.Reverse\n3.Display\n1\n\nEnter data\n3\n\n1-Continue,0-Exit\n1\n\n1.Create\n2.Reverse\n3.Display\n2\n\n1-Continue,0-Exit\n1\n\n1.Create\n2.Reverse\n3.Display\n3\n\nNumbers are:\n3\n2\n1\n\n1-Continue,0-Exit\n1\n</code></pre>\n<p>After reversing the linked list.</p>\n<pre><code>1.Create\n2.Reverse\n3.Display\n1\n\nEnter data\n4\n\n1-Continue,0-Exit\n1\n\n1.Create\n2.Reverse\n3.Display\n3\n\nNumbers are:\n3\n4\n\n1-Continue,0-Exit\n0\n</code></pre>\n<p>I am not able to figure out what's wrong.</p>\n"},{"tags":["java","csv","apache-commons","apache-commons-csv"],"comments":[{"owner":{"account_id":11963921,"reputation":888,"user_id":8754229,"display_name":"Norman Percy"},"score":0,"creation_date":1544061978,"post_id":53643191,"comment_id":94146216,"body_markdown":"I am wondering if it might be related to this issue: https://stackoverflow.com/questions/10277348/how-does-get-work-on-hashmap but if so, I cannot figure out how to get around it.","body":"I am wondering if it might be related to this issue: <a href=\"https://stackoverflow.com/questions/10277348/how-does-get-work-on-hashmap\" title=\"how does get work on hashmap\">stackoverflow.com/questions/10277348/&hellip;</a> but if so, I cannot figure out how to get around it."},{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":0,"creation_date":1544267406,"post_id":53643191,"comment_id":94220875,"body_markdown":"Looks like a strange mismatch, it does not match a header while that header is in the list. Maybe some special characters or trailing whitespaces in the CSV-file, can you show how the csv file looks as text, i.e. the contents of the csv file.","body":"Looks like a strange mismatch, it does not match a header while that header is in the list. Maybe some special characters or trailing whitespaces in the CSV-file, can you show how the csv file looks as text, i.e. the contents of the csv file."}],"answers":[{"tags":[],"owner":{"account_id":1773188,"reputation":2439,"user_id":1617550,"accept_rate":50,"display_name":"mwarren"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1559314806,"creation_date":1559311784,"answer_id":56396674,"question_id":53643191,"body_markdown":"I got the same weird exception.  It actually said &quot;Expecting one of ...&quot; and then listed the field it said it could not find - just like in your case.\r\n\r\nThe reason was that I had set the wrong CSVFormat:\r\n\r\n    CSVFormat csvFormat = CSVFormat.newFormat(&#39;;&#39;);\r\n\r\nThis meant that my code was trying to separate fields on **semi-colons** in a file that actually had **comma** separators.\r\n\r\nOnce I used the DEFAULT CSVFormat, everything started to work.\r\n\r\n    CSVFormat csvFormat = CSVFormat.DEFAULT;\r\n\r\nSo the answer is that probably you must set CSVFormat correctly for your file.\r\n","title":"Apache Commons CSV Mapping not found","body":"<p>I got the same weird exception.  It actually said \"Expecting one of ...\" and then listed the field it said it could not find - just like in your case.</p>\n\n<p>The reason was that I had set the wrong CSVFormat:</p>\n\n<pre><code>CSVFormat csvFormat = CSVFormat.newFormat(';');\n</code></pre>\n\n<p>This meant that my code was trying to separate fields on <strong>semi-colons</strong> in a file that actually had <strong>comma</strong> separators.</p>\n\n<p>Once I used the DEFAULT CSVFormat, everything started to work.</p>\n\n<pre><code>CSVFormat csvFormat = CSVFormat.DEFAULT;\n</code></pre>\n\n<p>So the answer is that probably you must set CSVFormat correctly for your file.</p>\n"},{"tags":[],"owner":{"account_id":17050609,"reputation":175,"user_id":12336325,"display_name":"Thorsten Kitz"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1589531416,"creation_date":1589531416,"answer_id":61815006,"question_id":53643191,"body_markdown":"I had the same probem which only occurs if you reference the first column, all other column names are working. The problem is, that the UTF-8 representation prepends the following characters &quot;0xEF,0xBB,0xBF&quot; (see [Wikipedia page][1]). This seems to be a known problem for commons-csv but since this is application specific, it won&#39;t be fixed ([CSVFormat.EXCEL.parse should handle byte order marks][2]). \r\n\r\nHowever, there is a documented workaround for this:\r\n\r\n[http://commons.apache.org/proper/commons-csv/user-guide.html#Handling_Byte_Order_Marks][3]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Byte_order_mark#UTF-8\r\n  [2]: https://issues.apache.org/jira/browse/CSV-107\r\n  [3]: http://commons.apache.org/proper/commons-csv/user-guide.html#Handling_Byte_Order_Marks","title":"Apache Commons CSV Mapping not found","body":"<p>I had the same probem which only occurs if you reference the first column, all other column names are working. The problem is, that the UTF-8 representation prepends the following characters \"0xEF,0xBB,0xBF\" (see <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark#UTF-8\" rel=\"noreferrer\">Wikipedia page</a>). This seems to be a known problem for commons-csv but since this is application specific, it won't be fixed (<a href=\"https://issues.apache.org/jira/browse/CSV-107\" rel=\"noreferrer\">CSVFormat.EXCEL.parse should handle byte order marks</a>). </p>\n\n<p>However, there is a documented workaround for this:</p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-csv/user-guide.html#Handling_Byte_Order_Marks\" rel=\"noreferrer\">http://commons.apache.org/proper/commons-csv/user-guide.html#Handling_Byte_Order_Marks</a></p>\n"},{"tags":[],"owner":{"account_id":18338069,"reputation":1,"user_id":13355025,"display_name":"Samarpan Patel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1623257913,"creation_date":1623227097,"answer_id":67900316,"question_id":53643191,"body_markdown":"![enter image description here][1]\r\n\r\nI also got the same exception by giving a different name of header in CSV file like `xyz`, or trying to get the value by calling `csvRecord.get(&quot;x_z&quot;)`\r\n \r\nI resolved my problem changing the header name `xyz`.\r\n```java\r\ntry {\r\n  fileReader = new BufferedReader(new InputStreamReader(is, &quot;UTF-8&quot;));\r\n  csvParser = new CSVParser(fileReader,\r\n      CSVFormat.DEFAULT.withFirstRecordAsHeader().withIgnoreHeaderCase().withTrim());\r\n  Iterable&lt;CSVRecord&gt; csvRecords = csvParser.getRecords();\r\n  CSVFormat csvFormat = CSVFormat.DEFAULT;\r\n  for (CSVRecord csvRecord : csvRecords) {\r\n\r\n\r\n} catch (Exception e) {\r\n  System.out.println(&quot;Reading CSV Error!&quot;);\r\n  e.printStackTrace();\r\n} finally {\r\n  try {\r\n    fileReader.close();\r\n    csvParser.close();\r\n  } catch (IOException e) {\r\n    System.out.println(&quot;Closing fileReader/csvParser Error!&quot;);\r\n    e.printStackTrace();\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/LcOuV.png","title":"Apache Commons CSV Mapping not found","body":"<p><img src=\"https://i.stack.imgur.com/LcOuV.png\" alt=\"enter image description here\" /></p>\n<p>I also got the same exception by giving a different name of header in CSV file like <code>xyz</code>, or trying to get the value by calling <code>csvRecord.get(&quot;x_z&quot;)</code></p>\n<p>I resolved my problem changing the header name <code>xyz</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  fileReader = new BufferedReader(new InputStreamReader(is, &quot;UTF-8&quot;));\n  csvParser = new CSVParser(fileReader,\n      CSVFormat.DEFAULT.withFirstRecordAsHeader().withIgnoreHeaderCase().withTrim());\n  Iterable&lt;CSVRecord&gt; csvRecords = csvParser.getRecords();\n  CSVFormat csvFormat = CSVFormat.DEFAULT;\n  for (CSVRecord csvRecord : csvRecords) {\n\n\n} catch (Exception e) {\n  System.out.println(&quot;Reading CSV Error!&quot;);\n  e.printStackTrace();\n} finally {\n  try {\n    fileReader.close();\n    csvParser.close();\n  } catch (IOException e) {\n    System.out.println(&quot;Closing fileReader/csvParser Error!&quot;);\n    e.printStackTrace();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7989603,"reputation":91,"user_id":6027844,"display_name":"Gicheha Kingori"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653246694,"creation_date":1653246694,"answer_id":72340581,"question_id":53643191,"body_markdown":"Moving to spring boot version 2.6.7 from 2.4.5 brought about this error.. I had to convert each csvRecord to a map before assigning it to my POJO as follows.\r\n\r\n \r\n\r\n    for (CSVRecord csvRecord : csvRecords) {\r\n    \r\n                Map&lt;String, String&gt; csvMap = csvRecord.toMap();\r\n    \r\n                Model newModel = new Model();\r\n               model.setSomething(csvMap.get(&quot;your_item&quot;));\r\n            }\r\n\r\n ","title":"Apache Commons CSV Mapping not found","body":"<p>Moving to spring boot version 2.6.7 from 2.4.5 brought about this error.. I had to convert each csvRecord to a map before assigning it to my POJO as follows.</p>\n<pre><code>for (CSVRecord csvRecord : csvRecords) {\n\n            Map&lt;String, String&gt; csvMap = csvRecord.toMap();\n\n            Model newModel = new Model();\n           model.setSomething(csvMap.get(&quot;your_item&quot;));\n        }\n</code></pre>\n"}],"owner":{"account_id":11963921,"reputation":888,"user_id":8754229,"display_name":"Norman Percy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10320,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1653246694,"creation_date":1544058901,"question_id":53643191,"body_markdown":"I am trying to read a CSV file with certain headers into a Java object using Apache Commons CSV. However, when I run the code, I get the following exeption:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Mapping for Color not found, expected one of [Color, Name, Price, House Cost, Rent, 1 House, 2 Houses, 3 Houses, 4 Houses, Hotel, Mortgage]\r\n\tat org.apache.commons.csv.CSVRecord.get(CSVRecord.java:102)\r\n\tat GameBoard.&lt;init&gt;(GameBoard.java:25)\r\n\tat Game.main(Game.java:3)\r\nCan someone explain where the exception is coming from? It appears to me that Apache Commons somehow is not matching my input to a column. Is there something wrong on my part or is something else broken? Here is my code snippet:\r\n\r\n    Reader in;\r\n\t\tIterable&lt;CSVRecord&gt; records = null;\r\n\t\ttry {\r\n\t\t\tin = new FileReader(new File(Objects.requireNonNull(getClass().getClassLoader().getResource(&quot;Properties.csv&quot;)).getFile()));\r\n\t\t\trecords = CSVFormat.EXCEL.withFirstRecordAsHeader().parse(in);\r\n\t\t} catch (IOException | NullPointerException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\t\tfor (CSVRecord record :\r\n\t\t\t\trecords) {\r\n\t\t\tspaces.add(new Property(\r\n\t\t\t\t\trecord.get(&quot;Color&quot;),\r\n\t\t\t\t\trecord.get(&quot;Name&quot;),\r\n\t\t\t\t\tInteger.parseInt(record.get(&quot;Price&quot;)),\r\n\t\t\t\t\t\r\nAnd here are my csv headers (sorry, one was cut off but that&#39;s not the point):\r\n[![csv headers][1]][1]\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sNdH6.png","title":"Apache Commons CSV Mapping not found","body":"<p>I am trying to read a CSV file with certain headers into a Java object using Apache Commons CSV. However, when I run the code, I get the following exeption:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: Mapping for Color not found, expected one of [Color, Name, Price, House Cost, Rent, 1 House, 2 Houses, 3 Houses, 4 Houses, Hotel, Mortgage]\nat org.apache.commons.csv.CSVRecord.get(CSVRecord.java:102)\nat GameBoard.&lt;init&gt;(GameBoard.java:25)\nat Game.main(Game.java:3)\n</code></pre>\n\n<p>Can someone explain where the exception is coming from? It appears to me that Apache Commons somehow is not matching my input to a column. Is there something wrong on my part or is something else broken? Here is my code snippet:</p>\n\n<pre><code>Reader in;\n    Iterable&lt;CSVRecord&gt; records = null;\n    try {\n        in = new FileReader(new File(Objects.requireNonNull(getClass().getClassLoader().getResource(\"Properties.csv\")).getFile()));\n        records = CSVFormat.EXCEL.withFirstRecordAsHeader().parse(in);\n    } catch (IOException | NullPointerException e) {\n        e.printStackTrace();\n        System.exit(1);\n    }\n    for (CSVRecord record :\n            records) {\n        spaces.add(new Property(\n                record.get(\"Color\"),\n                record.get(\"Name\"),\n                Integer.parseInt(record.get(\"Price\")),\n</code></pre>\n\n<p>And here are my csv headers (sorry, one was cut off but that's not the point):\n<a href=\"https://i.stack.imgur.com/sNdH6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sNdH6.png\" alt=\"csv headers\"></a></p>\n\n<p>Thanks!</p>\n"},{"tags":["java","mysql","swing"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653245995,"creation_date":1653231163,"answer_id":72338653,"question_id":72335074,"body_markdown":"    if(rs.next()) {\r\n        while(rs.next()) {\r\n\r\nNo need for the `if (rs.next())` statement. That is causing you to skip the first row of data in the `ResultSet`.\r\n\r\nAll you need is the `while (rs.next())` statement to create the loop to read all rows in the `ResultSet`.","title":"Getting Multiple Data using Text field + Jbutton from SQL Server to Jtable","body":"<pre><code>if(rs.next()) {\n    while(rs.next()) {\n</code></pre>\n<p>No need for the <code>if (rs.next())</code> statement. That is causing you to skip the first row of data in the <code>ResultSet</code>.</p>\n<p>All you need is the <code>while (rs.next())</code> statement to create the loop to read all rows in the <code>ResultSet</code>.</p>\n"}],"owner":{"account_id":25355799,"reputation":1,"user_id":19171936,"display_name":"Michael Belleza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653245995,"creation_date":1653198181,"question_id":72335074,"body_markdown":"Good day, just wanna ask. I have a Java GUI where I want to add multiple data from SQL server to my Jtable. The flow here is that I would want to use the text field as search field where I will add the info for searching and use the Jbutton to perform the search action then it will give/show me the data to my Jtable. Actually the code is running however some of the data like the 1st data added to my SQL serve and from data id 7 and and up are not showing. How would I fix this and show multiple data with same order ID form SQL server?\r\nThank you!!\r\n\r\n```private void btnsearchActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n       try {\r\n            String query = &quot;select * from `sales_product` where order_id = ?&quot;;\r\n            pst = con.prepareStatement(query);\r\n            pst.setString(1, txsearch.getText());\r\n            ResultSet rs = pst.executeQuery();\r\n            \r\n            if(rs.next()) {\r\n                while(rs.next()) {\r\n                    String prodname = rs.getString(&quot;prodname&quot;);\r\n                    String price = String.valueOf(rs.getInt(&quot;price&quot;));\r\n                    String qty = String.valueOf(rs.getInt(&quot;qty&quot;));\r\n                    String total = String.valueOf(rs.getInt(&quot;total&quot;));\r\n\r\n                    model = (DefaultTableModel) datatable.getModel();\r\n\r\n                    model.addRow(new Object[]{\r\n                        prodname,\r\n                        price,\r\n                        qty,\r\n                        total\r\n                    });\r\n                        int sum = 0;\r\n\r\n                    for (int a = 0; a &lt; datatable.getRowCount(); a++) {\r\n                        sum = sum + Integer.parseInt(datatable.getValueAt(a, 3).toString());\r\n                    }\r\n\r\n                    Ltotal.setText(Integer.toString(sum));\r\n                    }   \r\n                }\r\n            \r\n                else {\r\n                JOptionPane.showMessageDialog(this, &quot;No order found!&quot;);\r\n                txsearch.setText(&quot;&quot;);\r\n            }\r\n            \r\n       } catch (SQLException ex) {\r\n            Logger.getLogger(milktea.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    } \r\n```","title":"Getting Multiple Data using Text field + Jbutton from SQL Server to Jtable","body":"<p>Good day, just wanna ask. I have a Java GUI where I want to add multiple data from SQL server to my Jtable. The flow here is that I would want to use the text field as search field where I will add the info for searching and use the Jbutton to perform the search action then it will give/show me the data to my Jtable. Actually the code is running however some of the data like the 1st data added to my SQL serve and from data id 7 and and up are not showing. How would I fix this and show multiple data with same order ID form SQL server?\nThank you!!</p>\n<pre><code>       try {\n            String query = &quot;select * from `sales_product` where order_id = ?&quot;;\n            pst = con.prepareStatement(query);\n            pst.setString(1, txsearch.getText());\n            ResultSet rs = pst.executeQuery();\n            \n            if(rs.next()) {\n                while(rs.next()) {\n                    String prodname = rs.getString(&quot;prodname&quot;);\n                    String price = String.valueOf(rs.getInt(&quot;price&quot;));\n                    String qty = String.valueOf(rs.getInt(&quot;qty&quot;));\n                    String total = String.valueOf(rs.getInt(&quot;total&quot;));\n\n                    model = (DefaultTableModel) datatable.getModel();\n\n                    model.addRow(new Object[]{\n                        prodname,\n                        price,\n                        qty,\n                        total\n                    });\n                        int sum = 0;\n\n                    for (int a = 0; a &lt; datatable.getRowCount(); a++) {\n                        sum = sum + Integer.parseInt(datatable.getValueAt(a, 3).toString());\n                    }\n\n                    Ltotal.setText(Integer.toString(sum));\n                    }   \n                }\n            \n                else {\n                JOptionPane.showMessageDialog(this, &quot;No order found!&quot;);\n                txsearch.setText(&quot;&quot;);\n            }\n            \n       } catch (SQLException ex) {\n            Logger.getLogger(milktea.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    } \n</code></pre>\n"},{"tags":["java","android","android-studio","dialog","alert"],"comments":[{"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"score":0,"creation_date":1653237877,"post_id":72339201,"comment_id":127797078,"body_markdown":"Can you share screenshot of issue?","body":"Can you share screenshot of issue?"}],"answers":[{"tags":[],"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653241888,"creation_date":1653241068,"answer_id":72339920,"question_id":72339201,"body_markdown":"Yes because you created it as it shows. \r\n\r\nWhy are you declaring a new variable as the below code if you already declared `alertDialog` above?\r\n\r\n```\r\nAlertDialog alertDialogMain = alertDialog.create();\r\n                    alertDialogMain.show();\r\n```\r\nThis problem is showing because you are declaring a new variable when you have already declared it. Make your code as below I maintained.\r\n```\r\nAlertDialog.Builder alertDialog = new AlertDialog.Builder(\r\n                            ConsignmentConViewActivity.this);\r\n                    alertDialog.setTitle(&quot;Alert Dialog&quot;);\r\n                    alertDialog.setMessage(&quot;Welcome to AndroidHive.info&quot;);\r\n                    alertDialog.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            // Write your code here to execute after dialog closed\r\n                            Toast.makeText(getApplicationContext(), &quot;You clicked on OK&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                  alertDialog.create();\r\n                  alertDialog.show();\r\n```\r\n**OR USE DIRECT WITHOUT DECLARING VARIABLE**\r\n```\r\nnew AlertDialog.Builder(this)\r\n                        .setTitle(&quot;Alert Dialog&quot;)\r\n                        .setMessage(&quot;Welcome to AndroidHive.info&quot;)\r\n                        //.setIcon(R.drawable.ic_round_warning) // set your dialog icon if you want to show. JJust uncomment.\r\n                        .setPositiveButton(&quot;OK&quot;, (dialogInterface, i) -&gt; {\r\n                            Toast.makeText(getApplicationContext(), &quot;You clicked on OK&quot;, Toast.LENGTH_SHORT).show();\r\n                            //dialogInterface.dismiss(); // for dismiss dialogbox\r\n                        }).create().show();\r\n```\r\n\r\n\r\nLet me know if the problem not solved yet.\r\n","title":"Dialog Box Appears for half a second and closes automatically","body":"<p>Yes because you created it as it shows.</p>\n<p>Why are you declaring a new variable as the below code if you already declared <code>alertDialog</code> above?</p>\n<pre><code>AlertDialog alertDialogMain = alertDialog.create();\n                    alertDialogMain.show();\n</code></pre>\n<p>This problem is showing because you are declaring a new variable when you have already declared it. Make your code as below I maintained.</p>\n<pre><code>AlertDialog.Builder alertDialog = new AlertDialog.Builder(\n                            ConsignmentConViewActivity.this);\n                    alertDialog.setTitle(&quot;Alert Dialog&quot;);\n                    alertDialog.setMessage(&quot;Welcome to AndroidHive.info&quot;);\n                    alertDialog.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialog, int which) {\n                            // Write your code here to execute after dialog closed\n                            Toast.makeText(getApplicationContext(), &quot;You clicked on OK&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n                  alertDialog.create();\n                  alertDialog.show();\n</code></pre>\n<p><strong>OR USE DIRECT WITHOUT DECLARING VARIABLE</strong></p>\n<pre><code>new AlertDialog.Builder(this)\n                        .setTitle(&quot;Alert Dialog&quot;)\n                        .setMessage(&quot;Welcome to AndroidHive.info&quot;)\n                        //.setIcon(R.drawable.ic_round_warning) // set your dialog icon if you want to show. JJust uncomment.\n                        .setPositiveButton(&quot;OK&quot;, (dialogInterface, i) -&gt; {\n                            Toast.makeText(getApplicationContext(), &quot;You clicked on OK&quot;, Toast.LENGTH_SHORT).show();\n                            //dialogInterface.dismiss(); // for dismiss dialogbox\n                        }).create().show();\n</code></pre>\n<p>Let me know if the problem not solved yet.</p>\n"},{"tags":[],"owner":{"account_id":20868150,"reputation":89,"user_id":15328720,"display_name":"abbujaansboy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653245689,"creation_date":1653245689,"answer_id":72340464,"question_id":72339201,"body_markdown":"After grinding on it for almost the whole day, I realized that I have an Intent function right after the dialog box. \r\nThe intent function was switching to the next activity. \r\nBy the time the dialog would appear, the next code (which was the intent) would run. The activity would change and thats why I was getting that problem. \r\n\r\nIt works all fine when i removed the intent. \r\nMy code (in the question) is all correct and has no problem in it.  ","title":"Dialog Box Appears for half a second and closes automatically","body":"<p>After grinding on it for almost the whole day, I realized that I have an Intent function right after the dialog box.\nThe intent function was switching to the next activity.\nBy the time the dialog would appear, the next code (which was the intent) would run. The activity would change and thats why I was getting that problem.</p>\n<p>It works all fine when i removed the intent.\nMy code (in the question) is all correct and has no problem in it.</p>\n"}],"owner":{"account_id":20868150,"reputation":89,"user_id":15328720,"display_name":"abbujaansboy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72340464,"answer_count":2,"score":0,"last_activity_date":1653245689,"creation_date":1653235296,"question_id":72339201,"body_markdown":"I am trying to create a very simple dialog box. I found the code references from the internet obviously. \r\n\r\nMy code is this:\r\n\r\n```\r\n    AlertDialog.Builder alertDialog = new AlertDialog.Builder(\r\n                            ConsignmentConViewActivity.this);\r\n                    alertDialog.setTitle(&quot;Alert Dialog&quot;);\r\n                    alertDialog.setMessage(&quot;Welcome to AndroidHive.info&quot;);\r\n                    alertDialog.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            // Write your code here to execute after dialog closed\r\n                            Toast.makeText(getApplicationContext(), &quot;You clicked on OK&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                    AlertDialog alertDialogMain = alertDialog.create();\r\n                    alertDialogMain.show();\r\n```\r\n\r\nThe youtube videos and google link that talks about dialog boxes and are similar to the code above. It even works for the people showing the demo on youtube. \r\n\r\nBut when I run it, the dialog box appears for half a second like I can see it. and then closes automatically. It appears and then its gone. \r\n\r\nI have also tried to reboot my system. Nothing works. ","title":"Dialog Box Appears for half a second and closes automatically","body":"<p>I am trying to create a very simple dialog box. I found the code references from the internet obviously.</p>\n<p>My code is this:</p>\n<pre><code>    AlertDialog.Builder alertDialog = new AlertDialog.Builder(\n                            ConsignmentConViewActivity.this);\n                    alertDialog.setTitle(&quot;Alert Dialog&quot;);\n                    alertDialog.setMessage(&quot;Welcome to AndroidHive.info&quot;);\n                    alertDialog.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialog, int which) {\n                            // Write your code here to execute after dialog closed\n                            Toast.makeText(getApplicationContext(), &quot;You clicked on OK&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n                    AlertDialog alertDialogMain = alertDialog.create();\n                    alertDialogMain.show();\n</code></pre>\n<p>The youtube videos and google link that talks about dialog boxes and are similar to the code above. It even works for the people showing the demo on youtube.</p>\n<p>But when I run it, the dialog box appears for half a second like I can see it. and then closes automatically. It appears and then its gone.</p>\n<p>I have also tried to reboot my system. Nothing works.</p>\n"},{"tags":["java","process","debian","htop"],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1409047623,"creation_date":1409047623,"answer_id":25503174,"question_id":25502812,"body_markdown":"Even the simplest Java application will use several threads for things besides your code. These are for example the garbage collector, finalizer thread and what not.\r\n\r\nThat many threads indicate that there&#39;s some multithreading happening in your application, because Java wouldn&#39;t spawn that many just for itself.","title":"Why does Java spawn so many processes?","body":"<p>Even the simplest Java application will use several threads for things besides your code. These are for example the garbage collector, finalizer thread and what not.</p>\n\n<p>That many threads indicate that there's some multithreading happening in your application, because Java wouldn't spawn that many just for itself.</p>\n"},{"tags":[],"owner":{"account_id":4873312,"reputation":2203,"user_id":3929133,"display_name":"ortis"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1409047636,"creation_date":1409047636,"answer_id":25503180,"question_id":25502812,"body_markdown":"A java application is never single threaded (Garbage Collector thread among other). So you always end up with several thread. Moreover, Linux implement thread as [Light-weight process][1] therefore, each Java thread will appear as a process with a unique PID in `htop`.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Light-weight_process","title":"Why does Java spawn so many processes?","body":"<p>A java application is never single threaded (Garbage Collector thread among other). So you always end up with several thread. Moreover, Linux implement thread as <a href=\"http://en.wikipedia.org/wiki/Light-weight_process\" rel=\"noreferrer\">Light-weight process</a> therefore, each Java thread will appear as a process with a unique PID in <code>htop</code>.</p>\n"}],"owner":{"account_id":2690646,"reputation":3514,"user_id":2324078,"accept_rate":72,"display_name":"MinecraftShamrock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3417,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":25503180,"answer_count":2,"score":9,"last_activity_date":1653245564,"creation_date":1409046640,"question_id":25502812,"body_markdown":"I&#39;ve written a Java server application that I run on a [*Debian 7 VServer*][1]. \r\n\r\nThe application itself works just fine, but I notices something very strange.\r\n\r\n### Issue\r\nAfter calling `java -Xmx200M -jar &quot;CCU.jar` I&#39;d expect to see one Java process running my `CCU.jar`.\r\n\r\nWhen calling `top` there is just one java process (as expected). But when I call `htop` I get this:\r\n\r\n![htop with strange subprocesses][2]\r\n\r\nWhat are all these subprocesses that seem to be the same process (they have the exactly same data showed in the table) but have different PIDs?\r\n\r\n\r\n  [1]: http://linux-vserver.org/Installation_on_Debian\r\n  [2]: http://i.stack.imgur.com/0HYtV.png","title":"Why does Java spawn so many processes?","body":"<p>I've written a Java server application that I run on a <a href=\"http://linux-vserver.org/Installation_on_Debian\" rel=\"nofollow noreferrer\"><em>Debian 7 VServer</em></a>.</p>\n<p>The application itself works just fine, but I notices something very strange.</p>\n<h3>Issue</h3>\n<p>After calling <code>java -Xmx200M -jar &quot;CCU.jar</code> I'd expect to see one Java process running my <code>CCU.jar</code>.</p>\n<p>When calling <code>top</code> there is just one java process (as expected). But when I call <code>htop</code> I get this:</p>\n<p><img src=\"https://i.stack.imgur.com/0HYtV.png\" alt=\"htop with strange subprocesses\" /></p>\n<p>What are all these subprocesses that seem to be the same process (they have the exactly same data showed in the table) but have different PIDs?</p>\n"},{"tags":["java","list","java-stream","comparator","collectors"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653245047,"creation_date":1653233088,"answer_id":72338907,"question_id":72338708,"body_markdown":"&lt;h3&gt;Simplified approach&lt;/h3&gt;\r\n\r\nThis problem correlates with the algorithmic question of finding `N` maximum (or minimum) values via partial sorting. It&#39;s implementation using collectors might seem tough, therefore I&#39;ve decided to introduce a simplified solution.\r\n\r\nWe can use a flavor of [`groupingBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.function.Supplier,java.util.stream.Collector)) that expects *three arguments*: \r\n* a `classifier` *function*, \r\n* a *supplier* `mapFactory` (which allows to specify the resulting type of map)\r\n* and a *downstream collector*.\r\n\r\nAs a downstream collector of `groupingBy()` we can utilize `collectingAndThen` with a combination of collectors `mapping()` and `toList()` and a *function* that will sort the whole resulting list mapped to each *key*, and then will drop unnecessary values retaining only `n` lowest `vehicleAge`:\r\n```\r\npublic SortedMap&lt;Integer, List&lt;Integer&gt;&gt; getNMinVehicleAgesPerDriverAge(Integer n) {\r\n    return getAccidents().stream()\r\n        .collect(Collectors.groupingBy(Accident::getDriverAge,\r\n            TreeMap::new,\r\n            Collectors.collectingAndThen(\r\n                Collectors.mapping(Accident::getVehicleAge, Collectors.toList()),\r\n                list -&gt; list.stream()\r\n                    .sorted(Comparator.reverseOrder())\r\n                    .limit(n)\r\n                    .collect(Collectors.toList()))));\r\n}\r\n```\r\n\r\n&lt;h3&gt;More performant version&lt;/h3&gt;\r\n\r\nAs I&#39;ve said before, we don&#39;t need to sort all values mapped to each *key* when we need only some of them. When `n` is dwarfish in comparison to the total size of the list (like `3` to `100,000` for every key) it will cause a serious performance hit.\r\n\r\nWe can introduce a partial sorting by using `PriorityQueue` (which is an implementation of the Heap data structure built-in in the JDK).\r\n\r\nTo enhance the previous solution, we need to replace the downstream collector of `groupingBy()` you can utilize a combination of `mapping()` and a **custom collector** backed by the `PriorityQueue` which retain only `n` lowest `vehicleAge` values associated with each `driverAge`:\r\n```\r\npublic SortedMap&lt;Integer, List&lt;Integer&gt;&gt; getNMinVehicleAgesPerDriverAge(Integer n) {\r\n    return getAccidents().stream()\r\n        .collect(Collectors.groupingBy(Accident::getDriverAge,\r\n            TreeMap::new,\r\n            Collectors.mapping(Accident::getVehicleAge, \r\n                getMaxN(n, Comparator.&lt;Integer&gt;reverseOrder()))));\r\n}\r\n```\r\n\r\nThe method provided below is responsible for generating a *custom collector* based on the provided maximum size of the resulting list and a *comparator*. The logic behind it was explained in great detail in [*this answer*](https://stackoverflow.com/a/72064317/17949945):\r\n```\r\npublic static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; getMaxN(int size, Comparator&lt;T&gt; comparator) {\r\n        \r\n    return Collector.of(\r\n        () -&gt; new PriorityQueue&lt;&gt;(comparator),\r\n        (Queue&lt;T&gt; queue, T next) -&gt; tryAdd(queue, next, comparator, size),\r\n        (Queue&lt;T&gt; left, Queue&lt;T&gt; right) -&gt; {\r\n            right.forEach(next -&gt; tryAdd(left, next, comparator, size));\r\n            return left;\r\n        },\r\n        (Queue&lt;T&gt; queue) -&gt; queue.stream().toList(),\r\n        Collector.Characteristics.UNORDERED);\r\n}\r\n    \r\npublic static &lt;T&gt; void tryAdd(Queue&lt;T&gt; queue, T next, Comparator&lt;T&gt; comparator, int size) {\r\n    if (queue.size() == size &amp;&amp; comparator.compare(next, queue.element()) &lt; 0) queue.remove(); // if next value is less than the smallest element in the queue and max size has been exceeded the largest element needs to be removed from the queue\r\n    if (queue.size() &lt; size) queue.add(next);\r\n}\r\n```\r\n\r\nBy the way, if your assignment doesn&#39;t specify the requirement to utilize `SortedMap` as a return type. It better to use `NavigableMap` interface, which defines a wider range of methods, instead.","title":"Create a SortedMap from a List objects with the Value represented as a list of N lowest object&#39;s attributes mapped to a particular Key","body":"<h3>Simplified approach</h3>\n<p>This problem correlates with the algorithmic question of finding <code>N</code> maximum (or minimum) values via partial sorting. It's implementation using collectors might seem tough, therefore I've decided to introduce a simplified solution.</p>\n<p>We can use a flavor of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.function.Supplier,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>groupingBy()</code></a> that expects <em>three arguments</em>:</p>\n<ul>\n<li>a <code>classifier</code> <em>function</em>,</li>\n<li>a <em>supplier</em> <code>mapFactory</code> (which allows to specify the resulting type of map)</li>\n<li>and a <em>downstream collector</em>.</li>\n</ul>\n<p>As a downstream collector of <code>groupingBy()</code> we can utilize <code>collectingAndThen</code> with a combination of collectors <code>mapping()</code> and <code>toList()</code> and a <em>function</em> that will sort the whole resulting list mapped to each <em>key</em>, and then will drop unnecessary values retaining only <code>n</code> lowest <code>vehicleAge</code>:</p>\n<pre><code>public SortedMap&lt;Integer, List&lt;Integer&gt;&gt; getNMinVehicleAgesPerDriverAge(Integer n) {\n    return getAccidents().stream()\n        .collect(Collectors.groupingBy(Accident::getDriverAge,\n            TreeMap::new,\n            Collectors.collectingAndThen(\n                Collectors.mapping(Accident::getVehicleAge, Collectors.toList()),\n                list -&gt; list.stream()\n                    .sorted(Comparator.reverseOrder())\n                    .limit(n)\n                    .collect(Collectors.toList()))));\n}\n</code></pre>\n<h3>More performant version</h3>\n<p>As I've said before, we don't need to sort all values mapped to each <em>key</em> when we need only some of them. When <code>n</code> is dwarfish in comparison to the total size of the list (like <code>3</code> to <code>100,000</code> for every key) it will cause a serious performance hit.</p>\n<p>We can introduce a partial sorting by using <code>PriorityQueue</code> (which is an implementation of the Heap data structure built-in in the JDK).</p>\n<p>To enhance the previous solution, we need to replace the downstream collector of <code>groupingBy()</code> you can utilize a combination of <code>mapping()</code> and a <strong>custom collector</strong> backed by the <code>PriorityQueue</code> which retain only <code>n</code> lowest <code>vehicleAge</code> values associated with each <code>driverAge</code>:</p>\n<pre><code>public SortedMap&lt;Integer, List&lt;Integer&gt;&gt; getNMinVehicleAgesPerDriverAge(Integer n) {\n    return getAccidents().stream()\n        .collect(Collectors.groupingBy(Accident::getDriverAge,\n            TreeMap::new,\n            Collectors.mapping(Accident::getVehicleAge, \n                getMaxN(n, Comparator.&lt;Integer&gt;reverseOrder()))));\n}\n</code></pre>\n<p>The method provided below is responsible for generating a <em>custom collector</em> based on the provided maximum size of the resulting list and a <em>comparator</em>. The logic behind it was explained in great detail in <a href=\"https://stackoverflow.com/a/72064317/17949945\"><em>this answer</em></a>:</p>\n<pre><code>public static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; getMaxN(int size, Comparator&lt;T&gt; comparator) {\n        \n    return Collector.of(\n        () -&gt; new PriorityQueue&lt;&gt;(comparator),\n        (Queue&lt;T&gt; queue, T next) -&gt; tryAdd(queue, next, comparator, size),\n        (Queue&lt;T&gt; left, Queue&lt;T&gt; right) -&gt; {\n            right.forEach(next -&gt; tryAdd(left, next, comparator, size));\n            return left;\n        },\n        (Queue&lt;T&gt; queue) -&gt; queue.stream().toList(),\n        Collector.Characteristics.UNORDERED);\n}\n    \npublic static &lt;T&gt; void tryAdd(Queue&lt;T&gt; queue, T next, Comparator&lt;T&gt; comparator, int size) {\n    if (queue.size() == size &amp;&amp; comparator.compare(next, queue.element()) &lt; 0) queue.remove(); // if next value is less than the smallest element in the queue and max size has been exceeded the largest element needs to be removed from the queue\n    if (queue.size() &lt; size) queue.add(next);\n}\n</code></pre>\n<p>By the way, if your assignment doesn't specify the requirement to utilize <code>SortedMap</code> as a return type. It better to use <code>NavigableMap</code> interface, which defines a wider range of methods, instead.</p>\n"}],"owner":{"account_id":25352339,"reputation":15,"user_id":19168994,"display_name":"Gabriel Corrales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72338907,"answer_count":1,"score":1,"last_activity_date":1653245047,"creation_date":1653231605,"question_id":72338708,"body_markdown":"I am working with a CSV file which includes some information about accidents. \r\n\r\nI&#39;ve created the `Accident` type:  \r\n```java\r\nprivate Integer driverAge;\r\nprivate Integer vehicleAge;\r\n\r\npublic Accident(Integer driverAge, Integer vehicleAge) {\r\n    this.driverAge = driverAge;\r\n    this.vehicleAge = vehicleAge;\r\n}\r\n```\r\nI&#39;ve also created a function that reads all the CSV file, converts all the accidents to a `List&lt;Accident&gt;` and saves it to this type `AccidentArchive`:\r\n```java\r\nprivate List&lt;Accident&gt; accidents;\r\n\r\npublic AccidentArchive(List&lt;Accident&gt; accidents) {\r\n    this.accidents = accidents;\r\n}\r\n```\r\nSo, we are working with streams which I don&#39;t understand entirely yet, and I&#39;ve been stuck in this exercise where I have to make a function that returns a `SortedMap&lt;K, V&gt;` in which the *key* has to be the `driverAge` values and the value has to be a *list* sorted in ***descending order*** of the `n` lowest `vehicleAge` *values* with the same `driverAge` value:\r\n```java\r\npublic SortedMap&lt;Integer, List&lt;Integer&gt;&gt; getNMinVehicleAgesPerDriverAge(Integer n) {\r\n    return getAccidents().stream().\r\n...\r\n```\r\n\r\nI have tried using `Collectors.toMap()` and `Collectors.toList()` to somehow make it work, but I have no idea how to do it.","title":"Create a SortedMap from a List objects with the Value represented as a list of N lowest object&#39;s attributes mapped to a particular Key","body":"<p>I am working with a CSV file which includes some information about accidents.</p>\n<p>I've created the <code>Accident</code> type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Integer driverAge;\nprivate Integer vehicleAge;\n\npublic Accident(Integer driverAge, Integer vehicleAge) {\n    this.driverAge = driverAge;\n    this.vehicleAge = vehicleAge;\n}\n</code></pre>\n<p>I've also created a function that reads all the CSV file, converts all the accidents to a <code>List&lt;Accident&gt;</code> and saves it to this type <code>AccidentArchive</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;Accident&gt; accidents;\n\npublic AccidentArchive(List&lt;Accident&gt; accidents) {\n    this.accidents = accidents;\n}\n</code></pre>\n<p>So, we are working with streams which I don't understand entirely yet, and I've been stuck in this exercise where I have to make a function that returns a <code>SortedMap&lt;K, V&gt;</code> in which the <em>key</em> has to be the <code>driverAge</code> values and the value has to be a <em>list</em> sorted in <em><strong>descending order</strong></em> of the <code>n</code> lowest <code>vehicleAge</code> <em>values</em> with the same <code>driverAge</code> value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SortedMap&lt;Integer, List&lt;Integer&gt;&gt; getNMinVehicleAgesPerDriverAge(Integer n) {\n    return getAccidents().stream().\n...\n</code></pre>\n<p>I have tried using <code>Collectors.toMap()</code> and <code>Collectors.toList()</code> to somehow make it work, but I have no idea how to do it.</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653243321,"creation_date":1653242978,"answer_id":72340156,"question_id":72339955,"body_markdown":"&gt; Considering the input file size can be very Large this is not not suitable I feel.\r\n\r\nThis is bizarre. It is, in fact, precisely the right approach. The wrong approach would be to read the entire thing in.\r\n\r\nThe only exception is if a single line can itself be truly humongous (let&#39;s say 128MB or up - that&#39;s.. a heck of a long line).\r\n\r\nThat is JSON format, you need a JSON reader. I suggest [Jackson](https://github.com/FasterXML/jackson).\r\n\r\nMake a class with the structure of that line, presumably something like:\r\n\r\n```java\r\nenum State {\r\n  start, end;\r\n}\r\n\r\nclass Event {\r\n  String id;\r\n  State state;\r\n  long timestamp;\r\n}\r\n```\r\n\r\nThen, read a single line, ask Jackson to turn that line into an instance of Event, process it, and repeat until you&#39;re done with the file. This will let you process a file that is many GBs in size if you want, as long as any given line is not ridiculously long.\r\n\r\nIf a single __line__ _is_ ridiculously long: Well, JSON is not really designed for &#39;streaming&#39;, and most JSON libraries therefore don&#39;t do it, or at least don&#39;t make it easy. I therefore strongly suggest you don&#39;t attempt to write something that can &#39;stream&#39; a single line unless you&#39;re sure you really need to do this.\r\n\r\nThe only slightly complicated thing here is that you need to remember the last read entry, so that you can update its &#39;time taken&#39; property at that point, as you can only know that once you read the line _after_ the right entry. This is basic programming though.\r\n","title":"Read Large file in Chunks and Compare each line in Java","body":"<blockquote>\n<p>Considering the input file size can be very Large this is not not suitable I feel.</p>\n</blockquote>\n<p>This is bizarre. It is, in fact, precisely the right approach. The wrong approach would be to read the entire thing in.</p>\n<p>The only exception is if a single line can itself be truly humongous (let's say 128MB or up - that's.. a heck of a long line).</p>\n<p>That is JSON format, you need a JSON reader. I suggest <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a>.</p>\n<p>Make a class with the structure of that line, presumably something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum State {\n  start, end;\n}\n\nclass Event {\n  String id;\n  State state;\n  long timestamp;\n}\n</code></pre>\n<p>Then, read a single line, ask Jackson to turn that line into an instance of Event, process it, and repeat until you're done with the file. This will let you process a file that is many GBs in size if you want, as long as any given line is not ridiculously long.</p>\n<p>If a single <strong>line</strong> <em>is</em> ridiculously long: Well, JSON is not really designed for 'streaming', and most JSON libraries therefore don't do it, or at least don't make it easy. I therefore strongly suggest you don't attempt to write something that can 'stream' a single line unless you're sure you really need to do this.</p>\n<p>The only slightly complicated thing here is that you need to remember the last read entry, so that you can update its 'time taken' property at that point, as you can only know that once you read the line <em>after</em> the right entry. This is basic programming though.</p>\n"}],"owner":{"account_id":18717399,"reputation":45,"user_id":13646081,"display_name":"roy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72340156,"answer_count":1,"score":0,"last_activity_date":1653244659,"creation_date":1653241396,"question_id":72339955,"body_markdown":"I have a text file with entries like below.\r\n\r\n    {&quot;id&quot;:&quot;event1&quot;,&quot;state&quot;:&quot;start&quot;,&quot;timestamp&quot;:&quot;11025373&quot;}\r\n    {&quot;id&quot;:&quot;event1&quot;,&quot;state&quot;:&quot;end&quot;,&quot;timestamp&quot;:&quot;11025373&quot;}\r\n    {&quot;id&quot;:&quot;event2&quot;,&quot;state&quot;:&quot;start&quot;,&quot;timestamp&quot;:&quot;11025387&quot;}\r\n    {&quot;id&quot;:&quot;event3&quot;,&quot;state&quot;:&quot;start&quot;,&quot;timestamp&quot;:&quot;11025388&quot;}\r\n    {&quot;id&quot;:&quot;event3&quot;,&quot;state&quot;:&quot;end&quot;,&quot;timestamp&quot;:&quot;11025391&quot;}\r\n    {&quot;id&quot;:&quot;event2&quot;,&quot;state&quot;:&quot;end&quot;,&quot;timestamp&quot;:&quot;11025397&quot;}\r\n\r\nI want to read the file as input and compare the time consumed by each event using Java. Like \r\nevent1 has taken (11025373 - 11025373) = 4ms time. (start - end)\r\nevent2 has taken (11025397 - 11025387) = 10ms time.\r\n\r\nI initially thought to read line by line.\r\n\r\n    File file = new File(&quot;C:\\\\Users\\\\xyz\\\\inputfile.txt&quot;);\r\n    BufferedReader br = new BufferedReader(new FileReader(file));\r\n    String line;\r\n    while ((line = br.readLine()) != null)\r\n    LOGGER.info(line);\r\n\r\nConsidering the input file size can be very Large is this the right approach?. \r\nAny suggestion for best apporach will be helpful. And also how to compare each object in the file, i.e. compare &quot;start&quot; of event1 to &quot;end&quot; of event1 if I go line by line.\r\n\r\n","title":"Read Large file in Chunks and Compare each line in Java","body":"<p>I have a text file with entries like below.</p>\n<pre><code>{&quot;id&quot;:&quot;event1&quot;,&quot;state&quot;:&quot;start&quot;,&quot;timestamp&quot;:&quot;11025373&quot;}\n{&quot;id&quot;:&quot;event1&quot;,&quot;state&quot;:&quot;end&quot;,&quot;timestamp&quot;:&quot;11025373&quot;}\n{&quot;id&quot;:&quot;event2&quot;,&quot;state&quot;:&quot;start&quot;,&quot;timestamp&quot;:&quot;11025387&quot;}\n{&quot;id&quot;:&quot;event3&quot;,&quot;state&quot;:&quot;start&quot;,&quot;timestamp&quot;:&quot;11025388&quot;}\n{&quot;id&quot;:&quot;event3&quot;,&quot;state&quot;:&quot;end&quot;,&quot;timestamp&quot;:&quot;11025391&quot;}\n{&quot;id&quot;:&quot;event2&quot;,&quot;state&quot;:&quot;end&quot;,&quot;timestamp&quot;:&quot;11025397&quot;}\n</code></pre>\n<p>I want to read the file as input and compare the time consumed by each event using Java. Like\nevent1 has taken (11025373 - 11025373) = 4ms time. (start - end)\nevent2 has taken (11025397 - 11025387) = 10ms time.</p>\n<p>I initially thought to read line by line.</p>\n<pre><code>File file = new File(&quot;C:\\\\Users\\\\xyz\\\\inputfile.txt&quot;);\nBufferedReader br = new BufferedReader(new FileReader(file));\nString line;\nwhile ((line = br.readLine()) != null)\nLOGGER.info(line);\n</code></pre>\n<p>Considering the input file size can be very Large is this the right approach?.\nAny suggestion for best apporach will be helpful. And also how to compare each object in the file, i.e. compare &quot;start&quot; of event1 to &quot;end&quot; of event1 if I go line by line.</p>\n"},{"tags":["java","spring","spring-boot","microservices","spring-cloud"],"comments":[{"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"score":0,"creation_date":1653243875,"post_id":72340184,"comment_id":127798452,"body_markdown":"&quot;that accesses a specific GitHub repo&quot; -- Can you elaborate on how? Using RestTemplate/WebClient to access the public URL? Using GitHub&#39;s API? Running a local git client and using `git clone`? The existing code you have would be helpful. And just an FYI, your use case sounds a little similar to what a [Spring Cloud Config server](https://cloud.spring.io/spring-cloud-config/reference/html) offers","body":"&quot;that accesses a specific GitHub repo&quot; -- Can you elaborate on how? Using RestTemplate/WebClient to access the public URL? Using GitHub&#39;s API? Running a local git client and using <code>git clone</code>? The existing code you have would be helpful. And just an FYI, your use case sounds a little similar to what a <a href=\"https://cloud.spring.io/spring-cloud-config/reference/html\" rel=\"nofollow noreferrer\">Spring Cloud Config server</a> offers"},{"owner":{"account_id":4806745,"reputation":55,"user_id":3881542,"display_name":"Pinkman8144"},"score":0,"creation_date":1653244499,"post_id":72340184,"comment_id":127798573,"body_markdown":"Yes I am using spring cloud config. I am trying to connect a server to read files from a .property file and my client then accesses it via the server. But i wish to access all the .property files from a folder.","body":"Yes I am using spring cloud config. I am trying to connect a server to read files from a .property file and my client then accesses it via the server. But i wish to access all the .property files from a folder."},{"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"score":0,"creation_date":1653245660,"post_id":72340184,"comment_id":127798823,"body_markdown":"I&#39;m not certain (which is why I won&#39;t post this as answer), but I don&#39;t think it&#39;s possible to have zero references to the filenames without customizing how the Config server works. I would suggest looking into structuring your properties files differently, or perhaps taking advantage of [Profile Groups](https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4#profile-groups) if you have the ability to use Spring Boot 2.4+.","body":"I&#39;m not certain (which is why I won&#39;t post this as answer), but I don&#39;t think it&#39;s possible to have zero references to the filenames without customizing how the Config server works. I would suggest looking into structuring your properties files differently, or perhaps taking advantage of <a href=\"https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4#profile-groups\" rel=\"nofollow noreferrer\">Profile Groups</a> if you have the ability to use Spring Boot 2.4+."}],"owner":{"account_id":4806745,"reputation":55,"user_id":3881542,"display_name":"Pinkman8144"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653244422,"creation_date":1653243250,"question_id":72340184,"body_markdown":"I have a Spring server that accesses a specific GitHub repo. The repo contains a folder and has multiple property files and all of them have different names, so I can&#39;t get them using their corresponding application and profile. Is there any way I can retrieve all of them without needing their name?\r\nFor example my  spring cloud server currently accesses the application.properties file from my github repo. If there exists  another folder and within that folder there exist multiple .properties files how do i retrieve them?\r\n```\r\nspring:\r\n  cloud:\r\n    config:\r\n      server:\r\n        git:\r\n          uri : https://github.com/xxxxxx/cloud-config-server.git\r\n\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: &quot;*&quot;\r\n```\r\nFOLDER\r\n│   ├── example1.properties\r\n│   └── example2.properties\r\n│   ├── example3.properties\r\n│   └── example4.properties\r\n\r\nCan I access all of these property files from this folder in one shot, without any specific need for their names?\r\n","title":"How to read multiple property files from a GitHub folder using Spring Cloud?","body":"<p>I have a Spring server that accesses a specific GitHub repo. The repo contains a folder and has multiple property files and all of them have different names, so I can't get them using their corresponding application and profile. Is there any way I can retrieve all of them without needing their name?\nFor example my  spring cloud server currently accesses the application.properties file from my github repo. If there exists  another folder and within that folder there exist multiple .properties files how do i retrieve them?</p>\n<pre><code>spring:\n  cloud:\n    config:\n      server:\n        git:\n          uri : https://github.com/xxxxxx/cloud-config-server.git\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: &quot;*&quot;\n</code></pre>\n<p>FOLDER\n│   ├── example1.properties\n│   └── example2.properties\n│   ├── example3.properties\n│   └── example4.properties</p>\n<p>Can I access all of these property files from this folder in one shot, without any specific need for their names?</p>\n"},{"tags":["java","android","kotlin","datastore"],"answers":[{"tags":[],"owner":{"account_id":12182921,"reputation":6857,"user_id":8893847,"display_name":"Nader Gharibian Fard"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1653243960,"creation_date":1653243960,"answer_id":72340268,"question_id":72340267,"body_markdown":"This was throwing me too, but I figured it out (aka, guessed until it worked):\r\n\r\n```java\r\n\r\n    // Note: This is at the top level of the file, outside of any classes.\r\n    private val Context.dataStore by preferencesDataStore(&quot;user_preferences&quot;)\r\n    \r\n    class UserPreferencesManager(context: Context) {\r\n        private val dataStore = context.dataStore\r\n        // ...\r\n    }\r\n```\r\n\r\nThis is for a \r\n\r\n    DataStore&lt;Preferences&gt;\r\n\r\n, but if you need a custom serializer, you can do the following (same parameters as the old method):\r\n\r\n    // Still top level!\r\n    private val Context.dataStore by dataStore(\r\n        fileName = &quot;user_preferences&quot;,\r\n        serializer = MyCustomSerializer,\r\n    )","title":"How to fix the error &quot;There are multiple DataStores active&quot;","body":"<p>This was throwing me too, but I figured it out (aka, guessed until it worked):</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    // Note: This is at the top level of the file, outside of any classes.\n    private val Context.dataStore by preferencesDataStore(&quot;user_preferences&quot;)\n    \n    class UserPreferencesManager(context: Context) {\n        private val dataStore = context.dataStore\n        // ...\n    }\n</code></pre>\n<p>This is for a</p>\n<pre><code>DataStore&lt;Preferences&gt;\n</code></pre>\n<p>, but if you need a custom serializer, you can do the following (same parameters as the old method):</p>\n<pre><code>// Still top level!\nprivate val Context.dataStore by dataStore(\n    fileName = &quot;user_preferences&quot;,\n    serializer = MyCustomSerializer,\n)\n</code></pre>\n"}],"owner":{"account_id":12182921,"reputation":6857,"user_id":8893847,"display_name":"Nader Gharibian Fard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1259,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1653243960,"creation_date":1653243960,"question_id":72340267,"body_markdown":"I have an error in the project. When I use the DataStore on my project then I get an error.\r\nI do not intend to create several datastore for my project. I do want to create a datastore for it but when running the project I get an error \r\n\r\nand I found many questions on the StackOverflow.com like\r\n\r\n1- [Git push results in &quot;Authentication Failed&quot;][1]\r\n\r\n2- [Why there is multiple Datastore is created?][2]\r\n\r\nand etc...\r\n\r\nbut my project error&#39;s not resolved\r\n\r\n\r\n**how to fix that**\r\n\r\n\r\nthis is my code in the *UserPreferences.kt*\r\n\r\n``` kotlin\r\n    class UserPreferences @Inject constructor(context: Context) {\r\n      //  private val dataStore = context.dataStore\r\n      private val Context.dataStore by preferencesDataStore(name = &quot;userPrefs&quot;)\r\n        private val context = context.applicationContext\r\n    \r\n    \r\n    \r\n    \r\n        companion object {\r\n            private val ACCESS_TOKEN_KEY = stringPreferencesKey(&quot;accessToken&quot;)\r\n            private val REFRESH_TOKEN_KEY = stringPreferencesKey(&quot;refreshToken&quot;)\r\n        }\r\n    \r\n    \r\n        val getAccessToken: Flow&lt;String&gt;\r\n            get() = context.dataStore.data.map {\r\n                it[ACCESS_TOKEN_KEY]?:&quot;&quot;\r\n            }\r\n    \r\n        suspend fun setRefreshToken(value: String) {\r\n            context.dataStore.edit { it[ACCESS_TOKEN_KEY] = value }\r\n        }\r\n    \r\n        val getRefreshToken: Flow&lt;String&gt;\r\n            get() = context.dataStore.data.map {\r\n                it[REFRESH_TOKEN_KEY]?:&quot;&quot;\r\n            }\r\n    \r\n        suspend fun setAccessToken(value: String) {\r\n            context.dataStore.edit { it[REFRESH_TOKEN_KEY] = value }\r\n        }\r\n        suspend fun clear() {\r\n            context.dataStore.edit { preferences -&gt;\r\n                preferences.clear()\r\n            }\r\n        }\r\n    \r\n    }\r\n```\r\n\r\n**Error**: \r\n\r\n  \r\n```error\r\n\r\n     E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.alpha.caller, PID: 11412\r\n        java.lang.IllegalStateException: There are multiple DataStores active for the same file: /data/user/0/com.example/files/datastore/userPrefs.preferences_pb. You should either maintain your DataStore as a singleton or confirm that there is no two DataStore&#39;s active on the same file (by confirming that the scope is cancelled).\r\n            at androidx.datastore.core.SingleProcessDataStore$file$2.invoke(SingleProcessDataStore.kt:168)\r\n            at androidx.datastore.core.SingleProcessDataStore$file$2.invoke(SingleProcessDataStore.kt:163)\r\n            at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\r\n            at androidx.datastore.core.SingleProcessDataStore.getFile(SingleProcessDataStore.kt:163)\r\n            at androidx.datastore.core.SingleProcessDataStore.readData(SingleProcessDataStore.kt:380)\r\n            at androidx.datastore.core.SingleProcessDataStore.readDataOrHandleCorruption(SingleProcessDataStore.kt:359)\r\n            at androidx.datastore.core.SingleProcessDataStore.readAndInit(SingleProcessDataStore.kt:322)\r\n            at androidx.datastore.core.SingleProcessDataStore.readAndInitOrPropagateAndThrowFailure(SingleProcessDataStore.kt:302)\r\n            at androidx.datastore.core.SingleProcessDataStore.handleUpdate(SingleProcessDataStore.kt:281)\r\n            at androidx.datastore.core.SingleProcessDataStore.access$handleUpdate(SingleProcessDataStore.kt:76)\r\n            at androidx.datastore.core.SingleProcessDataStore$actor$3.invokeSuspend(SingleProcessDataStore.kt:242)\r\n            at androidx.datastore.core.SingleProcessDataStore$actor$3.invoke(Unknown Source:8)\r\n            at androidx.datastore.core.SingleProcessDataStore$actor$3.invoke(Unknown Source:4)\r\n            at androidx.datastore.core.SimpleActor$offer$2.invokeSuspend(SimpleActor.kt:122)\r\n            at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n            at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:571)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:678)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:665)\r\n\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/17659206/git-push-results-in-authentication-failed\r\n  [2]: https://stackoverflow.com/questions/70091544/why-there-is-multiple-datastore-is-created\r\n","title":"How to fix the error &quot;There are multiple DataStores active&quot;","body":"<p>I have an error in the project. When I use the DataStore on my project then I get an error.\nI do not intend to create several datastore for my project. I do want to create a datastore for it but when running the project I get an error</p>\n<p>and I found many questions on the StackOverflow.com like</p>\n<p>1- <a href=\"https://stackoverflow.com/questions/17659206/git-push-results-in-authentication-failed\">Git push results in &quot;Authentication Failed&quot;</a></p>\n<p>2- <a href=\"https://stackoverflow.com/questions/70091544/why-there-is-multiple-datastore-is-created\">Why there is multiple Datastore is created?</a></p>\n<p>and etc...</p>\n<p>but my project error's not resolved</p>\n<p><strong>how to fix that</strong></p>\n<p>this is my code in the <em>UserPreferences.kt</em></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    class UserPreferences @Inject constructor(context: Context) {\n      //  private val dataStore = context.dataStore\n      private val Context.dataStore by preferencesDataStore(name = &quot;userPrefs&quot;)\n        private val context = context.applicationContext\n    \n    \n    \n    \n        companion object {\n            private val ACCESS_TOKEN_KEY = stringPreferencesKey(&quot;accessToken&quot;)\n            private val REFRESH_TOKEN_KEY = stringPreferencesKey(&quot;refreshToken&quot;)\n        }\n    \n    \n        val getAccessToken: Flow&lt;String&gt;\n            get() = context.dataStore.data.map {\n                it[ACCESS_TOKEN_KEY]?:&quot;&quot;\n            }\n    \n        suspend fun setRefreshToken(value: String) {\n            context.dataStore.edit { it[ACCESS_TOKEN_KEY] = value }\n        }\n    \n        val getRefreshToken: Flow&lt;String&gt;\n            get() = context.dataStore.data.map {\n                it[REFRESH_TOKEN_KEY]?:&quot;&quot;\n            }\n    \n        suspend fun setAccessToken(value: String) {\n            context.dataStore.edit { it[REFRESH_TOKEN_KEY] = value }\n        }\n        suspend fun clear() {\n            context.dataStore.edit { preferences -&gt;\n                preferences.clear()\n            }\n        }\n    \n    }\n</code></pre>\n<p><strong>Error</strong>:</p>\n<pre><code>\n     E/AndroidRuntime: FATAL EXCEPTION: main\n        Process: com.alpha.caller, PID: 11412\n        java.lang.IllegalStateException: There are multiple DataStores active for the same file: /data/user/0/com.example/files/datastore/userPrefs.preferences_pb. You should either maintain your DataStore as a singleton or confirm that there is no two DataStore's active on the same file (by confirming that the scope is cancelled).\n            at androidx.datastore.core.SingleProcessDataStore$file$2.invoke(SingleProcessDataStore.kt:168)\n            at androidx.datastore.core.SingleProcessDataStore$file$2.invoke(SingleProcessDataStore.kt:163)\n            at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\n            at androidx.datastore.core.SingleProcessDataStore.getFile(SingleProcessDataStore.kt:163)\n            at androidx.datastore.core.SingleProcessDataStore.readData(SingleProcessDataStore.kt:380)\n            at androidx.datastore.core.SingleProcessDataStore.readDataOrHandleCorruption(SingleProcessDataStore.kt:359)\n            at androidx.datastore.core.SingleProcessDataStore.readAndInit(SingleProcessDataStore.kt:322)\n            at androidx.datastore.core.SingleProcessDataStore.readAndInitOrPropagateAndThrowFailure(SingleProcessDataStore.kt:302)\n            at androidx.datastore.core.SingleProcessDataStore.handleUpdate(SingleProcessDataStore.kt:281)\n            at androidx.datastore.core.SingleProcessDataStore.access$handleUpdate(SingleProcessDataStore.kt:76)\n            at androidx.datastore.core.SingleProcessDataStore$actor$3.invokeSuspend(SingleProcessDataStore.kt:242)\n            at androidx.datastore.core.SingleProcessDataStore$actor$3.invoke(Unknown Source:8)\n            at androidx.datastore.core.SingleProcessDataStore$actor$3.invoke(Unknown Source:4)\n            at androidx.datastore.core.SimpleActor$offer$2.invokeSuspend(SimpleActor.kt:122)\n            at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n            at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n            at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:571)\n            at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n            at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:678)\n            at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:665)\n\n</code></pre>\n"},{"tags":["java","android","opencv","hough-transform","canny-operator"],"comments":[{"owner":{"account_id":6199398,"reputation":20357,"user_id":6885902,"display_name":"Jeru Luke"},"score":0,"creation_date":1653226924,"post_id":72337809,"comment_id":127794628,"body_markdown":"You have detected your lines, you can just draw them on the original BGR image. I don&#39;t understand the need for conversion from HSV to BGR","body":"You have detected your lines, you can just draw them on the original BGR image. I don&#39;t understand the need for conversion from HSV to BGR"},{"owner":{"account_id":24919781,"reputation":51,"user_id":18788203,"display_name":"ywseo97"},"score":0,"creation_date":1653227317,"post_id":72337809,"comment_id":127794721,"body_markdown":"Very good idea!! Can I know the code how to do that after HoughLinesP()?\nI have no idea how to draw them on the original BGR image.\nThank you for reply!","body":"Very good idea!! Can I know the code how to do that after HoughLinesP()? I have no idea how to draw them on the original BGR image. Thank you for reply!"},{"owner":{"account_id":6199398,"reputation":20357,"user_id":6885902,"display_name":"Jeru Luke"},"score":0,"creation_date":1653227581,"post_id":72337809,"comment_id":127794792,"body_markdown":"Before that, what does `Imgproc.line(mRgba, new Point(l[0], l[1]), new Point(l[2], l[3]), new Scalar(0, 0, 255.0), 3);` return? Does it draw the lines onto `mRgba`?","body":"Before that, what does <code>Imgproc.line(mRgba, new Point(l[0], l[1]), new Point(l[2], l[3]), new Scalar(0, 0, 255.0), 3);</code> return? Does it draw the lines onto <code>mRgba</code>?"},{"owner":{"account_id":24919781,"reputation":51,"user_id":18788203,"display_name":"ywseo97"},"score":0,"creation_date":1653229020,"post_id":72337809,"comment_id":127795114,"body_markdown":"Yes it does. On my phone, using that code, it displays HSV with lines.","body":"Yes it does. On my phone, using that code, it displays HSV with lines."},{"owner":{"account_id":6199398,"reputation":20357,"user_id":6885902,"display_name":"Jeru Luke"},"score":0,"creation_date":1653229434,"post_id":72337809,"comment_id":127795203,"body_markdown":"In your code, you have assigned HSV output to the RGB variable, thus overriding the original RGB input. It happens in line `mRgba=mat1;`. That&#39;s why the detected lines are being drawn in HSV color space. Assign a different variable on the same line and try again.","body":"In your code, you have assigned HSV output to the RGB variable, thus overriding the original RGB input. It happens in line <code>mRgba=mat1;</code>. That&#39;s why the detected lines are being drawn in HSV color space. Assign a different variable on the same line and try again."},{"owner":{"account_id":24919781,"reputation":51,"user_id":18788203,"display_name":"ywseo97"},"score":0,"creation_date":1653231650,"post_id":72337809,"comment_id":127795670,"body_markdown":"Do you mean do I have to change ```mRgba = mat2;``` or something?","body":"Do you mean do I have to change <code>mRgba = mat2;</code> or something?"},{"owner":{"account_id":6199398,"reputation":20357,"user_id":6885902,"display_name":"Jeru Luke"},"score":0,"creation_date":1653231957,"post_id":72337809,"comment_id":127795733,"body_markdown":"Yes. Change `mRgba = mat2;`. Then for `Imgproc.dilate` and `Imgproc.Canny` functions, pass `mat1` as input. The rest would be the same","body":"Yes. Change <code>mRgba = mat2;</code>. Then for <code>Imgproc.dilate</code> and <code>Imgproc.Canny</code> functions, pass <code>mat1</code> as input. The rest would be the same"},{"owner":{"account_id":24919781,"reputation":51,"user_id":18788203,"display_name":"ywseo97"},"score":0,"creation_date":1653232606,"post_id":72337809,"comment_id":127795871,"body_markdown":"I added the changed code in my question. Can you see and tell me which part I lost?\nBecause when I turn on the App, It still shows the HSV image.","body":"I added the changed code in my question. Can you see and tell me which part I lost? Because when I turn on the App, It still shows the HSV image."},{"owner":{"account_id":6199398,"reputation":20357,"user_id":6885902,"display_name":"Jeru Luke"},"score":0,"creation_date":1653234611,"post_id":72337809,"comment_id":127796311,"body_markdown":"TBH, I do not code in Java but Python. I have been offering suggestions based on your code. I would suggest creating a copy of the RGB image/frame, perform your operations and finally draw lines on this copy","body":"TBH, I do not code in Java but Python. I have been offering suggestions based on your code. I would suggest creating a copy of the RGB image/frame, perform your operations and finally draw lines on this copy"},{"owner":{"account_id":24919781,"reputation":51,"user_id":18788203,"display_name":"ywseo97"},"score":1,"creation_date":1653235033,"post_id":72337809,"comment_id":127796418,"body_markdown":"Very thank you for your suggestions and spending time to me. Based on your replies I finally got a BGR img with line detections. The problem was in ```Imgproc.dilate(mat1,mRgba,new Mat(),new Point(1,2),2);``` \n\nWhen I changed it to ```Imgproc.dilate(mat1,mat1,new Mat(),new Point(1,2),2);```, it finally shows BGR image.\n\nOnce again, I want to say very thank you. If you have more time, can I ask 1 more question?","body":"Very thank you for your suggestions and spending time to me. Based on your replies I finally got a BGR img with line detections. The problem was in <code>Imgproc.dilate(mat1,mRgba,new Mat(),new Point(1,2),2);</code>   When I changed it to <code>Imgproc.dilate(mat1,mat1,new Mat(),new Point(1,2),2);</code>, it finally shows BGR image.  Once again, I want to say very thank you. If you have more time, can I ask 1 more question?"},{"owner":{"account_id":6199398,"reputation":20357,"user_id":6885902,"display_name":"Jeru Luke"},"score":0,"creation_date":1653235158,"post_id":72337809,"comment_id":127796451,"body_markdown":"sure @ywseo97. Will do once I have time","body":"sure @ywseo97. Will do once I have time"},{"owner":{"account_id":24919781,"reputation":51,"user_id":18788203,"display_name":"ywseo97"},"score":0,"creation_date":1653235640,"post_id":72337809,"comment_id":127796573,"body_markdown":"Thank you! I edited my question. Please see ```Edit2)```.","body":"Thank you! I edited my question. Please see <code>Edit2)</code>."},{"owner":{"account_id":6199398,"reputation":20357,"user_id":6885902,"display_name":"Jeru Luke"},"score":0,"creation_date":1653239978,"post_id":72337809,"comment_id":127797560,"body_markdown":"Create a mask such that your ROI is in color while other part is black. Draw detected lines on this mask","body":"Create a mask such that your ROI is in color while other part is black. Draw detected lines on this mask"},{"owner":{"account_id":24919781,"reputation":51,"user_id":18788203,"display_name":"ywseo97"},"score":0,"creation_date":1653243527,"post_id":72337809,"comment_id":127798376,"body_markdown":"Please see Edit3). I made some changes.","body":"Please see Edit3). I made some changes."},{"owner":{"account_id":24919781,"reputation":51,"user_id":18788203,"display_name":"ywseo97"},"score":0,"creation_date":1653290494,"post_id":72337809,"comment_id":127806041,"body_markdown":"How to make screen black?? I tried making BGR2GRAY, but it still shows lines.","body":"How to make screen black?? I tried making BGR2GRAY, but it still shows lines."},{"owner":{"account_id":6199398,"reputation":20357,"user_id":6885902,"display_name":"Jeru Luke"},"score":0,"creation_date":1653291920,"post_id":72337809,"comment_id":127806498,"body_markdown":"As I said, I don&#39;t know how its done using Java. Hope I have given you an idea how to proceed","body":"As I said, I don&#39;t know how its done using Java. Hope I have given you an idea how to proceed"}],"owner":{"account_id":24919781,"reputation":51,"user_id":18788203,"display_name":"ywseo97"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653243829,"creation_date":1653224650,"question_id":72337809,"body_markdown":"Android, I used canny and hough transform to make line detection on phone screen. However, I can&#39;t find a way to get back to original image(I mean HSV to BGR). I want to see keep lines well with BGR image. Thank you!\r\n\r\nMy code, please let me know which code I have to put in.\r\n```\r\npublic class CameraActivity extends Activity implements CameraBridgeViewBase.CvCameraViewListener2{\r\n    private static final String TAG=&quot;MainActivity&quot;;\r\n\r\n    private Mat mRgba;\r\n    private Mat mGray;\r\n\r\n\r\n    Scalar scalarLow,scalarHigh;///\r\n    Mat mat1,mat2;////\r\n    Rect rect;////\r\n    Rect roi_rect;///\r\n    private Mat m_matRoi;////\r\n    Point rect1, rect2;///////\r\n```\r\n\r\n```\r\n    public void onCameraViewStarted(int width ,int height){\r\n        mRgba=new Mat(height,width, CvType.CV_8UC4);\r\n        mGray =new Mat(height,width,CvType.CV_8UC1);\r\n\r\n        mat1 = new Mat(height,width,CvType.CV_8UC4);\r\n        mat2 = new Mat(height,width,CvType.CV_8UC4);\r\n\r\n    }\r\n    public void onCameraViewStopped(){\r\n        mRgba.release();\r\n    }\r\n    public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame){\r\n        mRgba=inputFrame.rgba();/////mRgba = image, matInput 과 같은 역할\r\n        mGray=inputFrame.gray();\r\n\r\n\r\n        double m_dWscale = (double)  1/3;\r\n        double m_dHscale = (double) 1/4;\r\n        int mRoiWidth = (int)(mRgba.size().width * m_dWscale);\r\n        int mRoiHeight = (int)(mRgba.size().height * m_dHscale);\r\n\r\n        int mRoiX = (int) (mRgba.size().width - mRoiWidth) ;\r\n        int mRoiY = (int) (mRgba.size().height - mRoiHeight) ;\r\n\r\n        //rect = new Rect(mRoiX,mRoiY,mRoiWidth,mRoiHeight);\r\n        rect1 =new Point(mRoiX, mRoiY);\r\n        rect2 = new Point(mRoiWidth,mRoiHeight);\r\n        Imgproc.rectangle(mRgba,rect1,rect2,new Scalar(0, 255, 0, 255),5);\r\n\r\n        roi_rect = new Rect(mRoiX+4,mRoiY+4,mRoiWidth-8,mRoiHeight-8);\r\n        m_matRoi = mRgba.submat(roi_rect);\r\n        Mat temp = new Mat();\r\n        Imgproc.cvtColor(m_matRoi, temp, Imgproc.COLOR_BGRA2GRAY,0);\r\n        Mat temp_rgba = new Mat();\r\n        Imgproc.cvtColor(temp, temp_rgba, Imgproc.COLOR_GRAY2BGRA,0);\r\n        temp_rgba.copyTo(m_matRoi);\r\n\r\n\r\n        scalarLow=new Scalar(0,0,200);\r\n        scalarHigh=new Scalar(180,255,255);\r\n        Imgproc.cvtColor(mRgba,mat1,Imgproc.COLOR_BGR2HSV);\r\n\r\n        Core.inRange(mat1,scalarLow,scalarHigh,mat2);\r\n        Core.bitwise_and(mRgba,mRgba,mat1,mat2);\r\n        mRgba=mat1;\r\n\r\n\r\n       \r\n        Imgproc.dilate(mRgba,mRgba,new Mat(),new Point(1,2),2);//\r\n\r\n\r\n\r\n\r\n        Mat edges=new Mat();\r\n        Imgproc.Canny(mRgba,edges,90,150);\r\n\r\n        Mat lines=new Mat();\r\n\r\n        Point p1=new Point();\r\n        Point p2=new Point();\r\n        double a,b;\r\n        double x0,y0;\r\n        Imgproc.HoughLinesP(edges,lines,1.0,Math.PI/180.0,50,100.0,10.0);//\r\n\r\n        for(int i=0;i&lt;lines.rows();i++) {\r\n            double[] l = lines.get(i, 0);\r\n\r\n            Imgproc.line(mRgba, new Point(l[0], l[1]), new Point(l[2], l[3]), new Scalar(0, 0, 255.0), 3);\r\n            \r\n        }\r\n\r\n\r\n        return mRgba;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI divided it to two parts b/c there were not necessary codes between them.\r\nThank you.\r\n\r\n\r\nEdit1)\r\nTo @Jeru Luke, I changed the code you said. I put many slashes where I changed the code.\r\n```\r\npublic void onCameraViewStarted(int width ,int height){\r\n        mRgba=new Mat(height,width, CvType.CV_8UC4);\r\n        mGray =new Mat(height,width,CvType.CV_8UC1);\r\n\r\n        mat1 = new Mat(height,width,CvType.CV_8UC4);\r\n        mat2 = new Mat(height,width,CvType.CV_8UC4);//////////\r\n        \r\n    }\r\n    public void onCameraViewStopped(){\r\n        mRgba.release();\r\n    }\r\n    public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame){\r\n        mRgba=inputFrame.rgba();/////mRgba = image, matInput 과 같은 역할\r\n        mGray=inputFrame.gray();\r\n\r\n\r\n        double m_dWscale = (double)  1/3;\r\n        double m_dHscale = (double) 1/4;\r\n        int mRoiWidth = (int)(mRgba.size().width * m_dWscale);\r\n        int mRoiHeight = (int)(mRgba.size().height * m_dHscale);\r\n\r\n        int mRoiX = (int) (mRgba.size().width - mRoiWidth) ;\r\n        int mRoiY = (int) (mRgba.size().height - mRoiHeight) ;\r\n\r\n        //rect = new Rect(mRoiX,mRoiY,mRoiWidth,mRoiHeight);\r\n        rect1 =new Point(mRoiX, mRoiY);\r\n        rect2 = new Point(mRoiWidth,mRoiHeight);\r\n        Imgproc.rectangle(mRgba,rect1,rect2,new Scalar(0, 255, 0, 255),5);\r\n\r\n        roi_rect = new Rect(mRoiX+4,mRoiY+4,mRoiWidth-8,mRoiHeight-8);\r\n        m_matRoi = mRgba.submat(roi_rect);\r\n        Mat temp = new Mat();\r\n        Imgproc.cvtColor(m_matRoi, temp, Imgproc.COLOR_BGRA2GRAY,0);\r\n        Mat temp_rgba = new Mat();\r\n        Imgproc.cvtColor(temp, temp_rgba, Imgproc.COLOR_GRAY2BGRA,0);\r\n        temp_rgba.copyTo(m_matRoi);\r\n\r\n        scalarLow=new Scalar(0,0,200);\r\n        scalarHigh=new Scalar(180,255,255);\r\n        Imgproc.cvtColor(mRgba,mat1,Imgproc.COLOR_BGR2HSV);\r\n\r\n        Core.inRange(mat1,scalarLow,scalarHigh,mat2);\r\n        Core.bitwise_and(mRgba,mRgba,mat1,mat2);\r\n        mRgba=mat2;////////////////////////////////////\r\n\r\n\r\n\r\n        \r\n        Imgproc.dilate(mat1,mRgba,new Mat(),new Point(1,2),2);/////////////\r\n\r\n\r\n\r\n\r\n        Mat edges=new Mat();\r\n        Imgproc.Canny(mat1,edges,90,150);//////////////////////////\r\n\r\n        Mat lines=new Mat();\r\n\r\n        Point p1=new Point();\r\n        Point p2=new Point();\r\n        double a,b;\r\n        double x0,y0;\r\n        Imgproc.HoughLinesP(edges,lines,1.0,Math.PI/180.0,50,100.0,10.0);\r\n\r\n        for(int i=0;i&lt;lines.rows();i++) {\r\n            double[] l = lines.get(i, 0);\r\n\r\n            Imgproc.line(mRgba, new Point(l[0], l[1]), new Point(l[2], l[3]), new Scalar(0, 0, 255.0), 3);\r\n           Scalar(255.0,255.0,255.0),1,Imgproc.LINE_AA,0);\r\n\r\n        }\r\n\r\n\r\n        return mRgba;\r\n    }\r\n\r\n}\r\n```\r\n\r\nEdit2) My final objective of this project is draw lines only in ROI(Region of Interest) area. Below code is about ROI. But the problem is it only shows rectangular box and lines are everywhere in my phone screen.\r\n\r\n```\r\npublic Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame){\r\n        mRgba=inputFrame.rgba();\r\n        mGray=inputFrame.gray();\r\n        mat3=inputFrame.rgba();\r\n\r\n\r\n        double m_dWscale = (double)  1/3;\r\n        double m_dHscale = (double) 1/4;\r\n        int mRoiWidth = (int)(mRgba.size().width * m_dWscale);\r\n        int mRoiHeight = (int)(mRgba.size().height * m_dHscale);\r\n\r\n        int mRoiX = (int) (mRgba.size().width - mRoiWidth) ;\r\n        int mRoiY = (int) (mRgba.size().height - mRoiHeight) ;\r\n\r\n        //rect = new Rect(mRoiX,mRoiY,mRoiWidth,mRoiHeight);\r\n        rect1 =new Point(mRoiX, mRoiY);\r\n        rect2 = new Point(mRoiWidth,mRoiHeight);\r\n        Imgproc.rectangle(mRgba,rect1,rect2,new Scalar(0, 255, 0, 255),5);\r\n\r\n        roi_rect = new Rect(mRoiX+4,mRoiY+4,mRoiWidth-8,mRoiHeight-8);\r\n        m_matRoi = mRgba.submat(roi_rect);\r\n        //Mat temp = new Mat();\r\n        //Imgproc.cvtColor(m_matRoi, temp, Imgproc.COLOR_BGRA2GRAY,0);\r\n        //Mat temp_rgba = new Mat();\r\n        //Imgproc.cvtColor(temp, temp_rgba, Imgproc.COLOR_GRAY2BGRA,0);\r\n        //temp_rgba.copyTo(m_matRoi);\r\n```\r\n\r\nthis part is about ROI. \r\n\r\n\r\nEdit3) below code is about making mask I guess..\r\n```\r\nroi_rect = new Rect(mRoiX,mRoiY,mRoiWidth,mRoiHeight);\r\n        mat5 = mRgba.submat(roi_rect); \r\n        //Mat temp = new Mat();\r\n        //Mat temp_rgba = new Mat();\r\n        Imgproc.cvtColor(mRgba,mRgba,Imgproc.COLOR_BGR2GRAY); \r\n        Imgproc.cvtColor(mat5, mat5, Imgproc.COLOR_GRAY2BGR,0); //\r\n        //Imgproc.cvtColor(temp, temp_rgba, Imgproc.COLOR_GRAY2BGRA,0);\r\n        mat5.copyTo(mRgba);\r\n```\r\n```roi_rect``` &#39;s parameters are all ```(int)``` and mat5 is\r\n```\r\nmat5 = new Mat(height,width,CvType.CV_8UC4);\r\n```\r\nI made this code firstly to make all region dark. And using ```roi_rect``` only that part, which means ```mat5``` is converted ```GRAY2BGR``` and then use ```mat5.copyTo(mRgba)``` to paste ```mat5``` on ```mRgba```. But it shuts down when I turn on the app. ","title":"Android canny, hough transform. I want to go back to original image","body":"<p>Android, I used canny and hough transform to make line detection on phone screen. However, I can't find a way to get back to original image(I mean HSV to BGR). I want to see keep lines well with BGR image. Thank you!</p>\n<p>My code, please let me know which code I have to put in.</p>\n<pre><code>public class CameraActivity extends Activity implements CameraBridgeViewBase.CvCameraViewListener2{\n    private static final String TAG=&quot;MainActivity&quot;;\n\n    private Mat mRgba;\n    private Mat mGray;\n\n\n    Scalar scalarLow,scalarHigh;///\n    Mat mat1,mat2;////\n    Rect rect;////\n    Rect roi_rect;///\n    private Mat m_matRoi;////\n    Point rect1, rect2;///////\n</code></pre>\n<pre><code>    public void onCameraViewStarted(int width ,int height){\n        mRgba=new Mat(height,width, CvType.CV_8UC4);\n        mGray =new Mat(height,width,CvType.CV_8UC1);\n\n        mat1 = new Mat(height,width,CvType.CV_8UC4);\n        mat2 = new Mat(height,width,CvType.CV_8UC4);\n\n    }\n    public void onCameraViewStopped(){\n        mRgba.release();\n    }\n    public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame){\n        mRgba=inputFrame.rgba();/////mRgba = image, matInput 과 같은 역할\n        mGray=inputFrame.gray();\n\n\n        double m_dWscale = (double)  1/3;\n        double m_dHscale = (double) 1/4;\n        int mRoiWidth = (int)(mRgba.size().width * m_dWscale);\n        int mRoiHeight = (int)(mRgba.size().height * m_dHscale);\n\n        int mRoiX = (int) (mRgba.size().width - mRoiWidth) ;\n        int mRoiY = (int) (mRgba.size().height - mRoiHeight) ;\n\n        //rect = new Rect(mRoiX,mRoiY,mRoiWidth,mRoiHeight);\n        rect1 =new Point(mRoiX, mRoiY);\n        rect2 = new Point(mRoiWidth,mRoiHeight);\n        Imgproc.rectangle(mRgba,rect1,rect2,new Scalar(0, 255, 0, 255),5);\n\n        roi_rect = new Rect(mRoiX+4,mRoiY+4,mRoiWidth-8,mRoiHeight-8);\n        m_matRoi = mRgba.submat(roi_rect);\n        Mat temp = new Mat();\n        Imgproc.cvtColor(m_matRoi, temp, Imgproc.COLOR_BGRA2GRAY,0);\n        Mat temp_rgba = new Mat();\n        Imgproc.cvtColor(temp, temp_rgba, Imgproc.COLOR_GRAY2BGRA,0);\n        temp_rgba.copyTo(m_matRoi);\n\n\n        scalarLow=new Scalar(0,0,200);\n        scalarHigh=new Scalar(180,255,255);\n        Imgproc.cvtColor(mRgba,mat1,Imgproc.COLOR_BGR2HSV);\n\n        Core.inRange(mat1,scalarLow,scalarHigh,mat2);\n        Core.bitwise_and(mRgba,mRgba,mat1,mat2);\n        mRgba=mat1;\n\n\n       \n        Imgproc.dilate(mRgba,mRgba,new Mat(),new Point(1,2),2);//\n\n\n\n\n        Mat edges=new Mat();\n        Imgproc.Canny(mRgba,edges,90,150);\n\n        Mat lines=new Mat();\n\n        Point p1=new Point();\n        Point p2=new Point();\n        double a,b;\n        double x0,y0;\n        Imgproc.HoughLinesP(edges,lines,1.0,Math.PI/180.0,50,100.0,10.0);//\n\n        for(int i=0;i&lt;lines.rows();i++) {\n            double[] l = lines.get(i, 0);\n\n            Imgproc.line(mRgba, new Point(l[0], l[1]), new Point(l[2], l[3]), new Scalar(0, 0, 255.0), 3);\n            \n        }\n\n\n        return mRgba;\n    }\n\n}\n</code></pre>\n<p>I divided it to two parts b/c there were not necessary codes between them.\nThank you.</p>\n<p>Edit1)\nTo @Jeru Luke, I changed the code you said. I put many slashes where I changed the code.</p>\n<pre><code>public void onCameraViewStarted(int width ,int height){\n        mRgba=new Mat(height,width, CvType.CV_8UC4);\n        mGray =new Mat(height,width,CvType.CV_8UC1);\n\n        mat1 = new Mat(height,width,CvType.CV_8UC4);\n        mat2 = new Mat(height,width,CvType.CV_8UC4);//////////\n        \n    }\n    public void onCameraViewStopped(){\n        mRgba.release();\n    }\n    public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame){\n        mRgba=inputFrame.rgba();/////mRgba = image, matInput 과 같은 역할\n        mGray=inputFrame.gray();\n\n\n        double m_dWscale = (double)  1/3;\n        double m_dHscale = (double) 1/4;\n        int mRoiWidth = (int)(mRgba.size().width * m_dWscale);\n        int mRoiHeight = (int)(mRgba.size().height * m_dHscale);\n\n        int mRoiX = (int) (mRgba.size().width - mRoiWidth) ;\n        int mRoiY = (int) (mRgba.size().height - mRoiHeight) ;\n\n        //rect = new Rect(mRoiX,mRoiY,mRoiWidth,mRoiHeight);\n        rect1 =new Point(mRoiX, mRoiY);\n        rect2 = new Point(mRoiWidth,mRoiHeight);\n        Imgproc.rectangle(mRgba,rect1,rect2,new Scalar(0, 255, 0, 255),5);\n\n        roi_rect = new Rect(mRoiX+4,mRoiY+4,mRoiWidth-8,mRoiHeight-8);\n        m_matRoi = mRgba.submat(roi_rect);\n        Mat temp = new Mat();\n        Imgproc.cvtColor(m_matRoi, temp, Imgproc.COLOR_BGRA2GRAY,0);\n        Mat temp_rgba = new Mat();\n        Imgproc.cvtColor(temp, temp_rgba, Imgproc.COLOR_GRAY2BGRA,0);\n        temp_rgba.copyTo(m_matRoi);\n\n        scalarLow=new Scalar(0,0,200);\n        scalarHigh=new Scalar(180,255,255);\n        Imgproc.cvtColor(mRgba,mat1,Imgproc.COLOR_BGR2HSV);\n\n        Core.inRange(mat1,scalarLow,scalarHigh,mat2);\n        Core.bitwise_and(mRgba,mRgba,mat1,mat2);\n        mRgba=mat2;////////////////////////////////////\n\n\n\n        \n        Imgproc.dilate(mat1,mRgba,new Mat(),new Point(1,2),2);/////////////\n\n\n\n\n        Mat edges=new Mat();\n        Imgproc.Canny(mat1,edges,90,150);//////////////////////////\n\n        Mat lines=new Mat();\n\n        Point p1=new Point();\n        Point p2=new Point();\n        double a,b;\n        double x0,y0;\n        Imgproc.HoughLinesP(edges,lines,1.0,Math.PI/180.0,50,100.0,10.0);\n\n        for(int i=0;i&lt;lines.rows();i++) {\n            double[] l = lines.get(i, 0);\n\n            Imgproc.line(mRgba, new Point(l[0], l[1]), new Point(l[2], l[3]), new Scalar(0, 0, 255.0), 3);\n           Scalar(255.0,255.0,255.0),1,Imgproc.LINE_AA,0);\n\n        }\n\n\n        return mRgba;\n    }\n\n}\n</code></pre>\n<p>Edit2) My final objective of this project is draw lines only in ROI(Region of Interest) area. Below code is about ROI. But the problem is it only shows rectangular box and lines are everywhere in my phone screen.</p>\n<pre><code>public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame){\n        mRgba=inputFrame.rgba();\n        mGray=inputFrame.gray();\n        mat3=inputFrame.rgba();\n\n\n        double m_dWscale = (double)  1/3;\n        double m_dHscale = (double) 1/4;\n        int mRoiWidth = (int)(mRgba.size().width * m_dWscale);\n        int mRoiHeight = (int)(mRgba.size().height * m_dHscale);\n\n        int mRoiX = (int) (mRgba.size().width - mRoiWidth) ;\n        int mRoiY = (int) (mRgba.size().height - mRoiHeight) ;\n\n        //rect = new Rect(mRoiX,mRoiY,mRoiWidth,mRoiHeight);\n        rect1 =new Point(mRoiX, mRoiY);\n        rect2 = new Point(mRoiWidth,mRoiHeight);\n        Imgproc.rectangle(mRgba,rect1,rect2,new Scalar(0, 255, 0, 255),5);\n\n        roi_rect = new Rect(mRoiX+4,mRoiY+4,mRoiWidth-8,mRoiHeight-8);\n        m_matRoi = mRgba.submat(roi_rect);\n        //Mat temp = new Mat();\n        //Imgproc.cvtColor(m_matRoi, temp, Imgproc.COLOR_BGRA2GRAY,0);\n        //Mat temp_rgba = new Mat();\n        //Imgproc.cvtColor(temp, temp_rgba, Imgproc.COLOR_GRAY2BGRA,0);\n        //temp_rgba.copyTo(m_matRoi);\n</code></pre>\n<p>this part is about ROI.</p>\n<p>Edit3) below code is about making mask I guess..</p>\n<pre><code>roi_rect = new Rect(mRoiX,mRoiY,mRoiWidth,mRoiHeight);\n        mat5 = mRgba.submat(roi_rect); \n        //Mat temp = new Mat();\n        //Mat temp_rgba = new Mat();\n        Imgproc.cvtColor(mRgba,mRgba,Imgproc.COLOR_BGR2GRAY); \n        Imgproc.cvtColor(mat5, mat5, Imgproc.COLOR_GRAY2BGR,0); //\n        //Imgproc.cvtColor(temp, temp_rgba, Imgproc.COLOR_GRAY2BGRA,0);\n        mat5.copyTo(mRgba);\n</code></pre>\n<p><code>roi_rect</code> 's parameters are all <code>(int)</code> and mat5 is</p>\n<pre><code>mat5 = new Mat(height,width,CvType.CV_8UC4);\n</code></pre>\n<p>I made this code firstly to make all region dark. And using <code>roi_rect</code> only that part, which means <code>mat5</code> is converted <code>GRAY2BGR</code> and then use <code>mat5.copyTo(mRgba)</code> to paste <code>mat5</code> on <code>mRgba</code>. But it shuts down when I turn on the app.</p>\n"},{"tags":["java","android","text","bitmap"],"comments":[{"owner":{"account_id":1071444,"reputation":10331,"user_id":1070591,"accept_rate":56,"display_name":"Yugandhar Babu"},"score":0,"creation_date":1328252948,"post_id":9124896,"comment_id":11467025,"body_markdown":"means you want to add text over an image file ?","body":"means you want to add text over an image file ?"},{"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"score":0,"creation_date":1328253062,"post_id":9124896,"comment_id":11467045,"body_markdown":"I have an image (.jpg) and want to add the user&#39;s text at the top center and generate a new jpg with the text included","body":"I have an image (.jpg) and want to add the user&#39;s text at the top center and generate a new jpg with the text included"},{"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"score":0,"creation_date":1328257570,"post_id":9124896,"comment_id":11467963,"body_markdown":"Thanks it is what im looking for","body":"Thanks it is what im looking for"}],"answers":[{"tags":[],"owner":{"account_id":1071444,"reputation":10331,"user_id":1070591,"accept_rate":56,"display_name":"Yugandhar Babu"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1375723940,"creation_date":1328254421,"answer_id":9125177,"question_id":9124896,"body_markdown":"Use below code to achieve your requirement\r\n\r\n        Bitmap src = BitmapFactory.decodeResource(getResources(), R.drawable.yourimage); // the original file yourimage.jpg i added in resources\r\n        Bitmap dest = Bitmap.createBitmap(src.getWidth(), src.getHeight(), Bitmap.Config.ARGB_8888);\r\n\r\n        String yourText = &quot;My custom Text adding to Image&quot;;\r\n\r\n        Canvas cs = new Canvas(dest);\r\n        Paint tPaint = new Paint();\r\n        tPaint.setTextSize(35);\r\n        tPaint.setColor(Color.BLUE);\r\n        tPaint.setStyle(Style.FILL);\r\n        cs.drawBitmap(src, 0f, 0f, null);\r\n        float height = tPaint.measureText(&quot;yY&quot;);\r\n        float width = tPaint.measureText(yourText);\r\n        float x_coord = (src.getWidth() - width)/2;\r\n        cs.drawText(yourText, x_coord, height+15f, tPaint); // 15f is to put space between top edge and the text, if you want to change it, you can\r\n        try {\r\n            dest.compress(Bitmap.CompressFormat.JPEG, 100, new FileOutputStream(new File(&quot;/sdcard/ImageAfterAddingText.jpg&quot;)));\r\n            // dest is Bitmap, if you want to preview the final image, you can display it on screen also before saving\r\n        } catch (FileNotFoundException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\nYou have to use below permission in manifest file.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nFor my device the path is `/sdcard` to access external SD card, it may vary for other devices. Some devices may have `/mnt/sdcard` may be it is for internal sd cards. Just check it while before using this code.\r\n\r\nActually I wrote the above code for some other question, which required time stamp on photo after captured from camera. I gave you the same solution with a little modifications for your specific requirement.\r\n\r\nI hope you can understand this. If you have any doubts regarding code feel free to ask.","title":"Generate a image with custom text in Android","body":"<p>Use below code to achieve your requirement</p>\n\n<pre><code>    Bitmap src = BitmapFactory.decodeResource(getResources(), R.drawable.yourimage); // the original file yourimage.jpg i added in resources\n    Bitmap dest = Bitmap.createBitmap(src.getWidth(), src.getHeight(), Bitmap.Config.ARGB_8888);\n\n    String yourText = \"My custom Text adding to Image\";\n\n    Canvas cs = new Canvas(dest);\n    Paint tPaint = new Paint();\n    tPaint.setTextSize(35);\n    tPaint.setColor(Color.BLUE);\n    tPaint.setStyle(Style.FILL);\n    cs.drawBitmap(src, 0f, 0f, null);\n    float height = tPaint.measureText(\"yY\");\n    float width = tPaint.measureText(yourText);\n    float x_coord = (src.getWidth() - width)/2;\n    cs.drawText(yourText, x_coord, height+15f, tPaint); // 15f is to put space between top edge and the text, if you want to change it, you can\n    try {\n        dest.compress(Bitmap.CompressFormat.JPEG, 100, new FileOutputStream(new File(\"/sdcard/ImageAfterAddingText.jpg\")));\n        // dest is Bitmap, if you want to preview the final image, you can display it on screen also before saving\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>You have to use below permission in manifest file.</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n\n<p>For my device the path is <code>/sdcard</code> to access external SD card, it may vary for other devices. Some devices may have <code>/mnt/sdcard</code> may be it is for internal sd cards. Just check it while before using this code.</p>\n\n<p>Actually I wrote the above code for some other question, which required time stamp on photo after captured from camera. I gave you the same solution with a little modifications for your specific requirement.</p>\n\n<p>I hope you can understand this. If you have any doubts regarding code feel free to ask.</p>\n"},{"tags":[],"owner":{"account_id":51182,"reputation":25376,"user_id":152867,"accept_rate":49,"display_name":"mudit"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1626526675,"creation_date":1328254425,"answer_id":9125178,"question_id":9124896,"body_markdown":"I am not sure this is the best solution, but it might help you.\r\n\r\nStep1: Create a relative layout (or any other layout) and set your image as its background.\r\n\r\nStep2: Now add a TextView with width and height as `match_parent` and gravity set as `top|center_horizontal`.\r\n\r\nStep3: Now add another button or any other layout control which will trigger the user confirmation. (You should place this control outside the Relative layout).\r\n\r\nStep4: If user has confirmed the image then you can take screenshot of your relative layout via following code:\r\n\r\n\r\n    v1.setDrawingCacheEnabled(true); //v1 is the object of your Relative layout\r\n\t\t\t\tBitmap bm = v1.getDrawingCache();\r\n\t\t\t\tif (bm != null) {\r\n\r\n\t\t\t\t\t//TODO: write the code for saving the image.\r\n\r\n\t\t\t\t\tToast toast = Toast.makeText(YourActivity.this, &quot;image saved&quot;,\r\n\t\t\t\t\t\t\tToast.LENGTH_LONG);\r\n\t\t\t\t\ttoast.show();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tToast toast = Toast.makeText(YourActivity.this,\r\n\t\t\t\t\t\t\t&quot;No image saved.&quot;, Toast.LENGTH_LONG);\r\n\t\t\t\t\ttoast.show();\r\n\t\t\t\t}","title":"Generate a image with custom text in Android","body":"<p>I am not sure this is the best solution, but it might help you.</p>\n<p>Step1: Create a relative layout (or any other layout) and set your image as its background.</p>\n<p>Step2: Now add a TextView with width and height as <code>match_parent</code> and gravity set as <code>top|center_horizontal</code>.</p>\n<p>Step3: Now add another button or any other layout control which will trigger the user confirmation. (You should place this control outside the Relative layout).</p>\n<p>Step4: If user has confirmed the image then you can take screenshot of your relative layout via following code:</p>\n<pre><code>v1.setDrawingCacheEnabled(true); //v1 is the object of your Relative layout\n            Bitmap bm = v1.getDrawingCache();\n            if (bm != null) {\n\n                //TODO: write the code for saving the image.\n\n                Toast toast = Toast.makeText(YourActivity.this, &quot;image saved&quot;,\n                        Toast.LENGTH_LONG);\n                toast.show();\n            } else {\n                Toast toast = Toast.makeText(YourActivity.this,\n                        &quot;No image saved.&quot;, Toast.LENGTH_LONG);\n                toast.show();\n            }\n</code></pre>\n"}],"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16239,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":9125177,"answer_count":2,"score":13,"last_activity_date":1653243698,"creation_date":1328252607,"question_id":9124896,"body_markdown":"I&#39;m trying to make an app for create custom cards. I&#39;d like to add some text over a custom background (a jpg image).\r\n\r\nWhat is the best way of doing it? I&#39;d need to show the user a preview of the card before send it to the server.\r\n\r\nThanks\r\n\r\n","title":"Generate a image with custom text in Android","body":"<p>I'm trying to make an app for create custom cards. I'd like to add some text over a custom background (a jpg image).</p>\n\n<p>What is the best way of doing it? I'd need to show the user a preview of the card before send it to the server.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","arrays","for-loop","while-loop"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653243668,"post_id":72340121,"comment_id":127798410,"body_markdown":"You&#39;re already using `O(n log n)` when you sort the array. That&#39;s a lot of time going for just preparations.","body":"You&#39;re already using <code>O(n log n)</code> when you sort the array. That&#39;s a lot of time going for just preparations."},{"owner":{"account_id":5830092,"reputation":498,"user_id":4594941,"display_name":"pirela"},"score":0,"creation_date":1653244101,"post_id":72340121,"comment_id":127798492,"body_markdown":"Add Some traces in your loop in case of Some conditions gives Infinite loop ?","body":"Add Some traces in your loop in case of Some conditions gives Infinite loop ?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1653248209,"post_id":72340121,"comment_id":127799346,"body_markdown":"@Kayaman Do you think the whole ting can be done in less than O(n log n)? My feeling is it can’t. artificialdeathinthewest, I haven’t understood the code, but the two nested loops make me worry whether the whole program is O(n^2), which it certainly needs not be.","body":"@Kayaman Do you think the whole ting can be done in less than O(n log n)? My feeling is it can’t. artificialdeathinthewest, I haven’t understood the code, but the two nested loops make me worry whether the whole program is O(n^2), which it certainly needs not be."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653250915,"post_id":72340121,"comment_id":127799896,"body_markdown":"@OleV.V. well trading space for time in small cases like 500000 numbers, we can create a frequency map and find the highest one in O(n).","body":"@OleV.V. well trading space for time in small cases like 500000 numbers, we can create a frequency map and find the highest one in O(n)."},{"owner":{"account_id":18704506,"reputation":21,"user_id":13635986,"display_name":"artificialdeathinthewest"},"score":0,"creation_date":1653315469,"post_id":72340121,"comment_id":127815484,"body_markdown":"@Kayaman thank you for the answers and insights, I didn&#39;t know that an algorithm with O(n^2) temporal complexity would cause troubles with a huge input. Unfortunately isn&#39;t about just looking for a frequency, otherwise I would&#39;ve simply used a hashmap to store the pair (int value, counter frequency) but given an int k you can increment numbers inside the array nums[] by 1 k times and return the maximum frequency you can achieve by incrementing the integers.","body":"@Kayaman thank you for the answers and insights, I didn&#39;t know that an algorithm with O(n^2) temporal complexity would cause troubles with a huge input. Unfortunately isn&#39;t about just looking for a frequency, otherwise I would&#39;ve simply used a hashmap to store the pair (int value, counter frequency) but given an int k you can increment numbers inside the array nums[] by 1 k times and return the maximum frequency you can achieve by incrementing the integers."},{"owner":{"account_id":18704506,"reputation":21,"user_id":13635986,"display_name":"artificialdeathinthewest"},"score":0,"creation_date":1653315488,"post_id":72340121,"comment_id":127815489,"body_markdown":"@OleV.V. thank you for the answers and insights, I didn&#39;t know that an algorithm with O(n^2) temporal complexity would cause troubles with a huge input. Unfortunately isn&#39;t about just looking for a frequency, otherwise I would&#39;ve simply used a hashmap to store the pair (int value, counter frequency) but given an int k you can increment numbers inside the array nums[] by 1 k times and return the maximum frequency you can achieve by incrementing the integers.","body":"@OleV.V. thank you for the answers and insights, I didn&#39;t know that an algorithm with O(n^2) temporal complexity would cause troubles with a huge input. Unfortunately isn&#39;t about just looking for a frequency, otherwise I would&#39;ve simply used a hashmap to store the pair (int value, counter frequency) but given an int k you can increment numbers inside the array nums[] by 1 k times and return the maximum frequency you can achieve by incrementing the integers."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1653319169,"post_id":72340121,"comment_id":127817060,"body_markdown":"I see. Now I also followed your link. I still think that @Kayaman’s frequency array/map is useful as long as you use a navigable map. To see how frequent you can make a number, say, 13, you also need to look at the frequencies of 12, 11, etc. until you have run out of increments you can make. Time complexity may come up in the n*k range. Whether that’s an improvement, i can’t tell.","body":"I see. Now I also followed your link. I still think that @Kayaman’s frequency array/map is useful as long as you use a navigable map. To see how frequent you can make a number, say, 13, you also need to look at the frequencies of 12, 11, etc. until you have run out of increments you can make. Time complexity may come up in the n*k range. Whether that’s an improvement, i can’t tell."}],"owner":{"account_id":18704506,"reputation":21,"user_id":13635986,"display_name":"artificialdeathinthewest"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653243545,"creation_date":1653242716,"question_id":72340121,"body_markdown":"So I was trying to solve the LeetCode question n.1838 ([Frequency of the most frequent element][1]) and it works except for a test case with an input array of 500000 elements (1 &lt;= nums.length &lt;= 10^5): it gives me TimeLimitExceeded and I don&#39;t understand why.\r\nI tried to explain my approach with comments in the code, but it&#39;s very easy: I sort the array first so I can start from the last element (the bigger one), I loop the array and for each element in the array i calculate the frequency for different cases:\r\n\r\n - if nums[i] == nums[i - 1] increment the frequency\r\n - if k &lt; nums[i] - nums[i - 1] there&#39;s no need to do anything, so i just update j to get outside of the loop\r\n - else I add to nums[i - 1] the difference so it can be nums[i], I update q and num.\r\n\r\nI then update the max frequency and once I&#39;m outside the while loop I do the same for each element of the array.\r\n\r\nHere&#39;s my method:\r\n\r\n    public int maxFrequency(int[] nums, int k) {\r\n        //corner case\r\n        if (nums.length == 1)\r\n            return 1;\r\n        \r\n        //order array\r\n        Arrays.sort(nums);\r\n        \r\n        int max = 0; \r\n        int freq = 0;\r\n        int num = 0; //will always be the int at the index - j (j will be incremented each time)\r\n        int j = 0;\r\n        \r\n        //start from the last element of the array\r\n        for (int i = nums.length - 1; i &gt;= 0; i--) {\r\n            num = nums[i - j];\r\n            int q = k;\r\n            while (q &gt;= 0 &amp;&amp; i - j &gt;= 0) {\r\n                //if element equals itself, increment frequency\r\n                if (nums[i] - num == 0) {\r\n                    freq++;\r\n                    j++;\r\n                } // if k &lt; nums[i] - num (aka even if we add k to num we won&#39;t have a new nums[i])\r\n                else if (nums[i] - num &gt; q) {\r\n                    j = i + 1; //to get out of the while loop\r\n                } else { //case where i can add k because k &gt;= nums[i] - num\r\n                    q -= nums[i] - num;\r\n                    freq++;\r\n                    j++;\r\n                } // update num only if i - j &gt; 0 so we dont have ArrayOutOfBoundException\r\n                if (i - j &gt;= 0) {\r\n                    num = nums[i - j];\r\n                } //update max frequency\r\n                max = Math.max(freq, max);\r\n            }\r\n            freq = 0;\r\n            j = 0;\r\n        }\r\n        \r\n        return max;\r\n    }\r\n\r\nAny advice or hint would be helpful, thanks in advance.\r\n\r\n\r\n  [1]: https://leetcode.com/problems/frequency-of-the-most-frequent-element/\r\n  [2]: https://leetcode.com/submissions/detail/704925026/testcase/","title":"LeetCode Java - Frequency of the most frequent element","body":"<p>So I was trying to solve the LeetCode question n.1838 (<a href=\"https://leetcode.com/problems/frequency-of-the-most-frequent-element/\" rel=\"nofollow noreferrer\">Frequency of the most frequent element</a>) and it works except for a test case with an input array of 500000 elements (1 &lt;= nums.length &lt;= 10^5): it gives me TimeLimitExceeded and I don't understand why.\nI tried to explain my approach with comments in the code, but it's very easy: I sort the array first so I can start from the last element (the bigger one), I loop the array and for each element in the array i calculate the frequency for different cases:</p>\n<ul>\n<li>if nums[i] == nums[i - 1] increment the frequency</li>\n<li>if k &lt; nums[i] - nums[i - 1] there's no need to do anything, so i just update j to get outside of the loop</li>\n<li>else I add to nums[i - 1] the difference so it can be nums[i], I update q and num.</li>\n</ul>\n<p>I then update the max frequency and once I'm outside the while loop I do the same for each element of the array.</p>\n<p>Here's my method:</p>\n<pre><code>public int maxFrequency(int[] nums, int k) {\n    //corner case\n    if (nums.length == 1)\n        return 1;\n    \n    //order array\n    Arrays.sort(nums);\n    \n    int max = 0; \n    int freq = 0;\n    int num = 0; //will always be the int at the index - j (j will be incremented each time)\n    int j = 0;\n    \n    //start from the last element of the array\n    for (int i = nums.length - 1; i &gt;= 0; i--) {\n        num = nums[i - j];\n        int q = k;\n        while (q &gt;= 0 &amp;&amp; i - j &gt;= 0) {\n            //if element equals itself, increment frequency\n            if (nums[i] - num == 0) {\n                freq++;\n                j++;\n            } // if k &lt; nums[i] - num (aka even if we add k to num we won't have a new nums[i])\n            else if (nums[i] - num &gt; q) {\n                j = i + 1; //to get out of the while loop\n            } else { //case where i can add k because k &gt;= nums[i] - num\n                q -= nums[i] - num;\n                freq++;\n                j++;\n            } // update num only if i - j &gt; 0 so we dont have ArrayOutOfBoundException\n            if (i - j &gt;= 0) {\n                num = nums[i - j];\n            } //update max frequency\n            max = Math.max(freq, max);\n        }\n        freq = 0;\n        j = 0;\n    }\n    \n    return max;\n}\n</code></pre>\n<p>Any advice or hint would be helpful, thanks in advance.</p>\n"},{"tags":["java","android","android-recyclerview","android-adapter"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1653217647,"post_id":72336995,"comment_id":127792821,"body_markdown":"ClassCast that means that you try to do something like Person p = new Person(); String a = (String)p; -&gt; a Person doesn&#39;t have an is-a relationship with String, so you can&#39;t cast it. You&#39;ll need to check your code and remove the invalid cast","body":"ClassCast that means that you try to do something like Person p = new Person(); String a = (String)p; -&gt; a Person doesn&#39;t have an is-a relationship with String, so you can&#39;t cast it. You&#39;ll need to check your code and remove the invalid cast"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1653224544,"post_id":72336995,"comment_id":127794129,"body_markdown":"Where do you create your adapter?  It looks like you intend on the adapter to implement `ReactionListener` given the override of `onReactionSelected`.  If so then this line needs some work: `listener = (ReactionListener)activity;` - since an `Activity ` is not  a `ReactionListerner` then this won&#39;t work - without seeing more code I _guess_ what you want is to create the adapter (or have access to it) in the `ReactionsDialog` and then the `onAttach` either is not needed or you create the adapter there.  Once `listerner` is initialized to the adapter instance - it should be good.","body":"Where do you create your adapter?  It looks like you intend on the adapter to implement <code>ReactionListener</code> given the override of <code>onReactionSelected</code>.  If so then this line needs some work: <code>listener = (ReactionListener)activity;</code> - since an <code>Activity </code> is not  a <code>ReactionListerner</code> then this won&#39;t work - without seeing more code I <i>guess</i> what you want is to create the adapter (or have access to it) in the <code>ReactionsDialog</code> and then the <code>onAttach</code> either is not needed or you create the adapter there.  Once <code>listerner</code> is initialized to the adapter instance - it should be good."},{"owner":{"account_id":21644177,"reputation":81,"user_id":17483997,"display_name":"Brad Cruise"},"score":0,"creation_date":1653225699,"post_id":72336995,"comment_id":127794357,"body_markdown":"@Stultuske I can&#39;t understand how that works. Can you please explain that with more details?","body":"@Stultuske I can&#39;t understand how that works. Can you please explain that with more details?"},{"owner":{"account_id":21644177,"reputation":81,"user_id":17483997,"display_name":"Brad Cruise"},"score":0,"creation_date":1653225761,"post_id":72336995,"comment_id":127794371,"body_markdown":"@Gardener What do you need to see? In the adapter I implement ReactionListener. What else do I have to do?","body":"@Gardener What do you need to see? In the adapter I implement ReactionListener. What else do I have to do?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1653226351,"post_id":72336995,"comment_id":127794479,"body_markdown":"I&#39;ll ask it again: where do you create your adapter?  The `listener` variable should be assigned to the adapter you create.","body":"I&#39;ll ask it again: where do you create your adapter?  The <code>listener</code> variable should be assigned to the adapter you create."},{"owner":{"account_id":21644177,"reputation":81,"user_id":17483997,"display_name":"Brad Cruise"},"score":0,"creation_date":1653226581,"post_id":72336995,"comment_id":127794537,"body_markdown":"@Gardener The adapter existed before I create the dialog because I have a recyclerview. However, If I understand what you mean I haven&#39;t created any function inside my dialog that activates the adapter.","body":"@Gardener The adapter existed before I create the dialog because I have a recyclerview. However, If I understand what you mean I haven&#39;t created any function inside my dialog that activates the adapter."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1653226891,"post_id":72336995,"comment_id":127794621,"body_markdown":"Your fragment has clickable views which, if clicked, invoke the `listener` which it appears you intend to be the adapter (since you did not include all of the adapter code I can only assume it has an `implements ReactionListener`).  Given this the `listener` variable in the fragment _must_ be set to the adapter instance - which is why I&#39;m asking where is the adapter created.","body":"Your fragment has clickable views which, if clicked, invoke the <code>listener</code> which it appears you intend to be the adapter (since you did not include all of the adapter code I can only assume it has an <code>implements ReactionListener</code>).  Given this the <code>listener</code> variable in the fragment <i>must</i> be set to the adapter instance - which is why I&#39;m asking where is the adapter created."},{"owner":{"account_id":21644177,"reputation":81,"user_id":17483997,"display_name":"Brad Cruise"},"score":0,"creation_date":1653228302,"post_id":72336995,"comment_id":127794958,"body_markdown":"@Gardener So, if I understand you mean that I hav eto add the onAttach inside the adapter, right? The adapter is created in another file inside the app. I don&#39;t know what you mean with where it is created. I hope I answered your question.","body":"@Gardener So, if I understand you mean that I hav eto add the onAttach inside the adapter, right? The adapter is created in another file inside the app. I don&#39;t know what you mean with where it is created. I hope I answered your question."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1653236166,"post_id":72336995,"comment_id":127796683,"body_markdown":"After looking at video - it looks like you may have skipped a portion - at around 16:41 it shows the `MainActivity` implementing `ReactionsListener` - do you have that","body":"After looking at video - it looks like you may have skipped a portion - at around 16:41 it shows the <code>MainActivity</code> implementing <code>ReactionsListener</code> - do you have that"},{"owner":{"account_id":21644177,"reputation":81,"user_id":17483997,"display_name":"Brad Cruise"},"score":0,"creation_date":1653236839,"post_id":72336995,"comment_id":127796832,"body_markdown":"@Gardener Yes, I have that in my adapter.","body":"@Gardener Yes, I have that in my adapter."},{"owner":{"account_id":21644177,"reputation":81,"user_id":17483997,"display_name":"Brad Cruise"},"score":0,"creation_date":1653238193,"post_id":72336995,"comment_id":127797152,"body_markdown":"@Gardener Do you want to open a chat?","body":"@Gardener Do you want to open a chat?"},{"owner":{"account_id":21644177,"reputation":81,"user_id":17483997,"display_name":"Brad Cruise"},"score":0,"creation_date":1653239137,"post_id":72336995,"comment_id":127797378,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/244940/discussion-between-brad-cruise-and-gardener).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/244940/discussion-between-brad-cruise-and-gardener\">continue this discussion in chat</a>."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653287775,"post_id":72336995,"comment_id":127805170,"body_markdown":"@BradCruise it&#39;s no use trying to write more complex code if you don&#39;t understand the basics of the language. Start at the beginning.","body":"@BradCruise it&#39;s no use trying to write more complex code if you don&#39;t understand the basics of the language. Start at the beginning."},{"owner":{"account_id":21644177,"reputation":81,"user_id":17483997,"display_name":"Brad Cruise"},"score":0,"creation_date":1653289179,"post_id":72336995,"comment_id":127805569,"body_markdown":"@Stultuske Okay.","body":"@Stultuske Okay."}],"owner":{"account_id":21644177,"reputation":81,"user_id":17483997,"display_name":"Brad Cruise"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653243126,"creation_date":1653217573,"question_id":72336995,"body_markdown":"I followed this [video](https://www.youtube.com/watch?v=gu5eOgfbrSc&amp;t=1050s) in order to create a reaction dialog but I get this error ```java.lang.ClassCastException: com.example.app.Activities.MainActivity@cbb7134\r\n        at com.example.app.ReactionsPackage.ReactionsDialog.onAttach(ReactionsDialog.java:101)```.\r\n\r\nThis is my ReactionDialog:\r\n\r\n    public class ReactionsDialog extends DialogFragment implements View.OnClickListener{\r\n    \r\n        View view;\r\n        ImageView like, love, haha, glimpse, wow;\r\n    \r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            view = inflater.inflate(R.layout.dialog_reactions, container, false);\r\n            initializeComponents();\r\n            return view;\r\n        }\r\n    \r\n        private void initializeComponents() {\r\n            if (getView() == null)return;\r\n            like = getView().findViewById(R.id.likeReaction);\r\n            love = getView().findViewById(R.id.loveReaction);\r\n            haha = getView().findViewById(R.id.hahaReaction);\r\n            glimpse = getView().findViewById(R.id.eyeCloseReaction);\r\n            wow = getView().findViewById(R.id.wowReaction);\r\n    \r\n            //Set click listeners\r\n            like.setOnClickListener(this);\r\n            love.setOnClickListener(this);\r\n            haha.setOnClickListener(this);\r\n            glimpse.setOnClickListener(this);\r\n            wow.setOnClickListener(this);\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public View getView() {\r\n            return view;\r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View v) {\r\n            switch (v.getId()){\r\n                case R.id.likeReaction:\r\n                    listener.onReactionSelected(0);\r\n                    getDialog().dismiss();\r\n                    break;\r\n                case R.id.loveReaction:\r\n                    listener.onReactionSelected(1);\r\n                    getDialog().dismiss();\r\n                    break;\r\n                case R.id.hahaReaction:\r\n                    listener.onReactionSelected(2);\r\n                    getDialog().dismiss();\r\n                    break;\r\n                case R.id.eyeCloseReaction:\r\n                    listener.onReactionSelected(3);\r\n                    getDialog().dismiss();\r\n                    break;\r\n                case R.id.wowReaction:\r\n                    listener.onReactionSelected(4);\r\n                    getDialog().dismiss();\r\n                    break;\r\n            }\r\n        }\r\n    \r\n        @SuppressLint(&quot;RestrictedApi&quot;)\r\n        @Override\r\n        public void setupDialog(@NonNull Dialog dialog, int style) {\r\n            super.setupDialog(dialog, style);\r\n            WindowManager.LayoutParams manager = new WindowManager.LayoutParams();\r\n            manager.width = WindowManager.LayoutParams.MATCH_PARENT;\r\n            manager.height = WindowManager.LayoutParams.WRAP_CONTENT;\r\n            manager.dimAmount = 0.0f;\r\n            dialog.getWindow().getDecorView().setBackground(getResources().getDrawable(android.R.color.transparent));\r\n            dialog.setCanceledOnTouchOutside(true);\r\n            dialog.onBackPressed();\r\n        }\r\n    \r\n        ReactionListener listener;\r\n    \r\n        @Override\r\n        public void onAttach(@NonNull Activity activity) {\r\n            super.onAttach(activity);\r\n            try {\r\n                listener = (ReactionListener)activity;\r\n            }catch (ClassCastException exception) {\r\n                throw new ClassCastException(activity.toString());\r\n            }\r\n        }\r\n    }\r\n\r\nThis is my ReactionListener:\r\n\r\n    public interface ReactionListener {\r\n        void onReactionSelected(int reactionType);\r\n    }\r\n\r\nAnd this is what I have done in my adapter:\r\n\r\n    holder.like.setOnLongClickListener(new View.OnLongClickListener() {\r\n                @Override\r\n                public boolean onLongClick(View v) {\r\n                    getReactionDialog();\r\n                    return false;\r\n                }\r\n            });\r\n    \r\n    private DialogFragment getReactionDialog(){\r\n            ReactionsDialog reactionsDialog = new ReactionsDialog();\r\n            reactionsDialog.show(((AppCompatActivity)context).getSupportFragmentManager(), reactionsDialog.getClass().getSimpleName());\r\n            return reactionsDialog;\r\n        }\r\n    \r\n        @Override\r\n        public void onReactionSelected(int reactionType) {\r\n            switch (reactionType) {\r\n                case 0:\r\n                    Toast.makeText(context, &quot;You liked the post.&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case 1:\r\n                    Toast.makeText(context, &quot;You loved the post.&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case 2:\r\n                    Toast.makeText(context, &quot;You hahahed the post.&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case 3:\r\n                    Toast.makeText(context, &quot;You closed your eye to the post.&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case 4:\r\n                    Toast.makeText(context, &quot;You wowed the post.&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n            }\r\n        }\r\n\r\n\r\nI think the error shows up because I call the dialog from an adapter and not from activity as it is shown in the video. So, should I change something in the onAttach function? What should I do? Thanks in advance!! Any answer will be appreciated.\r\n\r\n**EDIT:** I tried to delete the ```onAttach``` method and it shows up the dialog. However, there comes a new error. The new error is this: \r\n\r\n    java.lang.NullPointerException: Attempt to invoke interface method &#39;void com.example.app.ReactionsPackage.ReactionListener.onReactionSelected(int)&#39; on a null object reference\r\n            at com.example.app.ReactionsPackage.ReactionsDialog.onClick(ReactionsDialog.java:58)\r\n\r\nI guess this means that I need the onAttach but I have to add something that is missing, right?\r\n\r\n**EDIT 2:** I tried exactly the same code but in activity instead of adapter and it worked. So, as I can see the problem is somewhere in ```onAttach``` as it cannot be called from the adapter. So, what should I do instead of that? Any answer will be appreciated. Thanks in advance!","title":"How to add onAttach in adapter in Android Studio?","body":"<p>I followed this <a href=\"https://www.youtube.com/watch?v=gu5eOgfbrSc&amp;t=1050s\" rel=\"nofollow noreferrer\">video</a> in order to create a reaction dialog but I get this error <code>java.lang.ClassCastException: com.example.app.Activities.MainActivity@cbb7134 at com.example.app.ReactionsPackage.ReactionsDialog.onAttach(ReactionsDialog.java:101)</code>.</p>\n<p>This is my ReactionDialog:</p>\n<pre><code>public class ReactionsDialog extends DialogFragment implements View.OnClickListener{\n\n    View view;\n    ImageView like, love, haha, glimpse, wow;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        view = inflater.inflate(R.layout.dialog_reactions, container, false);\n        initializeComponents();\n        return view;\n    }\n\n    private void initializeComponents() {\n        if (getView() == null)return;\n        like = getView().findViewById(R.id.likeReaction);\n        love = getView().findViewById(R.id.loveReaction);\n        haha = getView().findViewById(R.id.hahaReaction);\n        glimpse = getView().findViewById(R.id.eyeCloseReaction);\n        wow = getView().findViewById(R.id.wowReaction);\n\n        //Set click listeners\n        like.setOnClickListener(this);\n        love.setOnClickListener(this);\n        haha.setOnClickListener(this);\n        glimpse.setOnClickListener(this);\n        wow.setOnClickListener(this);\n    }\n\n    @Nullable\n    @Override\n    public View getView() {\n        return view;\n    }\n\n    @Override\n    public void onClick(View v) {\n        switch (v.getId()){\n            case R.id.likeReaction:\n                listener.onReactionSelected(0);\n                getDialog().dismiss();\n                break;\n            case R.id.loveReaction:\n                listener.onReactionSelected(1);\n                getDialog().dismiss();\n                break;\n            case R.id.hahaReaction:\n                listener.onReactionSelected(2);\n                getDialog().dismiss();\n                break;\n            case R.id.eyeCloseReaction:\n                listener.onReactionSelected(3);\n                getDialog().dismiss();\n                break;\n            case R.id.wowReaction:\n                listener.onReactionSelected(4);\n                getDialog().dismiss();\n                break;\n        }\n    }\n\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    @Override\n    public void setupDialog(@NonNull Dialog dialog, int style) {\n        super.setupDialog(dialog, style);\n        WindowManager.LayoutParams manager = new WindowManager.LayoutParams();\n        manager.width = WindowManager.LayoutParams.MATCH_PARENT;\n        manager.height = WindowManager.LayoutParams.WRAP_CONTENT;\n        manager.dimAmount = 0.0f;\n        dialog.getWindow().getDecorView().setBackground(getResources().getDrawable(android.R.color.transparent));\n        dialog.setCanceledOnTouchOutside(true);\n        dialog.onBackPressed();\n    }\n\n    ReactionListener listener;\n\n    @Override\n    public void onAttach(@NonNull Activity activity) {\n        super.onAttach(activity);\n        try {\n            listener = (ReactionListener)activity;\n        }catch (ClassCastException exception) {\n            throw new ClassCastException(activity.toString());\n        }\n    }\n}\n</code></pre>\n<p>This is my ReactionListener:</p>\n<pre><code>public interface ReactionListener {\n    void onReactionSelected(int reactionType);\n}\n</code></pre>\n<p>And this is what I have done in my adapter:</p>\n<pre><code>holder.like.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View v) {\n                getReactionDialog();\n                return false;\n            }\n        });\n\nprivate DialogFragment getReactionDialog(){\n        ReactionsDialog reactionsDialog = new ReactionsDialog();\n        reactionsDialog.show(((AppCompatActivity)context).getSupportFragmentManager(), reactionsDialog.getClass().getSimpleName());\n        return reactionsDialog;\n    }\n\n    @Override\n    public void onReactionSelected(int reactionType) {\n        switch (reactionType) {\n            case 0:\n                Toast.makeText(context, &quot;You liked the post.&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            case 1:\n                Toast.makeText(context, &quot;You loved the post.&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            case 2:\n                Toast.makeText(context, &quot;You hahahed the post.&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            case 3:\n                Toast.makeText(context, &quot;You closed your eye to the post.&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            case 4:\n                Toast.makeText(context, &quot;You wowed the post.&quot;, Toast.LENGTH_SHORT).show();\n                break;\n        }\n    }\n</code></pre>\n<p>I think the error shows up because I call the dialog from an adapter and not from activity as it is shown in the video. So, should I change something in the onAttach function? What should I do? Thanks in advance!! Any answer will be appreciated.</p>\n<p><strong>EDIT:</strong> I tried to delete the <code>onAttach</code> method and it shows up the dialog. However, there comes a new error. The new error is this:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke interface method 'void com.example.app.ReactionsPackage.ReactionListener.onReactionSelected(int)' on a null object reference\n        at com.example.app.ReactionsPackage.ReactionsDialog.onClick(ReactionsDialog.java:58)\n</code></pre>\n<p>I guess this means that I need the onAttach but I have to add something that is missing, right?</p>\n<p><strong>EDIT 2:</strong> I tried exactly the same code but in activity instead of adapter and it worked. So, as I can see the problem is somewhere in <code>onAttach</code> as it cannot be called from the adapter. So, what should I do instead of that? Any answer will be appreciated. Thanks in advance!</p>\n"},{"tags":["java","ruby","elasticsearch","logstash","filebeat"],"answers":[{"tags":[],"owner":{"account_id":25236324,"reputation":71,"user_id":19070774,"display_name":"Ibra013"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653242593,"creation_date":1653242593,"answer_id":72340104,"question_id":72339645,"body_markdown":"Kindly to check the filebeat yml file as there an issue with indentation\r\n\r\nfilebeat [documentation][1]\r\n\r\n    \r\n\r\n    filebeat.inputs:\r\n    - type: log\r\n      paths:\r\n        - /var/log/messages\r\n        - /var/log/*.log\r\n\r\nyour filebeat\r\n\r\n    filebeat.inputs:\r\n       - type: log\r\n         enabled: true\r\n         paths:\r\n               -C:/ELK Stack/filebeat-8.2.0-windows-x86_64/filebeat-8.2.0-windows-x86_64/Test.csv\r\n    \r\n    output.logstash:\r\n    hosts: [&quot;localhost:5044&quot;]\r\n\r\n\r\nand for information [log input is deprecated][2], instead use [filesream input][3] \r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-log.html\r\n  [2]: https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-log.html#filebeat-input-log\r\n  [3]: https://www.elastic.co/guide/en/beats/filebeat/8.2/filebeat-input-filestream.html","title":"File beat is not transferring data to logstash","body":"<p>Kindly to check the filebeat yml file as there an issue with indentation</p>\n<p>filebeat <a href=\"https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-log.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n<pre><code>filebeat.inputs:\n- type: log\n  paths:\n    - /var/log/messages\n    - /var/log/*.log\n</code></pre>\n<p>your filebeat</p>\n<pre><code>filebeat.inputs:\n   - type: log\n     enabled: true\n     paths:\n           -C:/ELK Stack/filebeat-8.2.0-windows-x86_64/filebeat-8.2.0-windows-x86_64/Test.csv\n\noutput.logstash:\nhosts: [&quot;localhost:5044&quot;]\n</code></pre>\n<p>and for information <a href=\"https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-log.html#filebeat-input-log\" rel=\"nofollow noreferrer\">log input is deprecated</a>, instead use <a href=\"https://www.elastic.co/guide/en/beats/filebeat/8.2/filebeat-input-filestream.html\" rel=\"nofollow noreferrer\">filesream input</a></p>\n"}],"owner":{"account_id":6234168,"reputation":374,"user_id":4849970,"accept_rate":94,"display_name":"abhi312"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72340104,"answer_count":1,"score":0,"last_activity_date":1653242593,"creation_date":1653238971,"question_id":72339645,"body_markdown":"Beat input is not transferring to logstash. I have provided filebeat and logstash configuration files below.\r\n\r\nInput Test.cs file\r\n\r\n\r\n    Date,Open,High,Low,Close,Volume,Adj Close\r\n    2015-04-02,125.03,125.56,124.19,125.32,32120700,125.32\r\n    2015-04-01,124.82,125.12,123.10,124.25,40359200,124.25\r\n\r\nfilebeat.yml\r\n\r\n    filebeat.inputs:\r\n       - type: log\r\n         enabled: true\r\n         paths:\r\n               -C:/ELK Stack/filebeat-8.2.0-windows-x86_64/filebeat-8.2.0-windows-x86_64/Test.csv\r\n\r\n    output.logstash:\r\n    hosts: [&quot;localhost:5044&quot;]\r\n\r\nlogstash.conf\r\n\r\n    input {\r\n       beats {\r\n          port =&gt; 5044\r\n       }\r\n    }\r\n    filter {\r\n         csv {\r\n            separator =&gt; &quot;,&quot;\r\n            columns =&gt; [&quot;Date&quot;,&quot;Open&quot;,&quot;High&quot;,&quot;Low&quot;,&quot;Close&quot;,&quot;Volume&quot;,&quot;Adj Close&quot;]\r\n     }\r\n     mutate {convert =&gt; [&quot;High&quot;, &quot;float&quot;]}\r\n     mutate {convert =&gt; [&quot;Open&quot;, &quot;float&quot;]}\r\n     mutate {convert =&gt; [&quot;Low&quot;, &quot;float&quot;]}\r\n     mutate {convert =&gt; [&quot;Close&quot;, &quot;float&quot;]}\r\n     mutate {convert =&gt; [&quot;Volume&quot;, &quot;float&quot;]}\r\n    }\r\n    output {  \r\n        stdout {}\r\n    }","title":"File beat is not transferring data to logstash","body":"<p>Beat input is not transferring to logstash. I have provided filebeat and logstash configuration files below.</p>\n<p>Input Test.cs file</p>\n<pre><code>Date,Open,High,Low,Close,Volume,Adj Close\n2015-04-02,125.03,125.56,124.19,125.32,32120700,125.32\n2015-04-01,124.82,125.12,123.10,124.25,40359200,124.25\n</code></pre>\n<p>filebeat.yml</p>\n<pre><code>filebeat.inputs:\n   - type: log\n     enabled: true\n     paths:\n           -C:/ELK Stack/filebeat-8.2.0-windows-x86_64/filebeat-8.2.0-windows-x86_64/Test.csv\n\noutput.logstash:\nhosts: [&quot;localhost:5044&quot;]\n</code></pre>\n<p>logstash.conf</p>\n<pre><code>input {\n   beats {\n      port =&gt; 5044\n   }\n}\nfilter {\n     csv {\n        separator =&gt; &quot;,&quot;\n        columns =&gt; [&quot;Date&quot;,&quot;Open&quot;,&quot;High&quot;,&quot;Low&quot;,&quot;Close&quot;,&quot;Volume&quot;,&quot;Adj Close&quot;]\n }\n mutate {convert =&gt; [&quot;High&quot;, &quot;float&quot;]}\n mutate {convert =&gt; [&quot;Open&quot;, &quot;float&quot;]}\n mutate {convert =&gt; [&quot;Low&quot;, &quot;float&quot;]}\n mutate {convert =&gt; [&quot;Close&quot;, &quot;float&quot;]}\n mutate {convert =&gt; [&quot;Volume&quot;, &quot;float&quot;]}\n}\noutput {  \n    stdout {}\n}\n</code></pre>\n"},{"tags":["java","spring","eclipse","spring-boot"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1653242169,"post_id":72339915,"comment_id":127798068,"body_markdown":"To start with, you shouldn&#39;t be using the &quot;Maven target&quot; (a sledgehammer) instead of running your main class as a regular Java application (a scalpel) or using Run As Spring Boot App with the Spring Tools plugins/Eclipse distribution (a singing-and-dancing scalpel).","body":"To start with, you shouldn&#39;t be using the &quot;Maven target&quot; (a sledgehammer) instead of running your main class as a regular Java application (a scalpel) or using Run As Spring Boot App with the Spring Tools plugins/Eclipse distribution (a singing-and-dancing scalpel)."}],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653241862,"creation_date":1653241862,"answer_id":72340011,"question_id":72339915,"body_markdown":"I think that you can just add this to your properties file\r\n\r\n    server.servlet.context-path=/demo","title":"Run Spring Boot Project with base directory - localhost:8080/demo/","body":"<p>I think that you can just add this to your properties file</p>\n<pre><code>server.servlet.context-path=/demo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19393232,"reputation":25,"user_id":14181427,"display_name":"mateusz-tbh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653242177,"creation_date":1653242177,"answer_id":72340052,"question_id":72339915,"body_markdown":"In your controller by annotation `@RequestMapping(path = &quot;/demo&quot;)` or by annotation on method `@GetMapping(&quot;/demo&quot;)`","title":"Run Spring Boot Project with base directory - localhost:8080/demo/","body":"<p>In your controller by annotation <code>@RequestMapping(path = &quot;/demo&quot;)</code> or by annotation on method <code>@GetMapping(&quot;/demo&quot;)</code></p>\n"}],"owner":{"account_id":5624486,"reputation":415,"user_id":6092097,"accept_rate":50,"display_name":"Jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72340011,"answer_count":2,"score":0,"last_activity_date":1653242177,"creation_date":1653241019,"question_id":72339915,"body_markdown":"I have setup a run configuration in eclipse but it&#39;s running in localhost:8080 but I want it to run in localhost:8080/demo/ but it&#39;s not working. I have attached the run configuration and application properties file\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\ncan anyone help me to run spring boot project in localhost:8080/demo/\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6HsQX.png\r\n  [2]: https://i.stack.imgur.com/ESLkZ.png","title":"Run Spring Boot Project with base directory - localhost:8080/demo/","body":"<p>I have setup a run configuration in eclipse but it's running in localhost:8080 but I want it to run in localhost:8080/demo/ but it's not working. I have attached the run configuration and application properties file\n<a href=\"https://i.stack.imgur.com/6HsQX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6HsQX.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ESLkZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ESLkZ.png\" alt=\"enter image description here\" /></a></p>\n<p>can anyone help me to run spring boot project in localhost:8080/demo/</p>\n"},{"tags":["java","string","algorithm","for-loop","recurring"],"comments":[{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1653226686,"post_id":72338030,"comment_id":127794559,"body_markdown":"Just to clarify, *two for loops* are an requirement? Just making sure cause that is an rather slow implementation and there are simple faster implementations.","body":"Just to clarify, <i>two for loops</i> are an requirement? Just making sure cause that is an rather slow implementation and there are simple faster implementations."},{"owner":{"account_id":1197724,"reputation":4404,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":1,"creation_date":1653226741,"post_id":72338030,"comment_id":127794575,"body_markdown":"The &#39;s&#39; appears first in the test word, then the inner loop scans the remainder of the test word for another &#39;s&#39;. You need to redefine what &quot;recurring sooner&quot; means.","body":"The &#39;s&#39; appears first in the test word, then the inner loop scans the remainder of the test word for another &#39;s&#39;. You need to redefine what &quot;recurring sooner&quot; means."},{"owner":{"account_id":15449353,"reputation":13,"user_id":11145259,"display_name":"PanicKk"},"score":0,"creation_date":1653226847,"post_id":72338030,"comment_id":127794601,"body_markdown":"@Mushroomator yes, It is a requirement of my &quot;ADS&quot; class, to implement 3 &quot;algorithms&quot;,\n1. using 2 for loops or naive method (O(n^2))\n2. using an early exit from the loop\n3. using dictionaries or sets","body":"@Mushroomator yes, It is a requirement of my &quot;ADS&quot; class, to implement 3 &quot;algorithms&quot;, 1. using 2 for loops or naive method (O(n^2)) 2. using an early exit from the loop 3. using dictionaries or sets"},{"owner":{"account_id":15449353,"reputation":13,"user_id":11145259,"display_name":"PanicKk"},"score":0,"creation_date":1653226953,"post_id":72338030,"comment_id":127794636,"body_markdown":"@nicomp By recurring sooner I mean which one recurs first:\n**s**tati**s**tics - 4 steps\ns**t**a**t**istics - 1 steps","body":"@nicomp By recurring sooner I mean which one recurs first: <b>s</b>tati<b>s</b>tics - 4 steps s<b>t</b>a<b>t</b>istics - 1 steps"},{"owner":{"account_id":1197724,"reputation":4404,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":1,"creation_date":1653228138,"post_id":72338030,"comment_id":127794928,"body_markdown":"Then your algorithm is incorrect. You need to take a step back and redesign the algo. The code isn&#39;t wrong, it just doesn&#39;t do what you think it should be doing. Design, then code.","body":"Then your algorithm is incorrect. You need to take a step back and redesign the algo. The code isn&#39;t wrong, it just doesn&#39;t do what you think it should be doing. Design, then code."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653232426,"creation_date":1653227899,"answer_id":72338253,"question_id":72338030,"body_markdown":"You can reduce eliminate the nested loop and improve the performance by storing every encountered character in a `HashSet`:\r\n\r\n    public static char FRL(String word){\r\n        Set&lt;Character&gt; seen = new HashSet&lt;&gt;();\r\n        for(int i = 0; i &lt; word.length(); i++) {\r\n            char next = word.charAt(i);\r\n            if (!seen.add(next)) {\r\n                return next;\r\n            }\r\n        }\r\n        return &#39;0&#39;;\r\n    }\r\n\r\nBut if you have a requirement to use a nested loop, then you should fix the *initialization expression* and *condition* of the inner `for` loop, i.e. we should be check characters starting from index `0` inclusive and up to index `i` exclusive:\r\n\r\n    public static char FRL(String word) {\r\n        for(int i = 0; i &lt; word.length(); i++) {\r\n            char next = word.charAt(i);\r\n            for(int j = 0; j &lt; i; j++){\r\n                if(next == word.charAt(j)) {\r\n                    return next;\r\n                }\r\n            }\r\n        }\r\n        return &#39;0&#39;;\r\n    }\r\n\r\nBy the way, `getFirstRecuringLetter()` would be a better method name than `FRL`.","title":"Find the first Recurring letter in Java","body":"<p>You can reduce eliminate the nested loop and improve the performance by storing every encountered character in a <code>HashSet</code>:</p>\n<pre><code>public static char FRL(String word){\n    Set&lt;Character&gt; seen = new HashSet&lt;&gt;();\n    for(int i = 0; i &lt; word.length(); i++) {\n        char next = word.charAt(i);\n        if (!seen.add(next)) {\n            return next;\n        }\n    }\n    return '0';\n}\n</code></pre>\n<p>But if you have a requirement to use a nested loop, then you should fix the <em>initialization expression</em> and <em>condition</em> of the inner <code>for</code> loop, i.e. we should be check characters starting from index <code>0</code> inclusive and up to index <code>i</code> exclusive:</p>\n<pre><code>public static char FRL(String word) {\n    for(int i = 0; i &lt; word.length(); i++) {\n        char next = word.charAt(i);\n        for(int j = 0; j &lt; i; j++){\n            if(next == word.charAt(j)) {\n                return next;\n            }\n        }\n    }\n    return '0';\n}\n</code></pre>\n<p>By the way, <code>getFirstRecuringLetter()</code> would be a better method name than <code>FRL</code>.</p>\n"}],"owner":{"account_id":15449353,"reputation":13,"user_id":11145259,"display_name":"PanicKk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72338253,"answer_count":1,"score":1,"last_activity_date":1653241994,"creation_date":1653226392,"question_id":72338030,"body_markdown":"I wrote the code as follows but it doesn&#39;t return the first recurring letter properly.\r\n\r\n*Example:* \r\n\r\nIn the word `&quot;statistics&quot;` the recurring letters are `s`, `t`, and `i`. But the letter `t` recurs sooner than the letter `s` and `i`, but my program returns `s` instead of `t`. \r\n\r\nWhat do I need to do for it to return `t`, using **two for loops**, as per the task in hand?\r\n\r\n```java\r\npublic class Main {\r\n    public static char FRL(String word){\r\n        for(int i = 0; i&lt;word.length(); i++){\r\n            for(int j = i+1; j&lt;word.length(); j++){\r\n                if(word.charAt(i) == word.charAt(j)){\r\n                    return word.charAt(i);\r\n                }\r\n            }\r\n        }\r\n        return &#39;0&#39;;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String word = &quot;statistics&quot;;\r\n        if (FRL(word) != &#39;0&#39;){\r\n            System.out.println(FRL(word));\r\n        }else{\r\n            System.out.println(&quot;No reccurring letter!&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"Find the first Recurring letter in Java","body":"<p>I wrote the code as follows but it doesn't return the first recurring letter properly.</p>\n<p><em>Example:</em></p>\n<p>In the word <code>&quot;statistics&quot;</code> the recurring letters are <code>s</code>, <code>t</code>, and <code>i</code>. But the letter <code>t</code> recurs sooner than the letter <code>s</code> and <code>i</code>, but my program returns <code>s</code> instead of <code>t</code>.</p>\n<p>What do I need to do for it to return <code>t</code>, using <strong>two for loops</strong>, as per the task in hand?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static char FRL(String word){\n        for(int i = 0; i&lt;word.length(); i++){\n            for(int j = i+1; j&lt;word.length(); j++){\n                if(word.charAt(i) == word.charAt(j)){\n                    return word.charAt(i);\n                }\n            }\n        }\n        return '0';\n    }\n\n    public static void main(String[] args) {\n        String word = &quot;statistics&quot;;\n        if (FRL(word) != '0'){\n            System.out.println(FRL(word));\n        }else{\n            System.out.println(&quot;No reccurring letter!&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1653241705,"post_id":72339966,"comment_id":127797958,"body_markdown":"You can also use `Arrays.toString` to print the array without manually having to write the loop.","body":"You can also use <code>Arrays.toString</code> to print the array without manually having to write the loop."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1653241740,"post_id":72339966,"comment_id":127797970,"body_markdown":"https://stackoverflow.com/q/29140402/438992","body":"<a href=\"https://stackoverflow.com/q/29140402/438992\">stackoverflow.com/q/29140402/438992</a>"}],"answers":[{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1653241805,"creation_date":1653241805,"answer_id":72339999,"question_id":72339966,"body_markdown":"The `println(Object)` method invokes `Object::toString` on its parameter, so you are really asking about the meaning of the `toString` method on arrays.  And arrays do not override `toString`, so the result comes from the implementation of `toString` in `Object`.  \r\n\r\nThe default implementation of `toString` includes the name of the object&#39;s class and a numeric representation derived from its object identity.  In the absence of a better `toString`, this allows you to see the object&#39;s type, as well as be able to differentiate different instances (since they&#39;ll have different identities).  This is a &quot;least common denominator&quot; approach; it is a reasonable minimum the system can provide.  ","title":"What does the output of explicitly printing an array in java mean?","body":"<p>The <code>println(Object)</code> method invokes <code>Object::toString</code> on its parameter, so you are really asking about the meaning of the <code>toString</code> method on arrays.  And arrays do not override <code>toString</code>, so the result comes from the implementation of <code>toString</code> in <code>Object</code>.</p>\n<p>The default implementation of <code>toString</code> includes the name of the object's class and a numeric representation derived from its object identity.  In the absence of a better <code>toString</code>, this allows you to see the object's type, as well as be able to differentiate different instances (since they'll have different identities).  This is a &quot;least common denominator&quot; approach; it is a reasonable minimum the system can provide.</p>\n"},{"tags":[],"owner":{"account_id":19075915,"reputation":803,"user_id":13929206,"display_name":"Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653241812,"creation_date":1653241812,"answer_id":72340001,"question_id":72339966,"body_markdown":"It&#39;s the default toString method of Object class.\r\nIt&#39;s the name of the class plus @ plus the return value of hashCode method, which may be implemented differently in every class.","title":"What does the output of explicitly printing an array in java mean?","body":"<p>It's the default toString method of Object class.\nIt's the name of the class plus @ plus the return value of hashCode method, which may be implemented differently in every class.</p>\n"}],"owner":{"account_id":21487332,"reputation":3,"user_id":15833708,"display_name":"Xyds"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653241859,"answer_count":2,"score":0,"last_activity_date":1653241812,"creation_date":1653241482,"question_id":72339966,"body_markdown":"First of all, yes, I know I have to iterate through an array and print its elements one by one in order to actually &quot;print&quot; an array. I was just wondering what the output of explicitly printing an array such as in the code below actually means. My guess is that it&#39;s the memory location of the array? \r\n\r\nI know it&#39;s a fairly newbie question but I&#39;m new to java (and coding in general) so please enlighten me.\r\n\r\n```\r\npublic class Tests {\r\n    public static void main(String[] args) {\r\n\r\n        String[] strArray = {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;};\r\n        System.out.println(strArray);\r\n\r\n    }\r\n}\r\n```\r\n\r\n","title":"What does the output of explicitly printing an array in java mean?","body":"<p>First of all, yes, I know I have to iterate through an array and print its elements one by one in order to actually &quot;print&quot; an array. I was just wondering what the output of explicitly printing an array such as in the code below actually means. My guess is that it's the memory location of the array?</p>\n<p>I know it's a fairly newbie question but I'm new to java (and coding in general) so please enlighten me.</p>\n<pre><code>public class Tests {\n    public static void main(String[] args) {\n\n        String[] strArray = {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;};\n        System.out.println(strArray);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","c++","hypotenuse"],"comments":[{"owner":{"account_id":40357,"reputation":7223,"user_id":116941,"display_name":"linuxuser27"},"score":6,"creation_date":1285108296,"post_id":3764978,"comment_id":3983738,"body_markdown":"What is &#39;significantly slower&#39;?  Can you quantify this value?  Did you use a profiler?  How many times did you run the tests?  Can you describe your experiment (DOE)?","body":"What is &#39;significantly slower&#39;?  Can you quantify this value?  Did you use a profiler?  How many times did you run the tests?  Can you describe your experiment (DOE)?"},{"owner":{"account_id":192998,"reputation":22700,"user_id":434460,"accept_rate":99,"display_name":"Leonid"},"score":7,"creation_date":1285108445,"post_id":3764978,"comment_id":3983760,"body_markdown":"In Java it was slower by a factor of ~7, in C++ ~10. We found that independently with my colleague when testing one of the programming problems for the upcoming programming contest in a university.","body":"In Java it was slower by a factor of ~7, in C++ ~10. We found that independently with my colleague when testing one of the programming problems for the upcoming programming contest in a university."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":1,"creation_date":1285119310,"post_id":3764978,"comment_id":3984718,"body_markdown":"@linuxuser27: and the two people who upvoted his comment, check Ravi Gummadi +9 upvoted answer for enlightenment.","body":"@linuxuser27: and the two people who upvoted his comment, check Ravi Gummadi +9 upvoted answer for enlightenment."},{"owner":{"account_id":40357,"reputation":7223,"user_id":116941,"display_name":"linuxuser27"},"score":3,"creation_date":1285129061,"post_id":3764978,"comment_id":3985375,"body_markdown":"Absolutely.  It is a great answer, I contributed to the 9.  I was not being rude in my comment.  I am just tired of questions on SO that make extreme statements about speed and perf when no investigation is done.  Leonid actually was able to give some factor which means due diligence was done.  I hope that everyone does that type of work before making statements like &#39;X is so slow compared to Y&#39; when all that was done half the time was watch how long it took instead of actually measuring something.","body":"Absolutely.  It is a great answer, I contributed to the 9.  I was not being rude in my comment.  I am just tired of questions on SO that make extreme statements about speed and perf when no investigation is done.  Leonid actually was able to give some factor which means due diligence was done.  I hope that everyone does that type of work before making statements like &#39;X is so slow compared to Y&#39; when all that was done half the time was watch how long it took instead of actually measuring something."},{"owner":{"account_id":243097,"reputation":66857,"user_id":515054,"accept_rate":92,"display_name":"0__"},"score":0,"creation_date":1298561594,"post_id":3764978,"comment_id":5724913,"body_markdown":"The bad performance of hypot also clearly stands out in this benchmark: http://blog.juma.me.uk/2011/02/23/performance-of-fastmath-from-commons-math/","body":"The bad performance of hypot also clearly stands out in this benchmark: <a href=\"http://blog.juma.me.uk/2011/02/23/performance-of-fastmath-from-commons-math/\" rel=\"nofollow noreferrer\">blog.juma.me.uk/2011/02/23/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":96954,"reputation":5629,"user_id":263266,"accept_rate":90,"display_name":"rkg"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1586887485,"creation_date":1285108358,"answer_id":3764993,"question_id":3764978,"body_markdown":"It&#39;s not a simple sqrt function. You should check this link for the implementation of the algorithm: [http://www.koders.com/c/fid7D3C8841ADC384A5F8DE0D081C88331E3909BF3A.aspx][1]\r\n\r\nIt has while loop to check for convergence\r\n\r\n    /* Slower but safer algorithm due to Moler and Morrison.  Never\r\n             produces any intermediate result greater than roughly the\r\n             larger of X and Y.  Should converge to machine-precision\r\n             accuracy in 3 iterations.  */\r\n    \r\n          double r = ratio*ratio, t, s, p = abig, q = asmall;\r\n    \r\n          do {\r\n            t = 4. + r;\r\n            if (t == 4.)\r\n              break;\r\n            s = r / t;\r\n            p += 2. * s * p;\r\n            q *= s;\r\n            r = (q / p) * (q / p);\r\n          } while (1);\r\n\r\nEDIT (Update from J.M):\r\n\r\n[Here][2] is the original Moler-Morrison paper, and [here][3] is a nice follow-up due to Dubrulle.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20100710061427/http://www.koders.com/c/fid7D3C8841ADC384A5F8DE0D081C88331E3909BF3A.aspx\r\n  [2]: http://dx.doi.org/10.1147/rd.276.0577\r\n  [3]: http://dx.doi.org/10.1147/rd.276.0582","title":"Why hypot() function is so slow?","body":"<p>It's not a simple sqrt function. You should check this link for the implementation of the algorithm: <a href=\"https://web.archive.org/web/20100710061427/http://www.koders.com/c/fid7D3C8841ADC384A5F8DE0D081C88331E3909BF3A.aspx\" rel=\"noreferrer\">http://www.koders.com/c/fid7D3C8841ADC384A5F8DE0D081C88331E3909BF3A.aspx</a></p>\n\n<p>It has while loop to check for convergence</p>\n\n<pre><code>/* Slower but safer algorithm due to Moler and Morrison.  Never\n         produces any intermediate result greater than roughly the\n         larger of X and Y.  Should converge to machine-precision\n         accuracy in 3 iterations.  */\n\n      double r = ratio*ratio, t, s, p = abig, q = asmall;\n\n      do {\n        t = 4. + r;\n        if (t == 4.)\n          break;\n        s = r / t;\n        p += 2. * s * p;\n        q *= s;\n        r = (q / p) * (q / p);\n      } while (1);\n</code></pre>\n\n<p>EDIT (Update from J.M):</p>\n\n<p><a href=\"http://dx.doi.org/10.1147/rd.276.0577\" rel=\"noreferrer\">Here</a> is the original Moler-Morrison paper, and <a href=\"http://dx.doi.org/10.1147/rd.276.0582\" rel=\"noreferrer\">here</a> is a nice follow-up due to Dubrulle.</p>\n"},{"tags":[],"owner":{"account_id":655853,"reputation":71,"user_id":454995,"display_name":"Jeff"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1285156682,"creation_date":1285156682,"answer_id":3768943,"question_id":3764978,"body_markdown":"Here is a faster implementation, which results are also closer to java.lang.Math.hypot:\r\n(NB: for Delorie&#39;s implementation, need to add handling of NaN and +-Infinity inputs)\r\n\r\n    private static final double TWO_POW_450 = Double.longBitsToDouble(0x5C10000000000000L);\r\n    private static final double TWO_POW_N450 = Double.longBitsToDouble(0x23D0000000000000L);\r\n    private static final double TWO_POW_750 = Double.longBitsToDouble(0x6ED0000000000000L);\r\n    private static final double TWO_POW_N750 = Double.longBitsToDouble(0x1110000000000000L);\r\n    public static double hypot(double x, double y) {\r\n        x = Math.abs(x);\r\n        y = Math.abs(y);\r\n        if (y &lt; x) {\r\n            double a = x;\r\n            x = y;\r\n            y = a;\r\n        } else if (!(y &gt;= x)) { // Testing if we have some NaN.\r\n            if ((x == Double.POSITIVE_INFINITY) || (y == Double.POSITIVE_INFINITY)) {\r\n                return Double.POSITIVE_INFINITY;\r\n            } else {\r\n                return Double.NaN;\r\n            }\r\n        }\r\n        if (y-x == y) { // x too small to substract from y\r\n            return y;\r\n        } else {\r\n            double factor;\r\n            if (x &gt; TWO_POW_450) { // 2^450 &lt; x &lt; y\r\n                x *= TWO_POW_N750;\r\n                y *= TWO_POW_N750;\r\n                factor = TWO_POW_750;\r\n            } else if (y &lt; TWO_POW_N450) { // x &lt; y &lt; 2^-450\r\n                x *= TWO_POW_750;\r\n                y *= TWO_POW_750;\r\n                factor = TWO_POW_N750;\r\n            } else {\r\n                factor = 1.0;\r\n            }\r\n            return factor * Math.sqrt(x*x+y*y);\r\n        }\r\n    }","title":"Why hypot() function is so slow?","body":"<p>Here is a faster implementation, which results are also closer to java.lang.Math.hypot:\n(NB: for Delorie's implementation, need to add handling of NaN and +-Infinity inputs)</p>\n\n<pre><code>private static final double TWO_POW_450 = Double.longBitsToDouble(0x5C10000000000000L);\nprivate static final double TWO_POW_N450 = Double.longBitsToDouble(0x23D0000000000000L);\nprivate static final double TWO_POW_750 = Double.longBitsToDouble(0x6ED0000000000000L);\nprivate static final double TWO_POW_N750 = Double.longBitsToDouble(0x1110000000000000L);\npublic static double hypot(double x, double y) {\n    x = Math.abs(x);\n    y = Math.abs(y);\n    if (y &lt; x) {\n        double a = x;\n        x = y;\n        y = a;\n    } else if (!(y &gt;= x)) { // Testing if we have some NaN.\n        if ((x == Double.POSITIVE_INFINITY) || (y == Double.POSITIVE_INFINITY)) {\n            return Double.POSITIVE_INFINITY;\n        } else {\n            return Double.NaN;\n        }\n    }\n    if (y-x == y) { // x too small to substract from y\n        return y;\n    } else {\n        double factor;\n        if (x &gt; TWO_POW_450) { // 2^450 &lt; x &lt; y\n            x *= TWO_POW_N750;\n            y *= TWO_POW_N750;\n            factor = TWO_POW_750;\n        } else if (y &lt; TWO_POW_N450) { // x &lt; y &lt; 2^-450\n            x *= TWO_POW_750;\n            y *= TWO_POW_750;\n            factor = TWO_POW_N750;\n        } else {\n            factor = 1.0;\n        }\n        return factor * Math.sqrt(x*x+y*y);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":704333,"reputation":51,"user_id":607114,"display_name":"Jim Ward"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1302540217,"creation_date":1302540217,"answer_id":5624624,"question_id":3764978,"body_markdown":"http://steve.hollasch.net/cgindex/math/pythag-root.txt\r\n\r\nsuggests that the faster implementation using sqrt() is quadratic vs. cubic for Moler &amp; Morrison, with about the same overflow characteristics.","title":"Why hypot() function is so slow?","body":"<p><a href=\"http://steve.hollasch.net/cgindex/math/pythag-root.txt\" rel=\"nofollow\">http://steve.hollasch.net/cgindex/math/pythag-root.txt</a></p>\n\n<p>suggests that the faster implementation using sqrt() is quadratic vs. cubic for Moler &amp; Morrison, with about the same overflow characteristics.</p>\n"},{"tags":[],"owner":{"account_id":6460122,"reputation":51,"user_id":5004249,"display_name":"DickF"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1434131079,"creation_date":1434131079,"answer_id":30809216,"question_id":3764978,"body_markdown":"I found Math.hypot() to be abysmally slow.  I found I could code a fast java version using the same algorithm that produces identical results.  This can be used to replace it.\r\n\r\n\t/**\r\n\t * &lt;b&gt;hypot&lt;/b&gt;\r\n\t * @param x\r\n\t * @param y\r\n\t * @return sqrt(x*x +y*y) without intermediate overflow or underflow. \r\n\t * @Note {@link Math#hypot} is unnecessarily slow.  This returns the identical result to \r\n\t * Math.hypot with reasonable run times (~40 nsec vs. 800 nsec). \r\n\t * &lt;p&gt;The logic for computing z is copied from &quot;Freely Distributable Math Library&quot; \r\n\t * fdlibm&#39;s e_hypot.c. This minimizes rounding error to provide 1 ulb accuracy.\r\n\t */\r\n\tpublic static double hypot(double x, double y) {\r\n\t\t\r\n\t\tif (Double.isInfinite(x) || Double.isInfinite(y)) return Double.POSITIVE_INFINITY;\r\n\t\tif (Double.isNaN(x) || Double.isNaN(y)) return Double.NaN;\r\n\r\n\t\tx = Math.abs(x);\r\n\t\ty = Math.abs(y);\r\n\t\t\r\n\t\tif (x &lt; y) {\r\n\t\t\tdouble d = x;\r\n\t\t\tx = y;\r\n\t\t\ty = d;\r\n\t\t}\r\n\t\t\r\n\t\tint xi = Math.getExponent(x);\r\n\t\tint yi = Math.getExponent(y);\r\n\t\t\r\n\t\tif (xi &gt; yi + 27) return x;\r\n\t\t\r\n\t\tint bias = 0;\r\n\t\tif (xi &gt; 510 || xi &lt; -511) {\r\n\t\t\tbias = xi;\r\n\t\t\tx = Math.scalb(x, -bias);\r\n\t\t\ty = Math.scalb(y, -bias);\t\t\t\r\n\t\t}\r\n\r\n\t\t\r\n\t\t// translated from &quot;Freely Distributable Math Library&quot; e_hypot.c to minimize rounding errors\r\n\t\tdouble z = 0; \r\n\t\tif (x &gt; 2*y) { \r\n\t\t\tdouble x1 = Double.longBitsToDouble(Double.doubleToLongBits(x) &amp; 0xffffffff00000000L);\r\n\t\t\tdouble x2 = x - x1;\r\n\t\t\tz = Math.sqrt(x1*x1 + (y*y + x2*(x+x1)));\r\n\t\t} else {\r\n\t\t\tdouble t = 2 * x;\r\n\t\t\tdouble t1 = Double.longBitsToDouble(Double.doubleToLongBits(t) &amp; 0xffffffff00000000L);\r\n\t\t\tdouble t2 = t - t1;\r\n\t\t\tdouble y1 = Double.longBitsToDouble(Double.doubleToLongBits(y) &amp; 0xffffffff00000000L);\r\n\t\t\tdouble y2 = y - y1;\r\n\t\t\tdouble x_y = x - y;\r\n\t\t\tz = Math.sqrt(t1*y1 + (x_y*x_y + (t1*y2 + t2*y))); // Note: 2*x*y &lt;= x*x + y*y\r\n\t\t}\r\n\t\t\r\n\t\tif (bias == 0) {\r\n\t\t\treturn z; \r\n\t\t} else {\r\n\t\t\treturn Math.scalb(z, bias);\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n","title":"Why hypot() function is so slow?","body":"<p>I found Math.hypot() to be abysmally slow.  I found I could code a fast java version using the same algorithm that produces identical results.  This can be used to replace it.</p>\n\n<pre><code>/**\n * &lt;b&gt;hypot&lt;/b&gt;\n * @param x\n * @param y\n * @return sqrt(x*x +y*y) without intermediate overflow or underflow. \n * @Note {@link Math#hypot} is unnecessarily slow.  This returns the identical result to \n * Math.hypot with reasonable run times (~40 nsec vs. 800 nsec). \n * &lt;p&gt;The logic for computing z is copied from \"Freely Distributable Math Library\" \n * fdlibm's e_hypot.c. This minimizes rounding error to provide 1 ulb accuracy.\n */\npublic static double hypot(double x, double y) {\n\n    if (Double.isInfinite(x) || Double.isInfinite(y)) return Double.POSITIVE_INFINITY;\n    if (Double.isNaN(x) || Double.isNaN(y)) return Double.NaN;\n\n    x = Math.abs(x);\n    y = Math.abs(y);\n\n    if (x &lt; y) {\n        double d = x;\n        x = y;\n        y = d;\n    }\n\n    int xi = Math.getExponent(x);\n    int yi = Math.getExponent(y);\n\n    if (xi &gt; yi + 27) return x;\n\n    int bias = 0;\n    if (xi &gt; 510 || xi &lt; -511) {\n        bias = xi;\n        x = Math.scalb(x, -bias);\n        y = Math.scalb(y, -bias);           \n    }\n\n\n    // translated from \"Freely Distributable Math Library\" e_hypot.c to minimize rounding errors\n    double z = 0; \n    if (x &gt; 2*y) { \n        double x1 = Double.longBitsToDouble(Double.doubleToLongBits(x) &amp; 0xffffffff00000000L);\n        double x2 = x - x1;\n        z = Math.sqrt(x1*x1 + (y*y + x2*(x+x1)));\n    } else {\n        double t = 2 * x;\n        double t1 = Double.longBitsToDouble(Double.doubleToLongBits(t) &amp; 0xffffffff00000000L);\n        double t2 = t - t1;\n        double y1 = Double.longBitsToDouble(Double.doubleToLongBits(y) &amp; 0xffffffff00000000L);\n        double y2 = y - y1;\n        double x_y = x - y;\n        z = Math.sqrt(t1*y1 + (x_y*x_y + (t1*y2 + t2*y))); // Note: 2*x*y &lt;= x*x + y*y\n    }\n\n    if (bias == 0) {\n        return z; \n    } else {\n        return Math.scalb(z, bias);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":409449,"reputation":24405,"user_id":780717,"accept_rate":80,"display_name":"njuffa"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1653241660,"creation_date":1571858465,"answer_id":58529704,"question_id":3764978,"body_markdown":"`hypot()` incurs overhead for avoiding overflow and underflow in intermediate computations, when compared to the naive implementation `sqrt(a*a+b*b)`. This involves scaling operations. In older implementations, the scaling may use division, which is itself a rather slow operation. Even where scaling is accomplished by direct exponent manipulation, it could be rather slow on older processor architectures as transferring data between integer ALUs and floating-point units was rather slow (e.g. involving a round-trip through memory). Data-driven branches are also common to various scaling approaches; these are hard to predict.\r\n\r\nA frequent goal of math library designers is to achieve faithful rounding for simple math functions like `hypot()`, that is, a maximum error less than 1 [ulp](https://en.wikipedia.org/wiki/Unit_in_the_last_place). This improvement in accuracy versus the naive solution means that intermediate computations must be carried out with higher than native precision. A classical method is splitting operands into &quot;high&quot; and &quot;low&quot; portions and simulating the extended precision. This adds overhead for splitting and increases number of floating-point operations. Lastly, the ISO C99 specification for `hypot()` (later adopted into the C++ standard) prescribes handling for NaN and infinities that does not naturally fall out of a straightforward computation.\r\n\r\nA representative example of older best practices is `__ieee754_hypot()` in [FDLIBM](https://www.netlib.org/fdlibm/e_hypot.c). While it claims a maximum  error of 1 ulp, quick testing against an arbitrary-precision library shows that it does not actually achieve that goal, as errors up to 1.16 ulps (e.g. for arguments `0x1.74e729a505778p-1013`, `0x0.017e77f6d0e0dp-1022`) can be observed. For an even older algorithm design for a faithfully-rounded `hypot()` by renowned floating-point expert William Kahan, the error bound holds across 50 billion random trials, with the maximum observed error of 0.9917 ulps (for the argument pair `0x1.6d3e085a0fc89p+481`, `0x1.62248c23285f1p+481`):\r\n\r\n```lang-c\r\n/* Algorithm from William M. Kahan, &quot;Interval Arithmetic Options in the\r\n   Proposed IEEE Floating Point Arithmetic Standard.&quot; In: Karl L. E. Nickel\r\n   (ed.), Interval Mathematics 1980, New York: Academic Press 1980, pp. 99-128\r\n*/\r\ndouble kahan_hypot (double a, double b)\r\n{\r\n    const double sqrt2      = 1.4142135623730951e+00; // 0x1.6a09e667f3bcdp+00\r\n    const double sqrt2p1_hi = 2.4142135623730949e+00; // 0x1.3504f333f9de6p+01\r\n    const double sqrt2p1_lo = 1.2537167179050217e-16; // 0x1.21165f626cdd5p-53\r\n    double fa, fb, mn, mx, res, r, s, t;\r\n\r\n    fa = fabs (a);\r\n    fb = fabs (b);\r\n    mx = fmax (fa, fb);\r\n    mn = fmin (fa, fb);\r\n\r\n    r = mx - mn;\r\n    if (r &lt;= mn) {\r\n        r = r / mn;\r\n        s = r * (r + 2.0);\r\n        r = ((s / (sqrt2 + sqrt (2.0 + s)) + r) + sqrt2p1_lo) + sqrt2p1_hi;\r\n    } else {\r\n        r = mx / mn;\r\n        r = r + sqrt (r * r + 1.0);\r\n    }\r\n    res = (mn / r) + mx;\r\n\r\n    /* fixup hypot(0,0) */\r\n    if (mx == 0) res = mx;\r\n\r\n    /* check for special cases: infinity and NaN */\r\n    t = a + b;\r\n    if (!(fabs (t) &lt;= INFINITY)) res = t; // isnan(t)\r\n    if (mx == INFINITY) res = mx; // isinf(mx)\r\n    return res;\r\n}\r\n```\r\n\r\nSince this question was asked, two advances in processor architectures have enabled more efficient `hypot()` implementations. One is the introduction of the fused multiply-add ([FMA](https://en.wikipedia.org/wiki/Multiply%E2%80%93accumulate_operation#Fused_multiply%E2%80%93add)) operation, which internally uses the full product for the addition and applies only a single rounding at the end. This often alleviates a need for simulating slightly higher precision in intermediate computation, and by combining two operations into one instruction also improves performance. The other architectural advance is allowing both floating-point and integer operations to operate on the same set of registers, making bit manipulation of floating-point operands cheap.\r\n\r\nAs a consequence, in modern high-performance math libraries `hypot()` typically has about half the throughput of `sqrt()`, as can be seen in the [performance data](https://software.intel.com/en-us/mkl-vmperfdata-performance-of-all-real-vm-functions) Intel publishes for MKL, for example.\r\n\r\nFor one&#39;s own experiments, it is best to start with a single-precision implementation of `hypot()`, as this allows testing across a larger portion of the total combination of all possible argument values. This also allows exploring trade-offs between speed and accuracy when using low-precision reciprocal square root approximations that are provided by many modern processor architectures. Exemplary code of one such exploration is shown below. \r\n\r\nNote that the requirements on NaN handling imposed by ISO C99 (and by extension, C++) on `fmin()` `fmax()` do not always match up with the functionality of floating-point minimum / maximum machine instructions, making these function slower than they could be. Since the code below handles NaNs separately, it should be possible to use such machine instructions directly. Code should be compiled with full optimization but also strict IEEE-754 compliance.\r\n\r\nBased on testing with 50 billion random argument pairs, maximum error observed with the code variants below is: (`USE_BEEBE == 1`): 1.51 ulp; (`USE_BEEBE == 0 &amp;&amp; USE_SQRT == 1`): 1.02 ulp; (`USE_BEEBE == 0 &amp;&amp; USE_SQRT == 0 &amp;&amp; USE_2ND_ITERATION == 0`): 2.77 ulp; (`USE_BEEBE == 0 &amp;&amp; USE_SQRT == 0 &amp;&amp; USE_2ND_ITERATION == 1`): 1.02 ulp.\r\n\r\n&lt;!-- language: lang-c++ --&gt;\r\n\r\n    #include &lt;stdint.h&gt;\r\n    #include &lt;string.h&gt;\r\n    #include &lt;float.h&gt;\r\n    #include &lt;math.h&gt;\r\n    #include &quot;immintrin.h&quot;\r\n    \r\n    uint32_t __float_as_uint32 (float a);\r\n    float __uint32_as_float (uint32_t a);\r\n    float sse_rsqrtf (float a);\r\n    \r\n    float my_hypotf (float a, float b)\r\n    {\r\n        float fa, fb, mn, mx, res, r, t;\r\n    \r\n        fa = fabsf (a);\r\n        fb = fabsf (b);\r\n        mx = fmaxf (fa, fb);\r\n        mn = fminf (fa, fb);\r\n    \r\n    #if USE_BEEBE\r\n        /* Nelson H. F. Beebe, &quot;The Mathematical Function Computation Handbook.&quot;\r\n           Springer 2017\r\n        */\r\n        float s, c;\r\n    \r\n        r = mn / mx;\r\n        t = fmaf (r, r, 1.0f);\r\n        s = sqrtf (t);\r\n        c = fmaf (-s, s, t) / (s + s);\r\n        res = fmaf (mx, s, mx * c);\r\n        if (mx == 0) res = mx; // fixup hypot(0,0)\r\n    \r\n    #else // USE_BEEBE\r\n    \r\n        float scale_in, scale_out, s, v, w;\r\n        uint32_t expo;\r\n    \r\n        /* compute scale factors */\r\n        expo = __float_as_uint32 (mx) &amp; 0xfc000000;\r\n        scale_in = __uint32_as_float (0x7e000000 - expo);\r\n        scale_out = __uint32_as_float (expo + 0x01000000);\r\n        \r\n        /* scale mx towards unity */\r\n        mn = mn * scale_in;\r\n        mx = mx * scale_in;\r\n    \r\n        /* mx in [2**-23, 2**6) */\r\n        s = fmaf (mx, mx, mn * mn); // 0.75 ulp\r\n    #if USE_SQRT\r\n        w = sqrtf (s);\r\n    #else // USE_SQRT\r\n        r = sse_rsqrtf (s);\r\n        /* use A. Schoenhage&#39;s coupled iteration for the square root */\r\n        v = r * 0.5f;\r\n        w = r * s;\r\n        w = fmaf (fmaf (w, -w, s), v, w);\r\n    #if USE_2ND_ITERATION\r\n        v = fmaf (fmaf (r, -w, 1), v, v);\r\n        w = fmaf (fmaf (w, -w, s), v, w);\r\n    #endif // USE_2ND_ITERATION\r\n        if (mx == 0) w = mx; // fixup hypot(0,0)\r\n    #endif // USE_SQRT\r\n    \r\n        /* reverse previous scaling */\r\n        res = w * scale_out;\r\n    #endif // USE_BEEBE\r\n    \r\n        /* check for special cases: infinity and NaN */\r\n        t = a + b;\r\n        if (!(fabsf (t) &lt;= INFINITY)) res = t; // isnan(t)\r\n        if (mx == INFINITY) res = mx; // isinf(mx)\r\n        return res;\r\n    }\r\n    \r\n    uint32_t __float_as_uint32 (float a)\r\n    {\r\n        uint32_t r;\r\n        memcpy (&amp;r, &amp;a, sizeof r);\r\n        return r;\r\n    }\r\n    \r\n    float __uint32_as_float (uint32_t a)\r\n    {\r\n        float r;\r\n        memcpy (&amp;r, &amp;a, sizeof r);\r\n        return r;\r\n    }\r\n    \r\n    float sse_rsqrtf (float a)\r\n    {\r\n        __m128 b, t;\r\n        float res;\r\n        int old_mxcsr;\r\n        old_mxcsr = _mm_getcsr();\r\n        _MM_SET_FLUSH_ZERO_MODE (_MM_FLUSH_ZERO_OFF); \r\n        _MM_SET_ROUNDING_MODE (_MM_ROUND_NEAREST);\r\n        b = _mm_set_ss (a);\r\n        t = _mm_rsqrt_ss (b);\r\n        _mm_store_ss (&amp;res, t);\r\n        _mm_setcsr (old_mxcsr);\r\n        return res;\r\n    }\r\n\r\nA simple FMA-based double-precision implementation of `hypot()` looks like so:\r\n\r\n&lt;!-- language: lang-c++ --&gt;\r\n\r\n    uint64_t __double_as_uint64 (double a)\r\n    {\r\n        uint64_t r;\r\n        memcpy (&amp;r, &amp;a, sizeof r);\r\n        return r;\r\n    }\r\n    \r\n    double __uint64_as_double (uint64_t a)\r\n    {\r\n        double r;\r\n        memcpy (&amp;r, &amp;a, sizeof r);\r\n        return r;\r\n    }\r\n\r\n    double my_hypot (double a, double b)\r\n    {\r\n        double fa, fb, mn, mx, scale_in, scale_out, r, s, t;\r\n        uint64_t expo;\r\n    \r\n        fa = fabs (a);\r\n        fb = fabs (b);\r\n        mx = fmax (fa, fb);\r\n        mn = fmin (fa, fb);\r\n    \r\n        /* compute scale factors */\r\n        expo = __double_as_uint64 (mx) &amp; 0xff80000000000000ULL;\r\n        scale_in = __uint64_as_double (0x7fc0000000000000ULL - expo);\r\n        scale_out = __uint64_as_double (expo + 0x0020000000000000ULL);\r\n        \r\n        /* scale mx towards unity */\r\n        mn = mn * scale_in;\r\n        mx = mx * scale_in;\r\n    \r\n        /* mx in [2**-52, 2**6) */\r\n        s = fma (mx, mx, mn * mn); // 0.75 ulp\r\n        r = sqrt (s);\r\n    \r\n        /* reverse previous scaling */\r\n        r = r * scale_out;\r\n    \r\n        /* check for special cases: infinity and NaN */\r\n        t = a + b;\r\n        if (!(fabs (t) &lt;= INFINITY)) r = t; // isnan(t)\r\n        if (mx == INFINITY) r = mx; // isinf(mx)\r\n    \r\n        return r;\r\n    }\r\n\r\n\r\n","title":"Why hypot() function is so slow?","body":"<p><code>hypot()</code> incurs overhead for avoiding overflow and underflow in intermediate computations, when compared to the naive implementation <code>sqrt(a*a+b*b)</code>. This involves scaling operations. In older implementations, the scaling may use division, which is itself a rather slow operation. Even where scaling is accomplished by direct exponent manipulation, it could be rather slow on older processor architectures as transferring data between integer ALUs and floating-point units was rather slow (e.g. involving a round-trip through memory). Data-driven branches are also common to various scaling approaches; these are hard to predict.</p>\n<p>A frequent goal of math library designers is to achieve faithful rounding for simple math functions like <code>hypot()</code>, that is, a maximum error less than 1 <a href=\"https://en.wikipedia.org/wiki/Unit_in_the_last_place\" rel=\"nofollow noreferrer\">ulp</a>. This improvement in accuracy versus the naive solution means that intermediate computations must be carried out with higher than native precision. A classical method is splitting operands into &quot;high&quot; and &quot;low&quot; portions and simulating the extended precision. This adds overhead for splitting and increases number of floating-point operations. Lastly, the ISO C99 specification for <code>hypot()</code> (later adopted into the C++ standard) prescribes handling for NaN and infinities that does not naturally fall out of a straightforward computation.</p>\n<p>A representative example of older best practices is <code>__ieee754_hypot()</code> in <a href=\"https://www.netlib.org/fdlibm/e_hypot.c\" rel=\"nofollow noreferrer\">FDLIBM</a>. While it claims a maximum  error of 1 ulp, quick testing against an arbitrary-precision library shows that it does not actually achieve that goal, as errors up to 1.16 ulps (e.g. for arguments <code>0x1.74e729a505778p-1013</code>, <code>0x0.017e77f6d0e0dp-1022</code>) can be observed. For an even older algorithm design for a faithfully-rounded <code>hypot()</code> by renowned floating-point expert William Kahan, the error bound holds across 50 billion random trials, with the maximum observed error of 0.9917 ulps (for the argument pair <code>0x1.6d3e085a0fc89p+481</code>, <code>0x1.62248c23285f1p+481</code>):</p>\n<pre class=\"lang-c prettyprint-override\"><code>/* Algorithm from William M. Kahan, &quot;Interval Arithmetic Options in the\n   Proposed IEEE Floating Point Arithmetic Standard.&quot; In: Karl L. E. Nickel\n   (ed.), Interval Mathematics 1980, New York: Academic Press 1980, pp. 99-128\n*/\ndouble kahan_hypot (double a, double b)\n{\n    const double sqrt2      = 1.4142135623730951e+00; // 0x1.6a09e667f3bcdp+00\n    const double sqrt2p1_hi = 2.4142135623730949e+00; // 0x1.3504f333f9de6p+01\n    const double sqrt2p1_lo = 1.2537167179050217e-16; // 0x1.21165f626cdd5p-53\n    double fa, fb, mn, mx, res, r, s, t;\n\n    fa = fabs (a);\n    fb = fabs (b);\n    mx = fmax (fa, fb);\n    mn = fmin (fa, fb);\n\n    r = mx - mn;\n    if (r &lt;= mn) {\n        r = r / mn;\n        s = r * (r + 2.0);\n        r = ((s / (sqrt2 + sqrt (2.0 + s)) + r) + sqrt2p1_lo) + sqrt2p1_hi;\n    } else {\n        r = mx / mn;\n        r = r + sqrt (r * r + 1.0);\n    }\n    res = (mn / r) + mx;\n\n    /* fixup hypot(0,0) */\n    if (mx == 0) res = mx;\n\n    /* check for special cases: infinity and NaN */\n    t = a + b;\n    if (!(fabs (t) &lt;= INFINITY)) res = t; // isnan(t)\n    if (mx == INFINITY) res = mx; // isinf(mx)\n    return res;\n}\n</code></pre>\n<p>Since this question was asked, two advances in processor architectures have enabled more efficient <code>hypot()</code> implementations. One is the introduction of the fused multiply-add (<a href=\"https://en.wikipedia.org/wiki/Multiply%E2%80%93accumulate_operation#Fused_multiply%E2%80%93add\" rel=\"nofollow noreferrer\">FMA</a>) operation, which internally uses the full product for the addition and applies only a single rounding at the end. This often alleviates a need for simulating slightly higher precision in intermediate computation, and by combining two operations into one instruction also improves performance. The other architectural advance is allowing both floating-point and integer operations to operate on the same set of registers, making bit manipulation of floating-point operands cheap.</p>\n<p>As a consequence, in modern high-performance math libraries <code>hypot()</code> typically has about half the throughput of <code>sqrt()</code>, as can be seen in the <a href=\"https://software.intel.com/en-us/mkl-vmperfdata-performance-of-all-real-vm-functions\" rel=\"nofollow noreferrer\">performance data</a> Intel publishes for MKL, for example.</p>\n<p>For one's own experiments, it is best to start with a single-precision implementation of <code>hypot()</code>, as this allows testing across a larger portion of the total combination of all possible argument values. This also allows exploring trade-offs between speed and accuracy when using low-precision reciprocal square root approximations that are provided by many modern processor architectures. Exemplary code of one such exploration is shown below.</p>\n<p>Note that the requirements on NaN handling imposed by ISO C99 (and by extension, C++) on <code>fmin()</code> <code>fmax()</code> do not always match up with the functionality of floating-point minimum / maximum machine instructions, making these function slower than they could be. Since the code below handles NaNs separately, it should be possible to use such machine instructions directly. Code should be compiled with full optimization but also strict IEEE-754 compliance.</p>\n<p>Based on testing with 50 billion random argument pairs, maximum error observed with the code variants below is: (<code>USE_BEEBE == 1</code>): 1.51 ulp; (<code>USE_BEEBE == 0 &amp;&amp; USE_SQRT == 1</code>): 1.02 ulp; (<code>USE_BEEBE == 0 &amp;&amp; USE_SQRT == 0 &amp;&amp; USE_2ND_ITERATION == 0</code>): 2.77 ulp; (<code>USE_BEEBE == 0 &amp;&amp; USE_SQRT == 0 &amp;&amp; USE_2ND_ITERATION == 1</code>): 1.02 ulp.</p>\n<pre class=\"lang-c++ prettyprint-override\"><code>#include &lt;stdint.h&gt;\n#include &lt;string.h&gt;\n#include &lt;float.h&gt;\n#include &lt;math.h&gt;\n#include &quot;immintrin.h&quot;\n\nuint32_t __float_as_uint32 (float a);\nfloat __uint32_as_float (uint32_t a);\nfloat sse_rsqrtf (float a);\n\nfloat my_hypotf (float a, float b)\n{\n    float fa, fb, mn, mx, res, r, t;\n\n    fa = fabsf (a);\n    fb = fabsf (b);\n    mx = fmaxf (fa, fb);\n    mn = fminf (fa, fb);\n\n#if USE_BEEBE\n    /* Nelson H. F. Beebe, &quot;The Mathematical Function Computation Handbook.&quot;\n       Springer 2017\n    */\n    float s, c;\n\n    r = mn / mx;\n    t = fmaf (r, r, 1.0f);\n    s = sqrtf (t);\n    c = fmaf (-s, s, t) / (s + s);\n    res = fmaf (mx, s, mx * c);\n    if (mx == 0) res = mx; // fixup hypot(0,0)\n\n#else // USE_BEEBE\n\n    float scale_in, scale_out, s, v, w;\n    uint32_t expo;\n\n    /* compute scale factors */\n    expo = __float_as_uint32 (mx) &amp; 0xfc000000;\n    scale_in = __uint32_as_float (0x7e000000 - expo);\n    scale_out = __uint32_as_float (expo + 0x01000000);\n    \n    /* scale mx towards unity */\n    mn = mn * scale_in;\n    mx = mx * scale_in;\n\n    /* mx in [2**-23, 2**6) */\n    s = fmaf (mx, mx, mn * mn); // 0.75 ulp\n#if USE_SQRT\n    w = sqrtf (s);\n#else // USE_SQRT\n    r = sse_rsqrtf (s);\n    /* use A. Schoenhage's coupled iteration for the square root */\n    v = r * 0.5f;\n    w = r * s;\n    w = fmaf (fmaf (w, -w, s), v, w);\n#if USE_2ND_ITERATION\n    v = fmaf (fmaf (r, -w, 1), v, v);\n    w = fmaf (fmaf (w, -w, s), v, w);\n#endif // USE_2ND_ITERATION\n    if (mx == 0) w = mx; // fixup hypot(0,0)\n#endif // USE_SQRT\n\n    /* reverse previous scaling */\n    res = w * scale_out;\n#endif // USE_BEEBE\n\n    /* check for special cases: infinity and NaN */\n    t = a + b;\n    if (!(fabsf (t) &lt;= INFINITY)) res = t; // isnan(t)\n    if (mx == INFINITY) res = mx; // isinf(mx)\n    return res;\n}\n\nuint32_t __float_as_uint32 (float a)\n{\n    uint32_t r;\n    memcpy (&amp;r, &amp;a, sizeof r);\n    return r;\n}\n\nfloat __uint32_as_float (uint32_t a)\n{\n    float r;\n    memcpy (&amp;r, &amp;a, sizeof r);\n    return r;\n}\n\nfloat sse_rsqrtf (float a)\n{\n    __m128 b, t;\n    float res;\n    int old_mxcsr;\n    old_mxcsr = _mm_getcsr();\n    _MM_SET_FLUSH_ZERO_MODE (_MM_FLUSH_ZERO_OFF); \n    _MM_SET_ROUNDING_MODE (_MM_ROUND_NEAREST);\n    b = _mm_set_ss (a);\n    t = _mm_rsqrt_ss (b);\n    _mm_store_ss (&amp;res, t);\n    _mm_setcsr (old_mxcsr);\n    return res;\n}\n</code></pre>\n<p>A simple FMA-based double-precision implementation of <code>hypot()</code> looks like so:</p>\n<pre class=\"lang-c++ prettyprint-override\"><code>uint64_t __double_as_uint64 (double a)\n{\n    uint64_t r;\n    memcpy (&amp;r, &amp;a, sizeof r);\n    return r;\n}\n\ndouble __uint64_as_double (uint64_t a)\n{\n    double r;\n    memcpy (&amp;r, &amp;a, sizeof r);\n    return r;\n}\n\ndouble my_hypot (double a, double b)\n{\n    double fa, fb, mn, mx, scale_in, scale_out, r, s, t;\n    uint64_t expo;\n\n    fa = fabs (a);\n    fb = fabs (b);\n    mx = fmax (fa, fb);\n    mn = fmin (fa, fb);\n\n    /* compute scale factors */\n    expo = __double_as_uint64 (mx) &amp; 0xff80000000000000ULL;\n    scale_in = __uint64_as_double (0x7fc0000000000000ULL - expo);\n    scale_out = __uint64_as_double (expo + 0x0020000000000000ULL);\n    \n    /* scale mx towards unity */\n    mn = mn * scale_in;\n    mx = mx * scale_in;\n\n    /* mx in [2**-52, 2**6) */\n    s = fma (mx, mx, mn * mn); // 0.75 ulp\n    r = sqrt (s);\n\n    /* reverse previous scaling */\n    r = r * scale_out;\n\n    /* check for special cases: infinity and NaN */\n    t = a + b;\n    if (!(fabs (t) &lt;= INFINITY)) r = t; // isnan(t)\n    if (mx == INFINITY) r = mx; // isinf(mx)\n\n    return r;\n}\n</code></pre>\n"}],"owner":{"account_id":192998,"reputation":22700,"user_id":434460,"accept_rate":99,"display_name":"Leonid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12045,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":3764993,"answer_count":5,"score":46,"last_activity_date":1653241660,"creation_date":1285108205,"question_id":3764978,"body_markdown":"I did some testing with `C++` `hypot()` and `Java` `Math.hypot`. They both seem to be significantly slower than `sqrt(a*a + b*b)`. Is that because of a better precision? What method to calculate a hypotenuse `hypot` function uses? Surprisingly I couldn&#39;t find any indication of poor performance in the documentation.","title":"Why hypot() function is so slow?","body":"<p>I did some testing with <code>C++</code> <code>hypot()</code> and <code>Java</code> <code>Math.hypot</code>. They both seem to be significantly slower than <code>sqrt(a*a + b*b)</code>. Is that because of a better precision? What method to calculate a hypotenuse <code>hypot</code> function uses? Surprisingly I couldn't find any indication of poor performance in the documentation.</p>\n"},{"tags":["java","unit-testing","compiler-errors","mockito","aws-java-sdk"],"answers":[{"tags":[],"owner":{"account_id":16306698,"reputation":55,"user_id":11776511,"display_name":"Arpan Dutta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653241540,"creation_date":1653241540,"answer_id":72339975,"question_id":72339861,"body_markdown":"Syntax of brackets is wrong.\r\n\r\nCorrect Syntax: \r\n```\r\ndoReturn(someObject)\r\n    .when(someInstance)\r\n    .someMethod();\r\n```","title":"reason: no instance(s) of type variable(s) T exist so that void conforms to T","body":"<p>Syntax of brackets is wrong.</p>\n<p>Correct Syntax:</p>\n<pre><code>doReturn(someObject)\n    .when(someInstance)\n    .someMethod();\n</code></pre>\n"}],"owner":{"account_id":16306698,"reputation":55,"user_id":11776511,"display_name":"Arpan Dutta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5862,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72339975,"answer_count":1,"score":1,"last_activity_date":1653241540,"creation_date":1653240549,"question_id":72339861,"body_markdown":"I want to do nothing when cloudWatchRuleDestroy.destroy(@NonNull String ruleName) function of another class is called. \r\n\r\nI have tried Mock and InjectMocks but &quot;cloudWatchRuleDestroyer.destroy(any())&quot; makes the compiler show &quot;reason: no instance(s) of type variable(s) T exist so that void conforms to T&quot;\r\n\r\n```@Test\r\n    public void testHandleRequest() {\r\n        doNothing().when(cloudWatchRuleDestroyer.destroy(any()));\r\n        handler.handleRequest(inputMap);\r\n    }\r\n```\r\n\r\nHow to avoid this compiler error? What is the change I need to make?","title":"reason: no instance(s) of type variable(s) T exist so that void conforms to T","body":"<p>I want to do nothing when cloudWatchRuleDestroy.destroy(@NonNull String ruleName) function of another class is called.</p>\n<p>I have tried Mock and InjectMocks but &quot;cloudWatchRuleDestroyer.destroy(any())&quot; makes the compiler show &quot;reason: no instance(s) of type variable(s) T exist so that void conforms to T&quot;</p>\n<pre><code>    public void testHandleRequest() {\n        doNothing().when(cloudWatchRuleDestroyer.destroy(any()));\n        handler.handleRequest(inputMap);\n    }\n</code></pre>\n<p>How to avoid this compiler error? What is the change I need to make?</p>\n"},{"tags":["java","security"],"comments":[{"owner":{"account_id":152396,"reputation":8110,"user_id":366898,"accept_rate":59,"display_name":"RAS"},"score":0,"creation_date":1513858082,"post_id":47924618,"comment_id":82816818,"body_markdown":"Can you please elaborate your question?","body":"Can you please elaborate your question?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1513858276,"post_id":47924618,"comment_id":82816928,"body_markdown":"[Questions seeking debugging help (*&quot;why isn&#39;t this code working?&quot;*) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers.](https://stackoverflow.com/help/on-topic) See: [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"<a href=\"https://stackoverflow.com/help/on-topic\">Questions seeking debugging help (<i>&quot;why isn&#39;t this code working?&quot;</i>) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers.</a> See: <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":12542374,"reputation":41,"user_id":9126904,"display_name":"Ram"},"score":0,"creation_date":1513859879,"post_id":47924618,"comment_id":82817845,"body_markdown":"while i am trying to read EC Private Key which is in .pem format  using java,  I have got the following exception.Caused by: &quot; java.security.InvalidKeyException: IOException : version mismatch: (supported:     00, parsed:     01)&quot;","body":"while i am trying to read EC Private Key which is in .pem format  using java,  I have got the following exception.Caused by: &quot; java.security.InvalidKeyException: IOException : version mismatch: (supported:     00, parsed:     01)&quot;"}],"answers":[{"tags":[],"owner":{"account_id":4674294,"reputation":309,"user_id":3785184,"display_name":"dilbertside"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1553118170,"creation_date":1553112315,"answer_id":55269325,"question_id":47924618,"body_markdown":"From an EC PRIVATE KEY as requested (ex key.pem), I succeeded to import it in a java.security.KeyStore\r\n\r\n 1. transform private key from PEM =&gt; PKCS#8 DER\r\n```bash\r\n    openssl pkcs8 -in key.pem -inform PEM -topk8 -nocrypt -out key-pkcs8.der -outform DER\r\n```\r\n\r\n 2. load it (jvm version java-1.8.0-openjdk-1.8.0.201.b09-2.fc28.x86_64)\r\n\r\n```java\r\n void loadPrivateKey(KeyStore ks, X509Certificate cert){\r\n    File privKeyFile = new File(&quot;key-pkcs8.der&quot;);\r\n    // read private key DER file\r\n    DataInputStream dis = new DataInputStream(new FileInputStream(privKeyFile));\r\n    byte[] privKeyBytes = new byte[(int)privKeyFile.length()];\r\n    dis.read(privKeyBytes);\r\n    dis.close();\r\n    \r\n    KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\r\n    // decode private key\r\n    PKCS8EncodedKeySpec privSpec = new PKCS8EncodedKeySpec(privKeyBytes);\r\n    PrivateKey privKey = kf.generatePrivate(privSpec);\r\n    ks.setKeyEntry(&quot;key-alias&quot;, privKey, &quot;password&quot;.toCharArray(), new Certificate[] {cert});\r\n}\r\n```\r\n ","title":"How to read EC Private key in java which is in .pem file format","body":"<p>From an EC PRIVATE KEY as requested (ex key.pem), I succeeded to import it in a java.security.KeyStore</p>\n\n<ol>\n<li>transform private key from PEM => PKCS#8 DER</li>\n</ol>\n\n<pre class=\"lang-sh prettyprint-override\"><code>    openssl pkcs8 -in key.pem -inform PEM -topk8 -nocrypt -out key-pkcs8.der -outform DER\n</code></pre>\n\n<ol start=\"2\">\n<li>load it (jvm version java-1.8.0-openjdk-1.8.0.201.b09-2.fc28.x86_64)</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code> void loadPrivateKey(KeyStore ks, X509Certificate cert){\n    File privKeyFile = new File(\"key-pkcs8.der\");\n    // read private key DER file\n    DataInputStream dis = new DataInputStream(new FileInputStream(privKeyFile));\n    byte[] privKeyBytes = new byte[(int)privKeyFile.length()];\n    dis.read(privKeyBytes);\n    dis.close();\n\n    KeyFactory kf = KeyFactory.getInstance(\"EC\");\n    // decode private key\n    PKCS8EncodedKeySpec privSpec = new PKCS8EncodedKeySpec(privKeyBytes);\n    PrivateKey privKey = kf.generatePrivate(privSpec);\n    ks.setKeyEntry(\"key-alias\", privKey, \"password\".toCharArray(), new Certificate[] {cert});\n}\n</code></pre>\n"}],"owner":{"account_id":12542374,"reputation":41,"user_id":9126904,"display_name":"Ram"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3872,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1653241009,"creation_date":1513857922,"question_id":47924618,"body_markdown":"How to read EC private key which is in. Pem file using JAVA. While reading I am getting the following exception. \r\n\r\n **Caused by: java.security.InvalidKeyException: IOException : version mismatch: (supported:     00, parsed:     01**\r\n\r\nActually my. Pem file contains private key in the following structure. \r\n\r\n    ----BEGIN EC PRIVATE KEY ------\r\n    ====+====+===\r\n    ====+====+===\r\n    -----END EC PRIVATE KEY-----","title":"How to read EC Private key in java which is in .pem file format","body":"<p>How to read EC private key which is in. Pem file using JAVA. While reading I am getting the following exception.</p>\n<p><strong>Caused by: java.security.InvalidKeyException: IOException : version mismatch: (supported:     00, parsed:     01</strong></p>\n<p>Actually my. Pem file contains private key in the following structure.</p>\n<pre><code>----BEGIN EC PRIVATE KEY ------\n====+====+===\n====+====+===\n-----END EC PRIVATE KEY-----\n</code></pre>\n"},{"tags":["java","multithreading","java-threads"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1653254379,"post_id":72339871,"comment_id":127800493,"body_markdown":"“link for the code” When that project changes or disappears, your question will be useless to future readers.  Edit your question and include the code itself in the question.","body":"“link for the code” When that project changes or disappears, your question will be useless to future readers.  Edit your question and include the code itself in the question."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1653330483,"post_id":72339871,"comment_id":127821187,"body_markdown":"FYI: This is a really Bad Idea: `catch(Exception ignored) { }`. There have been numerous questions in this forum where the answer turned out to be that an exception that the OP thought could never happen actually _was_ happening, and their exception handler &quot;swallowed&quot; it without printing or logging anything at all. You should _at least_ put an `ignored.printStackTrace()` in the handler so that you can know if the exception was thrown.","body":"FYI: This is a really Bad Idea: <code>catch(Exception ignored) { }</code>. There have been numerous questions in this forum where the answer turned out to be that an exception that the OP thought could never happen actually <i>was</i> happening, and their exception handler &quot;swallowed&quot; it without printing or logging anything at all. You should <i>at least</i> put an <code>ignored.printStackTrace()</code> in the handler so that you can know if the exception was thrown."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1653330781,"post_id":72339871,"comment_id":127821301,"body_markdown":"I&#39;m not sure what you&#39;re trying to do with `notify(); wait();` but that also looks like a Bad Idea. `wait()` and `notify()` are a low-level mechanism that is supposed to be used [in a very specific way](https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html). Another whole category of questions in this forum comes from people who try to get creative with `wait()` and `notify()`. Maybe a higher-level synchronization object like [`CyclicBarrier`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CyclicBarrier.html) would be helpful to you.","body":"I&#39;m not sure what you&#39;re trying to do with <code>notify(); wait();</code> but that also looks like a Bad Idea. <code>wait()</code> and <code>notify()</code> are a low-level mechanism that is supposed to be used <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow noreferrer\">in a very specific way</a>. Another whole category of questions in this forum comes from people who try to get creative with <code>wait()</code> and <code>notify()</code>. Maybe a higher-level synchronization object like <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CyclicBarrier.html\" rel=\"nofollow noreferrer\"><code>CyclicBarrier</code></a> would be helpful to you."}],"owner":{"account_id":15254131,"reputation":1,"user_id":11006510,"display_name":"Shlomi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653240918,"creation_date":1653240625,"question_id":72339871,"body_markdown":"[link for the code][1]\r\n(It&#39;s for homework so don&#39;t try to look for logic)\r\n\r\nBasically what the program should do is create x (user input) threads and &quot;assign&quot; each thread a value (by using an array of size x).\r\n\r\nAfter that, the program goes through y (user input) rounds where for each round it does the following:\r\n\r\nEvery thread should check for the assigned values of his &quot;neighbors&quot; have - if his assigned value is smaller than their assigned values then his value will increase by 1, if it&#39;s greater than both of these values then his assigned value will decrease by 1, and if it&#39;s between them (or equal to one or both of them) his assigned value will remain unchanged\r\n\r\nA thread should only change his assigned value after his neighbors have checked him out (in my implementation I&#39;m just doing it at the end of each round)\r\n\r\nIn addition to that, we are treating the array as a &quot;circular&quot; array, meaning that the right neighbor of the arr[arr.length - 1] is arr[0].\r\n\r\nAfter each round we should print the current status of the array that represents the threads assigned values.\r\n\r\nMy problem is that after all threads have checked their neighbors assigned values, the program gets stuck jumping between two threads (lines 79-85). I&#39;ve tried using notifyAll() instead of notify() but it didn&#39;t help\r\n\r\nThanks in advance\r\n\r\n  [1]: https://github.com/shlomi-levi/Maman15Question2/blob/master/mainClass.java","title":"Java Threads - weird behaviour - program jumps between two threads alternatively at certain point","body":"<p><a href=\"https://github.com/shlomi-levi/Maman15Question2/blob/master/mainClass.java\" rel=\"nofollow noreferrer\">link for the code</a>\n(It's for homework so don't try to look for logic)</p>\n<p>Basically what the program should do is create x (user input) threads and &quot;assign&quot; each thread a value (by using an array of size x).</p>\n<p>After that, the program goes through y (user input) rounds where for each round it does the following:</p>\n<p>Every thread should check for the assigned values of his &quot;neighbors&quot; have - if his assigned value is smaller than their assigned values then his value will increase by 1, if it's greater than both of these values then his assigned value will decrease by 1, and if it's between them (or equal to one or both of them) his assigned value will remain unchanged</p>\n<p>A thread should only change his assigned value after his neighbors have checked him out (in my implementation I'm just doing it at the end of each round)</p>\n<p>In addition to that, we are treating the array as a &quot;circular&quot; array, meaning that the right neighbor of the arr[arr.length - 1] is arr[0].</p>\n<p>After each round we should print the current status of the array that represents the threads assigned values.</p>\n<p>My problem is that after all threads have checked their neighbors assigned values, the program gets stuck jumping between two threads (lines 79-85). I've tried using notifyAll() instead of notify() but it didn't help</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1653241294,"post_id":72339898,"comment_id":127797870,"body_markdown":"`AnotherVO` seems to be simply a POJO having some getters (`getPointForBusiness`, `getE1url`, `getE2url`, `getE3url`) returning strings.","body":"<code>AnotherVO</code> seems to be simply a POJO having some getters (<code>getPointForBusiness</code>, <code>getE1url</code>, <code>getE2url</code>, <code>getE3url</code>) returning strings."},{"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"score":0,"creation_date":1653241757,"post_id":72339898,"comment_id":127797973,"body_markdown":"I think so too. But I am hoping there is something to it ;-;","body":"I think so too. But I am hoping there is something to it ;-;"}],"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653240836,"creation_date":1653240836,"question_id":72339898,"body_markdown":"I was looking for a way to read and edit docx file using java and found an answer with code from this link [https://stackoverflow.com/questions/31981007/editing-word-document-using-apache-poi][1]\r\n\r\nand there is a part of code from the answer\r\n\r\n     public void wordDocProcessor(AnotherVO anotherData, ArrayList&lt;String&gt; list,\r\n                                     String sourse, String destination) throws IOException,\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31981007/editing-word-document-using-apache-poi\r\n\r\nSo I wonder, what is this AnotherVO thing. I can&#39;t find it anywhere","title":"What is AnotherVO, is it from POI?","body":"<p>I was looking for a way to read and edit docx file using java and found an answer with code from this link <a href=\"https://stackoverflow.com/questions/31981007/editing-word-document-using-apache-poi\">Editing Word Document using Apache POI</a></p>\n<p>and there is a part of code from the answer</p>\n<pre><code> public void wordDocProcessor(AnotherVO anotherData, ArrayList&lt;String&gt; list,\n                                 String sourse, String destination) throws IOException,\n</code></pre>\n<p>So I wonder, what is this AnotherVO thing. I can't find it anywhere</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1653141053,"post_id":72330016,"comment_id":127781334,"body_markdown":"That library has not been updated in a few years. You could try adding `jcenter()` to your list of artifact repositories. Otherwise, you may need to [build it from source](https://github.com/ashik94vc/ElegantNumberButton).","body":"That library has not been updated in a few years. You could try adding <code>jcenter()</code> to your list of artifact repositories. Otherwise, you may need to <a href=\"https://github.com/ashik94vc/ElegantNumberButton\" rel=\"nofollow noreferrer\">build it from source</a>."},{"owner":{"account_id":25351232,"reputation":1,"user_id":19168061,"display_name":"Nabil  Baghoughi"},"score":0,"creation_date":1653151983,"post_id":72330016,"comment_id":127783653,"body_markdown":"how can i build it from source","body":"how can i build it from source"}],"owner":{"account_id":25351232,"reputation":1,"user_id":19168061,"display_name":"Nabil  Baghoughi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653240416,"creation_date":1653139873,"question_id":72330016,"body_markdown":"I&#39;m getting an error when adding the following into dependencies (Module : app)\r\n\r\n`implementation&#39;com.cepheuen.elegant-number-button:lib:1.0.2&#39;` \r\n\r\nThe error:\r\n\r\n```\r\nCould not find com.cepheuen.elegant-number-button:lib:1.0.2.\r\nRequired by:\r\n   project :app\r\n```","title":"implementation &#39;com.cepheuen.elegant-number-button:lib:1.0.2&#39; into dependencies in Android studio (java ) &quot;:show me error:&quot;","body":"<p>I'm getting an error when adding the following into dependencies (Module : app)</p>\n<p><code>implementation'com.cepheuen.elegant-number-button:lib:1.0.2'</code></p>\n<p>The error:</p>\n<pre><code>Could not find com.cepheuen.elegant-number-button:lib:1.0.2.\nRequired by:\n   project :app\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","repository"],"comments":[{"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"score":0,"creation_date":1653075579,"post_id":72323191,"comment_id":127771359,"body_markdown":"I agree that&#39;s not enough information for an answer. For starters, you can add `spring.jpa.show-sql=true` in your `application.properties` file to see what query is being made under the hoods in the first and second attempts.","body":"I agree that&#39;s not enough information for an answer. For starters, you can add <code>spring.jpa.show-sql=true</code> in your <code>application.properties</code> file to see what query is being made under the hoods in the first and second attempts."},{"owner":{"account_id":3444490,"reputation":1,"user_id":2885625,"display_name":"Bhaskar"},"score":0,"creation_date":1653165634,"post_id":72323191,"comment_id":127786258,"body_markdown":"Sure, I will make that true and see the queries . and try to post my findings. Just to check , have you seen the attached logs ?","body":"Sure, I will make that true and see the queries . and try to post my findings. Just to check , have you seen the attached logs ?"},{"owner":{"account_id":3444490,"reputation":1,"user_id":2885625,"display_name":"Bhaskar"},"score":0,"creation_date":1653236245,"post_id":72323191,"comment_id":127796704,"body_markdown":"@TomazFernandes \nI checked with show-sql and the queries formed are same .","body":"@TomazFernandes  I checked with show-sql and the queries formed are same ."},{"owner":{"account_id":3444490,"reputation":1,"user_id":2885625,"display_name":"Bhaskar"},"score":0,"creation_date":1653236253,"post_id":72323191,"comment_id":127796705,"body_markdown":"@cliff2310 Can you tell me what more info I should add to tell the issue ?\nAfaik this is what I am facing for each alternate queryies lat , lng get fillled from repository. \n\nI am adding the repo to the question.","body":"@cliff2310 Can you tell me what more info I should add to tell the issue ? Afaik this is what I am facing for each alternate queryies lat , lng get fillled from repository.   I am adding the repo to the question."}],"answers":[{"tags":[],"owner":{"account_id":3444490,"reputation":1,"user_id":2885625,"display_name":"Bhaskar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653239810,"creation_date":1653239810,"answer_id":72339758,"question_id":72323191,"body_markdown":"There is no issue in spring jpa find method what I just found out.\r\n\r\nIt was something written after each successful call which is making the columns null and then when I was trying they came null and refilled again. \r\n\r\nI apologise for wasting your time. \r\nI will be deleting the  post after sometime as this is not at all the issue.\r\n\r\nThanks","title":"Spring JPA entity findBy&lt;Parameter&gt; method giving values in 1st attempt and null in 2nd call?","body":"<p>There is no issue in spring jpa find method what I just found out.</p>\n<p>It was something written after each successful call which is making the columns null and then when I was trying they came null and refilled again.</p>\n<p>I apologise for wasting your time.\nI will be deleting the  post after sometime as this is not at all the issue.</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":3444490,"reputation":1,"user_id":2885625,"display_name":"Bhaskar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653239810,"creation_date":1653070275,"question_id":72323191,"body_markdown":"I have a Spring JPA method to get entity -&gt; findBy\\&lt;SomeCode\\&gt;(). \r\nThe spring boot application comes up and on making a 1st rest call the entity comes up with all values filled. \r\nWhen tried  with 2nd attempt the two entity members coming &#39;null&#39; which should not be - as other values are there. And there is data in db.\r\n\r\nThis goes on alternate basis i.e. if I run again 3rd it comes up filled up while on 4th attempt two entity members again come null.\r\n\r\nThe code log line is as below - \r\n\r\n     Site site = siteRepo.findByCode(inputSiteCode);\r\n        if (site != null) {\r\n            log.info(&quot;UPDATION CASE&quot;);\r\n            log.info(&quot;site code -&gt; &quot;+ site.getCode()+&quot; lat  -&gt; &quot;+ site.getLat() +&quot; lng  -&gt; &quot;+ site.getLng() );\r\n\r\n\r\nMy entity piece which is coming null on alternate runs \r\n\r\n    @Column(precision = 9, scale = 6)\r\n    private BigDecimal lat;\r\n    @Column(precision = 9, scale = 6)\r\n    private BigDecimal lng;\r\n\r\n\r\nRepository:\r\n\r\n    @Repository\r\n    public interface SiteRepository extends JpaRepository&lt;Site, Integer&gt; {\r\n\r\n\tpublic List&lt;Site&gt; findAll();\r\n\r\n\tpublic Site findAllById(int id);\r\n\t\r\n\tpublic Site findByCode(Integer code);\r\n\r\n    }\r\n\r\n\r\nThe two logs in 2 calls are as follows:\r\n\r\n1) Success case logs\r\n\r\n```\r\nHibernate: select site0_.id as id1_6_, site0_.address as address2_6_, site0_.city as city3_6_, site0_.code as code4_6_, site0_.details as details5_6_, site0_.lat as lat6_6_, site0_.lng as lng7_6_, site0_.name as name8_6_, site0_.scheduler_id as schedule9_6_, site0_.state as state10_6_, site0_.zip as zip11_6_ from mow_site site0_ where site0_.code=?\r\n\r\n2022-05-22 21:55:27.931  INFO 44064 --- [cTaskExecutor-5] c.m.d.b.SiteDataProcessor                : UPDATION CASE\r\n2022-05-22 21:55:27.931  INFO 44064 --- [cTaskExecutor-5] c.m.d.b.SiteDataProcessor                : site code -&gt; 83 lat  -&gt; 32.638450 lng  -&gt; -97.347690\r\naddress -&gt; 7501 JBrown Rd\r\n```\r\n\r\n\r\n2) Failure (Empty lat/lng) Case\r\n\r\n```\r\nHibernate: select site0_.id as id1_6_, site0_.address as address2_6_, site0_.city as city3_6_, site0_.code as code4_6_, site0_.details as details5_6_, site0_.lat as lat6_6_, site0_.lng as lng7_6_, site0_.name as name8_6_, site0_.scheduler_id as schedule9_6_, site0_.state as state10_6_, site0_.zip as zip11_6_ from mow_site site0_ where site0_.code=?\r\n\r\n2022-05-22 21:56:57.356  INFO 44064 --- [cTaskExecutor-6] c.m.d.b.SiteDataProcessor                : UPDATION CASE\r\n2022-05-22 21:56:57.364  INFO 44064 --- [cTaskExecutor-6] c.m.d.b.SiteDataProcessor                : site code -&gt; 83 lat  -&gt; null lng  -&gt; null\r\naddress -&gt; 7501 JBrown Rd\r\n\r\n```\r\n\r\n\r\nI would appreciate the help.\r\nThanks ","title":"Spring JPA entity findBy&lt;Parameter&gt; method giving values in 1st attempt and null in 2nd call?","body":"<p>I have a Spring JPA method to get entity -&gt; findBy&lt;SomeCode&gt;().\nThe spring boot application comes up and on making a 1st rest call the entity comes up with all values filled.\nWhen tried  with 2nd attempt the two entity members coming 'null' which should not be - as other values are there. And there is data in db.</p>\n<p>This goes on alternate basis i.e. if I run again 3rd it comes up filled up while on 4th attempt two entity members again come null.</p>\n<p>The code log line is as below -</p>\n<pre><code> Site site = siteRepo.findByCode(inputSiteCode);\n    if (site != null) {\n        log.info(&quot;UPDATION CASE&quot;);\n        log.info(&quot;site code -&gt; &quot;+ site.getCode()+&quot; lat  -&gt; &quot;+ site.getLat() +&quot; lng  -&gt; &quot;+ site.getLng() );\n</code></pre>\n<p>My entity piece which is coming null on alternate runs</p>\n<pre><code>@Column(precision = 9, scale = 6)\nprivate BigDecimal lat;\n@Column(precision = 9, scale = 6)\nprivate BigDecimal lng;\n</code></pre>\n<p>Repository:</p>\n<pre><code>@Repository\npublic interface SiteRepository extends JpaRepository&lt;Site, Integer&gt; {\n\npublic List&lt;Site&gt; findAll();\n\npublic Site findAllById(int id);\n\npublic Site findByCode(Integer code);\n\n}\n</code></pre>\n<p>The two logs in 2 calls are as follows:</p>\n<ol>\n<li>Success case logs</li>\n</ol>\n<pre><code>Hibernate: select site0_.id as id1_6_, site0_.address as address2_6_, site0_.city as city3_6_, site0_.code as code4_6_, site0_.details as details5_6_, site0_.lat as lat6_6_, site0_.lng as lng7_6_, site0_.name as name8_6_, site0_.scheduler_id as schedule9_6_, site0_.state as state10_6_, site0_.zip as zip11_6_ from mow_site site0_ where site0_.code=?\n\n2022-05-22 21:55:27.931  INFO 44064 --- [cTaskExecutor-5] c.m.d.b.SiteDataProcessor                : UPDATION CASE\n2022-05-22 21:55:27.931  INFO 44064 --- [cTaskExecutor-5] c.m.d.b.SiteDataProcessor                : site code -&gt; 83 lat  -&gt; 32.638450 lng  -&gt; -97.347690\naddress -&gt; 7501 JBrown Rd\n</code></pre>\n<ol start=\"2\">\n<li>Failure (Empty lat/lng) Case</li>\n</ol>\n<pre><code>Hibernate: select site0_.id as id1_6_, site0_.address as address2_6_, site0_.city as city3_6_, site0_.code as code4_6_, site0_.details as details5_6_, site0_.lat as lat6_6_, site0_.lng as lng7_6_, site0_.name as name8_6_, site0_.scheduler_id as schedule9_6_, site0_.state as state10_6_, site0_.zip as zip11_6_ from mow_site site0_ where site0_.code=?\n\n2022-05-22 21:56:57.356  INFO 44064 --- [cTaskExecutor-6] c.m.d.b.SiteDataProcessor                : UPDATION CASE\n2022-05-22 21:56:57.364  INFO 44064 --- [cTaskExecutor-6] c.m.d.b.SiteDataProcessor                : site code -&gt; 83 lat  -&gt; null lng  -&gt; null\naddress -&gt; 7501 JBrown Rd\n\n</code></pre>\n<p>I would appreciate the help.\nThanks</p>\n"},{"tags":["java","android","android-recyclerview","retrofit2","android-adapter"],"comments":[{"owner":{"account_id":24420384,"reputation":3,"user_id":19150390,"display_name":"SolidityDev285"},"score":0,"creation_date":1653182755,"post_id":72334154,"comment_id":127788266,"body_markdown":"@TylerV thank you, I&#39;ve read the post and I suspected that it may be the case but it is not clear to me how I can reorganize the flow of my function, the example provided didn&#39;t help as I&#39;m not familiar with kotlin","body":"@TylerV thank you, I&#39;ve read the post and I suspected that it may be the case but it is not clear to me how I can reorganize the flow of my function, the example provided didn&#39;t help as I&#39;m not familiar with kotlin"},{"owner":{"account_id":24420384,"reputation":3,"user_id":19150390,"display_name":"SolidityDev285"},"score":0,"creation_date":1653184405,"post_id":72334154,"comment_id":127788383,"body_markdown":"@TylerV I&#39;m sorry, I still find it difficult to understand. Tyler, could you explain it in a more beginner friendly way, please? Should I just put the setAdapter() in the updateDisplay() method? And what do you mean by &quot;define a callback to pass to it&quot;?","body":"@TylerV I&#39;m sorry, I still find it difficult to understand. Tyler, could you explain it in a more beginner friendly way, please? Should I just put the setAdapter() in the updateDisplay() method? And what do you mean by &quot;define a callback to pass to it&quot;?"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1653184528,"post_id":72334154,"comment_id":127788399,"body_markdown":"I added an answer with some more detail  - it was getting too long for a comment.","body":"I added an answer with some more detail  - it was getting too long for a comment."},{"owner":{"account_id":24420384,"reputation":3,"user_id":19150390,"display_name":"SolidityDev285"},"score":0,"creation_date":1653184818,"post_id":72334154,"comment_id":127788423,"body_markdown":"@TylerV words cannot express my gratitude, your help came at a crucial time as my deadline is very soon, thank you for what you are doing","body":"@TylerV words cannot express my gratitude, your help came at a crucial time as my deadline is very soon, thank you for what you are doing"},{"owner":{"account_id":24420384,"reputation":3,"user_id":19150390,"display_name":"SolidityDev285"},"score":0,"creation_date":1653609896,"post_id":72334154,"comment_id":127899087,"body_markdown":"@TylerV I&#39;ve made your suggestion work perfectly but now I&#39;ve come to a new problem where I have to access multiple DB tables at the same time, should I use nested calls, or is there a way to stack multiple requests in a single call?","body":"@TylerV I&#39;ve made your suggestion work perfectly but now I&#39;ve come to a new problem where I have to access multiple DB tables at the same time, should I use nested calls, or is there a way to stack multiple requests in a single call?"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1653610498,"post_id":72334154,"comment_id":127899166,"body_markdown":"I would recommend you ask a new question with some example code showing what exactly you are trying to do. If the subsequent calls depend on the initial ones nested is probably what you&#39;d need.","body":"I would recommend you ask a new question with some example code showing what exactly you are trying to do. If the subsequent calls depend on the initial ones nested is probably what you&#39;d need."},{"owner":{"account_id":24420384,"reputation":3,"user_id":19150390,"display_name":"SolidityDev285"},"score":0,"creation_date":1653610911,"post_id":72334154,"comment_id":127899213,"body_markdown":"@TylerV thank you, I&#39;ll try to use nested for now, just wanted to know if there is a function for multiple calls that I was not aware of, if I run into problems with the  implementation which I can&#39;t solve despite researching it on my own, I&#39;ll post a new question!","body":"@TylerV thank you, I&#39;ll try to use nested for now, just wanted to know if there is a function for multiple calls that I was not aware of, if I run into problems with the  implementation which I can&#39;t solve despite researching it on my own, I&#39;ll post a new question!"}],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653184362,"creation_date":1653184016,"answer_id":72334281,"question_id":72334154,"body_markdown":"Your method is asynchronous, so the code in `onResponse` runs in the future, after your `getTaskData` method has already returned an empty list. You would need to modify your program flow to accommodate this. \r\n\r\nHere is an example of how you could define your own custom callback to handle that, by setting up the RecyclerView empty at first and then adding the data once it arrives.\r\n\r\n**Step 1**: define an interface somewhere (e.g. in the activity or retrofit request class)\r\n\r\n```java\r\ninterface OnTasksRetrieved {\r\n    void getResult(List&lt;Task&gt; result);\r\n}\r\n```\r\n\r\n**Step 2**: change your `getTasksData` method to take a callback implementing that interface instead of returning a list\r\n```java\r\npublic static void getTasksData(OnTasksRetrieved callback) {\r\n    //...\r\n    call.enqueue(new Callback&lt;List&lt;Task&gt;&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;List&lt;Task&gt;&gt; call, Response&lt;List&lt;Task&gt;&gt; response) {\r\n            // Call your callback once you have retrieved the data\r\n            callback.getResult(response.body());\r\n        }\r\n        @Override\r\n        public void onFailure(Call&lt;List&lt;Task&gt;&gt; call, Throwable t) {\r\n        }\r\n    });\r\n\r\n    // do not return anything\r\n}\r\n```\r\n\r\n**Step 3**: when you start the async call in `onCreate`, create an instance of the callback interface to pass to it to handle the result\r\n\r\n```java\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_list_animation);\r\n    parent_view = findViewById(android.R.id.content);\r\n    initComponent();\r\n    \r\n    // start the async fetch here - it won&#39;t finish until\r\n    // later in the future, when it will call the callback code\r\n    // below to update the RecyclerView data\r\n    getTasksData(\r\n        new OnTasksRetrieved() {\r\n            @Override\r\n            public void getResult(List&lt;Task&gt; result) {\r\n                // The code in here runs much later in the future - the adapter\r\n                // will already have been set up, but will be empty.\r\n                myAdapter.setItems(result); // add this method to the adapter\r\n            }\r\n        }\r\n    );\r\n}\r\n```\r\n\r\nYou will need to modify the adapter so it doesn&#39;t take the List as an input, but instead has a `setItems` method something like this, which will be called once the data is retrieved:\r\n\r\n```java\r\nprivate List&lt;Task&gt; items = new ArrayList&lt;&gt;();\r\n\r\npublic AdapterTasks(Context context,  int animation_type) {\r\n    ctx = context;\r\n    this.animation_type = animation_type;\r\n}\r\n\r\npublic void setItems(List&lt;Task&gt; data) {\r\n    items.clear();\r\n    items.addAll(data);\r\n    notifyDataSetChanged();\r\n}\r\n```","title":"Android recyclerview does not show any data","body":"<p>Your method is asynchronous, so the code in <code>onResponse</code> runs in the future, after your <code>getTaskData</code> method has already returned an empty list. You would need to modify your program flow to accommodate this.</p>\n<p>Here is an example of how you could define your own custom callback to handle that, by setting up the RecyclerView empty at first and then adding the data once it arrives.</p>\n<p><strong>Step 1</strong>: define an interface somewhere (e.g. in the activity or retrofit request class)</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface OnTasksRetrieved {\n    void getResult(List&lt;Task&gt; result);\n}\n</code></pre>\n<p><strong>Step 2</strong>: change your <code>getTasksData</code> method to take a callback implementing that interface instead of returning a list</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void getTasksData(OnTasksRetrieved callback) {\n    //...\n    call.enqueue(new Callback&lt;List&lt;Task&gt;&gt;() {\n        @Override\n        public void onResponse(Call&lt;List&lt;Task&gt;&gt; call, Response&lt;List&lt;Task&gt;&gt; response) {\n            // Call your callback once you have retrieved the data\n            callback.getResult(response.body());\n        }\n        @Override\n        public void onFailure(Call&lt;List&lt;Task&gt;&gt; call, Throwable t) {\n        }\n    });\n\n    // do not return anything\n}\n</code></pre>\n<p><strong>Step 3</strong>: when you start the async call in <code>onCreate</code>, create an instance of the callback interface to pass to it to handle the result</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_list_animation);\n    parent_view = findViewById(android.R.id.content);\n    initComponent();\n    \n    // start the async fetch here - it won't finish until\n    // later in the future, when it will call the callback code\n    // below to update the RecyclerView data\n    getTasksData(\n        new OnTasksRetrieved() {\n            @Override\n            public void getResult(List&lt;Task&gt; result) {\n                // The code in here runs much later in the future - the adapter\n                // will already have been set up, but will be empty.\n                myAdapter.setItems(result); // add this method to the adapter\n            }\n        }\n    );\n}\n</code></pre>\n<p>You will need to modify the adapter so it doesn't take the List as an input, but instead has a <code>setItems</code> method something like this, which will be called once the data is retrieved:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;Task&gt; items = new ArrayList&lt;&gt;();\n\npublic AdapterTasks(Context context,  int animation_type) {\n    ctx = context;\n    this.animation_type = animation_type;\n}\n\npublic void setItems(List&lt;Task&gt; data) {\n    items.clear();\n    items.addAll(data);\n    notifyDataSetChanged();\n}\n</code></pre>\n"}],"owner":{"account_id":24420384,"reputation":3,"user_id":19150390,"display_name":"SolidityDev285"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72334281,"answer_count":1,"score":0,"last_activity_date":1653239431,"creation_date":1653181497,"question_id":72334154,"body_markdown":"I&#39;m using a template and I replaced the placeholder data with a Retrofit 2 request that parses a JSON file of the data from an URL and puts it into an object list. I ran into a problem where my retrofit call gets executed and returns items = 0 at first, then the code executes further ahead using the value *items=0* and after quite a few steps in the debugger, it comes back to the call and shows the correct response (items=12) but the Adapter/RecycleView operations seem to have already been executed and they do not use the late-arrived parsed data.\r\n\r\n**MainActivity.java**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private View parent_view;\r\n    List&lt;Task&gt; items = new List&lt;Task&gt;() {...}\r\n    private RecyclerView recyclerView;\r\n    private AdapterTasks mAdapter;\r\n    private int animation_type = ItemAnimation.BOTTOM_UP;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        items = DataGenerator.getTasksData();\r\n        items.addAll(DataGenerator.getTasksData());\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_list_animation);\r\n        parent_view = findViewById(android.R.id.content);\r\n        initComponent();\r\n\r\n    }\r\n    private void initComponent() {\r\n\r\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setHasFixedSize(true);\r\n        animation_type = ItemAnimation.FADE_IN;\r\n        setAdapter();\r\n    }\r\n\r\n    private void setAdapter() {\r\n        //set data and list adapter\r\n        mAdapter = new AdapterTasks(this, items, animation_type);\r\n        recyclerView.setAdapter(mAdapter);\r\n\r\n        // on item list clicked\r\n        mAdapter.setOnItemClickListener(new AdapterTasks.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(View view, Task obj, int position) {\r\n                //open task view\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.menu_list_animation, menu);\r\n        return true;\r\n    }\r\n\r\n**Retrofit request**\r\n\r\n    public static List&lt;Task&gt; getTasksData() {\r\n        HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\r\n        interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n        OkHttpClient client = new OkHttpClient.Builder().addInterceptor(interceptor).build();\r\n\r\n        Gson gson = new GsonBuilder()\r\n                .setDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n                .create();\r\n\r\n        Retrofit retrofit= new Retrofit.Builder()\r\n                .baseUrl(&quot;http://10.0.2.2/index.php/&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create(gson))\r\n                .client(client)\r\n                .build();\r\n\r\n        TasksApi taskAPI =retrofit.create(TasksApi.class);\r\n        Call&lt;List&lt;Task&gt;&gt; call = taskAPI.getAllTasks();\r\n\r\n        call.enqueue(new Callback&lt;List&lt;Task&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;List&lt;Task&gt;&gt; call, Response&lt;List&lt;Task&gt;&gt; response) {\r\n                items = response.body();\r\n            }\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;Task&gt;&gt; call, Throwable t) {\r\n            }\r\n        });\r\n        return items;\r\n    }\r\n\r\n**Adapter**\r\n\r\n    public class AdapterTasks extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n\r\n    private List&lt;Task&gt; items;\r\n    private Context ctx;\r\n\r\n    private OnItemClickListener mOnItemClickListener;\r\n    private int animation_type = 0;\r\n\r\n    public interface OnItemClickListener {\r\n        void onItemClick(View view, Task obj, int position);\r\n    }\r\n\r\n    public void setOnItemClickListener(final OnItemClickListener mItemClickListener) {\r\n        this.mOnItemClickListener = mItemClickListener;\r\n    }\r\n\r\n    public AdapterTasks(Context context, List&lt;Task&gt; items, int animation_type) {\r\n        this.items = DataGenerator.getTasksData();\r\n        this.items.addAll(DataGenerator.getTasksData());\r\n        ctx = context;\r\n        this.animation_type = animation_type;\r\n    }\r\n\r\n    public class OriginalViewHolder extends RecyclerView.ViewHolder {\r\n        public View lyt_parent;\r\n        public TextView laikas;\r\n        public TextView klientas;\r\n        public TextView darbas;\r\n        public TextView komentaras;\r\n        public Button atlikta;\r\n\r\n\r\n        public OriginalViewHolder(View v) {\r\n            super(v);\r\n            laikas = (TextView) v.findViewById(R.id.laikas);\r\n            klientas = (TextView) v.findViewById(R.id.name);\r\n            lyt_parent = (View) v.findViewById(R.id.lyt_parent);\r\n            darbas = (TextView) v.findViewById(R.id.darbas);\r\n            komentaras = (TextView) v.findViewById(R.id.komentaras);\r\n            atlikta = (Button) v.findViewById(R.id.atlikta);\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        RecyclerView.ViewHolder vh;\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_task, parent, false);\r\n        vh = new OriginalViewHolder(v);\r\n        return vh;\r\n    }\r\n\r\n    // Replace the contents of a view (invoked by the layout manager)\r\n    @Override\r\n    public void onBindViewHolder(RecyclerView.ViewHolder holder, final int position) {\r\n        Log.e(&quot;onBindViewHolder&quot;, &quot;onBindViewHolder : &quot; + position);\r\n        if (holder instanceof OriginalViewHolder) {\r\n            OriginalViewHolder view = (OriginalViewHolder) holder;\r\n\r\n            Task t = items.get(position);\r\n            view.laikas.setText((CharSequence) t.AtlikData);\r\n            view.klientas.setText(t.KlientasID);\r\n            view.darbas.setText(t.VeiksmoID);\r\n            view.komentaras.setText(t.Komentaras);\r\n            view.lyt_parent.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (mOnItemClickListener != null) {\r\n                        mOnItemClickListener.onItemClick(view, items.get(position), position);\r\n                    }\r\n                }\r\n            });\r\n            setAnimation(view.itemView, position);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onAttachedToRecyclerView(RecyclerView recyclerView) {\r\n        recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n            @Override\r\n            public void onScrollStateChanged(RecyclerView recyclerView, int newState) {\r\n                on_attach = false;\r\n                super.onScrollStateChanged(recyclerView, newState);\r\n            }\r\n        });\r\n        super.onAttachedToRecyclerView(recyclerView);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return items.size();\r\n    }\r\n\r\n    private int lastPosition = -1;\r\n    private boolean on_attach = true;\r\n\r\n    private void setAnimation(View view, int position) {\r\n        if (position &gt; lastPosition) {\r\n            ItemAnimation.animate(view, on_attach ? position : -1, animation_type);\r\n            lastPosition = position;\r\n        }\r\n    }\r\n\r\n}","title":"Android recyclerview does not show any data","body":"<p>I'm using a template and I replaced the placeholder data with a Retrofit 2 request that parses a JSON file of the data from an URL and puts it into an object list. I ran into a problem where my retrofit call gets executed and returns items = 0 at first, then the code executes further ahead using the value <em>items=0</em> and after quite a few steps in the debugger, it comes back to the call and shows the correct response (items=12) but the Adapter/RecycleView operations seem to have already been executed and they do not use the late-arrived parsed data.</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate View parent_view;\nList&lt;Task&gt; items = new List&lt;Task&gt;() {...}\nprivate RecyclerView recyclerView;\nprivate AdapterTasks mAdapter;\nprivate int animation_type = ItemAnimation.BOTTOM_UP;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    items = DataGenerator.getTasksData();\n    items.addAll(DataGenerator.getTasksData());\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_list_animation);\n    parent_view = findViewById(android.R.id.content);\n    initComponent();\n\n}\nprivate void initComponent() {\n\n    recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    recyclerView.setHasFixedSize(true);\n    animation_type = ItemAnimation.FADE_IN;\n    setAdapter();\n}\n\nprivate void setAdapter() {\n    //set data and list adapter\n    mAdapter = new AdapterTasks(this, items, animation_type);\n    recyclerView.setAdapter(mAdapter);\n\n    // on item list clicked\n    mAdapter.setOnItemClickListener(new AdapterTasks.OnItemClickListener() {\n        @Override\n        public void onItemClick(View view, Task obj, int position) {\n            //open task view\n        }\n    });\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.menu_list_animation, menu);\n    return true;\n}\n</code></pre>\n<p><strong>Retrofit request</strong></p>\n<pre><code>public static List&lt;Task&gt; getTasksData() {\n    HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\n    interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n    OkHttpClient client = new OkHttpClient.Builder().addInterceptor(interceptor).build();\n\n    Gson gson = new GsonBuilder()\n            .setDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;)\n            .create();\n\n    Retrofit retrofit= new Retrofit.Builder()\n            .baseUrl(&quot;http://10.0.2.2/index.php/&quot;)\n            .addConverterFactory(GsonConverterFactory.create(gson))\n            .client(client)\n            .build();\n\n    TasksApi taskAPI =retrofit.create(TasksApi.class);\n    Call&lt;List&lt;Task&gt;&gt; call = taskAPI.getAllTasks();\n\n    call.enqueue(new Callback&lt;List&lt;Task&gt;&gt;() {\n        @Override\n        public void onResponse(Call&lt;List&lt;Task&gt;&gt; call, Response&lt;List&lt;Task&gt;&gt; response) {\n            items = response.body();\n        }\n        @Override\n        public void onFailure(Call&lt;List&lt;Task&gt;&gt; call, Throwable t) {\n        }\n    });\n    return items;\n}\n</code></pre>\n<p><strong>Adapter</strong></p>\n<pre><code>public class AdapterTasks extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n\nprivate List&lt;Task&gt; items;\nprivate Context ctx;\n\nprivate OnItemClickListener mOnItemClickListener;\nprivate int animation_type = 0;\n\npublic interface OnItemClickListener {\n    void onItemClick(View view, Task obj, int position);\n}\n\npublic void setOnItemClickListener(final OnItemClickListener mItemClickListener) {\n    this.mOnItemClickListener = mItemClickListener;\n}\n\npublic AdapterTasks(Context context, List&lt;Task&gt; items, int animation_type) {\n    this.items = DataGenerator.getTasksData();\n    this.items.addAll(DataGenerator.getTasksData());\n    ctx = context;\n    this.animation_type = animation_type;\n}\n\npublic class OriginalViewHolder extends RecyclerView.ViewHolder {\n    public View lyt_parent;\n    public TextView laikas;\n    public TextView klientas;\n    public TextView darbas;\n    public TextView komentaras;\n    public Button atlikta;\n\n\n    public OriginalViewHolder(View v) {\n        super(v);\n        laikas = (TextView) v.findViewById(R.id.laikas);\n        klientas = (TextView) v.findViewById(R.id.name);\n        lyt_parent = (View) v.findViewById(R.id.lyt_parent);\n        darbas = (TextView) v.findViewById(R.id.darbas);\n        komentaras = (TextView) v.findViewById(R.id.komentaras);\n        atlikta = (Button) v.findViewById(R.id.atlikta);\n\n    }\n}\n\n@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n    RecyclerView.ViewHolder vh;\n    View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_task, parent, false);\n    vh = new OriginalViewHolder(v);\n    return vh;\n}\n\n// Replace the contents of a view (invoked by the layout manager)\n@Override\npublic void onBindViewHolder(RecyclerView.ViewHolder holder, final int position) {\n    Log.e(&quot;onBindViewHolder&quot;, &quot;onBindViewHolder : &quot; + position);\n    if (holder instanceof OriginalViewHolder) {\n        OriginalViewHolder view = (OriginalViewHolder) holder;\n\n        Task t = items.get(position);\n        view.laikas.setText((CharSequence) t.AtlikData);\n        view.klientas.setText(t.KlientasID);\n        view.darbas.setText(t.VeiksmoID);\n        view.komentaras.setText(t.Komentaras);\n        view.lyt_parent.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (mOnItemClickListener != null) {\n                    mOnItemClickListener.onItemClick(view, items.get(position), position);\n                }\n            }\n        });\n        setAnimation(view.itemView, position);\n    }\n}\n\n@Override\npublic void onAttachedToRecyclerView(RecyclerView recyclerView) {\n    recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\n        @Override\n        public void onScrollStateChanged(RecyclerView recyclerView, int newState) {\n            on_attach = false;\n            super.onScrollStateChanged(recyclerView, newState);\n        }\n    });\n    super.onAttachedToRecyclerView(recyclerView);\n}\n\n@Override\npublic int getItemCount() {\n    return items.size();\n}\n\nprivate int lastPosition = -1;\nprivate boolean on_attach = true;\n\nprivate void setAnimation(View view, int position) {\n    if (position &gt; lastPosition) {\n        ItemAnimation.animate(view, on_attach ? position : -1, animation_type);\n        lastPosition = position;\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","kotlin","android-permissions","mobile-development"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653239082,"creation_date":1653239082,"answer_id":72339660,"question_id":72339604,"body_markdown":"Replace:\r\n\r\n```kotlin\r\npackageManager.PERMISSION_GRANTED\r\n```\r\n\r\nwith:\r\n\r\n```kotlin\r\nPackageManager.PERMISSION_GRANTED\r\n```\r\n\r\nIOW, use a capital `P`, not a lowercase `p`, in the class name `PackageManager`.","title":"My kotlin code to access the camera is giving this error -&gt;unsolved reference:PERMISSION_GRANTED.Please help me to solve the error","body":"<p>Replace:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>packageManager.PERMISSION_GRANTED\n</code></pre>\n<p>with:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>PackageManager.PERMISSION_GRANTED\n</code></pre>\n<p>IOW, use a capital <code>P</code>, not a lowercase <code>p</code>, in the class name <code>PackageManager</code>.</p>\n"}],"owner":{"account_id":19348823,"reputation":25,"user_id":14146697,"display_name":"Siddharthj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1007,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72339660,"answer_count":1,"score":0,"last_activity_date":1653239082,"creation_date":1653238601,"question_id":72339604,"body_markdown":"Below is my code that contains the error while I was following an youtube video (link provided) I got an error when I used packageManager.PERMISSION_GRANTED the code contains\r\nerror called &quot;Unresolved reference: PERMISSION_GRANTED&quot;.PLease help to solve the error fast\r\n```\r\npackage com.example.machineleaarningapp\r\n\r\nimport android.content.ActivityNotFoundException\r\nimport android.content.Intent\r\nimport android.graphics.Camera\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.provider.MediaStore\r\nimport android.widget.Button\r\nimport android.widget.ImageView\r\nimport android.widget.TextView\r\nimport androidx.activity.result.contract.ActivityResultContracts\r\nimport androidx.core.content.ContextCompat\r\nimport com.example.machineleaarningapp.databinding.ActivityMainBinding\r\nimport org.w3c.dom.Text\r\nimport java.security.Permission\r\n\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    private lateinit var  binding:ActivityMainBinding\r\n    private lateinit var  imageView: ImageView\r\n    private lateinit var  button: Button\r\n    private lateinit var tvOutput:TextView\r\n    private val GALLERREQUESTCODE=123\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding= ActivityMainBinding.inflate(layoutInflater)\r\n        val view=binding.root\r\n        setContentView(R.layout.activity_main)\r\n        setContentView(view)\r\n        imageView=binding.imageView\r\n        tvOutput=binding.resulttv\r\n        button=binding.capture\r\n        val buttonLoad=binding.Loadimage\r\n        button.setOnClickListener{\r\n            if(ContextCompat.checkSelfPermission(this,android.Manifest.permission.CAMERA)==packageManager.PERMISSION_GRANTED){\r\n                takePicturePreview.lauch(null)\r\n            }\r\n            else{\r\n                requestPermission.launch(android.Manifest.permission.CAMERA)\r\n            }\r\n        }\r\n    }\r\n}[I was following code on this youtube channel[\\]\\[1\\]][1]\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iHsls.png","title":"My kotlin code to access the camera is giving this error -&gt;unsolved reference:PERMISSION_GRANTED.Please help me to solve the error","body":"<p>Below is my code that contains the error while I was following an youtube video (link provided) I got an error when I used packageManager.PERMISSION_GRANTED the code contains\nerror called &quot;Unresolved reference: PERMISSION_GRANTED&quot;.PLease help to solve the error fast</p>\n<pre><code>package com.example.machineleaarningapp\n\nimport android.content.ActivityNotFoundException\nimport android.content.Intent\nimport android.graphics.Camera\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.provider.MediaStore\nimport android.widget.Button\nimport android.widget.ImageView\nimport android.widget.TextView\nimport androidx.activity.result.contract.ActivityResultContracts\nimport androidx.core.content.ContextCompat\nimport com.example.machineleaarningapp.databinding.ActivityMainBinding\nimport org.w3c.dom.Text\nimport java.security.Permission\n\n\nclass MainActivity : AppCompatActivity() {\n    private lateinit var  binding:ActivityMainBinding\n    private lateinit var  imageView: ImageView\n    private lateinit var  button: Button\n    private lateinit var tvOutput:TextView\n    private val GALLERREQUESTCODE=123\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding= ActivityMainBinding.inflate(layoutInflater)\n        val view=binding.root\n        setContentView(R.layout.activity_main)\n        setContentView(view)\n        imageView=binding.imageView\n        tvOutput=binding.resulttv\n        button=binding.capture\n        val buttonLoad=binding.Loadimage\n        button.setOnClickListener{\n            if(ContextCompat.checkSelfPermission(this,android.Manifest.permission.CAMERA)==packageManager.PERMISSION_GRANTED){\n                takePicturePreview.lauch(null)\n            }\n            else{\n                requestPermission.launch(android.Manifest.permission.CAMERA)\n            }\n        }\n    }\n}[I was following code on this youtube channel[\\]\\[1\\]][1]\n</code></pre>\n"},{"tags":["javascript","java","angular","spring","typescript"],"answers":[{"tags":[],"owner":{"account_id":18830693,"reputation":1089,"user_id":13734564,"display_name":"Yan Koshelev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653238915,"creation_date":1653238915,"answer_id":72339638,"question_id":72339597,"body_markdown":"You can use switchMap operator to chaining requests. statementFile.statementFileId or response.statementFileId or something else from postStatementFile request you will use to call next request.\r\n\r\n     this.statementFileService.postStatementFile(statementFile)\r\n          .pipe(\r\n            switchMap(response =&gt; this.activitiWorkflowService.createPreccess(statementFile.statementFileId).pipe(takeUntil(this._unsubscribeAll)))\r\n          )\r\n          .subscribe({\r\n              next : (data: any) =&gt; data,\r\n              error: (err) =&gt; {\r\n                 alert(`there was a problem: ${err.message}` );\r\n              }\r\n            }\r\n          );","title":"Spring and Angular: How to make two http calls one after another with a condition","body":"<p>You can use switchMap operator to chaining requests. statementFile.statementFileId or response.statementFileId or something else from postStatementFile request you will use to call next request.</p>\n<pre><code> this.statementFileService.postStatementFile(statementFile)\n      .pipe(\n        switchMap(response =&gt; this.activitiWorkflowService.createPreccess(statementFile.statementFileId).pipe(takeUntil(this._unsubscribeAll)))\n      )\n      .subscribe({\n          next : (data: any) =&gt; data,\n          error: (err) =&gt; {\n             alert(`there was a problem: ${err.message}` );\n          }\n        }\n      );\n</code></pre>\n"}],"owner":{"account_id":25325713,"reputation":23,"user_id":19146401,"display_name":"Lucidity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72339638,"answer_count":1,"score":0,"last_activity_date":1653238915,"creation_date":1653238490,"question_id":72339597,"body_markdown":"I have an Angular interface which handles a file upload, after a submit button it persist this file in MySQL database. I want to make another call inside this submit method but the second http call needs the `id` of that entity persisted(file) and I don&#39;t know how to retrieve that specific id from that file uploaded.\r\n\r\nthis is my submit method:\r\n\r\n    onSubmit() {\r\n    \r\n            const statementFile = new StatementFile();\r\n    \r\n    // *******\r\n    // here are some business logic\r\n    // *******\r\n    \r\n    \r\n    // this will send POST request and save it to MySQL.\r\n            this.statementFileService.postStatementFile(statementFile).subscribe(\r\n                {\r\n                    next : (response) =&gt; {\r\n                        alert(&#39;You have been submitted your statement file, check MySQL&#39;);\r\n                    },\r\n                    error: (err) =&gt; {\r\n                        alert(`there was a problem: ${err.message}` );\r\n                    }\r\n                }\r\n            );\r\n    \r\n    \r\n    // this is the second http request I want to call but it needs particularly the id of that statementFile uploaded.\r\n    this.activitiWorkflowService.createPreccess(statementFile.statementFileId).pipe(takeUntil(this._unsubscribeAll), debounceTime(3000)).subscribe(\r\n                (data: any) =&gt; data\r\n            );\r\n    \r\n        }\r\n\r\n\r\nthis is my StatementFile class:\r\n\r\n    export class StatementFile{\r\n    \r\n        statementFileId: number;\r\n        dateReception: Date;\r\n        label: string;\r\n    }\r\n","title":"Spring and Angular: How to make two http calls one after another with a condition","body":"<p>I have an Angular interface which handles a file upload, after a submit button it persist this file in MySQL database. I want to make another call inside this submit method but the second http call needs the <code>id</code> of that entity persisted(file) and I don't know how to retrieve that specific id from that file uploaded.</p>\n<p>this is my submit method:</p>\n<pre><code>onSubmit() {\n\n        const statementFile = new StatementFile();\n\n// *******\n// here are some business logic\n// *******\n\n\n// this will send POST request and save it to MySQL.\n        this.statementFileService.postStatementFile(statementFile).subscribe(\n            {\n                next : (response) =&gt; {\n                    alert('You have been submitted your statement file, check MySQL');\n                },\n                error: (err) =&gt; {\n                    alert(`there was a problem: ${err.message}` );\n                }\n            }\n        );\n\n\n// this is the second http request I want to call but it needs particularly the id of that statementFile uploaded.\nthis.activitiWorkflowService.createPreccess(statementFile.statementFileId).pipe(takeUntil(this._unsubscribeAll), debounceTime(3000)).subscribe(\n            (data: any) =&gt; data\n        );\n\n    }\n</code></pre>\n<p>this is my StatementFile class:</p>\n<pre><code>export class StatementFile{\n\n    statementFileId: number;\n    dateReception: Date;\n    label: string;\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-virtual-device"],"owner":{"account_id":23124010,"reputation":11,"user_id":17230114,"display_name":"Abdullahmc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653237853,"creation_date":1653237853,"question_id":72339506,"body_markdown":"I am learning to develop Android apps with Java. I have recently installed Android studio and I am familiarizing myself with the software. I have installed the Android 11 and 12 SDKs and the correct SDK tools. I have created 2 AVDs (Pixel 5 and Pixel C), both with Android 11.\r\n\r\nI created an empty activity for a Hello World app. I tried to run the Pixel 5 emulator, but it didn&#39;t load fully and displayed the message &quot;The emulator process for AVD Pixel 5 Android 11 has terminated&quot;.\r\n\r\nI repeatedly tried to load it but the same thing kept happening. I tried with the Pixel C but the same thing happened again. Does anyone know how to fix this or why it is happening?","title":"Android AVD Keeps Terminating","body":"<p>I am learning to develop Android apps with Java. I have recently installed Android studio and I am familiarizing myself with the software. I have installed the Android 11 and 12 SDKs and the correct SDK tools. I have created 2 AVDs (Pixel 5 and Pixel C), both with Android 11.</p>\n<p>I created an empty activity for a Hello World app. I tried to run the Pixel 5 emulator, but it didn't load fully and displayed the message &quot;The emulator process for AVD Pixel 5 Android 11 has terminated&quot;.</p>\n<p>I repeatedly tried to load it but the same thing kept happening. I tried with the Pixel C but the same thing happened again. Does anyone know how to fix this or why it is happening?</p>\n"},{"tags":["java","spring-boot","maven","tomcat","swagger"],"comments":[{"owner":{"account_id":7636684,"reputation":45,"user_id":5790043,"display_name":"Alex Fedorov"},"score":0,"creation_date":1620584948,"post_id":67461041,"comment_id":119238405,"body_markdown":"Look at the answer to the same question https://stackoverflow.com/a/47824722/5790043","body":"Look at the answer to the same question <a href=\"https://stackoverflow.com/a/47824722/5790043\">stackoverflow.com/a/47824722/5790043</a>"},{"owner":{"account_id":18887803,"reputation":21,"user_id":13778805,"display_name":"Vikas"},"score":0,"creation_date":1620588280,"post_id":67461041,"comment_id":119239257,"body_markdown":"Thanks @AlexFedorov. I had looked into that and when I add the context path to the link, I still do not see anything success. My URL: http://localhost:8080/bankingapi/swagger-ui.html","body":"Thanks @AlexFedorov. I had looked into that and when I add the context path to the link, I still do not see anything success. My URL: <a href=\"http://localhost:8080/bankingapi/swagger-ui.html\" rel=\"nofollow noreferrer\">localhost:8080/bankingapi/swagger-ui.html</a>"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1620592864,"post_id":67461041,"comment_id":119240378,"body_markdown":"Which version of Tomcat are you using?","body":"Which version of Tomcat are you using?"},{"owner":{"account_id":18887803,"reputation":21,"user_id":13778805,"display_name":"Vikas"},"score":0,"creation_date":1620593456,"post_id":67461041,"comment_id":119240503,"body_markdown":"@PiotrP.Karwasz: I am using _apache-tomcat-10.0.5_","body":"@PiotrP.Karwasz: I am using <i>apache-tomcat-10.0.5</i>"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1620594138,"post_id":67461041,"comment_id":119240680,"body_markdown":"Spring 5 requires a Java EE 8 server (it provides a [`javax.servlet.ServletContainerInitializer`](https://jakarta.ee/specifications/servlet/4.0/apidocs/javax/servlet/servletcontainerinitializer)), while Tomcat 10 is a Jakarta EE 9 server (it searches for a `jakarta.servlet.ServletContainerInitializer`): see [this question](https://stackoverflow.com/q/66806582/11748454). Downgrade to Tomcat 9.0 and it should work.","body":"Spring 5 requires a Java EE 8 server (it provides a <a href=\"https://jakarta.ee/specifications/servlet/4.0/apidocs/javax/servlet/servletcontainerinitializer\" rel=\"nofollow noreferrer\"><code>javax.servlet.ServletContainerInitializer</code></a>), while Tomcat 10 is a Jakarta EE 9 server (it searches for a <code>jakarta.servlet.ServletContainerInitializer</code>): see <a href=\"https://stackoverflow.com/q/66806582/11748454\">this question</a>. Downgrade to Tomcat 9.0 and it should work."},{"owner":{"account_id":18887803,"reputation":21,"user_id":13778805,"display_name":"Vikas"},"score":0,"creation_date":1620606454,"post_id":67461041,"comment_id":119242635,"body_markdown":"Thank you @PiotrP.Karwasz. I saw the link you provided and downgraded it to 9.0 and the spring application came up without any issues. However, I had a slight issue with the performance of my application. Hence I tried version 8.0 and everything went smooth.","body":"Thank you @PiotrP.Karwasz. I saw the link you provided and downgraded it to 9.0 and the spring application came up without any issues. However, I had a slight issue with the performance of my application. Hence I tried version 8.0 and everything went smooth."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1620978971,"post_id":67461041,"comment_id":119362558,"body_markdown":"Does this answer your question? [Tomcat 10.0.4 doesn&#39;t load servlets (@WebServlet classes) with 404 error](https://stackoverflow.com/questions/66806582/tomcat-10-0-4-doesnt-load-servlets-webservlet-classes-with-404-error)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/66806582/tomcat-10-0-4-doesnt-load-servlets-webservlet-classes-with-404-error\">Tomcat 10.0.4 doesn&#39;t load servlets (@WebServlet classes) with 404 error</a>"}],"answers":[{"tags":[],"owner":{"account_id":7636684,"reputation":45,"user_id":5790043,"display_name":"Alex Fedorov"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1620592469,"creation_date":1620592469,"answer_id":67462120,"question_id":67461041,"body_markdown":"Try this guideline https://www.baeldung.com/spring-boot-war-tomcat-deploy#creating-a-spring-boot-war\r\n\r\nadd a Tomcat dependency\r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n   &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nand add `SpringBootServletInitializer` \r\nlike in example\r\n\r\n    @SpringBootApplication\r\n    public class SpringBootTomcatApplication extends SpringBootServletInitializer {\r\n    }","title":"Not able to access application on Tomcat with Swagger, Spring, Hibernate","body":"<p>Try this guideline <a href=\"https://www.baeldung.com/spring-boot-war-tomcat-deploy#creating-a-spring-boot-war\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-war-tomcat-deploy#creating-a-spring-boot-war</a></p>\n<p>add a Tomcat dependency</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and add <code>SpringBootServletInitializer</code>\nlike in example</p>\n<pre><code>@SpringBootApplication\npublic class SpringBootTomcatApplication extends SpringBootServletInitializer {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18887803,"reputation":21,"user_id":13778805,"display_name":"Vikas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620606888,"creation_date":1620606888,"answer_id":67463474,"question_id":67461041,"body_markdown":"The suggestion from @PiotrP.Karwasz worked for me. Hence submitting this as the answer to my problem. Thank you for the help.\r\n\r\n&gt; Spring 5 requires a Java EE 8 server (it provides a\r\n&gt; javax.servlet.ServletContainerInitializer), while Tomcat 10 is a\r\n&gt; Jakarta EE 9 server (it searches for a\r\n&gt; jakarta.servlet.ServletContainerInitializer): see [this][1] question.\r\n&gt; Downgrade to Tomcat 9.0 and it should work.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/66806582/11748454","title":"Not able to access application on Tomcat with Swagger, Spring, Hibernate","body":"<p>The suggestion from @PiotrP.Karwasz worked for me. Hence submitting this as the answer to my problem. Thank you for the help.</p>\n<blockquote>\n<p>Spring 5 requires a Java EE 8 server (it provides a\njavax.servlet.ServletContainerInitializer), while Tomcat 10 is a\nJakarta EE 9 server (it searches for a\njakarta.servlet.ServletContainerInitializer): see <a href=\"https://stackoverflow.com/q/66806582/11748454\">this</a> question.\nDowngrade to Tomcat 9.0 and it should work.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13610395,"reputation":1,"user_id":9818105,"display_name":"Douran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653237519,"creation_date":1653165425,"answer_id":72333067,"question_id":67461041,"body_markdown":"In Intellij idea\r\n  1. in project structure, you can create artifacts\r\n  2. pay attention to output directory this path must be excluded in Module section\r\n  3. now you can add war file to Deployment Section in Configuration Section\r\n\r\nif you have security checked the access when input url swagger in to browser\r\n\r\n       ","title":"Not able to access application on Tomcat with Swagger, Spring, Hibernate","body":"<p>In Intellij idea</p>\n<ol>\n<li>in project structure, you can create artifacts</li>\n<li>pay attention to output directory this path must be excluded in Module section</li>\n<li>now you can add war file to Deployment Section in Configuration Section</li>\n</ol>\n<p>if you have security checked the access when input url swagger in to browser</p>\n"}],"owner":{"account_id":18887803,"reputation":21,"user_id":13778805,"display_name":"Vikas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1653237519,"creation_date":1620584566,"question_id":67461041,"body_markdown":"I am using Swagger-UI and Codegen to generate my APIs and then I am using Spring Boot and Hibernate in my application. \r\n\r\nWhen I build my application and run via Maven command `mvn spring-boot:run`, my application runs and Swagger UI is displayed. But when I create the WAR file and deploy it to Tomcat server, I am not able to access the application. I do not see any errors in Catalina logs. Any advice on what could be going wrong?\r\n\r\npom.xml:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.datadivers&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;swagger-spring&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;swagger-spring&lt;/name&gt;\r\n\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\r\n&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.4.5&lt;/version&gt;\r\n&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n\t\t&lt;springfox-version&gt;2.9.2&lt;/springfox-version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--SpringFox dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${springfox-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${springfox-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Bean Validation API support --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\t&lt;finalName&gt;bankingapi&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;repackage&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nSpring Boot application:\r\n```\r\nimports...\r\n\r\n@SpringBootApplication\r\n@EnableSwagger2\r\n@EnableJpaRepositories(basePackages = &quot;com.datadivers.repository&quot;)\r\n@EntityScan(basePackages = &quot;com.datadivers.model&quot;)\r\n@ComponentScan(basePackages = { &quot;io.swagger&quot;, &quot;io.swagger.configuration&quot;, &quot;com.datadivers.api&quot;, &quot;com.datadivers.service&quot;})\r\npublic class Swagger2SpringBoot extends SpringBootServletInitializer{\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Swagger2SpringBoot.class, args);\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(Swagger2SpringBoot.class);\r\n\t}\r\n}\r\n```","title":"Not able to access application on Tomcat with Swagger, Spring, Hibernate","body":"<p>I am using Swagger-UI and Codegen to generate my APIs and then I am using Spring Boot and Hibernate in my application.</p>\n<p>When I build my application and run via Maven command <code>mvn spring-boot:run</code>, my application runs and Swagger UI is displayed. But when I create the WAR file and deploy it to Tomcat server, I am not able to access the application. I do not see any errors in Catalina logs. Any advice on what could be going wrong?</p>\n<p>pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.datadivers&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-spring&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;swagger-spring&lt;/name&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.4.5&lt;/version&gt;\n&lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;springfox-version&gt;2.9.2&lt;/springfox-version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--SpringFox dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${springfox-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springfox-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\n            &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Bean Validation API support --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;finalName&gt;bankingapi&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Spring Boot application:</p>\n<pre><code>imports...\n\n@SpringBootApplication\n@EnableSwagger2\n@EnableJpaRepositories(basePackages = &quot;com.datadivers.repository&quot;)\n@EntityScan(basePackages = &quot;com.datadivers.model&quot;)\n@ComponentScan(basePackages = { &quot;io.swagger&quot;, &quot;io.swagger.configuration&quot;, &quot;com.datadivers.api&quot;, &quot;com.datadivers.service&quot;})\npublic class Swagger2SpringBoot extends SpringBootServletInitializer{\n    \n    \n    public static void main(String[] args) {\n        SpringApplication.run(Swagger2SpringBoot.class, args);\n    }\n    \n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Swagger2SpringBoot.class);\n    }\n}\n</code></pre>\n"},{"tags":["java","oop","linked-list"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1653235210,"post_id":72339163,"comment_id":127796466,"body_markdown":"So for clarity, you are not using the core Java [java.util.PriorityQueue class](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/PriorityQueue.html) but rather are writing your own implementation?","body":"So for clarity, you are not using the core Java <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">java.util.PriorityQueue class</a> but rather are writing your own implementation?"},{"owner":{"account_id":25343841,"reputation":37,"user_id":19161856,"display_name":"James tan"},"score":0,"creation_date":1653235484,"post_id":72339163,"comment_id":127796529,"body_markdown":"yeah , I m sorry for not writing clearly","body":"yeah , I m sorry for not writing clearly"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1653236909,"post_id":72339163,"comment_id":127796856,"body_markdown":"You forgot to `break;` the first for loop when you have found the correct position. This means you add the item multiple times to the list. Add a `break;` after `positioned = true;`.","body":"You forgot to <code>break;</code> the first for loop when you have found the correct position. This means you add the item multiple times to the list. Add a <code>break;</code> after <code>positioned = true;</code>."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1653237495,"post_id":72339163,"comment_id":127796986,"body_markdown":"You can identify such problems easily yourself by using step-by-step debugging in the used Java IDE. Just place a breakpoint and execute the code in debug mode.","body":"You can identify such problems easily yourself by using step-by-step debugging in the used Java IDE. Just place a breakpoint and execute the code in debug mode."}],"answers":[{"tags":[],"owner":{"account_id":25343841,"reputation":37,"user_id":19161856,"display_name":"James tan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653237316,"creation_date":1653237316,"answer_id":72339440,"question_id":72339163,"body_markdown":"Thanks to @Robert in the comment section.\r\n\r\n\r\n   \r\n\r\n     for (int x = 0 ; x&lt; list.size() ; x++){\r\n                    if ( elem.getTierTime() &gt; list.get(x).getTierTime()){\r\n                        list.add(x , elem);\r\n                        positioned = true;\r\n                        break;\r\n                    }\r\n                }\r\n        }\r\n\r\n\r\n\r\nI should at a break statement to terminate the loop once I got the position.","title":"Queue not sorted correctly in Java","body":"<p>Thanks to @Robert in the comment section.</p>\n<pre><code> for (int x = 0 ; x&lt; list.size() ; x++){\n                if ( elem.getTierTime() &gt; list.get(x).getTierTime()){\n                    list.add(x , elem);\n                    positioned = true;\n                    break;\n                }\n            }\n    }\n</code></pre>\n<p>I should at a break statement to terminate the loop once I got the position.</p>\n"}],"owner":{"account_id":25343841,"reputation":37,"user_id":19161856,"display_name":"James tan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653237316,"creation_date":1653235044,"question_id":72339163,"body_markdown":"I am trying to write a priority queue.For my enqueue method , my logic is:\r\n\r\n\r\n   If the list is empty ,then add the transaction to the first node in the linked list \r\n\r\n   If the list is not empty , compare the time value of the transaction object in the list \r\n   with the current object , if the time of object is greater than objects in the linked list,then insert the object to the current index.\r\n\r\nElse, just add them to the last element of the linkedlist\r\n\r\n\r\n       public void enqueue(TransactionDetails elem){\r\n            //check whether list is empty\r\n            if (list.isEmpty()){\r\n                list.addFirst(elem);\r\n                return;\r\n            }\r\n    \r\n            //queue it according to priority\r\n            boolean positioned = false;\r\n            for (int x = 0 ; x&lt; list.size() ; x++){\r\n                if ( elem.getTierTime() &gt; list.get(x).getTierTime()){\r\n                    list.add(x , elem);\r\n                    positioned = true;\r\n                }\r\n            }\r\n    \r\n            if (positioned == false){\r\n                list.addLast(elem);\r\n            }\r\n    \r\n            \r\n        }\r\n\r\n       public String dequeue(){\r\n        return list.removeFirst().getID();\r\n       }\r\n\r\n       public void printAll(){\r\n        for (int x = 0 ; x&lt; list.size() ; x++){\r\n            System.out.println(list.get(x).toString());\r\n        }\r\n       }\r\n\r\n\r\n\r\nI test this method by entering 4 values to the method, which I entered 2000,2000,2000,3000\r\naccordingly.\r\n\r\n\r\n            System.out.println(queue.dequeue());\r\n            System.out.println(queue.dequeue());\r\n            System.out.println(queue.dequeue());\r\n            System.out.println(queue.dequeue());\r\n\r\nWhen I tried to dequeue the list , it gives me an empty output\r\n\r\nInstead of,\r\n\r\n3000\r\n2000\r\n2000\r\n2000\r\n\r\n\r\nBesides , the printAll method also returned nothing.\r\n\r\n\r\nThis is my Transaction Details class.\r\n\r\n\r\n    public class TransactionDetails {\r\n    \r\n        private long epochTime;\r\n        private String tier;\r\n        private String transactionID;\r\n        private int timeTier;\r\n    \r\n        public TransactionDetails(long time , String ID , String tier){\r\n            this.epochTime = time;\r\n            this.tier = tier;\r\n            this.transactionID = ID;\r\n            tierTimeAdvantage();\r\n        }\r\n    \r\n    \r\n        //To give the starting time of a transaction in a queue according to tier\r\n        public void tierTimeAdvantage(){\r\n            \r\n            switch(this.tier){\r\n    \r\n                case &quot;PLATINUM&quot;:\r\n                    timeTier = 3000;\r\n                    break;\r\n                case &quot;GOLD&quot;:\r\n                    timeTier = 2000;\r\n                    break;\r\n                case &quot;SILVER&quot;:\r\n                    timeTier = 1000;\r\n                    break;\r\n                case &quot;BRONZE&quot; :\r\n                    timeTier = 0;\r\n                    break;\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Queue not sorted correctly in Java","body":"<p>I am trying to write a priority queue.For my enqueue method , my logic is:</p>\n<p>If the list is empty ,then add the transaction to the first node in the linked list</p>\n<p>If the list is not empty , compare the time value of the transaction object in the list\nwith the current object , if the time of object is greater than objects in the linked list,then insert the object to the current index.</p>\n<p>Else, just add them to the last element of the linkedlist</p>\n<pre><code>   public void enqueue(TransactionDetails elem){\n        //check whether list is empty\n        if (list.isEmpty()){\n            list.addFirst(elem);\n            return;\n        }\n\n        //queue it according to priority\n        boolean positioned = false;\n        for (int x = 0 ; x&lt; list.size() ; x++){\n            if ( elem.getTierTime() &gt; list.get(x).getTierTime()){\n                list.add(x , elem);\n                positioned = true;\n            }\n        }\n\n        if (positioned == false){\n            list.addLast(elem);\n        }\n\n        \n    }\n\n   public String dequeue(){\n    return list.removeFirst().getID();\n   }\n\n   public void printAll(){\n    for (int x = 0 ; x&lt; list.size() ; x++){\n        System.out.println(list.get(x).toString());\n    }\n   }\n</code></pre>\n<p>I test this method by entering 4 values to the method, which I entered 2000,2000,2000,3000\naccordingly.</p>\n<pre><code>        System.out.println(queue.dequeue());\n        System.out.println(queue.dequeue());\n        System.out.println(queue.dequeue());\n        System.out.println(queue.dequeue());\n</code></pre>\n<p>When I tried to dequeue the list , it gives me an empty output</p>\n<p>Instead of,</p>\n<p>3000\n2000\n2000\n2000</p>\n<p>Besides , the printAll method also returned nothing.</p>\n<p>This is my Transaction Details class.</p>\n<pre><code>public class TransactionDetails {\n\n    private long epochTime;\n    private String tier;\n    private String transactionID;\n    private int timeTier;\n\n    public TransactionDetails(long time , String ID , String tier){\n        this.epochTime = time;\n        this.tier = tier;\n        this.transactionID = ID;\n        tierTimeAdvantage();\n    }\n\n\n    //To give the starting time of a transaction in a queue according to tier\n    public void tierTimeAdvantage(){\n        \n        switch(this.tier){\n\n            case &quot;PLATINUM&quot;:\n                timeTier = 3000;\n                break;\n            case &quot;GOLD&quot;:\n                timeTier = 2000;\n                break;\n            case &quot;SILVER&quot;:\n                timeTier = 1000;\n                break;\n            case &quot;BRONZE&quot; :\n                timeTier = 0;\n                break;\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","encoding"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1653234140,"post_id":72338713,"comment_id":127796192,"body_markdown":"You&#39;re not using the digest on the message. You get the message&#39;s bytes and then encode them as base64 without the intervening digesting procedure","body":"You&#39;re not using the digest on the message. You get the message&#39;s bytes and then encode them as base64 without the intervening digesting procedure"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653237151,"creation_date":1653237151,"answer_id":72339423,"question_id":72338713,"body_markdown":"You initialized `hmacSHA256` … and then you didn’t do anything with it.\r\n\r\nYou need to actually hash the data, by calling `hmacSHA256.doFinal`:\r\n\r\n    Mac hmacSHA256 = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n    SecretKeySpec secretKeySpec = new SecretKeySpec(key.getBytes(StandardCharsets.UTF_8), &quot;HmacSHA256&quot;);\r\n    hmacSHA256.init(secretKeySpec);\r\n\r\n    byte[] tobeEncoded = data.getBytes(StandardCharsets.UTF_8);\r\n    toBeEncoded = hmacSHA256.doFinal(toBeEncoded);\r\n\r\n    String rapyd_signature = Base64.getEncoder().encodeToString(tobeEncoded);\r\n","title":"How to perform Base64 on top of HASH in Java","body":"<p>You initialized <code>hmacSHA256</code> … and then you didn’t do anything with it.</p>\n<p>You need to actually hash the data, by calling <code>hmacSHA256.doFinal</code>:</p>\n<pre><code>Mac hmacSHA256 = Mac.getInstance(&quot;HmacSHA256&quot;);\nSecretKeySpec secretKeySpec = new SecretKeySpec(key.getBytes(StandardCharsets.UTF_8), &quot;HmacSHA256&quot;);\nhmacSHA256.init(secretKeySpec);\n\nbyte[] tobeEncoded = data.getBytes(StandardCharsets.UTF_8);\ntoBeEncoded = hmacSHA256.doFinal(toBeEncoded);\n\nString rapyd_signature = Base64.getEncoder().encodeToString(tobeEncoded);\n</code></pre>\n"}],"owner":{"account_id":1510559,"reputation":3149,"user_id":1412803,"accept_rate":88,"display_name":"abiieez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72339423,"answer_count":1,"score":-1,"last_activity_date":1653237151,"creation_date":1653231628,"question_id":72338713,"body_markdown":"I have the following example in Javascript, I can&#39;t seem to find the equivalent in Java for it\r\n\r\n    var rapyd_signature = CryptoJS.enc.Hex.stringify(CryptoJS.HmacSHA256(data, key));\r\n    rapyd_signature = CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(rapyd_signature));\r\n\r\nWhat I have (which does not give the same result)\r\n\r\n    Mac hmacSHA256 = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n    SecretKeySpec secretKeySpec = new SecretKeySpec(key.getBytes(StandardCharsets.UTF_8), &quot;HmacSHA256&quot;);\r\n    hmacSHA256.init(secretKeySpec);\r\n    byte[] tobeEncoded =  data.getBytes(StandardCharsets.UTF_8);\r\n    String rapyd_signature = Base64.getEncoder().encodeToString(tobeEncoded);","title":"How to perform Base64 on top of HASH in Java","body":"<p>I have the following example in Javascript, I can't seem to find the equivalent in Java for it</p>\n<pre><code>var rapyd_signature = CryptoJS.enc.Hex.stringify(CryptoJS.HmacSHA256(data, key));\nrapyd_signature = CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(rapyd_signature));\n</code></pre>\n<p>What I have (which does not give the same result)</p>\n<pre><code>Mac hmacSHA256 = Mac.getInstance(&quot;HmacSHA256&quot;);\nSecretKeySpec secretKeySpec = new SecretKeySpec(key.getBytes(StandardCharsets.UTF_8), &quot;HmacSHA256&quot;);\nhmacSHA256.init(secretKeySpec);\nbyte[] tobeEncoded =  data.getBytes(StandardCharsets.UTF_8);\nString rapyd_signature = Base64.getEncoder().encodeToString(tobeEncoded);\n</code></pre>\n"},{"tags":["java","eclipse","javafx","binding"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1609047639,"post_id":65462905,"comment_id":115736372,"body_markdown":"Bidirectional bindings do not keep strong references to each other. It&#39;s possible, since you&#39;re using intermediate properties, that something is being garbage collected and that&#39;s why the bindings stop working. You seem to understand this based on a code comment; however, you don&#39;t appear to keep the necessary strong references.","body":"Bidirectional bindings do not keep strong references to each other. It&#39;s possible, since you&#39;re using intermediate properties, that something is being garbage collected and that&#39;s why the bindings stop working. You seem to understand this based on a code comment; however, you don&#39;t appear to keep the necessary strong references."},{"owner":{"account_id":7874906,"reputation":160,"user_id":8957293,"display_name":"pateksan"},"score":0,"creation_date":1609065205,"post_id":65462905,"comment_id":115739128,"body_markdown":"@Slaw _You seem to understand this_ - well, _seem_ is the right word! From my understanding, every property I ever used is already strongly referenced in my code, is that not the case? I will read up some more, but it would be great if you were able to spot and tell me what is missing.","body":"@Slaw <i>You seem to understand this</i> - well, <i>seem</i> is the right word! From my understanding, every property I ever used is already strongly referenced in my code, is that not the case? I will read up some more, but it would be great if you were able to spot and tell me what is missing."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1609065320,"post_id":65462905,"comment_id":115739148,"body_markdown":"Your intermediate properties are local variables, which fall out of scope once the `start` method exits. When that happens the objects they referenced are eligible for garbage collection (since bidirectional bindings use _weak_ references).","body":"Your intermediate properties are local variables, which fall out of scope once the <code>start</code> method exits. When that happens the objects they referenced are eligible for garbage collection (since bidirectional bindings use <i>weak</i> references)."},{"owner":{"account_id":7874906,"reputation":160,"user_id":8957293,"display_name":"pateksan"},"score":0,"creation_date":1609066065,"post_id":65462905,"comment_id":115739302,"body_markdown":"@Slaw Ok, now I&#39;m puzzled. I think I know what you mean but I thought all my code is inside the brackets of the `start` method and it only exits when the window is closed?","body":"@Slaw Ok, now I&#39;m puzzled. I think I know what you mean but I thought all my code is inside the brackets of the <code>start</code> method and it only exits when the window is closed?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1609066259,"post_id":65462905,"comment_id":115739342,"body_markdown":"The `start` method exits after the `primaryStage.show()` call returns in your code. The `show()` method does not wait for the window to be closed. Now, the _application_ won&#39;t exit until the last window is closed (assuming `implicitExit` is `true`, as it is by default), but that is different from the `start` method. The `start` method is only there to &quot;start&quot; the application.","body":"The <code>start</code> method exits after the <code>primaryStage.show()</code> call returns in your code. The <code>show()</code> method does not wait for the window to be closed. Now, the <i>application</i> won&#39;t exit until the last window is closed (assuming <code>implicitExit</code> is <code>true</code>, as it is by default), but that is different from the <code>start</code> method. The <code>start</code> method is only there to &quot;start&quot; the application."},{"owner":{"account_id":7874906,"reputation":160,"user_id":8957293,"display_name":"pateksan"},"score":0,"creation_date":1609067810,"post_id":65462905,"comment_id":115739645,"body_markdown":"@Slaw I already learnt a lot today then! Are you able to tell how to fix the problem though? Is it a matter of using modifiers? I came across [someone using the `static` modifier and saying it was a dirty workaround](https://stackoverflow.com/a/39438466/8957293) which I didn&#39;t fully understand tbh so I didn&#39;t try it for fear of unexpected results.","body":"@Slaw I already learnt a lot today then! Are you able to tell how to fix the problem though? Is it a matter of using modifiers? I came across <a href=\"https://stackoverflow.com/a/39438466/8957293\">someone using the <code>static</code> modifier and saying it was a dirty workaround</a> which I didn&#39;t fully understand tbh so I didn&#39;t try it for fear of unexpected results."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1609067856,"post_id":65462905,"comment_id":115739656,"body_markdown":"For your example in your question, simply storing the property references in instance fields will probably work for you. JavaFX maintains a strong reference to your application class (it has to in order to call `stop()` when appropriate). [You want to avoid `static` because that encourages &quot;global state&quot; which is &quot;evil&quot;](https://softwareengineering.stackexchange.com/questions/148108/why-is-global-state-so-evil). If using instance fields does not work in your real code then consider providing a [mre] more representative of what you&#39;re trying to do.","body":"For your example in your question, simply storing the property references in instance fields will probably work for you. JavaFX maintains a strong reference to your application class (it has to in order to call <code>stop()</code> when appropriate). <a href=\"https://softwareengineering.stackexchange.com/questions/148108/why-is-global-state-so-evil\">You want to avoid <code>static</code> because that encourages &quot;global state&quot; which is &quot;evil&quot;</a>. If using instance fields does not work in your real code then consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> more representative of what you&#39;re trying to do."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1609076219,"post_id":65462905,"comment_id":115741572,"body_markdown":"Can’t you achieve what you’re trying to do simply with `topSpinner.getValueFactory().valueProperty().bindBidirectional(bottomSpinner.getValueFactory().valueProperty())`? I think that should not suffer from the listeners getting prematurely garbage collected.","body":"Can’t you achieve what you’re trying to do simply with <code>topSpinner.getValueFactory().valueProperty().bindBidirection&zwnj;&#8203;al(bottomSpinner.get&zwnj;&#8203;ValueFactory().value&zwnj;&#8203;Property())</code>? I think that should not suffer from the listeners getting prematurely garbage collected."},{"owner":{"account_id":7874906,"reputation":160,"user_id":8957293,"display_name":"pateksan"},"score":0,"creation_date":1609119656,"post_id":65462905,"comment_id":115752202,"body_markdown":"@James_D So simple and it does seem to work! I tried to &quot;break&quot; the binding, for a few times longer than  previous attempts, they stay bound. As a bonus they stay bound in debug too: in previous attempts they never bound in debugging. And that&#39;s before I even looked into why it played up in debugging. I need to look into how exactly to use Slaw&#39;s idea with instance fields, if I can get it going than I would probably need to call that the solution (because it might helps with some of my other aches). But for now thanks man! If you fancy the rep from my upvote then please do make it answer.","body":"@James_D So simple and it does seem to work! I tried to &quot;break&quot; the binding, for a few times longer than  previous attempts, they stay bound. As a bonus they stay bound in debug too: in previous attempts they never bound in debugging. And that&#39;s before I even looked into why it played up in debugging. I need to look into how exactly to use Slaw&#39;s idea with instance fields, if I can get it going than I would probably need to call that the solution (because it might helps with some of my other aches). But for now thanks man! If you fancy the rep from my upvote then please do make it answer."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1609119783,"post_id":65462905,"comment_id":115752219,"body_markdown":"@pateksan The best way i know to test breaking them is to call `System.gc()` and see if they still work after.","body":"@pateksan The best way i know to test breaking them is to call <code>System.gc()</code> and see if they still work after."},{"owner":{"account_id":7874906,"reputation":160,"user_id":8957293,"display_name":"pateksan"},"score":0,"creation_date":1609119974,"post_id":65462905,"comment_id":115752248,"body_markdown":"@Slaw In addition to comment for James_D above, thanks! I will need to look into how to use your idea of instance fields. It seems to be another one of those basic concepts I need to grasp soon anyway, and might solve some of my other problems. So I will definitely read up, but if you are able to provide even a simple example snippet of how I would apply this here then it would keep my project going in the meantime.","body":"@Slaw In addition to comment for James_D above, thanks! I will need to look into how to use your idea of instance fields. It seems to be another one of those basic concepts I need to grasp soon anyway, and might solve some of my other problems. So I will definitely read up, but if you are able to provide even a simple example snippet of how I would apply this here then it would keep my project going in the meantime."},{"owner":{"account_id":7874906,"reputation":160,"user_id":8957293,"display_name":"pateksan"},"score":1,"creation_date":1609120365,"post_id":65462905,"comment_id":115752305,"body_markdown":"@James_D I added this and it didn&#39;t seem to break it: `topSpinner.valueProperty().addListener((obs, oldValue, newValue) -&gt; {System.gc();});` but please let me know if that doesn&#39;t capture all opportunities to enforce garbage collection","body":"@James_D I added this and it didn&#39;t seem to break it: <code>topSpinner.valueProperty().addListener((obs, oldValue, newValue) -&gt; {System.gc();});</code> but please let me know if that doesn&#39;t capture all opportunities to enforce garbage collection"}],"answers":[{"tags":[],"owner":{"account_id":25359324,"reputation":1,"user_id":19174897,"display_name":"Gilles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653236735,"creation_date":1653236735,"answer_id":72339372,"question_id":65462905,"body_markdown":"Once the start() method is finished, your two local variables topIntegerPropertyAsObject and bottomIntegerPropertyAsObject will be garbage collected (sooner or later) and the binding won&#39;t work anymore.\r\n\r\nThese two variables should be declared as attributes in your BindTwoSpinners class and not as local variables inside the start() method.\r\n","title":"Two javafx Integer Spinners bound bidirectional: why is the binding unreliable?","body":"<p>Once the start() method is finished, your two local variables topIntegerPropertyAsObject and bottomIntegerPropertyAsObject will be garbage collected (sooner or later) and the binding won't work anymore.</p>\n<p>These two variables should be declared as attributes in your BindTwoSpinners class and not as local variables inside the start() method.</p>\n"}],"owner":{"account_id":7874906,"reputation":160,"user_id":8957293,"display_name":"pateksan"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653236735,"creation_date":1609043952,"question_id":65462905,"body_markdown":"I am trying to practice my binding. I want to make a window with two spinners and just get them to show the same value.\r\n\r\nThe problem is that the binding is unreliable: the spinners seem to stop updating each other if they are clicked too fast. Both spinners still respond to clicking, and clicks are counted correctly on the spinner being clicked, but the other spinner stops updating and never recovers. And it doesn’t have to be very fast clicking at all to cause it.\r\n\r\nMy code is based on [this answer][1] (currently scoring 8) showing how to bind a spinner to an IntegerProperty. That answer is enough to produce the behaviour I am struggling with, but I followed the brief discussion that ensued under that answer. It has other options shown and resources linked, including a hint to use .asObject() and strong references.\r\n\r\nI am on oracle jdk 1.8.0_251, only because I was unable to get javaFX going under other JDKs I’ve tried. If it matters I am in eclipse 2019-12 on linux. Also, the spinners don&#39;t update each other at all in Debug mode, but they work (to start with) if I Run my code.\r\n\r\nWhy does it happen? My guesses are:\r\n\r\n 1. I&#39;m still suffering from garbage collection etc\r\n 2. Something isn&#39;t keeping up with the fast clicking: my laptop&#39;s hardware, the linux OS, Eclipse, my jdk, javafx?\r\n\r\nCan I somehow protect my code from this? Can I limit the clicking so that the spinner clicked only reacts to clicks if they are slow enough to keep the binding?\r\n\r\nPlease let me know if the behaviour described is unclear and I will upload a screen recording to youtube or something.\r\n\r\n\r\n    public class BindTwoSpinners extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws IOException {\r\n        \r\n        // Set up the topSpinner\r\n        Spinner&lt;Integer&gt; topSpinner = new Spinner&lt;Integer&gt; (1,12,1);\r\n        topSpinner.setEditable(true);\r\n        ObjectProperty&lt;Integer&gt; topObjectProp = new SimpleObjectProperty&lt;&gt;(1);\r\n        IntegerProperty topIntegerProperty = IntegerProperty.integerProperty(topObjectProp);\r\n        topSpinner.getValueFactory().valueProperty().bindBidirectional(topObjectProp);\r\n        \r\n        // Set up the bottomSpinner\r\n        Spinner&lt;Integer&gt; bottomSpinner = new Spinner&lt;Integer&gt; (1,12,1);\r\n        bottomSpinner.setEditable(true);\r\n        ObjectProperty&lt;Integer&gt; bottomObjectProp = new SimpleObjectProperty&lt;&gt;(1);\r\n        IntegerProperty bottomIntegerProperty = IntegerProperty.integerProperty(bottomObjectProp);\r\n        bottomSpinner.getValueFactory().valueProperty().bindBidirectional(bottomObjectProp);         \r\n\r\n        // Need to keep the reference as bidirectional binding uses weak references\r\n        // https://docs.oracle.com/javase/8/javafx/api/javafx/beans/property/IntegerProperty.html#bindBidirectional-javafx.beans.property.Property-\r\n\r\n        ObjectProperty&lt;Integer&gt; topIntegerPropertyAsObject = topIntegerProperty.asObject();\r\n        ObjectProperty&lt;Integer&gt; bottomIntegerPropertyAsObject = bottomIntegerProperty.asObject();\r\n\r\n        // Bind the two spinners\r\n        bottomSpinner.getValueFactory().valueProperty(). bindBidirectional(topIntegerPropertyAsObject);\r\n\r\n        VBox root = new VBox(10, topSpinner, bottomSpinner);\r\n        root.setAlignment(Pos.CENTER);\r\n        primaryStage.setScene(new Scene(root));\r\n        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/35836123/8957293","title":"Two javafx Integer Spinners bound bidirectional: why is the binding unreliable?","body":"<p>I am trying to practice my binding. I want to make a window with two spinners and just get them to show the same value.</p>\n<p>The problem is that the binding is unreliable: the spinners seem to stop updating each other if they are clicked too fast. Both spinners still respond to clicking, and clicks are counted correctly on the spinner being clicked, but the other spinner stops updating and never recovers. And it doesn’t have to be very fast clicking at all to cause it.</p>\n<p>My code is based on <a href=\"https://stackoverflow.com/a/35836123/8957293\">this answer</a> (currently scoring 8) showing how to bind a spinner to an IntegerProperty. That answer is enough to produce the behaviour I am struggling with, but I followed the brief discussion that ensued under that answer. It has other options shown and resources linked, including a hint to use .asObject() and strong references.</p>\n<p>I am on oracle jdk 1.8.0_251, only because I was unable to get javaFX going under other JDKs I’ve tried. If it matters I am in eclipse 2019-12 on linux. Also, the spinners don't update each other at all in Debug mode, but they work (to start with) if I Run my code.</p>\n<p>Why does it happen? My guesses are:</p>\n<ol>\n<li>I'm still suffering from garbage collection etc</li>\n<li>Something isn't keeping up with the fast clicking: my laptop's hardware, the linux OS, Eclipse, my jdk, javafx?</li>\n</ol>\n<p>Can I somehow protect my code from this? Can I limit the clicking so that the spinner clicked only reacts to clicks if they are slow enough to keep the binding?</p>\n<p>Please let me know if the behaviour described is unclear and I will upload a screen recording to youtube or something.</p>\n<pre><code>public class BindTwoSpinners extends Application {\n\n@Override\npublic void start(Stage primaryStage) throws IOException {\n    \n    // Set up the topSpinner\n    Spinner&lt;Integer&gt; topSpinner = new Spinner&lt;Integer&gt; (1,12,1);\n    topSpinner.setEditable(true);\n    ObjectProperty&lt;Integer&gt; topObjectProp = new SimpleObjectProperty&lt;&gt;(1);\n    IntegerProperty topIntegerProperty = IntegerProperty.integerProperty(topObjectProp);\n    topSpinner.getValueFactory().valueProperty().bindBidirectional(topObjectProp);\n    \n    // Set up the bottomSpinner\n    Spinner&lt;Integer&gt; bottomSpinner = new Spinner&lt;Integer&gt; (1,12,1);\n    bottomSpinner.setEditable(true);\n    ObjectProperty&lt;Integer&gt; bottomObjectProp = new SimpleObjectProperty&lt;&gt;(1);\n    IntegerProperty bottomIntegerProperty = IntegerProperty.integerProperty(bottomObjectProp);\n    bottomSpinner.getValueFactory().valueProperty().bindBidirectional(bottomObjectProp);         \n\n    // Need to keep the reference as bidirectional binding uses weak references\n    // https://docs.oracle.com/javase/8/javafx/api/javafx/beans/property/IntegerProperty.html#bindBidirectional-javafx.beans.property.Property-\n\n    ObjectProperty&lt;Integer&gt; topIntegerPropertyAsObject = topIntegerProperty.asObject();\n    ObjectProperty&lt;Integer&gt; bottomIntegerPropertyAsObject = bottomIntegerProperty.asObject();\n\n    // Bind the two spinners\n    bottomSpinner.getValueFactory().valueProperty(). bindBidirectional(topIntegerPropertyAsObject);\n\n    VBox root = new VBox(10, topSpinner, bottomSpinner);\n    root.setAlignment(Pos.CENTER);\n    primaryStage.setScene(new Scene(root));\n    primaryStage.show();\n}\n\npublic static void main(String[] args) {\n    launch(args);\n}\n</code></pre>\n"},{"tags":["java","assembly","jvm","jit","jvm-hotspot"],"comments":[{"owner":{"display_name":"user1864610"},"score":3,"creation_date":1434679601,"post_id":30928786,"comment_id":49893740,"body_markdown":"Java doesn&#39;t output assembly code.","body":"Java doesn&#39;t output assembly code."},{"owner":{"account_id":4235086,"reputation":3122,"user_id":3466464,"accept_rate":14,"display_name":"Stephan Rauh"},"score":3,"creation_date":1517676195,"post_id":30928786,"comment_id":84195794,"body_markdown":"Oh, it does indeed :). Just have a look at https://www.beyondjava.net/blog/java-programmers-guide-assembler-language/ or my answer below.","body":"Oh, it does indeed :). Just have a look at <a href=\"https://www.beyondjava.net/blog/java-programmers-guide-assembler-language/\" rel=\"nofollow noreferrer\">beyondjava.net/blog/java-programmers-guide-assembler-languag&zwnj;&#8203;e</a> or my answer below."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":2,"up_vote_count":6,"is_accepted":true,"score":4,"last_activity_date":1434683337,"creation_date":1434679927,"answer_id":30928846,"question_id":30928786,"body_markdown":"Java uses bytecode. The most similar would be [`javap`](http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javap.html), per the linked Oracle documentation, *the **javap** command disassembles one or more class files. Its output depends on the options used.*\r\n\r\n    package com.stackoverflow;\r\n    \r\n    class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Hello, World!&quot;);\r\n    \t}\r\n    }\r\n\r\nIf I compile that to `Main.class` and then run `javap -v Main.class` I get\r\n\r\n    Classfile /home/efrisch/workspace/StackOverflow/bin/com/stackoverflow/Main.class\r\n      Last modified Jun 18, 2015; size 553 bytes\r\n      MD5 checksum de4f987e783aa0f145e7245269504028\r\n      Compiled from &quot;Main.java&quot;\r\n    class com.stackoverflow.Main\r\n      minor version: 0\r\n      major version: 52\r\n      flags: ACC_SUPER\r\n    Constant pool:\r\n       #1 = Class              #2             // com/stackoverflow/Main\r\n       #2 = Utf8               com/stackoverflow/Main\r\n       #3 = Class              #4             // java/lang/Object\r\n       #4 = Utf8               java/lang/Object\r\n       #5 = Utf8               &lt;init&gt;\r\n       #6 = Utf8               ()V\r\n       #7 = Utf8               Code\r\n       #8 = Methodref          #3.#9          // java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       #9 = NameAndType        #5:#6          // &quot;&lt;init&gt;&quot;:()V\r\n      #10 = Utf8               LineNumberTable\r\n      #11 = Utf8               LocalVariableTable\r\n      #12 = Utf8               this\r\n      #13 = Utf8               Lcom/stackoverflow/Main;\r\n      #14 = Utf8               main\r\n      #15 = Utf8               ([Ljava/lang/String;)V\r\n      #16 = Fieldref           #17.#19        // java/lang/System.out:Ljava/io/PrintStream;\r\n      #17 = Class              #18            // java/lang/System\r\n      #18 = Utf8               java/lang/System\r\n      #19 = NameAndType        #20:#21        // out:Ljava/io/PrintStream;\r\n      #20 = Utf8               out\r\n      #21 = Utf8               Ljava/io/PrintStream;\r\n      #22 = String             #23            // Hello, World!\r\n      #23 = Utf8               Hello, World!\r\n      #24 = Methodref          #25.#27        // java/io/PrintStream.println:(Ljava/lang/String;)V\r\n      #25 = Class              #26            // java/io/PrintStream\r\n      #26 = Utf8               java/io/PrintStream\r\n      #27 = NameAndType        #28:#29        // println:(Ljava/lang/String;)V\r\n      #28 = Utf8               println\r\n      #29 = Utf8               (Ljava/lang/String;)V\r\n      #30 = Utf8               args\r\n      #31 = Utf8               [Ljava/lang/String;\r\n      #32 = Utf8               SourceFile\r\n      #33 = Utf8               Main.java\r\n    {\r\n      com.stackoverflow.Main();\r\n        descriptor: ()V\r\n        flags:\r\n        Code:\r\n          stack=1, locals=1, args_size=1\r\n             0: aload_0\r\n             1: invokespecial #8                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n             4: return\r\n          LineNumberTable:\r\n            line 3: 0\r\n          LocalVariableTable:\r\n            Start  Length  Slot  Name   Signature\r\n                0       5     0  this   Lcom/stackoverflow/Main;\r\n    \r\n      public static void main(java.lang.String[]);\r\n        descriptor: ([Ljava/lang/String;)V\r\n        flags: ACC_PUBLIC, ACC_STATIC\r\n        Code:\r\n          stack=2, locals=1, args_size=1\r\n             0: getstatic     #16                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n             3: ldc           #22                 // String Hello, World!\r\n             5: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n             8: return\r\n          LineNumberTable:\r\n            line 5: 0\r\n            line 6: 8\r\n          LocalVariableTable:\r\n            Start  Length  Slot  Name   Signature\r\n                0       9     0  args   [Ljava/lang/String;\r\n    }\r\n    SourceFile: &quot;Main.java&quot;\r\n","title":"How do I check assembly output of Java code?","body":"<p>Java uses bytecode. The most similar would be <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javap.html\" rel=\"nofollow noreferrer\"><code>javap</code></a>, per the linked Oracle documentation, <em>the <strong>javap</strong> command disassembles one or more class files. Its output depends on the options used.</em></p>\n\n<pre><code>package com.stackoverflow;\n\nclass Main {\n    public static void main(String[] args) {\n        System.out.println(\"Hello, World!\");\n    }\n}\n</code></pre>\n\n<p>If I compile that to <code>Main.class</code> and then run <code>javap -v Main.class</code> I get</p>\n\n<pre><code>Classfile /home/efrisch/workspace/StackOverflow/bin/com/stackoverflow/Main.class\n  Last modified Jun 18, 2015; size 553 bytes\n  MD5 checksum de4f987e783aa0f145e7245269504028\n  Compiled from \"Main.java\"\nclass com.stackoverflow.Main\n  minor version: 0\n  major version: 52\n  flags: ACC_SUPER\nConstant pool:\n   #1 = Class              #2             // com/stackoverflow/Main\n   #2 = Utf8               com/stackoverflow/Main\n   #3 = Class              #4             // java/lang/Object\n   #4 = Utf8               java/lang/Object\n   #5 = Utf8               &lt;init&gt;\n   #6 = Utf8               ()V\n   #7 = Utf8               Code\n   #8 = Methodref          #3.#9          // java/lang/Object.\"&lt;init&gt;\":()V\n   #9 = NameAndType        #5:#6          // \"&lt;init&gt;\":()V\n  #10 = Utf8               LineNumberTable\n  #11 = Utf8               LocalVariableTable\n  #12 = Utf8               this\n  #13 = Utf8               Lcom/stackoverflow/Main;\n  #14 = Utf8               main\n  #15 = Utf8               ([Ljava/lang/String;)V\n  #16 = Fieldref           #17.#19        // java/lang/System.out:Ljava/io/PrintStream;\n  #17 = Class              #18            // java/lang/System\n  #18 = Utf8               java/lang/System\n  #19 = NameAndType        #20:#21        // out:Ljava/io/PrintStream;\n  #20 = Utf8               out\n  #21 = Utf8               Ljava/io/PrintStream;\n  #22 = String             #23            // Hello, World!\n  #23 = Utf8               Hello, World!\n  #24 = Methodref          #25.#27        // java/io/PrintStream.println:(Ljava/lang/String;)V\n  #25 = Class              #26            // java/io/PrintStream\n  #26 = Utf8               java/io/PrintStream\n  #27 = NameAndType        #28:#29        // println:(Ljava/lang/String;)V\n  #28 = Utf8               println\n  #29 = Utf8               (Ljava/lang/String;)V\n  #30 = Utf8               args\n  #31 = Utf8               [Ljava/lang/String;\n  #32 = Utf8               SourceFile\n  #33 = Utf8               Main.java\n{\n  com.stackoverflow.Main();\n    descriptor: ()V\n    flags:\n    Code:\n      stack=1, locals=1, args_size=1\n         0: aload_0\n         1: invokespecial #8                  // Method java/lang/Object.\"&lt;init&gt;\":()V\n         4: return\n      LineNumberTable:\n        line 3: 0\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0       5     0  this   Lcom/stackoverflow/Main;\n\n  public static void main(java.lang.String[]);\n    descriptor: ([Ljava/lang/String;)V\n    flags: ACC_PUBLIC, ACC_STATIC\n    Code:\n      stack=2, locals=1, args_size=1\n         0: getstatic     #16                 // Field java/lang/System.out:Ljava/io/PrintStream;\n         3: ldc           #22                 // String Hello, World!\n         5: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n         8: return\n      LineNumberTable:\n        line 5: 0\n        line 6: 8\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0       9     0  args   [Ljava/lang/String;\n}\nSourceFile: \"Main.java\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4235086,"reputation":3122,"user_id":3466464,"accept_rate":14,"display_name":"Stephan Rauh"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1653217758,"creation_date":1517676640,"answer_id":48599683,"question_id":30928786,"body_markdown":"Java uses both bytecode and &lt;s&gt;assembly language&lt;/s&gt; machine code. It&#39;s a two-step process. The first step is to compile the Java source code to bytecode, as @elliott-frisch pointed out. At runtime, the JVM watches which parts of the program are used a lot. If a method &quot;runs hot&quot;, it&#39;s compiled to machine code. That, in turn, is a multi-step process itself, including many optimizations and replacing fast code with even faster code. I&#39;ve described this in [BeyondJava.net][1] several years ago.\r\n\r\nIf you can spare 45 minutes, I also recommend watching the talk of Charles Nutter. [&quot;Down the rabbit hole&quot;][2] is a great introduction to how Java compiles to assembly language.\r\n\r\nAs for your question: you have to add some parameters to the command starting the application:\r\n\r\n    javaw.exe -XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly Adder\r\n\r\nYou also have to download a special DLL and store it in the jre folder. Also see [Chris Newlands article][3] on how to compile this file for OS X.\r\n\r\n\r\n  [1]: https://www.beyondjava.net/blog/java-programmers-guide-assembler-language/\r\n  [2]: https://www.youtube.com/watch?v=HBKVdJph_oQ\r\n  [3]: https://www.chrisnewland.com/updated-instructions-for-building-hsdis-on-osx-417","title":"How do I check assembly output of Java code?","body":"<p>Java uses both bytecode and <s>assembly language</s> machine code. It's a two-step process. The first step is to compile the Java source code to bytecode, as @elliott-frisch pointed out. At runtime, the JVM watches which parts of the program are used a lot. If a method &quot;runs hot&quot;, it's compiled to machine code. That, in turn, is a multi-step process itself, including many optimizations and replacing fast code with even faster code. I've described this in <a href=\"https://www.beyondjava.net/blog/java-programmers-guide-assembler-language/\" rel=\"noreferrer\">BeyondJava.net</a> several years ago.</p>\n<p>If you can spare 45 minutes, I also recommend watching the talk of Charles Nutter. <a href=\"https://www.youtube.com/watch?v=HBKVdJph_oQ\" rel=\"noreferrer\">&quot;Down the rabbit hole&quot;</a> is a great introduction to how Java compiles to assembly language.</p>\n<p>As for your question: you have to add some parameters to the command starting the application:</p>\n<pre><code>javaw.exe -XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly Adder\n</code></pre>\n<p>You also have to download a special DLL and store it in the jre folder. Also see <a href=\"https://www.chrisnewland.com/updated-instructions-for-building-hsdis-on-osx-417\" rel=\"noreferrer\">Chris Newlands article</a> on how to compile this file for OS X.</p>\n"}],"owner":{"account_id":6140816,"reputation":157,"user_id":4788297,"display_name":"Archishman Archi MAN Sravan Ku"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11217,"favorite_count":0,"down_vote_count":3,"up_vote_count":12,"accepted_answer_id":30928846,"answer_count":2,"score":9,"last_activity_date":1653235927,"creation_date":1434679507,"question_id":30928786,"body_markdown":"I found this question that answered it for C++:\r\n&lt;br&gt;https://stackoverflow.com/questions/137038/how-do-you-get-assembler-output-from-c-c-source-in-gcc\r\n\r\n","title":"How do I check assembly output of Java code?","body":"<p>I found this question that answered it for C++:\n<br><a href=\"https://stackoverflow.com/questions/137038/how-do-you-get-assembler-output-from-c-c-source-in-gcc\">How do you get assembler output from C/C++ source in gcc?</a></p>\n"},{"tags":["java","mysql","multithreading"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":3,"creation_date":1652276212,"post_id":72201886,"comment_id":127567291,"body_markdown":"Without providing more details about what kind of operations are done it&#39;s difficult to answer. Also you haven&#39;t stated if there are any requirements on the runs over the datasets like max execution time or whether there can only be a single running operation at a time and so on.","body":"Without providing more details about what kind of operations are done it&#39;s difficult to answer. Also you haven&#39;t stated if there are any requirements on the runs over the datasets like max execution time or whether there can only be a single running operation at a time and so on."},{"owner":{"account_id":2540793,"reputation":1637,"user_id":2206638,"display_name":"Pavel"},"score":0,"creation_date":1652279328,"post_id":72201886,"comment_id":127568752,"body_markdown":"might be wrong, but sounds to me like a perfect scenario for Spring Batch. Might be worth considering.","body":"might be wrong, but sounds to me like a perfect scenario for Spring Batch. Might be worth considering."},{"owner":{"account_id":4999927,"reputation":952,"user_id":4019273,"display_name":"Cheshiremoe"},"score":0,"creation_date":1652292085,"post_id":72201886,"comment_id":127573742,"body_markdown":"Type of workload is very important when multi threading for database tasks. If it&#39;s mostly reads then that is fine but if you have more writes then you can run into conflicting writes working on the same data. If you try to solve that with locking records then you cause blocking stalemates.\n\nIf each thread has it&#39;s own set of data that doesn&#39;t interact with other threads data then everything is thread safe.","body":"Type of workload is very important when multi threading for database tasks. If it&#39;s mostly reads then that is fine but if you have more writes then you can run into conflicting writes working on the same data. If you try to solve that with locking records then you cause blocking stalemates.  If each thread has it&#39;s own set of data that doesn&#39;t interact with other threads data then everything is thread safe."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1652292900,"post_id":72201886,"comment_id":127573971,"body_markdown":"What exactly do you mean “perform a number of operations”? Processing a few thousand records every three seconds is not much of a load if you are just doing some calculations or building a report, and would not spawning threads. I’m voting to close as unclear, needing detail.","body":"What exactly do you mean “perform a number of operations”? Processing a few thousand records every three seconds is not much of a load if you are just doing some calculations or building a report, and would not spawning threads. I’m voting to close as unclear, needing detail."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1652293453,"post_id":72201886,"comment_id":127574165,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":24574458,"reputation":19,"user_id":18480425,"display_name":"Zar Tel"},"score":0,"creation_date":1652340491,"post_id":72201886,"comment_id":127583771,"body_markdown":"@SpaceTrucker I just edit my post, , I hope things are a little clearer now. In any case, the actions are not refer to simple mathematical operations or using local functions, but using an API that is external to the system.","body":"@SpaceTrucker I just edit my post, , I hope things are a little clearer now. In any case, the actions are not refer to simple mathematical operations or using local functions, but using an API that is external to the system."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1653070885,"post_id":72201886,"comment_id":127770064,"body_markdown":"I suspect the 4000 threads will not finish in 3 seconds.  That will lead to the system stumbling over itself, betting behinder and behinder.","body":"I suspect the 4000 threads will not finish in 3 seconds.  That will lead to the system stumbling over itself, betting behinder and behinder."},{"owner":{"account_id":24574458,"reputation":19,"user_id":18480425,"display_name":"Zar Tel"},"score":0,"creation_date":1653201558,"post_id":72201886,"comment_id":127790117,"body_markdown":"@RickJames you&#39;re absolutely right. This is why I opened the question for consultation, how the process can be streamlined, so that the system does not stumble upon itself and execute the maximum possible queries.","body":"@RickJames you&#39;re absolutely right. This is why I opened the question for consultation, how the process can be streamlined, so that the system does not stumble upon itself and execute the maximum possible queries."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652350663,"creation_date":1652343820,"answer_id":72212261,"question_id":72201886,"body_markdown":"It seems you want to process some rows in a database every three seconds. For each time, you want to query for about four thousand rows. Each of those rows needs to be individually processed, without regard for the other rows in that table. It sounds like you are not updating the rows, but instead sending the row’s data via calls to other services such as making web services calls.\r\n\r\n# Yes, use executor services\r\n\r\nSo load you data into memory, as the volume seems low. Define a class to hold the data for each row. Since we are using this class primarily to communicate data transparently and immutable, define the class as a [record][1].\r\n\r\n    record Technician ( int id , LocalDate eventStart , … ) {}\r\n\r\nInstantiate these `Technician` objects as you loop the result set from your query. \r\n\r\nFor each `Technician` object, pass to the constructor of a class implementing `Callable`. The `run` method of that class defines the work you need to do in processing that row’s data, passing to web service calls, etc.\r\n\r\nA `Callable` returns a value. Let&#39;s define another record to signal success/failure and the ID of the record.\r\n\r\n    record TechnicianProcessingResult ( int id , boolean succeeded ) {}\r\n\r\nMake that record be the type of our `Callable`.\r\n\r\n```java\r\nclass ProcessTechnicianTask implements Callable&lt; TechnicianProcessingResult &gt; {\r\n\r\n    private final Technician technician ;\r\n\r\n    ProcessTechnicianTask( Technician t ) { // Constructor.\r\n        this.technician = t ;\r\n    }\r\n \r\n    public TechnicianProcessingResult call() {\r\n        System.out.println( &quot;Processing technician Id &quot; + this.technician.id );\r\n        …\r\n        return new TechnicianProcessingResult( this.technician.id , true ) ;\r\n        … or …\r\n        return new TechnicianProcessingResult( this.technician.id , false ) ;\r\n    }\r\n}\r\n```\r\n\r\nInstantiate a task for each `Technician` object you instantiated for each row retrieved from database. Collect the tasks.\r\n\r\n    List&lt; ProcessTechnicianTask &gt; tasks = new ArrayList&lt;&gt;() ;\r\n    …\r\n    tasks.add( new ProcessTechnicianTask( nthTechnician ) ) ;\r\n\r\nSubmit that collection of tasks an executor service you have already established. Generally specify almost as many threads as you have CPU cores available. \r\n\r\n    ExecutorService executorService = Executors.newFixedThreadPool( 5 ) ;\r\n    …\r\n    List&lt; Future&lt; TechnicianProcessingResult &gt; &gt; futures = executorService.invokeAll( tasks , 3 , TimeUnit.SECONDS ) ;\r\n\r\nNotice the time-out arguments, to fire in case something goes wrong and your tasks take too much time to complete. \r\n\r\nCheck the list of futures to see if they are [done][2], and if any were [canceled][3], and check their result object.\r\n\r\nYou want to repeat that every three seconds. So also create a single-threaded `ScheduledExecutorService`. Schedule a repeating task, a `Runnable` or `Callable`, that does the above work of database query, instantiating `Technician` objects, assigning each to a `ProcessTechnicianTask` object, all submitted to our other executor service.\r\n\r\nBe sure to gracefully shutdown your executor service objects. Otherwise their backing thread pools may continue running indefinitely, like a zombie &#129503;‍♂️. See boilerplate code provided in the Javadoc. \r\n\r\nAll of this has been covered many times already on Stack Overflow. So search to learn more.\r\n\r\nYou seemed to have had this approach in mind. But you wondered if there is &quot;more efficient and faster ways&quot;. No, I do not see any better way. Your bottleneck here is making network calls to your API, presumably web services calls. Creating the record objects, collecting them, and submitting them to the executor services will be very fast compared to the threads waiting around for a response back from the network calls. \r\n\r\n# Project Loom\r\n\r\nThe one thing that might dramatically improve performance in your scenario is the [virtual threads][4] and [structured concurrency][5] promised by [Project Loom][6]. \r\n\r\nIn current Java, each Java thread is mapped directly to a host OS thread. Each of your few threads will sit idle during the web services calls, halting execution until those calls return. These threads are heavyweight, so we cannot have very many. \r\n\r\nIn Project Loom, many virtual threads are mapped to each host OS thread. These virtual threads are lightweight, so we can have thousands, even millions. When a virtual thread blocks, such as waiting for your web services call to return, that virtual thread is &quot;parked&quot;/&quot;dismounted&quot; from the host OS thread so that another virtual thread might use the host thread. So other virtual threads can get stuff done while the previous virtual thread waits for its web services call to return. \r\n\r\nIn your situation, many more web services calls could be placed at a time, rather than only a few at a time. The CPU cores on your machine stay much busier, getting more of your rows processed in less time. You might see a multiple-fold improvement in your processing time.\r\n\r\nProject Loom is unfinished, but under active development. Experimental builds are [available now][7], based on early-access Java 19. See articles, interviews, and presentations with team members including Ron Pressler and Alan Bateman.\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/395\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#isDone()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#isCancelled()\r\n  [4]: https://openjdk.java.net/jeps/425\r\n  [5]: https://openjdk.java.net/jeps/8277129\r\n  [6]: https://wiki.openjdk.java.net/display/loom/Main\r\n  [7]: https://jdk.java.net/loom/","title":"An effective way to implement Threads in Java on many DB records","body":"<p>It seems you want to process some rows in a database every three seconds. For each time, you want to query for about four thousand rows. Each of those rows needs to be individually processed, without regard for the other rows in that table. It sounds like you are not updating the rows, but instead sending the row’s data via calls to other services such as making web services calls.</p>\n<h1>Yes, use executor services</h1>\n<p>So load you data into memory, as the volume seems low. Define a class to hold the data for each row. Since we are using this class primarily to communicate data transparently and immutable, define the class as a <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a>.</p>\n<pre><code>record Technician ( int id , LocalDate eventStart , … ) {}\n</code></pre>\n<p>Instantiate these <code>Technician</code> objects as you loop the result set from your query.</p>\n<p>For each <code>Technician</code> object, pass to the constructor of a class implementing <code>Callable</code>. The <code>run</code> method of that class defines the work you need to do in processing that row’s data, passing to web service calls, etc.</p>\n<p>A <code>Callable</code> returns a value. Let's define another record to signal success/failure and the ID of the record.</p>\n<pre><code>record TechnicianProcessingResult ( int id , boolean succeeded ) {}\n</code></pre>\n<p>Make that record be the type of our <code>Callable</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ProcessTechnicianTask implements Callable&lt; TechnicianProcessingResult &gt; {\n\n    private final Technician technician ;\n\n    ProcessTechnicianTask( Technician t ) { // Constructor.\n        this.technician = t ;\n    }\n \n    public TechnicianProcessingResult call() {\n        System.out.println( &quot;Processing technician Id &quot; + this.technician.id );\n        …\n        return new TechnicianProcessingResult( this.technician.id , true ) ;\n        … or …\n        return new TechnicianProcessingResult( this.technician.id , false ) ;\n    }\n}\n</code></pre>\n<p>Instantiate a task for each <code>Technician</code> object you instantiated for each row retrieved from database. Collect the tasks.</p>\n<pre><code>List&lt; ProcessTechnicianTask &gt; tasks = new ArrayList&lt;&gt;() ;\n…\ntasks.add( new ProcessTechnicianTask( nthTechnician ) ) ;\n</code></pre>\n<p>Submit that collection of tasks an executor service you have already established. Generally specify almost as many threads as you have CPU cores available.</p>\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool( 5 ) ;\n…\nList&lt; Future&lt; TechnicianProcessingResult &gt; &gt; futures = executorService.invokeAll( tasks , 3 , TimeUnit.SECONDS ) ;\n</code></pre>\n<p>Notice the time-out arguments, to fire in case something goes wrong and your tasks take too much time to complete.</p>\n<p>Check the list of futures to see if they are <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#isDone()\" rel=\"nofollow noreferrer\">done</a>, and if any were <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#isCancelled()\" rel=\"nofollow noreferrer\">canceled</a>, and check their result object.</p>\n<p>You want to repeat that every three seconds. So also create a single-threaded <code>ScheduledExecutorService</code>. Schedule a repeating task, a <code>Runnable</code> or <code>Callable</code>, that does the above work of database query, instantiating <code>Technician</code> objects, assigning each to a <code>ProcessTechnicianTask</code> object, all submitted to our other executor service.</p>\n<p>Be sure to gracefully shutdown your executor service objects. Otherwise their backing thread pools may continue running indefinitely, like a zombie 🧟‍♂️. See boilerplate code provided in the Javadoc.</p>\n<p>All of this has been covered many times already on Stack Overflow. So search to learn more.</p>\n<p>You seemed to have had this approach in mind. But you wondered if there is &quot;more efficient and faster ways&quot;. No, I do not see any better way. Your bottleneck here is making network calls to your API, presumably web services calls. Creating the record objects, collecting them, and submitting them to the executor services will be very fast compared to the threads waiting around for a response back from the network calls.</p>\n<h1>Project Loom</h1>\n<p>The one thing that might dramatically improve performance in your scenario is the <a href=\"https://openjdk.java.net/jeps/425\" rel=\"nofollow noreferrer\">virtual threads</a> and <a href=\"https://openjdk.java.net/jeps/8277129\" rel=\"nofollow noreferrer\">structured concurrency</a> promised by <a href=\"https://wiki.openjdk.java.net/display/loom/Main\" rel=\"nofollow noreferrer\">Project Loom</a>.</p>\n<p>In current Java, each Java thread is mapped directly to a host OS thread. Each of your few threads will sit idle during the web services calls, halting execution until those calls return. These threads are heavyweight, so we cannot have very many.</p>\n<p>In Project Loom, many virtual threads are mapped to each host OS thread. These virtual threads are lightweight, so we can have thousands, even millions. When a virtual thread blocks, such as waiting for your web services call to return, that virtual thread is &quot;parked&quot;/&quot;dismounted&quot; from the host OS thread so that another virtual thread might use the host thread. So other virtual threads can get stuff done while the previous virtual thread waits for its web services call to return.</p>\n<p>In your situation, many more web services calls could be placed at a time, rather than only a few at a time. The CPU cores on your machine stay much busier, getting more of your rows processed in less time. You might see a multiple-fold improvement in your processing time.</p>\n<p>Project Loom is unfinished, but under active development. Experimental builds are <a href=\"https://jdk.java.net/loom/\" rel=\"nofollow noreferrer\">available now</a>, based on early-access Java 19. See articles, interviews, and presentations with team members including Ron Pressler and Alan Bateman.</p>\n"},{"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653235885,"creation_date":1653235885,"answer_id":72339269,"question_id":72201886,"body_markdown":"**Better design:**\r\n\r\nDon&#39;t use cron or Events for a repeating task that _might_ take longer than the allotted interval to finish.\r\n\r\nInstead, have a separate program that runs through all 4000 items (taking as long as needed), then starts over.\r\n\r\n**Further comments:**\r\n\r\nIt may not matter much whether you use multi-processing versus multi-threading.\r\n\r\nIf threading, remember that MySQL connections are not thread-safe; you must use a separate connection for each thread.\r\n\r\nWhile MySQL can easily handle 4000 _idle_ connections, it does not do well with 4000 queries _active simultaneously_.  (Often 100 is challenging for it.  Often, the solution is to speed up the queries.)\r\n\r\nSplitting the 4000 into multiple threads may not be useful.  It is rarely useful to have more threads than CPU cores.  They stumble over each other in new ways -- how the OS deals with coordination.\r\n\r\nSplitting up the 4000 complicates this extra process -- You may need a master program that is watching its children to see when it is time to start over.  Or (probably better), have, say, 20 threads each doing a specific 200 tasks.\r\n\r\n","title":"An effective way to implement Threads in Java on many DB records","body":"<p><strong>Better design:</strong></p>\n<p>Don't use cron or Events for a repeating task that <em>might</em> take longer than the allotted interval to finish.</p>\n<p>Instead, have a separate program that runs through all 4000 items (taking as long as needed), then starts over.</p>\n<p><strong>Further comments:</strong></p>\n<p>It may not matter much whether you use multi-processing versus multi-threading.</p>\n<p>If threading, remember that MySQL connections are not thread-safe; you must use a separate connection for each thread.</p>\n<p>While MySQL can easily handle 4000 <em>idle</em> connections, it does not do well with 4000 queries <em>active simultaneously</em>.  (Often 100 is challenging for it.  Often, the solution is to speed up the queries.)</p>\n<p>Splitting the 4000 into multiple threads may not be useful.  It is rarely useful to have more threads than CPU cores.  They stumble over each other in new ways -- how the OS deals with coordination.</p>\n<p>Splitting up the 4000 complicates this extra process -- You may need a master program that is watching its children to see when it is time to start over.  Or (probably better), have, say, 20 threads each doing a specific 200 tasks.</p>\n"}],"owner":{"account_id":24574458,"reputation":19,"user_id":18480425,"display_name":"Zar Tel"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72339269,"answer_count":2,"score":-1,"last_activity_date":1653235885,"creation_date":1652275495,"question_id":72201886,"body_markdown":"I am in the development stages of an experimental system in Java with a heavy MySQL DB, containing thousands of records, for each of which is required to perform a number of operations, and in parallel.\r\n\r\nI&#39;m well aware of using Java Threads, but I do not know what is the best/efficient way to use it on masses of records from DB.\r\n\r\nSuppose we look at the following DB table:\r\n\r\n    Table technicians\r\n    \tID\t\t\tNUMBER\r\n    \tDISTRICT_CODE\t\tNUMBER NOT NULL\r\n    \tEVENT_START_DATE\tDATE NOT NULL\r\n    \tEVENT_END_DATE\t\tDATE NOT NULL\r\n    \tINCHARGE\t\tNUMBER NOT NULL\r\n    \tEFFECTIVE_FROM\t\tDATE DEFAULT SYSDATE NOT NULL\r\n    \tEFFECTIVE_TO\t\tDATE\r\n    \tSTATUS\t\t\tNUMBER NOT NULL\r\n\r\n\r\nThen we&#39;ll perform the following extraction:\r\n\r\n    SELECT * FROM technicians WHERE INCHARGE = 23;\r\n\r\nNow, I&#39;m now seriously debating whether to put the extracted info into a List (for example, ArrayList), or other data structure, (Note that each extraction contains about 4000 records, and it occurs every 3 seconds over and over again) and how to implement Thread for each of the records individually.\r\n\r\nThe naive idea that has been raised, is that after querying the DB and receiving the information, go through each record entry in a loop (sql.hasNext () e.g.) and run the ThreadPoolExecutor object on each record, but I tend to believe that there are more efficient and faster ways.\r\n\r\nAny suggestion is welcome\r\n\r\n\r\nEdit: I see questions have been raised about the actions to be taken for each of the records, so I will try to answer that.\r\n\r\nFor each line, we will run several different APIs for each field to ensure its correctness type of answer (e.g. correct, incorrect, correct but the value is short, etc.) on so on.\r\n\r\nIt is important for me to note that each of the actions occurs towards an API that is external to the system (located on a different remote server), so sometimes for a single field, several calls to different APIs will be made, so high power and parallel work are important.\r\n\r\nFor example:\r\n\r\nFor the INCHARGE field - we will send the value to an external API source that will check the data, and if the information is correct then we will send the field again to another API and we will get information related to it.\r\n\r\n","title":"An effective way to implement Threads in Java on many DB records","body":"<p>I am in the development stages of an experimental system in Java with a heavy MySQL DB, containing thousands of records, for each of which is required to perform a number of operations, and in parallel.</p>\n<p>I'm well aware of using Java Threads, but I do not know what is the best/efficient way to use it on masses of records from DB.</p>\n<p>Suppose we look at the following DB table:</p>\n<pre><code>Table technicians\n    ID          NUMBER\n    DISTRICT_CODE       NUMBER NOT NULL\n    EVENT_START_DATE    DATE NOT NULL\n    EVENT_END_DATE      DATE NOT NULL\n    INCHARGE        NUMBER NOT NULL\n    EFFECTIVE_FROM      DATE DEFAULT SYSDATE NOT NULL\n    EFFECTIVE_TO        DATE\n    STATUS          NUMBER NOT NULL\n</code></pre>\n<p>Then we'll perform the following extraction:</p>\n<pre><code>SELECT * FROM technicians WHERE INCHARGE = 23;\n</code></pre>\n<p>Now, I'm now seriously debating whether to put the extracted info into a List (for example, ArrayList), or other data structure, (Note that each extraction contains about 4000 records, and it occurs every 3 seconds over and over again) and how to implement Thread for each of the records individually.</p>\n<p>The naive idea that has been raised, is that after querying the DB and receiving the information, go through each record entry in a loop (sql.hasNext () e.g.) and run the ThreadPoolExecutor object on each record, but I tend to believe that there are more efficient and faster ways.</p>\n<p>Any suggestion is welcome</p>\n<p>Edit: I see questions have been raised about the actions to be taken for each of the records, so I will try to answer that.</p>\n<p>For each line, we will run several different APIs for each field to ensure its correctness type of answer (e.g. correct, incorrect, correct but the value is short, etc.) on so on.</p>\n<p>It is important for me to note that each of the actions occurs towards an API that is external to the system (located on a different remote server), so sometimes for a single field, several calls to different APIs will be made, so high power and parallel work are important.</p>\n<p>For example:</p>\n<p>For the INCHARGE field - we will send the value to an external API source that will check the data, and if the information is correct then we will send the field again to another API and we will get information related to it.</p>\n"},{"tags":["java","filenotfoundexception","access-denied"],"answers":[{"tags":[],"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"down_vote_count":1,"up_vote_count":55,"is_accepted":true,"score":54,"last_activity_date":1290723745,"creation_date":1290723147,"answer_id":4281186,"question_id":4281143,"body_markdown":"You cannot open and read a directory, use the `isFile()` and `isDirectory()` methods to distinguish between files and folders. You can get the contents of folders using the `list()` and `listFiles()` methods (for filenames and `File`s respectively) you can also specify a filter that selects a subset of files listed.\r\n","title":"java.io.FileNotFoundException: (Access is denied)","body":"<p>You cannot open and read a directory, use the <code>isFile()</code> and <code>isDirectory()</code> methods to distinguish between files and folders. You can get the contents of folders using the <code>list()</code> and <code>listFiles()</code> methods (for filenames and <code>File</code>s respectively) you can also specify a filter that selects a subset of files listed.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1290724110,"creation_date":1290724110,"answer_id":4281264,"question_id":4281143,"body_markdown":"1. check the rsp&#39;s reply\r\n2. check that you have permissions to read the file\r\n3. check whether the file is not locked by other application. It is relevant mostly if you are on windows. for example I think that you can get the exception if you are trying to read the file while it is opened in notepad","title":"java.io.FileNotFoundException: (Access is denied)","body":"<ol>\n<li>check the rsp's reply</li>\n<li>check that you have permissions to read the file</li>\n<li>check whether the file is not locked by other application. It is relevant mostly if you are on windows. for example I think that you can get the exception if you are trying to read the file while it is opened in notepad</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5308614,"reputation":51,"user_id":4235698,"display_name":"Thales Valias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1415631352,"creation_date":1415631352,"answer_id":26846517,"question_id":4281143,"body_markdown":"Also, in some cases is important to check the **target folder permissions**. To give write permission for the user might be the solution. That worked for me.","title":"java.io.FileNotFoundException: (Access is denied)","body":"<p>Also, in some cases is important to check the <strong>target folder permissions</strong>. To give write permission for the user might be the solution. That worked for me.</p>\n"},{"tags":[],"owner":{"account_id":210415,"reputation":133,"user_id":462018,"display_name":"Rex the Strange"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528134377,"creation_date":1528134377,"answer_id":50686113,"question_id":4281143,"body_markdown":"Here&#39;s a gotcha that I just discovered - perhaps it might help someone else. If using windows the classes folder must not have encryption enabled! Tomcat doesn&#39;t seem to like that. Right click on the classes folder, select &quot;Properties&quot; and then click the &quot;Advanced...&quot; button. Make sure the &quot;Encrypt contents to secure data&quot; checkbox is cleared. Restart Tomcat.\r\n\r\nIt worked for me so here&#39;s hoping it helps someone else, too.","title":"java.io.FileNotFoundException: (Access is denied)","body":"<p>Here's a gotcha that I just discovered - perhaps it might help someone else. If using windows the classes folder must not have encryption enabled! Tomcat doesn't seem to like that. Right click on the classes folder, select \"Properties\" and then click the \"Advanced...\" button. Make sure the \"Encrypt contents to secure data\" checkbox is cleared. Restart Tomcat.</p>\n\n<p>It worked for me so here's hoping it helps someone else, too.</p>\n"},{"tags":[],"owner":{"account_id":15021038,"reputation":23,"user_id":10842439,"display_name":"Shubham Ray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615022719,"creation_date":1615022719,"answer_id":66504185,"question_id":4281143,"body_markdown":"Check the file path properly, usually we mention the location and forget to specify the file name or the exact position where it belongs to.","title":"java.io.FileNotFoundException: (Access is denied)","body":"<p>Check the file path properly, usually we mention the location and forget to specify the file name or the exact position where it belongs to.</p>\n"},{"tags":[],"owner":{"account_id":15837945,"reputation":84,"user_id":11427296,"display_name":"Novice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653235240,"creation_date":1653234533,"answer_id":72339100,"question_id":4281143,"body_markdown":"This solution worked:\r\n\r\nMy JDK is installed in one directory(C drive) and \r\n my java program as well as other files are in another directory(D drive).\r\n\r\n[Here&#39;s the solution from another Stack Overflow question](https://stackoverflow.com/a/14521400/11427296)\r\n\r\n","title":"java.io.FileNotFoundException: (Access is denied)","body":"<p>This solution worked:</p>\n<p>My JDK is installed in one directory(C drive) and\nmy java program as well as other files are in another directory(D drive).</p>\n<p><a href=\"https://stackoverflow.com/a/14521400/11427296\">Here's the solution from another Stack Overflow question</a></p>\n"}],"owner":{"account_id":98378,"reputation":2722,"user_id":266333,"accept_rate":56,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194278,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":4281186,"answer_count":6,"score":54,"last_activity_date":1653235240,"creation_date":1290722616,"question_id":4281143,"body_markdown":"I am trying to read the files inside a folder, but when I run the program it throws this exception. I tried with some other folders also. It throws the same exception.\r\n\r\n    Exception in thread &quot;main&quot; java.io.FileNotFoundException: C:\\backup (Access is denied)\r\n    \tat java.io.FileInputStream.open(Native Method)\r\n    \tat java.io.FileInputStream.&lt;init&gt;(Unknown Source)","title":"java.io.FileNotFoundException: (Access is denied)","body":"<p>I am trying to read the files inside a folder, but when I run the program it throws this exception. I tried with some other folders also. It throws the same exception.</p>\n\n<pre><code>Exception in thread \"main\" java.io.FileNotFoundException: C:\\backup (Access is denied)\n    at java.io.FileInputStream.open(Native Method)\n    at java.io.FileInputStream.&lt;init&gt;(Unknown Source)\n</code></pre>\n"},{"tags":["java","spring","hibernate","orm","connection"],"comments":[{"owner":{"account_id":6540645,"reputation":588,"user_id":5058362,"display_name":"grizzly"},"score":0,"creation_date":1488446748,"post_id":42538817,"comment_id":72237932,"body_markdown":"Please share the `Hibernate-test.xml` contents.","body":"Please share the <code>Hibernate-test.xml</code> contents."}],"answers":[{"tags":[],"owner":{"account_id":4964089,"reputation":1355,"user_id":5053158,"display_name":"c_froehlich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489850728,"creation_date":1489850728,"answer_id":42876172,"question_id":42538817,"body_markdown":"I stumbled over a quite similar stack trace when updating a legacy application to Hibernate 5 / Spring 4 and implementing transaction support while I was at it.\r\n\r\nWe are using two database connections (two SessionFactories and two TransactionManagers).\r\n\r\nThe problem was that I nested a transaction on connection B inside a transaction on connection A. Like this:\r\n\r\n&lt;pre&gt;\r\napiCall\r\n  -&gt; @Transactional \r\n     doSomethingWithConnectionA\r\n     -&gt; @Transactional\r\n        doSomethingWithConnectionB\r\n&lt;/pre&gt;\r\n\r\nThe issue was gone, when I excuted the functions one after the other from the same level\r\n\r\n&lt;pre&gt;\r\napiCall\r\n  -&gt; @Transactional \r\n     doSomethingWithConnectionA\r\n  -&gt; @Transactional\r\n     doSomethingWithConnectionB\r\n&lt;/pre&gt;\r\n","title":"How to fix the org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl@779de014 is closed issue","body":"<p>I stumbled over a quite similar stack trace when updating a legacy application to Hibernate 5 / Spring 4 and implementing transaction support while I was at it.</p>\n\n<p>We are using two database connections (two SessionFactories and two TransactionManagers).</p>\n\n<p>The problem was that I nested a transaction on connection B inside a transaction on connection A. Like this:</p>\n\n<pre>\napiCall\n  -> @Transactional \n     doSomethingWithConnectionA\n     -> @Transactional\n        doSomethingWithConnectionB\n</pre>\n\n<p>The issue was gone, when I excuted the functions one after the other from the same level</p>\n\n<pre>\napiCall\n  -> @Transactional \n     doSomethingWithConnectionA\n  -> @Transactional\n     doSomethingWithConnectionB\n</pre>\n"},{"tags":[],"owner":{"account_id":10739517,"reputation":332,"user_id":7903107,"accept_rate":43,"display_name":"John"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1495152327,"creation_date":1495152327,"answer_id":44059506,"question_id":42538817,"body_markdown":"I found something strange in your error message &quot;**SEVERE**: **Commit exception overridden by rollback exception**&quot;. If you look at the try block in `UserDaoImpl.Java` file you have return statement, which closes the hibernate connection before returning. And you have `session.close()` statement in finally block which doesn&#39;t make sense, since the connection was already closed. Would you mind removing `session.close()` statement and try again. Let me know if this solves your problem.","title":"How to fix the org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl@779de014 is closed issue","body":"<p>I found something strange in your error message \"<strong>SEVERE</strong>: <strong>Commit exception overridden by rollback exception</strong>\". If you look at the try block in <code>UserDaoImpl.Java</code> file you have return statement, which closes the hibernate connection before returning. And you have <code>session.close()</code> statement in finally block which doesn't make sense, since the connection was already closed. Would you mind removing <code>session.close()</code> statement and try again. Let me know if this solves your problem.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496847493,"creation_date":1496655086,"answer_id":44365833,"question_id":42538817,"body_markdown":"As explained in the [Spring Framework User Guide][1], in a `@Transactional` block, you don&#39;t need to manually manage the Hibernate `Session` since the `TransactionInterceptor` does that for you.\r\n\r\nSo, instead of:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public List&lt;User&gt; getUsers() {\r\n        List&lt;User&gt; users;\r\n        Session session=sessionFactory.getCurrentSession();\r\n        try\r\n        {\r\n            users=(List&lt;User&gt;) session.createQuery(&quot;FROM USER&quot;); \r\n            return users;\r\n        }\r\n        catch (Exception e) \r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        finally {\r\n          session.close(); \r\n        }\r\n        return null;\r\n    }\r\n\r\nyou should do this:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public List&lt;User&gt; getUsers() {\r\n        try {\r\n            return sessionFactory.getCurrentSession()\r\n    \t\t.createQuery(&quot;FROM USER&quot;)\r\n    \t\t.getResultList(); \r\n        }\r\n        catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nAside from removing the `session.close` call, there were more issues that I fixed in your example:\r\n\r\n1. You were not calling `getResultList()` on the Hibernate `Query` which, instead, you cast to  `List&lt;User&gt;`\r\n2. Calling `e..printStackTrace();` is bad. You should use a Logger framework instead. In this case, it&#39;s better to propagate the exception further instead of hiding it under the carpet.\r\n3. Why would you return `null` when you expect a `List`? If there is no result, and empty `List` is a much better alternative. In your example, when you got an exception, you&#39;d return `null` which it&#39;s indistinguishable from the case when you&#39;d get an empty result set.\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/orm.html#orm-hibernate-straight","title":"How to fix the org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl@779de014 is closed issue","body":"<p>As explained in the <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/orm.html#orm-hibernate-straight\" rel=\"nofollow noreferrer\">Spring Framework User Guide</a>, in a <code>@Transactional</code> block, you don't need to manually manage the Hibernate <code>Session</code> since the <code>TransactionInterceptor</code> does that for you.</p>\n\n<p>So, instead of:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic List&lt;User&gt; getUsers() {\n    List&lt;User&gt; users;\n    Session session=sessionFactory.getCurrentSession();\n    try\n    {\n        users=(List&lt;User&gt;) session.createQuery(\"FROM USER\"); \n        return users;\n    }\n    catch (Exception e) \n    {\n        e.printStackTrace();\n    }\n    finally {\n      session.close(); \n    }\n    return null;\n}\n</code></pre>\n\n<p>you should do this:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic List&lt;User&gt; getUsers() {\n    try {\n        return sessionFactory.getCurrentSession()\n        .createQuery(\"FROM USER\")\n        .getResultList(); \n    }\n    catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n\n<p>Aside from removing the <code>session.close</code> call, there were more issues that I fixed in your example:</p>\n\n<ol>\n<li>You were not calling <code>getResultList()</code> on the Hibernate <code>Query</code> which, instead, you cast to  <code>List&lt;User&gt;</code></li>\n<li>Calling <code>e..printStackTrace();</code> is bad. You should use a Logger framework instead. In this case, it's better to propagate the exception further instead of hiding it under the carpet.</li>\n<li>Why would you return <code>null</code> when you expect a <code>List</code>? If there is no result, and empty <code>List</code> is a much better alternative. In your example, when you got an exception, you'd return <code>null</code> which it's indistinguishable from the case when you'd get an empty result set.</li>\n</ol>\n"}],"owner":{"display_name":"user3252885"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22437,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":44059506,"answer_count":3,"score":7,"last_activity_date":1653235073,"creation_date":1488391267,"question_id":42538817,"body_markdown":"I am trying to create or update user with Hibernate 5 and it throws following exception:\r\n    org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl@779de014 is closed\r\n\r\nI&#39;m using the following technologies:\r\n\r\n- Spring 4\r\n- Hibernate 5\r\n- Maven \r\n- Eclipse\r\n\r\nThis is my `UserDaoImpl.Java`:\r\n\r\n    package com.fasttrack.users.dao;\r\n    import java.util.List;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    import com.fasttrack.users.model.User;\r\n    \r\n    @Repository\r\n    @Transactional\r\n    public class UserDaoImpl extends AbstractDao implements UserDao\r\n    {\r\n    \t@Autowired\r\n    \tprivate SessionFactory sessionFactory;\r\n    \tpublic boolean saveUser(User user)\r\n    \t{\r\n    \t\t Session session=sessionFactory.getCurrentSession();\r\n    \t      try\r\n    \t      {\r\n    \t \t\t session.persist(user);\r\n    \t \t\t return true;\r\n    \t      }\r\n    \t      \r\n    \t      catch (Exception e) \r\n    \t      {\r\n    \t    \t\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t      \r\n    \t      finally \r\n    \t      {\r\n    \t          session.close(); \r\n    \t       }\r\n    \t    \t \r\n    \t}\r\n    \r\n    \t\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic List&lt;User&gt; getUsers()\r\n    \t{\r\n    \t\t List&lt;User&gt; users;\r\n    \t\t Session session=sessionFactory.getCurrentSession();\r\n    \t      try\r\n    \t      {\r\n    \t    \t  users=(List&lt;User&gt;) session.createQuery(&quot;FROM USER&quot;); \r\n    \t    \t  return users;\r\n    \t      }\r\n    \t      \r\n    \t      catch (Exception e) \r\n    \t      {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t      \r\n    \t      finally {\r\n    \t          session.close(); \r\n    \t       }\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tpublic User getUser(String id)\r\n    \t{\r\n    \t\t User user;\r\n    \t\t Session session=sessionFactory.getCurrentSession();\r\n    \t      try\r\n    \t      {\r\n    \t    \t  user=(User)session.get(User.class,id); \r\n    \t    \t  return user;\r\n    \t      }\r\n    \t      \r\n    \t      catch (Exception e) \r\n    \t      {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t      \r\n    \t      finally \r\n    \t      {\r\n    \t          session.close(); \r\n    \t       }\r\n    \t\t\r\n    \t}\r\n    \r\n    \t\r\n    \r\n    \tpublic boolean updateUser(User user)\r\n    \t{\r\n    \t\tSession session = sessionFactory.getCurrentSession();\r\n    \t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tsession.saveOrUpdate(user);\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \r\n    \t\tcatch (Exception e)\r\n    \t\t\t{\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \r\n    \t\tfinally\r\n    \t\t\t{\r\n    \t\t\t\tsession.close();\r\n    \t\t\t}\r\n    \t}\r\n    \r\n    \r\n    \tpublic boolean deleteUserById(String id)\r\n    \t{\r\n    \t\tUser user = new User();\r\n    \t\tuser.setId(id);\r\n    \t\t\r\n    \t\tSession session = sessionFactory.getCurrentSession();\r\n    \t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tsession.delete(user);\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \r\n    \t\tcatch (Exception e)\r\n    \t\t\t{\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \r\n    \t\tfinally\r\n    \t\t\t{\r\n    \t\t\t\tsession.close();\r\n    \t\t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nThis is my `TestUserDao.java`:\r\n\r\n    import com.fasttrack.users.dao.UserDao;\r\n    import com.fasttrack.users.model.User;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n    \r\n    \r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(&quot;/Hibernate-test.xml&quot;)\r\n    \r\n    public class TestUserDao\r\n    {\r\n    \t@Autowired(required=true)\r\n    \tpublic UserDao userDao;\r\n    \t\r\n    \t@Test\r\n    \tpublic void testSaveUser()\r\n    \t{\r\n    \t\tUser user=new User();\r\n    \t\tuser.setFirstName(&quot;TestUser1&quot;);\r\n    \t\tboolean result=userDao.saveUser(user);\r\n        }\r\n    }\r\n\r\nError Message:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Mar 01, 2017 1:14:52 PM org.springframework.test.context.support.DefaultTestContextBootstrapper getDefaultTestExecutionListenerClassNames\r\n    INFO: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]\r\n    Mar 01, 2017 1:14:52 PM org.springframework.test.context.support.DefaultTestContextBootstrapper getTestExecutionListeners\r\n    INFO: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6be46e8f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3567135c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@327471b5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4157f54e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@90f6bfd, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47f6473]\r\n    Mar 01, 2017 1:14:52 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\r\n    INFO: Loading XML bean definitions from class path resource [Hibernate-test.xml]\r\n    Mar 01, 2017 1:14:53 PM org.springframework.context.support.GenericApplicationContext prepareRefresh\r\n    INFO: Refreshing org.springframework.context.support.GenericApplicationContext@2a5ca609: startup date [Wed Mar 01 13:14:53 EST 2017]; root of context hierarchy\r\n    Mar 01, 2017 1:14:53 PM org.springframework.context.support.PropertySourcesPlaceholderConfigurer loadProperties\r\n    INFO: Loading properties file from class path resource [database.properties]\r\n    Mar 01, 2017 1:14:53 PM org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor &lt;init&gt;\r\n    INFO: JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n    Mar 01, 2017 1:14:53 PM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {5.2.6.Final}\r\n    Mar 01, 2017 1:14:53 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000206: hibernate.properties not found\r\n    Mar 01, 2017 1:14:53 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\n    Mar 01, 2017 1:14:54 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n    Mar 01, 2017 1:14:54 PM org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl useContextualLobCreation\r\n    INFO: HHH000423: Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4\r\n    Mar 01, 2017 1:14:54 PM org.springframework.orm.hibernate5.HibernateTransactionManager afterPropertiesSet\r\n    INFO: Using DataSource [org.apache.commons.dbcp.BasicDataSource@130d63be] of Hibernate SessionFactory for HibernateTransactionManager\r\n    Generated Id: USER0\r\n    Mar 01, 2017 1:14:55 PM org.springframework.orm.hibernate5.HibernateTransactionManager doRollbackOnCommitException\r\n    SEVERE: Commit exception overridden by rollback exception\r\n    java.lang.IllegalStateException: org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl@6b410923 is closed\r\n    \tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.errorIfClosed(AbstractLogicalConnectionImplementor.java:37)\r\n    \tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:128)\r\n    \tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:247)\r\n    \tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:79)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:221)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68)\r\n    \tat org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:582)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n    \tat com.sun.proxy.$Proxy31.saveUser(Unknown Source)\r\n    \tat TestUserDao.testSaveUser(TestUserDao.java:23)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:678)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\r\n\r\n\r\n\r\n\r\nHibernate xml file:\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n            xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n            xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n            xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\r\n                                http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd\r\n                                http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\r\n                                http://www.springframework.org/schema/tx  http://www.springframework.org/schema/tx/spring-tx-4.0.xsd&quot;&gt;\r\n    \r\n    \r\n        &lt;context:property-placeholder location=&quot;classpath:database.properties&quot; /&gt;\r\n          &lt;context:component-scan  base-package=&quot;com.timelee.*&quot; /&gt;\r\n    \r\n    \r\n        &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;\r\n    \r\n    \r\n         &lt;!--  &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;  --&gt;\r\n    \r\n         &lt;bean id=&quot;dataSource&quot; destroy-method=&quot;close&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt;\r\n           &lt;property name=&quot;driverClassName&quot; value=&quot;${jdbc.driverClassName}&quot; /&gt;\r\n            &lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot;/&gt;\r\n            &lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot; /&gt;\r\n            &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt;\r\n    \r\n        &lt;/bean&gt;\r\n    \r\n    \r\n    \r\n        &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot; &gt;\r\n            &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n            &lt;property name=&quot;packagesToScan&quot;&gt;\r\n                &lt;list&gt;\r\n                    &lt;value&gt;com.timelee.timesheet.model&lt;/value&gt;\r\n                    &lt;value&gt;com.timelee.users.model&lt;/value&gt;\r\n                    &lt;value&gt;com.timelee.*&lt;/value&gt;\r\n                &lt;/list&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n                &lt;props&gt;\r\n                    &lt;prop key=&quot;hibernate.dialect&quot;&gt;${hibernate.dialect}&lt;/prop&gt;\r\n                    &lt;prop key=&quot;hibernate.show_sql&quot;&gt;${hibernate.show_sql:false}&lt;/prop&gt;\r\n                    &lt;prop key=&quot;hibernate.format_sql&quot;&gt;${hibernate.format_sql:false}&lt;/prop&gt;\r\n                    &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\r\n                &lt;/props&gt;\r\n            &lt;/property&gt;       \r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;transactionManager&quot;  class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n            &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;persistenceExceptionTranslationPostProcessor&quot;\r\n            class=&quot;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor&quot;/&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\n","title":"How to fix the org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl@779de014 is closed issue","body":"<p>I am trying to create or update user with Hibernate 5 and it throws following exception:\n    org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl@779de014 is closed</p>\n\n<p>I'm using the following technologies:</p>\n\n<ul>\n<li>Spring 4</li>\n<li>Hibernate 5</li>\n<li>Maven </li>\n<li>Eclipse</li>\n</ul>\n\n<p>This is my <code>UserDaoImpl.Java</code>:</p>\n\n<pre><code>package com.fasttrack.users.dao;\nimport java.util.List;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\nimport com.fasttrack.users.model.User;\n\n@Repository\n@Transactional\npublic class UserDaoImpl extends AbstractDao implements UserDao\n{\n    @Autowired\n    private SessionFactory sessionFactory;\n    public boolean saveUser(User user)\n    {\n         Session session=sessionFactory.getCurrentSession();\n          try\n          {\n             session.persist(user);\n             return true;\n          }\n\n          catch (Exception e) \n          {\n\n            e.printStackTrace();\n            return false;\n        }\n\n          finally \n          {\n              session.close(); \n           }\n\n    }\n\n\n    @SuppressWarnings(\"unchecked\")\n    public List&lt;User&gt; getUsers()\n    {\n         List&lt;User&gt; users;\n         Session session=sessionFactory.getCurrentSession();\n          try\n          {\n              users=(List&lt;User&gt;) session.createQuery(\"FROM USER\"); \n              return users;\n          }\n\n          catch (Exception e) \n          {\n            e.printStackTrace();\n        }\n\n          finally {\n              session.close(); \n           }\n        return null;\n    }\n\n    public User getUser(String id)\n    {\n         User user;\n         Session session=sessionFactory.getCurrentSession();\n          try\n          {\n              user=(User)session.get(User.class,id); \n              return user;\n          }\n\n          catch (Exception e) \n          {\n            e.printStackTrace();\n            return null;\n        }\n\n          finally \n          {\n              session.close(); \n           }\n\n    }\n\n\n\n    public boolean updateUser(User user)\n    {\n        Session session = sessionFactory.getCurrentSession();\n        try\n            {\n                session.saveOrUpdate(user);\n                return true;\n            }\n\n        catch (Exception e)\n            {\n                e.printStackTrace();\n                return false;\n            }\n\n        finally\n            {\n                session.close();\n            }\n    }\n\n\n    public boolean deleteUserById(String id)\n    {\n        User user = new User();\n        user.setId(id);\n\n        Session session = sessionFactory.getCurrentSession();\n        try\n            {\n                session.delete(user);\n                return true;\n            }\n\n        catch (Exception e)\n            {\n                e.printStackTrace();\n                return false;\n            }\n\n        finally\n            {\n                session.close();\n            }\n    }\n\n}\n</code></pre>\n\n<p>This is my <code>TestUserDao.java</code>:</p>\n\n<pre><code>import com.fasttrack.users.dao.UserDao;\nimport com.fasttrack.users.model.User;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(\"/Hibernate-test.xml\")\n\npublic class TestUserDao\n{\n    @Autowired(required=true)\n    public UserDao userDao;\n\n    @Test\n    public void testSaveUser()\n    {\n        User user=new User();\n        user.setFirstName(\"TestUser1\");\n        boolean result=userDao.saveUser(user);\n    }\n}\n</code></pre>\n\n<p>Error Message:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Mar 01, 2017 1:14:52 PM org.springframework.test.context.support.DefaultTestContextBootstrapper getDefaultTestExecutionListenerClassNames\nINFO: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]\nMar 01, 2017 1:14:52 PM org.springframework.test.context.support.DefaultTestContextBootstrapper getTestExecutionListeners\nINFO: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6be46e8f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3567135c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@327471b5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4157f54e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@90f6bfd, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47f6473]\nMar 01, 2017 1:14:52 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\nINFO: Loading XML bean definitions from class path resource [Hibernate-test.xml]\nMar 01, 2017 1:14:53 PM org.springframework.context.support.GenericApplicationContext prepareRefresh\nINFO: Refreshing org.springframework.context.support.GenericApplicationContext@2a5ca609: startup date [Wed Mar 01 13:14:53 EST 2017]; root of context hierarchy\nMar 01, 2017 1:14:53 PM org.springframework.context.support.PropertySourcesPlaceholderConfigurer loadProperties\nINFO: Loading properties file from class path resource [database.properties]\nMar 01, 2017 1:14:53 PM org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor &lt;init&gt;\nINFO: JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\nMar 01, 2017 1:14:53 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.2.6.Final}\nMar 01, 2017 1:14:53 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nMar 01, 2017 1:14:53 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\nMar 01, 2017 1:14:54 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\nMar 01, 2017 1:14:54 PM org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl useContextualLobCreation\nINFO: HHH000423: Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4\nMar 01, 2017 1:14:54 PM org.springframework.orm.hibernate5.HibernateTransactionManager afterPropertiesSet\nINFO: Using DataSource [org.apache.commons.dbcp.BasicDataSource@130d63be] of Hibernate SessionFactory for HibernateTransactionManager\nGenerated Id: USER0\nMar 01, 2017 1:14:55 PM org.springframework.orm.hibernate5.HibernateTransactionManager doRollbackOnCommitException\nSEVERE: Commit exception overridden by rollback exception\njava.lang.IllegalStateException: org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl@6b410923 is closed\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.errorIfClosed(AbstractLogicalConnectionImplementor.java:37)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:128)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:247)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:79)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:221)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68)\n    at org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:582)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n    at com.sun.proxy.$Proxy31.saveUser(Unknown Source)\n    at TestUserDao.testSaveUser(TestUserDao.java:23)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:678)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\n</code></pre>\n\n<p>Hibernate xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xmlns:context=\"http://www.springframework.org/schema/context\"\n        xmlns:tx=\"http://www.springframework.org/schema/tx\"\n        xmlns:aop=\"http://www.springframework.org/schema/aop\"\n        xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\n                            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd\n                            http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\n                            http://www.springframework.org/schema/tx  http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\"&gt;\n\n\n    &lt;context:property-placeholder location=\"classpath:database.properties\" /&gt;\n      &lt;context:component-scan  base-package=\"com.timelee.*\" /&gt;\n\n\n    &lt;tx:annotation-driven transaction-manager=\"transactionManager\"/&gt;\n\n\n     &lt;!--  &lt;bean id=\"dataSource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;  --&gt;\n\n     &lt;bean id=\"dataSource\" destroy-method=\"close\" class=\"org.apache.commons.dbcp.BasicDataSource\"&gt;\n       &lt;property name=\"driverClassName\" value=\"${jdbc.driverClassName}\" /&gt;\n        &lt;property name=\"url\" value=\"${jdbc.url}\"/&gt;\n        &lt;property name=\"username\" value=\"${jdbc.username}\" /&gt;\n        &lt;property name=\"password\" value=\"${jdbc.password}\"/&gt;\n\n    &lt;/bean&gt;\n\n\n\n    &lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate5.LocalSessionFactoryBean\" &gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n        &lt;property name=\"packagesToScan\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;com.timelee.timesheet.model&lt;/value&gt;\n                &lt;value&gt;com.timelee.users.model&lt;/value&gt;\n                &lt;value&gt;com.timelee.*&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;${hibernate.dialect}&lt;/prop&gt;\n                &lt;prop key=\"hibernate.show_sql\"&gt;${hibernate.show_sql:false}&lt;/prop&gt;\n                &lt;prop key=\"hibernate.format_sql\"&gt;${hibernate.format_sql:false}&lt;/prop&gt;\n                &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;       \n    &lt;/bean&gt;\n\n    &lt;bean id=\"transactionManager\"  class=\"org.springframework.orm.hibernate5.HibernateTransactionManager\"&gt;\n        &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"persistenceExceptionTranslationPostProcessor\"\n        class=\"org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor\"/&gt;\n\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":2,"creation_date":1653235397,"post_id":72339141,"comment_id":127796513,"body_markdown":"you are mixing 2.7.0 and 2.1.1 versions of spring boot dependencies. This is most likely causing the `NoClassDefFoundError` issue. Please use the same versions of spring boot dependencies.","body":"you are mixing 2.7.0 and 2.1.1 versions of spring boot dependencies. This is most likely causing the <code>NoClassDefFoundError</code> issue. Please use the same versions of spring boot dependencies."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653253304,"post_id":72339141,"comment_id":127800320,"body_markdown":"Also why have you defined things like `file://${basedir}${file.separator}lib&lt;/url&gt;` also why using milestone repositories of spring..furthermore things like `&lt;version&gt;RELEASE&lt;/version&gt;` do not work and are deprecated for a long time...also having defined a dependency to junit-jupiter which will only work with maven-surefire-plugin with version 2.22.2 at minimum but you have defined `&lt;version&gt;2.21.0&lt;/version&gt;`... ??","body":"Also why have you defined things like <code>file:&#47;&#47;${basedir}${file.separator}lib&lt;&#47;url&gt;</code> also why using milestone repositories of spring..furthermore things like <code>&lt;version&gt;RELEASE&lt;&#47;version&gt;</code> do not work and are deprecated for a long time...also having defined a dependency to junit-jupiter which will only work with maven-surefire-plugin with version 2.22.2 at minimum but you have defined <code>&lt;version&gt;2.21.0&lt;&#47;version&gt;</code>... ??"},{"owner":{"account_id":3788650,"reputation":176,"user_id":3145830,"display_name":"vince"},"score":0,"creation_date":1653299174,"post_id":72339141,"comment_id":127809050,"body_markdown":"ApplicationStartup is in spring-core.jar, use \n1.mvn dependency:tree -Dverbose or\n2.IDEA &#39;Show Dependencies&#39;\nto identify whether there are multiple versions of spring-core","body":"ApplicationStartup is in spring-core.jar, use  1.mvn dependency:tree -Dverbose or 2.IDEA &#39;Show Dependencies&#39; to identify whether there are multiple versions of spring-core"}],"owner":{"account_id":17944800,"reputation":1,"user_id":13039312,"display_name":"JartySharky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653234928,"creation_date":1653234905,"question_id":72339141,"body_markdown":"I developed simple functionalities in a small Spring Boot Project. Now I want to move these functionalities into an older existing project that I sadly did not develop by myself and did not follow the advices on how to build the pom by specifying a parent.\r\nI am not that experienced in Spring Boot to be able to resolve the errors when I try to add new new dependencies into the old project.\r\n\r\nThe pom.xml of the newer working project:\r\nTo summarize I have the starter-parent and dependencies for data-jpa, web, mysql and lombok.\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.7&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;removed&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;removed&lt;/artifactId&gt;\r\n    \t&lt;version&gt;removed&lt;/version&gt;\r\n    \t&lt;name&gt;removed&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;16&lt;/source&gt;\r\n                        &lt;target&gt;16&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThe pom.xml of the older project looks like the following:\r\n\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;removed&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;removed&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;version&gt;2.0&lt;/version&gt;\r\n    \t&lt;name&gt;removed&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;junit.version&gt;3.8.1&lt;/junit.version&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;spring.version&gt;2.1.1.RELEASE&lt;/spring.version&gt;\r\n    \t\t&lt;springfox.version&gt;2.9.2&lt;/springfox.version&gt;\r\n    \t\t&lt;jackson.version&gt;1.9.12&lt;/jackson.version&gt;\r\n    \t\t&lt;mvn.compiler.version&gt;3.5.1&lt;/mvn.compiler.version&gt;\r\n    \t\t&lt;hibernate.version&gt;1.0.1.Final&lt;/hibernate.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;repo&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;file://${basedir}${file.separator}lib&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-releases&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${springfox.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${springfox.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${mvn.compiler.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.21.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n    \t\t\t\t\t\t&lt;buildDirectory&gt;${project.build.directory}&lt;/buildDirectory&gt;\r\n    \t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-releases&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThe older projects runs fine as long as I dont touch the pom. Once I add for example\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI get the following error while trying to run the project: \r\n\r\n    org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\r\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:146) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    at org.springframework.boot.SpringApplication.createApplicationContext(SpringApplication.java:607) ~[spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]\r\n    at App.main(App.java:46) ~[classes/:na]\r\n\r\nDo you have any tips or advice?\r\n","title":"Spring Boot mvn Project doesn&#39;t run after adding dependencies","body":"<p>I developed simple functionalities in a small Spring Boot Project. Now I want to move these functionalities into an older existing project that I sadly did not develop by myself and did not follow the advices on how to build the pom by specifying a parent.\nI am not that experienced in Spring Boot to be able to resolve the errors when I try to add new new dependencies into the old project.</p>\n<p>The pom.xml of the newer working project:\nTo summarize I have the starter-parent and dependencies for data-jpa, web, mysql and lombok.</p>\n\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;removed&lt;/groupId&gt;\n    &lt;artifactId&gt;removed&lt;/artifactId&gt;\n    &lt;version&gt;removed&lt;/version&gt;\n    &lt;name&gt;removed&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;16&lt;/source&gt;\n                    &lt;target&gt;16&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The pom.xml of the older project looks like the following:</p>\n<pre><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;removed&lt;/groupId&gt;\n    &lt;artifactId&gt;removed&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;2.0&lt;/version&gt;\n    &lt;name&gt;removed&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;3.8.1&lt;/junit.version&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring.version&gt;2.1.1.RELEASE&lt;/spring.version&gt;\n        &lt;springfox.version&gt;2.9.2&lt;/springfox.version&gt;\n        &lt;jackson.version&gt;1.9.12&lt;/jackson.version&gt;\n        &lt;mvn.compiler.version&gt;3.5.1&lt;/mvn.compiler.version&gt;\n        &lt;hibernate.version&gt;1.0.1.Final&lt;/hibernate.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;repo&lt;/id&gt;\n            &lt;url&gt;file://${basedir}${file.separator}lib&lt;/url&gt;\n        &lt;/repository&gt;\n\n        &lt;repository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springfox.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${springfox.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${mvn.compiler.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.21.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;buildDirectory&gt;${project.build.directory}&lt;/buildDirectory&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The older projects runs fine as long as I dont touch the pom. Once I add for example</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;2.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I get the following error while trying to run the project:</p>\n<pre><code>org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\nat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.20.jar:5.3.20]\nat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:146) ~[spring-beans-5.3.20.jar:5.3.20]\nat org.springframework.boot.SpringApplication.createApplicationContext(SpringApplication.java:607) ~[spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]\nat App.main(App.java:46) ~[classes/:na]\n</code></pre>\n<p>Do you have any tips or advice?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":11262638,"reputation":6110,"user_id":8260484,"display_name":"cybernetic.nomad"},"score":1,"creation_date":1618429611,"post_id":67097893,"comment_id":118601940,"body_markdown":"Is there a reason you don&#39;t just search for the `~` and replace them with a carriage return?","body":"Is there a reason you don&#39;t just search for the <code>~</code> and replace them with a carriage return?"},{"owner":{"account_id":6092561,"reputation":181,"user_id":4754385,"accept_rate":87,"display_name":"Unnamed user"},"score":0,"creation_date":1618429904,"post_id":67097893,"comment_id":118602052,"body_markdown":"I am modifying an existing code &amp; I am skeptical because major changes could impact the current functionality. I need to understand the currently used regex exp and then make changes to handle the mentioned scenario.","body":"I am modifying an existing code &amp; I am skeptical because major changes could impact the current functionality. I need to understand the currently used regex exp and then make changes to handle the mentioned scenario."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618430647,"creation_date":1618430647,"answer_id":67098395,"question_id":67097893,"body_markdown":"I think you misunderstood what the regex does. It splits on on all `~` characters unless it&#39;s in between quotes. But your input doesent have a quoted value, there is only a single `&quot;`. Therefore the unexpected result. To show you an example input which makes sense:\r\n\r\n    String input = &quot;foo~bar~baz~\\&quot;do~not~split~this\\&quot;~somemorestuff~999&quot;; \r\nthe `do~not~split~this` should stay together after spliting. And the provided regex is for such a string and produces:\r\n\r\n    [foo, bar, baz, &quot;do~not~split~this&quot;, somemorestuff, 999]\r\n\r\n It splits on on all `~` characters unless it&#39;s in between quotes.\r\n\r\nEither you are missing a `&quot;` in your input or that is not the regex you need. Looking at your expected output if the input is valid just do str.split(&quot;~&quot;)","title":"Regex to ignore double quote while splitting records using any delimiter","body":"<p>I think you misunderstood what the regex does. It splits on on all <code>~</code> characters unless it's in between quotes. But your input doesent have a quoted value, there is only a single <code>&quot;</code>. Therefore the unexpected result. To show you an example input which makes sense:</p>\n<pre><code>String input = &quot;foo~bar~baz~\\&quot;do~not~split~this\\&quot;~somemorestuff~999&quot;; \n</code></pre>\n<p>the <code>do~not~split~this</code> should stay together after spliting. And the provided regex is for such a string and produces:</p>\n<pre><code>[foo, bar, baz, &quot;do~not~split~this&quot;, somemorestuff, 999]\n</code></pre>\n<p>It splits on on all <code>~</code> characters unless it's in between quotes.</p>\n<p>Either you are missing a <code>&quot;</code> in your input or that is not the regex you need. Looking at your expected output if the input is valid just do str.split(&quot;~&quot;)</p>\n"},{"tags":[],"owner":{"account_id":2185225,"reputation":123,"user_id":1933771,"display_name":"Justin Grant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618432185,"creation_date":1618432185,"answer_id":67098695,"question_id":67097893,"body_markdown":"I personally love to test using [regex101](https://regex101.com) to test this stuff out.\r\n\r\nThe key distinction is **repeating a captured group** instead of **capturing a repeated group**. As you have already found out, the difference is that repeating a captured group captures only the last iteration. Capturing a repeated group captures all iterations.\r\n\r\n\r\nRealistically, you probably want change your match to something simpler, like the following - `((?:[\\w-]+)+)~?`.  This will do repeated matching on all word characters and dashes, but not the tilde and will capture a group capture.","title":"Regex to ignore double quote while splitting records using any delimiter","body":"<p>I personally love to test using <a href=\"https://regex101.com\" rel=\"nofollow noreferrer\">regex101</a> to test this stuff out.</p>\n<p>The key distinction is <strong>repeating a captured group</strong> instead of <strong>capturing a repeated group</strong>. As you have already found out, the difference is that repeating a captured group captures only the last iteration. Capturing a repeated group captures all iterations.</p>\n<p>Realistically, you probably want change your match to something simpler, like the following - <code>((?:[\\w-]+)+)~?</code>.  This will do repeated matching on all word characters and dashes, but not the tilde and will capture a group capture.</p>\n"}],"owner":{"account_id":6092561,"reputation":181,"user_id":4754385,"accept_rate":87,"display_name":"Unnamed user"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653234533,"creation_date":1618428094,"question_id":67097893,"body_markdown":"I am trying to modify a regex expression because its failing for a specific scenario.\r\n\r\n```REGEX EXP - ~(?=([^\\&quot;]*\\&quot;[^\\&quot;]*\\&quot;)*[^\\&quot;]*$)```\r\n\r\nAfter browsing some sites, I understood that this regex will simply separate records using *~* delimiter &amp; check for 0 or even number of double quotes.\r\n\r\nBut if my input string is this:\r\n```String str = &quot;31-03-2021~QSTFONLN~QSAUSSUPER~1.00~A~BONNETT\\&quot;S SADDLERY PTY. LTD.~QVIF&quot;;```\r\nThe above regex is not working as expected.\r\n\r\n**Expected result:**\r\n\r\n&gt;31-03-2021\r\n\r\n&gt;QSTFONLN\r\n\r\n&gt;QSAUSSUPER\r\n\r\n&gt;1.00\r\n\r\n&gt;A\r\n\r\n&gt;BONNETT&quot;S SADDLERY PTY. LTD.\r\n\r\n&gt;QVIF\r\n\r\n**Actual Result**\r\n\r\n&gt;31-03-2021~QSTFONLN~QSAUSSUPER~1.00~A~BONNETT&quot;S SADDLERY PTY. LTD.\r\n\r\n&gt;QVIF\r\n\r\nPlease explain this expression and the change required to get the expected result if the value has double quote as part of the string.\r\nThis question may be a duplicate of others but I want to retain the logic behind the original regex &amp; modify the same expression so that it allows double quote in between the string.\r\n\r\nWould appreciate any help on this.!\r\n\r\n**Edited this post to include exact syntax of the input string**","title":"Regex to ignore double quote while splitting records using any delimiter","body":"<p>I am trying to modify a regex expression because its failing for a specific scenario.</p>\n<p><code>REGEX EXP - ~(?=([^\\&quot;]*\\&quot;[^\\&quot;]*\\&quot;)*[^\\&quot;]*$)</code></p>\n<p>After browsing some sites, I understood that this regex will simply separate records using <em>~</em> delimiter &amp; check for 0 or even number of double quotes.</p>\n<p>But if my input string is this:\n<code>String str = &quot;31-03-2021~QSTFONLN~QSAUSSUPER~1.00~A~BONNETT\\&quot;S SADDLERY PTY. LTD.~QVIF&quot;;</code>\nThe above regex is not working as expected.</p>\n<p><strong>Expected result:</strong></p>\n<blockquote>\n<p>31-03-2021</p>\n</blockquote>\n<blockquote>\n<p>QSTFONLN</p>\n</blockquote>\n<blockquote>\n<p>QSAUSSUPER</p>\n</blockquote>\n<blockquote>\n<p>1.00</p>\n</blockquote>\n<blockquote>\n<p>A</p>\n</blockquote>\n<blockquote>\n<p>BONNETT&quot;S SADDLERY PTY. LTD.</p>\n</blockquote>\n<blockquote>\n<p>QVIF</p>\n</blockquote>\n<p><strong>Actual Result</strong></p>\n<blockquote>\n<p>31-03-2021~QSTFONLN~QSAUSSUPER~1.00~A~BONNETT&quot;S SADDLERY PTY. LTD.</p>\n</blockquote>\n<blockquote>\n<p>QVIF</p>\n</blockquote>\n<p>Please explain this expression and the change required to get the expected result if the value has double quote as part of the string.\nThis question may be a duplicate of others but I want to retain the logic behind the original regex &amp; modify the same expression so that it allows double quote in between the string.</p>\n<p>Would appreciate any help on this.!</p>\n<p><strong>Edited this post to include exact syntax of the input string</strong></p>\n"},{"tags":["java","android","android-layout","android-imageview","android-styles"],"comments":[{"owner":{"account_id":7075833,"reputation":3736,"user_id":5415894,"accept_rate":86,"display_name":"Ozgur"},"score":1,"creation_date":1465755982,"post_id":37777640,"comment_id":63022851,"body_markdown":"Try to put android:scaleType=&quot;fitXy&quot; or fitCenter to ImageView.","body":"Try to put android:scaleType=&quot;fitXy&quot; or fitCenter to ImageView."}],"answers":[{"tags":[],"owner":{"account_id":6291501,"reputation":1128,"user_id":4889035,"display_name":"Dmytro Chaban"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465756652,"creation_date":1465756652,"answer_id":37777784,"question_id":37777640,"body_markdown":"Try to use  `android:scaleType=&quot;centerCrop&quot;` or `android:scaleType=&quot;fitXY&quot;` if you need to rescale the picture","title":"How can I specify the layout_height value based on the layout_width in Android layout?","body":"<p>Try to use  <code>android:scaleType=\"centerCrop\"</code> or <code>android:scaleType=\"fitXY\"</code> if you need to rescale the picture</p>\n"},{"tags":[],"owner":{"account_id":7522323,"reputation":54,"user_id":5713755,"display_name":"Himanshu "},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653234467,"creation_date":1465758312,"answer_id":37778061,"question_id":37777640,"body_markdown":"Your problem can be solved with this simple line of code below\r\n\r\nThe XML attribute for this is:\r\n```\r\nandroid:scaleType=&quot;fitCenter&quot;\r\n```\r\nPut it here like this your code below I just added new line see #1\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:scaleType=&quot;fitCenter&quot;             // #1\r\n        android:layout_height=&quot;300dp&quot;\r\n        android:src=&quot;@drawable/carbonara&quot; /&gt;\r\n\r\nAlso you are using src but you can use background attribute:\r\n\r\n    android:background=&quot;@drawable/carbonara&quot;","title":"How can I specify the layout_height value based on the layout_width in Android layout?","body":"<p>Your problem can be solved with this simple line of code below</p>\n<p>The XML attribute for this is:</p>\n<pre><code>android:scaleType=&quot;fitCenter&quot;\n</code></pre>\n<p>Put it here like this your code below I just added new line see #1</p>\n<pre><code>&lt;ImageView\n    android:id=&quot;@+id/imageView1&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:scaleType=&quot;fitCenter&quot;             // #1\n    android:layout_height=&quot;300dp&quot;\n    android:src=&quot;@drawable/carbonara&quot; /&gt;\n</code></pre>\n<p>Also you are using src but you can use background attribute:</p>\n<pre><code>android:background=&quot;@drawable/carbonara&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4459168,"reputation":69,"user_id":3628557,"display_name":"Balaji Gaikwad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465799805,"creation_date":1465799805,"answer_id":37783180,"question_id":37777640,"body_markdown":"you can use screen aspect ratio for setting height and width to the image.Try following function.` \r\npublic void calculateAspectRatio() {\r\n    \r\n    int imagewidth;\r\n    int imagewidth;\r\n    DisplayMetrics displaymetrics = new DisplayMetrics();\r\n            getActivity().getWindowManager().getDefaultDisplay().getMetrics(displaymetrics);  \r\n                 int height = displaymetrics.heightPixels;\r\n                int width = displaymetrics.widthPixels;\r\n    \r\n                 imagewidth=width;\r\n                imageHeight = (imageTwoWidth / 4) * 3;\r\n    }\r\n    \r\n    set image height and width\r\n    \r\n                imageview.requestLayout();\r\n                imageview.getLayoutParams().width = imagewith;//take value from above function for height and width.\r\n                imageview.getLayoutParams().height =imageheight;\r\n    \r\n    `","title":"How can I specify the layout_height value based on the layout_width in Android layout?","body":"<p>you can use screen aspect ratio for setting height and width to the image.Try following function.` \npublic void calculateAspectRatio() {</p>\n\n<pre><code>int imagewidth;\nint imagewidth;\nDisplayMetrics displaymetrics = new DisplayMetrics();\n        getActivity().getWindowManager().getDefaultDisplay().getMetrics(displaymetrics);  \n             int height = displaymetrics.heightPixels;\n            int width = displaymetrics.widthPixels;\n\n             imagewidth=width;\n            imageHeight = (imageTwoWidth / 4) * 3;\n}\n\nset image height and width\n\n            imageview.requestLayout();\n            imageview.getLayoutParams().width = imagewith;//take value from above function for height and width.\n            imageview.getLayoutParams().height =imageheight;\n\n`\n</code></pre>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1654,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37778061,"answer_count":3,"score":2,"last_activity_date":1653234467,"creation_date":1465755778,"question_id":37777640,"body_markdown":"I am absolutly new in Android development and I have a problem positioning image in the first app that I am developing.\r\n\r\nSo I have the following situation.\r\n\r\nInto a layout file I have:\r\n\r\n    &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/content&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;!-- Dummy content. --&gt;\r\n        &lt;LinearLayout android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:padding=&quot;0dp&quot;&gt;\r\n    \r\n           &lt;ImageView\r\n                android:id=&quot;@+id/imageView1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;300dp&quot;\r\n                android:src=&quot;@drawable/carbonara&quot; /&gt;\r\n    \r\n            &lt;TextView android:id=&quot;@android:id/text1&quot;\r\n                style=&quot;?android:textAppearanceLarge&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginBottom=&quot;16dp&quot; /&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/ScrollView&gt;\r\n\r\nSo, as you can see, there is this **ImageView** element:\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;300dp&quot;\r\n        android:src=&quot;@drawable/carbonara&quot; /&gt;\r\n\r\nAs you can see, for this **ImageView** I have setted the following values for the width and for the height\r\n\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;300dp\r\n\r\n\r\nThis because I want that the image occupies horizontally all the space, but I have also to put a vaue for the height.\r\n\r\nSo for the previous value I obtain the following result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see in the previous screenshot there is a space up and down the image because I am manually giving a specific value to my **ImageView** element and this is wrong.\r\n\r\nI have tryed to set a lower hwight value and this empty space is deleted for the **android:layout_height=&quot;240dp&quot;** value.\r\n\r\nBut I think that this is not a good solution because it depens from the used screen.\r\n\r\nSo, what is the best way to handle this situation?\r\n\r\nI have an image view that horizontally have to fill the screen and its height have be automatically handled and not manually specified with a dp value.\r\n\r\nHow can I implement this behavior? What am I missing?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/UHvK6.png","title":"How can I specify the layout_height value based on the layout_width in Android layout?","body":"<p>I am absolutly new in Android development and I have a problem positioning image in the first app that I am developing.</p>\n\n<p>So I have the following situation.</p>\n\n<p>Into a layout file I have:</p>\n\n<pre><code>&lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/content\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;!-- Dummy content. --&gt;\n    &lt;LinearLayout android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"\n        android:padding=\"0dp\"&gt;\n\n       &lt;ImageView\n            android:id=\"@+id/imageView1\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"300dp\"\n            android:src=\"@drawable/carbonara\" /&gt;\n\n        &lt;TextView android:id=\"@android:id/text1\"\n            style=\"?android:textAppearanceLarge\"\n            android:textStyle=\"bold\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginBottom=\"16dp\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n\n<p>So, as you can see, there is this <strong>ImageView</strong> element:</p>\n\n<pre><code>&lt;ImageView\n    android:id=\"@+id/imageView1\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"300dp\"\n    android:src=\"@drawable/carbonara\" /&gt;\n</code></pre>\n\n<p>As you can see, for this <strong>ImageView</strong> I have setted the following values for the width and for the height</p>\n\n<pre><code>android:layout_width=\"wrap_content\"\nandroid:layout_height=\"300dp\n</code></pre>\n\n<p>This because I want that the image occupies horizontally all the space, but I have also to put a vaue for the height.</p>\n\n<p>So for the previous value I obtain the following result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UHvK6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UHvK6.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see in the previous screenshot there is a space up and down the image because I am manually giving a specific value to my <strong>ImageView</strong> element and this is wrong.</p>\n\n<p>I have tryed to set a lower hwight value and this empty space is deleted for the <strong>android:layout_height=\"240dp\"</strong> value.</p>\n\n<p>But I think that this is not a good solution because it depens from the used screen.</p>\n\n<p>So, what is the best way to handle this situation?</p>\n\n<p>I have an image view that horizontally have to fill the screen and its height have be automatically handled and not manually specified with a dp value.</p>\n\n<p>How can I implement this behavior? What am I missing?</p>\n"},{"tags":["java","jboss","jboss7.x","web.xml","java-security"],"owner":{"account_id":5181106,"reputation":77,"user_id":4146792,"display_name":"Pascal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653234314,"creation_date":1653234314,"question_id":72339071,"body_markdown":"I&#39;m having a configuration issue with `&lt;security-constraint&gt;` / `&lt;auth-constraint&gt;` in JBoss EAP 7.1.5. Basically the server makes an attempt to authenticate a user whereas the user should be allowed to access the given path without being authenticated (by jboss-security).\r\n\r\n**A bit more context**\r\n\r\nOur old Javaee-8 application which runs on JBoss EAP 7.1.5 did receive an upgrade of its login-mechanism and we want to assure parallel operation (with the old and new login mechanism) for a certain time. We have therefore created two seperate paths on which the (same) application can be accessed: \r\n\r\n- New login-mechanism on path `/baug1` e.g.: https://www.ourcompany.com/baug1\r\n- Old login-mechanism on path `/baug` e.g.: https://www.ourcompany.com/baug\r\n\r\nThe old login-method is based on a custom jaas `&lt;login-module&gt;` while the new one is based on a REST API. In my understanding we therefore don&#39;t need a `&lt;security-constraint&gt;` with an `&lt;auth-constraint&gt;` for anything that runs under the `/baug1`-path. If I&#39;m not mistaken, this should be the case with the following **web.xml** configuration: \r\n\r\n```xml\r\n&lt;security-constraint&gt;\r\n   &lt;web-resource-collection&gt;\r\n      &lt;web-resource-name&gt;Baug1&lt;/web-resource-name&gt;\r\n      &lt;url-pattern&gt;/baug1/*&lt;/url-pattern&gt;\r\n   &lt;/web-resource-collection&gt;\r\n&lt;/security-constraint&gt;\r\n\r\n&lt;security-constraint&gt;\r\n   &lt;web-resource-collection&gt;\r\n      &lt;web-resouce-name&gt;BaugMainForward&lt;/web-resource-name&gt;\r\n      &lt;url-pattern&gt;/baug/servlet/*&lt;/url-pattern&gt;\r\n   &lt;/web-resource-collection&gt;\r\n   &lt;web-resource-collection&gt;\r\n      &lt;web-resource-name&gt;BaugMain&lt;/web-resource-name&gt;\r\n      &lt;url-pattern&gt;/baug/secure/*&lt;/url-pattern&gt;\r\n   &lt;/web-resource-collection&gt;\r\n   &lt;auth-constraint&gt;\r\n      &lt;role-name&gt;Customer&lt;/role-name&gt;\r\n      &lt;role-name&gt;Clerk&lt;/role-name&gt;\r\n   &lt;/auth-constraint&gt;\r\n&lt;/security-constraint&gt;\r\n&lt;login-config&gt;\r\n   &lt;auth-method&gt;${jboss.web.default.authentication:HEADER}\r\n   &lt;/auth-method&gt;\r\n   &lt;realm-name&gt;alcatraz-combined-user-role-property&lt;/realm-name&gt;\r\n&lt;/login-config&gt;\r\n&lt;security-role&gt;\r\n   &lt;role-name&gt;Customer&lt;/role-name&gt;\r\n&lt;/security-role&gt;\r\n&lt;security-role&gt;\r\n   &lt;role-name&gt;Clerk&lt;/role-name&gt;\r\n&lt;/security-role&gt;\r\n```\r\n\r\nI have tried different variations like for example removing the first `&lt;security-constraint&gt;` or setting the url-pattern for `Baug1` to `&lt;url-pattern&gt;/*&lt;/url-pattern&gt;` but to no avail. Meanwhile  our **jboss-web.xml** looks like this: \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;jboss-web xmlns:jboss=http://www.jboss.com/xml/ns/javaee xmlns:javaee=http://java.sun.com/xml/ns/javaee&gt;\r\n   &lt;security-domain&gt;alcatraz-combined-user-role-property&lt;/security-domain&gt;\r\n   &lt;context-root&gt;/&lt;/context-root&gt;\r\n&lt;/jboss-web&gt;\r\n```\r\n\r\nFinally the following security-domains have been defined in JBoss&#39;s **standalone.xml**:\r\n\r\n```xml\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:security:2.0&quot;&gt;\r\n    &lt;security-domains&gt;\r\n        &lt;security-domain name=&quot;alcatraz-combined-user-role-property&quot; cache-type=&quot;default&quot;&gt;\r\n            &lt;authentication&gt;\r\n                &lt;login-module code=&quot;Remoting&quot; flag=&quot;optional&quot;&gt;\r\n                    &lt;module-option name=&quot;password-stacking&quot; value=&quot;useFirstPass&quot;/&gt;\r\n                &lt;/login-module&gt;\r\n                &lt;login-module code=&quot;RealmDirect&quot; flag=&quot;optional&quot;&gt;\r\n                    &lt;module-option name=&quot;password-stacking&quot; value=&quot;useFirstPass&quot;/&gt;\r\n                &lt;/login-module&gt;\r\n                &lt;login-module code=&quot;com.ourourcompany.loginmodule.AlcatrazAssertedIdentityLoginModule&quot; flag=&quot;optional&quot; module=&quot;com.ourourcompany.loginmodule&quot;&gt;\r\n                    &lt;module-option name=&quot;alcatraz.adapter.jndi.name&quot; value=&quot;${alcatraz.adapter.jndi.name}&quot;/&gt;\r\n                &lt;/login-module&gt;\r\n            &lt;/authentication&gt;\r\n            &lt;mapping&gt;\r\n                &lt;mapping-module code=&quot;com.ourourcompany.jboss.security.mappingmodule.AlcatrazRolesMappingProvider&quot; type=&quot;role&quot; module=&quot;com.ourourcompany.jboss.mappingmodule&quot;&gt;\r\n                    &lt;module-option name=&quot;application&quot; value=&quot;${alcatraz.application.name}&quot;/&gt;\r\n                    &lt;module-option name=&quot;alcatraz.adapter.jndi.name&quot; value=&quot;${alcatraz.adapter.jndi.name}&quot;/&gt;\r\n                &lt;/mapping-module&gt;\r\n                &lt;mapping-module code=&quot;com.ourourcompany.jboss.security.mappingmodule.SimpleConfiguredRolesMappingProvider&quot; type=&quot;role&quot; module=&quot;com.ourourcompany.jboss.mappingmodule&quot;&gt;\r\n                    &lt;module-option name=&quot;roles&quot; value=&quot;ALLOW-ALL&quot;/&gt;\r\n                &lt;/mapping-module&gt;\r\n            &lt;/mapping&gt;\r\n        &lt;/security-domain&gt;\r\n        &lt;security-domain name=&quot;accept-all&quot; cache-type=&quot;default&quot;&gt;\r\n            &lt;authentication&gt;\r\n                &lt;login-module code=&quot;com.ourourcompany.loginmodule.SimplePrincipalAcceptingLoginModule&quot; flag=&quot;required&quot; module=&quot;com.ourourcompany.loginmodule&quot;/&gt;\r\n            &lt;/authentication&gt;\r\n            &lt;mapping&gt;\r\n                &lt;mapping-module code=&quot;com.ourourcompany.jboss.security.mappingmodule.SimpleConfiguredRolesMappingProvider&quot; type=&quot;role&quot; module=&quot;com.ourourcompany.jboss.mappingmodule&quot;&gt;\r\n                    &lt;module-option name=&quot;roles&quot; value=&quot;ALLOW-ALL&quot;/&gt;\r\n                &lt;/mapping-module&gt;\r\n            &lt;/mapping&gt;\r\n        &lt;/security-domain&gt;\r\n        &lt;security-domain name=&quot;alcatraz&quot; cache-type=&quot;default&quot;&gt;\r\n            &lt;authentication&gt;\r\n                &lt;login-module code=&quot;com.ourourcompany.loginmodule.AlcatrazAssertedIdentityLoginModule&quot; flag=&quot;required&quot; module=&quot;com.ourourcompany.loginmodule&quot;&gt;\r\n                    &lt;module-option name=&quot;alcatraz.adapter.jndi.name&quot; value=&quot;${alcatraz.adapter.jndi.name}&quot;/&gt;\r\n                &lt;/login-module&gt;\r\n            &lt;/authentication&gt;\r\n            &lt;mapping&gt;\r\n                &lt;mapping-module code=&quot;com.ourourcompany.jboss.security.mappingmodule.SimpleConfiguredRolesMappingProvider&quot; type=&quot;role&quot; module=&quot;com.ourourcompany.jboss.mappingmodule&quot;&gt;\r\n                    &lt;module-option name=&quot;roles&quot; value=&quot;ALLOW-ALL&quot;/&gt;\r\n                &lt;/mapping-module&gt;\r\n                &lt;mapping-module code=&quot;com.ourourcompany.jboss.security.mappingmodule.AlcatrazRolesMappingProvider&quot; type=&quot;role&quot; module=&quot;com.ourourcompany.jboss.mappingmodule&quot;&gt;\r\n                    &lt;module-option name=&quot;application&quot; value=&quot;${alcatraz.application.name}&quot;/&gt;\r\n                    &lt;module-option name=&quot;alcatraz.adapter.jndi.name&quot; value=&quot;${alcatraz.adapter.jndi.name}&quot;/&gt;\r\n                &lt;/mapping-module&gt;\r\n            &lt;/mapping&gt;\r\n        &lt;/security-domain&gt;\r\n        &lt;security-domain name=&quot;other&quot; cache-type=&quot;default&quot;&gt;\r\n            &lt;authentication&gt;\r\n                &lt;login-module code=&quot;Remoting&quot; flag=&quot;optional&quot;&gt;\r\n                    &lt;module-option name=&quot;password-stacking&quot; value=&quot;useFirstPass&quot;/&gt;\r\n                &lt;/login-module&gt;\r\n                &lt;login-module code=&quot;RealmDirect&quot; flag=&quot;required&quot;&gt;\r\n                    &lt;module-option name=&quot;password-stacking&quot; value=&quot;useFirstPass&quot;/&gt;\r\n                &lt;/login-module&gt;\r\n            &lt;/authentication&gt;\r\n        &lt;/security-domain&gt;\r\n        &lt;security-domain name=&quot;jboss-web-policy&quot; cache-type=&quot;default&quot;&gt;\r\n            &lt;authorization&gt;\r\n                &lt;policy-module code=&quot;Delegating&quot; flag=&quot;required&quot;/&gt;\r\n            &lt;/authorization&gt;\r\n        &lt;/security-domain&gt;\r\n        &lt;security-domain name=&quot;jboss-ejb-policy&quot; cache-type=&quot;default&quot;&gt;\r\n            &lt;authorization&gt;\r\n                &lt;policy-module code=&quot;Delegating&quot; flag=&quot;required&quot;/&gt;\r\n            &lt;/authorization&gt;\r\n        &lt;/security-domain&gt;\r\n        &lt;security-domain name=&quot;jaspitest&quot; cache-type=&quot;default&quot;&gt;\r\n            &lt;authentication-jaspi&gt;\r\n                &lt;login-module-stack name=&quot;dummy&quot;&gt;\r\n                    &lt;login-module code=&quot;Dummy&quot; flag=&quot;optional&quot;/&gt;\r\n                &lt;/login-module-stack&gt;\r\n                &lt;auth-module code=&quot;Dummy&quot;/&gt;\r\n            &lt;/authentication-jaspi&gt;\r\n        &lt;/security-domain&gt;\r\n    &lt;/security-domains&gt;\r\n&lt;/subsystem&gt;\r\n```\r\n\r\nNow despite this configuration the server would attempt to authenticate a user each time I call `/baug1` :\r\n\r\n```shell\r\nDEBUG [io.undertow.request] Matched default handler path /baug1/\r\n\r\nDEBUG [io.undertow.request.security] Security constraints for request /baug1/ are [SingleConstraintMatch{emptyRoleSemantic=PERMIT, requiredRoles=[]}]\r\n\r\nDEBUG [io.undertow.request.security] Attempting to authenticate HttpServerExchange{ GET /baug1/ request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9], Accept-Language=[de-CH,de;q=0.9,en-US;q=0.8,en;q=0.7,fr-CH;q=0.6,fr;q=0.5,it-CH;q=0.4,it;q=0.3], X-Host=[app.dev.ourourcompany.ch], DNT=[1], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36 Edg/101.0.1210.39], ClientCorrelator=[92120c4b5b530fe26e05232c0cc23138], LoginUserDataHeaderName=[UserDataJSF], Front-End-Https=[On], Connection=[close], X-Forwarded-Proto=[https], RequestCorrelator=[YoeuM8QyMlGDv-W-X-4YZgAAAFg], X-Forwarded-For=[xx.xx.xx.12], Cookie=[JSESSIONID=xU4I5PXjcJz7LM_Cm7ZKAttYJLa_5flcAOGh7_7j.baug-84-4hw5t; SAT_CH_BAUG=eyJhbGciOiJSUzI1NiIsImtpZCI6IkFUMjAxODA0MjMi...\r\n\r\nDEBUG [io.undertow.request.security] Authentication outcome was NOT_ATTEMPTED with method io.undertow.security.impl.CachedAuthenticatedSessionMechanism@73c27b72 for HttpServerExchange{ GET /baug1/ request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9], Accept-Language=[de-CH,de;q=0.9,en-US;q=0.8,en;q=0.7,fr-CH;q=0.6,fr;q=0.5,it-CH;q=0.4,it;q=0.3], X-Host=[app.dev.ourourcompany.ch], DNT=[1], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36 Edg/101.0.1210.39], ClientCorrelator=[92120c4b5b530fe26e05232c0cc23138], LoginUserDataHeaderName=[UserDataJSF], Front-End-Https=[On], Connection=[close], X-Forwarded-Proto=[https], RequestCorrelator=[YoeuM8QyMlGDv-W-X-4YZgAAAFg], X-Forwarded-For=[xx.xx.xx.12], Cookie=[JSESSIONID=xU4I5PXjcJz7LM_Cm7ZKAttYJLa_5flcAOGh7_7j.baug-84-4hw5t; dtCookie=v_4_srv_4_sn_D4077DA36E05A5EE30FD7B942BC956B3_perc...\r\n\r\nDEBUG [com.xxx.jboss.security.web.authenticator.AbstractIdentityExtractor] Header &#39;UserDataJSF&#39; is &#39;null&#39;.\r\n\r\nERROR [com.xxx.jboss.security.web.authenticator.HeaderAuthenticatorHelper] Identity is &#39;null&#39;!\r\n\r\nDEBUG [io.undertow.request.security] Authentication failed with message UT000038: Authentication failed, requested user name &#39;null&#39; and mechanism HEADER for HttpServerExchange{ GET /baug1/ request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9], Accept-Language=[de-CH,de;q=0.9,en-US;q=0.8,en;q=0.7,fr-CH;q=0.6,fr;q=0.5,it-CH;q=0.4,it;q=0.3], X-Host=[app.dev.xxx.com], DNT=[1], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36 Edg/101.0.1210.39], ClientCorrelator=[92120c4b5b530fe26e05232c0cc23138], LoginUserDataHeaderName=[UserDataJSF], Front-End-Https=[On], Connection=[close], X-Forwarded-Proto=[https], RequestCorrelator=[YoeuM8QyMlGDv-W-X-4YZgAAAFg], X-Forwarded-For=[xx.xx.xx.12], Cookie=[JSESSIONID=xU4I5PXjcJz7LM_Cm7ZKAttYJLa_5flcAOGh7_7j.baug-84-4hw5t;\r\n\r\nDEBUG [io.undertow.request.security] Authentication outcome was NOT_AUTHENTICATED with method com.xxx.jboss.security.web.authenticator.undertow.HeaderAuthenticationMechanism@3b28aa40 for HttpServerExchange{ GET /baug1/ request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9], Accept-Language=[de-CH,de;q=0.9,en-US;q=0.8,en;q=0.7,fr-CH;q=0.6,fr;q=0.5,it-CH;q=0.4,it;q=0.3], X-Host=[app.dev.ourourcompany.ch], DNT=[1], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36 Edg/101.0.1210.39], ClientCorrelator=[92120c4b5b530fe26e05232c0cc23138], LoginUserDataHeaderName=[UserDataJSF], Front-End-Https=[On], Connection=[close], X-Forwarded-Proto=[https], RequestCorrelator=[YoeuM8QyMlGDv-W-X-4YZgAAAFg], X-Forwarded-For=[xx.xx.xx.12], Cookie=[JSESSIONID=xU4I5PXjcJz7LM_Cm7ZKAttYJLa_5flcAOGh7_7j.baug-84-4hw5t;\r\n\r\nDEBUG [io.undertow.request.security] Sending authentication challenge for HttpServerExchange{ GET /baug1/ request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9], Accept-Language=[de-CH,de;q=0.9,en-US;q=0.8,en;q=0.7,fr-CH;q=0.6,fr;q=0.5,it-CH;q=0.4,it;q=0.3], X-Host=[app.dev.ourourcompany.ch], DNT=[1], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36 Edg/101.0.1210.39], ClientCorrelator=[92120c4b5b530fe26e05232c0cc23138], LoginUserDataHeaderName=[UserDataJSF], Front-End-Https=[On], Connection=[close], X-Forwarded-Proto=[https], RequestCorrelator=[YoeuM8QyMlGDv-W-X-4YZgAAAFg], X-Forwarded-For=[xx.xx.xx.12], Cookie=[JSESSIONID=xU4I5PXjcJz7LM_Cm7ZKAttYJLa_5flcAOGh7_7j.baug-84-4hw5t; SAT_CH_BAUG=eyJhbGciOiJSUzI1NiIsImtpZCI6IkFUMj...\r\n\r\nDEBUG [io.undertow.request.security] Authentication result was CHALLENGE_SENT for HttpServerExchange{ GET /baug1/ request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9], Accept-Language=[de-CH,de;q=0.9,en-US;q=0.8,en;q=0.7,fr-CH;q=0.6,fr;q=0.5,it-CH;q=0.4,it;q=0.3], X-Host=[app.dev.ourourcompany.ch], DNT=[1], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36 Edg/101.0.1210.39], ClientCorrelator=[92120c4b5b530fe26e05232c0cc23138], LoginUserDataHeaderName=[UserDataJSF], Front-End-Https=[On], Connection=[close], X-Forwarded-Proto=[https], RequestCorrelator=[YoeuM8QyMlGDv-W-X-4YZgAAAFg], X-Forwarded-For=[xx.xx.xx.12], Cookie=[JSESSIONID=xU4I5PXjcJz7LM_Cm7ZKAttYJLa_5flcAOGh7_7j.baug-84-4hw5t; SAT_CH_BAUG=eyJhbGciOiJSUzI1NiIsImtpZC...\r\n\r\nINFO  [io.undertow.accesslog] 10.94.12.14 - - [20/May/2022:17:05:23 +0200] GET /baug1/?pol_nr=xxxx HTTP/1.1 403 68 https://xxx.sharepoint.com/ Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36 Edg/101.0.1210.39 - -\r\n\r\nDEBUG [io.undertow.request] UT005013: An IOException occurred: java.nio.channels.ClosedChannelException\r\n        at io.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:846)\r\n        at io.undertow.protocols.ssl.SslConduit.doHandshake(SslConduit.java:649)\r\n        at io.undertow.protocols.ssl.SslConduit.access$900(SslConduit.java:63)\r\n        at io.undertow.protocols.ssl.SslConduit$SslReadReadyHandler.readReady(SslConduit.java:1100)\r\n        at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\r\n        at org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\r\n\r\n```\r\n\r\nSo, to recap, my question is why the server makes an authentication-attempt when calling `/baug1` despite the fact that no `&lt;auth-constraint&gt;` is set for this path? \r\n\r\nAny ideas are welcome! :) \r\n","title":"JBoss EAP 7.1.5 Why is server attempting authentication despite auth being turned off?","body":"<p>I'm having a configuration issue with <code>&lt;security-constraint&gt;</code> / <code>&lt;auth-constraint&gt;</code> in JBoss EAP 7.1.5. Basically the server makes an attempt to authenticate a user whereas the user should be allowed to access the given path without being authenticated (by jboss-security).</p>\n<p><strong>A bit more context</strong></p>\n<p>Our old Javaee-8 application which runs on JBoss EAP 7.1.5 did receive an upgrade of its login-mechanism and we want to assure parallel operation (with the old and new login mechanism) for a certain time. We have therefore created two seperate paths on which the (same) application can be accessed:</p>\n<ul>\n<li>New login-mechanism on path <code>/baug1</code> e.g.: <a href=\"https://www.ourcompany.com/baug1\" rel=\"nofollow noreferrer\">https://www.ourcompany.com/baug1</a></li>\n<li>Old login-mechanism on path <code>/baug</code> e.g.: <a href=\"https://www.ourcompany.com/baug\" rel=\"nofollow noreferrer\">https://www.ourcompany.com/baug</a></li>\n</ul>\n<p>The old login-method is based on a custom jaas <code>&lt;login-module&gt;</code> while the new one is based on a REST API. In my understanding we therefore don't need a <code>&lt;security-constraint&gt;</code> with an <code>&lt;auth-constraint&gt;</code> for anything that runs under the <code>/baug1</code>-path. If I'm not mistaken, this should be the case with the following <strong>web.xml</strong> configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;security-constraint&gt;\n   &lt;web-resource-collection&gt;\n      &lt;web-resource-name&gt;Baug1&lt;/web-resource-name&gt;\n      &lt;url-pattern&gt;/baug1/*&lt;/url-pattern&gt;\n   &lt;/web-resource-collection&gt;\n&lt;/security-constraint&gt;\n\n&lt;security-constraint&gt;\n   &lt;web-resource-collection&gt;\n      &lt;web-resouce-name&gt;BaugMainForward&lt;/web-resource-name&gt;\n      &lt;url-pattern&gt;/baug/servlet/*&lt;/url-pattern&gt;\n   &lt;/web-resource-collection&gt;\n   &lt;web-resource-collection&gt;\n      &lt;web-resource-name&gt;BaugMain&lt;/web-resource-name&gt;\n      &lt;url-pattern&gt;/baug/secure/*&lt;/url-pattern&gt;\n   &lt;/web-resource-collection&gt;\n   &lt;auth-constraint&gt;\n      &lt;role-name&gt;Customer&lt;/role-name&gt;\n      &lt;role-name&gt;Clerk&lt;/role-name&gt;\n   &lt;/auth-constraint&gt;\n&lt;/security-constraint&gt;\n&lt;login-config&gt;\n   &lt;auth-method&gt;${jboss.web.default.authentication:HEADER}\n   &lt;/auth-method&gt;\n   &lt;realm-name&gt;alcatraz-combined-user-role-property&lt;/realm-name&gt;\n&lt;/login-config&gt;\n&lt;security-role&gt;\n   &lt;role-name&gt;Customer&lt;/role-name&gt;\n&lt;/security-role&gt;\n&lt;security-role&gt;\n   &lt;role-name&gt;Clerk&lt;/role-name&gt;\n&lt;/security-role&gt;\n</code></pre>\n<p>I have tried different variations like for example removing the first <code>&lt;security-constraint&gt;</code> or setting the url-pattern for <code>Baug1</code> to <code>&lt;url-pattern&gt;/*&lt;/url-pattern&gt;</code> but to no avail. Meanwhile  our <strong>jboss-web.xml</strong> looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;jboss-web xmlns:jboss=http://www.jboss.com/xml/ns/javaee xmlns:javaee=http://java.sun.com/xml/ns/javaee&gt;\n   &lt;security-domain&gt;alcatraz-combined-user-role-property&lt;/security-domain&gt;\n   &lt;context-root&gt;/&lt;/context-root&gt;\n&lt;/jboss-web&gt;\n</code></pre>\n<p>Finally the following security-domains have been defined in JBoss's <strong>standalone.xml</strong>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:security:2.0&quot;&gt;\n    &lt;security-domains&gt;\n        &lt;security-domain name=&quot;alcatraz-combined-user-role-property&quot; cache-type=&quot;default&quot;&gt;\n            &lt;authentication&gt;\n                &lt;login-module code=&quot;Remoting&quot; flag=&quot;optional&quot;&gt;\n                    &lt;module-option name=&quot;password-stacking&quot; value=&quot;useFirstPass&quot;/&gt;\n                &lt;/login-module&gt;\n                &lt;login-module code=&quot;RealmDirect&quot; flag=&quot;optional&quot;&gt;\n                    &lt;module-option name=&quot;password-stacking&quot; value=&quot;useFirstPass&quot;/&gt;\n                &lt;/login-module&gt;\n                &lt;login-module code=&quot;com.ourourcompany.loginmodule.AlcatrazAssertedIdentityLoginModule&quot; flag=&quot;optional&quot; module=&quot;com.ourourcompany.loginmodule&quot;&gt;\n                    &lt;module-option name=&quot;alcatraz.adapter.jndi.name&quot; value=&quot;${alcatraz.adapter.jndi.name}&quot;/&gt;\n                &lt;/login-module&gt;\n            &lt;/authentication&gt;\n            &lt;mapping&gt;\n                &lt;mapping-module code=&quot;com.ourourcompany.jboss.security.mappingmodule.AlcatrazRolesMappingProvider&quot; type=&quot;role&quot; module=&quot;com.ourourcompany.jboss.mappingmodule&quot;&gt;\n                    &lt;module-option name=&quot;application&quot; value=&quot;${alcatraz.application.name}&quot;/&gt;\n                    &lt;module-option name=&quot;alcatraz.adapter.jndi.name&quot; value=&quot;${alcatraz.adapter.jndi.name}&quot;/&gt;\n                &lt;/mapping-module&gt;\n                &lt;mapping-module code=&quot;com.ourourcompany.jboss.security.mappingmodule.SimpleConfiguredRolesMappingProvider&quot; type=&quot;role&quot; module=&quot;com.ourourcompany.jboss.mappingmodule&quot;&gt;\n                    &lt;module-option name=&quot;roles&quot; value=&quot;ALLOW-ALL&quot;/&gt;\n                &lt;/mapping-module&gt;\n            &lt;/mapping&gt;\n        &lt;/security-domain&gt;\n        &lt;security-domain name=&quot;accept-all&quot; cache-type=&quot;default&quot;&gt;\n            &lt;authentication&gt;\n                &lt;login-module code=&quot;com.ourourcompany.loginmodule.SimplePrincipalAcceptingLoginModule&quot; flag=&quot;required&quot; module=&quot;com.ourourcompany.loginmodule&quot;/&gt;\n            &lt;/authentication&gt;\n            &lt;mapping&gt;\n                &lt;mapping-module code=&quot;com.ourourcompany.jboss.security.mappingmodule.SimpleConfiguredRolesMappingProvider&quot; type=&quot;role&quot; module=&quot;com.ourourcompany.jboss.mappingmodule&quot;&gt;\n                    &lt;module-option name=&quot;roles&quot; value=&quot;ALLOW-ALL&quot;/&gt;\n                &lt;/mapping-module&gt;\n            &lt;/mapping&gt;\n        &lt;/security-domain&gt;\n        &lt;security-domain name=&quot;alcatraz&quot; cache-type=&quot;default&quot;&gt;\n            &lt;authentication&gt;\n                &lt;login-module code=&quot;com.ourourcompany.loginmodule.AlcatrazAssertedIdentityLoginModule&quot; flag=&quot;required&quot; module=&quot;com.ourourcompany.loginmodule&quot;&gt;\n                    &lt;module-option name=&quot;alcatraz.adapter.jndi.name&quot; value=&quot;${alcatraz.adapter.jndi.name}&quot;/&gt;\n                &lt;/login-module&gt;\n            &lt;/authentication&gt;\n            &lt;mapping&gt;\n                &lt;mapping-module code=&quot;com.ourourcompany.jboss.security.mappingmodule.SimpleConfiguredRolesMappingProvider&quot; type=&quot;role&quot; module=&quot;com.ourourcompany.jboss.mappingmodule&quot;&gt;\n                    &lt;module-option name=&quot;roles&quot; value=&quot;ALLOW-ALL&quot;/&gt;\n                &lt;/mapping-module&gt;\n                &lt;mapping-module code=&quot;com.ourourcompany.jboss.security.mappingmodule.AlcatrazRolesMappingProvider&quot; type=&quot;role&quot; module=&quot;com.ourourcompany.jboss.mappingmodule&quot;&gt;\n                    &lt;module-option name=&quot;application&quot; value=&quot;${alcatraz.application.name}&quot;/&gt;\n                    &lt;module-option name=&quot;alcatraz.adapter.jndi.name&quot; value=&quot;${alcatraz.adapter.jndi.name}&quot;/&gt;\n                &lt;/mapping-module&gt;\n            &lt;/mapping&gt;\n        &lt;/security-domain&gt;\n        &lt;security-domain name=&quot;other&quot; cache-type=&quot;default&quot;&gt;\n            &lt;authentication&gt;\n                &lt;login-module code=&quot;Remoting&quot; flag=&quot;optional&quot;&gt;\n                    &lt;module-option name=&quot;password-stacking&quot; value=&quot;useFirstPass&quot;/&gt;\n                &lt;/login-module&gt;\n                &lt;login-module code=&quot;RealmDirect&quot; flag=&quot;required&quot;&gt;\n                    &lt;module-option name=&quot;password-stacking&quot; value=&quot;useFirstPass&quot;/&gt;\n                &lt;/login-module&gt;\n            &lt;/authentication&gt;\n        &lt;/security-domain&gt;\n        &lt;security-domain name=&quot;jboss-web-policy&quot; cache-type=&quot;default&quot;&gt;\n            &lt;authorization&gt;\n                &lt;policy-module code=&quot;Delegating&quot; flag=&quot;required&quot;/&gt;\n            &lt;/authorization&gt;\n        &lt;/security-domain&gt;\n        &lt;security-domain name=&quot;jboss-ejb-policy&quot; cache-type=&quot;default&quot;&gt;\n            &lt;authorization&gt;\n                &lt;policy-module code=&quot;Delegating&quot; flag=&quot;required&quot;/&gt;\n            &lt;/authorization&gt;\n        &lt;/security-domain&gt;\n        &lt;security-domain name=&quot;jaspitest&quot; cache-type=&quot;default&quot;&gt;\n            &lt;authentication-jaspi&gt;\n                &lt;login-module-stack name=&quot;dummy&quot;&gt;\n                    &lt;login-module code=&quot;Dummy&quot; flag=&quot;optional&quot;/&gt;\n                &lt;/login-module-stack&gt;\n                &lt;auth-module code=&quot;Dummy&quot;/&gt;\n            &lt;/authentication-jaspi&gt;\n        &lt;/security-domain&gt;\n    &lt;/security-domains&gt;\n&lt;/subsystem&gt;\n</code></pre>\n<p>Now despite this configuration the server would attempt to authenticate a user each time I call <code>/baug1</code> :</p>\n<pre class=\"lang-sh prettyprint-override\"><code>DEBUG [io.undertow.request] Matched default handler path /baug1/\n\nDEBUG [io.undertow.request.security] Security constraints for request /baug1/ are [SingleConstraintMatch{emptyRoleSemantic=PERMIT, requiredRoles=[]}]\n\nDEBUG [io.undertow.request.security] Attempting to authenticate HttpServerExchange{ GET /baug1/ request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9], Accept-Language=[de-CH,de;q=0.9,en-US;q=0.8,en;q=0.7,fr-CH;q=0.6,fr;q=0.5,it-CH;q=0.4,it;q=0.3], X-Host=[app.dev.ourourcompany.ch], DNT=[1], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36 Edg/101.0.1210.39], ClientCorrelator=[92120c4b5b530fe26e05232c0cc23138], LoginUserDataHeaderName=[UserDataJSF], Front-End-Https=[On], Connection=[close], X-Forwarded-Proto=[https], RequestCorrelator=[YoeuM8QyMlGDv-W-X-4YZgAAAFg], X-Forwarded-For=[xx.xx.xx.12], Cookie=[JSESSIONID=xU4I5PXjcJz7LM_Cm7ZKAttYJLa_5flcAOGh7_7j.baug-84-4hw5t; SAT_CH_BAUG=eyJhbGciOiJSUzI1NiIsImtpZCI6IkFUMjAxODA0MjMi...\n\nDEBUG [io.undertow.request.security] Authentication outcome was NOT_ATTEMPTED with method io.undertow.security.impl.CachedAuthenticatedSessionMechanism@73c27b72 for HttpServerExchange{ GET /baug1/ request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9], Accept-Language=[de-CH,de;q=0.9,en-US;q=0.8,en;q=0.7,fr-CH;q=0.6,fr;q=0.5,it-CH;q=0.4,it;q=0.3], X-Host=[app.dev.ourourcompany.ch], DNT=[1], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36 Edg/101.0.1210.39], ClientCorrelator=[92120c4b5b530fe26e05232c0cc23138], LoginUserDataHeaderName=[UserDataJSF], Front-End-Https=[On], Connection=[close], X-Forwarded-Proto=[https], RequestCorrelator=[YoeuM8QyMlGDv-W-X-4YZgAAAFg], X-Forwarded-For=[xx.xx.xx.12], Cookie=[JSESSIONID=xU4I5PXjcJz7LM_Cm7ZKAttYJLa_5flcAOGh7_7j.baug-84-4hw5t; dtCookie=v_4_srv_4_sn_D4077DA36E05A5EE30FD7B942BC956B3_perc...\n\nDEBUG [com.xxx.jboss.security.web.authenticator.AbstractIdentityExtractor] Header 'UserDataJSF' is 'null'.\n\nERROR [com.xxx.jboss.security.web.authenticator.HeaderAuthenticatorHelper] Identity is 'null'!\n\nDEBUG [io.undertow.request.security] Authentication failed with message UT000038: Authentication failed, requested user name 'null' and mechanism HEADER for HttpServerExchange{ GET /baug1/ request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9], Accept-Language=[de-CH,de;q=0.9,en-US;q=0.8,en;q=0.7,fr-CH;q=0.6,fr;q=0.5,it-CH;q=0.4,it;q=0.3], X-Host=[app.dev.xxx.com], DNT=[1], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36 Edg/101.0.1210.39], ClientCorrelator=[92120c4b5b530fe26e05232c0cc23138], LoginUserDataHeaderName=[UserDataJSF], Front-End-Https=[On], Connection=[close], X-Forwarded-Proto=[https], RequestCorrelator=[YoeuM8QyMlGDv-W-X-4YZgAAAFg], X-Forwarded-For=[xx.xx.xx.12], Cookie=[JSESSIONID=xU4I5PXjcJz7LM_Cm7ZKAttYJLa_5flcAOGh7_7j.baug-84-4hw5t;\n\nDEBUG [io.undertow.request.security] Authentication outcome was NOT_AUTHENTICATED with method com.xxx.jboss.security.web.authenticator.undertow.HeaderAuthenticationMechanism@3b28aa40 for HttpServerExchange{ GET /baug1/ request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9], Accept-Language=[de-CH,de;q=0.9,en-US;q=0.8,en;q=0.7,fr-CH;q=0.6,fr;q=0.5,it-CH;q=0.4,it;q=0.3], X-Host=[app.dev.ourourcompany.ch], DNT=[1], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36 Edg/101.0.1210.39], ClientCorrelator=[92120c4b5b530fe26e05232c0cc23138], LoginUserDataHeaderName=[UserDataJSF], Front-End-Https=[On], Connection=[close], X-Forwarded-Proto=[https], RequestCorrelator=[YoeuM8QyMlGDv-W-X-4YZgAAAFg], X-Forwarded-For=[xx.xx.xx.12], Cookie=[JSESSIONID=xU4I5PXjcJz7LM_Cm7ZKAttYJLa_5flcAOGh7_7j.baug-84-4hw5t;\n\nDEBUG [io.undertow.request.security] Sending authentication challenge for HttpServerExchange{ GET /baug1/ request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9], Accept-Language=[de-CH,de;q=0.9,en-US;q=0.8,en;q=0.7,fr-CH;q=0.6,fr;q=0.5,it-CH;q=0.4,it;q=0.3], X-Host=[app.dev.ourourcompany.ch], DNT=[1], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36 Edg/101.0.1210.39], ClientCorrelator=[92120c4b5b530fe26e05232c0cc23138], LoginUserDataHeaderName=[UserDataJSF], Front-End-Https=[On], Connection=[close], X-Forwarded-Proto=[https], RequestCorrelator=[YoeuM8QyMlGDv-W-X-4YZgAAAFg], X-Forwarded-For=[xx.xx.xx.12], Cookie=[JSESSIONID=xU4I5PXjcJz7LM_Cm7ZKAttYJLa_5flcAOGh7_7j.baug-84-4hw5t; SAT_CH_BAUG=eyJhbGciOiJSUzI1NiIsImtpZCI6IkFUMj...\n\nDEBUG [io.undertow.request.security] Authentication result was CHALLENGE_SENT for HttpServerExchange{ GET /baug1/ request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9], Accept-Language=[de-CH,de;q=0.9,en-US;q=0.8,en;q=0.7,fr-CH;q=0.6,fr;q=0.5,it-CH;q=0.4,it;q=0.3], X-Host=[app.dev.ourourcompany.ch], DNT=[1], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36 Edg/101.0.1210.39], ClientCorrelator=[92120c4b5b530fe26e05232c0cc23138], LoginUserDataHeaderName=[UserDataJSF], Front-End-Https=[On], Connection=[close], X-Forwarded-Proto=[https], RequestCorrelator=[YoeuM8QyMlGDv-W-X-4YZgAAAFg], X-Forwarded-For=[xx.xx.xx.12], Cookie=[JSESSIONID=xU4I5PXjcJz7LM_Cm7ZKAttYJLa_5flcAOGh7_7j.baug-84-4hw5t; SAT_CH_BAUG=eyJhbGciOiJSUzI1NiIsImtpZC...\n\nINFO  [io.undertow.accesslog] 10.94.12.14 - - [20/May/2022:17:05:23 +0200] GET /baug1/?pol_nr=xxxx HTTP/1.1 403 68 https://xxx.sharepoint.com/ Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36 Edg/101.0.1210.39 - -\n\nDEBUG [io.undertow.request] UT005013: An IOException occurred: java.nio.channels.ClosedChannelException\n        at io.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:846)\n        at io.undertow.protocols.ssl.SslConduit.doHandshake(SslConduit.java:649)\n        at io.undertow.protocols.ssl.SslConduit.access$900(SslConduit.java:63)\n        at io.undertow.protocols.ssl.SslConduit$SslReadReadyHandler.readReady(SslConduit.java:1100)\n        at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\n        at org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\n\n</code></pre>\n<p>So, to recap, my question is why the server makes an authentication-attempt when calling <code>/baug1</code> despite the fact that no <code>&lt;auth-constraint&gt;</code> is set for this path?</p>\n<p>Any ideas are welcome! :)</p>\n"},{"tags":["java","lwjgl"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1639937811,"post_id":70414060,"comment_id":124470338,"body_markdown":"Use just GL_ONE for the second blendFunc parameter.","body":"Use just GL_ONE for the second blendFunc parameter."},{"owner":{"account_id":9443264,"reputation":3,"user_id":7022969,"display_name":"Drahonix"},"score":0,"creation_date":1639938527,"post_id":70414060,"comment_id":124470491,"body_markdown":"It didn&#39;t work, result: https://imgur.com/a/mPminfb","body":"It didn&#39;t work, result: <a href=\"https://imgur.com/a/mPminfb\" rel=\"nofollow noreferrer\">imgur.com/a/mPminfb</a>"}],"owner":{"account_id":9443264,"reputation":3,"user_id":7022969,"display_name":"Drahonix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653234063,"creation_date":1639937186,"question_id":70414060,"body_markdown":"Any ideas how to fix this glow effect?\r\n\r\n    GlStateManager.pushMatrix();\r\n    GL11.glColor4f(1.0F, 1.0F, 1.0F, 1.0F);\r\n            \r\n    GlStateManager.enableBlend();\r\n    GlStateManager.blendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE_MINUS_SRC_ALPHA);\r\n    GlStateManager.bindTexture(image.getId());\r\n    GL11.glDrawArrays(GL11.GL_QUADS, 0, wr.getVertexCount());\r\n\r\n\r\n[Effect of the code &lt;- here][1]\r\n\r\n[Original image][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y8DSW.png\r\n  [2]: https://i.stack.imgur.com/Hmggs.png","title":"LWJGL colors with alpha are not rendering in correct way","body":"<p>Any ideas how to fix this glow effect?</p>\n<pre><code>GlStateManager.pushMatrix();\nGL11.glColor4f(1.0F, 1.0F, 1.0F, 1.0F);\n        \nGlStateManager.enableBlend();\nGlStateManager.blendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE_MINUS_SRC_ALPHA);\nGlStateManager.bindTexture(image.getId());\nGL11.glDrawArrays(GL11.GL_QUADS, 0, wr.getVertexCount());\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Y8DSW.png\" rel=\"nofollow noreferrer\">Effect of the code &lt;- here</a></p>\n<p><a href=\"https://i.stack.imgur.com/Hmggs.png\" rel=\"nofollow noreferrer\">Original image</a></p>\n"},{"tags":["java","spring-hateoas","hateoas"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653233945,"creation_date":1653232952,"answer_id":72338889,"question_id":72337736,"body_markdown":"I think that in the newer Spring Hateoas version you could achieve a similar result with this code:\r\n\r\n```java\r\n@JsonInclude(Include.NON_NULL)\r\npublic class TransactionResource extends RepresentationModel {\r\n\r\n  @JsonProperty(&quot;id&quot;)\r\n  private UUID uuid;\r\n\r\n  public void setUuid(UUID uuid) {\r\n    // Remove the hateoas ID (self referential link) if exists\r\n    if (this.hasLink(IanaLinkRelations.SELF)) {\r\n      this.getLinks().without(IanaLinkRelations.SELF);\r\n    }\r\n\r\n    add(linkTo(methodOn(TransactionController.class).lookup(uuid, null))\r\n        .withSelfRel()\r\n        .expand());\r\n\r\n    this.uuid = uuid;\r\n  }\r\n  ......................\r\n}\r\n```\r\n\r\nI haven&#39;t tested it but probably the above code could be simplified like this:\r\n\r\n```java\r\n@JsonInclude(Include.NON_NULL)\r\npublic class TransactionResource extends RepresentationModel {\r\n\r\n  @JsonProperty(&quot;id&quot;)\r\n  private UUID uuid;\r\n\r\n  public void setUuid(UUID uuid) {\r\n    // Remove the hateoas ID (self referential link) if exists\r\n    this.getLinks().without(IanaLinkRelations.SELF);\r\n\r\n    add(linkTo(methodOn(TransactionController.class).lookup(uuid, null))\r\n        .withSelfRel()\r\n        .expand());\r\n\r\n    this.uuid = uuid;\r\n  }\r\n  ......................\r\n}\r\n```\r\n\r\nNote that the main changes are related to the use of the methods provided in [`RepresentationModel`](https://docs.spring.io/spring-hateoas/docs/current/api/index.html?org/springframework/hateoas/RepresentationModel.html) and in the [`Links`](https://docs.spring.io/spring-hateoas/docs/current/api/index.html?org/springframework/hateoas/RepresentationModel.html).\r\n\r\nAs I told, please, be aware that I haven&#39;t tested the code. My main concern has to do with the fact that `this.getLinks().without(IanaLinkRelations.SELF);` return a new `Links` instance and it may not replace _in place_ the existing ones associated with the `RepresentationModel`, so you probably would need to `merge` the results. Please, take that into account.","title":"Migrate ResourceSupport to RepresentationModel","body":"<p>I think that in the newer Spring Hateoas version you could achieve a similar result with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(Include.NON_NULL)\npublic class TransactionResource extends RepresentationModel {\n\n  @JsonProperty(&quot;id&quot;)\n  private UUID uuid;\n\n  public void setUuid(UUID uuid) {\n    // Remove the hateoas ID (self referential link) if exists\n    if (this.hasLink(IanaLinkRelations.SELF)) {\n      this.getLinks().without(IanaLinkRelations.SELF);\n    }\n\n    add(linkTo(methodOn(TransactionController.class).lookup(uuid, null))\n        .withSelfRel()\n        .expand());\n\n    this.uuid = uuid;\n  }\n  ......................\n}\n</code></pre>\n<p>I haven't tested it but probably the above code could be simplified like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(Include.NON_NULL)\npublic class TransactionResource extends RepresentationModel {\n\n  @JsonProperty(&quot;id&quot;)\n  private UUID uuid;\n\n  public void setUuid(UUID uuid) {\n    // Remove the hateoas ID (self referential link) if exists\n    this.getLinks().without(IanaLinkRelations.SELF);\n\n    add(linkTo(methodOn(TransactionController.class).lookup(uuid, null))\n        .withSelfRel()\n        .expand());\n\n    this.uuid = uuid;\n  }\n  ......................\n}\n</code></pre>\n<p>Note that the main changes are related to the use of the methods provided in <a href=\"https://docs.spring.io/spring-hateoas/docs/current/api/index.html?org/springframework/hateoas/RepresentationModel.html\" rel=\"nofollow noreferrer\"><code>RepresentationModel</code></a> and in the <a href=\"https://docs.spring.io/spring-hateoas/docs/current/api/index.html?org/springframework/hateoas/RepresentationModel.html\" rel=\"nofollow noreferrer\"><code>Links</code></a>.</p>\n<p>As I told, please, be aware that I haven't tested the code. My main concern has to do with the fact that <code>this.getLinks().without(IanaLinkRelations.SELF);</code> return a new <code>Links</code> instance and it may not replace <em>in place</em> the existing ones associated with the <code>RepresentationModel</code>, so you probably would need to <code>merge</code> the results. Please, take that into account.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72338889,"answer_count":1,"score":0,"last_activity_date":1653233945,"creation_date":1653223789,"question_id":72337736,"body_markdown":"I have this code which I would like to migrate to latest Spring hateoas version. I tried this:\r\n\r\n\r\n\r\n    @JsonInclude(Include.NON_NULL)\r\n    public class TransactionResource extends RepresentationModel {\r\n    \r\n      @JsonProperty(&quot;id&quot;)\r\n      private UUID uuid;\r\n    \r\n      public void setUuid(UUID uuid) {\r\n        // Remove the hateoas ID (self referential link) if exists\r\n        if (getId() != null) {\r\n          getLinks().remove(getId());\r\n        }\r\n    \r\n        add(linkTo(methodOn(TransactionController.class).lookup(uuid, null))\r\n            .withSelfRel()\r\n            .expand());\r\n    \r\n        this.uuid = uuid;\r\n      }\r\n      ......................\r\n    }\r\n\r\nI get error Cannot resolve method `&#39;getId&#39; in &#39;TransactionResource&#39;` and `Cannot resolve method &#39;remove&#39; in &#39;Links&#39;` \r\n\r\nDo you know how I have to fix this issue?","title":"Migrate ResourceSupport to RepresentationModel","body":"<p>I have this code which I would like to migrate to latest Spring hateoas version. I tried this:</p>\n<pre><code>@JsonInclude(Include.NON_NULL)\npublic class TransactionResource extends RepresentationModel {\n\n  @JsonProperty(&quot;id&quot;)\n  private UUID uuid;\n\n  public void setUuid(UUID uuid) {\n    // Remove the hateoas ID (self referential link) if exists\n    if (getId() != null) {\n      getLinks().remove(getId());\n    }\n\n    add(linkTo(methodOn(TransactionController.class).lookup(uuid, null))\n        .withSelfRel()\n        .expand());\n\n    this.uuid = uuid;\n  }\n  ......................\n}\n</code></pre>\n<p>I get error Cannot resolve method <code>'getId' in 'TransactionResource'</code> and <code>Cannot resolve method 'remove' in 'Links'</code></p>\n<p>Do you know how I have to fix this issue?</p>\n"},{"tags":["java","android","audio","media"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1653233216,"post_id":72338898,"comment_id":127796014,"body_markdown":"Perhaps the download is corrupted. Have you tried copying the file off the device/emulator and testing it elsewhere?","body":"Perhaps the download is corrupted. Have you tried copying the file off the device/emulator and testing it elsewhere?"},{"owner":{"account_id":16652897,"reputation":21,"user_id":12035220,"display_name":"KonstantIMP"},"score":0,"creation_date":1653233625,"post_id":72338898,"comment_id":127796098,"body_markdown":"@CommonsWare the file is correct. It sounds perfectly on my computer","body":"@CommonsWare the file is correct. It sounds perfectly on my computer"}],"owner":{"account_id":16652897,"reputation":21,"user_id":12035220,"display_name":"KonstantIMP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653233018,"creation_date":1653233018,"question_id":72338898,"body_markdown":"I want to download, cache and play an audio file from the network. I managed to download and save it to the context.getCacheDir(). Absolute path is &quot;/data/user/0/org.kimp.mustep/cache/floor_01/entrance_ru.mp3&quot;.\r\n\r\nWhen I try to play it with a MediaPlayer&#39;s object the app crashes.\r\n\r\nThere is some ways I tried to do that:\r\n\r\n    MediaPlayer player = new MediaPlayer();\r\n    FileInputStream inputStream = new FileInputStream(target);\r\n    player.setDataSource(inputStream.getFD());\r\n    inputStream.close();\r\n    player.setAudioAttributes(new AudioAttributes.Builder()\r\n        .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\r\n        .build());\r\n    player.prepare();\r\n    player.start();\r\n\r\nand \r\n\r\n    MediaPlayer player = new MediaPlayer();\r\n    player.setDataSource(activity.getBaseContext(), Uri.fromFile(target));\r\n    player.prepare();\r\n    player.start();\r\n\r\n*target* is a File object with the mp3\r\n\r\nAnd every time I have an error:\r\n```\r\nerror (1, -2147483648)\r\njava.io.IOException: Prepare failed.: status=0x1\r\n","title":"Can&#39;t play cached audio file Android java","body":"<p>I want to download, cache and play an audio file from the network. I managed to download and save it to the context.getCacheDir(). Absolute path is &quot;/data/user/0/org.kimp.mustep/cache/floor_01/entrance_ru.mp3&quot;.</p>\n<p>When I try to play it with a MediaPlayer's object the app crashes.</p>\n<p>There is some ways I tried to do that:</p>\n<pre><code>MediaPlayer player = new MediaPlayer();\nFileInputStream inputStream = new FileInputStream(target);\nplayer.setDataSource(inputStream.getFD());\ninputStream.close();\nplayer.setAudioAttributes(new AudioAttributes.Builder()\n    .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\n    .build());\nplayer.prepare();\nplayer.start();\n</code></pre>\n<p>and</p>\n<pre><code>MediaPlayer player = new MediaPlayer();\nplayer.setDataSource(activity.getBaseContext(), Uri.fromFile(target));\nplayer.prepare();\nplayer.start();\n</code></pre>\n<p><em>target</em> is a File object with the mp3</p>\n<p>And every time I have an error:</p>\n<pre><code>error (1, -2147483648)\njava.io.IOException: Prepare failed.: status=0x1\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653232740,"post_id":72338785,"comment_id":127795903,"body_markdown":"`java.lang.UnsupportedClassVersionError: org/bson/codecs/record/RecordCodecProvider has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 60.0`","body":"<code>java.lang.UnsupportedClassVersionError: org&#47;bson&#47;codecs&#47;record&#47;RecordCodecProvider has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 60.0</code>"}],"owner":{"account_id":3615977,"reputation":59,"user_id":7793401,"display_name":"Gino Casolaro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1653232774,"answer_count":0,"score":2,"last_activity_date":1653232189,"creation_date":1653232189,"question_id":72338785,"body_markdown":"I&#39;ve looked at countless articles to try to figure out the issue. The only debug statement that I think appears to be the problem is the Java ClassFile Version 61.0, but I&#39;m not sure why that would be the case. Here&#39;s the code below.\r\n\r\nStructure:\r\n\r\n```\r\ntestApp.app\r\ntestApp.app.model\r\ntestApp.app.repository\r\ntestApp.app.resource\r\n```\r\n\r\nCode:\r\n\r\nTestAppApplication.java\r\n\r\n```\r\npackage com.testApp.app;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class TestAppApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(TestAppApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nData.java\r\n\r\n```\r\npackage com.testApp.app.model;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n@Document(collection = &quot;Data&quot;)\r\npublic class Data {\r\n\r\n    @Id\r\n    private int id;\r\n    private String name;\r\n    private String description;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Data [id=&quot; + id + &quot;, name=&quot; + name + &quot;, description=&quot; + description + &quot;]&quot;;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nDataRepository.java\r\n\r\n```\r\npackage com.testApp.app.repository;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\nimport org.springframework.stereotype.Repository;\r\nimport com.testApp.app.model.Data;\r\n\r\n@Repository\r\npublic interface DataRepository extends MongoRepository&lt;Data, Integer&gt; {\r\n\r\n}\r\n```\r\n\r\nDataController.java\r\n\r\n```\r\npackage com.testApp.app.resource;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport com.testApp.app.model.Data;\r\nimport com.testApp.app.repository.DataRepository;\r\n\r\n@RestController\r\npublic class DataController {\r\n\r\n    @Autowired\r\n    private DataRepository dataRepository;\r\n\r\n    @PostMapping(&quot;/addData&quot;)\r\n    public String savaData(@RequestBody Data data) {\r\n        dataRepository.save(data);\r\n        return &quot;Added book with id: &quot; + data.getId();\r\n    }\r\n\r\n    @GetMapping(&quot;/findAllData&quot;)\r\n    public List&lt;Data&gt; getAllData() {\r\n        return dataRepository.findAll();\r\n    }\r\n\r\n    @GetMapping(&quot;/findAllData/{id}&quot;)\r\n    public Optional&lt;Data&gt; getData(@PathVariable int id) {\r\n        return dataRepository.findById(id);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/deleteData/{id}&quot;)\r\n    public String deleteData(@PathVariable int id) {\r\n        dataRepository.deleteById(id);\r\n        return &quot;Book deleted with id: &quot; + id;\r\n    }\r\n}\r\n```\r\n\r\napplication.properties\r\n```\r\nspring.data.mongodb.host=localhost\r\nspring.data.mongodb.port=27017\r\nspring.data.mongodb.database=TestApp\r\n```\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.testApp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;TestApp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;TestApp&lt;/name&gt;\r\n\t&lt;description&gt;TestApp Project with SpringBoot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nDebug log\r\n\r\n```\r\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataController&#39;: Unsatisfied dependency expressed through field &#39;dataRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataRepository&#39; defined in com.checkr.app.repository.DataRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean &#39;mongoTemplate&#39; while setting bean property &#39;mongoOperations&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mongoTemplate&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method &#39;mongoTemplate&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mongoDatabaseFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryConfiguration.class]: Unsatisfied dependency expressed through method &#39;mongoDatabaseFactory&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mongo&#39; defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;mongo&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoClientSettings&#39; defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoAutoConfiguration$MongoClientSettingsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.mongodb.MongoClientSettings]: Factory method &#39;mongoClientSettings&#39; threw exception; nested exception is java.lang.UnsupportedClassVersionError: org/bson/codecs/record/RecordCodecProvider has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 60.0\r\n```\r\n","title":"SpringBoot has an issue creating bean with MongoDB Java ClassFile Version","body":"<p>I've looked at countless articles to try to figure out the issue. The only debug statement that I think appears to be the problem is the Java ClassFile Version 61.0, but I'm not sure why that would be the case. Here's the code below.</p>\n<p>Structure:</p>\n<pre><code>testApp.app\ntestApp.app.model\ntestApp.app.repository\ntestApp.app.resource\n</code></pre>\n<p>Code:</p>\n<p>TestAppApplication.java</p>\n<pre><code>package com.testApp.app;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class TestAppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestAppApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Data.java</p>\n<pre><code>package com.testApp.app.model;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Document(collection = &quot;Data&quot;)\npublic class Data {\n\n    @Id\n    private int id;\n    private String name;\n    private String description;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Data [id=&quot; + id + &quot;, name=&quot; + name + &quot;, description=&quot; + description + &quot;]&quot;;\n    }\n\n\n}\n</code></pre>\n<p>DataRepository.java</p>\n<pre><code>package com.testApp.app.repository;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\nimport com.testApp.app.model.Data;\n\n@Repository\npublic interface DataRepository extends MongoRepository&lt;Data, Integer&gt; {\n\n}\n</code></pre>\n<p>DataController.java</p>\n<pre><code>package com.testApp.app.resource;\n\nimport java.util.List;\nimport java.util.Optional;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport com.testApp.app.model.Data;\nimport com.testApp.app.repository.DataRepository;\n\n@RestController\npublic class DataController {\n\n    @Autowired\n    private DataRepository dataRepository;\n\n    @PostMapping(&quot;/addData&quot;)\n    public String savaData(@RequestBody Data data) {\n        dataRepository.save(data);\n        return &quot;Added book with id: &quot; + data.getId();\n    }\n\n    @GetMapping(&quot;/findAllData&quot;)\n    public List&lt;Data&gt; getAllData() {\n        return dataRepository.findAll();\n    }\n\n    @GetMapping(&quot;/findAllData/{id}&quot;)\n    public Optional&lt;Data&gt; getData(@PathVariable int id) {\n        return dataRepository.findById(id);\n    }\n\n    @DeleteMapping(&quot;/deleteData/{id}&quot;)\n    public String deleteData(@PathVariable int id) {\n        dataRepository.deleteById(id);\n        return &quot;Book deleted with id: &quot; + id;\n    }\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\nspring.data.mongodb.database=TestApp\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.testApp&lt;/groupId&gt;\n    &lt;artifactId&gt;TestApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;TestApp&lt;/name&gt;\n    &lt;description&gt;TestApp Project with SpringBoot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Debug log</p>\n<pre><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataController': Unsatisfied dependency expressed through field 'dataRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataRepository' defined in com.checkr.app.repository.DataRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoTemplate' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method 'mongoTemplate' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoDatabaseFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryConfiguration.class]: Unsatisfied dependency expressed through method 'mongoDatabaseFactory' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongo' defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoAutoConfiguration.class]: Unsatisfied dependency expressed through method 'mongo' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoClientSettings' defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoAutoConfiguration$MongoClientSettingsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.mongodb.MongoClientSettings]: Factory method 'mongoClientSettings' threw exception; nested exception is java.lang.UnsupportedClassVersionError: org/bson/codecs/record/RecordCodecProvider has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 60.0\n</code></pre>\n"},{"tags":["java","file-upload","http-put"],"answers":[{"tags":[],"owner":{"account_id":22883760,"reputation":101,"user_id":17024974,"display_name":"Vinayak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649678029,"creation_date":1649678029,"answer_id":71827385,"question_id":71823751,"body_markdown":"Resolved this problem after using below code\r\n\r\n```\r\nprivate void uploadFileToAWSS3() throws IOException {\r\n        File file = new File(&quot;/Users/vmagadum/SitCopiedFile/temp/details.csv&quot;);\r\n        HttpClient httpClient = HttpClients.custom()\r\n                .setDefaultRequestConfig(\r\n                        RequestConfig.custom().setCookieSpec(CookieSpecs.STANDARD).build()\r\n                ).build();\r\n        HttpPut put = new HttpPut(PRE_SIGNED_URL);\r\n        HttpEntity entity = EntityBuilder.create()\r\n                .setFile(file)\r\n                .build();\r\n        put.setEntity(entity);\r\n        put.setHeader(&quot;Content-Type&quot;,&quot;text/csv&quot;);\r\n\r\n        HttpResponse response = httpClient.execute(put);\r\n\r\n        if (response.getStatusLine().getStatusCode() == 200) {\r\n            System.out.println(&quot;File uploaded successfully at destination.&quot;);\r\n        } else {\r\n            System.out.println(&quot;Error occurred while uploading file.&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nFindings : \r\n\r\nIf you add the file as multipart/form-data, then the HTTP request body will create delimiters to accommodate multiple files -\r\n\r\n```\r\ncontent-Disposition: form-data; name=&quot;file1&quot;....\r\n&lt;file1_data&gt;\r\n--BMnE0Tk&lt;delimiter--\r\ncontent-Disposition: form-data; name=&quot;file2&quot;....\r\n&lt;file2_data&gt;\r\n--BMnE0Tk&lt;delimiter--\r\n```\r\nThen AWS will treat this request payload as one file and saves it.\r\nInstead, we should remove multi-part/form-data from the code and create HTTP requests with the body as file ONLY.\r\n","title":"Upload file at pre-signed URL using HttpPut method contains extra unnecessary part","body":"<p>Resolved this problem after using below code</p>\n<pre><code>private void uploadFileToAWSS3() throws IOException {\n        File file = new File(&quot;/Users/vmagadum/SitCopiedFile/temp/details.csv&quot;);\n        HttpClient httpClient = HttpClients.custom()\n                .setDefaultRequestConfig(\n                        RequestConfig.custom().setCookieSpec(CookieSpecs.STANDARD).build()\n                ).build();\n        HttpPut put = new HttpPut(PRE_SIGNED_URL);\n        HttpEntity entity = EntityBuilder.create()\n                .setFile(file)\n                .build();\n        put.setEntity(entity);\n        put.setHeader(&quot;Content-Type&quot;,&quot;text/csv&quot;);\n\n        HttpResponse response = httpClient.execute(put);\n\n        if (response.getStatusLine().getStatusCode() == 200) {\n            System.out.println(&quot;File uploaded successfully at destination.&quot;);\n        } else {\n            System.out.println(&quot;Error occurred while uploading file.&quot;);\n        }\n    }\n</code></pre>\n<p>Findings :</p>\n<p>If you add the file as multipart/form-data, then the HTTP request body will create delimiters to accommodate multiple files -</p>\n<pre><code>content-Disposition: form-data; name=&quot;file1&quot;....\n&lt;file1_data&gt;\n--BMnE0Tk&lt;delimiter--\ncontent-Disposition: form-data; name=&quot;file2&quot;....\n&lt;file2_data&gt;\n--BMnE0Tk&lt;delimiter--\n</code></pre>\n<p>Then AWS will treat this request payload as one file and saves it.\nInstead, we should remove multi-part/form-data from the code and create HTTP requests with the body as file ONLY.</p>\n"}],"owner":{"account_id":22883760,"reputation":101,"user_id":17024974,"display_name":"Vinayak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71827385,"answer_count":1,"score":1,"last_activity_date":1653232016,"creation_date":1649660216,"question_id":71823751,"body_markdown":"I have pre-signed the URL. And my task is to upload a CSV file at a pre-signed URL. I have written below code\r\n\r\n```\r\nimport org.apache.http.HttpEntity;\r\nimport org.apache.http.HttpResponse;\r\nimport org.apache.http.client.HttpClient;\r\nimport org.apache.http.client.config.CookieSpecs;\r\nimport org.apache.http.client.config.RequestConfig;\r\nimport org.apache.http.client.methods.HttpPut;\r\nimport org.apache.http.entity.mime.MultipartEntityBuilder;\r\nimport org.apache.http.entity.mime.content.FileBody;\r\nimport org.apache.http.impl.client.HttpClients;\r\nimport java.io.IOException;\r\nimport java.io.File;\r\npublic class Test {\r\n    /**\r\n     * Uploading file at pre-signed URL\r\n     *\r\n     * @throws IOException\r\n     */\r\n    private void uploadFileToAWSS3(String preSignedUrl) throws IOException {\r\n        File file = new File(&quot;/Users/vmagadum/temp/test.csv&quot;);\r\n        HttpClient httpClient = HttpClients.custom()\r\n                .setDefaultRequestConfig(\r\n                        RequestConfig.custom().setCookieSpec(CookieSpecs.STANDARD).build()\r\n                ).build();\r\n        HttpPut put = new HttpPut(preSignedUrl);\r\n        HttpEntity entity = MultipartEntityBuilder.create()\r\n                .addPart(&quot;file&quot;, new FileBody(file))\r\n                .build();\r\n        put.setEntity(entity);\r\n        put.setHeader(&quot;Content-Type&quot;,&quot;text/csv&quot;);\r\n\r\n        HttpResponse response = httpClient.execute(put);\r\n\r\n        if (response.getStatusLine().getStatusCode() == 200) {\r\n            System.out.println(&quot;File uploaded successfully at destination.&quot;);\r\n        } else {\r\n            System.out.println(&quot;Error occurred while uploading file.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWith the above code, I am able to upload the file at the destination but when I download that file then I can see an unnecessary part was also added.\r\n\r\nStructure of File I want to Upload\r\n\r\n[![File I want to Upload][1]][1]\r\n\r\n\r\nThe file I am getting after downloading from S3\r\n\r\n[![File I am getting after download][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KaHcB.png\r\n  [2]: https://i.stack.imgur.com/IHyFl.png\r\n\r\n\r\n\r\nHow can I ignore this extra header part that was added to the file?","title":"Upload file at pre-signed URL using HttpPut method contains extra unnecessary part","body":"<p>I have pre-signed the URL. And my task is to upload a CSV file at a pre-signed URL. I have written below code</p>\n<pre><code>import org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.config.CookieSpecs;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.client.methods.HttpPut;\nimport org.apache.http.entity.mime.MultipartEntityBuilder;\nimport org.apache.http.entity.mime.content.FileBody;\nimport org.apache.http.impl.client.HttpClients;\nimport java.io.IOException;\nimport java.io.File;\npublic class Test {\n    /**\n     * Uploading file at pre-signed URL\n     *\n     * @throws IOException\n     */\n    private void uploadFileToAWSS3(String preSignedUrl) throws IOException {\n        File file = new File(&quot;/Users/vmagadum/temp/test.csv&quot;);\n        HttpClient httpClient = HttpClients.custom()\n                .setDefaultRequestConfig(\n                        RequestConfig.custom().setCookieSpec(CookieSpecs.STANDARD).build()\n                ).build();\n        HttpPut put = new HttpPut(preSignedUrl);\n        HttpEntity entity = MultipartEntityBuilder.create()\n                .addPart(&quot;file&quot;, new FileBody(file))\n                .build();\n        put.setEntity(entity);\n        put.setHeader(&quot;Content-Type&quot;,&quot;text/csv&quot;);\n\n        HttpResponse response = httpClient.execute(put);\n\n        if (response.getStatusLine().getStatusCode() == 200) {\n            System.out.println(&quot;File uploaded successfully at destination.&quot;);\n        } else {\n            System.out.println(&quot;Error occurred while uploading file.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>With the above code, I am able to upload the file at the destination but when I download that file then I can see an unnecessary part was also added.</p>\n<p>Structure of File I want to Upload</p>\n<p><a href=\"https://i.stack.imgur.com/KaHcB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KaHcB.png\" alt=\"File I want to Upload\" /></a></p>\n<p>The file I am getting after downloading from S3</p>\n<p><a href=\"https://i.stack.imgur.com/IHyFl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IHyFl.png\" alt=\"File I am getting after download\" /></a></p>\n<p>How can I ignore this extra header part that was added to the file?</p>\n"},{"tags":["java","processing"],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653200325,"creation_date":1653200325,"answer_id":72335237,"question_id":72334829,"body_markdown":"Use the [`mousePressed()`](https://processing.org/reference/mousePressed_.html) and move the slider to the next line when the button is pressed:\r\n\r\n```java\r\nvoid mousePressed() {\r\n    if (mouseX &gt; bx-boxSize &amp;&amp; mouseX &lt; bx+boxSize &amp;&amp; \r\n        mouseY &gt; by-boxSize &amp;&amp; mouseY &lt; by+boxSize) {  \r\n        if (x &gt; 75) {\r\n            x = ((x+39 - 75) / 40) * 40 + 75;\r\n            x -= 40;\r\n        }\r\n    }\r\n    if (mouseX &gt; sbx-sboxSize &amp;&amp; mouseX &lt; sbx+sboxSize &amp;&amp; \r\n        mouseY &gt; sby-sboxSize &amp;&amp; mouseY &lt; sby+sboxSize) {\r\n        if (x &lt; 475) {\r\n            x = ((x - 75) / 40) * 40 + 75;\r\n            x += 40;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\nComplete example:\r\n\r\n[![][1]][1]\r\n\r\n```java\r\nint x=75;\r\nint lsW=17;\r\nint lsH=50;\r\nfloat bx =17;\r\nfloat by = 25;\r\nint boxSize = 50;\r\nfloat xOffset = 0.0; \r\nfloat yOffset = 0.0;\r\nfloat sbx = 483;\r\nfloat sby = 25;\r\nint sboxSize = 50;\r\nfloat sxOffset = 0.0; \r\nfloat syOffset = 0.0;\r\n\r\nvoid setup() {\r\n  size(550,300);\r\n}\r\n\r\nvoid mousePressed() {\r\n    if (mouseX &gt; bx-boxSize &amp;&amp; mouseX &lt; bx+boxSize &amp;&amp; \r\n        mouseY &gt; by-boxSize &amp;&amp; mouseY &lt; by+boxSize) {  \r\n        if (x &gt; 75) {\r\n            x = ((x+39 - 75) / 40) * 40 + 75;\r\n            x -= 40;\r\n        }\r\n    }\r\n    if (mouseX &gt; sbx-sboxSize &amp;&amp; mouseX &lt; sbx+sboxSize &amp;&amp; \r\n        mouseY &gt; sby-sboxSize &amp;&amp; mouseY &lt; sby+sboxSize) {\r\n        if (x &lt; 475) {\r\n            x = ((x - 75) / 40) * 40 + 75;\r\n            x += 40;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nvoid draw() {\r\n  background(0);\r\n  fill (100);\r\n  rect (75, 25, 400, 50); //the slider track\r\n  \r\n  if(mousePressed) {\r\n  if (mouseX &gt;=75 &amp;&amp; mouseX &lt;= 475) //mousepress for the slider track\r\n    {x=mouseX;}\r\n    }\r\n    \r\n  float value = map(x, 75, 475, 0, 100);\r\n\r\n  fill(255);\r\n  rect (x, 20, 3, 60); //the slider thumb, positioned at x}\r\n  fill (100);\r\n\r\n  if (mouseX &gt; bx-boxSize &amp;&amp; mouseX &lt; bx+boxSize &amp;&amp; \r\n      mouseY &gt; by-boxSize &amp;&amp; mouseY &lt; by+boxSize) {\r\n      fill(255);\r\n  }\r\n  \r\n  rect(bx, by, boxSize, boxSize);\r\n  fill(10);\r\n  triangle(30, 50, 50, 40, 50, 60);\r\n  \r\n  fill(100);\r\n  if (mouseX &gt; sbx-sboxSize &amp;&amp; mouseX &lt; sbx+sboxSize &amp;&amp; \r\n      mouseY &gt; sby-sboxSize &amp;&amp; mouseY &lt; sby+sboxSize){\r\n      fill(255);\r\n  }\r\n  \r\n  \r\n  rect(483,25,50,50);\r\n  fill(10);\r\n  triangle(520, 50, 500, 40, 500, 60);\r\n  \r\n  println(value);\r\n  \r\n\r\n  line (115, 60, 115, 90);\r\n  line (155, 60, 155, 90);\r\n  line (195, 60, 195, 90);\r\n  line (235, 60, 235, 90);\r\n  line (275, 60, 275, 90);\r\n  line (315, 60, 315, 90);\r\n  line (355, 60, 355, 90);\r\n  line (395, 60, 395, 90);\r\n  line (435, 60, 435, 90);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PEDYz.gif","title":"Snapping Value Bar","body":"<p>Use the <a href=\"https://processing.org/reference/mousePressed_.html\" rel=\"nofollow noreferrer\"><code>mousePressed()</code></a> and move the slider to the next line when the button is pressed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void mousePressed() {\n    if (mouseX &gt; bx-boxSize &amp;&amp; mouseX &lt; bx+boxSize &amp;&amp; \n        mouseY &gt; by-boxSize &amp;&amp; mouseY &lt; by+boxSize) {  \n        if (x &gt; 75) {\n            x = ((x+39 - 75) / 40) * 40 + 75;\n            x -= 40;\n        }\n    }\n    if (mouseX &gt; sbx-sboxSize &amp;&amp; mouseX &lt; sbx+sboxSize &amp;&amp; \n        mouseY &gt; sby-sboxSize &amp;&amp; mouseY &lt; sby+sboxSize) {\n        if (x &lt; 475) {\n            x = ((x - 75) / 40) * 40 + 75;\n            x += 40;\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>Complete example:</p>\n<p><a href=\"https://i.stack.imgur.com/PEDYz.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PEDYz.gif\" alt=\"\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>int x=75;\nint lsW=17;\nint lsH=50;\nfloat bx =17;\nfloat by = 25;\nint boxSize = 50;\nfloat xOffset = 0.0; \nfloat yOffset = 0.0;\nfloat sbx = 483;\nfloat sby = 25;\nint sboxSize = 50;\nfloat sxOffset = 0.0; \nfloat syOffset = 0.0;\n\nvoid setup() {\n  size(550,300);\n}\n\nvoid mousePressed() {\n    if (mouseX &gt; bx-boxSize &amp;&amp; mouseX &lt; bx+boxSize &amp;&amp; \n        mouseY &gt; by-boxSize &amp;&amp; mouseY &lt; by+boxSize) {  \n        if (x &gt; 75) {\n            x = ((x+39 - 75) / 40) * 40 + 75;\n            x -= 40;\n        }\n    }\n    if (mouseX &gt; sbx-sboxSize &amp;&amp; mouseX &lt; sbx+sboxSize &amp;&amp; \n        mouseY &gt; sby-sboxSize &amp;&amp; mouseY &lt; sby+sboxSize) {\n        if (x &lt; 475) {\n            x = ((x - 75) / 40) * 40 + 75;\n            x += 40;\n        }\n    }\n}\n\n\nvoid draw() {\n  background(0);\n  fill (100);\n  rect (75, 25, 400, 50); //the slider track\n  \n  if(mousePressed) {\n  if (mouseX &gt;=75 &amp;&amp; mouseX &lt;= 475) //mousepress for the slider track\n    {x=mouseX;}\n    }\n    \n  float value = map(x, 75, 475, 0, 100);\n\n  fill(255);\n  rect (x, 20, 3, 60); //the slider thumb, positioned at x}\n  fill (100);\n\n  if (mouseX &gt; bx-boxSize &amp;&amp; mouseX &lt; bx+boxSize &amp;&amp; \n      mouseY &gt; by-boxSize &amp;&amp; mouseY &lt; by+boxSize) {\n      fill(255);\n  }\n  \n  rect(bx, by, boxSize, boxSize);\n  fill(10);\n  triangle(30, 50, 50, 40, 50, 60);\n  \n  fill(100);\n  if (mouseX &gt; sbx-sboxSize &amp;&amp; mouseX &lt; sbx+sboxSize &amp;&amp; \n      mouseY &gt; sby-sboxSize &amp;&amp; mouseY &lt; sby+sboxSize){\n      fill(255);\n  }\n  \n  \n  rect(483,25,50,50);\n  fill(10);\n  triangle(520, 50, 500, 40, 500, 60);\n  \n  println(value);\n  \n\n  line (115, 60, 115, 90);\n  line (155, 60, 155, 90);\n  line (195, 60, 195, 90);\n  line (235, 60, 235, 90);\n  line (275, 60, 275, 90);\n  line (315, 60, 315, 90);\n  line (355, 60, 355, 90);\n  line (395, 60, 395, 90);\n  line (435, 60, 435, 90);\n}\n</code></pre>\n"}],"owner":{"display_name":"user19171705"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653231864,"creation_date":1653193963,"question_id":72334829,"body_markdown":"I am working on my university project and came across an issue. I am creating a slider in Processing that changes value to 0-100. And I want to it to snap into values of 10 (10,20,30...) using the button I created. Here&#39;s how it looks:\r\n\r\n[![a left arrow square gray button, a slider with a white handle and gray background and a right arrow square gray button on a black background. the slider background has 9 black vertical bars, almost half the height of the slider which represent slider ticks to snap to][1]][1]\r\n\r\n\r\nI am sorry if my code looks messy, I am a beginner.\r\nHere is my code:\r\n\r\n    int x=75;\r\n    int lsW=17;\r\n    int lsH=50;\r\n    float bx =17;\r\n    float by = 25;\r\n    int boxSize = 50;\r\n    float xOffset = 0.0; \r\n    float yOffset = 0.0;\r\n    float sbx = 483;\r\n    float sby = 25;\r\n    int sboxSize = 50;\r\n    float sxOffset = 0.0; \r\n    float syOffset = 0.0;\r\n    \r\n    void setup() {\r\n      size(550,300);\r\n    }\r\n    \r\n    void draw() {\r\n      background(0);\r\n      fill (100);\r\n      rect (75, 25, 400, 50); //the slider track\r\n      \r\n      if(mousePressed) {\r\n      if (mouseX &gt;=75 &amp;&amp; mouseX &lt;= 475) //mousepress for the slider track\r\n        {x=mouseX;}\r\n        }\r\n        \r\n      float value = map(x, 75, 475, 0, 100);\r\n    \r\n      fill(255);\r\n      rect (x, 20, 3, 60); //the slider thumb, positioned at x}\r\n      fill (100);\r\n    \r\n      if(mousePressed){\r\n      if (mouseX &gt; bx-boxSize &amp;&amp; mouseX &lt; bx+boxSize &amp;&amp; \r\n          mouseY &gt; by-boxSize &amp;&amp; mouseY &lt; by+boxSize){\r\n          if(x &lt;=75){\r\n        x=76;}\r\n        fill(255);\r\n          if(x &gt;=475){\r\n          x= x-40;\r\n          }else if (x &gt;= 435){\r\n          x = x-40;\r\n          }  \r\n          }\r\n          }\r\n      \r\n      rect(bx, by, boxSize, boxSize);\r\n      fill(10);\r\n      triangle(30, 50, 50, 40, 50, 60);\r\n      \r\n      fill(100);\r\n      \r\n      if(mousePressed){\r\n      if (mouseX &gt; sbx-sboxSize &amp;&amp; mouseX &lt; sbx+sboxSize &amp;&amp; \r\n          mouseY &gt; sby-sboxSize &amp;&amp; mouseY &lt; sby+sboxSize){\r\n            \r\n      if(x &gt;= 475){\r\n        x=474;}      \r\n            \r\n        fill(255);\r\n        x++;\r\n          }\r\n      }\r\n      \r\n      \r\n      rect(483,25,50,50);\r\n      fill(10);\r\n      triangle(520, 50, 500, 40, 500, 60);\r\n      \r\n      println(value);\r\n      \r\n    \r\n      line (115, 60, 115, 90);\r\n      line (155, 60, 155, 90);\r\n      line (195, 60, 195, 90);\r\n      line (235, 60, 235, 90);\r\n      line (275, 60, 275, 90);\r\n      line (315, 60, 315, 90);\r\n      line (355, 60, 355, 90);\r\n      line (395, 60, 395, 90);\r\n      line (435, 60, 435, 90);\r\n    }\r\n\r\nI started trying to figure out how to make it go from 100 to 90 to 80 and so on. But I came across a problem wherein if I press the button, it goes to 80 instead of it stopping to 90 first. I am assuming this is cause by my `else if (x &gt;= 435){x = x-40;` statement. But I can&#39;t seem to figure out a way to fix this issue.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QlTpM.png","title":"Snapping Value Bar","body":"<p>I am working on my university project and came across an issue. I am creating a slider in Processing that changes value to 0-100. And I want to it to snap into values of 10 (10,20,30...) using the button I created. Here's how it looks:</p>\n<p><a href=\"https://i.stack.imgur.com/QlTpM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QlTpM.png\" alt=\"a left arrow square gray button, a slider with a white handle and gray background and a right arrow square gray button on a black background. the slider background has 9 black vertical bars, almost half the height of the slider which represent slider ticks to snap to\" /></a></p>\n<p>I am sorry if my code looks messy, I am a beginner.\nHere is my code:</p>\n<pre><code>int x=75;\nint lsW=17;\nint lsH=50;\nfloat bx =17;\nfloat by = 25;\nint boxSize = 50;\nfloat xOffset = 0.0; \nfloat yOffset = 0.0;\nfloat sbx = 483;\nfloat sby = 25;\nint sboxSize = 50;\nfloat sxOffset = 0.0; \nfloat syOffset = 0.0;\n\nvoid setup() {\n  size(550,300);\n}\n\nvoid draw() {\n  background(0);\n  fill (100);\n  rect (75, 25, 400, 50); //the slider track\n  \n  if(mousePressed) {\n  if (mouseX &gt;=75 &amp;&amp; mouseX &lt;= 475) //mousepress for the slider track\n    {x=mouseX;}\n    }\n    \n  float value = map(x, 75, 475, 0, 100);\n\n  fill(255);\n  rect (x, 20, 3, 60); //the slider thumb, positioned at x}\n  fill (100);\n\n  if(mousePressed){\n  if (mouseX &gt; bx-boxSize &amp;&amp; mouseX &lt; bx+boxSize &amp;&amp; \n      mouseY &gt; by-boxSize &amp;&amp; mouseY &lt; by+boxSize){\n      if(x &lt;=75){\n    x=76;}\n    fill(255);\n      if(x &gt;=475){\n      x= x-40;\n      }else if (x &gt;= 435){\n      x = x-40;\n      }  \n      }\n      }\n  \n  rect(bx, by, boxSize, boxSize);\n  fill(10);\n  triangle(30, 50, 50, 40, 50, 60);\n  \n  fill(100);\n  \n  if(mousePressed){\n  if (mouseX &gt; sbx-sboxSize &amp;&amp; mouseX &lt; sbx+sboxSize &amp;&amp; \n      mouseY &gt; sby-sboxSize &amp;&amp; mouseY &lt; sby+sboxSize){\n        \n  if(x &gt;= 475){\n    x=474;}      \n        \n    fill(255);\n    x++;\n      }\n  }\n  \n  \n  rect(483,25,50,50);\n  fill(10);\n  triangle(520, 50, 500, 40, 500, 60);\n  \n  println(value);\n  \n\n  line (115, 60, 115, 90);\n  line (155, 60, 155, 90);\n  line (195, 60, 195, 90);\n  line (235, 60, 235, 90);\n  line (275, 60, 275, 90);\n  line (315, 60, 315, 90);\n  line (355, 60, 355, 90);\n  line (395, 60, 395, 90);\n  line (435, 60, 435, 90);\n}\n</code></pre>\n<p>I started trying to figure out how to make it go from 100 to 90 to 80 and so on. But I came across a problem wherein if I press the button, it goes to 80 instead of it stopping to 90 first. I am assuming this is cause by my <code>else if (x &gt;= 435){x = x-40;</code> statement. But I can't seem to figure out a way to fix this issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":81168,"reputation":234336,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":0,"creation_date":1653182211,"post_id":72334183,"comment_id":127788230,"body_markdown":"No, there is no such function. You would have to write one. This is commonly called &quot;throttling&quot; or &quot;debouncing&quot;, though they&#39;re technically slightly different things.","body":"No, there is no such function. You would have to write one. This is commonly called &quot;throttling&quot; or &quot;debouncing&quot;, though they&#39;re technically slightly different things."},{"owner":{"account_id":12620266,"reputation":75,"user_id":9176046,"display_name":"FlatBoulders"},"score":0,"creation_date":1653182254,"post_id":72334183,"comment_id":127788233,"body_markdown":"I know there is not a method like that. However, is there anything that I can write that can replicate that method?","body":"I know there is not a method like that. However, is there anything that I can write that can replicate that method?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1653182318,"post_id":72334183,"comment_id":127788238,"body_markdown":"Make a field of the class that stores the time when the method was last run.  Update that at the end of the method, and check it at the beginning of the method.","body":"Make a field of the class that stores the time when the method was last run.  Update that at the end of the method, and check it at the beginning of the method."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1653182405,"post_id":72334183,"comment_id":127788243,"body_markdown":"Sure, use `System.nanoTime()` to get a capture of &quot;now&quot;, remember that as a field and when you run it again, compare it to that time. If its passed the threshold, let it pass and update the field with the time. Use the `java.time` API (such as `Instant` and `Duration`) for nicer and more readable methods that ultimately achieve the same.","body":"Sure, use <code>System.nanoTime()</code> to get a capture of &quot;now&quot;, remember that as a field and when you run it again, compare it to that time. If its passed the threshold, let it pass and update the field with the time. Use the <code>java.time</code> API (such as <code>Instant</code> and <code>Duration</code>) for nicer and more readable methods that ultimately achieve the same."},{"owner":{"account_id":1381171,"reputation":7648,"user_id":1314132,"accept_rate":100,"display_name":"Sean Mickey"},"score":0,"creation_date":1653189295,"post_id":72334183,"comment_id":127788761,"body_markdown":"Does your solution have to return a `boolean`, or  a `yes/no` response, in order to meet your requirements? For example, you could apply the `Observer` design pattern, allow the `tooLong()` callers to register as interested parties, and then notify them when you&#39;re good to go. It&#39;s cleaner and avoids repeated polling  calls to check availability. From another perspective, could you hold (block) calls on `tooLong()`, and respond when ready? A bit more detail about your specific scenario and constraints will make it easier to help you find a good solution that meets your needs.","body":"Does your solution have to return a <code>boolean</code>, or  a <code>yes&#47;no</code> response, in order to meet your requirements? For example, you could apply the <code>Observer</code> design pattern, allow the <code>tooLong()</code> callers to register as interested parties, and then notify them when you&#39;re good to go. It&#39;s cleaner and avoids repeated polling  calls to check availability. From another perspective, could you hold (block) calls on <code>tooLong()</code>, and respond when ready? A bit more detail about your specific scenario and constraints will make it easier to help you find a good solution that meets your needs."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653231621,"creation_date":1653231621,"answer_id":72338711,"question_id":72334183,"body_markdown":"There is no built-in function for this, both because it’s uncommon, and because it’s easy to implement oneself:\r\n\r\n    private static final long MIN_COOLDOWN = Duration.ofMinutes(5).toMillis();\r\n\r\n    private long lastCallTime;\r\n\r\n    public boolean tooLong(int n) {\r\n        long now = System.currentTimeMillis();\r\n        if (now - lastCallTime &lt; MIN_COOLDOWN) {\r\n            return false;\r\n        }\r\n\r\n        lastCallTime = now;\r\n\r\n        // Actual method logic goes here.\r\n\r\n        return true;\r\n    }\r\n","title":"Is there a way to block a method running if it has been a short period of time after it was last run?","body":"<p>There is no built-in function for this, both because it’s uncommon, and because it’s easy to implement oneself:</p>\n<pre><code>private static final long MIN_COOLDOWN = Duration.ofMinutes(5).toMillis();\n\nprivate long lastCallTime;\n\npublic boolean tooLong(int n) {\n    long now = System.currentTimeMillis();\n    if (now - lastCallTime &lt; MIN_COOLDOWN) {\n        return false;\n    }\n\n    lastCallTime = now;\n\n    // Actual method logic goes here.\n\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":12620266,"reputation":75,"user_id":9176046,"display_name":"FlatBoulders"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72338711,"answer_count":1,"score":0,"last_activity_date":1653231621,"creation_date":1653182037,"question_id":72334183,"body_markdown":"I have a method that I only want to run if it hasn&#39;t been ran in the last `n` milliseconds.\r\n\r\nFor example:\r\n```java\r\npublic boolean tooLong(int n) {\r\n    int timeSince = timeSinceLastExecution(tooLong);\r\n    //Returns an integer of how long it has been since the last time the tooLong method has been executed\r\n    \r\n    if (timeSince &gt; n)\r\n        return true;\r\n    return false;\r\n}\r\n```\r\nIs there anything that can replace `timeSinceLastExecutionMethod` that can return a similar result?","title":"Is there a way to block a method running if it has been a short period of time after it was last run?","body":"<p>I have a method that I only want to run if it hasn't been ran in the last <code>n</code> milliseconds.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean tooLong(int n) {\n    int timeSince = timeSinceLastExecution(tooLong);\n    //Returns an integer of how long it has been since the last time the tooLong method has been executed\n    \n    if (timeSince &gt; n)\n        return true;\n    return false;\n}\n</code></pre>\n<p>Is there anything that can replace <code>timeSinceLastExecutionMethod</code> that can return a similar result?</p>\n"},{"tags":["java","inheritance","overriding","return-type"],"answers":[{"tags":[],"owner":{"account_id":69592,"reputation":53841,"user_id":202375,"accept_rate":62,"display_name":"Saurabh Gokhale"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1490026405,"creation_date":1305536412,"answer_id":6015073,"question_id":6015055,"body_markdown":"This is because we cannot have two methods in classes that has the same name but different return types. \r\n\r\nThe sub class cannot declare a method with the same name of an already existing method in the super class with a different return type. \r\n\r\nHowever, the subclass can declare a method with the same signature as in super class.\r\nWe call this &quot;Overriding&quot;.\r\n\r\nYou need to have this,\r\n \r\n    class A {\r\n        public void eat() { }\r\n    }\r\n    \r\n    class B extends A {\r\n        public void eat() { }\r\n    }\r\nOR\r\n\r\n    class A {\r\n        public boolean eat() { \r\n            // return something...\r\n        }\r\n    }\r\n    \r\n    class B extends A {\r\n        public boolean eat() { \r\n            // return something...\r\n        }\r\n    }\r\n\r\nA good practice is marking overwritten methods by annotation `@Override`:\r\n\r\n    class A {\r\n        public void eat() { }\r\n    }\r\n    \r\n    class B extends A {\r\n        @Override\r\n        public void eat() { }\r\n    }\r\n","title":"Java - Error : return type is incompatible","body":"<p>This is because we cannot have two methods in classes that has the same name but different return types. </p>\n\n<p>The sub class cannot declare a method with the same name of an already existing method in the super class with a different return type. </p>\n\n<p>However, the subclass can declare a method with the same signature as in super class.\nWe call this \"Overriding\".</p>\n\n<p>You need to have this,</p>\n\n<pre><code>class A {\n    public void eat() { }\n}\n\nclass B extends A {\n    public void eat() { }\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>class A {\n    public boolean eat() { \n        // return something...\n    }\n}\n\nclass B extends A {\n    public boolean eat() { \n        // return something...\n    }\n}\n</code></pre>\n\n<p>A good practice is marking overwritten methods by annotation <code>@Override</code>:</p>\n\n<pre><code>class A {\n    public void eat() { }\n}\n\nclass B extends A {\n    @Override\n    public void eat() { }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":54377,"reputation":13404,"user_id":162684,"accept_rate":100,"display_name":"MarcoS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305536499,"creation_date":1305536499,"answer_id":6015095,"question_id":6015055,"body_markdown":"if `B` extends `A` then you can override methods (like `eat`), but you can&#39;t change their signatures. So, your `B` class must be\r\n\r\n     class B extends A {\r\n            public void eat() { }\r\n     }\r\n\r\n","title":"Java - Error : return type is incompatible","body":"<p>if <code>B</code> extends <code>A</code> then you can override methods (like <code>eat</code>), but you can't change their signatures. So, your <code>B</code> class must be</p>\n\n<pre><code> class B extends A {\n        public void eat() { }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":159531,"reputation":16392,"user_id":378979,"accept_rate":96,"display_name":"Vincent Cantin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305536568,"creation_date":1305536568,"answer_id":6015113,"question_id":6015055,"body_markdown":"`B extends A` should be interpreted as B is a A.\r\n\r\nIf A&#39;s method doesn&#39;t return anything, B should do the same.","title":"Java - Error : return type is incompatible","body":"<p><code>B extends A</code> should be interpreted as B is a A.</p>\n\n<p>If A's method doesn't return anything, B should do the same.</p>\n"},{"tags":[],"owner":{"account_id":65284,"reputation":91155,"user_id":192247,"accept_rate":81,"display_name":"missingfaktor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306002253,"creation_date":1306002253,"answer_id":6083602,"question_id":6015055,"body_markdown":"When a method in subclass has same name and arguments (their types, number, and order) as the method in superclass then the method in subclass overrides the one in superclass.\r\n\r\nNow for the overriding to be allowed the return type of the method in subclass must comply with that of the method in superclass. This is possible only if the return type of the method in subclass is **covariant** with that of the method in superclass.\r\n\r\nSince, `boolean &lt;/: void` (read: `boolean` isn&#39;t subtype of `void`), compiler raises the &quot;return type incompatible&quot; error.","title":"Java - Error : return type is incompatible","body":"<p>When a method in subclass has same name and arguments (their types, number, and order) as the method in superclass then the method in subclass overrides the one in superclass.</p>\n\n<p>Now for the overriding to be allowed the return type of the method in subclass must comply with that of the method in superclass. This is possible only if the return type of the method in subclass is <strong>covariant</strong> with that of the method in superclass.</p>\n\n<p>Since, <code>boolean &lt;/: void</code> (read: <code>boolean</code> isn't subtype of <code>void</code>), compiler raises the \"return type incompatible\" error.</p>\n"},{"tags":[],"owner":{"account_id":3317025,"reputation":1954,"user_id":2789764,"accept_rate":92,"display_name":"Vivek Vermani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457299681,"creation_date":1401818559,"answer_id":24021976,"question_id":6015055,"body_markdown":"This is neither overloading nor overriding. We cannot overload on the return type and we cannot override with different different return types ( unless they are covariant returns wef Java 1.5 ).","title":"Java - Error : return type is incompatible","body":"<p>This is neither overloading nor overriding. We cannot overload on the return type and we cannot override with different different return types ( unless they are covariant returns wef Java 1.5 ).</p>\n"},{"tags":[],"owner":{"account_id":14399380,"reputation":245,"user_id":10401602,"display_name":"Md. Samim hossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653231145,"creation_date":1653231145,"answer_id":72338649,"question_id":6015055,"body_markdown":"This shows error , because we can not create two same methods but different return type in same class. If in parent class contain any method, we can&#39;t create same method name with changing the return type in sub class. Now the question arise why we can&#39;t create this. we should discuss about following code.\r\n\r\n    class A {\r\n        public void eat() { }\r\n    }\r\n\r\n    class B extends A {\r\n        public boolean eat() { }\r\n    }\r\n\r\n    Class MainClass{ \r\n        public static void main(String[] args){\r\n    \r\n        A a = new B();\r\n        a.eat();\r\n       }\r\n   }\r\n\r\nIt will shows an error, because a.eat(); will be confused which method JVM should call. and it will return a runtime error. Thats why to overcome runtime error, it returns a compile time error.\r\n\r\n\r\n\r\n","title":"Java - Error : return type is incompatible","body":"<p>This shows error , because we can not create two same methods but different return type in same class. If in parent class contain any method, we can't create same method name with changing the return type in sub class. Now the question arise why we can't create this. we should discuss about following code.</p>\n<pre><code>class A {\n    public void eat() { }\n}\n\nclass B extends A {\n    public boolean eat() { }\n}\n\nClass MainClass{ \n    public static void main(String[] args){\n\n    A a = new B();\n    a.eat();\n   }\n</code></pre>\n<p>}</p>\n<p>It will shows an error, because a.eat(); will be confused which method JVM should call. and it will return a runtime error. Thats why to overcome runtime error, it returns a compile time error.</p>\n"}],"owner":{"account_id":752809,"reputation":101,"user_id":755385,"display_name":"mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29632,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":6015073,"answer_count":6,"score":9,"last_activity_date":1653231145,"creation_date":1305536323,"question_id":6015055,"body_markdown":"I&#39;m learning java. I was trying to run the code, where I got this error: `return type is incompatible`.\r\nPart of code where it showed me error.\r\n\r\n    class A {\r\n        public void eat() { }\r\n    }\r\n\r\n    class B extends A {\r\n        public boolean eat() { }\r\n    }\r\n\r\nWhy it is happening?","title":"Java - Error : return type is incompatible","body":"<p>I'm learning java. I was trying to run the code, where I got this error: <code>return type is incompatible</code>.\nPart of code where it showed me error.</p>\n\n<pre><code>class A {\n    public void eat() { }\n}\n\nclass B extends A {\n    public boolean eat() { }\n}\n</code></pre>\n\n<p>Why it is happening?</p>\n"},{"tags":["java","gis","anylogic"],"comments":[{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1653228781,"post_id":72338315,"comment_id":127795064,"body_markdown":"Please note that Java and JavaScript are not the same. So what is it you are looking for: Java or JavaScript? Please only add the appropriate tag. In both language you could nevertheless use `Math.random() &lt;= probability` to get `true` or `false` for a given probability","body":"Please note that Java and JavaScript are not the same. So what is it you are looking for: Java or JavaScript? Please only add the appropriate tag. In both language you could nevertheless use <code>Math.random() &lt;= probability</code> to get <code>true</code> or <code>false</code> for a given probability"},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1653229113,"post_id":72338315,"comment_id":127795134,"body_markdown":"So `Math.random() &lt;= 0.2` will return `true` in 20% of the invocations.","body":"So <code>Math.random() &lt;= 0.2</code> will return <code>true</code> in 20% of the invocations."},{"owner":{"account_id":25358435,"reputation":15,"user_id":19174162,"display_name":"Alfonso"},"score":0,"creation_date":1653229746,"post_id":72338315,"comment_id":127795272,"body_markdown":"Thanks for the answer. I&#39;m using Java language in Anylogic, I typed javascript by mistake in tags. However, there are more regions which have same probability, for example: &quot;Region A&quot; : 15%, &quot;Region B&quot; : 15%. If I type &quot;Math.random() &lt;= 0.15&quot; how can I know which region is choosen for the earthquake epicenter? There are 10 regions form which choose earthquake epicenter. Thanks.","body":"Thanks for the answer. I&#39;m using Java language in Anylogic, I typed javascript by mistake in tags. However, there are more regions which have same probability, for example: &quot;Region A&quot; : 15%, &quot;Region B&quot; : 15%. If I type &quot;Math.random() &lt;= 0.15&quot; how can I know which region is choosen for the earthquake epicenter? There are 10 regions form which choose earthquake epicenter. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653231084,"creation_date":1653230239,"answer_id":72338545,"question_id":72338315,"body_markdown":"`Math.random()` will return a pseudorandom number with (approximately) even distribution between 0 (inclusive) and 1 (exclusive). Therefore you can use `Math.random() &lt; probability` to get `true` return if an event with the given probability should happen and `false` if not.\r\n\r\nHere an example which also calculates the actual amount of times an earthquake was spawned to show that the probability is actually what you expect.    \r\n```java\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        var trueCounter = 0;\r\n        var falseCounter = 0;\r\n        var tries = 10000;\r\n        for (int i = 0; i &lt; tries; i++){\r\n            var spawnEarthquake = shouldSpawnEarthquake(0.2f);\r\n            if(spawnEarthquake) trueCounter++;\r\n            else falseCounter++;\r\n        }\r\n        System.out.printf(&quot;&quot;&quot;\r\n                %s tries:\r\n                %s times an earthquake was spawned (Ratio: %s)\r\n                %s times no earthquake was spawned (Ratio: %s)\r\n                &quot;&quot;&quot;, tries, trueCounter, (double)trueCounter / (double) tries, falseCounter, (double)falseCounter / (double) tries);\r\n    }\r\n    public static boolean shouldSpawnEarthquake(float probability){\r\n        return Math.random() &lt; probability;\r\n    }\r\n\r\n}\r\n```\r\n\r\nExpected result:\r\n```\r\n10000 tries:\r\n1987 times an earthquake was spawned (Ratio: 0.1987)\r\n8013 times no earthquake was spawned (Ratio: 0.8013)\r\n```\r\n&gt; Your results might obviously differ but should be in the same ballpark.\r\n\r\nYou would need to iterate over all your regions and apply the function for each region, because earthquakes are not mutual exclusive. If earthquakes would be mutual exclusive your model/ simulation is not very accurate. There is nothing that prevents two earthquakes from happening at the &quot;same time&quot; (at least to my knowledge), so you need to run this probability against all of the regions. You could of course also model something like an decreased probability for an earthquake when an earthquake happens nearby if something like this is actually the case. But that&#39;s up to you modelling it, I am no earthquake expert.\r\n\r\nHere a simple implementation that checks for an earthquake in a region once. Execute it multiple times to see that sometimes an earthquake will be spawned and sometimes, no earthquake will be spawned:\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Application {\r\n    \r\n    // A record for the region\r\n    // Each region as a name and an earthquake probability\r\n    record Region(String name, float earthquakeProbability){};\r\n\r\n    public static void main(String[] args) {\r\n        var myRegions = List.of(\r\n                new Region(&quot;Campania&quot;, 0.2f),\r\n                new Region(&quot;Calabria&quot;, 0.15f)\r\n        );\r\n\r\n        myRegions.forEach(region -&gt; {\r\n            var spawnEarthquake = shouldSpawnEarthquake(region.earthquakeProbability);\r\n            if(spawnEarthquake) System.out.printf(&quot;An earthquake occurred in %s\\n&quot;, region.name());\r\n        });\r\n    }\r\n    public static boolean shouldSpawnEarthquake(float probability){\r\n        return Math.random() &lt; probability;\r\n    }\r\n}\r\n```","title":"How can I select a random region in which run an event?","body":"<p><code>Math.random()</code> will return a pseudorandom number with (approximately) even distribution between 0 (inclusive) and 1 (exclusive). Therefore you can use <code>Math.random() &lt; probability</code> to get <code>true</code> return if an event with the given probability should happen and <code>false</code> if not.</p>\n<p>Here an example which also calculates the actual amount of times an earthquake was spawned to show that the probability is actually what you expect.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Application {\n\n    public static void main(String[] args) {\n        var trueCounter = 0;\n        var falseCounter = 0;\n        var tries = 10000;\n        for (int i = 0; i &lt; tries; i++){\n            var spawnEarthquake = shouldSpawnEarthquake(0.2f);\n            if(spawnEarthquake) trueCounter++;\n            else falseCounter++;\n        }\n        System.out.printf(&quot;&quot;&quot;\n                %s tries:\n                %s times an earthquake was spawned (Ratio: %s)\n                %s times no earthquake was spawned (Ratio: %s)\n                &quot;&quot;&quot;, tries, trueCounter, (double)trueCounter / (double) tries, falseCounter, (double)falseCounter / (double) tries);\n    }\n    public static boolean shouldSpawnEarthquake(float probability){\n        return Math.random() &lt; probability;\n    }\n\n}\n</code></pre>\n<p>Expected result:</p>\n<pre><code>10000 tries:\n1987 times an earthquake was spawned (Ratio: 0.1987)\n8013 times no earthquake was spawned (Ratio: 0.8013)\n</code></pre>\n<blockquote>\n<p>Your results might obviously differ but should be in the same ballpark.</p>\n</blockquote>\n<p>You would need to iterate over all your regions and apply the function for each region, because earthquakes are not mutual exclusive. If earthquakes would be mutual exclusive your model/ simulation is not very accurate. There is nothing that prevents two earthquakes from happening at the &quot;same time&quot; (at least to my knowledge), so you need to run this probability against all of the regions. You could of course also model something like an decreased probability for an earthquake when an earthquake happens nearby if something like this is actually the case. But that's up to you modelling it, I am no earthquake expert.</p>\n<p>Here a simple implementation that checks for an earthquake in a region once. Execute it multiple times to see that sometimes an earthquake will be spawned and sometimes, no earthquake will be spawned:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Application {\n    \n    // A record for the region\n    // Each region as a name and an earthquake probability\n    record Region(String name, float earthquakeProbability){};\n\n    public static void main(String[] args) {\n        var myRegions = List.of(\n                new Region(&quot;Campania&quot;, 0.2f),\n                new Region(&quot;Calabria&quot;, 0.15f)\n        );\n\n        myRegions.forEach(region -&gt; {\n            var spawnEarthquake = shouldSpawnEarthquake(region.earthquakeProbability);\n            if(spawnEarthquake) System.out.printf(&quot;An earthquake occurred in %s\\n&quot;, region.name());\n        });\n    }\n    public static boolean shouldSpawnEarthquake(float probability){\n        return Math.random() &lt; probability;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25358435,"reputation":15,"user_id":19174162,"display_name":"Alfonso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653231084,"creation_date":1653228385,"question_id":72338315,"body_markdown":"I&#39;m creating a model in which I have to simulate an eartquake. In particular its position would be random within multiple region which I have created on my GIS map. I need to run model and after a few moments, model have to generate a random position of epicenter in South Italy, in one of regions which I created. Moreover, these regions have different probabilities to run an earthquake (for example Campania 20%, Calabria 15%, etc.). How can improve it? I don&#39;t know java language as well as, could you guide me on it? Thanks a lot, regards. I&#39;ve uploaded a pic of my Anylogic model. Thanks.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/evOrA.png","title":"How can I select a random region in which run an event?","body":"<p>I'm creating a model in which I have to simulate an eartquake. In particular its position would be random within multiple region which I have created on my GIS map. I need to run model and after a few moments, model have to generate a random position of epicenter in South Italy, in one of regions which I created. Moreover, these regions have different probabilities to run an earthquake (for example Campania 20%, Calabria 15%, etc.). How can improve it? I don't know java language as well as, could you guide me on it? Thanks a lot, regards. I've uploaded a pic of my Anylogic model. Thanks.</p>\n<p><img src=\"https://i.stack.imgur.com/evOrA.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":1,"creation_date":1345176577,"post_id":11999624,"comment_id":16004038,"body_markdown":"The second `println` is outside of the scope of the `for` and executes after the loop completes.","body":"The second <code>println</code> is outside of the scope of the <code>for</code> and executes after the loop completes."},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1345177658,"post_id":11999624,"comment_id":16004226,"body_markdown":"see my answer which hopefully addresses what you&#39;ve asked","body":"see my answer which hopefully addresses what you&#39;ve asked"}],"answers":[{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1345176881,"creation_date":1345176504,"answer_id":11999634,"question_id":11999624,"body_markdown":"    First x=0\r\n     Then if (x &lt; 2) condition satisfies (again no braces, so only one statement executes)\r\n       Prints &quot;hello&quot;\r\n    for loop continues\r\n    x=1\r\n     Then if (x &lt; 2) condition satisfies (again no braces, so only one statement executes)\r\n       Prints &quot;hello&quot;\r\n      for loop continues\r\n    x=2\r\n     Then if (x &lt; 2) condition NOT satisfies, so if statement won&#39; execute, moves to print &quot;world&quot;\r\n       Prints &quot;world&quot;\r\n\r\nFirst snippet will be treated like:\r\n\r\n    for(int x = 0; x &lt; 3; x++){\r\n            if(x &lt; 2) {\r\n                System.out.println(&quot;hello&quot;);\r\n            }\r\n    }\r\n                System.out.println(&quot;world&quot;);","title":"Scope of a &#39;for&#39; loop","body":"<pre><code>First x=0\n Then if (x &lt; 2) condition satisfies (again no braces, so only one statement executes)\n   Prints \"hello\"\nfor loop continues\nx=1\n Then if (x &lt; 2) condition satisfies (again no braces, so only one statement executes)\n   Prints \"hello\"\n  for loop continues\nx=2\n Then if (x &lt; 2) condition NOT satisfies, so if statement won' execute, moves to print \"world\"\n   Prints \"world\"\n</code></pre>\n\n<p>First snippet will be treated like:</p>\n\n<pre><code>for(int x = 0; x &lt; 3; x++){\n        if(x &lt; 2) {\n            System.out.println(\"hello\");\n        }\n}\n            System.out.println(\"world\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":435935,"reputation":56796,"user_id":1723893,"accept_rate":100,"display_name":"NullPoiиteя"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345180752,"creation_date":1345176512,"answer_id":11999635,"question_id":11999624,"body_markdown":"The one line after the loop ,condition is considered in the body of   loop ,condition you did not use the `{}` so the only `if` is consider in the for body  \r\n\r\n       for(int x = 0; x &lt; 3; x++)\r\n            if(x &lt; 2) \r\n                System.out.println(&quot;hello&quot;);\r\n                System.out.println(&quot;world&quot;);\r\n\r\ngives the output `hello hello world` because \r\n\r\nthe only 1 line after the if statement is consider in the for loop when the loop end the `world` print\r\n\r\nits like \r\n\r\n\r\n\r\n    for(int x = 0; x &lt; 3; x++)\r\n          {  if(x &lt; 2) \r\n                System.out.println(&quot;hello&quot;);\r\n           }\r\n         System.out.println(&quot;world&quot;);\r\n\r\nand in the \r\n\r\n     for(int x = 0; x &lt; 3; x++)\r\n            if(x &lt; 2) { \r\n                System.out.println(&quot;hello&quot;);\r\n                System.out.println(&quot;world&quot;);\r\n            }\r\n\r\nthe both     `System.out.println(&quot;hello&quot;);   System.out.println(&quot;world&quot;);` consider in the for loop\r\n\r\n","title":"Scope of a &#39;for&#39; loop","body":"<p>The one line after the loop ,condition is considered in the body of   loop ,condition you did not use the <code>{}</code> so the only <code>if</code> is consider in the for body  </p>\n\n<pre><code>   for(int x = 0; x &lt; 3; x++)\n        if(x &lt; 2) \n            System.out.println(\"hello\");\n            System.out.println(\"world\");\n</code></pre>\n\n<p>gives the output <code>hello hello world</code> because </p>\n\n<p>the only 1 line after the if statement is consider in the for loop when the loop end the <code>world</code> print</p>\n\n<p>its like </p>\n\n<pre><code>for(int x = 0; x &lt; 3; x++)\n      {  if(x &lt; 2) \n            System.out.println(\"hello\");\n       }\n     System.out.println(\"world\");\n</code></pre>\n\n<p>and in the </p>\n\n<pre><code> for(int x = 0; x &lt; 3; x++)\n        if(x &lt; 2) { \n            System.out.println(\"hello\");\n            System.out.println(\"world\");\n        }\n</code></pre>\n\n<p>the both     <code>System.out.println(\"hello\");   System.out.println(\"world\");</code> consider in the for loop</p>\n"},{"tags":[],"owner":{"account_id":62237,"reputation":14043,"user_id":185041,"accept_rate":87,"display_name":"Bharat Sinha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1345176524,"creation_date":1345176524,"answer_id":11999636,"question_id":11999624,"body_markdown":"See it like this...\r\n\r\n`for` and `if` have **control over next statement** or **next block enclosed in `{...}`**.\r\n\r\nIf `{}` are missing only next statement is considered as the body.\r\n\r\nIn first case, i have corrected indentation so that body part is clearly visible.\r\n\r\n    for(int x = 0; x &lt; 3; x++)  \r\n        if(x &lt; 2)   \r\n            System.out.println(&quot;hello&quot;);\r\n    System.out.println(&quot;world&quot;); \r\n","title":"Scope of a &#39;for&#39; loop","body":"<p>See it like this...</p>\n\n<p><code>for</code> and <code>if</code> have <strong>control over next statement</strong> or <strong>next block enclosed in <code>{...}</code></strong>.</p>\n\n<p>If <code>{}</code> are missing only next statement is considered as the body.</p>\n\n<p>In first case, i have corrected indentation so that body part is clearly visible.</p>\n\n<pre><code>for(int x = 0; x &lt; 3; x++)  \n    if(x &lt; 2)   \n        System.out.println(\"hello\");\nSystem.out.println(\"world\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":267427,"reputation":1501,"user_id":555605,"accept_rate":75,"display_name":"jaychapani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345176593,"creation_date":1345176593,"answer_id":11999645,"question_id":11999624,"body_markdown":"When you don&#39;t put `{}` only next line after the loop or conditional statement is considered as a part of its scope. ","title":"Scope of a &#39;for&#39; loop","body":"<p>When you don't put <code>{}</code> only next line after the loop or conditional statement is considered as a part of its scope. </p>\n"},{"tags":[],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345176910,"creation_date":1345176600,"answer_id":11999647,"question_id":11999624,"body_markdown":"It&#39;s doing the right thing. It prints &quot;hello&quot; for i = 0 and 1 and then for loop ends and &quot;world&quot; is printed.\r\n\r\nI think you are confused by the alignment, following is how the first one should look -\r\n\r\n    for(int x = 0; x &lt; 3; x++) {\r\n        if(x &lt; 2) {\r\n            System.out.println(&quot;hello&quot;);\r\n        }\r\n    }\r\n    System.out.println(&quot;world&quot;);\r\n\r\nAnd the second one -\r\n\r\n    for(int x = 0; x &lt; 3; x++) {\r\n        if(x &lt; 2) { \r\n            System.out.println(&quot;hello&quot;);\r\n            System.out.println(&quot;world&quot;);\r\n        }\r\n    }\r\n\r\nMore readable and easy to understand the logic.\r\n","title":"Scope of a &#39;for&#39; loop","body":"<p>It's doing the right thing. It prints \"hello\" for i = 0 and 1 and then for loop ends and \"world\" is printed.</p>\n\n<p>I think you are confused by the alignment, following is how the first one should look -</p>\n\n<pre><code>for(int x = 0; x &lt; 3; x++) {\n    if(x &lt; 2) {\n        System.out.println(\"hello\");\n    }\n}\nSystem.out.println(\"world\");\n</code></pre>\n\n<p>And the second one -</p>\n\n<pre><code>for(int x = 0; x &lt; 3; x++) {\n    if(x &lt; 2) { \n        System.out.println(\"hello\");\n        System.out.println(\"world\");\n    }\n}\n</code></pre>\n\n<p>More readable and easy to understand the logic.</p>\n"},{"tags":[],"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1345185378,"creation_date":1345176773,"answer_id":11999665,"question_id":11999624,"body_markdown":"You should read [Braceless if considered harmful](http://cafe.elharo.com/blogroll/braceless-if-considered-harmful/). This post was specifically made because of examples just like this; the confusion that brace-less control flow statements can leave you scratching your head for quite a while, especially with misleading indentation (such as in your example).\r\n\r\nThe code you pasted is equivalent to the following,\r\n\r\n    for (int x = 0; x &lt; 3; x++) {\r\n      if (x &lt; 2) {\r\n        System.out.println(&quot;hello&quot;);\r\n      }\r\n    }\r\n    /* outside of the for */\r\n    System.out.println(&quot;world&quot;);\r\n\r\nAs you can see, the loop iterates three times; the first two, it will print `&quot;hello&quot;`. After the loop completes, it will print `&quot;world&quot;`.\r\n___\r\nThe reason this works is clear in reading [Chapter 14 of the Java Language Specification](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html). In fact, it makes sense to think of *blocks* as statements, as per [&#167;14.5](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.5). \r\n\r\n&gt;     for (int x = 0; x &lt; 3; x++)\r\n       if (x &lt; 2) \r\n          System.out.println(&quot;hello&quot;);\r\n          System.out.println(&quot;world&quot;);\r\n\r\nLooking at the descriptions of [`if` (&#167;14.9)](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.9) and [__basic__ `for` (&#167;14.14.1)](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.1), we see both merely take a statement; in this case, we can see our `for` statement contains `if` statement, which itself encapsulates your `println(&quot;hello&quot;)` statement. Following the `for` statement, you then have your `println(&quot;world&quot;)` statement.\r\n\r\n&gt;     for (int x = 0; x &lt; 3; x++)\r\n        if (x &lt; 2) { \r\n          System.out.println(&quot;hello&quot;);\r\n          System.out.println(&quot;world&quot;);\r\n        }\r\n\r\nHere, we see the `for` statement body is the `if` statement, which encapsulates a *block* that contains __2__ statements, namely both your `println` statements. Note that this is indeed not the same as the former.\r\n\r\nHopefully this clears things up for you.","title":"Scope of a &#39;for&#39; loop","body":"<p>You should read <a href=\"http://cafe.elharo.com/blogroll/braceless-if-considered-harmful/\" rel=\"nofollow\">Braceless if considered harmful</a>. This post was specifically made because of examples just like this; the confusion that brace-less control flow statements can leave you scratching your head for quite a while, especially with misleading indentation (such as in your example).</p>\n\n<p>The code you pasted is equivalent to the following,</p>\n\n<pre><code>for (int x = 0; x &lt; 3; x++) {\n  if (x &lt; 2) {\n    System.out.println(\"hello\");\n  }\n}\n/* outside of the for */\nSystem.out.println(\"world\");\n</code></pre>\n\n<p>As you can see, the loop iterates three times; the first two, it will print <code>\"hello\"</code>. After the loop completes, it will print <code>\"world\"</code>.</p>\n\n<hr>\n\n<p>The reason this works is clear in reading <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html\" rel=\"nofollow\">Chapter 14 of the Java Language Specification</a>. In fact, it makes sense to think of <em>blocks</em> as statements, as per <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.5\" rel=\"nofollow\">§14.5</a>. </p>\n\n<blockquote>\n<pre><code>for (int x = 0; x &lt; 3; x++)\n   if (x &lt; 2) \n      System.out.println(\"hello\");\n      System.out.println(\"world\");\n</code></pre>\n</blockquote>\n\n<p>Looking at the descriptions of <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.9\" rel=\"nofollow\"><code>if</code> (§14.9)</a> and <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.1\" rel=\"nofollow\"><strong>basic</strong> <code>for</code> (§14.14.1)</a>, we see both merely take a statement; in this case, we can see our <code>for</code> statement contains <code>if</code> statement, which itself encapsulates your <code>println(\"hello\")</code> statement. Following the <code>for</code> statement, you then have your <code>println(\"world\")</code> statement.</p>\n\n<blockquote>\n<pre><code>for (int x = 0; x &lt; 3; x++)\n    if (x &lt; 2) { \n      System.out.println(\"hello\");\n      System.out.println(\"world\");\n    }\n</code></pre>\n</blockquote>\n\n<p>Here, we see the <code>for</code> statement body is the <code>if</code> statement, which encapsulates a <em>block</em> that contains <strong>2</strong> statements, namely both your <code>println</code> statements. Note that this is indeed not the same as the former.</p>\n\n<p>Hopefully this clears things up for you.</p>\n"}],"owner":{"account_id":1560370,"reputation":664,"user_id":1450359,"accept_rate":57,"display_name":"Surender Thakran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11999665,"answer_count":6,"score":0,"last_activity_date":1653230214,"creation_date":1345176391,"question_id":11999624,"body_markdown":"From what I know, the scope of a &#39;for&#39; loop, without a set of parentheses after it, is just one statement. Right?\r\n\r\nSo how come this code:\r\n\r\n        for(int x = 0; x &lt; 3; x++)\r\n            if(x &lt; 2)\r\n                System.out.println(&quot;hello&quot;);\r\n                System.out.println(&quot;world&quot;);\r\n\r\ngives the output:\r\n\r\n    hello\r\n    hello\r\n    world\r\n\r\nIs the statement in the `if` is also considered part of the *for* loop? Of course it is, but my question is: Why?\r\n\r\nDoes what actually is that that the scope is a block right after for statement because the above code when modified like this:\r\n\r\n        for(int x = 0; x &lt; 3; x++)\r\n            if(x &lt; 2) {\r\n                System.out.println(&quot;hello&quot;);\r\n                System.out.println(&quot;world&quot;);\r\n            }\r\n\r\ngives the output:\r\n\r\n    hello\r\n    world\r\n    hello\r\n    world\r\n\r\nMost of the answers are about explaining the flow control in the above code. I already know that. My question was about the rule of the *for* loop scope.\r\n\r\nIs the rule actually that: *the scope of an braceless `for` loop is the next block of statements immediately after it?*\r\n\r\n\r\n","title":"Scope of a &#39;for&#39; loop","body":"<p>From what I know, the scope of a 'for' loop, without a set of parentheses after it, is just one statement. Right?</p>\n<p>So how come this code:</p>\n<pre><code>    for(int x = 0; x &lt; 3; x++)\n        if(x &lt; 2)\n            System.out.println(&quot;hello&quot;);\n            System.out.println(&quot;world&quot;);\n</code></pre>\n<p>gives the output:</p>\n<pre><code>hello\nhello\nworld\n</code></pre>\n<p>Is the statement in the <code>if</code> is also considered part of the <em>for</em> loop? Of course it is, but my question is: Why?</p>\n<p>Does what actually is that that the scope is a block right after for statement because the above code when modified like this:</p>\n<pre><code>    for(int x = 0; x &lt; 3; x++)\n        if(x &lt; 2) {\n            System.out.println(&quot;hello&quot;);\n            System.out.println(&quot;world&quot;);\n        }\n</code></pre>\n<p>gives the output:</p>\n<pre><code>hello\nworld\nhello\nworld\n</code></pre>\n<p>Most of the answers are about explaining the flow control in the above code. I already know that. My question was about the rule of the <em>for</em> loop scope.</p>\n<p>Is the rule actually that: <em>the scope of an braceless <code>for</code> loop is the next block of statements immediately after it?</em></p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","hql"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1652695775,"post_id":72257348,"comment_id":127659898,"body_markdown":"It&#39;s a JPA metamodel class, that&#39;s generated by JPA, not written by you.","body":"It&#39;s a JPA metamodel class, that&#39;s generated by JPA, not written by you."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1652697062,"post_id":72257348,"comment_id":127660291,"body_markdown":"Any idea how I can configure the project to generate this class?","body":"Any idea how I can configure the project to generate this class?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1652697891,"post_id":72257348,"comment_id":127660552,"body_markdown":"You don&#39;t have any ideas? Even though I gave you keywords to Google for? I&#39;ll give you a link in one week if you haven&#39;t managed to find any information yourself before that (remember to ping me in one week if necessary).","body":"You don&#39;t have any ideas? Even though I gave you keywords to Google for? I&#39;ll give you a link in one week if you haven&#39;t managed to find any information yourself before that (remember to ping me in one week if necessary)."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1652812521,"post_id":72257348,"comment_id":127695613,"body_markdown":"My bad, it&#39;s actually [QueryDSL](https://stackoverflow.com/q/16662089/2541560), not JPA metamodel (which uses `Student_.class` naming).","body":"My bad, it&#39;s actually <a href=\"https://stackoverflow.com/q/16662089/2541560\">QueryDSL</a>, not JPA metamodel (which uses <code>Student_.class</code> naming)."}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653229817,"creation_date":1653229817,"answer_id":72338506,"question_id":72257348,"body_markdown":"The `Q` classes are typically generated by QueryDSL and the QueryDSL annotation processor tool.\r\n\r\nI am not as familiar with Gradle as I am with Maven, but the Gradle configuration looks fine to me. Just in case, see [this](https://stackoverflow.com/questions/54134455/java-11-querydsl-4-gradle-5-springboot-2-1-not-generating-qclasses) or [this other](https://stackoverflow.com/questions/59950657/querydsl-annotation-processor-and-gradle-plugin) related SO questions.\r\n\r\nWhen using with JPA, as a first step and as you guessed, you must create a class that represent your table, you must create an `@Entity` with the required information. In your case, it would look like similar to this code:\r\n\r\n```java\r\n@Entity\r\npublic class Transaction {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    private Long userId;\r\n\r\n    private String firstName;\r\n\r\n    private String lastName;\r\n\r\n    private String email;\r\n\r\n    private DateTime transactionDate;\r\n\r\n    // getters and setters\r\n\r\n}\r\n```\r\n\r\nPlease, note that we annotated the class with `@Entity`.\r\n\r\nAfter compiling your classes, you will see that Gradle should have generated a class with the name `QTransaction`.\r\n\r\nAmong other information, it will generate a `public static final` instance of the `QTransaction` class:\r\n\r\n```java\r\npublic static final QTransaction transaction = new QTransaction(&quot;transaction&quot;);\r\n```\r\n\r\nThis class is the one you will typically use when constructing your queries, as in your example.\r\n\r\n[This article](https://www.baeldung.com/intro-to-querydsl), although Maven focused, could be of help.","title":"Implement HQL builder from requirements code","body":"<p>The <code>Q</code> classes are typically generated by QueryDSL and the QueryDSL annotation processor tool.</p>\n<p>I am not as familiar with Gradle as I am with Maven, but the Gradle configuration looks fine to me. Just in case, see <a href=\"https://stackoverflow.com/questions/54134455/java-11-querydsl-4-gradle-5-springboot-2-1-not-generating-qclasses\">this</a> or <a href=\"https://stackoverflow.com/questions/59950657/querydsl-annotation-processor-and-gradle-plugin\">this other</a> related SO questions.</p>\n<p>When using with JPA, as a first step and as you guessed, you must create a class that represent your table, you must create an <code>@Entity</code> with the required information. In your case, it would look like similar to this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Transaction {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private Long userId;\n\n    private String firstName;\n\n    private String lastName;\n\n    private String email;\n\n    private DateTime transactionDate;\n\n    // getters and setters\n\n}\n</code></pre>\n<p>Please, note that we annotated the class with <code>@Entity</code>.</p>\n<p>After compiling your classes, you will see that Gradle should have generated a class with the name <code>QTransaction</code>.</p>\n<p>Among other information, it will generate a <code>public static final</code> instance of the <code>QTransaction</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final QTransaction transaction = new QTransaction(&quot;transaction&quot;);\n</code></pre>\n<p>This class is the one you will typically use when constructing your queries, as in your example.</p>\n<p><a href=\"https://www.baeldung.com/intro-to-querydsl\" rel=\"nofollow noreferrer\">This article</a>, although Maven focused, could be of help.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72338506,"answer_count":1,"score":1,"last_activity_date":1653229817,"creation_date":1652694980,"question_id":72257348,"body_markdown":"I have this code where I build transaction:\r\n\r\n    public BooleanBuilder findAllTransactionsByUserId(Long userId, DateTime startDate, DateTime endDate, \r\n          String firstName, String lastName, String email) {\r\n    \r\n        QTransaction transaction = QTransaction.transaction;\r\n        BooleanBuilder where = getTransactionWhereClause(startDate, endDate, firstName, lastName, email);\r\n        where.and(transaction.userId.eq(userId));\r\n    \r\n        return where;\r\n      }\r\n    \r\n      public BooleanBuilder getTransactionWhereClause(DateTime startDate, DateTime endDate,\r\n          String firstName, String lastName, String email) {\r\n    \r\n        BooleanBuilder where = new BooleanBuilder();\r\n        QTransaction transaction = QTransaction.transaction;\r\n    \r\n        if (startDate != null &amp;&amp; endDate != null) {\r\n          where.and(transaction.transactionDate.between(startDate, endDate));\r\n        }\r\n        if (firstName != null) {\r\n          where.and(transaction.firstName.eq(firstName));\r\n        }\r\n        if (lastName != null) {\r\n          where.and(transaction.lastName.eq(lastName));\r\n        }\r\n        if (email != null) {\r\n          where.and(transaction.email.eq(email));\r\n        }\r\n      \r\n        return where;\r\n      }\r\n\r\nI&#39;m missing the code for the class `QTransaction` and I can&#39;t figure out what might be the content of the Java class so that I can create it manually.\r\n\r\nDo you have any idea how I can implement the missing code?\r\n\r\nI tried this gradle configuration:\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.6.7&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;test&#39;\r\n    version = &#39;0.0.1&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    ext {\r\n        set(&#39;springCloudVersion&#39;, &quot;2021.0.2&quot;)\r\n        queryDslVersion = &#39;5.0.0&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.hibernate.validator:hibernate-validator&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        implementation &#39;joda-time:joda-time:2.10.14&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-hateoas:2.6.7&#39;\r\n        implementation &#39;org.postgresql:postgresql&#39;\r\n        implementation &#39;org.jadira.usertype:usertype.core:7.0.0.CR1&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter-bootstrap:3.1.2&#39;\r\n        implementation &#39;org.apache.commons:commons-lang3:3.12.0&#39;\r\n        implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n    \r\n        // QueryDSL\r\n        implementation &quot;com.querydsl:querydsl-jpa:${queryDslVersion}&quot;\r\n        annotationProcessor &quot;com.querydsl:querydsl-apt:${queryDslVersion}:jpa&quot;\r\n        testImplementation &quot;com.querydsl:querydsl-jpa:${queryDslVersion}&quot;\r\n        testAnnotationProcessor &quot;com.querydsl:querydsl-apt:${queryDslVersion}:jpa&quot;\r\n        \r\n        // Lombok\r\n        compileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n        testCompileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n        testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n        // Swagger\r\n        implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.8&#39;\r\n    \r\n        implementation &#39;org.liquibase:liquibase-core&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n    }\r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n        }\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nBut JPA classes are not generated. I get exception:\r\n\r\n    import com.test.domain.QTransaction;\r\n                           ^\r\n      symbol:   class QTransaction\r\n      location: package com.test.domain\r\n\r\nDo you know what is the proper way to implement this?","title":"Implement HQL builder from requirements code","body":"<p>I have this code where I build transaction:</p>\n<pre><code>public BooleanBuilder findAllTransactionsByUserId(Long userId, DateTime startDate, DateTime endDate, \n      String firstName, String lastName, String email) {\n\n    QTransaction transaction = QTransaction.transaction;\n    BooleanBuilder where = getTransactionWhereClause(startDate, endDate, firstName, lastName, email);\n    where.and(transaction.userId.eq(userId));\n\n    return where;\n  }\n\n  public BooleanBuilder getTransactionWhereClause(DateTime startDate, DateTime endDate,\n      String firstName, String lastName, String email) {\n\n    BooleanBuilder where = new BooleanBuilder();\n    QTransaction transaction = QTransaction.transaction;\n\n    if (startDate != null &amp;&amp; endDate != null) {\n      where.and(transaction.transactionDate.between(startDate, endDate));\n    }\n    if (firstName != null) {\n      where.and(transaction.firstName.eq(firstName));\n    }\n    if (lastName != null) {\n      where.and(transaction.lastName.eq(lastName));\n    }\n    if (email != null) {\n      where.and(transaction.email.eq(email));\n    }\n  \n    return where;\n  }\n</code></pre>\n<p>I'm missing the code for the class <code>QTransaction</code> and I can't figure out what might be the content of the Java class so that I can create it manually.</p>\n<p>Do you have any idea how I can implement the missing code?</p>\n<p>I tried this gradle configuration:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.7'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'test'\nversion = '0.0.1'\nsourceCompatibility = '17'\n\next {\n    set('springCloudVersion', &quot;2021.0.2&quot;)\n    queryDslVersion = '5.0.0'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.hibernate.validator:hibernate-validator'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'joda-time:joda-time:2.10.14'\n    implementation 'org.springframework.boot:spring-boot-starter-hateoas:2.6.7'\n    implementation 'org.postgresql:postgresql'\n    implementation 'org.jadira.usertype:usertype.core:7.0.0.CR1'\n    implementation 'org.springframework.cloud:spring-cloud-starter-bootstrap:3.1.2'\n    implementation 'org.apache.commons:commons-lang3:3.12.0'\n    implementation 'com.google.code.gson:gson:2.9.0'\n\n    // QueryDSL\n    implementation &quot;com.querydsl:querydsl-jpa:${queryDslVersion}&quot;\n    annotationProcessor &quot;com.querydsl:querydsl-apt:${queryDslVersion}:jpa&quot;\n    testImplementation &quot;com.querydsl:querydsl-jpa:${queryDslVersion}&quot;\n    testAnnotationProcessor &quot;com.querydsl:querydsl-apt:${queryDslVersion}:jpa&quot;\n    \n    // Lombok\n    compileOnly 'org.projectlombok:lombok:1.18.24'\n    annotationProcessor 'org.projectlombok:lombok:1.18.24'\n    testCompileOnly 'org.projectlombok:lombok:1.18.24'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.24'\n    // Swagger\n    implementation 'org.springdoc:springdoc-openapi-ui:1.6.8'\n\n    implementation 'org.liquibase:liquibase-core'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>But JPA classes are not generated. I get exception:</p>\n<pre><code>import com.test.domain.QTransaction;\n                       ^\n  symbol:   class QTransaction\n  location: package com.test.domain\n</code></pre>\n<p>Do you know what is the proper way to implement this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1538832,"reputation":2242,"user_id":1434031,"accept_rate":29,"display_name":"Akhi"},"score":0,"creation_date":1340208749,"post_id":11123653,"comment_id":14575649,"body_markdown":"u need to out in the sub class if u want the methods and fields(private fields and methods) of subclass to working with.","body":"u need to out in the sub class if u want the methods and fields(private fields and methods) of subclass to working with."},{"owner":{"account_id":141726,"reputation":10745,"user_id":348975,"accept_rate":86,"display_name":"emory"},"score":1,"creation_date":1340208792,"post_id":11123653,"comment_id":14575673,"body_markdown":"@AkhilDev Unless the subclass methods and fields are private, you do not need to put it in the subclass.","body":"@AkhilDev Unless the subclass methods and fields are private, you do not need to put it in the subclass."}],"answers":[{"tags":[],"owner":{"account_id":1017191,"reputation":10501,"user_id":1044146,"accept_rate":83,"display_name":"Martin."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340208696,"creation_date":1340208696,"answer_id":11123692,"question_id":11123653,"body_markdown":"It&#39;s up to you where you&#39;ll put main method, but I&#39;d just put it into new class with only one method, `static Main(String[] args)`","title":"Should I put main method in superclass or subclass in Java","body":"<p>It's up to you where you'll put main method, but I'd just put it into new class with only one method, <code>static Main(String[] args)</code></p>\n"},{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1340208703,"creation_date":1340208703,"answer_id":11123695,"question_id":11123653,"body_markdown":"I think it might be best to have a simple class whose sole dedicated purpose is to contain the `static main` method.  It simple and clear.\r\n\r\nYour main method would then get things started by creating the initial objects from your program.","title":"Should I put main method in superclass or subclass in Java","body":"<p>I think it might be best to have a simple class whose sole dedicated purpose is to contain the <code>static main</code> method.  It simple and clear.</p>\n\n<p>Your main method would then get things started by creating the initial objects from your program.</p>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340208713,"creation_date":1340208713,"answer_id":11123696,"question_id":11123653,"body_markdown":"You would want to put a `main()` method in a place where you control, or drive all of the action of your program.","title":"Should I put main method in superclass or subclass in Java","body":"<p>You would want to put a <code>main()</code> method in a place where you control, or drive all of the action of your program.</p>\n"},{"tags":[],"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1340209091,"creation_date":1340208739,"answer_id":11123704,"question_id":11123653,"body_markdown":"You could create a new dedicated class, let&#39;s say Launcher, with a main method, instantiate your classes there, and manage any unexpected exceptions:\r\n\r\n    public class Luncher{\r\n    \r\n      public static void main(String args){\r\n        //insert argument checking logic\r\n    \r\n        try{\r\n          new MyClass.executeLogic(someArguments);\r\n        }catch(Exception e){\r\n          //insert exception handling logic here\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Should I put main method in superclass or subclass in Java","body":"<p>You could create a new dedicated class, let's say Launcher, with a main method, instantiate your classes there, and manage any unexpected exceptions:</p>\n\n<pre><code>public class Luncher{\n\n  public static void main(String args){\n    //insert argument checking logic\n\n    try{\n      new MyClass.executeLogic(someArguments);\n    }catch(Exception e){\n      //insert exception handling logic here\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1544203,"reputation":1407,"user_id":1438132,"accept_rate":78,"display_name":"Isuru Madusanka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340209067,"creation_date":1340209067,"answer_id":11123803,"question_id":11123653,"body_markdown":"Well, it depends, But usually main method put in sub class. There is quite big difference between in inheritance and shadowing. But you can put it subclass or super class. Remember main method is static.","title":"Should I put main method in superclass or subclass in Java","body":"<p>Well, it depends, But usually main method put in sub class. There is quite big difference between in inheritance and shadowing. But you can put it subclass or super class. Remember main method is static.</p>\n"},{"tags":[],"owner":{"account_id":25165382,"reputation":1,"user_id":19008990,"display_name":"Blo Mo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653229360,"creation_date":1653229360,"answer_id":72338447,"question_id":11123653,"body_markdown":" We have to put the main method inside the main class only. Then whether you make it a parent class or sub class doesn&#39;t matter, It will work fine, But the main method needs to be inside the main class else compiler will throw error.\r\n","title":"Should I put main method in superclass or subclass in Java","body":"<p>We have to put the main method inside the main class only. Then whether you make it a parent class or sub class doesn't matter, It will work fine, But the main method needs to be inside the main class else compiler will throw error.</p>\n"}],"owner":{"account_id":1585313,"reputation":1529,"user_id":1469828,"accept_rate":68,"display_name":"typeof programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5461,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11123695,"answer_count":6,"score":2,"last_activity_date":1653229360,"creation_date":1340208564,"question_id":11123653,"body_markdown":"If a class has inheritance in a Java program, do I need to put main method in the superclass or subclass? Many programs put the main method in different positions. Can anybody tell me how to do that? Thanks a lot!\r\n\r\n","title":"Should I put main method in superclass or subclass in Java","body":"<p>If a class has inheritance in a Java program, do I need to put main method in the superclass or subclass? Many programs put the main method in different positions. Can anybody tell me how to do that? Thanks a lot!</p>\n"},{"tags":["java","templates","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":15211392,"reputation":1754,"user_id":10976088,"display_name":"Ghasem Sadeghi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567274526,"creation_date":1567274526,"answer_id":57740470,"question_id":41234049,"body_markdown":"Thymeleaf docs (&lt;a href=&quot;https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#using-thtext-and-externalizing-text&quot;&gt;Externalizing Messages&lt;/a&gt;) says:\r\n\r\n&gt; The location of externalized text in Thymeleaf is fully configurable, and it will depend on the specific org.thymeleaf.messageresolver.IMessageResolver implementation being used. Normally, an implementation based on .properties files will be used, but we could create our own implementations if we wanted, for example, to obtain messages from a database.\r\n\r\nSo, You can use one of the following ways:&lt;br&gt;\r\n\r\n**1.** Create a custom implementation for ```org.thymeleaf.messageresolver.IMessageResolver``` interface.&lt;br&gt;\r\n**Reference:**\r\n&lt;a href=&quot;https://github.com/thymeleaf/thymeleaf/blob/bb2fd0e9005f8aab0de0a3f9f3897edea8084b88/src/main/java/org/thymeleaf/messageresolver/StandardMessageResolver.java&quot;&gt;StandardMessageResolver&lt;/a&gt;\r\n\r\n**2.** Thymeleaf uses OGNL as default. According to &lt;a href=&quot;https://commons.apache.org/proper/commons-ognl/language-guide.html&quot;&gt;OGNL docs&lt;/a&gt;:\r\n\r\n&gt; You can refer to a static field using the syntax @class@field. The class must be fully qualified.\r\n\r\nSo, Create a JAVA class that contains these static string messages and then call them in thymeleaf templates:\r\n```\r\nth:text=&quot;${@com.example.yourpackagename.Constants@STRING_KEY}&quot;\r\n```\r\n\r\n**3.** If you are using spring/spring boot, you can simply use message.properties file located in **resources** folder.\r\n\r\n**4.** Create a **fragment html page** that uses your desired message(s) and then call this fragment in your templates and then use .properties files (in the same folder as fragment file) for this fragment html file.\r\n\r\n\r\n","title":"Thymeleaf #{property_name} - which file to create properties reference by &gt; 1 template","body":"<p>Thymeleaf docs (<a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#using-thtext-and-externalizing-text\" rel=\"nofollow noreferrer\">Externalizing Messages</a>) says:</p>\n\n<blockquote>\n  <p>The location of externalized text in Thymeleaf is fully configurable, and it will depend on the specific org.thymeleaf.messageresolver.IMessageResolver implementation being used. Normally, an implementation based on .properties files will be used, but we could create our own implementations if we wanted, for example, to obtain messages from a database.</p>\n</blockquote>\n\n<p>So, You can use one of the following ways:<br></p>\n\n<p><strong>1.</strong> Create a custom implementation for <code>org.thymeleaf.messageresolver.IMessageResolver</code> interface.<br>\n<strong>Reference:</strong>\n<a href=\"https://github.com/thymeleaf/thymeleaf/blob/bb2fd0e9005f8aab0de0a3f9f3897edea8084b88/src/main/java/org/thymeleaf/messageresolver/StandardMessageResolver.java\" rel=\"nofollow noreferrer\">StandardMessageResolver</a></p>\n\n<p><strong>2.</strong> Thymeleaf uses OGNL as default. According to <a href=\"https://commons.apache.org/proper/commons-ognl/language-guide.html\" rel=\"nofollow noreferrer\">OGNL docs</a>:</p>\n\n<blockquote>\n  <p>You can refer to a static field using the syntax @class@field. The class must be fully qualified.</p>\n</blockquote>\n\n<p>So, Create a JAVA class that contains these static string messages and then call them in thymeleaf templates:</p>\n\n<pre><code>th:text=\"${@com.example.yourpackagename.Constants@STRING_KEY}\"\n</code></pre>\n\n<p><strong>3.</strong> If you are using spring/spring boot, you can simply use message.properties file located in <strong>resources</strong> folder.</p>\n\n<p><strong>4.</strong> Create a <strong>fragment html page</strong> that uses your desired message(s) and then call this fragment in your templates and then use .properties files (in the same folder as fragment file) for this fragment html file.</p>\n"}],"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2663,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1653229108,"creation_date":1482201641,"question_id":41234049,"body_markdown":"I&#39;m using Thymeleaf and need a property value in multiple templates (not a common header or footer).\r\n\r\nThe docs say if we have a template `a.html` the messages go in `a.properties` or `a_en.properties`.\r\n\r\nWhat if I have a property, say:\r\n\r\n```\r\ntest_property=This is a common message: {0}\r\n```\r\n\r\nThat I want to use in the template `a.html` and `b.html`.  What properties file does it go in?  Is there a global properties file I can create or can I configure Thymeleaf to load a global properties file?\r\n\r\nI&#39;m going by these docs:\r\n\r\nhttp://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#messages\r\n\r\nIt seems like this would be a thing that this would support...","title":"Thymeleaf #{property_name} - which file to create properties reference by &gt; 1 template","body":"<p>I'm using Thymeleaf and need a property value in multiple templates (not a common header or footer).</p>\n<p>The docs say if we have a template <code>a.html</code> the messages go in <code>a.properties</code> or <code>a_en.properties</code>.</p>\n<p>What if I have a property, say:</p>\n<pre><code>test_property=This is a common message: {0}\n</code></pre>\n<p>That I want to use in the template <code>a.html</code> and <code>b.html</code>.  What properties file does it go in?  Is there a global properties file I can create or can I configure Thymeleaf to load a global properties file?</p>\n<p>I'm going by these docs:</p>\n<p><a href=\"http://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#messages\" rel=\"nofollow noreferrer\">http://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#messages</a></p>\n<p>It seems like this would be a thing that this would support...</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"owner":{"account_id":14844182,"reputation":71,"user_id":10719979,"display_name":"Surjeet Singh Rathore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1652993739,"answer_count":0,"score":-2,"last_activity_date":1653228964,"creation_date":1652945605,"question_id":72300416,"body_markdown":"I am exploring about spring batch and find that it is suitable to deal with large data like reading millions of records from CSV.Also for that spring provides good support.\r\n\r\nNow can we \r\n1) schedule calling of rest API using spring batch and process response then save it into the database. Please explain with example for better understanding.\r\n\r\n","title":"Spring Batch - with Resttemplate","body":"<p>I am exploring about spring batch and find that it is suitable to deal with large data like reading millions of records from CSV.Also for that spring provides good support.</p>\n<p>Now can we</p>\n<ol>\n<li>schedule calling of rest API using spring batch and process response then save it into the database. Please explain with example for better understanding.</li>\n</ol>\n"},{"tags":["java","android","xml","kotlin","animation"],"answers":[{"tags":[],"owner":{"account_id":23334572,"reputation":27,"user_id":17410457,"display_name":"Funniest Animal Videos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653228775,"creation_date":1653228775,"answer_id":72338380,"question_id":72338209,"body_markdown":"I added -&gt; android:repeatCount=&quot;infinite&quot; on Animation, it works.\r\nIt looks like that:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n        &lt;translate\r\n            android:duration=&quot;1000&quot;\r\n            android:fromYDelta=&quot;0&quot;\r\n            android:toYDelta=&quot;-70%&quot;\r\n            android:repeatCount=&quot;infinite&quot;/&gt;\r\n    &lt;/set&gt;","title":"Animate Textview continually","body":"<p>I added -&gt; android:repeatCount=&quot;infinite&quot; on Animation, it works.\nIt looks like that:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\n    &lt;translate\n        android:duration=&quot;1000&quot;\n        android:fromYDelta=&quot;0&quot;\n        android:toYDelta=&quot;-70%&quot;\n        android:repeatCount=&quot;infinite&quot;/&gt;\n&lt;/set&gt;\n</code></pre>\n"}],"owner":{"account_id":23334572,"reputation":27,"user_id":17410457,"display_name":"Funniest Animal Videos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653228775,"creation_date":1653227668,"question_id":72338209,"body_markdown":"I want to animate a textview but it has to continue to animation all time until click the button.\r\nNow it works just for one time, how can implement for all time until clicked button?\r\n\r\nAnimation:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n        &lt;translate\r\n            android:duration=&quot;2000&quot;\r\n            android:fromYDelta=&quot;0&quot;\r\n            android:toYDelta=&quot;-100%&quot; /&gt;\r\n    &lt;/set&gt;\r\n\r\nMainActivity:\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        private lateinit var binding : ActivityMainBinding\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            binding = ActivityMainBinding.inflate(layoutInflater)\r\n            val view = binding.root\r\n            setContentView(view)\r\n            start()\r\n            \r\n            binding.btn.setOnClickListener {\r\n                //Stop\r\n            }\r\n        }\r\n    \r\n        private fun start() {\r\n            val animation: Animation = AnimationUtils.loadAnimation(this, R.anim.textviewupdown)\r\n            binding.txt.startAnimation(animation)\r\n        }\r\n    }\r\n\r\nMainActivity XML\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/txt&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Hello World!&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"Animate Textview continually","body":"<p>I want to animate a textview but it has to continue to animation all time until click the button.\nNow it works just for one time, how can implement for all time until clicked button?</p>\n<p>Animation:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\n    &lt;translate\n        android:duration=&quot;2000&quot;\n        android:fromYDelta=&quot;0&quot;\n        android:toYDelta=&quot;-100%&quot; /&gt;\n&lt;/set&gt;\n</code></pre>\n<p>MainActivity:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    private lateinit var binding : ActivityMainBinding\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        val view = binding.root\n        setContentView(view)\n        start()\n        \n        binding.btn.setOnClickListener {\n            //Stop\n        }\n    }\n\n    private fun start() {\n        val animation: Animation = AnimationUtils.loadAnimation(this, R.anim.textviewupdown)\n        binding.txt.startAnimation(animation)\n    }\n}\n</code></pre>\n<p>MainActivity XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txt&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello World!&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n    &lt;Button\n        android:id=&quot;@+id/btn&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":9789138,"reputation":171,"user_id":7254424,"display_name":"thorin9000"},"score":0,"creation_date":1653082208,"post_id":72324883,"comment_id":127773026,"body_markdown":"At the bottom of the loop, `ans = keyboardIn.next()` will leave a `\\n` inside the Scanner&#39;s buffer, so you need to add a `keyboardIn.nextLine()` below it to eat the leftover `\\n`.\n\nTo understand it more in depth, see: https://stackoverflow.com/a/13102066/7254424","body":"At the bottom of the loop, <code>ans = keyboardIn.next()</code> will leave a <code>\\n</code> inside the Scanner&#39;s buffer, so you need to add a <code>keyboardIn.nextLine()</code> below it to eat the leftover <code>\\n</code>.  To understand it more in depth, see: <a href=\"https://stackoverflow.com/a/13102066/7254424\">stackoverflow.com/a/13102066/7254424</a>"},{"owner":{"account_id":14065192,"reputation":1,"user_id":19164294,"display_name":"NevSter79"},"score":0,"creation_date":1653083035,"post_id":72324883,"comment_id":127773189,"body_markdown":"I&#39;ve tried that but now if I select &#39;Y&#39; at the end to enter a second person it doesn&#39;t go back through the loop at all.","body":"I&#39;ve tried that but now if I select &#39;Y&#39; at the end to enter a second person it doesn&#39;t go back through the loop at all."},{"owner":{"account_id":9789138,"reputation":171,"user_id":7254424,"display_name":"thorin9000"},"score":0,"creation_date":1653083298,"post_id":72324883,"comment_id":127773241,"body_markdown":"Does the line below `ans = keyboardIn.next().charAt(0);` look like `keyboardIn.nextLine();`","body":"Does the line below <code>ans = keyboardIn.next().charAt(0);</code> look like <code>keyboardIn.nextLine();</code>"},{"owner":{"account_id":14065192,"reputation":1,"user_id":19164294,"display_name":"NevSter79"},"score":0,"creation_date":1653089787,"post_id":72324883,"comment_id":127774265,"body_markdown":"yes but I&#39;m still facing that issue. I&#39;ve had to remove keyboardIn.nextLine(); after the name variable and replace it with next(); Not ideal but it will do for now","body":"yes but I&#39;m still facing that issue. I&#39;ve had to remove keyboardIn.nextLine(); after the name variable and replace it with next(); Not ideal but it will do for now"},{"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"score":0,"creation_date":1653094832,"post_id":72324883,"comment_id":127774779,"body_markdown":"@NevSter79 -- my I ask why it is not ideal?","body":"@NevSter79 -- my I ask why it is not ideal?"},{"owner":{"account_id":14065192,"reputation":1,"user_id":19164294,"display_name":"NevSter79"},"score":0,"creation_date":1653390363,"post_id":72324883,"comment_id":127835455,"body_markdown":"@KemperLee it doesn&#39;t allow me to enter in fullName only firstName. So if I try to input name = John O&#39;Brien it skips, but if I enter John it doesn&#39;t skip.","body":"@KemperLee it doesn&#39;t allow me to enter in fullName only firstName. So if I try to input name = John O&#39;Brien it skips, but if I enter John it doesn&#39;t skip."}],"answers":[{"tags":[],"owner":{"account_id":9789138,"reputation":171,"user_id":7254424,"display_name":"thorin9000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653113935,"creation_date":1653113935,"answer_id":72327166,"question_id":72324883,"body_markdown":"Here&#39;s an example program of what I meant by my comment - it takes input for person 2&#39;s name.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    \r\n    public class A {\r\n        public static void main(String[] args) {\r\n            Scanner keyboardIn = new Scanner(System.in);\r\n            int count = 1;\r\n            String name = &quot;&quot;, occupation = &quot;&quot;;\r\n            char gender = &#39;-&#39;, ans;\r\n            double weight = 0, height = 0;\r\n            int age = 0, ppsNo = 1;\r\n    \r\n            List&lt;Person&gt; personList = new ArrayList&lt;&gt;();\r\n            do\r\n            {\r\n                System.out.println(&quot;****PLEASE ENTER DETAILS FOR PERSON &quot;+count+&quot;****&quot;);\r\n                count++;\r\n                System.out.print(&quot;Name: &quot;);\r\n                name = keyboardIn.nextLine();\r\n                System.out.print(&quot;Gender: &quot;);\r\n                gender = keyboardIn.next().charAt(0);\r\n                System.out.print(&quot;Age: &quot;);\r\n                age = keyboardIn.nextInt();\r\n                keyboardIn.nextLine();\r\n                System.out.print(&quot;Occupation: &quot;);\r\n                occupation = keyboardIn.nextLine();\r\n                System.out.print(&quot;Weight: &quot;);\r\n                weight = keyboardIn.nextDouble();\r\n                System.out.print(&quot;Height: &quot;);\r\n                height = keyboardIn.nextDouble();\r\n    \r\n                //Add the person object to the ArrayList\r\n                personList.add(new Person(ppsNo++, name, age, gender, occupation, height, weight));\r\n    \r\n                System.out.print(&quot;Would you like to add another person record (Y/N): &quot;);\r\n                ans = keyboardIn.next().charAt(0);\r\n                keyboardIn.nextLine();\r\n            }while(ans == &#39;y&#39; || ans == &#39;Y&#39;);\r\n            keyboardIn.close();\r\n        }\r\n    \r\n        private static class Person {\r\n            public Person(int ppsNo, String name, int age, char gender, String occupation, double height, double weight) {\r\n                \r\n            }\r\n        }\r\n    }\r\n    \r\n****PLEASE ENTER DETAILS FOR PERSON 1****\r\nName: Nevin O&#39;Regan\r\nGender: M\r\nAge: 43\r\nOccupation: IT\r\nWeight: 89\r\nHeight: 78\r\nWould you like to add another person record (Y/N): Y\r\n****PLEASE ENTER DETAILS FOR PERSON 2****\r\nName: Jay\r\nGender: M\r\nAge: ","title":"Loop is skipping input fields","body":"<p>Here's an example program of what I meant by my comment - it takes input for person 2's name.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class A {\n    public static void main(String[] args) {\n        Scanner keyboardIn = new Scanner(System.in);\n        int count = 1;\n        String name = &quot;&quot;, occupation = &quot;&quot;;\n        char gender = '-', ans;\n        double weight = 0, height = 0;\n        int age = 0, ppsNo = 1;\n\n        List&lt;Person&gt; personList = new ArrayList&lt;&gt;();\n        do\n        {\n            System.out.println(&quot;****PLEASE ENTER DETAILS FOR PERSON &quot;+count+&quot;****&quot;);\n            count++;\n            System.out.print(&quot;Name: &quot;);\n            name = keyboardIn.nextLine();\n            System.out.print(&quot;Gender: &quot;);\n            gender = keyboardIn.next().charAt(0);\n            System.out.print(&quot;Age: &quot;);\n            age = keyboardIn.nextInt();\n            keyboardIn.nextLine();\n            System.out.print(&quot;Occupation: &quot;);\n            occupation = keyboardIn.nextLine();\n            System.out.print(&quot;Weight: &quot;);\n            weight = keyboardIn.nextDouble();\n            System.out.print(&quot;Height: &quot;);\n            height = keyboardIn.nextDouble();\n\n            //Add the person object to the ArrayList\n            personList.add(new Person(ppsNo++, name, age, gender, occupation, height, weight));\n\n            System.out.print(&quot;Would you like to add another person record (Y/N): &quot;);\n            ans = keyboardIn.next().charAt(0);\n            keyboardIn.nextLine();\n        }while(ans == 'y' || ans == 'Y');\n        keyboardIn.close();\n    }\n\n    private static class Person {\n        public Person(int ppsNo, String name, int age, char gender, String occupation, double height, double weight) {\n            \n        }\n    }\n}\n</code></pre>\n<p><strong><strong>PLEASE ENTER DETAILS FOR PERSON 1</strong></strong>\nName: Nevin O'Regan\nGender: M\nAge: 43\nOccupation: IT\nWeight: 89\nHeight: 78\nWould you like to add another person record (Y/N): Y\n<strong><strong>PLEASE ENTER DETAILS FOR PERSON 2</strong></strong>\nName: Jay\nGender: M\nAge:</p>\n"}],"owner":{"account_id":14065192,"reputation":1,"user_id":19164294,"display_name":"NevSter79"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653228711,"creation_date":1653081608,"question_id":72324883,"body_markdown":"I having an issue with my code skipping input fields in a loop when I select to enter in more data. \r\n\r\nBelow is my loop:\r\n```java\r\ndo {\r\n    System.out.println(&quot;****PLEASE ENTER DETAILS FOR PERSON &quot;+count+&quot;****&quot;);\r\n    count++;\r\n    System.out.print(&quot;Name: &quot;);\r\n    name = keyboardIn.nextLine();\r\n    System.out.print(&quot;Gender: &quot;);\r\n    gender = keyboardIn.next().charAt(0);\r\n    System.out.print(&quot;Age: &quot;);\r\n    age = keyboardIn.nextInt();\r\n    keyboardIn.nextLine();\r\n    System.out.print(&quot;Occupation: &quot;);\r\n    occupation = keyboardIn.nextLine();\r\n    System.out.print(&quot;Weight: &quot;);\r\n    weight = keyboardIn.nextDouble();\r\n    System.out.print(&quot;Height: &quot;);\r\n    height = keyboardIn.nextDouble();\r\n    //Add the person object to the ArrayList\r\n    personList.add(new Person(ppsNo++, name, age, gender, occupation, height, weight));       \r\n    System.out.print(&quot;Would you like to add another person record (Y/N): &quot;);\r\n    ans = keyboardIn.next().charAt(0);\r\n} while (ans == &#39;y&#39; || ans == &#39;Y&#39;);  //continue entering people if user enters y or Y \r\n```\r\n\r\nThis is the output when I try to enter information for another person:\r\n```\r\n****PLEASE ENTER DETAILS FOR PERSON 1****\r\nName: Nevin O&#39;Regan\r\nGender: M\r\nAge: 43\r\nOccupation: IT\r\nWeight: 89\r\nHeight: 78\r\nWould you like to add another person record (Y/N): Y\r\n****PLEASE ENTER DETAILS FOR PERSON 2****\r\nName: Gender: \r\n```\r\n\r\n","title":"Loop is skipping input fields","body":"<p>I having an issue with my code skipping input fields in a loop when I select to enter in more data.</p>\n<p>Below is my loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>do {\n    System.out.println(&quot;****PLEASE ENTER DETAILS FOR PERSON &quot;+count+&quot;****&quot;);\n    count++;\n    System.out.print(&quot;Name: &quot;);\n    name = keyboardIn.nextLine();\n    System.out.print(&quot;Gender: &quot;);\n    gender = keyboardIn.next().charAt(0);\n    System.out.print(&quot;Age: &quot;);\n    age = keyboardIn.nextInt();\n    keyboardIn.nextLine();\n    System.out.print(&quot;Occupation: &quot;);\n    occupation = keyboardIn.nextLine();\n    System.out.print(&quot;Weight: &quot;);\n    weight = keyboardIn.nextDouble();\n    System.out.print(&quot;Height: &quot;);\n    height = keyboardIn.nextDouble();\n    //Add the person object to the ArrayList\n    personList.add(new Person(ppsNo++, name, age, gender, occupation, height, weight));       \n    System.out.print(&quot;Would you like to add another person record (Y/N): &quot;);\n    ans = keyboardIn.next().charAt(0);\n} while (ans == 'y' || ans == 'Y');  //continue entering people if user enters y or Y \n</code></pre>\n<p>This is the output when I try to enter information for another person:</p>\n<pre><code>****PLEASE ENTER DETAILS FOR PERSON 1****\nName: Nevin O'Regan\nGender: M\nAge: 43\nOccupation: IT\nWeight: 89\nHeight: 78\nWould you like to add another person record (Y/N): Y\n****PLEASE ENTER DETAILS FOR PERSON 2****\nName: Gender: \n</code></pre>\n"},{"tags":["java","variables","environment-variables"],"comments":[{"owner":{"account_id":2118345,"reputation":12755,"user_id":1882149,"display_name":"Achintya Jha"},"score":0,"creation_date":1399901304,"post_id":23610325,"comment_id":36245014,"body_markdown":"[Try this once](http://docs.oracle.com/javase/tutorial/essential/environment/env.html)","body":"<a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/env.html\" rel=\"nofollow noreferrer\">Try this once</a>"},{"owner":{"account_id":4238696,"reputation":537,"user_id":3469203,"accept_rate":68,"display_name":"user3469203"},"score":0,"creation_date":1399901511,"post_id":23610325,"comment_id":36245182,"body_markdown":"Yes I used System.getenv(&quot;myvariable&quot;) but it doesn&#39;t word. It only works for system variables, not user variables","body":"Yes I used System.getenv(&quot;myvariable&quot;) but it doesn&#39;t word. It only works for system variables, not user variables"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1399901996,"post_id":23610325,"comment_id":36245533,"body_markdown":"Works just fine for me, its even case-insensitive. Note: On Windows 7.","body":"Works just fine for me, its even case-insensitive. Note: On Windows 7."},{"owner":{"account_id":4238696,"reputation":537,"user_id":3469203,"accept_rate":68,"display_name":"user3469203"},"score":0,"creation_date":1399902202,"post_id":23610325,"comment_id":36245704,"body_markdown":"Ok tks, I can&#39;t understand why it doesn&#39;t for me... My variable is named CODEAGENCE. In my programm `System.getenv(&quot;CODEAGENCE&quot;)` returns `null`. And for exemple `System.getenv(&quot;CLASSPATH&quot;)` returns the CLASSPATH correctly.","body":"Ok tks, I can&#39;t understand why it doesn&#39;t for me... My variable is named CODEAGENCE. In my programm <code>System.getenv(&quot;CODEAGENCE&quot;)</code> returns <code>null</code>. And for exemple <code>System.getenv(&quot;CLASSPATH&quot;)</code> returns the CLASSPATH correctly."},{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":0,"creation_date":1399902407,"post_id":23610325,"comment_id":36245853,"body_markdown":"Have you tried restarting Windows? Also, when setting an environment variable you cannot necessarily reference other environment variables. How are you setting your variable?","body":"Have you tried restarting Windows? Also, when setting an environment variable you cannot necessarily reference other environment variables. How are you setting your variable?"},{"owner":{"account_id":4238696,"reputation":537,"user_id":3469203,"accept_rate":68,"display_name":"user3469203"},"score":0,"creation_date":1399971768,"post_id":23610325,"comment_id":36277155,"body_markdown":"Yes that is the answer, my windows session must be restarted !","body":"Yes that is the answer, my windows session must be restarted !"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399901560,"creation_date":1399901560,"answer_id":23610484,"question_id":23610325,"body_markdown":"[System.getenv(String)](http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#getenv%28java.lang.String%29) is the correct method; there are only &quot;environment variables&quot; - Windows applies the &quot;system&quot; environment variables to everyone&#39;s account, but they aren&#39;t differentiable at the application level. You can verify by opening a `cmd` prompt and executing `set` (with no arguments).","title":"User environment variable in java","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#getenv%28java.lang.String%29\" rel=\"nofollow\">System.getenv(String)</a> is the correct method; there are only \"environment variables\" - Windows applies the \"system\" environment variables to everyone's account, but they aren't differentiable at the application level. You can verify by opening a <code>cmd</code> prompt and executing <code>set</code> (with no arguments).</p>\n"},{"tags":[],"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1399902330,"creation_date":1399902330,"answer_id":23610774,"question_id":23610325,"body_markdown":"When running a process there is only one _environment_. The user variables are merged into the system variables, with overwriting existing ones. This complete environment is then retrieved by the `System.getenv()` method.\r\n\r\nSo you actually see the user&#39;s environment variables.\r\n\r\nI just tested it with these four scenarios:\r\n\r\n1) No variable named `MYVAR`:\r\n\r\nRunning `System.out.println(System.getenv(&quot;MYVAR&quot;))` prints out `null`.\r\n\r\n2) System variable called `MYVAR` with value `System`:\r\n\r\nRunning `System.out.println(System.getenv(&quot;MYVAR&quot;))` prints out `System`.\r\n\r\n3) User variable called `MYVAR` with value `User`:\r\n\r\nRunning `System.out.println(System.getenv(&quot;MYVAR&quot;))` prints out `User`.\r\n\r\n4) System variable called `MYVAR` with value `System` and user variable called `MYVAR` with value `User`:\r\n\r\nRunning `System.out.println(System.getenv(&quot;MYVAR&quot;))` prints out `User`.\r\n\r\n---\r\n\r\nMaybe you did try it out from an IDE (like Eclipse)? When changing the environment variables, you unfortunately have to restart Eclipse, as they are not correctly propagated to the run configurations.","title":"User environment variable in java","body":"<p>When running a process there is only one <em>environment</em>. The user variables are merged into the system variables, with overwriting existing ones. This complete environment is then retrieved by the <code>System.getenv()</code> method.</p>\n\n<p>So you actually see the user's environment variables.</p>\n\n<p>I just tested it with these four scenarios:</p>\n\n<p>1) No variable named <code>MYVAR</code>:</p>\n\n<p>Running <code>System.out.println(System.getenv(\"MYVAR\"))</code> prints out <code>null</code>.</p>\n\n<p>2) System variable called <code>MYVAR</code> with value <code>System</code>:</p>\n\n<p>Running <code>System.out.println(System.getenv(\"MYVAR\"))</code> prints out <code>System</code>.</p>\n\n<p>3) User variable called <code>MYVAR</code> with value <code>User</code>:</p>\n\n<p>Running <code>System.out.println(System.getenv(\"MYVAR\"))</code> prints out <code>User</code>.</p>\n\n<p>4) System variable called <code>MYVAR</code> with value <code>System</code> and user variable called <code>MYVAR</code> with value <code>User</code>:</p>\n\n<p>Running <code>System.out.println(System.getenv(\"MYVAR\"))</code> prints out <code>User</code>.</p>\n\n<hr>\n\n<p>Maybe you did try it out from an IDE (like Eclipse)? When changing the environment variables, you unfortunately have to restart Eclipse, as they are not correctly propagated to the run configurations.</p>\n"},{"tags":[],"owner":{"account_id":1553389,"reputation":1,"user_id":1445253,"display_name":"Hadeel Youssef"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1572255360,"creation_date":1571934038,"answer_id":58545418,"question_id":23610325,"body_markdown":"You can get the value of a USER environment variables, by reading the registry key in the path: `HKEY_CURRENT_USER\\\\Environment` There you will find all the USER environment variables added.\r\n\r\nand for the SYSTEM environment variables you can read in the path: \r\n`HKEY_LOCAL_MACHINE\\\\SYSTEM\\\\CurrentControlSet\\\\Control\\\\Session Manager\\\\Environment`\r\n\r\n","title":"User environment variable in java","body":"<p>You can get the value of a USER environment variables, by reading the registry key in the path: <code>HKEY_CURRENT_USER\\\\Environment</code> There you will find all the USER environment variables added.</p>\n\n<p>and for the SYSTEM environment variables you can read in the path: \n<code>HKEY_LOCAL_MACHINE\\\\SYSTEM\\\\CurrentControlSet\\\\Control\\\\Session Manager\\\\Environment</code></p>\n"},{"tags":[],"owner":{"account_id":14498500,"reputation":1,"user_id":10472380,"display_name":"Phlom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653228614,"creation_date":1653217767,"answer_id":72337016,"question_id":23610325,"body_markdown":"Seelenvirtuose is right. You need to write the name of the SYSTEM environment variable using quotes:\r\n\r\n```java\r\nString serverUrl = System.getenv(&quot;QNAP-NAS-ADDRESS&quot;);\r\nprivate String jdbcURL = &quot;jdbc:mysql://&quot; + serverUrl + &quot;schema_name?useSSL=false&quot;;\r\nprivate String jdbcUsername = System.getenv(&quot;QNAP-MYSQL-UN&quot;);\r\nprivate String jdbcPassword = System.getenv(&quot;QNAP-MYSQL-UN&quot;);\r\n```\r\n\r\nPrinting these:\r\n\r\n```java\r\nSystem.out.println(System.getenv(&quot;QNAP-MYSQL-UN&quot;));\r\nSystem.out.println(System.getenv(&quot;QNAP-MYSQL-PW&quot;));\r\nSystem.out.println(System.getenv(&quot;QNAP-NAS-ADDRESS&quot;));\r\nSystem.out.println(System.getenv(&quot;QNAP-NOIP-ADDRESS&quot;));\r\n```\r\n\r\nwould display in terminal:\r\n\r\n```\r\nroot\r\npassword\r\nmynasserver.myqnapcloud.com\r\nmynasserver.ddns.net\r\n```\r\n\r\nI didn&#39;t use *USER VARIABLES*, but **SYSTEM VARIABLES**.\r\n\r\n@Seelenvirtuose Thanks, btw","title":"User environment variable in java","body":"<p>Seelenvirtuose is right. You need to write the name of the SYSTEM environment variable using quotes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String serverUrl = System.getenv(&quot;QNAP-NAS-ADDRESS&quot;);\nprivate String jdbcURL = &quot;jdbc:mysql://&quot; + serverUrl + &quot;schema_name?useSSL=false&quot;;\nprivate String jdbcUsername = System.getenv(&quot;QNAP-MYSQL-UN&quot;);\nprivate String jdbcPassword = System.getenv(&quot;QNAP-MYSQL-UN&quot;);\n</code></pre>\n<p>Printing these:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(System.getenv(&quot;QNAP-MYSQL-UN&quot;));\nSystem.out.println(System.getenv(&quot;QNAP-MYSQL-PW&quot;));\nSystem.out.println(System.getenv(&quot;QNAP-NAS-ADDRESS&quot;));\nSystem.out.println(System.getenv(&quot;QNAP-NOIP-ADDRESS&quot;));\n</code></pre>\n<p>would display in terminal:</p>\n<pre><code>root\npassword\nmynasserver.myqnapcloud.com\nmynasserver.ddns.net\n</code></pre>\n<p>I didn't use <em>USER VARIABLES</em>, but <strong>SYSTEM VARIABLES</strong>.</p>\n<p>@Seelenvirtuose Thanks, btw</p>\n"}],"owner":{"account_id":4238696,"reputation":537,"user_id":3469203,"accept_rate":68,"display_name":"user3469203"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9717,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1653228614,"creation_date":1399901146,"question_id":23610325,"body_markdown":"I am trying to get a user environment variable in java.\r\n\r\nThe `System.getEnv()` method only return system environment variables.\r\n\r\nDoes anybody know how to get user environment variables?","title":"User environment variable in java","body":"<p>I am trying to get a user environment variable in java.</p>\n\n<p>The <code>System.getEnv()</code> method only return system environment variables.</p>\n\n<p>Does anybody know how to get user environment variables?</p>\n"},{"tags":["java","time-complexity"],"comments":[{"owner":{"account_id":14620231,"reputation":4320,"user_id":10559142,"display_name":"Berthur"},"score":0,"creation_date":1653044604,"post_id":72314353,"comment_id":127760344,"body_markdown":"Since you are asking about internal time complexity of some data structure operations in a programming language or library, you should mention what that language or library is.","body":"Since you are asking about internal time complexity of some data structure operations in a programming language or library, you should mention what that language or library is."},{"owner":{"account_id":7701730,"reputation":33,"user_id":5834046,"display_name":"Amit Kumar"},"score":0,"creation_date":1653052759,"post_id":72314353,"comment_id":127763372,"body_markdown":"Added &#39;java&#39; language","body":"Added &#39;java&#39; language"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1653053780,"post_id":72314353,"comment_id":127763787,"body_markdown":"Why don&#39;t you use [String#indexOf](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String))?","body":"Why don&#39;t you use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String)\" rel=\"nofollow noreferrer\">String#indexOf</a>?"}],"answers":[{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653088048,"creation_date":1653087089,"answer_id":72325419,"question_id":72314353,"body_markdown":"Let `n` be the string length, `k` the number of comma-separated words, and `w` the maximum length of a word. Also, lets assume that our unit cost is character comparison/copying.\r\n\r\nSplitting the string to words (`String.split()` method) will cost `O(n)`.\r\n\r\nBuilding a `Set` from these words will cost `O(k * log(k) * w)` if `Set` is implemented as `TreeSet`, or `O(k * w)` if `Set` is implemented as `HashSet` (with some sensible load factor). So, roughly `O(n * log(n))` and `O(n)` respectively. Searching in a `Set` will be `O(log(k) * w)` and `O(1)` respectively (roughly `O(log(n))` and `O(1)`).\r\n\r\nBuilding an array (or `ArrayList`) will cost `O(k * w)` or roughly `O(n)`.\r\nSearching in an array will be also `O(k * w)`.\r\n\r\nSo, if you are going to perform only a few searches, it doesn&#39;t make much sense to build a `Set`; you can use simple (sequential) search in an `List` (e.g with `List.indexOf`). But if you are going to perform many searches, building a `Set` in advance, will certainly be more effective.\r\n\r\n","title":"Time complexity when Stream, string split and collect are used together","body":"<p>Let <code>n</code> be the string length, <code>k</code> the number of comma-separated words, and <code>w</code> the maximum length of a word. Also, lets assume that our unit cost is character comparison/copying.</p>\n<p>Splitting the string to words (<code>String.split()</code> method) will cost <code>O(n)</code>.</p>\n<p>Building a <code>Set</code> from these words will cost <code>O(k * log(k) * w)</code> if <code>Set</code> is implemented as <code>TreeSet</code>, or <code>O(k * w)</code> if <code>Set</code> is implemented as <code>HashSet</code> (with some sensible load factor). So, roughly <code>O(n * log(n))</code> and <code>O(n)</code> respectively. Searching in a <code>Set</code> will be <code>O(log(k) * w)</code> and <code>O(1)</code> respectively (roughly <code>O(log(n))</code> and <code>O(1)</code>).</p>\n<p>Building an array (or <code>ArrayList</code>) will cost <code>O(k * w)</code> or roughly <code>O(n)</code>.\nSearching in an array will be also <code>O(k * w)</code>.</p>\n<p>So, if you are going to perform only a few searches, it doesn't make much sense to build a <code>Set</code>; you can use simple (sequential) search in an <code>List</code> (e.g with <code>List.indexOf</code>). But if you are going to perform many searches, building a <code>Set</code> in advance, will certainly be more effective.</p>\n"}],"owner":{"account_id":7701730,"reputation":33,"user_id":5834046,"display_name":"Amit Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72325419,"answer_count":1,"score":0,"last_activity_date":1653228529,"creation_date":1653027506,"question_id":72314353,"body_markdown":"I have to split a string using comma delimiters and lookup a value in it. I am thinking which way is faster splitting string in array and checking if array contains it or splitting string in Set and doing lookup in Set.\r\n\r\nI want to know what is the time complexity of below two statements in Java:\r\n\r\n```java\r\n// statement #1\r\nSet&lt;String&gt; result = Stream.of(givenString.split(&quot;,&quot;)).collect(Collectors.toSet());\r\n\r\n// statement #2\r\nString[] split = givenString.trim().split(&quot;,&quot;);\r\n```\r\n\r\nAre they both `O(n)` ?","title":"Time complexity when Stream, string split and collect are used together","body":"<p>I have to split a string using comma delimiters and lookup a value in it. I am thinking which way is faster splitting string in array and checking if array contains it or splitting string in Set and doing lookup in Set.</p>\n<p>I want to know what is the time complexity of below two statements in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// statement #1\nSet&lt;String&gt; result = Stream.of(givenString.split(&quot;,&quot;)).collect(Collectors.toSet());\n\n// statement #2\nString[] split = givenString.trim().split(&quot;,&quot;);\n</code></pre>\n<p>Are they both <code>O(n)</code> ?</p>\n"},{"tags":["java","performance","optimization","biginteger","fibonacci"],"comments":[{"owner":{"account_id":317159,"reputation":8327,"user_id":633684,"display_name":"xiaofeng.li"},"score":2,"creation_date":1428627912,"post_id":29551608,"comment_id":47254689,"body_markdown":"You can profile it. Or you could try a log(n) algorithm. http://tech-queries.blogspot.com.au/2010/09/nth-fibbonacci-number-in-ologn.html?m=1","body":"You can profile it. Or you could try a log(n) algorithm. <a href=\"http://tech-queries.blogspot.com.au/2010/09/nth-fibbonacci-number-in-ologn.html?m=1\" rel=\"nofollow noreferrer\">tech-queries.blogspot.com.au/2010/09/&hellip;</a>"},{"owner":{"account_id":450407,"reputation":7155,"user_id":845704,"accept_rate":89,"display_name":"James Hay"},"score":4,"creation_date":1428627915,"post_id":29551608,"comment_id":47254691,"body_markdown":"I think this might be a good question over on [Codereview](http://codereview.stackexchange.com/)","body":"I think this might be a good question over on <a href=\"http://codereview.stackexchange.com/\">Codereview</a>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1428628456,"post_id":29551608,"comment_id":47254839,"body_markdown":"Use a [closed-form formula](http://www.scibuff.com/2009/05/13/golden-nature-closed-form-formula-for-fibonacci-sequence/). Like [Binet&#39;s](http://mathworld.wolfram.com/BinetsFibonacciNumberFormula.html).","body":"Use a <a href=\"http://www.scibuff.com/2009/05/13/golden-nature-closed-form-formula-for-fibonacci-sequence/\" rel=\"nofollow noreferrer\">closed-form formula</a>. Like <a href=\"http://mathworld.wolfram.com/BinetsFibonacciNumberFormula.html\" rel=\"nofollow noreferrer\">Binet&#39;s</a>."},{"owner":{"account_id":1686251,"reputation":4392,"user_id":1549476,"accept_rate":88,"display_name":"k_g"},"score":0,"creation_date":1428630672,"post_id":29551608,"comment_id":47255416,"body_markdown":"@ElliottFrisch if you want exact results, a closed form formula is actually really slow for large `n`, as the only way to calculate it precisely is to calculate large binomial coefficients.","body":"@ElliottFrisch if you want exact results, a closed form formula is actually really slow for large <code>n</code>, as the only way to calculate it precisely is to calculate large binomial coefficients."},{"owner":{"account_id":1686251,"reputation":4392,"user_id":1549476,"accept_rate":88,"display_name":"k_g"},"score":0,"creation_date":1428631180,"post_id":29551608,"comment_id":47255553,"body_markdown":"@ElliottFrisch The OP&#39;s solution (at least the one I see here) is not recursive, it uses the last two values and keeps adding. If you factor non-constant addition, it has a complexity of `n^2` (`F_n ~ phi^n` so addition is `~ log(F_n) ~ n`). A closed form solution is probably better, but probably not as good as an `n*log (n)` solution like the one given by @infgeoax (I say `n*log (n)` again because addition is not constant time)","body":"@ElliottFrisch The OP&#39;s solution (at least the one I see here) is not recursive, it uses the last two values and keeps adding. If you factor non-constant addition, it has a complexity of <code>n^2</code> (<code>F_n ~ phi^n</code> so addition is <code>~ log(F_n) ~ n</code>). A closed form solution is probably better, but probably not as good as an <code>n*log (n)</code> solution like the one given by @infgeoax (I say <code>n*log (n)</code> again because addition is not constant time)"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1428631399,"post_id":29551608,"comment_id":47255604,"body_markdown":"@k_g Sorry. You&#39;re right, it&#39;s iterative. And fair enough.","body":"@k_g Sorry. You&#39;re right, it&#39;s iterative. And fair enough."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1428633647,"post_id":29551608,"comment_id":47256170,"body_markdown":"You should use `BigInteger.ZERO, ONE, TWO` where possible, and `BigInteger.valueOf()` rather than `new BigInteger(...)`. But if you really want to do this fast you should use a better algorithm.","body":"You should use <code>BigInteger.ZERO, ONE, TWO</code> where possible, and <code>BigInteger.valueOf()</code> rather than <code>new BigInteger(...)</code>. But if you really want to do this fast you should use a better algorithm."}],"answers":[{"tags":[],"owner":{"account_id":317159,"reputation":8327,"user_id":633684,"display_name":"xiaofeng.li"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1428639090,"creation_date":1428639090,"answer_id":29553236,"question_id":29551608,"body_markdown":"One way is to calculate the `(N-1)th` power of the 2x2 matrix:\r\n\r\n    A = ((1, 1), (1, 0))\r\n\r\nThen we have \r\n    \r\n    Fib(n) = A^(n-1)[0][0], for n &gt;= 1\r\n\r\nAnd the power of matrix `A` can be calculated efficiently using [Exponentiation by squaring][1]\r\n\r\n  [1]: https://stackoverflow.com/questions/101439/the-most-efficient-way-to-implement-an-integer-based-power-function-powint-int","title":"Very Large Fibonacci in Java","body":"<p>One way is to calculate the <code>(N-1)th</code> power of the 2x2 matrix:</p>\n\n<pre><code>A = ((1, 1), (1, 0))\n</code></pre>\n\n<p>Then we have </p>\n\n<pre><code>Fib(n) = A^(n-1)[0][0], for n &gt;= 1\n</code></pre>\n\n<p>And the power of matrix <code>A</code> can be calculated efficiently using <a href=\"https://stackoverflow.com/questions/101439/the-most-efficient-way-to-implement-an-integer-based-power-function-powint-int\">Exponentiation by squaring</a></p>\n"},{"tags":[],"owner":{"account_id":25354249,"reputation":1,"user_id":19170644,"display_name":"rehan khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653228408,"creation_date":1653171922,"answer_id":72333628,"question_id":29551608,"body_markdown":"    static void multiply(BigInteger m[][], BigInteger n[][]) {\r\n        BigInteger a = (m[0][0].multiply(n[0][0])).add(m[0][1].multiply(n[1][0]));\r\n        BigInteger b = (m[0][0].multiply(n[0][1])).add(m[0][1].multiply(n[1][1]));\r\n        BigInteger c = (m[1][0].multiply(n[0][0])).add(m[1][1].multiply(n[0][1]));\r\n        BigInteger d = (m[1][0].multiply(n[0][1])).add(m[1][1].multiply(n[1][1]));\r\n        m[0][0] = a;\r\n        m[0][1] = b;\r\n        m[1][0] = c;\r\n        m[1][1] = d;\r\n    }\r\n\r\n    static void fib(int x) {\r\n        BigInteger m[][] = new BigInteger[2][2];\r\n        m[0][0] = new BigInteger(&quot;1&quot;);\r\n        m[0][1] = new BigInteger(&quot;1&quot;); //f1\r\n        m[1][0] = new BigInteger(&quot;1&quot;);\r\n        m[1][1] = new BigInteger(&quot;0&quot;);\r\n\r\n        BigInteger n[][] = new BigInteger[2][2];\r\n        n[0][0] = new BigInteger(&quot;1&quot;);\r\n        n[0][1] = new BigInteger(&quot;1&quot;); //f1\r\n        n[1][0] = new BigInteger(&quot;1&quot;);\r\n        n[1][1] = new BigInteger(&quot;0&quot;);\r\n\r\n        int i = x;\r\n        ArrayList &lt;Integer&gt; a = new ArrayList&lt;&gt;();\r\n        while (i != 1) {\r\n            if (i%2 == 0) {\r\n                a.add(0);\r\n                i = i / 2;\r\n            } else {\r\n                a.add(1);\r\n                i = i / 2;\r\n            }\r\n        }\r\n        for (int j = a.size() - 1; j &gt;= 0 ; j--) {\r\n            if (a.get(j) == 0) {\r\n                multiply(m, m);\r\n            } else {\r\n                multiply(m, m);\r\n                multiply(m, n);\r\n            }\r\n        }\r\n        System.out.println(m[1][0]);\r\n    }","title":"Very Large Fibonacci in Java","body":"<pre><code>static void multiply(BigInteger m[][], BigInteger n[][]) {\n    BigInteger a = (m[0][0].multiply(n[0][0])).add(m[0][1].multiply(n[1][0]));\n    BigInteger b = (m[0][0].multiply(n[0][1])).add(m[0][1].multiply(n[1][1]));\n    BigInteger c = (m[1][0].multiply(n[0][0])).add(m[1][1].multiply(n[0][1]));\n    BigInteger d = (m[1][0].multiply(n[0][1])).add(m[1][1].multiply(n[1][1]));\n    m[0][0] = a;\n    m[0][1] = b;\n    m[1][0] = c;\n    m[1][1] = d;\n}\n\nstatic void fib(int x) {\n    BigInteger m[][] = new BigInteger[2][2];\n    m[0][0] = new BigInteger(&quot;1&quot;);\n    m[0][1] = new BigInteger(&quot;1&quot;); //f1\n    m[1][0] = new BigInteger(&quot;1&quot;);\n    m[1][1] = new BigInteger(&quot;0&quot;);\n\n    BigInteger n[][] = new BigInteger[2][2];\n    n[0][0] = new BigInteger(&quot;1&quot;);\n    n[0][1] = new BigInteger(&quot;1&quot;); //f1\n    n[1][0] = new BigInteger(&quot;1&quot;);\n    n[1][1] = new BigInteger(&quot;0&quot;);\n\n    int i = x;\n    ArrayList &lt;Integer&gt; a = new ArrayList&lt;&gt;();\n    while (i != 1) {\n        if (i%2 == 0) {\n            a.add(0);\n            i = i / 2;\n        } else {\n            a.add(1);\n            i = i / 2;\n        }\n    }\n    for (int j = a.size() - 1; j &gt;= 0 ; j--) {\n        if (a.get(j) == 0) {\n            multiply(m, m);\n        } else {\n            multiply(m, m);\n            multiply(m, n);\n        }\n    }\n    System.out.println(m[1][0]);\n}\n</code></pre>\n"}],"owner":{"account_id":4991834,"reputation":2957,"user_id":4013781,"accept_rate":92,"display_name":"Chris Parry"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29553236,"answer_count":2,"score":1,"last_activity_date":1653228408,"creation_date":1428627578,"question_id":29551608,"body_markdown":"I am trying to rapidly calculate large Fibonacci numbers. Here is my code. It is prohibitively slow for numbers above 1 million, how can it be improved?  \r\n     \r\n    public static BigInteger fib(BigInteger n) {\r\n        \t\r\n        \tint k = n.intValue();\r\n            BigInteger ans = null;\r\n            \r\n            if(k == 0) { \r\n            \tans = new BigInteger(&quot;0&quot;);\r\n            } else if(Math.abs(k) &lt;= 2) {\r\n            \tans = new BigInteger(&quot;1&quot;);\r\n            } else {\r\n                BigInteger km1 = new BigInteger(&quot;1&quot;);\r\n                BigInteger km2 = new BigInteger(&quot;1&quot;);\r\n                \r\n                for(int i = 3; i &lt;= Math.abs(k); ++i) {\r\n                    ans = km1.add(km2);\r\n                    km2 = km1;\r\n                    km1 = ans;\r\n                }\r\n            }\r\n            \r\n           if(k&lt;0 &amp;&amp; k%2==0) { ans = ans.negate(); }\r\n           return ans;\r\n        } \r\n    \r\n\r\nBinet&#39;s worked well. Thanks guys! ","title":"Very Large Fibonacci in Java","body":"<p>I am trying to rapidly calculate large Fibonacci numbers. Here is my code. It is prohibitively slow for numbers above 1 million, how can it be improved?  </p>\n\n<pre><code>public static BigInteger fib(BigInteger n) {\n\n        int k = n.intValue();\n        BigInteger ans = null;\n\n        if(k == 0) { \n            ans = new BigInteger(\"0\");\n        } else if(Math.abs(k) &lt;= 2) {\n            ans = new BigInteger(\"1\");\n        } else {\n            BigInteger km1 = new BigInteger(\"1\");\n            BigInteger km2 = new BigInteger(\"1\");\n\n            for(int i = 3; i &lt;= Math.abs(k); ++i) {\n                ans = km1.add(km2);\n                km2 = km1;\n                km1 = ans;\n            }\n        }\n\n       if(k&lt;0 &amp;&amp; k%2==0) { ans = ans.negate(); }\n       return ans;\n    } \n</code></pre>\n\n<p>Binet's worked well. Thanks guys! </p>\n"},{"tags":["java","spring","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653228136,"creation_date":1653227706,"answer_id":72338212,"question_id":72337164,"body_markdown":"Mocking object construction is available since Mockito 3.5.0 according to [documentation][1].\r\n&lt;br&gt;First of all you need add the [mockito-inline][2] instead of the `mockito-core` to your test dependencies. \r\n&lt;br&gt;`mockito-inline` provides ability to mock static or final methods, constructors. https://stackoverflow.com/questions/65986197/difference-between-mockito-core-vs-mockito-inline\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n            &lt;version&gt;${mockito.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nLet&#39;s create a simple service for testing which instantiate objects. \r\n```java\r\npublic class A {\r\n    private final String test;\r\n\r\n    public A(String test) {\r\n        this.test = test;\r\n    }\r\n\r\n    public String check() {\r\n        return &quot;checked &quot; + this.test;\r\n    }\r\n}\r\n\r\npublic class B {\r\n    private String check = &quot; B check &quot;;\r\n\r\n    public String check() {\r\n        return check;\r\n    }\r\n\r\n}\r\n\r\npublic class TestService {\r\n    public String purchaseProduct(String param) {\r\n        A a = new A(param);\r\n        B b = new B();\r\n        return a.check() + b.check();\r\n    }\r\n}\r\n```\r\nExample of constructor mock with comments:\r\n```java\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockedConstruction;\r\nimport org.mockito.Mockito;\r\n\r\nimport static org.mockito.Mockito.when;\r\n\r\npublic class ConstructorMockTest {\r\n    @Test\r\n    public void test_mocked_construction()  {\r\n        try (\r\n             //create mock for object A\r\n             MockedConstruction&lt;A&gt; mockedA = Mockito.mockConstruction(A.class,\r\n                (mock, context) -&gt; {\r\n                    //set return value for object A mock methods\r\n                    when(mock.check()).thenReturn(&quot; Constructor Mock A &quot;);\r\n             });\r\n             //create mock for object B\r\n             MockedConstruction&lt;B&gt; mockedB = Mockito.mockConstruction(B.class,\r\n                     (mock, context) -&gt; {\r\n                         //set return value for object B mock methods\r\n                         when(mock.check()).thenReturn(&quot; Constructor Mock B &quot;);\r\n             }))\r\n        {\r\n            // every A object creation is current try() scope returning a mock\r\n            A aObject = new A(&quot;test&quot;);\r\n            Assertions.assertEquals( aObject.check(), &quot; Constructor Mock A &quot;);\r\n\r\n            // every B object creation is current try() scope returning a mock\r\n            B bObject = new B();\r\n            Assertions.assertEquals( bObject.check(), &quot; Constructor Mock B &quot;);\r\n\r\n            //Example of testing service which creates A and B objects\r\n            TestService service = new TestService();\r\n            String serviceResult = service.purchaseProduct(&quot;test&quot;);\r\n\r\n            Assertions.assertEquals(serviceResult, &quot; Constructor Mock A  Constructor Mock B &quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nFor your classes example:\r\n```java\r\n    @Test\r\n    public void test() {\r\n        byte[] content = new byte[] {1,1};\r\n\r\n        try (\r\n                MockedConstruction&lt;PDFDocument&gt; mockedPDFDocument = Mockito.mockConstruction(PDFDocument.class,\r\n                        (mock, context) -&gt; {\r\n                            doNothing().when(mock).load(ArgumentMatchers.any(ByteArrayInputStream.class));\r\n                        });\r\n\r\n                MockedConstruction&lt;PSConverter&gt; mockedPSConverter = Mockito.mockConstruction(PSConverter.class,\r\n                        (mock, context) -&gt; {\r\n                            doAnswer(invocationOnMock -&gt; {\r\n                                ByteArrayOutputStream outputStream = invocationOnMock.getArgument(1);\r\n                                outputStream.write(content);\r\n                                return outputStream;\r\n                            }).when(mock).convert(ArgumentMatchers.any(), ArgumentMatchers.any(ByteArrayOutputStream.class));\r\n                        }))\r\n        {\r\n            //call services which instantiates PDFDocument and PSConverter\r\n            PDFDocument pdfDocument = new PDFDocument();\r\n            PSConverter psConverter = new PSConverter();\r\n\r\n            Assertions.assertTrue(org.mockito.internal.util.MockUtil.isMock(pdfDocument));\r\n            Assertions.assertTrue(org.mockito.internal.util.MockUtil.isMock(psConverter));\r\n        }\r\n    }\r\n```\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/3.5.0/org/mockito/Mockito.html#mocked_construction\r\n  [2]: https://mvnrepository.com/artifact/org.mockito/mockito-inline/4.5.1","title":"PowerMock whenNew Alternative","body":"<p>Mocking object construction is available since Mockito 3.5.0 according to <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/3.5.0/org/mockito/Mockito.html#mocked_construction\" rel=\"nofollow noreferrer\">documentation</a>.\n<br>First of all you need add the <a href=\"https://mvnrepository.com/artifact/org.mockito/mockito-inline/4.5.1\" rel=\"nofollow noreferrer\">mockito-inline</a> instead of the <code>mockito-core</code> to your test dependencies.\n<br><code>mockito-inline</code> provides ability to mock static or final methods, constructors. <a href=\"https://stackoverflow.com/questions/65986197/difference-between-mockito-core-vs-mockito-inline\">Difference between mockito-core vs mockito-inline</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;${mockito.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Let's create a simple service for testing which instantiate objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    private final String test;\n\n    public A(String test) {\n        this.test = test;\n    }\n\n    public String check() {\n        return &quot;checked &quot; + this.test;\n    }\n}\n\npublic class B {\n    private String check = &quot; B check &quot;;\n\n    public String check() {\n        return check;\n    }\n\n}\n\npublic class TestService {\n    public String purchaseProduct(String param) {\n        A a = new A(param);\n        B b = new B();\n        return a.check() + b.check();\n    }\n}\n</code></pre>\n<p>Example of constructor mock with comments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.MockedConstruction;\nimport org.mockito.Mockito;\n\nimport static org.mockito.Mockito.when;\n\npublic class ConstructorMockTest {\n    @Test\n    public void test_mocked_construction()  {\n        try (\n             //create mock for object A\n             MockedConstruction&lt;A&gt; mockedA = Mockito.mockConstruction(A.class,\n                (mock, context) -&gt; {\n                    //set return value for object A mock methods\n                    when(mock.check()).thenReturn(&quot; Constructor Mock A &quot;);\n             });\n             //create mock for object B\n             MockedConstruction&lt;B&gt; mockedB = Mockito.mockConstruction(B.class,\n                     (mock, context) -&gt; {\n                         //set return value for object B mock methods\n                         when(mock.check()).thenReturn(&quot; Constructor Mock B &quot;);\n             }))\n        {\n            // every A object creation is current try() scope returning a mock\n            A aObject = new A(&quot;test&quot;);\n            Assertions.assertEquals( aObject.check(), &quot; Constructor Mock A &quot;);\n\n            // every B object creation is current try() scope returning a mock\n            B bObject = new B();\n            Assertions.assertEquals( bObject.check(), &quot; Constructor Mock B &quot;);\n\n            //Example of testing service which creates A and B objects\n            TestService service = new TestService();\n            String serviceResult = service.purchaseProduct(&quot;test&quot;);\n\n            Assertions.assertEquals(serviceResult, &quot; Constructor Mock A  Constructor Mock B &quot;);\n        }\n    }\n}\n</code></pre>\n<p>For your classes example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void test() {\n        byte[] content = new byte[] {1,1};\n\n        try (\n                MockedConstruction&lt;PDFDocument&gt; mockedPDFDocument = Mockito.mockConstruction(PDFDocument.class,\n                        (mock, context) -&gt; {\n                            doNothing().when(mock).load(ArgumentMatchers.any(ByteArrayInputStream.class));\n                        });\n\n                MockedConstruction&lt;PSConverter&gt; mockedPSConverter = Mockito.mockConstruction(PSConverter.class,\n                        (mock, context) -&gt; {\n                            doAnswer(invocationOnMock -&gt; {\n                                ByteArrayOutputStream outputStream = invocationOnMock.getArgument(1);\n                                outputStream.write(content);\n                                return outputStream;\n                            }).when(mock).convert(ArgumentMatchers.any(), ArgumentMatchers.any(ByteArrayOutputStream.class));\n                        }))\n        {\n            //call services which instantiates PDFDocument and PSConverter\n            PDFDocument pdfDocument = new PDFDocument();\n            PSConverter psConverter = new PSConverter();\n\n            Assertions.assertTrue(org.mockito.internal.util.MockUtil.isMock(pdfDocument));\n            Assertions.assertTrue(org.mockito.internal.util.MockUtil.isMock(psConverter));\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":20084709,"reputation":216,"user_id":14726554,"display_name":"Emre Varol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5954,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72338212,"answer_count":1,"score":3,"last_activity_date":1653228136,"creation_date":1653219012,"question_id":72337164,"body_markdown":"I don&#39;t want to use powermock anymore. Because junit5 started mocking static classes. So i am trying to get rid of powermock methods.\r\n\r\nAs you know, you can create an instance of a class with whenNew keyword.\r\n\r\nIs there any alternative in Junit5 for whenNew?\r\n\r\nHere is a part of my code:\r\n\r\n                    whenNew(PDFDocument.class).withNoArguments().thenReturn(pdfDocument);\r\n                    whenNew(PSConverter.class).withNoArguments().thenReturn(converter);\r\n                    doNothing().when(pdfDocument).load(ArgumentMatchers.any(ByteArrayInputStream.class));\r\n                    doAnswer(invocationOnMock -&gt; {\r\n                        ByteArrayOutputStream outputStream = invocationOnMock.getArgument(1);\r\n                        outputStream.write(content);\r\n                        return outputStream;\r\n                    }).when(converter).convert(ArgumentMatchers.any(), ArgumentMatchers.any(ByteArrayOutputStream.class));","title":"PowerMock whenNew Alternative","body":"<p>I don't want to use powermock anymore. Because junit5 started mocking static classes. So i am trying to get rid of powermock methods.</p>\n<p>As you know, you can create an instance of a class with whenNew keyword.</p>\n<p>Is there any alternative in Junit5 for whenNew?</p>\n<p>Here is a part of my code:</p>\n<pre><code>                whenNew(PDFDocument.class).withNoArguments().thenReturn(pdfDocument);\n                whenNew(PSConverter.class).withNoArguments().thenReturn(converter);\n                doNothing().when(pdfDocument).load(ArgumentMatchers.any(ByteArrayInputStream.class));\n                doAnswer(invocationOnMock -&gt; {\n                    ByteArrayOutputStream outputStream = invocationOnMock.getArgument(1);\n                    outputStream.write(content);\n                    return outputStream;\n                }).when(converter).convert(ArgumentMatchers.any(), ArgumentMatchers.any(ByteArrayOutputStream.class));\n</code></pre>\n"},{"tags":["java","bufferedreader","filereader","netbeans-13"],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653227487,"creation_date":1653226408,"answer_id":72338034,"question_id":72337949,"body_markdown":"When you perform the following statement you&#39;ve already read your entire file, so there are no lines left to read.\r\n\r\n```\r\nSystem.out.println(sc.nextLine()+sc.hasNextLine()+&quot;\\n&quot;+sc.nextLine()+sc.hasNext()+&quot;\\n&quot;+sc.nextLine()+&quot;\\n&quot;+sc.nextLine()+sc.hasNextLine());\r\n```\r\n\r\nThis is why your following iterations stop immediately and don&#39;t show the expected output. Maybe, what you were expecting was for the Scanner&#39;s internal cursor to reset itself once the end of file was reached. However, this is definitely not the behavior of the `Scanner` class (or any other), and none of its methods offer to reset or reposition the Scanner&#39;s cursor to a specific point of the file. \r\n\r\nWhat you need to do is to close your connections and re-establish them in order to restart reading the content. For example, you could include every file consumption within a try block to automatically dispose every connection once you&#39;re done.\r\n\r\nTo simplify your code, in your first loop you could count the number of lines and check for the line with &quot;the most columns&quot;, while in your second loop you could re-read the file&#39;s content. \r\n\r\n```\r\npublic class Main {\r\n    public static void main(String args[]) {\r\n        int row = 0;\r\n        int column = 0;\r\n        int tmp = 0;\r\n\r\n        try (FileReader fr = new FileReader(&quot;src\\\\Table.txt&quot;);\r\n             BufferedReader br = (new BufferedReader(fr));\r\n             Scanner sc = new Scanner(br)) {\r\n\r\n            //First file consumption\r\n            while (sc.hasNextLine()) {\r\n                row++;\r\n                tmp = sc.nextLine().split(&quot;,&quot;).length;\r\n                if (tmp &gt; column) {\r\n                    column = tmp;\r\n                }\r\n            }\r\n            System.out.println(row);\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        try (FileReader fr = new FileReader(&quot;src\\\\Table.txt&quot;);\r\n             BufferedReader br = (new BufferedReader(fr));\r\n             Scanner sc = new Scanner(br)) {\r\n\r\n            //Second file consumption\r\n            String[][] myArray = new String[row][column];\r\n            for (int i = 0; i &lt; myArray.length; i++) {\r\n                String[] line = sc.nextLine().trim().split(&quot;,&quot;);\r\n                for (int j = 0; j &lt; line.length; j++) {\r\n                    myArray[i][j] = line[j];\r\n                }\r\n            }\r\n            System.out.println(Arrays.deepToString(myArray));\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```","title":"Reading table from a text file to a 2darray","body":"<p>When you perform the following statement you've already read your entire file, so there are no lines left to read.</p>\n<pre><code>System.out.println(sc.nextLine()+sc.hasNextLine()+&quot;\\n&quot;+sc.nextLine()+sc.hasNext()+&quot;\\n&quot;+sc.nextLine()+&quot;\\n&quot;+sc.nextLine()+sc.hasNextLine());\n</code></pre>\n<p>This is why your following iterations stop immediately and don't show the expected output. Maybe, what you were expecting was for the Scanner's internal cursor to reset itself once the end of file was reached. However, this is definitely not the behavior of the <code>Scanner</code> class (or any other), and none of its methods offer to reset or reposition the Scanner's cursor to a specific point of the file.</p>\n<p>What you need to do is to close your connections and re-establish them in order to restart reading the content. For example, you could include every file consumption within a try block to automatically dispose every connection once you're done.</p>\n<p>To simplify your code, in your first loop you could count the number of lines and check for the line with &quot;the most columns&quot;, while in your second loop you could re-read the file's content.</p>\n<pre><code>public class Main {\n    public static void main(String args[]) {\n        int row = 0;\n        int column = 0;\n        int tmp = 0;\n\n        try (FileReader fr = new FileReader(&quot;src\\\\Table.txt&quot;);\n             BufferedReader br = (new BufferedReader(fr));\n             Scanner sc = new Scanner(br)) {\n\n            //First file consumption\n            while (sc.hasNextLine()) {\n                row++;\n                tmp = sc.nextLine().split(&quot;,&quot;).length;\n                if (tmp &gt; column) {\n                    column = tmp;\n                }\n            }\n            System.out.println(row);\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n        try (FileReader fr = new FileReader(&quot;src\\\\Table.txt&quot;);\n             BufferedReader br = (new BufferedReader(fr));\n             Scanner sc = new Scanner(br)) {\n\n            //Second file consumption\n            String[][] myArray = new String[row][column];\n            for (int i = 0; i &lt; myArray.length; i++) {\n                String[] line = sc.nextLine().trim().split(&quot;,&quot;);\n                for (int j = 0; j &lt; line.length; j++) {\n                    myArray[i][j] = line[j];\n                }\n            }\n            System.out.println(Arrays.deepToString(myArray));\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24421238,"reputation":43,"user_id":18347441,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72338034,"answer_count":1,"score":1,"last_activity_date":1653227487,"creation_date":1653225846,"question_id":72337949,"body_markdown":"i have a java code where i read a txt file, then iterate it so that i can fill it in a 2d array.\r\nafter i read the file i was able to print out its contents so i was sure that the file was read. and i was also sure that the bufferedreader library&#39;s .hasNextLine method was showing true when a line was found.\r\nbut when i used it in a while loop, it just acted as if no lines where found, thus it didnt iterate, hense i couldn&#39;t know how many rows i had in the table.==&gt;\r\n```\r\n\r\nwhile (sc.hasNextLine()==true){ row++;}\r\n\r\n```\r\nfurthermore, when i hard-coded the number of rows so that i could check if everything else was ok, i got a line not found error. please help me out.\r\ni will link the code below.\r\n```\r\n\r\n    package com.company;\r\n    import java.io.BufferedReader;\r\n   import java.io.FileReader;\r\n   import java.util.Arrays;\r\n   import java.util.Scanner;\r\n   public class Main {\r\n\r\n        public static void \r\n    main(String args[]) throws Exception {\r\n        int row=0;\r\n        int column=0;\r\n        int count=0;\r\n\r\n        BufferedReader x = new BufferedReader(new FileReader(&quot;src\\\\Table.txt&quot;));\r\n        Scanner sc = new Scanner(x);\r\n        System.out.println(sc.nextLine()+sc.hasNextLine()+&quot;\\n&quot;+sc.nextLine()+sc.hasNext()+&quot;\\n&quot;+sc.nextLine()+&quot;\\n&quot;+sc.nextLine()+sc.hasNextLine());\r\n\r\n        while (sc.hasNextLine()==true){ row++;}\r\n        System.out.println(row);\r\n        for (int i=0; i&lt;row; i++) {\r\n            String[] line = sc.nextLine().trim().split(&quot;,&quot;);\r\n            System.out.println(line);\r\n            for (String line1 : line) {\r\n                if (&quot;,&quot;.equals(line1)) {\r\n                    count++;\r\n                }\r\n                count+=1;\r\n                if(count&gt;column){\r\n                    column=count;\r\n                }\r\n            }\r\n        }\r\n        String [][] myArray = new String[row][column];\r\n\r\n\r\n        for (int i=0; i&lt;myArray.length; i++) {\r\n            String[] line = sc.nextLine().trim().split(&quot;,&quot;);\r\n            for (int j=0; j&lt;line.length; j++) {\r\n                myArray[i][j]= line[j];\r\n            }\r\n        }\r\n\r\n        System.out.println(Arrays.deepToString(myArray));\r\n    }\r\n}\r\n\r\n```\r\ni also get this output\r\n```\r\n&quot;C:\\Program Files\\Java\\jdk-12.0.1\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.2\\lib\\idea_rt.jar=52205:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\acer pc\\IdeaProjects\\PDM\\out\\production\\PDM&quot; com.company.Main\r\nCalculusII,Algebra,Networktrue\r\nCalculusII,Algebra,Webtrue\r\nCalculusIII,Prog2,Network\r\nAlgebra,Prog1,Webfalse\r\n0\r\n[]\r\n\r\nProcess finished with exit code 0\r\n```\r\n","title":"Reading table from a text file to a 2darray","body":"<p>i have a java code where i read a txt file, then iterate it so that i can fill it in a 2d array.\nafter i read the file i was able to print out its contents so i was sure that the file was read. and i was also sure that the bufferedreader library's .hasNextLine method was showing true when a line was found.\nbut when i used it in a while loop, it just acted as if no lines where found, thus it didnt iterate, hense i couldn't know how many rows i had in the table.==&gt;</p>\n<pre><code>\nwhile (sc.hasNextLine()==true){ row++;}\n\n</code></pre>\n<p>furthermore, when i hard-coded the number of rows so that i could check if everything else was ok, i got a line not found error. please help me out.\ni will link the code below.</p>\n<pre><code>\n    package com.company;\n    import java.io.BufferedReader;\n   import java.io.FileReader;\n   import java.util.Arrays;\n   import java.util.Scanner;\n   public class Main {\n\n        public static void \n    main(String args[]) throws Exception {\n        int row=0;\n        int column=0;\n        int count=0;\n\n        BufferedReader x = new BufferedReader(new FileReader(&quot;src\\\\Table.txt&quot;));\n        Scanner sc = new Scanner(x);\n        System.out.println(sc.nextLine()+sc.hasNextLine()+&quot;\\n&quot;+sc.nextLine()+sc.hasNext()+&quot;\\n&quot;+sc.nextLine()+&quot;\\n&quot;+sc.nextLine()+sc.hasNextLine());\n\n        while (sc.hasNextLine()==true){ row++;}\n        System.out.println(row);\n        for (int i=0; i&lt;row; i++) {\n            String[] line = sc.nextLine().trim().split(&quot;,&quot;);\n            System.out.println(line);\n            for (String line1 : line) {\n                if (&quot;,&quot;.equals(line1)) {\n                    count++;\n                }\n                count+=1;\n                if(count&gt;column){\n                    column=count;\n                }\n            }\n        }\n        String [][] myArray = new String[row][column];\n\n\n        for (int i=0; i&lt;myArray.length; i++) {\n            String[] line = sc.nextLine().trim().split(&quot;,&quot;);\n            for (int j=0; j&lt;line.length; j++) {\n                myArray[i][j]= line[j];\n            }\n        }\n\n        System.out.println(Arrays.deepToString(myArray));\n    }\n}\n\n</code></pre>\n<p>i also get this output</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk-12.0.1\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.2\\lib\\idea_rt.jar=52205:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\acer pc\\IdeaProjects\\PDM\\out\\production\\PDM&quot; com.company.Main\nCalculusII,Algebra,Networktrue\nCalculusII,Algebra,Webtrue\nCalculusIII,Prog2,Network\nAlgebra,Prog1,Webfalse\n0\n[]\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":22737687,"reputation":1,"user_id":16899663,"display_name":"Prem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653227313,"creation_date":1653227313,"answer_id":72338160,"question_id":72336733,"body_markdown":"SharedPreferences in Kotlin/Java can be used to store data values of type (String, Int, Long, Float, Boolean etc) in the system&#39;s memory, so that even after the application terminates so that you can retrieve it later on. \r\n\r\nLet&#39;s say you want save a String value,\r\n\r\n```\r\n// Declare a shared preference\r\nval sharedPref = getSharedPreferences(&#39;MySharedPref&#39;, MODE_PRIVATE)\r\n\r\n// Initial value\r\nval doorState: String = &quot;Opened&quot;\r\n\r\neditDoorState(doorState)\r\n// So whenever the doorState changes, we can save it, so even if the application is\r\n// terminated or killed and restarts again, the last edited value can be retrieved.\r\n// This is commonly used to store a single data value.\r\n\r\n\r\n\r\n// Function to save the doorstate change(of type String) \r\nfun editDoorState(value: String) {\r\n  val sharedPrefEditor = sharedPref.edit()\r\n\r\n  // Where the &#39;doorState&#39; is the SharedPreference Key.\r\n  // To retrieve the value, key must be produced.\r\n  sharedPrefEditor.putString(&#39;doorState&#39;, value)\r\n  sharedPrefEditor.commit()\r\n}\r\n```\r\n\r\n\r\nFor more information, check out the official documentation from Android [here](https://developer.android.com/training/data-storage/shared-preferences).","title":"kotlin / java sharedPreferences meaning in android studio","body":"<p>SharedPreferences in Kotlin/Java can be used to store data values of type (String, Int, Long, Float, Boolean etc) in the system's memory, so that even after the application terminates so that you can retrieve it later on.</p>\n<p>Let's say you want save a String value,</p>\n<pre><code>// Declare a shared preference\nval sharedPref = getSharedPreferences('MySharedPref', MODE_PRIVATE)\n\n// Initial value\nval doorState: String = &quot;Opened&quot;\n\neditDoorState(doorState)\n// So whenever the doorState changes, we can save it, so even if the application is\n// terminated or killed and restarts again, the last edited value can be retrieved.\n// This is commonly used to store a single data value.\n\n\n\n// Function to save the doorstate change(of type String) \nfun editDoorState(value: String) {\n  val sharedPrefEditor = sharedPref.edit()\n\n  // Where the 'doorState' is the SharedPreference Key.\n  // To retrieve the value, key must be produced.\n  sharedPrefEditor.putString('doorState', value)\n  sharedPrefEditor.commit()\n}\n</code></pre>\n<p>For more information, check out the official documentation from Android <a href=\"https://developer.android.com/training/data-storage/shared-preferences\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":14345501,"reputation":1,"user_id":10362454,"display_name":"Stream Levin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653227313,"creation_date":1653215408,"question_id":72336733,"body_markdown":"What exactly does the sharedPreferences built in function mean in Kotlin / android studio? I&#39;ve tried reading the documentation from the official android studio docs and would like a simple understanding on how I can use to share the data.","title":"kotlin / java sharedPreferences meaning in android studio","body":"<p>What exactly does the sharedPreferences built in function mean in Kotlin / android studio? I've tried reading the documentation from the official android studio docs and would like a simple understanding on how I can use to share the data.</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":4665707,"reputation":320,"user_id":3778815,"display_name":"Harry"},"score":0,"creation_date":1652987082,"post_id":72309452,"comment_id":127747213,"body_markdown":"you are auto wiring UserRepository, while CarService is passed in the constructor. Why not autowire the constructor and then pass both CarService and UserRepository in the constructor.","body":"you are auto wiring UserRepository, while CarService is passed in the constructor. Why not autowire the constructor and then pass both CarService and UserRepository in the constructor."},{"owner":{"account_id":7075035,"reputation":23,"user_id":5415377,"display_name":"Robert "},"score":0,"creation_date":1652987547,"post_id":72309452,"comment_id":127747343,"body_markdown":"like this ?\n@Autowired\npublic CarController(CarService carService, UserRepository userRepository) {\t\t\t\n};","body":"like this ? @Autowired public CarController(CarService carService, UserRepository userRepository) {\t\t\t };"},{"owner":{"account_id":4665707,"reputation":320,"user_id":3778815,"display_name":"Harry"},"score":0,"creation_date":1653033964,"post_id":72309452,"comment_id":127756730,"body_markdown":"yes having multiple ways of injecting causes many complications which you can identify using unit testing. At least until the whole flow is working you can keep it simple. Also can you please add the UserRepository code?","body":"yes having multiple ways of injecting causes many complications which you can identify using unit testing. At least until the whole flow is working you can keep it simple. Also can you please add the UserRepository code?"},{"owner":{"account_id":7075035,"reputation":23,"user_id":5415377,"display_name":"Robert "},"score":0,"creation_date":1653057263,"post_id":72309452,"comment_id":127765260,"body_markdown":"Thanks for the info ! I will use it. I edited the post to add UserRepo","body":"Thanks for the info ! I will use it. I edited the post to add UserRepo"}],"answers":[{"tags":[],"owner":{"account_id":25326110,"reputation":64,"user_id":19146740,"display_name":"katyRosale"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652987250,"creation_date":1652987107,"answer_id":72309884,"question_id":72309452,"body_markdown":"I believe you need to mention cascade type in owner “cascade=CascadeType.ALL” and it essentially means that any change happened on User(owner)must cascade to Car as well.\r\n\r\nIf we save an User(owner), then all associated Cars will also be saved into the database. If you delete an User(owner) then all Cars associated with that User(owner) also be deleted. Simple enough !","title":"Using @ManyToOne how to map my one User to Cars?","body":"<p>I believe you need to mention cascade type in owner “cascade=CascadeType.ALL” and it essentially means that any change happened on User(owner)must cascade to Car as well.</p>\n<p>If we save an User(owner), then all associated Cars will also be saved into the database. If you delete an User(owner) then all Cars associated with that User(owner) also be deleted. Simple enough !</p>\n"},{"tags":[],"owner":{"account_id":7075035,"reputation":23,"user_id":5415377,"display_name":"Robert "},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653227120,"creation_date":1653227120,"answer_id":72338132,"question_id":72309452,"body_markdown":"I fixed it but it took me some time.\r\nThis is now endpoint to add a Car (so no @AuthenticationPrincipal)\r\n\r\n    @PostMapping(&quot;/api/cars/addCar&quot;)\r\n\t\tpublic String saveCar(@ModelAttribute(&quot;car&quot;) Car car, Principal \r\n        principal) {\r\n\t\t\tUser user = userService.getUserByName(principal.getName());\r\n\t\t\tcar.setOwner(user);\r\n\t\t\tcarService.saveCar(car);\r\n\t\t\treturn &quot;redirect:/api/cars&quot;;\r\n\t\t}\r\n\r\nI bet it&#39;s not a clean solution. I&#39;ve changed return type of UserRepository from Optional&lt;User&gt; to User. I think it will bring more problems in the future. But for now it works.\r\n","title":"Using @ManyToOne how to map my one User to Cars?","body":"<p>I fixed it but it took me some time.\nThis is now endpoint to add a Car (so no @AuthenticationPrincipal)</p>\n<pre><code>@PostMapping(&quot;/api/cars/addCar&quot;)\n    public String saveCar(@ModelAttribute(&quot;car&quot;) Car car, Principal \n    principal) {\n        User user = userService.getUserByName(principal.getName());\n        car.setOwner(user);\n        carService.saveCar(car);\n        return &quot;redirect:/api/cars&quot;;\n    }\n</code></pre>\n<p>I bet it's not a clean solution. I've changed return type of UserRepository from Optional to User. I think it will bring more problems in the future. But for now it works.</p>\n"}],"owner":{"account_id":7075035,"reputation":23,"user_id":5415377,"display_name":"Robert "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72338132,"answer_count":2,"score":0,"last_activity_date":1653227120,"creation_date":1652984759,"question_id":72309452,"body_markdown":"I am trying to map owner(User) with an offer(car) whenever user is adding an offer. With setup like below user_id is always null. What am i missing ? I think it&#39;s something with controller. Mappings seems ok to me but I may be wrong. \r\nOwner is the person who is logged in and adds an offer, so it should be mapped by his id.\r\n\r\nEdit\r\nI have found out that my @AuthenticationPrincipal Authentication auth is always null anyways, even tho only authenticated user can acces POST /api/cars endpoint. It seems counter-intuitive\r\n\r\nCar Controller\r\n\r\n        @Controller\r\n        public class CarController {\r\n\r\n        @Autowired\r\n\t\tprivate CarService carService;\r\n\t\t\r\n\t\t\r\n\t\t@Autowired\r\n\t\tUserRepository userRepository;\r\n\t\t\r\n\t\t@GetMapping(&quot;/api/cars&quot;)\r\n\t\tpublic String getCars(Model model) {\r\n\t\t\tmodel.addAttribute(&quot;cars&quot;, carService.getAllCars());\r\n\t\t\treturn &quot;cars&quot;;\r\n\t\t}\r\n\t\t\r\n\t\t@GetMapping(&quot;/api/cars/new&quot;)\r\n\t\tpublic String createNewCarOfferForm(Model model) {\r\n\t\t\tCar car = new Car();\r\n\t\t\tmodel.addAttribute(&quot;car&quot;, car);\r\n\t\t\treturn &quot;createNewOfferForm&quot;;\r\n\t\t}\r\n\t\t\r\n\t\t@PostMapping(&quot;/api/cars&quot;)\r\n\t\tpublic String saveCar(@ModelAttribute(&quot;car&quot;) Car car, @AuthenticationPrincipal Authentication auth) {\r\n\t\t\tUser customUser = (User)auth;\r\n\t\t\tcar.setOwner(customUser);\r\n\t\t\tcarService.saveCar(car);\r\n\t\t\treturn &quot;redirect:/api/cars&quot;;\r\n\t\t}\r\n\t\t\r\n\t\t@GetMapping(&quot;/api/cars/view/{id}&quot;)\r\n\t\tpublic String viewOffer(@PathVariable Long id, Model model) {\r\n\t\t\tmodel.addAttribute(&quot;car&quot;, carService.getCarById(id));\r\n\t\t\treturn &quot;viewOffer&quot;;\r\n\t\t}\r\n\t\t\r\n         }\r\n\r\nUser Entity\r\n\r\n    @Entity\r\n    public class User {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate String username;\r\n\tprivate String password;\r\n\tprivate String roles = &quot;ROLE_USER&quot;;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;owner&quot;)\r\n\tprivate Set&lt;Car&gt; cars = new HashSet&lt;&gt;();\r\n\t\r\n\tpublic User() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic User(String username, String password, String roles) {\r\n\t\tsuper();\r\n\t\tthis.username = username;\r\n\t\tthis.password = password;\r\n\t\tthis.roles = roles;\r\n    //GETTERS SETTERS\r\n\r\nCar entity \r\n\r\n    @Entity\r\n    public class Car {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate String carPhotoUrl;\r\n\tprivate String carTitle;\r\n\tprivate double price;\r\n\tprivate int yearModel;\r\n\tprivate int mileage;\r\n\tprivate String engineType;\r\n\tprivate float engineCapacity;\r\n\tprivate int enginePower;\r\n\tprivate String gearboxType;\r\n\tprivate String driveType;\r\n\tprivate String colour;\r\n\tprivate Boolean isDamaged;\r\n\t\r\n\t@ManyToOne(cascade = CascadeType.ALL)\r\n\t@JoinColumn(name=&quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate User owner;\r\n\t\r\n\tpublic Car() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic Car(String carPhotoUrl, String carTitle, double price, int yearModel, int mileage, String engineType,\r\n\t\t\tfloat engineCapacity, int enginePower, String gearboxType, String driveType, String colour,\r\n\t\t\tBoolean isDamaged) {\r\n\t\tsuper();\r\n\t\tthis.carPhotoUrl = carPhotoUrl;\r\n\t\tthis.carTitle = carTitle;\r\n\t\tthis.price = price;\r\n\t\tthis.yearModel = yearModel;\r\n\t\tthis.mileage = mileage;\r\n\t\tthis.engineType = engineType;\r\n\t\tthis.engineCapacity = engineCapacity;\r\n\t\tthis.enginePower = enginePower;\r\n\t\tthis.gearboxType = gearboxType;\r\n\t\tthis.driveType = driveType;\r\n\t\tthis.colour = colour;\r\n\t\tthis.isDamaged = isDamaged;\r\n\t}\r\n\r\n\t //GETTERS SETTERS\r\n\r\nUSER REPOSITORY \r\n\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; \r\n    {\r\n\t\r\n\tOptional&lt;User&gt; findByUsername(String username);\r\n\t\r\n\tOptional&lt;User&gt; findById(Long id);\r\n    }\r\n\r\nUser Details Service\r\n\r\n    public class UserDetailsService implements UserDetails{\r\n\t\r\n\tprivate String username;\r\n\tprivate String password;\r\n\tprivate List&lt;GrantedAuthority&gt; authorities;\r\n\t\r\n\tpublic UserDetailsService() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic UserDetailsService(User user){\r\n\t\tthis.username=user.getUsername();\r\n\t\tthis.password=user.getPassword();\r\n\t\tthis.authorities = Arrays.stream(user.getRoles().split(&quot;,&quot;))\r\n\t\t\t\t\t\t\t.map(SimpleGrantedAuthority::new)\r\n\t\t\t\t\t\t\t.collect(Collectors.toList()); \r\n\t}\r\n\r\n\t@Override\r\n\tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n\t\treturn authorities;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isAccountNonExpired() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isAccountNonLocked() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isCredentialsNonExpired() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isEnabled() {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\r\n\r\n\r\n\r\n","title":"Using @ManyToOne how to map my one User to Cars?","body":"<p>I am trying to map owner(User) with an offer(car) whenever user is adding an offer. With setup like below user_id is always null. What am i missing ? I think it's something with controller. Mappings seems ok to me but I may be wrong.\nOwner is the person who is logged in and adds an offer, so it should be mapped by his id.</p>\n<p>Edit\nI have found out that my @AuthenticationPrincipal Authentication auth is always null anyways, even tho only authenticated user can acces POST /api/cars endpoint. It seems counter-intuitive</p>\n<p>Car Controller</p>\n<pre><code>    @Controller\n    public class CarController {\n\n    @Autowired\n    private CarService carService;\n    \n    \n    @Autowired\n    UserRepository userRepository;\n    \n    @GetMapping(&quot;/api/cars&quot;)\n    public String getCars(Model model) {\n        model.addAttribute(&quot;cars&quot;, carService.getAllCars());\n        return &quot;cars&quot;;\n    }\n    \n    @GetMapping(&quot;/api/cars/new&quot;)\n    public String createNewCarOfferForm(Model model) {\n        Car car = new Car();\n        model.addAttribute(&quot;car&quot;, car);\n        return &quot;createNewOfferForm&quot;;\n    }\n    \n    @PostMapping(&quot;/api/cars&quot;)\n    public String saveCar(@ModelAttribute(&quot;car&quot;) Car car, @AuthenticationPrincipal Authentication auth) {\n        User customUser = (User)auth;\n        car.setOwner(customUser);\n        carService.saveCar(car);\n        return &quot;redirect:/api/cars&quot;;\n    }\n    \n    @GetMapping(&quot;/api/cars/view/{id}&quot;)\n    public String viewOffer(@PathVariable Long id, Model model) {\n        model.addAttribute(&quot;car&quot;, carService.getCarById(id));\n        return &quot;viewOffer&quot;;\n    }\n    \n     }\n</code></pre>\n<p>User Entity</p>\n<pre><code>@Entity\npublic class User {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\nprivate String username;\nprivate String password;\nprivate String roles = &quot;ROLE_USER&quot;;\n\n@OneToMany(mappedBy = &quot;owner&quot;)\nprivate Set&lt;Car&gt; cars = new HashSet&lt;&gt;();\n\npublic User() {\n    super();\n}\n\npublic User(String username, String password, String roles) {\n    super();\n    this.username = username;\n    this.password = password;\n    this.roles = roles;\n//GETTERS SETTERS\n</code></pre>\n<p>Car entity</p>\n<pre><code>@Entity\npublic class Car {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\nprivate String carPhotoUrl;\nprivate String carTitle;\nprivate double price;\nprivate int yearModel;\nprivate int mileage;\nprivate String engineType;\nprivate float engineCapacity;\nprivate int enginePower;\nprivate String gearboxType;\nprivate String driveType;\nprivate String colour;\nprivate Boolean isDamaged;\n\n@ManyToOne(cascade = CascadeType.ALL)\n@JoinColumn(name=&quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\nprivate User owner;\n\npublic Car() {\n    super();\n}\n\npublic Car(String carPhotoUrl, String carTitle, double price, int yearModel, int mileage, String engineType,\n        float engineCapacity, int enginePower, String gearboxType, String driveType, String colour,\n        Boolean isDamaged) {\n    super();\n    this.carPhotoUrl = carPhotoUrl;\n    this.carTitle = carTitle;\n    this.price = price;\n    this.yearModel = yearModel;\n    this.mileage = mileage;\n    this.engineType = engineType;\n    this.engineCapacity = engineCapacity;\n    this.enginePower = enginePower;\n    this.gearboxType = gearboxType;\n    this.driveType = driveType;\n    this.colour = colour;\n    this.isDamaged = isDamaged;\n}\n\n //GETTERS SETTERS\n</code></pre>\n<p>USER REPOSITORY</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; \n{\n\nOptional&lt;User&gt; findByUsername(String username);\n\nOptional&lt;User&gt; findById(Long id);\n}\n</code></pre>\n<p>User Details Service</p>\n<pre><code>public class UserDetailsService implements UserDetails{\n\nprivate String username;\nprivate String password;\nprivate List&lt;GrantedAuthority&gt; authorities;\n\npublic UserDetailsService() {\n    super();\n}\n\npublic UserDetailsService(User user){\n    this.username=user.getUsername();\n    this.password=user.getPassword();\n    this.authorities = Arrays.stream(user.getRoles().split(&quot;,&quot;))\n                        .map(SimpleGrantedAuthority::new)\n                        .collect(Collectors.toList()); \n}\n\n@Override\npublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n    return authorities;\n}\n\n@Override\npublic String getPassword() {\n    return password;\n}\n\n@Override\npublic String getUsername() {\n    return username;\n}\n\n@Override\npublic boolean isAccountNonExpired() {\n    return true;\n}\n\n@Override\npublic boolean isAccountNonLocked() {\n    return true;\n}\n\n@Override\npublic boolean isCredentialsNonExpired() {\n    return true;\n}\n\n@Override\npublic boolean isEnabled() {\n    return true;\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","performance","jpa"],"comments":[{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1653137974,"post_id":72329556,"comment_id":127780694,"body_markdown":"I see only multiple `INNER JOIN &lt;table_name&gt;` but not the `ON` clause.\nWhat are you inner joining them with? \nI believe syntax are like `SELECT * FROM TABLE1 t1 INNER JOIN TABLE2 t2 ON T1.some_column=T2.some_column`.\nAm I missing something here?","body":"I see only multiple <code>INNER JOIN &lt;table_name&gt;</code> but not the <code>ON</code> clause. What are you inner joining them with?  I believe syntax are like <code>SELECT * FROM TABLE1 t1 INNER JOIN TABLE2 t2 ON T1.some_column=T2.some_column</code>. Am I missing something here?"},{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":1,"creation_date":1653141296,"post_id":72329556,"comment_id":127781381,"body_markdown":"You must show us your entities.","body":"You must show us your entities."},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1653153198,"post_id":72329556,"comment_id":127783901,"body_markdown":"OR condition is tricky on the large dataset. Re-write a query using `UNION ALL` operator it helps to use correct indexes","body":"OR condition is tricky on the large dataset. Re-write a query using <code>UNION ALL</code> operator it helps to use correct indexes"},{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":1,"creation_date":1653162096,"post_id":72329556,"comment_id":127785619,"body_markdown":"the trim function will trigger a full scan of the book table","body":"the trim function will trigger a full scan of the book table"},{"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"score":0,"creation_date":1653164097,"post_id":72329556,"comment_id":127785993,"body_markdown":"@Asgar The query is JPQL, so the `INNER JOIN` targets a `&lt;entity.field&gt;`, or a field on a JPA entity rather than a table. Under the hood, the JPA implementation will eventually generate a SQL query out of this, but that was not provided here.","body":"@Asgar The query is JPQL, so the <code>INNER JOIN</code> targets a <code>&lt;entity.field&gt;</code>, or a field on a JPA entity rather than a table. Under the hood, the JPA implementation will eventually generate a SQL query out of this, but that was not provided here."}],"answers":[{"tags":[],"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653226513,"creation_date":1653208614,"answer_id":72335975,"question_id":72329556,"body_markdown":"You don&#39;t have to specify the `referencedColumnName` in your `@JoinColumn`\r\n\r\nYou have a `@UniqueConstraint` on `BookEntity#isbn` so there&#39;s no need to add an extra index.\r\n\r\nYou need an index on `BookEntity#publication_year` :\r\n\r\n    indexes = {\r\n                @Index(name = &quot;title_index&quot;, columnList = &quot;title&quot;),\r\n                @Index(name = &quot;publication_year_index&quot;, columnList = &quot;publication_year&quot;),\r\n        }\r\n\r\nYou can try this query :\r\n\r\n    @NamedQuery(name=&quot;BookEntity.search&quot;, query=&quot;select book from BookEntity book&quot;\r\n    + &quot; inner join fetch book.genre genre&quot;\r\n    + &quot; inner join fetch book.publisher publisher&quot;\r\n    + &quot; inner join fetch book.author or author&quot;\r\n    + &quot; left join fetch book.pickDetail&quot;\r\n    + &quot; where book.isbn like :key&quot;\r\n    + &quot; or book.title like :key&quot;\r\n    + &quot; or book.publicationYear = :year&quot;\r\n    + &quot; or genre.name like :key&quot;\r\n    + &quot; or publisher.publisherName like :key&quot;\r\n    + &quot; or author.name like :key&quot;)\r\n\r\nAnd this function :\r\n\r\n    private EntityManager em;\r\n    \r\n    public List&lt;BookEntity&gt; search(String key, short year) {\r\n    \treturn em.createNamedQuery(&quot;BookEntity.search&quot;, BookEntity.class)\r\n    \t.setParameter(&quot;key&quot;, key + &quot;%&quot;)\r\n    \t.setParameter(&quot;year&quot;, year)\r\n    \t.getResultList();\r\n    }\r\n\r\nAre you aware that you are doing a sensitive case search ? That&#39;s not very friendly. Also, the user can&#39;t search with a word in the middle of the title.\r\n\r\nTo avoid this you have to use something like :\r\n\r\n    upper(book.title) like :key\r\n\r\nAnd\r\n\r\n    setParameter(&quot;key&quot;, &quot;%&quot; + key.toUpperCase() + &quot;%&quot;)\r\n\r\nBut this will trigger a full scan.\r\n\r\n","title":"Performance issue on search query using mysql","body":"<p>You don't have to specify the <code>referencedColumnName</code> in your <code>@JoinColumn</code></p>\n<p>You have a <code>@UniqueConstraint</code> on <code>BookEntity#isbn</code> so there's no need to add an extra index.</p>\n<p>You need an index on <code>BookEntity#publication_year</code> :</p>\n<pre><code>indexes = {\n            @Index(name = &quot;title_index&quot;, columnList = &quot;title&quot;),\n            @Index(name = &quot;publication_year_index&quot;, columnList = &quot;publication_year&quot;),\n    }\n</code></pre>\n<p>You can try this query :</p>\n<pre><code>@NamedQuery(name=&quot;BookEntity.search&quot;, query=&quot;select book from BookEntity book&quot;\n+ &quot; inner join fetch book.genre genre&quot;\n+ &quot; inner join fetch book.publisher publisher&quot;\n+ &quot; inner join fetch book.author or author&quot;\n+ &quot; left join fetch book.pickDetail&quot;\n+ &quot; where book.isbn like :key&quot;\n+ &quot; or book.title like :key&quot;\n+ &quot; or book.publicationYear = :year&quot;\n+ &quot; or genre.name like :key&quot;\n+ &quot; or publisher.publisherName like :key&quot;\n+ &quot; or author.name like :key&quot;)\n</code></pre>\n<p>And this function :</p>\n<pre><code>private EntityManager em;\n\npublic List&lt;BookEntity&gt; search(String key, short year) {\n    return em.createNamedQuery(&quot;BookEntity.search&quot;, BookEntity.class)\n    .setParameter(&quot;key&quot;, key + &quot;%&quot;)\n    .setParameter(&quot;year&quot;, year)\n    .getResultList();\n}\n</code></pre>\n<p>Are you aware that you are doing a sensitive case search ? That's not very friendly. Also, the user can't search with a word in the middle of the title.</p>\n<p>To avoid this you have to use something like :</p>\n<pre><code>upper(book.title) like :key\n</code></pre>\n<p>And</p>\n<pre><code>setParameter(&quot;key&quot;, &quot;%&quot; + key.toUpperCase() + &quot;%&quot;)\n</code></pre>\n<p>But this will trigger a full scan.</p>\n"}],"owner":{"account_id":19592385,"reputation":1,"user_id":19167698,"display_name":"Vladimir Margaryan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653226513,"creation_date":1653136114,"question_id":72329556,"body_markdown":"I have a performance issue on search queries with multiple joins on the table with 250000+ records. The best time that I achieve is 1.5 seconds with default pagination and sorting provided by JPA. Also, I tried to add indexes on columns, but the time remains the same because of joins. Is there any way to boost the performance of the query?\r\n\r\n        &quot;select new com.app.e_library.service.dto.BookDto(book.id,book.isbn,&quot; +\r\n            &quot; book.title, book.publicationYear, book.pageCount, genre.name,&quot; +\r\n            &quot; book.bookStatus, publisher.publisherName, author.name) &quot; +\r\n            &quot;from BookEntity book &quot; +\r\n            &quot;inner join book.bookGenre genre &quot; +\r\n            &quot;inner join book.publisher publisher &quot; +\r\n            &quot;inner join book.author author &quot; +\r\n            &quot;where book.isbn like :key% or &quot; +\r\n            &quot;book.title like :key% or &quot; +\r\n            &quot;trim(book.publicationYear) like :key% or &quot; +\r\n            &quot;genre.name like :key% or &quot; +\r\n            &quot;publisher.publisherName like :key% or &quot; +\r\n            &quot;author.name like :key%&quot;\r\n\r\n\r\nAnd query generated by hibernate.\r\n\r\n\r\n    Hibernate: \r\n    select\r\n        bookentity0_.id as col_0_0_,\r\n        bookentity0_.isbn as col_1_0_,\r\n        bookentity0_.title as col_2_0_,\r\n        bookentity0_.publication_year as col_3_0_,\r\n        bookentity0_.page_count as col_4_0_,\r\n        bookgenree1_.name as col_5_0_,\r\n        bookentity0_.book_status as col_6_0_,\r\n        publishere2_.name as col_7_0_,\r\n        authorenti3_.name as col_8_0_ \r\n    from\r\n        book bookentity0_ \r\n    inner join\r\n        book_genre bookgenree1_ \r\n            on bookentity0_.genre_id=bookgenree1_.id \r\n    inner join\r\n        publisher publishere2_ \r\n            on bookentity0_.publisher_id=publishere2_.id \r\n    inner join\r\n        author authorenti3_ \r\n            on bookentity0_.author_id=authorenti3_.id \r\n    where\r\n        bookentity0_.isbn like ? \r\n        or bookentity0_.title like ? \r\n        or trim(bookentity0_.publication_year) like ? \r\n        or bookgenree1_.name like ? \r\n        or publishere2_.name like ? \r\n        or authorenti3_.name like ? \r\n    order by\r\n        bookentity0_.id asc limit ?\r\n    Hibernate: \r\n    select\r\n        count(bookentity0_.id) as col_0_0_ \r\n    from\r\n        book bookentity0_ \r\n    inner join\r\n        book_genre bookgenree1_ \r\n            on bookentity0_.genre_id=bookgenree1_.id \r\n    inner join\r\n        publisher publishere2_ \r\n            on bookentity0_.publisher_id=publishere2_.id \r\n    inner join\r\n        author authorenti3_ \r\n            on bookentity0_.author_id=authorenti3_.id \r\n    where\r\n        bookentity0_.isbn like ? \r\n        or bookentity0_.title like ? \r\n        or trim(bookentity0_.publication_year) like ? \r\n        or bookgenree1_.name like ? \r\n        or publishere2_.name like ? \r\n        or authorenti3_.name like ?\r\n\r\n\r\n\r\nBook Entity\r\n\r\n    @Entity\r\n    @Table(\r\n        name = &quot;book&quot;,\r\n        uniqueConstraints = {\r\n                @UniqueConstraint(name = &quot;book_isbn_unique&quot;,column Names = &quot;isbn&quot;)\r\n        },\r\n        indexes = {\r\n                @Index(name = &quot;isbn_index&quot;, columnList = &quot;isbn&quot;),\r\n                @Index(name = &quot;title_index&quot;, columnList = &quot;title&quot;),\r\n        }\r\n    )\r\n    public class BookEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;isbn&quot;, nullable = false)\r\n    @NotBlank\r\n    private String isbn;\r\n\r\n    @Column(name = &quot;title&quot;, nullable = false)\r\n    @NotBlank\r\n    private String title;\r\n\r\n    @Column(name = &quot;publication_year&quot;)\r\n    @Valid\r\n    private short publicationYear;\r\n\r\n    @Column(name = &quot;page_count&quot;)\r\n    @Valid\r\n    @Range(min = 50, max = 5000)\r\n    private int pageCount;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;genre_id&quot;,referencedColumnName = &quot;id&quot;, nullable=false)\r\n    @ToString.Exclude\r\n    private BookGenreEntity bookGenre;\r\n\r\n    @Column(name = &quot;book_status&quot;, nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private BookStatusType bookStatus;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;publisher_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n    @NonNull\r\n    @ToString.Exclude\r\n    private PublisherEntity publisher;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;pick_detail_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    @ToString.Exclude\r\n    private PickDetailEntity pickDetail;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;author_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n    @NonNull\r\n    @ToString.Exclude\r\n    private AuthorEntity author;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;book_image_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    @ToString.Exclude\r\n    private BookImageEntity bookImage;\r\n\r\n\r\n\r\nBook Genre Entity\r\n\r\n\r\n    @Entity\r\n    @Table(\r\n        name = &quot;book_genre&quot;,\r\n        uniqueConstraints = {\r\n                @UniqueConstraint(name = &quot;book_genre_name_unique&quot;, columnNames = &quot;name&quot;)\r\n        },\r\n        indexes = {\r\n                @Index(name = &quot;name_index&quot;, columnList = &quot;name&quot;),\r\n        }\r\n    )\r\n    public class BookGenreEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false)\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @OneToMany(\r\n            targetEntity = BookEntity.class,\r\n            mappedBy = &quot;bookGenre&quot;,\r\n            cascade=CascadeType.ALL,\r\n            fetch = FetchType.LAZY,\r\n            orphanRemoval = true)\r\n    @ToString.Exclude\r\n    private List&lt;BookEntity&gt; books;\r\n\r\n\r\n\r\nPublisher Entity\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(\r\n        name = &quot;publisher&quot;,\r\n        uniqueConstraints = {\r\n                @UniqueConstraint(name = &quot;publisher_name_unique&quot;, columnNames = &quot;name&quot;)\r\n        },\r\n        indexes = {\r\n                @Index(name = &quot;name_index&quot;, columnList = &quot;name&quot;)\r\n        }\r\n    )\r\n    public class PublisherEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false)\r\n    @NotBlank\r\n    private String publisherName;\r\n\r\n    @OneToMany(\r\n            targetEntity = BookEntity.class,\r\n            mappedBy = &quot;publisher&quot;,\r\n            cascade=CascadeType.ALL,\r\n            fetch = FetchType.LAZY)\r\n    @ToString.Exclude\r\n    private List&lt;BookEntity&gt; books;\r\n\r\n\r\n\r\n\r\nAuthor Entity\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(\r\n        name = &quot;author&quot;,\r\n        uniqueConstraints = {\r\n                @UniqueConstraint(name = &quot;author_name_unique&quot;, columnNames = &quot;name&quot;)\r\n        },\r\n        indexes = {\r\n                @Index(name = &quot;name_index&quot;, columnList = &quot;name&quot;)\r\n        }\r\n    )\r\n    public class AuthorEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false)\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @OneToMany(\r\n            targetEntity = BookEntity.class,\r\n            mappedBy = &quot;author&quot;,\r\n            cascade=CascadeType.ALL,\r\n            fetch = FetchType.LAZY)\r\n    @ToString.Exclude\r\n    private List&lt;BookEntity&gt; books;\r\n","title":"Performance issue on search query using mysql","body":"<p>I have a performance issue on search queries with multiple joins on the table with 250000+ records. The best time that I achieve is 1.5 seconds with default pagination and sorting provided by JPA. Also, I tried to add indexes on columns, but the time remains the same because of joins. Is there any way to boost the performance of the query?</p>\n<pre><code>    &quot;select new com.app.e_library.service.dto.BookDto(book.id,book.isbn,&quot; +\n        &quot; book.title, book.publicationYear, book.pageCount, genre.name,&quot; +\n        &quot; book.bookStatus, publisher.publisherName, author.name) &quot; +\n        &quot;from BookEntity book &quot; +\n        &quot;inner join book.bookGenre genre &quot; +\n        &quot;inner join book.publisher publisher &quot; +\n        &quot;inner join book.author author &quot; +\n        &quot;where book.isbn like :key% or &quot; +\n        &quot;book.title like :key% or &quot; +\n        &quot;trim(book.publicationYear) like :key% or &quot; +\n        &quot;genre.name like :key% or &quot; +\n        &quot;publisher.publisherName like :key% or &quot; +\n        &quot;author.name like :key%&quot;\n</code></pre>\n<p>And query generated by hibernate.</p>\n<pre><code>Hibernate: \nselect\n    bookentity0_.id as col_0_0_,\n    bookentity0_.isbn as col_1_0_,\n    bookentity0_.title as col_2_0_,\n    bookentity0_.publication_year as col_3_0_,\n    bookentity0_.page_count as col_4_0_,\n    bookgenree1_.name as col_5_0_,\n    bookentity0_.book_status as col_6_0_,\n    publishere2_.name as col_7_0_,\n    authorenti3_.name as col_8_0_ \nfrom\n    book bookentity0_ \ninner join\n    book_genre bookgenree1_ \n        on bookentity0_.genre_id=bookgenree1_.id \ninner join\n    publisher publishere2_ \n        on bookentity0_.publisher_id=publishere2_.id \ninner join\n    author authorenti3_ \n        on bookentity0_.author_id=authorenti3_.id \nwhere\n    bookentity0_.isbn like ? \n    or bookentity0_.title like ? \n    or trim(bookentity0_.publication_year) like ? \n    or bookgenree1_.name like ? \n    or publishere2_.name like ? \n    or authorenti3_.name like ? \norder by\n    bookentity0_.id asc limit ?\nHibernate: \nselect\n    count(bookentity0_.id) as col_0_0_ \nfrom\n    book bookentity0_ \ninner join\n    book_genre bookgenree1_ \n        on bookentity0_.genre_id=bookgenree1_.id \ninner join\n    publisher publishere2_ \n        on bookentity0_.publisher_id=publishere2_.id \ninner join\n    author authorenti3_ \n        on bookentity0_.author_id=authorenti3_.id \nwhere\n    bookentity0_.isbn like ? \n    or bookentity0_.title like ? \n    or trim(bookentity0_.publication_year) like ? \n    or bookgenree1_.name like ? \n    or publishere2_.name like ? \n    or authorenti3_.name like ?\n</code></pre>\n<p>Book Entity</p>\n<pre><code>@Entity\n@Table(\n    name = &quot;book&quot;,\n    uniqueConstraints = {\n            @UniqueConstraint(name = &quot;book_isbn_unique&quot;,column Names = &quot;isbn&quot;)\n    },\n    indexes = {\n            @Index(name = &quot;isbn_index&quot;, columnList = &quot;isbn&quot;),\n            @Index(name = &quot;title_index&quot;, columnList = &quot;title&quot;),\n    }\n)\npublic class BookEntity {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@Column(name = &quot;isbn&quot;, nullable = false)\n@NotBlank\nprivate String isbn;\n\n@Column(name = &quot;title&quot;, nullable = false)\n@NotBlank\nprivate String title;\n\n@Column(name = &quot;publication_year&quot;)\n@Valid\nprivate short publicationYear;\n\n@Column(name = &quot;page_count&quot;)\n@Valid\n@Range(min = 50, max = 5000)\nprivate int pageCount;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name=&quot;genre_id&quot;,referencedColumnName = &quot;id&quot;, nullable=false)\n@ToString.Exclude\nprivate BookGenreEntity bookGenre;\n\n@Column(name = &quot;book_status&quot;, nullable = false)\n@Enumerated(EnumType.STRING)\nprivate BookStatusType bookStatus;\n\n@ManyToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;publisher_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n@NonNull\n@ToString.Exclude\nprivate PublisherEntity publisher;\n\n@OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;pick_detail_id&quot;, referencedColumnName = &quot;id&quot;)\n@ToString.Exclude\nprivate PickDetailEntity pickDetail;\n\n@ManyToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;author_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n@NonNull\n@ToString.Exclude\nprivate AuthorEntity author;\n\n@OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;book_image_id&quot;, referencedColumnName = &quot;id&quot;)\n@ToString.Exclude\nprivate BookImageEntity bookImage;\n</code></pre>\n<p>Book Genre Entity</p>\n<pre><code>@Entity\n@Table(\n    name = &quot;book_genre&quot;,\n    uniqueConstraints = {\n            @UniqueConstraint(name = &quot;book_genre_name_unique&quot;, columnNames = &quot;name&quot;)\n    },\n    indexes = {\n            @Index(name = &quot;name_index&quot;, columnList = &quot;name&quot;),\n    }\n)\npublic class BookGenreEntity {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate Long id;\n\n@Column(name = &quot;name&quot;, nullable = false)\n@NotBlank\nprivate String name;\n\n@OneToMany(\n        targetEntity = BookEntity.class,\n        mappedBy = &quot;bookGenre&quot;,\n        cascade=CascadeType.ALL,\n        fetch = FetchType.LAZY,\n        orphanRemoval = true)\n@ToString.Exclude\nprivate List&lt;BookEntity&gt; books;\n</code></pre>\n<p>Publisher Entity</p>\n<pre><code>@Entity\n@Table(\n    name = &quot;publisher&quot;,\n    uniqueConstraints = {\n            @UniqueConstraint(name = &quot;publisher_name_unique&quot;, columnNames = &quot;name&quot;)\n    },\n    indexes = {\n            @Index(name = &quot;name_index&quot;, columnList = &quot;name&quot;)\n    }\n)\npublic class PublisherEntity {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@Column(name = &quot;name&quot;, nullable = false)\n@NotBlank\nprivate String publisherName;\n\n@OneToMany(\n        targetEntity = BookEntity.class,\n        mappedBy = &quot;publisher&quot;,\n        cascade=CascadeType.ALL,\n        fetch = FetchType.LAZY)\n@ToString.Exclude\nprivate List&lt;BookEntity&gt; books;\n</code></pre>\n<p>Author Entity</p>\n<pre><code>@Entity\n@Table(\n    name = &quot;author&quot;,\n    uniqueConstraints = {\n            @UniqueConstraint(name = &quot;author_name_unique&quot;, columnNames = &quot;name&quot;)\n    },\n    indexes = {\n            @Index(name = &quot;name_index&quot;, columnList = &quot;name&quot;)\n    }\n)\npublic class AuthorEntity {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@Column(name = &quot;name&quot;, nullable = false)\n@NotBlank\nprivate String name;\n\n@OneToMany(\n        targetEntity = BookEntity.class,\n        mappedBy = &quot;author&quot;,\n        cascade=CascadeType.ALL,\n        fetch = FetchType.LAZY)\n@ToString.Exclude\nprivate List&lt;BookEntity&gt; books;\n</code></pre>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":1,"creation_date":1653215136,"post_id":72336666,"comment_id":127792357,"body_markdown":"You are missing a *lot* of details here. How will it be used? Will there be multiple concurrent users? What does &quot;creating variables on the go&quot; mean? What does it connect to? Can you show code examples of those two options you are considering?","body":"You are missing a <i>lot</i> of details here. How will it be used? Will there be multiple concurrent users? What does &quot;creating variables on the go&quot; mean? What does it connect to? Can you show code examples of those two options you are considering?"},{"owner":{"account_id":17851775,"reputation":29,"user_id":12967377,"display_name":"MathyB"},"score":0,"creation_date":1653215781,"post_id":72336666,"comment_id":127792462,"body_markdown":"I edited the post for the option i am looking for. I am new to programming in general so if their are anytips about how to open a database more effeciently, safely, you name it. It would be much appriciated","body":"I edited the post for the option i am looking for. I am new to programming in general so if their are anytips about how to open a database more effeciently, safely, you name it. It would be much appriciated"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1653226476,"post_id":72336666,"comment_id":127794511,"body_markdown":"Given this leaks the connection and the statement, this is bad code overall. Do not do this (either solution!). Your connection manager doesn&#39;t really serve a good purpose and tries to wrap JDBC in suboptimal way. You&#39;d be better off using JDBC directly, maybe using an appropriate `javax.sql.DataSource` implementation (use an existing one, don&#39;t write one!) for creating the `Connection`.","body":"Given this leaks the connection and the statement, this is bad code overall. Do not do this (either solution!). Your connection manager doesn&#39;t really serve a good purpose and tries to wrap JDBC in suboptimal way. You&#39;d be better off using JDBC directly, maybe using an appropriate <code>javax.sql.DataSource</code> implementation (use an existing one, don&#39;t write one!) for creating the <code>Connection</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653232043,"post_id":72336666,"comment_id":127795751,"body_markdown":"Why would you want to keep stale data hanging around instead of reading fresh data as and when required?","body":"Why would you want to keep stale data hanging around instead of reading fresh data as and when required?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653235281,"post_id":72336666,"comment_id":127796487,"body_markdown":"Tip: Learn about (a) [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) syntax to automatically close your JDBC resource objects, and (b) Find a [`DataSource`](https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/DataSource.html) implementation for your particular database to hold your database connection info. Also, [RowSets](https://docs.oracle.com/cd/B19306_01/java.102/b14355/jcrowset.htm) may be of interest to you. In particular, `CachedRowSet`. And learn about [records](http://openjdk.java.net/jeps/395).","body":"Tip: Learn about (a) <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> syntax to automatically close your JDBC resource objects, and (b) Find a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/DataSource.html\" rel=\"nofollow noreferrer\"><code>DataSource</code></a> implementation for your particular database to hold your database connection info. Also, <a href=\"https://docs.oracle.com/cd/B19306_01/java.102/b14355/jcrowset.htm\" rel=\"nofollow noreferrer\">RowSets</a> may be of interest to you. In particular, <code>CachedRowSet</code>. And learn about <a href=\"http://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">records</a>."}],"answers":[{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653217067,"creation_date":1653217067,"answer_id":72336941,"question_id":72336666,"body_markdown":"It&#39;s not about performance, it&#39;s about design. And primary difference between two options is about having a *state* or not. Shared field will very likely bring problems with multithreading and mixed usage scenarios, whereas local variable is closer to &quot;functional&quot; aproach keeping the `ResultSet` isolated in caller&#39;s context.\r\n\r\nAnd IMHO, performance in this case should only be considered after utility and usability.","title":"Keeping ResultSet of a JDBC query in a class attribute vs. simply returning it","body":"<p>It's not about performance, it's about design. And primary difference between two options is about having a <em>state</em> or not. Shared field will very likely bring problems with multithreading and mixed usage scenarios, whereas local variable is closer to &quot;functional&quot; aproach keeping the <code>ResultSet</code> isolated in caller's context.</p>\n<p>And IMHO, performance in this case should only be considered after utility and usability.</p>\n"},{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653217326,"creation_date":1653217326,"answer_id":72336966,"question_id":72336666,"body_markdown":"As written, Option 1 is not very different from Option 2: in Option 2, the `ResultSet` attribute is `private` (as mutable class attributes should generally be), and therefore not accessible to the outside world (= code outside of this class). Since Option 2 has no advantages over Option 2 (local variables are essentially free, but instance attributes should be chosen more wisely), **you should go with Option 1**. But there are other problems:\r\n- you are not closing all those connections that you are opening. This may result in resource exhaustion and your app crashing. However, this does not have an easy fix, because you should not close the connection until the `ResultSet` has been processed, or it may be impossible to process it later. \r\n- in Option 2, if you call `executeQuery` from 2 threads at approximately the same time, it is possible that both calls will return the 2nd `ResultSet`. So **Option 2 is dangerous** in the presence of concurrency.\r\n\r\nI would propose the following fixes:\r\n- store a `private Connection connection;` as a class attribute. This will give you much better performance, as establishing connections to a DB is costly, and reestablishing connections *once per query* and never closing them has bad consequences. Establish the connection in the constructor.\r\n- have a `public void close()` method, which simply does `connection.close()`. This fixes the &quot;not closing connections&quot; problem. Call this only when you are sure that no new queries will be made, for instance when the application is shutting down.\r\n- have `executeQuery` return the corresponding `resultSet` by querying the previously-opened connection, instead of connecting anew in each and every call. Of course, we are going with Option 1: we return a fresh `ResultSet` for each new query.","title":"Keeping ResultSet of a JDBC query in a class attribute vs. simply returning it","body":"<p>As written, Option 1 is not very different from Option 2: in Option 2, the <code>ResultSet</code> attribute is <code>private</code> (as mutable class attributes should generally be), and therefore not accessible to the outside world (= code outside of this class). Since Option 2 has no advantages over Option 2 (local variables are essentially free, but instance attributes should be chosen more wisely), <strong>you should go with Option 1</strong>. But there are other problems:</p>\n<ul>\n<li>you are not closing all those connections that you are opening. This may result in resource exhaustion and your app crashing. However, this does not have an easy fix, because you should not close the connection until the <code>ResultSet</code> has been processed, or it may be impossible to process it later.</li>\n<li>in Option 2, if you call <code>executeQuery</code> from 2 threads at approximately the same time, it is possible that both calls will return the 2nd <code>ResultSet</code>. So <strong>Option 2 is dangerous</strong> in the presence of concurrency.</li>\n</ul>\n<p>I would propose the following fixes:</p>\n<ul>\n<li>store a <code>private Connection connection;</code> as a class attribute. This will give you much better performance, as establishing connections to a DB is costly, and reestablishing connections <em>once per query</em> and never closing them has bad consequences. Establish the connection in the constructor.</li>\n<li>have a <code>public void close()</code> method, which simply does <code>connection.close()</code>. This fixes the &quot;not closing connections&quot; problem. Call this only when you are sure that no new queries will be made, for instance when the application is shutting down.</li>\n<li>have <code>executeQuery</code> return the corresponding <code>resultSet</code> by querying the previously-opened connection, instead of connecting anew in each and every call. Of course, we are going with Option 1: we return a fresh <code>ResultSet</code> for each new query.</li>\n</ul>\n"}],"owner":{"account_id":17851775,"reputation":29,"user_id":12967377,"display_name":"MathyB"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653226456,"creation_date":1653214950,"question_id":72336666,"body_markdown":"I&#39;m working on a connection manager class at the moment which will be called multiple times. Its purpose is to establish a connection and return results as a result set, but i have some questions about it.\r\n\r\nIs it faster to create a result set variable in the function or change the result set field of the object and than return it?\r\n\r\nHere are two examples\r\n\r\nOption 1:\r\n```java\r\npublic class ConnectionManager {\r\n    private static String url = &quot;jdbc:mysql://localhost:3306/*********&quot;;\r\n    private static String username = &quot;root&quot;;\r\n    private static String password = &quot;admin123&quot;;\r\n\r\n    public ResultSet executeQuery(String query) {\r\n        ResultSet results = null;\r\n        try {\r\n            Connection connect = DriverManager.getConnection(this.url, this.username, this.password);\r\n            Statement statement = connect.createStatement();\r\n            results = statement.executeQuery(query);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return results;\r\n    }\r\n\r\n}\r\n```\r\noption 2:\r\n\r\n```java\r\npublic class ConnectionManager {\r\n    private static String url = &quot;jdbc:mysql://localhost:3306/*********&quot;;\r\n    private static String username = &quot;root&quot;;\r\n    private static String password = &quot;admin123&quot;;\r\n    private ResultSet results = null;\r\n\r\n\r\n    public ResultSet executeQuery(String query) {\r\n        try {\r\n            Connection connect = DriverManager.getConnection(this.url, this.username, this.password);\r\n            Statement statement = connect.createStatement();\r\n            this.results = statement.executeQuery(query);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return this.results;\r\n    }\r\n\r\n}\r\n```","title":"Keeping ResultSet of a JDBC query in a class attribute vs. simply returning it","body":"<p>I'm working on a connection manager class at the moment which will be called multiple times. Its purpose is to establish a connection and return results as a result set, but i have some questions about it.</p>\n<p>Is it faster to create a result set variable in the function or change the result set field of the object and than return it?</p>\n<p>Here are two examples</p>\n<p>Option 1:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ConnectionManager {\n    private static String url = &quot;jdbc:mysql://localhost:3306/*********&quot;;\n    private static String username = &quot;root&quot;;\n    private static String password = &quot;admin123&quot;;\n\n    public ResultSet executeQuery(String query) {\n        ResultSet results = null;\n        try {\n            Connection connect = DriverManager.getConnection(this.url, this.username, this.password);\n            Statement statement = connect.createStatement();\n            results = statement.executeQuery(query);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return results;\n    }\n\n}\n</code></pre>\n<p>option 2:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ConnectionManager {\n    private static String url = &quot;jdbc:mysql://localhost:3306/*********&quot;;\n    private static String username = &quot;root&quot;;\n    private static String password = &quot;admin123&quot;;\n    private ResultSet results = null;\n\n\n    public ResultSet executeQuery(String query) {\n        try {\n            Connection connect = DriverManager.getConnection(this.url, this.username, this.password);\n            Statement statement = connect.createStatement();\n            this.results = statement.executeQuery(query);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return this.results;\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":887982,"reputation":744,"user_id":926943,"accept_rate":50,"display_name":"Himel Nag Rana"},"score":1,"creation_date":1461040853,"post_id":36708660,"comment_id":61004715,"body_markdown":"This is java - not javascript!","body":"This is java - not javascript!"},{"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"score":1,"creation_date":1461040980,"post_id":36708660,"comment_id":61004761,"body_markdown":"And why 4? When 8 characters match?","body":"And why 4? When 8 characters match?"},{"owner":{"account_id":8276711,"reputation":51,"user_id":6222655,"display_name":"bryan callahan"},"score":0,"creation_date":1461041034,"post_id":36708660,"comment_id":61004781,"body_markdown":"I apologize if I misidentified the language, I&#39;m new to this. What is the proper name for this language of code?","body":"I apologize if I misidentified the language, I&#39;m new to this. What is the proper name for this language of code?"},{"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"score":0,"creation_date":1461041048,"post_id":36708660,"comment_id":61004791,"body_markdown":"And what is `userScore = userScore;` for?","body":"And what is <code>userScore = userScore;</code> for?"},{"owner":{"account_id":8276711,"reputation":51,"user_id":6222655,"display_name":"bryan callahan"},"score":0,"creation_date":1461041236,"post_id":36708660,"comment_id":61004864,"body_markdown":"It should only count the first 4 matches and break when the user input does not match","body":"It should only count the first 4 matches and break when the user input does not match"}],"answers":[{"tags":[],"owner":{"account_id":127918,"reputation":147380,"user_id":325418,"accept_rate":59,"display_name":"nonopolarity"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1461041157,"creation_date":1461041157,"answer_id":36708749,"question_id":36708660,"body_markdown":"So I assume you go through the characters and when the first time the characters don&#39;t match, then you will consider it &quot;failing&quot; and only count the preceding matches.\r\n\r\nSo in this case, you can use\r\n\r\n    if (s != u) {\r\n      break;\r\n    }\r\n\r\nto break out of the loop; otherwise, just increment the count.\r\n\r\nI don&#39;t like to use `break` personally, but would just write a function to return the count when the characters don&#39;t match.\r\n","title":"Simon Says counter not working properly","body":"<p>So I assume you go through the characters and when the first time the characters don't match, then you will consider it \"failing\" and only count the preceding matches.</p>\n\n<p>So in this case, you can use</p>\n\n<pre><code>if (s != u) {\n  break;\n}\n</code></pre>\n\n<p>to break out of the loop; otherwise, just increment the count.</p>\n\n<p>I don't like to use <code>break</code> personally, but would just write a function to return the count when the characters don't match.</p>\n"},{"tags":[],"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1461042142,"creation_date":1461042142,"answer_id":36708976,"question_id":36708660,"body_markdown":"As you said in your question **output is 4 but my code puts out 8.** You want how many continuous character matched from the start of the String.\r\n\r\nIt means you want to `break` the loop just after conscative  \r\n\r\n        simonPattern = &quot;RRGBRYYBGY&quot;;\r\n        userPattern  = &quot;RRGBBRYBGY&quot;; //Index 4 have different Characters .\r\n \r\n\r\n    if (s == u) \r\n       {\r\n        userScore = userScore + 1; //add your counter 1 at each time character matched.\r\n         continue;   //directly move to loop control statement.\r\n      }\r\n\r\nthis piece of code will check till the last element present in the `String` and your counter will repeatedly increases till the last element of the `String`.\r\n\r\n&gt;try this code. will work\r\n   \r\n \r\n\r\n    if (s != u) \r\n               {\r\n               break; //this will break your loop in just after character doesn&#39;t matched.\r\n              }\r\n    \r\n           ++userScore; // Increase your counter if matched.\r\n     \r\n\r\n","title":"Simon Says counter not working properly","body":"<p>As you said in your question <strong>output is 4 but my code puts out 8.</strong> You want how many continuous character matched from the start of the String.</p>\n\n<p>It means you want to <code>break</code> the loop just after conscative  </p>\n\n<pre><code>    simonPattern = \"RRGBRYYBGY\";\n    userPattern  = \"RRGBBRYBGY\"; //Index 4 have different Characters .\n\n\nif (s == u) \n   {\n    userScore = userScore + 1; //add your counter 1 at each time character matched.\n     continue;   //directly move to loop control statement.\n  }\n</code></pre>\n\n<p>this piece of code will check till the last element present in the <code>String</code> and your counter will repeatedly increases till the last element of the <code>String</code>.</p>\n\n<blockquote>\n  <p>try this code. will work</p>\n</blockquote>\n\n<pre><code>if (s != u) \n           {\n           break; //this will break your loop in just after character doesn't matched.\n          }\n\n       ++userScore; // Increase your counter if matched.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24893228,"reputation":1,"user_id":18764845,"display_name":"Astronomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653226410,"creation_date":1653226410,"answer_id":72338035,"question_id":36708660,"body_markdown":"This was in a zyBooks lesson. This is how I solved it.\r\n\r\n    for (i = 0; i &lt; simonPattern.length(); ++i) {\r\n         if((simonPattern.charAt(i)) == (userPattern.charAt(i))) {\r\n            userScore += 1;\r\n         }\r\n         else {\r\n            break;\r\n         }\r\n      }","title":"Simon Says counter not working properly","body":"<p>This was in a zyBooks lesson. This is how I solved it.</p>\n<pre><code>for (i = 0; i &lt; simonPattern.length(); ++i) {\n     if((simonPattern.charAt(i)) == (userPattern.charAt(i))) {\n        userScore += 1;\n     }\n     else {\n        break;\n     }\n  }\n</code></pre>\n"}],"owner":{"account_id":8276711,"reputation":51,"user_id":6222655,"display_name":"bryan callahan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36708976,"answer_count":3,"score":0,"last_activity_date":1653226410,"creation_date":1461040629,"question_id":36708660,"body_markdown":"I&#39;m coding a Simon Says game that is supposed to keep track of how many times the user successfully completes the task. The code runs, but the output is incorrect. The expected output is 4 but my code puts out 8.\r\n\r\n\timport java.util.Scanner;\r\n\r\n\tpublic class SimonSays \r\n    {\r\n\t\tpublic static void main (String [] args) \r\n        {\r\n\t\t\tString simonPattern = &quot;&quot;;\r\n\t\t\tString userPattern = &quot;&quot;;\r\n\t\t\tint userScore = 0;\r\n\t\t\tint i = 0;\r\n\r\n\t\t\tuserScore = 0;\r\n\t\t\tsimonPattern = &quot;RRGBRYYBGY&quot;;\r\n\t\t\tuserPattern  = &quot;RRGBBRYBGY&quot;;\r\n\r\n\t\t\tchar s;\r\n\t\t\tchar u;\r\n\r\n\t\t\tfor (i = 0; i &lt; 10; i++) {\r\n\t\t\t\ts = simonPattern.charAt(i);\r\n\t\t\t\tu = userPattern.charAt(i);\r\n\t\t\t\tif (s == u) \r\n                {\r\n\t\t\t\t\tuserScore = userScore + 1;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(&quot;userScore: &quot; + userScore);\r\n\t\t\treturn;\r\n\t\t}\r\n\t}","title":"Simon Says counter not working properly","body":"<p>I'm coding a Simon Says game that is supposed to keep track of how many times the user successfully completes the task. The code runs, but the output is incorrect. The expected output is 4 but my code puts out 8.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class SimonSays \n{\n    public static void main (String [] args) \n    {\n        String simonPattern = \"\";\n        String userPattern = \"\";\n        int userScore = 0;\n        int i = 0;\n\n        userScore = 0;\n        simonPattern = \"RRGBRYYBGY\";\n        userPattern  = \"RRGBBRYBGY\";\n\n        char s;\n        char u;\n\n        for (i = 0; i &lt; 10; i++) {\n            s = simonPattern.charAt(i);\n            u = userPattern.charAt(i);\n            if (s == u) \n            {\n                userScore = userScore + 1;\n                continue;\n            }\n        }\n\n        System.out.println(\"userScore: \" + userScore);\n        return;\n    }\n}\n</code></pre>\n"},{"tags":["java","if-statement","conditional-operator","nlp-question-answering","control-statements"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":6,"creation_date":1615135997,"post_id":66518954,"comment_id":117592254,"body_markdown":"If the code works as intended, it might be better suited for https://codereview.stackexchange.com/.","body":"If the code works as intended, it might be better suited for <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1615136123,"post_id":66518954,"comment_id":117592297,"body_markdown":"Redefining the requirements will give you a much shorter piece of code. Think about how the two &quot;Not Weird&quot; conditions are all part of the same check, and how `[6, 20]` contains the only difference in that domain","body":"Redefining the requirements will give you a much shorter piece of code. Think about how the two &quot;Not Weird&quot; conditions are all part of the same check, and how <code>[6, 20]</code> contains the only difference in that domain"},{"owner":{"account_id":17545080,"reputation":599,"user_id":12726545,"display_name":"bdehmer"},"score":0,"creation_date":1615136505,"post_id":66518954,"comment_id":117592398,"body_markdown":"There&#39;s also plenty of well articulated explanations in the answers section of each problem on HackerRank. Sometimes there&#39;s a tab on the question itself too that explains different approaches, although there might be a paywall.","body":"There&#39;s also plenty of well articulated explanations in the answers section of each problem on HackerRank. Sometimes there&#39;s a tab on the question itself too that explains different approaches, although there might be a paywall."},{"owner":{"account_id":128453,"reputation":787,"user_id":326294,"display_name":"Alain BECKER"},"score":0,"creation_date":1653512923,"post_id":66518954,"comment_id":127874090,"body_markdown":"What&#39;s a &quot;better solution&quot; is the part of your question that would need to be refined. If it is to be evaluated in terms of ease of maintenance, I find yours pretty legible, and as such quite good : it reflects business rules, so it&#39;s quite easy to update if requirements were to change. As opposed to one-liners, for instance. And performancewise, no input value requires more than 4 tests ; one-liners wouldn&#39;t test less, I guess. Maybe create and use constants for strings, as they might change in bulk. My 20 cents.  Follow suggestions by @Turing85 and bdehmer","body":"What&#39;s a &quot;better solution&quot; is the part of your question that would need to be refined. If it is to be evaluated in terms of ease of maintenance, I find yours pretty legible, and as such quite good : it reflects business rules, so it&#39;s quite easy to update if requirements were to change. As opposed to one-liners, for instance. And performancewise, no input value requires more than 4 tests ; one-liners wouldn&#39;t test less, I guess. Maybe create and use constants for strings, as they might change in bulk. My 20 cents.  Follow suggestions by @Turing85 and bdehmer"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1615137389,"creation_date":1615137068,"answer_id":66519181,"question_id":66518954,"body_markdown":"The conditions should be merged: the result is `Weird` for any number in the range `6 &lt;= n &lt;= 20` OR n is odd, otherwise it is `Not Weird`:\r\n\r\n```java\r\nSystem.out.println((6 &lt;= n &amp;&amp; n &lt;= 20 || n % 2 != 0) ? &quot;Weird&quot; : &quot;Not Weird&quot;);\r\n// or\r\nSystem.out.println((5 &lt; n &amp;&amp; n &lt; 21 || n % 2 != 0) ? &quot;Weird&quot; : &quot;Not Weird&quot;);\r\n```","title":"Java If-Else in HackerRank, Is my code good or can I get better solution for the problem","body":"<p>The conditions should be merged: the result is <code>Weird</code> for any number in the range <code>6 &lt;= n &lt;= 20</code> OR n is odd, otherwise it is <code>Not Weird</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println((6 &lt;= n &amp;&amp; n &lt;= 20 || n % 2 != 0) ? &quot;Weird&quot; : &quot;Not Weird&quot;);\n// or\nSystem.out.println((5 &lt; n &amp;&amp; n &lt; 21 || n % 2 != 0) ? &quot;Weird&quot; : &quot;Not Weird&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25353074,"reputation":1,"user_id":19169637,"display_name":"Raushan Jaiswal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653226156,"creation_date":1653157473,"answer_id":72332229,"question_id":66518954,"body_markdown":"     if (~N % 2 == 0 || N &lt;= 20 &amp;&amp; N &gt;= 6) {\r\n       System.out.println(&quot;Weird&quot;);\r\n    } else if (N % 2 == 0 &amp;&amp; N &gt; 20 || (N &gt;= 2 &amp;&amp; 5 &lt;= N)) {\r\n       System.out.println(&quot;not Weird&quot;);\r\n    }","title":"Java If-Else in HackerRank, Is my code good or can I get better solution for the problem","body":"<pre><code> if (~N % 2 == 0 || N &lt;= 20 &amp;&amp; N &gt;= 6) {\n   System.out.println(&quot;Weird&quot;);\n} else if (N % 2 == 0 &amp;&amp; N &gt; 20 || (N &gt;= 2 &amp;&amp; 5 &lt;= N)) {\n   System.out.println(&quot;not Weird&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":19405661,"reputation":11,"user_id":14191177,"display_name":"KamalAres"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1733,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1653166169,"accepted_answer_id":66519181,"answer_count":2,"score":-2,"last_activity_date":1653226156,"creation_date":1615135850,"question_id":66518954,"body_markdown":"**Problem Statement**\r\n\r\n**Task**\r\n\r\nGiven an integer,n, perform the following conditional actions:\r\n\r\nIf n is odd, print Weird\r\nIf n is even and in the inclusive range of 2 to 5, print Not Weird\r\nIf n is even and in the inclusive range of 6 to 20, print Weird\r\nIf n is even and greater than 20, print Not Weird\r\nComplete the stub code provided in your editor to print whether or not n is weird.\r\n\r\n**Input Format**\r\n\r\nA single line containing a positive integer,n.\r\n\r\n**Constraints**\r\n\r\n1&lt;=n&lt;=100\r\n\r\n**Output Format**\r\n\r\n\r\nPrint Weird if the number is weird; otherwise, print Not Weird.\r\n\r\n**Sample Input 0**\r\n\r\n3\r\n\r\n**Sample Output 0**\r\n\r\nWeird\r\n\r\n**Sample Input 1**\r\n\r\n24\r\n\r\n**Sample Output 1**\r\n\r\nNot Weird\r\n\r\n**Explanation**\r\n\r\nSample Case 0: n=3\r\nn is odd and odd numbers are weird, so we print Weird.\r\n\r\nSample Case 1: n=24\r\nn&gt;20 and n  is even, so it isn&#39;t weird. Thus, we print Not Weird.\r\n\r\n\r\nMy solution to the problem.\r\n\r\n```\r\nimport java.io.*;\r\nimport java.math.*;\r\nimport java.security.*;\r\nimport java.text.*;\r\nimport java.util.*;\r\nimport java.util.concurrent.*;\r\nimport java.util.regex.*;\r\n\r\npublic class Solution {\r\n\r\n\r\n\r\n    private static final Scanner scanner = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        int N = scanner.nextInt();\r\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n        if(N%2==0){\r\n            if(N&gt;1){\r\n                if(N&lt;6){\r\n                    System.out.println(&quot;Not Weird&quot;);\r\n                }\r\n                else if(N&lt;21){\r\n                    System.out.println(&quot;Weird&quot;);\r\n                }\r\n                else{\r\n                    System.out.println(&quot;Not Weird&quot;);\r\n                }\r\n            }\r\n        }\r\n        else{\r\n            System.out.println(&quot;Weird&quot;);\r\n        }\r\n\r\n        scanner.close();\r\n    }\r\n}\r\n```\r\n\r\nCan I get suggestions regarding the solution. Thank You.","title":"Java If-Else in HackerRank, Is my code good or can I get better solution for the problem","body":"<p><strong>Problem Statement</strong></p>\n<p><strong>Task</strong></p>\n<p>Given an integer,n, perform the following conditional actions:</p>\n<p>If n is odd, print Weird\nIf n is even and in the inclusive range of 2 to 5, print Not Weird\nIf n is even and in the inclusive range of 6 to 20, print Weird\nIf n is even and greater than 20, print Not Weird\nComplete the stub code provided in your editor to print whether or not n is weird.</p>\n<p><strong>Input Format</strong></p>\n<p>A single line containing a positive integer,n.</p>\n<p><strong>Constraints</strong></p>\n<p>1&lt;=n&lt;=100</p>\n<p><strong>Output Format</strong></p>\n<p>Print Weird if the number is weird; otherwise, print Not Weird.</p>\n<p><strong>Sample Input 0</strong></p>\n<p>3</p>\n<p><strong>Sample Output 0</strong></p>\n<p>Weird</p>\n<p><strong>Sample Input 1</strong></p>\n<p>24</p>\n<p><strong>Sample Output 1</strong></p>\n<p>Not Weird</p>\n<p><strong>Explanation</strong></p>\n<p>Sample Case 0: n=3\nn is odd and odd numbers are weird, so we print Weird.</p>\n<p>Sample Case 1: n=24\nn&gt;20 and n  is even, so it isn't weird. Thus, we print Not Weird.</p>\n<p>My solution to the problem.</p>\n<pre><code>import java.io.*;\nimport java.math.*;\nimport java.security.*;\nimport java.text.*;\nimport java.util.*;\nimport java.util.concurrent.*;\nimport java.util.regex.*;\n\npublic class Solution {\n\n\n\n    private static final Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int N = scanner.nextInt();\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\n        if(N%2==0){\n            if(N&gt;1){\n                if(N&lt;6){\n                    System.out.println(&quot;Not Weird&quot;);\n                }\n                else if(N&lt;21){\n                    System.out.println(&quot;Weird&quot;);\n                }\n                else{\n                    System.out.println(&quot;Not Weird&quot;);\n                }\n            }\n        }\n        else{\n            System.out.println(&quot;Weird&quot;);\n        }\n\n        scanner.close();\n    }\n}\n</code></pre>\n<p>Can I get suggestions regarding the solution. Thank You.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1586200567,"post_id":61067087,"comment_id":108036559,"body_markdown":"Huh?  Please show what you are expecting as output.","body":"Huh?  Please show what you are expecting as output."}],"answers":[{"tags":[],"owner":{"account_id":8595751,"reputation":5395,"user_id":6438819,"display_name":"RaffleBuffle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586210081,"creation_date":1586210081,"answer_id":61069559,"question_id":61067087,"body_markdown":"I would split the sentence up into words and then rebuild the sentence, using your map to check if each word has a numeric version, and if it does using that in place of the word. \r\n\r\nThe trick is to add the delimiters back in, as these aren&#39;t included by the standard `String.split` method.\r\n    \r\n    Map &lt;String, Integer&gt; wordToDigit = new HashMap&lt;&gt;();\r\n    wordToDigit.put(&quot;two&quot;, 2);\r\n    wordToDigit.put(&quot;three&quot;, 3);\r\n    wordToDigit.put(&quot;four&quot;, 4);\r\n    wordToDigit.put(&quot;five&quot;, 5);\r\n    wordToDigit.put(&quot;six&quot;, 6);\r\n    wordToDigit.put(&quot;eight&quot;,8);\t\r\n    \r\n    String sentence = &quot;yes, I have two, three, four numbers&quot;;\r\n\r\n    String[] words = sentence.split(&quot;[^a-zA-Z]+&quot;, -1);\r\n    \r\n    int pos = 0;\r\n    StringBuilder sb = new StringBuilder();\r\n    for(String word : words)\r\n    {\r\n    \tint idx = sentence.indexOf(word, pos);\r\n    \tString delim = sentence.substring(pos, idx);\r\n    \tsb.append(delim);        \r\n    \r\n    \tInteger n = wordToDigit.get(word.toLowerCase());\r\n    \tsb.append(n == null ? word : n);\r\n    \t\r\n    \tpos += delim.length() + word.length();\t  \t\r\n    }\r\n    sb.append(sentence.substring(pos, sentence.length()));        \r\n    \r\n    System.out.println(sb);\r\n\r\nOutput:\r\n\r\n    yes, I have 2, 3, 4 numbers\r\n\r\nand for the other 2 sentences\r\n\r\n    I have 5, 6, seven alphabets\r\n    8, 2, 5 are my lucky numbers.\r\n","title":"Replace the multiple string with the other multiple string","body":"<p>I would split the sentence up into words and then rebuild the sentence, using your map to check if each word has a numeric version, and if it does using that in place of the word. </p>\n\n<p>The trick is to add the delimiters back in, as these aren't included by the standard <code>String.split</code> method.</p>\n\n<pre><code>Map &lt;String, Integer&gt; wordToDigit = new HashMap&lt;&gt;();\nwordToDigit.put(\"two\", 2);\nwordToDigit.put(\"three\", 3);\nwordToDigit.put(\"four\", 4);\nwordToDigit.put(\"five\", 5);\nwordToDigit.put(\"six\", 6);\nwordToDigit.put(\"eight\",8); \n\nString sentence = \"yes, I have two, three, four numbers\";\n\nString[] words = sentence.split(\"[^a-zA-Z]+\", -1);\n\nint pos = 0;\nStringBuilder sb = new StringBuilder();\nfor(String word : words)\n{\n    int idx = sentence.indexOf(word, pos);\n    String delim = sentence.substring(pos, idx);\n    sb.append(delim);        \n\n    Integer n = wordToDigit.get(word.toLowerCase());\n    sb.append(n == null ? word : n);\n\n    pos += delim.length() + word.length();      \n}\nsb.append(sentence.substring(pos, sentence.length()));        \n\nSystem.out.println(sb);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>yes, I have 2, 3, 4 numbers\n</code></pre>\n\n<p>and for the other 2 sentences</p>\n\n<pre><code>I have 5, 6, seven alphabets\n8, 2, 5 are my lucky numbers.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653226094,"creation_date":1586211024,"answer_id":61069746,"question_id":61067087,"body_markdown":"Given below are two different implementations: (1) Using `Map` (2) Using `List` and array:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t// Test\r\n\t\tString[] sentences = { &quot;yes, I have two, three, four numbers.&quot;, &quot;I have five, six, seven alphabets.&quot;,\r\n\t\t\t\t&quot;eight, two, five are my lucky numbers.&quot;, &quot;Someone gave him FIVE canines and asked him to feed two.&quot; };\r\n\t\tSystem.out.println(&quot;Using Map: &quot;);\r\n\t\tfor (String sentence : sentences) {\r\n\t\t\tSystem.out.println(replaceWordsWithValue1(sentence));\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Using List and array: &quot;);\r\n\t\tfor (String sentence : sentences) {\r\n\t\t\tSystem.out.println(replaceWordsWithValue2(sentence));\r\n\t\t}\r\n\t}\r\n\r\n\tstatic String replaceWordsWithValue1(String str) {\r\n\t\tMap&lt;String, String&gt; wordToDigit = Map.of(&quot;two&quot;, &quot;2&quot;, &quot;three&quot;, &quot;3&quot;, &quot;four&quot;, &quot;4&quot;, &quot;five&quot;, &quot;5&quot;, &quot;six&quot;, &quot;6&quot;,\r\n\t\t\t\t&quot;seven&quot;, &quot;7&quot;, &quot;eight&quot;, &quot;8&quot;, &quot;nine&quot;, &quot;9&quot;);\r\n\t\tfor (String key : wordToDigit.keySet()) {\r\n\t\t\tPattern pattern = Pattern.compile(&quot;\\\\b&quot; + Pattern.quote(key) + &quot;\\\\b&quot;, Pattern.CASE_INSENSITIVE);\r\n\t\t\tMatcher matcher = pattern.matcher(str);\r\n\t\t\twhile (matcher.find()) {\r\n\t\t\t\tstr = str.replaceAll(matcher.group(), wordToDigit.get(key));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn str;\r\n\t}\r\n\r\n\tstatic String replaceWordsWithValue2(String str) {\r\n\t\tString[] values = { &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot; };\r\n\t\tList&lt;String&gt; keys = List.of(&quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;);\r\n\t\tfor (String key : keys) {\r\n\t\t\tPattern pattern = Pattern.compile(&quot;\\\\b&quot; + Pattern.quote(key) + &quot;\\\\b&quot;, Pattern.CASE_INSENSITIVE);\r\n\t\t\tMatcher matcher = pattern.matcher(str);\r\n\t\t\twhile (matcher.find()) {\r\n\t\t\t\tstr = str.replaceAll(matcher.group(), values[keys.indexOf(key)]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn str;\r\n\t}\r\n}\r\n```\r\n\r\n**Output:**\r\n\r\n    Using Map: \r\n    yes, I have 2, 3, 4 numbers.\r\n    I have 5, 6, 7 alphabets.\r\n    8, 2, 5 are my lucky numbers.\r\n    Someone gave him 5 canines and asked him to feed 2.\r\n    Using List and array: \r\n    yes, I have 2, 3, 4 numbers.\r\n    I have 5, 6, 7 alphabets.\r\n    8, 2, 5 are my lucky numbers.\r\n    Someone gave him 5 canines and asked him to feed 2.\r\n\r\nThe logic in both the implementations is straightforward.\r\n","title":"Replace the multiple string with the other multiple string","body":"<p>Given below are two different implementations: (1) Using <code>Map</code> (2) Using <code>List</code> and array:</p>\n<pre><code>import java.io.IOException;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        // Test\n        String[] sentences = { &quot;yes, I have two, three, four numbers.&quot;, &quot;I have five, six, seven alphabets.&quot;,\n                &quot;eight, two, five are my lucky numbers.&quot;, &quot;Someone gave him FIVE canines and asked him to feed two.&quot; };\n        System.out.println(&quot;Using Map: &quot;);\n        for (String sentence : sentences) {\n            System.out.println(replaceWordsWithValue1(sentence));\n        }\n        System.out.println(&quot;Using List and array: &quot;);\n        for (String sentence : sentences) {\n            System.out.println(replaceWordsWithValue2(sentence));\n        }\n    }\n\n    static String replaceWordsWithValue1(String str) {\n        Map&lt;String, String&gt; wordToDigit = Map.of(&quot;two&quot;, &quot;2&quot;, &quot;three&quot;, &quot;3&quot;, &quot;four&quot;, &quot;4&quot;, &quot;five&quot;, &quot;5&quot;, &quot;six&quot;, &quot;6&quot;,\n                &quot;seven&quot;, &quot;7&quot;, &quot;eight&quot;, &quot;8&quot;, &quot;nine&quot;, &quot;9&quot;);\n        for (String key : wordToDigit.keySet()) {\n            Pattern pattern = Pattern.compile(&quot;\\\\b&quot; + Pattern.quote(key) + &quot;\\\\b&quot;, Pattern.CASE_INSENSITIVE);\n            Matcher matcher = pattern.matcher(str);\n            while (matcher.find()) {\n                str = str.replaceAll(matcher.group(), wordToDigit.get(key));\n            }\n        }\n        return str;\n    }\n\n    static String replaceWordsWithValue2(String str) {\n        String[] values = { &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot; };\n        List&lt;String&gt; keys = List.of(&quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;);\n        for (String key : keys) {\n            Pattern pattern = Pattern.compile(&quot;\\\\b&quot; + Pattern.quote(key) + &quot;\\\\b&quot;, Pattern.CASE_INSENSITIVE);\n            Matcher matcher = pattern.matcher(str);\n            while (matcher.find()) {\n                str = str.replaceAll(matcher.group(), values[keys.indexOf(key)]);\n            }\n        }\n        return str;\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Using Map: \nyes, I have 2, 3, 4 numbers.\nI have 5, 6, 7 alphabets.\n8, 2, 5 are my lucky numbers.\nSomeone gave him 5 canines and asked him to feed 2.\nUsing List and array: \nyes, I have 2, 3, 4 numbers.\nI have 5, 6, 7 alphabets.\n8, 2, 5 are my lucky numbers.\nSomeone gave him 5 canines and asked him to feed 2.\n</code></pre>\n<p>The logic in both the implementations is straightforward.</p>\n"}],"owner":{"account_id":16363455,"reputation":67,"user_id":11818475,"display_name":"Rohit Pathak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":61069746,"answer_count":2,"score":1,"last_activity_date":1653226094,"creation_date":1586199725,"question_id":61067087,"body_markdown":"I have strings like -\r\n\r\n1. yes, I have two, three, four numbers  \r\n2. I have five, six, seven alphabets.\r\n3. eight, two, five are my lucky numbers.\r\n\r\nand I also have Map \r\n```\r\nMap &lt;String, String&gt; wordToDigit = new HashMap&lt;&gt;;\r\nMap.put(&quot;two&quot;, 2);\r\nMap.put(&quot;three&quot;, 3);\r\nMap.put(&quot;four&quot;, 4);\r\nMap.put(&quot;five&quot;, 5);\r\nMap.put(&quot;six&quot;, 6);\r\nMap.put(&quot;eight&quot;,8);\r\n```\r\n\r\nI need to replace the words in a string with the corresponding value in the map. \r\nAs each string does not contain all the keys, stored in a map. So, How can I do it more efficiently by iterating over the attribute which is the part of the string and not iterate over whole map? \r\n\r\nIn output :- \r\n```\r\n1. yes, I have 2, 3, 4 numbers.\r\n2. I have 5, 6, 7 alphabets.\r\n3. 8, 2, 5 are my lucky numbers. \r\n```","title":"Replace the multiple string with the other multiple string","body":"<p>I have strings like -</p>\n\n<ol>\n<li>yes, I have two, three, four numbers  </li>\n<li>I have five, six, seven alphabets.</li>\n<li>eight, two, five are my lucky numbers.</li>\n</ol>\n\n<p>and I also have Map </p>\n\n<pre><code>Map &lt;String, String&gt; wordToDigit = new HashMap&lt;&gt;;\nMap.put(\"two\", 2);\nMap.put(\"three\", 3);\nMap.put(\"four\", 4);\nMap.put(\"five\", 5);\nMap.put(\"six\", 6);\nMap.put(\"eight\",8);\n</code></pre>\n\n<p>I need to replace the words in a string with the corresponding value in the map. \nAs each string does not contain all the keys, stored in a map. So, How can I do it more efficiently by iterating over the attribute which is the part of the string and not iterate over whole map? </p>\n\n<p>In output :- </p>\n\n<pre><code>1. yes, I have 2, 3, 4 numbers.\n2. I have 5, 6, 7 alphabets.\n3. 8, 2, 5 are my lucky numbers. \n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8667,"page":1325,"page_size":100}
