{"items":[{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":361596,"reputation":7055,"user_id":704286,"accept_rate":89,"display_name":"David Wick"},"score":0,"creation_date":1314767742,"post_id":7252786,"comment_id":8725491,"body_markdown":"&quot;This is particularly true for &quot;data-centric&quot; classes which map to database records&quot; are DTOs mapped to database records? i would think that would be your entities/POJOs, whereas DTOs are simply for data transfer and shouldn&#39;t contain any logic whatsoever.","body":"&quot;This is particularly true for &quot;data-centric&quot; classes which map to database records&quot; are DTOs mapped to database records? i would think that would be your entities/POJOs, whereas DTOs are simply for data transfer and shouldn&#39;t contain any logic whatsoever."},{"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"score":7,"creation_date":1314770198,"post_id":7252786,"comment_id":8725797,"body_markdown":"There is logic and logic ... If you&#39;re going to keep the DTOs in collections then hash and equals are likely to be needed. That doesn&#39;t imply adding serious business logic.","body":"There is logic and logic ... If you&#39;re going to keep the DTOs in collections then hash and equals are likely to be needed. That doesn&#39;t imply adding serious business logic."}],"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1314767435,"creation_date":1314767435,"answer_id":7252786,"question_id":7252731,"body_markdown":"[This article][1] offers one piece of advice: \r\n\r\n&gt; Objects placed in a List , Set, or Map (as either a key or value) should have an appropriate definition of equals.\r\n\r\nSurely DTOs are used for more than just transfer, we do keep them, sort them, cache them ...\r\n\r\nIn practice do folks provide equals and hash? No not always. Should we? I think so.\r\n\r\n  [1]: http://www.javapractices.com/topic/TopicAction.do?Id=17","title":"Overriding equals method in DTO&#39;s","body":"<p><a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=17\">This article</a> offers one piece of advice: </p>\n\n<blockquote>\n  <p>Objects placed in a List , Set, or Map (as either a key or value) should have an appropriate definition of equals.</p>\n</blockquote>\n\n<p>Surely DTOs are used for more than just transfer, we do keep them, sort them, cache them ...</p>\n\n<p>In practice do folks provide equals and hash? No not always. Should we? I think so.</p>\n"},{"comments":[{"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil BÄ™ben"},"score":0,"creation_date":1589275679,"post_id":7252854,"comment_id":109221469,"body_markdown":"It&#39;s worth adding that if you provide `equals` and `hashCode` it is always both of them, or none of them, so you wouldn&#39;t break the contract.\n\ndocs - https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()","body":"It&#39;s worth adding that if you provide <code>equals</code> and <code>hashCode</code> it is always both of them, or none of them, so you wouldn&#39;t break the contract.  docs - <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"}],"tags":[],"owner":{"account_id":165022,"reputation":5631,"user_id":388155,"accept_rate":80,"display_name":"samitgaur"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1314793112,"creation_date":1314768220,"answer_id":7252854,"question_id":7252731,"body_markdown":"Whether or not you need to provide `equals` and `hashcode` implementations for your DTO classes depends on how you use them. \r\n\r\nIf you use them with one or more Collections, you should provide the implementation for the appropriate method. Almost all Collections call `equals` on the objects they store. Hash table based Collections like `HashSet` and `HashMap` call `hashcode`, whereas sorted Collections like `TreeSet` and `TreeMap` call `compareTo` method in addition to `equals`.","title":"Overriding equals method in DTO&#39;s","body":"<p>Whether or not you need to provide <code>equals</code> and <code>hashcode</code> implementations for your DTO classes depends on how you use them. </p>\n\n<p>If you use them with one or more Collections, you should provide the implementation for the appropriate method. Almost all Collections call <code>equals</code> on the objects they store. Hash table based Collections like <code>HashSet</code> and <code>HashMap</code> call <code>hashcode</code>, whereas sorted Collections like <code>TreeSet</code> and <code>TreeMap</code> call <code>compareTo</code> method in addition to <code>equals</code>.</p>\n"},{"tags":[],"owner":{"account_id":923546,"reputation":4807,"user_id":954761,"accept_rate":58,"display_name":"Niels Bech Nielsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396267768,"creation_date":1396267768,"answer_id":22761168,"question_id":7252731,"body_markdown":"If it becomes too trivial I can recommend using the lombok annotations\r\nhttp://projectlombok.org/features/\r\n\r\n\r\n","title":"Overriding equals method in DTO&#39;s","body":"<p>If it becomes too trivial I can recommend using the lombok annotations\n<a href=\"http://projectlombok.org/features/\" rel=\"nofollow\">http://projectlombok.org/features/</a></p>\n"}],"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7918,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":7252786,"answer_count":3,"score":19,"last_activity_date":1690397693,"creation_date":1314766846,"question_id":7252731,"body_markdown":"Is it necessary to override equals and hashcode methods in DTO&#39;s? Because DTO&#39;s are just use for transfer data. Is there any best practice or something regarding this?\r\n\r\nThanks.","title":"Overriding equals method in DTO&#39;s","body":"<p>Is it necessary to override equals and hashcode methods in DTO's? Because DTO's are just use for transfer data. Is there any best practice or something regarding this?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","gradle"],"owner":{"account_id":13608013,"reputation":63,"user_id":9816524,"display_name":"c.s_._._"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690397404,"creation_date":1690397404,"question_id":76774213,"body_markdown":"Recently did a jump in version for the `org.springframework.boot` plugin from 1.5.x to 2.3.x in my build.gradle file. I have been going up by increments as suggested by my coworkers and encountered this issue at spring 2.0.x stating: \r\n\r\n```Could not create an Appender of type [org.springframework.boot.logging.logback.LevelRemappingAppender]. ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type org.springframework.boot.logging.logback.LevelRemappingAppender```\r\n\r\n and no matter what version I am using past 2.x.x the issue doesnt seem to resolve. I saw [this thread](https://stackoverflow.com/questions/50407297/replacement-for-logback-levelremappingappender-in-spring-boot-2) on here talking about a replacement for the `LevelRemappingAppender` and then someone answered saying it was not needed anymore.\r\n\r\nIm not sure exactly what I need in order to resolve this error as it is only an issue for me past spring 2.x.x. Has anyone come across this before, if so do you have a solution or even a doc I could use to solve it","title":"Could not create an Appender of type [org.springframework.boot.logging.logback.LevelRemappingAppender]","body":"<p>Recently did a jump in version for the <code>org.springframework.boot</code> plugin from 1.5.x to 2.3.x in my build.gradle file. I have been going up by increments as suggested by my coworkers and encountered this issue at spring 2.0.x stating:</p>\n<p><code>Could not create an Appender of type [org.springframework.boot.logging.logback.LevelRemappingAppender]. ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type org.springframework.boot.logging.logback.LevelRemappingAppender</code></p>\n<p>and no matter what version I am using past 2.x.x the issue doesnt seem to resolve. I saw <a href=\"https://stackoverflow.com/questions/50407297/replacement-for-logback-levelremappingappender-in-spring-boot-2\">this thread</a> on here talking about a replacement for the <code>LevelRemappingAppender</code> and then someone answered saying it was not needed anymore.</p>\n<p>Im not sure exactly what I need in order to resolve this error as it is only an issue for me past spring 2.x.x. Has anyone come across this before, if so do you have a solution or even a doc I could use to solve it</p>\n"},{"tags":["java","maven","maven-shade-plugin"],"comments":[{"owner":{"account_id":293322,"reputation":10402,"user_id":596555,"accept_rate":75,"display_name":"boiledwater"},"score":0,"creation_date":1549940616,"post_id":36301277,"comment_id":96076004,"body_markdown":"Pls https://stackoverflow.com/a/29461997/596555","body":"Pls <a href=\"https://stackoverflow.com/a/29461997/596555\">stackoverflow.com/a/29461997/596555</a>"}],"answers":[{"comments":[{"owner":{"account_id":6493583,"reputation":97,"user_id":5026838,"accept_rate":25,"display_name":"elkan1788"},"score":0,"creation_date":1459339827,"post_id":36302033,"comment_id":60240195,"body_markdown":"yeah, there had same configure in my parent module `pom.xml` file. Also had refer to the official usage [maven-shade-plugin/examples/resource-transformers](https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#AppendingTransformer). But it was still failed. and in my other project these setting run well. It&#39;s so strange.","body":"yeah, there had same configure in my parent module <code>pom.xml</code> file. Also had refer to the official usage <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#AppendingTransformer\" rel=\"nofollow noreferrer\">maven-shade-plugin/examples/resource-transformers</a>. But it was still failed. and in my other project these setting run well. It&#39;s so strange."},{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1459340819,"post_id":36302033,"comment_id":60240878,"body_markdown":"@elkan1788 Have a look at my updated answer. Maybe in your actual used `pom.xml` there is some kind of typo.","body":"@elkan1788 Have a look at my updated answer. Maybe in your actual used <code>pom.xml</code> there is some kind of typo."},{"owner":{"account_id":6493583,"reputation":97,"user_id":5026838,"accept_rate":25,"display_name":"elkan1788"},"score":0,"creation_date":1459427743,"post_id":36302033,"comment_id":60289236,"body_markdown":"Thanks, the core in my `pom.xml` file were same as demo, you can see my upgrade question. Also I feel is strange same as your,why it throws AppendingTransformer exception. Maybe there other some error setting in my project?","body":"Thanks, the core in my <code>pom.xml</code> file were same as demo, you can see my upgrade question. Also I feel is strange same as your,why it throws AppendingTransformer exception. Maybe there other some error setting in my project?"}],"tags":[],"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459340765,"creation_date":1459322025,"answer_id":36302033,"question_id":36301277,"body_markdown":"Based on what you have posted you have removed to much from the plugin configuration. In the `&lt;executions&gt;` section you need to specify the goal.\r\n\r\namend your pom.xml as below\r\n\r\n    &lt;project&gt;\r\n        ...\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                ...\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4.3&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;transformers&gt;\r\n                            &lt;transformer\r\n                                implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                &lt;mainClass&gt;your.Main&lt;/mainClass&gt;\r\n                            &lt;/transformer&gt;\r\n                        &lt;/transformers&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nExecuting `mvn package` will create in `./target` the shaded Jar. In the log you should see something similar\r\n\r\n    [INFO] Replacing ../target/..-SNAPSHOT.jar with ../target/..-SNAPSHOT-shaded.jar\r\n\r\nAs you don&#39;t show your `pom.xml` have a look at following discrepancy.\r\n\r\nin the posted `pom.xml` snippet you have as implementation class\r\n\r\n    org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\r\n\r\nbut the exception complains about\r\n\r\n    org.apache.maven.plugins.shade.resource.AppendingTransformer","title":"Maven shade plugin can not find &#39;mainClass&#39; exception?","body":"<p>Based on what you have posted you have removed to much from the plugin configuration. In the <code>&lt;executions&gt;</code> section you need to specify the goal.</p>\n\n<p>amend your pom.xml as below</p>\n\n<pre><code>&lt;project&gt;\n    ...\n    &lt;build&gt;\n        &lt;plugins&gt;\n            ...\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;transformers&gt;\n                        &lt;transformer\n                            implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                            &lt;mainClass&gt;your.Main&lt;/mainClass&gt;\n                        &lt;/transformer&gt;\n                    &lt;/transformers&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Executing <code>mvn package</code> will create in <code>./target</code> the shaded Jar. In the log you should see something similar</p>\n\n<pre><code>[INFO] Replacing ../target/..-SNAPSHOT.jar with ../target/..-SNAPSHOT-shaded.jar\n</code></pre>\n\n<p>As you don't show your <code>pom.xml</code> have a look at following discrepancy.</p>\n\n<p>in the posted <code>pom.xml</code> snippet you have as implementation class</p>\n\n<pre><code>org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\n</code></pre>\n\n<p>but the exception complains about</p>\n\n<pre><code>org.apache.maven.plugins.shade.resource.AppendingTransformer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":260339,"reputation":2671,"user_id":543836,"display_name":"Dima"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1525191211,"creation_date":1525119975,"answer_id":50107719,"question_id":36301277,"body_markdown":"I had this same issue. Turned out it was caused by some config Spring Boot brings in. I am using spring-boot-starter-parent as my parent pom. \r\n\r\nI resolved the issue by setting the `start-class` property and removing the `ManifestResourceTransformer` configuration from the shade plugin in my pom.xml.\r\n\r\n    &lt;properties&gt;\r\n      &lt;start-class&gt;package.Main&lt;/start-class&gt;\r\n    &lt;/properties&gt;\r\n\r\nI found this property by searching the effective pom for `ManifestResourceTransformer`.","title":"Maven shade plugin can not find &#39;mainClass&#39; exception?","body":"<p>I had this same issue. Turned out it was caused by some config Spring Boot brings in. I am using spring-boot-starter-parent as my parent pom. </p>\n\n<p>I resolved the issue by setting the <code>start-class</code> property and removing the <code>ManifestResourceTransformer</code> configuration from the shade plugin in my pom.xml.</p>\n\n<pre><code>&lt;properties&gt;\n  &lt;start-class&gt;package.Main&lt;/start-class&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>I found this property by searching the effective pom for <code>ManifestResourceTransformer</code>.</p>\n"},{"tags":[],"owner":{"account_id":12033000,"reputation":684,"user_id":8802609,"display_name":"nluk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690397234,"creation_date":1690397234,"answer_id":76774203,"question_id":36301277,"body_markdown":"For anyone that also has `spring-boot-starter-parent` as a parent module: check your effective pom. If you need to have a separate execution, unlike [@Dima&#39;s answer][1], find out what execution `id` has Spring configured for theirs. If there&#39;s none, then it&#39;s `&#39;default&#39;` and you can disable it for your child pom by changing the execution phase as follows:\r\n\r\n```xml\r\n&lt;execution&gt;\r\n  &lt;id&gt;default&lt;/id&gt;\r\n  &lt;phase&gt;never (or any nonexistent phase)&lt;/phase&gt;\r\n&lt;/execution&gt;\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50107719/8802609","title":"Maven shade plugin can not find &#39;mainClass&#39; exception?","body":"<p>For anyone that also has <code>spring-boot-starter-parent</code> as a parent module: check your effective pom. If you need to have a separate execution, unlike <a href=\"https://stackoverflow.com/a/50107719/8802609\">@Dima's answer</a>, find out what execution <code>id</code> has Spring configured for theirs. If there's none, then it's <code>'default'</code> and you can disable it for your child pom by changing the execution phase as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;execution&gt;\n  &lt;id&gt;default&lt;/id&gt;\n  &lt;phase&gt;never (or any nonexistent phase)&lt;/phase&gt;\n&lt;/execution&gt;\n</code></pre>\n"}],"owner":{"account_id":6493583,"reputation":97,"user_id":5026838,"accept_rate":25,"display_name":"elkan1788"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12650,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1690397234,"creation_date":1459319282,"question_id":36301277,"body_markdown":"There are a very strange build with **`maven-shade-plugin:2.4.3`** in a standard maven project. It was throw can not find `mainClass` exception always when execute maven package command. I just simulate an maven-shade-plugin example, see below:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.mkyong.core.utils&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;dateUtils&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;dateUtils&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;jdk.version&gt;1.7&lt;/jdk.version&gt;\r\n    \t\t&lt;jodatime.version&gt;2.5&lt;/jodatime.version&gt;\r\n    \t\t&lt;junit.version&gt;4.11&lt;/junit.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jodatime.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;dateutils&lt;/finalName&gt;\r\n        \r\n            &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \r\n    \t\t\t&lt;!-- download source code in Eclipse, best practice --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.9&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n    \t\t\t\t\t&lt;downloadJavadocs&gt;false&lt;/downloadJavadocs&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;!-- Set a compiler level --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;${jdk.version}&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;${jdk.version}&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;!-- Maven Shade Plugin --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.4.3&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;!-- Run shade goal on package phase --&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n                &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                &lt;shadedClassifierName&gt;jar-with-dependencies&lt;/shadedClassifierName&gt;\r\n                &lt;filters&gt;\r\n                    &lt;filter&gt;\r\n                        &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/filter&gt;\r\n                &lt;/filters&gt;\r\n                &lt;transformers&gt;\r\n                  &lt;transformer\r\n                          implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                      &lt;mainClass&gt;com.mkyong.core.utils.App&lt;/mainClass&gt;\r\n                  &lt;/transformer&gt;\r\n              &lt;/transformers&gt;\r\n            &lt;/configuration&gt;\r\n            \r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThis one can run success. Then just change the main Class name, and other like this:\r\n\r\n    &lt;plugin&gt;\r\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;transformers&gt;\r\n                            &lt;transformer\r\n                                    implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                &lt;mainClass&gt;xxxxxxx&lt;/mainClass&gt;\r\n                            &lt;/transformer&gt;\r\n                        &lt;/transformers&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\n\r\nthe parent `pom.xml` file about the plugin line:\r\n\r\n    &lt;pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n           \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                    &lt;shadedClassifierName&gt;jar-with-dependencies&lt;/shadedClassifierName&gt;\r\n                    &lt;filters&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                    &lt;/filters&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    \r\n    &lt;/pluginManagement&gt;\r\n\r\n\r\nSo the modules will extends parent, but when package it throws exception, said: \r\n\r\n`[ERROR] Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.4.3:shade (default) on project analytics-sdk-storm-local: Unable to parse configuration of mojo org.apache.maven.plugins:maven-shade-plugin:2.4.3:shade for parameter mainClass: Cannot find &#39;mainClass&#39; in class org.apache.maven.plugins.shade.resource.AppendingTransformer -&gt; [Help 1]\r\n`\r\n\r\nBut why it was happened.There are the maven dependencies tree show:\r\n\r\n    [INFO] --- maven-dependency-plugin:2.10:tree (default-cli) @ xxxxx ---\r\n    [INFO] local:jar:1.0.1-SNAPSHOT\r\n    [INFO] +- org.apache.kafka:kafka_2.10:jar:0.8.1.1:compile\r\n    [INFO] |  +- com.yammer.metrics:metrics-core:jar:2.2.0:compile\r\n    [INFO] |  +- org.xerial.snappy:snappy-java:jar:1.1.2:compile\r\n    [INFO] |  +- net.sf.jopt-simple:jopt-simple:jar:3.2:compile\r\n    [INFO] |  +- org.scala-lang:scala-library:jar:2.10.1:compile\r\n    [INFO] |  \\- com.101tec:zkclient:jar:0.3:compile\r\n    [INFO] +- org.apache.storm:storm-core:jar:0.9.3:provided\r\n    [INFO] |  +- org.clojure:clojure:jar:1.5.1:provided\r\n    [INFO] |  +- clj-time:clj-time:jar:0.4.1:provided\r\n    [INFO] |  +- joda-time:joda-time:jar:2.8.2:provided\r\n    [INFO] |  +- compojure:compojure:jar:1.1.3:provided\r\n    [INFO] |  +- org.clojure:core.incubator:jar:0.1.0:provided\r\n    [INFO] |  +- org.clojure:tools.macro:jar:0.1.0:provided\r\n    [INFO] |  +- clout:clout:jar:1.0.1:provided\r\n    [INFO] |  +- ring:ring-core:jar:1.1.5:provided\r\n    [INFO] |  +- commons-fileupload:commons-fileupload:jar:1.3.1:provided\r\n    [INFO] |  +- javax.servlet:servlet-api:jar:2.5:provided\r\n    [INFO] |  +- hiccup:hiccup:jar:0.3.6:provided\r\n    [INFO] |  +- ring:ring-devel:jar:0.3.11:provided\r\n    [INFO] |  +- clj-stacktrace:clj-stacktrace:jar:0.2.2:provided\r\n    [INFO] |  +- ring:ring-jetty-adapter:jar:0.3.11:provided\r\n    [INFO] |  +- ring:ring-servlet:jar:0.3.11:provided\r\n    [INFO] |  +- org.mortbay.jetty:jetty:jar:6.1.26:provided\r\n    [INFO] |  +- org.mortbay.jetty:jetty-util:jar:6.1.26:provided\r\n    [INFO] |  +- org.clojure:tools.logging:jar:0.2.3:provided\r\n    [INFO] |  +- org.clojure:math.numeric-tower:jar:0.0.1:provided\r\n    [INFO] |  +- org.clojure:tools.cli:jar:0.2.4:provided\r\n    [INFO] |  +- commons-io:commons-io:jar:2.4:provided\r\n    [INFO] |  +- org.apache.commons:commons-exec:jar:1.1:provided\r\n    [INFO] |  +- commons-lang:commons-lang:jar:2.5:provided\r\n    [INFO] |  +- com.googlecode.json-simple:json-simple:jar:1.1.1:provided\r\n    [INFO] |  |  \\- junit:junit:jar:4.12:provided\r\n    [INFO] |  |     \\- org.hamcrest:hamcrest-core:jar:1.3:provided\r\n    [INFO] |  +- com.twitter:carbonite:jar:1.4.0:provided\r\n    [INFO] |  +- com.esotericsoftware.kryo:kryo:jar:2.21:provided\r\n    [INFO] |  +- com.esotericsoftware.reflectasm:reflectasm:jar:shaded:1.07:provided\r\n    [INFO] |  +- org.ow2.asm:asm:jar:4.0:compile\r\n    [INFO] |  +- com.esotericsoftware.minlog:minlog:jar:1.2:provided\r\n    [INFO] |  +- org.objenesis:objenesis:jar:1.2:compile\r\n    [INFO] |  +- com.twitter:chill-java:jar:0.3.5:provided\r\n    [INFO] |  +- org.yaml:snakeyaml:jar:1.16:provided\r\n    [INFO] |  +- commons-logging:commons-logging:jar:1.1.3:provided\r\n    [INFO] |  +- commons-codec:commons-codec:jar:1.9:provided\r\n    [INFO] |  +- com.googlecode.disruptor:disruptor:jar:2.10.1:provided\r\n    [INFO] |  +- org.jgrapht:jgrapht-core:jar:0.9.0:provided\r\n    [INFO] |  +- ch.qos.logback:logback-classic:jar:1.1.5:provided\r\n    [INFO] |  +- ch.qos.logback:logback-core:jar:1.0.13:provided\r\n    [INFO] |  +- org.slf4j:slf4j-api:jar:1.7.12:compile\r\n    [INFO] |  +- org.slf4j:log4j-over-slf4j:jar:1.7.16:provided\r\n    [INFO] |  \\- jline:jline:jar:2.11:compile\r\n    [INFO] +- org.apache.storm:storm-kafka:jar:0.9.3:compile\r\n    [INFO] |  \\- org.apache.curator:curator-framework:jar:2.5.0:compile\r\n    [INFO] |     +- org.apache.curator:curator-client:jar:2.5.0:compile\r\n    [INFO] |     +- org.apache.zookeeper:zookeeper:jar:3.4.6:compile\r\n    [INFO] |     |  \\- io.netty:netty:jar:3.7.0.Final:compile\r\n    [INFO] |     \\- com.google.guava:guava:jar:19.0:compile\r\n    [INFO] +- so.sao.analytics:analytics-sdk-common:jar:1.0.1-SNAPSHOT:compile\r\n    [INFO] |  +- com.esotericsoftware:kryo:jar:3.0.3:compile\r\n    [INFO] |  |  +- com.esotericsoftware:reflectasm:jar:1.10.1:compile\r\n    [INFO] |  |  \\- com.esotericsoftware:minlog:jar:1.3.0:compile\r\n    [INFO] |  \\- org.mapdb:mapdb:jar:2.0-beta12:compile\r\n    [INFO] \\- so.sao.analytics:analytics-sdk-storm-common:jar:1.0.1-SNAPSHOT:compile\r\n\r\n\r\nI real don&#39;t known why it was failed. Now just annotation the code. Is you had meet this one, show me, thanks.\r\n","title":"Maven shade plugin can not find &#39;mainClass&#39; exception?","body":"<p>There are a very strange build with <strong><code>maven-shade-plugin:2.4.3</code></strong> in a standard maven project. It was throw can not find <code>mainClass</code> exception always when execute maven package command. I just simulate an maven-shade-plugin example, see below:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mkyong.core.utils&lt;/groupId&gt;\n    &lt;artifactId&gt;dateUtils&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;dateUtils&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;jdk.version&gt;1.7&lt;/jdk.version&gt;\n        &lt;jodatime.version&gt;2.5&lt;/jodatime.version&gt;\n        &lt;junit.version&gt;4.11&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;${jodatime.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;dateutils&lt;/finalName&gt;\n\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n\n            &lt;!-- download source code in Eclipse, best practice --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.9&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n                    &lt;downloadJavadocs&gt;false&lt;/downloadJavadocs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Set a compiler level --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${jdk.version}&lt;/source&gt;\n                    &lt;target&gt;${jdk.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Maven Shade Plugin --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;!-- Run shade goal on package phase --&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n          &lt;/execution&gt;\n                &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n            &lt;shadedClassifierName&gt;jar-with-dependencies&lt;/shadedClassifierName&gt;\n            &lt;filters&gt;\n                &lt;filter&gt;\n                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/filter&gt;\n            &lt;/filters&gt;\n            &lt;transformers&gt;\n              &lt;transformer\n                      implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                  &lt;mainClass&gt;com.mkyong.core.utils.App&lt;/mainClass&gt;\n              &lt;/transformer&gt;\n          &lt;/transformers&gt;\n        &lt;/configuration&gt;\n\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>This one can run success. Then just change the main Class name, and other like this:</p>\n\n<pre><code>&lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;transformers&gt;\n                        &lt;transformer\n                                implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                            &lt;mainClass&gt;xxxxxxx&lt;/mainClass&gt;\n                        &lt;/transformer&gt;\n                    &lt;/transformers&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n\n<p>the parent <code>pom.xml</code> file about the plugin line:</p>\n\n<pre><code>&lt;pluginManagement&gt;\n    &lt;plugins&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                &lt;shadedClassifierName&gt;jar-with-dependencies&lt;/shadedClassifierName&gt;\n                &lt;filters&gt;\n                    &lt;filter&gt;\n                        &lt;artifact&gt;*:*&lt;/artifact&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/filter&gt;\n                &lt;/filters&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n\n&lt;/pluginManagement&gt;\n</code></pre>\n\n<p>So the modules will extends parent, but when package it throws exception, said: </p>\n\n<p><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.4.3:shade (default) on project analytics-sdk-storm-local: Unable to parse configuration of mojo org.apache.maven.plugins:maven-shade-plugin:2.4.3:shade for parameter mainClass: Cannot find 'mainClass' in class org.apache.maven.plugins.shade.resource.AppendingTransformer -&gt; [Help 1]\n</code></p>\n\n<p>But why it was happened.There are the maven dependencies tree show:</p>\n\n<pre><code>[INFO] --- maven-dependency-plugin:2.10:tree (default-cli) @ xxxxx ---\n[INFO] local:jar:1.0.1-SNAPSHOT\n[INFO] +- org.apache.kafka:kafka_2.10:jar:0.8.1.1:compile\n[INFO] |  +- com.yammer.metrics:metrics-core:jar:2.2.0:compile\n[INFO] |  +- org.xerial.snappy:snappy-java:jar:1.1.2:compile\n[INFO] |  +- net.sf.jopt-simple:jopt-simple:jar:3.2:compile\n[INFO] |  +- org.scala-lang:scala-library:jar:2.10.1:compile\n[INFO] |  \\- com.101tec:zkclient:jar:0.3:compile\n[INFO] +- org.apache.storm:storm-core:jar:0.9.3:provided\n[INFO] |  +- org.clojure:clojure:jar:1.5.1:provided\n[INFO] |  +- clj-time:clj-time:jar:0.4.1:provided\n[INFO] |  +- joda-time:joda-time:jar:2.8.2:provided\n[INFO] |  +- compojure:compojure:jar:1.1.3:provided\n[INFO] |  +- org.clojure:core.incubator:jar:0.1.0:provided\n[INFO] |  +- org.clojure:tools.macro:jar:0.1.0:provided\n[INFO] |  +- clout:clout:jar:1.0.1:provided\n[INFO] |  +- ring:ring-core:jar:1.1.5:provided\n[INFO] |  +- commons-fileupload:commons-fileupload:jar:1.3.1:provided\n[INFO] |  +- javax.servlet:servlet-api:jar:2.5:provided\n[INFO] |  +- hiccup:hiccup:jar:0.3.6:provided\n[INFO] |  +- ring:ring-devel:jar:0.3.11:provided\n[INFO] |  +- clj-stacktrace:clj-stacktrace:jar:0.2.2:provided\n[INFO] |  +- ring:ring-jetty-adapter:jar:0.3.11:provided\n[INFO] |  +- ring:ring-servlet:jar:0.3.11:provided\n[INFO] |  +- org.mortbay.jetty:jetty:jar:6.1.26:provided\n[INFO] |  +- org.mortbay.jetty:jetty-util:jar:6.1.26:provided\n[INFO] |  +- org.clojure:tools.logging:jar:0.2.3:provided\n[INFO] |  +- org.clojure:math.numeric-tower:jar:0.0.1:provided\n[INFO] |  +- org.clojure:tools.cli:jar:0.2.4:provided\n[INFO] |  +- commons-io:commons-io:jar:2.4:provided\n[INFO] |  +- org.apache.commons:commons-exec:jar:1.1:provided\n[INFO] |  +- commons-lang:commons-lang:jar:2.5:provided\n[INFO] |  +- com.googlecode.json-simple:json-simple:jar:1.1.1:provided\n[INFO] |  |  \\- junit:junit:jar:4.12:provided\n[INFO] |  |     \\- org.hamcrest:hamcrest-core:jar:1.3:provided\n[INFO] |  +- com.twitter:carbonite:jar:1.4.0:provided\n[INFO] |  +- com.esotericsoftware.kryo:kryo:jar:2.21:provided\n[INFO] |  +- com.esotericsoftware.reflectasm:reflectasm:jar:shaded:1.07:provided\n[INFO] |  +- org.ow2.asm:asm:jar:4.0:compile\n[INFO] |  +- com.esotericsoftware.minlog:minlog:jar:1.2:provided\n[INFO] |  +- org.objenesis:objenesis:jar:1.2:compile\n[INFO] |  +- com.twitter:chill-java:jar:0.3.5:provided\n[INFO] |  +- org.yaml:snakeyaml:jar:1.16:provided\n[INFO] |  +- commons-logging:commons-logging:jar:1.1.3:provided\n[INFO] |  +- commons-codec:commons-codec:jar:1.9:provided\n[INFO] |  +- com.googlecode.disruptor:disruptor:jar:2.10.1:provided\n[INFO] |  +- org.jgrapht:jgrapht-core:jar:0.9.0:provided\n[INFO] |  +- ch.qos.logback:logback-classic:jar:1.1.5:provided\n[INFO] |  +- ch.qos.logback:logback-core:jar:1.0.13:provided\n[INFO] |  +- org.slf4j:slf4j-api:jar:1.7.12:compile\n[INFO] |  +- org.slf4j:log4j-over-slf4j:jar:1.7.16:provided\n[INFO] |  \\- jline:jline:jar:2.11:compile\n[INFO] +- org.apache.storm:storm-kafka:jar:0.9.3:compile\n[INFO] |  \\- org.apache.curator:curator-framework:jar:2.5.0:compile\n[INFO] |     +- org.apache.curator:curator-client:jar:2.5.0:compile\n[INFO] |     +- org.apache.zookeeper:zookeeper:jar:3.4.6:compile\n[INFO] |     |  \\- io.netty:netty:jar:3.7.0.Final:compile\n[INFO] |     \\- com.google.guava:guava:jar:19.0:compile\n[INFO] +- so.sao.analytics:analytics-sdk-common:jar:1.0.1-SNAPSHOT:compile\n[INFO] |  +- com.esotericsoftware:kryo:jar:3.0.3:compile\n[INFO] |  |  +- com.esotericsoftware:reflectasm:jar:1.10.1:compile\n[INFO] |  |  \\- com.esotericsoftware:minlog:jar:1.3.0:compile\n[INFO] |  \\- org.mapdb:mapdb:jar:2.0-beta12:compile\n[INFO] \\- so.sao.analytics:analytics-sdk-storm-common:jar:1.0.1-SNAPSHOT:compile\n</code></pre>\n\n<p>I real don't known why it was failed. Now just annotation the code. Is you had meet this one, show me, thanks.</p>\n"},{"tags":["java","xml","maven","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1613988249,"post_id":66313390,"comment_id":117236639,"body_markdown":"Do you get the same error if you package it from command line outside IDE?","body":"Do you get the same error if you package it from command line outside IDE?"},{"owner":{"account_id":15469855,"reputation":93,"user_id":11160245,"display_name":"Dennis"},"score":0,"creation_date":1613988396,"post_id":66313390,"comment_id":117236694,"body_markdown":"I get same error if I package it from command line outside IDE(mvn clean package at parent project directory)","body":"I get same error if I package it from command line outside IDE(mvn clean package at parent project directory)"}],"answers":[{"comments":[{"owner":{"account_id":15469855,"reputation":93,"user_id":11160245,"display_name":"Dennis"},"score":0,"creation_date":1613995219,"post_id":66314021,"comment_id":117239729,"body_markdown":"When I comment build tag in parent pom.xml, `Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Module_Project: Compilation failure`. How can I know which version is maven using?","body":"When I comment build tag in parent pom.xml, <code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Module_Project: Compilation failure</code>. How can I know which version is maven using?"},{"owner":{"account_id":15469855,"reputation":93,"user_id":11160245,"display_name":"Dennis"},"score":0,"creation_date":1613995368,"post_id":66314021,"comment_id":117239788,"body_markdown":"I just check Maven3.6.3 was released at 2019-11-25. Maven Compiler Plugin was released at May, 2019. Do Maven3.6.3 use older version Maven Compiler Plugin when it is released?","body":"I just check Maven3.6.3 was released at 2019-11-25. Maven Compiler Plugin was released at May, 2019. Do Maven3.6.3 use older version Maven Compiler Plugin when it is released?"},{"owner":{"account_id":15469855,"reputation":93,"user_id":11160245,"display_name":"Dennis"},"score":0,"creation_date":1613995654,"post_id":66314021,"comment_id":117239892,"body_markdown":"I get lose. Because when I check `mvn -version`, it shows **Maven3.6.3**, **Java version15.0.2**, how can Java version15.0.2 use together with maven-compiler-plugin:3.1? And if the older version maven-compiler-plugin can work with new version Java, why does `Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Module_Project: Compilation failure` happened?","body":"I get lose. Because when I check <code>mvn -version</code>, it shows <b>Maven3.6.3</b>, <b>Java version15.0.2</b>, how can Java version15.0.2 use together with maven-compiler-plugin:3.1? And if the older version maven-compiler-plugin can work with new version Java, why does <code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Module_Project: Compilation failure</code> happened?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1613996680,"post_id":66314021,"comment_id":117240353,"body_markdown":"The version of Maven and the version of the compiler plugin are not connected. Just always use the newest compiler plugin, in this case, 3.8.1.","body":"The version of Maven and the version of the compiler plugin are not connected. Just always use the newest compiler plugin, in this case, 3.8.1."}],"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1613990061,"creation_date":1613990061,"answer_id":66314021,"question_id":66313390,"body_markdown":"There is no compiler plugin in version 3.6.3. The recent version is 3.8.1.\r\n\r\nThe version of the compiler plugin is not related to the version of Maven itself.\r\n\r\nThe parent project does not use the compile plugin, so the problem appears when building the child.","title":"child maven project cannot find maven-compiler-plugin","body":"<p>There is no compiler plugin in version 3.6.3. The recent version is 3.8.1.</p>\n<p>The version of the compiler plugin is not related to the version of Maven itself.</p>\n<p>The parent project does not use the compile plugin, so the problem appears when building the child.</p>\n"}],"owner":{"account_id":15469855,"reputation":93,"user_id":11160245,"display_name":"Dennis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66314021,"answer_count":1,"score":0,"last_activity_date":1690396322,"creation_date":1613987628,"question_id":66313390,"body_markdown":"I use intellij2020.3.2, **maven version 3.6.3, java version 15.0.2**.  \r\nI has a **parent project** named **sdsd3**, and **child project** named **Module_Project**.  \r\nI **cannot package the child project**, here is the error message of parent and child project, respectively. \r\n```\r\n[INFO] SDSD3 Project ...................................... SUCCESS [  0.004 s]\r\n[INFO] SDSD3 Project - Module ............................. FAILURE [  0.075 s]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[ERROR] Plugin org.apache.maven.plugins:maven-compiler-plugin:3.6.3 or one of its dependencies could not be resolved: Failure to find org.apache.maven.plugins:maven-compiler-plugin:jar:3.6.3 in https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\r\n[ERROR] \r\n```  \r\n```\r\n[WARNING] The POM for org.apache.maven.plugins:maven-compiler-plugin:jar:3.6.3 is missing, no dependency information available\r\nThe POM for org.apache.maven.plugins:maven-compiler-plugin:jar:3.6.3 is missing, no dependency information available\r\n```\r\nHere is my pom.xml of parent project:  \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;aa.com.dennis&lt;/groupId&gt;\r\n  &lt;artifactId&gt;sdsd3&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.0&lt;/version&gt;\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n\r\n  &lt;name&gt;SDSD3 Project&lt;/name&gt;\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;build.stage&gt;local&lt;/build.stage&gt;\r\n    &lt;org.slf4j.version&gt;1.7.21&lt;/org.slf4j.version&gt;\r\n    &lt;org.projectlombok.version&gt;1.16.10&lt;/org.projectlombok.version&gt;\r\n    &lt;org.springframework.version&gt;4.3.3.RELEASE&lt;/org.springframework.version&gt;\r\n    &lt;org.apache.tiles.version&gt;3.0.7&lt;/org.apache.tiles.version&gt;\r\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n    &lt;mybatis.version&gt;3.4.1&lt;/mybatis.version&gt;\r\n    &lt;mybatis-spring.version&gt;1.3.0&lt;/mybatis-spring.version&gt;\r\n    &lt;jstl.version&gt;1.2&lt;/jstl.version&gt;\r\n    &lt;javax.servlet-api.version&gt;4.0.0-b01&lt;/javax.servlet-api.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;modules&gt;\r\n\r\n    &lt;module&gt;Module_Project&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.6.3&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n            &lt;source&gt;${java.version}&lt;/source&gt;\r\n            &lt;target&gt;${java.version}&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```  \r\nand pom.xml of child project  \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;sdsd3&lt;/artifactId&gt;\r\n        &lt;groupId&gt;tw.com.gss&lt;/groupId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;artifactId&gt;Module_Project&lt;/artifactId&gt;\r\n\r\n\r\n    &lt;name&gt;SDSD3 Project - Module&lt;/name&gt;\r\n\r\n&lt;!--    &lt;properties&gt;--&gt;\r\n&lt;!--        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;--&gt;\r\n&lt;!--        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;--&gt;\r\n&lt;!--    &lt;/properties&gt;--&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\r\n            &lt;version&gt;${mybatis.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;${mybatis-spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tiles-extras&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.apache.tiles.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tiles-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.apache.tiles.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.apache.tiles.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.10&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0-b01&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;Module_Project&lt;/finalName&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources/${build.stage}&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources/common&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nWhy parent project can compile, but child cannot? How to fix it?\r\n[![enter image description here][1]][1] here is my intellij maven setting\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NnWbr.png","title":"child maven project cannot find maven-compiler-plugin","body":"<p>I use intellij2020.3.2, <strong>maven version 3.6.3, java version 15.0.2</strong>.<br />\nI has a <strong>parent project</strong> named <strong>sdsd3</strong>, and <strong>child project</strong> named <strong>Module_Project</strong>.<br />\nI <strong>cannot package the child project</strong>, here is the error message of parent and child project, respectively.</p>\n<pre><code>[INFO] SDSD3 Project ...................................... SUCCESS [  0.004 s]\n[INFO] SDSD3 Project - Module ............................. FAILURE [  0.075 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[ERROR] Plugin org.apache.maven.plugins:maven-compiler-plugin:3.6.3 or one of its dependencies could not be resolved: Failure to find org.apache.maven.plugins:maven-compiler-plugin:jar:3.6.3 in https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\n[ERROR] \n</code></pre>\n<pre><code>[WARNING] The POM for org.apache.maven.plugins:maven-compiler-plugin:jar:3.6.3 is missing, no dependency information available\nThe POM for org.apache.maven.plugins:maven-compiler-plugin:jar:3.6.3 is missing, no dependency information available\n</code></pre>\n<p>Here is my pom.xml of parent project:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;aa.com.dennis&lt;/groupId&gt;\n  &lt;artifactId&gt;sdsd3&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n\n\n  &lt;name&gt;SDSD3 Project&lt;/name&gt;\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;build.stage&gt;local&lt;/build.stage&gt;\n    &lt;org.slf4j.version&gt;1.7.21&lt;/org.slf4j.version&gt;\n    &lt;org.projectlombok.version&gt;1.16.10&lt;/org.projectlombok.version&gt;\n    &lt;org.springframework.version&gt;4.3.3.RELEASE&lt;/org.springframework.version&gt;\n    &lt;org.apache.tiles.version&gt;3.0.7&lt;/org.apache.tiles.version&gt;\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n    &lt;mybatis.version&gt;3.4.1&lt;/mybatis.version&gt;\n    &lt;mybatis-spring.version&gt;1.3.0&lt;/mybatis-spring.version&gt;\n    &lt;jstl.version&gt;1.2&lt;/jstl.version&gt;\n    &lt;javax.servlet-api.version&gt;4.0.0-b01&lt;/javax.servlet-api.version&gt;\n  &lt;/properties&gt;\n  &lt;modules&gt;\n\n    &lt;module&gt;Module_Project&lt;/module&gt;\n  &lt;/modules&gt;\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.6.3&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n            &lt;source&gt;${java.version}&lt;/source&gt;\n            &lt;target&gt;${java.version}&lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>and pom.xml of child project</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;sdsd3&lt;/artifactId&gt;\n        &lt;groupId&gt;tw.com.gss&lt;/groupId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;artifactId&gt;Module_Project&lt;/artifactId&gt;\n\n\n    &lt;name&gt;SDSD3 Project - Module&lt;/name&gt;\n\n&lt;!--    &lt;properties&gt;--&gt;\n&lt;!--        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;--&gt;\n&lt;!--        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;--&gt;\n&lt;!--    &lt;/properties&gt;--&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n            &lt;version&gt;${mybatis.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n            &lt;version&gt;${mybatis-spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n            &lt;artifactId&gt;tiles-extras&lt;/artifactId&gt;\n            &lt;version&gt;${org.apache.tiles.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n            &lt;artifactId&gt;tiles-servlet&lt;/artifactId&gt;\n            &lt;version&gt;${org.apache.tiles.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n            &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\n            &lt;version&gt;${org.apache.tiles.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.16.10&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-b01&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;Module_Project&lt;/finalName&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources/${build.stage}&lt;/directory&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources/common&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Why parent project can compile, but child cannot? How to fix it?\n<a href=\"https://i.stack.imgur.com/NnWbr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NnWbr.png\" alt=\"enter image description here\" /></a> here is my intellij maven setting</p>\n"},{"tags":["java","maven","intellij-idea","javafx","openweathermap"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1690409603,"post_id":76774109,"comment_id":135351527,"body_markdown":"You are getting a [HTTP `400` error](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400#).  Provide the server with the data it is able to understand (currently you are not doing that).  What the server requires is API specific and will be documented in the server API documentation, to which you must conform.  If still in doubt, request help directly from the maintainers of the `OWM` API that you are using.","body":"You are getting a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400#\" rel=\"nofollow noreferrer\">HTTP <code>400</code> error</a>.  Provide the server with the data it is able to understand (currently you are not doing that).  What the server requires is API specific and will be documented in the server API documentation, to which you must conform.  If still in doubt, request help directly from the maintainers of the <code>OWM</code> API that you are using."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1690409781,"post_id":76774109,"comment_id":135351546,"body_markdown":"Learn how to [read a stack trace](https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors).  The `InvocationTargetException` is a symptom of the error and not the ultimate cause, which is indicated in the trace by `Caused by: net.aksingh.owmjapis.api.APIException: API call gave error: 400 - Bad Request`.","body":"Learn how to <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">read a stack trace</a>.  The <code>InvocationTargetException</code> is a symptom of the error and not the ultimate cause, which is indicated in the trace by <code>Caused by: net.aksingh.owmjapis.api.APIException: API call gave error: 400 - Bad Request</code>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1690410354,"post_id":76774109,"comment_id":135351614,"body_markdown":"Instead of *&quot;JavaFX,Maven: Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException&quot;*, your question should actually be, *&quot;What is the correct input to use for the openweathermap API call: `owm.hourlyWeatherForecastByCityName(cityNameWithCountryCode)`?&quot;* and in the question, provide the name of the city you want a weather forecast for and the actual value you are providing to the method call which is failing (which you can obtain through a debugger or log statement), also check the API authentication credentials used.","body":"Instead of <i>&quot;JavaFX,Maven: Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException&quot;</i>, your question should actually be, <i>&quot;What is the correct input to use for the openweathermap API call: <code>owm.hourlyWeatherForecastByCityName(cityNameWithCountryCode)</code>&zwnj;&#8203;?&quot;</i> and in the question, provide the name of the city you want a weather forecast for and the actual value you are providing to the method call which is failing (which you can obtain through a debugger or log statement), also check the API authentication credentials used."}],"owner":{"account_id":29097704,"reputation":1,"user_id":22290249,"display_name":"dar1o"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690396237,"creation_date":1690396237,"question_id":76774109,"body_markdown":"I am writing Weather Application to forecast weather for 2 cities.\r\nI use JavaFx, maven, SceneBuilder.\r\nI get an error while changing first city.\r\nThe second city works good.\r\n\r\nI get this error:\r\n\r\n\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1787)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1670)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8879)\r\n\tat javafx.controls/javafx.scene.control.Button.fire(Button.java:200)\r\n\tat javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:206)\r\n\tat javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\r\n\tat javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\r\n\tat javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\r\n\tat javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\r\n\tat javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\r\n\tat javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:83)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1784)\r\n\t... 47 more\r\nCaused by: net.aksingh.owmjapis.api.APIException: API call gave error: 400 - Bad Request\r\n\tat owm.japis@2.5.3.0/net.aksingh.owmjapis.core.OWM.hourlyWeatherForecastByCityName(OWM.kt:331)\r\n\tat WeatherApp/com.dariuszkrygier.model.WeatherForecastFetcher.getWeatherForecast(WeatherForecastFetcher.java:16)\r\n\tat WeatherApp/com.dariuszkrygier.controller.MainWindowController.showCurrentWeather(MainWindowController.java:285)\r\n\tat WeatherApp/com.dariuszkrygier.controller.MainWindowController.changeFirstCityLocationButtonAction(MainWindowController.java:202)\r\n\t... 58 more\r\n\r\nProcess finished with exit code 130\r\n\r\n```\r\n\r\n\r\n\r\nProblems caused by are bolded:\r\n\r\n```\r\n\r\n\r\n public WeatherForecastFetcher(String apiKey) {\r\n        owm = new OWM(apiKey);\r\n        owm.setUnit(OWM.Unit.METRIC);\r\n    }\r\n\r\n    public Weather getWeatherForecast(String cityNameWithCountryCode) throws APIException {\r\n**        HourlyWeatherForecast hourlyWeatherForecast = owm.hourlyWeatherForecastByCityName(cityNameWithCountryCode);**\r\n        if (hourlyWeatherForecast.hasRespCode() &amp;&amp; hourlyWeatherForecast.getRespCode().equals(&quot;200&quot;)) {\r\n            return new Weather(hourlyWeatherForecast);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nprivate void showCurrentWeather(TextField locationField, Label locationName, Label locationDate,\r\n                                    ImageView locationImage, Label locationTemp, Label locationWeather\r\n                                    ) throws APIException {\r\n\r\n        **var weather = weatherForecastFetcher.getWeatherForecast(locationField.getText());**\r\n        int currentTimeIndex = 0;\r\n\r\n        String cityNameWithCountryCode = weather.getCityName() + &quot;, &quot; + weather .getCountryCode();\r\n        String dateWithDay =\r\n                weather.getDayOfTheWeek(currentTimeIndex) + &quot;, &quot; + weather.getDateWithoutTime(currentTimeIndex);\r\n        Image image = new Image(weather .getIconLink(currentTimeIndex));\r\n        String temp = weather .getTemp(currentTimeIndex);\r\n        String description = weather .getDescription(currentTimeIndex);\r\n\r\n        locationName.setText(cityNameWithCountryCode);\r\n        locationDate.setText(dateWithDay);\r\n        locationImage.setImage(image);\r\n        locationTemp.setText(temp);\r\n        locationWeather.setText(description);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n@FXML\r\n    void changeFirstCityLocationButtonAction() throws APIException {\r\n        if (firstFieldIsValid()) {\r\n           ** showCurrentWeather(firstCityPicker, firstCity, firstCityFirstDayDate, firstCityFirstDayImage,\r\n                    firstCityFirstDayTemp, firstCityFirstDayDescription );**\r\n            //day2\r\n            showNextDays(firstCityPicker, 8, firstCitySecondDayDate, firstCitySecondDayImage,\r\n                    firstCitySecondDayTemp, firstCitySecondDayDescription);\r\n            //day3\r\n            showNextDays(firstCityPicker, 16, firstCityThirdDayDate, firstCityThirdDayImage,\r\n                    firstCityThirdDayTemp, firstCityThirdDayDescription);\r\n            //day4\r\n            showNextDays(firstCityPicker, 24, firstCityFourthDayDate, firstCityFourthDayImage,\r\n                    firstCityFourthDayTemp, firstCityFourthDayDescription);\r\n            //day5\r\n            showNextDays(firstCityPicker, 32, firstCityFifthDayDate, firstCityFifthDayImage,\r\n                    firstCityFifthDayTemp, firstCityFifthDayDescription);\r\n        }\r\n    }\r\n\r\n\r\n```\r\n\r\nThe path to github is:\r\n\r\nhttps://github.com/dariuszkrygier/WeatherApp.git\r\n\r\nPlease help me.\r\n\r\n\r\n","title":"JavaFX,Maven: Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException","body":"<p>I am writing Weather Application to forecast weather for 2 cities.\nI use JavaFx, maven, SceneBuilder.\nI get an error while changing first city.\nThe second city works good.</p>\n<p>I get this error:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1787)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1670)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8879)\n    at javafx.controls/javafx.scene.control.Button.fire(Button.java:200)\n    at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:206)\n    at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76)\n    at jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\n    at javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:83)\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1784)\n    ... 47 more\nCaused by: net.aksingh.owmjapis.api.APIException: API call gave error: 400 - Bad Request\n    at owm.japis@2.5.3.0/net.aksingh.owmjapis.core.OWM.hourlyWeatherForecastByCityName(OWM.kt:331)\n    at WeatherApp/com.dariuszkrygier.model.WeatherForecastFetcher.getWeatherForecast(WeatherForecastFetcher.java:16)\n    at WeatherApp/com.dariuszkrygier.controller.MainWindowController.showCurrentWeather(MainWindowController.java:285)\n    at WeatherApp/com.dariuszkrygier.controller.MainWindowController.changeFirstCityLocationButtonAction(MainWindowController.java:202)\n    ... 58 more\n\nProcess finished with exit code 130\n\n</code></pre>\n<p>Problems caused by are bolded:</p>\n<pre><code>\n\n public WeatherForecastFetcher(String apiKey) {\n        owm = new OWM(apiKey);\n        owm.setUnit(OWM.Unit.METRIC);\n    }\n\n    public Weather getWeatherForecast(String cityNameWithCountryCode) throws APIException {\n**        HourlyWeatherForecast hourlyWeatherForecast = owm.hourlyWeatherForecastByCityName(cityNameWithCountryCode);**\n        if (hourlyWeatherForecast.hasRespCode() &amp;&amp; hourlyWeatherForecast.getRespCode().equals(&quot;200&quot;)) {\n            return new Weather(hourlyWeatherForecast);\n        }\n        return null;\n    }\n}\n\n\n\n\n\nprivate void showCurrentWeather(TextField locationField, Label locationName, Label locationDate,\n                                    ImageView locationImage, Label locationTemp, Label locationWeather\n                                    ) throws APIException {\n\n        **var weather = weatherForecastFetcher.getWeatherForecast(locationField.getText());**\n        int currentTimeIndex = 0;\n\n        String cityNameWithCountryCode = weather.getCityName() + &quot;, &quot; + weather .getCountryCode();\n        String dateWithDay =\n                weather.getDayOfTheWeek(currentTimeIndex) + &quot;, &quot; + weather.getDateWithoutTime(currentTimeIndex);\n        Image image = new Image(weather .getIconLink(currentTimeIndex));\n        String temp = weather .getTemp(currentTimeIndex);\n        String description = weather .getDescription(currentTimeIndex);\n\n        locationName.setText(cityNameWithCountryCode);\n        locationDate.setText(dateWithDay);\n        locationImage.setImage(image);\n        locationTemp.setText(temp);\n        locationWeather.setText(description);\n\n    }\n\n\n\n\n\n@FXML\n    void changeFirstCityLocationButtonAction() throws APIException {\n        if (firstFieldIsValid()) {\n           ** showCurrentWeather(firstCityPicker, firstCity, firstCityFirstDayDate, firstCityFirstDayImage,\n                    firstCityFirstDayTemp, firstCityFirstDayDescription );**\n            //day2\n            showNextDays(firstCityPicker, 8, firstCitySecondDayDate, firstCitySecondDayImage,\n                    firstCitySecondDayTemp, firstCitySecondDayDescription);\n            //day3\n            showNextDays(firstCityPicker, 16, firstCityThirdDayDate, firstCityThirdDayImage,\n                    firstCityThirdDayTemp, firstCityThirdDayDescription);\n            //day4\n            showNextDays(firstCityPicker, 24, firstCityFourthDayDate, firstCityFourthDayImage,\n                    firstCityFourthDayTemp, firstCityFourthDayDescription);\n            //day5\n            showNextDays(firstCityPicker, 32, firstCityFifthDayDate, firstCityFifthDayImage,\n                    firstCityFifthDayTemp, firstCityFifthDayDescription);\n        }\n    }\n\n\n</code></pre>\n<p>The path to github is:</p>\n<p><a href=\"https://github.com/dariuszkrygier/WeatherApp.git\" rel=\"nofollow noreferrer\">https://github.com/dariuszkrygier/WeatherApp.git</a></p>\n<p>Please help me.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1690395212,"post_id":76773946,"comment_id":135349118,"body_markdown":"Runs here as expected. The code snippet won&#39;t compile (previousFruitName has no type), probably you are running old code.","body":"Runs here as expected. The code snippet won&#39;t compile (previousFruitName has no type), probably you are running old code."},{"owner":{"account_id":29097706,"reputation":1,"user_id":22290251,"display_name":"Alok Kumar"},"score":0,"creation_date":1690396418,"post_id":76773946,"comment_id":135349337,"body_markdown":"sorry could you please elaborate what you expected. My expectation was that every time I hit /api1 previousFruitName should print the previous value. But it is giving null every time instead.","body":"sorry could you please elaborate what you expected. My expectation was that every time I hit /api1 previousFruitName should print the previous value. But it is giving null every time instead."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1690396491,"post_id":76773946,"comment_id":135349349,"body_markdown":"Correct, that is the expected and observed behavior to print the old  value before new assignment.","body":"Correct, that is the expected and observed behavior to print the old  value before new assignment."}],"answers":[{"tags":[],"owner":{"account_id":18786818,"reputation":28,"user_id":13700242,"display_name":"Yuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690395306,"creation_date":1690395243,"answer_id":76774026,"question_id":76773946,"body_markdown":"Your example works as you expected it to be. Only the private class field needs to be type defined as String.\r\n\r\n    @RestController\r\n    @SpringBootApplication\r\n    public class Application {\r\n        private String previousFruitName = null;\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n        @GetMapping(&quot;/api1&quot;)\r\n        public String method1(@RequestParam String newFruitName){\r\n            System.out.println(&quot;previous fruit is &quot;+previousFruitName + &quot; and new fruit name is &quot; + newFruitName);\r\n            previousFruitName=newFruitName;\r\n            return &quot;ok&quot;;\r\n        }\r\n    }","title":"Singleton scope behaviour in a Spring Boot app","body":"<p>Your example works as you expected it to be. Only the private class field needs to be type defined as String.</p>\n<pre><code>@RestController\n@SpringBootApplication\npublic class Application {\n    private String previousFruitName = null;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @GetMapping(&quot;/api1&quot;)\n    public String method1(@RequestParam String newFruitName){\n        System.out.println(&quot;previous fruit is &quot;+previousFruitName + &quot; and new fruit name is &quot; + newFruitName);\n        previousFruitName=newFruitName;\n        return &quot;ok&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29097706,"reputation":1,"user_id":22290251,"display_name":"Alok Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76774026,"answer_count":1,"score":-2,"last_activity_date":1690396160,"creation_date":1690394345,"question_id":76773946,"body_markdown":"I want to ask a question regarding Spring Beans.\r\n\r\nLet us say we have a simple Spring Boot application and there we have a @RestController class. I want to know why is this previousFruitName not changing and keeping to null. Like if we have a singleton bean then it should remember the previousFruitName once /api1 ran for the first time. Its current behaviour is that it is keeping to null.\r\n\r\n````\r\n@RestController\r\npublic class Class1{\r\n    private String previousFruitName = null;\r\n    \r\n    @GetMapping(&quot;/api1&quot;)\r\n    public String method1(@RequestParam String newFruitName){\r\n        \r\n        System.out.println(&quot;previous fruit is &quot;+previousFruitName + &quot; and new fruit name is &quot; + newFruitName);\r\n        previousFruitName=newFruitName;\r\n        return &quot;ok&quot;;\r\n    }\r\n}\r\n````\r\n\r\n","title":"Singleton scope behaviour in a Spring Boot app","body":"<p>I want to ask a question regarding Spring Beans.</p>\n<p>Let us say we have a simple Spring Boot application and there we have a @RestController class. I want to know why is this previousFruitName not changing and keeping to null. Like if we have a singleton bean then it should remember the previousFruitName once /api1 ran for the first time. Its current behaviour is that it is keeping to null.</p>\n<pre><code>@RestController\npublic class Class1{\n    private String previousFruitName = null;\n    \n    @GetMapping(&quot;/api1&quot;)\n    public String method1(@RequestParam String newFruitName){\n        \n        System.out.println(&quot;previous fruit is &quot;+previousFruitName + &quot; and new fruit name is &quot; + newFruitName);\n        previousFruitName=newFruitName;\n        return &quot;ok&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1690391216,"post_id":76773409,"comment_id":135348225,"body_markdown":"does it change anything if the route starts with / ? aka: &quot;/business-objects&quot; ?","body":"does it change anything if the route starts with / ? aka: &quot;/business-objects&quot; ?"},{"owner":{"account_id":1454976,"reputation":374,"user_id":1370823,"display_name":"Steve"},"score":0,"creation_date":1690393959,"post_id":76773409,"comment_id":135348851,"body_markdown":"Nope, no dice :(","body":"Nope, no dice :("},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1690396058,"post_id":76773409,"comment_id":135349278,"body_markdown":"show the stacktrace please","body":"show the stacktrace please"},{"owner":{"account_id":1454976,"reputation":374,"user_id":1370823,"display_name":"Steve"},"score":0,"creation_date":1690396685,"post_id":76773409,"comment_id":135349389,"body_markdown":"There is no stacktrace other than &quot;No GET for business-objects&quot; in the log when requests are made.","body":"There is no stacktrace other than &quot;No GET for business-objects&quot; in the log when requests are made."},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1690402305,"post_id":76773409,"comment_id":135350388,"body_markdown":"which @Transactional annotation are you using?","body":"which @Transactional annotation are you using?"},{"owner":{"account_id":1454976,"reputation":374,"user_id":1370823,"display_name":"Steve"},"score":0,"creation_date":1690410648,"post_id":76773409,"comment_id":135351650,"body_markdown":"`org.springframework.transaction.annotation.Transactional`","body":"<code>org.springframework.transaction.annotation.Transactional</code>"}],"owner":{"account_id":1454976,"reputation":374,"user_id":1370823,"display_name":"Steve"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690395825,"creation_date":1690389674,"question_id":76773409,"body_markdown":"I&#39;m having a very odd problem. I&#39;ve recently had to add a @Transactional annotation to one of our Spring controllers, and it suddenly is giving a 404 error when making any requests. No @Transactional, no errors. I&#39;ve confirmed that the bean is being created in both instances, it just appears that Spring can&#39;t find the route. This is in Spring 5.3.27, not Spring Boot.\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;business-objects&quot;)\r\n@Transactional\r\npublic class BusinessObjectsController {\r\n```\r\n\r\nSince this is the only thing that has changed, I&#39;m totally at a loss for why this would be happening, and am looking for any advice on what could be causing this issue.\r\n\r\nThanks!\r\n\r\nEdit To Add:\r\nSo after digging into the bowels of Spring, looking in `AbstractHandlerMethodMapping.processCandidateBean`, when the annotation is added, it generates a JDK Proxy, which is then failing the `isHandler` check, so it&#39;s not being added to the mapping.","title":"Why would adding a @Transactional annotation to Spring controller cause 404 errors","body":"<p>I'm having a very odd problem. I've recently had to add a @Transactional annotation to one of our Spring controllers, and it suddenly is giving a 404 error when making any requests. No @Transactional, no errors. I've confirmed that the bean is being created in both instances, it just appears that Spring can't find the route. This is in Spring 5.3.27, not Spring Boot.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;business-objects&quot;)\n@Transactional\npublic class BusinessObjectsController {\n</code></pre>\n<p>Since this is the only thing that has changed, I'm totally at a loss for why this would be happening, and am looking for any advice on what could be causing this issue.</p>\n<p>Thanks!</p>\n<p>Edit To Add:\nSo after digging into the bowels of Spring, looking in <code>AbstractHandlerMethodMapping.processCandidateBean</code>, when the annotation is added, it generates a JDK Proxy, which is then failing the <code>isHandler</code> check, so it's not being added to the mapping.</p>\n"},{"tags":["java","arrays","string","output"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1689714233,"post_id":76716418,"comment_id":135252140,"body_markdown":"What should be the output if there are two *different* words with the same maximum length? For example, if you added `&quot;wazup&quot;` to the array?","body":"What should be the output if there are two <i>different</i> words with the same maximum length? For example, if you added <code>&quot;wazup&quot;</code> to the array?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1689733824,"post_id":76716418,"comment_id":135253925,"body_markdown":"you could try `maxString += &quot;, &quot; + string;` --&gt; `if (!maxString.contains(string)) { `maxString += &quot;, &quot; + string; }`","body":"you could try <code>maxString += &quot;, &quot; + string;</code> --&gt; <code>if (!maxString.contains(string)) { </code>maxString += &quot;, &quot; + string; }`"}],"answers":[{"tags":[],"owner":{"account_id":4347153,"reputation":93,"user_id":3548808,"accept_rate":17,"display_name":"user3548808"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689713442,"creation_date":1689713442,"answer_id":76716464,"question_id":76716418,"body_markdown":"```\r\n   if (string.length() == longestString.length()) {\r\n           longestString = string;\r\n           maxString += &quot;, &quot; + string;\r\n       }\r\n```\r\nremove this part, it adds, the second one at the end of first.","title":"How to output &quot;hello&quot; value only once from array containing &quot;hello&quot; two times?","body":"<pre><code>   if (string.length() == longestString.length()) {\n           longestString = string;\n           maxString += &quot;, &quot; + string;\n       }\n</code></pre>\n<p>remove this part, it adds, the second one at the end of first.</p>\n"},{"tags":[],"owner":{"account_id":11749447,"reputation":1109,"user_id":10403061,"display_name":"liakoyras"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689714008,"creation_date":1689713686,"answer_id":76716493,"question_id":76716418,"body_markdown":"```\r\nif (string.length() == longestString.length()) {\r\n    longestString = string;\r\n    maxString += &quot;, &quot; + string;\r\n}\r\n```\r\nThis part of the code appends any string that is found to be equal to the longest string found thus far.\r\n\r\nIn order to keep only the longest string that appears first, just remove this block.\r\n\r\nIf on the other hand you wish to keep the last, after removing, make the first if statement to check equality too:\r\n```\r\nif (string.length() &gt;= longestString.length())\r\n```","title":"How to output &quot;hello&quot; value only once from array containing &quot;hello&quot; two times?","body":"<pre><code>if (string.length() == longestString.length()) {\n    longestString = string;\n    maxString += &quot;, &quot; + string;\n}\n</code></pre>\n<p>This part of the code appends any string that is found to be equal to the longest string found thus far.</p>\n<p>In order to keep only the longest string that appears first, just remove this block.</p>\n<p>If on the other hand you wish to keep the last, after removing, make the first if statement to check equality too:</p>\n<pre><code>if (string.length() &gt;= longestString.length())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16563652,"reputation":473,"user_id":11968910,"display_name":"Borisonekenobi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689713749,"creation_date":1689713749,"answer_id":76716499,"question_id":76716418,"body_markdown":"This is the way I solved this:\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String[] massive = {&quot;hello&quot;, &quot;hello&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;};\r\n        int longestString = 0;\r\n\r\n        for (int i = 0; i &lt; massive.length; i++) {\r\n            if (massive[i].length() &gt; massive[longestString].length) {\r\n                longestString = i;\r\n            }\r\n        }\r\n        System.out.println(massive[longestString]);\r\n    }\r\n}\r\n```\r\nEvery iteration of the loop, I check to see if the current word is longer than the `longestString`, and at the end of the loop, it prints out the longest one.\r\n\r\nHope this helps! :)","title":"How to output &quot;hello&quot; value only once from array containing &quot;hello&quot; two times?","body":"<p>This is the way I solved this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        String[] massive = {&quot;hello&quot;, &quot;hello&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;};\n        int longestString = 0;\n\n        for (int i = 0; i &lt; massive.length; i++) {\n            if (massive[i].length() &gt; massive[longestString].length) {\n                longestString = i;\n            }\n        }\n        System.out.println(massive[longestString]);\n    }\n}\n</code></pre>\n<p>Every iteration of the loop, I check to see if the current word is longer than the <code>longestString</code>, and at the end of the loop, it prints out the longest one.</p>\n<p>Hope this helps! :)</p>\n"},{"comments":[{"owner":{"account_id":29044470,"reputation":11,"user_id":22248628,"display_name":"Denis Zabelin"},"score":0,"creation_date":1690028113,"post_id":76717881,"comment_id":135297443,"body_markdown":"Hello! thank you for the answer. \n\nBut what if in the case of {&quot;hello&quot;, &quot;wazup&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;} array I have to get hello, wazup as output? \n\nThanks again!","body":"Hello! thank you for the answer.   But what if in the case of {&quot;hello&quot;, &quot;wazup&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;} array I have to get hello, wazup as output?   Thanks again!"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1690032765,"post_id":76717881,"comment_id":135297939,"body_markdown":"@DenisZabelin, I&#39;ve updated my answer.","body":"@DenisZabelin, I&#39;ve updated my answer."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690032519,"creation_date":1689738809,"answer_id":76717881,"question_id":76716418,"body_markdown":"You should contain the data differently.  \r\nCreate the appended string after the loop; checking if the value already exists.\r\n\r\n```java\r\nString[] massive = {&quot;hello&quot;, &quot;hello&quot;, &quot;wazup&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;};\r\nString longestString = &quot;&quot;;\r\nString maxString = &quot;&quot;;\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nfor (String string : massive) {\r\n    if (string.length() &gt; longestString.length()) {\r\n        list = new ArrayList&lt;&gt;();\r\n        list.add(longestString = string);\r\n    } else if (string.length() == longestString.length()) {\r\n        if (!list.contains(string)) list.add(string);\r\n    }\r\n}\r\n\r\nmaxString = String.join(&quot;, &quot;, list);\r\nSystem.out.println(maxString);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nhello, wazup\r\n```","title":"How to output &quot;hello&quot; value only once from array containing &quot;hello&quot; two times?","body":"<p>You should contain the data differently.<br />\nCreate the appended string after the loop; checking if the value already exists.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] massive = {&quot;hello&quot;, &quot;hello&quot;, &quot;wazup&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;};\nString longestString = &quot;&quot;;\nString maxString = &quot;&quot;;\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\nfor (String string : massive) {\n    if (string.length() &gt; longestString.length()) {\n        list = new ArrayList&lt;&gt;();\n        list.add(longestString = string);\n    } else if (string.length() == longestString.length()) {\n        if (!list.contains(string)) list.add(string);\n    }\n}\n\nmaxString = String.join(&quot;, &quot;, list);\nSystem.out.println(maxString);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>hello, wazup\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29044470,"reputation":11,"user_id":22248628,"display_name":"Denis Zabelin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690394926,"creation_date":1690028842,"answer_id":76743773,"question_id":76716418,"body_markdown":"I have found out the right solution as below:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String[] massive = {&quot;hello&quot;, &quot;abcde&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;};\r\n            String longestString = &quot;&quot;;\r\n            String maxString = &quot;&quot;;\r\n            for (String string : massive) {\r\n                if (string.length() &gt; longestString.length()) {\r\n                    longestString = string;\r\n                    maxString = string;\r\n                    continue;\r\n                }\r\n                if (string.length() == longestString.length()) {\r\n                    longestString = string;\r\n                    if (!maxString.contains(string)) {\r\n                        maxString += &quot;, &quot; + string;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(maxString);\r\n        }\r\n    }\r\n\r\nMy mistake in forming the question was that I did not fully spell out the requirements of the task. Here are the requirements: \r\n\r\n`[&quot;hello&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;]` -&gt; hello\r\n\r\n`[&quot;hello&quot;, &quot;hello&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;]` -&gt; hello\r\n\r\n`[&quot;hello&quot;, &quot;bingo&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;]` -&gt; hello, bingo\r\n","title":"How to output &quot;hello&quot; value only once from array containing &quot;hello&quot; two times?","body":"<p>I have found out the right solution as below:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String[] massive = {&quot;hello&quot;, &quot;abcde&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;};\n        String longestString = &quot;&quot;;\n        String maxString = &quot;&quot;;\n        for (String string : massive) {\n            if (string.length() &gt; longestString.length()) {\n                longestString = string;\n                maxString = string;\n                continue;\n            }\n            if (string.length() == longestString.length()) {\n                longestString = string;\n                if (!maxString.contains(string)) {\n                    maxString += &quot;, &quot; + string;\n                }\n            }\n        }\n        System.out.println(maxString);\n    }\n}\n</code></pre>\n<p>My mistake in forming the question was that I did not fully spell out the requirements of the task. Here are the requirements:</p>\n<p><code>[&quot;hello&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;]</code> -&gt; hello</p>\n<p><code>[&quot;hello&quot;, &quot;hello&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;]</code> -&gt; hello</p>\n<p><code>[&quot;hello&quot;, &quot;bingo&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;]</code> -&gt; hello, bingo</p>\n"}],"owner":{"account_id":29044470,"reputation":11,"user_id":22248628,"display_name":"Denis Zabelin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1690394926,"creation_date":1689712956,"question_id":76716418,"body_markdown":"the main goal is to write a method that finds the longest string in any given array. I don&#39;t quite understand how to adjust my code so that &quot;hello&quot; string value is output only once from the above array. \r\n\r\nCould someone please suggest how to correct the code? Thanks in advance!\r\n\r\n```package com.amigoscode;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String[] massive = {&quot;hello&quot;, &quot;hello&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;};\r\n        String longestString = &quot;&quot;;\r\n        String maxString = &quot;&quot;;\r\n        for (String string : massive) {\r\n            if (string.length() &gt; longestString.length()) {\r\n                longestString = string;\r\n                maxString = string;\r\n                continue;\r\n            }\r\n            if (string.length() == longestString.length()) {\r\n                longestString = string;\r\n                maxString += &quot;, &quot; + string;\r\n            }\r\n        }\r\n        System.out.println(maxString);\r\n    }\r\n}```","title":"How to output &quot;hello&quot; value only once from array containing &quot;hello&quot; two times?","body":"<p>the main goal is to write a method that finds the longest string in any given array. I don't quite understand how to adjust my code so that &quot;hello&quot; string value is output only once from the above array.</p>\n<p>Could someone please suggest how to correct the code? Thanks in advance!</p>\n<pre><code>\npublic class Main {\n    public static void main(String[] args) {\n        String[] massive = {&quot;hello&quot;, &quot;hello&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;};\n        String longestString = &quot;&quot;;\n        String maxString = &quot;&quot;;\n        for (String string : massive) {\n            if (string.length() &gt; longestString.length()) {\n                longestString = string;\n                maxString = string;\n                continue;\n            }\n            if (string.length() == longestString.length()) {\n                longestString = string;\n                maxString += &quot;, &quot; + string;\n            }\n        }\n        System.out.println(maxString);\n    }\n}```\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690353883,"post_id":76767993,"comment_id":135339787,"body_markdown":"Typically, you can&#39;t. You need get the [`AnnotationValue`](https://docs.oracle.com/en/java/javase/20/docs/api/java.compiler/javax/lang/model/element/AnnotationValue.html) from the `AnnotationMirror` and call `getValue()` on it. The previously linked documentation explains what types that method can return. Note for an annotation element, it will return a `TypeMirror`. For an array (of any type) element, it will return a `List&lt;? extends AnnotationValue&gt;`; you can call `getValue()` on each `AnnotationValue` in the list to get the individual values.","body":"Typically, you can&#39;t. You need get the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.compiler/javax/lang/model/element/AnnotationValue.html\" rel=\"nofollow noreferrer\"><code>AnnotationValue</code></a> from the <code>AnnotationMirror</code> and call <code>getValue()</code> on it. The previously linked documentation explains what types that method can return. Note for an annotation element, it will return a <code>TypeMirror</code>. For an array (of any type) element, it will return a <code>List&lt;? extends AnnotationValue&gt;</code>; you can call <code>getValue()</code> on each <code>AnnotationValue</code> in the list to get the individual values."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690353998,"post_id":76767993,"comment_id":135339815,"body_markdown":"So, if you had `@Foo(tableClass = Bar.class)`, then ultimately, you&#39;d end up with a `TypeMirror` representing the `Bar` type. You then use that `TypeMirror` as needed.","body":"So, if you had <code>@Foo(tableClass = Bar.class)</code>, then ultimately, you&#39;d end up with a <code>TypeMirror</code> representing the <code>Bar</code> type. You then use that <code>TypeMirror</code> as needed."},{"owner":{"account_id":29050604,"reputation":1,"user_id":22253516,"display_name":"Andelic47 Aaron"},"score":0,"creation_date":1690366243,"post_id":76767993,"comment_id":135342362,"body_markdown":"I see, for example: A method &quot;call()&quot; in Bar.class, are there exists any ways to call this method in AnnotationProcessor?","body":"I see, for example: A method &quot;call()&quot; in Bar.class, are there exists any ways to call this method in AnnotationProcessor?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690407652,"post_id":76767993,"comment_id":135351237,"body_markdown":"Not that I know of, particularly not if `Bar` is a class being compiled. But... are you trying to create a _compile-time_ annotation processor (you seem to be, given your use of `DeclaredType`), or are you trying to create a _run-time_ annotation processor?","body":"Not that I know of, particularly not if <code>Bar</code> is a class being compiled. But... are you trying to create a <i>compile-time</i> annotation processor (you seem to be, given your use of <code>DeclaredType</code>), or are you trying to create a <i>run-time</i> annotation processor?"},{"owner":{"account_id":29050604,"reputation":1,"user_id":22253516,"display_name":"Andelic47 Aaron"},"score":0,"creation_date":1690421240,"post_id":76767993,"comment_id":135352831,"body_markdown":"Thank you, yes I&#39;m trying to create a compile-time annotation processor just like Android Jetpack or lombok.   Such as RoomDataBase, it could call methods annotated by @TypeConverter in compile-time, and generate final class files in project directory. I&#39;ve tried to read the source code of these frameworks but failed. : (  If there is any way to solve this problem......?","body":"Thank you, yes I&#39;m trying to create a compile-time annotation processor just like Android Jetpack or lombok.   Such as RoomDataBase, it could call methods annotated by @TypeConverter in compile-time, and generate final class files in project directory. I&#39;ve tried to read the source code of these frameworks but failed. : (  If there is any way to solve this problem......?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690430436,"post_id":76767993,"comment_id":135353531,"body_markdown":"Lombok is different from other annotation processors (it hacks the internals of the compiler to modify the source tree before it&#39;s actually compiled, allowing it to add getters, setters, etc.). I&#39;m not familiar with Room&#39;s implementation, but from a quick perusal it appears that it generates code based on the annotations via the `Filer` (after validating the annotations and their element values). At run-time, it finds and loads the generated classes based on naming patterns (e.g., the name of the `@Database`-annotated class plus a known suffix).","body":"Lombok is different from other annotation processors (it hacks the internals of the compiler to modify the source tree before it&#39;s actually compiled, allowing it to add getters, setters, etc.). I&#39;m not familiar with Room&#39;s implementation, but from a quick perusal it appears that it generates code based on the annotations via the <code>Filer</code> (after validating the annotations and their element values). At run-time, it finds and loads the generated classes based on naming patterns (e.g., the name of the <code>@Database</code>-annotated class plus a known suffix)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690430662,"post_id":76767993,"comment_id":135353550,"body_markdown":"Note it also seems to use the [Auto](https://github.com/google/auto/tree/main) and [JavaPoet](https://github.com/square/javapoet) libraries to make implementing an annotation processor and generating source code easier.","body":"Note it also seems to use the <a href=\"https://github.com/google/auto/tree/main\" rel=\"nofollow noreferrer\">Auto</a> and <a href=\"https://github.com/square/javapoet\" rel=\"nofollow noreferrer\">JavaPoet</a> libraries to make implementing an annotation processor and generating source code easier."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690430857,"post_id":76767993,"comment_id":135353566,"body_markdown":"&quot;_A method &quot;call()&quot; in Bar.class, are there exists any ways to call this method in AnnotationProcessor_&quot; -- So, I guess it depends on what you mean by &quot;call this method&quot;. You can certainly generate code that will call the method when executed (after compilation).","body":"&quot;<i>A method &quot;call()&quot; in Bar.class, are there exists any ways to call this method in AnnotationProcessor</i>&quot; -- So, I guess it depends on what you mean by &quot;call this method&quot;. You can certainly generate code that will call the method when executed (after compilation)."},{"owner":{"account_id":29050604,"reputation":1,"user_id":22253516,"display_name":"Andelic47 Aaron"},"score":0,"creation_date":1690443242,"post_id":76767993,"comment_id":135355227,"body_markdown":"OK, I got it, anyway. thank you very much!!","body":"OK, I got it, anyway. thank you very much!!"}],"owner":{"account_id":29050604,"reputation":1,"user_id":22253516,"display_name":"Andelic47 Aaron"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690394812,"creation_date":1690344697,"question_id":76767993,"body_markdown":"I&#39;m trying to make a custom Annotation Processor\r\n\r\nThis is my annotation var\r\n\r\n`Class&lt;?&gt; tableClass();`\r\n\r\nNow I have got the `DeclaredType`,\r\nand how can I get the `Class&lt;?&gt;` object which the `DeclaredType` refers to.\r\n\r\nBy the way, if annotation has a var of `Class&lt;?&gt;[]`, how could I get the class array?","title":"How to get Class&lt;?&gt; through Element or TypeMirror","body":"<p>I'm trying to make a custom Annotation Processor</p>\n<p>This is my annotation var</p>\n<p><code>Class&lt;?&gt; tableClass();</code></p>\n<p>Now I have got the <code>DeclaredType</code>,\nand how can I get the <code>Class&lt;?&gt;</code> object which the <code>DeclaredType</code> refers to.</p>\n<p>By the way, if annotation has a var of <code>Class&lt;?&gt;[]</code>, how could I get the class array?</p>\n"},{"tags":["java","mongodb","spring-boot","mongotemplate"],"comments":[{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1690390100,"post_id":76773422,"comment_id":135347960,"body_markdown":"Can you use mongo compass to first execute raw query? what are the input documents?","body":"Can you use mongo compass to first execute raw query? what are the input documents?"},{"owner":{"account_id":16217112,"reputation":334,"user_id":11709663,"display_name":"Sabu Shakya"},"score":0,"creation_date":1690390237,"post_id":76773422,"comment_id":135347994,"body_markdown":"@silentsudo Yes i executed the query in mongo compass and it returns the data","body":"@silentsudo Yes i executed the query in mongo compass and it returns the data"},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1690390327,"post_id":76773422,"comment_id":135348018,"body_markdown":"can you share sample inmput documents?","body":"can you share sample inmput documents?"},{"owner":{"account_id":16217112,"reputation":334,"user_id":11709663,"display_name":"Sabu Shakya"},"score":0,"creation_date":1690390746,"post_id":76773422,"comment_id":135348124,"body_markdown":"Sure, \n[{\n  &quot;_id&quot;: &quot;1684172039694001NAhc&quot;,\n  &quot;eventId&quot;: &quot;12345&quot;,\n  &quot;description&quot;: &quot;&lt;p&gt;The pandemic has forever changed all aspects of the healthcare ecosystem. &lt;/p&gt;&quot;,\n  &quot;title&quot;: &quot;Spotlight Keynote: Oslo University Hospital and KPMG say YES to advancing care delivery while reducing inefficiencies&quot;\n},\n{\n  &quot;_id&quot;: &quot;1686082012480001ny5O&quot;,\n  &quot;eventId&quot;: &quot;12345&quot;,\n  &quot;description&quot;: &quot;The NBA emerged from the pandemic with new learnings and use cases.&quot;,\n  &quot;title&quot;: &quot;NBA Properties revolutionizes workplace experiences&quot;\n}]","body":"Sure,  [{   &quot;_id&quot;: &quot;1684172039694001NAhc&quot;,   &quot;eventId&quot;: &quot;12345&quot;,   &quot;description&quot;: &quot;&lt;p&gt;The pandemic has forever changed all aspects of the healthcare ecosystem. &lt;/p&gt;&quot;,   &quot;title&quot;: &quot;Spotlight Keynote: Oslo University Hospital and KPMG say YES to advancing care delivery while reducing inefficiencies&quot; }, {   &quot;_id&quot;: &quot;1686082012480001ny5O&quot;,   &quot;eventId&quot;: &quot;12345&quot;,   &quot;description&quot;: &quot;The NBA emerged from the pandemic with new learnings and use cases.&quot;,   &quot;title&quot;: &quot;NBA Properties revolutionizes workplace experiences&quot; }]"}],"answers":[{"tags":[],"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690394075,"creation_date":1690394075,"answer_id":76773911,"question_id":76773422,"body_markdown":"Can you try following code, i think you are not using aggregation instead simple find query using [filter][1] wrapped inside and and or\r\n\r\n```java\r\nBson eventBson = Filters.eq(&quot;eventId&quot;, &quot;12345&quot;);\r\n        Bson titleSearchBson = Filters.regex(&quot;title&quot;, &quot;.*learning.*&quot;, &quot;i&quot;);\r\n        Bson descriptionSearchBson = Filters.regex(&quot;description&quot;, &quot;.*learning.*&quot;, &quot;i&quot;);\r\n\r\n        Bson titleOrDescriptionSearchBson = Filters.or(titleSearchBson, descriptionSearchBson);\r\n        Bson mongoQuery = Filters.and(eventBson, titleOrDescriptionSearchBson);\r\n        System.out.println(mongoQuery.toBsonDocument().toJson());\r\n\r\n        MongoCollection&lt;Document&gt; news = mongoTemplate.getCollection(&quot;news&quot;);\r\n\r\n        Iterable&lt;Document&gt; documents = news.find(mongoQuery);\r\n        List&lt;Document&gt; result = StreamSupport.stream(documents.spliterator(), false).toList();\r\n```\r\n\r\n\r\n  [1]: https://mongodb.github.io/mongo-java-driver/3.5/javadoc/com/mongodb/client/model/Filters.html","title":"MongoDb aggregation not returning result","body":"<p>Can you try following code, i think you are not using aggregation instead simple find query using <a href=\"https://mongodb.github.io/mongo-java-driver/3.5/javadoc/com/mongodb/client/model/Filters.html\" rel=\"nofollow noreferrer\">filter</a> wrapped inside and and or</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bson eventBson = Filters.eq(&quot;eventId&quot;, &quot;12345&quot;);\n        Bson titleSearchBson = Filters.regex(&quot;title&quot;, &quot;.*learning.*&quot;, &quot;i&quot;);\n        Bson descriptionSearchBson = Filters.regex(&quot;description&quot;, &quot;.*learning.*&quot;, &quot;i&quot;);\n\n        Bson titleOrDescriptionSearchBson = Filters.or(titleSearchBson, descriptionSearchBson);\n        Bson mongoQuery = Filters.and(eventBson, titleOrDescriptionSearchBson);\n        System.out.println(mongoQuery.toBsonDocument().toJson());\n\n        MongoCollection&lt;Document&gt; news = mongoTemplate.getCollection(&quot;news&quot;);\n\n        Iterable&lt;Document&gt; documents = news.find(mongoQuery);\n        List&lt;Document&gt; result = StreamSupport.stream(documents.spliterator(), false).toList();\n</code></pre>\n"}],"owner":{"account_id":16217112,"reputation":334,"user_id":11709663,"display_name":"Sabu Shakya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690394075,"creation_date":1690389847,"question_id":76773422,"body_markdown":"I&#39;m trying to find data from a document which has the fields : eventId, title and description and the result has to contain the eventId and a text matching either in title or description.\r\n\r\nThe query I&#39;m trying to run is:\r\n```\r\n{\r\n  &quot;$and&quot;: [\r\n    {\r\n      &quot;eventId&quot;: &quot;12345&quot;\r\n    },\r\n    {\r\n      &quot;$or&quot;: [\r\n        {\r\n          &quot;title&quot;: { &quot;$regex&quot;: &quot;.*text_here*.&quot;, &quot;$options&quot;: &quot;i&quot; }\r\n        },\r\n        {\r\n          &quot;description&quot;: { &quot;$regex&quot;: &quot;.*text_here*.&quot;, &quot;$options&quot;: &quot;i&quot; }\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n\r\n```\r\nI&#39;ve written equivalent code in spring boot using the mongo template&#39;s aggregate. My code that searches the data:\r\n\r\n```java\r\n public Page&lt;?&gt; searchFilter(String eventId, Class domainType, PageRequest pageRequest, String... text) {\r\n        String textPattern = &quot;.*&quot; + text[0] + &quot;.*&quot;;\r\n\r\n        Criteria selectCriteria = Criteria.where(&quot;eventId&quot;).is(eventId);\r\n\r\n        List&lt;Criteria&gt; orCriteria = new ArrayList&lt;&gt;();\r\n        orCriteria.add(Criteria.where(&quot;title&quot;).regex(String.join(&quot;|&quot;, textPattern), &quot;i&quot;));\r\n        orCriteria.add(Criteria.where(&quot;description&quot;).regex(String.join(&quot;|&quot;, textPattern), &quot;i&quot;));\r\n        \r\n        String data = &quot;data&quot;;\r\n        GroupOperation group = Aggregation.group().addToSet(Aggregation.ROOT)\r\n                .as(data).count().as(&quot;count&quot;);\r\n        ProjectionOperation project = Aggregation.project()\r\n                .andInclude(&quot;count&quot;)\r\n                .and(ArrayOperators.Slice.sliceArrayOf(data).offset((int) pageRequest.getOffset()).itemCount(pageRequest.getPageSize()))\r\n                .as(data);\r\n        \r\n        Criteria searchCriteria = new Criteria().andOperator(selectCriteria, new Criteria().orOperator(orCriteria));\r\n        \r\n        MatchOperation match = Aggregation.match(searchCriteria);\r\n\r\n        Aggregation aggregation  = Aggregation.newAggregation(match, group, project);\r\n\r\n        var results = mongoTemplate.aggregate(aggregation, domainType, PaginationWrapper.class)\r\n                .getUniqueMappedResult();\r\n\r\n\r\n        if (results == null) return new PageImpl&lt;&gt;(Collections.emptyList());\r\n        List&lt;LinkedHashMap&gt; reponseData = results.getData();\r\n        var domainList = reponseData.stream()\r\n                .map(hm -&gt; {\r\n                    if (hm.get(&quot;_id&quot;) != null) {\r\n                        hm.put(&quot;id&quot;, hm.get(&quot;_id&quot;));\r\n                    }\r\n                    if(hm.get(&quot;attributes&quot;) != null) {\r\n                        hm.put(&quot;Attributes&quot;, hm.get(&quot;attributes&quot;));\r\n                    }\r\n                    return hm;\r\n                })\r\n                .map(a -&gt; objectMapper.convertValue(a, domainType))\r\n                .collect(Collectors.toList());\r\n        return new PageImpl&lt;&gt;(domainList, pageRequest, results.getCount());\r\n    }\r\n\r\n```\r\n\r\nWhen search request is made for an eventId and specific text, if the text exists in title it returns the result. But if the text exists in description then it returns empty result.\r\n\r\nFor example: if search is made for eventId 12345 and text &quot;pandemic&quot;, it should return result with 2 data.\r\n\r\n```json\r\n{\r\n    &quot;data&quot;: [\r\n        {\r\n            &quot;eventId&quot;: &quot;12345&quot;,\r\n            &quot;title&quot;: &quot;Spotlight Keynote: Oslo University Hospital and KPMG&quot;,\r\n            &quot;description&quot;: &quot;&lt;p&gt;The pandemic has forever changed all aspects of the healthcare ecos&quot;\r\n        },\r\n        {\r\n            &quot;eventId&quot;: &quot;12345&quot;,\r\n            &quot;title&quot;: &quot;NBA Properties revolutionizes workplace experiences&quot;,\r\n            &quot;description&quot;: &quot;The NBA emerged from the pandemic with new learnings and use cases for.&quot;\r\n        }\r\n    ],\r\n    &quot;errors&quot;: [],\r\n    &quot;timestamp&quot;: 1690388775373,\r\n    &quot;page&quot;: 0,\r\n    &quot;size&quot;: 2,\r\n    &quot;totalPage&quot;: 0\r\n}\r\n\r\n```\r\n\r\nBut the current code is returning empty result on search.\r\n\r\n```json\r\n{\r\n    &quot;data&quot;: [],\r\n    &quot;errors&quot;: [],\r\n    &quot;timestamp&quot;: 1690389617769,\r\n    &quot;page&quot;: 0,\r\n    &quot;size&quot;: 0,\r\n    &quot;totalPage&quot;: 0\r\n}\r\n```\r\n\r\nFor same data set if search is made for text NBA, it returns the result. What is wrong in the above java code ?\r\n\r\nWent through similar question : https://stackoverflow.com/questions/76671712/mongodb-aggregation-returns-an-empty-result but didn&#39;t find solution.","title":"MongoDb aggregation not returning result","body":"<p>I'm trying to find data from a document which has the fields : eventId, title and description and the result has to contain the eventId and a text matching either in title or description.</p>\n<p>The query I'm trying to run is:</p>\n<pre><code>{\n  &quot;$and&quot;: [\n    {\n      &quot;eventId&quot;: &quot;12345&quot;\n    },\n    {\n      &quot;$or&quot;: [\n        {\n          &quot;title&quot;: { &quot;$regex&quot;: &quot;.*text_here*.&quot;, &quot;$options&quot;: &quot;i&quot; }\n        },\n        {\n          &quot;description&quot;: { &quot;$regex&quot;: &quot;.*text_here*.&quot;, &quot;$options&quot;: &quot;i&quot; }\n        }\n      ]\n    }\n  ]\n}\n\n</code></pre>\n<p>I've written equivalent code in spring boot using the mongo template's aggregate. My code that searches the data:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public Page&lt;?&gt; searchFilter(String eventId, Class domainType, PageRequest pageRequest, String... text) {\n        String textPattern = &quot;.*&quot; + text[0] + &quot;.*&quot;;\n\n        Criteria selectCriteria = Criteria.where(&quot;eventId&quot;).is(eventId);\n\n        List&lt;Criteria&gt; orCriteria = new ArrayList&lt;&gt;();\n        orCriteria.add(Criteria.where(&quot;title&quot;).regex(String.join(&quot;|&quot;, textPattern), &quot;i&quot;));\n        orCriteria.add(Criteria.where(&quot;description&quot;).regex(String.join(&quot;|&quot;, textPattern), &quot;i&quot;));\n        \n        String data = &quot;data&quot;;\n        GroupOperation group = Aggregation.group().addToSet(Aggregation.ROOT)\n                .as(data).count().as(&quot;count&quot;);\n        ProjectionOperation project = Aggregation.project()\n                .andInclude(&quot;count&quot;)\n                .and(ArrayOperators.Slice.sliceArrayOf(data).offset((int) pageRequest.getOffset()).itemCount(pageRequest.getPageSize()))\n                .as(data);\n        \n        Criteria searchCriteria = new Criteria().andOperator(selectCriteria, new Criteria().orOperator(orCriteria));\n        \n        MatchOperation match = Aggregation.match(searchCriteria);\n\n        Aggregation aggregation  = Aggregation.newAggregation(match, group, project);\n\n        var results = mongoTemplate.aggregate(aggregation, domainType, PaginationWrapper.class)\n                .getUniqueMappedResult();\n\n\n        if (results == null) return new PageImpl&lt;&gt;(Collections.emptyList());\n        List&lt;LinkedHashMap&gt; reponseData = results.getData();\n        var domainList = reponseData.stream()\n                .map(hm -&gt; {\n                    if (hm.get(&quot;_id&quot;) != null) {\n                        hm.put(&quot;id&quot;, hm.get(&quot;_id&quot;));\n                    }\n                    if(hm.get(&quot;attributes&quot;) != null) {\n                        hm.put(&quot;Attributes&quot;, hm.get(&quot;attributes&quot;));\n                    }\n                    return hm;\n                })\n                .map(a -&gt; objectMapper.convertValue(a, domainType))\n                .collect(Collectors.toList());\n        return new PageImpl&lt;&gt;(domainList, pageRequest, results.getCount());\n    }\n\n</code></pre>\n<p>When search request is made for an eventId and specific text, if the text exists in title it returns the result. But if the text exists in description then it returns empty result.</p>\n<p>For example: if search is made for eventId 12345 and text &quot;pandemic&quot;, it should return result with 2 data.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;data&quot;: [\n        {\n            &quot;eventId&quot;: &quot;12345&quot;,\n            &quot;title&quot;: &quot;Spotlight Keynote: Oslo University Hospital and KPMG&quot;,\n            &quot;description&quot;: &quot;&lt;p&gt;The pandemic has forever changed all aspects of the healthcare ecos&quot;\n        },\n        {\n            &quot;eventId&quot;: &quot;12345&quot;,\n            &quot;title&quot;: &quot;NBA Properties revolutionizes workplace experiences&quot;,\n            &quot;description&quot;: &quot;The NBA emerged from the pandemic with new learnings and use cases for.&quot;\n        }\n    ],\n    &quot;errors&quot;: [],\n    &quot;timestamp&quot;: 1690388775373,\n    &quot;page&quot;: 0,\n    &quot;size&quot;: 2,\n    &quot;totalPage&quot;: 0\n}\n\n</code></pre>\n<p>But the current code is returning empty result on search.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;data&quot;: [],\n    &quot;errors&quot;: [],\n    &quot;timestamp&quot;: 1690389617769,\n    &quot;page&quot;: 0,\n    &quot;size&quot;: 0,\n    &quot;totalPage&quot;: 0\n}\n</code></pre>\n<p>For same data set if search is made for text NBA, it returns the result. What is wrong in the above java code ?</p>\n<p>Went through similar question : <a href=\"https://stackoverflow.com/questions/76671712/mongodb-aggregation-returns-an-empty-result\">MongoDB aggregation returns an empty result</a> but didn't find solution.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3"],"owner":{"account_id":17668342,"reputation":37,"user_id":12825166,"display_name":"Michael Adolfo Huerta Ramirez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690393753,"creation_date":1690393753,"question_id":76773876,"body_markdown":"I am setting up this project with Spring, Maven, and MongoDB. I am encountering an issue when running the application because it seems that I have an error in the AWS configuration.\r\n\r\napplication.properties\r\n\r\n```\r\nspring.data.mongodb = localhost\r\nspring.data.mongodb.port = 27017\r\nspring.data.mongodb.database=youtube\r\n#####Amazon WebService\r\ncloud.aws.region.static=us-east-1\r\ncloud.aws.stack.auto=false\r\n\r\ncloud.aws.credentials.access-key=XXXXXXXXXXXXXXXXXX\r\ncloud.aws.credentials.secret-key=XXXXXXXXXXXXXXXXXX\r\naws.region=us-east-1\r\ncloud.aws.region.use-default-aws-region-chain=true\r\ncloud.aws.ec2.metadata.enabled=false\r\n```\r\nVideostreamingApplication.java\r\n\r\n```\r\npackage com.fitomx19.videostreaming;\r\nimport io.awspring.cloud.context.config.annotation.EnableContextInstanceData;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\n@EnableContextInstanceData\r\npublic class VideostreamingApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(VideostreamingApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nS3Service.java\r\n\r\n```\r\npackage com.fitomx19.videostreaming.service;\r\nimport com.amazonaws.services.s3.AmazonS3Client;\r\nimport com.amazonaws.services.s3.model.CannedAccessControlList;\r\nimport com.amazonaws.services.s3.model.ObjectMetadata;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.util.StringUtils;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.web.server.ResponseStatusException;\r\n\r\nimport java.io.IOException;\r\nimport java.util.UUID;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class S3Service implements FileService {\r\n\r\n    public static final String BUCKET_NAME = &quot;bucketvideosfito&quot;;\r\n    private final AmazonS3Client awsS3Client;\r\n\r\n    @Override\r\n    public String uploadFile(MultipartFile file) {\r\n        var filenameExtension = StringUtils.getFilenameExtension(file.getOriginalFilename());\r\n\r\n        var key = UUID.randomUUID().toString() + filenameExtension;\r\n\r\n        var metadata = new ObjectMetadata();\r\n        metadata.setContentLength(file.getSize());\r\n        metadata.setContentType(file.getContentType());\r\n\r\n        try {\r\n            awsS3Client.putObject(BUCKET_NAME, key, file.getInputStream(), metadata);\r\n        } catch (IOException ioException) {\r\n            throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\r\n                    &quot;An Exception occured while uploading the file&quot;);\r\n        }\r\n\r\n        awsS3Client.setObjectAcl(BUCKET_NAME, key, CannedAccessControlList.PublicRead);\r\n\r\n        return awsS3Client.getResourceUrl(BUCKET_NAME, key);\r\n    }\r\n}\r\n```\r\npom.xml\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.fitomx19.videostreaming&lt;/groupId&gt;\r\n        &lt;artifactId&gt;videostreaming&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n    &lt;name&gt;Archetype - backend&lt;/name&gt;\r\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-context&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-autoconfigure&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.395&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nVideoController.java\r\n\r\n```\r\npackage com.fitomx19.videostreaming.controller;\r\n\r\nimport com.fitomx19.videostreaming.service.VideoService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/videos&quot;)\r\n@RequiredArgsConstructor\r\npublic class VideoController {\r\n\r\n    private final VideoService videoService;\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public void uploadVideo(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n        videoService.uploadVideo(file);\r\n    }\r\n}\r\n```\r\n\r\nMy structure is this -&gt;\r\n\r\n```\r\nbackend\r\n--src\r\n  --main\r\n    --java\r\n       --com.fitomx19.videostreaming\r\n           --controller\r\n             videoController\r\n           --model\r\n             Comment\r\n             User\r\n             Video\r\n             VideoStatus\r\n           --repository\r\n             VideoRepository\r\n           --service\r\n             FileService\r\n             S3Service\r\n             VideoService\r\n           VideostreamingApplication.java\r\n```\r\n\r\nI am setting up this project with Spring, Maven, and MongoDB. I am encountering an issue when running the application because it seems that I have an error in the AWS configuration.\r\n\r\napplication.properties\r\n\r\n```\r\nspring.data.mongodb = localhost\r\nspring.data.mongodb.port = 27017\r\nspring.data.mongodb.database=youtube\r\n#####Amazon WebService\r\ncloud.aws.region.static=us-east-1\r\ncloud.aws.stack.auto=false\r\n\r\ncloud.aws.credentials.access-key=XXXXXXXXXXXXXXXXXX\r\ncloud.aws.credentials.secret-key=XXXXXXXXXXXXXXXXXX\r\naws.region=us-east-1\r\ncloud.aws.region.use-default-aws-region-chain=true\r\ncloud.aws.ec2.metadata.enabled=false\r\n```\r\nVideostreamingApplication.java\r\n\r\n```\r\npackage com.fitomx19.videostreaming;\r\nimport io.awspring.cloud.context.config.annotation.EnableContextInstanceData;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\n@EnableContextInstanceData\r\npublic class VideostreamingApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(VideostreamingApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nS3Service.java\r\n\r\n```\r\npackage com.fitomx19.videostreaming.service;\r\nimport com.amazonaws.services.s3.AmazonS3Client;\r\nimport com.amazonaws.services.s3.model.CannedAccessControlList;\r\nimport com.amazonaws.services.s3.model.ObjectMetadata;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.util.StringUtils;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.web.server.ResponseStatusException;\r\n\r\nimport java.io.IOException;\r\nimport java.util.UUID;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class S3Service implements FileService {\r\n\r\n    public static final String BUCKET_NAME = &quot;bucketvideosfito&quot;;\r\n    private final AmazonS3Client awsS3Client;\r\n\r\n    @Override\r\n    public String uploadFile(MultipartFile file) {\r\n        var filenameExtension = StringUtils.getFilenameExtension(file.getOriginalFilename());\r\n\r\n        var key = UUID.randomUUID().toString() + filenameExtension;\r\n\r\n        var metadata = new ObjectMetadata();\r\n        metadata.setContentLength(file.getSize());\r\n        metadata.setContentType(file.getContentType());\r\n\r\n        try {\r\n            awsS3Client.putObject(BUCKET_NAME, key, file.getInputStream(), metadata);\r\n        } catch (IOException ioException) {\r\n            throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\r\n                    &quot;An Exception occured while uploading the file&quot;);\r\n        }\r\n\r\n        awsS3Client.setObjectAcl(BUCKET_NAME, key, CannedAccessControlList.PublicRead);\r\n\r\n        return awsS3Client.getResourceUrl(BUCKET_NAME, key);\r\n    }\r\n}\r\n```\r\npom.xml\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.fitomx19.videostreaming&lt;/groupId&gt;\r\n        &lt;artifactId&gt;videostreaming&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n    &lt;name&gt;Archetype - backend&lt;/name&gt;\r\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-context&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-autoconfigure&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.395&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nVideoController.java\r\n\r\n```\r\npackage com.fitomx19.videostreaming.controller;\r\n\r\nimport com.fitomx19.videostreaming.service.VideoService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/videos&quot;)\r\n@RequiredArgsConstructor\r\npublic class VideoController {\r\n\r\n    private final VideoService videoService;\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public void uploadVideo(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n        videoService.uploadVideo(file);\r\n    }\r\n}\r\n```\r\n\r\nMy structure is this -&gt;\r\n\r\n```\r\nbackend\r\n--src\r\n  --main\r\n    --java\r\n       --com.fitomx19.videostreaming\r\n           --controller\r\n             videoController\r\n           --model\r\n             Comment\r\n             User\r\n             Video\r\n             VideoStatus\r\n           --repository\r\n             VideoRepository\r\n           --service\r\n             FileService\r\n             S3Service\r\n             VideoService\r\n           VideostreamingApplication.java\r\n```","title":"Spring Maven AWS S3 Bucket -&gt; Unable to retrieve the requested metadata (/latest/user-data/). Failed to connect to service endpoint:","body":"<p>I am setting up this project with Spring, Maven, and MongoDB. I am encountering an issue when running the application because it seems that I have an error in the AWS configuration.</p>\n<p>application.properties</p>\n<pre><code>spring.data.mongodb = localhost\nspring.data.mongodb.port = 27017\nspring.data.mongodb.database=youtube\n#####Amazon WebService\ncloud.aws.region.static=us-east-1\ncloud.aws.stack.auto=false\n\ncloud.aws.credentials.access-key=XXXXXXXXXXXXXXXXXX\ncloud.aws.credentials.secret-key=XXXXXXXXXXXXXXXXXX\naws.region=us-east-1\ncloud.aws.region.use-default-aws-region-chain=true\ncloud.aws.ec2.metadata.enabled=false\n</code></pre>\n<p>VideostreamingApplication.java</p>\n<pre><code>package com.fitomx19.videostreaming;\nimport io.awspring.cloud.context.config.annotation.EnableContextInstanceData;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\n@EnableContextInstanceData\npublic class VideostreamingApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(VideostreamingApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>S3Service.java</p>\n<pre><code>package com.fitomx19.videostreaming.service;\nimport com.amazonaws.services.s3.AmazonS3Client;\nimport com.amazonaws.services.s3.model.CannedAccessControlList;\nimport com.amazonaws.services.s3.model.ObjectMetadata;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.server.ResponseStatusException;\n\nimport java.io.IOException;\nimport java.util.UUID;\n\n@Service\n@RequiredArgsConstructor\npublic class S3Service implements FileService {\n\n    public static final String BUCKET_NAME = &quot;bucketvideosfito&quot;;\n    private final AmazonS3Client awsS3Client;\n\n    @Override\n    public String uploadFile(MultipartFile file) {\n        var filenameExtension = StringUtils.getFilenameExtension(file.getOriginalFilename());\n\n        var key = UUID.randomUUID().toString() + filenameExtension;\n\n        var metadata = new ObjectMetadata();\n        metadata.setContentLength(file.getSize());\n        metadata.setContentType(file.getContentType());\n\n        try {\n            awsS3Client.putObject(BUCKET_NAME, key, file.getInputStream(), metadata);\n        } catch (IOException ioException) {\n            throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\n                    &quot;An Exception occured while uploading the file&quot;);\n        }\n\n        awsS3Client.setObjectAcl(BUCKET_NAME, key, CannedAccessControlList.PublicRead);\n\n        return awsS3Client.getResourceUrl(BUCKET_NAME, key);\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.fitomx19.videostreaming&lt;/groupId&gt;\n        &lt;artifactId&gt;videostreaming&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\n    &lt;name&gt;Archetype - backend&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-context&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n            &lt;version&gt;1.12.395&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>VideoController.java</p>\n<pre><code>package com.fitomx19.videostreaming.controller;\n\nimport com.fitomx19.videostreaming.service.VideoService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\n\n@RestController\n@RequestMapping(&quot;/api/videos&quot;)\n@RequiredArgsConstructor\npublic class VideoController {\n\n    private final VideoService videoService;\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public void uploadVideo(@RequestParam(&quot;file&quot;) MultipartFile file) {\n        videoService.uploadVideo(file);\n    }\n}\n</code></pre>\n<p>My structure is this -&gt;</p>\n<pre><code>backend\n--src\n  --main\n    --java\n       --com.fitomx19.videostreaming\n           --controller\n             videoController\n           --model\n             Comment\n             User\n             Video\n             VideoStatus\n           --repository\n             VideoRepository\n           --service\n             FileService\n             S3Service\n             VideoService\n           VideostreamingApplication.java\n</code></pre>\n<p>I am setting up this project with Spring, Maven, and MongoDB. I am encountering an issue when running the application because it seems that I have an error in the AWS configuration.</p>\n<p>application.properties</p>\n<pre><code>spring.data.mongodb = localhost\nspring.data.mongodb.port = 27017\nspring.data.mongodb.database=youtube\n#####Amazon WebService\ncloud.aws.region.static=us-east-1\ncloud.aws.stack.auto=false\n\ncloud.aws.credentials.access-key=XXXXXXXXXXXXXXXXXX\ncloud.aws.credentials.secret-key=XXXXXXXXXXXXXXXXXX\naws.region=us-east-1\ncloud.aws.region.use-default-aws-region-chain=true\ncloud.aws.ec2.metadata.enabled=false\n</code></pre>\n<p>VideostreamingApplication.java</p>\n<pre><code>package com.fitomx19.videostreaming;\nimport io.awspring.cloud.context.config.annotation.EnableContextInstanceData;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\n@EnableContextInstanceData\npublic class VideostreamingApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(VideostreamingApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>S3Service.java</p>\n<pre><code>package com.fitomx19.videostreaming.service;\nimport com.amazonaws.services.s3.AmazonS3Client;\nimport com.amazonaws.services.s3.model.CannedAccessControlList;\nimport com.amazonaws.services.s3.model.ObjectMetadata;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.server.ResponseStatusException;\n\nimport java.io.IOException;\nimport java.util.UUID;\n\n@Service\n@RequiredArgsConstructor\npublic class S3Service implements FileService {\n\n    public static final String BUCKET_NAME = &quot;bucketvideosfito&quot;;\n    private final AmazonS3Client awsS3Client;\n\n    @Override\n    public String uploadFile(MultipartFile file) {\n        var filenameExtension = StringUtils.getFilenameExtension(file.getOriginalFilename());\n\n        var key = UUID.randomUUID().toString() + filenameExtension;\n\n        var metadata = new ObjectMetadata();\n        metadata.setContentLength(file.getSize());\n        metadata.setContentType(file.getContentType());\n\n        try {\n            awsS3Client.putObject(BUCKET_NAME, key, file.getInputStream(), metadata);\n        } catch (IOException ioException) {\n            throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\n                    &quot;An Exception occured while uploading the file&quot;);\n        }\n\n        awsS3Client.setObjectAcl(BUCKET_NAME, key, CannedAccessControlList.PublicRead);\n\n        return awsS3Client.getResourceUrl(BUCKET_NAME, key);\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.fitomx19.videostreaming&lt;/groupId&gt;\n        &lt;artifactId&gt;videostreaming&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\n    &lt;name&gt;Archetype - backend&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-context&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n            &lt;version&gt;1.12.395&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>VideoController.java</p>\n<pre><code>package com.fitomx19.videostreaming.controller;\n\nimport com.fitomx19.videostreaming.service.VideoService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\n\n@RestController\n@RequestMapping(&quot;/api/videos&quot;)\n@RequiredArgsConstructor\npublic class VideoController {\n\n    private final VideoService videoService;\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public void uploadVideo(@RequestParam(&quot;file&quot;) MultipartFile file) {\n        videoService.uploadVideo(file);\n    }\n}\n</code></pre>\n<p>My structure is this -&gt;</p>\n<pre><code>backend\n--src\n  --main\n    --java\n       --com.fitomx19.videostreaming\n           --controller\n             videoController\n           --model\n             Comment\n             User\n             Video\n             VideoStatus\n           --repository\n             VideoRepository\n           --service\n             FileService\n             S3Service\n             VideoService\n           VideostreamingApplication.java\n</code></pre>\n"},{"tags":["java","spring-boot","jackson","spring-restcontroller"],"answers":[{"comments":[{"owner":{"account_id":296266,"reputation":1246,"user_id":601129,"accept_rate":73,"display_name":"AAP"},"score":0,"creation_date":1690389060,"post_id":76773278,"comment_id":135347711,"body_markdown":"Thanks Yuri. With your POJO, If I use &quot;@RequestBody MyResponse myResponse&quot; in the PostMapping, it throws 415 UNSUPPORTED_MEDIA_TYPE. However, if I dont mention the keyword &#39;@RequestBody&#39;, the form data gets parsed but only &#39;type&#39; is populated. Both &#39;data&#39; fields are null.","body":"Thanks Yuri. With your POJO, If I use &quot;@RequestBody MyResponse myResponse&quot; in the PostMapping, it throws 415 UNSUPPORTED_MEDIA_TYPE. However, if I dont mention the keyword &#39;@RequestBody&#39;, the form data gets parsed but only &#39;type&#39; is populated. Both &#39;data&#39; fields are null."},{"owner":{"account_id":296266,"reputation":1246,"user_id":601129,"accept_rate":73,"display_name":"AAP"},"score":0,"creation_date":1690389145,"post_id":76773278,"comment_id":135347724,"body_markdown":"Sample curl which I use and the format of form data being sent: &#39;curl -X POST http://localhost:8080/myhook -H &quot;Content-Type: application/x-www-form-urlencoded&quot; -d &quot;type=xyz&amp;data[email]=test@test.com&amp;data[merges][FN]=test&quot;&#39;","body":"Sample curl which I use and the format of form data being sent: &#39;curl -X POST <a href=\"http://localhost:8080/myhook\" rel=\"nofollow noreferrer\">localhost:8080/myhook</a> -H &quot;Content-Type: application/x-www-form-urlencoded&quot; -d &quot;type=xyz&amp;data[email]=test@test.com&amp;data[merges][FN]=test&quot;&#39;"},{"owner":{"account_id":18786818,"reputation":28,"user_id":13700242,"display_name":"Yuri"},"score":0,"creation_date":1690390444,"post_id":76773278,"comment_id":135348043,"body_markdown":"Please see this for the standard format of x-www-urlencoded data format: https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST\nAlso, check the actual data that comes with your request, the square brackets could be encoded before your data gets to the controller.","body":"Please see this for the standard format of x-www-urlencoded data format: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST</a> Also, check the actual data that comes with your request, the square brackets could be encoded before your data gets to the controller."}],"tags":[],"owner":{"account_id":18786818,"reputation":28,"user_id":13700242,"display_name":"Yuri"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690388767,"creation_date":1690388573,"answer_id":76773278,"question_id":76773055,"body_markdown":"Properties with square brackets are still strings, not a collection.\r\nYou can try to deserialize these non-standard field names from the JSON using Jackson.\r\nReference: https://github.com/FasterXML/jackson.\r\nYou POJO would look like this:\r\n\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class MyResponse {\r\n    \r\n        private final String type;\r\n        private final String dataEmail;\r\n        private final String dataMergesFn;\r\n    \r\n        @JsonCreator\r\n        public MyResponse(\r\n                @JsonProperty(&quot;type&quot;) String type,\r\n                @JsonProperty(&quot;data[email]&quot;) String dataEmail,\r\n                @JsonProperty(&quot;data[merges][FN]&quot;) String dataMergesFn) {\r\n            this.type = type;\r\n            this.dataEmail = dataEmail;\r\n            this.dataMergesFn = dataMergesFn;\r\n        }\r\n    \r\n        public String getType() {\r\n            return type;\r\n        }\r\n    \r\n        public String getDataEmail() {\r\n            return dataEmail;\r\n        }\r\n    \r\n        public String getDataMergesFn() {\r\n            return dataMergesFn;\r\n        }\r\n    }\r\n\r\nYour controller will parse that json with `@RequestBody MyResponse myResponse`","title":"Spring Boot 2.5 - unable to convert form data to custom POJO","body":"<p>Properties with square brackets are still strings, not a collection.\nYou can try to deserialize these non-standard field names from the JSON using Jackson.\nReference: <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson</a>.\nYou POJO would look like this:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class MyResponse {\n\n    private final String type;\n    private final String dataEmail;\n    private final String dataMergesFn;\n\n    @JsonCreator\n    public MyResponse(\n            @JsonProperty(&quot;type&quot;) String type,\n            @JsonProperty(&quot;data[email]&quot;) String dataEmail,\n            @JsonProperty(&quot;data[merges][FN]&quot;) String dataMergesFn) {\n        this.type = type;\n        this.dataEmail = dataEmail;\n        this.dataMergesFn = dataMergesFn;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public String getDataEmail() {\n        return dataEmail;\n    }\n\n    public String getDataMergesFn() {\n        return dataMergesFn;\n    }\n}\n</code></pre>\n<p>Your controller will parse that json with <code>@RequestBody MyResponse myResponse</code></p>\n"},{"tags":[],"owner":{"account_id":296266,"reputation":1246,"user_id":601129,"accept_rate":73,"display_name":"AAP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690393695,"creation_date":1690393695,"answer_id":76773867,"question_id":76773055,"body_markdown":"Finally using ServerWebExchange worked for me:\r\n\r\n    @PostMapping(\r\n      path = &quot;/hook&quot;,\r\n      consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n    public Mono&lt;Void&gt; registerWebhook(ServerWebExchange serverWebExchange) {\r\n    \r\n    \treturn serverWebExchange.getFormData()\r\n        \t.flatMap(formData -&gt; {\r\n    \t      String type = formData.getFirst(&quot;type&quot;);\r\n    \t      String email = formData.getFirst(&quot;data[email]&quot;);\r\n    \t      String mergesFN = formData.getFirst(&quot;data[merges][FN]&quot;);\r\n    \t      return Mono.empty();\r\n        });","title":"Spring Boot 2.5 - unable to convert form data to custom POJO","body":"<p>Finally using ServerWebExchange worked for me:</p>\n<pre><code>@PostMapping(\n  path = &quot;/hook&quot;,\n  consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\npublic Mono&lt;Void&gt; registerWebhook(ServerWebExchange serverWebExchange) {\n\n    return serverWebExchange.getFormData()\n        .flatMap(formData -&gt; {\n          String type = formData.getFirst(&quot;type&quot;);\n          String email = formData.getFirst(&quot;data[email]&quot;);\n          String mergesFN = formData.getFirst(&quot;data[merges][FN]&quot;);\n          return Mono.empty();\n    });\n</code></pre>\n"}],"owner":{"account_id":296266,"reputation":1246,"user_id":601129,"accept_rate":73,"display_name":"AAP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690393695,"creation_date":1690386724,"question_id":76773055,"body_markdown":"I am having difficulty converting an incoming form data to a POJO.\r\nI have a Spring Boot application which receives a POST request from a 3rd party server with content as x-www-form-urlencoded.\r\nThe form data is like this:\r\n\r\n    {\r\n        &quot;type&quot;: &quot;xyz&quot;,\r\n        &quot;data[email]&quot;: &quot;test@test.com&quot;,\r\n        &quot;data[merges][FN]&quot;: &quot;test&quot;\r\n    }\r\n\r\nIn my RestController, I have the relevant PostMapping with a custom object created to receive the form data.\r\nHowever, I am only able to create the custom object and receive simple String parameter like the &quot;type&quot;.\r\n\r\nex: This works\r\n\r\n    class MyResponse {\r\n    \r\n        private String type;\r\n    } //WORKS\r\n\r\nHowever, if I try to create a Map&lt;String, String&gt; or Map&lt;String, AnotherObj&gt; to parse the remaining fields &#39;data[email]&#39; &amp; &#39;data[merges][FN]&#39;, it does not work.\r\n\r\nIf I simply use Map&lt;String, String&gt; request instead of a custom object, the data is empty.\r\nIf I use &#39;@RequestBody Map&lt;String, String&gt; request&#39;, it throws 415 UNSUPPORTED_MEDIA_TYPE\r\n\r\nIf I add another inner class Data property like this to my custom object:\r\n\r\n    private Map&lt;String, Data&gt; data;\r\nit throws an error:\r\n\r\n    Invalid property &#39;data[merges][FN]&#39; of bean class [...MyResponse]: Property referenced in indexed property path &#39;data[merges][FN]&#39; is neither an array nor a List nor a Map; returned value was [...MyResponse$Data@26f008e0]\r\n\r\nI even looked at this example for guidance, but could not find a solution:\r\nhttps://github.com/spring-attic/spring-mvc-showcase/blob/master/src/main/java/org/springframework/samples/mvc/convert/NestedBean.java\r\n\r\nWhat wrong am I doing?","title":"Spring Boot 2.5 - unable to convert form data to custom POJO","body":"<p>I am having difficulty converting an incoming form data to a POJO.\nI have a Spring Boot application which receives a POST request from a 3rd party server with content as x-www-form-urlencoded.\nThe form data is like this:</p>\n<pre><code>{\n    &quot;type&quot;: &quot;xyz&quot;,\n    &quot;data[email]&quot;: &quot;test@test.com&quot;,\n    &quot;data[merges][FN]&quot;: &quot;test&quot;\n}\n</code></pre>\n<p>In my RestController, I have the relevant PostMapping with a custom object created to receive the form data.\nHowever, I am only able to create the custom object and receive simple String parameter like the &quot;type&quot;.</p>\n<p>ex: This works</p>\n<pre><code>class MyResponse {\n\n    private String type;\n} //WORKS\n</code></pre>\n<p>However, if I try to create a Map&lt;String, String&gt; or Map&lt;String, AnotherObj&gt; to parse the remaining fields 'data[email]' &amp; 'data[merges][FN]', it does not work.</p>\n<p>If I simply use Map&lt;String, String&gt; request instead of a custom object, the data is empty.\nIf I use '@RequestBody Map&lt;String, String&gt; request', it throws 415 UNSUPPORTED_MEDIA_TYPE</p>\n<p>If I add another inner class Data property like this to my custom object:</p>\n<pre><code>private Map&lt;String, Data&gt; data;\n</code></pre>\n<p>it throws an error:</p>\n<pre><code>Invalid property 'data[merges][FN]' of bean class [...MyResponse]: Property referenced in indexed property path 'data[merges][FN]' is neither an array nor a List nor a Map; returned value was [...MyResponse$Data@26f008e0]\n</code></pre>\n<p>I even looked at this example for guidance, but could not find a solution:\n<a href=\"https://github.com/spring-attic/spring-mvc-showcase/blob/master/src/main/java/org/springframework/samples/mvc/convert/NestedBean.java\" rel=\"nofollow noreferrer\">https://github.com/spring-attic/spring-mvc-showcase/blob/master/src/main/java/org/springframework/samples/mvc/convert/NestedBean.java</a></p>\n<p>What wrong am I doing?</p>\n"},{"tags":["java","spring","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684746466,"post_id":76304136,"comment_id":134556573,"body_markdown":"Probably you are mixing jars from different versions of a framework, bu trying to outsmart the Spring Boot (starters) dependency management. Add the full error / stacktrace and add your build file to the question.","body":"Probably you are mixing jars from different versions of a framework, bu trying to outsmart the Spring Boot (starters) dependency management. Add the full error / stacktrace and add your build file to the question."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1684750084,"post_id":76304136,"comment_id":134557380,"body_markdown":"Please include the gradle file and a snippet of the relevant class showing the failing line and all the imports to the question","body":"Please include the gradle file and a snippet of the relevant class showing the failing line and all the imports to the question"}],"owner":{"account_id":23102929,"reputation":109,"user_id":17212096,"display_name":"Sachin Mankotia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1648,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690393458,"creation_date":1684742632,"question_id":76304136,"body_markdown":"I am upgrading my springboot application from springboot 2.9.7 to springboot 3.0.2.\r\nWhile doing clean build, I am getting below error related to Rest API calls (using Rest template).\r\n\r\n&gt; Caused by: java.lang.NoSuchMethodError: &#39;org.springframework.http.HttpStatus org.springframework.http.ResponseEntity.getStatusCode()&#39;\r\n\r\nAs per my understanding it has something to do with upgarde happening to springframework to some 6.*.* version due to upgrade in springboot version to 3.0.2.\r\n\r\nAnyone has faced this issue? how this can be fixed.","title":"Spring boot 3 upgrade error : &#39;org.springframework.http.HttpStatus org.springframework.http.ResponseEntity.getStatusCode()&#39;","body":"<p>I am upgrading my springboot application from springboot 2.9.7 to springboot 3.0.2.\nWhile doing clean build, I am getting below error related to Rest API calls (using Rest template).</p>\n<blockquote>\n<p>Caused by: java.lang.NoSuchMethodError: 'org.springframework.http.HttpStatus org.springframework.http.ResponseEntity.getStatusCode()'</p>\n</blockquote>\n<p>As per my understanding it has something to do with upgarde happening to springframework to some 6.<em>.</em> version due to upgrade in springboot version to 3.0.2.</p>\n<p>Anyone has faced this issue? how this can be fixed.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1200792,"reputation":11279,"user_id":1171509,"accept_rate":84,"display_name":"jacobq"},"score":20,"creation_date":1355864326,"post_id":4385623,"comment_id":19223787,"body_markdown":"One might want to use a String to represent the body of an HTTP response and use the size to set the &quot;Content-Length&quot; header, which is specified in octets/bytes not characters. http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.13","body":"One might want to use a String to represent the body of an HTTP response and use the size to set the &quot;Content-Length&quot; header, which is specified in octets/bytes not characters. <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.13\" rel=\"nofollow noreferrer\">w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.13</a>"},{"owner":{"account_id":165768,"reputation":3642,"user_id":389489,"accept_rate":78,"display_name":"Somu"},"score":4,"creation_date":1370326178,"post_id":4385623,"comment_id":24408019,"body_markdown":"A database column may have length restriction in bytes, e.g. VARCHAR2 (4000 BYTE) in Oracle. One might want to know the byte count of a String in desired encoding to know if the String would fit.","body":"A database column may have length restriction in bytes, e.g. VARCHAR2 (4000 BYTE) in Oracle. One might want to know the byte count of a String in desired encoding to know if the String would fit."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1372416474,"post_id":4385623,"comment_id":25197346,"body_markdown":"@iX3 Exactly the same as I was trying to do.","body":"@iX3 Exactly the same as I was trying to do."},{"owner":{"account_id":1617696,"reputation":2210,"user_id":1673861,"accept_rate":65,"display_name":"L. Blanc"},"score":1,"creation_date":1466341989,"post_id":4385623,"comment_id":63267285,"body_markdown":"I believe there are two possible interpretations of this question, depending on the intent: One is &quot;how much memory does my String use?&quot;. The answer to that is provided by @roozbeh below (maybe modulo VM subtleties like compressed OOPS). The other is, &quot;if I convert the string to a byte[] how much memory would that byte array use?&quot;. This is the question that is answered by Andrzej Doyle. The difference can be large: &quot;Hello World&quot; in UTF8 is 11 bytes, but the String (per @roozbeh) is 50 bytes (if my math is right).","body":"I believe there are two possible interpretations of this question, depending on the intent: One is &quot;how much memory does my String use?&quot;. The answer to that is provided by @roozbeh below (maybe modulo VM subtleties like compressed OOPS). The other is, &quot;if I convert the string to a byte[] how much memory would that byte array use?&quot;. This is the question that is answered by Andrzej Doyle. The difference can be large: &quot;Hello World&quot; in UTF8 is 11 bytes, but the String (per @roozbeh) is 50 bytes (if my math is right)."},{"owner":{"account_id":1617696,"reputation":2210,"user_id":1673861,"accept_rate":65,"display_name":"L. Blanc"},"score":0,"creation_date":1466342853,"post_id":4385623,"comment_id":63267521,"body_markdown":"I should have added that the 11 bytes doesn&#39;t include the overhead of the byte[] object that holds them, so the comparison is somewhat misleading.","body":"I should have added that the 11 bytes doesn&#39;t include the overhead of the byte[] object that holds them, so the comparison is somewhat misleading."}],"answers":[{"comments":[{"owner":{"account_id":684768,"reputation":2209,"user_id":533266,"display_name":"Green "},"score":0,"creation_date":1291799969,"post_id":4385640,"comment_id":4778487,"body_markdown":"but excuse me when i compile your code it gives me an error ; because of the parameter &quot;UTF-8&quot;.where when i pass an empty parameter it gives me the length same as x.length . i misunderstand the concept. help please","body":"but excuse me when i compile your code it gives me an error ; because of the parameter &quot;UTF-8&quot;.where when i pass an empty parameter it gives me the length same as x.length . i misunderstand the concept. help please"},{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1291800379,"post_id":4385640,"comment_id":4778548,"body_markdown":"@Green Ash, what version of Java do you have?","body":"@Green Ash, what version of Java do you have?"},{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1291801703,"post_id":4385640,"comment_id":4778747,"body_markdown":"@Green Ash, what exception are you getting?","body":"@Green Ash, what exception are you getting?"},{"owner":{"account_id":684768,"reputation":2209,"user_id":533266,"display_name":"Green "},"score":2,"creation_date":1291801844,"post_id":4385640,"comment_id":4778775,"body_markdown":"to be clear this is the output: test.java:11: unreported exception java.io.UnsupportedEncodingException; must be caught or declared to be thrown\n        byte[] b = s.getBytes(&quot;UTF-8&quot;); \n                                     ^\n1 error\n\nProcess completed.","body":"to be clear this is the output: test.java:11: unreported exception java.io.UnsupportedEncodingException; must be caught or declared to be thrown         byte[] b = s.getBytes(&quot;UTF-8&quot;);                                       ^ 1 error  Process completed."},{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":4,"creation_date":1412793915,"post_id":4385640,"comment_id":41203221,"body_markdown":"@Green, try: `s.getBytes(Charset.forName(&quot;UTF-8&quot;))`.","body":"@Green, try: <code>s.getBytes(Charset.forName(&quot;UTF-8&quot;))</code>."}],"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris PavloviÄ‡"},"comment_count":5,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1291798305,"creation_date":1291798305,"answer_id":4385640,"question_id":4385623,"body_markdown":"According to https://stackoverflow.com/questions/88838/how-to-convert-strings-to-and-from-utf8-byte-arrays-in-java/88863#88863:\r\n\r\n    String s = &quot;some text here&quot;;\r\n    byte[] b = s.getBytes(&quot;UTF-8&quot;);\r\n    System.out.println(b.length);","title":"Bytes of a string in Java","body":"<p>According to <a href=\"https://stackoverflow.com/questions/88838/how-to-convert-strings-to-and-from-utf8-byte-arrays-in-java/88863#88863\">How to convert Strings to and from UTF8 byte arrays in Java</a>:</p>\n\n<pre><code>String s = \"some text here\";\nbyte[] b = s.getBytes(\"UTF-8\");\nSystem.out.println(b.length);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":21,"creation_date":1291798697,"post_id":4385645,"comment_id":4778355,"body_markdown":"Wisely = don&#39;t use the one without a character set parameter.","body":"Wisely = don&#39;t use the one without a character set parameter."},{"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"score":0,"creation_date":1393439933,"post_id":4385645,"comment_id":33433110,"body_markdown":"Why? Is this an issue if i configure my environment to run with UTF8 encoding?","body":"Why? Is this an issue if i configure my environment to run with UTF8 encoding?"},{"owner":{"account_id":2618820,"reputation":1643,"user_id":2272200,"accept_rate":71,"display_name":"ticktock"},"score":2,"creation_date":1421275268,"post_id":4385645,"comment_id":44302656,"body_markdown":"getBytes will also create and copy the array of bytes, so if you&#39;re talking long strings, this operation could get pricey.","body":"getBytes will also create and copy the array of bytes, so if you&#39;re talking long strings, this operation could get pricey."},{"owner":{"account_id":4434146,"reputation":1148,"user_id":3610458,"accept_rate":80,"display_name":"SensorSmith"},"score":0,"creation_date":1584568935,"post_id":4385645,"comment_id":107480266,"body_markdown":"@ticktock, if you&#39;re still around, yes but what is the alternative?  I got here hoping for a library function to return the storage needed so I can combine it into a larger allocation.","body":"@ticktock, if you&#39;re still around, yes but what is the alternative?  I got here hoping for a library function to return the storage needed so I can combine it into a larger allocation."}],"tags":[],"owner":{"account_id":73540,"reputation":12600,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1291798332,"creation_date":1291798332,"answer_id":4385645,"question_id":4385623,"body_markdown":"There&#39;s a method called [getBytes()][1]. Use it wisely .\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/String.html#getBytes()","title":"Bytes of a string in Java","body":"<p>There's a method called <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#getBytes%28%29\" rel=\"noreferrer\">getBytes()</a>. Use it wisely .</p>\n"},{"comments":[{"owner":{"account_id":684768,"reputation":2209,"user_id":533266,"display_name":"Green "},"score":1,"creation_date":1291800112,"post_id":4385653,"comment_id":4778504,"body_markdown":"so again if i use getBytes().it will give me the length same as x.length am i wrong because i am not sure","body":"so again if i use getBytes().it will give me the length same as x.length am i wrong because i am not sure"},{"owner":{"account_id":27776,"reputation":14436,"user_id":73652,"accept_rate":88,"display_name":"Kris"},"score":6,"creation_date":1291801084,"post_id":4385653,"comment_id":4778658,"body_markdown":"@Green Ash The length of the byte array -- getBytes() -- and x.length MAY be equal but is not guaranteed to be so. It will be equal if all the characters are represented by a single byte each. This will always hold true for character encodings that use a single byte per character (or less), such as ISO-8859-1. UTF-8 uses either 1 or 2 bytes, so it depends on the exact characters in the string. Then there are character encodings that always use two bytes per character.","body":"@Green Ash The length of the byte array -- getBytes() -- and x.length MAY be equal but is not guaranteed to be so. It will be equal if all the characters are represented by a single byte each. This will always hold true for character encodings that use a single byte per character (or less), such as ISO-8859-1. UTF-8 uses either 1 or 2 bytes, so it depends on the exact characters in the string. Then there are character encodings that always use two bytes per character."},{"owner":{"account_id":684768,"reputation":2209,"user_id":533266,"display_name":"Green "},"score":0,"creation_date":1291801445,"post_id":4385653,"comment_id":4778716,"body_markdown":"i like your answer :) , so they might in somehow be the same but not always am i right?                                               o.k. then is it ok to use the method without the parameter because it causing to me an error!!","body":"i like your answer :) , so they might in somehow be the same but not always am i right?                                               o.k. then is it ok to use the method without the parameter because it causing to me an error!!"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1291805492,"post_id":4385653,"comment_id":4779315,"body_markdown":"@Green the point is that number of **bytes** is not always the same as the number of **characters**. The number of **bytes** depends on the character encoding that&#39;s used. You&#39;ll have to know which character encoding you&#39;re going to use and take that into account. What error are you getting? If you just use `getBytes()` it will use the default character encoding of your system.","body":"@Green the point is that number of <b>bytes</b> is not always the same as the number of <b>characters</b>. The number of <b>bytes</b> depends on the character encoding that&#39;s used. You&#39;ll have to know which character encoding you&#39;re going to use and take that into account. What error are you getting? If you just use <code>getBytes()</code> it will use the default character encoding of your system."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1291805818,"post_id":4385653,"comment_id":4779365,"body_markdown":"@Kris - actually, UTF-8 uses 1, 2 **or 3** bytes per code point.","body":"@Kris - actually, UTF-8 uses 1, 2 <b>or 3</b> bytes per code point."},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":0,"creation_date":1291807494,"post_id":4385653,"comment_id":4779577,"body_markdown":"I&#39;ve updated this answer to show some specific encoded sizes of both &quot;ASCII&quot; characters, and higher-plane characters.  And note that in the latter example, UTF-8 does indeed use 3 bytes per character.  @Green, as I noted at the end you should rarely (if ever) omit the character set, because then your answer isn&#39;t that useful - you don&#39;t know which character set you have the size in.","body":"I&#39;ve updated this answer to show some specific encoded sizes of both &quot;ASCII&quot; characters, and higher-plane characters.  And note that in the latter example, UTF-8 does indeed use 3 bytes per character.  @Green, as I noted at the end you should rarely (if ever) omit the character set, because then your answer isn&#39;t that useful - you don&#39;t know which character set you have the size in."},{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1453366181,"post_id":4385653,"comment_id":57572189,"body_markdown":"Can we say that a String char always take 4 bytes in memory for Java, since a String char is a code point?","body":"Can we say that a String char always take 4 bytes in memory for Java, since a String char is a code point?"},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":0,"creation_date":1453393114,"post_id":4385653,"comment_id":57590934,"body_markdown":"@KorayTugay A `char` is **not** a code point.  [A `char` is 16 bits](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html) (it&#39;s basically an unsigned `short`), so it always takes 2 bytes in memory.  An `int` is needed to represent a 4-byte code point, which is why methods like [String.codePointAt()](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#codePointAt-int-) return `int` and not `char`.","body":"@KorayTugay A <code>char</code> is <b>not</b> a code point.  <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">A <code>char</code> is 16 bits</a> (it&#39;s basically an unsigned <code>short</code>), so it always takes 2 bytes in memory.  An <code>int</code> is needed to represent a 4-byte code point, which is why methods like <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#codePointAt-int-\" rel=\"nofollow noreferrer\">String.codePointAt()</a> return <code>int</code> and not <code>char</code>."},{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1453395866,"post_id":4385653,"comment_id":57592881,"body_markdown":"@AndrzejDoyle I see. I guess we can say: &quot;A String char is always 2 bytes because Java uses UTF-16 for representing characters in memory.&quot; Correct?","body":"@AndrzejDoyle I see. I guess we can say: &quot;A String char is always 2 bytes because Java uses UTF-16 for representing characters in memory.&quot; Correct?"},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":1,"creation_date":1453396185,"post_id":4385653,"comment_id":57593082,"body_markdown":"@KorayTugay Yes, more or less.  You could argue about the order of cause and effect, though.  I&#39;d be more inclined to state that a char is always 2 bytes because it is a primitive data type **defined** to be 2 bytes wide.  (And that the UTF-16 representation was mainly a consequence of this, rather than the other way round.)","body":"@KorayTugay Yes, more or less.  You could argue about the order of cause and effect, though.  I&#39;d be more inclined to state that a char is always 2 bytes because it is a primitive data type <b>defined</b> to be 2 bytes wide.  (And that the UTF-16 representation was mainly a consequence of this, rather than the other way round.)"},{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1453396371,"post_id":4385653,"comment_id":57593204,"body_markdown":"@AndrzejDoyle Thank you very much for the information.","body":"@AndrzejDoyle Thank you very much for the information."},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1638829995,"post_id":4385653,"comment_id":124187805,"body_markdown":"Why is `&quot;Hello World&quot;.getBytes(&quot;UTF-16&quot;).length` 24? I was expecting 22 = 2 bytes per character * 11 characters.","body":"Why is <code>&quot;Hello World&quot;.getBytes(&quot;UTF-16&quot;).length</code> 24? I was expecting 22 = 2 bytes per character * 11 characters."},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1638841203,"post_id":4385653,"comment_id":124189910,"body_markdown":"Nevermind. @finnw&#39;s answer below explains it: https://stackoverflow.com/a/4387559/1810962 .","body":"Nevermind. @finnw&#39;s answer below explains it: <a href=\"https://stackoverflow.com/a/4387559/1810962\">stackoverflow.com/a/4387559/1810962</a> ."}],"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"comment_count":13,"down_vote_count":0,"up_vote_count":343,"is_accepted":false,"score":343,"last_activity_date":1400793333,"creation_date":1291798372,"answer_id":4385653,"question_id":4385623,"body_markdown":"A string is a list of *characters* (i.e. code points).  The number of bytes taken to represent the string **depends entirely on which encoding you use to turn it into bytes**.\r\n\r\nThat said, you can turn the string into a byte array and then look at its size as follows:\r\n\r\n    // The input string for this test\r\n    final String string = &quot;Hello World&quot;;\r\n\r\n    // Check length, in characters\r\n    System.out.println(string.length()); // prints &quot;11&quot;\r\n\r\n    // Check encoded sizes\r\n    final byte[] utf8Bytes = string.getBytes(&quot;UTF-8&quot;);\r\n    System.out.println(utf8Bytes.length); // prints &quot;11&quot;\r\n\r\n    final byte[] utf16Bytes= string.getBytes(&quot;UTF-16&quot;);\r\n    System.out.println(utf16Bytes.length); // prints &quot;24&quot;\r\n\r\n    final byte[] utf32Bytes = string.getBytes(&quot;UTF-32&quot;);\r\n    System.out.println(utf32Bytes.length); // prints &quot;44&quot;\r\n\r\n    final byte[] isoBytes = string.getBytes(&quot;ISO-8859-1&quot;);\r\n    System.out.println(isoBytes.length); // prints &quot;11&quot;\r\n\r\n    final byte[] winBytes = string.getBytes(&quot;CP1252&quot;);\r\n    System.out.println(winBytes.length); // prints &quot;11&quot;\r\n\r\nSo you see, even a simple &quot;ASCII&quot; string can have different number of bytes in its representation, depending which encoding is used.  Use whichever character set you&#39;re interested in for your case, as the argument to `getBytes()`.  And don&#39;t fall into the trap of assuming that UTF-8 represents *every* character as a single byte, as that&#39;s not true either:\r\n\r\n    final String interesting = &quot;\\uF93D\\uF936\\uF949\\uF942&quot;; // Chinese ideograms\r\n\r\n    // Check length, in characters\r\n    System.out.println(interesting.length()); // prints &quot;4&quot;\r\n\r\n    // Check encoded sizes\r\n    final byte[] utf8Bytes = interesting.getBytes(&quot;UTF-8&quot;);\r\n    System.out.println(utf8Bytes.length); // prints &quot;12&quot;\r\n\r\n    final byte[] utf16Bytes= interesting.getBytes(&quot;UTF-16&quot;);\r\n    System.out.println(utf16Bytes.length); // prints &quot;10&quot;\r\n\r\n    final byte[] utf32Bytes = interesting.getBytes(&quot;UTF-32&quot;);\r\n    System.out.println(utf32Bytes.length); // prints &quot;16&quot;\r\n\r\n    final byte[] isoBytes = interesting.getBytes(&quot;ISO-8859-1&quot;);\r\n    System.out.println(isoBytes.length); // prints &quot;4&quot; (probably encoded &quot;????&quot;)\r\n\r\n    final byte[] winBytes = interesting.getBytes(&quot;CP1252&quot;);\r\n    System.out.println(winBytes.length); // prints &quot;4&quot; (probably encoded &quot;????&quot;)\r\n\r\n(Note that if you don&#39;t provide a character set argument, the platform&#39;s *default character set* is used.  This might be useful in some contexts, but in general you should avoid depending on defaults, and always use an explicit character set when encoding/decoding is required.)","title":"Bytes of a string in Java","body":"<p>A string is a list of <em>characters</em> (i.e. code points).  The number of bytes taken to represent the string <strong>depends entirely on which encoding you use to turn it into bytes</strong>.</p>\n\n<p>That said, you can turn the string into a byte array and then look at its size as follows:</p>\n\n<pre><code>// The input string for this test\nfinal String string = \"Hello World\";\n\n// Check length, in characters\nSystem.out.println(string.length()); // prints \"11\"\n\n// Check encoded sizes\nfinal byte[] utf8Bytes = string.getBytes(\"UTF-8\");\nSystem.out.println(utf8Bytes.length); // prints \"11\"\n\nfinal byte[] utf16Bytes= string.getBytes(\"UTF-16\");\nSystem.out.println(utf16Bytes.length); // prints \"24\"\n\nfinal byte[] utf32Bytes = string.getBytes(\"UTF-32\");\nSystem.out.println(utf32Bytes.length); // prints \"44\"\n\nfinal byte[] isoBytes = string.getBytes(\"ISO-8859-1\");\nSystem.out.println(isoBytes.length); // prints \"11\"\n\nfinal byte[] winBytes = string.getBytes(\"CP1252\");\nSystem.out.println(winBytes.length); // prints \"11\"\n</code></pre>\n\n<p>So you see, even a simple \"ASCII\" string can have different number of bytes in its representation, depending which encoding is used.  Use whichever character set you're interested in for your case, as the argument to <code>getBytes()</code>.  And don't fall into the trap of assuming that UTF-8 represents <em>every</em> character as a single byte, as that's not true either:</p>\n\n<pre><code>final String interesting = \"\\uF93D\\uF936\\uF949\\uF942\"; // Chinese ideograms\n\n// Check length, in characters\nSystem.out.println(interesting.length()); // prints \"4\"\n\n// Check encoded sizes\nfinal byte[] utf8Bytes = interesting.getBytes(\"UTF-8\");\nSystem.out.println(utf8Bytes.length); // prints \"12\"\n\nfinal byte[] utf16Bytes= interesting.getBytes(\"UTF-16\");\nSystem.out.println(utf16Bytes.length); // prints \"10\"\n\nfinal byte[] utf32Bytes = interesting.getBytes(\"UTF-32\");\nSystem.out.println(utf32Bytes.length); // prints \"16\"\n\nfinal byte[] isoBytes = interesting.getBytes(\"ISO-8859-1\");\nSystem.out.println(isoBytes.length); // prints \"4\" (probably encoded \"????\")\n\nfinal byte[] winBytes = interesting.getBytes(\"CP1252\");\nSystem.out.println(winBytes.length); // prints \"4\" (probably encoded \"????\")\n</code></pre>\n\n<p>(Note that if you don't provide a character set argument, the platform's <em>default character set</em> is used.  This might be useful in some contexts, but in general you should avoid depending on defaults, and always use an explicit character set when encoding/decoding is required.)</p>\n"},{"comments":[{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":4,"creation_date":1530736385,"post_id":4385860,"comment_id":89343325,"body_markdown":"Is this part of the standard Java library? I can&#39;t find the `Bytes` class.","body":"Is this part of the standard Java library? I can&#39;t find the <code>Bytes</code> class."}],"tags":[],"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1291800160,"creation_date":1291800160,"answer_id":4385860,"question_id":4385623,"body_markdown":"Try this :\r\n\r\n    Bytes.toBytes(x).length\r\n\r\nAssuming you declared and initialized x before","title":"Bytes of a string in Java","body":"<p>Try this :</p>\n\n<pre><code>Bytes.toBytes(x).length\n</code></pre>\n\n<p>Assuming you declared and initialized x before</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1291800379,"creation_date":1291800379,"answer_id":4385890,"question_id":4385623,"body_markdown":"A `String` instance allocates a certain amount of bytes in memory. Maybe you&#39;re looking at something like `sizeof(&quot;Hello World&quot;)` which would return the number of bytes allocated by the datastructure itself?\r\n\r\nIn Java, there&#39;s usually no need for a `sizeof` function, because we never allocate memory to store a data structure. We can have a look at the `String.java` file for a rough estimation, and we see some &#39;int&#39;, some references and a `char[]`. The [Java language specification][1] defines, that a `char` ranges from 0 to 65535, so two bytes are sufficient to keep a single char in memory. But a JVM does not have to store one char in 2 bytes, it only has to guarantee, that the implementation of `char` can hold values of the defines range.\r\n\r\nSo `sizeof` really does not make any sense in Java. But, assuming that we have a large String and one `char` allocates two bytes, then the memory footprint of a `String` object is at least `2 * str.length()` in bytes.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#4.2.1","title":"Bytes of a string in Java","body":"<p>A <code>String</code> instance allocates a certain amount of bytes in memory. Maybe you're looking at something like <code>sizeof(\"Hello World\")</code> which would return the number of bytes allocated by the datastructure itself?</p>\n\n<p>In Java, there's usually no need for a <code>sizeof</code> function, because we never allocate memory to store a data structure. We can have a look at the <code>String.java</code> file for a rough estimation, and we see some 'int', some references and a <code>char[]</code>. The <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#4.2.1\" rel=\"noreferrer\">Java language specification</a> defines, that a <code>char</code> ranges from 0 to 65535, so two bytes are sufficient to keep a single char in memory. But a JVM does not have to store one char in 2 bytes, it only has to guarantee, that the implementation of <code>char</code> can hold values of the defines range.</p>\n\n<p>So <code>sizeof</code> really does not make any sense in Java. But, assuming that we have a large String and one <code>char</code> allocates two bytes, then the memory footprint of a <code>String</code> object is at least <code>2 * str.length()</code> in bytes.</p>\n"},{"comments":[{"owner":{"account_id":2090673,"reputation":19849,"user_id":1860591,"accept_rate":73,"display_name":"Lodewijk Bogaards"},"score":0,"creation_date":1522399578,"post_id":4387559,"comment_id":86150048,"body_markdown":"Roozbeh&#39;s answer is better, because it takes the other bytes into account as well.","body":"Roozbeh&#39;s answer is better, because it takes the other bytes into account as well."},{"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"score":0,"creation_date":1555097313,"post_id":4387559,"comment_id":98005182,"body_markdown":"@finnw Are you sure that the encoding is UTF-16BE and not UTF-16? According to the String class Javadoc (https://docs.oracle.com/javase/6/docs/api/java/lang/String.html), &quot;A String represents a string in the UTF-16 format...&quot;.","body":"@finnw Are you sure that the encoding is UTF-16BE and not UTF-16? According to the String class Javadoc (<a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/lang/String.html</a>), &quot;A String represents a string in the UTF-16 format...&quot;."}],"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"comment_count":2,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1291812289,"creation_date":1291812289,"answer_id":4387559,"question_id":4385623,"body_markdown":"The pedantic answer (though not necessarily the most useful one, depending on what you want to do with the result) is:\r\n\r\n    string.length() * 2\r\n\r\nJava strings are physically stored in `UTF-16BE` encoding, which uses 2 bytes per code unit, and `String.length()` measures the length in UTF-16 code units, so this is equivalent to:\r\n\r\n    final byte[] utf16Bytes= string.getBytes(&quot;UTF-16BE&quot;);\r\n    System.out.println(utf16Bytes.length);\r\n\r\nAnd this will tell you the size of the internal `char` array, in _bytes_.\r\n\r\nNote: `&quot;UTF-16&quot;` will give a different result from `&quot;UTF-16BE&quot;` as the former encoding will insert a [BOM](http://en.wikipedia.org/wiki/Byte_order_mark), adding 2 bytes to the length of the array.","title":"Bytes of a string in Java","body":"<p>The pedantic answer (though not necessarily the most useful one, depending on what you want to do with the result) is:</p>\n\n<pre><code>string.length() * 2\n</code></pre>\n\n<p>Java strings are physically stored in <code>UTF-16BE</code> encoding, which uses 2 bytes per code unit, and <code>String.length()</code> measures the length in UTF-16 code units, so this is equivalent to:</p>\n\n<pre><code>final byte[] utf16Bytes= string.getBytes(\"UTF-16BE\");\nSystem.out.println(utf16Bytes.length);\n</code></pre>\n\n<p>And this will tell you the size of the internal <code>char</code> array, in <em>bytes</em>.</p>\n\n<p>Note: <code>\"UTF-16\"</code> will give a different result from <code>\"UTF-16BE\"</code> as the former encoding will insert a <a href=\"http://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"noreferrer\">BOM</a>, adding 2 bytes to the length of the array.</p>\n"},{"comments":[{"owner":{"account_id":2974024,"reputation":809,"user_id":2525493,"display_name":"roozbeh"},"score":9,"creation_date":1376413335,"post_id":18030595,"comment_id":26699289,"body_markdown":"I was assuming the question was about the number of bytes allocated in memory for a String object. If the question is about the number of bytes required to serialize the String, as others have pointed out, it depends on the encoding used.","body":"I was assuming the question was about the number of bytes allocated in memory for a String object. If the question is about the number of bytes required to serialize the String, as others have pointed out, it depends on the encoding used."},{"owner":{"account_id":2127444,"reputation":3140,"user_id":1889167,"accept_rate":44,"display_name":"mavis"},"score":3,"creation_date":1391673732,"post_id":18030595,"comment_id":32628356,"body_markdown":"Source for ur answer ? Thanks","body":"Source for ur answer ? Thanks"},{"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"score":1,"creation_date":1475244590,"post_id":18030595,"comment_id":66879885,"body_markdown":"Note: `sizeof` should be multiple of 8.","body":"Note: <code>sizeof</code> should be multiple of 8."}],"tags":[],"owner":{"account_id":2974024,"reputation":809,"user_id":2525493,"display_name":"roozbeh"},"comment_count":3,"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1375516190,"creation_date":1375516190,"answer_id":18030595,"question_id":4385623,"body_markdown":"If you&#39;re running with 64-bit references:\r\n\r\n    sizeof(string) = \r\n    8 + // object header used by the VM\r\n    8 + // 64-bit reference to char array (value)\r\n    8 + string.length() * 2 + // character array itself (object header + 16-bit chars)\r\n    4 + // offset integer\r\n    4 + // count integer\r\n    4 + // cached hash code\r\n\r\nIn other words:\r\n\r\n    sizeof(string) = 36 + string.length() * 2\r\n\r\nOn a 32-bit VM or a 64-bit VM with compressed OOPs (-XX:+UseCompressedOops), the references are 4 bytes. So the total would be:\r\n\r\n    sizeof(string) = 32 + string.length() * 2\r\n\r\nThis does not take into account the references to the string object.","title":"Bytes of a string in Java","body":"<p>If you're running with 64-bit references:</p>\n\n<pre><code>sizeof(string) = \n8 + // object header used by the VM\n8 + // 64-bit reference to char array (value)\n8 + string.length() * 2 + // character array itself (object header + 16-bit chars)\n4 + // offset integer\n4 + // count integer\n4 + // cached hash code\n</code></pre>\n\n<p>In other words:</p>\n\n<pre><code>sizeof(string) = 36 + string.length() * 2\n</code></pre>\n\n<p>On a 32-bit VM or a 64-bit VM with compressed OOPs (-XX:+UseCompressedOops), the references are 4 bytes. So the total would be:</p>\n\n<pre><code>sizeof(string) = 32 + string.length() * 2\n</code></pre>\n\n<p>This does not take into account the references to the string object.</p>\n"},{"tags":[],"owner":{"account_id":4529435,"reputation":2030,"user_id":3680373,"display_name":"radu_paun"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586936766,"creation_date":1586936766,"answer_id":61223765,"question_id":4385623,"body_markdown":"To avoid try catch, use:\r\n\r\n    String s = &quot;some text here&quot;;\r\n    byte[] b = s.getBytes(StandardCharsets.UTF_8);\r\n    System.out.println(b.length);","title":"Bytes of a string in Java","body":"<p>To avoid try catch, use:</p>\n\n<pre><code>String s = \"some text here\";\nbyte[] b = s.getBytes(StandardCharsets.UTF_8);\nSystem.out.println(b.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":197238,"reputation":5764,"user_id":441200,"accept_rate":38,"display_name":"Preetam Purbia"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1604991050,"creation_date":1604991050,"answer_id":64764119,"question_id":4385623,"body_markdown":"Try this using [apache commons][1]:\r\n\r\n    String src = &quot;Hello&quot;; //This will work with any serialisable object\r\n    System.out.println(\r\n                &quot;Object Size:&quot; + SerializationUtils.serialize((Serializable) src).length)\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/SerializationUtils.html","title":"Bytes of a string in Java","body":"<p>Try this using <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/SerializationUtils.html\" rel=\"nofollow noreferrer\">apache commons</a>:</p>\n<pre><code>String src = &quot;Hello&quot;; //This will work with any serialisable object\nSystem.out.println(\n            &quot;Object Size:&quot; + SerializationUtils.serialize((Serializable) src).length)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4528798,"reputation":10533,"user_id":3679900,"accept_rate":48,"display_name":"y2k-shubham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690393380,"creation_date":1690393380,"answer_id":76773823,"question_id":4385623,"body_markdown":"If you want to reference `Charset` from some standard package instead of using String literal `&quot;UTF-8&quot;` then you can use `java.nio`\r\n\r\n```\r\nimport java.nio.charset.StandardCharsets;\r\n..\r\nint numBytes = myString.getBytes(StandardCharsets.UTF_8).length;\r\n```","title":"Bytes of a string in Java","body":"<p>If you want to reference <code>Charset</code> from some standard package instead of using String literal <code>&quot;UTF-8&quot;</code> then you can use <code>java.nio</code></p>\n<pre><code>import java.nio.charset.StandardCharsets;\n..\nint numBytes = myString.getBytes(StandardCharsets.UTF_8).length;\n</code></pre>\n"}],"owner":{"account_id":684768,"reputation":2209,"user_id":533266,"display_name":"Green "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357433,"favorite_count":0,"down_vote_count":0,"up_vote_count":220,"answer_count":10,"score":220,"last_activity_date":1690393380,"creation_date":1291798145,"question_id":4385623,"body_markdown":"In Java, if I have a String `x`, how can I calculate the number of bytes in that string?\r\n","title":"Bytes of a string in Java","body":"<p>In Java, if I have a String <code>x</code>, how can I calculate the number of bytes in that string?</p>\n"},{"tags":["java","enums","specifications"],"comments":[{"owner":{"account_id":178678,"reputation":7051,"user_id":410823,"accept_rate":78,"display_name":"Skarab"},"score":1,"creation_date":1285838639,"post_id":3820149,"comment_id":4065555,"body_markdown":"I iterate over my enum to fill a list, which than in other place in the code I read iterating over this enum.","body":"I iterate over my enum to fill a list, which than in other place in the code I read iterating over this enum."},{"owner":{"account_id":53237,"reputation":4939,"user_id":159178,"accept_rate":73,"display_name":"Fletch"},"score":11,"creation_date":1344859115,"post_id":3820149,"comment_id":15894532,"body_markdown":"@MitchWheat For the same reason that you would rely on a List preserving order: because the JDK is a tool which gives you certain guarantees and relying on these guarantees helps you to write more succinct and better code. Admittedly, the question &quot;Is it guaranteed not to be changed?&quot; is impossible to answer, you certainly can&#39;t rely on that, nothing has that guarantee.","body":"@MitchWheat For the same reason that you would rely on a List preserving order: because the JDK is a tool which gives you certain guarantees and relying on these guarantees helps you to write more succinct and better code. Admittedly, the question &quot;Is it guaranteed not to be changed?&quot; is impossible to answer, you certainly can&#39;t rely on that, nothing has that guarantee."}],"answers":[{"comments":[{"owner":{"account_id":205948,"reputation":20282,"user_id":454967,"accept_rate":66,"display_name":"ide"},"score":0,"creation_date":1285751552,"post_id":3820186,"comment_id":4053973,"body_markdown":"+1 for the sage advice. On the topic of ordinal(), Effective Java suggests adding a member field to the enum type.","body":"+1 for the sage advice. On the topic of ordinal(), Effective Java suggests adding a member field to the enum type."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1285751248,"creation_date":1285751248,"answer_id":3820186,"question_id":3820149,"body_markdown":"Yes, it is a guaranteed to return them in that order.\r\n\r\nHowever you should avoid relying on that, and on the `ordinal()` value, since it can change after inserting new items, for example.","title":"enum.values() - is an order of returned enums deterministic","body":"<p>Yes, it is a guaranteed to return them in that order.</p>\n\n<p>However you should avoid relying on that, and on the <code>ordinal()</code> value, since it can change after inserting new items, for example.</p>\n"},{"comments":[{"owner":{"account_id":53237,"reputation":4939,"user_id":159178,"accept_rate":73,"display_name":"Fletch"},"score":3,"creation_date":1344860675,"post_id":3820187,"comment_id":15895207,"body_markdown":"&quot;no guarantee that someone won&#39;t reorder values in the future&quot; - but that&#39;s exactly why I want to rely on the order :-)! I want to be able to re-order the items in future and thereby change the behaviour of my program. Bloch is right about not relying on the ordinal and if the asker&#39;s example really involves enums like EN_TWO then he is relying on the ordinal and shouldn&#39;t do this. But to rely on the order is perfectly fine. In fact, as order is guaranteed, to create a field specifically for order would be writing redundant code, the kind of thing books like Effective Java tell you not to do.","body":"&quot;no guarantee that someone won&#39;t reorder values in the future&quot; - but that&#39;s exactly why I want to rely on the order :-)! I want to be able to re-order the items in future and thereby change the behaviour of my program. Bloch is right about not relying on the ordinal and if the asker&#39;s example really involves enums like EN_TWO then he is relying on the ordinal and shouldn&#39;t do this. But to rely on the order is perfectly fine. In fact, as order is guaranteed, to create a field specifically for order would be writing redundant code, the kind of thing books like Effective Java tell you not to do."},{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":0,"creation_date":1344869423,"post_id":3820187,"comment_id":15899499,"body_markdown":"@Fletch, sorry, I don&#39;t quite follow you. To me this sounds like you are trying to use `enum` for some purpose it was not intended for.","body":"@Fletch, sorry, I don&#39;t quite follow you. To me this sounds like you are trying to use <code>enum</code> for some purpose it was not intended for."},{"owner":{"account_id":53237,"reputation":4939,"user_id":159178,"accept_rate":73,"display_name":"Fletch"},"score":0,"creation_date":1345123795,"post_id":3820187,"comment_id":15985131,"body_markdown":"let&#39;s say you have the famous &quot;Planet&quot; enum. In your UI you want to list the planets in the order of their distance from the sun. How can you best acheive this? I would order the planet constants in the correct order inside the enum class and then just enumerate the enum in the UI. Since the order is dependable this will work. That&#39;s the kind of thing I&#39;m talking about. If one day Earth moves closer to the sun than Mars, of course in such a moment the first thing on your warm mind will be maintaining your code! So you go to your Planet class and move EARTH to before MARS.","body":"let&#39;s say you have the famous &quot;Planet&quot; enum. In your UI you want to list the planets in the order of their distance from the sun. How can you best acheive this? I would order the planet constants in the correct order inside the enum class and then just enumerate the enum in the UI. Since the order is dependable this will work. That&#39;s the kind of thing I&#39;m talking about. If one day Earth moves closer to the sun than Mars, of course in such a moment the first thing on your warm mind will be maintaining your code! So you go to your Planet class and move EARTH to before MARS."},{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":0,"creation_date":1345127724,"post_id":3820187,"comment_id":15987298,"body_markdown":"@Fletch, Earth is already closer to Sun than Mars ;-) but I get what you mean. However, in this case the order of planets is actually a function of their mean distance from Sun, which is not a simple ordinal, thus IMHO it should better be stored as a distinct field for each planet. Then you can have a trivial comparator compare planets based on their mean distance from Sun, and order them using this comparator. This is IMHO a clean and foolproof solution. Whereas your solution breaks as soon as e.g. a new colleague decides that planets should *obviously* be listed in alphabetic order ;-)","body":"@Fletch, Earth is already closer to Sun than Mars ;-) but I get what you mean. However, in this case the order of planets is actually a function of their mean distance from Sun, which is not a simple ordinal, thus IMHO it should better be stored as a distinct field for each planet. Then you can have a trivial comparator compare planets based on their mean distance from Sun, and order them using this comparator. This is IMHO a clean and foolproof solution. Whereas your solution breaks as soon as e.g. a new colleague decides that planets should <i>obviously</i> be listed in alphabetic order ;-)"},{"owner":{"account_id":53237,"reputation":4939,"user_id":159178,"accept_rate":73,"display_name":"Fletch"},"score":1,"creation_date":1345133829,"post_id":3820187,"comment_id":15990642,"body_markdown":"Hahaha ermm yes well anyway it&#39;s all a conspiracy, there is no Mars. Initially I was going to use Saturn but couldn&#39;t remember which planets it is near, but the Mars plan seems to have backfired :-). Anyway... in this case a comparitor would be good but has the downside of requiring more code, obviously. I think that if you are relying on the source code ordering, documenting this in the class comments would be a good thing. Your colleague might even read it.","body":"Hahaha ermm yes well anyway it&#39;s all a conspiracy, there is no Mars. Initially I was going to use Saturn but couldn&#39;t remember which planets it is near, but the Mars plan seems to have backfired :-). Anyway... in this case a comparitor would be good but has the downside of requiring more code, obviously. I think that if you are relying on the source code ordering, documenting this in the class comments would be a good thing. Your colleague might even read it."},{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":0,"creation_date":1345189902,"post_id":3820187,"comment_id":16007520,"body_markdown":"@Fletch, indeed, there are proven cases of developers actually reading Javadoc... even I have done it :-) IMHO the difference in amount of code is not that big (would be quite tiny if Java had more functional capabilities, but alas, this is what we got to live with).","body":"@Fletch, indeed, there are proven cases of developers actually reading Javadoc... even I have done it :-) IMHO the difference in amount of code is not that big (would be quite tiny if Java had more functional capabilities, but alas, this is what we got to live with)."}],"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"comment_count":6,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1285751569,"creation_date":1285751251,"answer_id":3820187,"question_id":3820149,"body_markdown":"It is determined by the order your values are declared in. However, **there is no guarantee that you (or someone else) won&#39;t reorder / insert / remove values in the future**. So you shouldn&#39;t rely on the order.\r\n\r\nEffective Java 2nd. Edition dedicates its Item 31 to a closely related topic: **Use instance fields instead of ordinals**:\r\n\r\n&gt; Never derive a value associated with an enum from its ordinal; store it in an instance field instead.\r\n","title":"enum.values() - is an order of returned enums deterministic","body":"<p>It is determined by the order your values are declared in. However, <strong>there is no guarantee that you (or someone else) won't reorder / insert / remove values in the future</strong>. So you shouldn't rely on the order.</p>\n\n<p>Effective Java 2nd. Edition dedicates its Item 31 to a closely related topic: <strong>Use instance fields instead of ordinals</strong>:</p>\n\n<blockquote>\n  <p>Never derive a value associated with an enum from its ordinal; store it in an instance field instead.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1322191,"reputation":11583,"user_id":1267768,"accept_rate":83,"display_name":"Matt"},"score":1,"creation_date":1344864220,"post_id":3820188,"comment_id":15896842,"body_markdown":"If someone adds a value in the middle in a later code version, this could hose you up, as it would change the ordinal value of other elements (see the Enum.ordinal()) method.  It&#39;s best not to rely on the ordinal position as a serialization mechanism (ie, don&#39;t store it in the db) for this reason.","body":"If someone adds a value in the middle in a later code version, this could hose you up, as it would change the ordinal value of other elements (see the Enum.ordinal()) method.  It&#39;s best not to rely on the ordinal position as a serialization mechanism (ie, don&#39;t store it in the db) for this reason."},{"owner":{"account_id":1839499,"reputation":9104,"user_id":1669208,"accept_rate":72,"display_name":"Dan Grahn"},"score":1,"creation_date":1428336249,"post_id":3820188,"comment_id":47110701,"body_markdown":"Link to the source for that specification?","body":"Link to the source for that specification?"},{"owner":{"account_id":9399,"reputation":17347,"user_id":17339,"accept_rate":87,"display_name":"Drew Stephens"},"score":0,"creation_date":1445032385,"post_id":3820188,"comment_id":54167438,"body_markdown":"[Java 8 doc](http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.9.3)","body":"<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.9.3\" rel=\"nofollow noreferrer\">Java 8 doc</a>"}],"tags":[],"owner":{"account_id":793,"reputation":24042,"user_id":1035,"accept_rate":92,"display_name":"GaryF"},"comment_count":3,"down_vote_count":0,"up_vote_count":149,"is_accepted":true,"score":149,"last_activity_date":1428336479,"creation_date":1285751282,"answer_id":3820188,"question_id":3820149,"body_markdown":"The Java language specification uses this explicit language:\r\n\r\n&gt; @return an array containing the constants of this enum type, in the order they&#39;re declared [&lt;sup&gt;[Source]&lt;/sup&gt;][1]\r\n\r\nSo, yes, they will be returned in declaration order. It&#39;s worth noting that the order might change over time if someone changes the class so be very careful about how you use this.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se6/html/classes.html#8.9","title":"enum.values() - is an order of returned enums deterministic","body":"<p>The Java language specification uses this explicit language:</p>\n\n<blockquote>\n  <p>@return an array containing the constants of this enum type, in the order they're declared <a href=\"http://docs.oracle.com/javase/specs/jls/se6/html/classes.html#8.9\" rel=\"noreferrer\"><sup>[Source]</sup></a></p>\n</blockquote>\n\n<p>So, yes, they will be returned in declaration order. It's worth noting that the order might change over time if someone changes the class so be very careful about how you use this.</p>\n"},{"tags":[],"owner":{"account_id":53237,"reputation":4939,"user_id":159178,"accept_rate":73,"display_name":"Fletch"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1344859517,"creation_date":1344859517,"answer_id":11933991,"question_id":3820149,"body_markdown":"The other answers are good, but don&#39;t comment on this: \r\n\r\n&gt; &quot;Is it a rule or it is not guaranteed to be not changed in the next\r\n&gt; Jdk releases?&quot;\r\n\r\n I don&#39;t believe that guarantees on future JDKs exist, so you shouldn&#39;t even worry about them. There would be no way to enforce them, future JDK leads might just decide to reneg on such guarantees. It&#39;s like the Westminster system of parliament: &quot;No Parliament can bind a future parliament.&quot;\r\n\r\nThat said, the history of the JDK reveals excellent consistency. They don&#39;t make a lot of breaking changes, so you can be pretty confident that current **specified** (not just observed) behaviour will be preserved.","title":"enum.values() - is an order of returned enums deterministic","body":"<p>The other answers are good, but don't comment on this: </p>\n\n<blockquote>\n  <p>\"Is it a rule or it is not guaranteed to be not changed in the next\n  Jdk releases?\"</p>\n</blockquote>\n\n<p>I don't believe that guarantees on future JDKs exist, so you shouldn't even worry about them. There would be no way to enforce them, future JDK leads might just decide to reneg on such guarantees. It's like the Westminster system of parliament: \"No Parliament can bind a future parliament.\"</p>\n\n<p>That said, the history of the JDK reveals excellent consistency. They don't make a lot of breaking changes, so you can be pretty confident that current <strong>specified</strong> (not just observed) behaviour will be preserved.</p>\n"},{"tags":[],"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690392598,"creation_date":1690392598,"answer_id":76773733,"question_id":3820149,"body_markdown":"To add on top of [GaryF answer][1].\r\n\r\nYes the order is guaranty by the Java. However... \r\n\r\n**Obfuscation can break it**. So be very carful with it\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3820188/1129332","title":"enum.values() - is an order of returned enums deterministic","body":"<p>To add on top of <a href=\"https://stackoverflow.com/a/3820188/1129332\">GaryF answer</a>.</p>\n<p>Yes the order is guaranty by the Java. However...</p>\n<p><strong>Obfuscation can break it</strong>. So be very carful with it</p>\n"}],"owner":{"account_id":178678,"reputation":7051,"user_id":410823,"accept_rate":78,"display_name":"Skarab"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33698,"favorite_count":0,"down_vote_count":0,"up_vote_count":111,"accepted_answer_id":3820188,"answer_count":5,"score":111,"last_activity_date":1690392598,"creation_date":1285750881,"question_id":3820149,"body_markdown":"I have a enum `SOME_ENUM`: \r\n\r\n    public enum SOME_ENUM {\r\n      EN_ONE,\r\n      EN_TWO,\r\n      EN_THREE;\r\n    }\r\n\r\nWill `SOME_ENUM.values()` always return the enums in the order of enum declarations:\r\n`EN_ONE, EN_TWO, EN_THREE`? Is it a rule or it is not guaranteed to be not changed in the next JDK releases? ","title":"enum.values() - is an order of returned enums deterministic","body":"<p>I have a enum <code>SOME_ENUM</code>: </p>\n\n<pre><code>public enum SOME_ENUM {\n  EN_ONE,\n  EN_TWO,\n  EN_THREE;\n}\n</code></pre>\n\n<p>Will <code>SOME_ENUM.values()</code> always return the enums in the order of enum declarations:\n<code>EN_ONE, EN_TWO, EN_THREE</code>? Is it a rule or it is not guaranteed to be not changed in the next JDK releases? </p>\n"},{"tags":["java","apache","http","google-chrome","tomcat"],"comments":[{"owner":{"account_id":431867,"reputation":21470,"user_id":816213,"accept_rate":88,"display_name":"Sachin Jain"},"score":2,"creation_date":1460036775,"post_id":22931720,"comment_id":60566256,"body_markdown":"You can try [Requestly](http://chrome.google.com/webstore/detail/requestly/mdnleldcmiljblolnjhpnblkcekpdkpa) for modifying HTTP requests in Chrome. It allows you to Rewrite urls, block websites, modify headers etc..","body":"You can try <a href=\"http://chrome.google.com/webstore/detail/requestly/mdnleldcmiljblolnjhpnblkcekpdkpa\" rel=\"nofollow noreferrer\">Requestly</a> for modifying HTTP requests in Chrome. It allows you to Rewrite urls, block websites, modify headers etc.."},{"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David BalaÅ¾ic"},"score":0,"creation_date":1542288175,"post_id":22931720,"comment_id":93520878,"body_markdown":"Firefox as of 2018 can do it with its builtin Developer Tools (press F12 to activate it).","body":"Firefox as of 2018 can do it with its builtin Developer Tools (press F12 to activate it)."},{"owner":{"account_id":1525128,"reputation":53868,"user_id":2377343,"accept_rate":36,"display_name":"T.Todua"},"score":0,"creation_date":1592436090,"post_id":22931720,"comment_id":110428644,"body_markdown":"Does this answer your question? [Edit and replay XHR chrome/firefox etc?](https://stackoverflow.com/questions/28775123/edit-and-replay-xhr-chrome-firefox-etc)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28775123/edit-and-replay-xhr-chrome-firefox-etc\">Edit and replay XHR chrome/firefox etc?</a>"}],"answers":[{"comments":[{"owner":{"account_id":247354,"reputation":1065,"user_id":522024,"accept_rate":78,"display_name":"ayanamist"},"score":1,"creation_date":1624854623,"post_id":60336658,"comment_id":120461038,"body_markdown":"This item is 404 now","body":"This item is 404 now"},{"owner":{"account_id":7605562,"reputation":511,"user_id":5768457,"display_name":"Hvitis"},"score":1,"creation_date":1627389703,"post_id":60336658,"comment_id":121138835,"body_markdown":"https://chrome.google.com/webstore/detail/tweak-mock-api-calls/feahianecghpnipmhphmfgmpdodhcapi","body":"<a href=\"https://chrome.google.com/webstore/detail/tweak-mock-api-calls/feahianecghpnipmhphmfgmpdodhcapi\" rel=\"nofollow noreferrer\">chrome.google.com/webstore/detail/tweak-mock-api-calls/&hellip;</a>"},{"owner":{"account_id":2073992,"reputation":1326,"user_id":1847868,"accept_rate":67,"display_name":"mandarin"},"score":1,"creation_date":1631606618,"post_id":60336658,"comment_id":122260897,"body_markdown":"This could be the accepted answer. I just successfully used this tweak extension and it was very easy. 5 mins from install to first intercepted request.","body":"This could be the accepted answer. I just successfully used this tweak extension and it was very easy. 5 mins from install to first intercepted request."},{"owner":{"account_id":3433208,"reputation":2539,"user_id":2883579,"accept_rate":75,"display_name":"Samir Aguiar"},"score":1,"creation_date":1697568163,"post_id":60336658,"comment_id":136295389,"body_markdown":"You now have to pay to intercept requests with that extension. The free version just allows mocking requests, which is kinda useless as you can already do that with devtools.","body":"You now have to pay to intercept requests with that extension. The free version just allows mocking requests, which is kinda useless as you can already do that with devtools."}],"tags":[],"owner":{"account_id":17814006,"reputation":165,"user_id":12937990,"display_name":"Daniel Caldas"},"comment_count":4,"down_vote_count":3,"up_vote_count":17,"is_accepted":false,"score":14,"last_activity_date":1627539646,"creation_date":1582280854,"answer_id":60336658,"question_id":22931720,"body_markdown":"You can use [tweak][1] chrome extension and you&#39;ll be able to do exactly that, intercept and modify HTTP requests.\r\n\r\n\r\n  [1]: https://chrome.google.com/webstore/detail/tweak-mock-api-calls/feahianecghpnipmhphmfgmpdodhcapi","title":"Is there a way to modify an HTTP request in Chrome or Firefox?","body":"<p>You can use <a href=\"https://chrome.google.com/webstore/detail/tweak-mock-api-calls/feahianecghpnipmhphmfgmpdodhcapi\" rel=\"noreferrer\">tweak</a> chrome extension and you'll be able to do exactly that, intercept and modify HTTP requests.</p>\n"},{"comments":[{"owner":{"account_id":2185222,"reputation":3814,"user_id":1933768,"accept_rate":77,"display_name":"JoeMjr2"},"score":4,"creation_date":1646343263,"post_id":61076792,"comment_id":126106503,"body_markdown":"The request that I&#39;m making results in a file download.  When I do this (paste the fetch in the console), the request appears to be successful, but it doesn&#39;t trigger a file download in the browser.  Is there a way to save the resulting file?","body":"The request that I&#39;m making results in a file download.  When I do this (paste the fetch in the console), the request appears to be successful, but it doesn&#39;t trigger a file download in the browser.  Is there a way to save the resulting file?"}],"tags":[],"owner":{"account_id":3058272,"reputation":7935,"user_id":3356679,"accept_rate":50,"display_name":"oriadam"},"comment_count":1,"down_vote_count":2,"up_vote_count":74,"is_accepted":false,"score":72,"last_activity_date":1586251619,"creation_date":1586251619,"answer_id":61076792,"question_id":22931720,"body_markdown":"This might help in some cases - use fetch command to send another, tampered, request. here&#39;s how to do it in Chrome:\r\n\r\n1. open DevTools, tab Network\r\n2. clear\r\n3. create your request normally\r\n4. right click that request and select Copy &gt; Copy as fetch\r\n5. go to Console tab and paste\r\n6. tamper the data and hit Enter\r\n\r\n\r\n[![steps 1-4][1]][1][![steps 5-6][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uZjZb.png\r\n  [2]: https://i.stack.imgur.com/6fRzL.png","title":"Is there a way to modify an HTTP request in Chrome or Firefox?","body":"<p>This might help in some cases - use fetch command to send another, tampered, request. here's how to do it in Chrome:</p>\n\n<ol>\n<li>open DevTools, tab Network</li>\n<li>clear</li>\n<li>create your request normally</li>\n<li>right click that request and select Copy > Copy as fetch</li>\n<li>go to Console tab and paste</li>\n<li>tamper the data and hit Enter</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/uZjZb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uZjZb.png\" alt=\"steps 1-4\"></a><a href=\"https://i.stack.imgur.com/6fRzL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6fRzL.png\" alt=\"steps 5-6\"></a></p>\n"},{"comments":[{"owner":{"account_id":8080680,"reputation":1844,"user_id":6242649,"display_name":"Udayraj Deshmukh"},"score":0,"creation_date":1701865906,"post_id":76773731,"comment_id":136827540,"body_markdown":"Unfortunately this way works only for GET requests without query param handling","body":"Unfortunately this way works only for GET requests without query param handling"}],"tags":[],"owner":{"account_id":19078206,"reputation":35,"user_id":13931027,"display_name":"Gabriel Petersen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690392539,"creation_date":1690392539,"answer_id":76773731,"question_id":22931720,"body_markdown":"I am not sure if this solves your specific problem, but you can use Chrome Overrides to override file contents and response headers for web requests. \r\nThis documentation https://developer.chrome.com/docs/devtools/overrides/ has been very handy for me when I want to modify a request in a remote environment.","title":"Is there a way to modify an HTTP request in Chrome or Firefox?","body":"<p>I am not sure if this solves your specific problem, but you can use Chrome Overrides to override file contents and response headers for web requests.\nThis documentation <a href=\"https://developer.chrome.com/docs/devtools/overrides/\" rel=\"nofollow noreferrer\">https://developer.chrome.com/docs/devtools/overrides/</a> has been very handy for me when I want to modify a request in a remote environment.</p>\n"}],"owner":{"account_id":303117,"reputation":2259,"user_id":611874,"accept_rate":57,"display_name":"J. Lin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109390,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":3,"score":43,"last_activity_date":1690392539,"creation_date":1396946087,"question_id":22931720,"body_markdown":"Is there a way to modify an HTTP request using Chrome dev tools or Firebug? For example when developing locally and testing in Chrome, I have a page that needs an HTTP request to fill some data. Because it&#39;s local, that service isn&#39;t available.\r\n\r\nCurrently the only way of getting around the problem is configuring a proxy pass in Apache so it hits a QA environment for that call. I&#39;m looking or a simpler way to achieve this because I use Jetty to test the app and can&#39;t configure a proxy pass (or that I know of).\r\n\r\nIn other words, is there a way to create a temporary proxy pass for the current session when testing an app locally?","title":"Is there a way to modify an HTTP request in Chrome or Firefox?","body":"<p>Is there a way to modify an HTTP request using Chrome dev tools or Firebug? For example when developing locally and testing in Chrome, I have a page that needs an HTTP request to fill some data. Because it's local, that service isn't available.</p>\n\n<p>Currently the only way of getting around the problem is configuring a proxy pass in Apache so it hits a QA environment for that call. I'm looking or a simpler way to achieve this because I use Jetty to test the app and can't configure a proxy pass (or that I know of).</p>\n\n<p>In other words, is there a way to create a temporary proxy pass for the current session when testing an app locally?</p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1688496394,"post_id":76615130,"comment_id":135080842,"body_markdown":"Atlas or self-managed cluster? If the former then that&#39;s what Atlas Search is for. If the latter then regex is the simplest but very slow, manual tokenization could be an option but is more difficult to implement","body":"Atlas or self-managed cluster? If the former then that&#39;s what Atlas Search is for. If the latter then regex is the simplest but very slow, manual tokenization could be an option but is more difficult to implement"}],"answers":[{"tags":[],"owner":{"account_id":26348958,"reputation":16,"user_id":20006878,"display_name":"java-enthusiast"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690392235,"creation_date":1690392235,"answer_id":76773688,"question_id":76615130,"body_markdown":"Atlas Search is likely what you are looking for, specifically support for Partial Match queries.\r\n\r\nhttps://www.mongodb.com/docs/atlas/atlas-search/tutorial/partial-match/.\r\n\r\nThe Spring Data MongoDB documentation also include a code snippet to get started with Atlas Search. Check out the &quot;Tip&quot; section of this page:\r\n\r\nhttps://docs.spring.io/spring-data/mongodb/docs/4.0.0-RC1/reference/html/#mongo.aggregation.supported-aggregation-operations\r\n","title":"Partial Search Spring MongoDB","body":"<p>Atlas Search is likely what you are looking for, specifically support for Partial Match queries.</p>\n<p><a href=\"https://www.mongodb.com/docs/atlas/atlas-search/tutorial/partial-match/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/atlas/atlas-search/tutorial/partial-match/</a>.</p>\n<p>The Spring Data MongoDB documentation also include a code snippet to get started with Atlas Search. Check out the &quot;Tip&quot; section of this page:</p>\n<p><a href=\"https://docs.spring.io/spring-data/mongodb/docs/4.0.0-RC1/reference/html/#mongo.aggregation.supported-aggregation-operations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/mongodb/docs/4.0.0-RC1/reference/html/#mongo.aggregation.supported-aggregation-operations</a></p>\n"}],"owner":{"account_id":25820091,"reputation":23,"user_id":19559359,"display_name":"Adam Howard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76773688,"answer_count":1,"score":0,"last_activity_date":1690392235,"creation_date":1688495673,"question_id":76615130,"body_markdown":"Mongo provides a text search feature. It returns a match if a whole word is found. I want to search for a partial word to provide a predictive search. I am saving full queries in my mongodb. \r\n\r\nFor example, tesla model 3 might be a full-text query, tesla model x might be another. when the user enters tesla, i want to return a list of queries relating to the search.\r\n\r\ne.g. the user enters tesla, I want to return tesla model 3 and tesla model x as predictions. \r\n\r\nI am using Spring Framework for Java. Spring Data MongoDB. \r\n\r\nStill trying to figure out how to approach this, so no code yet.","title":"Partial Search Spring MongoDB","body":"<p>Mongo provides a text search feature. It returns a match if a whole word is found. I want to search for a partial word to provide a predictive search. I am saving full queries in my mongodb.</p>\n<p>For example, tesla model 3 might be a full-text query, tesla model x might be another. when the user enters tesla, i want to return a list of queries relating to the search.</p>\n<p>e.g. the user enters tesla, I want to return tesla model 3 and tesla model x as predictions.</p>\n<p>I am using Spring Framework for Java. Spring Data MongoDB.</p>\n<p>Still trying to figure out how to approach this, so no code yet.</p>\n"},{"tags":["java","android","syntax-error"],"comments":[{"owner":{"account_id":1538832,"reputation":2242,"user_id":1434031,"accept_rate":29,"display_name":"Akhi"},"score":1,"creation_date":1342362124,"post_id":11492657,"comment_id":15180349,"body_markdown":"am not getting it.. can u just refresh the project.","body":"am not getting it.. can u just refresh the project."},{"owner":{"account_id":1458995,"reputation":32657,"user_id":1373822,"accept_rate":72,"display_name":"Amyth"},"score":0,"creation_date":1342362482,"post_id":11492657,"comment_id":15180431,"body_markdown":"Refreshed it a couple of times, Restarted Eclipse but no luck ..","body":"Refreshed it a couple of times, Restarted Eclipse but no luck .."}],"answers":[{"comments":[{"owner":{"account_id":1458995,"reputation":32657,"user_id":1373822,"accept_rate":72,"display_name":"Amyth"},"score":0,"creation_date":1342362800,"post_id":11492677,"comment_id":15180489,"body_markdown":"Thanks for your response, Unfortunately using if(isFirstLaunch) also gives me the same error. I have updated the Error Messages.","body":"Thanks for your response, Unfortunately using if(isFirstLaunch) also gives me the same error. I have updated the Error Messages."}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1342362178,"creation_date":1342362178,"answer_id":11492677,"question_id":11492657,"body_markdown":"Try it like this: \r\n\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        SharedPreferences pvtPref = getPreferences(MODE_PRIVATE);\r\n        boolean isFirstLaunch = pvtPref.getBoolean(&quot;isFirstLaunch&quot;, false);\r\n        if (isFirstLaunch) {   // &lt;&lt;&lt;&lt; Syntax Error ?\r\n        // Do Something\r\n        }\r\n    }","title":"Android, Java, Eclipse: Syntax Error on token &quot;if&quot;, ( expected after this token","body":"<p>Try it like this: </p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    SharedPreferences pvtPref = getPreferences(MODE_PRIVATE);\n    boolean isFirstLaunch = pvtPref.getBoolean(\"isFirstLaunch\", false);\n    if (isFirstLaunch) {   // &lt;&lt;&lt;&lt; Syntax Error ?\n    // Do Something\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1458995,"reputation":32657,"user_id":1373822,"accept_rate":72,"display_name":"Amyth"},"score":0,"creation_date":1342362791,"post_id":11492711,"comment_id":15180487,"body_markdown":"Thanks for your response, Unfortunately using if(isFirstLaunch) also gives me the same error. I have updated the Error Messages.","body":"Thanks for your response, Unfortunately using if(isFirstLaunch) also gives me the same error. I have updated the Error Messages."},{"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"score":0,"creation_date":1342363482,"post_id":11492711,"comment_id":15180624,"body_markdown":"I just tried your code in my Android program, it worked with no errors.. I think the problem is outside the onCreate(), are you trying to do some operation outside the onCreate() method, i mean u can only declare variables etc in the class scope, everything else is in method scope..pls check","body":"I just tried your code in my Android program, it worked with no errors.. I think the problem is outside the onCreate(), are you trying to do some operation outside the onCreate() method, i mean u can only declare variables etc in the class scope, everything else is in method scope..pls check"},{"owner":{"account_id":1458995,"reputation":32657,"user_id":1373822,"accept_rate":72,"display_name":"Amyth"},"score":0,"creation_date":1342365506,"post_id":11492711,"comment_id":15181070,"body_markdown":"Dunno what is wrong, i am getting syntax errors for no reason, maybe something&#39;s wrong with eclipse, same code works fine in windows","body":"Dunno what is wrong, i am getting syntax errors for no reason, maybe something&#39;s wrong with eclipse, same code works fine in windows"},{"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"score":0,"creation_date":1342366597,"post_id":11492711,"comment_id":15181267,"body_markdown":"Can you pls paste the entire code over here, so i check it with my eclipse once again...","body":"Can you pls paste the entire code over here, so i check it with my eclipse once again..."}],"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342362521,"creation_date":1342362521,"answer_id":11492711,"question_id":11492657,"body_markdown":"Try this...\r\n\r\n1. First see that you have declared isFirstLaunch as boolean, if you have it should work.\r\n\r\n2. No need to use `isFirstLaunch == true`\r\n\r\n    \r\n\r\n   ` if(isFirstLaunch) `\r\n\r\n \r\n\r\n    \r\n    \r\n\r\n","title":"Android, Java, Eclipse: Syntax Error on token &quot;if&quot;, ( expected after this token","body":"<p>Try this...</p>\n\n<ol>\n<li><p>First see that you have declared isFirstLaunch as boolean, if you have it should work.</p></li>\n<li><p>No need to use <code>isFirstLaunch == true</code></p>\n\n<p><code>if(isFirstLaunch)</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":360296,"reputation":5356,"user_id":702229,"accept_rate":50,"display_name":"NitroG42"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342362770,"creation_date":1342362770,"answer_id":11492742,"question_id":11492657,"body_markdown":"You are getting a Boolean instead of a boolean. So you should use either :\r\n\r\n    Boolean isFirstLaunch = pvtPref.getBoolean(&quot;isFirstLaunch&quot;, false);\r\n    if (isFirstLaunch.booleanValue()) {   \r\n    }\r\n\r\nor :\r\n\r\n    boolean isFirstLaunch = pvtPref.getBoolean(&quot;isFirstLaunch&quot;, false);\r\n    if (isFirstLaunch) {   \r\n    }\r\n\r\nAnd try to click on the error icon on the left, and choose &quot;Clear all lint marker&quot; (if it&#39;s there).","title":"Android, Java, Eclipse: Syntax Error on token &quot;if&quot;, ( expected after this token","body":"<p>You are getting a Boolean instead of a boolean. So you should use either :</p>\n\n<pre><code>Boolean isFirstLaunch = pvtPref.getBoolean(\"isFirstLaunch\", false);\nif (isFirstLaunch.booleanValue()) {   \n}\n</code></pre>\n\n<p>or :</p>\n\n<pre><code>boolean isFirstLaunch = pvtPref.getBoolean(\"isFirstLaunch\", false);\nif (isFirstLaunch) {   \n}\n</code></pre>\n\n<p>And try to click on the error icon on the left, and choose \"Clear all lint marker\" (if it's there).</p>\n"},{"tags":[],"owner":{"account_id":26552876,"reputation":31,"user_id":20181931,"display_name":"Subhajit Khasnobish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690392164,"creation_date":1690093554,"answer_id":76746886,"question_id":11492657,"body_markdown":"This is the error that you get if you donâ€™t have a Boolean value in the `if` condition or if you are comparing some different types, like `(&quot;java&quot; &gt; 0)`. ","title":"Android, Java, Eclipse: Syntax Error on token &quot;if&quot;, ( expected after this token","body":"<p>This is the error that you get if you donâ€™t have a Boolean value in the <code>if</code> condition or if you are comparing some different types, like <code>(&quot;java&quot; &gt; 0)</code>.</p>\n"}],"owner":{"account_id":1458995,"reputation":32657,"user_id":1373822,"accept_rate":72,"display_name":"Amyth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5486,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":11492677,"answer_count":4,"score":-1,"last_activity_date":1690392164,"creation_date":1342361972,"question_id":11492657,"body_markdown":"Why do i get the following Syntax error ?\r\n\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        SharedPreferences pvtPref = getPreferences(MODE_PRIVATE);\r\n        Boolean isFirstLaunch = pvtPref.getBoolean(&quot;isFirstLaunch&quot;, false);\r\n        if (isFirstLaunch == true) {   // &lt;&lt;&lt;&lt; Syntax Error ?\r\n        // Do Something\r\n        }\r\n    }\r\n\r\nError:\r\n\r\n    Multiple Markers at this line\r\n    -Syntax error on token &quot;if&quot;, ( expected after this token\r\n    -Line breakpoint:LaunchEngine[line:30] - onCreate(Bundle)","title":"Android, Java, Eclipse: Syntax Error on token &quot;if&quot;, ( expected after this token","body":"<p>Why do i get the following Syntax error ?</p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    SharedPreferences pvtPref = getPreferences(MODE_PRIVATE);\n    Boolean isFirstLaunch = pvtPref.getBoolean(\"isFirstLaunch\", false);\n    if (isFirstLaunch == true) {   // &lt;&lt;&lt;&lt; Syntax Error ?\n    // Do Something\n    }\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Multiple Markers at this line\n-Syntax error on token \"if\", ( expected after this token\n-Line breakpoint:LaunchEngine[line:30] - onCreate(Bundle)\n</code></pre>\n"},{"tags":["java","python","spring"],"answers":[{"comments":[{"owner":{"account_id":18479864,"reputation":349,"user_id":13462325,"display_name":"Prashant S"},"score":0,"creation_date":1627386013,"post_id":66040380,"comment_id":121137226,"body_markdown":"Yes this solves the problem. Does any one know how to use auto refresh in Python - meaning if properties are updated in SCC server how python program can fetch automatically? Is there any scheduler?","body":"Yes this solves the problem. Does any one know how to use auto refresh in Python - meaning if properties are updated in SCC server how python program can fetch automatically? Is there any scheduler?"}],"tags":[],"owner":{"account_id":17234238,"reputation":51,"user_id":12478046,"display_name":"Asad Javed"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690392010,"creation_date":1612420097,"answer_id":66040380,"question_id":54449911,"body_markdown":"In my case I have achieved this using `spring-config-client` library. I am sharing the code sample.  \r\n \r\n    from spring_config.client import SpringConfigClient\r\n    from spring_config import ClientConfigurationBuilder\r\n    \r\n    config = (\r\n        ClientConfigurationBuilder()\r\n        .app_name(&quot;dashboard-service-python11&quot;) #config file\r\n        .address(&quot;http://localhost:3051&quot;)\r\n        .build()\r\n    )\r\n    \r\n    c = SpringConfigClient(config)\r\n    c.get_config()\r\n    print(c.get_config())","title":"Access config properties with Python from Java Spring Cloud Config Server","body":"<p>In my case I have achieved this using <code>spring-config-client</code> library. I am sharing the code sample.</p>\n<pre><code>from spring_config.client import SpringConfigClient\nfrom spring_config import ClientConfigurationBuilder\n\nconfig = (\n    ClientConfigurationBuilder()\n    .app_name(&quot;dashboard-service-python11&quot;) #config file\n    .address(&quot;http://localhost:3051&quot;)\n    .build()\n)\n\nc = SpringConfigClient(config)\nc.get_config()\nprint(c.get_config())\n</code></pre>\n"}],"owner":{"account_id":15234713,"reputation":51,"user_id":10992732,"display_name":"Eduardo Rios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2319,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1690392010,"creation_date":1548884140,"question_id":54449911,"body_markdown":"I have a repository containing config properties that a Java Spring Cloud Config Server accesses whenever another Java Spring App requests to pull the properties. I want to have the same concept, but with a Python app that pulls similar properties. I know there&#39;s Python Spring libraries out there, but I can&#39;t find an example of Python pulling these properties from a similar config server.\r\n","title":"Access config properties with Python from Java Spring Cloud Config Server","body":"<p>I have a repository containing config properties that a Java Spring Cloud Config Server accesses whenever another Java Spring App requests to pull the properties. I want to have the same concept, but with a Python app that pulls similar properties. I know there's Python Spring libraries out there, but I can't find an example of Python pulling these properties from a similar config server.</p>\n"},{"tags":["java","arrays","recursion","permutation"],"owner":{"account_id":29069181,"reputation":1,"user_id":22267985,"display_name":"Ajay Balamurugan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690391999,"creation_date":1690027771,"question_id":76743704,"body_markdown":"A permutation of an array of integers is an arrangement of its members into a sequence or linear order.\r\n\r\nFor example, for arr = [1,2,3], the following are all the permutations of arr: [1,2,3], [1,3,2], [2, 1, 3], [2, 3, 1], **[3,1,2], [3,2,1]**.\r\n\r\nFor the array {1,2,3}\r\n\r\nMy code is giving the output as: [1,2,3], [1,3,2], [2, 1, 3], [2, 3, 1], **[3,2,1], [3,1,2].**\r\n\r\nThe correct output is: [1,2,3], [1,3,2], [2, 1, 3], [2, 3, 1], **[3,1,2], [3,2,1]**.\r\n\r\nThe last two permutations are not in the right order. Where am I going wrong with my code? I have used Java to write the code.\r\n\r\nI have been trying to figure it out for hours, but I did not succeed.\r\n\r\n```\r\nimport java.util.*;\r\nclass Solution {\r\n    public void nextPermutation(int[] nums)\r\n    {\r\n        List&lt;List&lt;Integer&gt;&gt; permutations = new ArrayList&lt;&gt;();\r\n        Arrays.sort(nums);\r\n        generate(nums,0,permutations);\r\n        System.out.println(permutations);\r\n    }\r\n    public void generate(int nums[],int index ,List&lt;List&lt;Integer&gt;&gt; permutations)\r\n    {\r\n        if(index==nums.length-1)\r\n        {\r\n            List&lt;Integer&gt; permutation = new ArrayList&lt;&gt;();\r\n            for(int i=0;i&lt;nums.length;i++)\r\n            {\r\n                permutation.add(nums[i]);\r\n            }\r\n            permutations.add(permutation);\r\n            return;\r\n        }\r\n        for(int i=index;i&lt;nums.length;i++)\r\n        {\r\n            swap(nums,index,i);\r\n            generate(nums,index+1,permutations);\r\n            swap(nums,index,i);\r\n        }\r\n    }\r\n    public void swap(int[] nums,int i,int j)\r\n    {\r\n        int t = nums[i];\r\n        nums[i] = nums[j];\r\n        nums[j] = t;\r\n    }\r\n}\r\n```\r\n\r\n","title":"All possible permutations of an array is not in the right order","body":"<p>A permutation of an array of integers is an arrangement of its members into a sequence or linear order.</p>\n<p>For example, for arr = [1,2,3], the following are all the permutations of arr: [1,2,3], [1,3,2], [2, 1, 3], [2, 3, 1], <strong>[3,1,2], [3,2,1]</strong>.</p>\n<p>For the array {1,2,3}</p>\n<p>My code is giving the output as: [1,2,3], [1,3,2], [2, 1, 3], [2, 3, 1], <strong>[3,2,1], [3,1,2].</strong></p>\n<p>The correct output is: [1,2,3], [1,3,2], [2, 1, 3], [2, 3, 1], <strong>[3,1,2], [3,2,1]</strong>.</p>\n<p>The last two permutations are not in the right order. Where am I going wrong with my code? I have used Java to write the code.</p>\n<p>I have been trying to figure it out for hours, but I did not succeed.</p>\n<pre><code>import java.util.*;\nclass Solution {\n    public void nextPermutation(int[] nums)\n    {\n        List&lt;List&lt;Integer&gt;&gt; permutations = new ArrayList&lt;&gt;();\n        Arrays.sort(nums);\n        generate(nums,0,permutations);\n        System.out.println(permutations);\n    }\n    public void generate(int nums[],int index ,List&lt;List&lt;Integer&gt;&gt; permutations)\n    {\n        if(index==nums.length-1)\n        {\n            List&lt;Integer&gt; permutation = new ArrayList&lt;&gt;();\n            for(int i=0;i&lt;nums.length;i++)\n            {\n                permutation.add(nums[i]);\n            }\n            permutations.add(permutation);\n            return;\n        }\n        for(int i=index;i&lt;nums.length;i++)\n        {\n            swap(nums,index,i);\n            generate(nums,index+1,permutations);\n            swap(nums,index,i);\n        }\n    }\n    public void swap(int[] nums,int i,int j)\n    {\n        int t = nums[i];\n        nums[i] = nums[j];\n        nums[j] = t;\n    }\n}\n</code></pre>\n"},{"tags":["java","cobol","copybook","jrecord"],"comments":[{"owner":{"account_id":6494427,"reputation":6518,"user_id":5027456,"accept_rate":70,"display_name":"Simon Sobisch"},"score":2,"creation_date":1690273627,"post_id":76760595,"comment_id":135326620,"body_markdown":"Did you have a look at the documentation? https://jrecord.sourceforge.net/JRecord04.html#Header_10 If this allows you to solve the problem: please answer your own question and accept it as &quot;works for me&quot;, outlining where the issue was.","body":"Did you have a look at the documentation? <a href=\"https://jrecord.sourceforge.net/JRecord04.html#Header_10\" rel=\"nofollow noreferrer\">jrecord.sourceforge.net/JRecord04.html#Header_10</a> If this allows you to solve the problem: please answer your own question and accept it as &quot;works for me&quot;, outlining where the issue was."}],"answers":[{"tags":[],"owner":{"account_id":16609877,"reputation":97,"user_id":12003236,"display_name":"Mathamagic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690391901,"creation_date":1690391901,"answer_id":76773644,"question_id":76760595,"body_markdown":"From the bugs section in the JRecord source forge, it was infered that cb2xml is to be added as a dependency separately sometime between 0.80.5 and 0.81.5 . On adding it I was able to parse the copybook correctly. ","title":"Reading/parsing a copybook in text format using JRecord, the builder seems to think it&#39;s an XML file","body":"<p>From the bugs section in the JRecord source forge, it was infered that cb2xml is to be added as a dependency separately sometime between 0.80.5 and 0.81.5 . On adding it I was able to parse the copybook correctly.</p>\n"}],"owner":{"account_id":16609877,"reputation":97,"user_id":12003236,"display_name":"Mathamagic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690391901,"creation_date":1690272070,"question_id":76760595,"body_markdown":"I&#39;m trying to read,parse a copybook in .txt format using [JRecord][1] and then process a binary file using the copybook schema.\r\n\r\nWhen I try to read the binary file using `schemaBuilder.newReader(binaryFile)`, it gives me an exception saying :-\r\n\r\n    CopybookFile.txt:1:1:net.sf.JRecord.Common.RecordException : Content is not allowed in prolog.\r\n\r\nThe nested exception seems to be a SAXParseException with the same message.\r\n\r\nI notice that while using the IOBUilder with the copybook file, the loader seems to be an XMlCopyBookLoader and not a cobol file loader. **How do I make the IOBuilder recognise that I&#39;m trying to parse a txt/cbl file?**\r\n\r\nMinimal sample below :\r\n\r\n    ICobolIOBuilder schemaBuilder = JRecordInterface1.COBOL.newIOBuilder(copyBookFilePathWithDotTxt).setDialect(1).setFont(&quot;cp037&quot;).setDropCopyBookNameFromFields(true); // using the debugger, I see that schemaBuilder.loader is an  XMLCopyBookLoader and schemaBuilder is of type CblIOBuilderMultiSchema\r\n    try { \r\n    AbstractLineReader reader = schemaBuilder.newReader(binaryFilePath);\r\n    } catch(Exception e) { e.printStackTrace(); }\r\n\r\nI have tried using the same file with .cbl extension as well. I also know that it&#39;s able to read the file because if I put xml content in there it seems to atleast move till the first invalid character. i.e line after XML.\r\n\r\njava version - 8\r\n\r\nJRecord version 0.81.5\r\n\r\n\r\n  [1]: https://jrecord.sourceforge.net/\r\n\r\n","title":"Reading/parsing a copybook in text format using JRecord, the builder seems to think it&#39;s an XML file","body":"<p>I'm trying to read,parse a copybook in .txt format using <a href=\"https://jrecord.sourceforge.net/\" rel=\"nofollow noreferrer\">JRecord</a> and then process a binary file using the copybook schema.</p>\n<p>When I try to read the binary file using <code>schemaBuilder.newReader(binaryFile)</code>, it gives me an exception saying :-</p>\n<pre><code>CopybookFile.txt:1:1:net.sf.JRecord.Common.RecordException : Content is not allowed in prolog.\n</code></pre>\n<p>The nested exception seems to be a SAXParseException with the same message.</p>\n<p>I notice that while using the IOBUilder with the copybook file, the loader seems to be an XMlCopyBookLoader and not a cobol file loader. <strong>How do I make the IOBuilder recognise that I'm trying to parse a txt/cbl file?</strong></p>\n<p>Minimal sample below :</p>\n<pre><code>ICobolIOBuilder schemaBuilder = JRecordInterface1.COBOL.newIOBuilder(copyBookFilePathWithDotTxt).setDialect(1).setFont(&quot;cp037&quot;).setDropCopyBookNameFromFields(true); // using the debugger, I see that schemaBuilder.loader is an  XMLCopyBookLoader and schemaBuilder is of type CblIOBuilderMultiSchema\ntry { \nAbstractLineReader reader = schemaBuilder.newReader(binaryFilePath);\n} catch(Exception e) { e.printStackTrace(); }\n</code></pre>\n<p>I have tried using the same file with .cbl extension as well. I also know that it's able to read the file because if I put xml content in there it seems to atleast move till the first invalid character. i.e line after XML.</p>\n<p>java version - 8</p>\n<p>JRecord version 0.81.5</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1420614272,"post_id":27814063,"comment_id":44035002,"body_markdown":"The input string always starts and ends with `$$`?","body":"The input string always starts and ends with <code>$$</code>?"},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1420615537,"post_id":27814063,"comment_id":44035444,"body_markdown":"Putting things in square brackets seems to be a common mistake.  I don&#39;t really know why.  Square brackets in a regex mean &quot;match **one** character, if the character is one of the characters listed inside the square brackets&quot;.  So the pattern `[\\\\$\\\\$]` will match a single `$`, not the two-character `$$` sequence.","body":"Putting things in square brackets seems to be a common mistake.  I don&#39;t really know why.  Square brackets in a regex mean &quot;match <b>one</b> character, if the character is one of the characters listed inside the square brackets&quot;.  So the pattern <code>[\\\\$\\\\$]</code> will match a single <code>$</code>, not the two-character <code>$$</code> sequence."}],"answers":[{"comments":[{"owner":{"account_id":4744535,"reputation":27,"user_id":3836204,"accept_rate":100,"display_name":"lostcoderx"},"score":0,"creation_date":1420614728,"post_id":27814091,"comment_id":44035161,"body_markdown":"Great Tool! Your pattern satisfies most of the cases except this one : $$xyz$$$ This should be accepted.","body":"Great Tool! Your pattern satisfies most of the cases except this one : $$xyz$$$ This should be accepted."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1420615213,"post_id":27814091,"comment_id":44035343,"body_markdown":"You were 15 seconds faster +1","body":"You were 15 seconds faster +1"},{"owner":{"account_id":4744535,"reputation":27,"user_id":3836204,"accept_rate":100,"display_name":"lostcoderx"},"score":0,"creation_date":1420615489,"post_id":27814091,"comment_id":44035428,"body_markdown":"@anubhava the one you provided was failing for $$xyz$$$ as well. but thanks","body":"@anubhava the one you provided was failing for $$xyz$$$ as well. but thanks"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1420615664,"post_id":27814091,"comment_id":44035494,"body_markdown":"Hmm may be you just needed: `^\\\\${2}[^$]*\\\\${2}$&quot;`","body":"Hmm may be you just needed: <code>^\\\\${2}[^$]*\\\\${2}$&quot;</code>"}],"tags":[],"owner":{"account_id":4528276,"reputation":67286,"user_id":3679490,"accept_rate":81,"display_name":"vks"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690391708,"creation_date":1420614269,"answer_id":27814091,"question_id":27814063,"body_markdown":"    ^\\\\$\\\\$(?:(?!\\\\$\\\\$).)*\\\\$\\\\$$\r\n\r\nJust add anchors and a negative lookahead to make sure `$$` is not in middle.\r\n\r\nSee demo.\r\n\r\nhttps://regex101.com/r/sH8aR8/8\r\n\r\nThe problem with your regex was `[\\\\$\\\\$]` will accept `$` only one time as it is inside character class and without `^` and `$` it will not be strict with boundaries. Also `.*` will accept anything that is why your second `$` was getting accepted.\r\n\r\n`(?:(?!\\\\$\\\\$).)*` makes sure `$$` does not occur in between.\r\n\r\nEdit\r\n---\r\n\r\nIf count of `$` is not fixed use \r\n\r\n    ^\\\\$+(?:(?!\\\\$).)*\\\\$+$\r\n","title":"Java Regex to accept anything within qualifier","body":"<pre><code>^\\\\$\\\\$(?:(?!\\\\$\\\\$).)*\\\\$\\\\$$\n</code></pre>\n<p>Just add anchors and a negative lookahead to make sure <code>$$</code> is not in middle.</p>\n<p>See demo.</p>\n<p><a href=\"https://regex101.com/r/sH8aR8/8\" rel=\"nofollow noreferrer\">https://regex101.com/r/sH8aR8/8</a></p>\n<p>The problem with your regex was <code>[\\\\$\\\\$]</code> will accept <code>$</code> only one time as it is inside character class and without <code>^</code> and <code>$</code> it will not be strict with boundaries. Also <code>.*</code> will accept anything that is why your second <code>$</code> was getting accepted.</p>\n<p><code>(?:(?!\\\\$\\\\$).)*</code> makes sure <code>$$</code> does not occur in between.</p>\n<h2>Edit</h2>\n<p>If count of <code>$</code> is not fixed use</p>\n<pre><code>^\\\\$+(?:(?!\\\\$).)*\\\\$+$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420615747,"creation_date":1420615747,"answer_id":27814424,"question_id":27814063,"body_markdown":"Another way of looking at it is there are not 2 &quot;$$&quot; after the first $$:\r\n\r\n    ^\\\\$\\\\$(?!(.*?\\\\$\\\\$){2}).*\\\\$\\\\$$\r\n","title":"Java Regex to accept anything within qualifier","body":"<p>Another way of looking at it is there are not 2 \"$$\" after the first $$:</p>\n\n<pre><code>^\\\\$\\\\$(?!(.*?\\\\$\\\\$){2}).*\\\\$\\\\$$\n</code></pre>\n"}],"owner":{"account_id":4744535,"reputation":27,"user_id":3836204,"accept_rate":100,"display_name":"lostcoderx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27814091,"answer_count":2,"score":1,"last_activity_date":1690391708,"creation_date":1420614141,"question_id":27814063,"body_markdown":"I need a bit tricky java regex pattern to achieve the following.\r\n\r\nAccept anything wihtin the qualifier say &quot;$$&quot; Something like below does most of the job:\r\n\r\n\tPattern rc = Pattern.compile(&quot;[\\\\$\\\\$].*[\\\\$\\\\$]&quot;);\r\n\r\nThis will accept strings like : `&quot;$$ANYTHING$$&quot;` , `&quot;$$A$@#$@NYTHING!!!$$&quot;` etc.\r\n\r\nHowever I want to prohibit : `$$abc$$xyz$$` as it contains `&quot;$$&quot;` in the middle! Please tell me a way to achieve this. Also `$$$$xyz$$` and `$$xyz$$$$` should be rejected\r\n","title":"Java Regex to accept anything within qualifier","body":"<p>I need a bit tricky java regex pattern to achieve the following.</p>\n\n<p>Accept anything wihtin the qualifier say \"$$\" Something like below does most of the job:</p>\n\n<pre><code>Pattern rc = Pattern.compile(\"[\\\\$\\\\$].*[\\\\$\\\\$]\");\n</code></pre>\n\n<p>This will accept strings like : <code>\"$$ANYTHING$$\"</code> , <code>\"$$A$@#$@NYTHING!!!$$\"</code> etc.</p>\n\n<p>However I want to prohibit : <code>$$abc$$xyz$$</code> as it contains <code>\"$$\"</code> in the middle! Please tell me a way to achieve this. Also <code>$$$$xyz$$</code> and <code>$$xyz$$$$</code> should be rejected</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1654122682,"post_id":72468682,"comment_id":128019393,"body_markdown":"Look into `@ParameterizedTest`","body":"Look into <code>@ParameterizedTest</code>"}],"answers":[{"tags":[],"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654123511,"creation_date":1654122800,"answer_id":72468712,"question_id":72468682,"body_markdown":"[@ParameterizedTest][2] is meant for this. A separate annotation is used with it to provide the data. [Here is the official guide to using it.][3] Here are some examples of how to use it:\r\n\r\n## Value source\r\n\r\n```java\r\n@ParameterizedTest\r\n@ValueSource(strings = { &quot;racecar&quot;, &quot;radar&quot;, &quot;able was I ere I saw elba&quot; })\r\nvoid palindromes(String candidate) {\r\n    assertTrue(StringUtils.isPalindrome(candidate));\r\n}\r\n\r\n```\r\n\r\n## Enum source\r\n\r\n```java\r\n\r\n\r\n@ParameterizedTest\r\n@EnumSource\r\nvoid testWithEnumSourceWithAutoDetection(ChronoUnit unit) {\r\n    assertNotNull(unit);\r\n}\r\n\r\n```\r\n## Method source\r\n```java\r\n@ParameterizedTest\r\n@MethodSource(&quot;stringProvider&quot;)\r\nvoid testWithExplicitLocalMethodSource(String argument) {\r\n    assertNotNull(argument);\r\n}\r\n\r\nstatic Stream&lt;String&gt; stringProvider() {\r\n    return Stream.of(&quot;apple&quot;, &quot;banana&quot;);\r\n}\r\n\r\n```\r\n## Cvs source\r\n```java\r\n@ParameterizedTest\r\n@CsvSource({\r\n    &quot;apple,         1&quot;,\r\n    &quot;banana,        2&quot;,\r\n    &quot;&#39;lemon, lime&#39;, 0xF1&quot;,\r\n    &quot;strawberry,    700_000&quot;\r\n})\r\nvoid testWithCsvSource(String fruit, int rank) {\r\n    assertNotNull(fruit);\r\n    assertNotEquals(0, rank);\r\n}\r\n\r\n```\r\n## Cvs File source\r\n```java\r\n\r\n\r\n@ParameterizedTest\r\n@CsvFileSource(resources = &quot;/two-column.csv&quot;, numLinesToSkip = 1)\r\nvoid testWithCsvFileSourceFromClasspath(String country, int reference) {\r\n    assertNotNull(country);\r\n    assertNotEquals(0, reference);\r\n}\r\n\r\n```\r\n## Arguments source\r\n```java\r\n\r\n@ParameterizedTest\r\n@ArgumentsSource(MyArgumentsProvider.class)\r\nvoid testWithArgumentsSource(String argument) {\r\n    assertNotNull(argument);\r\n}\r\n\r\npublic class MyArgumentsProvider implements ArgumentsProvider {\r\n\r\n    @Override\r\n    public Stream&lt;? extends Arguments&gt; provideArguments(ExtensionContext context) {\r\n        return Stream.of(&quot;apple&quot;, &quot;banana&quot;).map(Arguments::of);\r\n    }\r\n}\r\n\r\n```\r\n\r\nGiven your question, `@ValueSource` seems like the closest match to how you want to write it.\r\n\r\n\r\n\r\n  [1]: https://junit.org/junit4/javadoc/4.12/org/junit/runners/Parameterized.html\r\n  [2]: https://junit.org/junit5/docs/5.8.1/api/org.junit.jupiter.params/org/junit/jupiter/params/ParameterizedTest.html\r\n  [3]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests","title":"How can I test for multiple cases using Junit?","body":"<p><a href=\"https://junit.org/junit5/docs/5.8.1/api/org.junit.jupiter.params/org/junit/jupiter/params/ParameterizedTest.html\" rel=\"nofollow noreferrer\">@ParameterizedTest</a> is meant for this. A separate annotation is used with it to provide the data. <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\" rel=\"nofollow noreferrer\">Here is the official guide to using it.</a> Here are some examples of how to use it:</p>\n<h2>Value source</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@ValueSource(strings = { &quot;racecar&quot;, &quot;radar&quot;, &quot;able was I ere I saw elba&quot; })\nvoid palindromes(String candidate) {\n    assertTrue(StringUtils.isPalindrome(candidate));\n}\n\n</code></pre>\n<h2>Enum source</h2>\n<pre class=\"lang-java prettyprint-override\"><code>\n\n@ParameterizedTest\n@EnumSource\nvoid testWithEnumSourceWithAutoDetection(ChronoUnit unit) {\n    assertNotNull(unit);\n}\n\n</code></pre>\n<h2>Method source</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@MethodSource(&quot;stringProvider&quot;)\nvoid testWithExplicitLocalMethodSource(String argument) {\n    assertNotNull(argument);\n}\n\nstatic Stream&lt;String&gt; stringProvider() {\n    return Stream.of(&quot;apple&quot;, &quot;banana&quot;);\n}\n\n</code></pre>\n<h2>Cvs source</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@CsvSource({\n    &quot;apple,         1&quot;,\n    &quot;banana,        2&quot;,\n    &quot;'lemon, lime', 0xF1&quot;,\n    &quot;strawberry,    700_000&quot;\n})\nvoid testWithCsvSource(String fruit, int rank) {\n    assertNotNull(fruit);\n    assertNotEquals(0, rank);\n}\n\n</code></pre>\n<h2>Cvs File source</h2>\n<pre class=\"lang-java prettyprint-override\"><code>\n\n@ParameterizedTest\n@CsvFileSource(resources = &quot;/two-column.csv&quot;, numLinesToSkip = 1)\nvoid testWithCsvFileSourceFromClasspath(String country, int reference) {\n    assertNotNull(country);\n    assertNotEquals(0, reference);\n}\n\n</code></pre>\n<h2>Arguments source</h2>\n<pre class=\"lang-java prettyprint-override\"><code>\n@ParameterizedTest\n@ArgumentsSource(MyArgumentsProvider.class)\nvoid testWithArgumentsSource(String argument) {\n    assertNotNull(argument);\n}\n\npublic class MyArgumentsProvider implements ArgumentsProvider {\n\n    @Override\n    public Stream&lt;? extends Arguments&gt; provideArguments(ExtensionContext context) {\n        return Stream.of(&quot;apple&quot;, &quot;banana&quot;).map(Arguments::of);\n    }\n}\n\n</code></pre>\n<p>Given your question, <code>@ValueSource</code> seems like the closest match to how you want to write it.</p>\n"},{"tags":[],"owner":{"account_id":20770313,"reputation":592,"user_id":15342125,"display_name":"Paul Bradbury"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690391622,"creation_date":1690391622,"answer_id":76773612,"question_id":72468682,"body_markdown":"Lets - we are solving the Leetcode TwoSum, and writing two tests under single `@Test` annotation\r\n\r\nJunit Test\r\n\r\n````java\r\nint[] nums = {2, 7, 11, 5};\r\n\r\n//second array\r\nint[] second_nums = {4, 5, 7, 9, 11};\r\n\r\n@Test\r\nvoid twoSum(){\r\n TwoSum twosum = new TwoSum();\r\n assertArrayEquals(new int[]{2, 7}, twosum.twoSum(nums, 9));\r\n\r\n//second test\r\nTwoSum twosum_second = new TwoSum();\r\nassertArrayEquals(new int[]{5, 9}, twosum_second.twoSum(second_nums, 14));\r\n\r\n}\r\n\r\n\r\n````\r\nThe class with logic\r\n````java\r\n\r\npublic class TwoSum(){\r\n public int[] twoSum(int[] nums, int target){\r\n //logic\r\n }\r\n}\r\n\r\n````","title":"How can I test for multiple cases using Junit?","body":"<p>Lets - we are solving the Leetcode TwoSum, and writing two tests under single <code>@Test</code> annotation</p>\n<p>Junit Test</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] nums = {2, 7, 11, 5};\n\n//second array\nint[] second_nums = {4, 5, 7, 9, 11};\n\n@Test\nvoid twoSum(){\n TwoSum twosum = new TwoSum();\n assertArrayEquals(new int[]{2, 7}, twosum.twoSum(nums, 9));\n\n//second test\nTwoSum twosum_second = new TwoSum();\nassertArrayEquals(new int[]{5, 9}, twosum_second.twoSum(second_nums, 14));\n\n}\n\n\n</code></pre>\n<p>The class with logic</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class TwoSum(){\n public int[] twoSum(int[] nums, int target){\n //logic\n }\n}\n\n</code></pre>\n"}],"owner":{"account_id":289628,"reputation":8386,"user_id":590719,"accept_rate":95,"display_name":"WEFX"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":869,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690391622,"creation_date":1654122453,"question_id":72468682,"body_markdown":"I&#39;m looking for a way to test multiple scenarios with a single test in Junit, but I&#39;ve not found the proper syntax for this.\r\n\r\nIn other words, I want to write something similar to this Nunit code:\r\n\r\n    [TestCase(3, 2, true)]\r\n    [TestCase(2, 3, true)]\r\n    [TestCase(3, 3, true)]\r\n    public void MyTest(int var1, int var2, bool var3)\r\n    {\r\n        ...\r\n    }\r\n\r\nAny help is appreciated.","title":"How can I test for multiple cases using Junit?","body":"<p>I'm looking for a way to test multiple scenarios with a single test in Junit, but I've not found the proper syntax for this.</p>\n<p>In other words, I want to write something similar to this Nunit code:</p>\n<pre><code>[TestCase(3, 2, true)]\n[TestCase(2, 3, true)]\n[TestCase(3, 3, true)]\npublic void MyTest(int var1, int var2, bool var3)\n{\n    ...\n}\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","while-loop","break"],"comments":[{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1690061663,"post_id":76745839,"comment_id":135301383,"body_markdown":"The find methods are wrong. You&#39;re putting i in smallest when you should be putting list.get(i).","body":"The find methods are wrong. You&#39;re putting i in smallest when you should be putting list.get(i)."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690062832,"creation_date":1690062832,"answer_id":76745918,"question_id":76745839,"body_markdown":"Your `break` is working correctly. The issue is in the implementations of `findSmallest` and `findLargest`. For instance, you have:\r\n\r\n    private static int findSmallest(ArrayList&lt;Integer&gt; list){\r\n        int smallest = list.get(0);\r\n        for (int i=0;i&lt;list.size()-1;i++) {\r\n            if (i&lt;smallest) {\r\n                smallest = i;\r\n            }\r\n        }\r\n        return smallest;\r\n    }\r\n\r\nHere, `i` is the **index**, not the _value_ at that index. Also, your loop&#39;s condition is wrong. It&#39;s already exclusive, since you are using `&lt;`, meaning you should not be subtracting one from the size of the list.\r\n\r\nYou want something like:\r\n\r\n    private static int findSmallest(ArrayList&lt;Integer&gt; list){\r\n        int smallest = list.get(0);\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            if (list.get(i) &lt; smallest) {\r\n                smallest = list.get(i);\r\n            }\r\n        }\r\n        return smallest;\r\n    }\r\n\r\nOr you can use a for-each loop:\r\n\r\n    private static int findSmallest(ArrayList&lt;Integer&gt; list){\r\n        int smallest = list.get(0);\r\n        for (Integer value : list) {\r\n            if (value &lt; smallest) {\r\n                smallest = value;\r\n            }\r\n        }\r\n        return smallest;\r\n    }\r\n\r\nSimilar changes need to be made for `findLargest`.","title":"break statement does not stop executing while loop Immediately in java","body":"<p>Your <code>break</code> is working correctly. The issue is in the implementations of <code>findSmallest</code> and <code>findLargest</code>. For instance, you have:</p>\n<pre><code>private static int findSmallest(ArrayList&lt;Integer&gt; list){\n    int smallest = list.get(0);\n    for (int i=0;i&lt;list.size()-1;i++) {\n        if (i&lt;smallest) {\n            smallest = i;\n        }\n    }\n    return smallest;\n}\n</code></pre>\n<p>Here, <code>i</code> is the <strong>index</strong>, not the <em>value</em> at that index. Also, your loop's condition is wrong. It's already exclusive, since you are using <code>&lt;</code>, meaning you should not be subtracting one from the size of the list.</p>\n<p>You want something like:</p>\n<pre><code>private static int findSmallest(ArrayList&lt;Integer&gt; list){\n    int smallest = list.get(0);\n    for (int i = 0; i &lt; list.size(); i++) {\n        if (list.get(i) &lt; smallest) {\n            smallest = list.get(i);\n        }\n    }\n    return smallest;\n}\n</code></pre>\n<p>Or you can use a for-each loop:</p>\n<pre><code>private static int findSmallest(ArrayList&lt;Integer&gt; list){\n    int smallest = list.get(0);\n    for (Integer value : list) {\n        if (value &lt; smallest) {\n            smallest = value;\n        }\n    }\n    return smallest;\n}\n</code></pre>\n<p>Similar changes need to be made for <code>findLargest</code>.</p>\n"},{"tags":[],"owner":{"account_id":6184830,"reputation":11,"user_id":17621044,"display_name":"tans flou"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690390758,"creation_date":1690063540,"answer_id":76745946,"question_id":76745839,"body_markdown":"You actually don&#39;t compare items of the list with the smallest variable and the largest variable. You just compare the index of the for loop with them, so you need to change them as follows:\r\n\r\n    private static int findSmallest(ArrayList&lt;Integer&gt; list) {\r\n        int smallest = list.get(0);\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            if (list.get(i) &lt; smallest) {\r\n                smallest = list.get(i);\r\n            }\r\n        }\r\n        return smallest;\r\n    }\r\n\r\n    \r\n    private static int findLargest(ArrayList&lt;Integer&gt; list) {\r\n        int Largest = list.get(0);\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            if (list.get(i) &gt; Largest) {\r\n                Largest = list.get(i);\r\n            }\r\n        }\r\n        return Largest;\r\n    }","title":"break statement does not stop executing while loop Immediately in java","body":"<p>You actually don't compare items of the list with the smallest variable and the largest variable. You just compare the index of the for loop with them, so you need to change them as follows:</p>\n<pre><code>private static int findSmallest(ArrayList&lt;Integer&gt; list) {\n    int smallest = list.get(0);\n    for (int i = 0; i &lt; list.size(); i++) {\n        if (list.get(i) &lt; smallest) {\n            smallest = list.get(i);\n        }\n    }\n    return smallest;\n}\n\n\nprivate static int findLargest(ArrayList&lt;Integer&gt; list) {\n    int Largest = list.get(0);\n    for (int i = 0; i &lt; list.size(); i++) {\n        if (list.get(i) &gt; Largest) {\n            Largest = list.get(i);\n        }\n    }\n    return Largest;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690064565,"creation_date":1690064565,"answer_id":76745992,"question_id":76745839,"body_markdown":"Actually, you do not need to keep an array. All you need is just two `int` values.\r\n\r\n```java\r\npublic static void main(String... args) {\r\n    Scanner scan = new Scanner(System.in);\r\n\r\n    System.out.println(&quot;This program finds the largest and smallest numbers.&quot;);\r\n    System.out.println(&quot;Type &#39;0&#39; to exit the program.&quot;);\r\n\r\n    int min = Integer.MAX_VALUE;\r\n    int max = Integer.MIN_VALUE;\r\n    boolean empty = true;\r\n\r\n    while (true) {\r\n        System.out.print(&quot;&gt; &quot;);\r\n        int val = scan.nextInt();\r\n\r\n        if (val == 0) {\r\n            break;\r\n        }\r\n\r\n        min = Math.min(min, val);\r\n        max = Math.max(max, val);\r\n        empty = false;\r\n    }\r\n\r\n    if (empty) {\r\n        System.out.println(&quot;No input&quot;);\r\n    } else {\r\n        System.out.println(&quot;smallest: &quot; + min);\r\n        System.out.println(&quot;largest: &quot; + max);\r\n    }\r\n}\r\n```","title":"break statement does not stop executing while loop Immediately in java","body":"<p>Actually, you do not need to keep an array. All you need is just two <code>int</code> values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    Scanner scan = new Scanner(System.in);\n\n    System.out.println(&quot;This program finds the largest and smallest numbers.&quot;);\n    System.out.println(&quot;Type '0' to exit the program.&quot;);\n\n    int min = Integer.MAX_VALUE;\n    int max = Integer.MIN_VALUE;\n    boolean empty = true;\n\n    while (true) {\n        System.out.print(&quot;&gt; &quot;);\n        int val = scan.nextInt();\n\n        if (val == 0) {\n            break;\n        }\n\n        min = Math.min(min, val);\n        max = Math.max(max, val);\n        empty = false;\n    }\n\n    if (empty) {\n        System.out.println(&quot;No input&quot;);\n    } else {\n        System.out.println(&quot;smallest: &quot; + min);\n        System.out.println(&quot;largest: &quot; + max);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29071222,"reputation":11,"user_id":22269519,"display_name":"Allen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76745918,"answer_count":3,"score":1,"last_activity_date":1690390758,"creation_date":1690061101,"question_id":76745839,"body_markdown":"I am trying to run a program that asks the user to list some values. These values will then be stored in a list and once the user types 0 the loop should terminate and the program should find the smallest and largest values the user had inputted. \r\n\r\n\r\nthe code where I initialise the loop to store the values is below:\r\n\r\n\r\n```\r\n\tpublic static void main(String[] Args){\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\t\tSystem.out.println(&quot;This program finds the largest and smallest numbers&quot;);\r\n\t\twhile(true) {\r\n\t\t\tSystem.out.println(&quot;?&quot;);\r\n\t\t\tint value = in.nextInt();\r\n\t\t\tif(value == 0) {break;}\r\n\t\t\tlist.add(value);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;smallest:&quot; + findSmallest(list));\r\n\t\tSystem.out.println(&quot;largest:&quot; + findLargest(list));\r\n\t}\r\n\r\n\r\n```\r\n\r\n\t\r\n\r\nInstead of the break statement exiting the while loop immediately before adding the input 0 to the list, it triggers only after the entire while loop had finished. For example If i type 5,3 and 0 I should get:\r\n\r\nsmallest:3\r\nlargest:5\r\n\r\nbut instead i get:\r\n\r\nsmallest:0\r\nlargest:5\r\n\r\n\r\n\r\nWhy is this happenning and how can I solve it?\r\n\r\n\r\n\r\nFor reference here is the entire code:\r\n\r\n\r\n```\r\npackage Programs;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class FindRange {\r\n\t/* sentinel value for exiting the program*/\r\n\tprivate static final int sentinel = 0;\r\n\t\r\n\t\r\n\tpublic static void main(String[] Args){\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\t\tSystem.out.println(&quot;This program finds the largest and smallest numbers&quot;);\r\n\t\twhile(true) {\r\n\t\t\tSystem.out.println(&quot;?&quot;);\r\n\t\t\tint value = in.nextInt();\r\n\t\t\tif(value == 0) {break;}\r\n\t\t\tlist.add(value);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;smallest:&quot; + findSmallest(list));\r\n\t\tSystem.out.println(&quot;largest:&quot; + findLargest(list));\r\n\t}\r\n\t\r\n\t/* \r\n\t * Precondition: We must receive a list of type ArrayList containing\r\n\t * int values provided by the user\r\n\t * PostConditions: Provides the smallest value in the list \r\n\t * */\r\n\tprivate static int findSmallest(ArrayList&lt;Integer&gt; list){\r\n\t\tint smallest = list.get(0);\r\n\t\tfor (int i=0;i&lt;list.size()-1;i++) {\r\n\t\t\tif (i&lt;smallest) {\r\n\t\t\t\tsmallest = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn smallest;\r\n\t\t\t\t}\r\n\t\r\n\t/* \r\n\t * Precondition: We must receive a list of type ArrayList containing\r\n\t * int values provided by the user\r\n\t * PostConditions: Provides the Largest value in the list \r\n\t * \r\n\t * Error with code: Some reason break statement on main doesn&#39;t stop the execution of the loop straight away\r\n\t * resulting in the sentinel 0 being stored in the list. \r\n\t * */\r\n\tprivate static int findLargest(ArrayList&lt;Integer&gt; list){\r\n\t\tint Largest = list.get(0);\r\n\t\tfor (int i=0;i&lt;list.size()-1;i++) {\r\n\t\t\tif (i&gt;Largest) {\r\n\t\t\t\tLargest = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn Largest;\r\n\t\t\t\t}\r\n\t\r\n\r\n}\r\n\t\r\n```\r\n\t\t\t","title":"break statement does not stop executing while loop Immediately in java","body":"<p>I am trying to run a program that asks the user to list some values. These values will then be stored in a list and once the user types 0 the loop should terminate and the program should find the smallest and largest values the user had inputted.</p>\n<p>the code where I initialise the loop to store the values is below:</p>\n<pre><code>    public static void main(String[] Args){\n        Scanner in = new Scanner(System.in);\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        System.out.println(&quot;This program finds the largest and smallest numbers&quot;);\n        while(true) {\n            System.out.println(&quot;?&quot;);\n            int value = in.nextInt();\n            if(value == 0) {break;}\n            list.add(value);\n        }\n        System.out.println(&quot;smallest:&quot; + findSmallest(list));\n        System.out.println(&quot;largest:&quot; + findLargest(list));\n    }\n\n\n</code></pre>\n<p>Instead of the break statement exiting the while loop immediately before adding the input 0 to the list, it triggers only after the entire while loop had finished. For example If i type 5,3 and 0 I should get:</p>\n<p>smallest:3\nlargest:5</p>\n<p>but instead i get:</p>\n<p>smallest:0\nlargest:5</p>\n<p>Why is this happenning and how can I solve it?</p>\n<p>For reference here is the entire code:</p>\n<pre><code>package Programs;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class FindRange {\n    /* sentinel value for exiting the program*/\n    private static final int sentinel = 0;\n    \n    \n    public static void main(String[] Args){\n        Scanner in = new Scanner(System.in);\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        System.out.println(&quot;This program finds the largest and smallest numbers&quot;);\n        while(true) {\n            System.out.println(&quot;?&quot;);\n            int value = in.nextInt();\n            if(value == 0) {break;}\n            list.add(value);\n        }\n        System.out.println(&quot;smallest:&quot; + findSmallest(list));\n        System.out.println(&quot;largest:&quot; + findLargest(list));\n    }\n    \n    /* \n     * Precondition: We must receive a list of type ArrayList containing\n     * int values provided by the user\n     * PostConditions: Provides the smallest value in the list \n     * */\n    private static int findSmallest(ArrayList&lt;Integer&gt; list){\n        int smallest = list.get(0);\n        for (int i=0;i&lt;list.size()-1;i++) {\n            if (i&lt;smallest) {\n                smallest = i;\n            }\n        }\n        return smallest;\n                }\n    \n    /* \n     * Precondition: We must receive a list of type ArrayList containing\n     * int values provided by the user\n     * PostConditions: Provides the Largest value in the list \n     * \n     * Error with code: Some reason break statement on main doesn't stop the execution of the loop straight away\n     * resulting in the sentinel 0 being stored in the list. \n     * */\n    private static int findLargest(ArrayList&lt;Integer&gt; list){\n        int Largest = list.get(0);\n        for (int i=0;i&lt;list.size()-1;i++) {\n            if (i&gt;Largest) {\n                Largest = i;\n            }\n        }\n        return Largest;\n                }\n    \n\n}\n    \n</code></pre>\n"},{"tags":["java","graphql"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1690389442,"post_id":76771716,"comment_id":135347805,"body_markdown":"When you get `NoSuchMethodError` it generally means you&#39;re using incompatible versions of dependencies. Spring Boot 3.1.2 seems to depend on entirely different libraries and different versions for OAuth2 support, so probably your current dependency on `org.springframework.security.oauth:spring-security-oauth2:2.5.2.RELEASE` is simply the wrong thing for Spring Boot 3.1.2.","body":"When you get <code>NoSuchMethodError</code> it generally means you&#39;re using incompatible versions of dependencies. Spring Boot 3.1.2 seems to depend on entirely different libraries and different versions for OAuth2 support, so probably your current dependency on <code>org.springframework.security.oauth:spring-security-oauth2:2.&zwnj;&#8203;5.2.RELEASE</code> is simply the wrong thing for Spring Boot 3.1.2."},{"owner":{"account_id":27043712,"reputation":603,"user_id":20598202,"display_name":"Samuel"},"score":0,"creation_date":1690389900,"post_id":76771716,"comment_id":135347908,"body_markdown":"It is best to use the boot versions of them. https://docs.spring.io/spring-security/reference/servlet/oauth2/login/core.html . There you can leave out the version as the parent knows best with which version it is compatible with.","body":"It is best to use the boot versions of them. <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/login/core.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/logi&zwnj;&#8203;n/&hellip;</a> . There you can leave out the version as the parent knows best with which version it is compatible with."}],"owner":{"account_id":14257214,"reputation":1,"user_id":10299103,"display_name":"yalamarthi lakshmi priyanka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690389530,"creation_date":1690377222,"question_id":76771716,"body_markdown":"Here is the pom.xml\r\n\r\n```xml\r\n&lt;parent&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \t\t \r\n  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; \t\t \r\n  &lt;version&gt;3.1.2&lt;/version&gt;\r\n  &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n&lt;dependency&gt; \t\t\t \r\n &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt; \t\t\t \r\n &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt; \t\t\t \r\n &lt;version&gt;2.5.2.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nwhen trying to execute below code, getting the error. The rest api is returning the response.However the below code is throwing the error.\r\n```java\r\npublic RefundOrderDetailsResponse\r\n  getRefundOrderDetails(String employeeId, String orderId) {\r\n  UriComponentsBuilder builder =\r\n    UriComponentsBuilder.fromUriString(refundOrderDetailsUrl)\r\n\t  .queryParam(&quot;employeeId&quot;, employeeId)\r\n\t  .queryParam(&quot;orderId&quot;, orderId);\r\n  ResponseEntity&lt;RefundOrderDetailsResponse&gt;\r\n    response = restTemplate.getForEntity(builder.toUriString(),\r\n\tRefundOrderDetailsResponse.class);\r\n  return response.getBody();\r\n}\r\n\r\npackage com.octanner.commerceconfig.dto.refundorder;\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class RefundOrderDetailsResponse {\r\n\tprivate String employeeId;\r\n\tprivate String firstName;\r\n\tprivate String lastName;\r\n\tprivate String orderId;\r\n\tprivate Double pointBalance;\r\n\tprivate String orderStatus;\r\n\tprivate boolean refundable;\r\n}\r\n```\r\n","title":"Getting &#39;java.lang.NoSuchMethodError&#39; exception in graphql","body":"<p>Here is the pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        \n  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;        \n  &lt;version&gt;3.1.2&lt;/version&gt;\n  &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;dependency&gt;             \n &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;           \n &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;             \n &lt;version&gt;2.5.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>when trying to execute below code, getting the error. The rest api is returning the response.However the below code is throwing the error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public RefundOrderDetailsResponse\n  getRefundOrderDetails(String employeeId, String orderId) {\n  UriComponentsBuilder builder =\n    UriComponentsBuilder.fromUriString(refundOrderDetailsUrl)\n      .queryParam(&quot;employeeId&quot;, employeeId)\n      .queryParam(&quot;orderId&quot;, orderId);\n  ResponseEntity&lt;RefundOrderDetailsResponse&gt;\n    response = restTemplate.getForEntity(builder.toUriString(),\n    RefundOrderDetailsResponse.class);\n  return response.getBody();\n}\n\npackage com.octanner.commerceconfig.dto.refundorder;\nimport lombok.Data;\n\n@Data\npublic class RefundOrderDetailsResponse {\n    private String employeeId;\n    private String firstName;\n    private String lastName;\n    private String orderId;\n    private Double pointBalance;\n    private String orderStatus;\n    private boolean refundable;\n}\n</code></pre>\n"},{"tags":["java","firebase","google-cloud-firestore","firebase-security"],"answers":[{"comments":[{"owner":{"account_id":21612984,"reputation":273,"user_id":15939217,"display_name":"Rajendra A Verma"},"score":0,"creation_date":1690388852,"post_id":63320894,"comment_id":135347653,"body_markdown":"now it is possible with a regular client query. - [link](https://firebase.google.com/docs/firestore/query-data/aggregation-queries)","body":"now it is possible with a regular client query. - <a href=\"https://firebase.google.com/docs/firestore/query-data/aggregation-queries\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":21612984,"reputation":273,"user_id":15939217,"display_name":"Rajendra A Verma"},"score":0,"creation_date":1690388942,"post_id":63320894,"comment_id":135347677,"body_markdown":"now, can we apply in firestore security rule ?","body":"now, can we apply in firestore security rule ?"}],"tags":[],"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690388884,"creation_date":1596926798,"answer_id":63320894,"question_id":63320761,"body_markdown":"It&#39;s not possible in security rules.\r\n\r\nIf you want a document count, you will have to manage one of your own in a single document.  Then you could write rules to check against the count that you manage in that document.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46554091/cloud-firestore-collection-count","title":"Is there a way to check the size of a Cloud Firestore collection using Security Rules?","body":"<p>It's not possible in security rules.</p>\n<p>If you want a document count, you will have to manage one of your own in a single document.  Then you could write rules to check against the count that you manage in that document.</p>\n"}],"owner":{"account_id":18795610,"reputation":29,"user_id":13707159,"display_name":"DangItsPang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63320894,"answer_count":1,"score":1,"last_activity_date":1690388884,"creation_date":1596925365,"question_id":63320761,"body_markdown":"In my app, each user has a document in the users collection of my database. Under each user&#39;s document, there is a subcollection for that user&#39;s uploaded foods. By default, I want to limit it so that the user cannot add more than 25 foods to their personal subcollection. Is there a way to check via Security Rules if the collection size is &lt;= 25?","title":"Is there a way to check the size of a Cloud Firestore collection using Security Rules?","body":"<p>In my app, each user has a document in the users collection of my database. Under each user's document, there is a subcollection for that user's uploaded foods. By default, I want to limit it so that the user cannot add more than 25 foods to their personal subcollection. Is there a way to check via Security Rules if the collection size is &lt;= 25?</p>\n"},{"tags":["java","eclipse","swing"],"comments":[{"owner":{"account_id":17879033,"reputation":154,"user_id":12988325,"display_name":"wolf"},"score":0,"creation_date":1690388806,"post_id":76773284,"comment_id":135347641,"body_markdown":"Have you added the JAR in class path ?","body":"Have you added the JAR in class path ?"},{"owner":{"account_id":17879033,"reputation":154,"user_id":12988325,"display_name":"wolf"},"score":0,"creation_date":1690389100,"post_id":76773284,"comment_id":135347715,"body_markdown":"Does this answer your question? [Correct way to add external jars (lib/\\*.jar) to an IntelliJ IDEA project](https://stackoverflow.com/questions/1051640/correct-way-to-add-external-jars-lib-jar-to-an-intellij-idea-project)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1051640/correct-way-to-add-external-jars-lib-jar-to-an-intellij-idea-project\">Correct way to add external jars (lib/*.jar) to an IntelliJ IDEA project</a>"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1690389327,"post_id":76773284,"comment_id":135347764,"body_markdown":"Do you have a `module-info.java` in the project? If you do you are using the Java 9 module system and need to update the module-info.java to require the java.desktop module - or just delete it to stop using the module system.","body":"Do you have a <code>module-info.java</code> in the project? If you do you are using the Java 9 module system and need to update the module-info.java to require the java.desktop module - or just delete it to stop using the module system."},{"owner":{"account_id":21624810,"reputation":3,"user_id":20357912,"display_name":"halemley"},"score":0,"creation_date":1690390219,"post_id":76773284,"comment_id":135347988,"body_markdown":"@greg-449 That did it! You are a life saver! Thank you &amp; everyone so much!","body":"@greg-449 That did it! You are a life saver! Thank you &amp; everyone so much!"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1690391298,"post_id":76773284,"comment_id":135348244,"body_markdown":"If @greg-449 declines, you can [answer your own question](http://meta.stackoverflow.com/q/17463/163188).","body":"If @greg-449 declines, you can <a href=\"http://meta.stackoverflow.com/q/17463/163188\">answer your own question</a>."}],"owner":{"account_id":21624810,"reputation":3,"user_id":20357912,"display_name":"halemley"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690393047,"answer_count":0,"score":0,"last_activity_date":1690388618,"creation_date":1690388618,"question_id":76773284,"body_markdown":"I am creating a GUI on Eclipse using Java code. Everything in my code is fine except for some reason the java swing package is not being recognized by my IDE. I have used the correct imports and I am using JDK-17 which should include the swing package by default and yet the issue persists. I get the following error when I run my code: Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tSwingUtilities cannot be resolved. It also mentions that the package in not accessible.\r\n\r\nI&#39;d appreciate any kind of help with this.\r\n\r\nHere is my code [Java Code](https://i.stack.imgur.com/a8dEk.png).\r\nAll of the imports are not accessible for some reason.","title":"Is there a solution as to why the javax.swing import is not working on my Eclipse IDE?","body":"<p>I am creating a GUI on Eclipse using Java code. Everything in my code is fine except for some reason the java swing package is not being recognized by my IDE. I have used the correct imports and I am using JDK-17 which should include the swing package by default and yet the issue persists. I get the following error when I run my code: Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:\nSwingUtilities cannot be resolved. It also mentions that the package in not accessible.</p>\n<p>I'd appreciate any kind of help with this.</p>\n<p>Here is my code <a href=\"https://i.stack.imgur.com/a8dEk.png\" rel=\"nofollow noreferrer\">Java Code</a>.\nAll of the imports are not accessible for some reason.</p>\n"},{"tags":["java","android","android-studio","cucumber","cucumber-jvm"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1537041118,"post_id":52348197,"comment_id":91642021,"body_markdown":"Just checking-  you know junit is built in and does non-instrumented unit tests, right?  I doubt you&#39;ll find too many people who use cucumber given the ease of using junit.","body":"Just checking-  you know junit is built in and does non-instrumented unit tests, right?  I doubt you&#39;ll find too many people who use cucumber given the ease of using junit."},{"owner":{"account_id":15694,"reputation":16160,"user_id":33404,"accept_rate":71,"display_name":"urig"},"score":0,"creation_date":1537041252,"post_id":52348197,"comment_id":91642050,"body_markdown":"@GabeSechan Thanks.  I&#39;m aware of that. Perhaps the baked in JUnit test runner is responsible for my features being ignored?","body":"@GabeSechan Thanks.  I&#39;m aware of that. Perhaps the baked in JUnit test runner is responsible for my features being ignored?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1537041361,"post_id":52348197,"comment_id":91642074,"body_markdown":"Possibly. Also I see cucumber-jvm there. Android doesn&#39;t ruin the jvm it runs art. There could be issues there.","body":"Possibly. Also I see cucumber-jvm there. Android doesn&#39;t ruin the jvm it runs art. There could be issues there."},{"owner":{"account_id":15694,"reputation":16160,"user_id":33404,"accept_rate":71,"display_name":"urig"},"score":0,"creation_date":1537087460,"post_id":52348197,"comment_id":91649868,"body_markdown":"@GabeSechan what is &quot;art&quot;? Can I perhaps configure it to also run my Cucumber JUnit tests on top of the regular Android unit tests?","body":"@GabeSechan what is &quot;art&quot;? Can I perhaps configure it to also run my Cucumber JUnit tests on top of the regular Android unit tests?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1537111274,"post_id":52348197,"comment_id":91655697,"body_markdown":"art is an alternative virtual machine.  JVM is Oracle&#39;s (formerly Sun&#39;s).  There are differences in the bytecode and other things, if something assumes jvm it may not run on art.  But if you can get the test to run from Android Studio then that&#39;s not likely a problem","body":"art is an alternative virtual machine.  JVM is Oracle&#39;s (formerly Sun&#39;s).  There are differences in the bytecode and other things, if something assumes jvm it may not run on art.  But if you can get the test to run from Android Studio then that&#39;s not likely a problem"},{"owner":{"account_id":15694,"reputation":16160,"user_id":33404,"accept_rate":71,"display_name":"urig"},"score":0,"creation_date":1537112459,"post_id":52348197,"comment_id":91656045,"body_markdown":"Thanks.  I now think the default test runner for Android local unit tests is responsible for my features being ignored.  Likely I need to customize my gradle.build file to also run the Cucumber test runner in the &#39;test&#39; task.  Trying to learn how to do that now.  Would love to get help with that if anyone knows how to get it done.","body":"Thanks.  I now think the default test runner for Android local unit tests is responsible for my features being ignored.  Likely I need to customize my gradle.build file to also run the Cucumber test runner in the &#39;test&#39; task.  Trying to learn how to do that now.  Would love to get help with that if anyone knows how to get it done."}],"answers":[{"comments":[{"owner":{"account_id":15694,"reputation":16160,"user_id":33404,"accept_rate":71,"display_name":"urig"},"score":0,"creation_date":1537076998,"post_id":52348420,"comment_id":91647781,"body_markdown":"Thanks. If I roll my own JUnit runner for the Cucumber tests how do I ensure other regular unit tests will also run?","body":"Thanks. If I roll my own JUnit runner for the Cucumber tests how do I ensure other regular unit tests will also run?"},{"owner":{"account_id":15694,"reputation":16160,"user_id":33404,"accept_rate":71,"display_name":"urig"},"score":0,"creation_date":1537086292,"post_id":52348420,"comment_id":91649631,"body_markdown":"I&#39;ve tried embedding the Gradle Cucumber plugin in my `build.gradle` but if fails with *&quot;The &#39;java&#39; plugin has been applied, but it is not compatible with the Android plugins.&quot;*. So I guess it&#39;s just not going to work the Android?","body":"I&#39;ve tried embedding the Gradle Cucumber plugin in my <code>build.gradle</code> but if fails with <i>&quot;The &#39;java&#39; plugin has been applied, but it is not compatible with the Android plugins.&quot;</i>. So I guess it&#39;s just not going to work the Android?"},{"owner":{"account_id":15694,"reputation":16160,"user_id":33404,"accept_rate":71,"display_name":"urig"},"score":0,"creation_date":1537087560,"post_id":52348420,"comment_id":91649890,"body_markdown":"I&#39;ve also tried the other approach by adding a JUnit Runner class to my app. I can run it from Android Studio but `gradlew test` still ignores it.","body":"I&#39;ve also tried the other approach by adding a JUnit Runner class to my app. I can run it from Android Studio but <code>gradlew test</code> still ignores it."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1537386228,"post_id":52348420,"comment_id":91770043,"body_markdown":"Did you add `testImplementation &#39;junit:junit:4.12&#39;`?","body":"Did you add <code>testImplementation &#39;junit:junit:4.12&#39;</code>?"}],"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537041938,"creation_date":1537041938,"answer_id":52348420,"question_id":52348197,"body_markdown":"Your feature files are probably not getting picked up because you did not include a runner. You can either create a [JUnit Runner][1] or use the [Gradle cucumber plugin][2]. I am not sure if either would work in Android though.\r\n\r\nAlso you don&#39;t need `io.cucumber:cucumber-jvm:3.0.2` as a dependency. It is only a pom.\r\n\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/tree/v3.0.2/junit\r\n  [2]: https://github.com/samueltbrown/gradle-cucumber-plugin","title":"How to make Cucumber features run in an Android project as local unit tests?","body":"<p>Your feature files are probably not getting picked up because you did not include a runner. You can either create a <a href=\"https://github.com/cucumber/cucumber-jvm/tree/v3.0.2/junit\" rel=\"nofollow noreferrer\">JUnit Runner</a> or use the <a href=\"https://github.com/samueltbrown/gradle-cucumber-plugin\" rel=\"nofollow noreferrer\">Gradle cucumber plugin</a>. I am not sure if either would work in Android though.</p>\n\n<p>Also you don't need <code>io.cucumber:cucumber-jvm:3.0.2</code> as a dependency. It is only a pom.</p>\n"},{"comments":[{"owner":{"account_id":9755346,"reputation":7480,"user_id":7232295,"accept_rate":86,"display_name":"Uddhav P. Gautam"},"score":1,"creation_date":1690387579,"post_id":52523306,"comment_id":135347345,"body_markdown":"thanks for your answer, I provided another way to directly run unit tests using the Cucumber Custom Runner class. Refer to my answer below. This also applies for kotlin project.","body":"thanks for your answer, I provided another way to directly run unit tests using the Cucumber Custom Runner class. Refer to my answer below. This also applies for kotlin project."}],"tags":[],"owner":{"account_id":15694,"reputation":16160,"user_id":33404,"accept_rate":71,"display_name":"urig"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1537983309,"creation_date":1537983309,"answer_id":52523306,"question_id":52348197,"body_markdown":"I&#39;ve found out how to configure my Android app to run my Cucumber tests as &quot;local unit tests&quot; when I run `gradlew test` from the command line. This is based on my [SO question here][1] and I&#39;ve written a &quot;HOWTO&quot; blog post about it here: [Android: Run Cucumber tests without a device or an emulator][2].\r\n\r\nThe key to getting it done is in the app&#39;s `build.gradle` file. By latching on to the `unitTests.all` hook in the `testOptions` section I am able to run Cucumber using `javaexec` like so:\r\n\r\n    android {\r\n        ...\r\n        testOptions {\r\n            unitTests.all {\r\n                def classpath2 = getClasspath()\r\n                javaexec {\r\n                    main = &quot;cucumber.api.cli.Main&quot;\r\n                    classpath = classpath2\r\n                    args = [&#39;--plugin&#39;, &#39;pretty&#39;, &#39;--glue&#39;, &#39;gradle.cucumber&#39;, &#39;src/test/java/cucumber/assets&#39;]\r\n                }\r\n            }\r\n        }\r\n    )\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52474366/gradle-for-android-why-doesnt-javaexec-pick-up-my-classpath\r\n  [2]: https://www.urig.io/blog/android-run-cucumber-tests-without-a-device-or-an-emulator","title":"How to make Cucumber features run in an Android project as local unit tests?","body":"<p>I've found out how to configure my Android app to run my Cucumber tests as \"local unit tests\" when I run <code>gradlew test</code> from the command line. This is based on my <a href=\"https://stackoverflow.com/questions/52474366/gradle-for-android-why-doesnt-javaexec-pick-up-my-classpath\">SO question here</a> and I've written a \"HOWTO\" blog post about it here: <a href=\"https://www.urig.io/blog/android-run-cucumber-tests-without-a-device-or-an-emulator\" rel=\"nofollow noreferrer\">Android: Run Cucumber tests without a device or an emulator</a>.</p>\n\n<p>The key to getting it done is in the app's <code>build.gradle</code> file. By latching on to the <code>unitTests.all</code> hook in the <code>testOptions</code> section I am able to run Cucumber using <code>javaexec</code> like so:</p>\n\n<pre><code>android {\n    ...\n    testOptions {\n        unitTests.all {\n            def classpath2 = getClasspath()\n            javaexec {\n                main = \"cucumber.api.cli.Main\"\n                classpath = classpath2\n                args = ['--plugin', 'pretty', '--glue', 'gradle.cucumber', 'src/test/java/cucumber/assets']\n            }\n        }\n    }\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9755346,"reputation":7480,"user_id":7232295,"accept_rate":86,"display_name":"Uddhav P. Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690388202,"creation_date":1690387505,"answer_id":76773165,"question_id":52348197,"body_markdown":"Or there is another way to directly run android unit tests from a custom runner. This is easiest approach for kotlin Android project.\r\n\r\nIn my app-level build.gradle, \r\n\r\n    dependencies {\r\n       //Cucumber\r\n       testImplementation(&quot;io.cucumber:cucumber-java:7.13.0&quot;)\r\n       testImplementation(&quot;io.cucumber:cucumber-junit:7.13.0&quot;)\r\n       testImplementation(&quot;io.cucumber:cucumber-jvm:7.13.0&quot;)\r\n    }\r\n\r\nThen as shown in picture below, I managed to run a cucumber scenario through the CucumberTestRunner green run arrow.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/48nPo.jpg\r\n\r\n**Sample Source Code**\r\n\r\nFor any entity data class **UserEntity.kt**, \r\n\r\n    import androidx.room.Entity\r\n    import androidx.room.PrimaryKey\r\n    \r\n    @Entity(tableName = &quot;users&quot;)\r\n    data class UserEntity(\r\n        @PrimaryKey val id: Int,\r\n        val name: String\r\n    )\r\n\r\nI first, created a feature file named **UserEntityBdd.feature** as, \r\n\r\n    Feature: UserEntity class behavior\r\n    \r\n      Scenario: Create a new UserEntity\r\n        Given a user ID\r\n        And a user name\r\n        When a UserEntity is created\r\n        Then the UserEntity should have the given ID and name\r\n\r\n\r\nThen, corresponding steps definitions file named **UserEntityStepDefinitions.kt** as,\r\n\r\n    import com.example.mvvm.datalayer.model.UserEntity\r\n    import io.cucumber.java.en.Given\r\n    import io.cucumber.java.en.Then\r\n    import io.cucumber.java.en.When\r\n    import org.junit.Assert.assertEquals\r\n    import kotlin.properties.Delegates\r\n    \r\n    class UserEntityStepDefinitions {\r\n        private var userId by Delegates.notNull&lt;Int&gt;()\r\n        private lateinit var userName: String\r\n        private lateinit var userEntity: UserEntity\r\n    \r\n        @Given(&quot;a user ID&quot;)\r\n        fun givenUserId() {\r\n            userId = 123\r\n        }\r\n    \r\n        @Given(&quot;a user name&quot;)\r\n        fun givenUserName() {\r\n            userName = &quot;John Doe&quot;\r\n        }\r\n    \r\n        @When(&quot;a UserEntity is created&quot;)\r\n        fun createUserEntity() {\r\n            userEntity = UserEntity(userId, userName)\r\n        }\r\n    \r\n        @Then(&quot;the UserEntity should have the given ID and name&quot;)\r\n        fun checkUserEntity() {\r\n            assertEquals(userId, userEntity.id)\r\n            assertEquals(userName, userEntity.name)\r\n        }\r\n    }\r\n\r\nand finally the Cuccumber Custom Runner, named **CucumberTestRunner.kt**, as\r\n\r\n    import io.cucumber.junit.Cucumber\r\n    import io.cucumber.junit.CucumberOptions\r\n    import org.junit.runner.RunWith\r\n    \r\n    @RunWith(Cucumber::class)\r\n    @CucumberOptions(\r\n        features = [&quot;.&quot;], // The package where your feature files are located\r\n        glue = [&quot;.&quot;], // The package where your step definitions are located\r\n        plugin = [&quot;pretty&quot;, &quot;html:reports/test-report&quot;] // Report plugins\r\n    )\r\n    class CucumberTestRunner\r\n\r\n\r\nAnd doing this approach made me I don&#39;t need to convert/port below groovy snippet to kts \r\n\r\n    testOptions {\r\n            unitTests.all {\r\n                def classpath2 = getClasspath()\r\n                javaexec {\r\n                    main = &quot;cucumber.api.cli.Main&quot;\r\n                    classpath = classpath2\r\n                    args = [&#39;--plugin&#39;, &#39;pretty&#39;, &#39;--glue&#39;, &#39;gradle.cucumber&#39;, &#39;src/test/java/cucumber/assets&#39;]\r\n                }\r\n            }\r\n        }\r\n\r\n","title":"How to make Cucumber features run in an Android project as local unit tests?","body":"<p>Or there is another way to directly run android unit tests from a custom runner. This is easiest approach for kotlin Android project.</p>\n<p>In my app-level build.gradle,</p>\n<pre><code>dependencies {\n   //Cucumber\n   testImplementation(&quot;io.cucumber:cucumber-java:7.13.0&quot;)\n   testImplementation(&quot;io.cucumber:cucumber-junit:7.13.0&quot;)\n   testImplementation(&quot;io.cucumber:cucumber-jvm:7.13.0&quot;)\n}\n</code></pre>\n<p>Then as shown in picture below, I managed to run a cucumber scenario through the CucumberTestRunner green run arrow.</p>\n<p><a href=\"https://i.stack.imgur.com/48nPo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/48nPo.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Sample Source Code</strong></p>\n<p>For any entity data class <strong>UserEntity.kt</strong>,</p>\n<pre><code>import androidx.room.Entity\nimport androidx.room.PrimaryKey\n\n@Entity(tableName = &quot;users&quot;)\ndata class UserEntity(\n    @PrimaryKey val id: Int,\n    val name: String\n)\n</code></pre>\n<p>I first, created a feature file named <strong>UserEntityBdd.feature</strong> as,</p>\n<pre><code>Feature: UserEntity class behavior\n\n  Scenario: Create a new UserEntity\n    Given a user ID\n    And a user name\n    When a UserEntity is created\n    Then the UserEntity should have the given ID and name\n</code></pre>\n<p>Then, corresponding steps definitions file named <strong>UserEntityStepDefinitions.kt</strong> as,</p>\n<pre><code>import com.example.mvvm.datalayer.model.UserEntity\nimport io.cucumber.java.en.Given\nimport io.cucumber.java.en.Then\nimport io.cucumber.java.en.When\nimport org.junit.Assert.assertEquals\nimport kotlin.properties.Delegates\n\nclass UserEntityStepDefinitions {\n    private var userId by Delegates.notNull&lt;Int&gt;()\n    private lateinit var userName: String\n    private lateinit var userEntity: UserEntity\n\n    @Given(&quot;a user ID&quot;)\n    fun givenUserId() {\n        userId = 123\n    }\n\n    @Given(&quot;a user name&quot;)\n    fun givenUserName() {\n        userName = &quot;John Doe&quot;\n    }\n\n    @When(&quot;a UserEntity is created&quot;)\n    fun createUserEntity() {\n        userEntity = UserEntity(userId, userName)\n    }\n\n    @Then(&quot;the UserEntity should have the given ID and name&quot;)\n    fun checkUserEntity() {\n        assertEquals(userId, userEntity.id)\n        assertEquals(userName, userEntity.name)\n    }\n}\n</code></pre>\n<p>and finally the Cuccumber Custom Runner, named <strong>CucumberTestRunner.kt</strong>, as</p>\n<pre><code>import io.cucumber.junit.Cucumber\nimport io.cucumber.junit.CucumberOptions\nimport org.junit.runner.RunWith\n\n@RunWith(Cucumber::class)\n@CucumberOptions(\n    features = [&quot;.&quot;], // The package where your feature files are located\n    glue = [&quot;.&quot;], // The package where your step definitions are located\n    plugin = [&quot;pretty&quot;, &quot;html:reports/test-report&quot;] // Report plugins\n)\nclass CucumberTestRunner\n</code></pre>\n<p>And doing this approach made me I don't need to convert/port below groovy snippet to kts</p>\n<pre><code>testOptions {\n        unitTests.all {\n            def classpath2 = getClasspath()\n            javaexec {\n                main = &quot;cucumber.api.cli.Main&quot;\n                classpath = classpath2\n                args = ['--plugin', 'pretty', '--glue', 'gradle.cucumber', 'src/test/java/cucumber/assets']\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":15694,"reputation":16160,"user_id":33404,"accept_rate":71,"display_name":"urig"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2711,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52523306,"answer_count":3,"score":2,"last_activity_date":1690388202,"creation_date":1537040179,"question_id":52348197,"body_markdown":"I have an Android project written in Java that I&#39;m working on in Android Studio.\r\n\r\nI&#39;d like to use Cucumber for integration testing of some internal components (note: I know this is not the BDD way, nonetheless useful to me). I want the tests to run as [local unit tests][1] (without Instrumentation) using `gradlew test` because the components under test do not interact with the Android SDK.\r\n\r\n**My problem is that the Cucumber features are not recognized by Gradle and do not run when I run `gradlew test`.**\r\n\r\nHere&#39;s how I set it up so far:\r\n\r\n1. Added these dependencies to my app&#39;s build.gradle:\r\n\r\n        testImplementation &#39;io.cucumber:cucumber-java:3.0.2&#39;\r\n        testImplementation &#39;io.cucumber:cucumber-junit:3.0.2&#39;\r\n        testImplementation &#39;io.cucumber:cucumber-jvm:3.0.2&#39;\r\n\r\n\r\n2. Also there, I added the path to where I&#39;ve put my Feature file:\r\n\r\n        android {\r\n            ...\r\n            sourceSets {\r\n                test {\r\n                    assets.srcDirs = [&#39;src/test/java/integrationTest/assets&#39;]\r\n                }\r\n            }\r\n        }\r\n\r\n    This is based on this folder structure:\r\n\r\n    [![enter image description here][2]][2]\r\n\r\n3. Added a class for the steps (`Steps1.java`) as can be seen above.\r\n\r\nWhat am I missing here?\r\n\r\n\r\n  [1]: https://developer.android.com/studio/test/command-line\r\n  [2]: https://i.stack.imgur.com/5R3RM.png","title":"How to make Cucumber features run in an Android project as local unit tests?","body":"<p>I have an Android project written in Java that I'm working on in Android Studio.</p>\n\n<p>I'd like to use Cucumber for integration testing of some internal components (note: I know this is not the BDD way, nonetheless useful to me). I want the tests to run as <a href=\"https://developer.android.com/studio/test/command-line\" rel=\"nofollow noreferrer\">local unit tests</a> (without Instrumentation) using <code>gradlew test</code> because the components under test do not interact with the Android SDK.</p>\n\n<p><strong>My problem is that the Cucumber features are not recognized by Gradle and do not run when I run <code>gradlew test</code>.</strong></p>\n\n<p>Here's how I set it up so far:</p>\n\n<ol>\n<li><p>Added these dependencies to my app's build.gradle:</p>\n\n<pre><code>testImplementation 'io.cucumber:cucumber-java:3.0.2'\ntestImplementation 'io.cucumber:cucumber-junit:3.0.2'\ntestImplementation 'io.cucumber:cucumber-jvm:3.0.2'\n</code></pre></li>\n<li><p>Also there, I added the path to where I've put my Feature file:</p>\n\n<pre><code>android {\n    ...\n    sourceSets {\n        test {\n            assets.srcDirs = ['src/test/java/integrationTest/assets']\n        }\n    }\n}\n</code></pre>\n\n<p>This is based on this folder structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5R3RM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5R3RM.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Added a class for the steps (<code>Steps1.java</code>) as can be seen above.</p></li>\n</ol>\n\n<p>What am I missing here?</p>\n"},{"tags":["java","spring","hibernate","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"score":0,"creation_date":1541988535,"post_id":52656517,"comment_id":93394907,"body_markdown":"I faced the same exact issue, added the prop entry and I&#39;m able to see the response, previously it was failing. Thanks for this questions and the hint `fail-on-empty-beans`","body":"I faced the same exact issue, added the prop entry and I&#39;m able to see the response, previously it was failing. Thanks for this questions and the hint <code>fail-on-empty-beans</code>"},{"owner":{"account_id":2481597,"reputation":98,"user_id":2160969,"display_name":"Wiz"},"score":1,"creation_date":1557813343,"post_id":52656517,"comment_id":98879610,"body_markdown":"check the answer here https://stackoverflow.com/a/51129161/2160969","body":"check the answer here <a href=\"https://stackoverflow.com/a/51129161/2160969\">stackoverflow.com/a/51129161/2160969</a>"},{"owner":{"account_id":22656461,"reputation":2316,"user_id":16830299,"display_name":"Rajanboy"},"score":1,"creation_date":1656562725,"post_id":52656517,"comment_id":128604571,"body_markdown":"spring.jackson.serialization.fail-on-empty-beans=false\nsolves for me too. but i dont know what is error on","body":"spring.jackson.serialization.fail-on-empty-beans=false solves for me too. but i dont know what is error on"},{"owner":{"account_id":13717415,"reputation":1385,"user_id":9898251,"display_name":"Badri Paudel"},"score":0,"creation_date":1657794953,"post_id":52656517,"comment_id":128897531,"body_markdown":"In my case I was using groovy / grails and wasn&#39;t working as response wasn&#39;t in the JSON format. Added  ```return result as JSON``` and it worked.","body":"In my case I was using groovy / grails and wasn&#39;t working as response wasn&#39;t in the JSON format. Added  <code>return result as JSON</code> and it worked."},{"owner":{"account_id":7852820,"reputation":87,"user_id":5935755,"display_name":"Kevin Onofre"},"score":0,"creation_date":1660100047,"post_id":52656517,"comment_id":129450562,"body_markdown":"Me too. Thanks. But i do not know what is error.","body":"Me too. Thanks. But i do not know what is error."}],"answers":[{"comments":[{"owner":{"account_id":9675677,"reputation":8158,"user_id":10257611,"display_name":"Ayoub k"},"score":0,"creation_date":1538741832,"post_id":52657221,"comment_id":92260558,"body_markdown":"I don&#39;t understand exactly what you&#39;re saying but I think I&#39;m doing that, please check my edit.","body":"I don&#39;t understand exactly what you&#39;re saying but I think I&#39;m doing that, please check my edit."}],"tags":[],"owner":{"account_id":5578886,"reputation":345,"user_id":4421445,"display_name":"Ivan Perales M."},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1538703884,"creation_date":1538703884,"answer_id":52657221,"question_id":52656517,"body_markdown":"Hmm are you traying to send entities from one instance of the jvm to another one which need to serialize them?  if this is the case i think the error is because you fetched the entities somehow and hibernate is using its not serializable classes, you need to convert entities to pojo&#39;s (i mean use native types or objects that are serializables).","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>Hmm are you traying to send entities from one instance of the jvm to another one which need to serialize them?  if this is the case i think the error is because you fetched the entities somehow and hibernate is using its not serializable classes, you need to convert entities to pojo's (i mean use native types or objects that are serializables).</p>\n"},{"comments":[{"owner":{"account_id":6431403,"reputation":349,"user_id":4984392,"display_name":"ghjansen"},"score":9,"creation_date":1557794967,"post_id":54415243,"comment_id":98875716,"body_markdown":"The solution provided with &quot;@JsonIgnoreProperties&quot; did not work for me. Changing from FetchType.LAZY to FetchType.EAGER fixed the issue.","body":"The solution provided with &quot;@JsonIgnoreProperties&quot; did not work for me. Changing from FetchType.LAZY to FetchType.EAGER fixed the issue."},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":1,"creation_date":1565071969,"post_id":54415243,"comment_id":101224989,"body_markdown":"@Subarata Talukder - If we use `@JsonIgnore`, then we loose the entity graph details as well..","body":"@Subarata Talukder - If we use <code>@JsonIgnore</code>, then we loose the entity graph details as well.."},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":1,"creation_date":1565097265,"post_id":54415243,"comment_id":101238247,"body_markdown":"@ghjansen - I&#39;m also getting same error, but in my case, I can&#39;t keep doing `FetchType.EAGER`. Could you please help me with this ?","body":"@ghjansen - I&#39;m also getting same error, but in my case, I can&#39;t keep doing <code>FetchType.EAGER</code>. Could you please help me with this ?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1565115247,"post_id":54415243,"comment_id":101247970,"body_markdown":"I&#39;d wonder why anyone would use Serializable interface anymore.  Is that a Hibernate requirement?","body":"I&#39;d wonder why anyone would use Serializable interface anymore.  Is that a Hibernate requirement?"},{"owner":{"account_id":6431403,"reputation":349,"user_id":4984392,"display_name":"ghjansen"},"score":0,"creation_date":1569413762,"post_id":54415243,"comment_id":102588143,"body_markdown":"@PAA sorry for the delay. Not sure if still in time, but I suggest you to take a look at https://www.baeldung.com/hibernate-lazy-eager-loading to double check if you are using lazy loading the right way. As explained in &quot;5. Differences&quot;, I guess that in my case the exception occurred due to missing call of getter, which triggers the fetch, initializing all attributes of a given object. Alternative to that, there is a way to use a proxy, also explained in this same post. I will soon leave eager and go back to lazy, as eager is a bad practice.","body":"@PAA sorry for the delay. Not sure if still in time, but I suggest you to take a look at <a href=\"https://www.baeldung.com/hibernate-lazy-eager-loading\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-lazy-eager-loading</a> to double check if you are using lazy loading the right way. As explained in &quot;5. Differences&quot;, I guess that in my case the exception occurred due to missing call of getter, which triggers the fetch, initializing all attributes of a given object. Alternative to that, there is a way to use a proxy, also explained in this same post. I will soon leave eager and go back to lazy, as eager is a bad practice."},{"owner":{"account_id":3619499,"reputation":5613,"user_id":3018627,"display_name":"Subarata Talukder"},"score":0,"creation_date":1569468939,"post_id":54415243,"comment_id":102608451,"body_markdown":"Please add this line in your application.properties file spring.jackson.serialization.fail-on-empty-beans=false, if you have still this issue.","body":"Please add this line in your application.properties file spring.jackson.serialization.fail-on-empty-beans=false, if you have still this issue."},{"owner":{"account_id":3991944,"reputation":1372,"user_id":3290584,"display_name":"Noorus Khan"},"score":1,"creation_date":1598260118,"post_id":54415243,"comment_id":112389455,"body_markdown":"spring.jackson.serialization.fail-on-empty-beans=false, worked for me Thanks :)","body":"spring.jackson.serialization.fail-on-empty-beans=false, worked for me Thanks :)"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1599302790,"post_id":54415243,"comment_id":112736950,"body_markdown":"But this is not an answer to the question","body":"But this is not an answer to the question"},{"owner":{"account_id":3619499,"reputation":5613,"user_id":3018627,"display_name":"Subarata Talukder"},"score":0,"creation_date":1599413817,"post_id":54415243,"comment_id":112761207,"body_markdown":"Pls let the answer of the question @ACV.","body":"Pls let the answer of the question @ACV."},{"owner":{"account_id":5500955,"reputation":876,"user_id":10783374,"display_name":"Edor Linus"},"score":0,"creation_date":1623122620,"post_id":54415243,"comment_id":119982293,"body_markdown":"Adding spring.jackson.serialization.fail-on-empty-beans=false\nin my properties file solved it for me","body":"Adding spring.jackson.serialization.fail-on-empty-beans=false in my properties file solved it for me"},{"owner":{"account_id":11214877,"reputation":141,"user_id":8227834,"display_name":"Radhesh Khanna"},"score":2,"creation_date":1672136675,"post_id":54415243,"comment_id":132226666,"body_markdown":"spring.jackson.serialization.fail-on-empty-beans=false\n\nDoes not work in Spring Boot 2.2.5 and above. Also the properties need to be Public in order for it to work.","body":"spring.jackson.serialization.fail-on-empty-beans=false  Does not work in Spring Boot 2.2.5 and above. Also the properties need to be Public in order for it to work."}],"tags":[],"owner":{"account_id":3619499,"reputation":5613,"user_id":3018627,"display_name":"Subarata Talukder"},"comment_count":11,"down_vote_count":2,"up_vote_count":136,"is_accepted":false,"score":134,"last_activity_date":1569468839,"creation_date":1548744123,"answer_id":54415243,"question_id":52656517,"body_markdown":"You can Ignore to produce JSON output of a property by \r\n\r\n    @JsonIgnore \r\n\r\nOr If you have any lazy loaded properties having a relationship. You can use this annotation at top of the property.\r\n    \r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;}) \r\n\r\nExample:\r\n\r\n    @Entity\r\n    public class Product implements Serializable{\r\n       private int id;\r\n       private String name;\r\n       private String photo;\r\n       private double price;\r\n       private int quantity;\r\n       private Double rating;\r\n       private Provider provider;\r\n       private String description;\r\n\r\n       @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n       private List&lt;Category&gt; categories = new ArrayList&lt;&gt;();\r\n\r\n       @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n       private List&lt;Photo&gt; photos = new ArrayList&lt;&gt;();\r\n     \r\n       // Getters &amp; Setters\r\n    }\r\n\r\nIf you still have this error, please add this line of code in your application.properties file\r\n\r\n    spring.jackson.serialization.fail-on-empty-beans=false\r\n\r\nI hope your problem will be solved. Thanks.","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>You can Ignore to produce JSON output of a property by </p>\n\n<pre><code>@JsonIgnore \n</code></pre>\n\n<p>Or If you have any lazy loaded properties having a relationship. You can use this annotation at top of the property.</p>\n\n<pre><code>@JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"}) \n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>@Entity\npublic class Product implements Serializable{\n   private int id;\n   private String name;\n   private String photo;\n   private double price;\n   private int quantity;\n   private Double rating;\n   private Provider provider;\n   private String description;\n\n   @JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\n   private List&lt;Category&gt; categories = new ArrayList&lt;&gt;();\n\n   @JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\n   private List&lt;Photo&gt; photos = new ArrayList&lt;&gt;();\n\n   // Getters &amp; Setters\n}\n</code></pre>\n\n<p>If you still have this error, please add this line of code in your application.properties file</p>\n\n<pre><code>spring.jackson.serialization.fail-on-empty-beans=false\n</code></pre>\n\n<p>I hope your problem will be solved. Thanks.</p>\n"},{"comments":[{"owner":{"account_id":4211074,"reputation":471,"user_id":3448748,"accept_rate":25,"display_name":"Rajan Chauhan"},"score":0,"creation_date":1589545727,"post_id":58490797,"comment_id":109343838,"body_markdown":"@Szelek thanks for this, i was getting the same error cause i was using getOne() method now changed it to findById(id).get().","body":"@Szelek thanks for this, i was getting the same error cause i was using getOne() method now changed it to findById(id).get()."},{"owner":{"account_id":5642991,"reputation":9226,"user_id":4466122,"accept_rate":33,"display_name":"Lay Leangsros"},"score":0,"creation_date":1590324078,"post_id":58490797,"comment_id":109631939,"body_markdown":"wow, @Szelek, You are god. I don&#39;t understand why this little change saved my life.","body":"wow, @Szelek, You are god. I don&#39;t understand why this little change saved my life."},{"owner":{"account_id":8902417,"reputation":776,"user_id":6645454,"accept_rate":90,"display_name":"Martin Boros"},"score":0,"creation_date":1590774413,"post_id":58490797,"comment_id":109818510,"body_markdown":"Fixed for me, thanks for the info. Watched a tutorial where they used getOne(), anyone know why that method is not working properly?","body":"Fixed for me, thanks for the info. Watched a tutorial where they used getOne(), anyone know why that method is not working properly?"},{"owner":{"account_id":9308224,"reputation":182,"user_id":6911067,"display_name":"Gorjan Mishevski"},"score":4,"creation_date":1601212057,"post_id":58490797,"comment_id":113329773,"body_markdown":"@LayLeangsros wondered the same thing my self. Found this great article which describes the differences between the getOne and findById.\nBasically getOne is a lazy load operation. Thus you get only a reference (a proxy) to the entity. That means no DB access is actually made. Only when you call it&#39;s properties then it will query the DB. \nfindByID does the call eagry right when you call it, thus you have the actual entity fully populated.\nhttps://www.javacodemonk.com/difference-between-getone-and-findbyid-in-spring-data-jpa-3a96c3ff","body":"@LayLeangsros wondered the same thing my self. Found this great article which describes the differences between the getOne and findById. Basically getOne is a lazy load operation. Thus you get only a reference (a proxy) to the entity. That means no DB access is actually made. Only when you call it&#39;s properties then it will query the DB.  findByID does the call eagry right when you call it, thus you have the actual entity fully populated. <a href=\"https://www.javacodemonk.com/difference-between-getone-and-findbyid-in-spring-data-jpa-3a96c3ff\" rel=\"nofollow noreferrer\">javacodemonk.com/&hellip;</a>"},{"owner":{"account_id":21706289,"reputation":473,"user_id":16018684,"display_name":"Amos Machora"},"score":0,"creation_date":1651043839,"post_id":58490797,"comment_id":127265182,"body_markdown":"Any future people to run into this problem remember there are two methods findById and getById. findById returns an optional that&#39;s why you have to do a .get at the end of the method call. Change it to findById and you will be fine.","body":"Any future people to run into this problem remember there are two methods findById and getById. findById returns an optional that&#39;s why you have to do a .get at the end of the method call. Change it to findById and you will be fine."},{"owner":{"account_id":15044072,"reputation":853,"user_id":10857795,"display_name":"Johannes Pertl"},"score":0,"creation_date":1656057211,"post_id":58490797,"comment_id":128483202,"body_markdown":"Why does this error occur though? There seems to be a bigger issue if getById is not working","body":"Why does this error occur though? There seems to be a bigger issue if getById is not working"}],"tags":[],"owner":{"account_id":13610812,"reputation":2719,"user_id":9818388,"display_name":"Szelek"},"comment_count":6,"down_vote_count":1,"up_vote_count":213,"is_accepted":true,"score":212,"last_activity_date":1610627008,"creation_date":1571676477,"answer_id":58490797,"question_id":52656517,"body_markdown":"I came across this error while doing a tutorial with spring repository. It turned out that the error was made at the stage of building the service class for my entity. \r\n\r\nIn your serviceImpl class, you probably have something like:\r\n\r\n        @Override\r\n        public YourEntityClass findYourEntityClassById(Long id) {\r\n          return YourEntityClassRepositorie.getOne(id);\r\n        }\r\n\r\nChange this to:\r\n\r\n        @Override\r\n        public YourEntityClass findYourEntityClassById(Long id) {\r\n          return YourEntityClassRepositorie.findById(id).get();\r\n        }\r\n\r\nBasically getOne is a lazy load operation. Thus you get only a reference (a proxy) to the entity. That means no DB access is actually made. Only when you call it&#39;s properties then it will query the DB. findByID does the call &#39;eagerly&#39;/immediately when you call it, thus you have the actual entity fully populated.\r\n\r\nTake a look at this: [Link to the difference between getOne &amp; findByID][1]\r\n\r\n\r\n  [1]: https://www.javacodemonk.com/difference-between-getone-and-findbyid-in-spring-data-jpa-3a96c3ff","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>I came across this error while doing a tutorial with spring repository. It turned out that the error was made at the stage of building the service class for my entity.</p>\n<p>In your serviceImpl class, you probably have something like:</p>\n<pre><code>    @Override\n    public YourEntityClass findYourEntityClassById(Long id) {\n      return YourEntityClassRepositorie.getOne(id);\n    }\n</code></pre>\n<p>Change this to:</p>\n<pre><code>    @Override\n    public YourEntityClass findYourEntityClassById(Long id) {\n      return YourEntityClassRepositorie.findById(id).get();\n    }\n</code></pre>\n<p>Basically getOne is a lazy load operation. Thus you get only a reference (a proxy) to the entity. That means no DB access is actually made. Only when you call it's properties then it will query the DB. findByID does the call 'eagerly'/immediately when you call it, thus you have the actual entity fully populated.</p>\n<p>Take a look at this: <a href=\"https://www.javacodemonk.com/difference-between-getone-and-findbyid-in-spring-data-jpa-3a96c3ff\" rel=\"noreferrer\">Link to the difference between getOne &amp; findByID</a></p>\n"},{"comments":[{"owner":{"account_id":4702873,"reputation":384,"user_id":3805978,"accept_rate":71,"display_name":"jfzr"},"score":0,"creation_date":1581565804,"post_id":59329020,"comment_id":106480152,"body_markdown":"This will throw a NullPointer Exception. Optional cannot return null","body":"This will throw a NullPointer Exception. Optional cannot return null"},{"owner":{"account_id":387196,"reputation":464,"user_id":745401,"display_name":"seenimurugan"},"score":0,"creation_date":1583783175,"post_id":59329020,"comment_id":107225127,"body_markdown":"Thank you. You saved my day.","body":"Thank you. You saved my day."},{"owner":{"account_id":104443,"reputation":69,"user_id":279242,"display_name":"SNabi"},"score":0,"creation_date":1586109366,"post_id":59329020,"comment_id":107999809,"body_markdown":"@jfzr About Optional: A container object which may or may not contain a non-null value.","body":"@jfzr About Optional: A container object which may or may not contain a non-null value."}],"tags":[],"owner":{"account_id":104443,"reputation":69,"user_id":279242,"display_name":"SNabi"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1610636466,"creation_date":1576266921,"answer_id":59329020,"question_id":52656517,"body_markdown":"I also faced with this problem. @Szelek&#39;s answer helped me. But I did it with another way. Changed getOne() method to:\r\n\r\n    repository.findById(id).orElse(null)\r\n\r\nEnsure you are taking care of the `NullPointerException` this will generate when it&#39;s not found.","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>I also faced with this problem. @Szelek's answer helped me. But I did it with another way. Changed getOne() method to:</p>\n<pre><code>repository.findById(id).orElse(null)\n</code></pre>\n<p>Ensure you are taking care of the <code>NullPointerException</code> this will generate when it's not found.</p>\n"},{"comments":[{"owner":{"account_id":150121,"reputation":768,"user_id":363075,"accept_rate":100,"display_name":"Tarun"},"score":3,"creation_date":1688058949,"post_id":60773017,"comment_id":135026303,"body_markdown":"This approach is not the right solution. As this disables the LAZY mode resulting in many unnecessary queries for data you probably won&#39;t require.","body":"This approach is not the right solution. As this disables the LAZY mode resulting in many unnecessary queries for data you probably won&#39;t require."},{"owner":{"account_id":15607790,"reputation":847,"user_id":11260084,"display_name":"warren zingwena"},"score":0,"creation_date":1702043710,"post_id":60773017,"comment_id":136852441,"body_markdown":"@Tarun this good answer given you want to query products with its Categories\n\n\t@ManyToOne(fetch = FetchType.EAGER)\n\t@JoinColumn(name = &quot;categoryId&quot;)\n\tprivate Category category;","body":"@Tarun this good answer given you want to query products with its Categories  \t@ManyToOne(fetch = FetchType.EAGER) \t@JoinColumn(name = &quot;categoryId&quot;) \tprivate Category category;"}],"tags":[],"owner":{"account_id":4018615,"reputation":2239,"user_id":3309799,"accept_rate":33,"display_name":"Chris Neve"},"comment_count":2,"down_vote_count":3,"up_vote_count":25,"is_accepted":false,"score":22,"last_activity_date":1671285499,"creation_date":1584702679,"answer_id":60773017,"question_id":52656517,"body_markdown":"Changing the `FetchType` from `Lazy` to `Eager` did the trick for me.","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>Changing the <code>FetchType</code> from <code>Lazy</code> to <code>Eager</code> did the trick for me.</p>\n"},{"tags":[],"owner":{"account_id":17945275,"reputation":649,"user_id":13039704,"display_name":"Seldo97"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1597515172,"creation_date":1597514470,"answer_id":63429269,"question_id":52656517,"body_markdown":"`@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})` work for me very well. **It doesn&#39;t miss any reference objects** and resolve the problem.\r\n\r\nIn my case:\r\n\r\n    @Entity\r\n    @Table(name = &quot;applications&quot;)\r\n    public class Application implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @NotBlank\r\n        @Size(max = 36, min = 36)\r\n        private String guid;\r\n    \r\n        @NotBlank\r\n        @Size(max = 60)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;refresh_delay&quot;)\r\n        private int refreshDelay;\r\n    \r\n        @ManyToOne(fetch = LAZY)\r\n        @JoinColumn(name = &quot;id_production&quot;, referencedColumnName = &quot;id&quot;)\r\n        @JsonIgnoreProperties(value = {&quot;applications&quot;, &quot;hibernateLazyInitializer&quot;})\r\n        private Production production;","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p><code>@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})</code> work for me very well. <strong>It doesn't miss any reference objects</strong> and resolve the problem.</p>\n<p>In my case:</p>\n<pre><code>@Entity\n@Table(name = &quot;applications&quot;)\npublic class Application implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @NotBlank\n    @Size(max = 36, min = 36)\n    private String guid;\n\n    @NotBlank\n    @Size(max = 60)\n    private String name;\n\n    @Column(name = &quot;refresh_delay&quot;)\n    private int refreshDelay;\n\n    @ManyToOne(fetch = LAZY)\n    @JoinColumn(name = &quot;id_production&quot;, referencedColumnName = &quot;id&quot;)\n    @JsonIgnoreProperties(value = {&quot;applications&quot;, &quot;hibernateLazyInitializer&quot;})\n    private Production production;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15427686,"reputation":82,"user_id":11129951,"display_name":"akhil Raj Kunwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1601295138,"creation_date":1601295138,"answer_id":64101954,"question_id":52656517,"body_markdown":"i also faced same problem.\r\nI was using repo.getOne(id);\r\ni changed it to repo.findById(id). It returned optional, but now error is gone","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>i also faced same problem.\nI was using repo.getOne(id);\ni changed it to repo.findById(id). It returned optional, but now error is gone</p>\n"},{"comments":[{"owner":{"account_id":5281693,"reputation":702,"user_id":4216826,"display_name":"mumbasa"},"score":0,"creation_date":1650924420,"post_id":65056163,"comment_id":127234366,"body_markdown":"I changed from getById(id)  to findById(id).get","body":"I changed from getById(id)  to findById(id).get"}],"tags":[],"owner":{"account_id":20085691,"reputation":31,"user_id":14727301,"display_name":"Georges MOMO"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619493253,"creation_date":1606613750,"answer_id":65056163,"question_id":52656517,"body_markdown":"Changing from\r\n```\r\nMyEntityClassRepositorie.getOne(id)\r\n```\r\nto\r\n```\r\nMyEntityClassRepositorie.findById(id).get()\r\n``` \r\nwork fine for me.\r\n","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>Changing from</p>\n<pre><code>MyEntityClassRepositorie.getOne(id)\n</code></pre>\n<p>to</p>\n<pre><code>MyEntityClassRepositorie.findById(id).get()\n</code></pre>\n<p>work fine for me.</p>\n"},{"tags":[],"owner":{"account_id":208724,"reputation":10099,"user_id":4057038,"accept_rate":40,"display_name":"Meena Chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612858066,"creation_date":1612858066,"answer_id":66115122,"question_id":52656517,"body_markdown":"For me, I got this error for a DTO object. The problem was I didn&#39;t provide getters for DTO properties. Therefore, Jackson was not able to fetch those values and assumed the bean is empty. **Solution**:\r\n\r\n&gt; Add Getters to your DTO","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>For me, I got this error for a DTO object. The problem was I didn't provide getters for DTO properties. Therefore, Jackson was not able to fetch those values and assumed the bean is empty. <strong>Solution</strong>:</p>\n<blockquote>\n<p>Add Getters to your DTO</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":4986610,"reputation":1806,"user_id":4010017,"accept_rate":88,"display_name":"kaushalpranav"},"score":0,"creation_date":1701598145,"post_id":66129267,"comment_id":136793677,"body_markdown":"Please add some documentation on where the parameters `&quot;handler&quot;` and `&quot;hibernateLazyInitializer&quot;` come from.","body":"Please add some documentation on where the parameters <code>&quot;handler&quot;</code> and <code>&quot;hibernateLazyInitializer&quot;</code> come from."}],"tags":[],"owner":{"account_id":16633777,"reputation":61,"user_id":12021005,"display_name":"Arber Berisha"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1612948409,"creation_date":1612917054,"answer_id":66129267,"question_id":52656517,"body_markdown":"This solved my issue.\r\n\r\n     @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n\r\n\r\n\r\n","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>This solved my issue.</p>\n<pre><code> @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":150121,"reputation":768,"user_id":363075,"accept_rate":100,"display_name":"Tarun"},"score":0,"creation_date":1688058715,"post_id":71416675,"comment_id":135026249,"body_markdown":"See my response https://stackoverflow.com/a/76583167/363075 for how to do this using jakarta.* libraries.","body":"See my response <a href=\"https://stackoverflow.com/a/76583167/363075\">stackoverflow.com/a/76583167/363075</a> for how to do this using jakarta.* libraries."}],"tags":[],"owner":{"account_id":6364163,"reputation":188,"user_id":4938634,"display_name":"kvs"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1646864523,"creation_date":1646864523,"answer_id":71416675,"question_id":52656517,"body_markdown":"This answer comes from the book: &quot;learn microservices with spring boot&quot;\r\nInstead of supressing the error on empty bean which is suggested by the spring there are more preferable ways to handle this.\r\n\r\n&gt; We configured our nested User entities to be fetched in LAZY mode, so\r\n&gt; theyâ€™re not being queried from the database. We also said that\r\n&gt; Hibernate creates proxies for our classes in runtime. Thatâ€™s the\r\n&gt; reason behind the ByteBuddyInterceptor class. You can try switching\r\n&gt; the fetch mode to EAGER, and you will no longer get this error. But\r\n&gt; thatâ€™s not the proper solution to this problem since then weâ€™ll be\r\n&gt; triggering many queries for data we donâ€™t need. Letâ€™s keep the lazy\r\n&gt; fetch mode and fix this accordingly. The first option we have is to\r\n&gt; customize our JSON serialization so it can handle Hibernate objects.\r\n&gt; Luckily, FasterXML,the provider of Jackson libraries, has a specific\r\n&gt; module for Hibernate that we can use in our ObjectMapper objects:\r\n&gt; jackson-datatype-hibernate:\r\n\r\n    &lt;dependency&gt;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&gt; We create a bean for our new Hibernate module for Jackson. Spring\r\n&gt; Bootâ€™s Jackson2ObjectMapperBuilder will use it via autoconfiguration,\r\n&gt; and all our ObjectMapper instances will use the Spring Boot defaults\r\n&gt; plus our own customization.\r\n\r\n\r\n    import com.fasterxml.jackson.databind.Module;\r\n    import com.fasterxml.jackson.datatype.hibernate5.Hibernate5Module;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    @Configuration\r\n    public class JsonConfiguration {\r\n    &#160;&#160;&#160;&#160;@Bean\r\n    &#160;&#160;&#160;&#160;public Module hibernateModule() {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return new Hibernate5Module();\r\n    &#160;&#160;&#160;&#160;}\r\n    }","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>This answer comes from the book: &quot;learn microservices with spring boot&quot;\nInstead of supressing the error on empty bean which is suggested by the spring there are more preferable ways to handle this.</p>\n<blockquote>\n<p>We configured our nested User entities to be fetched in LAZY mode, so\ntheyâ€™re not being queried from the database. We also said that\nHibernate creates proxies for our classes in runtime. Thatâ€™s the\nreason behind the ByteBuddyInterceptor class. You can try switching\nthe fetch mode to EAGER, and you will no longer get this error. But\nthatâ€™s not the proper solution to this problem since then weâ€™ll be\ntriggering many queries for data we donâ€™t need. Letâ€™s keep the lazy\nfetch mode and fix this accordingly. The first option we have is to\ncustomize our JSON serialization so it can handle Hibernate objects.\nLuckily, FasterXML,the provider of Jackson libraries, has a specific\nmodule for Hibernate that we can use in our ObjectMapper objects:\njackson-datatype-hibernate:</p>\n</blockquote>\n<pre><code>&lt;dependency&gt;\nÂ Â Â Â Â Â Â Â &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\nÂ Â Â Â Â Â Â Â &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<blockquote>\n<p>We create a bean for our new Hibernate module for Jackson. Spring\nBootâ€™s Jackson2ObjectMapperBuilder will use it via autoconfiguration,\nand all our ObjectMapper instances will use the Spring Boot defaults\nplus our own customization.</p>\n</blockquote>\n<pre><code>import com.fasterxml.jackson.databind.Module;\nimport com.fasterxml.jackson.datatype.hibernate5.Hibernate5Module;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n@Configuration\npublic class JsonConfiguration {\nÂ Â Â Â @Bean\nÂ Â Â Â public Module hibernateModule() {\nÂ Â Â Â Â Â Â Â return new Hibernate5Module();\nÂ Â Â Â }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656309833,"creation_date":1650995199,"answer_id":72018348,"question_id":52656517,"body_markdown":"In my case I was facing same exception with `@EntityGraph`. Actually I was trying to fetch OneToMany (**inventoryList**) via EntityGraph and it&#39;s working but when I tried get another relation with ManyToOne (**category**) it was giving error. I don&#39;t know why it became lazy. As we know `@ManyToOne` is by default eager.\r\n\r\n    class Product {\r\n     \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;categoryId&quot;)\r\n        private Category category;\r\n\r\n        @OneToMany(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;Inventory&gt; inventoryList;\r\n    }\r\n\r\nRepository method:\r\n\r\n    @EntityGraph(attributePaths = { &quot;inventoryList&quot; })\r\n    List&lt;Product&gt; findAll();\r\n\r\nI was getting same expection because I didn&#39;t add category in EntityGraph fetch. After adding **category** it&#39;s get fixed.\r\n\r\n    @EntityGraph(attributePaths = { &quot;inventoryList&quot;, &quot;category&quot; })\r\n    List&lt;Product&gt; findAll();\r\n","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>In my case I was facing same exception with <code>@EntityGraph</code>. Actually I was trying to fetch OneToMany (<strong>inventoryList</strong>) via EntityGraph and it's working but when I tried get another relation with ManyToOne (<strong>category</strong>) it was giving error. I don't know why it became lazy. As we know <code>@ManyToOne</code> is by default eager.</p>\n<pre><code>class Product {\n \n    @ManyToOne\n    @JoinColumn(name = &quot;categoryId&quot;)\n    private Category category;\n\n    @OneToMany(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL)\n    private List&lt;Inventory&gt; inventoryList;\n}\n</code></pre>\n<p>Repository method:</p>\n<pre><code>@EntityGraph(attributePaths = { &quot;inventoryList&quot; })\nList&lt;Product&gt; findAll();\n</code></pre>\n<p>I was getting same expection because I didn't add category in EntityGraph fetch. After adding <strong>category</strong> it's get fixed.</p>\n<pre><code>@EntityGraph(attributePaths = { &quot;inventoryList&quot;, &quot;category&quot; })\nList&lt;Product&gt; findAll();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19444772,"reputation":52,"user_id":14222561,"display_name":"Abhishek Agashe"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1659293432,"creation_date":1659293432,"answer_id":73186088,"question_id":52656517,"body_markdown":"As I worked on localhost I just needed a Server. The following worked for me\r\n\r\n    &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;9.0.65&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>As I worked on localhost I just needed a Server. The following worked for me</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n        &lt;version&gt;9.0.65&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":150121,"reputation":768,"user_id":363075,"accept_rate":100,"display_name":"Tarun"},"score":1,"creation_date":1688058399,"post_id":75401425,"comment_id":135026168,"body_markdown":"See my comment above, change your javax.* configuration to jakarta.* configuration to resolve this issue without reverting back to older javax.* libraries.","body":"See my comment above, change your javax.* configuration to jakarta.* configuration to resolve this issue without reverting back to older javax.* libraries."},{"owner":{"account_id":150121,"reputation":768,"user_id":363075,"accept_rate":100,"display_name":"Tarun"},"score":1,"creation_date":1688058789,"post_id":75401425,"comment_id":135026269,"body_markdown":"Here is the link for your easy reference  https://stackoverflow.com/a/76583167/363075","body":"Here is the link for your easy reference  <a href=\"https://stackoverflow.com/a/76583167/363075\">stackoverflow.com/a/76583167/363075</a>"}],"tags":[],"owner":{"account_id":4606828,"reputation":1240,"user_id":3736063,"display_name":"Malek Tubaisaht"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675959422,"creation_date":1675959422,"answer_id":75401425,"question_id":52656517,"body_markdown":"I faced this problem once I moved to using `jakarta.persistence` library , once I changed back to `javax.persistence` the problem sovled.","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>I faced this problem once I moved to using <code>jakarta.persistence</code> library , once I changed back to <code>javax.persistence</code> the problem sovled.</p>\n"},{"comments":[{"owner":{"account_id":150121,"reputation":768,"user_id":363075,"accept_rate":100,"display_name":"Tarun"},"score":0,"creation_date":1688058452,"post_id":75455897,"comment_id":135026179,"body_markdown":"This approach has more overhead, see my resolution using JsonConfiguration below for a better solution to this problem.","body":"This approach has more overhead, see my resolution using JsonConfiguration below for a better solution to this problem."}],"tags":[],"owner":{"account_id":16056405,"reputation":59,"user_id":11588592,"display_name":"Apoorv Vardhman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676964902,"creation_date":1676439847,"answer_id":75455897,"question_id":52656517,"body_markdown":"If you are using spring 6 then it will work \r\n\r\n    spring:\r\n      jackson:\r\n        serialization:\r\n          fail-on-empty-beans: false","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>If you are using spring 6 then it will work</p>\n<pre><code>spring:\n  jackson:\n    serialization:\n      fail-on-empty-beans: false\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3047626,"reputation":55,"user_id":2582860,"display_name":"one_2_three"},"score":0,"creation_date":1693824251,"post_id":76583167,"comment_id":135806686,"body_markdown":"This worked for me.","body":"This worked for me."}],"tags":[],"owner":{"account_id":150121,"reputation":768,"user_id":363075,"accept_rate":100,"display_name":"Tarun"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688058002,"creation_date":1688058002,"answer_id":76583167,"question_id":52656517,"body_markdown":"Add the following dependency in your pom.xml for javax.*\r\n\r\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\r\n\r\nOr following for jakarta.*\r\n\r\n\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jackson-datatype-hibernate5-jakarta&lt;/artifactId&gt;\r\n\r\nAnd add the configuration as below for javax.*: \r\n\r\n    package microservices.book.multiplication.configuration;\r\n    \r\n    import com.fasterxml.jackson.databind.Module;\r\n    import com.fasterxml.jackson.datatype.hibernate5.jakarta.Hibernate5JakartaModule;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class JsonConfiguration {\r\n        @Bean\r\n        public Module hibernateModule() {\r\n            return new Hibernate5JakartaModule();\r\n        }\r\n       \r\n    }\r\n\r\nOr for jakarta.* package, add the configuration as below:\r\n\r\n    package microservices.book.multiplication.configuration;\r\n    \r\n    import com.fasterxml.jackson.databind.Module;\r\n    import com.fasterxml.jackson.datatype.hibernate5.jakarta.Hibernate5JakartaModule;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class JsonConfiguration {\r\n        @Bean\r\n        public Module hibernateModule() {\r\n            return new Hibernate5JakartaModule();\r\n        }\r\n       \r\n    }\r\n\r\nThe above two steps should resolve this issue.","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>Add the following dependency in your pom.xml for javax.*</p>\n<pre><code>&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n&lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\n</code></pre>\n<p>Or following for jakarta.*</p>\n<pre><code>&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n&lt;artifactId&gt;jackson-datatype-hibernate5-jakarta&lt;/artifactId&gt;\n</code></pre>\n<p>And add the configuration as below for javax.*:</p>\n<pre><code>package microservices.book.multiplication.configuration;\n\nimport com.fasterxml.jackson.databind.Module;\nimport com.fasterxml.jackson.datatype.hibernate5.jakarta.Hibernate5JakartaModule;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class JsonConfiguration {\n    @Bean\n    public Module hibernateModule() {\n        return new Hibernate5JakartaModule();\n    }\n   \n}\n</code></pre>\n<p>Or for jakarta.* package, add the configuration as below:</p>\n<pre><code>package microservices.book.multiplication.configuration;\n\nimport com.fasterxml.jackson.databind.Module;\nimport com.fasterxml.jackson.datatype.hibernate5.jakarta.Hibernate5JakartaModule;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class JsonConfiguration {\n    @Bean\n    public Module hibernateModule() {\n        return new Hibernate5JakartaModule();\n    }\n   \n}\n</code></pre>\n<p>The above two steps should resolve this issue.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690961015,"post_id":76773234,"comment_id":135423940,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76773234/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27069487,"reputation":1,"user_id":20620326,"display_name":"cs7eric"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690388159,"creation_date":1690388159,"answer_id":76773234,"question_id":52656517,"body_markdown":"i found the approach from other article, you can add the public setter and getter in your class, it can solve this problem","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>i found the approach from other article, you can add the public setter and getter in your class, it can solve this problem</p>\n"}],"owner":{"account_id":9675677,"reputation":8158,"user_id":10257611,"display_name":"Ayoub k"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170963,"favorite_count":0,"down_vote_count":0,"up_vote_count":131,"accepted_answer_id":58490797,"answer_count":17,"score":131,"last_activity_date":1690388159,"creation_date":1538696978,"question_id":52656517,"body_markdown":"When i try to navigate to an endpoint i get the following error\r\n\r\n    Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)  \r\n\r\nI checked all my models and all the attributes have getters and setters. So what&#39;s the problem ?\r\n\r\nI can fix that by adding `spring.jackson.serialization.fail-on-empty-beans=false` but i think this is just a work around to hide the exception.\r\n\r\n**Edit**  \r\n\r\n`Product` model:  \r\n\r\n    @Entity\r\n    public class Product {\r\n        private int id;\r\n        private String name;\r\n        private String photo;\r\n        private double price;\r\n        private int quantity;\r\n        private Double rating;\r\n        private Provider provider;\r\n        private String description;\r\n        private List&lt;Category&gt; categories = new ArrayList&lt;&gt;();\r\n        private List&lt;Photo&gt; photos = new ArrayList&lt;&gt;();\r\n        \r\n        // Getters &amp; Setters\r\n    }\r\n\r\n`PagedResponse` class :\r\n\r\n    public class PagedResponse&lt;T&gt; {\r\n    \r\n        private List&lt;T&gt; content;\r\n        private int page;\r\n        private int size;\r\n        private long totalElements;\r\n        private int totalPages;\r\n        private boolean last;\r\n        \r\n        // Getters &amp; Setters\r\n    }\r\n\r\n`RestResponse` Class :\r\n\r\n    public class RestResponse&lt;T&gt; {\r\n    \tprivate String status;\r\n    \tprivate int code;\r\n    \tprivate String message;\r\n    \tprivate T result;\r\n    \r\n        // Getters &amp; Setters\r\n    }\r\n\r\nIn my controller i&#39;m returning **`ResponseEntity&lt;RestResponse&lt;PagedResponse&lt;Product&gt;&gt;&gt;`**","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>When i try to navigate to an endpoint i get the following error</p>\n<pre><code>Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)  \n</code></pre>\n<p>I checked all my models and all the attributes have getters and setters. So what's the problem ?</p>\n<p>I can fix that by adding <code>spring.jackson.serialization.fail-on-empty-beans=false</code> but i think this is just a work around to hide the exception.</p>\n<p><strong>Edit</strong></p>\n<p><code>Product</code> model:</p>\n<pre><code>@Entity\npublic class Product {\n    private int id;\n    private String name;\n    private String photo;\n    private double price;\n    private int quantity;\n    private Double rating;\n    private Provider provider;\n    private String description;\n    private List&lt;Category&gt; categories = new ArrayList&lt;&gt;();\n    private List&lt;Photo&gt; photos = new ArrayList&lt;&gt;();\n    \n    // Getters &amp; Setters\n}\n</code></pre>\n<p><code>PagedResponse</code> class :</p>\n<pre><code>public class PagedResponse&lt;T&gt; {\n\n    private List&lt;T&gt; content;\n    private int page;\n    private int size;\n    private long totalElements;\n    private int totalPages;\n    private boolean last;\n    \n    // Getters &amp; Setters\n}\n</code></pre>\n<p><code>RestResponse</code> Class :</p>\n<pre><code>public class RestResponse&lt;T&gt; {\n    private String status;\n    private int code;\n    private String message;\n    private T result;\n\n    // Getters &amp; Setters\n}\n</code></pre>\n<p>In my controller i'm returning <strong><code>ResponseEntity&lt;RestResponse&lt;PagedResponse&lt;Product&gt;&gt;&gt;</code></strong></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1690386811,"post_id":76773051,"comment_id":135347171,"body_markdown":"IS this a BroadcastReceiver?  If so, a BroadcastReceiver can no longer start a foreground process.  See https://developer.android.com/guide/components/activities/background-starts","body":"IS this a BroadcastReceiver?  If so, a BroadcastReceiver can no longer start a foreground process.  See <a href=\"https://developer.android.com/guide/components/activities/background-starts\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/activities/&hellip;</a>"},{"owner":{"account_id":19076289,"reputation":1,"user_id":13929503,"display_name":"skzao"},"score":0,"creation_date":1690386994,"post_id":76773051,"comment_id":135347215,"body_markdown":"Yes it is, what should i do to make it work? But right now im not using a foreground service","body":"Yes it is, what should i do to make it work? But right now im not using a foreground service"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1690388374,"post_id":76773051,"comment_id":135347547,"body_markdown":"If you want your app to start when the device starts, create a launcher.","body":"If you want your app to start when the device starts, create a launcher."},{"owner":{"account_id":19076289,"reputation":1,"user_id":13929503,"display_name":"skzao"},"score":0,"creation_date":1690447507,"post_id":76773051,"comment_id":135356054,"body_markdown":"Do you have any resource?","body":"Do you have any resource?"}],"owner":{"account_id":19076289,"reputation":1,"user_id":13929503,"display_name":"skzao"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690387602,"creation_date":1690386689,"question_id":76773051,"body_markdown":"So i have the down code and the app still does not open the app i want.\r\nIt does not give any error on the try catch and says it open the app.\r\nIs it something about android api 29?\r\n\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.content.pm.PackageManager;\r\n    import android.util.Log;\r\n    \r\n    public class StartOnBootUpReceiver extends BroadcastReceiver {\r\n        private static final String PREF_SELECTED_APP_PACKAGE = &quot;selected_app_package&quot;;\r\n        private static final String TAG = &quot;StartOnBootUpReceiver&quot;;\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n    \r\n            if (Intent.ACTION_BOOT_COMPLETED.equals(action) ||\r\n                    Intent.ACTION_SCREEN_ON.equals(action) ||\r\n                    Intent.ACTION_USER_PRESENT.equals(action)) {\r\n    \r\n                // Retrieve the selected app&#39;s package name from SharedPreferences\r\n                SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\r\n                String selectedAppPackage = sharedPreferences.getString(PREF_SELECTED_APP_PACKAGE, null);\r\n    \r\n                if (selectedAppPackage != null) {\r\n                    PackageManager packageManager = context.getPackageManager();\r\n                    Intent launchIntent = packageManager.getLaunchIntentForPackage(selectedAppPackage);\r\n                    if (launchIntent != null) {\r\n                        launchIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                        try {\r\n                            context.startActivity(launchIntent);\r\n                            Log.d(TAG, &quot;App launched: &quot; + selectedAppPackage);\r\n                        } catch (Exception e) {\r\n                            Log.e(TAG, &quot;Error launching app: &quot; + e.getMessage());\r\n                        }\r\n                    } else {\r\n                        Log.d(TAG, &quot;Launch intent is null for package: &quot; + selectedAppPackage);\r\n                    }\r\n                } else {\r\n                    Log.d(TAG, &quot;Selected app package is null.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI tried also make it by a background service but it still didnt work.\r\nI already have the on boot complete permission.\r\n\r\n","title":"How can i make my android app open another app?","body":"<p>So i have the down code and the app still does not open the app i want.\nIt does not give any error on the try catch and says it open the app.\nIs it something about android api 29?</p>\n<pre><code>import android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.content.pm.PackageManager;\nimport android.util.Log;\n\npublic class StartOnBootUpReceiver extends BroadcastReceiver {\n    private static final String PREF_SELECTED_APP_PACKAGE = &quot;selected_app_package&quot;;\n    private static final String TAG = &quot;StartOnBootUpReceiver&quot;;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n\n        if (Intent.ACTION_BOOT_COMPLETED.equals(action) ||\n                Intent.ACTION_SCREEN_ON.equals(action) ||\n                Intent.ACTION_USER_PRESENT.equals(action)) {\n\n            // Retrieve the selected app's package name from SharedPreferences\n            SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\n            String selectedAppPackage = sharedPreferences.getString(PREF_SELECTED_APP_PACKAGE, null);\n\n            if (selectedAppPackage != null) {\n                PackageManager packageManager = context.getPackageManager();\n                Intent launchIntent = packageManager.getLaunchIntentForPackage(selectedAppPackage);\n                if (launchIntent != null) {\n                    launchIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                    try {\n                        context.startActivity(launchIntent);\n                        Log.d(TAG, &quot;App launched: &quot; + selectedAppPackage);\n                    } catch (Exception e) {\n                        Log.e(TAG, &quot;Error launching app: &quot; + e.getMessage());\n                    }\n                } else {\n                    Log.d(TAG, &quot;Launch intent is null for package: &quot; + selectedAppPackage);\n                }\n            } else {\n                Log.d(TAG, &quot;Selected app package is null.&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>I tried also make it by a background service but it still didnt work.\nI already have the on boot complete permission.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","ehcache"],"owner":{"account_id":9041360,"reputation":57,"user_id":6735499,"display_name":"Anton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690387168,"creation_date":1690376646,"question_id":76771640,"body_markdown":"As stated in the title, I see a behaviour for which I wasn&#39;t able to find an answer that would actually explain or help to understand whether my cache for queries works or not.\r\n\r\nWhat I have is:\r\n\r\n1. An entity\r\n```\r\n@Entity\r\n@Table(name = &quot;customer&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@Cacheable\r\n@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE, region = &quot;customer&quot;)\r\npublic class Customer {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;product_id&quot;)\r\n    private String productId;\r\n```\r\n\r\n2. Repository\r\n```\r\n@Repository\r\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt; {\r\n\r\n    @QueryHints({\r\n            @QueryHint(name = &quot;org.hibernate.cacheable&quot;, value = &quot;true&quot;)\r\n    })\r\n    Optional&lt;Customer&gt; findByProductId(String productId);\r\n\r\n}\r\n```\r\n3. application.yaml\r\n```\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: test\r\n  jpa:\r\n    generate-ddl: true\r\n    hibernate:\r\n        ddl-auto: create-drop\r\n    properties:\r\n      javax:\r\n        persistence:\r\n          sharedCache:\r\n            mode: ENABLE_SELECTIVE\r\n      hibernate:\r\n        generate_statistics: true\r\n        cache:\r\n          use_second_level_cache: true\r\n          use_query_cache: true\r\n          region:\r\n            factory_class: org.hibernate.cache.jcache.JCacheRegionFactory\r\n        javax:\r\n          cache:\r\n            provider: org.ehcache.jsr107.EhcacheCachingProvider\r\n            #missing_cache_strategy: fail\r\n            uri: ehcache.xml\r\n```\r\n4. ehcache config\r\n```\r\n&lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns=&quot;http://www.ehcache.org/v3&quot;\r\n        xmlns:jsr107=&quot;http://www.ehcache.org/v3/jsr107&quot;\r\n        xsi:schemaLocation=&quot;\r\n            http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.0.xsd\r\n            http://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.0.xsd&quot;&gt;\r\n\r\n    &lt;cache alias=&quot;customer&quot;&gt;\r\n        &lt;expiry&gt;\r\n            &lt;ttl unit=&quot;seconds&quot;&gt;15&lt;/ttl&gt;\r\n        &lt;/expiry&gt;\r\n        &lt;resources&gt;\r\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\r\n            &lt;offheap unit=&quot;MB&quot;&gt;100&lt;/offheap&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/cache&gt;\r\n\r\n&lt;/config&gt;\r\n```\r\n5. Test\r\n```\r\n@Test\r\npublic void test() {\r\n        // setup\r\n        Customer customer = new Customer();\r\n        customer.setProductId(&quot;product_1&quot;);\r\n\r\n        customerRepository.persist(customer);\r\n\r\n        // test\r\n        customerRepository.findByProductId(&quot;product1&quot;);\r\n        customerRepository.findByProductId(&quot;product1&quot;);\r\n        customerRepository.findByProductId(&quot;product1&quot;);\r\n        customerRepository.findByProductId(&quot;product2&quot;);\r\n        customerRepository.findByProductId(&quot;product2&quot;);\r\n        customerRepository.findByProductId(&quot;product1&quot;);\r\n        customerRepository.findByProductId(&quot;product1&quot;);\r\n        customerRepository.findById(customer.getId());\r\n        customerRepository.findById(customer.getId());\r\n        customerRepository.findById(customer.getId());\r\n}\r\n```\r\nWhen the test is executed I see the following statistics:\r\n```\r\n...\r\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\r\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\r\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\r\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\r\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\r\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\r\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\r\n\r\n2023-07-26T13:52:14.245+01:00  INFO 98236 --- [    Test worker] i.StatisticalLoggingSessionEventListener : Session Metrics {\r\n    804750 nanoseconds spent acquiring 1 JDBC connections;\r\n    0 nanoseconds spent releasing 0 JDBC connections;\r\n    2941542 nanoseconds spent preparing 9 JDBC statements;\r\n    11014291 nanoseconds spent executing 9 JDBC statements;\r\n    0 nanoseconds spent executing 0 JDBC batches;\r\n    14025208 nanoseconds spent performing 9 L2C puts;\r\n    1288917 nanoseconds spent performing 10 L2C hits;\r\n    154709 nanoseconds spent performing 2 L2C misses;\r\n    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\r\n    2719793 nanoseconds spent executing 8 partial-flushes (flushing a total of 7 entities and 7 collections)\r\n```\r\nFrom what we see, hibernate still generates queries and executes them. So the cache isn&#39;t actually working, right? If such so, what am I might be missing?\r\n\r\n**UPDATE:** I have 2 different sources which point to the different DBs and I just have discovered that this behaviour only happens for the Data Source which is set as @Primary. For the alternative one, there are no queries being generated if there is a hit. How can I fix it for the @Primary data source?","title":"Hibernate 2nd level query caching generates queries on hits","body":"<p>As stated in the title, I see a behaviour for which I wasn't able to find an answer that would actually explain or help to understand whether my cache for queries works or not.</p>\n<p>What I have is:</p>\n<ol>\n<li>An entity</li>\n</ol>\n<pre><code>@Entity\n@Table(name = &quot;customer&quot;)\n@Data\n@NoArgsConstructor\n@Cacheable\n@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE, region = &quot;customer&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;product_id&quot;)\n    private String productId;\n</code></pre>\n<ol start=\"2\">\n<li>Repository</li>\n</ol>\n<pre><code>@Repository\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt; {\n\n    @QueryHints({\n            @QueryHint(name = &quot;org.hibernate.cacheable&quot;, value = &quot;true&quot;)\n    })\n    Optional&lt;Customer&gt; findByProductId(String productId);\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>application.yaml</li>\n</ol>\n<pre><code>spring:\n  config:\n    activate:\n      on-profile: test\n  jpa:\n    generate-ddl: true\n    hibernate:\n        ddl-auto: create-drop\n    properties:\n      javax:\n        persistence:\n          sharedCache:\n            mode: ENABLE_SELECTIVE\n      hibernate:\n        generate_statistics: true\n        cache:\n          use_second_level_cache: true\n          use_query_cache: true\n          region:\n            factory_class: org.hibernate.cache.jcache.JCacheRegionFactory\n        javax:\n          cache:\n            provider: org.ehcache.jsr107.EhcacheCachingProvider\n            #missing_cache_strategy: fail\n            uri: ehcache.xml\n</code></pre>\n<ol start=\"4\">\n<li>ehcache config</li>\n</ol>\n<pre><code>&lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xmlns=&quot;http://www.ehcache.org/v3&quot;\n        xmlns:jsr107=&quot;http://www.ehcache.org/v3/jsr107&quot;\n        xsi:schemaLocation=&quot;\n            http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.0.xsd\n            http://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.0.xsd&quot;&gt;\n\n    &lt;cache alias=&quot;customer&quot;&gt;\n        &lt;expiry&gt;\n            &lt;ttl unit=&quot;seconds&quot;&gt;15&lt;/ttl&gt;\n        &lt;/expiry&gt;\n        &lt;resources&gt;\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\n            &lt;offheap unit=&quot;MB&quot;&gt;100&lt;/offheap&gt;\n        &lt;/resources&gt;\n    &lt;/cache&gt;\n\n&lt;/config&gt;\n</code></pre>\n<ol start=\"5\">\n<li>Test</li>\n</ol>\n<pre><code>@Test\npublic void test() {\n        // setup\n        Customer customer = new Customer();\n        customer.setProductId(&quot;product_1&quot;);\n\n        customerRepository.persist(customer);\n\n        // test\n        customerRepository.findByProductId(&quot;product1&quot;);\n        customerRepository.findByProductId(&quot;product1&quot;);\n        customerRepository.findByProductId(&quot;product1&quot;);\n        customerRepository.findByProductId(&quot;product2&quot;);\n        customerRepository.findByProductId(&quot;product2&quot;);\n        customerRepository.findByProductId(&quot;product1&quot;);\n        customerRepository.findByProductId(&quot;product1&quot;);\n        customerRepository.findById(customer.getId());\n        customerRepository.findById(customer.getId());\n        customerRepository.findById(customer.getId());\n}\n</code></pre>\n<p>When the test is executed I see the following statistics:</p>\n<pre><code>...\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\n\n2023-07-26T13:52:14.245+01:00  INFO 98236 --- [    Test worker] i.StatisticalLoggingSessionEventListener : Session Metrics {\n    804750 nanoseconds spent acquiring 1 JDBC connections;\n    0 nanoseconds spent releasing 0 JDBC connections;\n    2941542 nanoseconds spent preparing 9 JDBC statements;\n    11014291 nanoseconds spent executing 9 JDBC statements;\n    0 nanoseconds spent executing 0 JDBC batches;\n    14025208 nanoseconds spent performing 9 L2C puts;\n    1288917 nanoseconds spent performing 10 L2C hits;\n    154709 nanoseconds spent performing 2 L2C misses;\n    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\n    2719793 nanoseconds spent executing 8 partial-flushes (flushing a total of 7 entities and 7 collections)\n</code></pre>\n<p>From what we see, hibernate still generates queries and executes them. So the cache isn't actually working, right? If such so, what am I might be missing?</p>\n<p><strong>UPDATE:</strong> I have 2 different sources which point to the different DBs and I just have discovered that this behaviour only happens for the Data Source which is set as @Primary. For the alternative one, there are no queries being generated if there is a hit. How can I fix it for the @Primary data source?</p>\n"},{"tags":["java","gwt"],"answers":[{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690386495,"post_id":76772937,"comment_id":135347102,"body_markdown":"Are you certain the keys are unique? Otherwise you will overwrite all but the last value for that key.","body":"Are you certain the keys are unique? Otherwise you will overwrite all but the last value for that key."},{"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"score":1,"creation_date":1690386619,"post_id":76772937,"comment_id":135347128,"body_markdown":"I believe all keys in JS objects are unique","body":"I believe all keys in JS objects are unique"}],"tags":[],"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690385799,"creation_date":1690385799,"answer_id":76772937,"question_id":76772936,"body_markdown":"Using simple iteration and copying:\r\n```java\r\nimport elemental2.core.JsObject;\r\nimport jsinterop.base.Js;\r\nimport jsinterop.base.JsPropertyMap;\r\n\r\nimport java.util.LinkedHashMap;\r\nimport java.util.Map;\r\n\r\npublic static Map&lt;String, String&gt; jsObjectToMap(JsObject obj) {\r\n    Map&lt;String, String&gt; result = new LinkedHashMap&lt;&gt;();\r\n    JsPropertyMap&lt;Object&gt; propMap = Js.asPropertyMap(obj);\r\n    propMap.forEach(key -&gt; {\r\n        result.put(key, Objects.toString(propMap.get(key)));\r\n    });\r\n    return result;\r\n}\r\n```","title":"How to convert Elemental2 JsObject to Map&lt;String, String&gt;?","body":"<p>Using simple iteration and copying:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import elemental2.core.JsObject;\nimport jsinterop.base.Js;\nimport jsinterop.base.JsPropertyMap;\n\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\npublic static Map&lt;String, String&gt; jsObjectToMap(JsObject obj) {\n    Map&lt;String, String&gt; result = new LinkedHashMap&lt;&gt;();\n    JsPropertyMap&lt;Object&gt; propMap = Js.asPropertyMap(obj);\n    propMap.forEach(key -&gt; {\n        result.put(key, Objects.toString(propMap.get(key)));\n    });\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76772937,"answer_count":1,"score":-1,"last_activity_date":1690385799,"creation_date":1690385799,"question_id":76772936,"body_markdown":"Looking for a way to convert Elemental2 `JsObject` to `Map&lt;String, String&gt;`:\r\n```java\r\nimport elemental2.core.JsObject;\r\n\r\npublic static Map&lt;String, String&gt; jsObjectToMap(JsObject obj) {\r\n    // code in question\r\n}\r\n```\r\nIs there a more efficient way that just iterating and creating a new map (I&#39;ll post that as my own answer)?","title":"How to convert Elemental2 JsObject to Map&lt;String, String&gt;?","body":"<p>Looking for a way to convert Elemental2 <code>JsObject</code> to <code>Map&lt;String, String&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import elemental2.core.JsObject;\n\npublic static Map&lt;String, String&gt; jsObjectToMap(JsObject obj) {\n    // code in question\n}\n</code></pre>\n<p>Is there a more efficient way that just iterating and creating a new map (I'll post that as my own answer)?</p>\n"},{"tags":["java","graphql","schema","code-first","generate"],"owner":{"account_id":29094980,"reputation":1,"user_id":22288049,"display_name":"Stupify"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690385475,"creation_date":1690371048,"question_id":76770815,"body_markdown":"I want to generate GraphQL schema files from Java model, specifically for input operator filters for each field similar to https://www.mongodb.com/docs/atlas/app-services/graphql/types-and-resolvers/#std-label-graphql-input-types where it generates filters with the format [field-name]_[operator]. \r\n\r\nAnd then on query, how can i de-serialize the input/filter as there are no Java objects defined to match the filter or its properties?\r\n\r\nFor example, if i had a POJO class as follows:\r\n    `\r\n\r\n    public class Person{\r\n        private String firstname;\r\n        private String lastname;\r\n        private int age;\r\n    }\r\n    `\r\n\r\nit would auto generate schema file with input filters with operators for each field, like so:\r\n    `\r\n\r\n    type input PersonFilter {\r\n        firstname_contains\r\n        firstname_startsWith\r\n        ... (no lte (&gt;=) or lt (&gt;) - is string, not a num)\r\n        lastname_contains\r\n        lastname_startsWith\r\n        ... (no lte (&gt;=) or lt (&gt;) - is string, not a num)\r\n        age_lte\r\n        age_lt\r\n        ... (no startsWith or contains as is num, not a string)\r\n    }\r\n\r\n    `\r\n\r\ni see SPQR, java-annotations, ... that can be used for Code-first, schema generation, but none go into details of how to work with inputs or operators based input filters.\r\n\r\n","title":"Java Spring for Graphql - Code-first - how to generate schema with dynamic input types","body":"<p>I want to generate GraphQL schema files from Java model, specifically for input operator filters for each field similar to <a href=\"https://www.mongodb.com/docs/atlas/app-services/graphql/types-and-resolvers/#std-label-graphql-input-types\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/atlas/app-services/graphql/types-and-resolvers/#std-label-graphql-input-types</a> where it generates filters with the format [field-name]_[operator].</p>\n<p>And then on query, how can i de-serialize the input/filter as there are no Java objects defined to match the filter or its properties?</p>\n<p>For example, if i had a POJO class as follows:\n`</p>\n<pre><code>public class Person{\n    private String firstname;\n    private String lastname;\n    private int age;\n}\n`\n</code></pre>\n<p>it would auto generate schema file with input filters with operators for each field, like so:\n`</p>\n<pre><code>type input PersonFilter {\n    firstname_contains\n    firstname_startsWith\n    ... (no lte (&gt;=) or lt (&gt;) - is string, not a num)\n    lastname_contains\n    lastname_startsWith\n    ... (no lte (&gt;=) or lt (&gt;) - is string, not a num)\n    age_lte\n    age_lt\n    ... (no startsWith or contains as is num, not a string)\n}\n\n`\n</code></pre>\n<p>i see SPQR, java-annotations, ... that can be used for Code-first, schema generation, but none go into details of how to work with inputs or operators based input filters.</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":16792711,"reputation":392,"user_id":12139920,"display_name":"Jake_3H"},"score":1,"creation_date":1690462172,"post_id":76766340,"comment_id":135359254,"body_markdown":"There is a GitHub issue already created. So for more info, check: https://github.com/spring-projects/spring-security/issues/13568","body":"There is a GitHub issue already created. So for more info, check: <a href=\"https://github.com/spring-projects/spring-security/issues/13568\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/issues/13568</a>"},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1690473052,"post_id":76766340,"comment_id":135361971,"body_markdown":"@Jake_3H Thanx for the link, very helpful.","body":"@Jake_3H Thanx for the link, very helpful."},{"owner":{"account_id":3542965,"reputation":397,"user_id":2959589,"accept_rate":0,"display_name":"user2959589"},"score":0,"creation_date":1690483668,"post_id":76766340,"comment_id":135363993,"body_markdown":"@Jake_3H : So what is the right answer on this within 3.1.2? Do we use AntPathMatcher or MvcRequestMatcher? This is very important because it&#39;s the security configuration, and I want to make sure I&#39;m protecting the resources I think I&#39;m protecting.","body":"@Jake_3H : So what is the right answer on this within 3.1.2? Do we use AntPathMatcher or MvcRequestMatcher? This is very important because it&#39;s the security configuration, and I want to make sure I&#39;m protecting the resources I think I&#39;m protecting."},{"owner":{"account_id":16792711,"reputation":392,"user_id":12139920,"display_name":"Jake_3H"},"score":1,"creation_date":1690581377,"post_id":76766340,"comment_id":135378715,"body_markdown":"That mostly depends on the patterns u use and their use-case. I would say AntPathMatcher is the way to go if u have exactly specific route(s), that u want to configure (for example in our app, we require auth for everything but /health route, so I went with AntPathMatcher). Here is a nice link explaining their difference: https://stackoverflow.com/questions/50536292/difference-between-antmatcher-and-mvcmatcherv","body":"That mostly depends on the patterns u use and their use-case. I would say AntPathMatcher is the way to go if u have exactly specific route(s), that u want to configure (for example in our app, we require auth for everything but /health route, so I went with AntPathMatcher). Here is a nice link explaining their difference: <a href=\"https://stackoverflow.com/questions/50536292/difference-between-antmatcher-and-mvcmatcherv\" title=\"difference between antmatcher and mvcmatcherv\">stackoverflow.com/questions/50536292/&hellip;</a>"}],"tags":[],"owner":{"account_id":3542965,"reputation":397,"user_id":2959589,"accept_rate":0,"display_name":"user2959589"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1690317329,"creation_date":1690317329,"answer_id":76766340,"question_id":76764618,"body_markdown":"I ran into the same exception in a very basic configuration with Spring Security 6.1.2. I solved it with:\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http.\r\n                authorizeHttpRequests(requests -&gt; {\r\n                        requests.requestMatchers(new AntPathRequestMatcher(&quot;/&quot;), new AntPathRequestMatcher(&quot;/style.css&quot;)).permitAll();\r\n                        requests.requestMatchers(new AntPathRequestMatcher(&quot;/secure/**&quot;)).hasAuthority(&quot;MyAuthority&quot;);\r\n                }).\r\n\r\nI&#39;m not sure if this is the right way do to it but it does seem to work. Within Spring Security 6, `AbstractRequestMatcherRegistry` doesn&#39;t have a `.antMatchers()` method anymore. Again, not really sure if this is the best way and not completely sure why I would want an ant matcher vs an MVC endpoint matcher.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/AbstractRequestMatcherRegistry.html","title":"SecurityFilterChain fails to instantiate after spring boot migration from 3.0.8 to 3.0.9","body":"<p>I ran into the same exception in a very basic configuration with Spring Security 6.1.2. I solved it with:</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http.\n            authorizeHttpRequests(requests -&gt; {\n                    requests.requestMatchers(new AntPathRequestMatcher(&quot;/&quot;), new AntPathRequestMatcher(&quot;/style.css&quot;)).permitAll();\n                    requests.requestMatchers(new AntPathRequestMatcher(&quot;/secure/**&quot;)).hasAuthority(&quot;MyAuthority&quot;);\n            }).\n</code></pre>\n<p>I'm not sure if this is the right way do to it but it does seem to work. Within Spring Security 6, <code>AbstractRequestMatcherRegistry</code> doesn't have a <code>.antMatchers()</code> method anymore. Again, not really sure if this is the best way and not completely sure why I would want an ant matcher vs an MVC endpoint matcher.</p>\n"},{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690385451,"creation_date":1690385451,"answer_id":76772883,"question_id":76764618,"body_markdown":"user2959589 answer shows me the right way, thanks!\r\n\r\n    http\r\n        // public routes\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/&quot;))\r\n        .permitAll()\r\n        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/favicon.ico&quot;))\r\n        .permitAll()\r\n        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/v3/api-docs*&quot;))\r\n        .permitAll()\r\n        .and()\r\n\r\n        // enable security for the log-view\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/log&quot;))\r\n        .hasAnyRole(ROLE_LOGVIEWER)\r\n        .and()\r\n\r\n        // enable security for the health check\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/manage/health&quot;))\r\n        .hasAnyRole(ROLE_HEALTH)\r\n        .and()\r\n\r\n        // enable basic-auth and ROLE_USER for all other routes\r\n        .authorizeHttpRequests()\r\n        .anyRequest()\r\n        .hasAnyRole(ROLE_USER)\r\n        .and()\r\n        .httpBasic();","title":"SecurityFilterChain fails to instantiate after spring boot migration from 3.0.8 to 3.0.9","body":"<p>user2959589 answer shows me the right way, thanks!</p>\n<pre><code>http\n    // public routes\n    .authorizeHttpRequests()\n    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/&quot;))\n    .permitAll()\n    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/favicon.ico&quot;))\n    .permitAll()\n    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/v3/api-docs*&quot;))\n    .permitAll()\n    .and()\n\n    // enable security for the log-view\n    .authorizeHttpRequests()\n    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/log&quot;))\n    .hasAnyRole(ROLE_LOGVIEWER)\n    .and()\n\n    // enable security for the health check\n    .authorizeHttpRequests()\n    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/manage/health&quot;))\n    .hasAnyRole(ROLE_HEALTH)\n    .and()\n\n    // enable basic-auth and ROLE_USER for all other routes\n    .authorizeHttpRequests()\n    .anyRequest()\n    .hasAnyRole(ROLE_USER)\n    .and()\n    .httpBasic();\n</code></pre>\n"}],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3833,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":76772883,"answer_count":2,"score":9,"last_activity_date":1690385451,"creation_date":1690301562,"question_id":76764618,"body_markdown":"In my spring boot project I&#39;ve got the following definition of a SecurityFilterChain: \r\n\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n      http\r\n\r\n        // public routes\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(&quot;/&quot;, &quot;/favicon.ico&quot;, &quot;/v3/api-docs*&quot;)\r\n        .permitAll()\r\n        .and()\r\n\r\n        // enable security for the log-view\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(&quot;/log&quot;)\r\n        .hasAnyRole(ROLE_LOGVIEWER)\r\n        .and()\r\n\r\n        // enable security for the health check\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(&quot;/manage/health&quot;)\r\n        .hasAnyRole(ROLE_HEALTH)\r\n        .and()\r\n\r\n        // enable basic-auth and ROLE_USER for all other routes\r\n        .authorizeHttpRequests()\r\n        .anyRequest()\r\n        .hasAnyRole(ROLE_USER)\r\n        .and()\r\n        .httpBasic();\r\n\r\n      return http.build();\r\n    }\r\n\r\nIt&#39;s tested in several mockup tests and runs as expected in the production environment.\r\n\r\nBut after the migration from spring-boot 3.0.8 to 3.0.9, I&#39;ve got the following error:\r\n\r\n    Factory method &#39;filterChain&#39; threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\r\n\r\nI tried to use a more specific requst matcher, but without success.\r\n\r\nAny hints for me?","title":"SecurityFilterChain fails to instantiate after spring boot migration from 3.0.8 to 3.0.9","body":"<p>In my spring boot project I've got the following definition of a SecurityFilterChain:</p>\n<pre><code>public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n  http\n\n    // public routes\n    .authorizeHttpRequests()\n    .requestMatchers(&quot;/&quot;, &quot;/favicon.ico&quot;, &quot;/v3/api-docs*&quot;)\n    .permitAll()\n    .and()\n\n    // enable security for the log-view\n    .authorizeHttpRequests()\n    .requestMatchers(&quot;/log&quot;)\n    .hasAnyRole(ROLE_LOGVIEWER)\n    .and()\n\n    // enable security for the health check\n    .authorizeHttpRequests()\n    .requestMatchers(&quot;/manage/health&quot;)\n    .hasAnyRole(ROLE_HEALTH)\n    .and()\n\n    // enable basic-auth and ROLE_USER for all other routes\n    .authorizeHttpRequests()\n    .anyRequest()\n    .hasAnyRole(ROLE_USER)\n    .and()\n    .httpBasic();\n\n  return http.build();\n}\n</code></pre>\n<p>It's tested in several mockup tests and runs as expected in the production environment.</p>\n<p>But after the migration from spring-boot 3.0.8 to 3.0.9, I've got the following error:</p>\n<pre><code>Factory method 'filterChain' threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\n</code></pre>\n<p>I tried to use a more specific requst matcher, but without success.</p>\n<p>Any hints for me?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690385030,"creation_date":1690385030,"answer_id":76772832,"question_id":76772096,"body_markdown":"The solution provided out-of-the-box by Spring Boot Data JPA is based on locking of the specified row of the database table. It can be locked either\r\n- just for reading - to avoid so called dirty reads \r\n- or for update - to avoid overwriting of changes made by somebody else.\r\n\r\nDepending on your business case you can choose optimistic or pessimistic locking. The former is simpler and should be preferred when your application mostly reads data and only rarely update it. The latter can be used in the opposite case or if the more advance logic is needed.\r\n\r\nFor more details and code examples you can check:\r\n1. [https://www.baeldung.com/jpa-optimistic-locking][1]\r\n1. [https://www.baeldung.com/jpa-pessimistic-locking][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-optimistic-locking\r\n  [2]: https://www.baeldung.com/jpa-pessimistic-locking","title":"Solution for many spring boot processes to read and update data in one table","body":"<p>The solution provided out-of-the-box by Spring Boot Data JPA is based on locking of the specified row of the database table. It can be locked either</p>\n<ul>\n<li>just for reading - to avoid so called dirty reads</li>\n<li>or for update - to avoid overwriting of changes made by somebody else.</li>\n</ul>\n<p>Depending on your business case you can choose optimistic or pessimistic locking. The former is simpler and should be preferred when your application mostly reads data and only rarely update it. The latter can be used in the opposite case or if the more advance logic is needed.</p>\n<p>For more details and code examples you can check:</p>\n<ol>\n<li><a href=\"https://www.baeldung.com/jpa-optimistic-locking\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-optimistic-locking</a></li>\n<li><a href=\"https://www.baeldung.com/jpa-pessimistic-locking\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-pessimistic-locking</a></li>\n</ol>\n"}],"owner":{"account_id":22070829,"reputation":49,"user_id":16331833,"display_name":"sonnv0812"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690385030,"creation_date":1690380005,"question_id":76772096,"body_markdown":"It seems that **shedlock** works in this case, but what I want here is that all processes on multiple nodes run at the same time, unlike shedlock, which locks the table and can only be accessed by the locked person.\r\n\r\nIs there any solution for this problem?\r\n\r\nThanks so much for the help","title":"Solution for many spring boot processes to read and update data in one table","body":"<p>It seems that <strong>shedlock</strong> works in this case, but what I want here is that all processes on multiple nodes run at the same time, unlike shedlock, which locks the table and can only be accessed by the locked person.</p>\n<p>Is there any solution for this problem?</p>\n<p>Thanks so much for the help</p>\n"},{"tags":["java","apache-flink","amazon-kinesis","amazon-kinesis-analytics"],"comments":[{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":0,"creation_date":1652105039,"post_id":72172566,"comment_id":127518720,"body_markdown":"The `WatermarkStrategy` contains both the `TimestampAssigner` and the `WatermarkGenerator` and they are working in hand and hand. So, where did you read that the assigner API is deprecated?","body":"The <code>WatermarkStrategy</code> contains both the <code>TimestampAssigner</code> and the <code>WatermarkGenerator</code> and they are working in hand and hand. So, where did you read that the assigner API is deprecated?"},{"owner":{"account_id":2854774,"reputation":83,"user_id":2451248,"display_name":"Bombington"},"score":0,"creation_date":1652166552,"post_id":72172566,"comment_id":127533746,"body_markdown":"Hi @PeterCsala - it&#39;s from the flink docs at the bottom of this page: https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/datastream/event-time/generating_watermarks/\nThe Kinesis consumer takes an AssignerWithPeriodicWatermarks - this is deprecated","body":"Hi @PeterCsala - it&#39;s from the flink docs at the bottom of this page: <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/datastream/event-time/generating_watermarks/\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/&zwnj;&#8203;&hellip;</a> The Kinesis consumer takes an AssignerWithPeriodicWatermarks - this is deprecated"},{"owner":{"account_id":2854774,"reputation":83,"user_id":2451248,"display_name":"Bombington"},"score":0,"creation_date":1652166736,"post_id":72172566,"comment_id":127533791,"body_markdown":"Should also add that kinesis docs also stipulate adding the method `setStreamTimeCharacteristic()` on the StreamExecutionEnvironment - which is also deprecated.","body":"Should also add that kinesis docs also stipulate adding the method <code>setStreamTimeCharacteristic()</code> on the StreamExecutionEnvironment - which is also deprecated."},{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":0,"creation_date":1652167630,"post_id":72172566,"comment_id":127534077,"body_markdown":"Which version of Flink are you using in KDA? 1.11?","body":"Which version of Flink are you using in KDA? 1.11?"},{"owner":{"account_id":2854774,"reputation":83,"user_id":2451248,"display_name":"Bombington"},"score":0,"creation_date":1652169099,"post_id":72172566,"comment_id":127534530,"body_markdown":"The latest version - 1.13\nThe same methods and docs show these things deprecated in flink 1.13","body":"The latest version - 1.13 The same methods and docs show these things deprecated in flink 1.13"},{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":0,"creation_date":1652169336,"post_id":72172566,"comment_id":127534603,"body_markdown":"[Before 1.12 the default](https://nightlies.apache.org/flink/flink-docs-release-1.11/dev/table/streaming/time_attributes.html#introduction-to-time-attributes) TimeCharacteristic was ProcessingTime. In [1.12](https://flink.apache.org/news/2020/12/10/release-1.12.0.html#important-changes) this has been changed to EventTime so that&#39;s why the `setStreamTimeCharacteristic` become deprecated.","body":"<a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.11/dev/table/streaming/time_attributes.html#introduction-to-time-attributes\" rel=\"nofollow noreferrer\">Before 1.12 the default</a> TimeCharacteristic was ProcessingTime. In <a href=\"https://flink.apache.org/news/2020/12/10/release-1.12.0.html#important-changes\" rel=\"nofollow noreferrer\">1.12</a> this has been changed to EventTime so that&#39;s why the <code>setStreamTimeCharacteristic</code> become deprecated."},{"owner":{"account_id":2854774,"reputation":83,"user_id":2451248,"display_name":"Bombington"},"score":1,"creation_date":1652169808,"post_id":72172566,"comment_id":127534736,"body_markdown":"Ah cool. So that explains that. But then the questions still remains - how to implement a Watermark strategy on a Kinesis consumer without using deprecated methods?","body":"Ah cool. So that explains that. But then the questions still remains - how to implement a Watermark strategy on a Kinesis consumer without using deprecated methods?"},{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":0,"creation_date":1652170502,"post_id":72172566,"comment_id":127534970,"body_markdown":"As far as I can see from the [github source code](https://github.com/awslabs/amazon-kinesis-connector-flink) of the connector it is compatible with 1.11. The [`FlinkKinesisConsumer`](https://github.com/awslabs/amazon-kinesis-connector-flink/blob/master/amazon-kinesis-connector-flink/src/main/java/software/amazon/kinesis/connectors/flink/FlinkKinesisConsumer.java#L259) does not expose a method which anticipates a WatermarkingStrategy  . So I think it is fine to use the `setPeriodicWatermarkAssigner` method.","body":"As far as I can see from the <a href=\"https://github.com/awslabs/amazon-kinesis-connector-flink\" rel=\"nofollow noreferrer\">github source code</a> of the connector it is compatible with 1.11. The <a href=\"https://github.com/awslabs/amazon-kinesis-connector-flink/blob/master/amazon-kinesis-connector-flink/src/main/java/software/amazon/kinesis/connectors/flink/FlinkKinesisConsumer.java#L259\" rel=\"nofollow noreferrer\"><code>FlinkKinesisConsumer</code></a> does not expose a method which anticipates a WatermarkingStrategy  . So I think it is fine to use the <code>setPeriodicWatermarkAssigner</code> method."},{"owner":{"account_id":2854774,"reputation":83,"user_id":2451248,"display_name":"Bombington"},"score":0,"creation_date":1652170894,"post_id":72172566,"comment_id":127535092,"body_markdown":"Yeah. But I think it then also relies (according to docs and examples on Flink github) with a `setStreamTimeCharacteristic`. So to use a Watermark strategy with a kinesis consumer I believe the only way is to not set it on the source itself but on the stream and let Flink create a new stream from this and apply the Watermark strategy there. Thanks for all your help here @PeterCsala","body":"Yeah. But I think it then also relies (according to docs and examples on Flink github) with a <code>setStreamTimeCharacteristic</code>. So to use a Watermark strategy with a kinesis consumer I believe the only way is to not set it on the source itself but on the stream and let Flink create a new stream from this and apply the Watermark strategy there. Thanks for all your help here @PeterCsala"},{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":1,"creation_date":1652171122,"post_id":72172566,"comment_id":127535168,"body_markdown":"Yepp, calling the `assignTimestampsAndWatermarks` on a `DataStream&lt;T&gt;` is also viable option.","body":"Yepp, calling the <code>assignTimestampsAndWatermarks</code> on a <code>DataStream&lt;T&gt;</code> is also viable option."}],"answers":[{"tags":[],"owner":{"account_id":24470605,"reputation":425,"user_id":18579129,"display_name":"Jake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690384603,"creation_date":1690384214,"answer_id":76772722,"question_id":72172566,"body_markdown":"It&#39;s not possible to set it directly on `FlinkKinesisConsumer` (excepting, as you pointed out, by using the deprecated `AssignerWithPeriodicWatermarks` interface) nor any other implementation of `SourceFunction`, but you can set the watermarks as soon as you get the datastream.\r\n\r\nJudging from the comments I think you&#39;ve already figured it out, but this is what I&#39;m doing.\r\n\r\n```java\r\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\r\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\nimport org.apache.flink.streaming.connectors.kinesis.FlinkKinesisConsumer;\r\n\r\n// Set up\r\nvar env = StreamExecutionEnvironment.getExecutionEnvironment();\r\nvar consumerProperties = ...;\r\nvar deserializer = ...;\r\nvar kinesisConsumer = new FlinkKinesisConsumer&lt;MyDataType&gt;(kinesisStreamName, deserializer, consumerProperties);\r\n\r\n// Pick a watermark strategy.\r\n// Use some timestamp field from your event object.\r\nvar strategy = WatermarkStrategy.forMonotonousTimestamps&lt;MyDataType&gt;()\r\n                                .withTimestampAssigner((event, timestamp) -&gt; event.getTimestamp());\r\n\r\n// Start reading from Kinesis\r\nvar dataStream = env.addSource(kinesisConsumer)\r\n                    .assignTimestampsAndWatermarks(strategy);\r\n```\r\n\r\nYou&#39;ll have to tweak this to your use case. Obviously replace `MyDataType` with whatever is actually in your stream, but also note that `forMonotonousTimestamps` may not be suited to your use case, and `forBoundedOutOfOrderness` may work better.","title":"Watermark strategy on Flink Kinesis Consumer","body":"<p>It's not possible to set it directly on <code>FlinkKinesisConsumer</code> (excepting, as you pointed out, by using the deprecated <code>AssignerWithPeriodicWatermarks</code> interface) nor any other implementation of <code>SourceFunction</code>, but you can set the watermarks as soon as you get the datastream.</p>\n<p>Judging from the comments I think you've already figured it out, but this is what I'm doing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.connectors.kinesis.FlinkKinesisConsumer;\n\n// Set up\nvar env = StreamExecutionEnvironment.getExecutionEnvironment();\nvar consumerProperties = ...;\nvar deserializer = ...;\nvar kinesisConsumer = new FlinkKinesisConsumer&lt;MyDataType&gt;(kinesisStreamName, deserializer, consumerProperties);\n\n// Pick a watermark strategy.\n// Use some timestamp field from your event object.\nvar strategy = WatermarkStrategy.forMonotonousTimestamps&lt;MyDataType&gt;()\n                                .withTimestampAssigner((event, timestamp) -&gt; event.getTimestamp());\n\n// Start reading from Kinesis\nvar dataStream = env.addSource(kinesisConsumer)\n                    .assignTimestampsAndWatermarks(strategy);\n</code></pre>\n<p>You'll have to tweak this to your use case. Obviously replace <code>MyDataType</code> with whatever is actually in your stream, but also note that <code>forMonotonousTimestamps</code> may not be suited to your use case, and <code>forBoundedOutOfOrderness</code> may work better.</p>\n"}],"owner":{"account_id":2854774,"reputation":83,"user_id":2451248,"display_name":"Bombington"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1690384603,"creation_date":1652101975,"question_id":72172566,"body_markdown":"I am investigating using Flink with a Kinesis stream as a source. I would like to use Event Time watermarking.\r\nPlanning on running this on AWS managed Flink (Kinesis Analytics) platform.\r\n\r\nLooking at the AWS documentation and indeed [Flink documentation][1] it is recommended to use the FlinkKinesisConsumer.  \r\nTo enable EventTime on this consumer I see that the recommendation is to use a custom `AssignerWithPeriodicWatermarks()` and set it on the `KinesisConsumer` with `setPeriodicWatermarkAssigner`.\r\n\r\nHowever, I also read on the Flink documentation that this API is deprecated and it advised to use WatermarkStrategies.\r\n\r\nMy questions:\r\n- is it possible to use the WatermarkStrategy on the kinesis consumer or must it be applied after a non-source operation on the DataStream itself (discouraged in flink docs)?\r\n- if not possible and must be used after a non-source operation what does this mean? Why is it discouraged? how does it will performance of the workload\r\n- Or is it recommended to continue to use a deprecated API?\r\n- or is there another kinesis flink consumer than can be recommended\r\n\r\nThanks in advance for any suggestions\r\n\r\nAlexis\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/kinesis/","title":"Watermark strategy on Flink Kinesis Consumer","body":"<p>I am investigating using Flink with a Kinesis stream as a source. I would like to use Event Time watermarking.\nPlanning on running this on AWS managed Flink (Kinesis Analytics) platform.</p>\n<p>Looking at the AWS documentation and indeed <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/kinesis/\" rel=\"nofollow noreferrer\">Flink documentation</a> it is recommended to use the FlinkKinesisConsumer.<br />\nTo enable EventTime on this consumer I see that the recommendation is to use a custom <code>AssignerWithPeriodicWatermarks()</code> and set it on the <code>KinesisConsumer</code> with <code>setPeriodicWatermarkAssigner</code>.</p>\n<p>However, I also read on the Flink documentation that this API is deprecated and it advised to use WatermarkStrategies.</p>\n<p>My questions:</p>\n<ul>\n<li>is it possible to use the WatermarkStrategy on the kinesis consumer or must it be applied after a non-source operation on the DataStream itself (discouraged in flink docs)?</li>\n<li>if not possible and must be used after a non-source operation what does this mean? Why is it discouraged? how does it will performance of the workload</li>\n<li>Or is it recommended to continue to use a deprecated API?</li>\n<li>or is there another kinesis flink consumer than can be recommended</li>\n</ul>\n<p>Thanks in advance for any suggestions</p>\n<p>Alexis</p>\n"},{"tags":["java","eclipse","eclipse-plugin","runtime"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1690380895,"post_id":76771894,"comment_id":135345704,"body_markdown":"It&#39;s not via a listener. Your job has to do `if (monitor.isCanceled()) return Status.CANCEL_STATUS;`: https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/guide/runtime_jobs_progress.htm","body":"It&#39;s not via a listener. Your job has to do <code>if (monitor.isCanceled()) return Status.CANCEL_STATUS;</code>: <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/guide/runtime_jobs_progress.htm\" rel=\"nofollow noreferrer\">help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690452299,"post_id":76771894,"comment_id":135357077,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690384538,"creation_date":1690384538,"answer_id":76772765,"question_id":76771894,"body_markdown":"It&#39;s not via a listener. Your job has to execute the following on a regular basis (say a few times per second):\r\n\r\n    if (monitor.isCanceled())\r\n        return Status.CANCEL_STATUS;\r\n\r\nOtherwise, hitting the stop button will not stop the running job.\r\n\r\nSee: [Eclipse help: Platform Plug-in Developer Guide &gt; Reporting progress][1]\r\n\r\n\r\n  [1]: https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/guide/runtime_jobs_progress.htm","title":"Eclipse Plugin Development stop button in progress bar","body":"<p>It's not via a listener. Your job has to execute the following on a regular basis (say a few times per second):</p>\n<pre><code>if (monitor.isCanceled())\n    return Status.CANCEL_STATUS;\n</code></pre>\n<p>Otherwise, hitting the stop button will not stop the running job.</p>\n<p>See: <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/guide/runtime_jobs_progress.htm\" rel=\"nofollow noreferrer\">Eclipse help: Platform Plug-in Developer Guide &gt; Reporting progress</a></p>\n"}],"owner":{"account_id":26977574,"reputation":3,"user_id":20542483,"display_name":"Pravesh Gurjar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76772765,"answer_count":1,"score":0,"last_activity_date":1690384538,"creation_date":1690378620,"question_id":76771894,"body_markdown":"My plugin runs a job and is shown in progress bar but i am unable to stop the job from progress bar , i figured out there is IProgressMonitor.setcanceled(True) but i can&#39;t figure out where or how can there be a listener to the stop button on progress bar\r\n\r\nFor your reference https://help.eclipse.org/latest/nftopic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/core/runtime/IProgressMonitor.html#isCanceled() ","title":"Eclipse Plugin Development stop button in progress bar","body":"<p>My plugin runs a job and is shown in progress bar but i am unable to stop the job from progress bar , i figured out there is IProgressMonitor.setcanceled(True) but i can't figure out where or how can there be a listener to the stop button on progress bar</p>\n<p>For your reference <a href=\"https://help.eclipse.org/latest/nftopic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/core/runtime/IProgressMonitor.html#isCanceled()\" rel=\"nofollow noreferrer\">https://help.eclipse.org/latest/nftopic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/core/runtime/IProgressMonitor.html#isCanceled()</a></p>\n"},{"tags":["java","spring","spring-boot","kotlin"],"answers":[{"tags":[],"owner":{"account_id":22070829,"reputation":49,"user_id":16331833,"display_name":"sonnv0812"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690384471,"creation_date":1690384471,"answer_id":76772758,"question_id":76772322,"body_markdown":"Configure your WebMvcConfigurer as follows:\r\n\r\n    @Configuration\r\n    class WebMvcConfig : WebMvcConfigurer {\r\n    \r\n        override fun configureMessageConverters(converters: MutableList&lt;HttpMessageConverter&lt;*&gt;&gt;) {\r\n            converters.add(ByteArrayHttpMessageConverter())\r\n            converters.add(ResourceHttpMessageConverter())\r\n        }\r\n    }\r\n\r\nThen try this code to return response:\r\n\r\n    val pdfContent: ByteArray = ...\r\n    val resource = ByteArrayResource(pdfContent)\r\n    val responseEntity: ResponseEntity&lt;ByteArrayResource&gt; = ResponseEntity.ok()\r\n        .contentType(MediaType.APPLICATION_PDF)\r\n        .body(resource)","title":"How to add converter APPLICATION_PDF to the client in spring","body":"<p>Configure your WebMvcConfigurer as follows:</p>\n<pre><code>@Configuration\nclass WebMvcConfig : WebMvcConfigurer {\n\n    override fun configureMessageConverters(converters: MutableList&lt;HttpMessageConverter&lt;*&gt;&gt;) {\n        converters.add(ByteArrayHttpMessageConverter())\n        converters.add(ResourceHttpMessageConverter())\n    }\n}\n</code></pre>\n<p>Then try this code to return response:</p>\n<pre><code>val pdfContent: ByteArray = ...\nval resource = ByteArrayResource(pdfContent)\nval responseEntity: ResponseEntity&lt;ByteArrayResource&gt; = ResponseEntity.ok()\n    .contentType(MediaType.APPLICATION_PDF)\n    .body(resource)\n</code></pre>\n"}],"owner":{"account_id":29081666,"reputation":1,"user_id":22277541,"display_name":"Hpnotiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690384471,"creation_date":1690381595,"question_id":76772322,"body_markdown":"I&#39;m using the standard SpringDecoder, but HttpMessageConverters doesn&#39;t have a converter that supports MediaType APPLICATION_PDF\r\n\r\n```\r\n@Bean\r\n    fun decoder(messageConverters: ObjectFactory&lt;HttpMessageConverters&gt;) = SpringDecoder(messageConverters)\r\n```\r\n\r\n```\r\n@PostMapping(&quot;/download/receipt&quot;)\r\n    fun downloadReceipt(@PathVariable id: Long, @PathVariable receiptId: Long): ResponseEntity&lt;ByteArrayResource&gt;\r\n```\r\n\r\n```\r\n&quot;Could not extract response: no suitable HttpMessageConverter found for response type [org.springframework.http.ResponseEntity&lt;org.springframework.core.io.ByteArrayResource&gt;] and content type [application/pdf]&quot;\r\n```\r\n\r\nPlease tell me how to fix this problem\r\n\r\nAdd new converters to HttpMessageConverters failed","title":"How to add converter APPLICATION_PDF to the client in spring","body":"<p>I'm using the standard SpringDecoder, but HttpMessageConverters doesn't have a converter that supports MediaType APPLICATION_PDF</p>\n<pre><code>@Bean\n    fun decoder(messageConverters: ObjectFactory&lt;HttpMessageConverters&gt;) = SpringDecoder(messageConverters)\n</code></pre>\n<pre><code>@PostMapping(&quot;/download/receipt&quot;)\n    fun downloadReceipt(@PathVariable id: Long, @PathVariable receiptId: Long): ResponseEntity&lt;ByteArrayResource&gt;\n</code></pre>\n<pre><code>&quot;Could not extract response: no suitable HttpMessageConverter found for response type [org.springframework.http.ResponseEntity&lt;org.springframework.core.io.ByteArrayResource&gt;] and content type [application/pdf]&quot;\n</code></pre>\n<p>Please tell me how to fix this problem</p>\n<p>Add new converters to HttpMessageConverters failed</p>\n"},{"tags":["java","jaxb","modularity"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690382130,"post_id":76770108,"comment_id":135346024,"body_markdown":"You&#39;re using incompatible versions... JAXB-API 2.3.1 uses the `javax.xml.*` package names and module name `java.xml.bind`, while 3.0.2 uses the `jakarta.xml.*` package names, and its module name is `jakarta.xml.bind`.","body":"You&#39;re using incompatible versions... JAXB-API 2.3.1 uses the <code>javax.xml.*</code> package names and module name <code>java.xml.bind</code>, while 3.0.2 uses the <code>jakarta.xml.*</code> package names, and its module name is <code>jakarta.xml.bind</code>."},{"owner":{"account_id":15483344,"reputation":87,"user_id":11170011,"display_name":"KronosOne"},"score":0,"creation_date":1690383554,"post_id":76770108,"comment_id":135346431,"body_markdown":"@Mark I commented the jaxb-core and jaxb-impl with 3.02 version :                        but stil have error on module-info.java (module java.xml.bind unknow and JaxbException is stil in &quot;package javax.xml.bind is not visible\n  (package javax.xml.bind is declared in the unnamed module, but module View does not read it)&quot;","body":"@Mark I commented the jaxb-core and jaxb-impl with 3.02 version :                        but stil have error on module-info.java (module java.xml.bind unknow and JaxbException is stil in &quot;package javax.xml.bind is not visible   (package javax.xml.bind is declared in the unnamed module, but module View does not read it)&quot;"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690385878,"post_id":76770108,"comment_id":135346947,"body_markdown":"Then you have put the jaxb-api JAR on the classpath and not on the modulepath. Things that are on the classpath all end up in the unnamed module, and then the module `java.xml.bind` is not found as it doesn&#39;t exist.","body":"Then you have put the jaxb-api JAR on the classpath and not on the modulepath. Things that are on the classpath all end up in the unnamed module, and then the module <code>java.xml.bind</code> is not found as it doesn&#39;t exist."},{"owner":{"account_id":15483344,"reputation":87,"user_id":11170011,"display_name":"KronosOne"},"score":0,"creation_date":1690444627,"post_id":76770108,"comment_id":135355500,"body_markdown":"@Mark I think so , because putting dependency in maven mean putting in classpath . But , yes , I think need putting on modulepath , but how ? I thought that this was done by maven compiler plugin , I need more configuration in this plugin ?","body":"@Mark I think so , because putting dependency in maven mean putting in classpath . But , yes , I think need putting on modulepath , but how ? I thought that this was done by maven compiler plugin , I need more configuration in this plugin ?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690445485,"post_id":76770108,"comment_id":135355680,"body_markdown":"I haven&#39;t actually used Maven with modules yet, only Gradle, but a quick Google suggests it should do so automatically.","body":"I haven&#39;t actually used Maven with modules yet, only Gradle, but a quick Google suggests it should do so automatically."}],"owner":{"account_id":15483344,"reputation":87,"user_id":11170011,"display_name":"KronosOne"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690384278,"creation_date":1690365930,"question_id":76770108,"body_markdown":"I am trying to migrate my project to JDK 20 ( I am new to java modularization)\r\nThe project is very simple , it is a JAXB compile utility to have Google Kml Classes.\r\nI created the module-info.java as :\r\n\r\n    module View {\r\n       requires java.base;\r\n       requires java.xml.bind;\r\n    }\r\n\r\nAnd the maven compiler in pom.xml is as :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;savino.prove&lt;/groupId&gt;\r\n    &lt;artifactId&gt;View&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n        &lt;exec.mainClass&gt;savino.prove.view.View&lt;/exec.mainClass&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n       \r\n        &lt;!-- JAXB for JDK --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        \r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;CSGXml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;XmlModels&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.11.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        \r\n                        &lt;release&gt;20&lt;/release&gt;\r\n                        &lt;compilerArgs&gt;\r\n                            &lt;arg&gt;--add-modules&lt;/arg&gt;\r\n                            &lt;arg&gt;java.xml.bind&lt;/arg&gt;\r\n                        &lt;/compilerArgs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;    \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;xjc-schema1&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xjc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;!--target&gt;3.0&lt;/target--&gt;\r\n                            &lt;xjbSources&gt;\r\n                                &lt;xjbSource&gt;src/main/bindings.xjb&lt;/xjbSource&gt;\r\n                            &lt;/xjbSources&gt;\r\n                            &lt;!--outputDirectory&gt;${basedir}/out&lt;/outputDirectory--&gt;\r\n                            &lt;sources&gt;\r\n                                &lt;source&gt;\r\n                                    src/main/xsd/ogckml22.xsd\r\n                                &lt;/source&gt;\r\n                            &lt;/sources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                \r\n            &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nThe problems are :\r\n1. in module-info.java &#39;requires java.xml.bind&#39;  report message &#39;module not found&#39; \r\n2. in generated classes all import that involves &#39;javax.xml.*&#39; package report message &#39;package javax.xml.bind is not visible\r\n  (package javax.xml.bind is declared in the unnamed module, but module View does not read it)&#39;\r\n\r\nofcourse in project dependencies I can see the jaxb-api-2.3.1.jar \r\n\r\nthen where I am doing wrong ? \r\n\r\nNow , just a cleaning of pom avoiding dependencies with version 3.0.2.Now I am just:                                                       \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;savino.prove&lt;/groupId&gt;\r\n    &lt;artifactId&gt;View&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n        &lt;exec.mainClass&gt;savino.prove.view.View&lt;/exec.mainClass&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n       \r\n        &lt;!-- JAXB for JDK --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n        \r\n        &lt;!--\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;CSGXml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;XmlModels&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        \r\n            &lt;plugins&gt;  \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.11.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;20&lt;/source&gt;\r\n                        &lt;target&gt;20&lt;/target&gt;\r\n                        &lt;release&gt;20&lt;/release&gt;\r\n                        &lt;compilerArgs&gt;\r\n                            &lt;arg&gt;--add-modules&lt;/arg&gt;\r\n                            &lt;arg&gt;java.xml.bind&lt;/arg&gt;\r\n                        &lt;/compilerArgs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            \r\n        \r\n          \r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nNow I have just dependency from jaxb-api 2.3.1 (containing javax.xml.bind module) and a simple class that need some  classes from javax.xml.bind but stil two problem are here!","title":"JAXB compile jdk 20 (&gt;= 11)","body":"<p>I am trying to migrate my project to JDK 20 ( I am new to java modularization)\nThe project is very simple , it is a JAXB compile utility to have Google Kml Classes.\nI created the module-info.java as :</p>\n<pre><code>module View {\n   requires java.base;\n   requires java.xml.bind;\n}\n</code></pre>\n<p>And the maven compiler in pom.xml is as :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;savino.prove&lt;/groupId&gt;\n&lt;artifactId&gt;View&lt;/artifactId&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n    &lt;exec.mainClass&gt;savino.prove.view.View&lt;/exec.mainClass&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n   \n    &lt;!-- JAXB for JDK --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    \n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;CSGXml&lt;/groupId&gt;\n        &lt;artifactId&gt;XmlModels&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    \n                    &lt;release&gt;20&lt;/release&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;--add-modules&lt;/arg&gt;\n                        &lt;arg&gt;java.xml.bind&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;    \n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc-schema1&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;!--target&gt;3.0&lt;/target--&gt;\n                        &lt;xjbSources&gt;\n                            &lt;xjbSource&gt;src/main/bindings.xjb&lt;/xjbSource&gt;\n                        &lt;/xjbSources&gt;\n                        &lt;!--outputDirectory&gt;${basedir}/out&lt;/outputDirectory--&gt;\n                        &lt;sources&gt;\n                            &lt;source&gt;\n                                src/main/xsd/ogckml22.xsd\n                            &lt;/source&gt;\n                        &lt;/sources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            \n        &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>The problems are :</p>\n<ol>\n<li>in module-info.java 'requires java.xml.bind'  report message 'module not found'</li>\n<li>in generated classes all import that involves 'javax.xml.*' package report message 'package javax.xml.bind is not visible\n(package javax.xml.bind is declared in the unnamed module, but module View does not read it)'</li>\n</ol>\n<p>ofcourse in project dependencies I can see the jaxb-api-2.3.1.jar</p>\n<p>then where I am doing wrong ?</p>\n<p>Now , just a cleaning of pom avoiding dependencies with version 3.0.2.Now I am just:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;savino.prove&lt;/groupId&gt;\n&lt;artifactId&gt;View&lt;/artifactId&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n    &lt;exec.mainClass&gt;savino.prove.view.View&lt;/exec.mainClass&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n   \n    &lt;!-- JAXB for JDK --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    --&gt;\n    \n    &lt;!--\n    &lt;dependency&gt;\n        &lt;groupId&gt;CSGXml&lt;/groupId&gt;\n        &lt;artifactId&gt;XmlModels&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    --&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    \n        &lt;plugins&gt;  \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;20&lt;/source&gt;\n                    &lt;target&gt;20&lt;/target&gt;\n                    &lt;release&gt;20&lt;/release&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;--add-modules&lt;/arg&gt;\n                        &lt;arg&gt;java.xml.bind&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        \n    \n      \n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Now I have just dependency from jaxb-api 2.3.1 (containing javax.xml.bind module) and a simple class that need some  classes from javax.xml.bind but stil two problem are here!</p>\n"},{"tags":["java","json","spring","get-mapping"],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690352789,"post_id":76765483,"comment_id":135339575,"body_markdown":"The `produces` is only for mappin requests it is NOT for controlling the resulting header. The fact that it is part of the `@RequestMapping` should give the mapping part away.","body":"The <code>produces</code> is only for mappin requests it is NOT for controlling the resulting header. The fact that it is part of the <code>@RequestMapping</code> should give the mapping part away."},{"owner":{"account_id":12365901,"reputation":11,"user_id":22284025,"display_name":"Luke Jones"},"score":0,"creation_date":1690383832,"post_id":76765483,"comment_id":135346510,"body_markdown":"Using  produces=MediaType.APPLICATION_JSON_VALUE worked! Thanks!!","body":"Using  produces=MediaType.APPLICATION_JSON_VALUE worked! Thanks!!"}],"tags":[],"owner":{"account_id":29044288,"reputation":11,"user_id":22248486,"display_name":"Andrew"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690308741,"creation_date":1690308741,"answer_id":76765483,"question_id":76765437,"body_markdown":"Try using produces=MediaType.APPLICATION_JSON_VALUE. For example annotate your controller method with:\r\n\r\n    @GetMapping(value=&quot;/path&quot;, produces=MediaType.APPLICATION_JSON_VALUE)","title":"SpringBoot Return String as JSON","body":"<p>Try using produces=MediaType.APPLICATION_JSON_VALUE. For example annotate your controller method with:</p>\n<pre><code>@GetMapping(value=&quot;/path&quot;, produces=MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690352791,"post_id":76765510,"comment_id":135339576,"body_markdown":"The `produces` is only for mappin requests it is NOT for controlling the resulting header. The fact that it is part of the `@RequestMapping` should give the mapping part away.","body":"The <code>produces</code> is only for mappin requests it is NOT for controlling the resulting header. The fact that it is part of the <code>@RequestMapping</code> should give the mapping part away."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1690354511,"post_id":76765510,"comment_id":135339910,"body_markdown":"I think, `consumes` is used to control the request header, in&#39;t it? @M.Deinum","body":"I think, <code>consumes</code> is used to control the request header, in&#39;t it? @M.Deinum"},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1690357903,"post_id":76765510,"comment_id":135340579,"body_markdown":"I created an example on my [github](https://github.com/elimxim/spring-web-response-content-type-example) that demonstrates that the `prodcues` correctly sets the `Content-Type` as if it was set using the `ResponseEntity`. @M.Deinum","body":"I created an example on my <a href=\"https://github.com/elimxim/spring-web-response-content-type-example\" rel=\"nofollow noreferrer\">github</a> that demonstrates that the <code>prodcues</code> correctly sets the <code>Content-Type</code> as if it was set using the <code>ResponseEntity</code>. @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690368203,"post_id":76765510,"comment_id":135342767,"body_markdown":"produces as well. Because you can have multiple methods for the same URL but for different content-types that are accepted (like one for JSON and another PDF, using the same model but different ways to produce the output). It doesn&#39;t enforce the output.","body":"produces as well. Because you can have multiple methods for the same URL but for different content-types that are accepted (like one for JSON and another PDF, using the same model but different ways to produce the output). It doesn&#39;t enforce the output."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1690369225,"post_id":76765510,"comment_id":135342940,"body_markdown":"Thank you for your reply! I understood my mistake in the answer. @M.Deinum","body":"Thank you for your reply! I understood my mistake in the answer. @M.Deinum"}],"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690308980,"creation_date":1690308980,"answer_id":76765510,"question_id":76765437,"body_markdown":"Try to specify the `produces` in the annotation `@RequestMapping` as `application/json` and it will help you. For example:\r\n\r\n    @RestController\r\n    public class TestController {\r\n\r\n        @GetMapping(path = &quot;/test&quot;, produces = MediaType.APPLICATION_JSON_VALUE) // equals &#39;produces = &quot;application/json&quot;&#39;\r\n        public ResponseEntity&lt;String&gt; test() {\r\n            return ResponseEntity.ok(&quot;{}&quot;); // put your string here\r\n        }\r\n    }","title":"SpringBoot Return String as JSON","body":"<p>Try to specify the <code>produces</code> in the annotation <code>@RequestMapping</code> as <code>application/json</code> and it will help you. For example:</p>\n<pre><code>@RestController\npublic class TestController {\n\n    @GetMapping(path = &quot;/test&quot;, produces = MediaType.APPLICATION_JSON_VALUE) // equals 'produces = &quot;application/json&quot;'\n    public ResponseEntity&lt;String&gt; test() {\n        return ResponseEntity.ok(&quot;{}&quot;); // put your string here\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690352769,"post_id":76767690,"comment_id":135339572,"body_markdown":"The `produces` is only for mappin requests it is NOT for controlling the resulting header. The fact that it is part of the `@RequestMapping` should give the mapping part away.","body":"The <code>produces</code> is only for mappin requests it is NOT for controlling the resulting header. The fact that it is part of the <code>@RequestMapping</code> should give the mapping part away."},{"owner":{"account_id":12365901,"reputation":11,"user_id":22284025,"display_name":"Luke Jones"},"score":0,"creation_date":1690383820,"post_id":76767690,"comment_id":135346504,"body_markdown":"Using  produces=MediaType.APPLICATION_JSON_VALUE worked! Thanks!!","body":"Using  produces=MediaType.APPLICATION_JSON_VALUE worked! Thanks!!"}],"tags":[],"owner":{"account_id":29091836,"reputation":1,"user_id":22285474,"display_name":"unusualcoder"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690339332,"creation_date":1690339278,"answer_id":76767690,"question_id":76765437,"body_markdown":"You can try these things: \r\n\r\n 1. replace produces=text/plain with produces=MediaType.APPLICATION_JSON_VALUE\r\n 2. Use @RestController instead of @Controller, then remove @ResponseBody","title":"SpringBoot Return String as JSON","body":"<p>You can try these things:</p>\n<ol>\n<li>replace produces=text/plain with produces=MediaType.APPLICATION_JSON_VALUE</li>\n<li>Use @RestController instead of @Controller, then remove @ResponseBody</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690353031,"creation_date":1690353031,"answer_id":76768564,"question_id":76765437,"body_markdown":"To explicitly control the return type wrap it in an `ResponseEntity` and specify the content type on that. \r\n\r\n```java\r\n@GetMapping(value=&quot;/v1/Count&quot;, produces=&quot;text/plain&quot;\r\n@ResponseBody\r\npublic ResponeEntity&lt;String&gt; getCount(@RequestParam...) {\r\n   return ResponseEntity.ok()\r\n           .contentType(MediaType.APPLICATION_JSON)\r\n           .body(&quot;{type: &quot;&quot;, List1: []...}&quot;);\r\n}\r\n```\r\n\r\nThis will use the actual content type you provided instead of trying to infer it from the return type of the method.  ","title":"SpringBoot Return String as JSON","body":"<p>To explicitly control the return type wrap it in an <code>ResponseEntity</code> and specify the content type on that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value=&quot;/v1/Count&quot;, produces=&quot;text/plain&quot;\n@ResponseBody\npublic ResponeEntity&lt;String&gt; getCount(@RequestParam...) {\n   return ResponseEntity.ok()\n           .contentType(MediaType.APPLICATION_JSON)\n           .body(&quot;{type: &quot;&quot;, List1: []...}&quot;);\n}\n</code></pre>\n<p>This will use the actual content type you provided instead of trying to infer it from the return type of the method.</p>\n"}],"owner":{"account_id":12365901,"reputation":11,"user_id":22284025,"display_name":"Luke Jones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1690383898,"creation_date":1690308368,"question_id":76765437,"body_markdown":"I have a method that returns a fully formatted JSON as a String, ex { type: &quot;&quot;, List1: []...}\r\nI&#39;m trying to return that in a way that the browser interprets it as a JSON (Firefox). I&#39;ve tried specifying that it produces=&quot;text/plain&quot; but no luck.\r\nI can&#39;t put it in a wrapper class as it&#39;s already formatted.\r\n\r\nI tried specifying produces=&quot;text/plain&quot; and @ResponseBody. No luck, still interpreted as text, not JSON.\r\n\r\nedit: For my purposes, using  produces=MediaType.APPLICATION_JSON_VALUE worked.\r\n\r\n    @GetMapping(value=&quot;/v1/Count&quot;, produces=&quot;text/plain&quot;\r\n    @ResponseBody\r\n    public String getCount(@RequestParam...) {\r\n       return &quot;{type: &quot;&quot;, List1: []...}&quot;;\r\n    }\r\n","title":"SpringBoot Return String as JSON","body":"<p>I have a method that returns a fully formatted JSON as a String, ex { type: &quot;&quot;, List1: []...}\nI'm trying to return that in a way that the browser interprets it as a JSON (Firefox). I've tried specifying that it produces=&quot;text/plain&quot; but no luck.\nI can't put it in a wrapper class as it's already formatted.</p>\n<p>I tried specifying produces=&quot;text/plain&quot; and @ResponseBody. No luck, still interpreted as text, not JSON.</p>\n<p>edit: For my purposes, using  produces=MediaType.APPLICATION_JSON_VALUE worked.</p>\n<pre><code>@GetMapping(value=&quot;/v1/Count&quot;, produces=&quot;text/plain&quot;\n@ResponseBody\npublic String getCount(@RequestParam...) {\n   return &quot;{type: &quot;&quot;, List1: []...}&quot;;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","mocking"],"answers":[{"tags":[],"owner":{"account_id":7975532,"reputation":103,"user_id":6018837,"display_name":"Daniel Matev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690383784,"creation_date":1690383319,"answer_id":76772581,"question_id":76772410,"body_markdown":"You should use the `RestTemplate` as a bean in your serivce like so: \r\n```\r\n @Autowired private RestTemplate restTemplate; \r\n```\r\nEDIT:\r\nYou&#39;re not required to use @Autowired since you have `@AllArgsConstructor`, just need to have the field declared but not initialized.\r\n\r\nSince @InjectMocks only injects mocks by constructor or properties, but in your case you&#39;re initializing yourself in the service. \r\n\r\nAs a side note, you should extract the logic for the `RestTemplate` request outside of your service since this way you have both web request logic and business logic in the service and it becomes difficult to unit test down the road.  \r\nThink about extracting the web request logic for fetching the token to a different client class - e.g. `ExampleServiceClient`. Then you can autowire that class to your service, mock the whole web request logic and only test the business logic.","title":"Unit test spring boot","body":"<p>You should use the <code>RestTemplate</code> as a bean in your serivce like so:</p>\n<pre><code> @Autowired private RestTemplate restTemplate; \n</code></pre>\n<p>EDIT:\nYou're not required to use @Autowired since you have <code>@AllArgsConstructor</code>, just need to have the field declared but not initialized.</p>\n<p>Since @InjectMocks only injects mocks by constructor or properties, but in your case you're initializing yourself in the service.</p>\n<p>As a side note, you should extract the logic for the <code>RestTemplate</code> request outside of your service since this way you have both web request logic and business logic in the service and it becomes difficult to unit test down the road.<br />\nThink about extracting the web request logic for fetching the token to a different client class - e.g. <code>ExampleServiceClient</code>. Then you can autowire that class to your service, mock the whole web request logic and only test the business logic.</p>\n"}],"owner":{"account_id":26061174,"reputation":11,"user_id":19762482,"display_name":"tonylex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690383784,"creation_date":1690382173,"question_id":76772410,"body_markdown":"I have this spring boot class (imports and business logic omitted for brevity)\r\n```\r\n@Slf4j\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class  TokenService {\r\n\r\n    private String token;\r\n    private final RestTemplate restTemplate = new RestTemplate();\r\n\r\n    private JsonNode getApiToken() {\r\n      ...\r\n      ...\r\n        return Optional.of(someResponseEntity);\r\n    }\r\n\r\n    public synchronized String getToken() {\r\n        if (token == null) {\r\n            log.info(&quot;No token, refreshing...&quot;);\r\n            JsonNode response = getApiToken();\r\n            if (response != null) {\r\n                token = response.get(&quot;access_token&quot;).asText();\r\n            }\r\n        }\r\n        return token;\r\n    }\r\n}\r\n\r\n```\r\nand it&#39;s unit test (also redacted):\r\n\r\n\r\n```\r\npublic class TokenServiceTest {\r\n\r\n    @Mock\r\n    private RestTemplate restTemplate;\r\n\r\n    @InjectMocks\r\n    private TokenService tokenService;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n    @Test\r\n    public void testGetToken() {\r\n        String accessToken = &quot;your-access-token&quot;;\r\n        String responseBody = &quot;{\\&quot;access_token\\&quot;:\\&quot;&quot; + accessToken + &quot;\\&quot;}&quot;;\r\n        ResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;&gt;(responseBody, HttpStatus.OK);\r\n\r\n        when(restTemplate.exchange(eq(&quot;https://example.com/token&quot;), eq(HttpMethod.POST), any(), eq(String.class)))\r\n                .thenReturn(responseEntity);\r\n\r\n        String token = tokenService.getToken();\r\n\r\n        assertEquals(accessToken, token);\r\n\r\n        verify(restTemplate).exchange(eq(&quot;https://example.com/token&quot;), eq(HttpMethod.POST), any(), eq(String.class));\r\n    }\r\n}\r\n```\r\nThe unit test runs but it actually sends the post request to the endpoint, which is not desirable when running tests. How can I modify the test class so that requests are actually not sent?\r\n\r\nkind regards\r\n \r\n\r\n\r\nI tried refactoring the service to use a singleton of Resttemplate which I can override but the results are the same: an actual call is sent to the api","title":"Unit test spring boot","body":"<p>I have this spring boot class (imports and business logic omitted for brevity)</p>\n<pre><code>@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class  TokenService {\n\n    private String token;\n    private final RestTemplate restTemplate = new RestTemplate();\n\n    private JsonNode getApiToken() {\n      ...\n      ...\n        return Optional.of(someResponseEntity);\n    }\n\n    public synchronized String getToken() {\n        if (token == null) {\n            log.info(&quot;No token, refreshing...&quot;);\n            JsonNode response = getApiToken();\n            if (response != null) {\n                token = response.get(&quot;access_token&quot;).asText();\n            }\n        }\n        return token;\n    }\n}\n\n</code></pre>\n<p>and it's unit test (also redacted):</p>\n<pre><code>public class TokenServiceTest {\n\n    @Mock\n    private RestTemplate restTemplate;\n\n    @InjectMocks\n    private TokenService tokenService;\n\n    @BeforeEach\n    public void setup() {\n        MockitoAnnotations.openMocks(this);\n    }\n\n    @Test\n    public void testGetToken() {\n        String accessToken = &quot;your-access-token&quot;;\n        String responseBody = &quot;{\\&quot;access_token\\&quot;:\\&quot;&quot; + accessToken + &quot;\\&quot;}&quot;;\n        ResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;&gt;(responseBody, HttpStatus.OK);\n\n        when(restTemplate.exchange(eq(&quot;https://example.com/token&quot;), eq(HttpMethod.POST), any(), eq(String.class)))\n                .thenReturn(responseEntity);\n\n        String token = tokenService.getToken();\n\n        assertEquals(accessToken, token);\n\n        verify(restTemplate).exchange(eq(&quot;https://example.com/token&quot;), eq(HttpMethod.POST), any(), eq(String.class));\n    }\n}\n</code></pre>\n<p>The unit test runs but it actually sends the post request to the endpoint, which is not desirable when running tests. How can I modify the test class so that requests are actually not sent?</p>\n<p>kind regards</p>\n<p>I tried refactoring the service to use a singleton of Resttemplate which I can override but the results are the same: an actual call is sent to the api</p>\n"},{"tags":["java","visual-studio-code","gradle","intellisense"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1689296439,"post_id":76681131,"comment_id":135196950,"body_markdown":"[Might be the same problem](https://github.com/redhat-developer/vscode-java/issues/3191).","body":"<a href=\"https://github.com/redhat-developer/vscode-java/issues/3191\" rel=\"nofollow noreferrer\">Might be the same problem</a>."}],"answers":[{"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1690769096,"post_id":76772629,"comment_id":135394507,"body_markdown":"You should accept the answer by clicking on tick icon âœ… which is at left of the answer, so that community can understand that the question has been answered.","body":"You should accept the answer by clicking on tick icon âœ… which is at left of the answer, so that community can understand that the question has been answered."}],"tags":[],"owner":{"account_id":17265376,"reputation":1384,"user_id":12502237,"display_name":"ckesplin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690383644,"creation_date":1690383644,"answer_id":76772629,"question_id":76681131,"body_markdown":"Apparently, 3 versions of Java were installed on the workspace.  Finding the correct JVM and setting the Gradle daemon to use it solved all of my issues. \r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rFJ4I.png","title":"vsCode does not show Java intelliSense","body":"<p>Apparently, 3 versions of Java were installed on the workspace.  Finding the correct JVM and setting the Gradle daemon to use it solved all of my issues.</p>\n<p><a href=\"https://i.stack.imgur.com/rFJ4I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rFJ4I.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17265376,"reputation":1384,"user_id":12502237,"display_name":"ckesplin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76772629,"answer_count":1,"score":0,"last_activity_date":1690383644,"creation_date":1689262426,"question_id":76681131,"body_markdown":"I received a new Amazon Workspaces workspace and have been running into the following error: \r\n\r\n```\r\n&quot;Could not run phased build action using connection to Gradle distribution \r\n&#39;https://services.gradle.org/distributions/gradle-6.8-bin.zip&#39;.\r\nGradle 6.8 requires Java 8 or later to run. Your build is currently\r\n configured to use Java 7.&quot;\r\n```\r\n\r\nThe app compiles and runs fine, I just get no intelliSense help.  \r\n\r\nCurrent Java installation uses: \r\n\r\n```\r\nopenjdk 11.0.19 2023-04-18 LTS\r\nOpenJDK Runtime Environment Corretto-11.0.19.7.1 (build 11.0.19+7-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-11.0.19.7.1 (build 11.0.19+7-LTS, mixed mode)\r\n```\r\n\r\nThe `build.gradle` file sets the version:\r\n```\r\nsourceCompatibility = &#39;1.11&#39;\r\ntargetCompatibility = &#39;1.11&#39;\r\n```\r\n\r\nThe recommended Java extension is installed: `Language Support for Java(TM) by Red Hat`\r\n\r\nI&#39;m not quite sure how to set the java runtime version within vsCode and get it to take.  When attempting the change the setting, there is no Java version set (see image below). The edit button takes me to the build.gradle which sets the `sourceCompatibility` and `targetCompatibility`. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/xI8FZ.png)](https://i.stack.imgur.com/xI8FZ.png)\r\n\r\nAny suggestions?","title":"vsCode does not show Java intelliSense","body":"<p>I received a new Amazon Workspaces workspace and have been running into the following error:</p>\n<pre><code>&quot;Could not run phased build action using connection to Gradle distribution \n'https://services.gradle.org/distributions/gradle-6.8-bin.zip'.\nGradle 6.8 requires Java 8 or later to run. Your build is currently\n configured to use Java 7.&quot;\n</code></pre>\n<p>The app compiles and runs fine, I just get no intelliSense help.</p>\n<p>Current Java installation uses:</p>\n<pre><code>openjdk 11.0.19 2023-04-18 LTS\nOpenJDK Runtime Environment Corretto-11.0.19.7.1 (build 11.0.19+7-LTS)\nOpenJDK 64-Bit Server VM Corretto-11.0.19.7.1 (build 11.0.19+7-LTS, mixed mode)\n</code></pre>\n<p>The <code>build.gradle</code> file sets the version:</p>\n<pre><code>sourceCompatibility = '1.11'\ntargetCompatibility = '1.11'\n</code></pre>\n<p>The recommended Java extension is installed: <code>Language Support for Java(TM) by Red Hat</code></p>\n<p>I'm not quite sure how to set the java runtime version within vsCode and get it to take.  When attempting the change the setting, there is no Java version set (see image below). The edit button takes me to the build.gradle which sets the <code>sourceCompatibility</code> and <code>targetCompatibility</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/xI8FZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xI8FZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Any suggestions?</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":19483670,"reputation":87,"user_id":14253459,"display_name":"Simone Di Cola"},"score":0,"creation_date":1614334373,"post_id":66383689,"comment_id":117359691,"body_markdown":"actually, not really convinced that IndexAPI is the way to go. Might be blind, but I cannot see anything to make a simple post to that endpoint..","body":"actually, not really convinced that IndexAPI is the way to go. Might be blind, but I cannot see anything to make a simple post to that endpoint.."},{"owner":{"account_id":19483670,"reputation":87,"user_id":14253459,"display_name":"Simone Di Cola"},"score":0,"creation_date":1614337246,"post_id":66383689,"comment_id":117360894,"body_markdown":"Just found the answer to my question: https://stackoverflow.com/questions/65699492/how-to-make-point-intime-api-request-of-elasticsearch-using-java-high-level-rest","body":"Just found the answer to my question: <a href=\"https://stackoverflow.com/questions/65699492/how-to-make-point-intime-api-request-of-elasticsearch-using-java-high-level-rest\" title=\"how to make point intime api request of elasticsearch using java high level rest\">stackoverflow.com/questions/65699492/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19483670,"reputation":87,"user_id":14253459,"display_name":"Simone Di Cola"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614338439,"creation_date":1614338439,"answer_id":66384913,"question_id":66383689,"body_markdown":"Here the working solution for me: \r\n\r\n         String endPoint = &quot;/index-name/_pit&quot;;\r\n            Request request = new Request(&quot;POST&quot;, endPoint);\r\n            request.addParameter(&quot;keep_alive&quot;, &quot;10m&quot;);\r\n         client.getLowLevelClient().performRequest(request);\r\n\r\nPlease note the forward slash before the index-name, otherwise you will get a bad request.","title":"How to create point in time reference elasticsearch using java?","body":"<p>Here the working solution for me:</p>\n<pre><code>     String endPoint = &quot;/index-name/_pit&quot;;\n        Request request = new Request(&quot;POST&quot;, endPoint);\n        request.addParameter(&quot;keep_alive&quot;, &quot;10m&quot;);\n     client.getLowLevelClient().performRequest(request);\n</code></pre>\n<p>Please note the forward slash before the index-name, otherwise you will get a bad request.</p>\n"},{"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666620039,"creation_date":1666620039,"answer_id":74182295,"question_id":66383689,"body_markdown":"For any one using [java-client][1] either [ElasticsearchClient][2] or [ElasticsearchAsyncClient][3]\r\n\r\nyou can use `openPointInTime` methods\r\n\r\n**ElasticsearchAsyncClient**\r\n\r\n    CompletableFuture&lt;OpenPointInTimeResponse&gt;\topenPointInTimeâ€‹(OpenPointInTimeRequest request)\r\n\r\n**ElasticsearchClient**\r\n \r\n    OpenPointInTimeResponse\topenPointInTimeâ€‹(OpenPointInTimeRequest request)\r\n\r\nYou can create `OpenPointInTimeRequest` for index or index patterns by passing time\r\n\r\n     OpenPointInTimeRequest request = new OpenPointInTimeRequest.Builder()\r\n         .index(&quot;index-1&quot;)\r\n         .time(new Time.Builder().time(&quot;1m&quot;).build())\r\n         .build();\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/connecting.html\r\n  [2]: https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.0.1/co/elastic/clients/elasticsearch/ElasticsearchClient.html\r\n  [3]: https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.1.0/co/elastic/clients/elasticsearch/ElasticsearchAsyncClient.html","title":"How to create point in time reference elasticsearch using java?","body":"<p>For any one using <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/connecting.html\" rel=\"nofollow noreferrer\">java-client</a> either <a href=\"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.0.1/co/elastic/clients/elasticsearch/ElasticsearchClient.html\" rel=\"nofollow noreferrer\">ElasticsearchClient</a> or <a href=\"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.1.0/co/elastic/clients/elasticsearch/ElasticsearchAsyncClient.html\" rel=\"nofollow noreferrer\">ElasticsearchAsyncClient</a></p>\n<p>you can use <code>openPointInTime</code> methods</p>\n<p><strong>ElasticsearchAsyncClient</strong></p>\n<pre><code>CompletableFuture&lt;OpenPointInTimeResponse&gt;  openPointInTimeâ€‹(OpenPointInTimeRequest request)\n</code></pre>\n<p><strong>ElasticsearchClient</strong></p>\n<pre><code>OpenPointInTimeResponse openPointInTimeâ€‹(OpenPointInTimeRequest request)\n</code></pre>\n<p>You can create <code>OpenPointInTimeRequest</code> for index or index patterns by passing time</p>\n<pre><code> OpenPointInTimeRequest request = new OpenPointInTimeRequest.Builder()\n     .index(&quot;index-1&quot;)\n     .time(new Time.Builder().time(&quot;1m&quot;).build())\n     .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25701758,"reputation":11,"user_id":19461702,"display_name":"Sasha Tsatryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690383562,"creation_date":1690383562,"answer_id":76772618,"question_id":66383689,"body_markdown":"\r\n        public String createOpenPointInTimeRequest(String indexName) throws IOException {\r\n        OpenPointInTimeRequest request = new OpenPointInTimeRequest.Builder()\r\n                .index(indexName)\r\n                .keepAlive(new Time.Builder().time(&quot;3m&quot;).build())\r\n                .build();\r\n\r\n\r\n        OpenPointInTimeResponse openPointInTimeResponse = elasticsearchClient.openPointInTime(request);\r\n\r\n        return openPointInTimeResponse.id();\r\n    }\r\nMy elastic client is 8.3.3","title":"How to create point in time reference elasticsearch using java?","body":"<pre><code>    public String createOpenPointInTimeRequest(String indexName) throws IOException {\n    OpenPointInTimeRequest request = new OpenPointInTimeRequest.Builder()\n            .index(indexName)\n            .keepAlive(new Time.Builder().time(&quot;3m&quot;).build())\n            .build();\n\n\n    OpenPointInTimeResponse openPointInTimeResponse = elasticsearchClient.openPointInTime(request);\n\n    return openPointInTimeResponse.id();\n}\n</code></pre>\n<p>My elastic client is 8.3.3</p>\n"}],"owner":{"account_id":19483670,"reputation":87,"user_id":14253459,"display_name":"Simone Di Cola"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1886,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1690383562,"creation_date":1614333738,"question_id":66383689,"body_markdown":"I would like to use the [elastic search high level client][1] to execute this simple POST:\r\n\r\n```\r\nPOST /my-index-000001/_pit?keep_alive=1m\r\n```\r\n\r\nReading the documentation I am getting quite confused. For instance, using the [IndexAPI][2] seems a good fit, but I am not sure it is the correct path . \r\n\r\nCan anyone show me an example? \r\n\r\n\r\n  [1]: https://web.archive.org/web/20210623172836/https://www.elastic.co/guide/en/elasticsearch/client/java-rest/master/java-rest-high.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-document-index.html","title":"How to create point in time reference elasticsearch using java?","body":"<p>I would like to use the <a href=\"https://web.archive.org/web/20210623172836/https://www.elastic.co/guide/en/elasticsearch/client/java-rest/master/java-rest-high.html\" rel=\"nofollow noreferrer\">elastic search high level client</a> to execute this simple POST:</p>\n<pre><code>POST /my-index-000001/_pit?keep_alive=1m\n</code></pre>\n<p>Reading the documentation I am getting quite confused. For instance, using the <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-document-index.html\" rel=\"nofollow noreferrer\">IndexAPI</a> seems a good fit, but I am not sure it is the correct path .</p>\n<p>Can anyone show me an example?</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-transactions"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1690382231,"post_id":76772310,"comment_id":135346061,"body_markdown":"Which DB engine are you using? The explanation is likely: &quot;Because the DB engine and/or JDBC driver doesn&#39;t let you&quot;, hence, that&#39;s crucial info. Edit your question and add this information; include the JDBC URL (wipe out any username or passwords in it if you want).","body":"Which DB engine are you using? The explanation is likely: &quot;Because the DB engine and/or JDBC driver doesn&#39;t let you&quot;, hence, that&#39;s crucial info. Edit your question and add this information; include the JDBC URL (wipe out any username or passwords in it if you want)."},{"owner":{"account_id":14183682,"reputation":345,"user_id":10246394,"display_name":"Imu Sama"},"score":0,"creation_date":1690382874,"post_id":76772310,"comment_id":135346230,"body_markdown":"@rzwitserloot done","body":"@rzwitserloot done"}],"answers":[{"tags":[],"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690383360,"creation_date":1690383360,"answer_id":76772588,"question_id":76772310,"body_markdown":"Here is the documentation from Oracle themselves: \r\n\r\n[https://docs.oracle.com/cd/B28359_01/server.111/b28318/consist.htm#CNCPT1317][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/B28359_01/server.111/b28318/consist.htm#CNCPT1317\r\n\r\nIn 11g with the thin driver, they only support\r\n\r\n - Read committed (the default)\r\n - Serializable\r\n - Read-only\r\n\r\n","title":"READ_COMMITTED and SERIALIZABLE are the only valid transaction levels","body":"<p>Here is the documentation from Oracle themselves:</p>\n<p><a href=\"https://docs.oracle.com/cd/B28359_01/server.111/b28318/consist.htm#CNCPT1317\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/B28359_01/server.111/b28318/consist.htm#CNCPT1317</a></p>\n<p>In 11g with the thin driver, they only support</p>\n<ul>\n<li>Read committed (the default)</li>\n<li>Serializable</li>\n<li>Read-only</li>\n</ul>\n"}],"owner":{"account_id":14183682,"reputation":345,"user_id":10246394,"display_name":"Imu Sama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76772588,"answer_count":1,"score":0,"last_activity_date":1690383360,"creation_date":1690381512,"question_id":76772310,"body_markdown":"I&#39;m experimenting with transaction management in spring boot and I got this error:\r\n\r\n    org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.sql.SQLException: READ_COMMITTED et SERIALIZABLE sont les seuls niveaux de transaction valides] with root cause\r\njava.sql.SQLException: READ_COMMITTED et SERIALIZABLE sont les seuls niveaux de transaction \r\nvalides\r\n\r\nTranslation:\r\n\r\n    READ_COMMITTED and SERIALIZABLE are the only valid transaction levels\r\n\r\nHere are the steps to reproduce: \r\n\r\n        @Autowired\r\n        private PlatformTransactionManager transactionManager;\r\n        @Autowired\r\n        private EntityManager entityManager;\r\n\r\n        DefaultTransactionDefinition definition = new DefaultTransactionDefinition();\r\n        definition.setIsolationLevel(TransactionDefinition.ISOLATION_REPEATABLE_READ);\r\n        definition.setTimeout(3);\r\n        TransactionStatus status = transactionManager.getTransaction(definition);\r\n        try {\r\n            Payment payment = new Payment();\r\n            payment.setReferenceNumber(&quot;Ref-1&quot;);\r\n            payment.setState(Payment.State.SUCCESSFUL);\r\n            paymentJpaRepository.save(payment);\r\n            transactionManager.commit(status);\r\n        } catch (Exception ex) {\r\n            transactionManager.rollback(status);\r\n        }\r\n\r\nWhy can&#39;t I use repeatable read ? Also I didn&#39;t find any example mixing spring data repositories with PlatformTransactionManager, is this even legal ?\r\n(I didn&#39;t create any specific bean for PlatformTransactionManager and EntityManager, it&#39;s all default)\r\n\r\nI tried with READ_COMMITED and it works correctly, I just want to understand why.\r\n\r\nJdbc url: jdbc:oracle:thin:@myHost:myPort/mySid\r\nOracle version: 11g","title":"READ_COMMITTED and SERIALIZABLE are the only valid transaction levels","body":"<p>I'm experimenting with transaction management in spring boot and I got this error:</p>\n<pre><code>org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.sql.SQLException: READ_COMMITTED et SERIALIZABLE sont les seuls niveaux de transaction valides] with root cause\n</code></pre>\n<p>java.sql.SQLException: READ_COMMITTED et SERIALIZABLE sont les seuls niveaux de transaction\nvalides</p>\n<p>Translation:</p>\n<pre><code>READ_COMMITTED and SERIALIZABLE are the only valid transaction levels\n</code></pre>\n<p>Here are the steps to reproduce:</p>\n<pre><code>    @Autowired\n    private PlatformTransactionManager transactionManager;\n    @Autowired\n    private EntityManager entityManager;\n\n    DefaultTransactionDefinition definition = new DefaultTransactionDefinition();\n    definition.setIsolationLevel(TransactionDefinition.ISOLATION_REPEATABLE_READ);\n    definition.setTimeout(3);\n    TransactionStatus status = transactionManager.getTransaction(definition);\n    try {\n        Payment payment = new Payment();\n        payment.setReferenceNumber(&quot;Ref-1&quot;);\n        payment.setState(Payment.State.SUCCESSFUL);\n        paymentJpaRepository.save(payment);\n        transactionManager.commit(status);\n    } catch (Exception ex) {\n        transactionManager.rollback(status);\n    }\n</code></pre>\n<p>Why can't I use repeatable read ? Also I didn't find any example mixing spring data repositories with PlatformTransactionManager, is this even legal ?\n(I didn't create any specific bean for PlatformTransactionManager and EntityManager, it's all default)</p>\n<p>I tried with READ_COMMITED and it works correctly, I just want to understand why.</p>\n<p>Jdbc url: jdbc:oracle:thin:@myHost:myPort/mySid\nOracle version: 11g</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":1410409,"reputation":3690,"user_id":1337135,"accept_rate":80,"display_name":"maszter"},"score":0,"creation_date":1690376571,"post_id":76771489,"comment_id":135344757,"body_markdown":"As I wrote it&#39;s just a dummy example, don&#39;t expect I will put a real one from a commercial code ;)","body":"As I wrote it&#39;s just a dummy example, don&#39;t expect I will put a real one from a commercial code ;)"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":1,"creation_date":1690378137,"post_id":76771489,"comment_id":135345090,"body_markdown":"Sure, I understand, this is just my speculation about why the Hibernate behaves in this way. Could you put stack trace, at least its part as of JPA infrastructure","body":"Sure, I understand, this is just my speculation about why the Hibernate behaves in this way. Could you put stack trace, at least its part as of JPA infrastructure"}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690375619,"creation_date":1690375619,"answer_id":76771489,"question_id":76739702,"body_markdown":"I think this behavior is deliberately introduced to manifest probable logical mistakes in queries. In your demo example you join two same predicates with `or` which is obviously misuse.\r\n\r\nThen imagine the case you receive a collection of `ids` as method parameter and you use it in two different predicates. I agree that in some cases this could be a valid behavior and programmer&#39;s intention, but in most cases I guess this would be a mistake and `NSEE` at least draws developer&#39;s attention to the query.","title":"Hibernate JPA CriteriaQuery ParameterExpression&lt;Collection&gt; used multiple times - NoSuchElementException","body":"<p>I think this behavior is deliberately introduced to manifest probable logical mistakes in queries. In your demo example you join two same predicates with <code>or</code> which is obviously misuse.</p>\n<p>Then imagine the case you receive a collection of <code>ids</code> as method parameter and you use it in two different predicates. I agree that in some cases this could be a valid behavior and programmer's intention, but in most cases I guess this would be a mistake and <code>NSEE</code> at least draws developer's attention to the query.</p>\n"}],"owner":{"account_id":1410409,"reputation":3690,"user_id":1337135,"accept_rate":80,"display_name":"maszter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1690383253,"creation_date":1689956938,"question_id":76739702,"body_markdown":"After migration to Hibernate 6, using `ParameterExpression` with the `Collection` type leads to `NoSuchElementException`. It seems that there is an `Iterator` created for each parameter and something tries to go through it multiple times. It was working in the previous versions of Hibernate. A very dummy query as an example:\r\n\r\n```\r\npublic List&lt;Long&gt; example(Long userId) {\r\n    CriteriaBuilder builder = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Long&gt; query = builder.createQuery(Long.class);\r\n    Root&lt;User&gt; user = query.from(User.class);\r\n    query.select(user.get(User_.id));\r\n    ParameterExpression&lt;Collection&lt;Long&gt;&gt; userIdParam = builder.parameter(generify(Collection.class));\r\n    query.where(\r\n            builder.or(\r\n                    user.get(User_.id).in(userIdParam),\r\n                    user.get(User_.id).in(userIdParam)\r\n            )\r\n    );\r\n    query.distinct(true);\r\n    TypedQuery&lt;Long&gt; typedQuery = entityManager.createQuery(query);\r\n    typedQuery.setParameter(userIdParam, Collections.singletonList(userId));\r\n    return typedQuery.getResultList();\r\n}\r\n```\r\nIt&#39;s a bit cumbersome to create N identical parameter expressions one for each condition. Any advice?\r\n\r\nStacktrace:\r\n\r\n```\r\njava.util.NoSuchElementException: null\r\n\tat java.util.Collections$1.next(Collections.java:4817) ~[?:?]\r\n\tat org.hibernate.query.sqm.internal.SqmUtil.createJdbcParameterBindings(SqmUtil.java:267) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:358) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:268) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.Query.getResultList(Query.java:119) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor137.invoke(Unknown Source) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405) ~[spring-orm-6.0.10.jar:6.0.10]\r\n\tat jdk.proxy3.$Proxy156.getResultList(Unknown Source) ~[?:?]\r\n\tat com.example.dao.UserDao.example(UserDao.java:265) ~[example-dao-3.22.1.jar:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat com.example.dao.UserDao$$SpringCGLIB$$0.example(&lt;generated&gt;) ~[example-dao-3.22.1.jar:?]\r\n```","title":"Hibernate JPA CriteriaQuery ParameterExpression&lt;Collection&gt; used multiple times - NoSuchElementException","body":"<p>After migration to Hibernate 6, using <code>ParameterExpression</code> with the <code>Collection</code> type leads to <code>NoSuchElementException</code>. It seems that there is an <code>Iterator</code> created for each parameter and something tries to go through it multiple times. It was working in the previous versions of Hibernate. A very dummy query as an example:</p>\n<pre><code>public List&lt;Long&gt; example(Long userId) {\n    CriteriaBuilder builder = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;Long&gt; query = builder.createQuery(Long.class);\n    Root&lt;User&gt; user = query.from(User.class);\n    query.select(user.get(User_.id));\n    ParameterExpression&lt;Collection&lt;Long&gt;&gt; userIdParam = builder.parameter(generify(Collection.class));\n    query.where(\n            builder.or(\n                    user.get(User_.id).in(userIdParam),\n                    user.get(User_.id).in(userIdParam)\n            )\n    );\n    query.distinct(true);\n    TypedQuery&lt;Long&gt; typedQuery = entityManager.createQuery(query);\n    typedQuery.setParameter(userIdParam, Collections.singletonList(userId));\n    return typedQuery.getResultList();\n}\n</code></pre>\n<p>It's a bit cumbersome to create N identical parameter expressions one for each condition. Any advice?</p>\n<p>Stacktrace:</p>\n<pre><code>java.util.NoSuchElementException: null\n    at java.util.Collections$1.next(Collections.java:4817) ~[?:?]\n    at org.hibernate.query.sqm.internal.SqmUtil.createJdbcParameterBindings(SqmUtil.java:267) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:358) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:268) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:119) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at jdk.internal.reflect.GeneratedMethodAccessor137.invoke(Unknown Source) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405) ~[spring-orm-6.0.10.jar:6.0.10]\n    at jdk.proxy3.$Proxy156.getResultList(Unknown Source) ~[?:?]\n    at com.example.dao.UserDao.example(UserDao.java:265) ~[example-dao-3.22.1.jar:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-6.0.10.jar:6.0.10]\n    at com.example.dao.UserDao$$SpringCGLIB$$0.example(&lt;generated&gt;) ~[example-dao-3.22.1.jar:?]\n</code></pre>\n"},{"tags":["java","intellij-idea","ide","jetbrains-ide"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1690374915,"post_id":76771246,"comment_id":135344222,"body_markdown":"It looks like a cracked version of the IDE was installed. Try re-installing from the official website https://www.jetbrains.com/idea/download to an empty folder","body":"It looks like a cracked version of the IDE was installed. Try re-installing from the official website <a href=\"https://www.jetbrains.com/idea/download\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download</a> to an empty folder"},{"owner":{"account_id":16916503,"reputation":81,"user_id":12234378,"display_name":"Shehan Sandeepa"},"score":0,"creation_date":1690375043,"post_id":76771246,"comment_id":135344269,"body_markdown":"@EgorKlepikov It&#39;s not a cracked version I downloaded it from official web site","body":"@EgorKlepikov It&#39;s not a cracked version I downloaded it from official web site"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1690383606,"post_id":76771246,"comment_id":135346445,"body_markdown":"There should be no `-javaagent` in any of the relevant `vmoptions` files. Something is trying to load an agent that&#39;s broken.","body":"There should be no <code>-javaagent</code> in any of the relevant <code>vmoptions</code> files. Something is trying to load an agent that&#39;s broken."}],"owner":{"account_id":16916503,"reputation":81,"user_id":12234378,"display_name":"Shehan Sandeepa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1690383713,"answer_count":0,"score":0,"last_activity_date":1690383198,"creation_date":1690374026,"question_id":76771246,"body_markdown":"When I am trying to open IntelliJ IDEA using `./idea.sh` in `bin` folder it gives me an error.\r\n\r\nBut when I try `sudo ./idea.sh` IntelliJ IDEA open without any error.\r\n\r\n**Error :**\r\n\r\n    CompileCommand: exclude com/intellij/openapi/vfs/impl/FilePartNodeRoot.trieDescend bool exclude = true\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:491)\r\n    \tat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:503)\r\n    Caused by: java.util.ConcurrentModificationException: java.lang.ClassNotFoundException: com.licel.b.Z@\r\n    \tat fuck_the_regulations_v320.dH.&lt;clinit&gt;(dH.java)\r\n    \t... 6 more\r\n    Caused by: java.lang.ClassNotFoundException: com.licel.b.Z@\r\n    \tat com.intellij.util.lang.UrlClassLoader.findClass(UrlClassLoader.java:209)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:375)\r\n    \t... 7 more\r\n    *** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\r\n    FATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGABRT (0x6) at pc=0x00007f7211696a7c (sent by kill), pid=26807, tid=26824\r\n    #\r\n    # JRE version: OpenJDK Runtime Environment JBR-17.0.4.1+7-469.62-jcef (17.0.4.1+7) (build 17.0.4.1+7-b469.62)\r\n    # Java VM: OpenJDK 64-Bit Server VM JBR-17.0.4.1+7-469.62-jcef (17.0.4.1+7-b469.62, mixed mode, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\r\n    # Problematic frame:\r\n    # C  [libc.so.6+0x96a7c]  pthread_kill+0x12c\r\n    #\r\n    # Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /home/shehan/Downloads/ideaIU-2022.2.3/idea-IU-222.4345.14/bin/core.26807)\r\n    #\r\n    # An error report file with more information is saved as:\r\n    # /home/shehan/java_error_in_idea_26807.log\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   https://youtrack.jetbrains.com/issues/JBR\r\n    #\r\n    Aborted (core dumped)\r\n\r\n","title":"Can&#39;t open IntelliJ IDEA without root user","body":"<p>When I am trying to open IntelliJ IDEA using <code>./idea.sh</code> in <code>bin</code> folder it gives me an error.</p>\n<p>But when I try <code>sudo ./idea.sh</code> IntelliJ IDEA open without any error.</p>\n<p><strong>Error :</strong></p>\n<pre><code>CompileCommand: exclude com/intellij/openapi/vfs/impl/FilePartNodeRoot.trieDescend bool exclude = true\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:491)\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:503)\nCaused by: java.util.ConcurrentModificationException: java.lang.ClassNotFoundException: com.licel.b.Z@\n    at fuck_the_regulations_v320.dH.&lt;clinit&gt;(dH.java)\n    ... 6 more\nCaused by: java.lang.ClassNotFoundException: com.licel.b.Z@\n    at com.intellij.util.lang.UrlClassLoader.findClass(UrlClassLoader.java:209)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:375)\n    ... 7 more\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\nFATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\n#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGABRT (0x6) at pc=0x00007f7211696a7c (sent by kill), pid=26807, tid=26824\n#\n# JRE version: OpenJDK Runtime Environment JBR-17.0.4.1+7-469.62-jcef (17.0.4.1+7) (build 17.0.4.1+7-b469.62)\n# Java VM: OpenJDK 64-Bit Server VM JBR-17.0.4.1+7-469.62-jcef (17.0.4.1+7-b469.62, mixed mode, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\n# Problematic frame:\n# C  [libc.so.6+0x96a7c]  pthread_kill+0x12c\n#\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /home/shehan/Downloads/ideaIU-2022.2.3/idea-IU-222.4345.14/bin/core.26807)\n#\n# An error report file with more information is saved as:\n# /home/shehan/java_error_in_idea_26807.log\n#\n# If you would like to submit a bug report, please visit:\n#   https://youtrack.jetbrains.com/issues/JBR\n#\nAborted (core dumped)\n</code></pre>\n"},{"tags":["java","kotlin","flyway","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":20565689,"reputation":135,"user_id":15095135,"display_name":"sho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690383017,"creation_date":1690383017,"answer_id":76772540,"question_id":76770885,"body_markdown":"New migration files were committed to my remote base branch, but I was unaware of this. As a result, my branch&#39;s migration file and the base branch&#39;s migration file are now in conflict.","title":"org.flywaydb.core.api.FlywayException at CompositeMigrationResolver.java:147","body":"<p>New migration files were committed to my remote base branch, but I was unaware of this. As a result, my branch's migration file and the base branch's migration file are now in conflict.</p>\n"}],"owner":{"account_id":20565689,"reputation":135,"user_id":15095135,"display_name":"sho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690383017,"creation_date":1690371583,"question_id":76770885,"body_markdown":"The following error has occurred: \r\n\r\n```\r\norg.flywaydb.core.api.FlywayException at CompositeMigrationResolver.java:147. \r\n```\r\n\r\nThis error is occurring on Github Actions. \r\n\r\nPlease note that we are using Flyway version 6.4.0, and from what we can see in [the source code](https://github.com/flyway/flyway/blob/flyway-6.4.0/flyway-core/src/main/java/org/flywaydb/core/internal/resolver/CompositeMigrationResolver.java#L147), it appears to be an error that occurs when versions are duplicated.ï¼ˆThis is just my opinion, so I can&#39;t guarantee it&#39;s correct but...ï¼‰\r\n\r\nOf course, I&#39;ve checked the migration files and confirmed that the versions are not duplicated.\r\n\r\nIn addition, this error occurs when tests fail in @SpringBootTest. The error logs output for each failed test are as follows:\r\n```\r\njava.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\r\nCaused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1804\r\nCaused by: java.lang.reflect.InvocationTargetException at NativeMethodAccessorImpl.java:-2\r\nCaused by: org.flywaydb.core.api.FlywayException at CompositeMigrationResolver.java:147&quot;\r\n```\r\n\r\nWould anyone happen to know something about this error? I would greatly appreciate it if someone who understands could respond.","title":"org.flywaydb.core.api.FlywayException at CompositeMigrationResolver.java:147","body":"<p>The following error has occurred:</p>\n<pre><code>org.flywaydb.core.api.FlywayException at CompositeMigrationResolver.java:147. \n</code></pre>\n<p>This error is occurring on Github Actions.</p>\n<p>Please note that we are using Flyway version 6.4.0, and from what we can see in <a href=\"https://github.com/flyway/flyway/blob/flyway-6.4.0/flyway-core/src/main/java/org/flywaydb/core/internal/resolver/CompositeMigrationResolver.java#L147\" rel=\"nofollow noreferrer\">the source code</a>, it appears to be an error that occurs when versions are duplicated.ï¼ˆThis is just my opinion, so I can't guarantee it's correct but...ï¼‰</p>\n<p>Of course, I've checked the migration files and confirmed that the versions are not duplicated.</p>\n<p>In addition, this error occurs when tests fail in @SpringBootTest. The error logs output for each failed test are as follows:</p>\n<pre><code>java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\nCaused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1804\nCaused by: java.lang.reflect.InvocationTargetException at NativeMethodAccessorImpl.java:-2\nCaused by: org.flywaydb.core.api.FlywayException at CompositeMigrationResolver.java:147&quot;\n</code></pre>\n<p>Would anyone happen to know something about this error? I would greatly appreciate it if someone who understands could respond.</p>\n"},{"tags":["java","recursion","tree","logic","b-tree"],"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1690316586,"post_id":76766247,"comment_id":135335921,"body_markdown":"One reasonable implementation of a B-tree node is a fixed-size array of references, some of which may be null. That fixed size would not be two, which would cause your method to always return false. \n\nBy the way, consider whether `(true &amp;&amp; X)` would differ from simply `X`.","body":"One reasonable implementation of a B-tree node is a fixed-size array of references, some of which may be null. That fixed size would not be two, which would cause your method to always return false.   By the way, consider whether <code>(true &amp;&amp; X)</code> would differ from simply <code>X</code>."},{"owner":{"account_id":1706785,"reputation":48162,"user_id":1565698,"accept_rate":38,"display_name":"Sylwester"},"score":0,"creation_date":1690317968,"post_id":76766247,"comment_id":135336166,"body_markdown":"How are the leafs in this tree?","body":"How are the leafs in this tree?"}],"answers":[{"comments":[{"owner":{"account_id":27735415,"reputation":15,"user_id":21173114,"display_name":"grecode97"},"score":0,"creation_date":1690379988,"post_id":76766278,"comment_id":135345521,"body_markdown":"I thought that even the leaf-nodes have the children array, and that it&#39;s merely filled with null (until nodes are put into it, at which point it is no longer a leaf).\nCould you explain what the effect of &quot;if (node.children.length == 0)&quot; would be therefore?\nIs an array with nulls considered an array of length 0? Or is there not even an array in the leaf-nodes to begin with (and instead, simply &quot;null&quot; instead of a null-filled array)?","body":"I thought that even the leaf-nodes have the children array, and that it&#39;s merely filled with null (until nodes are put into it, at which point it is no longer a leaf). Could you explain what the effect of &quot;if (node.children.length == 0)&quot; would be therefore? Is an array with nulls considered an array of length 0? Or is there not even an array in the leaf-nodes to begin with (and instead, simply &quot;null&quot; instead of a null-filled array)?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1690382716,"post_id":76766278,"comment_id":135346197,"body_markdown":"There are several ways to encode a B-Tree. From your condition `(node.children.length != 2)` I took that you work with dynamically sized arrays (otherwise this condition is useless), and then it would make sense that in a leaf node the `length` is zero. The essence of my answer is that you must detect whether you are at a leaf node. If in your question you could add the actual class definition(s) you use, and the way you identify a leaf, then I can adapt my answer to that, but the principle remains the same: return true whenever you are at a leaf.","body":"There are several ways to encode a B-Tree. From your condition <code>(node.children.length != 2)</code> I took that you work with dynamically sized arrays (otherwise this condition is useless), and then it would make sense that in a leaf node the <code>length</code> is zero. The essence of my answer is that you must detect whether you are at a leaf node. If in your question you could add the actual class definition(s) you use, and the way you identify a leaf, then I can adapt my answer to that, but the principle remains the same: return true whenever you are at a leaf."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690382898,"creation_date":1690316538,"answer_id":76766278,"question_id":76766247,"body_markdown":"Your function could only return true if the tree would have no leaf-nodes. B-Trees obviously have leaves.\r\n\r\nYour `(node.children.length != 2)` condition suggests that you are working with dynamically sized `children` arrays, so I&#39;ll assume that when there are no children, the `children.length` is zero. \r\n\r\nSo change to this:\r\n\r\n```\r\nprivate boolean isBinary(BNode node) {\r\n    if (node.children.length == 0)\r\n        return true; // Leaves are OK.\r\n    if (node.children.length != 2)\r\n        return false;\r\n    else\r\n        return (isBinary(node.children[0]) &amp;&amp; isBinary(node.children[1]));\r\n}\r\n```\r\n\r\nOf course, if you have a different way to identify leaves, like with a different class that does not have a `children` field, then test for that condition instead. The essence is that you should detect when you are at a leaf and then always return true.","title":"In Java, how do I write a recursive method that checks whether or not a B-Tree is binary (every child node has no more than 2 children)?","body":"<p>Your function could only return true if the tree would have no leaf-nodes. B-Trees obviously have leaves.</p>\n<p>Your <code>(node.children.length != 2)</code> condition suggests that you are working with dynamically sized <code>children</code> arrays, so I'll assume that when there are no children, the <code>children.length</code> is zero.</p>\n<p>So change to this:</p>\n<pre><code>private boolean isBinary(BNode node) {\n    if (node.children.length == 0)\n        return true; // Leaves are OK.\n    if (node.children.length != 2)\n        return false;\n    else\n        return (isBinary(node.children[0]) &amp;&amp; isBinary(node.children[1]));\n}\n</code></pre>\n<p>Of course, if you have a different way to identify leaves, like with a different class that does not have a <code>children</code> field, then test for that condition instead. The essence is that you should detect when you are at a leaf and then always return true.</p>\n"}],"owner":{"account_id":27735415,"reputation":15,"user_id":21173114,"display_name":"grecode97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1690382898,"creation_date":1690316225,"question_id":76766247,"body_markdown":"This is what I tried, but it always returns false. Maybe my B-Tree is bad, but how do I solve this?\r\n\r\nBoth of these methods are in the BTree class, therefore root is the starting node.\r\n\r\nI assumed that it is not necessary to check whether or not any possible children are null, since only the length of the children array matters.\r\n\r\n    public boolean isBinary() {\r\n\t\treturn isBinary(root);\r\n\t}\r\n\r\n\tprivate boolean isBinary(BNode node) {\r\n\t\tif (node.children.length != 2)\r\n\t\t\treturn false;\r\n\t\telse\r\n\t\t\treturn (true &amp;&amp; isBinary(node.children[0]) &amp;&amp; isBinary(node.children[1]));\r\n\t\t\t\t\r\n\t}","title":"In Java, how do I write a recursive method that checks whether or not a B-Tree is binary (every child node has no more than 2 children)?","body":"<p>This is what I tried, but it always returns false. Maybe my B-Tree is bad, but how do I solve this?</p>\n<p>Both of these methods are in the BTree class, therefore root is the starting node.</p>\n<p>I assumed that it is not necessary to check whether or not any possible children are null, since only the length of the children array matters.</p>\n<pre><code>public boolean isBinary() {\n    return isBinary(root);\n}\n\nprivate boolean isBinary(BNode node) {\n    if (node.children.length != 2)\n        return false;\n    else\n        return (true &amp;&amp; isBinary(node.children[0]) &amp;&amp; isBinary(node.children[1]));\n            \n}\n</code></pre>\n"},{"tags":["java","java-8","inputstream"],"comments":[{"owner":{"account_id":8838381,"reputation":1306,"user_id":6601614,"accept_rate":64,"display_name":"Shankha057"},"score":0,"creation_date":1574766062,"post_id":59049358,"comment_id":104339299,"body_markdown":"[`InputStream.readAllBytes`](https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--) is since Java 9+","body":"<a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--\" rel=\"nofollow noreferrer\"><code>InputStream.readAllBytes</code></a> is since Java 9+"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1574789009,"post_id":59049358,"comment_id":104352115,"body_markdown":"Usually when someone wants to do this, itâ€™s an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378).  Why do you need all of the bytes in memory?","body":"Usually when someone wants to do this, itâ€™s an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378\">XY problem</a>.  Why do you need all of the bytes in memory?"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1574775502,"post_id":59049461,"comment_id":104344359,"body_markdown":"In case of a `File`, you can use [`Files.readAllBytes(file.toPath())`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#readAllBytes(java.nio.file.Path)) (since Java 7).","body":"In case of a <code>File</code>, you can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#readAllBytes(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.readAllBytes(file.toPath())</code></a> (since Java 7)."},{"owner":{"account_id":234954,"reputation":7604,"user_id":501439,"accept_rate":76,"display_name":"GeneCode"},"score":0,"creation_date":1645332243,"post_id":59049461,"comment_id":125840990,"body_markdown":"so how to convert dataInputStream into bytes again?","body":"so how to convert dataInputStream into bytes again?"},{"owner":{"account_id":4706847,"reputation":4485,"user_id":3808675,"accept_rate":95,"display_name":"baywet"},"score":0,"creation_date":1690382560,"post_id":59049461,"comment_id":135346157,"body_markdown":"the first solution here supposes we&#39;re reading a file, which is not what the OP has asked for. It should be updated to reset and use &quot;available&quot; instead of the length.","body":"the first solution here supposes we&#39;re reading a file, which is not what the OP has asked for. It should be updated to reset and use &quot;available&quot; instead of the length."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1690382916,"post_id":59049461,"comment_id":135346240,"body_markdown":"Not all input streams support `reset()`, nor `available()`. Overall, is consider it a bad idea to edit an answer marked as solving the question.","body":"Not all input streams support <code>reset()</code>, nor <code>available()</code>. Overall, is consider it a bad idea to edit an answer marked as solving the question."}],"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1690382608,"creation_date":1574766063,"answer_id":59049461,"question_id":59049358,"body_markdown":"`InputStream.readAllBytes()` is available since java 9 not java 7...\r\n\r\nOther than that you can (no thirdparties):\r\n\r\n~~~\r\ninputStream.reset();\r\nbyte[] bytes = new byte[inputStream.available()];\r\nDataInputStream dataInputStream = new DataInputStream(inputStream);\r\ndataInputStream.readFully(bytes);\r\n~~~\r\n\r\nOr if you don&#39;t mind using thirdparties (Commons IO):\r\n\r\n~~~\r\n\r\nbyte[] bytes = IOUtils.toByteArray(is);\r\n~~~\r\n\r\nGuava also helps:\r\n\r\n~~~\r\nbyte[] bytes = ByteStreams.toByteArray(inputStream);\r\n~~~","title":"Java 1.8 and below equivalent for InputStream.readAllBytes()","body":"<p><code>InputStream.readAllBytes()</code> is available since java 9 not java 7...</p>\n<p>Other than that you can (no thirdparties):</p>\n<pre><code>inputStream.reset();\nbyte[] bytes = new byte[inputStream.available()];\nDataInputStream dataInputStream = new DataInputStream(inputStream);\ndataInputStream.readFully(bytes);\n</code></pre>\n<p>Or if you don't mind using thirdparties (Commons IO):</p>\n<pre><code>\nbyte[] bytes = IOUtils.toByteArray(is);\n</code></pre>\n<p>Guava also helps:</p>\n<pre><code>byte[] bytes = ByteStreams.toByteArray(inputStream);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1574772053,"post_id":59049496,"comment_id":104342405,"body_markdown":"Since your method was not responsible for opening the `InputStream` it should not be closing itâ€”that responsibility is left to the caller.","body":"Since your method was not responsible for opening the <code>InputStream</code> it should not be closing itâ€”that responsibility is left to the caller."},{"owner":{"account_id":8838381,"reputation":1306,"user_id":6601614,"accept_rate":64,"display_name":"Shankha057"},"score":0,"creation_date":1574772251,"post_id":59049496,"comment_id":104342520,"body_markdown":"@Slaw that&#39;s true. It was only to cover up all the topics. Also, what if the caller in-lines it? in that case you have to close it from within the method.","body":"@Slaw that&#39;s true. It was only to cover up all the topics. Also, what if the caller in-lines it? in that case you have to close it from within the method."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1574772696,"post_id":59049496,"comment_id":104342802,"body_markdown":"It is the responsibility of the code that opened the resource (or requested some other code to open the resource on its behalf) to manage the resource (i.e. close it when finished). Your method did not open the resource which means it&#39;s not the method&#39;s responsibility to manage it. If the caller opened the resource but fails to close it then that&#39;s a bug which must be fixed by the caller. Besides, what if the caller doesn&#39;t want to close the resource immediately? Your method takes away the caller&#39;s control in that regard.","body":"It is the responsibility of the code that opened the resource (or requested some other code to open the resource on its behalf) to manage the resource (i.e. close it when finished). Your method did not open the resource which means it&#39;s not the method&#39;s responsibility to manage it. If the caller opened the resource but fails to close it then that&#39;s a bug which must be fixed by the caller. Besides, what if the caller doesn&#39;t want to close the resource immediately? Your method takes away the caller&#39;s control in that regard."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1574773062,"post_id":59049496,"comment_id":104343024,"body_markdown":"Of course, you could design the method to close the resource but it must be documented to do so. I&#39;d also expect a name more akin to `readAllBytesAndClose`.","body":"Of course, you could design the method to close the resource but it must be documented to do so. I&#39;d also expect a name more akin to <code>readAllBytesAndClose</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1574775342,"post_id":59049496,"comment_id":104344267,"body_markdown":"If you want to close the incoming `InputStream`, just use try-with-resource, `try(InputStream toClose = inputStream) { ... }`. You may even combine it with the already existing try-with-resource statement.","body":"If you want to close the incoming <code>InputStream</code>, just use try-with-resource, <code>try(InputStream toClose = inputStream) { ... }</code>. You may even combine it with the already existing try-with-resource statement."},{"owner":{"account_id":8838381,"reputation":1306,"user_id":6601614,"accept_rate":64,"display_name":"Shankha057"},"score":0,"creation_date":1574784710,"post_id":59049496,"comment_id":104349796,"body_markdown":"@Holger what if you are using JDK less than 1.7?","body":"@Holger what if you are using JDK less than 1.7?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1574784922,"post_id":59049496,"comment_id":104349925,"body_markdown":"Your answer is already using the try-with-resource statement, as well as calling `addSuppressed` in the manual handling, so that&#39;s a pointless question. If you want to support even older Java versions, the code has to look entirely different anyway.","body":"Your answer is already using the try-with-resource statement, as well as calling <code>addSuppressed</code> in the manual handling, so that&#39;s a pointless question. If you want to support even older Java versions, the code has to look entirely different anyway."}],"tags":[],"owner":{"account_id":8838381,"reputation":1306,"user_id":6601614,"accept_rate":64,"display_name":"Shankha057"},"comment_count":7,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1574785124,"creation_date":1574766177,"answer_id":59049496,"question_id":59049358,"body_markdown":"You can use the good old [`read`][1] method like this:  \r\n  \r\n\r\n       public static byte[] readAllBytes(InputStream inputStream) throws IOException {\r\n        final int bufLen = 1024;\r\n        byte[] buf = new byte[bufLen];\r\n        int readLen;\r\n        IOException exception = null;\r\n\r\n        try {\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\r\n            while ((readLen = inputStream.read(buf, 0, bufLen)) != -1)\r\n                outputStream.write(buf, 0, readLen);\r\n\r\n            return outputStream.toByteArray();\r\n        } catch (IOException e) {\r\n            exception = e;\r\n            throw e;\r\n        } finally {\r\n            if (exception == null) inputStream.close();\r\n            else try {\r\n                inputStream.close();\r\n            } catch (IOException e) {\r\n                exception.addSuppressed(e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html","title":"Java 1.8 and below equivalent for InputStream.readAllBytes()","body":"<p>You can use the good old <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html\" rel=\"noreferrer\"><code>read</code></a> method like this:  </p>\n\n<pre><code>   public static byte[] readAllBytes(InputStream inputStream) throws IOException {\n    final int bufLen = 1024;\n    byte[] buf = new byte[bufLen];\n    int readLen;\n    IOException exception = null;\n\n    try {\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n\n        while ((readLen = inputStream.read(buf, 0, bufLen)) != -1)\n            outputStream.write(buf, 0, readLen);\n\n        return outputStream.toByteArray();\n    } catch (IOException e) {\n        exception = e;\n        throw e;\n    } finally {\n        if (exception == null) inputStream.close();\n        else try {\n            inputStream.close();\n        } catch (IOException e) {\n            exception.addSuppressed(e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16388247,"reputation":307,"user_id":11837685,"display_name":"Flontis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21796,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":59049461,"answer_count":2,"score":14,"last_activity_date":1690382608,"creation_date":1574765746,"question_id":59049358,"body_markdown":"I wrote a program that gets all bytes from an `InputStream` in **Java 9** with\r\n\r\n    InputStream.readAllBytes()\r\n\r\nNow, I want to export it to **Java 1.8 and below**. Is there an equivalent function? Couldn&#39;t find one.","title":"Java 1.8 and below equivalent for InputStream.readAllBytes()","body":"<p>I wrote a program that gets all bytes from an <code>InputStream</code> in <strong>Java 9</strong> with</p>\n\n<pre><code>InputStream.readAllBytes()\n</code></pre>\n\n<p>Now, I want to export it to <strong>Java 1.8 and below</strong>. Is there an equivalent function? Couldn't find one.</p>\n"},{"tags":["java","ldap","unboundid"],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1690382670,"post_id":76772459,"comment_id":135346187,"body_markdown":"Actually my backend is Samba. \n\nWhat is your opinion about performance ? we will need to make additional Ldap request every time we create an entry","body":"Actually my backend is Samba.   What is your opinion about performance ? we will need to make additional Ldap request every time we create an entry"},{"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"score":0,"creation_date":1690383102,"post_id":76772459,"comment_id":135346291,"body_markdown":"Samba is still AD; it doesn&#39;t use OpenLDAP (it implements its own LDAP server), and as far as I know, it does not implement any LDAP extensions that MS AD doesn&#39;t have.","body":"Samba is still AD; it doesn&#39;t use OpenLDAP (it implements its own LDAP server), and as far as I know, it does not implement any LDAP extensions that MS AD doesn&#39;t have."},{"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"score":0,"creation_date":1690383233,"post_id":76772459,"comment_id":135346342,"body_markdown":"As for performance, if it&#39;s just one entry, live with it; if it&#39;s multiple entries, use async operations (pipelining) â€“ issue a bunch of add operations at once and collect their results; issue a bunch of search operations and collect results. (And, suggest your Samba server admins to consider switching the DB backend to LMDB â€“ it&#39;s said that it offers much better performance than Samba&#39;s traditional tdb/LDB.)","body":"As for performance, if it&#39;s just one entry, live with it; if it&#39;s multiple entries, use async operations (pipelining) â€“ issue a bunch of add operations at once and collect their results; issue a bunch of search operations and collect results. (And, suggest your Samba server admins to consider switching the DB backend to LMDB â€“ it&#39;s said that it offers much better performance than Samba&#39;s traditional tdb/LDB.)"}],"tags":[],"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690382493,"creation_date":1690382493,"answer_id":76772459,"question_id":76771064,"body_markdown":"Not possible with basic LDAP &amp;ndash; &#39;Add&#39; operation results do not return any data from the server to client, only a success/error code.\r\n\r\nThere are LDAP extensions, namely the &quot;postRead&quot; control, that would allow this &amp;ndash; an add/modify operation with the postRead control would return the whole resulting entry &amp;ndash; but Active Directory does not support them. (I think only OpenLDAP does.) As you&#39;re talking about ObjectGUID rather than entryUUID, I assume you&#39;re using AD rather than OpenLDAP.\r\n\r\nSo you will need to make a separate search for the DN that you just added and retrieve the objectGUID that way.","title":"Is there way to get ObjectGUID from `LDAPResult ` object?","body":"<p>Not possible with basic LDAP â€“ 'Add' operation results do not return any data from the server to client, only a success/error code.</p>\n<p>There are LDAP extensions, namely the &quot;postRead&quot; control, that would allow this â€“ an add/modify operation with the postRead control would return the whole resulting entry â€“ but Active Directory does not support them. (I think only OpenLDAP does.) As you're talking about ObjectGUID rather than entryUUID, I assume you're using AD rather than OpenLDAP.</p>\n<p>So you will need to make a separate search for the DN that you just added and retrieve the objectGUID that way.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76772459,"answer_count":1,"score":0,"last_activity_date":1690382493,"creation_date":1690372856,"question_id":76771064,"body_markdown":"I have a code like this for user creation:\r\n\r\n    AddRequest addRequest = new AddRequest(...\r\n    ...\r\n    LDAPResult addResult = ldapConnectionPool.add(addRequest)\r\n\r\nIs there way to get [ObjectGUID][1] from `addResult` field ? \r\n\r\nOr maybe there is a way to generate this `ObjectGUID` on the client side and send as an argument ?\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/ad/using-objectguid-to-bind-to-an-object","title":"Is there way to get ObjectGUID from `LDAPResult ` object?","body":"<p>I have a code like this for user creation:</p>\n<pre><code>AddRequest addRequest = new AddRequest(...\n...\nLDAPResult addResult = ldapConnectionPool.add(addRequest)\n</code></pre>\n<p>Is there way to get <a href=\"https://learn.microsoft.com/en-us/windows/win32/ad/using-objectguid-to-bind-to-an-object\" rel=\"nofollow noreferrer\">ObjectGUID</a> from <code>addResult</code> field ?</p>\n<p>Or maybe there is a way to generate this <code>ObjectGUID</code> on the client side and send as an argument ?</p>\n"},{"tags":["java","hibernate","unit-testing","quarkus","bootstrapping"],"answers":[{"comments":[{"owner":{"account_id":302741,"reputation":3662,"user_id":611274,"display_name":"Martijn Dashorst"},"score":1,"creation_date":1690382094,"post_id":76772363,"comment_id":135346009,"body_markdown":"Many thanks! This is so obvious, yet so unobvious a fix.","body":"Many thanks! This is so obvious, yet so unobvious a fix."}],"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690382064,"creation_date":1690381817,"answer_id":76772363,"question_id":76771938,"body_markdown":"Quarkus `dev mode` doesn&#39;t use any of files under `src/test`.&lt;br/&gt;\r\nIf you want to have entities and Hibernate available only during test just add `&lt;scope&gt;test&lt;/scope&gt;` to `io.quarkus:quarkus-hibernate-orm` dependency in pom.xml and all should be solved.\r\n","title":"Use Hibernate entities only on test classpath in Quarkus","body":"<p>Quarkus <code>dev mode</code> doesn't use any of files under <code>src/test</code>.<br/>\nIf you want to have entities and Hibernate available only during test just add <code>&lt;scope&gt;test&lt;/scope&gt;</code> to <code>io.quarkus:quarkus-hibernate-orm</code> dependency in pom.xml and all should be solved.</p>\n"}],"owner":{"account_id":302741,"reputation":3662,"user_id":611274,"display_name":"Martijn Dashorst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76772363,"answer_count":1,"score":0,"last_activity_date":1690382064,"creation_date":1690378961,"question_id":76771938,"body_markdown":"I have a project that will do plain, rather generic SQL in the main code for merging two equivalent tenant databases (e.g. having the same schema but different data). I want to be able to test this application and generate schema&#39;s and data in the (unit) tests and use Hibernate for that, so I create a mini JPA model in `src/test/java/entities`, but when I run `quarkus dev`, Hibernate complains that it is disabled because it can&#39;t find any entities:\r\n```\r\nWARN  [io.qua.hib.orm.dep.HibernateOrmProcessor] (build-27) Hibernate ORM is disabled because no JPA entities were found\r\n```\r\n\r\nI don&#39;t want to pollute my application with these model classes that exist purely for testing purposes. Is there a way to bind the Hibernate bootstrap to the test class path?\r\n\r\nSearching for the usual terms (e.g. `hibernate quarkus test class path`) give no relevant results.","title":"Use Hibernate entities only on test classpath in Quarkus","body":"<p>I have a project that will do plain, rather generic SQL in the main code for merging two equivalent tenant databases (e.g. having the same schema but different data). I want to be able to test this application and generate schema's and data in the (unit) tests and use Hibernate for that, so I create a mini JPA model in <code>src/test/java/entities</code>, but when I run <code>quarkus dev</code>, Hibernate complains that it is disabled because it can't find any entities:</p>\n<pre><code>WARN  [io.qua.hib.orm.dep.HibernateOrmProcessor] (build-27) Hibernate ORM is disabled because no JPA entities were found\n</code></pre>\n<p>I don't want to pollute my application with these model classes that exist purely for testing purposes. Is there a way to bind the Hibernate bootstrap to the test class path?</p>\n<p>Searching for the usual terms (e.g. <code>hibernate quarkus test class path</code>) give no relevant results.</p>\n"},{"tags":["java","apache","tomcat","grails","grails-2.5"],"comments":[{"owner":{"account_id":1548991,"reputation":2937,"user_id":1441835,"accept_rate":82,"display_name":"Balkrishna"},"score":0,"creation_date":1470236989,"post_id":38730073,"comment_id":64868584,"body_markdown":"After digging into more on this issue I realized on of the following jar causing this trouble, digging more. Now tomcat is running.\n\n    spring-boot-1.3.1.RELEASE.jar                \n    spring-boot-autoconfigure-1.3.1.RELEASE.jar  \n    spring-boot-cli-1.3.1.RELEASE.jar            \n    spring-boot-loader-tools-1.3.1.RELEASE.jar","body":"After digging into more on this issue I realized on of the following jar causing this trouble, digging more. Now tomcat is running.      spring-boot-1.3.1.RELEASE.jar                     spring-boot-autoconfigure-1.3.1.RELEASE.jar       spring-boot-cli-1.3.1.RELEASE.jar                 spring-boot-loader-tools-1.3.1.RELEASE.jar"}],"answers":[{"tags":[],"owner":{"account_id":1548991,"reputation":2937,"user_id":1441835,"accept_rate":82,"display_name":"Balkrishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1470240272,"creation_date":1470238888,"answer_id":38748133,"question_id":38730073,"body_markdown":"Finally realized `spring-boot-cli-1.3.1.RELEASE.jar` jar causing this trouble. Which is I think downloaded as a part of following dependencies.\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.grails&lt;/groupId&gt;\r\n       &lt;artifactId&gt;gorm-hibernate4-spring-boot&lt;/artifactId&gt;\r\n       &lt;version&gt;5.0.8.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nChanging above to following resolved the issue.\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.grails&lt;/groupId&gt;\r\n       &lt;artifactId&gt;gorm-hibernate4-spring-boot&lt;/artifactId&gt;\r\n       &lt;version&gt;5.0.8.RELEASE&lt;/version&gt;\r\n       &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI think this jar is conflicting with tomcat boot process. For more information follow following threads.\r\n\r\nhttps://stackoverflow.com/questions/28102134/a-child-container-failed-during-start-java-util-concurrent-executionexception\r\n\r\nhttps://stackoverflow.com/questions/10556201/java-lang-classnotfoundexception-httpservletrequest","title":"grails run-app works but not run-war (war deployment fails)","body":"<p>Finally realized <code>spring-boot-cli-1.3.1.RELEASE.jar</code> jar causing this trouble. Which is I think downloaded as a part of following dependencies.</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.grails&lt;/groupId&gt;\n   &lt;artifactId&gt;gorm-hibernate4-spring-boot&lt;/artifactId&gt;\n   &lt;version&gt;5.0.8.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Changing above to following resolved the issue.</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.grails&lt;/groupId&gt;\n   &lt;artifactId&gt;gorm-hibernate4-spring-boot&lt;/artifactId&gt;\n   &lt;version&gt;5.0.8.RELEASE&lt;/version&gt;\n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I think this jar is conflicting with tomcat boot process. For more information follow following threads.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/28102134/a-child-container-failed-during-start-java-util-concurrent-executionexception\">A child container failed during start java.util.concurrent.ExecutionException</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/10556201/java-lang-classnotfoundexception-httpservletrequest\">java.lang.ClassNotFoundException: HttpServletRequest</a></p>\n"},{"tags":[],"owner":{"account_id":10807011,"reputation":2216,"user_id":15016163,"display_name":"Maicon Mauricio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690381830,"creation_date":1690381830,"answer_id":76772364,"question_id":38730073,"body_markdown":"If you encounter this error with Grails 5 and above due to the `grails-shell` dependency conflicting with `spring-boot-cli` while initializing the war in Tomcat, you can resolve this issue by making the following changes to your `build.gradle`:\r\n\r\n#### 1. Using `rootSpec.exclude`:\r\n```groovy\r\nbootWar {\r\n    rootSpec.exclude(&quot;**/spring-boot-cli-*.jar&quot;)\r\n}\r\n```\r\n\r\n#### 2. Classpath filtering:\r\n```groovy\r\nbootWar {\r\n    classpath = classpath.filter { !it.name.startsWith(&quot;spring-boot-cli&quot;) }\r\n}\r\n```\r\n\r\n#### 3. Using `configurations exclude` with a flag property:\r\n\r\nFirst, set the deploy property (`-Pdeploy`) as a flag in your build command. Then, use the following code block to exclude the problematic dependency:\r\n\r\n```groovy\r\nif (hasProperty(&#39;deploy&#39;)) {\r\n    configurations.configureEach {\r\n        exclude group: &quot;org.grails&quot;, module: &quot;grails-shell&quot;\r\n    }\r\n}\r\n```\r\n\r\nThese changes should help resolve the dependency conflict and allow your application to work smoothly with Grails 5 and above. Make sure to apply these changes to your `build.gradle` file and rebuild your project to see the effect.","title":"grails run-app works but not run-war (war deployment fails)","body":"<p>If you encounter this error with Grails 5 and above due to the <code>grails-shell</code> dependency conflicting with <code>spring-boot-cli</code> while initializing the war in Tomcat, you can resolve this issue by making the following changes to your <code>build.gradle</code>:</p>\n<h4>1. Using <code>rootSpec.exclude</code>:</h4>\n<pre><code>bootWar {\n    rootSpec.exclude(&quot;**/spring-boot-cli-*.jar&quot;)\n}\n</code></pre>\n<h4>2. Classpath filtering:</h4>\n<pre><code>bootWar {\n    classpath = classpath.filter { !it.name.startsWith(&quot;spring-boot-cli&quot;) }\n}\n</code></pre>\n<h4>3. Using <code>configurations exclude</code> with a flag property:</h4>\n<p>First, set the deploy property (<code>-Pdeploy</code>) as a flag in your build command. Then, use the following code block to exclude the problematic dependency:</p>\n<pre><code>if (hasProperty('deploy')) {\n    configurations.configureEach {\n        exclude group: &quot;org.grails&quot;, module: &quot;grails-shell&quot;\n    }\n}\n</code></pre>\n<p>These changes should help resolve the dependency conflict and allow your application to work smoothly with Grails 5 and above. Make sure to apply these changes to your <code>build.gradle</code> file and rebuild your project to see the effect.</p>\n"}],"owner":{"account_id":1548991,"reputation":2937,"user_id":1441835,"accept_rate":82,"display_name":"Balkrishna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":557,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":38748133,"answer_count":2,"score":0,"last_activity_date":1690381830,"creation_date":1470170481,"question_id":38730073,"body_markdown":"I am seeing the following error message while trying to execute `grails run-war`. It works fine with `grails run-app`. Later I realized it is not only related to grails. Even if I create war and deploy it on tomcat, I am seeing the same error message. But not sure how to debug more. Looks like some kinds of conflict with tomcat default jar.\r\n\r\n```\r\nGrails version: 2.5.2\r\nTomcat Version: `build &quot;:tomcat:7.0.55.3&quot;`\r\n|Done creating WAR target/ROOT.war\r\n|Running Grails application\r\n    A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].StandardContext[/sms]]\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:816)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].StandardContext[/sms]]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n\t... 6 more\r\n    Caused by: java.lang.NullPointerException\r\n\tat org.springframework.boot.cli.app.SpringApplicationWebApplicationInitializer.getSources(SpringApplicationWebApplicationInitializer.java:62)\r\n\tat org.springframework.boot.cli.app.SpringApplicationWebApplicationInitializer.onStartup(SpringApplicationWebApplicationInitializer.java:48)\r\n\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:175)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5479)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\t... 6 more\r\n    A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost]]\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:300)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:739)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:341)\r\n\tat org.grails.plugins.tomcat.fork.TomcatWarRunner.doStart(TomcatWarRunner.groovy:114)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:210)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:59)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:52)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:154)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:182)\r\n\tat org.grails.plugins.tomcat.TomcatServer.start(TomcatServer.groovy:141)\r\n\tat grails.web.container.EmbeddableServer$start.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:133)\r\n\tat org.grails.plugins.tomcat.fork.ForkedTomcatServer.runInternal(ForkedTomcatServer.groovy:86)\r\n\tat org.grails.plugins.tomcat.fork.ForkedTomcatServer.run(ForkedTomcatServer.groovy:66)\r\n\tat org.grails.plugins.tomcat.fork.ForkedTomcatServer$run.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:117)\r\n\tat org.grails.plugins.tomcat.fork.ForkedTomcatServer.main(ForkedTomcatServer.groovy:60)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost]]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:816)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\t... 6 more\r\n    | Error Error loading Tomcat: Failed to start component [StandardServer[-1]] (Use --stacktrace to see the full trace)\r\n    Error |\r\n    Forked Grails VM exited with error\r\n```\r\n","title":"grails run-app works but not run-war (war deployment fails)","body":"<p>I am seeing the following error message while trying to execute <code>grails run-war</code>. It works fine with <code>grails run-app</code>. Later I realized it is not only related to grails. Even if I create war and deploy it on tomcat, I am seeing the same error message. But not sure how to debug more. Looks like some kinds of conflict with tomcat default jar.</p>\n<pre><code>Grails version: 2.5.2\nTomcat Version: `build &quot;:tomcat:7.0.55.3&quot;`\n|Done creating WAR target/ROOT.war\n|Running Grails application\n    A child container failed during start\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].StandardContext[/sms]]\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:816)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].StandardContext[/sms]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    ... 6 more\n    Caused by: java.lang.NullPointerException\n    at org.springframework.boot.cli.app.SpringApplicationWebApplicationInitializer.getSources(SpringApplicationWebApplicationInitializer.java:62)\n    at org.springframework.boot.cli.app.SpringApplicationWebApplicationInitializer.onStartup(SpringApplicationWebApplicationInitializer.java:48)\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:175)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5479)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more\n    A child container failed during start\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost]]\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:300)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:739)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:341)\n    at org.grails.plugins.tomcat.fork.TomcatWarRunner.doStart(TomcatWarRunner.groovy:114)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:210)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:59)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:52)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:154)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:182)\n    at org.grails.plugins.tomcat.TomcatServer.start(TomcatServer.groovy:141)\n    at grails.web.container.EmbeddableServer$start.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:133)\n    at org.grails.plugins.tomcat.fork.ForkedTomcatServer.runInternal(ForkedTomcatServer.groovy:86)\n    at org.grails.plugins.tomcat.fork.ForkedTomcatServer.run(ForkedTomcatServer.groovy:66)\n    at org.grails.plugins.tomcat.fork.ForkedTomcatServer$run.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:117)\n    at org.grails.plugins.tomcat.fork.ForkedTomcatServer.main(ForkedTomcatServer.groovy:60)\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:816)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more\n    | Error Error loading Tomcat: Failed to start component [StandardServer[-1]] (Use --stacktrace to see the full trace)\n    Error |\n    Forked Grails VM exited with error\n</code></pre>\n"},{"tags":["java","linux","maven","jenkins","jenkins-pipeline"],"comments":[{"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"score":0,"creation_date":1567654199,"post_id":57797759,"comment_id":102028757,"body_markdown":"Check this out: https://stackoverflow.com/questions/57692448/using-multiple-jdks-in-single-scripted-pipeline/57696917#57696917","body":"Check this out: <a href=\"https://stackoverflow.com/questions/57692448/using-multiple-jdks-in-single-scripted-pipeline/57696917#57696917\" title=\"using multiple jdks in single scripted pipeline\">stackoverflow.com/questions/57692448/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1580301024,"creation_date":1567654082,"answer_id":57798052,"question_id":57797759,"body_markdown":"To configure Java home for a Jenkins job you need the following\r\n\r\n1. Configure a JDK in Jenkins Global Tools. Go to `Manage -Jenkins -&gt; Global Tool Configuration` in JDK section add a JDK.\r\n\r\n   [![enter image description here][1]][1]\r\n    \r\n   **Note** JAVA_HOME should be a valid JDK not a JRE.\r\n2. You can set the JAVA_HOME using the following snippet.\r\n       ```groovy\r\n       env.JAVA_HOME=&quot;${tool &#39;jdk1.8.0_181&#39;}&quot;\r\n       ```\r\n\r\nThis should use the `/jdks/jdk1.8.0_181` as `JAVA_HOME` \r\n\r\n  [1]: https://i.stack.imgur.com/se5Lz.jpg","title":"Jenkins maven has other java version. How to solve it?","body":"<p>To configure Java home for a Jenkins job you need the following</p>\n\n<ol>\n<li><p>Configure a JDK in Jenkins Global Tools. Go to <code>Manage -Jenkins -&gt; Global Tool Configuration</code> in JDK section add a JDK.</p>\n\n<p><a href=\"https://i.stack.imgur.com/se5Lz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/se5Lz.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Note</strong> JAVA_HOME should be a valid JDK not a JRE.</p></li>\n<li>You can set the JAVA_HOME using the following snippet.\n\n<pre><code>env.JAVA_HOME=\"${tool 'jdk1.8.0_181'}\"\n</code></pre></li>\n</ol>\n\n<p>This should use the <code>/jdks/jdk1.8.0_181</code> as <code>JAVA_HOME</code> </p>\n"},{"tags":[],"owner":{"account_id":5733229,"reputation":546,"user_id":4528146,"display_name":"Tasos Zervos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690381191,"creation_date":1690381191,"answer_id":76772263,"question_id":57797759,"body_markdown":"To expand further on the answer by @seenukarthi, this shows how to use it in a scripted pipeline:\r\n```\r\nnode {\r\n  jdk = tool name: &#39;JDK17&#39;\r\n  env.JAVA_HOME = &quot;${jdk}&quot;\r\n\r\n  echo &quot;jdk installation path is: ${jdk}&quot;\r\n  [...]\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.cloudbees.com/docs/cloudbees-ci-kb/latest/client-and-managed-controllers/how-to-specify-a-specific-jdk-in-pipeline","title":"Jenkins maven has other java version. How to solve it?","body":"<p>To expand further on the answer by @seenukarthi, this shows how to use it in a scripted pipeline:</p>\n<pre><code>node {\n  jdk = tool name: 'JDK17'\n  env.JAVA_HOME = &quot;${jdk}&quot;\n\n  echo &quot;jdk installation path is: ${jdk}&quot;\n  [...]\n}\n</code></pre>\n"}],"owner":{"account_id":14322281,"reputation":467,"user_id":10345277,"display_name":"ìœ¤í˜„êµ¬"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57798052,"answer_count":2,"score":0,"last_activity_date":1690381191,"creation_date":1567651292,"question_id":57797759,"body_markdown":"I&#39;m writing a new Jenkinsfile to work with my pipeline, and I&#39;m trying to build with Maven.\r\n\r\nThe Jenkinsfile I wrote looks like this:\r\n```\r\nnode {\r\n    stage(&#39;Mvn clean install&#39;) {\r\n        echo &#39;Start to : mvn clean install&#39;\r\n        def mvnHome = tool name: &#39;mvn_3.6.1&#39;, type: &#39;maven&#39;\r\n        sh &quot;${mvnHome}/bin/mvn -version&quot;\r\n        sh &quot;${mvnHome}/bin/mvn clean install -P sonar&quot;\r\n    }\r\n}\r\n```\r\n\r\nThe errors that occurred during the build are:\r\n```\r\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ jmsight-management ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 119 source files to /var/lib/jenkins/workspace/jmsight-management-pipeline/target/classes\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.009 s\r\n[INFO] Finished at: 2019-09-04T17:32:13+09:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project jmsight-management: Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\r\n```\r\n\r\n\r\nThe point is that the results of running ```mvn -version``` on the server and on Jenkins are different.\r\n\r\nCheck out my Jenkins console output.\r\n\r\n```\r\n[Pipeline] }\r\n[Pipeline] // stage\r\n[Pipeline] stage\r\n[Pipeline] { (Mvn clean install)\r\n[Pipeline] echo\r\nStart to : mvn clean install\r\n[Pipeline] tool\r\n[Pipeline] sh\r\n+ /var/lib/jenkins/tools/hudson.tasks.Maven_MavenInstallation/mvn_3.6.1/bin/mvn -version\r\nApache Maven 3.6.1 (d66c9c0b3152b2e69ee9bac180bb8fcc8e6af555; 2019-04-05T04:00:29+09:00)\r\nMaven home: /var/lib/jenkins/tools/hudson.tasks.Maven_MavenInstallation/mvn_3.6.1\r\nJava version: 1.8.0_222, vendor: Oracle Corporation, runtime: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-0.el7_6.x86_64/jre\r\nDefault locale: ko_KR, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;3.10.0-957.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\nAnd when I run ```mvn -version``` directly on the server.\r\n```\r\n[jmuser@cicd-vm-dev01 usr]$ /var/lib/jenkins/tools/hudson.tasks.Maven_MavenInstallation/mvn_3.6.1/bin/mvn -version\r\nApache Maven 3.6.1 (d66c9c0b3152b2e69ee9bac180bb8fcc8e6af555; 2019-04-05T04:00:29+09:00)\r\nMaven home: /var/lib/jenkins/tools/hudson.tasks.Maven_MavenInstallation/mvn_3.6.1\r\nJava version: 11.0.4, vendor: Oracle Corporation, runtime: /usr/lib/jvm/java-11-openjdk-11.0.4.11-0.el7_6.x86_64\r\nDefault locale: ko_KR, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;3.10.0-957.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\n\r\n\r\nThe java version is displaying differently. What am I doing wrong?\r\n","title":"Jenkins maven has other java version. How to solve it?","body":"<p>I'm writing a new Jenkinsfile to work with my pipeline, and I'm trying to build with Maven.</p>\n\n<p>The Jenkinsfile I wrote looks like this:</p>\n\n<pre><code>node {\n    stage('Mvn clean install') {\n        echo 'Start to : mvn clean install'\n        def mvnHome = tool name: 'mvn_3.6.1', type: 'maven'\n        sh \"${mvnHome}/bin/mvn -version\"\n        sh \"${mvnHome}/bin/mvn clean install -P sonar\"\n    }\n}\n</code></pre>\n\n<p>The errors that occurred during the build are:</p>\n\n<pre><code>[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ jmsight-management ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 119 source files to /var/lib/jenkins/workspace/jmsight-management-pipeline/target/classes\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.009 s\n[INFO] Finished at: 2019-09-04T17:32:13+09:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project jmsight-management: Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\n</code></pre>\n\n<p>The point is that the results of running <code>mvn -version</code> on the server and on Jenkins are different.</p>\n\n<p>Check out my Jenkins console output.</p>\n\n<pre><code>[Pipeline] }\n[Pipeline] // stage\n[Pipeline] stage\n[Pipeline] { (Mvn clean install)\n[Pipeline] echo\nStart to : mvn clean install\n[Pipeline] tool\n[Pipeline] sh\n+ /var/lib/jenkins/tools/hudson.tasks.Maven_MavenInstallation/mvn_3.6.1/bin/mvn -version\nApache Maven 3.6.1 (d66c9c0b3152b2e69ee9bac180bb8fcc8e6af555; 2019-04-05T04:00:29+09:00)\nMaven home: /var/lib/jenkins/tools/hudson.tasks.Maven_MavenInstallation/mvn_3.6.1\nJava version: 1.8.0_222, vendor: Oracle Corporation, runtime: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-0.el7_6.x86_64/jre\nDefault locale: ko_KR, platform encoding: UTF-8\nOS name: \"linux\", version: \"3.10.0-957.el7.x86_64\", arch: \"amd64\", family: \"unix\"\n</code></pre>\n\n<p>And when I run <code>mvn -version</code> directly on the server.</p>\n\n<pre><code>[jmuser@cicd-vm-dev01 usr]$ /var/lib/jenkins/tools/hudson.tasks.Maven_MavenInstallation/mvn_3.6.1/bin/mvn -version\nApache Maven 3.6.1 (d66c9c0b3152b2e69ee9bac180bb8fcc8e6af555; 2019-04-05T04:00:29+09:00)\nMaven home: /var/lib/jenkins/tools/hudson.tasks.Maven_MavenInstallation/mvn_3.6.1\nJava version: 11.0.4, vendor: Oracle Corporation, runtime: /usr/lib/jvm/java-11-openjdk-11.0.4.11-0.el7_6.x86_64\nDefault locale: ko_KR, platform encoding: UTF-8\nOS name: \"linux\", version: \"3.10.0-957.el7.x86_64\", arch: \"amd64\", family: \"unix\"\n</code></pre>\n\n<p>The java version is displaying differently. What am I doing wrong?</p>\n"},{"tags":["java","spring-boot","log4j","logback","spring-logback"],"owner":{"account_id":3761893,"reputation":193,"user_id":3126580,"display_name":"hehe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690381132,"creation_date":1690381132,"question_id":76772253,"body_markdown":"my java project use log4j 1.xï¼Œand it&#39;s a strong dependency. \r\n\r\nmy log4j configuration like this:\r\n\r\n```\r\nlog4j.rootLogger=INFO, Console\r\n\r\nLOG_PATH=logs\r\n#log4j.appender.Console=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.Console=org.apache.log4j.DailyRollingFileAppender\r\nlog4j.appender.Console.DatePattern=&#39;.&#39;yyyy-MM-dd\r\nlog4j.appender.Console.File=${LOG_PATH}/console.log\r\nlog4j.appender.Console.layout=org.apache.log4j.EnhancedPatternLayout\r\nlog4j.appender.Console.layout.ConversionPattern=%d{yyyy/MM/dd HH:mm:ss.SSS Z} %p [%c{1}] [Thread-%t] %m%n\r\n\r\n```\r\n\r\n\r\nI have an other module `task-exec` use logback SiftingAppender to print log to different files. and I add `task-exec` module to my project, it work will.\r\n\r\nmy logback configuration like this:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration debug=&quot;false&quot; scan=&quot;true&quot; scanPeriod=&quot;60 seconds&quot;&gt;\r\n    \r\n    &lt;property name=&quot;CHARSET&quot; value=&quot;UTF-8&quot;/&gt;\r\n    \r\n    &lt;property name=&quot;PATTERN_DEF&quot; value=&quot;[%d{yyyy-MM-dd HH:mm:ss SSS}] [%-5p] [%thread] [%logger{50}] [%M:%line] - %m%n&quot;/&gt;\r\n    \r\n    &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;charset&gt;${CHARSET}&lt;/charset&gt;\r\n            &lt;pattern&gt;${PATTERN_DEF}&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n        &lt;target&gt;System.out&lt;/target&gt; &lt;!-- System.out|System.err --&gt;\r\n    &lt;/appender&gt;\r\n    &lt;appender name=&quot;log_classify&quot; class=&quot;ch.qos.logback.classic.sift.SiftingAppender&quot;&gt;\r\n\r\n        &lt;discriminator&gt;\r\n            &lt;key&gt;MDC_LOG_FILE&lt;/key&gt; \r\n            &lt;defaultValue&gt;other.log&lt;/defaultValue&gt; \r\n        &lt;/discriminator&gt;\r\n        &lt;sift&gt;\r\n           &lt;appender name=&quot;${MDC_LOG_FILE}&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n                &lt;file&gt;${MDC_LOG_FILE}&lt;/file&gt;\r\n                &lt;maxFileSize&gt;20MB&lt;/maxFileSize&gt;\r\n                &lt;encoder&gt;\r\n                    &lt;charset&gt;${CHARSET}&lt;/charset&gt;\r\n                    &lt;pattern&gt;${PATTERN_DEF}&lt;/pattern&gt;\r\n                &lt;/encoder&gt;\r\n            &lt;/appender&gt;\r\n        &lt;/sift&gt;\r\n    &lt;/appender&gt;\r\n    &lt;logger name=&quot;mdcTaskLogger&quot; level=&quot;info&quot; additivity=&quot;true&quot;&gt;\r\n        &lt;appender-ref ref=&quot;log_classify&quot;/&gt;\r\n    &lt;/logger&gt;\r\n&lt;/configuration&gt;\r\n\r\n\r\n```\r\n\r\n\r\n\r\nnow, I want to add spring-boot-starter-data-jpa into the project. and I found that spring bean&#39;s logs will not output, only print a springboot banner.\r\n\r\nI modify spring properties file like application.properties, but it is not work.\r\n\r\nI add logback-spring.xml into jvm classpath, but it is also not work.\r\n\r\nI add system property -Dlogback.debug=true, it only print `task-exec` load configuration, nothing about springboot.\r\n\r\n```\r\n21:44:50,299 |-INFO in ch.qos.logback.core.joran.spi.ConfigurationWatchList@301434fb - URL [jar:file:/usr/lib/task-exec-1.3.33-SNAPSHOT.jar!/logback.xml] is not of type file\r\n21:44:50,305 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - Will scan for changes in [jar:file:/usr/lib/task-exec-1.3.33-SNAPSHOT.jar!/logback.xml]\r\n21:44:50,306 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - Setting ReconfigureOnChangeTask scanning period to 1 minutes\r\n21:44:50,306 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]\r\n21:44:50,306 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [console]\r\n21:44:50,306 |-INFO in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Assuming default type [ch.qos.logback.classic.encoder.PatternLayoutEncoder] for [encoder] property\r\n21:44:50,307 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.rolling.RollingFileAppender]\r\n21:44:50,308 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [rolling_file]\r\n21:44:50,308 |-INFO in c.q.l.core.rolling.TimeBasedRollingPolicy@1231160694 - No compression will be used\r\n```\r\n\r\n\r\n\r\nCan logback and log4j really not coexist?\r\n\r\n\r\nhow can I modify the configuration, can make them coexist?\r\n\r\n\r\nmy springboot version 2.7.13, logback version 1.2.12\r\n\r\nmy `task-exec` use logback version is also 1.2.12\r\n\r\nmy main project log4j version is 1.2.17\r\n","title":"How to Coexist Logback and Log4j in a Java Project","body":"<p>my java project use log4j 1.xï¼Œand it's a strong dependency.</p>\n<p>my log4j configuration like this:</p>\n<pre><code>log4j.rootLogger=INFO, Console\n\nLOG_PATH=logs\n#log4j.appender.Console=org.apache.log4j.ConsoleAppender\nlog4j.appender.Console=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.Console.DatePattern='.'yyyy-MM-dd\nlog4j.appender.Console.File=${LOG_PATH}/console.log\nlog4j.appender.Console.layout=org.apache.log4j.EnhancedPatternLayout\nlog4j.appender.Console.layout.ConversionPattern=%d{yyyy/MM/dd HH:mm:ss.SSS Z} %p [%c{1}] [Thread-%t] %m%n\n\n</code></pre>\n<p>I have an other module <code>task-exec</code> use logback SiftingAppender to print log to different files. and I add <code>task-exec</code> module to my project, it work will.</p>\n<p>my logback configuration like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration debug=&quot;false&quot; scan=&quot;true&quot; scanPeriod=&quot;60 seconds&quot;&gt;\n    \n    &lt;property name=&quot;CHARSET&quot; value=&quot;UTF-8&quot;/&gt;\n    \n    &lt;property name=&quot;PATTERN_DEF&quot; value=&quot;[%d{yyyy-MM-dd HH:mm:ss SSS}] [%-5p] [%thread] [%logger{50}] [%M:%line] - %m%n&quot;/&gt;\n    \n    &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;charset&gt;${CHARSET}&lt;/charset&gt;\n            &lt;pattern&gt;${PATTERN_DEF}&lt;/pattern&gt;\n        &lt;/encoder&gt;\n        &lt;target&gt;System.out&lt;/target&gt; &lt;!-- System.out|System.err --&gt;\n    &lt;/appender&gt;\n    &lt;appender name=&quot;log_classify&quot; class=&quot;ch.qos.logback.classic.sift.SiftingAppender&quot;&gt;\n\n        &lt;discriminator&gt;\n            &lt;key&gt;MDC_LOG_FILE&lt;/key&gt; \n            &lt;defaultValue&gt;other.log&lt;/defaultValue&gt; \n        &lt;/discriminator&gt;\n        &lt;sift&gt;\n           &lt;appender name=&quot;${MDC_LOG_FILE}&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n                &lt;file&gt;${MDC_LOG_FILE}&lt;/file&gt;\n                &lt;maxFileSize&gt;20MB&lt;/maxFileSize&gt;\n                &lt;encoder&gt;\n                    &lt;charset&gt;${CHARSET}&lt;/charset&gt;\n                    &lt;pattern&gt;${PATTERN_DEF}&lt;/pattern&gt;\n                &lt;/encoder&gt;\n            &lt;/appender&gt;\n        &lt;/sift&gt;\n    &lt;/appender&gt;\n    &lt;logger name=&quot;mdcTaskLogger&quot; level=&quot;info&quot; additivity=&quot;true&quot;&gt;\n        &lt;appender-ref ref=&quot;log_classify&quot;/&gt;\n    &lt;/logger&gt;\n&lt;/configuration&gt;\n\n\n</code></pre>\n<p>now, I want to add spring-boot-starter-data-jpa into the project. and I found that spring bean's logs will not output, only print a springboot banner.</p>\n<p>I modify spring properties file like application.properties, but it is not work.</p>\n<p>I add logback-spring.xml into jvm classpath, but it is also not work.</p>\n<p>I add system property -Dlogback.debug=true, it only print <code>task-exec</code> load configuration, nothing about springboot.</p>\n<pre><code>21:44:50,299 |-INFO in ch.qos.logback.core.joran.spi.ConfigurationWatchList@301434fb - URL [jar:file:/usr/lib/task-exec-1.3.33-SNAPSHOT.jar!/logback.xml] is not of type file\n21:44:50,305 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - Will scan for changes in [jar:file:/usr/lib/task-exec-1.3.33-SNAPSHOT.jar!/logback.xml]\n21:44:50,306 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - Setting ReconfigureOnChangeTask scanning period to 1 minutes\n21:44:50,306 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]\n21:44:50,306 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [console]\n21:44:50,306 |-INFO in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Assuming default type [ch.qos.logback.classic.encoder.PatternLayoutEncoder] for [encoder] property\n21:44:50,307 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.rolling.RollingFileAppender]\n21:44:50,308 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [rolling_file]\n21:44:50,308 |-INFO in c.q.l.core.rolling.TimeBasedRollingPolicy@1231160694 - No compression will be used\n</code></pre>\n<p>Can logback and log4j really not coexist?</p>\n<p>how can I modify the configuration, can make them coexist?</p>\n<p>my springboot version 2.7.13, logback version 1.2.12</p>\n<p>my <code>task-exec</code> use logback version is also 1.2.12</p>\n<p>my main project log4j version is 1.2.17</p>\n"},{"tags":["java","ldap","identifier","unboundid-ldap-sdk","dn"],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1690381027,"post_id":76772205,"comment_id":135345732,"body_markdown":"Thank you for yor answer.\n\nWhat about retrieving objectGuid from addResult  ?\n`LDAPResult addResult = ldapConnectionPool.add(addRequest)`","body":"Thank you for yor answer.  What about retrieving objectGuid from addResult  ? <code>LDAPResult addResult = ldapConnectionPool.add(addRequest)</code>"},{"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"score":0,"creation_date":1690382252,"post_id":76772205,"comment_id":135346070,"body_markdown":"You cannot â€“ there&#39;s no extra information in &#39;Add&#39; results; you&#39;ll have to make a lookup (search) of the newly added entry by its DN. There are additional &quot;controls&quot; (postRead, in particular) that would make this possible but only some LDAP implementations support them, so it would be possible with OpenLDAP, but not with AD. (If you&#39;re adding many entries in batch, keep in mind LDAP supports async requests.)","body":"You cannot â€“ there&#39;s no extra information in &#39;Add&#39; results; you&#39;ll have to make a lookup (search) of the newly added entry by its DN. There are additional &quot;controls&quot; (postRead, in particular) that would make this possible but only some LDAP implementations support them, so it would be possible with OpenLDAP, but not with AD. (If you&#39;re adding many entries in batch, keep in mind LDAP supports async requests.)"}],"tags":[],"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690380765,"creation_date":1690380765,"answer_id":76772205,"question_id":76769514,"body_markdown":"That looks fine; performance shouldn&#39;t be an issue.\r\n\r\n 1. LDAP does not actually have a &quot;get entry by DN&quot; operation in the first place &amp;ndash; under the hood, your LDAP client emulates it by [performing a search][1] with SearchScope.BASE and with the DN as base. So you&#39;re not changing anything in that regard; you had a search returning 1 entry previously, and you have a search returning 1 entry now.\r\n\r\n 2. The objectGUID attribute is indexed &amp;ndash; the server will optimize the search query into a fast index lookup and will instantly retrieve the matching entry. It doesn&#39;t need to actually scan the entire subtree for this.\r\n\r\n[1]: https://github.com/pingidentity/ldapsdk/blob/master/src/com/unboundid/ldap/sdk/LDAPConnection.java#L1898","title":"Is there way to use ObjectGuid instead of dn in ldap api?","body":"<p>That looks fine; performance shouldn't be an issue.</p>\n<ol>\n<li><p>LDAP does not actually have a &quot;get entry by DN&quot; operation in the first place â€“ under the hood, your LDAP client emulates it by <a href=\"https://github.com/pingidentity/ldapsdk/blob/master/src/com/unboundid/ldap/sdk/LDAPConnection.java#L1898\" rel=\"nofollow noreferrer\">performing a search</a> with SearchScope.BASE and with the DN as base. So you're not changing anything in that regard; you had a search returning 1 entry previously, and you have a search returning 1 entry now.</p>\n</li>\n<li><p>The objectGUID attribute is indexed â€“ the server will optimize the search query into a fast index lookup and will instantly retrieve the matching entry. It doesn't need to actually scan the entire subtree for this.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76772205,"answer_count":1,"score":2,"last_activity_date":1690380765,"creation_date":1690361618,"question_id":76769514,"body_markdown":"We have an application which use ldap protocol. We use unboundId library for that \r\n\r\n    // ldap\r\n    implementation(&quot;com.unboundid:unboundid-ldapsdk:6.0.9&quot;)\r\n\r\n \r\nWe found out that most api calls use `dn` as argument. \r\n\r\nFor example:\r\n\r\n    ldapConnectionPool.getEntry(dn)\r\n\r\nBut we also found out that `dn` is not immutable identifier (it could be changed if we move the object from one location to another one or if we rename it (change CN) but it is not good to have mutable identifiers for many reasons. So we started to look for immutable identifier and found out [objectGuid][1].\r\n\r\nBut the problem here that I can&#39;t find any method which allow me to \r\n 1. Get entry by objectGuid\r\n\r\nI&#39;ve found only this way but I am not sure about performance:\r\n\r\n    SearchRequest searchRequest = new SearchRequest(\r\n                    searchBase, \r\n                    SearchScope.SUB, \r\n                    Filter.createEqualityFilter(&quot;objectGuid&quot;, objectGuid)\r\n            );\r\n\r\n\r\n 2. Extract `objectGuid` from creation request:\r\n\r\n```\r\n    LDAPResult addResult = ldapConnectionPool.add(addRequest)\r\n```\r\n\r\nSo my question is:\r\n\r\nIs it a good idea to use `objectGuid` as identifier in our application or not ? performance matters.\r\n\r\nFrom the first glance it looks really attractive but looks like library is not designed for that. What do you think ?\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/ad/using-objectguid-to-bind-to-an-object\r\n\r\n\r\n\r\n","title":"Is there way to use ObjectGuid instead of dn in ldap api?","body":"<p>We have an application which use ldap protocol. We use unboundId library for that</p>\n<pre><code>// ldap\nimplementation(&quot;com.unboundid:unboundid-ldapsdk:6.0.9&quot;)\n</code></pre>\n<p>We found out that most api calls use <code>dn</code> as argument.</p>\n<p>For example:</p>\n<pre><code>ldapConnectionPool.getEntry(dn)\n</code></pre>\n<p>But we also found out that <code>dn</code> is not immutable identifier (it could be changed if we move the object from one location to another one or if we rename it (change CN) but it is not good to have mutable identifiers for many reasons. So we started to look for immutable identifier and found out <a href=\"https://learn.microsoft.com/en-us/windows/win32/ad/using-objectguid-to-bind-to-an-object\" rel=\"nofollow noreferrer\">objectGuid</a>.</p>\n<p>But the problem here that I can't find any method which allow me to</p>\n<ol>\n<li>Get entry by objectGuid</li>\n</ol>\n<p>I've found only this way but I am not sure about performance:</p>\n<pre><code>SearchRequest searchRequest = new SearchRequest(\n                searchBase, \n                SearchScope.SUB, \n                Filter.createEqualityFilter(&quot;objectGuid&quot;, objectGuid)\n        );\n</code></pre>\n<ol start=\"2\">\n<li>Extract <code>objectGuid</code> from creation request:</li>\n</ol>\n<pre><code>    LDAPResult addResult = ldapConnectionPool.add(addRequest)\n</code></pre>\n<p>So my question is:</p>\n<p>Is it a good idea to use <code>objectGuid</code> as identifier in our application or not ? performance matters.</p>\n<p>From the first glance it looks really attractive but looks like library is not designed for that. What do you think ?</p>\n"},{"tags":["java","apache-flink","mqtt","flink-streaming"],"comments":[{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1690171561,"post_id":76751203,"comment_id":135310898,"body_markdown":"What&#39;s deprecated are the cases where keyBy and maxBy that have to use reflection. E.g., instead of `keyBy(&quot;id&quot;)` use `keyBy(event -&gt; event.id)`.","body":"What&#39;s deprecated are the cases where keyBy and maxBy that have to use reflection. E.g., instead of <code>keyBy(&quot;id&quot;)</code> use <code>keyBy(event -&gt; event.id)</code>."},{"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"score":0,"creation_date":1690172038,"post_id":76751203,"comment_id":135310939,"body_markdown":"Before you want to implement your function, it is recommended that you learn how to use various operators","body":"Before you want to implement your function, it is recommended that you learn how to use various operators"}],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690221242,"creation_date":1690171999,"answer_id":76751367,"question_id":76751203,"body_markdown":"The way that you&#39;ve tried to structure your application isn&#39;t going to work. As a stream processor, Flink is designed to process unbounded streams of data, and to process each event once. There&#39;s no way to determine the max and min elements of the stream without pre-processing the entire stream (whatever that means for an unbounded stream), so excluding the outliers is tricky business.\r\n\r\nYou could, instead, keep track of the max and min _seen so far in the input stream_, but excluding those won&#39;t make sense either.\r\n\r\nFor this particular application, perhaps you&#39;d rather execute it in batch mode, in which case these issues will go away, and then the expected result will be well defined. ","title":"Flink method undefined for certain type","body":"<p>The way that you've tried to structure your application isn't going to work. As a stream processor, Flink is designed to process unbounded streams of data, and to process each event once. There's no way to determine the max and min elements of the stream without pre-processing the entire stream (whatever that means for an unbounded stream), so excluding the outliers is tricky business.</p>\n<p>You could, instead, keep track of the max and min <em>seen so far in the input stream</em>, but excluding those won't make sense either.</p>\n<p>For this particular application, perhaps you'd rather execute it in batch mode, in which case these issues will go away, and then the expected result will be well defined.</p>\n"},{"tags":[],"owner":{"account_id":82425,"reputation":8280,"user_id":231762,"display_name":"kkrugler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690380385,"creation_date":1690380385,"answer_id":76772147,"question_id":76751203,"body_markdown":"As David noted, you can&#39;t find the min or max in an unbounded stream. If you must run this as a streaming job, you can use [Apache DataSketches][1] to calculate a streaming/approximate quantile, and exclude values that are out-of-bounds. There is the boot-strapping problem, where you&#39;d want to process and accumulate some number of values before you start filtering, to avoid false positives.\r\n\r\n\r\n  [1]: https://datasketches.apache.org/","title":"Flink method undefined for certain type","body":"<p>As David noted, you can't find the min or max in an unbounded stream. If you must run this as a streaming job, you can use <a href=\"https://datasketches.apache.org/\" rel=\"nofollow noreferrer\">Apache DataSketches</a> to calculate a streaming/approximate quantile, and exclude values that are out-of-bounds. There is the boot-strapping problem, where you'd want to process and accumulate some number of values before you start filtering, to avoid false positives.</p>\n"}],"owner":{"account_id":26978112,"reputation":1,"user_id":20542929,"display_name":"Reungu Ju"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690380385,"creation_date":1690168703,"question_id":76751203,"body_markdown":"I am a super newbie learning Apache Flink recently, I would like to build a program that achieves:\r\n\r\nWhen I boardcast a string of number for example: 39 40 35 12 36 36 37 52 in Mqtt.fx (configuration code not shown, works fine), the java program I wrote below can exclude the outliers, here is 12 and 52, and then calculate the average number, this is my code:\r\n\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n        env.setParallelism(1);\r\n\r\n        DataStream&lt;String&gt; stream = env.addSource(new MqttConsumer());\r\n\r\n        DataStream&lt;Integer&gt; dataStream = stream.flatMap(new FlatMapFunction&lt;String, Integer&gt;() {\r\n            @Override\r\n            public void flatMap(String value, Collector&lt;Integer&gt; out) throws Exception {\r\n                String[] str = value.split(&quot; &quot;);\r\n                int temperature = Integer.parseInt(str[1]);\r\n                out.collect(temperature);\r\n            }\r\n        }).setParallelism(1);\r\n\r\n        \r\n\r\n        DataStream&lt;Integer&gt; filteredDataStream = dataStream\r\n                .filter(temperature -&gt; temperature != findMaxTemperature(dataStream) &amp;&amp; temperature != findMinTemperature(dataStream))\r\n                .setParallelism(1);\r\n\r\n        DataStream&lt;Double&gt; averageDataStream = filteredDataStream\r\n                .map(temperature -&gt; (double) temperature)\r\n                .reduce(( t1,  t2) -&gt;  t1 + t2)\r\n                .map(sum -&gt; sum / filteredDataStream.count())\r\n                .setParallelism(1);\r\n\r\n        averageDataStream.print();\r\n        env.execute();\r\n    }\r\n\r\n    private static int findMaxTemperature(DataStream&lt;Integer&gt; dataStream) throws Exception {\r\n        return dataStream.max(1).collect().get(0).getField(0);\r\n    }\r\n\r\n    private static int findMinTemperature(DataStream&lt;Integer&gt; dataStream) throws Exception {\r\n        return dataStream.min(1).collect().get(0).getField(0);\r\n    }\r\n```\r\n\r\nI also imported these pacakges:\r\n\r\n```\r\nimport org.apache.flink.api.common.functions.FlatMapFunction;\r\nimport org.apache.flink.api.java.tuple.Tuple2;\r\nimport org.apache.flink.streaming.api.datastream.DataStream;\r\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\nimport org.apache.flink.util.Collector;\r\n``` \r\n\r\nHowever, under `reduce`, there is an error: `The method reduce((&lt;no type&gt; t1, &lt;no type&gt; t2) -&gt; {}) is undefined for the type SingleOutputStreamOperator&lt;Double&gt;`\r\n\r\nUnder `min` and `max`, it says: `The method max(int) is undefined for the type DataStream&lt;Integer&gt;`. \r\n\r\nIt seems to be some type converting problem, but I tried to revise it, I also tried to use `keyBy()`, which is said to be deprecated, and `maxBy()`, which also doesn&#39;t work. Can anyone help me with that? ","title":"Flink method undefined for certain type","body":"<p>I am a super newbie learning Apache Flink recently, I would like to build a program that achieves:</p>\n<p>When I boardcast a string of number for example: 39 40 35 12 36 36 37 52 in Mqtt.fx (configuration code not shown, works fine), the java program I wrote below can exclude the outliers, here is 12 and 52, and then calculate the average number, this is my code:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n\n        DataStream&lt;String&gt; stream = env.addSource(new MqttConsumer());\n\n        DataStream&lt;Integer&gt; dataStream = stream.flatMap(new FlatMapFunction&lt;String, Integer&gt;() {\n            @Override\n            public void flatMap(String value, Collector&lt;Integer&gt; out) throws Exception {\n                String[] str = value.split(&quot; &quot;);\n                int temperature = Integer.parseInt(str[1]);\n                out.collect(temperature);\n            }\n        }).setParallelism(1);\n\n        \n\n        DataStream&lt;Integer&gt; filteredDataStream = dataStream\n                .filter(temperature -&gt; temperature != findMaxTemperature(dataStream) &amp;&amp; temperature != findMinTemperature(dataStream))\n                .setParallelism(1);\n\n        DataStream&lt;Double&gt; averageDataStream = filteredDataStream\n                .map(temperature -&gt; (double) temperature)\n                .reduce(( t1,  t2) -&gt;  t1 + t2)\n                .map(sum -&gt; sum / filteredDataStream.count())\n                .setParallelism(1);\n\n        averageDataStream.print();\n        env.execute();\n    }\n\n    private static int findMaxTemperature(DataStream&lt;Integer&gt; dataStream) throws Exception {\n        return dataStream.max(1).collect().get(0).getField(0);\n    }\n\n    private static int findMinTemperature(DataStream&lt;Integer&gt; dataStream) throws Exception {\n        return dataStream.min(1).collect().get(0).getField(0);\n    }\n</code></pre>\n<p>I also imported these pacakges:</p>\n<pre><code>import org.apache.flink.api.common.functions.FlatMapFunction;\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.util.Collector;\n</code></pre>\n<p>However, under <code>reduce</code>, there is an error: <code>The method reduce((&lt;no type&gt; t1, &lt;no type&gt; t2) -&gt; {}) is undefined for the type SingleOutputStreamOperator&lt;Double&gt;</code></p>\n<p>Under <code>min</code> and <code>max</code>, it says: <code>The method max(int) is undefined for the type DataStream&lt;Integer&gt;</code>.</p>\n<p>It seems to be some type converting problem, but I tried to revise it, I also tried to use <code>keyBy()</code>, which is said to be deprecated, and <code>maxBy()</code>, which also doesn't work. Can anyone help me with that?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690104828,"post_id":76747371,"comment_id":135304170,"body_markdown":"&quot;My experience of that explanation is that the method does nothing.&quot; Really? You&#39;ve never experienced a method that does something and returns `void`. Or do you just mean &#39;my guess&#39;?","body":"&quot;My experience of that explanation is that the method does nothing.&quot; Really? You&#39;ve never experienced a method that does something and returns <code>void</code>. Or do you just mean &#39;my guess&#39;?"}],"answers":[{"tags":[],"owner":{"account_id":28758112,"reputation":401,"user_id":22024689,"display_name":"Iman Hosseinzadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690104471,"creation_date":1690104471,"answer_id":76747508,"question_id":76747371,"body_markdown":"void method doesn&#39;t mean that it doesn&#39;t do anything, it means that its work is done without having to return a result.\r\n\r\nThis method **performs a task** but it does **not give anything back**.\r\n\r\nfor example, setter methods are good examples.\r\nin this example, `setFirstname` is a method that assigns a value to the first name filed.\r\n\r\n    public class Person {\r\n        private String firstname;\r\n    \r\n        public void setFirstname(String s) {\r\n            firstname = s;\r\n        }\r\n    \r\n        public String getFirstname() {\r\n            return firstname;\r\n        }\r\n    }\r\n\r\nLet&#39;s use it\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Person person = new Person();\r\n            person.setFirstname(&quot;Ali&quot;);\r\n            String personFirstname = person.getFirstname();\r\n            System.out.println(personFirstname);\r\n        }\r\n    }\r\n\r\nthe output will be:\r\n\r\n&gt; Ali\r\n\r\nAs you can see, when we use the getFirstname method and print its return value, it is clear that **the firstname field has changed**.\r\n\r\nWho performs this task?\r\n`setFirstname` method.\r\n\r\nAlthough this method did not have a specific output, **it did something important**.","title":"Void type for method in Java OOP","body":"<p>void method doesn't mean that it doesn't do anything, it means that its work is done without having to return a result.</p>\n<p>This method <strong>performs a task</strong> but it does <strong>not give anything back</strong>.</p>\n<p>for example, setter methods are good examples.\nin this example, <code>setFirstname</code> is a method that assigns a value to the first name filed.</p>\n<pre><code>public class Person {\n    private String firstname;\n\n    public void setFirstname(String s) {\n        firstname = s;\n    }\n\n    public String getFirstname() {\n        return firstname;\n    }\n}\n</code></pre>\n<p>Let's use it</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Person person = new Person();\n        person.setFirstname(&quot;Ali&quot;);\n        String personFirstname = person.getFirstname();\n        System.out.println(personFirstname);\n    }\n}\n</code></pre>\n<p>the output will be:</p>\n<blockquote>\n<p>Ali</p>\n</blockquote>\n<p>As you can see, when we use the getFirstname method and print its return value, it is clear that <strong>the firstname field has changed</strong>.</p>\n<p>Who performs this task?\n<code>setFirstname</code> method.</p>\n<p>Although this method did not have a specific output, <strong>it did something important</strong>.</p>\n"},{"tags":[],"owner":{"account_id":29063704,"reputation":26,"user_id":22263786,"display_name":"Ian Dancan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690380271,"creation_date":1690108626,"answer_id":76747783,"question_id":76747371,"body_markdown":"In simple terms, when we say that a method does not return anything, this implies that the method does not yield a value that can be assigned to a variable or be used in expressions.\r\nThe following is an example of such:\r\n```java\r\npublic class SumOfNumbers {\r\n    public static void main(String[] args) {\r\n        //you can choose to first initialize the numbers\r\n        int num1 = 10;\r\n        int num2 = 15;\r\n        //call the method to add the two numbers\r\n        add(num1,num2);\r\n\r\n        //alternatively call the method and pass the numbers direct\r\n        System.out.println();//to print new line between the two solutions\r\n        add(10, 15);\r\n    }\r\n\r\n    //the method takes two numbers, finds the sum, prints the sum\r\n    public static void add(int a, int b){\r\n        int sum = a + b;\r\n\r\n        //print the sum\r\n        System.out.println(&quot;The sum of &quot; + a +  &quot; and &quot;  + b + &quot; is &quot; + sum);\r\n    }\r\n}\r\n```\r\nnote that in the main method, there is need for the output system as the method already has the output statement. the output system used in this code is to differentiate the two outputs i.e where we first initialise the numbers and when we pass the number direct to the method.","title":"Void type for method in Java OOP","body":"<p>In simple terms, when we say that a method does not return anything, this implies that the method does not yield a value that can be assigned to a variable or be used in expressions.\nThe following is an example of such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SumOfNumbers {\n    public static void main(String[] args) {\n        //you can choose to first initialize the numbers\n        int num1 = 10;\n        int num2 = 15;\n        //call the method to add the two numbers\n        add(num1,num2);\n\n        //alternatively call the method and pass the numbers direct\n        System.out.println();//to print new line between the two solutions\n        add(10, 15);\n    }\n\n    //the method takes two numbers, finds the sum, prints the sum\n    public static void add(int a, int b){\n        int sum = a + b;\n\n        //print the sum\n        System.out.println(&quot;The sum of &quot; + a +  &quot; and &quot;  + b + &quot; is &quot; + sum);\n    }\n}\n</code></pre>\n<p>note that in the main method, there is need for the output system as the method already has the output statement. the output system used in this code is to differentiate the two outputs i.e where we first initialise the numbers and when we pass the number direct to the method.</p>\n"}],"owner":{"account_id":29073194,"reputation":1,"user_id":22270990,"display_name":"Sergej Lav BojaniÄ‡ 2022"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76747783,"answer_count":2,"score":-2,"last_activity_date":1690380271,"creation_date":1690102277,"question_id":76747371,"body_markdown":"I&#39;ve had a problem for a few days now, I can&#39;t figure out what the Void method type is. What is the purpose of a method that does not return a value (what does it mean that the method does not have a return value of the method, my experience of that explanation is that the method does nothing)? I need it for the programming exam that is coming soon, and in the books it is always written the same way &quot;Void method does not return a value&quot;.\r\n\r\nI thought that methods with this type of return value only serve to redefine themselves. Maybe I have a problem because I associate the term &quot;Does not return a value&quot; with Mathlab, because in Mathlab if I put a colon at the end of the command, the command will be executed but will not return anything.\r\n\r\nMatlab e.g.:\r\n\r\n```matlab\r\nx = [ 90 0 0 ];\r\ns=sin(x);\r\n```\r\n","title":"Void type for method in Java OOP","body":"<p>I've had a problem for a few days now, I can't figure out what the Void method type is. What is the purpose of a method that does not return a value (what does it mean that the method does not have a return value of the method, my experience of that explanation is that the method does nothing)? I need it for the programming exam that is coming soon, and in the books it is always written the same way &quot;Void method does not return a value&quot;.</p>\n<p>I thought that methods with this type of return value only serve to redefine themselves. Maybe I have a problem because I associate the term &quot;Does not return a value&quot; with Mathlab, because in Mathlab if I put a colon at the end of the command, the command will be executed but will not return anything.</p>\n<p>Matlab e.g.:</p>\n<pre class=\"lang-matlab prettyprint-override\"><code>x = [ 90 0 0 ];\ns=sin(x);\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","openapi","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"score":1,"creation_date":1690325666,"post_id":76764563,"comment_id":135337132,"body_markdown":"No, that is the way the Gradle plugin is designed to work. It starts your Spring Boot application in order for [springdoc&#39;s](https://springdoc.org/) Spring auto-configuration to take effect. Underneath, it just makes a HTTP request to the configured `/v3/api-docs` URL for the specification file then just writes it to a file as the task output.","body":"No, that is the way the Gradle plugin is designed to work. It starts your Spring Boot application in order for <a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">springdoc&#39;s</a> Spring auto-configuration to take effect. Underneath, it just makes a HTTP request to the configured <code>&#47;v3&#47;api-docs</code> URL for the specification file then just writes it to a file as the task output."},{"owner":{"account_id":12046191,"reputation":31,"user_id":8811103,"display_name":"DenseMage"},"score":1,"creation_date":1690379429,"post_id":76764563,"comment_id":135345395,"body_markdown":"Is there a way to maybe add the command to an integration test to run it while the Spring Boot Application is running?","body":"Is there a way to maybe add the command to an integration test to run it while the Spring Boot Application is running?"}],"owner":{"account_id":12046191,"reputation":31,"user_id":8811103,"display_name":"DenseMage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690379480,"creation_date":1690301128,"question_id":76764563,"body_markdown":"I can run `./gradlew generateOpenApiDocs` to generate an OpenApi spec using the `springdoc.openapi-gradle-plugin`. This however starts the Spring Boot application in the background using a forkedSpringBootRun task.\r\n\r\nI was wondering if there was:\r\n 1. A way to generate the spec without running the Spring Boot Application and if that doesn&#39;t work\r\n 2. Make it so that the command runs every time the Spring Boot Application is run without having to run the command itself\r\n3. Maybe add the command as part of an integration test that runs when the Spring Boot Application runs and generates the spec that way\r\n\r\nNote: I am using this plugin because my app uses Spring WebFlux. I am open to other plugin suggestions that could generate docs without running the app if you have any.","title":"Is there a way to generate an OpenApi Spec from a Spring App without having to run the Spring Boot Application?","body":"<p>I can run <code>./gradlew generateOpenApiDocs</code> to generate an OpenApi spec using the <code>springdoc.openapi-gradle-plugin</code>. This however starts the Spring Boot application in the background using a forkedSpringBootRun task.</p>\n<p>I was wondering if there was:</p>\n<ol>\n<li>A way to generate the spec without running the Spring Boot Application and if that doesn't work</li>\n<li>Make it so that the command runs every time the Spring Boot Application is run without having to run the command itself</li>\n<li>Maybe add the command as part of an integration test that runs when the Spring Boot Application runs and generates the spec that way</li>\n</ol>\n<p>Note: I am using this plugin because my app uses Spring WebFlux. I am open to other plugin suggestions that could generate docs without running the app if you have any.</p>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690452374,"post_id":76771787,"comment_id":135357095,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690454546,"post_id":76771787,"comment_id":135357541,"body_markdown":"Does this answer your question? [Hibernate hbm2ddl.auto, possible values, and what they do](https://stackoverflow.com/questions/18077327/hibernate-hbm2ddl-auto-possible-values-and-what-they-do)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18077327/hibernate-hbm2ddl-auto-possible-values-and-what-they-do\">Hibernate hbm2ddl.auto, possible values, and what they do</a>"}],"answers":[{"comments":[{"owner":{"account_id":26846980,"reputation":3,"user_id":20432593,"display_name":"P I Y U S H D A S I L A"},"score":0,"creation_date":1690388228,"post_id":76771904,"comment_id":135347509,"body_markdown":"even if I use create as the value for the property name hibernate.hdm2ddl.auto in the hibernate.cfg.xml file?","body":"even if I use create as the value for the property name hibernate.hdm2ddl.auto in the hibernate.cfg.xml file?"},{"owner":{"account_id":12330201,"reputation":54,"user_id":8996469,"display_name":"Nick"},"score":1,"creation_date":1690439972,"post_id":76771904,"comment_id":135354635,"body_markdown":"Yes, but then you need `create` or `create-drop`, in your code you have `update`. If that&#39;s true that&#39;s probably the issue :). Check this out: https://stackoverflow.com/questions/18077327/hibernate-hbm2ddl-auto-possible-values-and-what-they-do","body":"Yes, but then you need <code>create</code> or <code>create-drop</code>, in your code you have <code>update</code>. If that&#39;s true that&#39;s probably the issue :). Check this out: <a href=\"https://stackoverflow.com/questions/18077327/hibernate-hbm2ddl-auto-possible-values-and-what-they-do\" title=\"hibernate hbm2ddl auto possible values and what they do\">stackoverflow.com/questions/18077327/&hellip;</a>"},{"owner":{"account_id":26846980,"reputation":3,"user_id":20432593,"display_name":"P I Y U S H D A S I L A"},"score":0,"creation_date":1690665851,"post_id":76771904,"comment_id":135386100,"body_markdown":"I have&#39;nt found the problem yet but here is something I found on the internet. update: If the value is updated then hibernate first validates whether the table is present in the database or not , if present alters that table as per the changes, if not creates a new one. @Nick, I am using J2EE to develop this project. I am still a beginner","body":"I have&#39;nt found the problem yet but here is something I found on the internet. update: If the value is updated then hibernate first validates whether the table is present in the database or not , if present alters that table as per the changes, if not creates a new one. @Nick, I am using J2EE to develop this project. I am still a beginner"},{"owner":{"account_id":12330201,"reputation":54,"user_id":8996469,"display_name":"Nick"},"score":0,"creation_date":1690789354,"post_id":76771904,"comment_id":135396546,"body_markdown":"Have you tried running your application with `update`, `create` or `create-drop` and they don&#39;t work as you expect? Check out the article I and Tim posted for you, it explains what each option does.","body":"Have you tried running your application with <code>update</code>, <code>create</code> or <code>create-drop</code> and they don&#39;t work as you expect? Check out the article I and Tim posted for you, it explains what each option does."}],"tags":[],"owner":{"account_id":12330201,"reputation":54,"user_id":8996469,"display_name":"Nick"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690378700,"creation_date":1690378700,"answer_id":76771904,"question_id":76771787,"body_markdown":"The tables won&#39;t get created by themselves.  \r\nYou need to create them in your DB unless you are using Spring Boot or something else that can automate table creation?  ","title":"The Application is running just fine and also creating the instances of the classes User,Category and product but not creating any tables in database","body":"<p>The tables won't get created by themselves.<br />\nYou need to create them in your DB unless you are using Spring Boot or something else that can automate table creation?</p>\n"}],"owner":{"account_id":26846980,"reputation":3,"user_id":20432593,"display_name":"P I Y U S H D A S I L A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76771904,"answer_count":1,"score":0,"last_activity_date":1690378700,"creation_date":1690377792,"question_id":76771787,"body_markdown":"    **This is the pom.xml file**\r\n\r\n    ` &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n        &lt;dependency&gt;\r\n         &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n         &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n         &lt;version&gt;5.4.24.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.mysql/mysql-connector-j --&gt;\r\n        &lt;dependency&gt;\r\n         &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n         &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n         &lt;version&gt;8.0.33&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n     \r\n      &lt;/dependencies&gt; `\r\n\r\n\r\n    **This is my hibernate.cfg.xml file**\r\n        \r\n\r\n       ` &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n         &lt;!DOCTYPE hibernate-configuration SYSTEM\r\n\t &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n        \r\n           &lt;hibernate-configuration&gt;\r\n            &lt;session-factory&gt;\r\n               &lt;property name=&quot;connection.driver_class&quot; &gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n               &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/mycart&lt;/property&gt;\r\n               &lt;property name=&quot;connection.username&quot; &gt;root&lt;/property&gt;\r\n               &lt;property name=&quot;connection.password&quot;&gt;@DIKDIKHATK&lt;/property&gt;\r\n               &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\r\n               &lt;property name=&quot;hibernate.hdm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n               &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n               &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n               &lt;property name=&quot;use_sql_comments&quot;&gt;true&lt;/property&gt;\r\n\r\n               &lt;mapping class=&quot;com.resumeproject.indicart.entities.User&quot;/&gt;\r\n               &lt;mapping class=&quot;com.resumeproject.indicart.entities.Category&quot;/&gt;\r\n               &lt;mapping class=&quot;com.resumeproject.indicart.entities.Product&quot;/&gt;\r\n              \r\n\r\n                   \r\n               \r\n             &lt;/session-factory&gt;\r\n            &lt;/hibernate-configuration&gt;`\r\n\r\n\r\n    **This is the user entity**\r\n    \r\n     `package com.resumeproject.indicart.entities;\r\n\r\n     import javax.persistence.Column;\r\n     import javax.persistence.Entity;\r\n     import javax.persistence.GeneratedValue;\r\n     import javax.persistence.GenerationType;\r\n     import javax.persistence.Id;\r\n\r\n\r\n      @Entity\r\n     public class User {\r\n       @Id\r\n       @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n       @Column(length=10,name=&quot;user_id&quot;)\r\n       private int userId;\r\n       @Column(length=100,name=&quot;user_name&quot;)\r\n       private String userNamme;\r\n       @Column(length=100,name=&quot;user_email&quot;)\r\n       private String userEmail;\r\n       @Column(length=100,name=&quot;user_password&quot;)\r\n       private String userPassword;\r\n       @Column(length=12,name=&quot;user_phone&quot;)\r\n       private String userPhone;\r\n       @Column(length=1500,name=&quot;user_pic&quot;)\r\n       private String userPic;\r\n       @Column(length=1500,name=&quot;user__address&quot;)\r\n       private String userAddress;\r\n\r\n        public User(int userId, String userNamme, String userEmail, String userPassword,String                 userPhone,String userPic, String userAddress) {\r\n        this.userId = userId;\r\n        this.userNamme = userNamme;\r\n        this.userEmail = userEmail;\r\n        this.userPassword = userPassword;\r\n        this.userPhone = userPhone;\r\n        this.userPic = userPic;\r\n        this.userAddress = userAddress;\r\n    }\r\n\r\n    public User(String userNamme, String userEmail, String userPassword, String userPhone, String    userPic, String userAddress) {\r\n        this.userNamme = userNamme;\r\n        this.userEmail = userEmail;\r\n        this.userPassword = userPassword;\r\n        this.userPhone = userPhone;\r\n        this.userPic = userPic;\r\n        this.userAddress = userAddress;\r\n    }\r\n\r\n    public User() {\r\n    }\r\n\r\n    public int getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(int userId) {\r\n        this.userId = userId;\r\n    }\r\n    \r\n    public String getUserNamme() {\r\n        return userNamme;\r\n    }\r\n\r\n    public void setUserNamme(String userNamme) {\r\n        this.userNamme = userNamme;\r\n    }\r\n\r\n    public String getUserEmail() {\r\n        return userEmail;\r\n    }\r\n\r\n    public void setUserEmail(String userEmail) {\r\n        this.userEmail = userEmail;\r\n    }\r\n\r\n    public String getUserPassword() {\r\n        return userPassword;\r\n    }\r\n\r\n    public void setUserPassword(String userPassword) {\r\n        this.userPassword = userPassword;\r\n    }\r\n\r\n    public String getUserPhone() {\r\n        return userPhone;\r\n    }\r\n\r\n    public void setUserPhone(String userPhone) {\r\n        this.userPhone = userPhone;\r\n    }\r\n\r\n    public String getUserPic() {\r\n        return userPic;\r\n    }\r\n\r\n    public void setUserPic(String userPic) {\r\n        this.userPic = userPic;\r\n    }\r\n\r\n    public String getUserAddress() {\r\n        return userAddress;\r\n    }\r\n\r\n    public void setUserAddress(String userAddress) {\r\n        this.userAddress = userAddress;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User{&quot; + &quot;userId=&quot; + userId + &quot;, userNamme=&quot; + userNamme + &quot;, userEmail=&quot; +   userEmail + &quot;, userPassword=&quot; + userPassword + &quot;, userPhone=&quot; + userPhone + &quot;, userPic=&quot; + userPic + &quot;, userAddress=&quot; + userAddress + &#39;}&#39;;\r\n    }\r\n    \r\n    \r\n    \r\n}`\r\n\r\n    **This is my Category entity**\r\n      `package com.resumeproject.indicart.entities;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.OneToMany;\r\n\r\n\r\n    @Entity\r\n    public class Category {\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private int categoryId;\r\n    private String categoryTitle;\r\n    private String categoryDescription;\r\n    @OneToMany(mappedBy=&quot;category&quot;)\r\n    private List&lt;Product&gt; products=new ArrayList&lt;&gt;();\r\n    \r\n    public Category(int categoryId, String categoryTitle, String categoryDescription) {\r\n        this.categoryId = categoryId;\r\n        this.categoryTitle = categoryTitle;\r\n        this.categoryDescription = categoryDescription;\r\n    }\r\n\r\n    public Category() {\r\n    }\r\n\r\n    public Category(String categoryTitle, String categoryDescription,List&lt;Product&gt; products) {\r\n        this.categoryTitle = categoryTitle;\r\n        this.categoryDescription = categoryDescription;\r\n        this.products=products;\r\n    }\r\n    \r\n\r\n    public int getCategoryId() {\r\n        return categoryId;\r\n    }\r\n\r\n    public void setCategoryId(int categoryId) {\r\n        this.categoryId = categoryId;\r\n    }\r\n\r\n    public String getCategoryTitle() {\r\n        return categoryTitle;\r\n    }\r\n\r\n    public void setCategoryTitle(String categoryTitle) {\r\n        this.categoryTitle = categoryTitle;\r\n    }\r\n\r\n    public String getCategoryDescription() {\r\n        return categoryDescription;\r\n    }\r\n\r\n    public void setCategoryDescription(String categoryDescription) {\r\n        this.categoryDescription = categoryDescription;\r\n    }\r\n\r\n    public List&lt;Product&gt; getProducts() {\r\n        return products;\r\n    }\r\n\r\n    public void setProducts(List&lt;Product&gt; products) {\r\n        this.products = products;\r\n    }\r\n        \r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Category{&quot; + &quot;categoryId=&quot; + categoryId + &quot;, categoryTitle=&quot; + categoryTitle + &quot;, categoryDescription=&quot; + categoryDescription + &#39;}&#39;;\r\n    }\r\n    \r\n    \r\n}\r\n`\r\n    **This is my Product Entity**\r\n    \r\n     `package com.resumeproject.indicart.entities;\r\n\r\n      import javax.persistence.Column;\r\n      import javax.persistence.Entity;\r\n      import javax.persistence.GeneratedValue;\r\n      import javax.persistence.GenerationType; \r\n      import javax.persistence.Id;\r\n      import javax.persistence.ManyToOne;\r\n\r\n\r\n      @Entity\r\n      public class Product {\r\n      @Id\r\n      @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n      private int pId;\r\n      private String pMame;\r\n      @Column(length=3000)\r\n      private String pDesc;\r\n      private String pPhoto;\r\n      private int pPrice;\r\n      private int pDicsount;\r\n      private int pQuantity;\r\n      @ManyToOne\r\n      private Category category;\r\n    \r\n    \r\n      public Product() {\r\n      }\r\n\r\n      public Product(String pMame, String pDesc, String pPhoto, int pPrice, int pDicsount, int pQuantity,Category category) {\r\n        this.pMame = pMame;\r\n        this.pDesc = pDesc;\r\n        this.pPhoto = pPhoto;\r\n        this.pPrice = pPrice;\r\n        this.pDicsount = pDicsount;\r\n        this.pQuantity = pQuantity;\r\n        this.category=category;\r\n    }\r\n\r\n    public int getpId() {\r\n        return pId;\r\n    }\r\n\r\n    public void setpId(int pId) {\r\n        this.pId = pId;\r\n    }\r\n\r\n    public String getpMame() {\r\n        return pMame;\r\n    }\r\n\r\n    public void setpMame(String pMame) {\r\n        this.pMame = pMame;\r\n    }\r\n\r\n    public String getpDesc() {\r\n        return pDesc;\r\n    }\r\n\r\n    public void setpDesc(String pDesc) {\r\n        this.pDesc = pDesc;\r\n    }\r\n\r\n    public String getpPhoto() {\r\n        return pPhoto;\r\n    }\r\n\r\n    public void setpPhoto(String pPhoto) {\r\n        this.pPhoto = pPhoto;\r\n    }\r\n\r\n    public int getpPrice() {\r\n        return pPrice;\r\n    }\r\n\r\n    public void setpPrice(int pPrice) {\r\n        this.pPrice = pPrice;\r\n    }\r\n\r\n    public int getpDicsount() {\r\n        return pDicsount;\r\n    }\r\n\r\n    public void setpDicsount(int pDicsount) {\r\n        this.pDicsount = pDicsount;\r\n    }\r\n\r\n    public int getpQuantity() {\r\n        return pQuantity;\r\n    }\r\n\r\n    public void setpQuantity(int pQuantity) {\r\n        this.pQuantity = pQuantity;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Product{&quot; + &quot;pId=&quot; + pId + &quot;, pMame=&quot; + pMame + &quot;, pDesc=&quot; + pDesc + &quot;, pPhoto=&quot; +   pPhoto + &quot;, pPrice=&quot; + pPrice + &quot;, pDicsount=&quot; + pDicsount + &quot;, pQuantity=&quot; + pQuantity + &#39;}&#39;;\r\n    }\r\n    \r\n    \r\n}\r\n`\r\n \r\n\r\n [project directory overview](https://i.stack.imgur.com/8Puys.png)\r\n\r\n\r\nThis is the code for my java application. I tried to change some dependencies and some configuration in the hibernate config file but could not achieve what I wanted to with the database.  Please tell me what am I missing. \r\n\r\nI could not find anything on the console as well regarding the Mysql queries.\r\n\r\n     ","title":"The Application is running just fine and also creating the instances of the classes User,Category and product but not creating any tables in database","body":"<pre><code>**This is the pom.xml file**\n\n` &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax&lt;/groupId&gt;\n        &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n        &lt;version&gt;7.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n    &lt;dependency&gt;\n     &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n     &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n     &lt;version&gt;5.4.24.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.mysql/mysql-connector-j --&gt;\n    &lt;dependency&gt;\n     &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n     &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n     &lt;version&gt;8.0.33&lt;/version&gt;\n    &lt;/dependency&gt;\n \n  &lt;/dependencies&gt; `\n\n\n**This is my hibernate.cfg.xml file**\n    \n\n   ` &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n     &lt;!DOCTYPE hibernate-configuration SYSTEM\n &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n    \n       &lt;hibernate-configuration&gt;\n        &lt;session-factory&gt;\n           &lt;property name=&quot;connection.driver_class&quot; &gt;com.mysql.jdbc.Driver&lt;/property&gt;\n           &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/mycart&lt;/property&gt;\n           &lt;property name=&quot;connection.username&quot; &gt;root&lt;/property&gt;\n           &lt;property name=&quot;connection.password&quot;&gt;@DIKDIKHATK&lt;/property&gt;\n           &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\n           &lt;property name=&quot;hibernate.hdm2ddl.auto&quot;&gt;update&lt;/property&gt;\n           &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n           &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\n           &lt;property name=&quot;use_sql_comments&quot;&gt;true&lt;/property&gt;\n\n           &lt;mapping class=&quot;com.resumeproject.indicart.entities.User&quot;/&gt;\n           &lt;mapping class=&quot;com.resumeproject.indicart.entities.Category&quot;/&gt;\n           &lt;mapping class=&quot;com.resumeproject.indicart.entities.Product&quot;/&gt;\n          \n\n               \n           \n         &lt;/session-factory&gt;\n        &lt;/hibernate-configuration&gt;`\n\n\n**This is the user entity**\n\n `package com.resumeproject.indicart.entities;\n\n import javax.persistence.Column;\n import javax.persistence.Entity;\n import javax.persistence.GeneratedValue;\n import javax.persistence.GenerationType;\n import javax.persistence.Id;\n\n\n  @Entity\n public class User {\n   @Id\n   @GeneratedValue(strategy=GenerationType.IDENTITY)\n   @Column(length=10,name=&quot;user_id&quot;)\n   private int userId;\n   @Column(length=100,name=&quot;user_name&quot;)\n   private String userNamme;\n   @Column(length=100,name=&quot;user_email&quot;)\n   private String userEmail;\n   @Column(length=100,name=&quot;user_password&quot;)\n   private String userPassword;\n   @Column(length=12,name=&quot;user_phone&quot;)\n   private String userPhone;\n   @Column(length=1500,name=&quot;user_pic&quot;)\n   private String userPic;\n   @Column(length=1500,name=&quot;user__address&quot;)\n   private String userAddress;\n\n    public User(int userId, String userNamme, String userEmail, String userPassword,String                 userPhone,String userPic, String userAddress) {\n    this.userId = userId;\n    this.userNamme = userNamme;\n    this.userEmail = userEmail;\n    this.userPassword = userPassword;\n    this.userPhone = userPhone;\n    this.userPic = userPic;\n    this.userAddress = userAddress;\n}\n\npublic User(String userNamme, String userEmail, String userPassword, String userPhone, String    userPic, String userAddress) {\n    this.userNamme = userNamme;\n    this.userEmail = userEmail;\n    this.userPassword = userPassword;\n    this.userPhone = userPhone;\n    this.userPic = userPic;\n    this.userAddress = userAddress;\n}\n\npublic User() {\n}\n\npublic int getUserId() {\n    return userId;\n}\n\npublic void setUserId(int userId) {\n    this.userId = userId;\n}\n\npublic String getUserNamme() {\n    return userNamme;\n}\n\npublic void setUserNamme(String userNamme) {\n    this.userNamme = userNamme;\n}\n\npublic String getUserEmail() {\n    return userEmail;\n}\n\npublic void setUserEmail(String userEmail) {\n    this.userEmail = userEmail;\n}\n\npublic String getUserPassword() {\n    return userPassword;\n}\n\npublic void setUserPassword(String userPassword) {\n    this.userPassword = userPassword;\n}\n\npublic String getUserPhone() {\n    return userPhone;\n}\n\npublic void setUserPhone(String userPhone) {\n    this.userPhone = userPhone;\n}\n\npublic String getUserPic() {\n    return userPic;\n}\n\npublic void setUserPic(String userPic) {\n    this.userPic = userPic;\n}\n\npublic String getUserAddress() {\n    return userAddress;\n}\n\npublic void setUserAddress(String userAddress) {\n    this.userAddress = userAddress;\n}\n\n@Override\npublic String toString() {\n    return &quot;User{&quot; + &quot;userId=&quot; + userId + &quot;, userNamme=&quot; + userNamme + &quot;, userEmail=&quot; +   userEmail + &quot;, userPassword=&quot; + userPassword + &quot;, userPhone=&quot; + userPhone + &quot;, userPic=&quot; + userPic + &quot;, userAddress=&quot; + userAddress + '}';\n}\n</code></pre>\n<p>}`</p>\n<pre><code>**This is my Category entity**\n  `package com.resumeproject.indicart.entities;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\n\n\n@Entity\npublic class Category {\n@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate int categoryId;\nprivate String categoryTitle;\nprivate String categoryDescription;\n@OneToMany(mappedBy=&quot;category&quot;)\nprivate List&lt;Product&gt; products=new ArrayList&lt;&gt;();\n\npublic Category(int categoryId, String categoryTitle, String categoryDescription) {\n    this.categoryId = categoryId;\n    this.categoryTitle = categoryTitle;\n    this.categoryDescription = categoryDescription;\n}\n\npublic Category() {\n}\n\npublic Category(String categoryTitle, String categoryDescription,List&lt;Product&gt; products) {\n    this.categoryTitle = categoryTitle;\n    this.categoryDescription = categoryDescription;\n    this.products=products;\n}\n\n\npublic int getCategoryId() {\n    return categoryId;\n}\n\npublic void setCategoryId(int categoryId) {\n    this.categoryId = categoryId;\n}\n\npublic String getCategoryTitle() {\n    return categoryTitle;\n}\n\npublic void setCategoryTitle(String categoryTitle) {\n    this.categoryTitle = categoryTitle;\n}\n\npublic String getCategoryDescription() {\n    return categoryDescription;\n}\n\npublic void setCategoryDescription(String categoryDescription) {\n    this.categoryDescription = categoryDescription;\n}\n\npublic List&lt;Product&gt; getProducts() {\n    return products;\n}\n\npublic void setProducts(List&lt;Product&gt; products) {\n    this.products = products;\n}\n    \n\n@Override\npublic String toString() {\n    return &quot;Category{&quot; + &quot;categoryId=&quot; + categoryId + &quot;, categoryTitle=&quot; + categoryTitle + &quot;, categoryDescription=&quot; + categoryDescription + '}';\n}\n</code></pre>\n<p>}\n`\n<strong>This is my Product Entity</strong></p>\n<pre><code> `package com.resumeproject.indicart.entities;\n\n  import javax.persistence.Column;\n  import javax.persistence.Entity;\n  import javax.persistence.GeneratedValue;\n  import javax.persistence.GenerationType; \n  import javax.persistence.Id;\n  import javax.persistence.ManyToOne;\n\n\n  @Entity\n  public class Product {\n  @Id\n  @GeneratedValue(strategy=GenerationType.IDENTITY)\n  private int pId;\n  private String pMame;\n  @Column(length=3000)\n  private String pDesc;\n  private String pPhoto;\n  private int pPrice;\n  private int pDicsount;\n  private int pQuantity;\n  @ManyToOne\n  private Category category;\n\n\n  public Product() {\n  }\n\n  public Product(String pMame, String pDesc, String pPhoto, int pPrice, int pDicsount, int pQuantity,Category category) {\n    this.pMame = pMame;\n    this.pDesc = pDesc;\n    this.pPhoto = pPhoto;\n    this.pPrice = pPrice;\n    this.pDicsount = pDicsount;\n    this.pQuantity = pQuantity;\n    this.category=category;\n}\n\npublic int getpId() {\n    return pId;\n}\n\npublic void setpId(int pId) {\n    this.pId = pId;\n}\n\npublic String getpMame() {\n    return pMame;\n}\n\npublic void setpMame(String pMame) {\n    this.pMame = pMame;\n}\n\npublic String getpDesc() {\n    return pDesc;\n}\n\npublic void setpDesc(String pDesc) {\n    this.pDesc = pDesc;\n}\n\npublic String getpPhoto() {\n    return pPhoto;\n}\n\npublic void setpPhoto(String pPhoto) {\n    this.pPhoto = pPhoto;\n}\n\npublic int getpPrice() {\n    return pPrice;\n}\n\npublic void setpPrice(int pPrice) {\n    this.pPrice = pPrice;\n}\n\npublic int getpDicsount() {\n    return pDicsount;\n}\n\npublic void setpDicsount(int pDicsount) {\n    this.pDicsount = pDicsount;\n}\n\npublic int getpQuantity() {\n    return pQuantity;\n}\n\npublic void setpQuantity(int pQuantity) {\n    this.pQuantity = pQuantity;\n}\n\n@Override\npublic String toString() {\n    return &quot;Product{&quot; + &quot;pId=&quot; + pId + &quot;, pMame=&quot; + pMame + &quot;, pDesc=&quot; + pDesc + &quot;, pPhoto=&quot; +   pPhoto + &quot;, pPrice=&quot; + pPrice + &quot;, pDicsount=&quot; + pDicsount + &quot;, pQuantity=&quot; + pQuantity + '}';\n}\n</code></pre>\n<p>}\n`</p>\n<p><a href=\"https://i.stack.imgur.com/8Puys.png\" rel=\"nofollow noreferrer\">project directory overview</a></p>\n<p>This is the code for my java application. I tried to change some dependencies and some configuration in the hibernate config file but could not achieve what I wanted to with the database.  Please tell me what am I missing.</p>\n<p>I could not find anything on the console as well regarding the Mysql queries.</p>\n"},{"tags":["java","docker"],"answers":[{"tags":[],"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690378477,"creation_date":1690378477,"answer_id":76771869,"question_id":76771312,"body_markdown":"The [Docker API documentation](https://docs.docker.com/engine/api/v1.43/#tag/Container/operation/ContainerStats) states:\r\n\r\n&gt; On a cgroup v2 host, the following fields are not set\r\n&gt;\r\n&gt; * `cpu_stats`: `cpu_usage.percpu_usage`\r\n\r\nThis is a low-level property of the host setup and not something your application can control at all.\r\n\r\nYou should still be able to get the total CPU usage and that&#39;s probably more useful for most applications.  The assignment of process threads to physical CPUs is managed by the Linux kernel and is somewhat arbitrary; it shouldn&#39;t usually matter which core you&#39;re running on.","title":"Java Docker API CPU Calculation","body":"<p>The <a href=\"https://docs.docker.com/engine/api/v1.43/#tag/Container/operation/ContainerStats\" rel=\"nofollow noreferrer\">Docker API documentation</a> states:</p>\n<blockquote>\n<p>On a cgroup v2 host, the following fields are not set</p>\n<ul>\n<li><code>cpu_stats</code>: <code>cpu_usage.percpu_usage</code></li>\n</ul>\n</blockquote>\n<p>This is a low-level property of the host setup and not something your application can control at all.</p>\n<p>You should still be able to get the total CPU usage and that's probably more useful for most applications.  The assignment of process threads to physical CPUs is managed by the Linux kernel and is somewhat arbitrary; it shouldn't usually matter which core you're running on.</p>\n"}],"owner":{"account_id":29095401,"reputation":1,"user_id":22288381,"display_name":"cohaa100"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690378477,"creation_date":1690374447,"question_id":76771312,"body_markdown":"i am using the Docker Java API and want to see the usage of the cpu.\r\nBut every time \r\n\r\n`stats.getCpuStats().getCpuUsage().getPercpuUsage()` is null and i need it for the calculating. Does anybody know why itâ€™s always null? \r\n\r\nCode:\r\n\r\n    `float cpuPercent = 0.0f;\r\n\r\n    float cpuDelta = stats.getCpuStats().getCpuUsage().getTotalUsage().floatValue() - stats.getPreCpuStats().getCpuUsage().getTotalUsage().floatValue();\r\n    float systemDelta = stats.getCpuStats().getSystemCpuUsage().floatValue() - stats.getPreCpuStats().getSystemCpuUsage().floatValue();\r\n\r\n    if (cpuDelta &gt; 0.0 &amp;&amp; systemDelta &gt; 0.0) {\r\n        cpuPercent = (cpuDelta - systemDelta) * (stats.getCpuStats().getCpuUsage().getPercpuUsage().size() * 100F);\r\n    }`\r\n\r\n\r\n\r\n\r\nI searched for other solutions but nothing helped.","title":"Java Docker API CPU Calculation","body":"<p>i am using the Docker Java API and want to see the usage of the cpu.\nBut every time</p>\n<p><code>stats.getCpuStats().getCpuUsage().getPercpuUsage()</code> is null and i need it for the calculating. Does anybody know why itâ€™s always null?</p>\n<p>Code:</p>\n<pre><code>`float cpuPercent = 0.0f;\n\nfloat cpuDelta = stats.getCpuStats().getCpuUsage().getTotalUsage().floatValue() - stats.getPreCpuStats().getCpuUsage().getTotalUsage().floatValue();\nfloat systemDelta = stats.getCpuStats().getSystemCpuUsage().floatValue() - stats.getPreCpuStats().getSystemCpuUsage().floatValue();\n\nif (cpuDelta &gt; 0.0 &amp;&amp; systemDelta &gt; 0.0) {\n    cpuPercent = (cpuDelta - systemDelta) * (stats.getCpuStats().getCpuUsage().getPercpuUsage().size() * 100F);\n}`\n</code></pre>\n<p>I searched for other solutions but nothing helped.</p>\n"},{"tags":["java","scala","akka","akka-http"],"comments":[{"owner":{"account_id":9145961,"reputation":4103,"user_id":6802156,"display_name":"Emiliano Martinez"},"score":0,"creation_date":1690370210,"post_id":76770059,"comment_id":135343137,"body_markdown":"In the Scala case you must execute Await on the Future that is created after unmarshall the entity your application to wait until the future is completed","body":"In the Scala case you must execute Await on the Future that is created after unmarshall the entity your application to wait until the future is completed"},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1690370458,"post_id":76770059,"comment_id":135343191,"body_markdown":"@EmilianoMartinez do you have an example?","body":"@EmilianoMartinez do you have an example?"}],"answers":[{"tags":[],"owner":{"account_id":9145961,"reputation":4103,"user_id":6802156,"display_name":"Emiliano Martinez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690378153,"creation_date":1690378153,"answer_id":76771831,"question_id":76770059,"body_markdown":"Simple HttpRequest in Scala 3 to get the html string as response:\r\n\r\n    object HttpTest {\r\n    \r\n      given system: ActorSystem[_] = ActorSystem(Behaviors.empty, &quot;SingleRequest&quot;)\r\n      // needed for the future flatMap/onComplete in the end\r\n      given executionContext: ExecutionContext = system.executionContext\r\n      \r\n\r\n      @main def httpExample() = {\r\n        val result = Http().singleRequest(HttpRequest(uri = &quot;https://stackoverflow.com&quot;, method = HttpMethods.GET))\r\n    \r\n        val str = result.map(e =&gt; {\r\n            Unmarshal(e.entity).to[String]\r\n          }).flatten\r\n    \r\n        println(Await.result(str, 10.seconds))\r\n      }\r\n    }","title":"Akka - Extract response body as plain string value in Java","body":"<p>Simple HttpRequest in Scala 3 to get the html string as response:</p>\n<pre><code>object HttpTest {\n\n  given system: ActorSystem[_] = ActorSystem(Behaviors.empty, &quot;SingleRequest&quot;)\n  // needed for the future flatMap/onComplete in the end\n  given executionContext: ExecutionContext = system.executionContext\n  \n\n  @main def httpExample() = {\n    val result = Http().singleRequest(HttpRequest(uri = &quot;https://stackoverflow.com&quot;, method = HttpMethods.GET))\n\n    val str = result.map(e =&gt; {\n        Unmarshal(e.entity).to[String]\n      }).flatten\n\n    println(Await.result(str, 10.seconds))\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690378153,"creation_date":1690365515,"question_id":76770059,"body_markdown":"I am facing trouble of extracting the response body as a string value from a http response in Java. I did an attempt with the answers here: https://stackoverflow.com/questions/32315789/akka-httpresponse-read-body-as-string-scala however I could not find something which would work out. By trail-and-error I came up to the following snippet, however I don&#39;t think it should be this difficult. So I am seeking for a simple way to do this. The current code snippet which I am using is:\r\n\r\n```java\r\nimport akka.actor.ActorSystem;\r\nimport akka.http.javadsl.Http;\r\nimport akka.http.javadsl.model.HttpRequest;\r\nimport akka.http.javadsl.model.HttpResponse;\r\nimport akka.stream.javadsl.Sink;\r\nimport akka.util.ByteString;\r\nimport com.typesafe.config.ConfigFactory;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        ActorSystem actorSystem = ActorSystem.create(ClientConfig.class.getSimpleName(), ConfigFactory.defaultApplication(App.class.getClassLoader()));\r\n        Http httpClient = akka.http.javadsl.Http.get(actorSystem);\r\n        HttpRequest httpRequest = HttpRequest.create(&quot;https://stackoverflow.com&quot;);\r\n\r\n        String responseBody = httpClient.singleRequest(httpRequest)\r\n                .thenApply((HttpResponse httpResponse) -&gt;\r\n                        httpResponse.entity()\r\n                                .getDataBytes()\r\n                                .fold(ByteString.emptyByteString(), ByteString::concat)\r\n                                .map(ByteString::utf8String)\r\n                                .runWith(Sink.head(), actorSystem)\r\n                                .toCompletableFuture()\r\n                                .join())\r\n                .toCompletableFuture()\r\n                .join();\r\n\r\n        System.out.println(responseBody);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am just wondering whether the body of the thenApply to transform the entity to a string needs to be this complex or are there other ways within the Akka library itself to simplify it.","title":"Akka - Extract response body as plain string value in Java","body":"<p>I am facing trouble of extracting the response body as a string value from a http response in Java. I did an attempt with the answers here: <a href=\"https://stackoverflow.com/questions/32315789/akka-httpresponse-read-body-as-string-scala\">akka HttpResponse read body as String scala</a> however I could not find something which would work out. By trail-and-error I came up to the following snippet, however I don't think it should be this difficult. So I am seeking for a simple way to do this. The current code snippet which I am using is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import akka.actor.ActorSystem;\nimport akka.http.javadsl.Http;\nimport akka.http.javadsl.model.HttpRequest;\nimport akka.http.javadsl.model.HttpResponse;\nimport akka.stream.javadsl.Sink;\nimport akka.util.ByteString;\nimport com.typesafe.config.ConfigFactory;\n\npublic class App {\n\n    public static void main(String[] args) {\n        ActorSystem actorSystem = ActorSystem.create(ClientConfig.class.getSimpleName(), ConfigFactory.defaultApplication(App.class.getClassLoader()));\n        Http httpClient = akka.http.javadsl.Http.get(actorSystem);\n        HttpRequest httpRequest = HttpRequest.create(&quot;https://stackoverflow.com&quot;);\n\n        String responseBody = httpClient.singleRequest(httpRequest)\n                .thenApply((HttpResponse httpResponse) -&gt;\n                        httpResponse.entity()\n                                .getDataBytes()\n                                .fold(ByteString.emptyByteString(), ByteString::concat)\n                                .map(ByteString::utf8String)\n                                .runWith(Sink.head(), actorSystem)\n                                .toCompletableFuture()\n                                .join())\n                .toCompletableFuture()\n                .join();\n\n        System.out.println(responseBody);\n    }\n\n}\n</code></pre>\n<p>I am just wondering whether the body of the thenApply to transform the entity to a string needs to be this complex or are there other ways within the Akka library itself to simplify it.</p>\n"},{"tags":["java","hibernate","kotlin","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1690377705,"post_id":76771709,"comment_id":135345007,"body_markdown":"Is it intentional that your `Foo` inherits from `BaseActivity` rather than from `Base`?","body":"Is it intentional that your <code>Foo</code> inherits from <code>BaseActivity</code> rather than from <code>Base</code>?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1690377925,"post_id":76771709,"comment_id":135345050,"body_markdown":"Do you have the Base marked as a MappedSuperclass or Entity so it knows to pick it up for annotation processing?","body":"Do you have the Base marked as a MappedSuperclass or Entity so it knows to pick it up for annotation processing?"},{"owner":{"account_id":4640755,"reputation":11089,"user_id":3935035,"accept_rate":86,"display_name":"four-eyes"},"score":0,"creation_date":1690378054,"post_id":76771709,"comment_id":135345071,"body_markdown":"@JohnBollinger nope, that was a typo. I corrected.","body":"@JohnBollinger nope, that was a typo. I corrected."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690377955,"creation_date":1690377955,"answer_id":76771805,"question_id":76771709,"body_markdown":"&gt; But the `id` is defined in `Base`. Why is it complaining?\r\n\r\n&lt;s&gt;Possibly because `Foo` does not appear to inherit from `Base`.  But even if it did inherit from `Base`,&lt;/s&gt; annotations on the superclass and its members are of interest to JPA only if the superclass is a `@MappedSuperclass` or an `@Entity` itself.","title":"Why initialize id when is inherited from super class in JPA Hibernate","body":"<blockquote>\n<p>But the <code>id</code> is defined in <code>Base</code>. Why is it complaining?</p>\n</blockquote>\n<p><s>Possibly because <code>Foo</code> does not appear to inherit from <code>Base</code>.  But even if it did inherit from <code>Base</code>,</s> annotations on the superclass and its members are of interest to JPA only if the superclass is a <code>@MappedSuperclass</code> or an <code>@Entity</code> itself.</p>\n"}],"owner":{"account_id":4640755,"reputation":11089,"user_id":3935035,"accept_rate":86,"display_name":"four-eyes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76771805,"answer_count":1,"score":0,"last_activity_date":1690378039,"creation_date":1690377169,"question_id":76771709,"body_markdown":"I have this super-class\r\n\r\n\r\n    open class Base(\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY) var id: Long = 0,\r\n        @Column var userId: Long? = 0,\r\n        @Column var created: Date = Date(),\r\n        @Column var updated: Date = Date(),\r\n        @Column var currency: String = &quot;&quot;\r\n    )\r\n\r\nwhich I then inherit in the following class\r\n\r\n    @Entity\r\n    @Table(name = &quot;foo&quot;)\r\n    class Foo(\r\n        @Column var name: String = &quot;&quot;,\r\n    ) : Base()\r\n\r\nNow the compiler complains\r\n\r\n&gt; Persistent entity &#39;Foo&#39; should have primary key \r\n\r\nBut the `id` is defined in `Base`. Why is it complaining?","title":"Why initialize id when is inherited from super class in JPA Hibernate","body":"<p>I have this super-class</p>\n<pre><code>open class Base(\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY) var id: Long = 0,\n    @Column var userId: Long? = 0,\n    @Column var created: Date = Date(),\n    @Column var updated: Date = Date(),\n    @Column var currency: String = &quot;&quot;\n)\n</code></pre>\n<p>which I then inherit in the following class</p>\n<pre><code>@Entity\n@Table(name = &quot;foo&quot;)\nclass Foo(\n    @Column var name: String = &quot;&quot;,\n) : Base()\n</code></pre>\n<p>Now the compiler complains</p>\n<blockquote>\n<p>Persistent entity 'Foo' should have primary key</p>\n</blockquote>\n<p>But the <code>id</code> is defined in <code>Base</code>. Why is it complaining?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1690374760,"post_id":76771339,"comment_id":135344181,"body_markdown":"Please edit your question to show the code you have so far, and explain exactly where you are stuck. What were the &quot;problems with converting from ArrayNode to ObjectNode&quot;?","body":"Please edit your question to show the code you have so far, and explain exactly where you are stuck. What were the &quot;problems with converting from ArrayNode to ObjectNode&quot;?"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1690375762,"post_id":76771339,"comment_id":135344519,"body_markdown":"this is not a valid json, I am assuming it is an array of cards ?","body":"this is not a valid json, I am assuming it is an array of cards ?"}],"answers":[{"tags":[],"owner":{"account_id":49908,"reputation":4336,"user_id":148736,"accept_rate":63,"display_name":"Andrew Arrow"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690374854,"creation_date":1690374854,"answer_id":76771377,"question_id":76771339,"body_markdown":"You can iterate through the JSONArray, extract the individual values, and add them as separate fields in the existing JSON objects:\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\npublic class JSONArrayToJSONFields {\r\n    public static void main(String[] args) {\r\n        String jsonInput = &quot;{\\n&quot; +\r\n                &quot;  \\&quot;carId\\&quot;: 1001,\\n&quot; +\r\n                &quot;  \\&quot;driverIndex\\&quot;: 0,\\n&quot; +\r\n                &quot;  \\&quot;laptime\\&quot;: 173001,\\n&quot; +\r\n                &quot;  \\&quot;isValidForBest\\&quot;: false,\\n&quot; +\r\n                &quot;  \\&quot;splits\\&quot;: [\\n&quot; +\r\n                &quot;    91851,\\n&quot; +\r\n                &quot;    52002,\\n&quot; +\r\n                &quot;    29147\\n&quot; +\r\n                &quot;  ]\\n&quot; +\r\n                &quot;}&quot;;\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        try {\r\n            JsonNode rootNode = mapper.readTree(jsonInput);\r\n```","title":"How to parse JSONArray to JSON fields?","body":"<p>You can iterate through the JSONArray, extract the individual values, and add them as separate fields in the existing JSON objects:</p>\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class JSONArrayToJSONFields {\n    public static void main(String[] args) {\n        String jsonInput = &quot;{\\n&quot; +\n                &quot;  \\&quot;carId\\&quot;: 1001,\\n&quot; +\n                &quot;  \\&quot;driverIndex\\&quot;: 0,\\n&quot; +\n                &quot;  \\&quot;laptime\\&quot;: 173001,\\n&quot; +\n                &quot;  \\&quot;isValidForBest\\&quot;: false,\\n&quot; +\n                &quot;  \\&quot;splits\\&quot;: [\\n&quot; +\n                &quot;    91851,\\n&quot; +\n                &quot;    52002,\\n&quot; +\n                &quot;    29147\\n&quot; +\n                &quot;  ]\\n&quot; +\n                &quot;}&quot;;\n\n        ObjectMapper mapper = new ObjectMapper();\n        try {\n            JsonNode rootNode = mapper.readTree(jsonInput);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690377688,"creation_date":1690377688,"answer_id":76771769,"question_id":76771339,"body_markdown":"assuming that the input is an Array of cards \r\n\r\n```\r\nJsonNode root = new ObjectMapper().readTree(jsonString);\r\nroot.forEach(\r\n        card -&gt; {\r\n            ObjectNode cardObject = (ObjectNode) card;\r\n            ArrayNode splits = (ArrayNode) cardObject.remove(&quot;splits&quot;);\r\n            for(int i=0; i &lt; splits.size(); i++) {\r\n                cardObject.put(&quot;sector&quot;+i, splits.get(i));\r\n            }\r\n        }\r\n);\r\nreturn root;\r\n```","title":"How to parse JSONArray to JSON fields?","body":"<p>assuming that the input is an Array of cards</p>\n<pre><code>JsonNode root = new ObjectMapper().readTree(jsonString);\nroot.forEach(\n        card -&gt; {\n            ObjectNode cardObject = (ObjectNode) card;\n            ArrayNode splits = (ArrayNode) cardObject.remove(&quot;splits&quot;);\n            for(int i=0; i &lt; splits.size(); i++) {\n                cardObject.put(&quot;sector&quot;+i, splits.get(i));\n            }\n        }\n);\nreturn root;\n</code></pre>\n"}],"owner":{"account_id":29095231,"reputation":9,"user_id":22288234,"display_name":"Kowal998"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1690377902,"creation_date":1690374619,"question_id":76771339,"body_markdown":"As shown in title, I want to convert JSONArray (defined in &quot;splits&quot; field) to JSON fields using Java. I couldn&#39;t find a similar topic here, if I missed something please let me know.\r\n\r\nBit of my JSON is shown below:\r\n\r\n```json\r\n{\r\n  &quot;carId&quot;: 1001,\r\n  &quot;driverIndex&quot;: 0,\r\n  &quot;laptime&quot;: 173001,\r\n  &quot;isValidForBest&quot;: false,\r\n  &quot;splits&quot;: [\r\n    91851,\r\n    52002,\r\n    29147\r\n  ]\r\n},\r\n{\r\n  &quot;carId&quot;: 1001,\r\n  &quot;driverIndex&quot;: 0,\r\n  &quot;laptime&quot;: 107270,\r\n  &quot;isValidForBest&quot;: true,\r\n  &quot;splits&quot;: [\r\n    26295,\r\n    51960,\r\n    29015\r\n  ]\r\n}\r\n```\r\n\r\n\r\nI want to achieve something like this:\r\n\r\n```json\r\n{\r\n  &quot;carId&quot;: 1001,\r\n  &quot;driverIndex&quot;: 0,\r\n  &quot;laptime&quot;: 173001,\r\n  &quot;isValidForBest&quot;: false,\r\n  &quot;sector1&quot;: 91851,\r\n  &quot;sector2&quot;: 52002,\r\n  &quot;sector3&quot;: 29147\r\n},\r\n{\r\n  &quot;carId&quot;: 1001,\r\n  &quot;driverIndex&quot;: 0,\r\n  &quot;laptime&quot;: 107270,\r\n  &quot;isValidForBest&quot;: true,\r\n  &quot;sector1&quot;: 26295,\r\n  &quot;sector2&quot;: 51960,\r\n  &quot;sector3&quot;: 29015\r\n}\r\n```\r\n\r\nI found some ways to solve it by parsing array to a new object, but I don&#39;t want to create it if possible, because another object would make further code much more complicated and I want it to be as simple as possible. Values in &quot;splits&quot; field are also not used anywhere else. \r\n\r\nI tried using JsonNode and ObjectNode from package com.fasterxml.jackson.databind, but there were problems with converting from ArrayNode to ObjectNode and nothing found on web was helpful.","title":"How to parse JSONArray to JSON fields?","body":"<p>As shown in title, I want to convert JSONArray (defined in &quot;splits&quot; field) to JSON fields using Java. I couldn't find a similar topic here, if I missed something please let me know.</p>\n<p>Bit of my JSON is shown below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;carId&quot;: 1001,\n  &quot;driverIndex&quot;: 0,\n  &quot;laptime&quot;: 173001,\n  &quot;isValidForBest&quot;: false,\n  &quot;splits&quot;: [\n    91851,\n    52002,\n    29147\n  ]\n},\n{\n  &quot;carId&quot;: 1001,\n  &quot;driverIndex&quot;: 0,\n  &quot;laptime&quot;: 107270,\n  &quot;isValidForBest&quot;: true,\n  &quot;splits&quot;: [\n    26295,\n    51960,\n    29015\n  ]\n}\n</code></pre>\n<p>I want to achieve something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;carId&quot;: 1001,\n  &quot;driverIndex&quot;: 0,\n  &quot;laptime&quot;: 173001,\n  &quot;isValidForBest&quot;: false,\n  &quot;sector1&quot;: 91851,\n  &quot;sector2&quot;: 52002,\n  &quot;sector3&quot;: 29147\n},\n{\n  &quot;carId&quot;: 1001,\n  &quot;driverIndex&quot;: 0,\n  &quot;laptime&quot;: 107270,\n  &quot;isValidForBest&quot;: true,\n  &quot;sector1&quot;: 26295,\n  &quot;sector2&quot;: 51960,\n  &quot;sector3&quot;: 29015\n}\n</code></pre>\n<p>I found some ways to solve it by parsing array to a new object, but I don't want to create it if possible, because another object would make further code much more complicated and I want it to be as simple as possible. Values in &quot;splits&quot; field are also not used anywhere else.</p>\n<p>I tried using JsonNode and ObjectNode from package com.fasterxml.jackson.databind, but there were problems with converting from ArrayNode to ObjectNode and nothing found on web was helpful.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":13372240,"reputation":51,"user_id":9650262,"display_name":"INFORMATIKER IM ALL"},"score":1,"creation_date":1690379291,"post_id":76771718,"comment_id":135345371,"body_markdown":"WebSecurityConfigurerAdapter is deprecated","body":"WebSecurityConfigurerAdapter is deprecated"}],"tags":[],"owner":{"account_id":8628424,"reputation":91,"user_id":6460906,"display_name":"Dmitrii Podlesnykh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690377245,"creation_date":1690377245,"answer_id":76771718,"question_id":76771391,"body_markdown":"You can modify your Spring Security configuration.\r\nThe main idea: we are able to configure endpoints permission separately.\r\n\r\n - HTTPS is for &quot;*/receiveFile*&quot; endpoint\r\n - HTTP is for all other endpoint\r\n\r\nSolution might look like this:  \r\n\r\n\r\n    @Configuration\r\n        public class SslWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\r\n        \r\n        \t@Override\r\n        \tprotected void configure(HttpSecurity http) throws Exception {\r\n                    http.defaultSuccessUrl(&quot;/app/dashboard&quot;)\r\n                      .and().requiresChannel().antMatchers(&quot;/receiveFile&quot;).requiresSecure();\r\n     \r\n        \t}\r\n        \r\n        }\r\n\r\n\r\nMore details: [Baeldung: 5. Mixing HTTP and HTTPS][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-channel-security-https#mixing","title":"How can i enable specific pathes to work with http","body":"<p>You can modify your Spring Security configuration.\nThe main idea: we are able to configure endpoints permission separately.</p>\n<ul>\n<li>HTTPS is for &quot;<em>/receiveFile</em>&quot; endpoint</li>\n<li>HTTP is for all other endpoint</li>\n</ul>\n<p>Solution might look like this:</p>\n<pre><code>@Configuration\n    public class SslWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\n    \n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n                http.defaultSuccessUrl(&quot;/app/dashboard&quot;)\n                  .and().requiresChannel().antMatchers(&quot;/receiveFile&quot;).requiresSecure();\n \n        }\n    \n    }\n</code></pre>\n<p>More details: <a href=\"https://www.baeldung.com/spring-channel-security-https#mixing\" rel=\"nofollow noreferrer\">Baeldung: 5. Mixing HTTP and HTTPS</a></p>\n"}],"owner":{"account_id":13372240,"reputation":51,"user_id":9650262,"display_name":"INFORMATIKER IM ALL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690377245,"creation_date":1690374980,"question_id":76771391,"body_markdown":"i have a spring boot application with the following settings:\r\n\r\n    # The format used for the keystore\r\n    server.ssl.key-store-type=PKCS12\r\n    # The path to the keystore containing the certificate\r\n    server.ssl.key-store=classpath:keystore/localhost.p12\r\n    # The password used to generate the certificate\r\n    server.ssl.key-store-password=passwort\r\n    # The alias mapped to the certificate\r\n    server.ssl.key-alias=localhost\r\n    #only accepting ssl requests\r\n    server.ssl.enabled=true\r\n\r\n\r\nNow i have a couple of Restendpoints.\r\nI just want one specific Endpoint like &quot;receiveFile(&quot;/receiveFile&quot;)&quot; to only allow ssl secured connection like &quot;https://&quot;. all the other should accept normal http request like &quot;http://l....&quot;\r\n\r\nHow can i get this done?","title":"How can i enable specific pathes to work with http","body":"<p>i have a spring boot application with the following settings:</p>\n<pre><code># The format used for the keystore\nserver.ssl.key-store-type=PKCS12\n# The path to the keystore containing the certificate\nserver.ssl.key-store=classpath:keystore/localhost.p12\n# The password used to generate the certificate\nserver.ssl.key-store-password=passwort\n# The alias mapped to the certificate\nserver.ssl.key-alias=localhost\n#only accepting ssl requests\nserver.ssl.enabled=true\n</code></pre>\n<p>Now i have a couple of Restendpoints.\nI just want one specific Endpoint like &quot;receiveFile(&quot;/receiveFile&quot;)&quot; to only allow ssl secured connection like &quot;https://&quot;. all the other should accept normal http request like &quot;http://l....&quot;</p>\n<p>How can i get this done?</p>\n"},{"tags":["java","metadata","apache-beam","avro"],"owner":{"account_id":24528234,"reputation":1,"user_id":18440422,"display_name":"Cameron Mathis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690377227,"creation_date":1690307502,"question_id":76765351,"body_markdown":"I am unable to write custom Metadata to Avro files in Java via writeCustomTypeToGenericRecords.\r\n\r\nI have the following code that I am using to write Avro files in an Apache Beam pipeline:\r\n\r\n```Java\r\nprivate &lt;T&gt; WriteFilesResult&lt;String&gt; writeAvroFiles(PCollection&lt;T&gt; pcollection, DynamicAvroWriter&lt;T&gt; dynamicAvroWriter) {\r\n    return pcollection.apply(&quot;Write .avro files&quot;, AvroIO.&lt;T&gt;writeCustomTypeToGenericRecords()\r\n        .to(dynamicAvroWriter)\r\n        .withTempDirectory(tempDirectory)\r\n        .withMetadata(ImmutableMap.of(&quot;modelVersion&quot;, MODEL_VERSION))\r\n        .withSuffix(AVRO_SUFFIX));\r\n}\r\n```\r\n\r\nThe code writes the files without throwing any errors. But when I am trying to read the metadata, I only see the reserved metadata (avro.schema and avro.codec). Can anyone help me with this? Below is the code I am using to read the Avro files:\r\n\r\n```JAVA\r\npublic String read(String inputFile, String outputFile) {\r\n    DatumReader&lt;GenericRecord&gt; datumReader = new GenericDatumReader&lt;&gt;();\r\n    \r\n    try (DataFileReader&lt;GenericRecord&gt; dataFileReader = new DataFileReader&lt;&gt;(new File(inputFile), datumReader); PrintWriter outputStream = new PrintWriter(new FileWriter(outputFile))) {\r\n        outputStream.println(&quot;Model Version: &quot; + dataFileReader.getMetaString(&quot;modelVersion&quot;));\r\n        outputStream.println(&quot;Schema: &quot; + dataFileReader.getSchema());\r\n        int recordCount = 0;\r\n        GenericRecord genericRecord = null;\r\n        while (dataFileReader.hasNext()) {\r\n            genericRecord = dataFileReader.next(genericRecord);\r\n            outputStream.println(&quot;Record: &quot; + genericRecord.toString());\r\n            recordCount++;\r\n        }\r\n        outputStream.println(&quot;Total Record Count: &quot; + recordCount);\r\n    } catch (IOException ioException) {\r\n        ioException.printStackTrace();\r\n    }\r\n    \r\n    return &quot;Successfully wrote &quot; + outputFile;\r\n}\r\n```","title":"How to write metaData to an Avro file in Java via writeCustomTypeToGenericRecords?","body":"<p>I am unable to write custom Metadata to Avro files in Java via writeCustomTypeToGenericRecords.</p>\n<p>I have the following code that I am using to write Avro files in an Apache Beam pipeline:</p>\n<pre><code>private &lt;T&gt; WriteFilesResult&lt;String&gt; writeAvroFiles(PCollection&lt;T&gt; pcollection, DynamicAvroWriter&lt;T&gt; dynamicAvroWriter) {\n    return pcollection.apply(&quot;Write .avro files&quot;, AvroIO.&lt;T&gt;writeCustomTypeToGenericRecords()\n        .to(dynamicAvroWriter)\n        .withTempDirectory(tempDirectory)\n        .withMetadata(ImmutableMap.of(&quot;modelVersion&quot;, MODEL_VERSION))\n        .withSuffix(AVRO_SUFFIX));\n}\n</code></pre>\n<p>The code writes the files without throwing any errors. But when I am trying to read the metadata, I only see the reserved metadata (avro.schema and avro.codec). Can anyone help me with this? Below is the code I am using to read the Avro files:</p>\n<pre><code>public String read(String inputFile, String outputFile) {\n    DatumReader&lt;GenericRecord&gt; datumReader = new GenericDatumReader&lt;&gt;();\n    \n    try (DataFileReader&lt;GenericRecord&gt; dataFileReader = new DataFileReader&lt;&gt;(new File(inputFile), datumReader); PrintWriter outputStream = new PrintWriter(new FileWriter(outputFile))) {\n        outputStream.println(&quot;Model Version: &quot; + dataFileReader.getMetaString(&quot;modelVersion&quot;));\n        outputStream.println(&quot;Schema: &quot; + dataFileReader.getSchema());\n        int recordCount = 0;\n        GenericRecord genericRecord = null;\n        while (dataFileReader.hasNext()) {\n            genericRecord = dataFileReader.next(genericRecord);\n            outputStream.println(&quot;Record: &quot; + genericRecord.toString());\n            recordCount++;\n        }\n        outputStream.println(&quot;Total Record Count: &quot; + recordCount);\n    } catch (IOException ioException) {\n        ioException.printStackTrace();\n    }\n    \n    return &quot;Successfully wrote &quot; + outputFile;\n}\n</code></pre>\n"},{"tags":["java","generics","wildcard"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1690377063,"post_id":76771646,"comment_id":135344870,"body_markdown":"BTW: `carMap.forEach((key, value) -&gt; { ... })` is a neater way to iterate the entry set.","body":"BTW: <code>carMap.forEach((key, value) -&gt; { ... })</code> is a neater way to iterate the entry set."}],"answers":[{"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1690379151,"post_id":76771683,"comment_id":135345342,"body_markdown":"apart from that, which will involve changing all call-hierarchy methods, are there any other alternatives?","body":"apart from that, which will involve changing all call-hierarchy methods, are there any other alternatives?"}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690377005,"creation_date":1690377005,"answer_id":76771683,"question_id":76771646,"body_markdown":"&gt; They extends the same class\r\n\r\nNo, each occurrence of `? extends Car` is considered to be a different type, because they could be different types. The signature of `doSomething` requires them to be the same.\r\n\r\nUnless there&#39;s a good reason for `doSomething` to require both Class and List to be bounded by the exact same type, you could simply use a wildcard there:\r\n\r\n```\r\nprivate void doSomething(final Map&lt;Class&lt;? extends Car&gt;, List&lt;? extends Car&gt;&gt; carMap) {\r\n```","title":"Compilation error passing wildcards to generics method","body":"<blockquote>\n<p>They extends the same class</p>\n</blockquote>\n<p>No, each occurrence of <code>? extends Car</code> is considered to be a different type, because they could be different types. The signature of <code>doSomething</code> requires them to be the same.</p>\n<p>Unless there's a good reason for <code>doSomething</code> to require both Class and List to be bounded by the exact same type, you could simply use a wildcard there:</p>\n<pre><code>private void doSomething(final Map&lt;Class&lt;? extends Car&gt;, List&lt;? extends Car&gt;&gt; carMap) {\n</code></pre>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76771683,"answer_count":1,"score":0,"last_activity_date":1690377005,"creation_date":1690376679,"question_id":76771646,"body_markdown":"I would like to understand why it is not possible to pass wildcards to generics, and what is the best solution for that.\r\n\r\nI will use a simple reproducible example, but the code is more complex.\r\n\r\nI have a method that takes as a parameter a map of Class&lt;GENERIC_TYPE&gt; as key and List&lt;GENERIC_TYPE&gt; as value.\r\n\r\n    private &lt;CAR extends Car&gt; void doSomething(final Map&lt;Class&lt;CAR&gt;, List&lt;CAR&gt;&gt; carMap) {\r\n        carMap.entrySet().stream().forEach(entry -&gt; {\r\n    \t\tSystem.out.println(&quot;\\n&quot; + entry.getKey().getSimpleName() + &quot;\\n&quot; + entry.getValue() + &quot;\\n&quot;);\r\n    \t});\r\n    }\r\n\r\nThe method that is in charge of passing the map to the method &quot;doSomething&quot; doesn&#39;t have generics (and I cannot add bounded generics because is overriding a method of an interface) \r\n\r\nso the Map is declared using wildcards:\r\n\r\n    @Override\r\n    public void doSomethingPowerfull() {\r\n    \tBmw bmwM1 = new Bmw(&quot;BMW&quot;, &quot;M1&quot;);\r\n    \tBmw bmwM3 = new Bmw(&quot;BMW&quot;, &quot;M3&quot;);\r\n    \tBmw bmwM5 = new Bmw(&quot;BMW&quot;, &quot;M5&quot;);\r\n    \tList&lt;Bmw&gt; bmw = List.of(bmwM1, bmwM3, bmwM5);\r\n    \r\n    \tAudi audiS1 = new Audi(&quot;Audi&quot;, &quot;S1&quot;);\r\n    \tAudi audiS3 = new Audi(&quot;Audi&quot;, &quot;S3&quot;);\r\n    \tAudi audiS5 = new Audi(&quot;Audi&quot;, &quot;S5&quot;);\r\n    \tList&lt;Audi&gt; audi = List.of(audiS1, audiS3, audiS5);\r\n    \r\n    \tMap&lt;Class&lt;? extends Car&gt;, List&lt;? extends Car&gt;&gt; carMap = new HashMap&lt;&gt;();\r\n    \tcarMap.put(Audi.class, audi);\r\n    \tcarMap.put(Bmw.class, bmw);\r\n    \r\n    \tdoSomething(carMap); // COMPILATION ERROR\r\n        // The method doSomething(Map&lt;Class&lt;CAR&gt;,List&lt;CAR&gt;&gt;) in the type TestWildCardGenerics is not applicable for the arguments (Map&lt;Class&lt;? extends TestWildCardGenerics.Car&gt;,List&lt;? extends TestWildCardGenerics.Car&gt;&gt;)\r\n    }\r\n\r\nThey extends the same class, so why I&#39;m not able to pass this map?\r\n\r\nHere is the complete test class:\r\n\r\n    public class TestWildCardGenerics {\r\n    \r\n    \tpublic void test() {\r\n    \t\tBmw bmwM1 = new Bmw(&quot;M1&quot;);\r\n    \t\tBmw bmwM3 = new Bmw(&quot;M3&quot;);\r\n    \t\tBmw bmwM5 = new Bmw(&quot;M5&quot;);\r\n    \t\tList&lt;Bmw&gt; bmw = List.of(bmwM1, bmwM3, bmwM5);\r\n    \r\n    \t\tAudi audiS1 = new Audi(&quot;S1&quot;);\r\n    \t\tAudi audiS3 = new Audi(&quot;S3&quot;);\r\n    \t\tAudi audiS5 = new Audi(&quot;S5&quot;);\r\n    \t\tList&lt;Audi&gt; audi = List.of(audiS1, audiS3, audiS5);\r\n    \r\n    \t\tMap&lt;Class&lt;? extends Car&gt;, List&lt;? extends Car&gt;&gt; carMap = new HashMap&lt;&gt;();\r\n    \t\tcarMap.put(Audi.class, audi);\r\n    \t\tcarMap.put(Bmw.class, bmw);\r\n    \r\n    \t\tdoSomething(carMap);\r\n    \t}\r\n    \r\n    \tprivate &lt;CAR extends Car&gt; void doSomething(final Map&lt;Class&lt;CAR&gt;, List&lt;CAR&gt;&gt; carMap) {\r\n    \t\tcarMap.entrySet().stream().forEach(entry -&gt; {\r\n    \t\t\tSystem.out.println(&quot;\\n&quot; + entry.getKey().getSimpleName() + &quot;\\n&quot; + entry.getValue() + &quot;\\n&quot;);\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t@Data\r\n    \t@AllArgsConstructor\r\n    \tpublic abstract class Car {\r\n    \t\tprotected String name;\r\n    \t}\r\n    \r\n    \t@Data\r\n    \t@ToString(callSuper = true)\r\n    \tpublic class Audi extends Car {\r\n    \t\tprivate String sModel;\r\n    \r\n    \t\tpublic Audi(final String sModel) {\r\n    \t\t\tsuper(&quot;Audi&quot;);\r\n    \t\t\tthis.sModel = sModel;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Data\r\n    \t@ToString(callSuper = true)\r\n    \tpublic class Bmw extends Car {\r\n    \t\tprivate String mModel;\r\n    \r\n    \t\tpublic Bmw(final String mModel) {\r\n    \t\t\tsuper(&quot;BMW&quot;);\r\n    \t\t\tthis.mModel = mModel;\r\n    \t\t}\r\n    \t}\r\n    \r\n    }","title":"Compilation error passing wildcards to generics method","body":"<p>I would like to understand why it is not possible to pass wildcards to generics, and what is the best solution for that.</p>\n<p>I will use a simple reproducible example, but the code is more complex.</p>\n<p>I have a method that takes as a parameter a map of Class&lt;GENERIC_TYPE&gt; as key and List&lt;GENERIC_TYPE&gt; as value.</p>\n<pre><code>private &lt;CAR extends Car&gt; void doSomething(final Map&lt;Class&lt;CAR&gt;, List&lt;CAR&gt;&gt; carMap) {\n    carMap.entrySet().stream().forEach(entry -&gt; {\n        System.out.println(&quot;\\n&quot; + entry.getKey().getSimpleName() + &quot;\\n&quot; + entry.getValue() + &quot;\\n&quot;);\n    });\n}\n</code></pre>\n<p>The method that is in charge of passing the map to the method &quot;doSomething&quot; doesn't have generics (and I cannot add bounded generics because is overriding a method of an interface)</p>\n<p>so the Map is declared using wildcards:</p>\n<pre><code>@Override\npublic void doSomethingPowerfull() {\n    Bmw bmwM1 = new Bmw(&quot;BMW&quot;, &quot;M1&quot;);\n    Bmw bmwM3 = new Bmw(&quot;BMW&quot;, &quot;M3&quot;);\n    Bmw bmwM5 = new Bmw(&quot;BMW&quot;, &quot;M5&quot;);\n    List&lt;Bmw&gt; bmw = List.of(bmwM1, bmwM3, bmwM5);\n\n    Audi audiS1 = new Audi(&quot;Audi&quot;, &quot;S1&quot;);\n    Audi audiS3 = new Audi(&quot;Audi&quot;, &quot;S3&quot;);\n    Audi audiS5 = new Audi(&quot;Audi&quot;, &quot;S5&quot;);\n    List&lt;Audi&gt; audi = List.of(audiS1, audiS3, audiS5);\n\n    Map&lt;Class&lt;? extends Car&gt;, List&lt;? extends Car&gt;&gt; carMap = new HashMap&lt;&gt;();\n    carMap.put(Audi.class, audi);\n    carMap.put(Bmw.class, bmw);\n\n    doSomething(carMap); // COMPILATION ERROR\n    // The method doSomething(Map&lt;Class&lt;CAR&gt;,List&lt;CAR&gt;&gt;) in the type TestWildCardGenerics is not applicable for the arguments (Map&lt;Class&lt;? extends TestWildCardGenerics.Car&gt;,List&lt;? extends TestWildCardGenerics.Car&gt;&gt;)\n}\n</code></pre>\n<p>They extends the same class, so why I'm not able to pass this map?</p>\n<p>Here is the complete test class:</p>\n<pre><code>public class TestWildCardGenerics {\n\n    public void test() {\n        Bmw bmwM1 = new Bmw(&quot;M1&quot;);\n        Bmw bmwM3 = new Bmw(&quot;M3&quot;);\n        Bmw bmwM5 = new Bmw(&quot;M5&quot;);\n        List&lt;Bmw&gt; bmw = List.of(bmwM1, bmwM3, bmwM5);\n\n        Audi audiS1 = new Audi(&quot;S1&quot;);\n        Audi audiS3 = new Audi(&quot;S3&quot;);\n        Audi audiS5 = new Audi(&quot;S5&quot;);\n        List&lt;Audi&gt; audi = List.of(audiS1, audiS3, audiS5);\n\n        Map&lt;Class&lt;? extends Car&gt;, List&lt;? extends Car&gt;&gt; carMap = new HashMap&lt;&gt;();\n        carMap.put(Audi.class, audi);\n        carMap.put(Bmw.class, bmw);\n\n        doSomething(carMap);\n    }\n\n    private &lt;CAR extends Car&gt; void doSomething(final Map&lt;Class&lt;CAR&gt;, List&lt;CAR&gt;&gt; carMap) {\n        carMap.entrySet().stream().forEach(entry -&gt; {\n            System.out.println(&quot;\\n&quot; + entry.getKey().getSimpleName() + &quot;\\n&quot; + entry.getValue() + &quot;\\n&quot;);\n        });\n    }\n\n    @Data\n    @AllArgsConstructor\n    public abstract class Car {\n        protected String name;\n    }\n\n    @Data\n    @ToString(callSuper = true)\n    public class Audi extends Car {\n        private String sModel;\n\n        public Audi(final String sModel) {\n            super(&quot;Audi&quot;);\n            this.sModel = sModel;\n        }\n    }\n\n    @Data\n    @ToString(callSuper = true)\n    public class Bmw extends Car {\n        private String mModel;\n\n        public Bmw(final String mModel) {\n            super(&quot;BMW&quot;);\n            this.mModel = mModel;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690376938,"creation_date":1595485025,"answer_id":63048030,"question_id":61598288,"body_markdown":"Here is a code\r\n\r\n\r\n    public class EncodingUtils {\r\n        private EncodingUtils() {\r\n        }\r\n    \r\n        public static String decodeKoi8r(String text) {\r\n            String decode;\r\n            try {\r\n                decode = MimeUtility.decodeText(text);\r\n            } catch (UnsupportedEncodingException e) {\r\n                decode = text;\r\n            }\r\n    \r\n            if (isQuotedKoi8r(decode)) {\r\n                decode = decode(text, &quot;KOI8-R&quot;, &quot;quoted-printable&quot;, &quot;KOI8-R&quot;);\r\n            }\r\n            return decode;\r\n        }\r\n    \r\n        public static boolean isQuotedKoi8r(String text) {\r\n            return text.contains(&quot;=&quot;) || text.toLowerCase().contains(&quot;koi8-r&quot;);\r\n        }\r\n    \r\n        public static String decode(String text, String textEncoding, String encoding, String resultCharset) {\r\n            if (text.length() == 0) {\r\n                return text;\r\n            }\r\n    \r\n            try {\r\n                byte[] bytes = text.getBytes(textEncoding);\r\n                InputStream decodedStream = MimeUtility.decode(new ByteArrayInputStream(bytes), encoding);\r\n                byte[] tmp = new byte[bytes.length];\r\n                int n = decodedStream.read(tmp);\r\n                byte[] res = new byte[n];\r\n                System.arraycopy(tmp, 0, res, 0, n);\r\n                return new String(res, resultCharset);\r\n            } catch (IOException | MessagingException e) {\r\n                return text;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAnd test:\r\n\r\n    public class EncodingUtilsTest {\r\n        @Test\r\n        public void koi8r() {\r\n            String input = &quot;=?koi8-r?Q?11=5F=F4=ED=5F21=2E05=2Erar?=&quot;;\r\n            String decode = EncodingUtils.decodeKoi8r(input);\r\n            Assertions.assertEquals(&quot;11_Ð¢Ðœ_21.05.rar&quot;, decode);\r\n        }\r\n    \r\n        @Test\r\n        public void koi8rWithoutStartTag() {\r\n            String input = &quot;=CF=D4=C4=C5=CC=D8=CE=D9=CD =D4=D2=C1=CE=DB=C5=CD =D2=C5=DA=C0=CD=.eml&quot;;\r\n            String decode = EncodingUtils.decodeKoi8r(input);\r\n            //Ð¢ÑƒÑ‚ Ð·Ð½Ð°Ðº &quot;=&quot; Ð²ÐºÐ¾Ð½Ñ†Ðµ, ÑÑ‚Ð¾ Ð±Ð¸Ñ‚Ñ‹Ðµ Ð¸ÑÑ…Ð¾Ð´Ð½Ñ‹Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ, ÐµÑÐ»Ð¸ Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¸ÑÑ…Ð¾Ð´Ð½ÑƒÑŽ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ð½Ð° =CF=D4=C4=C5=CC=D8=CE=D9=CD =D4=D2=C1=CE=DB=C5=CD =D2=C5=DA=C0=CD=C5.eml Ð±ÑƒÐ´ÐµÑ‚ Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÑÐ»Ð¾Ð²Ð¾ &quot;Ñ€ÐµÐ·ÑŽÐ¼Ðµ&quot;\r\n            Assertions.assertEquals(&quot;Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¼ Ñ‚Ñ€Ð°Ð½ÑˆÐµÐ¼ Ñ€ÐµÐ·ÑŽÐ¼=.eml&quot;, decode);\r\n        }\r\n    }\r\n\r\nGood day!","title":"Decode koi8-r string and quoted-printable in java","body":"<p>Here is a code</p>\n<pre><code>public class EncodingUtils {\n    private EncodingUtils() {\n    }\n\n    public static String decodeKoi8r(String text) {\n        String decode;\n        try {\n            decode = MimeUtility.decodeText(text);\n        } catch (UnsupportedEncodingException e) {\n            decode = text;\n        }\n\n        if (isQuotedKoi8r(decode)) {\n            decode = decode(text, &quot;KOI8-R&quot;, &quot;quoted-printable&quot;, &quot;KOI8-R&quot;);\n        }\n        return decode;\n    }\n\n    public static boolean isQuotedKoi8r(String text) {\n        return text.contains(&quot;=&quot;) || text.toLowerCase().contains(&quot;koi8-r&quot;);\n    }\n\n    public static String decode(String text, String textEncoding, String encoding, String resultCharset) {\n        if (text.length() == 0) {\n            return text;\n        }\n\n        try {\n            byte[] bytes = text.getBytes(textEncoding);\n            InputStream decodedStream = MimeUtility.decode(new ByteArrayInputStream(bytes), encoding);\n            byte[] tmp = new byte[bytes.length];\n            int n = decodedStream.read(tmp);\n            byte[] res = new byte[n];\n            System.arraycopy(tmp, 0, res, 0, n);\n            return new String(res, resultCharset);\n        } catch (IOException | MessagingException e) {\n            return text;\n        }\n    }\n}\n</code></pre>\n<p>And test:</p>\n<pre><code>public class EncodingUtilsTest {\n    @Test\n    public void koi8r() {\n        String input = &quot;=?koi8-r?Q?11=5F=F4=ED=5F21=2E05=2Erar?=&quot;;\n        String decode = EncodingUtils.decodeKoi8r(input);\n        Assertions.assertEquals(&quot;11_Ð¢Ðœ_21.05.rar&quot;, decode);\n    }\n\n    @Test\n    public void koi8rWithoutStartTag() {\n        String input = &quot;=CF=D4=C4=C5=CC=D8=CE=D9=CD =D4=D2=C1=CE=DB=C5=CD =D2=C5=DA=C0=CD=.eml&quot;;\n        String decode = EncodingUtils.decodeKoi8r(input);\n        //Ð¢ÑƒÑ‚ Ð·Ð½Ð°Ðº &quot;=&quot; Ð²ÐºÐ¾Ð½Ñ†Ðµ, ÑÑ‚Ð¾ Ð±Ð¸Ñ‚Ñ‹Ðµ Ð¸ÑÑ…Ð¾Ð´Ð½Ñ‹Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ, ÐµÑÐ»Ð¸ Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¸ÑÑ…Ð¾Ð´Ð½ÑƒÑŽ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ð½Ð° =CF=D4=C4=C5=CC=D8=CE=D9=CD =D4=D2=C1=CE=DB=C5=CD =D2=C5=DA=C0=CD=C5.eml Ð±ÑƒÐ´ÐµÑ‚ Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÑÐ»Ð¾Ð²Ð¾ &quot;Ñ€ÐµÐ·ÑŽÐ¼Ðµ&quot;\n        Assertions.assertEquals(&quot;Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¼ Ñ‚Ñ€Ð°Ð½ÑˆÐµÐ¼ Ñ€ÐµÐ·ÑŽÐ¼=.eml&quot;, decode);\n    }\n}\n</code></pre>\n<p>Good day!</p>\n"}],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63048030,"answer_count":1,"score":0,"last_activity_date":1690376938,"creation_date":1588613861,"question_id":61598288,"body_markdown":"I got a .eml file, and some attachments inside\r\n\r\none of attachments - is .rar file\r\n\r\nI using Tika to extract this rar, but sometimes Tika cant correctly convert some names of files, for example - such a name\r\n\r\n    =?koi8-r?Q?6=5F=F4=ED=5F15=2E05=2Erar?=\r\n\r\nSo i was looking for an answer, how to convert such a string to correctly readed value\r\n\r\nIs there any libraries in java, to do this?\r\n\r\nI guess it happends cause string got `=?koi8-r?Q?` in the start, so maybe, if i convert string to something like this, i will get move convertable value, like this `6=5F=F4=ED=5F15=2E05=2E`, but if i will do so, i finnaly couldnt find a solution to convert\r\n\r\nDoes anybody know how to convert such a string correctly?\r\n\r\nI spend a lot of time to make it, but still - no results...","title":"Decode koi8-r string and quoted-printable in java","body":"<p>I got a .eml file, and some attachments inside</p>\n\n<p>one of attachments - is .rar file</p>\n\n<p>I using Tika to extract this rar, but sometimes Tika cant correctly convert some names of files, for example - such a name</p>\n\n<pre><code>=?koi8-r?Q?6=5F=F4=ED=5F15=2E05=2Erar?=\n</code></pre>\n\n<p>So i was looking for an answer, how to convert such a string to correctly readed value</p>\n\n<p>Is there any libraries in java, to do this?</p>\n\n<p>I guess it happends cause string got <code>=?koi8-r?Q?</code> in the start, so maybe, if i convert string to something like this, i will get move convertable value, like this <code>6=5F=F4=ED=5F15=2E05=2E</code>, but if i will do so, i finnaly couldnt find a solution to convert</p>\n\n<p>Does anybody know how to convert such a string correctly?</p>\n\n<p>I spend a lot of time to make it, but still - no results...</p>\n"},{"tags":["java","html","spring-boot","web","thymeleaf"],"comments":[{"owner":{"account_id":18391609,"reputation":87,"user_id":13397146,"display_name":"Josselin Beaud&#39;huy"},"score":0,"creation_date":1690388763,"post_id":76771665,"comment_id":135347626,"body_markdown":"Try #ctx.session.car.products","body":"Try #ctx.session.car.products"},{"owner":{"account_id":18391609,"reputation":87,"user_id":13397146,"display_name":"Josselin Beaud&#39;huy"},"score":0,"creation_date":1690389638,"post_id":76771665,"comment_id":135347852,"body_markdown":"What&#39;s your thymeleaf version ?","body":"What&#39;s your thymeleaf version ?"},{"owner":{"account_id":24960092,"reputation":3,"user_id":22288620,"display_name":"IvanD"},"score":0,"creation_date":1690390713,"post_id":76771665,"comment_id":135348115,"body_markdown":"@JosselinBeaud&#39;huy I use spring boot starter: spring-boot-starter-thymeleaf","body":"@JosselinBeaud&#39;huy I use spring boot starter: spring-boot-starter-thymeleaf"},{"owner":{"account_id":24960092,"reputation":3,"user_id":22288620,"display_name":"IvanD"},"score":0,"creation_date":1690391046,"post_id":76771665,"comment_id":135348190,"body_markdown":"@JosselinBeaud&#39;huy #ctx.session.car.products not works","body":"@JosselinBeaud&#39;huy #ctx.session.car.products not works"},{"owner":{"account_id":18391609,"reputation":87,"user_id":13397146,"display_name":"Josselin Beaud&#39;huy"},"score":0,"creation_date":1690394324,"post_id":76771665,"comment_id":135348933,"body_markdown":"What&#39;s your spirngboot version ? Maybe a bug. I tried on my env and it works","body":"What&#39;s your spirngboot version ? Maybe a bug. I tried on my env and it works"},{"owner":{"account_id":24960092,"reputation":3,"user_id":22288620,"display_name":"IvanD"},"score":0,"creation_date":1690398388,"post_id":76771665,"comment_id":135349680,"body_markdown":"My parent spring boot starter parent is 3.1.2","body":"My parent spring boot starter parent is 3.1.2"},{"owner":{"account_id":18391609,"reputation":87,"user_id":13397146,"display_name":"Josselin Beaud&#39;huy"},"score":0,"creation_date":1690404080,"post_id":76771665,"comment_id":135350685,"body_markdown":"Can you post full html ?","body":"Can you post full html ?"},{"owner":{"account_id":24960092,"reputation":3,"user_id":22288620,"display_name":"IvanD"},"score":0,"creation_date":1690405107,"post_id":76771665,"comment_id":135350825,"body_markdown":"Full cart.html without css and js links is presented in post. Or what do you mean? @JosselinBeaud&#39;huy","body":"Full cart.html without css and js links is presented in post. Or what do you mean? @JosselinBeaud&#39;huy"}],"owner":{"account_id":24960092,"reputation":3,"user_id":22288620,"display_name":"IvanD"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690376839,"creation_date":1690376839,"question_id":76771665,"body_markdown":"i got some issue with my Spring boot project. When i try to open product cart page, i got exception `org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;session.cart.getProducts()&quot; (template: &quot;cart&quot; - line 14, col 11)`.\r\nMy cart.html page, where i try to get list:\r\n\r\n```\r\n&lt;/head&gt;\r\n&lt;body class=&quot;body&quot;&gt;\r\n&lt;div th:replace=&quot;header :: header_fragment&quot;&gt;&lt;/div&gt;\r\n&lt;th:block th:each=&quot;cartProduct : ${session.cart.getProducts()}&quot;&gt;\r\n  &lt;div class=&quot;row p-2 bg-white border rounded mt-2&quot;&gt;\r\n    &lt;div class=&quot;col-md-3 mt-1&quot;&gt;&lt;img class=&quot;img-fluid img-responsive rounded product-image&quot; th:src=&quot;@{/${cartProduct.imagepath}}&quot;&gt;&lt;/div&gt;\r\n    &lt;div class=&quot;col-md-6 mt-1&quot;&gt;\r\n      &lt;h5 th:text=&quot;${cartProduct.name}&quot;&gt;&lt;/h5&gt;\r\n      &lt;div class=&quot;d-flex flex-row&quot;&gt;\r\n        &lt;div class=&quot;ratings mr-2&quot;&gt;&lt;i class=&quot;fa fa-star&quot;&gt;&lt;/i&gt;&lt;i class=&quot;fa fa-star&quot;&gt;&lt;/i&gt;&lt;i class=&quot;fa fa-star&quot;&gt;&lt;/i&gt;&lt;i class=&quot;fa fa-star&quot;&gt;&lt;/i&gt;&lt;/div&gt;\r\n        &lt;span&gt;310&lt;/span&gt;\r\n      &lt;/div&gt;\r\n      &lt;p class=&quot;text-justify text-truncate para mb-0&quot; th:text=&quot;${cartProduct.description}&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;align-items-center align-content-center col-md-3 border-left mt-1&quot;&gt;\r\n      &lt;div class=&quot;d-flex flex-row align-items-center&quot;&gt;\r\n        &lt;h4 class=&quot;mr-1&quot; th:text=&quot;${cartProduct.price} + &#39;$&#39;&quot;&gt;&lt;/h4&gt;\r\n      &lt;/div&gt;\r\n      &lt;h6 class=&quot;text-success&quot;&gt;Available&lt;/h6&gt;\r\n      &lt;div class=&quot;d-flex flex-column mt-4&quot;&gt;\r\n        &lt;a class=&quot;btn btn-primary btn-sm&quot; type=&quot;button&quot; th:href=&quot;@{/cart/remove/{productid}(productid=${cartProduct.id})}&quot;&gt;Delete form cart&lt;/a&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/th:block&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nAnd my Cart object in session:\r\n\r\n```\r\npublic class Cart {\r\n\r\n    private final Map&lt;Integer, Product&gt; products;\r\n    private float totalPrice;\r\n\r\n    public Cart() {\r\n        this.products = new HashMap&lt;&gt;();\r\n        this.totalPrice = 0;\r\n    }\r\n\r\n    public void addProduct(Product product) {\r\n        products.put(product.getId(), product);\r\n        totalPrice += product.getPrice();\r\n    }\r\n\r\n    public void removeProduct(int productId) {\r\n        Product product = products.get(productId);\r\n        products.remove(productId);\r\n        totalPrice -= product.getPrice();\r\n    }\r\n\r\n    public static Cart checkCart(Product product, Cart cart){\r\n        if (cart != null) {\r\n            cart.addProduct(product);\r\n        } else {\r\n            cart = new Cart();\r\n            cart.addProduct(product);\r\n        }\r\n        return cart;\r\n    }\r\n\r\n    public List&lt;Product&gt; getProducts() {\r\n        return new ArrayList&lt;&gt;(products.values());\r\n    }\r\n\r\n    public float getTotalPrice() {\r\n        return totalPrice;\r\n    }\r\n\r\n    public int getTotalSize() {\r\n        return products.size();\r\n    }\r\n\r\n    public void setTotalPrice(float totalPrice) {\r\n        this.totalPrice = totalPrice;\r\n    }\r\n\r\n    public void clear() {\r\n        products.clear();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nHere i tried to get access to product list, where cart is object in session, which contains Map&lt;Integer, Product&gt;, and method getProducts() returns a transformed Map into ArrayList. I alse expect, that if my cart is null, there should be 0 iterations of loop. But as a result i got 500 error and a white page. \r\nI also tries to write like this `session.cart.products` or `session.cart[&#39;products&#39;]` expecting that map will be automatically converted to List.","title":"Template parsing exception in thymeleaf while iterating Map","body":"<p>i got some issue with my Spring boot project. When i try to open product cart page, i got exception <code>org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;session.cart.getProducts()&quot; (template: &quot;cart&quot; - line 14, col 11)</code>.\nMy cart.html page, where i try to get list:</p>\n<pre><code>&lt;/head&gt;\n&lt;body class=&quot;body&quot;&gt;\n&lt;div th:replace=&quot;header :: header_fragment&quot;&gt;&lt;/div&gt;\n&lt;th:block th:each=&quot;cartProduct : ${session.cart.getProducts()}&quot;&gt;\n  &lt;div class=&quot;row p-2 bg-white border rounded mt-2&quot;&gt;\n    &lt;div class=&quot;col-md-3 mt-1&quot;&gt;&lt;img class=&quot;img-fluid img-responsive rounded product-image&quot; th:src=&quot;@{/${cartProduct.imagepath}}&quot;&gt;&lt;/div&gt;\n    &lt;div class=&quot;col-md-6 mt-1&quot;&gt;\n      &lt;h5 th:text=&quot;${cartProduct.name}&quot;&gt;&lt;/h5&gt;\n      &lt;div class=&quot;d-flex flex-row&quot;&gt;\n        &lt;div class=&quot;ratings mr-2&quot;&gt;&lt;i class=&quot;fa fa-star&quot;&gt;&lt;/i&gt;&lt;i class=&quot;fa fa-star&quot;&gt;&lt;/i&gt;&lt;i class=&quot;fa fa-star&quot;&gt;&lt;/i&gt;&lt;i class=&quot;fa fa-star&quot;&gt;&lt;/i&gt;&lt;/div&gt;\n        &lt;span&gt;310&lt;/span&gt;\n      &lt;/div&gt;\n      &lt;p class=&quot;text-justify text-truncate para mb-0&quot; th:text=&quot;${cartProduct.description}&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;align-items-center align-content-center col-md-3 border-left mt-1&quot;&gt;\n      &lt;div class=&quot;d-flex flex-row align-items-center&quot;&gt;\n        &lt;h4 class=&quot;mr-1&quot; th:text=&quot;${cartProduct.price} + '$'&quot;&gt;&lt;/h4&gt;\n      &lt;/div&gt;\n      &lt;h6 class=&quot;text-success&quot;&gt;Available&lt;/h6&gt;\n      &lt;div class=&quot;d-flex flex-column mt-4&quot;&gt;\n        &lt;a class=&quot;btn btn-primary btn-sm&quot; type=&quot;button&quot; th:href=&quot;@{/cart/remove/{productid}(productid=${cartProduct.id})}&quot;&gt;Delete form cart&lt;/a&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/th:block&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>And my Cart object in session:</p>\n<pre><code>public class Cart {\n\n    private final Map&lt;Integer, Product&gt; products;\n    private float totalPrice;\n\n    public Cart() {\n        this.products = new HashMap&lt;&gt;();\n        this.totalPrice = 0;\n    }\n\n    public void addProduct(Product product) {\n        products.put(product.getId(), product);\n        totalPrice += product.getPrice();\n    }\n\n    public void removeProduct(int productId) {\n        Product product = products.get(productId);\n        products.remove(productId);\n        totalPrice -= product.getPrice();\n    }\n\n    public static Cart checkCart(Product product, Cart cart){\n        if (cart != null) {\n            cart.addProduct(product);\n        } else {\n            cart = new Cart();\n            cart.addProduct(product);\n        }\n        return cart;\n    }\n\n    public List&lt;Product&gt; getProducts() {\n        return new ArrayList&lt;&gt;(products.values());\n    }\n\n    public float getTotalPrice() {\n        return totalPrice;\n    }\n\n    public int getTotalSize() {\n        return products.size();\n    }\n\n    public void setTotalPrice(float totalPrice) {\n        this.totalPrice = totalPrice;\n    }\n\n    public void clear() {\n        products.clear();\n    }\n\n}\n</code></pre>\n<p>Here i tried to get access to product list, where cart is object in session, which contains Map&lt;Integer, Product&gt;, and method getProducts() returns a transformed Map into ArrayList. I alse expect, that if my cart is null, there should be 0 iterations of loop. But as a result i got 500 error and a white page.\nI also tries to write like this <code>session.cart.products</code> or <code>session.cart['products']</code> expecting that map will be automatically converted to List.</p>\n"},{"tags":["java","spring-boot","bazel","spring-boot-test","bazel-java"],"comments":[{"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"â„›É‘Æ’&#230;Ä¿á´¿á´¹á´¿"},"score":0,"creation_date":1689872271,"post_id":76732060,"comment_id":135278201,"body_markdown":"Does this answer your question? [Spring boot: How to read resource from classpath in unit test](https://stackoverflow.com/questions/43428305/spring-boot-how-to-read-resource-from-classpath-in-unit-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43428305/spring-boot-how-to-read-resource-from-classpath-in-unit-test\">Spring boot: How to read resource from classpath in unit test</a>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1689872448,"post_id":76732060,"comment_id":135278243,"body_markdown":"When you deploy the application, you won&#39;t have a `src` folder either. So `src/test/resources/configs` is definitely wrong there.","body":"When you deploy the application, you won&#39;t have a <code>src</code> folder either. So <code>src&#47;test&#47;resources&#47;configs</code> is definitely wrong there."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689884752,"post_id":76732060,"comment_id":135280549,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":17601943,"reputation":91,"user_id":12771724,"display_name":"Enes Birisik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690376719,"creation_date":1690376719,"answer_id":76771653,"question_id":76732060,"body_markdown":"Can you try this code ? \r\n\r\napplication.yml\r\n\r\n    spring:\r\n      config:\r\n        import:\r\n          - optional:configtree:classpath:configs/\r\n\r\nProductConverterConfiguration class\r\n\r\n    @Configuration\r\n    public class ProductConverterConfiguration {\r\n    \r\n        @Value(&quot;${products}&quot;) \r\n        private String productsYamlFile;\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            System.out.println(&quot;Got the file as: &quot; + productsYamlFile);\r\n        }\r\n    }\r\n\r\n(can you chare product.yml if it doesn&#39;t work)","title":"How to access a file from resources folder in test in springboot","body":"<p>Can you try this code ?</p>\n<p>application.yml</p>\n<pre><code>spring:\n  config:\n    import:\n      - optional:configtree:classpath:configs/\n</code></pre>\n<p>ProductConverterConfiguration class</p>\n<pre><code>@Configuration\npublic class ProductConverterConfiguration {\n\n    @Value(&quot;${products}&quot;) \n    private String productsYamlFile;\n\n    @PostConstruct\n    public void init() {\n        System.out.println(&quot;Got the file as: &quot; + productsYamlFile);\n    }\n}\n</code></pre>\n<p>(can you chare product.yml if it doesn't work)</p>\n"}],"owner":{"account_id":12259393,"reputation":13,"user_id":19695061,"display_name":"Dattebayo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690376719,"creation_date":1689871797,"question_id":76732060,"body_markdown":"My file &quot;products.yml&quot; is located in src/test/resources/configs folder. I have defined config import in my application.yml in springboot \r\n\r\n    spring:\r\n      config:\r\n        import:\r\n          - optional:configtree:src/test/resources/configs/\r\n\r\nI am trying to get this &quot;products.yml&quot; filepath using @Value annotation in my configuration class\r\n\r\n    @Configuration\r\n    public class ProductConverterConfiguration {\r\n    \r\n    @Value(&quot;${products}&quot;) \r\n    private String productsYamlFile;\r\n    \r\n    System.out.Println(&quot;Got the file as: &quot; + productsYamlFile);\r\n    }\r\n\r\nSpringboot is unable to see that file when I try to run bazel test for that class it fails with null pointer exception.\r\n\r\nI tried giving absolute path in the application.yaml and it works. \r\nBut I need the relative path since I wont have the same host when I deploy this application. Can someone help me with this? ","title":"How to access a file from resources folder in test in springboot","body":"<p>My file &quot;products.yml&quot; is located in src/test/resources/configs folder. I have defined config import in my application.yml in springboot</p>\n<pre><code>spring:\n  config:\n    import:\n      - optional:configtree:src/test/resources/configs/\n</code></pre>\n<p>I am trying to get this &quot;products.yml&quot; filepath using @Value annotation in my configuration class</p>\n<pre><code>@Configuration\npublic class ProductConverterConfiguration {\n\n@Value(&quot;${products}&quot;) \nprivate String productsYamlFile;\n\nSystem.out.Println(&quot;Got the file as: &quot; + productsYamlFile);\n}\n</code></pre>\n<p>Springboot is unable to see that file when I try to run bazel test for that class it fails with null pointer exception.</p>\n<p>I tried giving absolute path in the application.yaml and it works.\nBut I need the relative path since I wont have the same host when I deploy this application. Can someone help me with this?</p>\n"},{"tags":["java","email","jakarta-mail","micronaut"],"comments":[{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":0,"creation_date":1690375200,"post_id":76770868,"comment_id":135344313,"body_markdown":"how does the raw email looks like, that your sending to the SMTP?","body":"how does the raw email looks like, that your sending to the SMTP?"},{"owner":{"account_id":5124081,"reputation":253,"user_id":4106800,"display_name":"Gobanit"},"score":0,"creation_date":1690376503,"post_id":76770868,"comment_id":135344739,"body_markdown":"I pasted it to the question. It is downloaded from Outlook after receiving it.","body":"I pasted it to the question. It is downloaded from Outlook after receiving it."}],"owner":{"account_id":5124081,"reputation":253,"user_id":4106800,"display_name":"Gobanit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690376649,"creation_date":1690371474,"question_id":76770868,"body_markdown":"I am using Micronaut for web application and I need to send emails. We use velocity template for the email body and we need to include an image in the text. I found out there are 3 ways:\r\n1. Base64 encoded image\r\n2. Content Id attachments\r\n3. Global url link\r\n\r\nSince Base64 encoded images in html are not supported by most of the mail clients and since the provided image is not publicly available, I tried the content id attachment. But I couldn&#39;t make it work with Micronaut.\r\n\r\nHere is a simplified code snippet I have:\r\n```java\r\nMap&lt;String, String&gt; modelMap = new HashMap&lt;&gt;();\r\nmodelMap.put(&quot;xyz&quot;, &quot;aaaaaaa&quot;);\r\nTemplateBody&lt;Map&lt;String, String&gt;&gt; body =\r\n    new TemplateBody&lt;&gt;(&quot;mail/mail-body.vm&quot;, modelMap);\r\n\r\nbyte[] image = IOUtils.resourceToByteArray(&quot;logo.png&quot;, getClass().getClassLoader());\r\nAttachment logoAttachment = Attachment.builder()\r\n    .id(&quot;logo&quot;)\r\n    .filename(&quot;something.png&quot;)\r\n    .contentType(MediaType.IMAGE_PNG)\r\n    .content(image)\r\n    .build();\r\n\r\nEmail.Builder emailBuilder = Email.builder()\r\n    .from(sender)\r\n    .to(recipient)\r\n    .subject(&quot;some-subject&quot;)\r\n    .body(body)\r\n    .attachment(createLogoAttachment());\r\n\r\nemailSender.send(emailBuilder);\r\n```\r\n\r\nThe velocity html template looks like this:\r\n```html\r\n&lt;div&gt;\r\n    &lt;p&gt;\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed \r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n         do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n        minim veniam\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n        quis nostrud exercitation ullamco laboris nisi ut - ${xyz}\r\n    &lt;/p&gt;\r\n    &lt;img src=&quot;cid:logo&quot; alt=&quot;this is logo image&quot;/&gt;\r\n&lt;/div&gt;\r\n\r\n```\r\n\r\n\r\nBut this way, the image is only a regular attachment, not embedded in html content. The alternative text is shown instead. How can I tell Micronaut that this attachment should be inline? It seems that the **id** attribute I provided is not used at all and the html body does not see the attachment.\r\n\r\nThe raw mail looks like this:\r\n\r\n```\r\nMIME-Version: 1.0\r\n\r\n------=_Part_0_2107679308.1690376383642\r\nContent-Type: multipart/alternative; \r\n\tboundary=&quot;----=_Part_1_706751112.1690376383646&quot;\r\n\r\n------=_Part_1_706751112.1690376383646\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: 7bit\r\n\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;&lt;div&gt;\r\n    &lt;p&gt;\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n        do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n        minim veniam\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n        quis nostrud exercitation ullamco laboris nisi ut - aaaaaaa\r\n    &lt;/p&gt;\r\n    &lt;img src=&quot;cid:logo&quot; alt=&quot;this is logo image&quot;&gt;\r\n&lt;/div&gt;\r\n\r\n------=_Part_1_706751112.1690376383646--\r\n\r\n------=_Part_0_2107679308.1690376383642\r\nContent-Type: image/png; name=something.png\r\nContent-Transfer-Encoding: base64\r\nContent-Disposition: attachment; filename=something.png\r\n\r\niVBORw0KGgoAAAANSUhEUgAABCkAAAFkCAYAAAANCGFyAAAAAXNSR0IArs4c6QAAAARnQU1BAACx ... \r\n\r\n------=_Part_0_2107679308.1690376383642--\r\n```\r\n\r\nI didn`t paste the whole base64 image","title":"How to add inline image in html email with Micronaut","body":"<p>I am using Micronaut for web application and I need to send emails. We use velocity template for the email body and we need to include an image in the text. I found out there are 3 ways:</p>\n<ol>\n<li>Base64 encoded image</li>\n<li>Content Id attachments</li>\n<li>Global url link</li>\n</ol>\n<p>Since Base64 encoded images in html are not supported by most of the mail clients and since the provided image is not publicly available, I tried the content id attachment. But I couldn't make it work with Micronaut.</p>\n<p>Here is a simplified code snippet I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; modelMap = new HashMap&lt;&gt;();\nmodelMap.put(&quot;xyz&quot;, &quot;aaaaaaa&quot;);\nTemplateBody&lt;Map&lt;String, String&gt;&gt; body =\n    new TemplateBody&lt;&gt;(&quot;mail/mail-body.vm&quot;, modelMap);\n\nbyte[] image = IOUtils.resourceToByteArray(&quot;logo.png&quot;, getClass().getClassLoader());\nAttachment logoAttachment = Attachment.builder()\n    .id(&quot;logo&quot;)\n    .filename(&quot;something.png&quot;)\n    .contentType(MediaType.IMAGE_PNG)\n    .content(image)\n    .build();\n\nEmail.Builder emailBuilder = Email.builder()\n    .from(sender)\n    .to(recipient)\n    .subject(&quot;some-subject&quot;)\n    .body(body)\n    .attachment(createLogoAttachment());\n\nemailSender.send(emailBuilder);\n</code></pre>\n<p>The velocity html template looks like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div&gt;\n    &lt;p&gt;\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed \n    &lt;/p&gt;\n    &lt;p&gt;\n         do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad\n    &lt;/p&gt;\n    &lt;p&gt;\n        minim veniam\n    &lt;/p&gt;\n    &lt;p&gt;\n        quis nostrud exercitation ullamco laboris nisi ut - ${xyz}\n    &lt;/p&gt;\n    &lt;img src=&quot;cid:logo&quot; alt=&quot;this is logo image&quot;/&gt;\n&lt;/div&gt;\n\n</code></pre>\n<p>But this way, the image is only a regular attachment, not embedded in html content. The alternative text is shown instead. How can I tell Micronaut that this attachment should be inline? It seems that the <strong>id</strong> attribute I provided is not used at all and the html body does not see the attachment.</p>\n<p>The raw mail looks like this:</p>\n<pre><code>MIME-Version: 1.0\n\n------=_Part_0_2107679308.1690376383642\nContent-Type: multipart/alternative; \n    boundary=&quot;----=_Part_1_706751112.1690376383646&quot;\n\n------=_Part_1_706751112.1690376383646\nContent-Type: text/html; charset=UTF-8\nContent-Transfer-Encoding: 7bit\n\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;&lt;div&gt;\n    &lt;p&gt;\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed\n    &lt;/p&gt;\n    &lt;p&gt;\n        do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad\n    &lt;/p&gt;\n    &lt;p&gt;\n        minim veniam\n    &lt;/p&gt;\n    &lt;p&gt;\n        quis nostrud exercitation ullamco laboris nisi ut - aaaaaaa\n    &lt;/p&gt;\n    &lt;img src=&quot;cid:logo&quot; alt=&quot;this is logo image&quot;&gt;\n&lt;/div&gt;\n\n------=_Part_1_706751112.1690376383646--\n\n------=_Part_0_2107679308.1690376383642\nContent-Type: image/png; name=something.png\nContent-Transfer-Encoding: base64\nContent-Disposition: attachment; filename=something.png\n\niVBORw0KGgoAAAANSUhEUgAABCkAAAFkCAYAAAANCGFyAAAAAXNSR0IArs4c6QAAAARnQU1BAACx ... \n\n------=_Part_0_2107679308.1690376383642--\n</code></pre>\n<p>I didn`t paste the whole base64 image</p>\n"},{"tags":["java","spring","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690376585,"creation_date":1689787559,"answer_id":76723835,"question_id":76723657,"body_markdown":"With reactor-kafka, use the `addAssignListener` receiver option.\r\n\r\nThen, when partitions are assigned, you can call `seekToEnd()` on each `ReceiverPartition` (the listener gets a collection of them).\r\n\r\nSee [the documentation](https://projectreactor.io/docs/kafka/release/reference/#_controlling_start_offsets_for_consuming_records).\r\n\r\nIn the configuration mentioned in the question, the place for the configuration code is here:\r\n\r\n``` lang-java\r\n@Bean\r\npublic ReactiveKafkaConsumerTemplate&lt;UUID, MyEvent&gt; createConsumer(@Autowired KafkaProperties properties) {\r\n    return new ReactiveKafkaConsumerTemplate&lt;&gt;(\r\n        ReceiverOptions.&lt;UUID, MyEvent&gt;create(new HashMap&lt;&gt;(properties.buildConsumerProperties()))\r\n            //==================================================\r\n            .addAssignListener(partitions -&gt;\r\n                partitions.forEach(ReceiverPartition::seekToEnd))\r\n            //==================================================\r\n            .subscription(List.of(&quot;MY-TOPIC&quot;)));\r\n}\r\n```","title":"Make a service after restart to skip unread Kafka messages, but use the same consumer group as before","body":"<p>With reactor-kafka, use the <code>addAssignListener</code> receiver option.</p>\n<p>Then, when partitions are assigned, you can call <code>seekToEnd()</code> on each <code>ReceiverPartition</code> (the listener gets a collection of them).</p>\n<p>See <a href=\"https://projectreactor.io/docs/kafka/release/reference/#_controlling_start_offsets_for_consuming_records\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<p>In the configuration mentioned in the question, the place for the configuration code is here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ReactiveKafkaConsumerTemplate&lt;UUID, MyEvent&gt; createConsumer(@Autowired KafkaProperties properties) {\n    return new ReactiveKafkaConsumerTemplate&lt;&gt;(\n        ReceiverOptions.&lt;UUID, MyEvent&gt;create(new HashMap&lt;&gt;(properties.buildConsumerProperties()))\n            //==================================================\n            .addAssignListener(partitions -&gt;\n                partitions.forEach(ReceiverPartition::seekToEnd))\n            //==================================================\n            .subscription(List.of(&quot;MY-TOPIC&quot;)));\n}\n</code></pre>\n"}],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76723835,"answer_count":1,"score":0,"last_activity_date":1690376585,"creation_date":1689786191,"question_id":76723657,"body_markdown":"We have a reactive Kafka consumer configured like this:\r\n``` lang-properties\r\nspring.kafka.consumer.group-id=MY-CONSUMER-GROUP\r\n```\r\n\r\n``` lang-java\r\n@Bean\r\npublic ReactiveKafkaConsumerTemplate&lt;UUID, MyEvent&gt; createConsumer(@Autowired KafkaProperties properties) {\r\n    return new ReactiveKafkaConsumerTemplate&lt;&gt;(\r\n        ReceiverOptions.&lt;UUID, MyEvent&gt;create(new HashMap&lt;&gt;(properties.buildConsumerProperties()))\r\n            .consumerProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;)\r\n            .subscription(List.of(&quot;MY-TOPIC&quot;)));\r\n}\r\n```\r\n\r\nThis ensures that **when the consumer is created the first time**, it doesn&#39;t read all the messages from the beginning, but reads only the new messages, see e.g. [here][1].\r\n\r\nWe&#39;d like to have this behaviour always, after each restart of the service. The messages are relevant for the service only if they are produced while the service is running.\r\n\r\nHowever, the documentation says:\r\n\r\n&gt; Once a consumer group has an offset written then this configuration parameter no longer applies. If the consumers in the consumer group are **stopped and then restarted**, they would pick up consuming **from the last offset**.\r\n\r\nHowever, when our service is down for a while, we want it to **skip** the messages which were produced into the topic in the meantime, we want it to read from the same consumer group, but also **from the end** only, not from the last offset.\r\n\r\nHow to achieve it?\r\n\r\nWe use the consumer like this:\r\n\r\n``` lang-java\r\n@EventListener(value = ApplicationReadyEvent.class)\r\npublic void listen() {\r\n    consumerTemplate\r\n        .receiveAutoAck()\r\n        .concatMap(consumerRecord -&gt; handleEvent(consumerRecord.key(), consumerRecord.value())\r\n            .onErrorResume(__ -&gt; Mono.empty())\r\n        )\r\n        .subscribe();\r\n}\r\n\r\nprivate Mono&lt;MyEvent&gt; handleEvent(@NonNull UUID key, @NonNull MyEvent event) {\r\n    ....\r\n}\r\n```\r\n\r\nI found a method with a promising name [`seekToEnd()`][2], but:\r\n 1. I am not sure if it does what I want :)\r\n 2. As it returns `void`, I have no clue how to use it in the reactive call chain.\r\n\r\n\r\n  [1]: https://www.lydtechconsulting.com/blog-kafka-auto-offset-reset.html\r\n  [2]: https://kafka.apache.org/35/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#seekToEnd(java.util.Collection)","title":"Make a service after restart to skip unread Kafka messages, but use the same consumer group as before","body":"<p>We have a reactive Kafka consumer configured like this:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>spring.kafka.consumer.group-id=MY-CONSUMER-GROUP\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ReactiveKafkaConsumerTemplate&lt;UUID, MyEvent&gt; createConsumer(@Autowired KafkaProperties properties) {\n    return new ReactiveKafkaConsumerTemplate&lt;&gt;(\n        ReceiverOptions.&lt;UUID, MyEvent&gt;create(new HashMap&lt;&gt;(properties.buildConsumerProperties()))\n            .consumerProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;)\n            .subscription(List.of(&quot;MY-TOPIC&quot;)));\n}\n</code></pre>\n<p>This ensures that <strong>when the consumer is created the first time</strong>, it doesn't read all the messages from the beginning, but reads only the new messages, see e.g. <a href=\"https://www.lydtechconsulting.com/blog-kafka-auto-offset-reset.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>We'd like to have this behaviour always, after each restart of the service. The messages are relevant for the service only if they are produced while the service is running.</p>\n<p>However, the documentation says:</p>\n<blockquote>\n<p>Once a consumer group has an offset written then this configuration parameter no longer applies. If the consumers in the consumer group are <strong>stopped and then restarted</strong>, they would pick up consuming <strong>from the last offset</strong>.</p>\n</blockquote>\n<p>However, when our service is down for a while, we want it to <strong>skip</strong> the messages which were produced into the topic in the meantime, we want it to read from the same consumer group, but also <strong>from the end</strong> only, not from the last offset.</p>\n<p>How to achieve it?</p>\n<p>We use the consumer like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventListener(value = ApplicationReadyEvent.class)\npublic void listen() {\n    consumerTemplate\n        .receiveAutoAck()\n        .concatMap(consumerRecord -&gt; handleEvent(consumerRecord.key(), consumerRecord.value())\n            .onErrorResume(__ -&gt; Mono.empty())\n        )\n        .subscribe();\n}\n\nprivate Mono&lt;MyEvent&gt; handleEvent(@NonNull UUID key, @NonNull MyEvent event) {\n    ....\n}\n</code></pre>\n<p>I found a method with a promising name <a href=\"https://kafka.apache.org/35/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#seekToEnd(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>seekToEnd()</code></a>, but:</p>\n<ol>\n<li>I am not sure if it does what I want :)</li>\n<li>As it returns <code>void</code>, I have no clue how to use it in the reactive call chain.</li>\n</ol>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1690376816,"post_id":76771577,"comment_id":135344817,"body_markdown":"Is `ExperimentVariable` used for anything else, or can you define the class and the way it works to tailor it specifically only for Registry and Kit?","body":"Is <code>ExperimentVariable</code> used for anything else, or can you define the class and the way it works to tailor it specifically only for Registry and Kit?"},{"owner":{"account_id":10422024,"reputation":579,"user_id":7684427,"accept_rate":60,"display_name":"Shrikant"},"score":0,"creation_date":1690377764,"post_id":76771577,"comment_id":135345021,"body_markdown":"Yes, it is used by many classes &amp; modules","body":"Yes, it is used by many classes &amp; modules"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1690391262,"post_id":76771577,"comment_id":135348234,"body_markdown":"You will have to modify the `ExperimentVariable` design significantly to make this possible.","body":"You will have to modify the <code>ExperimentVariable</code> design significantly to make this possible."},{"owner":{"account_id":27028764,"reputation":561,"user_id":20585541,"display_name":"Ben the Coder"},"score":0,"creation_date":1690391540,"post_id":76771577,"comment_id":135348296,"body_markdown":"@Shrikant What does this have to do with Java?","body":"@Shrikant What does this have to do with Java?"}],"owner":{"account_id":10422024,"reputation":579,"user_id":7684427,"accept_rate":60,"display_name":"Shrikant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690376244,"creation_date":1690376244,"question_id":76771577,"body_markdown":"I have below methods with takes certain arguments\r\n\r\n    interface Kit {\r\n        fun observe(experimentsVariable: ExperimentVariable): Observable&lt;String&gt;\r\n    \r\n        fun get(experimentsVariable: ExperimentVariable): String\r\n    }\r\n\r\nAlong with this I have defined a file which has some constants\r\n\r\n    object Registry {\r\n        val SOME_KEY = ExperimentVariable.Builder&lt;Boolean&gt;()\r\n            .setKey(&quot;some_key&quot;)\r\n            .setEnabled(true)\r\n            .setDefaultValue(false)\r\n            .setSource(&quot;remote&quot;)\r\n            .build()\r\n\r\n\r\n        val SOME_KEY_1 = ExperimentVariable.Builder&lt;String&gt;()\r\n            .setKey(&quot;some_key&quot;)\r\n            .setEnabled(true)\r\n            .setDefaultValue(&quot;some_string&quot;)\r\n            .setSource(&quot;remote&quot;)\r\n            .build()\r\n\r\n        .....\r\n    }\r\n\r\nHere the `build` function returns instance of `ExperimentVariable`.\r\n\r\nNow if some class tries to call `kit.observe(Registry.SOME_KEY)` this should be allowed. But if the call is like this `kit.observe(AnotherRegistry.Another_Key)`, it should result in compile-time error or warning.\r\n\r\nBasically I want to write my `observe` function such that it will only accept arguments of `Registry` type &amp; nothing else. \r\n\r\nHow can I achieve this behaviour?","title":"Allow function to accept certain type of argument?","body":"<p>I have below methods with takes certain arguments</p>\n<pre><code>interface Kit {\n    fun observe(experimentsVariable: ExperimentVariable): Observable&lt;String&gt;\n\n    fun get(experimentsVariable: ExperimentVariable): String\n}\n</code></pre>\n<p>Along with this I have defined a file which has some constants</p>\n<pre><code>object Registry {\n    val SOME_KEY = ExperimentVariable.Builder&lt;Boolean&gt;()\n        .setKey(&quot;some_key&quot;)\n        .setEnabled(true)\n        .setDefaultValue(false)\n        .setSource(&quot;remote&quot;)\n        .build()\n\n\n    val SOME_KEY_1 = ExperimentVariable.Builder&lt;String&gt;()\n        .setKey(&quot;some_key&quot;)\n        .setEnabled(true)\n        .setDefaultValue(&quot;some_string&quot;)\n        .setSource(&quot;remote&quot;)\n        .build()\n\n    .....\n}\n</code></pre>\n<p>Here the <code>build</code> function returns instance of <code>ExperimentVariable</code>.</p>\n<p>Now if some class tries to call <code>kit.observe(Registry.SOME_KEY)</code> this should be allowed. But if the call is like this <code>kit.observe(AnotherRegistry.Another_Key)</code>, it should result in compile-time error or warning.</p>\n<p>Basically I want to write my <code>observe</code> function such that it will only accept arguments of <code>Registry</code> type &amp; nothing else.</p>\n<p>How can I achieve this behaviour?</p>\n"},{"tags":["java","tomcat","applet","document-management"],"comments":[{"owner":{"account_id":12402093,"reputation":19,"user_id":9038848,"display_name":"user9038848"},"score":0,"creation_date":1673350229,"post_id":74518945,"comment_id":132474039,"body_markdown":"I saw the jason-johnston answer here https://stackoverflow.com/a/31749818/9038848  Can anyone say if this does the job?","body":"I saw the jason-johnston answer here <a href=\"https://stackoverflow.com/a/31749818/9038848\">stackoverflow.com/a/31749818/9038848</a>  Can anyone say if this does the job?"},{"owner":{"account_id":12402093,"reputation":19,"user_id":9038848,"display_name":"user9038848"},"score":0,"creation_date":1679915441,"post_id":74518945,"comment_id":133800605,"body_markdown":"I saw the Reza Ahmadi answer here https://stackoverflow.com/questions/30479338/alternatives-to-java-applet-to-launch-microsoft-office-applications I will try this approach for now","body":"I saw the Reza Ahmadi answer here <a href=\"https://stackoverflow.com/questions/30479338/alternatives-to-java-applet-to-launch-microsoft-office-applications\" title=\"alternatives to java applet to launch microsoft office applications\">stackoverflow.com/questions/30479338/&hellip;</a> I will try this approach for now"}],"owner":{"account_id":12402093,"reputation":19,"user_id":9038848,"display_name":"user9038848"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690376130,"creation_date":1669033757,"question_id":74518945,"body_markdown":"The company I work for, provides a Java webapplication deployed on Tomcat for public office processes automation. \r\n\r\nFor a faster and user-friendly file modification of attachments loaded into the application, the system I describe is used.\r\n\r\nThe user of the application clicks on a button to open the attachment whose description he reads on the webapp. A codesigned Java applet downloaded via jnlp, downloads the selected blob file (eg myfile.doc). A completion progress bar is showed until the download process is ended. The local path is saved fot the later upload.\r\n\r\nTo open the file automatically, the Operating System uses the MIME-TYPE related software on the client (eg MS Word for myfile.doc). When the user ends file modifications, the application uploads it again from saved local path to the same db record using an upload servlet triggered by a click on a button. A completion progress bar is showed until the upload process is ended. \r\n\r\nThis system avoids users to go through the related boring manual operations. Unfortunately, now it only works correctly in old browser MS Explorer. \r\n\r\nI&#39;m looking for a modern cross-platform solution.\r\nI&#39;m evaluating to substitute the applet with a client side little application to do the job. \r\nDo you have any suggestions?","title":"Automating download and upload documents from a java webapplication","body":"<p>The company I work for, provides a Java webapplication deployed on Tomcat for public office processes automation.</p>\n<p>For a faster and user-friendly file modification of attachments loaded into the application, the system I describe is used.</p>\n<p>The user of the application clicks on a button to open the attachment whose description he reads on the webapp. A codesigned Java applet downloaded via jnlp, downloads the selected blob file (eg myfile.doc). A completion progress bar is showed until the download process is ended. The local path is saved fot the later upload.</p>\n<p>To open the file automatically, the Operating System uses the MIME-TYPE related software on the client (eg MS Word for myfile.doc). When the user ends file modifications, the application uploads it again from saved local path to the same db record using an upload servlet triggered by a click on a button. A completion progress bar is showed until the upload process is ended.</p>\n<p>This system avoids users to go through the related boring manual operations. Unfortunately, now it only works correctly in old browser MS Explorer.</p>\n<p>I'm looking for a modern cross-platform solution.\nI'm evaluating to substitute the applet with a client side little application to do the job.\nDo you have any suggestions?</p>\n"},{"tags":["java","android","android-drawable"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1390279899,"post_id":21249411,"comment_id":32011743,"body_markdown":"where is your runtime code - show us what you have tried.","body":"where is your runtime code - show us what you have tried."},{"owner":{"account_id":2525345,"reputation":689,"user_id":2194831,"display_name":"Krrishnaaaa"},"score":0,"creation_date":1390279956,"post_id":21249411,"comment_id":32011760,"body_markdown":"Similar question has been answered here http://stackoverflow.com/questions/5940825/android-change-shape-color-in-runtime","body":"Similar question has been answered here <a href=\"http://stackoverflow.com/questions/5940825/android-change-shape-color-in-runtime\" title=\"android change shape color in runtime\">stackoverflow.com/questions/5940825/&hellip;</a>"},{"owner":{"account_id":3056199,"reputation":3841,"user_id":2589738,"accept_rate":80,"display_name":"Samantha Withanage"},"score":0,"creation_date":1390281205,"post_id":21249411,"comment_id":32012177,"body_markdown":"@ user2310289 I just edited background color of the cell. In this case a text view was in the cell.","body":"@ user2310289 I just edited background color of the cell. In this case a text view was in the cell."}],"answers":[{"comments":[{"owner":{"account_id":3056199,"reputation":3841,"user_id":2589738,"accept_rate":80,"display_name":"Samantha Withanage"},"score":0,"creation_date":1390285604,"post_id":21249451,"comment_id":32013895,"body_markdown":"this is fine. But got some problem. I edited the CommonUtilities.stroke as &quot;5&quot;. and sets the releven color for CommonUtilities.color. But it gives only the borders. Other part is empty. can you help me to fix this. Thank you!!!","body":"this is fine. But got some problem. I edited the CommonUtilities.stroke as &quot;5&quot;. and sets the releven color for CommonUtilities.color. But it gives only the borders. Other part is empty. can you help me to fix this. Thank you!!!"},{"owner":{"account_id":3056199,"reputation":3841,"user_id":2589738,"accept_rate":80,"display_name":"Samantha Withanage"},"score":0,"creation_date":1390295407,"post_id":21249451,"comment_id":32018550,"body_markdown":"I fix it. I used a LinearLayout and add the textView into it. Set the background color for LinearLayout and set the drawable to textView. Thanks a lot!!!!!","body":"I fix it. I used a LinearLayout and add the textView into it. Set the background color for LinearLayout and set the drawable to textView. Thanks a lot!!!!!"},{"owner":{"account_id":1345966,"reputation":34645,"user_id":1286723,"accept_rate":60,"display_name":"Shankar Agarwal"},"score":0,"creation_date":1411800421,"post_id":21249451,"comment_id":40849833,"body_markdown":"sd1.getPaint().setStyle(Style.STROKE); replace with sd1.getPaint().setStyle(Style.FILL_AND_STROKE);","body":"sd1.getPaint().setStyle(Style.STROKE); replace with sd1.getPaint().setStyle(Style.FILL_AND_STROKE);"}],"tags":[],"owner":{"account_id":2010922,"reputation":6503,"user_id":1799355,"display_name":"Digvesh Patel"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1390280000,"creation_date":1390280000,"answer_id":21249451,"question_id":21249411,"body_markdown":"    ShapeDrawable sd1 = new ShapeDrawable(new RectShape());\r\n    \t\t\t\t\t\tsd1.getPaint().setColor(CommonUtilities.color);\r\n    \t\t\t\t\t\tsd1.getPaint().setStyle(Style.STROKE);\r\n    \t\t\t\t\t\tsd1.getPaint().setStrokeWidth(CommonUtilities.stroke);\r\n    \t\t\t\t\t\tsd1.setPadding(15, 10, 15, 10);\r\n    \r\n    \t\t\t\t\t\tsd1.getPaint().setPathEffect(\r\n    \t\t\t\t\t\t\t\tnew CornerPathEffect(CommonUtilities.corner));\r\n    \t\t\t\t\t\tln_back.setBackgroundDrawable(sd1);","title":"Android - Change drawable color in runtime","body":"<pre><code>ShapeDrawable sd1 = new ShapeDrawable(new RectShape());\n                        sd1.getPaint().setColor(CommonUtilities.color);\n                        sd1.getPaint().setStyle(Style.STROKE);\n                        sd1.getPaint().setStrokeWidth(CommonUtilities.stroke);\n                        sd1.setPadding(15, 10, 15, 10);\n\n                        sd1.getPaint().setPathEffect(\n                                new CornerPathEffect(CommonUtilities.corner));\n                        ln_back.setBackgroundDrawable(sd1);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3056199,"reputation":3841,"user_id":2589738,"accept_rate":80,"display_name":"Samantha Withanage"},"score":0,"creation_date":1390284816,"post_id":21249463,"comment_id":32013533,"body_markdown":"no no. I mean another thing. There are a number of states that the cell can represent and on click I can change the state. So I need to change the color on that state. any idea... Thank you!!","body":"no no. I mean another thing. There are a number of states that the cell can represent and on click I can change the state. So I need to change the color on that state. any idea... Thank you!!"}],"tags":[],"owner":{"account_id":1186131,"reputation":6203,"user_id":1160045,"accept_rate":0,"display_name":"Md Abdul Gafur"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390280048,"creation_date":1390280048,"answer_id":21249463,"question_id":21249411,"body_markdown":"Use `selector` of the Table Cell background to change state of the table cell when user click it. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n        \r\n        &lt;!-- selected --&gt;\r\n        &lt;item android:drawable=&quot;@drawable/red_drawable&quot; android:state_selected=&quot;true&quot;/&gt;\r\n        &lt;!-- focused --&gt;\r\n        &lt;item android:drawable=&quot;@drawable/gray_drawable&quot;/&gt;\r\n        &lt;!-- default --&gt;\r\n    \r\n    &lt;/selector&gt; ","title":"Android - Change drawable color in runtime","body":"<p>Use <code>selector</code> of the Table Cell background to change state of the table cell when user click it. </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n\n    &lt;!-- selected --&gt;\n    &lt;item android:drawable=\"@drawable/red_drawable\" android:state_selected=\"true\"/&gt;\n    &lt;!-- focused --&gt;\n    &lt;item android:drawable=\"@drawable/gray_drawable\"/&gt;\n    &lt;!-- default --&gt;\n\n&lt;/selector&gt; \n</code></pre>\n"}],"owner":{"account_id":3056199,"reputation":3841,"user_id":2589738,"accept_rate":80,"display_name":"Samantha Withanage"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1624,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":21249451,"answer_count":2,"score":0,"last_activity_date":1690375501,"creation_date":1390279779,"question_id":21249411,"body_markdown":"I&#39;&#39;m using a **drawable** for the cells in my **table layout** in my Android application. I want to change the cell colors on click event. Is it possible to change the color of the drawable in run time. my drawable is,\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;shape\r\n      xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:shape= &quot;rectangle&quot;  &gt;\r\n            &lt;solid android:color=&quot;#FFFFFF&quot;/&gt;\r\n            &lt;stroke android:width=&quot;1dp&quot;  android:color=&quot;#483D8B&quot;/&gt;\r\n    &lt;/shape&gt;\r\n\r\nAnd I want to change the white color &quot;#FFFFFF&quot; with the click event. Can Java edit the color in the XML drawable file? I just edited the background color and it dispersers the borders of the drawable.\r\n\r\n    String StatusColor=GetColor(Retailer_x.getStatus());\r\n    Stts.setBackgroundColor(Color.parseColor(StatusColor));\r\n","title":"Android - Change drawable color in runtime","body":"<p>I''m using a <strong>drawable</strong> for the cells in my <strong>table layout</strong> in my Android application. I want to change the cell colors on click event. Is it possible to change the color of the drawable in run time. my drawable is,</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape\n  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape= &quot;rectangle&quot;  &gt;\n        &lt;solid android:color=&quot;#FFFFFF&quot;/&gt;\n        &lt;stroke android:width=&quot;1dp&quot;  android:color=&quot;#483D8B&quot;/&gt;\n&lt;/shape&gt;\n</code></pre>\n<p>And I want to change the white color &quot;#FFFFFF&quot; with the click event. Can Java edit the color in the XML drawable file? I just edited the background color and it dispersers the borders of the drawable.</p>\n<pre><code>String StatusColor=GetColor(Retailer_x.getStatus());\nStts.setBackgroundColor(Color.parseColor(StatusColor));\n</code></pre>\n"},{"tags":["java","android","windows","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690375399,"creation_date":1690375399,"answer_id":76771455,"question_id":76768576,"body_markdown":"You can move the folders and create a soft-link at the old position in file-system that points to the new directory. The only requirement is that C: and D: do use NTFS file-system. \r\n\r\n1. Make sure there are no Java gradle daemon process running (this could prevent you from moving the `.gradle` folder. Or you simple reboot Windows. \r\n\r\n2. Move the complete directory to the new location, e.g. `.gradle` to `D:\\Android\\.gradle`.\r\n\r\n3. Execute `mklink /D D:\\Android\\.gradle C:\\Users\\%username%\\.gradle`\r\n\r\nAfterwards you should see a `.gradle` folder in your user home directory that shows the content of the folder located on the D: drive.\r\n\r\nIf your have a fast and not volume limited internet connection you can simply delete `.gradle` folder in step 2 instead of moving it. Then create an empty `.gradle` folder on D: drive. Next time you compile an Android Studio project gradle will automatically download everything that is required.\r\n","title":"Move .android and .gradle file from folder C: to folder D:","body":"<p>You can move the folders and create a soft-link at the old position in file-system that points to the new directory. The only requirement is that C: and D: do use NTFS file-system.</p>\n<ol>\n<li><p>Make sure there are no Java gradle daemon process running (this could prevent you from moving the <code>.gradle</code> folder. Or you simple reboot Windows.</p>\n</li>\n<li><p>Move the complete directory to the new location, e.g. <code>.gradle</code> to <code>D:\\Android\\.gradle</code>.</p>\n</li>\n<li><p>Execute <code>mklink /D D:\\Android\\.gradle C:\\Users\\%username%\\.gradle</code></p>\n</li>\n</ol>\n<p>Afterwards you should see a <code>.gradle</code> folder in your user home directory that shows the content of the folder located on the D: drive.</p>\n<p>If your have a fast and not volume limited internet connection you can simply delete <code>.gradle</code> folder in step 2 instead of moving it. Then create an empty <code>.gradle</code> folder on D: drive. Next time you compile an Android Studio project gradle will automatically download everything that is required.</p>\n"}],"owner":{"account_id":29092797,"reputation":11,"user_id":22286250,"display_name":"M Akmal Fathurrahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690375399,"creation_date":1690353125,"question_id":76768576,"body_markdown":"Is there any way to move .android and .gradle folder from folder C: to folder D:? Both file takes a lot of memory in folder C:\r\n\r\nIf there is a safe way to move it, I hope you can answer my question. Thank you!!!\r\n\r\nI already try to move Android/Sdk folder from folder C: to folder D: and it&#39;s safe. I can use my Android Studio as usual. But, in this case, I want to know is there any way to move .android and .gradle folder? Because it really takes a lot memory on my laptop","title":"Move .android and .gradle file from folder C: to folder D:","body":"<p>Is there any way to move .android and .gradle folder from folder C: to folder D:? Both file takes a lot of memory in folder C:</p>\n<p>If there is a safe way to move it, I hope you can answer my question. Thank you!!!</p>\n<p>I already try to move Android/Sdk folder from folder C: to folder D: and it's safe. I can use my Android Studio as usual. But, in this case, I want to know is there any way to move .android and .gradle folder? Because it really takes a lot memory on my laptop</p>\n"},{"tags":["java","spring-boot","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":22070829,"reputation":49,"user_id":16331833,"display_name":"sonnv0812"},"score":0,"creation_date":1690427434,"post_id":76771404,"comment_id":135353306,"body_markdown":"I know if i use a process that repeats for a period of time, reading data from the DB and alerting the user it can be solved, but it doesn&#39;t seem to be optimal","body":"I know if i use a process that repeats for a period of time, reading data from the DB and alerting the user it can be solved, but it doesn&#39;t seem to be optimal"},{"owner":{"account_id":9772576,"reputation":77,"user_id":7374236,"display_name":"Lilia"},"score":0,"creation_date":1691141229,"post_id":76771404,"comment_id":135454658,"body_markdown":"https://www.jobrunr.io/en/ - try to check this thing","body":"<a href=\"https://www.jobrunr.io/en/\" rel=\"nofollow noreferrer\">jobrunr.io/en</a> - try to check this thing"}],"tags":[],"owner":{"account_id":9772576,"reputation":77,"user_id":7374236,"display_name":"Lilia"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690375029,"creation_date":1690375029,"answer_id":76771404,"question_id":76770841,"body_markdown":"Is a cron task does not fit your requirement? If so, why? Like run it every 5 minutes and get a list of records that should be sent? \r\n\r\nThe other solution may be remember deadline_time in memory after saving, sort them by deadline_time in queue and work with the ordered queue?","title":"Solution for alerting users from time to time","body":"<p>Is a cron task does not fit your requirement? If so, why? Like run it every 5 minutes and get a list of records that should be sent?</p>\n<p>The other solution may be remember deadline_time in memory after saving, sort them by deadline_time in queue and work with the ordered queue?</p>\n"}],"owner":{"account_id":22070829,"reputation":49,"user_id":16331833,"display_name":"sonnv0812"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690375029,"creation_date":1690371288,"question_id":76770841,"body_markdown":"I would like to ask for **information**, **documentation**, **method**, or **solution** for a case as follows:\r\n\r\n1 table A, there is a lot of data. A record in table A has 2 fields: *created_time* (record creation time) and *deadline_time* (record processing time).\r\n\r\n**How can I send a notification to the user, when the other record&#39;s due date is nearing, or processing is overdue?**\r\n\r\nThe system I have is using kafka to handle event-based messages, and send them to the user. But in the other case of static data, no other events are generated.\r\n\r\nI was thinking of a solution that would be to use a continuous scan and send kafka if a message is near critical or out of date. But that doesn&#39;t seem very good, because to ensure load balance, I use many processes on many modules running at the same time, which will conflict with each other. Is there another solution to this problem?\r\n\r\nThanks so much for the help","title":"Solution for alerting users from time to time","body":"<p>I would like to ask for <strong>information</strong>, <strong>documentation</strong>, <strong>method</strong>, or <strong>solution</strong> for a case as follows:</p>\n<p>1 table A, there is a lot of data. A record in table A has 2 fields: <em>created_time</em> (record creation time) and <em>deadline_time</em> (record processing time).</p>\n<p><strong>How can I send a notification to the user, when the other record's due date is nearing, or processing is overdue?</strong></p>\n<p>The system I have is using kafka to handle event-based messages, and send them to the user. But in the other case of static data, no other events are generated.</p>\n<p>I was thinking of a solution that would be to use a continuous scan and send kafka if a message is near critical or out of date. But that doesn't seem very good, because to ensure load balance, I use many processes on many modules running at the same time, which will conflict with each other. Is there another solution to this problem?</p>\n<p>Thanks so much for the help</p>\n"},{"tags":["java","spring-boot","docker","kubernetes","eclipse-temurin"],"owner":{"account_id":231589,"reputation":6295,"user_id":495906,"accept_rate":73,"display_name":"anujprashar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690374974,"creation_date":1690374974,"question_id":76771390,"body_markdown":"I updated container base image from `openjdk:8-jdk-alpine` to `eclipse-temurin:8-jdk` in Dockerfile. No other change is done. When I created pods using updated Docker file. I am getting below error:\r\n\r\n    ]org.springframework.boot.SpringApplication:  Application run failed \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name \r\n    &#39;MyClassService&#39;: Injection of autowired dependencies failed; nested exception is \r\n    java.lang.IllegalArgumentException: Could not resolve placeholder \r\n\r\nFrom above error it is clear that application not able to find autowired properties. I have defined those properties in pods yaml file and it is working fine with openjdk image.\r\n\r\nWhy after updating to `eclipse-temurin:8-jdk` I am getting this error.\r\n","title":"Spring boot - Getting error after updating base image for java","body":"<p>I updated container base image from <code>openjdk:8-jdk-alpine</code> to <code>eclipse-temurin:8-jdk</code> in Dockerfile. No other change is done. When I created pods using updated Docker file. I am getting below error:</p>\n<pre><code>]org.springframework.boot.SpringApplication:  Application run failed \norg.springframework.beans.factory.BeanCreationException: Error creating bean with name \n'MyClassService': Injection of autowired dependencies failed; nested exception is \njava.lang.IllegalArgumentException: Could not resolve placeholder \n</code></pre>\n<p>From above error it is clear that application not able to find autowired properties. I have defined those properties in pods yaml file and it is working fine with openjdk image.</p>\n<p>Why after updating to <code>eclipse-temurin:8-jdk</code> I am getting this error.</p>\n"},{"tags":["java","mapstruct","aws-sdk-java-2.0"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638985916,"creation_date":1638985916,"answer_id":70279563,"question_id":70275381,"body_markdown":"MapStruct provides a way to define whether a certain method is a getter or a setter through its `AccessorNamingStrategy`.\r\n\r\nIn theory you can write a custom `AccessorNamingStrategy` that would be able to detect the methods from the AWS SDK Java 2 as getters. Keep in mind that plainly returning every method with a return type and no parameters as a getter might lead to false positives.\r\n\r\nIdeally the methods should be annotated by AWS SDK and you can then use that to detect if a method is a getter or not. The SDK currently does not do this. You could request this, but I am not sure whether the AWS team will be willing to do such a thing. ","title":"MapStruct with AWS SDk V2 Builder","body":"<p>MapStruct provides a way to define whether a certain method is a getter or a setter through its <code>AccessorNamingStrategy</code>.</p>\n<p>In theory you can write a custom <code>AccessorNamingStrategy</code> that would be able to detect the methods from the AWS SDK Java 2 as getters. Keep in mind that plainly returning every method with a return type and no parameters as a getter might lead to false positives.</p>\n<p>Ideally the methods should be annotated by AWS SDK and you can then use that to detect if a method is a getter or not. The SDK currently does not do this. You could request this, but I am not sure whether the AWS team will be willing to do such a thing.</p>\n"},{"tags":[],"owner":{"account_id":7125787,"reputation":771,"user_id":5448746,"display_name":"OndÅ™ej StaÅ¡ek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690374961,"creation_date":1690296439,"answer_id":76763880,"question_id":70275381,"body_markdown":"This naming strategy is working for me for AWS ADK v2 ver 2.20.103:\r\n\r\n```java\r\n    public class AwsSdkAccessorNamingStrategy extends DefaultAccessorNamingStrategy {\r\n    \r\n        private final Set&lt;String&gt; NOT_GETTER = Set.of(&quot;toString&quot;, &quot;hashCode&quot;, &quot;sdkFields&quot;, &quot;builder&quot;, &quot;toBuilder&quot;, &quot;serializableBuilderClass&quot;);\r\n    \r\n        @Override\r\n        public boolean isGetterMethod(ExecutableElement method) {\r\n            if (isAwsPackage(method)) {\r\n                String name = method.getSimpleName().toString();\r\n                return method.getParameters().isEmpty() &amp;&amp; !name.startsWith(&quot;has&quot;) &amp;&amp; !NOT_GETTER.contains(name);\r\n            }\r\n            return super.isGetterMethod(method);\r\n        }\r\n    \r\n        @Override\r\n        public String getPropertyName(ExecutableElement method) {\r\n            return isAwsPackage(method) ? method.getSimpleName().toString() : super.getPropertyName(method);\r\n        }\r\n    \r\n        private boolean isAwsPackage(ExecutableElement method) {\r\n            return elementUtils.getPackageOf(method).getQualifiedName().toString().startsWith(&quot;software.amazon.awssdk&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nHow to actually use naming strategy for MapStruct see [MapStruct reference][1] and example at [mapstruct-examples][2]\r\n\r\nIt looks what is the actual class package so it won&#39;t break your existing mappers and if class from AWS SDK is found, use any method that does not have parameters, does not start with &#39;has&#39; and is not one of non-getter methods. Feel free to improve on this.\r\n\r\n**Edit:** this works for mapping AWS SDK v2 classes as source. For mapping those classes as target, you just add new builder naming strategy class.\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#_custom_accessor_naming_strategy\r\n  [2]: https://github.com/mapstruct/mapstruct-examples/blob/main/mapstruct-spi-accessor-naming/spi-impl/pom.xml","title":"MapStruct with AWS SDk V2 Builder","body":"<p>This naming strategy is working for me for AWS ADK v2 ver 2.20.103:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class AwsSdkAccessorNamingStrategy extends DefaultAccessorNamingStrategy {\n    \n        private final Set&lt;String&gt; NOT_GETTER = Set.of(&quot;toString&quot;, &quot;hashCode&quot;, &quot;sdkFields&quot;, &quot;builder&quot;, &quot;toBuilder&quot;, &quot;serializableBuilderClass&quot;);\n    \n        @Override\n        public boolean isGetterMethod(ExecutableElement method) {\n            if (isAwsPackage(method)) {\n                String name = method.getSimpleName().toString();\n                return method.getParameters().isEmpty() &amp;&amp; !name.startsWith(&quot;has&quot;) &amp;&amp; !NOT_GETTER.contains(name);\n            }\n            return super.isGetterMethod(method);\n        }\n    \n        @Override\n        public String getPropertyName(ExecutableElement method) {\n            return isAwsPackage(method) ? method.getSimpleName().toString() : super.getPropertyName(method);\n        }\n    \n        private boolean isAwsPackage(ExecutableElement method) {\n            return elementUtils.getPackageOf(method).getQualifiedName().toString().startsWith(&quot;software.amazon.awssdk&quot;);\n        }\n    }\n</code></pre>\n<p>How to actually use naming strategy for MapStruct see <a href=\"https://mapstruct.org/documentation/stable/reference/html/#_custom_accessor_naming_strategy\" rel=\"nofollow noreferrer\">MapStruct reference</a> and example at <a href=\"https://github.com/mapstruct/mapstruct-examples/blob/main/mapstruct-spi-accessor-naming/spi-impl/pom.xml\" rel=\"nofollow noreferrer\">mapstruct-examples</a></p>\n<p>It looks what is the actual class package so it won't break your existing mappers and if class from AWS SDK is found, use any method that does not have parameters, does not start with 'has' and is not one of non-getter methods. Feel free to improve on this.</p>\n<p><strong>Edit:</strong> this works for mapping AWS SDK v2 classes as source. For mapping those classes as target, you just add new builder naming strategy class.</p>\n"}],"owner":{"account_id":315157,"reputation":787,"user_id":630769,"accept_rate":64,"display_name":"asvignesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76763880,"answer_count":2,"score":1,"last_activity_date":1690374961,"creation_date":1638968188,"question_id":70275381,"body_markdown":"For internal mapping, I created the POJO / DTO for the AWS SDK Models V2\r\n\r\nTo map the variables I am using the MapStruct using the Mapper annotation but the Implementation generated during the annotation processing is not using any getters, but the setter with the builder is added properly but with null \r\n\r\n\r\n    @Mapper\r\n    public interface Ec2Mapper {\r\n    LaunchTemplateBlockDeviceMappingModel mapLaunchTemplateBlockDeviceMappingModel(\r\n          LaunchTemplateBlockDeviceMapping launchTemplateBlockDeviceMapping);\r\n    }\r\n\r\n\r\n    @Generated(\r\n        value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n        date = &quot;2021-12-08T15:58:00+0530&quot;,\r\n        comments = &quot;version: 1.4.2.Final, compiler: IncrementalProcessingEnvironment from gradle-language-java-6.4.1.jar, environment: Java 1.8.0_292 (AdoptOpenJDK)&quot;\r\n    )\r\n    public class Ec2MapperImpl implements Ec2Mapper {\r\n    \r\n        @Override\r\n        public LaunchTemplateBlockDeviceMappingModel mapLaunchTemplateBlockDeviceMappingModel(LaunchTemplateBlockDeviceMapping launchTemplateBlockDeviceMapping) {\r\n            if ( launchTemplateBlockDeviceMapping == null ) {\r\n                return null;\r\n            }\r\n    \r\n            String deviceName = null;\r\n            String virtualName = null;\r\n            LaunchTemplateEbsBlockDeviceModel ebs = null;\r\n            String noDevice = null;\r\n    \r\n            LaunchTemplateBlockDeviceMappingModel launchTemplateBlockDeviceMappingModel = new LaunchTemplateBlockDeviceMappingModel( deviceName, virtualName, ebs, noDevice );\r\n    \r\n            return launchTemplateBlockDeviceMappingModel;\r\n        }\r\n    }\r\n\r\n\r\nAWS SDK V2 Models don&#39;t have getters with the prefix get, it directly the name of the variable, how to configure the map struct for this scenario.\r\n","title":"MapStruct with AWS SDk V2 Builder","body":"<p>For internal mapping, I created the POJO / DTO for the AWS SDK Models V2</p>\n<p>To map the variables I am using the MapStruct using the Mapper annotation but the Implementation generated during the annotation processing is not using any getters, but the setter with the builder is added properly but with null</p>\n<pre><code>@Mapper\npublic interface Ec2Mapper {\nLaunchTemplateBlockDeviceMappingModel mapLaunchTemplateBlockDeviceMappingModel(\n      LaunchTemplateBlockDeviceMapping launchTemplateBlockDeviceMapping);\n}\n\n\n@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2021-12-08T15:58:00+0530&quot;,\n    comments = &quot;version: 1.4.2.Final, compiler: IncrementalProcessingEnvironment from gradle-language-java-6.4.1.jar, environment: Java 1.8.0_292 (AdoptOpenJDK)&quot;\n)\npublic class Ec2MapperImpl implements Ec2Mapper {\n\n    @Override\n    public LaunchTemplateBlockDeviceMappingModel mapLaunchTemplateBlockDeviceMappingModel(LaunchTemplateBlockDeviceMapping launchTemplateBlockDeviceMapping) {\n        if ( launchTemplateBlockDeviceMapping == null ) {\n            return null;\n        }\n\n        String deviceName = null;\n        String virtualName = null;\n        LaunchTemplateEbsBlockDeviceModel ebs = null;\n        String noDevice = null;\n\n        LaunchTemplateBlockDeviceMappingModel launchTemplateBlockDeviceMappingModel = new LaunchTemplateBlockDeviceMappingModel( deviceName, virtualName, ebs, noDevice );\n\n        return launchTemplateBlockDeviceMappingModel;\n    }\n}\n</code></pre>\n<p>AWS SDK V2 Models don't have getters with the prefix get, it directly the name of the variable, how to configure the map struct for this scenario.</p>\n"},{"tags":["java","json","spring-boot","jackson","aws-sdk"],"answers":[{"comments":[{"owner":{"account_id":358715,"reputation":1714,"user_id":699665,"display_name":"MarkHu"},"score":0,"creation_date":1641951859,"post_id":56655655,"comment_id":124941009,"body_markdown":"Can someone expand on this? Which one is easiest/recommended? Are there any examples?","body":"Can someone expand on this? Which one is easiest/recommended? Are there any examples?"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"MichaÅ‚ Ziober"},"score":0,"creation_date":1642083072,"post_id":56655655,"comment_id":124981457,"body_markdown":"@MarkHu, it depends from your case. Create a new question, link to this one, and show your code. easiest/recommended depends from the given usecase.","body":"@MarkHu, it depends from your case. Create a new question, link to this one, and show your code. easiest/recommended depends from the given usecase."},{"owner":{"account_id":18730483,"reputation":191,"user_id":13655996,"display_name":"xaiweiyi"},"score":1,"creation_date":1687148962,"post_id":56655655,"comment_id":134891045,"body_markdown":"@MarkHu call its `toBuilder()` method, and it returns a `BuilderImpl` ,which dose have standard getter/setter methods,and can be  serialized properly by jackson-json\n@see this post https://stackoverflow.com/a/76503602/13655996","body":"@MarkHu call its <code>toBuilder()</code> method, and it returns a <code>BuilderImpl</code> ,which dose have standard getter/setter methods,and can be  serialized properly by jackson-json @see this post <a href=\"https://stackoverflow.com/a/76503602/13655996\">stackoverflow.com/a/76503602/13655996</a>"}],"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"MichaÅ‚ Ziober"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1560885323,"creation_date":1560885323,"answer_id":56655655,"question_id":56653978,"body_markdown":"Problem is with [Bucket][1] class. `Jackson` by default treats all provided objects like `POJO`-s. Each `POJO` should have list of `getters`/`setters`. In case, class does not have them object is treated as empty. If you want to serialise classes like this you can:\r\n\r\n 1. Create extra `POJO` class with `getters` and map it from raw `AWS`\r\n    class to this `POJO`.\r\n 2. Implement and register serialiser for this class.\r\n 3. Convert `AWS` model to `Map`-s and `List`-s manually and serialise them.\r\n\r\nSee also:\r\n\r\n - [How to return N1qlQueryResult as the response of REST API for Couchbase databse?][2]\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/Bucket.html\r\n  [2]: https://stackoverflow.com/questions/55179768/how-to-return-n1qlqueryresult-as-the-response-of-rest-api-for-couchbase-databse","title":"No serializer found for class in custom Java AWS application","body":"<p>Problem is with <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/Bucket.html\" rel=\"nofollow noreferrer\">Bucket</a> class. <code>Jackson</code> by default treats all provided objects like <code>POJO</code>-s. Each <code>POJO</code> should have list of <code>getters</code>/<code>setters</code>. In case, class does not have them object is treated as empty. If you want to serialise classes like this you can:</p>\n\n<ol>\n<li>Create extra <code>POJO</code> class with <code>getters</code> and map it from raw <code>AWS</code>\nclass to this <code>POJO</code>.</li>\n<li>Implement and register serialiser for this class.</li>\n<li>Convert <code>AWS</code> model to <code>Map</code>-s and <code>List</code>-s manually and serialise them.</li>\n</ol>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/55179768/how-to-return-n1qlqueryresult-as-the-response-of-rest-api-for-couchbase-databse\">How to return N1qlQueryResult as the response of REST API for Couchbase databse?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14179237,"reputation":164,"user_id":10243472,"display_name":"WiscoRadio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560890310,"creation_date":1560890310,"answer_id":56656716,"question_id":56653978,"body_markdown":"In addition to the accepted answer above, another method of solving this problem is to extract the parts of the list and insert them as their separated, respective lists into the prebuilt POJO. \r\n\r\nIn this example, I took the ```name()``` and ```creationDate()``` functions and put them in their own list in the S3 Class. This allows Jackson to read the S3 Class and get the required information without having to build an extra POJO for the ```Bucket``` class. Not entirely sure which way is actually cleaner or more effective but this also worked for what I was doing.\r\n\r\n**S3 Construction Class**\r\n\r\n```\r\n@Component\r\npublic class S3 {\r\n    private ArrayList&lt;String&gt; bucketList;\r\n    private ArrayList&lt;Instant&gt; bucketCreationDate;\r\n\r\n    public ArrayList&lt;Instant&gt; getBucketCreationDate() {\r\n        return bucketCreationDate;\r\n    }\r\n\r\n    public void setBucketCreationDate(ArrayList&lt;Instant&gt; bucketCreationDate) {\r\n        this.bucketCreationDate = bucketCreationDate;\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getBucketList() {\r\n        return bucketList;\r\n    }\r\n\r\n    public void setBucketList(ArrayList&lt;String&gt; bucketList) {\r\n        this.bucketList = bucketList;\r\n    }\r\n}\r\n```\r\n\r\n**Access Class**\r\n\r\n```\r\n@Repository\r\npublic class S3Access implements S3Repository {\r\n\r\n    @Autowired\r\n    private S3 s3Instance;\r\n\r\n    private Region region = Region.US_EAST_1;\r\n    private S3Client s3Client = S3Client.builder().region(region).build();\r\n    private ArrayList &lt;String&gt; bucketNameList = new ArrayList&lt;&gt;();\r\n    private ArrayList &lt;Instant&gt; bucketCreationDate = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public S3 listBucket() {\r\n        ListBucketsRequest listBucketsRequest = ListBucketsRequest.builder().build();\r\n        ListBucketsResponse listBucketsResponse = s3Client.listBuckets(listBucketsRequest);\r\n\r\n        // Adding Bucket Names to Array List\r\n        for (int i = 0; i &lt; listBucketsResponse.buckets().size() ; i++) {\r\n            bucketNameList.add(listBucketsResponse.buckets().get(i).name());\r\n        }\r\n\r\n        // Adding Bucket Creation Dates to Array List\r\n        for (int i = 0; i &lt; listBucketsResponse.buckets().size() ; i++) {\r\n            bucketCreationDate.add(listBucketsResponse.buckets().get(i).creationDate());\r\n        }\r\n\r\n        // Setting the lists in the S3 Class\r\n        s3Instance.setBucketCreationDate(bucketCreationDate);\r\n        s3Instance.setBucketList(bucketNameList);\r\n\r\n        return s3Instance;\r\n\r\n","title":"No serializer found for class in custom Java AWS application","body":"<p>In addition to the accepted answer above, another method of solving this problem is to extract the parts of the list and insert them as their separated, respective lists into the prebuilt POJO. </p>\n\n<p>In this example, I took the <code>name()</code> and <code>creationDate()</code> functions and put them in their own list in the S3 Class. This allows Jackson to read the S3 Class and get the required information without having to build an extra POJO for the <code>Bucket</code> class. Not entirely sure which way is actually cleaner or more effective but this also worked for what I was doing.</p>\n\n<p><strong>S3 Construction Class</strong></p>\n\n<pre><code>@Component\npublic class S3 {\n    private ArrayList&lt;String&gt; bucketList;\n    private ArrayList&lt;Instant&gt; bucketCreationDate;\n\n    public ArrayList&lt;Instant&gt; getBucketCreationDate() {\n        return bucketCreationDate;\n    }\n\n    public void setBucketCreationDate(ArrayList&lt;Instant&gt; bucketCreationDate) {\n        this.bucketCreationDate = bucketCreationDate;\n    }\n\n    public ArrayList&lt;String&gt; getBucketList() {\n        return bucketList;\n    }\n\n    public void setBucketList(ArrayList&lt;String&gt; bucketList) {\n        this.bucketList = bucketList;\n    }\n}\n</code></pre>\n\n<p><strong>Access Class</strong></p>\n\n<pre><code>@Repository\npublic class S3Access implements S3Repository {\n\n    @Autowired\n    private S3 s3Instance;\n\n    private Region region = Region.US_EAST_1;\n    private S3Client s3Client = S3Client.builder().region(region).build();\n    private ArrayList &lt;String&gt; bucketNameList = new ArrayList&lt;&gt;();\n    private ArrayList &lt;Instant&gt; bucketCreationDate = new ArrayList&lt;&gt;();\n\n    @Override\n    public S3 listBucket() {\n        ListBucketsRequest listBucketsRequest = ListBucketsRequest.builder().build();\n        ListBucketsResponse listBucketsResponse = s3Client.listBuckets(listBucketsRequest);\n\n        // Adding Bucket Names to Array List\n        for (int i = 0; i &lt; listBucketsResponse.buckets().size() ; i++) {\n            bucketNameList.add(listBucketsResponse.buckets().get(i).name());\n        }\n\n        // Adding Bucket Creation Dates to Array List\n        for (int i = 0; i &lt; listBucketsResponse.buckets().size() ; i++) {\n            bucketCreationDate.add(listBucketsResponse.buckets().get(i).creationDate());\n        }\n\n        // Setting the lists in the S3 Class\n        s3Instance.setBucketCreationDate(bucketCreationDate);\n        s3Instance.setBucketList(bucketNameList);\n\n        return s3Instance;\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16352234,"reputation":1,"user_id":11810420,"display_name":"Kedir Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657949282,"creation_date":1657948363,"answer_id":73001696,"question_id":56653978,"body_markdown":"apparently  the builder class is serializable (since they have public getters).I have tried it on the findings returned by getFindigs API for GuardDuty in a restController class and it did serialize the object successfully. so just call toBuilder() method on the returned pojo objects and return that instead of copying stuff over .\r\n \r\n\r\n        List&lt;Finding.Builder&gt; findingResult = findings.stream().map(finding -&gt; finding.toBuilder())\r\n                        .collect(Collectors.toList());\r\n        return findingResult;","title":"No serializer found for class in custom Java AWS application","body":"<p>apparently  the builder class is serializable (since they have public getters).I have tried it on the findings returned by getFindigs API for GuardDuty in a restController class and it did serialize the object successfully. so just call toBuilder() method on the returned pojo objects and return that instead of copying stuff over .</p>\n<pre><code>    List&lt;Finding.Builder&gt; findingResult = findings.stream().map(finding -&gt; finding.toBuilder())\n                    .collect(Collectors.toList());\n    return findingResult;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18730483,"reputation":191,"user_id":13655996,"display_name":"xaiweiyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687148793,"creation_date":1687148793,"answer_id":76503602,"question_id":56653978,"body_markdown":"1) It&#39;s caused by lacking of `getter` and `setter` methods in an amazon object bean.\r\n2) By default , a setter method should start with `set` like `setPropName()`,but its&#39;not in amazon object bean.\r\n3) Meanwhile ,Jackson-json required the getter/setter methods in the pattern of `getPropName`| `setPropName`. And this&#39;s where the crash happens.\r\n\r\n4) How to fix this ?\r\nAssuming we got an amazon object bean, `software.amazon.awssdk.services.organizations.model.Account`.\r\n\r\n```java\r\nfinal List&lt;Account&gt; accounts = response.accounts();\r\n// call its toBuilder() method,\r\n// and it returns a BuilderImpl ,which dose have standard getter/setter methods\r\nList&lt;Account.Builder&gt; list = accounts.stream().map(a -&gt; a.toBuilder()).collect(Collectors.toList());\r\n// this list now can be jackson serialized properly \r\nreturn list;\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n5) finally ,test it with postman.As you can see,the result is fine\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A8KmT.png\r\n  [2]: https://i.stack.imgur.com/v3pQK.png","title":"No serializer found for class in custom Java AWS application","body":"<ol>\n<li><p>It's caused by lacking of <code>getter</code> and <code>setter</code> methods in an amazon object bean.</p>\n</li>\n<li><p>By default , a setter method should start with <code>set</code> like <code>setPropName()</code>,but its'not in amazon object bean.</p>\n</li>\n<li><p>Meanwhile ,Jackson-json required the getter/setter methods in the pattern of <code>getPropName</code>| <code>setPropName</code>. And this's where the crash happens.</p>\n</li>\n<li><p>How to fix this ?\nAssuming we got an amazon object bean, <code>software.amazon.awssdk.services.organizations.model.Account</code>.</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;Account&gt; accounts = response.accounts();\n// call its toBuilder() method,\n// and it returns a BuilderImpl ,which dose have standard getter/setter methods\nList&lt;Account.Builder&gt; list = accounts.stream().map(a -&gt; a.toBuilder()).collect(Collectors.toList());\n// this list now can be jackson serialized properly \nreturn list;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/A8KmT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A8KmT.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"5\">\n<li>finally ,test it with postman.As you can see,the result is fine</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/v3pQK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v3pQK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7125787,"reputation":771,"user_id":5448746,"display_name":"OndÅ™ej StaÅ¡ek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690374479,"creation_date":1690374479,"answer_id":76771316,"question_id":56653978,"body_markdown":"Seems that all you need to do is set field visibility to any, as AWS SDK v2 classes have private fields and getters without &quot;get&quot; that are unrecognized. Serializing using private fields seems to work.\r\n\r\nIf you are using spring boot, add to your **application.yml** file this:\r\n\r\n    spring:\r\n      jackson:\r\n        visibility:\r\n          field: any\r\n","title":"No serializer found for class in custom Java AWS application","body":"<p>Seems that all you need to do is set field visibility to any, as AWS SDK v2 classes have private fields and getters without &quot;get&quot; that are unrecognized. Serializing using private fields seems to work.</p>\n<p>If you are using spring boot, add to your <strong>application.yml</strong> file this:</p>\n<pre><code>spring:\n  jackson:\n    visibility:\n      field: any\n</code></pre>\n"}],"owner":{"account_id":14179237,"reputation":164,"user_id":10243472,"display_name":"WiscoRadio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4786,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56655655,"answer_count":5,"score":2,"last_activity_date":1690374479,"creation_date":1560877664,"question_id":56653978,"body_markdown":"I am creating a Spring application where in it calls information from the AWS API and converts it to JSON for a front end application to digest and display. I am currently trying to return a list out all of the current S3 buckets on an account but am running into an issue where the JSON response is:\r\n\r\n&gt;status&quot;: 500,\r\n&gt;&quot;error&quot;: &quot;Internal Server Error&quot;,\r\n&gt;&quot;message&quot;: &quot;Type definition error: [simple type, class software.amazon.awssdk.services.s3.model.Bucket]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class software.amazon.awssdk.services.s3.model.Bucket and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.landsend.clouddashboard.data.Class.S3[\\&quot;bucketList\\&quot;]-java.util.Collections$UnmodifiableRandomAccessList[0])&quot;,\r\n&gt;&quot;path&quot;: &quot;/api/s3/buckets&quot;\r\n\r\nI have created a class called S3 that has private variables. One of them being a List&lt;Bucket&gt; type with the name bucketList. This class has the representative getters and setters as well associated with those variables. \r\n\r\nI have also tried adding this to the applications.properties file:\r\n\r\n```\r\nspring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false\r\n```\r\n\r\nThis did result in the error disappearing but I ended up with an empty JSON file.\r\n\r\n**Controller Class**\r\n\r\n```\r\n@RestController\r\n@RequestMapping(value=&quot;/api&quot;)\r\npublic class S3Controller {\r\n\r\n    @Autowired\r\n    private S3Service s3Service;\r\n    \r\n    @RequestMapping(method= RequestMethod.GET, value=&quot;/s3/buckets&quot;)\r\n    public S3 ListBuckets(){\r\n        return s3Service.listBucket();\r\n    }\r\n}\r\n```\r\n\r\n**Service Class**\r\n\r\n```\r\n@Service\r\npublic class S3Service {\r\n\r\n    private S3Access s3Access;\r\n\r\n    @Autowired\r\n    public S3Service(S3Access s3Access){\r\n        this.s3Access = s3Access;\r\n    }\r\n    public S3 listBucket(){\r\n        //Any Additional business logic would go here\r\n        return s3Access.listBucket();\r\n    }\r\n}\r\n```\r\n\r\n**Access Class**\r\n\r\n```\r\n@Repository\r\npublic class S3Access implements S3Repository {\r\n\r\n    @Autowired\r\n    private S3 s3Instance;\r\n\r\n    private Region region = Region.US_EAST_1;\r\n    private S3Client s3Client = \r\n                     S3Client.builder().region(region).build();\r\n\r\n    @Override\r\n    public S3 listBucket() {\r\n        ListBucketsRequest listBucketsRequest = ListBucketsRequest.builder().build();\r\n        ListBucketsResponse listBucketsResponse = s3Client.listBuckets(listBucketsRequest);\r\n        s3Instance.setBucketList(listBucketsResponse.buckets());\r\n        return s3Instance;\r\n    }\r\n}\r\n```\r\n\r\n**S3 Constructor Class**\r\n\r\n```\r\n@Component\r\npublic class S3 {\r\n    private String fileName;\r\n    private String bucketName;\r\n    private int bucketSize;\r\n    private List&lt;Bucket&gt; bucketList;\r\n\r\n    public List&lt;Bucket&gt; getBucketList() {\r\n        return bucketList;\r\n    }\r\n\r\n    public void setBucketList(List&lt;Bucket&gt; bucketList) {\r\n        this.bucketList = bucketList;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nAny thoughts on why this isn&#39;t working is appreciated.","title":"No serializer found for class in custom Java AWS application","body":"<p>I am creating a Spring application where in it calls information from the AWS API and converts it to JSON for a front end application to digest and display. I am currently trying to return a list out all of the current S3 buckets on an account but am running into an issue where the JSON response is:</p>\n\n<blockquote>\n  <p>status\": 500,\n  \"error\": \"Internal Server Error\",\n  \"message\": \"Type definition error: [simple type, class software.amazon.awssdk.services.s3.model.Bucket]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class software.amazon.awssdk.services.s3.model.Bucket and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.landsend.clouddashboard.data.Class.S3[\\\"bucketList\\\"]-java.util.Collections$UnmodifiableRandomAccessList[0])\",\n  \"path\": \"/api/s3/buckets\"</p>\n</blockquote>\n\n<p>I have created a class called S3 that has private variables. One of them being a List type with the name bucketList. This class has the representative getters and setters as well associated with those variables. </p>\n\n<p>I have also tried adding this to the applications.properties file:</p>\n\n<pre><code>spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false\n</code></pre>\n\n<p>This did result in the error disappearing but I ended up with an empty JSON file.</p>\n\n<p><strong>Controller Class</strong></p>\n\n<pre><code>@RestController\n@RequestMapping(value=\"/api\")\npublic class S3Controller {\n\n    @Autowired\n    private S3Service s3Service;\n\n    @RequestMapping(method= RequestMethod.GET, value=\"/s3/buckets\")\n    public S3 ListBuckets(){\n        return s3Service.listBucket();\n    }\n}\n</code></pre>\n\n<p><strong>Service Class</strong></p>\n\n<pre><code>@Service\npublic class S3Service {\n\n    private S3Access s3Access;\n\n    @Autowired\n    public S3Service(S3Access s3Access){\n        this.s3Access = s3Access;\n    }\n    public S3 listBucket(){\n        //Any Additional business logic would go here\n        return s3Access.listBucket();\n    }\n}\n</code></pre>\n\n<p><strong>Access Class</strong></p>\n\n<pre><code>@Repository\npublic class S3Access implements S3Repository {\n\n    @Autowired\n    private S3 s3Instance;\n\n    private Region region = Region.US_EAST_1;\n    private S3Client s3Client = \n                     S3Client.builder().region(region).build();\n\n    @Override\n    public S3 listBucket() {\n        ListBucketsRequest listBucketsRequest = ListBucketsRequest.builder().build();\n        ListBucketsResponse listBucketsResponse = s3Client.listBuckets(listBucketsRequest);\n        s3Instance.setBucketList(listBucketsResponse.buckets());\n        return s3Instance;\n    }\n}\n</code></pre>\n\n<p><strong>S3 Constructor Class</strong></p>\n\n<pre><code>@Component\npublic class S3 {\n    private String fileName;\n    private String bucketName;\n    private int bucketSize;\n    private List&lt;Bucket&gt; bucketList;\n\n    public List&lt;Bucket&gt; getBucketList() {\n        return bucketList;\n    }\n\n    public void setBucketList(List&lt;Bucket&gt; bucketList) {\n        this.bucketList = bucketList;\n    }\n}\n</code></pre>\n\n<p>Any thoughts on why this isn't working is appreciated.</p>\n"},{"tags":["java","hadoop-yarn","nodemanager"],"answers":[{"comments":[{"owner":{"account_id":29095368,"reputation":13,"user_id":22288353,"display_name":"RussellXiao"},"score":0,"creation_date":1690426462,"post_id":76771315,"comment_id":135353217,"body_markdown":"Thanks bro, I Remove JDK17 and it works.","body":"Thanks bro, I Remove JDK17 and it works."}],"tags":[],"owner":{"account_id":49908,"reputation":4336,"user_id":148736,"accept_rate":63,"display_name":"Andrew Arrow"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690374476,"creation_date":1690374476,"answer_id":76771315,"question_id":76771284,"body_markdown":"1. look at JAVA_HOME environment variable is set to the appropriate JDK version (JDK 8) that is compatible with Hadoop 3.x.\r\n\r\n2. Remove other JDK installations: To avoid any conflicts, consider uninstalling JDK 11 and JDK 17.\r\n\r\n3. Look at Hadoop configuration files to ensure that they are using the correct JAVA_HOME variable.\r\n\r\n4. Restart Hadoop ","title":"Hadoop canâ€˜t open node manager","body":"<ol>\n<li><p>look at JAVA_HOME environment variable is set to the appropriate JDK version (JDK 8) that is compatible with Hadoop 3.x.</p>\n</li>\n<li><p>Remove other JDK installations: To avoid any conflicts, consider uninstalling JDK 11 and JDK 17.</p>\n</li>\n<li><p>Look at Hadoop configuration files to ensure that they are using the correct JAVA_HOME variable.</p>\n</li>\n<li><p>Restart Hadoop</p>\n</li>\n</ol>\n"}],"owner":{"account_id":29095368,"reputation":13,"user_id":22288353,"display_name":"RussellXiao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76771315,"answer_count":1,"score":1,"last_activity_date":1690374476,"creation_date":1690374264,"question_id":76771284,"body_markdown":"my Hadoop version is 3.x\r\njps shows NameNode,SecondaryNameNode,ResourceManager but no NodeManager.\r\nlog shows like\r\n\r\n\r\n**ERROR org.apache.hadoop.yarn.server.nodemanager.NodeManager: Error starting NodeManagerjava.lang.ExceptionInInitializerErrorat com.google.inject.internal.cglib.reflect.$FastClassEmitter.&lt;init&gt;(FastClassEmitter.java:67)at com.google.inject.internal.cglib.reflect.$FastClass$Generator.generateClass(FastClass.java:72)at com.google.inject.internal.cglib.core.$DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)at com.google.inject.internal.cglib.core.$AbstractClassGenerator.create(AbstractClassGenerator.java:216)at com.google.inject.internal.cglib.reflect.$FastClass$Generator.create(FastClass.java:64)at com.google.inject.internal.BytecodeGen.newFastClass(BytecodeGen.java:204)at com.google.inject.internal.ProviderMethod$FastClassProviderMethod.&lt;init&gt;(ProviderMethod.java:256)at com.google.inject.internal.ProviderMethod.create(ProviderMethod.java:71)at com.google.inject.internal.ProviderMethodsModule.createProviderMethod(ProviderMethodsModule.java:275)at com.google.inject.internal.ProviderMethodsModule.getProviderMethods(ProviderMethodsModule.java:144)at com.google.inject.internal.ProviderMethodsModule.configure(ProviderMethodsModule.java:123)at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340)at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:349)at com.google.inject.AbstractModule.install(AbstractModule.java:122)at com.google.inject.servlet.ServletModule.configure(ServletModule.java:52)at com.google.inject.AbstractModule.configure(AbstractModule.java:62)at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340)at com.google.inject.spi.Elements.getElements(Elements.java:110)at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:138)at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:104)at com.google.inject.Guice.createInjector(Guice.java:96)at com.google.inject.Guice.createInjector(Guice.java:73)at com.google.inject.Guice.createInjector(Guice.java:62)at org.apache.hadoop.yarn.webapp.WebApps$Builder.build(WebApps.java:417)at org.apache.hadoop.yarn.webapp.WebApps$Builder.start(WebApps.java:465)at org.apache.hadoop.yarn.webapp.WebApps$Builder.start(WebApps.java:461)at org.apache.hadoop.yarn.server.nodemanager.webapp.WebServer.serviceStart(WebServer.java:125)at org.apache.hadoop.service.AbstractService.start(AbstractService.java:194)at org.apache.hadoop.service.CompositeService.serviceStart(CompositeService.java:122)at org.apache.hadoop.service.AbstractService.start(AbstractService.java:194)at org.apache.hadoop.yarn.server.nodemanager.NodeManager.initAndStartNodeManager(NodeManager.java:963)at org.apache.hadoop.yarn.server.nodemanager.NodeManager.main(NodeManager.java:1042)Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @58ecb515at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)at com.google.inject.internal.cglib.core.$ReflectUtils$2.run(ReflectUtils.java:56)at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)at com.google.inject.internal.cglib.core.$ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:46)... 32 more**\r\n\r\n\r\nits my yarn-site.xml\r\n\r\n\r\n\r\n    &lt;configuration&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;yarn.resourcemanager.hostsname&lt;/name&gt;\r\n            &lt;value&gt;127.0.0.1&lt;/value&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\r\n            &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;yarn.nodemanager.resource.cpu-vcores&lt;/name&gt;\r\n            &lt;value&gt;8&lt;/value&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;yarn.nodemanager.resource.memory-mb&lt;/name&gt;\r\n            &lt;value&gt;8192&lt;/value&gt;\r\n        &lt;/property&gt;\r\n            &lt;property&gt;\r\n            &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;\r\n            &lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_HOME,PATH,LANG,TZ,HADOOP_MAPRED_HOME&lt;/value&gt;\r\n        &lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\nmy core-site.xml\r\n\r\n&lt;!--    --&gt;\r\n\r\n&lt;!--        hadoop.tmp.dir--&gt;\r\n\r\n&lt;!--        /opt/hadoopTmp--&gt;\r\n\r\n&lt;!--        A base for other temporary directories.--&gt;\r\n\r\n \r\n\r\n    &lt; configuration&gt;\r\n    &lt;property&gt;\r\n        &lt;name&gt;fs.default.name&lt;/name&gt;\r\n        &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\nmy mapped-site.xml\r\n\r\n```\r\n&lt;configuration&gt;\r\n    &lt;property&gt;\r\n        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\r\n        &lt;value&gt;yarn&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n        &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;\r\n        &lt;value&gt;$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*:$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*&lt;/value&gt;\r\n    &lt;/property&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n     \r\n\r\nmy Hdfs-site.xml\r\n\r\n```\r\n&lt;configuration&gt;\r\n    &lt;property&gt;\r\n        &lt;name&gt;dfs.replication&lt;/name&gt;\r\n        &lt;value&gt;1&lt;/value&gt;\r\n    &lt;/property&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n   \r\n\r\nI tried to change the configuration of these four files a lot, but none of them worked. My log file shows that the error is the above. I have encountered this problem. It seems to be a jdk version problem. I have jdk8 and jdk11 on my computer. jdk17 but my javahome setting is jdk8, I installed it through brew and did not configure the environment.","title":"Hadoop canâ€˜t open node manager","body":"<p>my Hadoop version is 3.x\njps shows NameNode,SecondaryNameNode,ResourceManager but no NodeManager.\nlog shows like</p>\n<p><strong>ERROR org.apache.hadoop.yarn.server.nodemanager.NodeManager: Error starting NodeManagerjava.lang.ExceptionInInitializerErrorat com.google.inject.internal.cglib.reflect.$FastClassEmitter.(FastClassEmitter.java:67)at com.google.inject.internal.cglib.reflect.$FastClass$Generator.generateClass(FastClass.java:72)at com.google.inject.internal.cglib.core.$DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)at com.google.inject.internal.cglib.core.$AbstractClassGenerator.create(AbstractClassGenerator.java:216)at com.google.inject.internal.cglib.reflect.$FastClass$Generator.create(FastClass.java:64)at com.google.inject.internal.BytecodeGen.newFastClass(BytecodeGen.java:204)at com.google.inject.internal.ProviderMethod$FastClassProviderMethod.(ProviderMethod.java:256)at com.google.inject.internal.ProviderMethod.create(ProviderMethod.java:71)at com.google.inject.internal.ProviderMethodsModule.createProviderMethod(ProviderMethodsModule.java:275)at com.google.inject.internal.ProviderMethodsModule.getProviderMethods(ProviderMethodsModule.java:144)at com.google.inject.internal.ProviderMethodsModule.configure(ProviderMethodsModule.java:123)at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340)at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:349)at com.google.inject.AbstractModule.install(AbstractModule.java:122)at com.google.inject.servlet.ServletModule.configure(ServletModule.java:52)at com.google.inject.AbstractModule.configure(AbstractModule.java:62)at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340)at com.google.inject.spi.Elements.getElements(Elements.java:110)at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:138)at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:104)at com.google.inject.Guice.createInjector(Guice.java:96)at com.google.inject.Guice.createInjector(Guice.java:73)at com.google.inject.Guice.createInjector(Guice.java:62)at org.apache.hadoop.yarn.webapp.WebApps$Builder.build(WebApps.java:417)at org.apache.hadoop.yarn.webapp.WebApps$Builder.start(WebApps.java:465)at org.apache.hadoop.yarn.webapp.WebApps$Builder.start(WebApps.java:461)at org.apache.hadoop.yarn.server.nodemanager.webapp.WebServer.serviceStart(WebServer.java:125)at org.apache.hadoop.service.AbstractService.start(AbstractService.java:194)at org.apache.hadoop.service.CompositeService.serviceStart(CompositeService.java:122)at org.apache.hadoop.service.AbstractService.start(AbstractService.java:194)at org.apache.hadoop.yarn.server.nodemanager.NodeManager.initAndStartNodeManager(NodeManager.java:963)at org.apache.hadoop.yarn.server.nodemanager.NodeManager.main(NodeManager.java:1042)Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @58ecb515at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)at com.google.inject.internal.cglib.core.$ReflectUtils$2.run(ReflectUtils.java:56)at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)at com.google.inject.internal.cglib.core.$ReflectUtils.(ReflectUtils.java:46)... 32 more</strong></p>\n<p>its my yarn-site.xml</p>\n<pre><code>&lt;configuration&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.hostsname&lt;/name&gt;\n        &lt;value&gt;127.0.0.1&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\n        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.resource.cpu-vcores&lt;/name&gt;\n        &lt;value&gt;8&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.resource.memory-mb&lt;/name&gt;\n        &lt;value&gt;8192&lt;/value&gt;\n    &lt;/property&gt;\n        &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;\n        &lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_HOME,PATH,LANG,TZ,HADOOP_MAPRED_HOME&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>my core-site.xml</p>\n\n\n\n\n<pre><code>&lt; configuration&gt;\n&lt;property&gt;\n    &lt;name&gt;fs.default.name&lt;/name&gt;\n    &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;\n&lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>my mapped-site.xml</p>\n<pre><code>&lt;configuration&gt;\n    &lt;property&gt;\n        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\n        &lt;value&gt;yarn&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;\n        &lt;value&gt;$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*:$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>my Hdfs-site.xml</p>\n<pre><code>&lt;configuration&gt;\n    &lt;property&gt;\n        &lt;name&gt;dfs.replication&lt;/name&gt;\n        &lt;value&gt;1&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>I tried to change the configuration of these four files a lot, but none of them worked. My log file shows that the error is the above. I have encountered this problem. It seems to be a jdk version problem. I have jdk8 and jdk11 on my computer. jdk17 but my javahome setting is jdk8, I installed it through brew and did not configure the environment.</p>\n"},{"tags":["java","spring","spring-security"],"owner":{"account_id":20123535,"reputation":110,"user_id":14757560,"display_name":"christianGen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690374129,"creation_date":1690179963,"question_id":76751884,"body_markdown":"We have multiple `SecurityFilterChain`s.\r\n\r\nUsers of our `*.jsp` UI must be authenticated with `oauth2`:\r\n\r\n```java\r\n    @Bean\r\n    @Order(1)\r\n    public SecurityFilterChain filterChainJsps(HttpSecurity http) throws Exception {\r\n        http.requestMatchers((requestMatchers) -&gt; requestMatchers.antMatchers(&quot;/*.jsp&quot;, &quot;/oauth2/**&quot;, &quot;/login/**&quot;))\r\n            .authorizeHttpRequests(authorizeHttpRequests -&gt; authorizeHttpRequests\r\n                    .anyRequest().authenticated())\r\n            .oauth2Login(withDefaults());\r\n        return http.build();\r\n    }\r\n```\r\n\r\nFor oauth2 to work the oauth2 urls `&quot;/oauth2/**&quot;` and `&quot;/login/**&quot;` must be included in the `requestMatchers.antMatchers` list, otherwise users will get an 404 error.\r\n\r\nAdding the oauth2 urls manually is error-prone.  This example is for instance missing the `&quot;/logout&quot;` url.\r\n  \r\n**Is there an easier way to include all oauth2 urls?  \r\nIf not, how do I get a list of oauth2 urls which must be matched?**\r\n","title":"Permit oauth2 urls in SecurityFilterChain&#39;s requestMatchers","body":"<p>We have multiple <code>SecurityFilterChain</code>s.</p>\n<p>Users of our <code>*.jsp</code> UI must be authenticated with <code>oauth2</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    @Order(1)\n    public SecurityFilterChain filterChainJsps(HttpSecurity http) throws Exception {\n        http.requestMatchers((requestMatchers) -&gt; requestMatchers.antMatchers(&quot;/*.jsp&quot;, &quot;/oauth2/**&quot;, &quot;/login/**&quot;))\n            .authorizeHttpRequests(authorizeHttpRequests -&gt; authorizeHttpRequests\n                    .anyRequest().authenticated())\n            .oauth2Login(withDefaults());\n        return http.build();\n    }\n</code></pre>\n<p>For oauth2 to work the oauth2 urls <code>&quot;/oauth2/**&quot;</code> and <code>&quot;/login/**&quot;</code> must be included in the <code>requestMatchers.antMatchers</code> list, otherwise users will get an 404 error.</p>\n<p>Adding the oauth2 urls manually is error-prone.  This example is for instance missing the <code>&quot;/logout&quot;</code> url.</p>\n<p><strong>Is there an easier way to include all oauth2 urls?<br />\nIf not, how do I get a list of oauth2 urls which must be matched?</strong></p>\n"},{"tags":["java","android","kotlin","browser-history"],"comments":[{"owner":{"account_id":905177,"reputation":8322,"user_id":940217,"accept_rate":77,"display_name":"Kyle Falconer"},"score":1,"creation_date":1398953331,"post_id":23409365,"comment_id":35869682,"body_markdown":"What exactly are you having trouble with? Code would help.","body":"What exactly are you having trouble with? Code would help."}],"answers":[{"tags":[],"owner":{"account_id":3624061,"reputation":1801,"user_id":3022173,"display_name":"mttdbrd"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1398954135,"creation_date":1398954135,"answer_id":23409626,"question_id":23409365,"body_markdown":"You could use a doubly-linked LinkedList to maintain a history, but WebView already contains methods to deal with forward and back history.\r\n\r\n    void\t goBack()\r\n\r\n&gt; Goes back in the history of this WebView.\r\n\r\n    void\t goBackOrForward(int steps)\r\n\r\n&gt; Goes to the history item that is the number of steps away from the\r\n&gt; current item.\r\n\r\n    void\t goForward()\r\n\r\n&gt; Goes forward in the history of this WebView.\r\n\r\nFrom the docs: https://developer.android.com/reference/android/webkit/WebView.html","title":"Is there really a way to save history of visited sites so that when user comes back(reopens app) he has the list of visited sites on back press","body":"<p>You could use a doubly-linked LinkedList to maintain a history, but WebView already contains methods to deal with forward and back history.</p>\n\n<pre><code>void     goBack()\n</code></pre>\n\n<blockquote>\n  <p>Goes back in the history of this WebView.</p>\n</blockquote>\n\n<pre><code>void     goBackOrForward(int steps)\n</code></pre>\n\n<blockquote>\n  <p>Goes to the history item that is the number of steps away from the\n  current item.</p>\n</blockquote>\n\n<pre><code>void     goForward()\n</code></pre>\n\n<blockquote>\n  <p>Goes forward in the history of this WebView.</p>\n</blockquote>\n\n<p>From the docs: <a href=\"https://developer.android.com/reference/android/webkit/WebView.html\" rel=\"nofollow\">https://developer.android.com/reference/android/webkit/WebView.html</a></p>\n"},{"tags":[],"owner":{"account_id":4138046,"reputation":26,"user_id":3394213,"display_name":"user3394213"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398956211,"creation_date":1398954326,"answer_id":23409670,"question_id":23409365,"body_markdown":"    // put this in your xml file...\r\n    \r\n    &lt;WebView\r\n        android:id=&quot;@+id/web_view&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot; /&gt;\r\n\r\n    // then in your code\r\n    \r\n    WebView webView = (WebView) findViewById(R.id.web_view);\r\n    webView.getSettings().setJavaScriptEnabled(true);\r\n    webView.setWebViewClient(new WebViewClient()\r\n    {\r\n        // Links clicked will be shown on the webview\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url)\r\n        {\r\n            return super.shouldOverrideUrlLoading(view, url);\r\n        }\r\n    }\r\n\r\n    // Then to load the webpage from edit text would be\r\n    webView.loadUrl(--Edit Text URL here);\r\n\r\n    // To go back to your previous page, call this method\r\n    webView.goBack();\r\n\r\n    // To go to your next page would be\r\n    webView.goForward();","title":"Is there really a way to save history of visited sites so that when user comes back(reopens app) he has the list of visited sites on back press","body":"<pre><code>// put this in your xml file...\n\n&lt;WebView\n    android:id=\"@+id/web_view\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\" /&gt;\n\n// then in your code\n\nWebView webView = (WebView) findViewById(R.id.web_view);\nwebView.getSettings().setJavaScriptEnabled(true);\nwebView.setWebViewClient(new WebViewClient()\n{\n    // Links clicked will be shown on the webview\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView view, String url)\n    {\n        return super.shouldOverrideUrlLoading(view, url);\n    }\n}\n\n// Then to load the webpage from edit text would be\nwebView.loadUrl(--Edit Text URL here);\n\n// To go back to your previous page, call this method\nwebView.goBack();\n\n// To go to your next page would be\nwebView.goForward();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2927452,"reputation":2038,"user_id":2508481,"accept_rate":82,"display_name":"Richard Lindhout"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1398954613,"creation_date":1398954613,"answer_id":23409745,"question_id":23409365,"body_markdown":"Perhaps you could look to an open source project like the Zirco Browser -&gt; https://code.google.com/p/zirco-browser/\r\n\r\n\r\nSome code like this &gt; https://code.google.com/p/zirco-browser/source/browse/branches/tint-browser-old2/src/org/tint/controllers/BookmarksHistoryController.java\r\n\r\n       /**\r\n             * Get a Cursor the history, e.g. records wich have a visits count &gt; 0. Sorted by last visited date.\r\n             * @param currentActivity The parent activity.\r\n             * @return A Cursor to history records.\r\n             * @see Cursor\r\n             */\r\n            public Cursor getHistory(Activity currentActivity) {\r\n                    String whereClause = Browser.BookmarkColumns.VISITS + &quot; &gt; 0&quot;;\r\n                    String orderClause = Browser.BookmarkColumns.DATE + &quot; DESC&quot;;\r\n                    \r\n                    return currentActivity.managedQuery(android.provider.Browser.BOOKMARKS_URI, Browser.HISTORY_PROJECTION, whereClause, null, orderClause);\r\n            }\r\n\r\nPerhaps you could copy some code and use it for your project. ","title":"Is there really a way to save history of visited sites so that when user comes back(reopens app) he has the list of visited sites on back press","body":"<p>Perhaps you could look to an open source project like the Zirco Browser -> <a href=\"https://code.google.com/p/zirco-browser/\" rel=\"nofollow\">https://code.google.com/p/zirco-browser/</a></p>\n\n<p>Some code like this > <a href=\"https://code.google.com/p/zirco-browser/source/browse/branches/tint-browser-old2/src/org/tint/controllers/BookmarksHistoryController.java\" rel=\"nofollow\">https://code.google.com/p/zirco-browser/source/browse/branches/tint-browser-old2/src/org/tint/controllers/BookmarksHistoryController.java</a></p>\n\n<pre><code>   /**\n         * Get a Cursor the history, e.g. records wich have a visits count &gt; 0. Sorted by last visited date.\n         * @param currentActivity The parent activity.\n         * @return A Cursor to history records.\n         * @see Cursor\n         */\n        public Cursor getHistory(Activity currentActivity) {\n                String whereClause = Browser.BookmarkColumns.VISITS + \" &gt; 0\";\n                String orderClause = Browser.BookmarkColumns.DATE + \" DESC\";\n\n                return currentActivity.managedQuery(android.provider.Browser.BOOKMARKS_URI, Browser.HISTORY_PROJECTION, whereClause, null, orderClause);\n        }\n</code></pre>\n\n<p>Perhaps you could copy some code and use it for your project. </p>\n"}],"owner":{"account_id":4404768,"reputation":82,"user_id":3589491,"display_name":"Kunal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3213,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1501698392,"accepted_answer_id":23409745,"answer_count":3,"score":-1,"last_activity_date":1690373705,"creation_date":1398953238,"question_id":23409365,"body_markdown":"I am just making a simple browser with history management. \r\n","title":"Is there really a way to save history of visited sites so that when user comes back(reopens app) he has the list of visited sites on back press","body":"<p>I am just making a simple browser with history management.</p>\n"},{"tags":["java","completable-future","elapsedtime"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1690284536,"post_id":76762229,"comment_id":135328912,"body_markdown":"Just add `CompletionStages` in the beginning, between calls and the end that set start, intermediate and end times, respectively?","body":"Just add <code>CompletionStages</code> in the beginning, between calls and the end that set start, intermediate and end times, respectively?"},{"owner":{"account_id":17491509,"reputation":133,"user_id":12683575,"display_name":"Stranger95"},"score":0,"creation_date":1690290406,"post_id":76762229,"comment_id":135330304,"body_markdown":"would it be possible to show any example?","body":"would it be possible to show any example?"}],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690373614,"creation_date":1690295497,"answer_id":76763764,"question_id":76762229,"body_markdown":"You can keep a `Map&lt;Call, Instant&gt; timestamps` with an enum `Call`\r\n\r\n```\r\nenum Call {\r\n START,\r\n API_CALL_1,\r\n API_CALL_2,\r\n API_CALL_3,\r\n END\r\n}\r\n```\r\nso in the end you have something like\r\n\r\n```\r\nSTART -&gt; 12:17:01.123\r\nAPI_CALL_1 -&gt; 12:17:01.124\r\nAPI_CALL_2 -&gt; 12:17:03.242\r\nAPI_CALL_3 -&gt; 12:17:04.530\r\nEND -&gt; 12:17:05.124\r\n```\r\nwhich will allow you to see how long each call took as well as the overall thing.\r\n\r\nTo do this, you can create something like a `CallTimer` which allows you to wrap each individual `CompletableFuture` into the associated enum value, like\r\n\r\n```\r\nclass CallTimer {\r\n // use an EnumMap here but I&#39;m too lazy to look up how to create one\r\n Map&lt;Call, Instant&gt; callTimes = new HashMap&lt;&gt;(); \r\n\r\n public CallTimer() {\r\n  callTimes.put(START, Instant.now());\r\n }\r\n\r\n // put start time into the map, but return the result of the actual call\r\n &lt;T&gt; CompletableFuture&lt;T&gt; wrap(CompletableFuture&lt;T&gt; call, Call id) {\r\n   return CompletableFuture.completedFuture(Instant.now())\r\n          .thenCompose(timestamp -&gt; {\r\n            calltimes.put(id, timestamp); \r\n            return call;\r\n          });\r\n }\r\n\r\n void finished() {\r\n  callTimes.put(END, Instant.now());\r\n }\r\n\r\n Map&lt;Call, Instant&gt; callTimes() {\r\n  return Collections.unmodifiableMap(callTimes);\r\n }\r\n}\r\n```\r\n\r\nand then for each call you perform in the main function, you use the timer&#39;s `wrap` instead.\r\n\r\n```\r\npublic static void main(String[] args) throws ExecutionException, InterruptedException {\r\n    CallTimer timer = new CallTimer();\r\n    var chain = timer.wrap(apiCall1(), API_CALL_1)\r\n            .thenCompose(result1 -&gt; {\r\n                if (result1.isEmpty()) {\r\n                    return timer.wrap(apiCall2(), API_CALL_2);\r\n                } else {\r\n                    return CompletableFuture.completedFuture(result1);\r\n                }\r\n            })\r\n            .thenCompose(result2 -&gt; {\r\n                if (result2.isEmpty()) {\r\n                    return timer.wrap(apiCall3(), API_CALL_3);\r\n                } else {\r\n                    return CompletableFuture.completedFuture(result2);\r\n                }\r\n            })\r\n            .thenApply(r -&gt; {\r\n               var result = finalMapping(r);\r\n               timer.finished();\r\n               return result;\r\n             );\r\n    System.out.println(chain.get()); // return result\r\n    System.out.println(timer.callTimes()); // print times\r\n}\r\n```\r\n\r\nI have not actually run or even compiled this so there&#39;s probably going to be some issues, but the general concept should be sound. You can also extend the `enum` and `wrap()` to track `API_CALL_1_START` and `API_CALL_1_END` by adding another `thenApply()` to put the end time after call completion.","title":"Calculate elapsed time in a completable future chain","body":"<p>You can keep a <code>Map&lt;Call, Instant&gt; timestamps</code> with an enum <code>Call</code></p>\n<pre><code>enum Call {\n START,\n API_CALL_1,\n API_CALL_2,\n API_CALL_3,\n END\n}\n</code></pre>\n<p>so in the end you have something like</p>\n<pre><code>START -&gt; 12:17:01.123\nAPI_CALL_1 -&gt; 12:17:01.124\nAPI_CALL_2 -&gt; 12:17:03.242\nAPI_CALL_3 -&gt; 12:17:04.530\nEND -&gt; 12:17:05.124\n</code></pre>\n<p>which will allow you to see how long each call took as well as the overall thing.</p>\n<p>To do this, you can create something like a <code>CallTimer</code> which allows you to wrap each individual <code>CompletableFuture</code> into the associated enum value, like</p>\n<pre><code>class CallTimer {\n // use an EnumMap here but I'm too lazy to look up how to create one\n Map&lt;Call, Instant&gt; callTimes = new HashMap&lt;&gt;(); \n\n public CallTimer() {\n  callTimes.put(START, Instant.now());\n }\n\n // put start time into the map, but return the result of the actual call\n &lt;T&gt; CompletableFuture&lt;T&gt; wrap(CompletableFuture&lt;T&gt; call, Call id) {\n   return CompletableFuture.completedFuture(Instant.now())\n          .thenCompose(timestamp -&gt; {\n            calltimes.put(id, timestamp); \n            return call;\n          });\n }\n\n void finished() {\n  callTimes.put(END, Instant.now());\n }\n\n Map&lt;Call, Instant&gt; callTimes() {\n  return Collections.unmodifiableMap(callTimes);\n }\n}\n</code></pre>\n<p>and then for each call you perform in the main function, you use the timer's <code>wrap</code> instead.</p>\n<pre><code>public static void main(String[] args) throws ExecutionException, InterruptedException {\n    CallTimer timer = new CallTimer();\n    var chain = timer.wrap(apiCall1(), API_CALL_1)\n            .thenCompose(result1 -&gt; {\n                if (result1.isEmpty()) {\n                    return timer.wrap(apiCall2(), API_CALL_2);\n                } else {\n                    return CompletableFuture.completedFuture(result1);\n                }\n            })\n            .thenCompose(result2 -&gt; {\n                if (result2.isEmpty()) {\n                    return timer.wrap(apiCall3(), API_CALL_3);\n                } else {\n                    return CompletableFuture.completedFuture(result2);\n                }\n            })\n            .thenApply(r -&gt; {\n               var result = finalMapping(r);\n               timer.finished();\n               return result;\n             );\n    System.out.println(chain.get()); // return result\n    System.out.println(timer.callTimes()); // print times\n}\n</code></pre>\n<p>I have not actually run or even compiled this so there's probably going to be some issues, but the general concept should be sound. You can also extend the <code>enum</code> and <code>wrap()</code> to track <code>API_CALL_1_START</code> and <code>API_CALL_1_END</code> by adding another <code>thenApply()</code> to put the end time after call completion.</p>\n"}],"owner":{"account_id":17491509,"reputation":133,"user_id":12683575,"display_name":"Stranger95"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690373614,"creation_date":1690284248,"question_id":76762229,"body_markdown":"I have several async api calls combined together in a completable futures chain. Each stage depends on the previous stage, i.e. if the previous call returned non-empty data, then we skip next call or make a call otherwise.\r\n\r\nI want to measure not only the total time spent on the whole chain execution but also time spent on each api call individually.\r\n\r\nHow one can achieve that?\r\n\r\n    import java.util.concurrent.CompletableFuture;\r\n    import java.util.concurrent.ExecutionException;\r\n    \r\n    public class CompletableFutureApiCallsExample {\r\n\r\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\r\n        var chain = apiCall1()\r\n                .thenCompose(result1 -&gt; {\r\n                    if (result1.isEmpty()) {\r\n                        return apiCall2();\r\n                    } else {\r\n                        return CompletableFuture.completedFuture(result1);\r\n                    }\r\n                })\r\n                .thenCompose(result2 -&gt; {\r\n                    if (result2.isEmpty()) {\r\n                        return apiCall3();\r\n                    } else {\r\n                        return CompletableFuture.completedFuture(result2);\r\n                    }\r\n                })\r\n                .thenApply(CompletableFutureApiCallsExample::finalMapping);\r\n        System.out.println(chain.get()); // return result\r\n    }\r\n\r\n    private static CompletableFuture&lt;String&gt; apiCall1() {\r\n        return CompletableFuture.supplyAsync(() -&gt; &quot;API Call 1 result&quot;);\r\n    }\r\n\r\n    private static CompletableFuture&lt;String&gt; apiCall2() {\r\n        return CompletableFuture.supplyAsync(() -&gt; &quot;API Call 2 result&quot;);\r\n    }\r\n\r\n    private static CompletableFuture&lt;String&gt; apiCall3() {\r\n        return CompletableFuture.supplyAsync(() -&gt; &quot;API Call 3 result&quot;);\r\n    }\r\n\r\n    private static String finalMapping(String result) {\r\n        // do mapping and return result;\r\n        return &quot;Final result&quot;;\r\n    }\r\n\r\n","title":"Calculate elapsed time in a completable future chain","body":"<p>I have several async api calls combined together in a completable futures chain. Each stage depends on the previous stage, i.e. if the previous call returned non-empty data, then we skip next call or make a call otherwise.</p>\n<p>I want to measure not only the total time spent on the whole chain execution but also time spent on each api call individually.</p>\n<p>How one can achieve that?</p>\n<pre><code>import java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutionException;\n\npublic class CompletableFutureApiCallsExample {\n\npublic static void main(String[] args) throws ExecutionException, InterruptedException {\n    var chain = apiCall1()\n            .thenCompose(result1 -&gt; {\n                if (result1.isEmpty()) {\n                    return apiCall2();\n                } else {\n                    return CompletableFuture.completedFuture(result1);\n                }\n            })\n            .thenCompose(result2 -&gt; {\n                if (result2.isEmpty()) {\n                    return apiCall3();\n                } else {\n                    return CompletableFuture.completedFuture(result2);\n                }\n            })\n            .thenApply(CompletableFutureApiCallsExample::finalMapping);\n    System.out.println(chain.get()); // return result\n}\n\nprivate static CompletableFuture&lt;String&gt; apiCall1() {\n    return CompletableFuture.supplyAsync(() -&gt; &quot;API Call 1 result&quot;);\n}\n\nprivate static CompletableFuture&lt;String&gt; apiCall2() {\n    return CompletableFuture.supplyAsync(() -&gt; &quot;API Call 2 result&quot;);\n}\n\nprivate static CompletableFuture&lt;String&gt; apiCall3() {\n    return CompletableFuture.supplyAsync(() -&gt; &quot;API Call 3 result&quot;);\n}\n\nprivate static String finalMapping(String result) {\n    // do mapping and return result;\n    return &quot;Final result&quot;;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","graphql-java","spring-graphql"],"comments":[{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1688638189,"post_id":76619024,"comment_id":135101888,"body_markdown":"can you elaborate on why you&#39;re trying to do this? The context object is garbage collected after the request, so there should be nothing to clear.","body":"can you elaborate on why you&#39;re trying to do this? The context object is garbage collected after the request, so there should be nothing to clear."}],"answers":[{"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690373407,"creation_date":1690373407,"answer_id":76771149,"question_id":76619024,"body_markdown":"By default the context is already per-request. You made a separate context that is a field on the controller itself, so it&#39;s no different from any other property on a singleton bean (it isn&#39;t even managed by Spring). Don&#39;t do that. A properly scoped context is already provided to you implicitly, and can be injected into your resolvers:\r\n\r\n    @Controller\r\n    public class OrderInfoController {\r\n    \r\n        @QueryMapping\r\n        public String prepareName(@Argument String orderId, GraphQLContext context) {\r\n            context.put(&quot;name&quot;, &quot;Darren&quot;);\r\n            return &quot; welcome !&quot;;\r\n        }\r\n    \r\n        @SchemaMapping\r\n        public String getName(@Argument OrderInfo orderInfo, GraphQLContext context) {\r\n            context.get(&quot;name&quot;);\r\n            return &quot;hello darren&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nYou could use a [`WebGraphQlInterceptor`](https://docs.spring.io/spring-graphql/docs/current/reference/html/#server.interception) to execute logic around the request, but it doesn&#39;t sound like that&#39;s what you need here.","title":"clear spring for GraphQLContext content after request finished","body":"<p>By default the context is already per-request. You made a separate context that is a field on the controller itself, so it's no different from any other property on a singleton bean (it isn't even managed by Spring). Don't do that. A properly scoped context is already provided to you implicitly, and can be injected into your resolvers:</p>\n<pre><code>@Controller\npublic class OrderInfoController {\n\n    @QueryMapping\n    public String prepareName(@Argument String orderId, GraphQLContext context) {\n        context.put(&quot;name&quot;, &quot;Darren&quot;);\n        return &quot; welcome !&quot;;\n    }\n\n    @SchemaMapping\n    public String getName(@Argument OrderInfo orderInfo, GraphQLContext context) {\n        context.get(&quot;name&quot;);\n        return &quot;hello darren&quot;;\n    }\n\n}\n</code></pre>\n<p>You could use a <a href=\"https://docs.spring.io/spring-graphql/docs/current/reference/html/#server.interception\" rel=\"nofollow noreferrer\"><code>WebGraphQlInterceptor</code></a> to execute logic around the request, but it doesn't sound like that's what you need here.</p>\n"}],"owner":{"account_id":9939720,"reputation":105,"user_id":7356739,"accept_rate":50,"display_name":"george jiang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690373494,"creation_date":1688549731,"question_id":76619024,"body_markdown":"I am using spring boot 3.1.1 to develop GraphQL application, also included spring-boot-starter-graphql, code as below, I want to delete all content from context after the request is done, how can I implement it? Beside GraphQLContext, is there any other way to cache the data? Thanks.\r\n```\r\npublic class OrderInfoController {\r\n    private final GraphQLContext context;\r\n\r\n    public OrderInfoController() {\r\n        this.context = GraphQLContext.newContext().build();\r\n    }\r\n\r\n    @QueryMapping\r\n    public String prepareName(@Argument String orderId) {\r\n        context.put(&quot;name&quot;, &quot;Darren&quot;);\r\n        return &quot; welcome !&quot;;\r\n    }\r\n\r\n    @SchemaMapping\r\n    public String getName(@Argument OrderInfo orderInfo) {\r\n        context.get(&quot;name&quot;);\r\n        return &quot;hello darren&quot;;\r\n    }\r\n\r\n}\r\n```","title":"clear spring for GraphQLContext content after request finished","body":"<p>I am using spring boot 3.1.1 to develop GraphQL application, also included spring-boot-starter-graphql, code as below, I want to delete all content from context after the request is done, how can I implement it? Beside GraphQLContext, is there any other way to cache the data? Thanks.</p>\n<pre><code>public class OrderInfoController {\n    private final GraphQLContext context;\n\n    public OrderInfoController() {\n        this.context = GraphQLContext.newContext().build();\n    }\n\n    @QueryMapping\n    public String prepareName(@Argument String orderId) {\n        context.put(&quot;name&quot;, &quot;Darren&quot;);\n        return &quot; welcome !&quot;;\n    }\n\n    @SchemaMapping\n    public String getName(@Argument OrderInfo orderInfo) {\n        context.get(&quot;name&quot;);\n        return &quot;hello darren&quot;;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":109369,"reputation":3006,"user_id":289827,"accept_rate":47,"display_name":"Martin Å½dila"},"score":3,"creation_date":1432220412,"post_id":8986593,"comment_id":48844446,"body_markdown":"Isn&#39;t there some &quot;native&quot; solution already in Spring 4?","body":"Isn&#39;t there some &quot;native&quot; solution already in Spring 4?"},{"owner":{"account_id":1145947,"reputation":1878,"user_id":1128712,"accept_rate":50,"display_name":"SourceVisor"},"score":0,"creation_date":1467559396,"post_id":8986593,"comment_id":63769862,"body_markdown":"Please help with my similar question here http://stackoverflow.com/questions/38171022/how-to-map-multiple-parameter-names-to-pojo-when-binding-spring-mvc-command-obje?noredirect=1#comment63769223_38171022","body":"Please help with my similar question here <a href=\"http://stackoverflow.com/questions/38171022/how-to-map-multiple-parameter-names-to-pojo-when-binding-spring-mvc-command-obje?noredirect=1#comment63769223_38171022\" title=\"how to map multiple parameter names to pojo when binding spring mvc command obje\">stackoverflow.com/questions/38171022/&hellip;</a>"},{"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"score":0,"creation_date":1644154571,"post_id":8986593,"comment_id":125525212,"body_markdown":"Upstream bug: [Add @FormAttribute attributes to customize x-www-form-urlencoded SPR-13433](https://github.com/spring-projects/spring-framework/issues/18012)","body":"Upstream bug: <a href=\"https://github.com/spring-projects/spring-framework/issues/18012\" rel=\"nofollow noreferrer\">Add @FormAttribute attributes to customize x-www-form-urlencoded SPR-13433</a>"}],"answers":[{"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1327426071,"post_id":8986936,"comment_id":11267436,"body_markdown":"Yup, that&#39;s where I&#39;m investigating right now. I think I have a working solution, which I&#39;ll test tomorrow","body":"Yup, that&#39;s where I&#39;m investigating right now. I think I have a working solution, which I&#39;ll test tomorrow"}],"tags":[],"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1327413250,"creation_date":1327408725,"answer_id":8986936,"question_id":8986593,"body_markdown":"I would like to point you to another direction. *But I do not know if it works*.\r\n\r\nI would try to manipulate the binding itself.\r\n\r\nIt is done by `WebDataBinder` and will be invoked from `HandlerMethodInvoker` method `Object[] resolveHandlerArguments(Method handlerMethod, Object handler, NativeWebRequest webRequest, ExtendedModelMap implicitModel) throws Exception`\r\n\r\nI have no deep look in Spring 3.1, but what I have seen, is that this part of Spring has been changed a lot. So it is may possible to exchange the WebDataBinder. In Spring 3.0 it seams not possible without overriding the `HandlerMethodInvoker`.","title":"How to customize parameter names when binding Spring MVC command objects?","body":"<p>I would like to point you to another direction. <em>But I do not know if it works</em>.</p>\n\n<p>I would try to manipulate the binding itself.</p>\n\n<p>It is done by <code>WebDataBinder</code> and will be invoked from <code>HandlerMethodInvoker</code> method <code>Object[] resolveHandlerArguments(Method handlerMethod, Object handler, NativeWebRequest webRequest, ExtendedModelMap implicitModel) throws Exception</code></p>\n\n<p>I have no deep look in Spring 3.1, but what I have seen, is that this part of Spring has been changed a lot. So it is may possible to exchange the WebDataBinder. In Spring 3.0 it seams not possible without overriding the <code>HandlerMethodInvoker</code>.</p>\n"},{"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1327409696,"post_id":8987122,"comment_id":11261195,"body_markdown":"the target method is just 1, and it takes a Job object as argument. these strings are parameters, rather than locations","body":"the target method is just 1, and it takes a Job object as argument. these strings are parameters, rather than locations"},{"owner":{"account_id":136706,"reputation":12442,"user_id":340390,"accept_rate":81,"display_name":"Bitmap"},"score":0,"creation_date":1327410262,"post_id":8987122,"comment_id":11261408,"body_markdown":"The handler method takes the Job object which is the same object held by the `preHandle` method. Therefore checking your request parameter as shown above and returning true will cause the controller handler to proceed with the request.","body":"The handler method takes the Job object which is the same object held by the <code>preHandle</code> method. Therefore checking your request parameter as shown above and returning true will cause the controller handler to proceed with the request."},{"owner":{"account_id":136706,"reputation":12442,"user_id":340390,"accept_rate":81,"display_name":"Bitmap"},"score":0,"creation_date":1327410867,"post_id":8987122,"comment_id":11261607,"body_markdown":"I have edited the post to show how to intercept your job handler.","body":"I have edited the post to show how to intercept your job handler."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1327414179,"post_id":8987122,"comment_id":11262838,"body_markdown":"still, how would that set the proper parameters on the Job object?","body":"still, how would that set the proper parameters on the Job object?"},{"owner":{"account_id":136706,"reputation":12442,"user_id":340390,"accept_rate":81,"display_name":"Bitmap"},"score":0,"creation_date":1327425596,"post_id":8987122,"comment_id":11267277,"body_markdown":"See edited answer - may be this might help. Wrap &#39;HttpServletRequestWrapper&#39; around the request to enable you repass the parameter name and the value associated to it.","body":"See edited answer - may be this might help. Wrap &#39;HttpServletRequestWrapper&#39; around the request to enable you repass the parameter name and the value associated to it."}],"tags":[],"owner":{"account_id":136706,"reputation":12442,"user_id":340390,"accept_rate":81,"display_name":"Bitmap"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1327425545,"creation_date":1327409563,"answer_id":8987122,"question_id":8986593,"body_markdown":"Try intercepting request using *`InterceptorAdaptor`*, and then using simple checking mechanism decide whether to foward the request to the controller handler. Also wrap `HttpServletRequestWrapper` around the request, to enable you override the requests `getParameter()`.\r\n\r\nThis way you can repass the actual parameter name and its value back to the request to be seen by the controller.\r\n\r\nExample option:\r\n\r\n    public class JobInterceptor extends HandlerInterceptorAdapter {\r\n     private static final String requestLocations[]={&quot;rt&quot;, &quot;jobType&quot;};\r\n     \r\n     private boolean isEmpty(String arg)\r\n     {\r\n       return (arg !=null &amp;&amp; arg.length() &gt; 0);\r\n     }\r\n\r\n     public boolean preHandle(HttpServletRequest request,\r\n       HttpServletResponse response, Object handler) throws Exception {\r\n     \r\n       //Maybe something like this\r\n       if(!isEmpty(request.getParameter(requestLocations[0]))|| !isEmpty(request.getParameter(requestLocations[1]))\r\n       {\r\n        final String value =\r\n           !isEmpty(request.getParameter(requestLocations[0])) ? request.getParameter(requestLocations[0]) : !isEmpty(request\r\n            .getParameter(requestLocations[1])) ? request.getParameter(requestLocations[1]) : null;\r\n\r\n        HttpServletRequest wrapper = new HttpServletRequestWrapper(request)\r\n        {\r\n         public String getParameter(String name)\r\n         {\r\n          super.getParameterMap().put(&quot;JobType&quot;, value);\r\n          return super.getParameter(name);\r\n         }\r\n        };\r\n\r\n        //Accepted request - Handler should carry on.\r\n        return super.preHandle(request, response, handler);\r\n       }\r\n\r\n       //Ignore request if above condition was false\r\n       return false;\r\n       }\r\n     }\r\n\r\nFinally wrap the `HandlerInterceptorAdaptor` around your controller handler as shown below. The `SelectedAnnotationHandlerMapping` allows you to specify which handler will be interecepted.\r\n\r\n    &lt;bean id=&quot;jobInterceptor&quot; class=&quot;mypackage.JobInterceptor&quot;/&gt;\r\n    &lt;bean id=&quot;publicMapper&quot; class=&quot;org.springplugins.web.SelectedAnnotationHandlerMapping&quot;&gt;\r\n    \t&lt;property name=&quot;urls&quot;&gt;\r\n    \t\t&lt;list&gt;\r\n    \t\t\t&lt;value&gt;/foo&lt;/value&gt;\r\n    \t\t&lt;/list&gt;\r\n    \t&lt;/property&gt;\r\n    \t&lt;property name=&quot;interceptors&quot;&gt;\r\n    \t\t&lt;list&gt;\r\n    \t\t\t&lt;ref bean=&quot;jobInterceptor&quot;/&gt;\r\n    \t\t&lt;/list&gt;\r\n    \t&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n**EDITED**.","title":"How to customize parameter names when binding Spring MVC command objects?","body":"<p>Try intercepting request using <em><code>InterceptorAdaptor</code></em>, and then using simple checking mechanism decide whether to foward the request to the controller handler. Also wrap <code>HttpServletRequestWrapper</code> around the request, to enable you override the requests <code>getParameter()</code>.</p>\n\n<p>This way you can repass the actual parameter name and its value back to the request to be seen by the controller.</p>\n\n<p>Example option:</p>\n\n<pre><code>public class JobInterceptor extends HandlerInterceptorAdapter {\n private static final String requestLocations[]={\"rt\", \"jobType\"};\n\n private boolean isEmpty(String arg)\n {\n   return (arg !=null &amp;&amp; arg.length() &gt; 0);\n }\n\n public boolean preHandle(HttpServletRequest request,\n   HttpServletResponse response, Object handler) throws Exception {\n\n   //Maybe something like this\n   if(!isEmpty(request.getParameter(requestLocations[0]))|| !isEmpty(request.getParameter(requestLocations[1]))\n   {\n    final String value =\n       !isEmpty(request.getParameter(requestLocations[0])) ? request.getParameter(requestLocations[0]) : !isEmpty(request\n        .getParameter(requestLocations[1])) ? request.getParameter(requestLocations[1]) : null;\n\n    HttpServletRequest wrapper = new HttpServletRequestWrapper(request)\n    {\n     public String getParameter(String name)\n     {\n      super.getParameterMap().put(\"JobType\", value);\n      return super.getParameter(name);\n     }\n    };\n\n    //Accepted request - Handler should carry on.\n    return super.preHandle(request, response, handler);\n   }\n\n   //Ignore request if above condition was false\n   return false;\n   }\n }\n</code></pre>\n\n<p>Finally wrap the <code>HandlerInterceptorAdaptor</code> around your controller handler as shown below. The <code>SelectedAnnotationHandlerMapping</code> allows you to specify which handler will be interecepted.</p>\n\n<pre><code>&lt;bean id=\"jobInterceptor\" class=\"mypackage.JobInterceptor\"/&gt;\n&lt;bean id=\"publicMapper\" class=\"org.springplugins.web.SelectedAnnotationHandlerMapping\"&gt;\n    &lt;property name=\"urls\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;/foo&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n    &lt;property name=\"interceptors\"&gt;\n        &lt;list&gt;\n            &lt;ref bean=\"jobInterceptor\"/&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p><strong>EDITED</strong>.</p>\n"},{"comments":[{"owner":{"account_id":52723,"reputation":7596,"user_id":157591,"accept_rate":62,"display_name":"Peter Szanto"},"score":0,"creation_date":1327438007,"post_id":8991152,"comment_id":11271392,"body_markdown":"@Bozho yes it is not too sophisticated, but easy to read at least :)  (I updated the original post with a simplified solution)","body":"@Bozho yes it is not too sophisticated, but easy to read at least :)  (I updated the original post with a simplified solution)"},{"owner":{"account_id":3234420,"reputation":3542,"user_id":2728956,"accept_rate":66,"display_name":"Vadim Kirilchuk"},"score":2,"creation_date":1445879382,"post_id":8991152,"comment_id":54498639,"body_markdown":"Keep it simple, yeah.. It&#39;s a pity that spring doesn&#39;t support anything out-of-the-box =(","body":"Keep it simple, yeah.. It&#39;s a pity that spring doesn&#39;t support anything out-of-the-box =("},{"owner":{"account_id":1643572,"reputation":345,"user_id":1515568,"display_name":"Oscar Perez"},"score":1,"creation_date":1530710735,"post_id":8991152,"comment_id":89332345,"body_markdown":"That does not solve the original problem. i.e. autoconversion of parameters containing hyphens &quot;job-type&quot; to DTO using Spring","body":"That does not solve the original problem. i.e. autoconversion of parameters containing hyphens &quot;job-type&quot; to DTO using Spring"}],"tags":[],"owner":{"account_id":52723,"reputation":7596,"user_id":157591,"accept_rate":62,"display_name":"Peter Szanto"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1343301191,"creation_date":1327425515,"answer_id":8991152,"question_id":8986593,"body_markdown":"there is no nice built in way to do it, you can only choose which workaround you apply. The difference between handling\r\n\r\n    @RequestMapping(&quot;/foo&quot;)\r\n    public String doSomethingWithJob(Job job)\r\n\r\nand\r\n\r\n    @RequestMapping(&quot;/foo&quot;)\r\n    public String doSomethingWithJob(String stringjob)\r\n\r\nis that job is a bean and stringjob isn&#39;t (no surprise so far). The real difference is that beans are resolved with the standard Spring bean resolver mechanism, while string params are resolved by spring MVC that knows the concept of the @RequestParam annotation. To make the long story short there is no way in the standard spring bean resolution (that is using classes like PropertyValues, PropertyValue, GenericTypeAwarePropertyDescriptor) to resolve &quot;jt&quot; to a property called &quot;jobType&quot; or at least I dont know about it.\r\n\r\nThe workarounds coud be as others suggested to add a custom PropertyEditor or a filter, but I think it just messes up the code. In my opinion the cleanest solution would be to declare a class like this :\r\n\r\n\r\n    public class JobParam extends Job {\r\n        public String getJt() {\r\n             return super.job;\r\n        }\r\n    \r\n        public void setJt(String jt) {\r\n             super.job = jt;\r\n        }\r\n    \r\n    }\r\n\r\nthen use that in your controller\r\n\r\n    @RequestMapping(&quot;/foo&quot;)\r\n    public String doSomethingWithJob(JobParam job) {\r\n       ...\r\n    }\r\n\r\n**UPDATE :** \r\n\r\nA slightly simpler option is to not to extend, just add the extra getters, setters to the original class\r\n\r\n    public class Job {\r\n\r\n        private String jobType;\r\n        private String location;\r\n\r\n        public String getJt() {\r\n             return jobType;\r\n        }\r\n    \r\n        public void setJt(String jt) {\r\n             jobType = jt;\r\n        }\r\n\r\n    }\r\n","title":"How to customize parameter names when binding Spring MVC command objects?","body":"<p>there is no nice built in way to do it, you can only choose which workaround you apply. The difference between handling</p>\n\n<pre><code>@RequestMapping(\"/foo\")\npublic String doSomethingWithJob(Job job)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@RequestMapping(\"/foo\")\npublic String doSomethingWithJob(String stringjob)\n</code></pre>\n\n<p>is that job is a bean and stringjob isn't (no surprise so far). The real difference is that beans are resolved with the standard Spring bean resolver mechanism, while string params are resolved by spring MVC that knows the concept of the @RequestParam annotation. To make the long story short there is no way in the standard spring bean resolution (that is using classes like PropertyValues, PropertyValue, GenericTypeAwarePropertyDescriptor) to resolve \"jt\" to a property called \"jobType\" or at least I dont know about it.</p>\n\n<p>The workarounds coud be as others suggested to add a custom PropertyEditor or a filter, but I think it just messes up the code. In my opinion the cleanest solution would be to declare a class like this :</p>\n\n<pre><code>public class JobParam extends Job {\n    public String getJt() {\n         return super.job;\n    }\n\n    public void setJt(String jt) {\n         super.job = jt;\n    }\n\n}\n</code></pre>\n\n<p>then use that in your controller</p>\n\n<pre><code>@RequestMapping(\"/foo\")\npublic String doSomethingWithJob(JobParam job) {\n   ...\n}\n</code></pre>\n\n<p><strong>UPDATE :</strong> </p>\n\n<p>A slightly simpler option is to not to extend, just add the extra getters, setters to the original class</p>\n\n<pre><code>public class Job {\n\n    private String jobType;\n    private String location;\n\n    public String getJt() {\n         return jobType;\n    }\n\n    public void setJt(String jt) {\n         jobType = jt;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1706949,"reputation":5325,"user_id":1565829,"accept_rate":63,"display_name":"Ismar Slomic"},"score":0,"creation_date":1386886526,"post_id":9003314,"comment_id":30741259,"body_markdown":"It would be very helpful having an complete example of this, as Im not able to build the example above.","body":"It would be very helpful having an complete example of this, as Im not able to build the example above."},{"owner":{"account_id":1145947,"reputation":1878,"user_id":1128712,"accept_rate":50,"display_name":"SourceVisor"},"score":0,"creation_date":1467559415,"post_id":9003314,"comment_id":63769867,"body_markdown":"Please help with my similar question here http://stackoverflow.com/questions/38171022/how-to-map-multiple-parameter-names-to-pojo-when-binding-spring-mvc-command-obje?noredirect=1#comment63769223_38171022","body":"Please help with my similar question here <a href=\"http://stackoverflow.com/questions/38171022/how-to-map-multiple-parameter-names-to-pojo-when-binding-spring-mvc-command-obje?noredirect=1#comment63769223_38171022\" title=\"how to map multiple parameter names to pojo when binding spring mvc command obje\">stackoverflow.com/questions/38171022/&hellip;</a>"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1496755569,"post_id":9003314,"comment_id":75782364,"body_markdown":"How could this incomplete code be be the accepted answer? It is missing several classes like `SupportsAnnotationParameterResolution`, `@CommandPattern` and `@SupportsCustomizedBinding`, as well as the imports for `Maps.*` and `Lists.*`","body":"How could this incomplete code be be the accepted answer? It is missing several classes like <code>SupportsAnnotationParameterResolution</code>, <code>@CommandPattern</code> and <code>@SupportsCustomizedBinding</code>, as well as the imports for <code>Maps.*</code> and <code>Lists.*</code>"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1496841604,"post_id":9003314,"comment_id":75826583,"body_markdown":"Ok, the SupportsAnnotationParameterResolution is ment to be `SupportsCustomizedBinding`. So when creating both annotations, the approach works!","body":"Ok, the SupportsAnnotationParameterResolution is ment to be <code>SupportsCustomizedBinding</code>. So when creating both annotations, the approach works!"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":4,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1327497163,"creation_date":1327497163,"answer_id":9003314,"question_id":8986593,"body_markdown":"Here&#39;s what I got working:\r\n\r\nFirst, a parameter resolver:\r\n\r\n    /**\r\n     * This resolver handles command objects annotated with @SupportsAnnotationParameterResolution\r\n     * that are passed as parameters to controller methods.\r\n     * \r\n     * It parses @CommandPerameter annotations on command objects to\r\n     * populate the Binder with the appropriate values (that is, the filed names\r\n     * corresponding to the GET parameters)\r\n     * \r\n     * In order to achieve this, small pieces of code are copied from spring-mvc\r\n     * classes (indicated in-place). The alternative to the copied lines would be to\r\n     * have a decorator around the Binder, but that would be more tedious, and still\r\n     * some methods would need to be copied.\r\n     * \r\n     * @author bozho\r\n     * \r\n     */\r\n    public class AnnotationServletModelAttributeResolver extends ServletModelAttributeMethodProcessor {\r\n    \t\r\n    \t/**\r\n    \t * A map caching annotation definitions of command objects (@CommandParameter-to-fieldname mappings)\r\n    \t */\r\n    \tprivate ConcurrentMap&lt;Class&lt;?&gt;, Map&lt;String, String&gt;&gt; definitionsCache = Maps.newConcurrentMap();\r\n    \t\r\n    \tpublic AnnotationServletModelAttributeResolver(boolean annotationNotRequired) {\r\n    \t\tsuper(annotationNotRequired);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean supportsParameter(MethodParameter parameter) {\r\n    \t\tif (parameter.getParameterType().isAnnotationPresent(SupportsAnnotationParameterResolution.class)) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void bindRequestParameters(WebDataBinder binder, NativeWebRequest request) {\r\n    \t\tServletRequest servletRequest = request.getNativeRequest(ServletRequest.class);\r\n    \t\tServletRequestDataBinder servletBinder = (ServletRequestDataBinder) binder;\r\n    \t\tbind(servletRequest, servletBinder);\r\n    \t}\r\n    \t\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic void bind(ServletRequest request, ServletRequestDataBinder binder) {\r\n    \t\tMap&lt;String, ?&gt; propertyValues = parsePropertyValues(request, binder);\r\n    \t\tMutablePropertyValues mpvs = new MutablePropertyValues(propertyValues);\r\n    \t\tMultipartRequest multipartRequest = WebUtils.getNativeRequest(request, MultipartRequest.class);\r\n    \t\tif (multipartRequest != null) {\r\n    \t\t\tbindMultipart(multipartRequest.getMultiFileMap(), mpvs);\r\n    \t\t}\r\n    \t\t\r\n    \t\t// two lines copied from ExtendedServletRequestDataBinder\r\n    \t\tString attr = HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE;\r\n    \t\tmpvs.addPropertyValues((Map&lt;String, String&gt;) request.getAttribute(attr));\r\n    \t\tbinder.bind(mpvs);\r\n    \t}\r\n    \r\n    \tprivate Map&lt;String, ?&gt; parsePropertyValues(ServletRequest request, ServletRequestDataBinder binder) {\r\n    \t\t\r\n    \t\t// similar to WebUtils.getParametersStartingWith(..) (prefixes not supported)\r\n    \t\tMap&lt;String, Object&gt; params = Maps.newTreeMap();\r\n    \t\tAssert.notNull(request, &quot;Request must not be null&quot;);\r\n    \t\tEnumeration&lt;?&gt; paramNames = request.getParameterNames();\r\n    \t\tMap&lt;String, String&gt; parameterMappings = getParameterMappings(binder);\r\n    \t\twhile (paramNames != null &amp;&amp; paramNames.hasMoreElements()) {\r\n    \t\t\tString paramName = (String) paramNames.nextElement();\r\n    \t\t\tString[] values = request.getParameterValues(paramName);\r\n    \t\t\t\r\n    \t\t\tString fieldName = parameterMappings.get(paramName);\r\n    \t\t\t// no annotation exists, use the default - the param name=field name\r\n    \t\t\tif (fieldName == null) {\r\n    \t\t\t\tfieldName = paramName;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif (values == null || values.length == 0) {\r\n    \t\t\t\t// Do nothing, no values found at all.\r\n    \t\t\t} else if (values.length &gt; 1) {\r\n    \t\t\t\tparams.put(fieldName, values);\r\n    \t\t\t} else {\r\n    \t\t\t\tparams.put(fieldName, values[0]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn params;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Gets a mapping between request parameter names and field names.\r\n    \t * If no annotation is specified, no entry is added\r\n    \t * @return\r\n    \t */\r\n    \tprivate Map&lt;String, String&gt; getParameterMappings(ServletRequestDataBinder binder) {\r\n    \t\tClass&lt;?&gt; targetClass = binder.getTarget().getClass();\r\n    \t\tMap&lt;String, String&gt; map = definitionsCache.get(targetClass);\r\n    \t\tif (map == null) {\r\n    \t\t\tField[] fields = targetClass.getDeclaredFields();\r\n    \t\t\tmap = Maps.newHashMapWithExpectedSize(fields.length);\r\n    \t\t\tfor (Field field : fields) {\r\n    \t\t\t\tCommandParameter annotation = field.getAnnotation(CommandParameter.class);\r\n    \t\t\t\tif (annotation != null &amp;&amp; !annotation.value().isEmpty()) {\r\n    \t\t\t\t\tmap.put(annotation.value(), field.getName());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tdefinitionsCache.putIfAbsent(targetClass, map);\r\n    \t\t\treturn map;\r\n    \t\t} else {\r\n    \t\t\treturn map;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Copied from WebDataBinder.\r\n    \t * \r\n    \t * @param multipartFiles\r\n    \t * @param mpvs\r\n    \t */\r\n    \tprotected void bindMultipart(Map&lt;String, List&lt;MultipartFile&gt;&gt; multipartFiles, MutablePropertyValues mpvs) {\r\n    \t\tfor (Map.Entry&lt;String, List&lt;MultipartFile&gt;&gt; entry : multipartFiles.entrySet()) {\r\n    \t\t\tString key = entry.getKey();\r\n    \t\t\tList&lt;MultipartFile&gt; values = entry.getValue();\r\n    \t\t\tif (values.size() == 1) {\r\n    \t\t\t\tMultipartFile value = values.get(0);\r\n    \t\t\t\tif (!value.isEmpty()) {\r\n    \t\t\t\t\tmpvs.add(key, value);\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tmpvs.add(key, values);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAnd then registering the parameter resolver using a post-processor. It should be registered as a `&lt;bean&gt;`:\r\n\r\n\r\n    /**\r\n     * Post-processor to be used if any modifications to the handler adapter need to be made\r\n     * \r\n     * @author bozho\r\n     *\r\n     */\r\n    public class AnnotationHandlerMappingPostProcessor implements BeanPostProcessor {\r\n    \r\n    \t@Override\r\n    \tpublic Object postProcessAfterInitialization(Object bean, String arg1)\r\n    \t\t\tthrows BeansException {\r\n    \t\treturn bean;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object postProcessBeforeInitialization(Object bean, String arg1)\r\n    \t\t\tthrows BeansException {\r\n    \t\tif (bean instanceof RequestMappingHandlerAdapter) {\r\n    \t\t\tRequestMappingHandlerAdapter adapter = (RequestMappingHandlerAdapter) bean;\r\n    \t\t\tList&lt;HandlerMethodArgumentResolver&gt; resolvers = adapter.getCustomArgumentResolvers();\r\n    \t\t\tif (resolvers == null) {\r\n    \t\t\t\tresolvers = Lists.newArrayList();\r\n    \t\t\t}\r\n    \t\t\tresolvers.add(new AnnotationServletModelAttributeResolver(false));\r\n    \t\t\tadapter.setCustomArgumentResolvers(resolvers);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn bean;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"How to customize parameter names when binding Spring MVC command objects?","body":"<p>Here's what I got working:</p>\n\n<p>First, a parameter resolver:</p>\n\n<pre><code>/**\n * This resolver handles command objects annotated with @SupportsAnnotationParameterResolution\n * that are passed as parameters to controller methods.\n * \n * It parses @CommandPerameter annotations on command objects to\n * populate the Binder with the appropriate values (that is, the filed names\n * corresponding to the GET parameters)\n * \n * In order to achieve this, small pieces of code are copied from spring-mvc\n * classes (indicated in-place). The alternative to the copied lines would be to\n * have a decorator around the Binder, but that would be more tedious, and still\n * some methods would need to be copied.\n * \n * @author bozho\n * \n */\npublic class AnnotationServletModelAttributeResolver extends ServletModelAttributeMethodProcessor {\n\n    /**\n     * A map caching annotation definitions of command objects (@CommandParameter-to-fieldname mappings)\n     */\n    private ConcurrentMap&lt;Class&lt;?&gt;, Map&lt;String, String&gt;&gt; definitionsCache = Maps.newConcurrentMap();\n\n    public AnnotationServletModelAttributeResolver(boolean annotationNotRequired) {\n        super(annotationNotRequired);\n    }\n\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        if (parameter.getParameterType().isAnnotationPresent(SupportsAnnotationParameterResolution.class)) {\n            return true;\n        }\n        return false;\n    }\n\n    @Override\n    protected void bindRequestParameters(WebDataBinder binder, NativeWebRequest request) {\n        ServletRequest servletRequest = request.getNativeRequest(ServletRequest.class);\n        ServletRequestDataBinder servletBinder = (ServletRequestDataBinder) binder;\n        bind(servletRequest, servletBinder);\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public void bind(ServletRequest request, ServletRequestDataBinder binder) {\n        Map&lt;String, ?&gt; propertyValues = parsePropertyValues(request, binder);\n        MutablePropertyValues mpvs = new MutablePropertyValues(propertyValues);\n        MultipartRequest multipartRequest = WebUtils.getNativeRequest(request, MultipartRequest.class);\n        if (multipartRequest != null) {\n            bindMultipart(multipartRequest.getMultiFileMap(), mpvs);\n        }\n\n        // two lines copied from ExtendedServletRequestDataBinder\n        String attr = HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE;\n        mpvs.addPropertyValues((Map&lt;String, String&gt;) request.getAttribute(attr));\n        binder.bind(mpvs);\n    }\n\n    private Map&lt;String, ?&gt; parsePropertyValues(ServletRequest request, ServletRequestDataBinder binder) {\n\n        // similar to WebUtils.getParametersStartingWith(..) (prefixes not supported)\n        Map&lt;String, Object&gt; params = Maps.newTreeMap();\n        Assert.notNull(request, \"Request must not be null\");\n        Enumeration&lt;?&gt; paramNames = request.getParameterNames();\n        Map&lt;String, String&gt; parameterMappings = getParameterMappings(binder);\n        while (paramNames != null &amp;&amp; paramNames.hasMoreElements()) {\n            String paramName = (String) paramNames.nextElement();\n            String[] values = request.getParameterValues(paramName);\n\n            String fieldName = parameterMappings.get(paramName);\n            // no annotation exists, use the default - the param name=field name\n            if (fieldName == null) {\n                fieldName = paramName;\n            }\n\n            if (values == null || values.length == 0) {\n                // Do nothing, no values found at all.\n            } else if (values.length &gt; 1) {\n                params.put(fieldName, values);\n            } else {\n                params.put(fieldName, values[0]);\n            }\n        }\n\n        return params;\n    }\n\n    /**\n     * Gets a mapping between request parameter names and field names.\n     * If no annotation is specified, no entry is added\n     * @return\n     */\n    private Map&lt;String, String&gt; getParameterMappings(ServletRequestDataBinder binder) {\n        Class&lt;?&gt; targetClass = binder.getTarget().getClass();\n        Map&lt;String, String&gt; map = definitionsCache.get(targetClass);\n        if (map == null) {\n            Field[] fields = targetClass.getDeclaredFields();\n            map = Maps.newHashMapWithExpectedSize(fields.length);\n            for (Field field : fields) {\n                CommandParameter annotation = field.getAnnotation(CommandParameter.class);\n                if (annotation != null &amp;&amp; !annotation.value().isEmpty()) {\n                    map.put(annotation.value(), field.getName());\n                }\n            }\n            definitionsCache.putIfAbsent(targetClass, map);\n            return map;\n        } else {\n            return map;\n        }\n    }\n\n    /**\n     * Copied from WebDataBinder.\n     * \n     * @param multipartFiles\n     * @param mpvs\n     */\n    protected void bindMultipart(Map&lt;String, List&lt;MultipartFile&gt;&gt; multipartFiles, MutablePropertyValues mpvs) {\n        for (Map.Entry&lt;String, List&lt;MultipartFile&gt;&gt; entry : multipartFiles.entrySet()) {\n            String key = entry.getKey();\n            List&lt;MultipartFile&gt; values = entry.getValue();\n            if (values.size() == 1) {\n                MultipartFile value = values.get(0);\n                if (!value.isEmpty()) {\n                    mpvs.add(key, value);\n                }\n            } else {\n                mpvs.add(key, values);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And then registering the parameter resolver using a post-processor. It should be registered as a <code>&lt;bean&gt;</code>:</p>\n\n<pre><code>/**\n * Post-processor to be used if any modifications to the handler adapter need to be made\n * \n * @author bozho\n *\n */\npublic class AnnotationHandlerMappingPostProcessor implements BeanPostProcessor {\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String arg1)\n            throws BeansException {\n        return bean;\n    }\n\n    @Override\n    public Object postProcessBeforeInitialization(Object bean, String arg1)\n            throws BeansException {\n        if (bean instanceof RequestMappingHandlerAdapter) {\n            RequestMappingHandlerAdapter adapter = (RequestMappingHandlerAdapter) bean;\n            List&lt;HandlerMethodArgumentResolver&gt; resolvers = adapter.getCustomArgumentResolvers();\n            if (resolvers == null) {\n                resolvers = Lists.newArrayList();\n            }\n            resolvers.add(new AnnotationServletModelAttributeResolver(false));\n            adapter.setCustomArgumentResolvers(resolvers);\n        }\n\n        return bean;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1327960232,"post_id":9070515,"comment_id":11386638,"body_markdown":"Thanks, but if I need to override .createDtaBinderFactory, this means I should replace the RequestMappingHandlerAdapter, which means that I can&#39;t use `&lt;mvc:annotation-driven /&gt;`, right?","body":"Thanks, but if I need to override .createDtaBinderFactory, this means I should replace the RequestMappingHandlerAdapter, which means that I can&#39;t use <code>&lt;mvc:annotation-driven &#47;&gt;</code>, right?"},{"owner":{"account_id":222410,"reputation":4950,"user_id":480980,"display_name":"Rossen Stoyanchev"},"score":0,"creation_date":1328882170,"post_id":9070515,"comment_id":11621962,"body_markdown":"You&#39;re welcome. Yes, with &lt;mvc:annotation-driven /&gt; you can&#39;t plug a custom RequestMappingHandlerMapping. You can do it quite easily with the MVC Java config however.","body":"You&#39;re welcome. Yes, with &lt;mvc:annotation-driven /&gt; you can&#39;t plug a custom RequestMappingHandlerMapping. You can do it quite easily with the MVC Java config however."},{"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":0,"creation_date":1331246557,"post_id":9070515,"comment_id":12217021,"body_markdown":"@RossenStoyanchev: can you explain how can I plug in custom `MyWebDataBinder` with `@EnableWebMvc`? I see I have to subclass `ExtendedServletRequestDataBinder` and return it by subclassing `ServletRequestDataBinderFactory`. Now I can return this new factory by subclassing `RequestMappingHandlerAdapter` and overriding `createDataBinderFactory()`. But how can I force Spring MVC to use my subclassed `RequestMappingHandlerAdapter`? It is created in `WebMvcConfigurationSupport`...","body":"@RossenStoyanchev: can you explain how can I plug in custom <code>MyWebDataBinder</code> with <code>@EnableWebMvc</code>? I see I have to subclass <code>ExtendedServletRequestDataBinder</code> and return it by subclassing <code>ServletRequestDataBinderFactory</code>. Now I can return this new factory by subclassing <code>RequestMappingHandlerAdapter</code> and overriding <code>createDataBinderFactory()</code>. But how can I force Spring MVC to use my subclassed <code>RequestMappingHandlerAdapter</code>? It is created in <code>WebMvcConfigurationSupport</code>..."},{"owner":{"account_id":222410,"reputation":4950,"user_id":480980,"display_name":"Rossen Stoyanchev"},"score":1,"creation_date":1334600472,"post_id":9070515,"comment_id":13063311,"body_markdown":"@TomaszNurkiewicz, maybe you figured this out but if not see the section on advanced Java of XML-based Spring MVC configuration in the reference docs .. http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-config-advanced-java","body":"@TomaszNurkiewicz, maybe you figured this out but if not see the section on advanced Java of XML-based Spring MVC configuration in the reference docs .. <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-config-advanced-java\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/3.1.x/&hellip;</a>"},{"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":0,"creation_date":1335044734,"post_id":9070515,"comment_id":13196326,"body_markdown":"@RossenStoyanchev: actually it wasn&#39;t urgent but thanks for your suggestion, it finally works, +1!","body":"@RossenStoyanchev: actually it wasn&#39;t urgent but thanks for your suggestion, it finally works, +1!"}],"tags":[],"owner":{"account_id":222410,"reputation":4950,"user_id":480980,"display_name":"Rossen Stoyanchev"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1327956282,"creation_date":1327956282,"answer_id":9070515,"question_id":8986593,"body_markdown":"In Spring 3.1, ServletRequestDataBinder provides a hook for additional bind values:\r\n\r\n    protected void addBindValues(MutablePropertyValues mpvs, ServletRequest request) {\r\n    }\r\n\r\nThe ExtendedServletRequestDataBinder subclass uses it to add URI template variables as binding values. You could extend it further to make it possible to add command-specific field aliases.\r\n\r\nYou can override RequestMappingHandlerAdapter.createDataBinderFactory(..) to provide a custom WebDataBinder instance. From a controller&#39;s perspective it could look like this:\r\n\r\n    @InitBinder\r\n    public void initBinder(MyWebDataBinder binder) {\r\n       binder.addFieldAlias(&quot;jobType&quot;, &quot;jt&quot;);\r\n       // ...\r\n    }\r\n\r\n\r\n","title":"How to customize parameter names when binding Spring MVC command objects?","body":"<p>In Spring 3.1, ServletRequestDataBinder provides a hook for additional bind values:</p>\n\n<pre><code>protected void addBindValues(MutablePropertyValues mpvs, ServletRequest request) {\n}\n</code></pre>\n\n<p>The ExtendedServletRequestDataBinder subclass uses it to add URI template variables as binding values. You could extend it further to make it possible to add command-specific field aliases.</p>\n\n<p>You can override RequestMappingHandlerAdapter.createDataBinderFactory(..) to provide a custom WebDataBinder instance. From a controller's perspective it could look like this:</p>\n\n<pre><code>@InitBinder\npublic void initBinder(MyWebDataBinder binder) {\n   binder.addFieldAlias(\"jobType\", \"jt\");\n   // ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1752153,"reputation":857,"user_id":2672352,"display_name":"Simon"},"score":0,"creation_date":1444657908,"post_id":16520399,"comment_id":53982078,"body_markdown":"Appreciate your solution very much! One note: This preserves the functionality of the `DateTimeFormat` annotation, i.e. `@ParamName` annotated `Date` fields can addiotionally be annotated with `@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)`.","body":"Appreciate your solution very much! One note: This preserves the functionality of the <code>DateTimeFormat</code> annotation, i.e. <code>@ParamName</code> annotated <code>Date</code> fields can addiotionally be annotated with <code>@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)</code>."},{"owner":{"account_id":1752153,"reputation":857,"user_id":2672352,"display_name":"Simon"},"score":6,"creation_date":1444658080,"post_id":16520399,"comment_id":53982204,"body_markdown":"For all Java-config fans, a Spring context configuration in Java would look like this:\n\n`@Configuration\npublic class WebContextConfiguration extends WebMvcConfigurationSupport {\n\n\t@Override\n\tprotected void addArgumentResolvers(\n\t\t\tList&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n\t\targumentResolvers.add(renamingProcessor());\n\t}\n\n\t@Bean\n\tprotected RenamingProcessor renamingProcessor() {\n\t\treturn new RenamingProcessor(true);\n\t}\n}`\n\nNote that `extends WebMvcConfigurationSupport` replaces `@EnableWebMvc` and `&lt;mvc:annotation-driven /&gt;`.","body":"For all Java-config fans, a Spring context configuration in Java would look like this:  <code>@Configuration public class WebContextConfiguration extends WebMvcConfigurationSupport {  \t@Override \tprotected void addArgumentResolvers( \t\t\tList&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) { \t\targumentResolvers.add(renamingProcessor()); \t}  \t@Bean \tprotected RenamingProcessor renamingProcessor() { \t\treturn new RenamingProcessor(true); \t} }</code>  Note that <code>extends WebMvcConfigurationSupport</code> replaces <code>@EnableWebMvc</code> and <code>&lt;mvc:annotation-driven &#47;&gt;</code>."},{"owner":{"account_id":1145947,"reputation":1878,"user_id":1128712,"accept_rate":50,"display_name":"SourceVisor"},"score":0,"creation_date":1467559406,"post_id":16520399,"comment_id":63769865,"body_markdown":"Please help with my similar question here http://stackoverflow.com/questions/38171022/how-to-map-multiple-parameter-names-to-pojo-when-binding-spring-mvc-command-obje?noredirect=1#comment63769223_38171022","body":"Please help with my similar question here <a href=\"http://stackoverflow.com/questions/38171022/how-to-map-multiple-parameter-names-to-pojo-when-binding-spring-mvc-command-obje?noredirect=1#comment63769223_38171022\" title=\"how to map multiple parameter names to pojo when binding spring mvc command obje\">stackoverflow.com/questions/38171022/&hellip;</a>"},{"owner":{"account_id":80866,"reputation":11667,"user_id":228369,"accept_rate":79,"display_name":"chrismarx"},"score":2,"creation_date":1469629663,"post_id":16520399,"comment_id":64617727,"body_markdown":"Is there anything as of spring 4.2 that could help make this any easier?","body":"Is there anything as of spring 4.2 that could help make this any easier?"},{"owner":{"account_id":1272164,"reputation":717,"user_id":1228193,"accept_rate":36,"display_name":"Gerard Ribas"},"score":0,"creation_date":1475779447,"post_id":16520399,"comment_id":67092326,"body_markdown":"@chrismarx same question here somebody resolved this in Spring 4?","body":"@chrismarx same question here somebody resolved this in Spring 4?"},{"owner":{"account_id":9442932,"reputation":2017,"user_id":7022735,"accept_rate":40,"display_name":"rvit34"},"score":0,"creation_date":1490622331,"post_id":16520399,"comment_id":73180460,"body_markdown":"@Simon have you tested your java-config with last Spring MVC (4.3.7)? I was trying to use it for params in my DTO as a `@ModelAttribute` in post rest controller and found that `RenamingProcessor.bindRequestParameters` method is never called. Might it work for params are taken from GET requests only?","body":"@Simon have you tested your java-config with last Spring MVC (4.3.7)? I was trying to use it for params in my DTO as a <code>@ModelAttribute</code> in post rest controller and found that <code>RenamingProcessor.bindRequestParameters</code> method is never called. Might it work for params are taken from GET requests only?"},{"owner":{"account_id":1752153,"reputation":857,"user_id":2672352,"display_name":"Simon"},"score":0,"creation_date":1490686379,"post_id":16520399,"comment_id":73210499,"body_markdown":"No, I only tried it with Spring 3.2.x. Have you tried to add a breakpoint to the line `argumentResolvers.add(renamingProcessor())` to see if that is actually called?","body":"No, I only tried it with Spring 3.2.x. Have you tried to add a breakpoint to the line <code>argumentResolvers.add(renamingProcessor())</code> to see if that is actually called?"},{"owner":{"account_id":9442932,"reputation":2017,"user_id":7022735,"accept_rate":40,"display_name":"rvit34"},"score":0,"creation_date":1490703797,"post_id":16520399,"comment_id":73222168,"body_markdown":"@Simon Yeah. That code is called and renamingProcessor is added to resolvers but next nothing happens.","body":"@Simon Yeah. That code is called and renamingProcessor is added to resolvers but next nothing happens."},{"owner":{"account_id":9442932,"reputation":2017,"user_id":7022735,"accept_rate":40,"display_name":"rvit34"},"score":0,"creation_date":1491072659,"post_id":16520399,"comment_id":73396490,"body_markdown":"I solved my issue. Just need to remove @ModelAttribute","body":"I solved my issue. Just need to remove @ModelAttribute"},{"owner":{"account_id":1190548,"reputation":4725,"user_id":1163457,"accept_rate":91,"display_name":"dtrunk"},"score":0,"creation_date":1493143689,"post_id":16520399,"comment_id":74284881,"body_markdown":"I&#39;m facing the same problem as @rvit34. Removing `@ModelAttribute` doesn&#39;t work for me. Any other suggestions?","body":"I&#39;m facing the same problem as @rvit34. Removing <code>@ModelAttribute</code> doesn&#39;t work for me. Any other suggestions?"},{"owner":{"account_id":1190548,"reputation":4725,"user_id":1163457,"accept_rate":91,"display_name":"dtrunk"},"score":0,"creation_date":1493921845,"post_id":16520399,"comment_id":74620734,"body_markdown":"I&#39;ve found the reason why `bindRequestParameters` method is never called: &quot;When Spring needs to invoke your handler method, it&#39;ll iterate through the parameter types and through the above list and use the first one that supportsParameter().&quot; As there&#39;s already a ServletModelAttributeMethodProcessor in the list before the custom argument resolver it picks up that one as first and ignores the rest. Source: http://stackoverflow.com/a/18944736/1163457 Now I only need to find a way how to workaround that &quot;feature&quot;.","body":"I&#39;ve found the reason why <code>bindRequestParameters</code> method is never called: &quot;When Spring needs to invoke your handler method, it&#39;ll iterate through the parameter types and through the above list and use the first one that supportsParameter().&quot; As there&#39;s already a ServletModelAttributeMethodProcessor in the list before the custom argument resolver it picks up that one as first and ignores the rest. Source: <a href=\"http://stackoverflow.com/a/18944736/1163457\">stackoverflow.com/a/18944736/1163457</a> Now I only need to find a way how to workaround that &quot;feature&quot;."},{"owner":{"account_id":1190548,"reputation":4725,"user_id":1163457,"accept_rate":91,"display_name":"dtrunk"},"score":0,"creation_date":1493922283,"post_id":16520399,"comment_id":74620974,"body_markdown":"So removing `@ModelAttribute` annotation in conjunction with annotationNotRequired set to true works but that&#39;s not a suitable solution for me.","body":"So removing <code>@ModelAttribute</code> annotation in conjunction with annotationNotRequired set to true works but that&#39;s not a suitable solution for me."},{"owner":{"account_id":1190548,"reputation":4725,"user_id":1163457,"accept_rate":91,"display_name":"dtrunk"},"score":2,"creation_date":1493924848,"post_id":16520399,"comment_id":74622430,"body_markdown":"I&#39;ve worked around by replacing `addArgumentResolvers` with a bean post processor: https://pastebin.com/07ws0uUZ","body":"I&#39;ve worked around by replacing <code>addArgumentResolvers</code> with a bean post processor: <a href=\"https://pastebin.com/07ws0uUZ\" rel=\"nofollow noreferrer\">pastebin.com/07ws0uUZ</a>"},{"owner":{"account_id":104251,"reputation":52940,"user_id":278836,"accept_rate":88,"display_name":"Andrew White"},"score":0,"creation_date":1494513005,"post_id":16520399,"comment_id":74869856,"body_markdown":"Note that this overrides the binder and thus the &quot;state&quot; of the binder *such as errors) is lost on return","body":"Note that this overrides the binder and thus the &quot;state&quot; of the binder *such as errors) is lost on return"},{"owner":{"account_id":1576989,"reputation":1062,"user_id":1463168,"display_name":"Massimo"},"score":0,"creation_date":1505716682,"post_id":16520399,"comment_id":79508330,"body_markdown":"to the solution of dtrunk with the bean post processor I have to add that the bean RenamingProcessor should be instantiate with &quot;false&quot; in the costructor, so it takes only the parameters in the signature that have an annotation. ( @ModelAttribute in this case )\n\n`@Bean \nprotected RenamingProcessor renamingProcessor() { \n     return new RenamingProcessor(false); } \n}`","body":"to the solution of dtrunk with the bean post processor I have to add that the bean RenamingProcessor should be instantiate with &quot;false&quot; in the costructor, so it takes only the parameters in the signature that have an annotation. ( @ModelAttribute in this case )  <code>@Bean  protected RenamingProcessor renamingProcessor() {       return new RenamingProcessor(false); }  }</code>"},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1653843391,"post_id":16520399,"comment_id":127945092,"body_markdown":"Solution is not valid. You define class with Autowired in not a bean class. Adding Component requires creating some beans for annotationNotRequired and requestMappingHandlerAdapter","body":"Solution is not valid. You define class with Autowired in not a bean class. Adding Component requires creating some beans for annotationNotRequired and requestMappingHandlerAdapter"},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1690287666,"post_id":16520399,"comment_id":135329580,"body_markdown":"When I use this solution with spring-web 5.3.25 and using `WebMvcConfigurationSupport` I lose the functionality of the `DateTimeFormat`","body":"When I use this solution with spring-web 5.3.25 and using <code>WebMvcConfigurationSupport</code> I lose the functionality of the <code>DateTimeFormat</code>"}],"tags":[],"owner":{"account_id":1259811,"reputation":693,"user_id":1218443,"display_name":"jkee"},"comment_count":17,"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1368541757,"creation_date":1368442547,"answer_id":16520399,"question_id":8986593,"body_markdown":"This solution more concise but requires using RequestMappingHandlerAdapter, which Spring use when `&lt;mvc:annotation-driven /&gt;` enabled.\r\nHope it will help somebody.\r\nThe idea is to extend ServletRequestDataBinder like this:\r\n\r\n     /**\r\n     * ServletRequestDataBinder which supports fields renaming using {@link ParamName}\r\n     *\r\n     * @author jkee\r\n     */\r\n    public class ParamNameDataBinder extends ExtendedServletRequestDataBinder {\r\n    \r\n        private final Map&lt;String, String&gt; renameMapping;\r\n    \r\n        public ParamNameDataBinder(Object target, String objectName, Map&lt;String, String&gt; renameMapping) {\r\n            super(target, objectName);\r\n            this.renameMapping = renameMapping;\r\n        }\r\n    \r\n        @Override\r\n        protected void addBindValues(MutablePropertyValues mpvs, ServletRequest request) {\r\n            super.addBindValues(mpvs, request);\r\n            for (Map.Entry&lt;String, String&gt; entry : renameMapping.entrySet()) {\r\n                String from = entry.getKey();\r\n                String to = entry.getValue();\r\n                if (mpvs.contains(from)) {\r\n                    mpvs.add(to, mpvs.getPropertyValue(from).getValue());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAppropriate processor:\r\n\r\n    /**\r\n     * Method processor supports {@link ParamName} parameters renaming\r\n     *\r\n     * @author jkee\r\n     */\r\n    \r\n    public class RenamingProcessor extends ServletModelAttributeMethodProcessor {\r\n    \r\n        @Autowired\r\n        private RequestMappingHandlerAdapter requestMappingHandlerAdapter;\r\n\r\n        //Rename cache\r\n        private final Map&lt;Class&lt;?&gt;, Map&lt;String, String&gt;&gt; replaceMap = new ConcurrentHashMap&lt;Class&lt;?&gt;, Map&lt;String, String&gt;&gt;();\r\n    \r\n        public RenamingProcessor(boolean annotationNotRequired) {\r\n            super(annotationNotRequired);\r\n        }\r\n    \r\n        @Override\r\n        protected void bindRequestParameters(WebDataBinder binder, NativeWebRequest nativeWebRequest) {\r\n            Object target = binder.getTarget();\r\n            Class&lt;?&gt; targetClass = target.getClass();\r\n            if (!replaceMap.containsKey(targetClass)) {\r\n                Map&lt;String, String&gt; mapping = analyzeClass(targetClass);\r\n                replaceMap.put(targetClass, mapping);\r\n            }\r\n            Map&lt;String, String&gt; mapping = replaceMap.get(targetClass);\r\n            ParamNameDataBinder paramNameDataBinder = new ParamNameDataBinder(target, binder.getObjectName(), mapping);\r\n            requestMappingHandlerAdapter.getWebBindingInitializer().initBinder(paramNameDataBinder, nativeWebRequest);\r\n            super.bindRequestParameters(paramNameDataBinder, nativeWebRequest);\r\n        }\r\n    \r\n        private static Map&lt;String, String&gt; analyzeClass(Class&lt;?&gt; targetClass) {\r\n            Field[] fields = targetClass.getDeclaredFields();\r\n            Map&lt;String, String&gt; renameMap = new HashMap&lt;String, String&gt;();\r\n            for (Field field : fields) {\r\n                ParamName paramNameAnnotation = field.getAnnotation(ParamName.class);\r\n                if (paramNameAnnotation != null &amp;&amp; !paramNameAnnotation.value().isEmpty()) {\r\n                    renameMap.put(paramNameAnnotation.value(), field.getName());\r\n                }\r\n            }\r\n            if (renameMap.isEmpty()) return Collections.emptyMap();\r\n            return renameMap;\r\n        }\r\n    }\r\n\r\nAnnotation: \r\n\r\n    /**\r\n     * Overrides parameter name\r\n     * @author jkee\r\n     */\r\n    \r\n    @Target(ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    public @interface ParamName {\r\n    \r\n        /**\r\n         * The name of the request parameter to bind to.\r\n         */\r\n        String value();\r\n    \r\n    }\r\n\r\nSpring config:\r\n\r\n    &lt;mvc:annotation-driven&gt;\r\n        &lt;mvc:argument-resolvers&gt;\r\n            &lt;bean class=&quot;ru.yandex.metrika.util.params.RenamingProcessor&quot;&gt;\r\n                &lt;constructor-arg name=&quot;annotationNotRequired&quot; value=&quot;true&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/mvc:argument-resolvers&gt;\r\n    &lt;/mvc:annotation-driven&gt; \r\n\r\nAnd finally, usage (like Bozho solution):\r\n\r\n    public class Job {\r\n        @ParamName(&quot;job-type&quot;)\r\n        private String jobType;\r\n        @ParamName(&quot;loc&quot;)\r\n        private String location;\r\n    }","title":"How to customize parameter names when binding Spring MVC command objects?","body":"<p>This solution more concise but requires using RequestMappingHandlerAdapter, which Spring use when <code>&lt;mvc:annotation-driven /&gt;</code> enabled.\nHope it will help somebody.\nThe idea is to extend ServletRequestDataBinder like this:</p>\n\n<pre><code> /**\n * ServletRequestDataBinder which supports fields renaming using {@link ParamName}\n *\n * @author jkee\n */\npublic class ParamNameDataBinder extends ExtendedServletRequestDataBinder {\n\n    private final Map&lt;String, String&gt; renameMapping;\n\n    public ParamNameDataBinder(Object target, String objectName, Map&lt;String, String&gt; renameMapping) {\n        super(target, objectName);\n        this.renameMapping = renameMapping;\n    }\n\n    @Override\n    protected void addBindValues(MutablePropertyValues mpvs, ServletRequest request) {\n        super.addBindValues(mpvs, request);\n        for (Map.Entry&lt;String, String&gt; entry : renameMapping.entrySet()) {\n            String from = entry.getKey();\n            String to = entry.getValue();\n            if (mpvs.contains(from)) {\n                mpvs.add(to, mpvs.getPropertyValue(from).getValue());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Appropriate processor:</p>\n\n<pre><code>/**\n * Method processor supports {@link ParamName} parameters renaming\n *\n * @author jkee\n */\n\npublic class RenamingProcessor extends ServletModelAttributeMethodProcessor {\n\n    @Autowired\n    private RequestMappingHandlerAdapter requestMappingHandlerAdapter;\n\n    //Rename cache\n    private final Map&lt;Class&lt;?&gt;, Map&lt;String, String&gt;&gt; replaceMap = new ConcurrentHashMap&lt;Class&lt;?&gt;, Map&lt;String, String&gt;&gt;();\n\n    public RenamingProcessor(boolean annotationNotRequired) {\n        super(annotationNotRequired);\n    }\n\n    @Override\n    protected void bindRequestParameters(WebDataBinder binder, NativeWebRequest nativeWebRequest) {\n        Object target = binder.getTarget();\n        Class&lt;?&gt; targetClass = target.getClass();\n        if (!replaceMap.containsKey(targetClass)) {\n            Map&lt;String, String&gt; mapping = analyzeClass(targetClass);\n            replaceMap.put(targetClass, mapping);\n        }\n        Map&lt;String, String&gt; mapping = replaceMap.get(targetClass);\n        ParamNameDataBinder paramNameDataBinder = new ParamNameDataBinder(target, binder.getObjectName(), mapping);\n        requestMappingHandlerAdapter.getWebBindingInitializer().initBinder(paramNameDataBinder, nativeWebRequest);\n        super.bindRequestParameters(paramNameDataBinder, nativeWebRequest);\n    }\n\n    private static Map&lt;String, String&gt; analyzeClass(Class&lt;?&gt; targetClass) {\n        Field[] fields = targetClass.getDeclaredFields();\n        Map&lt;String, String&gt; renameMap = new HashMap&lt;String, String&gt;();\n        for (Field field : fields) {\n            ParamName paramNameAnnotation = field.getAnnotation(ParamName.class);\n            if (paramNameAnnotation != null &amp;&amp; !paramNameAnnotation.value().isEmpty()) {\n                renameMap.put(paramNameAnnotation.value(), field.getName());\n            }\n        }\n        if (renameMap.isEmpty()) return Collections.emptyMap();\n        return renameMap;\n    }\n}\n</code></pre>\n\n<p>Annotation: </p>\n\n<pre><code>/**\n * Overrides parameter name\n * @author jkee\n */\n\n@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface ParamName {\n\n    /**\n     * The name of the request parameter to bind to.\n     */\n    String value();\n\n}\n</code></pre>\n\n<p>Spring config:</p>\n\n<pre><code>&lt;mvc:annotation-driven&gt;\n    &lt;mvc:argument-resolvers&gt;\n        &lt;bean class=\"ru.yandex.metrika.util.params.RenamingProcessor\"&gt;\n            &lt;constructor-arg name=\"annotationNotRequired\" value=\"true\"/&gt;\n        &lt;/bean&gt;\n    &lt;/mvc:argument-resolvers&gt;\n&lt;/mvc:annotation-driven&gt; \n</code></pre>\n\n<p>And finally, usage (like Bozho solution):</p>\n\n<pre><code>public class Job {\n    @ParamName(\"job-type\")\n    private String jobType;\n    @ParamName(\"loc\")\n    private String location;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6119678,"reputation":157,"user_id":4773603,"display_name":"Demel"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1498729705,"creation_date":1486113420,"answer_id":42020690,"question_id":8986593,"body_markdown":"You can use Jackson com.fasterxml.jackson.databind.ObjectMapper to convert any map to your DTO/POJO class with nested props. You need annotate your POJOs with @JsonUnwrapped on nested object. Like this:\r\n\r\n    public class MyRequest {\r\n\r\n    \t@JsonUnwrapped\r\n    \tprivate NestedObject nested;\r\n    \r\n    \tpublic NestedObject getNested() {\r\n    \t\treturn nested;\r\n    \t}\r\n    }\r\nAnd than use it like this:\r\n\r\n\t@RequestMapping(method = RequestMethod.GET, value = &quot;/myMethod&quot;)\r\n\t@ResponseBody\r\n\tpublic Object myMethod(@RequestParam Map&lt;String, Object&gt; allRequestParams) {\r\n\r\n\t\tMyRequest request = new ObjectMapper().convertValue(allRequestParams, MyRequest.class);\r\n        ...\r\n    }\r\n\r\nThat&#39;s all. A little coding. Also, you **can give any names to your props** usign @JsonProperty.","title":"How to customize parameter names when binding Spring MVC command objects?","body":"<p>You can use Jackson com.fasterxml.jackson.databind.ObjectMapper to convert any map to your DTO/POJO class with nested props. You need annotate your POJOs with @JsonUnwrapped on nested object. Like this:</p>\n\n<pre><code>public class MyRequest {\n\n    @JsonUnwrapped\n    private NestedObject nested;\n\n    public NestedObject getNested() {\n        return nested;\n    }\n}\n</code></pre>\n\n<p>And than use it like this:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = \"/myMethod\")\n@ResponseBody\npublic Object myMethod(@RequestParam Map&lt;String, Object&gt; allRequestParams) {\n\n    MyRequest request = new ObjectMapper().convertValue(allRequestParams, MyRequest.class);\n    ...\n}\n</code></pre>\n\n<p>That's all. A little coding. Also, you <strong>can give any names to your props</strong> usign @JsonProperty.</p>\n"},{"comments":[{"owner":{"account_id":1643572,"reputation":345,"user_id":1515568,"display_name":"Oscar Perez"},"score":3,"creation_date":1530710796,"post_id":42465707,"comment_id":89332375,"body_markdown":"How about parameters with hyphens? How does Spring automagically convert those?","body":"How about parameters with hyphens? How does Spring automagically convert those?"}],"tags":[],"owner":{"account_id":6870231,"reputation":121,"user_id":5280899,"display_name":"Jack"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1488092658,"creation_date":1488092658,"answer_id":42465707,"question_id":8986593,"body_markdown":"There is a simple way, you can just add one more setter method, like &quot;setLoc,setJt&quot;.","title":"How to customize parameter names when binding Spring MVC command objects?","body":"<p>There is a simple way, you can just add one more setter method, like \"setLoc,setJt\".</p>\n"},{"comments":[{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":0,"creation_date":1589468873,"post_id":51111890,"comment_id":109312690,"body_markdown":"How is this different from what @jkee contributed?","body":"How is this different from what @jkee contributed?"},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1653843566,"post_id":51111890,"comment_id":127945138,"body_markdown":"How you autowiring in the nonbean class??????","body":"How you autowiring in the nonbean class??????"},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1653843985,"post_id":51111890,"comment_id":127945263,"body_markdown":"paramNameProcessor (field private org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter com.example.jpastudy.config.ParamNameProcessor.requestMappingHandlerAdapter)\nâ†‘     â†“\n|  requestMappingHandlerAdapter defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]","body":"paramNameProcessor (field private org.springframework.web.servlet.mvc.method.annotation.Reques&zwnj;&#8203;tMappingHandlerAdapt&zwnj;&#8203;er com.example.jpastudy.config.ParamNameProcessor.requestMappin&zwnj;&#8203;gHandlerAdapter) â†‘     â†“ |  requestMappingHandlerAdapter defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAu&zwnj;&#8203;toConfiguration$Enab&zwnj;&#8203;leWebMvcConfiguratio&zwnj;&#8203;n.class]"}],"tags":[],"owner":{"account_id":4807317,"reputation":153,"user_id":8018590,"display_name":"Allen Kerr"},"comment_count":3,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1530334965,"creation_date":1530334965,"answer_id":51111890,"question_id":8986593,"body_markdown":"Thanks the answer of @jkee .  \r\nHere is my solution.  \r\nFirst, a custom annotation:\r\n\r\n    @Inherited\r\n    @Documented\r\n    @Target(ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface ParamName {\r\n    \r\n      /**\r\n       * The name of the request parameter to bind to.\r\n       */\r\n      String value();\r\n    \r\n    }\r\nA customer DataBinder:\r\n\r\n    public class ParamNameDataBinder extends ExtendedServletRequestDataBinder {\r\n    \r\n      private final Map&lt;String, String&gt; paramMappings;\r\n    \r\n      public ParamNameDataBinder(Object target, String objectName, Map&lt;String, String&gt; paramMappings) {\r\n        super(target, objectName);\r\n        this.paramMappings = paramMappings;\r\n      }\r\n    \r\n      @Override\r\n      protected void addBindValues(MutablePropertyValues mutablePropertyValues, ServletRequest request) {\r\n        super.addBindValues(mutablePropertyValues, request);\r\n        for (Map.Entry&lt;String, String&gt; entry : paramMappings.entrySet()) {\r\n          String paramName = entry.getKey();\r\n          String fieldName = entry.getValue();\r\n          if (mutablePropertyValues.contains(paramName)) {\r\n            mutablePropertyValues.add(fieldName, mutablePropertyValues.getPropertyValue(paramName).getValue());\r\n          }\r\n        }\r\n      }\r\n    \r\n    }\r\nA parameter resolver:\r\n\r\n    public class ParamNameProcessor extends ServletModelAttributeMethodProcessor {\r\n    \r\n      @Autowired\r\n      private RequestMappingHandlerAdapter requestMappingHandlerAdapter;\r\n    \r\n      private static final Map&lt;Class&lt;?&gt;, Map&lt;String, String&gt;&gt; PARAM_MAPPINGS_CACHE = new ConcurrentHashMap&lt;&gt;(256);\r\n    \r\n      public ParamNameProcessor() {\r\n        super(false);\r\n      }\r\n    \r\n      @Override\r\n      public boolean supportsParameter(MethodParameter parameter) {\r\n        return parameter.hasParameterAnnotation(RequestParam.class)\r\n            &amp;&amp; !BeanUtils.isSimpleProperty(parameter.getParameterType())\r\n            &amp;&amp; Arrays.stream(parameter.getParameterType().getDeclaredFields())\r\n            .anyMatch(field -&gt; field.getAnnotation(ParamName.class) != null);\r\n      }\r\n    \r\n      @Override\r\n      protected void bindRequestParameters(WebDataBinder binder, NativeWebRequest nativeWebRequest) {\r\n        Object target = binder.getTarget();\r\n        Map&lt;String, String&gt; paramMappings = this.getParamMappings(target.getClass());\r\n        ParamNameDataBinder paramNameDataBinder = new ParamNameDataBinder(target, binder.getObjectName(), paramMappings);\r\n        requestMappingHandlerAdapter.getWebBindingInitializer().initBinder(paramNameDataBinder, nativeWebRequest);\r\n        super.bindRequestParameters(paramNameDataBinder, nativeWebRequest);\r\n      }\r\n    \r\n      /**\r\n       * Get param mappings.\r\n       * Cache param mappings in memory.\r\n       *\r\n       * @param targetClass\r\n       * @return {@link Map&lt;String, String&gt;}\r\n       */\r\n      private Map&lt;String, String&gt; getParamMappings(Class&lt;?&gt; targetClass) {\r\n        if (PARAM_MAPPINGS_CACHE.containsKey(targetClass)) {\r\n          return PARAM_MAPPINGS_CACHE.get(targetClass);\r\n        }\r\n        Field[] fields = targetClass.getDeclaredFields();\r\n        Map&lt;String, String&gt; paramMappings = new HashMap&lt;&gt;(32);\r\n        for (Field field : fields) {\r\n          ParamName paramName = field.getAnnotation(ParamName.class);\r\n          if (paramName != null &amp;&amp; !paramName.value().isEmpty()) {\r\n            paramMappings.put(paramName.value(), field.getName());\r\n          }\r\n        }\r\n        PARAM_MAPPINGS_CACHE.put(targetClass, paramMappings);\r\n        return paramMappings;\r\n      }\r\n    \r\n    }\r\nFinally, a bean configuration for adding ParamNameProcessor into the first of argument resolvers:\r\n\r\n    @Configuration\r\n    public class WebConfig {\r\n    \r\n      /**\r\n       * Processor for annotation {@link ParamName}.\r\n       *\r\n       * @return ParamNameProcessor\r\n       */\r\n      @Bean\r\n      protected ParamNameProcessor paramNameProcessor() {\r\n        return new ParamNameProcessor();\r\n      }\r\n    \r\n      /**\r\n       * Custom {@link BeanPostProcessor} for adding {@link ParamNameProcessor} into the first of\r\n       * {@link RequestMappingHandlerAdapter#argumentResolvers}.\r\n       *\r\n       * @return BeanPostProcessor\r\n       */\r\n      @Bean\r\n      public BeanPostProcessor beanPostProcessor() {\r\n        return new BeanPostProcessor() {\r\n    \r\n          @Override\r\n          public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\r\n            return bean;\r\n          }\r\n    \r\n          @Override\r\n          public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n            if (bean instanceof RequestMappingHandlerAdapter) {\r\n              RequestMappingHandlerAdapter adapter = (RequestMappingHandlerAdapter) bean;\r\n              List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers = new ArrayList&lt;&gt;(adapter.getArgumentResolvers());\r\n              argumentResolvers.add(0, paramNameProcessor());\r\n              adapter.setArgumentResolvers(argumentResolvers);\r\n            }\r\n            return bean;\r\n          }\r\n        };\r\n      }\r\n    \r\n    }\r\n\r\nParam pojo:\r\n\r\n    @Data\r\n    public class Foo {\r\n    \r\n      private Integer id;\r\n    \r\n      @ParamName(&quot;first_name&quot;)\r\n      private String firstName;\r\n    \r\n      @ParamName(&quot;last_name&quot;)\r\n      private String lastName;\r\n    \r\n      @ParamName(&quot;created_at&quot;)\r\n      @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n      private Date createdAt;\r\n    \r\n    }\r\nController method:\r\n\r\n    @GetMapping(&quot;/foos&quot;)\r\n    public ResponseEntity&lt;List&lt;Foo&gt;&gt; listFoos(@RequestParam Foo foo, @PageableDefault(sort = &quot;id&quot;) Pageable pageable) {\r\n      List&lt;Foo&gt; foos = fooService.listFoos(foo, pageable);\r\n      return ResponseEntity.ok(foos);\r\n    }\r\n\r\nThat&#39;s all.","title":"How to customize parameter names when binding Spring MVC command objects?","body":"<p>Thanks the answer of @jkee .<br>\nHere is my solution.<br>\nFirst, a custom annotation:</p>\n\n<pre><code>@Inherited\n@Documented\n@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ParamName {\n\n  /**\n   * The name of the request parameter to bind to.\n   */\n  String value();\n\n}\n</code></pre>\n\n<p>A customer DataBinder:</p>\n\n<pre><code>public class ParamNameDataBinder extends ExtendedServletRequestDataBinder {\n\n  private final Map&lt;String, String&gt; paramMappings;\n\n  public ParamNameDataBinder(Object target, String objectName, Map&lt;String, String&gt; paramMappings) {\n    super(target, objectName);\n    this.paramMappings = paramMappings;\n  }\n\n  @Override\n  protected void addBindValues(MutablePropertyValues mutablePropertyValues, ServletRequest request) {\n    super.addBindValues(mutablePropertyValues, request);\n    for (Map.Entry&lt;String, String&gt; entry : paramMappings.entrySet()) {\n      String paramName = entry.getKey();\n      String fieldName = entry.getValue();\n      if (mutablePropertyValues.contains(paramName)) {\n        mutablePropertyValues.add(fieldName, mutablePropertyValues.getPropertyValue(paramName).getValue());\n      }\n    }\n  }\n\n}\n</code></pre>\n\n<p>A parameter resolver:</p>\n\n<pre><code>public class ParamNameProcessor extends ServletModelAttributeMethodProcessor {\n\n  @Autowired\n  private RequestMappingHandlerAdapter requestMappingHandlerAdapter;\n\n  private static final Map&lt;Class&lt;?&gt;, Map&lt;String, String&gt;&gt; PARAM_MAPPINGS_CACHE = new ConcurrentHashMap&lt;&gt;(256);\n\n  public ParamNameProcessor() {\n    super(false);\n  }\n\n  @Override\n  public boolean supportsParameter(MethodParameter parameter) {\n    return parameter.hasParameterAnnotation(RequestParam.class)\n        &amp;&amp; !BeanUtils.isSimpleProperty(parameter.getParameterType())\n        &amp;&amp; Arrays.stream(parameter.getParameterType().getDeclaredFields())\n        .anyMatch(field -&gt; field.getAnnotation(ParamName.class) != null);\n  }\n\n  @Override\n  protected void bindRequestParameters(WebDataBinder binder, NativeWebRequest nativeWebRequest) {\n    Object target = binder.getTarget();\n    Map&lt;String, String&gt; paramMappings = this.getParamMappings(target.getClass());\n    ParamNameDataBinder paramNameDataBinder = new ParamNameDataBinder(target, binder.getObjectName(), paramMappings);\n    requestMappingHandlerAdapter.getWebBindingInitializer().initBinder(paramNameDataBinder, nativeWebRequest);\n    super.bindRequestParameters(paramNameDataBinder, nativeWebRequest);\n  }\n\n  /**\n   * Get param mappings.\n   * Cache param mappings in memory.\n   *\n   * @param targetClass\n   * @return {@link Map&lt;String, String&gt;}\n   */\n  private Map&lt;String, String&gt; getParamMappings(Class&lt;?&gt; targetClass) {\n    if (PARAM_MAPPINGS_CACHE.containsKey(targetClass)) {\n      return PARAM_MAPPINGS_CACHE.get(targetClass);\n    }\n    Field[] fields = targetClass.getDeclaredFields();\n    Map&lt;String, String&gt; paramMappings = new HashMap&lt;&gt;(32);\n    for (Field field : fields) {\n      ParamName paramName = field.getAnnotation(ParamName.class);\n      if (paramName != null &amp;&amp; !paramName.value().isEmpty()) {\n        paramMappings.put(paramName.value(), field.getName());\n      }\n    }\n    PARAM_MAPPINGS_CACHE.put(targetClass, paramMappings);\n    return paramMappings;\n  }\n\n}\n</code></pre>\n\n<p>Finally, a bean configuration for adding ParamNameProcessor into the first of argument resolvers:</p>\n\n<pre><code>@Configuration\npublic class WebConfig {\n\n  /**\n   * Processor for annotation {@link ParamName}.\n   *\n   * @return ParamNameProcessor\n   */\n  @Bean\n  protected ParamNameProcessor paramNameProcessor() {\n    return new ParamNameProcessor();\n  }\n\n  /**\n   * Custom {@link BeanPostProcessor} for adding {@link ParamNameProcessor} into the first of\n   * {@link RequestMappingHandlerAdapter#argumentResolvers}.\n   *\n   * @return BeanPostProcessor\n   */\n  @Bean\n  public BeanPostProcessor beanPostProcessor() {\n    return new BeanPostProcessor() {\n\n      @Override\n      public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n        return bean;\n      }\n\n      @Override\n      public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n        if (bean instanceof RequestMappingHandlerAdapter) {\n          RequestMappingHandlerAdapter adapter = (RequestMappingHandlerAdapter) bean;\n          List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers = new ArrayList&lt;&gt;(adapter.getArgumentResolvers());\n          argumentResolvers.add(0, paramNameProcessor());\n          adapter.setArgumentResolvers(argumentResolvers);\n        }\n        return bean;\n      }\n    };\n  }\n\n}\n</code></pre>\n\n<p>Param pojo:</p>\n\n<pre><code>@Data\npublic class Foo {\n\n  private Integer id;\n\n  @ParamName(\"first_name\")\n  private String firstName;\n\n  @ParamName(\"last_name\")\n  private String lastName;\n\n  @ParamName(\"created_at\")\n  @DateTimeFormat(pattern = \"yyyy-MM-dd\")\n  private Date createdAt;\n\n}\n</code></pre>\n\n<p>Controller method:</p>\n\n<pre><code>@GetMapping(\"/foos\")\npublic ResponseEntity&lt;List&lt;Foo&gt;&gt; listFoos(@RequestParam Foo foo, @PageableDefault(sort = \"id\") Pageable pageable) {\n  List&lt;Foo&gt; foos = fooService.listFoos(foo, pageable);\n  return ResponseEntity.ok(foos);\n}\n</code></pre>\n\n<p>That's all.</p>\n"},{"tags":[],"owner":{"account_id":8447886,"reputation":95,"user_id":6337832,"display_name":"Gene Parmon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545047421,"creation_date":1545047120,"answer_id":53814583,"question_id":8986593,"body_markdown":"There&#39;s a little improvement to jkee&#39;s answer. \r\n\r\nIn order to support inheritance you should also analyze parent classes.\r\n\r\n    /**\r\n     * ServletRequestDataBinder which supports fields renaming using {@link ParamName}\r\n     *\r\n     * @author jkee\r\n     * @author Yauhen Parmon\r\n     */\r\n    public class ParamRenamingProcessor extends ServletModelAttributeMethodProcessor {\r\n            \r\n        @Autowired\r\n        private RequestMappingHandlerAdapter requestMappingHandlerAdapter;\r\n            \r\n        //Rename cache\r\n        private final Map&lt;Class&lt;?&gt;, Map&lt;String, String&gt;&gt; replaceMap = new ConcurrentHashMap&lt;&gt;();\r\n            \r\n        public ParamRenamingProcessor(boolean annotationNotRequired) {\r\n           super(annotationNotRequired);\r\n        }\r\n            \r\n        @Override\r\n        protected void bindRequestParameters(WebDataBinder binder, NativeWebRequest nativeWebRequest) {\r\n            Object target = binder.getTarget();\r\n            Class&lt;?&gt; targetClass = Objects.requireNonNull(target).getClass();\r\n            if (!replaceMap.containsKey(targetClass)) {\r\n                replaceMap.put(targetClass, analyzeClass(targetClass));\r\n            }\r\n            Map&lt;String, String&gt; mapping = replaceMap.get(targetClass);\r\n            ParamNameDataBinder paramNameDataBinder = new ParamNameDataBinder(target, binder.getObjectName(), mapping);\r\n            Objects.requireNonNull(requestMappingHandlerAdapter.getWebBindingInitializer())\r\n                    .initBinder(paramNameDataBinder);    \r\n            super.bindRequestParameters(paramNameDataBinder, nativeWebRequest);\r\n        }\r\n            \r\n        private Map&lt;String, String&gt; analyzeClass(Class&lt;?&gt; targetClass) {\r\n            Map&lt;String, String&gt; renameMap = new HashMap&lt;&gt;();\r\n            for (Field field : targetClass.getDeclaredFields()) {\r\n                ParamName paramNameAnnotation = field.getAnnotation(ParamName.class);\r\n                if (paramNameAnnotation != null &amp;&amp; !paramNameAnnotation.value().isEmpty()) {\r\n                   renameMap.put(paramNameAnnotation.value(), field.getName());\r\n                }\r\n            }\r\n            if (targetClass.getSuperclass() != Object.class) {\r\n                renameMap.putAll(analyzeClass(targetClass.getSuperclass()));\r\n            }\r\n            return renameMap;\r\n        }\r\n    }\r\n\r\nThis processor will analyze fields of superclasses annotated with @ParamName. It also doesn&#39;t use `initBinder` method with 2 parameters which is deprecated as of Spring 5.0. All the rest in jkee&#39;s answer is OK. ","title":"How to customize parameter names when binding Spring MVC command objects?","body":"<p>There's a little improvement to jkee's answer. </p>\n\n<p>In order to support inheritance you should also analyze parent classes.</p>\n\n<pre><code>/**\n * ServletRequestDataBinder which supports fields renaming using {@link ParamName}\n *\n * @author jkee\n * @author Yauhen Parmon\n */\npublic class ParamRenamingProcessor extends ServletModelAttributeMethodProcessor {\n\n    @Autowired\n    private RequestMappingHandlerAdapter requestMappingHandlerAdapter;\n\n    //Rename cache\n    private final Map&lt;Class&lt;?&gt;, Map&lt;String, String&gt;&gt; replaceMap = new ConcurrentHashMap&lt;&gt;();\n\n    public ParamRenamingProcessor(boolean annotationNotRequired) {\n       super(annotationNotRequired);\n    }\n\n    @Override\n    protected void bindRequestParameters(WebDataBinder binder, NativeWebRequest nativeWebRequest) {\n        Object target = binder.getTarget();\n        Class&lt;?&gt; targetClass = Objects.requireNonNull(target).getClass();\n        if (!replaceMap.containsKey(targetClass)) {\n            replaceMap.put(targetClass, analyzeClass(targetClass));\n        }\n        Map&lt;String, String&gt; mapping = replaceMap.get(targetClass);\n        ParamNameDataBinder paramNameDataBinder = new ParamNameDataBinder(target, binder.getObjectName(), mapping);\n        Objects.requireNonNull(requestMappingHandlerAdapter.getWebBindingInitializer())\n                .initBinder(paramNameDataBinder);    \n        super.bindRequestParameters(paramNameDataBinder, nativeWebRequest);\n    }\n\n    private Map&lt;String, String&gt; analyzeClass(Class&lt;?&gt; targetClass) {\n        Map&lt;String, String&gt; renameMap = new HashMap&lt;&gt;();\n        for (Field field : targetClass.getDeclaredFields()) {\n            ParamName paramNameAnnotation = field.getAnnotation(ParamName.class);\n            if (paramNameAnnotation != null &amp;&amp; !paramNameAnnotation.value().isEmpty()) {\n               renameMap.put(paramNameAnnotation.value(), field.getName());\n            }\n        }\n        if (targetClass.getSuperclass() != Object.class) {\n            renameMap.putAll(analyzeClass(targetClass.getSuperclass()));\n        }\n        return renameMap;\n    }\n}\n</code></pre>\n\n<p>This processor will analyze fields of superclasses annotated with @ParamName. It also doesn't use <code>initBinder</code> method with 2 parameters which is deprecated as of Spring 5.0. All the rest in jkee's answer is OK. </p>\n"},{"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690373246,"creation_date":1690373246,"answer_id":76771124,"question_id":8986593,"body_markdown":"I tried the above but found that I was missing some configured functionality of the WebBinder so instead I created a solution that uses Jackson instead.\r\n\r\nFirst I implemented an `ArgumentResolver` that looks for a specific class-level annotation `UsingJacksonMapping` to determine if it should be responsible for arguments of this type.\r\n\r\n```\r\n\r\npublic class ObjectMapperParameterArgumentHandler implements HandlerMethodArgumentResolver {\r\n\r\n  /**\r\n   * Marks a Spring method argument parameter class as being marshalled via Jackson INSTEAD of\r\n   * Spring&#39;s standard WebBinder. This can be helpful in order to use Jackson annotations for\r\n   * property names and format. To use the argument resolver must be registered.\r\n   *\r\n   * &lt;pre&gt;\r\n   * &amp;#064;ObjectMapperParameterArgumentHandler.UsingJacksonMapping\r\n   * &lt;/pre&gt;\r\n   */\r\n  @Target(ElementType.TYPE)\r\n  @Retention(RetentionPolicy.RUNTIME)\r\n  @Documented\r\n  public @interface UsingJacksonMapping {}\r\n\r\n  private static final ObjectMapper OBJECT_MAPPER = ObjectMapperUtils.createObjectMapper();\r\n\r\n  static {\r\n    OBJECT_MAPPER.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    OBJECT_MAPPER.configure(DeserializationFeature.UNWRAP_SINGLE_VALUE_ARRAYS, true);\r\n  }\r\n\r\n  @Override\r\n  public boolean supportsParameter(MethodParameter parameter) {\r\n    Class&lt;?&gt; parameterType = parameter.getParameterType();\r\n    boolean result = markedWithUsingJacksonMapping(parameterType);\r\n    if (result) {\r\n      log.debug(&quot;Using Jackson mapping for {}&quot;, parameterType.getName());\r\n    }\r\n    return result;\r\n  }\r\n\r\n  private boolean markedWithUsingJacksonMapping(Class&lt;?&gt; type) {\r\n    if (type.equals(Object.class)) {\r\n      return false;\r\n    } else if (type.getAnnotation(UsingJacksonMapping.class) != null) {\r\n      return true;\r\n    } else {\r\n      return markedWithUsingJacksonMapping(type.getSuperclass());\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public Object resolveArgument(\r\n      MethodParameter parameter,\r\n      ModelAndViewContainer mavContainer,\r\n      NativeWebRequest webRequest,\r\n      WebDataBinderFactory binderFactory) {\r\n    Map&lt;String, String[]&gt; parameterMap = webRequest.getParameterMap();\r\n    log.trace(&quot;Converting params {}&quot;, parameterMap);\r\n\r\n    Class&lt;?&gt; parameterType = parameter.getParameterType();\r\n    Object result = OBJECT_MAPPER.convertValue(parameterMap, parameterType);\r\n    log.debug(&quot;Result {}&quot;, result);\r\n    return result;\r\n  }\r\n}\r\n```\r\n\r\nNext I add it as an argumentResolver:\r\n```\r\n@Configuration\r\npublic class ObjectMapperParameterArgumentResolverConfiguration extends WebMvcConfigurationSupport {\r\n\r\n  @Override\r\n  protected void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n    argumentResolvers.add(new ObjectMapperParameterArgumentHandler());\r\n  }\r\n}\r\n```\r\n\r\nThis now allows for the following using Jackson annotations. It also allow for `final` fields (which would require `initDirectFieldAccess` using Spring):\r\n```\r\n\r\n@Value\r\n@NoArgsConstructor(force = true)\r\n@ObjectMapperParameterArgumentHandler.UsingJacksonMapping\r\npublic class DateBasedQueryParamDto  {\r\n\r\n  @Nullable\r\n  @JsonProperty(&quot;startDate&quot;)\r\n  @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n  @Parameter(\r\n      required = false,\r\n      description =\r\n          &quot;Oldest UTC time in ISO date time format (eq 2022-07-08). Mutually exclusive to&quot;\r\n              + &quot; daysPast&quot;)\r\n  private final LocalDate startDate;\r\n\r\n  @Nullable\r\n  @JsonProperty(&quot;endDate&quot;)\r\n  @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n  @Parameter(\r\n      required = false,\r\n      description =\r\n          &quot;Latest UTC time in ISO date time format (eq 2022-07-08). Mutually exclusive to &quot;\r\n              + &quot;daysPast.&quot;)\r\n  private final LocalDate endDate;\r\n}\r\n\r\n```","title":"How to customize parameter names when binding Spring MVC command objects?","body":"<p>I tried the above but found that I was missing some configured functionality of the WebBinder so instead I created a solution that uses Jackson instead.</p>\n<p>First I implemented an <code>ArgumentResolver</code> that looks for a specific class-level annotation <code>UsingJacksonMapping</code> to determine if it should be responsible for arguments of this type.</p>\n<pre><code>\npublic class ObjectMapperParameterArgumentHandler implements HandlerMethodArgumentResolver {\n\n  /**\n   * Marks a Spring method argument parameter class as being marshalled via Jackson INSTEAD of\n   * Spring's standard WebBinder. This can be helpful in order to use Jackson annotations for\n   * property names and format. To use the argument resolver must be registered.\n   *\n   * &lt;pre&gt;\n   * &amp;#064;ObjectMapperParameterArgumentHandler.UsingJacksonMapping\n   * &lt;/pre&gt;\n   */\n  @Target(ElementType.TYPE)\n  @Retention(RetentionPolicy.RUNTIME)\n  @Documented\n  public @interface UsingJacksonMapping {}\n\n  private static final ObjectMapper OBJECT_MAPPER = ObjectMapperUtils.createObjectMapper();\n\n  static {\n    OBJECT_MAPPER.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    OBJECT_MAPPER.configure(DeserializationFeature.UNWRAP_SINGLE_VALUE_ARRAYS, true);\n  }\n\n  @Override\n  public boolean supportsParameter(MethodParameter parameter) {\n    Class&lt;?&gt; parameterType = parameter.getParameterType();\n    boolean result = markedWithUsingJacksonMapping(parameterType);\n    if (result) {\n      log.debug(&quot;Using Jackson mapping for {}&quot;, parameterType.getName());\n    }\n    return result;\n  }\n\n  private boolean markedWithUsingJacksonMapping(Class&lt;?&gt; type) {\n    if (type.equals(Object.class)) {\n      return false;\n    } else if (type.getAnnotation(UsingJacksonMapping.class) != null) {\n      return true;\n    } else {\n      return markedWithUsingJacksonMapping(type.getSuperclass());\n    }\n  }\n\n  @Override\n  public Object resolveArgument(\n      MethodParameter parameter,\n      ModelAndViewContainer mavContainer,\n      NativeWebRequest webRequest,\n      WebDataBinderFactory binderFactory) {\n    Map&lt;String, String[]&gt; parameterMap = webRequest.getParameterMap();\n    log.trace(&quot;Converting params {}&quot;, parameterMap);\n\n    Class&lt;?&gt; parameterType = parameter.getParameterType();\n    Object result = OBJECT_MAPPER.convertValue(parameterMap, parameterType);\n    log.debug(&quot;Result {}&quot;, result);\n    return result;\n  }\n}\n</code></pre>\n<p>Next I add it as an argumentResolver:</p>\n<pre><code>@Configuration\npublic class ObjectMapperParameterArgumentResolverConfiguration extends WebMvcConfigurationSupport {\n\n  @Override\n  protected void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n    argumentResolvers.add(new ObjectMapperParameterArgumentHandler());\n  }\n}\n</code></pre>\n<p>This now allows for the following using Jackson annotations. It also allow for <code>final</code> fields (which would require <code>initDirectFieldAccess</code> using Spring):</p>\n<pre><code>\n@Value\n@NoArgsConstructor(force = true)\n@ObjectMapperParameterArgumentHandler.UsingJacksonMapping\npublic class DateBasedQueryParamDto  {\n\n  @Nullable\n  @JsonProperty(&quot;startDate&quot;)\n  @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\n  @Parameter(\n      required = false,\n      description =\n          &quot;Oldest UTC time in ISO date time format (eq 2022-07-08). Mutually exclusive to&quot;\n              + &quot; daysPast&quot;)\n  private final LocalDate startDate;\n\n  @Nullable\n  @JsonProperty(&quot;endDate&quot;)\n  @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\n  @Parameter(\n      required = false,\n      description =\n          &quot;Latest UTC time in ISO date time format (eq 2022-07-08). Mutually exclusive to &quot;\n              + &quot;daysPast.&quot;)\n  private final LocalDate endDate;\n}\n\n</code></pre>\n"}],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73479,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"accepted_answer_id":9003314,"answer_count":11,"score":97,"last_activity_date":1690373246,"creation_date":1327407140,"question_id":8986593,"body_markdown":"I have a command object:\r\n\r\n    public class Job {\r\n        private String jobType;\r\n        private String location;\r\n    }\r\n\r\nWhich is bound by spring-mvc:\r\n\r\n    @RequestMapping(&quot;/foo&quot;)\r\n    public String doSomethingWithJob(Job job) {\r\n       ...\r\n    }\r\n\r\nWhich works fine for `http://example.com/foo?jobType=permanent&amp;location=Stockholm`. But now I need to make it work for the following url instead:   \r\n\r\n    http://example.com/foo?jt=permanent&amp;loc=Stockholm\r\n\r\nObviously, I don&#39;t want to change my command object, because the field names have to remain long (as they are used in the code). How can I customize that? Is there an option to do something like this:\r\n\r\n    public class Job {\r\n        @RequestParam(&quot;jt&quot;)\r\n        private String jobType;\r\n        @RequestParam(&quot;loc&quot;)\r\n        private String location;\r\n    }\r\n\r\nThis doesn&#39;t work (`@RequestParam` can&#39;t be applied to fields).\r\n\r\nThe thing I&#39;m thinking about is a custom message converter similar to `FormHttpMessageConverter` and read a custom annotation on the target object","title":"How to customize parameter names when binding Spring MVC command objects?","body":"<p>I have a command object:</p>\n<pre><code>public class Job {\n    private String jobType;\n    private String location;\n}\n</code></pre>\n<p>Which is bound by spring-mvc:</p>\n<pre><code>@RequestMapping(&quot;/foo&quot;)\npublic String doSomethingWithJob(Job job) {\n   ...\n}\n</code></pre>\n<p>Which works fine for <code>http://example.com/foo?jobType=permanent&amp;location=Stockholm</code>. But now I need to make it work for the following url instead:</p>\n<pre><code>http://example.com/foo?jt=permanent&amp;loc=Stockholm\n</code></pre>\n<p>Obviously, I don't want to change my command object, because the field names have to remain long (as they are used in the code). How can I customize that? Is there an option to do something like this:</p>\n<pre><code>public class Job {\n    @RequestParam(&quot;jt&quot;)\n    private String jobType;\n    @RequestParam(&quot;loc&quot;)\n    private String location;\n}\n</code></pre>\n<p>This doesn't work (<code>@RequestParam</code> can't be applied to fields).</p>\n<p>The thing I'm thinking about is a custom message converter similar to <code>FormHttpMessageConverter</code> and read a custom annotation on the target object</p>\n"},{"tags":["javascript","java","spring","spring-mvc","apache-commons-csv"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690372874,"post_id":76770987,"comment_id":135343722,"body_markdown":"I don&#39;t quite get it - if you download a csv file in a browser, it happens asynchronously and is handled by the browser...","body":"I don&#39;t quite get it - if you download a csv file in a browser, it happens asynchronously and is handled by the browser..."},{"owner":{"account_id":23902843,"reputation":39,"user_id":17900785,"display_name":"Evgeniy Zelenskiy"},"score":0,"creation_date":1690373587,"post_id":76770987,"comment_id":135343892,"body_markdown":"Yes, and I don&#39;t quite get it. Where am I doing wrong, application side or client side","body":"Yes, and I don&#39;t quite get it. Where am I doing wrong, application side or client side"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690376052,"post_id":76770987,"comment_id":135344612,"body_markdown":"Actually, I might have to think about what I just said. It&#39;s possible that what I have witnessed in the past is a product of deliberate asynchronous programming","body":"Actually, I might have to think about what I just said. It&#39;s possible that what I have witnessed in the past is a product of deliberate asynchronous programming"}],"owner":{"account_id":23902843,"reputation":39,"user_id":17900785,"display_name":"Evgeniy Zelenskiy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690372258,"creation_date":1690372258,"question_id":76770987,"body_markdown":"**Hi all!**\r\n\r\n\r\nI want to solve the following problem. The java method unloads data from the database and writes the data to the writer. Since you donâ€™t want to store this object in memory and donâ€™t wait on the client side until the entire report is completely generated, then transfer the data loading to the stream and generate a file on the client side.\r\n\r\nI have my java code:\r\n\r\n        public void generateIntervalReportCsv(Appendable fileOutputStream, String dateFrom, String dateTo, String searchType) throws Exception {\r\n            try (Printer csvPrinter = new PrinterCsvAdapter(new CSVPrinter(fileOutputStream, CSVFormat.EXCEL.builder().setDelimiter(&quot;;&quot;).setHeader(&quot;PERIOD&quot;, &quot;STATUS&quot;, &quot;RECORDS COUNT&quot;) .build()))) {\r\n                generateIntervalReport(csvPrinter, dateFrom, dateTo, searchType);\r\n            }\r\n      }\r\n\r\nRest-controller:\r\n\r\n    @GetMapping(&quot;/interval-report-file-csv&quot;)\r\n    public ResponseEntity&lt;StreamingResponseBody&gt; generateReport(@RequestParam String dateFrom,\r\n                                        @RequestParam String dateTo,\r\n                                        @RequestParam String period,\r\n                                        HttpServletResponse response) {\r\n        response.setHeader(\r\n                &quot;Content-Disposition&quot;,\r\n                &quot;attachment;filename=My-Report.csv&quot;);\r\n    \r\n        StreamingResponseBody stream = out -&gt; {\r\n            try {\r\n                processService.generateIntervalReportCsv(new OutputStreamWriter(out), dateFrom, dateTo, period);\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(&quot;Error - &quot;, e);\r\n            }\r\n        };\r\n    \r\n        return ResponseEntity.ok(stream);\r\n    }\r\n\r\nJavascript:\r\n\r\n    function downloadCsvReport() {\r\n          const minutesToAbort = 5;\r\n          const awaiting_response_time_in_ms = 1000 * 60 * minutesToAbort;\r\n    \r\n          if (!is_downloadIntervalReport_alreadyPushed) {\r\n            is_downloadIntervalReport_alreadyPushed = true;\r\n            let dateFrom = document.getElementById(&quot;periodStartDate&quot;).value;\r\n            let dateTo = document.getElementById(&quot;periodEndDate&quot;).value;\r\n            let searchType = document.getElementById(&quot;period&quot;).value;\r\n            let buttonStyle = document.getElementById(&quot;csvButtonId&quot;).style;\r\n            buttonStyle.backgroundColor = &quot;gray&quot;;\r\n            let url = &quot;/audit-migrator/process/interval-report-file-csv&quot; + &quot;?dateFrom=&quot; + dateFrom + &quot;&amp;dateTo=&quot; + dateTo + &quot;&amp;period=&quot; + searchType;\r\n    \r\n            downloadIntervalReport_timeOfStartRequest = new Date();\r\n            fetch(url, {signal: AbortSignal.timeout(awaiting_response_time_in_ms)})\r\n              .then(async (res) =&gt; {\r\n                if (res.status &gt;= 200 &amp;&amp; res.status &lt; 300) {\r\n                  return res;\r\n                } else {\r\n                  throw new Error(await res.text());\r\n                }\r\n              })\r\n              .then(res =&gt; {\r\n                res.blob().then(file =&gt; {\r\n                  let tempUrl = URL.createObjectURL(file);\r\n                  const aTag = document.createElement(&quot;a&quot;);\r\n                  aTag.href = tempUrl;\r\n                  aTag.download = decodeURI(res.headers.get(&#39;Content-Disposition&#39;).split(&#39;UTF-8\\&#39;\\&#39;&#39;)[1]);\r\n                  document.body.appendChild(aTag);\r\n                  aTag.click();\r\n                  URL.revokeObjectURL(tempUrl);\r\n                  aTag.remove();\r\n                });\r\n              }).catch((reason) =&gt; {\r\n                if (reason.name === &quot;AbortError&quot;) {\r\n                  console.log(&quot;Request aborted&quot;);\r\n                } else {\r\n                  console.error(reason.message);\r\n                }\r\n              }).finally(() =&gt; {\r\n                is_downloadIntervalReport_alreadyPushed = false;\r\n                buttonStyle.backgroundColor = &quot;#d17b2e&quot;;\r\n              });\r\n          }\r\n        }\r\n    \r\n    I have written the following javascript function in my html page:\r\n    \r\n        function downloadCsvReport() {\r\n              const minutesToAbort = 5;\r\n              const awaiting_response_time_in_ms = 1000 * 60 * minutesToAbort;\r\n        \r\n              if (!is_downloadIntervalReport_alreadyPushed) {\r\n                is_downloadIntervalReport_alreadyPushed = true;\r\n                let dateFrom = document.getElementById(&quot;periodStartDate&quot;).value;\r\n                let dateTo = document.getElementById(&quot;periodEndDate&quot;).value;\r\n                let searchType = document.getElementById(&quot;period&quot;).value;\r\n                let buttonStyle = document.getElementById(&quot;csvButtonId&quot;).style;\r\n                buttonStyle.backgroundColor = &quot;gray&quot;;\r\n                let url = &quot;/interval-report-file-csv&quot; + &quot;?dateFrom=&quot; + dateFrom + &quot;&amp;dateTo=&quot; + dateTo + &quot;&amp;period=&quot; + searchType;\r\n        \r\n                downloadIntervalReport_timeOfStartRequest = new Date();\r\n                fetch(url, {signal: AbortSignal.timeout(awaiting_response_time_in_ms)})\r\n                  .then(async (res) =&gt; {\r\n                    if (res.status &gt;= 200 &amp;&amp; res.status &lt; 300) {\r\n                      return res;\r\n                    } else {\r\n                      throw new Error(await res.text());\r\n                    }\r\n                  })\r\n                  .then(res =&gt; {\r\n                    res.blob().then(file =&gt; {\r\n                      let tempUrl = URL.createObjectURL(file);\r\n                      const aTag = document.createElement(&quot;a&quot;);\r\n                      aTag.href = tempUrl;\r\n                      aTag.download = decodeURI(res.headers.get(&#39;Content-Disposition&#39;).split(&#39;UTF-8\\&#39;\\&#39;&#39;)[1]);\r\n                      document.body.appendChild(aTag);\r\n                      aTag.click();\r\n                      URL.revokeObjectURL(tempUrl);\r\n                      aTag.remove();\r\n                    });\r\n                  }).catch((reason) =&gt; {\r\n                    if (reason.name === &quot;AbortError&quot;) {\r\n                      console.log(&quot;Request aborted&quot;);\r\n                    } else {\r\n                      console.error(reason.message);\r\n                    }\r\n                  }).finally(() =&gt; {\r\n                    is_downloadIntervalReport_alreadyPushed = false;\r\n                    buttonStyle.backgroundColor = &quot;#d17b2e&quot;;\r\n                  });\r\n              }\r\n            }\r\n\r\nWhen you click on the report download button, an empty file with the name undefined.txt starts to load.\r\n\r\nIn html debugging, this happens on the line :\r\n\r\n    fetch(url, {signal: AbortSignal.timeout(awaiting_response_time_in_ms)})\r\n\r\nWhat am I doing wrong?","title":"Loading a file via JavaScript from a stream","body":"<p><strong>Hi all!</strong></p>\n<p>I want to solve the following problem. The java method unloads data from the database and writes the data to the writer. Since you donâ€™t want to store this object in memory and donâ€™t wait on the client side until the entire report is completely generated, then transfer the data loading to the stream and generate a file on the client side.</p>\n<p>I have my java code:</p>\n<pre><code>    public void generateIntervalReportCsv(Appendable fileOutputStream, String dateFrom, String dateTo, String searchType) throws Exception {\n        try (Printer csvPrinter = new PrinterCsvAdapter(new CSVPrinter(fileOutputStream, CSVFormat.EXCEL.builder().setDelimiter(&quot;;&quot;).setHeader(&quot;PERIOD&quot;, &quot;STATUS&quot;, &quot;RECORDS COUNT&quot;) .build()))) {\n            generateIntervalReport(csvPrinter, dateFrom, dateTo, searchType);\n        }\n  }\n</code></pre>\n<p>Rest-controller:</p>\n<pre><code>@GetMapping(&quot;/interval-report-file-csv&quot;)\npublic ResponseEntity&lt;StreamingResponseBody&gt; generateReport(@RequestParam String dateFrom,\n                                    @RequestParam String dateTo,\n                                    @RequestParam String period,\n                                    HttpServletResponse response) {\n    response.setHeader(\n            &quot;Content-Disposition&quot;,\n            &quot;attachment;filename=My-Report.csv&quot;);\n\n    StreamingResponseBody stream = out -&gt; {\n        try {\n            processService.generateIntervalReportCsv(new OutputStreamWriter(out), dateFrom, dateTo, period);\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Error - &quot;, e);\n        }\n    };\n\n    return ResponseEntity.ok(stream);\n}\n</code></pre>\n<p>Javascript:</p>\n<pre><code>function downloadCsvReport() {\n      const minutesToAbort = 5;\n      const awaiting_response_time_in_ms = 1000 * 60 * minutesToAbort;\n\n      if (!is_downloadIntervalReport_alreadyPushed) {\n        is_downloadIntervalReport_alreadyPushed = true;\n        let dateFrom = document.getElementById(&quot;periodStartDate&quot;).value;\n        let dateTo = document.getElementById(&quot;periodEndDate&quot;).value;\n        let searchType = document.getElementById(&quot;period&quot;).value;\n        let buttonStyle = document.getElementById(&quot;csvButtonId&quot;).style;\n        buttonStyle.backgroundColor = &quot;gray&quot;;\n        let url = &quot;/audit-migrator/process/interval-report-file-csv&quot; + &quot;?dateFrom=&quot; + dateFrom + &quot;&amp;dateTo=&quot; + dateTo + &quot;&amp;period=&quot; + searchType;\n\n        downloadIntervalReport_timeOfStartRequest = new Date();\n        fetch(url, {signal: AbortSignal.timeout(awaiting_response_time_in_ms)})\n          .then(async (res) =&gt; {\n            if (res.status &gt;= 200 &amp;&amp; res.status &lt; 300) {\n              return res;\n            } else {\n              throw new Error(await res.text());\n            }\n          })\n          .then(res =&gt; {\n            res.blob().then(file =&gt; {\n              let tempUrl = URL.createObjectURL(file);\n              const aTag = document.createElement(&quot;a&quot;);\n              aTag.href = tempUrl;\n              aTag.download = decodeURI(res.headers.get('Content-Disposition').split('UTF-8\\'\\'')[1]);\n              document.body.appendChild(aTag);\n              aTag.click();\n              URL.revokeObjectURL(tempUrl);\n              aTag.remove();\n            });\n          }).catch((reason) =&gt; {\n            if (reason.name === &quot;AbortError&quot;) {\n              console.log(&quot;Request aborted&quot;);\n            } else {\n              console.error(reason.message);\n            }\n          }).finally(() =&gt; {\n            is_downloadIntervalReport_alreadyPushed = false;\n            buttonStyle.backgroundColor = &quot;#d17b2e&quot;;\n          });\n      }\n    }\n\nI have written the following javascript function in my html page:\n\n    function downloadCsvReport() {\n          const minutesToAbort = 5;\n          const awaiting_response_time_in_ms = 1000 * 60 * minutesToAbort;\n    \n          if (!is_downloadIntervalReport_alreadyPushed) {\n            is_downloadIntervalReport_alreadyPushed = true;\n            let dateFrom = document.getElementById(&quot;periodStartDate&quot;).value;\n            let dateTo = document.getElementById(&quot;periodEndDate&quot;).value;\n            let searchType = document.getElementById(&quot;period&quot;).value;\n            let buttonStyle = document.getElementById(&quot;csvButtonId&quot;).style;\n            buttonStyle.backgroundColor = &quot;gray&quot;;\n            let url = &quot;/interval-report-file-csv&quot; + &quot;?dateFrom=&quot; + dateFrom + &quot;&amp;dateTo=&quot; + dateTo + &quot;&amp;period=&quot; + searchType;\n    \n            downloadIntervalReport_timeOfStartRequest = new Date();\n            fetch(url, {signal: AbortSignal.timeout(awaiting_response_time_in_ms)})\n              .then(async (res) =&gt; {\n                if (res.status &gt;= 200 &amp;&amp; res.status &lt; 300) {\n                  return res;\n                } else {\n                  throw new Error(await res.text());\n                }\n              })\n              .then(res =&gt; {\n                res.blob().then(file =&gt; {\n                  let tempUrl = URL.createObjectURL(file);\n                  const aTag = document.createElement(&quot;a&quot;);\n                  aTag.href = tempUrl;\n                  aTag.download = decodeURI(res.headers.get('Content-Disposition').split('UTF-8\\'\\'')[1]);\n                  document.body.appendChild(aTag);\n                  aTag.click();\n                  URL.revokeObjectURL(tempUrl);\n                  aTag.remove();\n                });\n              }).catch((reason) =&gt; {\n                if (reason.name === &quot;AbortError&quot;) {\n                  console.log(&quot;Request aborted&quot;);\n                } else {\n                  console.error(reason.message);\n                }\n              }).finally(() =&gt; {\n                is_downloadIntervalReport_alreadyPushed = false;\n                buttonStyle.backgroundColor = &quot;#d17b2e&quot;;\n              });\n          }\n        }\n</code></pre>\n<p>When you click on the report download button, an empty file with the name undefined.txt starts to load.</p>\n<p>In html debugging, this happens on the line :</p>\n<pre><code>fetch(url, {signal: AbortSignal.timeout(awaiting_response_time_in_ms)})\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":22566541,"reputation":407,"user_id":16753477,"display_name":"Cleiton Freitas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690372237,"creation_date":1689877695,"question_id":76732774,"body_markdown":"I have a `/tree-list` endpoint that returns a list of the `Group` class where one of its attributes returns data from the `Person` class in tree format, this works with one record in the list, but when the list has more of a record, the `Person` tree nodes are duplicated, what should I do to prevent this from happening?\r\n\r\n**List with a record:**\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;Group 1&quot;,\r\n            &quot;personList&quot;: [\r\n                {\r\n                    &quot;id&quot;: 1,\r\n                    &quot;fullName&quot;: &quot;William&quot;,\r\n                    &quot;children&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 2,\r\n                            &quot;fullName&quot;: &quot;Henry&quot;,\r\n                            &quot;children&quot;: [\r\n                                {\r\n                                    &quot;id&quot;: 3,\r\n                                    &quot;fullName&quot;: &quot;Matt&quot;,\r\n                                    &quot;children&quot;: [\r\n                                        {\r\n                                            &quot;id&quot;: 7,\r\n                                            &quot;fullName&quot;: &quot;Sophi&quot;,\r\n                                            &quot;children&quot;: [],\r\n                                            &quot;rootParentId&quot;: 1\r\n                                        }\r\n                                    ],\r\n                                    &quot;rootParentId&quot;: 1\r\n                                },\r\n                                {\r\n                                    &quot;id&quot;: 4,\r\n                                    &quot;fullName&quot;: &quot;Alisa&quot;,\r\n                                    &quot;children&quot;: [\r\n                                        {\r\n                                            &quot;id&quot;: 6,\r\n                                            &quot;fullName&quot;: &quot;Alexa&quot;,\r\n                                            &quot;children&quot;: [],\r\n                                            &quot;rootParentId&quot;: 1\r\n                                        }\r\n                                    ],\r\n                                    &quot;rootParentId&quot;: 1\r\n                                }\r\n                            ],\r\n                            &quot;rootParentId&quot;: 1\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: 5,\r\n                            &quot;fullName&quot;: &quot;May&quot;,\r\n                            &quot;children&quot;: [],\r\n                            &quot;rootParentId&quot;: 1\r\n                        }\r\n                    ],\r\n                    &quot;rootParentId&quot;: 1\r\n                },\r\n                {\r\n                    &quot;id&quot;: 8,\r\n                    &quot;fullName&quot;: &quot;Olivia&quot;,\r\n                    &quot;children&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 9,\r\n                            &quot;fullName&quot;: &quot;John&quot;,\r\n                            &quot;children&quot;: [\r\n                                {\r\n                                    &quot;id&quot;: 11,\r\n                                    &quot;fullName&quot;: &quot;Oliver&quot;,\r\n                                    &quot;children&quot;: [],\r\n                                    &quot;rootParentId&quot;: 8\r\n                                },\r\n                                {\r\n                                    &quot;id&quot;: 12,\r\n                                    &quot;fullName&quot;: &quot;Mia&quot;,\r\n                                    &quot;children&quot;: [],\r\n                                    &quot;rootParentId&quot;: 8\r\n                                }\r\n                            ],\r\n                            &quot;rootParentId&quot;: 8\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: 10,\r\n                            &quot;fullName&quot;: &quot;Mary&quot;,\r\n                            &quot;children&quot;: [\r\n                                {\r\n                                    &quot;id&quot;: 13,\r\n                                    &quot;fullName&quot;: &quot;Evelyn&quot;,\r\n                                    &quot;children&quot;: [],\r\n                                    &quot;rootParentId&quot;: 8\r\n                                }\r\n                            ],\r\n                            &quot;rootParentId&quot;: 8\r\n                        }\r\n                    ],\r\n                    &quot;rootParentId&quot;: 8\r\n                },\r\n                {\r\n                    &quot;id&quot;: 14,\r\n                    &quot;fullName&quot;: &quot;Eric&quot;,\r\n                    &quot;children&quot;: [],\r\n                    &quot;rootParentId&quot;: null\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n\r\n**List with more records:**\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;Group 1&quot;,\r\n            &quot;personList&quot;: [\r\n                {\r\n                    &quot;id&quot;: 1,\r\n                    &quot;fullName&quot;: &quot;William&quot;,\r\n                    &quot;children&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 2,\r\n                            &quot;fullName&quot;: &quot;Henry&quot;,\r\n                            &quot;children&quot;: [\r\n                                {\r\n                                    &quot;id&quot;: 3,\r\n                                    &quot;fullName&quot;: &quot;Matt&quot;,\r\n                                    &quot;children&quot;: [\r\n                                        {\r\n                                            &quot;id&quot;: 7,\r\n                                            &quot;fullName&quot;: &quot;Sophi&quot;,\r\n                                            &quot;children&quot;: [],\r\n                                            &quot;rootParentId&quot;: 1\r\n                                        },\r\n                                        {\r\n                                            &quot;id&quot;: 7,\r\n                                            &quot;fullName&quot;: &quot;Sophi&quot;,\r\n                                            &quot;children&quot;: [],\r\n                                            &quot;rootParentId&quot;: 1\r\n                                        }\r\n                                    ],\r\n                                    &quot;rootParentId&quot;: 1\r\n                                },\r\n                                {\r\n                                    &quot;id&quot;: 4,\r\n                                    &quot;fullName&quot;: &quot;Alisa&quot;,\r\n                                    &quot;children&quot;: [\r\n                                        {\r\n                                            &quot;id&quot;: 6,\r\n                                            &quot;fullName&quot;: &quot;Alexa&quot;,\r\n                                            &quot;children&quot;: [],\r\n                                            &quot;rootParentId&quot;: 1\r\n                                        },\r\n                                        {\r\n                                            &quot;id&quot;: 6,\r\n                                            &quot;fullName&quot;: &quot;Alexa&quot;,\r\n                                            &quot;children&quot;: [],\r\n                                            &quot;rootParentId&quot;: 1\r\n                                        }\r\n                                    ],\r\n                                    &quot;rootParentId&quot;: 1\r\n                                }\r\n        \r\n    ....\r\n    \r\n        ]\r\n\r\n**Full response:** \r\n\r\n    [{&quot;id&quot;:1,&quot;name&quot;:&quot;Group 1&quot;,&quot;personList&quot;:[{&quot;id&quot;:1,&quot;fullName&quot;:&quot;William&quot;,&quot;children&quot;:[{&quot;id&quot;:2,&quot;fullName&quot;:&quot;Henry&quot;,&quot;children&quot;:[{&quot;id&quot;:3,&quot;fullName&quot;:&quot;Matt&quot;,&quot;children&quot;:[{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:4,&quot;fullName&quot;:&quot;Alisa&quot;,&quot;children&quot;:[{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:3,&quot;fullName&quot;:&quot;Matt&quot;,&quot;children&quot;:[{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:4,&quot;fullName&quot;:&quot;Alisa&quot;,&quot;children&quot;:[{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:5,&quot;fullName&quot;:&quot;May&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:2,&quot;fullName&quot;:&quot;Henry&quot;,&quot;children&quot;:[{&quot;id&quot;:3,&quot;fullName&quot;:&quot;Matt&quot;,&quot;children&quot;:[{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:4,&quot;fullName&quot;:&quot;Alisa&quot;,&quot;children&quot;:[{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:3,&quot;fullName&quot;:&quot;Matt&quot;,&quot;children&quot;:[{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:4,&quot;fullName&quot;:&quot;Alisa&quot;,&quot;children&quot;:[{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:5,&quot;fullName&quot;:&quot;May&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:8,&quot;fullName&quot;:&quot;Olivia&quot;,&quot;children&quot;:[{&quot;id&quot;:9,&quot;fullName&quot;:&quot;John&quot;,&quot;children&quot;:[{&quot;id&quot;:11,&quot;fullName&quot;:&quot;Oliver&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:12,&quot;fullName&quot;:&quot;Mia&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:11,&quot;fullName&quot;:&quot;Oliver&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:12,&quot;fullName&quot;:&quot;Mia&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8},{&quot;id&quot;:10,&quot;fullName&quot;:&quot;Mary&quot;,&quot;children&quot;:[{&quot;id&quot;:13,&quot;fullName&quot;:&quot;Evelyn&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:13,&quot;fullName&quot;:&quot;Evelyn&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8},{&quot;id&quot;:9,&quot;fullName&quot;:&quot;John&quot;,&quot;children&quot;:[{&quot;id&quot;:11,&quot;fullName&quot;:&quot;Oliver&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:12,&quot;fullName&quot;:&quot;Mia&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:11,&quot;fullName&quot;:&quot;Oliver&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:12,&quot;fullName&quot;:&quot;Mia&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8},{&quot;id&quot;:10,&quot;fullName&quot;:&quot;Mary&quot;,&quot;children&quot;:[{&quot;id&quot;:13,&quot;fullName&quot;:&quot;Evelyn&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:13,&quot;fullName&quot;:&quot;Evelyn&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8},{&quot;id&quot;:14,&quot;fullName&quot;:&quot;Eric&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:null}]},{&quot;id&quot;:2,&quot;name&quot;:&quot;Group 2&quot;,&quot;personList&quot;:[{&quot;id&quot;:1,&quot;fullName&quot;:&quot;William&quot;,&quot;children&quot;:[{&quot;id&quot;:2,&quot;fullName&quot;:&quot;Henry&quot;,&quot;children&quot;:[{&quot;id&quot;:3,&quot;fullName&quot;:&quot;Matt&quot;,&quot;children&quot;:[{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:4,&quot;fullName&quot;:&quot;Alisa&quot;,&quot;children&quot;:[{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:3,&quot;fullName&quot;:&quot;Matt&quot;,&quot;children&quot;:[{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:4,&quot;fullName&quot;:&quot;Alisa&quot;,&quot;children&quot;:[{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:5,&quot;fullName&quot;:&quot;May&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:2,&quot;fullName&quot;:&quot;Henry&quot;,&quot;children&quot;:[{&quot;id&quot;:3,&quot;fullName&quot;:&quot;Matt&quot;,&quot;children&quot;:[{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:4,&quot;fullName&quot;:&quot;Alisa&quot;,&quot;children&quot;:[{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:3,&quot;fullName&quot;:&quot;Matt&quot;,&quot;children&quot;:[{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:4,&quot;fullName&quot;:&quot;Alisa&quot;,&quot;children&quot;:[{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:5,&quot;fullName&quot;:&quot;May&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:8,&quot;fullName&quot;:&quot;Olivia&quot;,&quot;children&quot;:[{&quot;id&quot;:9,&quot;fullName&quot;:&quot;John&quot;,&quot;children&quot;:[{&quot;id&quot;:11,&quot;fullName&quot;:&quot;Oliver&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:12,&quot;fullName&quot;:&quot;Mia&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:11,&quot;fullName&quot;:&quot;Oliver&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:12,&quot;fullName&quot;:&quot;Mia&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8},{&quot;id&quot;:10,&quot;fullName&quot;:&quot;Mary&quot;,&quot;children&quot;:[{&quot;id&quot;:13,&quot;fullName&quot;:&quot;Evelyn&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:13,&quot;fullName&quot;:&quot;Evelyn&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8},{&quot;id&quot;:9,&quot;fullName&quot;:&quot;John&quot;,&quot;children&quot;:[{&quot;id&quot;:11,&quot;fullName&quot;:&quot;Oliver&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:12,&quot;fullName&quot;:&quot;Mia&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:11,&quot;fullName&quot;:&quot;Oliver&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:12,&quot;fullName&quot;:&quot;Mia&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8},{&quot;id&quot;:10,&quot;fullName&quot;:&quot;Mary&quot;,&quot;children&quot;:[{&quot;id&quot;:13,&quot;fullName&quot;:&quot;Evelyn&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:13,&quot;fullName&quot;:&quot;Evelyn&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8},{&quot;id&quot;:14,&quot;fullName&quot;:&quot;Eric&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:null}]}]\r\n\r\n**My Classes**\r\n\r\n**Models**\r\n\r\n    @Entity\r\n    @JsonIgnoreProperties({&quot;hibernate_lazy_initializer&quot;, &quot;handler&quot;})\r\n    @EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n    public class Person {\r\n    \r\n        @Id\r\n        @Getter\r\n        @Setter\r\n        @EqualsAndHashCode.Include\r\n        private Long id;\r\n    \r\n        @Getter\r\n        @Setter\r\n        private String fullName;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @Getter\r\n        @Setter\r\n        @JsonIgnore\r\n        private Person parent;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @Getter\r\n        @Setter\r\n        @JsonIgnore\r\n        private Person rootParent;\r\n    \r\n        @Transient\r\n        @Getter\r\n        @Setter\r\n        public List&lt;Person&gt; children = new ArrayList&lt;&gt;();\r\n    \r\n        public Long getRootParentId() {\r\n            if (parent != null) {\r\n                return parent.getRootParentId();\r\n            } else if (children != null &amp;&amp; !children.isEmpty()) {\r\n                return id;\r\n            } else return null;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n    @Entity\r\n        @JsonIgnoreProperties({&quot;hibernate_lazy_initializer&quot;, &quot;handler&quot;})\r\n        @EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n        public class Group {\r\n        \r\n            @Id\r\n            @Getter\r\n            @Setter\r\n            @EqualsAndHashCode.Include\r\n            private Long id;\r\n        \r\n            @Getter\r\n            @Setter\r\n            private String name;\r\n        \r\n        }\r\n\r\n**DTO**\r\n\r\n    @Data\r\n    @Builder\r\n    @JsonIgnoreProperties({&quot;hibernate_lazy_initializer&quot;, &quot;handler&quot;})\r\n    public class GroupDTO {\r\n    \r\n        private Long id;\r\n        private String name;\r\n        private List&lt;Person&gt; personList;\r\n    \r\n        public GroupDTO(Group group) {\r\n            this.id = group.getId();\r\n            this.name = group.getName();\r\n        }\r\n    \r\n        public GroupDTO(Long id, String name, List&lt;Person&gt; personList) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.personList = personList;\r\n        }\r\n    }\r\n\r\n**Repository**\r\n\r\n    @Repository\r\n    public interface PersonRepo extends JpaRepository&lt;Person, Long&gt; {\r\n    \r\n        @Query(&quot;SELECT p FROM Person p &quot;\r\n                + &quot; WHERE p.parent.id IS NULL&quot;)\r\n        List&lt;Person&gt; findRoots();\r\n    \r\n        @Query(&quot;SELECT p FROM Person p&quot;\r\n                + &quot; WHERE p.rootParent.id IN :rootIds &quot;)\r\n        List&lt;Person&gt; findChildrenInRoots(@Param(&quot;rootIds&quot;) List&lt;Long&gt; rootIds);\r\n    \r\n    }\r\n\r\n**Controller**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/person&quot;)\r\n    public class PersonController {\r\n    \r\n        private final PersonRepo personRepo;\r\n    \r\n        public PersonController(PersonRepo personRepo) {\r\n            this.personRepo = personRepo;\r\n        }\r\n        \r\n        @GetMapping(&quot;/tree-list&quot;)\r\n        @Transactional(readOnly = true)\r\n        public List&lt;GroupDTO&gt; getChildrenList() {\r\n            List&lt;Group&gt; groupEntityList = new ArrayList&lt;&gt;();\r\n            for (int i = 1; i &lt;= 2; i++) {\r\n                Group group = new Group();\r\n                group.setId((long) i);\r\n                group.setName(&quot;Group &quot; + i);\r\n                groupEntityList.add(group);\r\n            }\r\n            List&lt;GroupDTO&gt; groupList = groupEntityList.stream().map(GroupDTO::new).collect(Collectors.toList());\r\n    \r\n            groupList.forEach(group -&gt; {\r\n                        List&lt;Person&gt; rootNodes = new ArrayList&lt;&gt;(personRepo.findRoots());\r\n    \r\n                        List&lt;Long&gt; rootNodesIds = rootNodes.stream().map(Person::getId).collect(Collectors.toList());\r\n    \r\n                        List&lt;Person&gt; children = new ArrayList&lt;&gt;(personRepo.findChildrenInRoots(rootNodesIds));\r\n    \r\n                        children.forEach(subCategory -&gt; subCategory.getParent().getChildren().add(subCategory));\r\n                        group.setPersonList(rootNodes);\r\n                    }\r\n            );\r\n            return groupList;\r\n        }\r\n    }\r\n\r\n**Tree data**\r\n\r\n    insert into PERSON values (1,&#39;William&#39;,null, null);\r\n    insert into PERSON values (2,&#39;Henry&#39;,1,1);\r\n    insert into PERSON values (3,&#39;Matt&#39;,2,1);\r\n    insert into PERSON values (4,&#39;Alisa&#39;,2,1);\r\n    insert into PERSON values (5,&#39;May&#39;,1,1);\r\n    insert into PERSON values (6,&#39;Alexa&#39;,4,1);\r\n    insert into PERSON values (7,&#39;Sophi&#39;,3,1);\r\n    insert into PERSON values (8,&#39;Olivia&#39;,null,null);\r\n    insert into PERSON values (9,&#39;John&#39;,8,8);\r\n    insert into PERSON values (10,&#39;Mary&#39;,8,8);\r\n    insert into PERSON values (11,&#39;Oliver&#39;,9,8);\r\n    insert into PERSON values (12,&#39;Mia&#39;,9,8);\r\n    insert into PERSON values (13,&#39;Evelyn&#39;,10,8);\r\n    insert into PERSON values (14,&#39;Eric&#39;,null,null);","title":"Remove duplicate nodes in tree","body":"<p>I have a <code>/tree-list</code> endpoint that returns a list of the <code>Group</code> class where one of its attributes returns data from the <code>Person</code> class in tree format, this works with one record in the list, but when the list has more of a record, the <code>Person</code> tree nodes are duplicated, what should I do to prevent this from happening?</p>\n<p><strong>List with a record:</strong></p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Group 1&quot;,\n        &quot;personList&quot;: [\n            {\n                &quot;id&quot;: 1,\n                &quot;fullName&quot;: &quot;William&quot;,\n                &quot;children&quot;: [\n                    {\n                        &quot;id&quot;: 2,\n                        &quot;fullName&quot;: &quot;Henry&quot;,\n                        &quot;children&quot;: [\n                            {\n                                &quot;id&quot;: 3,\n                                &quot;fullName&quot;: &quot;Matt&quot;,\n                                &quot;children&quot;: [\n                                    {\n                                        &quot;id&quot;: 7,\n                                        &quot;fullName&quot;: &quot;Sophi&quot;,\n                                        &quot;children&quot;: [],\n                                        &quot;rootParentId&quot;: 1\n                                    }\n                                ],\n                                &quot;rootParentId&quot;: 1\n                            },\n                            {\n                                &quot;id&quot;: 4,\n                                &quot;fullName&quot;: &quot;Alisa&quot;,\n                                &quot;children&quot;: [\n                                    {\n                                        &quot;id&quot;: 6,\n                                        &quot;fullName&quot;: &quot;Alexa&quot;,\n                                        &quot;children&quot;: [],\n                                        &quot;rootParentId&quot;: 1\n                                    }\n                                ],\n                                &quot;rootParentId&quot;: 1\n                            }\n                        ],\n                        &quot;rootParentId&quot;: 1\n                    },\n                    {\n                        &quot;id&quot;: 5,\n                        &quot;fullName&quot;: &quot;May&quot;,\n                        &quot;children&quot;: [],\n                        &quot;rootParentId&quot;: 1\n                    }\n                ],\n                &quot;rootParentId&quot;: 1\n            },\n            {\n                &quot;id&quot;: 8,\n                &quot;fullName&quot;: &quot;Olivia&quot;,\n                &quot;children&quot;: [\n                    {\n                        &quot;id&quot;: 9,\n                        &quot;fullName&quot;: &quot;John&quot;,\n                        &quot;children&quot;: [\n                            {\n                                &quot;id&quot;: 11,\n                                &quot;fullName&quot;: &quot;Oliver&quot;,\n                                &quot;children&quot;: [],\n                                &quot;rootParentId&quot;: 8\n                            },\n                            {\n                                &quot;id&quot;: 12,\n                                &quot;fullName&quot;: &quot;Mia&quot;,\n                                &quot;children&quot;: [],\n                                &quot;rootParentId&quot;: 8\n                            }\n                        ],\n                        &quot;rootParentId&quot;: 8\n                    },\n                    {\n                        &quot;id&quot;: 10,\n                        &quot;fullName&quot;: &quot;Mary&quot;,\n                        &quot;children&quot;: [\n                            {\n                                &quot;id&quot;: 13,\n                                &quot;fullName&quot;: &quot;Evelyn&quot;,\n                                &quot;children&quot;: [],\n                                &quot;rootParentId&quot;: 8\n                            }\n                        ],\n                        &quot;rootParentId&quot;: 8\n                    }\n                ],\n                &quot;rootParentId&quot;: 8\n            },\n            {\n                &quot;id&quot;: 14,\n                &quot;fullName&quot;: &quot;Eric&quot;,\n                &quot;children&quot;: [],\n                &quot;rootParentId&quot;: null\n            }\n        ]\n    }\n]\n</code></pre>\n<p><strong>List with more records:</strong></p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Group 1&quot;,\n        &quot;personList&quot;: [\n            {\n                &quot;id&quot;: 1,\n                &quot;fullName&quot;: &quot;William&quot;,\n                &quot;children&quot;: [\n                    {\n                        &quot;id&quot;: 2,\n                        &quot;fullName&quot;: &quot;Henry&quot;,\n                        &quot;children&quot;: [\n                            {\n                                &quot;id&quot;: 3,\n                                &quot;fullName&quot;: &quot;Matt&quot;,\n                                &quot;children&quot;: [\n                                    {\n                                        &quot;id&quot;: 7,\n                                        &quot;fullName&quot;: &quot;Sophi&quot;,\n                                        &quot;children&quot;: [],\n                                        &quot;rootParentId&quot;: 1\n                                    },\n                                    {\n                                        &quot;id&quot;: 7,\n                                        &quot;fullName&quot;: &quot;Sophi&quot;,\n                                        &quot;children&quot;: [],\n                                        &quot;rootParentId&quot;: 1\n                                    }\n                                ],\n                                &quot;rootParentId&quot;: 1\n                            },\n                            {\n                                &quot;id&quot;: 4,\n                                &quot;fullName&quot;: &quot;Alisa&quot;,\n                                &quot;children&quot;: [\n                                    {\n                                        &quot;id&quot;: 6,\n                                        &quot;fullName&quot;: &quot;Alexa&quot;,\n                                        &quot;children&quot;: [],\n                                        &quot;rootParentId&quot;: 1\n                                    },\n                                    {\n                                        &quot;id&quot;: 6,\n                                        &quot;fullName&quot;: &quot;Alexa&quot;,\n                                        &quot;children&quot;: [],\n                                        &quot;rootParentId&quot;: 1\n                                    }\n                                ],\n                                &quot;rootParentId&quot;: 1\n                            }\n    \n....\n\n    ]\n</code></pre>\n<p><strong>Full response:</strong></p>\n<pre><code>[{&quot;id&quot;:1,&quot;name&quot;:&quot;Group 1&quot;,&quot;personList&quot;:[{&quot;id&quot;:1,&quot;fullName&quot;:&quot;William&quot;,&quot;children&quot;:[{&quot;id&quot;:2,&quot;fullName&quot;:&quot;Henry&quot;,&quot;children&quot;:[{&quot;id&quot;:3,&quot;fullName&quot;:&quot;Matt&quot;,&quot;children&quot;:[{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:4,&quot;fullName&quot;:&quot;Alisa&quot;,&quot;children&quot;:[{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:3,&quot;fullName&quot;:&quot;Matt&quot;,&quot;children&quot;:[{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:4,&quot;fullName&quot;:&quot;Alisa&quot;,&quot;children&quot;:[{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:5,&quot;fullName&quot;:&quot;May&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:2,&quot;fullName&quot;:&quot;Henry&quot;,&quot;children&quot;:[{&quot;id&quot;:3,&quot;fullName&quot;:&quot;Matt&quot;,&quot;children&quot;:[{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:4,&quot;fullName&quot;:&quot;Alisa&quot;,&quot;children&quot;:[{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:3,&quot;fullName&quot;:&quot;Matt&quot;,&quot;children&quot;:[{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:4,&quot;fullName&quot;:&quot;Alisa&quot;,&quot;children&quot;:[{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:5,&quot;fullName&quot;:&quot;May&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:8,&quot;fullName&quot;:&quot;Olivia&quot;,&quot;children&quot;:[{&quot;id&quot;:9,&quot;fullName&quot;:&quot;John&quot;,&quot;children&quot;:[{&quot;id&quot;:11,&quot;fullName&quot;:&quot;Oliver&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:12,&quot;fullName&quot;:&quot;Mia&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:11,&quot;fullName&quot;:&quot;Oliver&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:12,&quot;fullName&quot;:&quot;Mia&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8},{&quot;id&quot;:10,&quot;fullName&quot;:&quot;Mary&quot;,&quot;children&quot;:[{&quot;id&quot;:13,&quot;fullName&quot;:&quot;Evelyn&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:13,&quot;fullName&quot;:&quot;Evelyn&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8},{&quot;id&quot;:9,&quot;fullName&quot;:&quot;John&quot;,&quot;children&quot;:[{&quot;id&quot;:11,&quot;fullName&quot;:&quot;Oliver&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:12,&quot;fullName&quot;:&quot;Mia&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:11,&quot;fullName&quot;:&quot;Oliver&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:12,&quot;fullName&quot;:&quot;Mia&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8},{&quot;id&quot;:10,&quot;fullName&quot;:&quot;Mary&quot;,&quot;children&quot;:[{&quot;id&quot;:13,&quot;fullName&quot;:&quot;Evelyn&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:13,&quot;fullName&quot;:&quot;Evelyn&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8},{&quot;id&quot;:14,&quot;fullName&quot;:&quot;Eric&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:null}]},{&quot;id&quot;:2,&quot;name&quot;:&quot;Group 2&quot;,&quot;personList&quot;:[{&quot;id&quot;:1,&quot;fullName&quot;:&quot;William&quot;,&quot;children&quot;:[{&quot;id&quot;:2,&quot;fullName&quot;:&quot;Henry&quot;,&quot;children&quot;:[{&quot;id&quot;:3,&quot;fullName&quot;:&quot;Matt&quot;,&quot;children&quot;:[{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:4,&quot;fullName&quot;:&quot;Alisa&quot;,&quot;children&quot;:[{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:3,&quot;fullName&quot;:&quot;Matt&quot;,&quot;children&quot;:[{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:4,&quot;fullName&quot;:&quot;Alisa&quot;,&quot;children&quot;:[{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:5,&quot;fullName&quot;:&quot;May&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:2,&quot;fullName&quot;:&quot;Henry&quot;,&quot;children&quot;:[{&quot;id&quot;:3,&quot;fullName&quot;:&quot;Matt&quot;,&quot;children&quot;:[{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:4,&quot;fullName&quot;:&quot;Alisa&quot;,&quot;children&quot;:[{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:3,&quot;fullName&quot;:&quot;Matt&quot;,&quot;children&quot;:[{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:7,&quot;fullName&quot;:&quot;Sophi&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:4,&quot;fullName&quot;:&quot;Alisa&quot;,&quot;children&quot;:[{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1},{&quot;id&quot;:6,&quot;fullName&quot;:&quot;Alexa&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:5,&quot;fullName&quot;:&quot;May&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:1}],&quot;rootParentId&quot;:1},{&quot;id&quot;:8,&quot;fullName&quot;:&quot;Olivia&quot;,&quot;children&quot;:[{&quot;id&quot;:9,&quot;fullName&quot;:&quot;John&quot;,&quot;children&quot;:[{&quot;id&quot;:11,&quot;fullName&quot;:&quot;Oliver&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:12,&quot;fullName&quot;:&quot;Mia&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:11,&quot;fullName&quot;:&quot;Oliver&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:12,&quot;fullName&quot;:&quot;Mia&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8},{&quot;id&quot;:10,&quot;fullName&quot;:&quot;Mary&quot;,&quot;children&quot;:[{&quot;id&quot;:13,&quot;fullName&quot;:&quot;Evelyn&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:13,&quot;fullName&quot;:&quot;Evelyn&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8},{&quot;id&quot;:9,&quot;fullName&quot;:&quot;John&quot;,&quot;children&quot;:[{&quot;id&quot;:11,&quot;fullName&quot;:&quot;Oliver&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:12,&quot;fullName&quot;:&quot;Mia&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:11,&quot;fullName&quot;:&quot;Oliver&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:12,&quot;fullName&quot;:&quot;Mia&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8},{&quot;id&quot;:10,&quot;fullName&quot;:&quot;Mary&quot;,&quot;children&quot;:[{&quot;id&quot;:13,&quot;fullName&quot;:&quot;Evelyn&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8},{&quot;id&quot;:13,&quot;fullName&quot;:&quot;Evelyn&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8}],&quot;rootParentId&quot;:8},{&quot;id&quot;:14,&quot;fullName&quot;:&quot;Eric&quot;,&quot;children&quot;:[],&quot;rootParentId&quot;:null}]}]\n</code></pre>\n<p><strong>My Classes</strong></p>\n<p><strong>Models</strong></p>\n<pre><code>@Entity\n@JsonIgnoreProperties({&quot;hibernate_lazy_initializer&quot;, &quot;handler&quot;})\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\npublic class Person {\n\n    @Id\n    @Getter\n    @Setter\n    @EqualsAndHashCode.Include\n    private Long id;\n\n    @Getter\n    @Setter\n    private String fullName;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @Getter\n    @Setter\n    @JsonIgnore\n    private Person parent;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @Getter\n    @Setter\n    @JsonIgnore\n    private Person rootParent;\n\n    @Transient\n    @Getter\n    @Setter\n    public List&lt;Person&gt; children = new ArrayList&lt;&gt;();\n\n    public Long getRootParentId() {\n        if (parent != null) {\n            return parent.getRootParentId();\n        } else if (children != null &amp;&amp; !children.isEmpty()) {\n            return id;\n        } else return null;\n    }\n\n}\n\n\n@Entity\n    @JsonIgnoreProperties({&quot;hibernate_lazy_initializer&quot;, &quot;handler&quot;})\n    @EqualsAndHashCode(onlyExplicitlyIncluded = true)\n    public class Group {\n    \n        @Id\n        @Getter\n        @Setter\n        @EqualsAndHashCode.Include\n        private Long id;\n    \n        @Getter\n        @Setter\n        private String name;\n    \n    }\n</code></pre>\n<p><strong>DTO</strong></p>\n<pre><code>@Data\n@Builder\n@JsonIgnoreProperties({&quot;hibernate_lazy_initializer&quot;, &quot;handler&quot;})\npublic class GroupDTO {\n\n    private Long id;\n    private String name;\n    private List&lt;Person&gt; personList;\n\n    public GroupDTO(Group group) {\n        this.id = group.getId();\n        this.name = group.getName();\n    }\n\n    public GroupDTO(Long id, String name, List&lt;Person&gt; personList) {\n        this.id = id;\n        this.name = name;\n        this.personList = personList;\n    }\n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>@Repository\npublic interface PersonRepo extends JpaRepository&lt;Person, Long&gt; {\n\n    @Query(&quot;SELECT p FROM Person p &quot;\n            + &quot; WHERE p.parent.id IS NULL&quot;)\n    List&lt;Person&gt; findRoots();\n\n    @Query(&quot;SELECT p FROM Person p&quot;\n            + &quot; WHERE p.rootParent.id IN :rootIds &quot;)\n    List&lt;Person&gt; findChildrenInRoots(@Param(&quot;rootIds&quot;) List&lt;Long&gt; rootIds);\n\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/person&quot;)\npublic class PersonController {\n\n    private final PersonRepo personRepo;\n\n    public PersonController(PersonRepo personRepo) {\n        this.personRepo = personRepo;\n    }\n    \n    @GetMapping(&quot;/tree-list&quot;)\n    @Transactional(readOnly = true)\n    public List&lt;GroupDTO&gt; getChildrenList() {\n        List&lt;Group&gt; groupEntityList = new ArrayList&lt;&gt;();\n        for (int i = 1; i &lt;= 2; i++) {\n            Group group = new Group();\n            group.setId((long) i);\n            group.setName(&quot;Group &quot; + i);\n            groupEntityList.add(group);\n        }\n        List&lt;GroupDTO&gt; groupList = groupEntityList.stream().map(GroupDTO::new).collect(Collectors.toList());\n\n        groupList.forEach(group -&gt; {\n                    List&lt;Person&gt; rootNodes = new ArrayList&lt;&gt;(personRepo.findRoots());\n\n                    List&lt;Long&gt; rootNodesIds = rootNodes.stream().map(Person::getId).collect(Collectors.toList());\n\n                    List&lt;Person&gt; children = new ArrayList&lt;&gt;(personRepo.findChildrenInRoots(rootNodesIds));\n\n                    children.forEach(subCategory -&gt; subCategory.getParent().getChildren().add(subCategory));\n                    group.setPersonList(rootNodes);\n                }\n        );\n        return groupList;\n    }\n}\n</code></pre>\n<p><strong>Tree data</strong></p>\n<pre><code>insert into PERSON values (1,'William',null, null);\ninsert into PERSON values (2,'Henry',1,1);\ninsert into PERSON values (3,'Matt',2,1);\ninsert into PERSON values (4,'Alisa',2,1);\ninsert into PERSON values (5,'May',1,1);\ninsert into PERSON values (6,'Alexa',4,1);\ninsert into PERSON values (7,'Sophi',3,1);\ninsert into PERSON values (8,'Olivia',null,null);\ninsert into PERSON values (9,'John',8,8);\ninsert into PERSON values (10,'Mary',8,8);\ninsert into PERSON values (11,'Oliver',9,8);\ninsert into PERSON values (12,'Mia',9,8);\ninsert into PERSON values (13,'Evelyn',10,8);\ninsert into PERSON values (14,'Eric',null,null);\n</code></pre>\n"},{"tags":["java","java-8","migration","java-11","noclassdeffounderror"],"comments":[{"owner":{"account_id":8818198,"reputation":1021,"user_id":6588943,"display_name":"Melvin"},"score":0,"creation_date":1604399988,"post_id":64660619,"comment_id":114330083,"body_markdown":"Most of the time you have just to recompile your source. It means during execution a class which you use hasn&#39;t been found. By moving from Java8 to Java11 class could also be deprecated and therefore are not useable anymore.","body":"Most of the time you have just to recompile your source. It means during execution a class which you use hasn&#39;t been found. By moving from Java8 to Java11 class could also be deprecated and therefore are not useable anymore."},{"owner":{"account_id":14739810,"reputation":21,"user_id":10644717,"display_name":"Vikas Aghav"},"score":0,"creation_date":1604401555,"post_id":64660619,"comment_id":114330772,"body_markdown":"@Melvin - I am moving from java8 to openjdk11 not  java11. Also I recompiled it but it didn&#39;t work.","body":"@Melvin - I am moving from java8 to openjdk11 not  java11. Also I recompiled it but it didn&#39;t work."},{"owner":{"account_id":8818198,"reputation":1021,"user_id":6588943,"display_name":"Melvin"},"score":0,"creation_date":1604577901,"post_id":64660619,"comment_id":114392048,"body_markdown":"OpenJDK11 is Java 11.","body":"OpenJDK11 is Java 11."}],"answers":[{"comments":[{"owner":{"account_id":14739810,"reputation":21,"user_id":10644717,"display_name":"Vikas Aghav"},"score":0,"creation_date":1604401594,"post_id":64661427,"comment_id":114330791,"body_markdown":"So if it is using then I have to remove it ?","body":"So if it is using then I have to remove it ?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1604401814,"post_id":64661427,"comment_id":114330881,"body_markdown":"That is the best solution.  Application code should not be using private / internal JDK APIs.  But if the usage is coming from a 3rd-party library, they chances are that there is a newer version of the library that fixes the problem.","body":"That is the best solution.  Application code should not be using private / internal JDK APIs.  But if the usage is coming from a 3rd-party library, they chances are that there is a newer version of the library that fixes the problem."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1604402237,"post_id":64661427,"comment_id":114331055,"body_markdown":"It is also possible to &quot;open&quot; the module, but that should be treated as a short term workaround not a long term solution.","body":"It is also possible to &quot;open&quot; the module, but that should be treated as a short term workaround not a long term solution."},{"owner":{"account_id":14739810,"reputation":21,"user_id":10644717,"display_name":"Vikas Aghav"},"score":0,"creation_date":1604402400,"post_id":64661427,"comment_id":114331116,"body_markdown":"I checked it in the codebase its not coming from there. So it must be coming from 3rd party library is there any way to find out which library is causing it ?","body":"I checked it in the codebase its not coming from there. So it must be coming from 3rd party library is there any way to find out which library is causing it ?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1604405003,"post_id":64661427,"comment_id":114332143,"body_markdown":"The stacktrace will probably tell you ... if you read it correctly.","body":"The stacktrace will probably tell you ... if you read it correctly."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1604418268,"post_id":64661427,"comment_id":114338523,"body_markdown":"The strange thing is that the class `jdk.internal.reflect.ConstructorAccessorImpl` does not exist in JDK&#160;8. In JDK&#160;8, the internally used class has the name `sun.reflect.ConstructorAccessorImpl`. So this canâ€™t be an issue of the old codebase accessing the former in Java&#160;8.","body":"The strange thing is that the class <code>jdk.internal.reflect.ConstructorAccessorImpl</code> does not exist in JDK 8. In JDK 8, the internally used class has the name <code>sun.reflect.ConstructorAccessorImpl</code>. So this canâ€™t be an issue of the old codebase accessing the former in Java 8."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1604444037,"post_id":64661427,"comment_id":114349055,"body_markdown":"Good catch.  The package change appears to have been in Java 9.  So that points the finger at a 3rd party library that took a short-cut in porting to Java 9+.","body":"Good catch.  The package change appears to have been in Java 9.  So that points the finger at a 3rd party library that took a short-cut in porting to Java 9+."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604400815,"creation_date":1604400815,"answer_id":64661427,"question_id":64660619,"body_markdown":"The class `ConstructorAccessorImpl` still exists in the Java 11 codebase, but it is now hidden from access by the modules system.\r\n\r\nYou should look at your codebase to figure out what is using it.  If it is not in your codebase, it might be in a library you are using.  In the latter case, the first thing to check is whether the library version supports Java 9+.","title":"NoClassDefFoundError for ConstructorAccessorImpl in Java 11","body":"<p>The class <code>ConstructorAccessorImpl</code> still exists in the Java 11 codebase, but it is now hidden from access by the modules system.</p>\n<p>You should look at your codebase to figure out what is using it.  If it is not in your codebase, it might be in a library you are using.  In the latter case, the first thing to check is whether the library version supports Java 9+.</p>\n"}],"owner":{"account_id":14739810,"reputation":21,"user_id":10644717,"display_name":"Vikas Aghav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4225,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1690372191,"creation_date":1604397785,"question_id":64660619,"body_markdown":"I am migrating from java8 to openjdk11 and I am getting following error in compilation\r\n\r\njava.lang.NoClassDefFoundError: jdk/internal/reflect/ConstructorAccessorImpl","title":"NoClassDefFoundError for ConstructorAccessorImpl in Java 11","body":"<p>I am migrating from java8 to openjdk11 and I am getting following error in compilation</p>\n<p>java.lang.NoClassDefFoundError: jdk/internal/reflect/ConstructorAccessorImpl</p>\n"},{"tags":["java","validation","spring-rest","multipartfile"],"answers":[{"tags":[],"owner":{"account_id":4510098,"reputation":83,"user_id":3666482,"display_name":"jokernoel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690371888,"creation_date":1690371888,"answer_id":76770930,"question_id":76770886,"body_markdown":"To validate the elements of a List&lt;MultipartFile&gt;, you&#39;ll need to implement a custom validator. You can achieve this by creating a custom validator that validates each element of the list individually. Here&#39;s an example of how you could do this using Spring&#39;s Validator interface:\r\n\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.validation.Errors;\r\n    import org.springframework.validation.ValidationUtils;\r\n    import org.springframework.validation.Validator;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    @Component\r\n    public class MultipartFileListValidator implements Validator {\r\n    \r\n        private static final int MIN_SIZE = 1;\r\n        private static final int MAX_SIZE = 2;\r\n    \r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; clazz) {\r\n            return List.class.isAssignableFrom(clazz);\r\n        }\r\n    \r\n        @Override\r\n        public void validate(Object target, Errors errors) {\r\n            List&lt;MultipartFile&gt; files = (List&lt;MultipartFile&gt;) target;\r\n            ValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;files&quot;, &quot;files.empty&quot;, &quot;Files must not be empty&quot;);\r\n    \r\n            if (files.size() &lt; MIN_SIZE || files.size() &gt; MAX_SIZE) {\r\n                errors.rejectValue(&quot;files&quot;, &quot;files.size&quot;, &quot;Invalid number of files&quot;);\r\n            }\r\n    \r\n            for (int i = 0; i &lt; files.size(); i++) {\r\n                MultipartFile file = files.get(i);\r\n                if (file.isEmpty()) {\r\n                    errors.rejectValue(&quot;files[&quot; + i + &quot;]&quot;, &quot;files.empty&quot;, &quot;File must not be empty&quot;);\r\n                }\r\n                // Add additional checks for individual file properties if needed\r\n            }\r\n        }\r\n    }\r\n    \r\n    @RestController\r\n    public class MyController {\r\n    \r\n        private final MultipartFileListValidator validator;\r\n    \r\n        @Autowired\r\n        public MyController(MultipartFileListValidator validator) {\r\n            this.validator = validator;\r\n        }\r\n    \r\n        @PostMapping(&quot;/upload&quot;)\r\n        public ResponseEntity&lt;String&gt; handleFileUpload(@RequestPart(&quot;files&quot;) @Valid List&lt;MultipartFile&gt; files) {\r\n            // Your code to handle file upload\r\n        }\r\n    \r\n        @InitBinder(&quot;files&quot;)\r\n        protected void initBinder(WebDataBinder binder) {\r\n            binder.addValidators(validator);\r\n        }\r\n    }","title":"Validate MultipartFile list size","body":"<p>To validate the elements of a List, you'll need to implement a custom validator. You can achieve this by creating a custom validator that validates each element of the list individually. Here's an example of how you could do this using Spring's Validator interface:</p>\n<pre><code>import org.springframework.stereotype.Component;\nimport org.springframework.validation.Errors;\nimport org.springframework.validation.ValidationUtils;\nimport org.springframework.validation.Validator;\nimport org.springframework.web.multipart.MultipartFile;\n\n@Component\npublic class MultipartFileListValidator implements Validator {\n\n    private static final int MIN_SIZE = 1;\n    private static final int MAX_SIZE = 2;\n\n    @Override\n    public boolean supports(Class&lt;?&gt; clazz) {\n        return List.class.isAssignableFrom(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n        List&lt;MultipartFile&gt; files = (List&lt;MultipartFile&gt;) target;\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;files&quot;, &quot;files.empty&quot;, &quot;Files must not be empty&quot;);\n\n        if (files.size() &lt; MIN_SIZE || files.size() &gt; MAX_SIZE) {\n            errors.rejectValue(&quot;files&quot;, &quot;files.size&quot;, &quot;Invalid number of files&quot;);\n        }\n\n        for (int i = 0; i &lt; files.size(); i++) {\n            MultipartFile file = files.get(i);\n            if (file.isEmpty()) {\n                errors.rejectValue(&quot;files[&quot; + i + &quot;]&quot;, &quot;files.empty&quot;, &quot;File must not be empty&quot;);\n            }\n            // Add additional checks for individual file properties if needed\n        }\n    }\n}\n\n@RestController\npublic class MyController {\n\n    private final MultipartFileListValidator validator;\n\n    @Autowired\n    public MyController(MultipartFileListValidator validator) {\n        this.validator = validator;\n    }\n\n    @PostMapping(&quot;/upload&quot;)\n    public ResponseEntity&lt;String&gt; handleFileUpload(@RequestPart(&quot;files&quot;) @Valid List&lt;MultipartFile&gt; files) {\n        // Your code to handle file upload\n    }\n\n    @InitBinder(&quot;files&quot;)\n    protected void initBinder(WebDataBinder binder) {\n        binder.addValidators(validator);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16228733,"reputation":26,"user_id":11718232,"display_name":"tabool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690371888,"creation_date":1690371599,"question_id":76770886,"body_markdown":"I need to limit the number of MultipartFiles sent to Spring Rest API. The annotations from jakarta.validation.constraints don&#39;t work for `List&lt;MultipartFile&gt; files` for some reason, but they do work for lists of other objects, such as `List&lt;String&gt; strings` for example.\r\n\r\n```\r\n        @Valid\r\n        @Size(min = 1, max = 2, message = &quot;files.size&quot;)\r\n        @RequestPart(name = &quot;files&quot;)\r\n        List&lt;MultipartFile&gt; files,\r\n        @Valid\r\n        @Size(min = 1, max = 2, message = &quot;strings.size&quot;)\r\n        @RequestParam(name = &quot;strings&quot;)\r\n        List&lt;String&gt; strings,\r\n```\r\nIn the above example, more than 2 strings are not allowed by validation, but more than 2 files are allowed.\r\n\r\nPlease tell me how, preferably, using annotations to limit the number of files in list for the endpoint","title":"Validate MultipartFile list size","body":"<p>I need to limit the number of MultipartFiles sent to Spring Rest API. The annotations from jakarta.validation.constraints don't work for <code>List&lt;MultipartFile&gt; files</code> for some reason, but they do work for lists of other objects, such as <code>List&lt;String&gt; strings</code> for example.</p>\n<pre><code>        @Valid\n        @Size(min = 1, max = 2, message = &quot;files.size&quot;)\n        @RequestPart(name = &quot;files&quot;)\n        List&lt;MultipartFile&gt; files,\n        @Valid\n        @Size(min = 1, max = 2, message = &quot;strings.size&quot;)\n        @RequestParam(name = &quot;strings&quot;)\n        List&lt;String&gt; strings,\n</code></pre>\n<p>In the above example, more than 2 strings are not allowed by validation, but more than 2 files are allowed.</p>\n<p>Please tell me how, preferably, using annotations to limit the number of files in list for the endpoint</p>\n"},{"tags":["java","vert.x","quarkus"],"comments":[{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1589350926,"post_id":61756842,"comment_id":109255173,"body_markdown":"What makes you think the `WebClient.create()` call will return an instance of your class? I&#39;m no Vert.x expert, but from what I see in your code (and briefly looking at the `io.vertx.mutiny.ext.web.client.WebClient` generated source code), there&#39;s no way how `WebClient` could instantiate you class.","body":"What makes you think the <code>WebClient.create()</code> call will return an instance of your class? I&#39;m no Vert.x expert, but from what I see in your code (and briefly looking at the <code>io.vertx.mutiny.ext.web.client.WebClient</code> generated source code), there&#39;s no way how <code>WebClient</code> could instantiate you class."},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":1,"creation_date":1589366059,"post_id":61756842,"comment_id":109262740,"body_markdown":"Are you sure you need to subclass WebClient? Maybe using some WebClient related components (listener, observers or other similar things) you can get the desidered result.","body":"Are you sure you need to subclass WebClient? Maybe using some WebClient related components (listener, observers or other similar things) you can get the desidered result."},{"owner":{"account_id":450907,"reputation":1342,"user_id":846488,"accept_rate":56,"display_name":"maxday"},"score":0,"creation_date":1589375529,"post_id":61756842,"comment_id":109268423,"body_markdown":"Actually I want to perform some header manipulation to each request which will go out. for instance Uni&lt;JsonObject&gt; notificationData = usersApiClient.get(&quot;/hello&quot;).send() .For now I am using HttpRequest&lt;Buffer&gt; request = usersApiClient.get(&quot;/hello&quot;) then I do header manipulation in the request object and finally I send it with send(). The thing is don&#39;t want to do this each time for each query. That&#39;s why I am looking for doing this automatically using subclass I want to do an extra step (header manipulation) when instantiating or sending request. Hope this is more clear :)","body":"Actually I want to perform some header manipulation to each request which will go out. for instance Uni&lt;JsonObject&gt; notificationData = usersApiClient.get(&quot;/hello&quot;).send() .For now I am using HttpRequest&lt;Buffer&gt; request = usersApiClient.get(&quot;/hello&quot;) then I do header manipulation in the request object and finally I send it with send(). The thing is don&#39;t want to do this each time for each query. That&#39;s why I am looking for doing this automatically using subclass I want to do an extra step (header manipulation) when instantiating or sending request. Hope this is more clear :)"},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1589437864,"post_id":61756842,"comment_id":109295004,"body_markdown":"Does this answer your question? [How can I add an http interceptor to a Quarkus application?](https://stackoverflow.com/questions/56448061/how-can-i-add-an-http-interceptor-to-a-quarkus-application)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/56448061/how-can-i-add-an-http-interceptor-to-a-quarkus-application\">How can I add an http interceptor to a Quarkus application?</a>"},{"owner":{"account_id":450907,"reputation":1342,"user_id":846488,"accept_rate":56,"display_name":"maxday"},"score":0,"creation_date":1589466137,"post_id":61756842,"comment_id":109310684,"body_markdown":"No :/ since it&#39;s outgoing traffic, those outgoing request does not go through this kind of interceptors","body":"No :/ since it&#39;s outgoing traffic, those outgoing request does not go through this kind of interceptors"},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1589524275,"post_id":61756842,"comment_id":109333691,"body_markdown":"Maybe https://dennis-xlc.gitbooks.io/restful-java-with-jax-rs-2-0-2rd-edition/en/part1/chapter12/reader_and_writer_interceptors.html ?","body":"Maybe <a href=\"https://dennis-xlc.gitbooks.io/restful-java-with-jax-rs-2-0-2rd-edition/en/part1/chapter12/reader_and_writer_interceptors.html\" rel=\"nofollow noreferrer\">dennis-xlc.gitbooks.io/restful-java-with-jax-rs-2-0-2rd-edit&zwnj;&#8203;ion/&hellip;</a> ?"}],"owner":{"account_id":450907,"reputation":1342,"user_id":846488,"accept_rate":56,"display_name":"maxday"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690371656,"creation_date":1589300812,"question_id":61756842,"body_markdown":"I am using vert.x extension with Quarkus and I want to subclass the WebClient\r\n\r\n    @Inject\r\n    Vertx vertx;\r\n\r\n    private CustomWebClient usersApiClient;\r\n    \r\n    @PostConstruct\r\n    void initialize() {\r\n        this.usersApiClient = (CustomWebClient) WebClient.create(vertx, new WebClientOptions()....)\r\n    }\r\n\r\nFor now the CustomWebClient is empty and just extends the web client\r\n\r\n    public class CustomWebClient extends io.vertx.mutiny.ext.web.client.WebClient {\r\n\r\nBut I get a ClassCastException at runtime (in quarkus:dev for instance) \r\n\r\n    Caused by: java.lang.ClassCastException: class io.vertx.mutiny.ext.web.client.WebClient\r\n    cannot be cast to class xxx.CustomWebClient (io.vertx.mutiny.ext.web.client.WebClient is in\r\n    unnamed module of loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @760f1081; \r\n    xxx.CustomWebClient is in unnamed module of loader.\r\n    io.quarkus.bootstrap.classloading.QuarkusClassLoader @55be9b4e)\r\n\r\nDo I need to register this class in the class loader or something ?\r\n","title":"Quarkus + subclass + ClassCastException","body":"<p>I am using vert.x extension with Quarkus and I want to subclass the WebClient</p>\n\n<pre><code>@Inject\nVertx vertx;\n\nprivate CustomWebClient usersApiClient;\n\n@PostConstruct\nvoid initialize() {\n    this.usersApiClient = (CustomWebClient) WebClient.create(vertx, new WebClientOptions()....)\n}\n</code></pre>\n\n<p>For now the CustomWebClient is empty and just extends the web client</p>\n\n<pre><code>public class CustomWebClient extends io.vertx.mutiny.ext.web.client.WebClient {\n</code></pre>\n\n<p>But I get a ClassCastException at runtime (in quarkus:dev for instance) </p>\n\n<pre><code>Caused by: java.lang.ClassCastException: class io.vertx.mutiny.ext.web.client.WebClient\ncannot be cast to class xxx.CustomWebClient (io.vertx.mutiny.ext.web.client.WebClient is in\nunnamed module of loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @760f1081; \nxxx.CustomWebClient is in unnamed module of loader.\nio.quarkus.bootstrap.classloading.QuarkusClassLoader @55be9b4e)\n</code></pre>\n\n<p>Do I need to register this class in the class loader or something ?</p>\n"},{"tags":["java","ssl-certificate","keystore","keytool"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1690374500,"post_id":76770870,"comment_id":135344108,"body_markdown":"Copy all the certificates (the PEM files) into one PEM file, you can simply append them. And then use the second command of https://stackoverflow.com/a/21144736/150978","body":"Copy all the certificates (the PEM files) into one PEM file, you can simply append them. And then use the second command of <a href=\"https://stackoverflow.com/a/21144736/150978\">stackoverflow.com/a/21144736/150978</a>"}],"owner":{"account_id":1660178,"reputation":5986,"user_id":1562574,"accept_rate":57,"display_name":"Dipak Panchal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690371498,"creation_date":1690371498,"question_id":76770870,"body_markdown":"I am new to configure SSL certification. \r\nI have following file.\r\n- root.pem\r\n- intermediate.pem\r\n- domain.pem\r\n- domain.key\r\n\r\nI want to PKCS12 with four files using OPENSSL tool.\r\nI search many things but I did not get it. Can you please help me how to generate PKCS12 using above 4 files.","title":"How to create PKCS12 From PEM file and Key File","body":"<p>I am new to configure SSL certification.\nI have following file.</p>\n<ul>\n<li>root.pem</li>\n<li>intermediate.pem</li>\n<li>domain.pem</li>\n<li>domain.key</li>\n</ul>\n<p>I want to PKCS12 with four files using OPENSSL tool.\nI search many things but I did not get it. Can you please help me how to generate PKCS12 using above 4 files.</p>\n"},{"tags":["java","swagger","microservices","spark-java"],"comments":[{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":0,"creation_date":1498584019,"post_id":44785105,"comment_id":76553346,"body_markdown":"Can you give us more information about the method that are you applying this Swagger annotations?","body":"Can you give us more information about the method that are you applying this Swagger annotations?"},{"owner":{"account_id":11000564,"reputation":1469,"user_id":8081281,"accept_rate":100,"display_name":"utkarsh31"},"score":0,"creation_date":1498584624,"post_id":44785105,"comment_id":76553664,"body_markdown":"Just updated...should i give u the code also?","body":"Just updated...should i give u the code also?"}],"answers":[{"comments":[{"owner":{"account_id":11000564,"reputation":1469,"user_id":8081281,"accept_rate":100,"display_name":"utkarsh31"},"score":0,"creation_date":1498586437,"post_id":44786713,"comment_id":76554617,"body_markdown":"As per the Java Spark Architecture you have to use Request, Response as the parameters. Is there an alternative to this...One more thing why is SystemResponse working fine but SystemRequest giving issues...","body":"As per the Java Spark Architecture you have to use Request, Response as the parameters. Is there an alternative to this...One more thing why is SystemResponse working fine but SystemRequest giving issues..."},{"owner":{"account_id":8064636,"reputation":101,"user_id":6079221,"display_name":"Vinicius de Almeida"},"score":0,"creation_date":1498587243,"post_id":44786713,"comment_id":76555045,"body_markdown":"Which version of Swagger you&#39;re using? Did you check this link? Also, if SomeRequest and SomeResponde are identical both should work, are you able to provide those classes source code?\n\nhttps://github.com/swagger-api/swagger-core/issues/1559#issuecomment-261943276","body":"Which version of Swagger you&#39;re using? Did you check this link? Also, if SomeRequest and SomeResponde are identical both should work, are you able to provide those classes source code?  <a href=\"https://github.com/swagger-api/swagger-core/issues/1559#issuecomment-261943276\" rel=\"nofollow noreferrer\">github.com/swagger-api/swagger-core/issues/&hellip;</a>"},{"owner":{"account_id":11000564,"reputation":1469,"user_id":8081281,"accept_rate":100,"display_name":"utkarsh31"},"score":0,"creation_date":1498623160,"post_id":44786713,"comment_id":76567518,"body_markdown":"The problem is in the actual project SomeRequest and SomeResponse are different. I cannot update the actual code so have created a mock of the actual code...When I use a class which is already referred in the Swapper Docs Annotations  somewhere it works fine ex. in SomeResponse datatype case, there is SomeResponse.class already present as `response = SomeResponse.class` but when I use SomeRequest it cannot convert it into JSON maybe becasue it not referred anywhere in the Swagger Annotations, I&#39;m not sure...","body":"The problem is in the actual project SomeRequest and SomeResponse are different. I cannot update the actual code so have created a mock of the actual code...When I use a class which is already referred in the Swapper Docs Annotations  somewhere it works fine ex. in SomeResponse datatype case, there is SomeResponse.class already present as <code>response = SomeResponse.class</code> but when I use SomeRequest it cannot convert it into JSON maybe becasue it not referred anywhere in the Swagger Annotations, I&#39;m not sure..."},{"owner":{"account_id":11000564,"reputation":1469,"user_id":8081281,"accept_rate":100,"display_name":"utkarsh31"},"score":0,"creation_date":1498623238,"post_id":44786713,"comment_id":76567538,"body_markdown":"My version is 1.5","body":"My version is 1.5"},{"owner":{"account_id":8064636,"reputation":101,"user_id":6079221,"display_name":"Vinicius de Almeida"},"score":0,"creation_date":1498648137,"post_id":44786713,"comment_id":76581357,"body_markdown":"As this issue on GitHub, if you insert the dataType on @ApiImplicitParam it should work. I&#39;ll update my answer. https://github.com/swagger-api/swagger-core/issues/1559#issuecomment-261943276","body":"As this issue on GitHub, if you insert the dataType on @ApiImplicitParam it should work. I&#39;ll update my answer. <a href=\"https://github.com/swagger-api/swagger-core/issues/1559#issuecomment-261943276\" rel=\"nofollow noreferrer\">github.com/swagger-api/swagger-core/issues/&hellip;</a>"},{"owner":{"account_id":11000564,"reputation":1469,"user_id":8081281,"accept_rate":100,"display_name":"utkarsh31"},"score":0,"creation_date":1498708375,"post_id":44786713,"comment_id":76612280,"body_markdown":"That&#39;s what I&#39;m doing I gues...Can u please tell me what I have to do differently....","body":"That&#39;s what I&#39;m doing I gues...Can u please tell me what I have to do differently...."},{"owner":{"account_id":8064636,"reputation":101,"user_id":6079221,"display_name":"Vinicius de Almeida"},"score":0,"creation_date":1498740875,"post_id":44786713,"comment_id":76631528,"body_markdown":"On your question you said that SomeRequest and SomeReponse have the same code but on your comment you told that they&#39;re different. Just confirming, both classes have public constructor, getters and setters? If you get swagger.json, did it return something for SomeRequest?","body":"On your question you said that SomeRequest and SomeReponse have the same code but on your comment you told that they&#39;re different. Just confirming, both classes have public constructor, getters and setters? If you get swagger.json, did it return something for SomeRequest?"},{"owner":{"account_id":11000564,"reputation":1469,"user_id":8081281,"accept_rate":100,"display_name":"utkarsh31"},"score":0,"creation_date":1498744743,"post_id":44786713,"comment_id":76634733,"body_markdown":"Yes the class has default constructor with all getters/setters","body":"Yes the class has default constructor with all getters/setters"},{"owner":{"account_id":8064636,"reputation":101,"user_id":6079221,"display_name":"Vinicius de Almeida"},"score":0,"creation_date":1498820756,"post_id":44786713,"comment_id":76670012,"body_markdown":"If you try to get swagger.json, did it return something for SomeRequest? Or onlt for SomeResponse?","body":"If you try to get swagger.json, did it return something for SomeRequest? Or onlt for SomeResponse?"}],"tags":[],"owner":{"account_id":8064636,"reputation":101,"user_id":6079221,"display_name":"Vinicius de Almeida"},"comment_count":9,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1498648390,"creation_date":1498585559,"answer_id":44786713,"question_id":44785105,"body_markdown":"According to this GitHub [issue][1] on Swagger core project, if you add the annotation `@ApiImplicitParam` should resolve your problem.\r\n\r\n    @ApiImplicitParams({\r\n        @ApiImplicitParam(\r\n            required = true,\r\n            dataType = &quot;com.example.SomeObjectDto&quot;,\r\n            paramType = &quot;body&quot;\r\n        )\r\n    })\r\n\r\nBut normally if you just add the class on your method signature it&#39;ll work.\r\n\r\n    private Object retrieveByName(SomeObjectDto someObjectDto) {\r\n        someCode();\r\n    }\r\n\r\nAlso SomeObjectDto class should contain &quot;get&quot; methods for your variables like.\r\n\r\n    class SomeObjectDto {\r\n        private String info;\r\n\r\n        getInfo(){\r\n            return info;\r\n        }\r\n    }\r\n\r\nWill produce the following JSon.\r\n\r\n&gt; { info: &quot;string&quot; }\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-core/issues/1559#issuecomment-261943276","title":"Swagger datatype not generating docs","body":"<p>According to this GitHub <a href=\"https://github.com/swagger-api/swagger-core/issues/1559#issuecomment-261943276\" rel=\"nofollow noreferrer\">issue</a> on Swagger core project, if you add the annotation <code>@ApiImplicitParam</code> should resolve your problem.</p>\n\n<pre><code>@ApiImplicitParams({\n    @ApiImplicitParam(\n        required = true,\n        dataType = \"com.example.SomeObjectDto\",\n        paramType = \"body\"\n    )\n})\n</code></pre>\n\n<p>But normally if you just add the class on your method signature it'll work.</p>\n\n<pre><code>private Object retrieveByName(SomeObjectDto someObjectDto) {\n    someCode();\n}\n</code></pre>\n\n<p>Also SomeObjectDto class should contain \"get\" methods for your variables like.</p>\n\n<pre><code>class SomeObjectDto {\n    private String info;\n\n    getInfo(){\n        return info;\n    }\n}\n</code></pre>\n\n<p>Will produce the following JSon.</p>\n\n<blockquote>\n  <p>{ info: \"string\" }</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":435422,"reputation":147,"user_id":821990,"display_name":"danidacila"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566920349,"creation_date":1566919908,"answer_id":57678042,"question_id":44785105,"body_markdown":"`ApiImplicitParam` can map a parameter to a correct type, but the type must be detected by swagger, so must be a valid reference.\r\nThe only way I could make this working is by using `additionalModels` method.\r\n\r\nExample in spring-boot:  \r\nconfigure swagger\r\n    \r\n    import springfox.documentation.spring.web.plugins.Docket;\r\n    import com.fasterxml.classmate.TypeResolver;\r\n    ...\r\n\r\n    @Bean\r\n    public Docket api(TypeResolver typeResolver) {\r\n      return new Docket(DocumentationType.SWAGGER_2)\r\n        .groupName(&quot;your-group-rest-api&quot;)\r\n        .select()\r\n        .apis(RequestHandlerSelectors.basePackage(&quot;your.package&quot;))\r\n        .paths(PathSelectors.any())\r\n        .build()\r\n        .additionalModels(typeResolver.resolve(YourModel.class))\r\n        .apiInfo(apiInfo());\r\n    }\r\n\r\ncontroller\r\n    \r\n    @ApiOperation...\r\n    @ApiImplicitParams(\r\n      @ApiImplicitParam(dataType = &quot;YourModel&quot;, name = &quot;requestJson&quot;, paramType = &quot;body&quot;))\r\n    @ApiResponses...\r\n    @RequestMapping...\r\n    public void yourMethod(@RequestBody String requestJson,...)\r\n\r\nOf course, you could have an InputStream parameter for the request and map that to your model.","title":"Swagger datatype not generating docs","body":"<p><code>ApiImplicitParam</code> can map a parameter to a correct type, but the type must be detected by swagger, so must be a valid reference.\nThe only way I could make this working is by using <code>additionalModels</code> method.</p>\n\n<p>Example in spring-boot:<br>\nconfigure swagger</p>\n\n<pre><code>import springfox.documentation.spring.web.plugins.Docket;\nimport com.fasterxml.classmate.TypeResolver;\n...\n\n@Bean\npublic Docket api(TypeResolver typeResolver) {\n  return new Docket(DocumentationType.SWAGGER_2)\n    .groupName(\"your-group-rest-api\")\n    .select()\n    .apis(RequestHandlerSelectors.basePackage(\"your.package\"))\n    .paths(PathSelectors.any())\n    .build()\n    .additionalModels(typeResolver.resolve(YourModel.class))\n    .apiInfo(apiInfo());\n}\n</code></pre>\n\n<p>controller</p>\n\n<pre><code>@ApiOperation...\n@ApiImplicitParams(\n  @ApiImplicitParam(dataType = \"YourModel\", name = \"requestJson\", paramType = \"body\"))\n@ApiResponses...\n@RequestMapping...\npublic void yourMethod(@RequestBody String requestJson,...)\n</code></pre>\n\n<p>Of course, you could have an InputStream parameter for the request and map that to your model.</p>\n"},{"tags":[],"owner":{"account_id":25181248,"reputation":43,"user_id":19022728,"display_name":"alex90bar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690371395,"creation_date":1690371395,"answer_id":76770859,"question_id":44785105,"body_markdown":"I faced the same problem with `ApiImplicitParam`, and after 2 hours of app rebuilding I found out one more solution))\r\n\r\nIt doesn&#39;t look very logical, but it works:\r\n\r\n```\r\n@ApiOperation(value = &quot;Ð—Ð°Ð¿Ñ€Ð¾Ñ...&quot;, response = Request.class)\r\n    @ApiImplicitParams({\r\n       @ApiImplicitParam(name = &quot;request&quot;, value = &quot;DTO Ð—Ð°Ð¿Ñ€Ð¾Ñ...&quot;, required = true, \r\n    dataType = &quot;Request&quot;, dataTypeClass = Request.class, paramType = &quot;body&quot;)\r\n    })\r\n    @ApiResponses(value = {\r\n        @ApiResponse(code = 200, message = &quot;Ð£ÑÐ¿ÐµÑˆÐ½Ñ‹Ð¹ Ð·Ð°Ð¿Ñ€Ð¾Ñ&quot;, response = Response.class),\r\n        @ApiResponse(code = 400, message = &quot;ÐžÑˆÐ¸Ð±ÐºÐ° Ð² Ð·Ð°Ð¿Ñ€Ð¾ÑÐµ&quot;),\r\n        @ApiResponse(code = 500, message = &quot;Ð’Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑÑ Ð¾ÑˆÐ¸Ð±ÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð°&quot;)\r\n    })\r\n    public Response processRequest(@ApiParam(hidden = true)\r\n    @RequestBody Object request) {\r\n            return service.processRequest(request);\r\n    }\r\n```\r\n\r\nThe key is to set the class of your request DTO in `@ApiOperation` response field, and at the same time to set `@ApiResponses` group of annotations. \r\n\r\nIt seems it helps swagger to detect the type of request correctly.\r\nAnd response is being displayed correctly by swagger as well:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4XVoT.png\r\n\r\nBut of course when I found the solution posted by @danidacila I&#39;ve used it in my app, because it looks much more preferrable and smart and it works as well.","title":"Swagger datatype not generating docs","body":"<p>I faced the same problem with <code>ApiImplicitParam</code>, and after 2 hours of app rebuilding I found out one more solution))</p>\n<p>It doesn't look very logical, but it works:</p>\n<pre><code>@ApiOperation(value = &quot;Ð—Ð°Ð¿Ñ€Ð¾Ñ...&quot;, response = Request.class)\n    @ApiImplicitParams({\n       @ApiImplicitParam(name = &quot;request&quot;, value = &quot;DTO Ð—Ð°Ð¿Ñ€Ð¾Ñ...&quot;, required = true, \n    dataType = &quot;Request&quot;, dataTypeClass = Request.class, paramType = &quot;body&quot;)\n    })\n    @ApiResponses(value = {\n        @ApiResponse(code = 200, message = &quot;Ð£ÑÐ¿ÐµÑˆÐ½Ñ‹Ð¹ Ð·Ð°Ð¿Ñ€Ð¾Ñ&quot;, response = Response.class),\n        @ApiResponse(code = 400, message = &quot;ÐžÑˆÐ¸Ð±ÐºÐ° Ð² Ð·Ð°Ð¿Ñ€Ð¾ÑÐµ&quot;),\n        @ApiResponse(code = 500, message = &quot;Ð’Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑÑ Ð¾ÑˆÐ¸Ð±ÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð°&quot;)\n    })\n    public Response processRequest(@ApiParam(hidden = true)\n    @RequestBody Object request) {\n            return service.processRequest(request);\n    }\n</code></pre>\n<p>The key is to set the class of your request DTO in <code>@ApiOperation</code> response field, and at the same time to set <code>@ApiResponses</code> group of annotations.</p>\n<p>It seems it helps swagger to detect the type of request correctly.\nAnd response is being displayed correctly by swagger as well:</p>\n<p><a href=\"https://i.stack.imgur.com/4XVoT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4XVoT.png\" alt=\"enter image description here\" /></a></p>\n<p>But of course when I found the solution posted by @danidacila I've used it in my app, because it looks much more preferrable and smart and it works as well.</p>\n"}],"owner":{"account_id":11000564,"reputation":1469,"user_id":8081281,"accept_rate":100,"display_name":"utkarsh31"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44786713,"answer_count":3,"score":1,"last_activity_date":1690371395,"creation_date":1498579834,"question_id":44785105,"body_markdown":"I have the below code in Swagger,\r\n\r\n    @Path(&quot;/v1&quot;)\r\n        @ApiOperation(value = &quot;POST - Some Value&quot;, nickname = &quot;post-funtion&quot;, consumes = &quot;application/json&quot;, produces = &quot;text/html; charset=UTF-8&quot;, tags = {\r\n        \t\t&quot;Some Controller&quot; })\r\n        @ApiImplicitParams({\r\n        \t\t@ApiImplicitParam(name = &quot;Authorization&quot;, paramType = &quot;header&quot;, dataType = &quot;string&quot;, format = &quot;JWT&quot;, required = false, value = &quot;A User Service JWT&quot;),\r\n        \t\t@ApiImplicitParam(name = &quot;Request&quot;, value = &quot;Request Object&quot;, paramType = &quot;body&quot;, dataType = &quot;org.pkg.SomeRequest&quot;, required = true) })\r\n        @ApiResponses({\r\n        \t\t@ApiResponse(code = 200, message = &quot;Value Added&quot;, response = SomeResponse.class) })\r\n    private Object retrieveByName(Request request, Response response)\r\n    {\r\n    \treturn new RetrieveByNameRqstHandler(catalogService, request, response).handle();\r\n    }\r\n\r\nThe code is supposed to automatically generate default json request depending upon the datatype which in this case is `&quot;org.pkg.SomeRequest&quot;` but there is nothing generated. On the contrary if I change the &quot;org.pkg.SomeRequest&quot; with `&quot;org.pkg.SomeResponse&quot;` there is a default JSON generated for this. Can anybody help me please?\r\n\r\nConsider both classes SomeRequest,SomeResponse have the same code.\r\nThis is the image where I use `&quot;org.pkg.SomeRequest&quot;` in the dataType\r\n[![This is the image where I use `&quot;org.pkg.SomeRequest&quot;` in the dataType][1]][1]\r\n[![This is the image where I use `&quot;org.pkg.SomeResponse&quot;` in the dataType][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4hHCi.png\r\n\r\nThis is the image where I use `&quot;org.pkg.SomeResponse&quot;` in the dataType\r\n  [2]: https://i.stack.imgur.com/BGpCE.png","title":"Swagger datatype not generating docs","body":"<p>I have the below code in Swagger,</p>\n\n<pre><code>@Path(\"/v1\")\n    @ApiOperation(value = \"POST - Some Value\", nickname = \"post-funtion\", consumes = \"application/json\", produces = \"text/html; charset=UTF-8\", tags = {\n            \"Some Controller\" })\n    @ApiImplicitParams({\n            @ApiImplicitParam(name = \"Authorization\", paramType = \"header\", dataType = \"string\", format = \"JWT\", required = false, value = \"A User Service JWT\"),\n            @ApiImplicitParam(name = \"Request\", value = \"Request Object\", paramType = \"body\", dataType = \"org.pkg.SomeRequest\", required = true) })\n    @ApiResponses({\n            @ApiResponse(code = 200, message = \"Value Added\", response = SomeResponse.class) })\nprivate Object retrieveByName(Request request, Response response)\n{\n    return new RetrieveByNameRqstHandler(catalogService, request, response).handle();\n}\n</code></pre>\n\n<p>The code is supposed to automatically generate default json request depending upon the datatype which in this case is <code>\"org.pkg.SomeRequest\"</code> but there is nothing generated. On the contrary if I change the \"org.pkg.SomeRequest\" with <code>\"org.pkg.SomeResponse\"</code> there is a default JSON generated for this. Can anybody help me please?</p>\n\n<p>Consider both classes SomeRequest,SomeResponse have the same code.\nThis is the image where I use <code>\"org.pkg.SomeRequest\"</code> in the dataType\n<a href=\"https://i.stack.imgur.com/4hHCi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4hHCi.png\" alt=\"This is the image where I use &lt;code&gt;&quot;org.pkg.SomeRequest&quot;&lt;/code&gt; in the dataType\"></a>\n<a href=\"https://i.stack.imgur.com/BGpCE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BGpCE.png\" alt=\"This is the image where I use &lt;code&gt;&quot;org.pkg.SomeResponse&quot;&lt;/code&gt; in the dataType\"></a></p>\n\n<p>This is the image where I use <code>\"org.pkg.SomeResponse\"</code> in the dataType</p>\n"},{"tags":["java","antlr","antlr4","java-11"],"comments":[{"owner":{"account_id":6290626,"reputation":19,"user_id":4888455,"display_name":"user4888455"},"score":0,"creation_date":1690205419,"post_id":76754186,"comment_id":135316886,"body_markdown":"@user2340612 Already checked the link you suggested but its not clear on what is the exact issue and how can we resolve it?","body":"@user2340612 Already checked the link you suggested but its not clear on what is the exact issue and how can we resolve it?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1690208093,"post_id":76754186,"comment_id":135317500,"body_markdown":"The exact issue is that on Java 11, user code no longer permitted to access internal JDK classes **unless** you &quot;open&quot; the module via a command line option.  This is explained in the duplink **and** a workaround is given.","body":"The exact issue is that on Java 11, user code no longer permitted to access internal JDK classes <b>unless</b> you &quot;open&quot; the module via a command line option.  This is explained in the duplink <b>and</b> a workaround is given."},{"owner":{"account_id":6290626,"reputation":19,"user_id":4888455,"display_name":"user4888455"},"score":0,"creation_date":1690210660,"post_id":76754186,"comment_id":135318064,"body_markdown":"@StephenC  I did not understand  the workaround you referred to could you please let me know. How can we resolve this?","body":"@StephenC  I did not understand  the workaround you referred to could you please let me know. How can we resolve this?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1690211798,"post_id":76754186,"comment_id":135318335,"body_markdown":"Well you first need to figure out what is loading that internal class.  I suspect it is a dependency of Antlr that has been included the &quot;antlr4-4.9.2-complete.jar&quot;.  Or ... you could just check that you have updated the Antfile to &gt;use&lt; the newer version of the JAR file that you downloaded.","body":"Well you first need to figure out what is loading that internal class.  I suspect it is a dependency of Antlr that has been included the &quot;antlr4-4.9.2-complete.jar&quot;.  Or ... you could just check that you have updated the Antfile to &gt;use&lt; the newer version of the JAR file that you downloaded."},{"owner":{"account_id":6290626,"reputation":19,"user_id":4888455,"display_name":"user4888455"},"score":0,"creation_date":1690302922,"post_id":76754186,"comment_id":135333317,"body_markdown":"Checked the whole codebase and also i am seeing that jdk.internal.reflect.ConstructorAccessorImpl is their in openjdk11 too      \nBinary file bin/jre-11/lib/server/libjvm.so matches\nbin/jre-11/lib/classlist:jdk/internal/reflect/ConstructorAccessorImpl\nBinary file bin/jre11/lib/server/libjvm.so matches\nbin/jre11/lib/classlist:jdk/internal/reflect/ConstructorAccessorImpl\nBinary file jmods/java.base.jmod matches\nBinary file lib/modules matches\nBinary file lib/src.zip matches\nBinary file lib/server/libjvm.so matches\nlib/classlist:jdk/internal/reflect/ConstructorAccessorImpl,\nstill error?","body":"Checked the whole codebase and also i am seeing that jdk.internal.reflect.ConstructorAccessorImpl is their in openjdk11 too       Binary file bin/jre-11/lib/server/libjvm.so matches bin/jre-11/lib/classlist:jdk/internal/reflect/ConstructorAcc&zwnj;&#8203;essorImpl Binary file bin/jre11/lib/server/libjvm.so matches bin/jre11/lib/classlist:jdk/internal/reflect/ConstructorAcce&zwnj;&#8203;ssorImpl Binary file jmods/java.base.jmod matches Binary file lib/modules matches Binary file lib/src.zip matches Binary file lib/server/libjvm.so matches lib/classlist:jdk/internal/reflect/ConstructorAccessorImpl, still error?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1690327663,"post_id":76754186,"comment_id":135337334,"body_markdown":"That&#39;s not the point.  Only the Java SE code should be using (i.e. naming) that class.  But *something else* is apparently attempting to use it too.  That attempt is what is leading to the class loading error.  There should be some trace of this in either your code, the Antlr JAR or some other 3rd-party dependency you are using.  And (possibly) in the full stacktrace for the classloader error as well.","body":"That&#39;s not the point.  Only the Java SE code should be using (i.e. naming) that class.  But <i>something else</i> is apparently attempting to use it too.  That attempt is what is leading to the class loading error.  There should be some trace of this in either your code, the Antlr JAR or some other 3rd-party dependency you are using.  And (possibly) in the full stacktrace for the classloader error as well."},{"owner":{"account_id":6290626,"reputation":19,"user_id":4888455,"display_name":"user4888455"},"score":0,"creation_date":1690356218,"post_id":76754186,"comment_id":135340243,"body_markdown":"Added full stack trace of the error.","body":"Added full stack trace of the error."}],"answers":[{"comments":[{"owner":{"account_id":6290626,"reputation":19,"user_id":4888455,"display_name":"user4888455"},"score":0,"creation_date":1690958976,"post_id":76770681,"comment_id":135423547,"body_markdown":"I was able to resolve this by upgrading ANT. Thanks @Stephen C for the solution.","body":"I was able to resolve this by upgrading ANT. Thanks @Stephen C for the solution."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690371329,"creation_date":1690370106,"answer_id":76770681,"question_id":76754186,"body_markdown":"OK ... my initial diagnosis (in the comments) was wrong.  \r\n\r\nI think that the actual problem is in the Ant tool.  Specifically, Ant&#39;s custom classloader is triggering an old JDK bug: https://bugs.openjdk.org/browse/JDK-6265952.  As you can see from the report, it is a long standing bug that only occurs in obscure circumstances. \r\n\r\nThe Ant issue is: https://bz.apache.org/bugzilla/show_bug.cgi?id=59556\r\n\r\nFortunately, the fix for you should be simple.  Upgrade to Ant 1.9.8 or 1.10.0 or later.   (The version of Antlr won&#39;t matter for this ... probably.)\r\n\r\n","title":"After migrating from JDK1.8 to openjdk11 getting java.lang.NoClassDefFoundError: jdk/internal/reflect/ConstructorAccessorImpl error","body":"<p>OK ... my initial diagnosis (in the comments) was wrong.</p>\n<p>I think that the actual problem is in the Ant tool.  Specifically, Ant's custom classloader is triggering an old JDK bug: <a href=\"https://bugs.openjdk.org/browse/JDK-6265952\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-6265952</a>.  As you can see from the report, it is a long standing bug that only occurs in obscure circumstances.</p>\n<p>The Ant issue is: <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=59556\" rel=\"nofollow noreferrer\">https://bz.apache.org/bugzilla/show_bug.cgi?id=59556</a></p>\n<p>Fortunately, the fix for you should be simple.  Upgrade to Ant 1.9.8 or 1.10.0 or later.   (The version of Antlr won't matter for this ... probably.)</p>\n"}],"owner":{"account_id":6290626,"reputation":19,"user_id":4888455,"display_name":"user4888455"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690450286,"answer_count":1,"score":0,"last_activity_date":1690371329,"creation_date":1690199312,"question_id":76754186,"body_markdown":"while generating parser using antlr4-4.9.2-complete.jar,I am getting the below error\r\n\r\n   \r\n\r\n&gt;      [java] java.lang.NoClassDefFoundError: jdk/internal/reflect/ConstructorAccessorImpl\r\n&gt;     [java] \tat org.apache.tools.ant.taskdefs.ExecuteJava.execute(ExecuteJava.java:194)\r\n&gt;     [java] \tat org.apache.tools.ant.taskdefs.Java.run(Java.java:771)\r\n&gt;     [java] \tat org.apache.tools.ant.taskdefs.Java.executeJava(Java.java:221)\r\n&gt;     [java] \tat org.apache.tools.ant.taskdefs.Java.executeJava(Java.java:135)\r\n&gt;     [java] \tat org.apache.tools.ant.taskdefs.Java.execute(Java.java:108)\r\n&gt;     [java] \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n&gt;     [java] \tat jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\r\n&gt;     [java] \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt;     [java] \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n&gt;     [java] \tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\r\n&gt;     [java] \tat org.apache.tools.ant.Task.perform(Task.java:348)\r\n&gt;     [java] \tat org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:68)\r\n&gt;     [java] \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n&gt;     [java] \tat jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\r\n&gt;     [java] \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt;     [java] \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n&gt;     [java] \tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\r\n&gt;     [java] \tat org.apache.tools.ant.Task.perform(Task.java:348)\r\n&gt;     [java] \tat org.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:396)\r\n&gt;     [java] \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n&gt;     [java] \tat jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\r\n&gt;     [java] \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt;     [java] \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n&gt;     [java] \tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\r\n&gt;     [java] \tat org.apache.tools.ant.Task.perform(Task.java:348)\r\n&gt;     [java] \tat org.apache.tools.ant.Target.execute(Target.java:435)\r\n&gt;     [java] \tat org.apache.tools.ant.Target.performTasks(Target.java:456)\r\n&gt;     [java] \tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393)\r\n&gt;     [java] \tat org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)\r\n&gt;     [java] \tat org.apache.tools.ant.Project.executeTargets(Project.java:1248)\r\n&gt;     [java] \tat org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:440)\r\n&gt;     [java] \tat org.apache.tools.ant.AntBridge.call(AntBridge.java:61)\r\n&gt;     [java] \tat org.apache.tools.ant.AntBridge.call(AntBridge.java:17)\r\n&gt;     [java] \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt;     [java] \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n&gt;     [java] \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n&gt;     [java] \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n&gt;     [java] Caused by: java.lang.NoClassDefFoundError: jdk/internal/reflect/ConstructorAccessorImpl\r\n&gt;     [java] \tat java.base/jdk.internal.misc.Unsafe.defineClass0(Native Method)\r\n&gt;     [java] \tat java.base/jdk.internal.misc.Unsafe.defineClass(Unsafe.java:1192)\r\n&gt;     [java] \tat java.base/jdk.internal.reflect.ClassDefiner.defineClass(ClassDefiner.java:63)\r\n&gt;     [java] \tat java.base/jdk.internal.reflect.MethodAccessorGenerator$1.run(MethodAccessorGenerator.java:400)\r\n&gt;     [java] \tat java.base/jdk.internal.reflect.MethodAccessorGenerator$1.run(MethodAccessorGenerator.java:394)\r\n&gt;     [java] \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n&gt;     [java] \tat java.base/jdk.internal.reflect.MethodAccessorGenerator.generate(MethodAccessorGenerator.java:393)\r\n&gt;     [java] \tat java.base/jdk.internal.reflect.MethodAccessorGenerator.generateConstructor(MethodAccessorGenerator.java:92)\r\n&gt;     [java] \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:55)\r\n&gt;     [java] \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n&gt;     [java] \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n&gt;     [java] \tat org.antlr.v4.automata.ParserATNFactory.newState(ParserATNFactory.java:724)\r\n&gt;     [java] \tat org.antlr.v4.automata.ParserATNFactory.createRuleStartAndStopATNStates(ParserATNFactory.java:663)\r\n&gt;     [java] \tat org.antlr.v4.automata.ParserATNFactory._createATN(ParserATNFactory.java:157)\r\n&gt;     [java] \tat org.antlr.v4.automata.LexerATNFactory.createATN(LexerATNFactory.java:105)\r\n&gt;     [java] \tat org.antlr.v4.Tool.processNonCombinedGrammar(Tool.java:384)\r\n&gt;     [java] \tat org.antlr.v4.Tool.process(Tool.java:359)\r\n&gt;     [java] \tat org.antlr.v4.Tool.processGrammarsOnCommandLine(Tool.java:318)\r\n&gt;     [java] \tat org.antlr.v4.Tool.main(Tool.java:162)\r\n&gt;     [java] \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method)\r\n&gt;     [java] \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt;     [java] \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt;     [java] \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n&gt;     [java] \tat org.apache.tools.ant.taskdefs.ExecuteJava.run(ExecuteJava.java:217)\r\n&gt;     [java] \tat org.apache.tools.ant.taskdefs.ExecuteJava.execute(ExecuteJava.java:152)\r\n&gt;     [java] \t... 36 more\r\n&gt;     [java] Caused by: java.lang.ClassNotFoundException: jdk.internal.reflect.ConstructorAccessorImpl\r\n&gt;     [java] \tat org.apache.tools.ant.AntClassLoader.findClassInComponents(AntClassLoader.java:1366)\r\n&gt;     [java] \tat org.apache.tools.ant.AntClassLoader.findClass(AntClassLoader.java:1315)\r\n&gt;     [java] \tat org.apache.tools.ant.AntClassLoader.loadClass(AntClassLoader.java:1074)\r\n&gt;     [java] \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n&gt;     [java] \t... 61 more\r\n&gt;     [java] Java Result: -1\r\n&gt;     [copy] error(114): TopoExpressionParser.g4:3:23: cannot find tokens file\r\n&gt; /home/patana1/workspace/trunk-build-java11/src/java/com/grammar/DefaultLexer.tokens\r\n\r\n    for the code\r\n    \r\n    &lt;macrodef name=&quot;generate-parser&quot;&gt;\r\n                &lt;attribute name=&quot;grammar&quot;/&gt;\r\n                &lt;sequential&gt;\r\n                    &lt;property name=&quot;src.grammar.dir&quot; location=&quot;${src.java.dir}/grammar&quot; /&gt;\r\n                    &lt;property name=&quot;src.grammar.generated.dir&quot; location=&quot;${src.java.generated.dir}/grammar&quot; /&gt;\r\n        \r\n                    &lt;java classname=&quot;org.antlr.v4.Tool&quot; &gt;\r\n                        &lt;classpath&gt;\r\n                            &lt;pathelement path=&quot;${libs.dir}/antlr4-4.9.2-complete.jar&quot; /&gt;\r\n                        &lt;/classpath&gt;\r\n                        &lt;arg value=&quot;-o&quot; /&gt;\r\n                        &lt;arg value=&quot;${src.grammar.generated.dir}&quot; /&gt;\r\n                        &lt;arg value=&quot;${src.grammar.dir}/@{grammar}.g4&quot; /&gt;\r\n                    &lt;/java&gt;\r\n                &lt;/sequential&gt;\r\n            &lt;/macrodef&gt;\r\n    \r\n    &lt;target name=&quot;generate-all-parsers&quot;&gt;\r\n            &lt;generate-parser grammar=&quot;DefaultLexer&quot;/&gt;\r\n    &lt;/target&gt;\r\n\r\nTried with latest antlr-4.13.0-complete.jar too but still same error can anyone please assist?\r\n","title":"After migrating from JDK1.8 to openjdk11 getting java.lang.NoClassDefFoundError: jdk/internal/reflect/ConstructorAccessorImpl error","body":"<p>while generating parser using antlr4-4.9.2-complete.jar,I am getting the below error</p>\n<blockquote>\n<pre><code> [java] java.lang.NoClassDefFoundError: jdk/internal/reflect/ConstructorAccessorImpl\n[java]    at org.apache.tools.ant.taskdefs.ExecuteJava.execute(ExecuteJava.java:194)\n[java]    at org.apache.tools.ant.taskdefs.Java.run(Java.java:771)\n[java]    at org.apache.tools.ant.taskdefs.Java.executeJava(Java.java:221)\n[java]    at org.apache.tools.ant.taskdefs.Java.executeJava(Java.java:135)\n[java]    at org.apache.tools.ant.taskdefs.Java.execute(Java.java:108)\n[java]    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n[java]    at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\n[java]    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n[java]    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\n[java]    at org.apache.tools.ant.Task.perform(Task.java:348)\n[java]    at org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:68)\n[java]    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n[java]    at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\n[java]    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n[java]    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\n[java]    at org.apache.tools.ant.Task.perform(Task.java:348)\n[java]    at org.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:396)\n[java]    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n[java]    at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\n[java]    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n[java]    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\n[java]    at org.apache.tools.ant.Task.perform(Task.java:348)\n[java]    at org.apache.tools.ant.Target.execute(Target.java:435)\n[java]    at org.apache.tools.ant.Target.performTasks(Target.java:456)\n[java]    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393)\n[java]    at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)\n[java]    at org.apache.tools.ant.Project.executeTargets(Project.java:1248)\n[java]    at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:440)\n[java]    at org.apache.tools.ant.AntBridge.call(AntBridge.java:61)\n[java]    at org.apache.tools.ant.AntBridge.call(AntBridge.java:17)\n[java]    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n[java]    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n[java]    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n[java]    at java.base/java.lang.Thread.run(Thread.java:834)\n[java] Caused by: java.lang.NoClassDefFoundError: jdk/internal/reflect/ConstructorAccessorImpl\n[java]    at java.base/jdk.internal.misc.Unsafe.defineClass0(Native Method)\n[java]    at java.base/jdk.internal.misc.Unsafe.defineClass(Unsafe.java:1192)\n[java]    at java.base/jdk.internal.reflect.ClassDefiner.defineClass(ClassDefiner.java:63)\n[java]    at java.base/jdk.internal.reflect.MethodAccessorGenerator$1.run(MethodAccessorGenerator.java:400)\n[java]    at java.base/jdk.internal.reflect.MethodAccessorGenerator$1.run(MethodAccessorGenerator.java:394)\n[java]    at java.base/java.security.AccessController.doPrivileged(Native Method)\n[java]    at java.base/jdk.internal.reflect.MethodAccessorGenerator.generate(MethodAccessorGenerator.java:393)\n[java]    at java.base/jdk.internal.reflect.MethodAccessorGenerator.generateConstructor(MethodAccessorGenerator.java:92)\n[java]    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:55)\n[java]    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n[java]    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n[java]    at org.antlr.v4.automata.ParserATNFactory.newState(ParserATNFactory.java:724)\n[java]    at org.antlr.v4.automata.ParserATNFactory.createRuleStartAndStopATNStates(ParserATNFactory.java:663)\n[java]    at org.antlr.v4.automata.ParserATNFactory._createATN(ParserATNFactory.java:157)\n[java]    at org.antlr.v4.automata.LexerATNFactory.createATN(LexerATNFactory.java:105)\n[java]    at org.antlr.v4.Tool.processNonCombinedGrammar(Tool.java:384)\n[java]    at org.antlr.v4.Tool.process(Tool.java:359)\n[java]    at org.antlr.v4.Tool.processGrammarsOnCommandLine(Tool.java:318)\n[java]    at org.antlr.v4.Tool.main(Tool.java:162)\n[java]    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\n</code></pre>\n<p>Method)\n[java]    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[java]    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n[java]    at org.apache.tools.ant.taskdefs.ExecuteJava.run(ExecuteJava.java:217)\n[java]    at org.apache.tools.ant.taskdefs.ExecuteJava.execute(ExecuteJava.java:152)\n[java]    ... 36 more\n[java] Caused by: java.lang.ClassNotFoundException: jdk.internal.reflect.ConstructorAccessorImpl\n[java]    at org.apache.tools.ant.AntClassLoader.findClassInComponents(AntClassLoader.java:1366)\n[java]    at org.apache.tools.ant.AntClassLoader.findClass(AntClassLoader.java:1315)\n[java]    at org.apache.tools.ant.AntClassLoader.loadClass(AntClassLoader.java:1074)\n[java]    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n[java]    ... 61 more\n[java] Java Result: -1\n[copy] error(114): TopoExpressionParser.g4:3:23: cannot find tokens file\n/home/patana1/workspace/trunk-build-java11/src/java/com/grammar/DefaultLexer.tokens</p>\n</blockquote>\n<pre><code>for the code\n\n&lt;macrodef name=&quot;generate-parser&quot;&gt;\n            &lt;attribute name=&quot;grammar&quot;/&gt;\n            &lt;sequential&gt;\n                &lt;property name=&quot;src.grammar.dir&quot; location=&quot;${src.java.dir}/grammar&quot; /&gt;\n                &lt;property name=&quot;src.grammar.generated.dir&quot; location=&quot;${src.java.generated.dir}/grammar&quot; /&gt;\n    \n                &lt;java classname=&quot;org.antlr.v4.Tool&quot; &gt;\n                    &lt;classpath&gt;\n                        &lt;pathelement path=&quot;${libs.dir}/antlr4-4.9.2-complete.jar&quot; /&gt;\n                    &lt;/classpath&gt;\n                    &lt;arg value=&quot;-o&quot; /&gt;\n                    &lt;arg value=&quot;${src.grammar.generated.dir}&quot; /&gt;\n                    &lt;arg value=&quot;${src.grammar.dir}/@{grammar}.g4&quot; /&gt;\n                &lt;/java&gt;\n            &lt;/sequential&gt;\n        &lt;/macrodef&gt;\n\n&lt;target name=&quot;generate-all-parsers&quot;&gt;\n        &lt;generate-parser grammar=&quot;DefaultLexer&quot;/&gt;\n&lt;/target&gt;\n</code></pre>\n<p>Tried with latest antlr-4.13.0-complete.jar too but still same error can anyone please assist?</p>\n"},{"tags":["java","mongodb","micronaut"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1690291419,"post_id":76762838,"comment_id":135330563,"body_markdown":"Edit you code please, also the answer is there is no bean of MongoRepositoryOperation in you IOC coctainner.","body":"Edit you code please, also the answer is there is no bean of MongoRepositoryOperation in you IOC coctainner."},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1690291497,"post_id":76762838,"comment_id":135330583,"body_markdown":"Also see here https://stackoverflow.com/questions/70113424/application-wont-start-as-mongooperations-bean-is-not-defined please.","body":"Also see here <a href=\"https://stackoverflow.com/questions/70113424/application-wont-start-as-mongooperations-bean-is-not-defined\" title=\"application wont start as mongooperations bean is not defined\">stackoverflow.com/questions/70113424/&hellip;</a> please."}],"owner":{"account_id":26417951,"reputation":1,"user_id":22282281,"display_name":"Thiago Felizardo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690370060,"creation_date":1690289095,"question_id":76762838,"body_markdown":"No bean of type [io.micronaut.data.mongodb.operations.MongoRepositoryOperations] exists. Make sure the bean is not disabled by bean requirements (enable trace logging for &#39;io.micronaut.context.condition&#39; to check) and if the bean is enabled then ensure the class is declared a bean and annotation processing is enabled (for Java and Kotlin the &#39;micronaut-inject-java&#39; dependency should be configured as an annotation processor). \r\nI&#39;m using MongoDB as a database raised in docker as a container here are my codes with pom xml and docker compose \r\n\r\nI already tried to put some dependencies but I couldn&#39;t run it, it will always give this error when I make a request in postman\r\n\r\n\r\n`Entity`\r\n\r\n```\r\npackage br.com.entity;\r\n\r\nimport io.micronaut.core.annotation.Creator;\r\nimport io.micronaut.core.annotation.Introspected;\r\nimport io.micronaut.data.annotation.GeneratedValue;\r\nimport io.micronaut.data.annotation.Id;\r\nimport io.micronaut.data.annotation.MappedEntity;\r\nimport io.micronaut.serde.annotation.Serdeable;\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport jakarta.validation.constraints.NotEmpty;\r\nimport jakarta.validation.constraints.NotNull;\r\nimport org.bson.types.ObjectId;\r\n\r\n\r\n@Introspected\r\n@MappedEntity(&quot;Person&quot;)\r\n@Serdeable\r\npublic class Person {\r\n\r\n    @Id\r\n    @GeneratedValue(GeneratedValue.Type.IDENTITY)\r\n    private ObjectId id;\r\n    @NotNull\r\n    @NotBlank\r\n    private String name;\r\n    @NotNull\r\n    @NotBlank\r\n    private int age;\r\n    @NotNull\r\n    @NotEmpty\r\n    private String gender;\r\n\r\n    @Creator\r\n    public Person(@NotNull String name,\r\n                  @NotNull int age,\r\n                  @NotEmpty String gender) {\r\n        this.name = name;\r\n        this.age = age;\r\n        this.gender = gender;\r\n    }\r\n    public Person(){\r\n    }\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    public ObjectId getId() {\r\n        return id;\r\n    }\r\n    public void setId(ObjectId id) {\r\n        this.id = id;\r\n    }\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n    public String getGender() {\r\n        return gender;\r\n    }\r\n    public void setGender(String gender) {\r\n        this.gender = gender;\r\n    }\r\n}\r\n```\r\n`Repository`\r\n\r\n```\r\npackage br.com.repository;\r\n\r\nimport br.com.entity.Person;\r\nimport io.micronaut.data.mongodb.annotation.MongoRepository;\r\nimport io.micronaut.data.repository.CrudRepository;\r\nimport org.bson.types.ObjectId;\r\n\r\n\r\n\r\n@MongoRepository\r\npublic interface PersonRepository extends CrudRepository&lt;Person, ObjectId&gt; {\r\n}\r\n\r\n\r\n```\r\n\r\n`Service`\r\n```\r\npackage br.com.service;\r\n\r\nimport br.com.Person;\r\nimport jakarta.validation.constraints.NotEmpty;\r\nimport jakarta.validation.constraints.NotNull;\r\nimport org.bson.types.ObjectId;\r\n\r\nimport java.util.Optional;\r\n\r\n\r\npublic interface PersonService {\r\n\r\n    Optional&lt;Person&gt; findById(@NotNull ObjectId id);\r\n\r\n    Person save(@NotNull Person person);\r\n\r\n    void deleteById(ObjectId id);\r\n\r\n    Iterable&lt;Person&gt;  findAll();\r\n\r\n    Person update(@NotNull ObjectId id, @NotEmpty Person updatedPerson);\r\n}\r\n\r\n```\r\n\r\n`Service implent`\r\n\r\n```\r\npackage br.com.service;\r\n\r\nimport br.com.entity.Person;\r\nimport br.com.repository.PersonRepository;\r\nimport io.micronaut.core.annotation.NonNull;\r\nimport io.micronaut.data.exceptions.EmptyResultException;\r\nimport jakarta.inject.Inject;\r\nimport jakarta.inject.Singleton;\r\nimport jakarta.validation.constraints.NotEmpty;\r\nimport jakarta.validation.constraints.NotNull;\r\nimport org.bson.types.ObjectId;\r\nimport java.util.Optional;\r\n\r\n\r\n\r\n@Singleton\r\npublic class PersonServiceImpl implements PersonService {\r\n\r\n    @Inject\r\n    private PersonRepository personRepository;\r\n\r\n    public PersonServiceImpl(PersonRepository personRepository) {\r\n        this.personRepository = personRepository;\r\n    }\r\n\r\n    public Optional&lt;Person&gt; findById(@NonNull ObjectId personId) {\r\n        return personRepository.findById(personId);\r\n    }\r\n\r\n    public Person save(Person person) {\r\n        return personRepository.save(person);\r\n    }\r\n\r\n\r\n    public void deleteById(ObjectId personId) {\r\n        personRepository.deleteById(personId);\r\n    }\r\n\r\n    public Iterable&lt;Person&gt; findAll() {\r\n        return personRepository.findAll();\r\n    }\r\n\r\n    public Person update(@NotNull ObjectId id, @NotEmpty Person updatedPerson) {\r\n\r\n        Optional&lt;Person&gt; optionalPerson = findById(id);\r\n\r\n        if (optionalPerson.isPresent()) {\r\n\r\n            Person existingPerson = optionalPerson.get();\r\n\r\n            existingPerson.setName(updatedPerson.getName());\r\n            existingPerson.setAge(updatedPerson.getAge());\r\n            existingPerson.setGender(updatedPerson.getGender());\r\n            return personRepository.update(existingPerson);\r\n        } else {\r\n            throw new EmptyResultException();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n`Controller`\r\n```\r\npackage br.com.controller;\r\n\r\nimport br.com.entity.Person;\r\nimport br.com.service.PersonServiceImpl;\r\nimport io.micronaut.http.HttpResponse;\r\nimport io.micronaut.http.annotation.*;\r\nimport jakarta.validation.Valid;\r\nimport org.bson.types.ObjectId;\r\nimport java.util.Optional;\r\n\r\n\r\n@Controller(&quot;/api/person&quot;)\r\npublic class PersonController {\r\n\r\n    private PersonServiceImpl personService;\r\n\r\n    public PersonController(PersonServiceImpl personService) {\r\n        this.personService = personService;\r\n    }\r\n\r\n    @Get(&quot;/{personId}&quot;)\r\n    public HttpResponse&lt;Person&gt; findById(@PathVariable @Valid ObjectId personId) {\r\n        Optional&lt;Person&gt; person = personService.findById(personId);\r\n        return person.map(HttpResponse::ok).orElseGet(HttpResponse::notFound);\r\n    }\r\n\r\n    @Post\r\n    public HttpResponse&lt;Person&gt; save(@Body Person person) {\r\n        Person savedPerson = personService.save(person);\r\n        return HttpResponse.created(savedPerson);\r\n    }\r\n\r\n    @Delete(&quot;/{personId}&quot;)\r\n    public HttpResponse&lt;?&gt; deleteById(@PathVariable ObjectId personId) {\r\n        personService.deleteById(personId);\r\n        return HttpResponse.noContent();\r\n    }\r\n\r\n    @Get\r\n    public HttpResponse&lt;Iterable&lt;Person&gt;&gt; findAll() {\r\n        Iterable&lt;Person&gt; persons = personService.findAll();\r\n        return HttpResponse.ok(persons);\r\n    }\r\n\r\n    @Put(&quot;/{id}&quot;)\r\n    public HttpResponse&lt;Person&gt; update(@PathVariable ObjectId id, @Body @Valid Person updatedPerson) {\r\n        Person updated = personService.update(id, updatedPerson);\r\n        return HttpResponse.ok(updated);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n    micronaut:\r\n      application:\r\n        name: AtividadeCrud\r\n        logging:\r\n          level:\r\n            io.micronaut.context.condition: TRACE\r\n\r\n    datasources:\r\n      default:\r\n        url: mongodb://127.0.0.1:27017/?directConnection=true&amp;serverSelectionTimeoutMS=2000&amp;appName=mongosh+1.10.1\r\n        database: atividadeDB\r\n        driver-class-name: io.micronaut.configuration.mongo.sync.MongoSyncDriver\r\n\r\n    mongodb:\r\n      uri: mongodb://127.0.0.1:27017/?directConnection=true&amp;serverSelectionTimeoutMS=2000&amp;appName=mongosh+1.10.1\r\n      databases:\r\n        mongodb-uri: mongodb://127.0.0.1:27017/?directConnection=true&amp;serverSelectionTimeoutMS=2000&amp;appName=mongosh+1.10.1\r\n        database: atividadeDB\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;br.com&lt;/groupId&gt;\r\n  &lt;artifactId&gt;AtividadeCrud&lt;/artifactId&gt;\r\n  &lt;version&gt;0.1&lt;/version&gt;\r\n  &lt;packaging&gt;${packaging}&lt;/packaging&gt;\r\n\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;io.micronaut.platform&lt;/groupId&gt;\r\n    &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n  &lt;properties&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;jdk.version&gt;17&lt;/jdk.version&gt;\r\n    &lt;release.version&gt;17&lt;/release.version&gt;\r\n    &lt;micronaut.version&gt;4.0.0&lt;/micronaut.version&gt;\r\n    &lt;micronaut.aot.enabled&gt;false&lt;/micronaut.aot.enabled&gt;\r\n    &lt;micronaut.aot.packageName&gt;br.com.aot.generated&lt;/micronaut.aot.packageName&gt;\r\n    &lt;micronaut.data.version&gt;4.0.1&lt;/micronaut.data.version&gt;\r\n    &lt;micronaut.runtime&gt;netty&lt;/micronaut.runtime&gt;\r\n    &lt;exec.mainClass&gt;br.com.Application&lt;/exec.mainClass&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;sonatype-snapshots&lt;/id&gt;\r\n      &lt;url&gt;https://s01.oss.sonatype.org/content/repositories/snapshots/&lt;/url&gt;\r\n      &lt;snapshots&gt;\r\n        &lt;enabled&gt;true&lt;/enabled&gt;\r\n      &lt;/snapshots&gt;\r\n      &lt;releases&gt;\r\n        &lt;enabled&gt;false&lt;/enabled&gt;\r\n      &lt;/releases&gt;\r\n    &lt;/repository&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;central&lt;/id&gt;\r\n      &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/repositories&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-http-server-netty&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-data-mongodb&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.mongodb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-mongo-sync&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.serde&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-serde-jackson&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.validation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-http-client&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-test-junit5&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongodb&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n      &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongodb-driver-reactivestreams&lt;/artifactId&gt;\r\n      &lt;version&gt;4.10.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;io.micronaut.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;configFile&gt;aot-${packaging}.properties&lt;/configFile&gt;\r\n          &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;!-- Uncomment to enable incremental compilation --&gt;\r\n          &lt;!-- &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt; --&gt;\r\n\r\n          &lt;annotationProcessorPaths combine.self=&quot;override&quot;&gt;\r\n\r\n\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.core.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-data-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.data.version}&lt;/version&gt;\r\n              &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                  &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n              &lt;/exclusions&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-data-document-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.data.version}&lt;/version&gt;\r\n              &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                  &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n              &lt;/exclusions&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-graal&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.core.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-http-validation&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.serde&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-serde-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.serialization.version}&lt;/version&gt;\r\n              &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                  &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n              &lt;/exclusions&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.validation&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-validation-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.validation.version}&lt;/version&gt;\r\n              &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                  &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n              &lt;/exclusions&gt;\r\n            &lt;/path&gt;\r\n          &lt;/annotationProcessorPaths&gt;\r\n          &lt;compilerArgs&gt;\r\n            &lt;arg&gt;-Amicronaut.processing.group=br.com.phoebus&lt;/arg&gt;\r\n            &lt;arg&gt;-Amicronaut.processing.module=AtividadeCrud&lt;/arg&gt;\r\n          &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n","title":"No bean of type [io.micronaut.data.mongodb.operations.MongoRepositoryOperations] exists","body":"<p>No bean of type [io.micronaut.data.mongodb.operations.MongoRepositoryOperations] exists. Make sure the bean is not disabled by bean requirements (enable trace logging for 'io.micronaut.context.condition' to check) and if the bean is enabled then ensure the class is declared a bean and annotation processing is enabled (for Java and Kotlin the 'micronaut-inject-java' dependency should be configured as an annotation processor).\nI'm using MongoDB as a database raised in docker as a container here are my codes with pom xml and docker compose</p>\n<p>I already tried to put some dependencies but I couldn't run it, it will always give this error when I make a request in postman</p>\n<p><code>Entity</code></p>\n<pre><code>package br.com.entity;\n\nimport io.micronaut.core.annotation.Creator;\nimport io.micronaut.core.annotation.Introspected;\nimport io.micronaut.data.annotation.GeneratedValue;\nimport io.micronaut.data.annotation.Id;\nimport io.micronaut.data.annotation.MappedEntity;\nimport io.micronaut.serde.annotation.Serdeable;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotEmpty;\nimport jakarta.validation.constraints.NotNull;\nimport org.bson.types.ObjectId;\n\n\n@Introspected\n@MappedEntity(&quot;Person&quot;)\n@Serdeable\npublic class Person {\n\n    @Id\n    @GeneratedValue(GeneratedValue.Type.IDENTITY)\n    private ObjectId id;\n    @NotNull\n    @NotBlank\n    private String name;\n    @NotNull\n    @NotBlank\n    private int age;\n    @NotNull\n    @NotEmpty\n    private String gender;\n\n    @Creator\n    public Person(@NotNull String name,\n                  @NotNull int age,\n                  @NotEmpty String gender) {\n        this.name = name;\n        this.age = age;\n        this.gender = gender;\n    }\n    public Person(){\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public ObjectId getId() {\n        return id;\n    }\n    public void setId(ObjectId id) {\n        this.id = id;\n    }\n    public int getAge() {\n        return age;\n    }\n    public void setAge(int age) {\n        this.age = age;\n    }\n    public String getGender() {\n        return gender;\n    }\n    public void setGender(String gender) {\n        this.gender = gender;\n    }\n}\n</code></pre>\n<p><code>Repository</code></p>\n<pre><code>package br.com.repository;\n\nimport br.com.entity.Person;\nimport io.micronaut.data.mongodb.annotation.MongoRepository;\nimport io.micronaut.data.repository.CrudRepository;\nimport org.bson.types.ObjectId;\n\n\n\n@MongoRepository\npublic interface PersonRepository extends CrudRepository&lt;Person, ObjectId&gt; {\n}\n\n\n</code></pre>\n<p><code>Service</code></p>\n<pre><code>package br.com.service;\n\nimport br.com.Person;\nimport jakarta.validation.constraints.NotEmpty;\nimport jakarta.validation.constraints.NotNull;\nimport org.bson.types.ObjectId;\n\nimport java.util.Optional;\n\n\npublic interface PersonService {\n\n    Optional&lt;Person&gt; findById(@NotNull ObjectId id);\n\n    Person save(@NotNull Person person);\n\n    void deleteById(ObjectId id);\n\n    Iterable&lt;Person&gt;  findAll();\n\n    Person update(@NotNull ObjectId id, @NotEmpty Person updatedPerson);\n}\n\n</code></pre>\n<p><code>Service implent</code></p>\n<pre><code>package br.com.service;\n\nimport br.com.entity.Person;\nimport br.com.repository.PersonRepository;\nimport io.micronaut.core.annotation.NonNull;\nimport io.micronaut.data.exceptions.EmptyResultException;\nimport jakarta.inject.Inject;\nimport jakarta.inject.Singleton;\nimport jakarta.validation.constraints.NotEmpty;\nimport jakarta.validation.constraints.NotNull;\nimport org.bson.types.ObjectId;\nimport java.util.Optional;\n\n\n\n@Singleton\npublic class PersonServiceImpl implements PersonService {\n\n    @Inject\n    private PersonRepository personRepository;\n\n    public PersonServiceImpl(PersonRepository personRepository) {\n        this.personRepository = personRepository;\n    }\n\n    public Optional&lt;Person&gt; findById(@NonNull ObjectId personId) {\n        return personRepository.findById(personId);\n    }\n\n    public Person save(Person person) {\n        return personRepository.save(person);\n    }\n\n\n    public void deleteById(ObjectId personId) {\n        personRepository.deleteById(personId);\n    }\n\n    public Iterable&lt;Person&gt; findAll() {\n        return personRepository.findAll();\n    }\n\n    public Person update(@NotNull ObjectId id, @NotEmpty Person updatedPerson) {\n\n        Optional&lt;Person&gt; optionalPerson = findById(id);\n\n        if (optionalPerson.isPresent()) {\n\n            Person existingPerson = optionalPerson.get();\n\n            existingPerson.setName(updatedPerson.getName());\n            existingPerson.setAge(updatedPerson.getAge());\n            existingPerson.setGender(updatedPerson.getGender());\n            return personRepository.update(existingPerson);\n        } else {\n            throw new EmptyResultException();\n        }\n    }\n}\n\n</code></pre>\n<p><code>Controller</code></p>\n<pre><code>package br.com.controller;\n\nimport br.com.entity.Person;\nimport br.com.service.PersonServiceImpl;\nimport io.micronaut.http.HttpResponse;\nimport io.micronaut.http.annotation.*;\nimport jakarta.validation.Valid;\nimport org.bson.types.ObjectId;\nimport java.util.Optional;\n\n\n@Controller(&quot;/api/person&quot;)\npublic class PersonController {\n\n    private PersonServiceImpl personService;\n\n    public PersonController(PersonServiceImpl personService) {\n        this.personService = personService;\n    }\n\n    @Get(&quot;/{personId}&quot;)\n    public HttpResponse&lt;Person&gt; findById(@PathVariable @Valid ObjectId personId) {\n        Optional&lt;Person&gt; person = personService.findById(personId);\n        return person.map(HttpResponse::ok).orElseGet(HttpResponse::notFound);\n    }\n\n    @Post\n    public HttpResponse&lt;Person&gt; save(@Body Person person) {\n        Person savedPerson = personService.save(person);\n        return HttpResponse.created(savedPerson);\n    }\n\n    @Delete(&quot;/{personId}&quot;)\n    public HttpResponse&lt;?&gt; deleteById(@PathVariable ObjectId personId) {\n        personService.deleteById(personId);\n        return HttpResponse.noContent();\n    }\n\n    @Get\n    public HttpResponse&lt;Iterable&lt;Person&gt;&gt; findAll() {\n        Iterable&lt;Person&gt; persons = personService.findAll();\n        return HttpResponse.ok(persons);\n    }\n\n    @Put(&quot;/{id}&quot;)\n    public HttpResponse&lt;Person&gt; update(@PathVariable ObjectId id, @Body @Valid Person updatedPerson) {\n        Person updated = personService.update(id, updatedPerson);\n        return HttpResponse.ok(updated);\n    }\n}\n\n\n</code></pre>\n\n<pre><code>micronaut:\n  application:\n    name: AtividadeCrud\n    logging:\n      level:\n        io.micronaut.context.condition: TRACE\n\ndatasources:\n  default:\n    url: mongodb://127.0.0.1:27017/?directConnection=true&amp;serverSelectionTimeoutMS=2000&amp;appName=mongosh+1.10.1\n    database: atividadeDB\n    driver-class-name: io.micronaut.configuration.mongo.sync.MongoSyncDriver\n\nmongodb:\n  uri: mongodb://127.0.0.1:27017/?directConnection=true&amp;serverSelectionTimeoutMS=2000&amp;appName=mongosh+1.10.1\n  databases:\n    mongodb-uri: mongodb://127.0.0.1:27017/?directConnection=true&amp;serverSelectionTimeoutMS=2000&amp;appName=mongosh+1.10.1\n    database: atividadeDB\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;br.com&lt;/groupId&gt;\n  &lt;artifactId&gt;AtividadeCrud&lt;/artifactId&gt;\n  &lt;version&gt;0.1&lt;/version&gt;\n  &lt;packaging&gt;${packaging}&lt;/packaging&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;io.micronaut.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;properties&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;jdk.version&gt;17&lt;/jdk.version&gt;\n    &lt;release.version&gt;17&lt;/release.version&gt;\n    &lt;micronaut.version&gt;4.0.0&lt;/micronaut.version&gt;\n    &lt;micronaut.aot.enabled&gt;false&lt;/micronaut.aot.enabled&gt;\n    &lt;micronaut.aot.packageName&gt;br.com.aot.generated&lt;/micronaut.aot.packageName&gt;\n    &lt;micronaut.data.version&gt;4.0.1&lt;/micronaut.data.version&gt;\n    &lt;micronaut.runtime&gt;netty&lt;/micronaut.runtime&gt;\n    &lt;exec.mainClass&gt;br.com.Application&lt;/exec.mainClass&gt;\n  &lt;/properties&gt;\n\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;sonatype-snapshots&lt;/id&gt;\n      &lt;url&gt;https://s01.oss.sonatype.org/content/repositories/snapshots/&lt;/url&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n      &lt;releases&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/releases&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-http-server-netty&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-data-mongodb&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.mongodb&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-mongo-sync&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.serde&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-serde-jackson&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.validation&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n      &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-http-client&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-test-junit5&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;mongodb&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n      &lt;artifactId&gt;mongodb-driver-reactivestreams&lt;/artifactId&gt;\n      &lt;version&gt;4.10.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.micronaut.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;configFile&gt;aot-${packaging}.properties&lt;/configFile&gt;\n          &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;!-- Uncomment to enable incremental compilation --&gt;\n          &lt;!-- &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt; --&gt;\n\n          &lt;annotationProcessorPaths combine.self=&quot;override&quot;&gt;\n\n\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.core.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-data-processor&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.data.version}&lt;/version&gt;\n              &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                  &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                  &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n              &lt;/exclusions&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-data-document-processor&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.data.version}&lt;/version&gt;\n              &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                  &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                  &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n              &lt;/exclusions&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-graal&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.core.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-http-validation&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.serde&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-serde-processor&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.serialization.version}&lt;/version&gt;\n              &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                  &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                  &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n              &lt;/exclusions&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.validation&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-validation-processor&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.validation.version}&lt;/version&gt;\n              &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                  &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                  &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n              &lt;/exclusions&gt;\n            &lt;/path&gt;\n          &lt;/annotationProcessorPaths&gt;\n          &lt;compilerArgs&gt;\n            &lt;arg&gt;-Amicronaut.processing.group=br.com.phoebus&lt;/arg&gt;\n            &lt;arg&gt;-Amicronaut.processing.module=AtividadeCrud&lt;/arg&gt;\n          &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","connection-pooling","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690358521,"post_id":76769107,"comment_id":135340694,"body_markdown":"Please ask only one question per question. Your last question is a separate concern and should be asked in a separate question.","body":"Please ask only one question per question. Your last question is a separate concern and should be asked in a separate question."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1690361861,"post_id":76769107,"comment_id":135341363,"body_markdown":"This is not clear question. Why do you think the documentation is contradictory?","body":"This is not clear question. Why do you think the documentation is contradictory?"}],"answers":[{"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1690368404,"post_id":76769143,"comment_id":135342800,"body_markdown":"This does not look thread-safe at all just swapping out credentials on the fly that allegedly are being used by a client that is used by multiple threads at the same time. I say allegedly because I&#39;m not going to dig into how the builder distributes that credentials provider to the clients it builds.","body":"This does not look thread-safe at all just swapping out credentials on the fly that allegedly are being used by a client that is used by multiple threads at the same time. I say allegedly because I&#39;m not going to dig into how the builder distributes that credentials provider to the clients it builds."}],"tags":[],"owner":{"account_id":27810413,"reputation":456,"user_id":21232911,"display_name":"nischal sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690358524,"creation_date":1690358524,"answer_id":76769143,"question_id":76769107,"body_markdown":"the points are not contradicting, creating a new instance of `CloseableHttpClient` is expensive, but it is also fully thread-safe, so multiple threads can use the same instance of `CloseableHttpClient` to execute multiple requests concurrently.\r\n\r\nTo change credentials for different requests that use the same client, you can use the `CredentialsProvider` class to manage your credentials. \r\n\r\n```python\r\nimport org.apache.http.auth.AuthScope\r\nimport org.apache.http.auth.UsernamePasswordCredentials\r\nimport org.apache.http.client.CredentialsProvider\r\nimport org.apache.http.impl.client.BasicCredentialsProvider\r\nimport org.apache.http.impl.client.CloseableHttpClient\r\nimport org.apache.http.impl.client.HttpClients\r\n\r\n# Create a credentials provider and set the credentials for a specific AuthScope\r\ncreds_provider = BasicCredentialsProvider()\r\ncreds_provider.set_credentials(AuthScope(&quot;localhost&quot;, 8080), UsernamePasswordCredentials(&quot;user1&quot;, &quot;password1&quot;))\r\n\r\n# Create an HttpClientBuilder and set the credentials provider\r\nhttp_client_builder = HttpClients.custom().setDefaultCredentialsProvider(creds_provider)\r\n\r\n# Build the CloseableHttpClient instance\r\nhttp_client = http_client_builder.build()\r\n\r\n# Use the CloseableHttpClient instance to execute your requests\r\nresponse1 = http_client.execute(request1)\r\nresponse2 = http_client.execute(request2)\r\n\r\n# Set different credentials for a different AuthScope\r\ncreds_provider.set_credentials(AuthScope(&quot;localhost&quot;, 8081), UsernamePasswordCredentials(&quot;user2&quot;, &quot;password2&quot;))\r\n\r\n# Use the same CloseableHttpClient instance to execute another request with different credentials\r\nresponse3 = http_client.execute(request3)\r\n```\r\n","title":"httpclient5 with connection pooling in java","body":"<p>the points are not contradicting, creating a new instance of <code>CloseableHttpClient</code> is expensive, but it is also fully thread-safe, so multiple threads can use the same instance of <code>CloseableHttpClient</code> to execute multiple requests concurrently.</p>\n<p>To change credentials for different requests that use the same client, you can use the <code>CredentialsProvider</code> class to manage your credentials.</p>\n<pre class=\"lang-py prettyprint-override\"><code>import org.apache.http.auth.AuthScope\nimport org.apache.http.auth.UsernamePasswordCredentials\nimport org.apache.http.client.CredentialsProvider\nimport org.apache.http.impl.client.BasicCredentialsProvider\nimport org.apache.http.impl.client.CloseableHttpClient\nimport org.apache.http.impl.client.HttpClients\n\n# Create a credentials provider and set the credentials for a specific AuthScope\ncreds_provider = BasicCredentialsProvider()\ncreds_provider.set_credentials(AuthScope(&quot;localhost&quot;, 8080), UsernamePasswordCredentials(&quot;user1&quot;, &quot;password1&quot;))\n\n# Create an HttpClientBuilder and set the credentials provider\nhttp_client_builder = HttpClients.custom().setDefaultCredentialsProvider(creds_provider)\n\n# Build the CloseableHttpClient instance\nhttp_client = http_client_builder.build()\n\n# Use the CloseableHttpClient instance to execute your requests\nresponse1 = http_client.execute(request1)\nresponse2 = http_client.execute(request2)\n\n# Set different credentials for a different AuthScope\ncreds_provider.set_credentials(AuthScope(&quot;localhost&quot;, 8081), UsernamePasswordCredentials(&quot;user2&quot;, &quot;password2&quot;))\n\n# Use the same CloseableHttpClient instance to execute another request with different credentials\nresponse3 = http_client.execute(request3)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690369619,"creation_date":1690369619,"answer_id":76770606,"question_id":76769107,"body_markdown":"depends on your auth type... for e.g. basic auth just set the header manually for each request\r\n\r\n    final HttpGet request = new HttpGet(URL_SECURED_BY_BASIC_AUTHENTICATION);\r\n    final String auth = DEFAULT_USER + &quot;:&quot; + DEFAULT_PASS;\r\n    final byte[] encodedAuth = Base64.encodeBase64(auth.getBytes(StandardCharsets.ISO_8859_1));\r\n    final String authHeader = &quot;Basic &quot; + new String(encodedAuth);\r\n    request.setHeader(HttpHeaders.AUTHORIZATION, authHeader);\r\n\r\nhttps://www.baeldung.com/httpclient-basic-authentication","title":"httpclient5 with connection pooling in java","body":"<p>depends on your auth type... for e.g. basic auth just set the header manually for each request</p>\n<pre><code>final HttpGet request = new HttpGet(URL_SECURED_BY_BASIC_AUTHENTICATION);\nfinal String auth = DEFAULT_USER + &quot;:&quot; + DEFAULT_PASS;\nfinal byte[] encodedAuth = Base64.encodeBase64(auth.getBytes(StandardCharsets.ISO_8859_1));\nfinal String authHeader = &quot;Basic &quot; + new String(encodedAuth);\nrequest.setHeader(HttpHeaders.AUTHORIZATION, authHeader);\n</code></pre>\n<p><a href=\"https://www.baeldung.com/httpclient-basic-authentication\" rel=\"nofollow noreferrer\">https://www.baeldung.com/httpclient-basic-authentication</a></p>\n"}],"owner":{"account_id":27891295,"reputation":25,"user_id":21297617,"display_name":"ketan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690369619,"creation_date":1690358173,"question_id":76769107,"body_markdown":"I am trying to use httpclient5 with connection pooling. Below are some of the points mentioned in documentation:\r\n\r\n&gt; `CloseableHttpClient` instances should be closed when no longer needed\r\n&gt; or about to go out of score.\r\n&gt; \r\n&gt; IMPORTANT: Always re-use `CloseableHttpClient` instances. They are\r\n&gt; expensive to create, but they are also fully thread safe, so multiple\r\n&gt; threads can use the same instance of `CloseableHttpClient` to execute\r\n&gt; multiple requests concurrently taking full advantage of persistent\r\n&gt; connection re-use and connection pooling.\r\n\r\nI feel both of them feels contradictory. How should I proceed with this? \r\nAlso in case if I am reusing `CloseableHttpClient` instances how can I change credentials for different requests which uses same client?","title":"httpclient5 with connection pooling in java","body":"<p>I am trying to use httpclient5 with connection pooling. Below are some of the points mentioned in documentation:</p>\n<blockquote>\n<p><code>CloseableHttpClient</code> instances should be closed when no longer needed\nor about to go out of score.</p>\n<p>IMPORTANT: Always re-use <code>CloseableHttpClient</code> instances. They are\nexpensive to create, but they are also fully thread safe, so multiple\nthreads can use the same instance of <code>CloseableHttpClient</code> to execute\nmultiple requests concurrently taking full advantage of persistent\nconnection re-use and connection pooling.</p>\n</blockquote>\n<p>I feel both of them feels contradictory. How should I proceed with this?\nAlso in case if I am reusing <code>CloseableHttpClient</code> instances how can I change credentials for different requests which uses same client?</p>\n"},{"tags":["java","performance","spring-boot","express"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1579536039,"post_id":59826877,"comment_id":105790563,"body_markdown":"Does https://dzone.com/articles/web-development-comparison-springboot-vs-expressjs help you?","body":"Does <a href=\"https://dzone.com/articles/web-development-comparison-springboot-vs-expressjs\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a> help you?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1579536114,"post_id":59826877,"comment_id":105790600,"body_markdown":"Or https://www.techempower.com/benchmarks/#section=data-r9 or https://github.com/networknt/microservices-framework-benchmark/blob/master/README.md","body":"Or <a href=\"https://www.techempower.com/benchmarks/#section=data-r9\" rel=\"nofollow noreferrer\">techempower.com/benchmarks/#section=data-r9</a> or <a href=\"https://github.com/networknt/microservices-framework-benchmark/blob/master/README.md\" rel=\"nofollow noreferrer\">github.com/networknt/microservices-framework-benchmark/blob/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":432092,"reputation":689888,"user_id":816620,"accept_rate":64,"display_name":"jfriend00"},"score":0,"creation_date":1579545086,"post_id":59826877,"comment_id":105794708,"body_markdown":"Oh, and node.js does have threads, both internally and for you to program with - [WorkerThreads](https://nodejs.org/api/worker_threads.html).  Also, you would code for scale differently in node.js than other environments so one can&#39;t really evaluate two environments if you&#39;re using the exact same approach for scaling with both.  You have to know each environment and code to its strength to successfully evaluate what it is capable of.  Also watch out for the memory usage and CPU effectiveness with purely threaded solutions as the number of requests in flight at the same time increases.","body":"Oh, and node.js does have threads, both internally and for you to program with - <a href=\"https://nodejs.org/api/worker_threads.html\" rel=\"nofollow noreferrer\">WorkerThreads</a>.  Also, you would code for scale differently in node.js than other environments so one can&#39;t really evaluate two environments if you&#39;re using the exact same approach for scaling with both.  You have to know each environment and code to its strength to successfully evaluate what it is capable of.  Also watch out for the memory usage and CPU effectiveness with purely threaded solutions as the number of requests in flight at the same time increases."}],"answers":[{"tags":[],"owner":{"account_id":15544168,"reputation":15,"user_id":11213967,"display_name":"PARV_GOUR"},"comment_count":0,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1631122392,"creation_date":1631122065,"answer_id":69107377,"question_id":59826877,"body_markdown":"Yes, the similar thing I have observed express is much slower as compared to Spring Boot, Spring boot gives the best performance because it is powered by Java, (JVM - architecture) which uses Just In Time compiler to boost the performance...\r\n\r\nYou can definitely go for Spring Boot, which is the beast !!","title":"Can anybody confirm that ExpressJS is slower than Spring Boot?","body":"<p>Yes, the similar thing I have observed express is much slower as compared to Spring Boot, Spring boot gives the best performance because it is powered by Java, (JVM - architecture) which uses Just In Time compiler to boost the performance...</p>\n<p>You can definitely go for Spring Boot, which is the beast !!</p>\n"},{"comments":[{"owner":{"account_id":5490196,"reputation":670,"user_id":4363776,"accept_rate":100,"display_name":"David Gomes"},"score":0,"creation_date":1688993552,"post_id":76642052,"comment_id":135145734,"body_markdown":"State the values in a list fashion, since tables aren&#39;t supported here.","body":"State the values in a list fashion, since tables aren&#39;t supported here."}],"tags":[],"owner":{"account_id":28974987,"reputation":1,"user_id":22194311,"display_name":"L&#234; C&#244;ng Ká»³"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690369597,"creation_date":1688805104,"answer_id":76642052,"question_id":59826877,"body_markdown":"I use autocannon (npm) to loadtest and the result:\r\n\r\n**Express.js**\r\n\r\nRunning 10s test @ http://localhost:3000/&lt;br /&gt;\r\n10 connections\r\n\r\n| Stat     | 2.5% | 50% | 97.5% | 99% | Avg     | Stdev   | Max   |\r\n|----------|------|-----|-------|-----|---------|---------|-------|\r\n| Latency  | 0 ms | 1 ms| 4 ms  | 7 ms| 1.16 ms | 1.25 ms | 20 ms |\r\n\r\n\r\n| Stat      | 1%     | 2.5%   | 50%     | 97.5%  | Avg     | Stdev  | Min    |\r\n|-----------|--------|--------|---------|--------|---------|--------|--------|\r\n| Req/Sec   | 5011   | 5011   | 6351    | 6671   | 6024.91 | 640.58 | 5010   |\r\n| Bytes/Sec | 1.2 MB | 1.2 MB | 1.52 MB | 1.6 MB | 1.45 MB | 154 kB | 1.2 MB |\r\n\r\n\r\nReq/Bytes counts sampled once per second.&lt;br /&gt;\r\n\\# of samples: 11&lt;br /&gt;\r\n66k requests in 11.03s, 15.9 MB read\r\n\r\n---\r\n\r\n**Springboot**\r\n\r\nRunning 10s test @ http://localhost:8080/employee&lt;br /&gt;\r\n10 connections\r\n\r\n| Stat    | 2.5% | 50%   | 97.5%  | 99%    | Avg     | Stdev    | Max    |\r\n|---------|------|-------|--------|--------|---------|----------|--------|\r\n| Latency | 2 ms | 42 ms | 131 ms | 142 ms | 51.6 ms | 38.29 ms | 207 ms |\r\n\r\n\r\n| Stat      | 1%      | 2.5%    | 50%     | 97.5%   | Avg     | Stdev   | Min     |\r\n|-----------|---------|---------|---------|---------|---------|---------|---------|\r\n| Req/Sec   | 10455   | 10455   | 12959   | 17199   | 14020   | 2638.61 | 10454   |\r\n| Bytes/Sec | 1.26 MB | 1.26 MB | 1.56 MB | 2.07 MB | 1.69 MB | 319 kB  | 1.26 MB |\r\n\r\n\r\nReq/Bytes counts sampled once per second.&lt;br /&gt;\r\n\\# of samples: 10&lt;br /&gt;\r\n142k requests in 10.04s, 16.9 MB read","title":"Can anybody confirm that ExpressJS is slower than Spring Boot?","body":"<p>I use autocannon (npm) to loadtest and the result:</p>\n<p><strong>Express.js</strong></p>\n<p>Running 10s test @ http://localhost:3000/<br />\n10 connections</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Stat</th>\n<th>2.5%</th>\n<th>50%</th>\n<th>97.5%</th>\n<th>99%</th>\n<th>Avg</th>\n<th>Stdev</th>\n<th>Max</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Latency</td>\n<td>0 ms</td>\n<td>1 ms</td>\n<td>4 ms</td>\n<td>7 ms</td>\n<td>1.16 ms</td>\n<td>1.25 ms</td>\n<td>20 ms</td>\n</tr>\n</tbody>\n</table>\n</div><div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Stat</th>\n<th>1%</th>\n<th>2.5%</th>\n<th>50%</th>\n<th>97.5%</th>\n<th>Avg</th>\n<th>Stdev</th>\n<th>Min</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Req/Sec</td>\n<td>5011</td>\n<td>5011</td>\n<td>6351</td>\n<td>6671</td>\n<td>6024.91</td>\n<td>640.58</td>\n<td>5010</td>\n</tr>\n<tr>\n<td>Bytes/Sec</td>\n<td>1.2 MB</td>\n<td>1.2 MB</td>\n<td>1.52 MB</td>\n<td>1.6 MB</td>\n<td>1.45 MB</td>\n<td>154 kB</td>\n<td>1.2 MB</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Req/Bytes counts sampled once per second.<br />\n# of samples: 11<br />\n66k requests in 11.03s, 15.9 MB read</p>\n<hr />\n<p><strong>Springboot</strong></p>\n<p>Running 10s test @ http://localhost:8080/employee<br />\n10 connections</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Stat</th>\n<th>2.5%</th>\n<th>50%</th>\n<th>97.5%</th>\n<th>99%</th>\n<th>Avg</th>\n<th>Stdev</th>\n<th>Max</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Latency</td>\n<td>2 ms</td>\n<td>42 ms</td>\n<td>131 ms</td>\n<td>142 ms</td>\n<td>51.6 ms</td>\n<td>38.29 ms</td>\n<td>207 ms</td>\n</tr>\n</tbody>\n</table>\n</div><div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Stat</th>\n<th>1%</th>\n<th>2.5%</th>\n<th>50%</th>\n<th>97.5%</th>\n<th>Avg</th>\n<th>Stdev</th>\n<th>Min</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Req/Sec</td>\n<td>10455</td>\n<td>10455</td>\n<td>12959</td>\n<td>17199</td>\n<td>14020</td>\n<td>2638.61</td>\n<td>10454</td>\n</tr>\n<tr>\n<td>Bytes/Sec</td>\n<td>1.26 MB</td>\n<td>1.26 MB</td>\n<td>1.56 MB</td>\n<td>2.07 MB</td>\n<td>1.69 MB</td>\n<td>319 kB</td>\n<td>1.26 MB</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Req/Bytes counts sampled once per second.<br />\n# of samples: 10<br />\n142k requests in 10.04s, 16.9 MB read</p>\n"}],"owner":{"account_id":11068321,"reputation":293,"user_id":8127396,"accept_rate":50,"display_name":"Defarine"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2647,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1690369597,"creation_date":1579535886,"question_id":59826877,"body_markdown":"we are currently investigating whether ExpressJS (Nodejs) or SpringBoot (Java) is better suited for backend operation. We wrote some &quot;equivalent&quot; code with Rest interfaces, some accessing databases (eg MongoDB) and making some transforms. Both applications run on the same server instance.\r\n\r\nWhen it comes to load testing, we observe that avg response time is longer for ExpressJS even in small-load operation and becomes even worse when scaling up to 40 parallel requests.... \r\n\r\n\r\nCan you guys confirm that observation - do we have to say in general that expressjs/nodejs web application backends are not as fast as using springboot/java? Or is that a result of missing multithreading in expressjs?\r\n\r\nThanks!\r\n\r\n\r\n","title":"Can anybody confirm that ExpressJS is slower than Spring Boot?","body":"<p>we are currently investigating whether ExpressJS (Nodejs) or SpringBoot (Java) is better suited for backend operation. We wrote some \"equivalent\" code with Rest interfaces, some accessing databases (eg MongoDB) and making some transforms. Both applications run on the same server instance.</p>\n\n<p>When it comes to load testing, we observe that avg response time is longer for ExpressJS even in small-load operation and becomes even worse when scaling up to 40 parallel requests.... </p>\n\n<p>Can you guys confirm that observation - do we have to say in general that expressjs/nodejs web application backends are not as fast as using springboot/java? Or is that a result of missing multithreading in expressjs?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","messaging","archive","snapshot","aeron"],"answers":[{"tags":[],"owner":{"account_id":463937,"reputation":81,"user_id":867136,"display_name":"pcdv"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665760910,"creation_date":1665760910,"answer_id":74071464,"question_id":74056545,"body_markdown":"You can use class `RecordingLog` to inspect the various entries (logs, snapshots) belonging to the Consensus Module (CM) and clustered service(s).\r\n\r\nOnce you identified which snapshots are safe to delete (according to your business requirements), you can delete the corresponding recordings from the archive and invalidate the entries in the recording log.\r\n\r\nThe next thing you have to do is purge the CM log to the position of the oldest CM snapshot you kept. There is a snippet in Aeron project that you can take inspiration from: `io.aeron.test.cluster.TestCluster#purgeLogToLastSnapshot()`.\r\n","title":"How to purge Aeron expired archives and snapshot files?","body":"<p>You can use class <code>RecordingLog</code> to inspect the various entries (logs, snapshots) belonging to the Consensus Module (CM) and clustered service(s).</p>\n<p>Once you identified which snapshots are safe to delete (according to your business requirements), you can delete the corresponding recordings from the archive and invalidate the entries in the recording log.</p>\n<p>The next thing you have to do is purge the CM log to the position of the oldest CM snapshot you kept. There is a snippet in Aeron project that you can take inspiration from: <code>io.aeron.test.cluster.TestCluster#purgeLogToLastSnapshot()</code>.</p>\n"},{"comments":[{"owner":{"account_id":463937,"reputation":81,"user_id":867136,"display_name":"pcdv"},"score":0,"creation_date":1690790774,"post_id":76770570,"comment_id":135396787,"body_markdown":"In my case, I run these purge tasks in each node during startup: after the ClusteredMediaDriver is started, and before clustered services are launched.\nRegarding your last point, I&#39;ve just stumbled on the same error while starting a fresh node, didn&#39;t have time to investigate yet.","body":"In my case, I run these purge tasks in each node during startup: after the ClusteredMediaDriver is started, and before clustered services are launched. Regarding your last point, I&#39;ve just stumbled on the same error while starting a fresh node, didn&#39;t have time to investigate yet."},{"owner":{"account_id":20436213,"reputation":21,"user_id":14993996,"display_name":"Anton"},"score":0,"creation_date":1691491482,"post_id":76770570,"comment_id":135495825,"body_markdown":"@pcdv just wondering, why do you run them during the startup? Can&#39;t you run them when clustered services are already launched and make this as maintenance process whilst the cluster is running?","body":"@pcdv just wondering, why do you run them during the startup? Can&#39;t you run them when clustered services are already launched and make this as maintenance process whilst the cluster is running?"},{"owner":{"account_id":463937,"reputation":81,"user_id":867136,"display_name":"pcdv"},"score":0,"creation_date":1692262747,"post_id":76770570,"comment_id":135600352,"body_markdown":"Don&#39;t remember exactly :) I guess it&#39;s because I didn&#39;t want to mess with the CM while it is running. In my case nodes are restarted frequently enough so this is not an issue. I suppose purging old data while the cluster is running can be achieved if needed.","body":"Don&#39;t remember exactly :) I guess it&#39;s because I didn&#39;t want to mess with the CM while it is running. In my case nodes are restarted frequently enough so this is not an issue. I suppose purging old data while the cluster is running can be achieved if needed."},{"owner":{"account_id":463937,"reputation":81,"user_id":867136,"display_name":"pcdv"},"score":0,"creation_date":1700047930,"post_id":76770570,"comment_id":136606256,"body_markdown":"Update: I confirm the log can be purged while the node is running.\nAlso, regarding your error, I reproduced it and submitted an issue: https://github.com/real-logic/aeron/issues/1533","body":"Update: I confirm the log can be purged while the node is running. Also, regarding your error, I reproduced it and submitted an issue: <a href=\"https://github.com/real-logic/aeron/issues/1533\" rel=\"nofollow noreferrer\">github.com/real-logic/aeron/issues/1533</a>"},{"owner":{"account_id":463937,"reputation":81,"user_id":867136,"display_name":"pcdv"},"score":0,"creation_date":1700123199,"post_id":76770570,"comment_id":136616579,"body_markdown":"Related: https://stackoverflow.com/questions/77220898/why-does-aeron-cluster-not-read-snapshots-when-starting-from-scratch","body":"Related: <a href=\"https://stackoverflow.com/questions/77220898/why-does-aeron-cluster-not-read-snapshots-when-starting-from-scratch\" title=\"why does aeron cluster not read snapshots when starting from scratch\">stackoverflow.com/questions/77220898/&hellip;</a>"}],"tags":[],"owner":{"account_id":20436213,"reputation":21,"user_id":14993996,"display_name":"Anton"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690369319,"creation_date":1690369319,"answer_id":76770570,"question_id":74056545,"body_markdown":"There are 2 system tests within the aeron repo that are demonstrating different ways on how to purge Aeron archive data and reclaim more disk space.\r\n\r\nIn the first test the connection to Aeron cluster is made to purge Log to the latest snapshot: test name is `shouldRecoverWhenFollowerWithInitialSnapshotAndArchivePurgeThenIsMultipleTermsBehind` [within ClusterTest class][1]\r\n\r\nThe other way is described in test class [StartFromTruncatedRecordingLogTest][2] where the RecordingLog is inspected and unnecessary files are removed. My understanding is that for that case the cluster should be shutdown as the recording log is adjusted and then replaced.\r\n\r\nHowever, once the data in archive is purged, it&#39;s not clear to me how the fresh new cluster node without any data could join the cluster. When I&#39;m trying to do that I&#39;m getting the following error:\r\n```\r\nio.aeron.archive.client.ArchiveException: ERROR - response for correlationId=270, error: requested replay start position=0 is less than recording start position=134217728 for recording 0\r\n```\r\n\r\n\r\n  [1]: https://github.com/real-logic/aeron/blob/bbce2f7f312a4ec8c0853896ea4005c40e81b0d6/aeron-system-tests/src/test/java/io/aeron/cluster/ClusterTest.java#L1248\r\n  [2]: https://github.com/real-logic/aeron/blob/b7dd10f0520de20b6d9f595ce6d824bce99cccc8/aeron-system-tests/src/test/java/io/aeron/cluster/StartFromTruncatedRecordingLogTest.java#L49","title":"How to purge Aeron expired archives and snapshot files?","body":"<p>There are 2 system tests within the aeron repo that are demonstrating different ways on how to purge Aeron archive data and reclaim more disk space.</p>\n<p>In the first test the connection to Aeron cluster is made to purge Log to the latest snapshot: test name is <code>shouldRecoverWhenFollowerWithInitialSnapshotAndArchivePurgeThenIsMultipleTermsBehind</code> <a href=\"https://github.com/real-logic/aeron/blob/bbce2f7f312a4ec8c0853896ea4005c40e81b0d6/aeron-system-tests/src/test/java/io/aeron/cluster/ClusterTest.java#L1248\" rel=\"nofollow noreferrer\">within ClusterTest class</a></p>\n<p>The other way is described in test class <a href=\"https://github.com/real-logic/aeron/blob/b7dd10f0520de20b6d9f595ce6d824bce99cccc8/aeron-system-tests/src/test/java/io/aeron/cluster/StartFromTruncatedRecordingLogTest.java#L49\" rel=\"nofollow noreferrer\">StartFromTruncatedRecordingLogTest</a> where the RecordingLog is inspected and unnecessary files are removed. My understanding is that for that case the cluster should be shutdown as the recording log is adjusted and then replaced.</p>\n<p>However, once the data in archive is purged, it's not clear to me how the fresh new cluster node without any data could join the cluster. When I'm trying to do that I'm getting the following error:</p>\n<pre><code>io.aeron.archive.client.ArchiveException: ERROR - response for correlationId=270, error: requested replay start position=0 is less than recording start position=134217728 for recording 0\n</code></pre>\n"}],"owner":{"account_id":3116681,"reputation":51,"user_id":2637297,"display_name":"Vahid Sadeghi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690369319,"creation_date":1665667519,"question_id":74056545,"body_markdown":"What is best and save solution to remove expired archive files after taking snapshots and also remove invalid snapshot files in frequency?\r\n","title":"How to purge Aeron expired archives and snapshot files?","body":"<p>What is best and save solution to remove expired archive files after taking snapshots and also remove invalid snapshot files in frequency?</p>\n"},{"tags":["java","hazelcast","circular-buffer"],"answers":[{"tags":[],"owner":{"account_id":7268261,"reputation":194,"user_id":5878559,"display_name":"Nikhil Pandit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690368939,"creation_date":1690368939,"answer_id":76770512,"question_id":76770392,"body_markdown":"I have never used Hazelcast but as a Java developer got interest in this question.\r\nI checked the Hazelcast documentation page and found a section where they refer to reading data in batches, you can try that.\r\n\r\nBelow method will help you in acheiving that:\r\n\r\n    CompletionStage&lt;ReadResultSet&lt;E&gt;&gt; readManyAsync(\r\n        long startSequence,\r\n        int minCount,\r\n        int maxCount,\r\n        IFunction&lt;E, Boolean&gt; filter);\r\n\r\nMeaning of the arguments of this method are explained in more detail on the reference link of documentation.\r\n\r\n    long sequence = rb.headSequence();\r\n    for(;;) {\r\n        CompletionStage&lt;ReadResultSet&lt;String&gt;&gt; f = rb.readManyAsync(sequence, 1, 10, null);\r\n        CompletionStage&lt;Integer&gt; readCountStage = f.thenApplyAsync(rs -&gt; {\r\n            for (String s : rs) {\r\n                System.out.println(s);\r\n            }\r\n            return rs.readCount();\r\n        });\r\n        sequence += readCountStage.toCompletableFuture().join();\r\n    }\r\n\r\nThis one also provides a filter which can be used to filter data while fetching from ringbuffer. \r\nWhere as in readOne method you fetch the data and filter after it.\r\n\r\nReference link: https://docs.hazelcast.com/hazelcast/5.3/data-structures/ringbuffer#reading-batched-items","title":"How to speed up data imports from ring buffers in a java client?","body":"<p>I have never used Hazelcast but as a Java developer got interest in this question.\nI checked the Hazelcast documentation page and found a section where they refer to reading data in batches, you can try that.</p>\n<p>Below method will help you in acheiving that:</p>\n<pre><code>CompletionStage&lt;ReadResultSet&lt;E&gt;&gt; readManyAsync(\n    long startSequence,\n    int minCount,\n    int maxCount,\n    IFunction&lt;E, Boolean&gt; filter);\n</code></pre>\n<p>Meaning of the arguments of this method are explained in more detail on the reference link of documentation.</p>\n<pre><code>long sequence = rb.headSequence();\nfor(;;) {\n    CompletionStage&lt;ReadResultSet&lt;String&gt;&gt; f = rb.readManyAsync(sequence, 1, 10, null);\n    CompletionStage&lt;Integer&gt; readCountStage = f.thenApplyAsync(rs -&gt; {\n        for (String s : rs) {\n            System.out.println(s);\n        }\n        return rs.readCount();\n    });\n    sequence += readCountStage.toCompletableFuture().join();\n}\n</code></pre>\n<p>This one also provides a filter which can be used to filter data while fetching from ringbuffer.\nWhere as in readOne method you fetch the data and filter after it.</p>\n<p>Reference link: <a href=\"https://docs.hazelcast.com/hazelcast/5.3/data-structures/ringbuffer#reading-batched-items\" rel=\"nofollow noreferrer\">https://docs.hazelcast.com/hazelcast/5.3/data-structures/ringbuffer#reading-batched-items</a></p>\n"}],"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690368939,"creation_date":1690367861,"question_id":76770392,"body_markdown":"We have a third party application producing data at a very high speed and storing it in multiple ring buffers (hazelcast cluster). \r\n\r\nThe consumer application (another third party app) uses this java hazelcast library to read ring buffer data. It calls `final byte[] item = ringbuffer.readOne(sequence)` api for reads. This turns out to be very slow. The consumer takes more than a day to read all data during peak loads.\r\n\r\nWhat are general strategies to concurrently read data from hazelcast cluster? Are there any java references that I can look into?\r\n\r\nThanks.","title":"How to speed up data imports from ring buffers in a java client?","body":"<p>We have a third party application producing data at a very high speed and storing it in multiple ring buffers (hazelcast cluster).</p>\n<p>The consumer application (another third party app) uses this java hazelcast library to read ring buffer data. It calls <code>final byte[] item = ringbuffer.readOne(sequence)</code> api for reads. This turns out to be very slow. The consumer takes more than a day to read all data during peak loads.</p>\n<p>What are general strategies to concurrently read data from hazelcast cluster? Are there any java references that I can look into?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1690364462,"post_id":76769720,"comment_id":135341954,"body_markdown":"can you show AppUserRoles class","body":"can you show AppUserRoles class"},{"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"score":0,"creation_date":1690364872,"post_id":76769720,"comment_id":135342043,"body_markdown":"i post the AppUserRoles class in my Question","body":"i post the AppUserRoles class in my Question"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1690367685,"post_id":76769720,"comment_id":135342656,"body_markdown":"*&quot;BUT when i try to save (insert) a user with a username which exists in Database&quot;* - The username is the ID in your entity, so if you have an entity with that ID set and the ID exists in the database, it is no more than logical that Hibernate/JPA will treat it as an update of an existing record instead of an insert.","body":"<i>&quot;BUT when i try to save (insert) a user with a username which exists in Database&quot;</i> - The username is the ID in your entity, so if you have an entity with that ID set and the ID exists in the database, it is no more than logical that Hibernate/JPA will treat it as an update of an existing record instead of an insert."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1690378419,"post_id":76769720,"comment_id":135345155,"body_markdown":"The issue is you are passing in an instance that represents data already in the database. If you want to maintain the integrity of the appuserroles without having to pass them into the request, you must read in the APPUser and merge in the changes you want to make to it yourself - JPA cannot decide that it should ignore the null appuserroles when that is a perfectly valid state for the appuserroles collection, and means something. Other answers should already have explained that the FK/ID of APPUserroles is controlled by this unidirectional 1:M mapping which may not be what you want to do.","body":"The issue is you are passing in an instance that represents data already in the database. If you want to maintain the integrity of the appuserroles without having to pass them into the request, you must read in the APPUser and merge in the changes you want to make to it yourself - JPA cannot decide that it should ignore the null appuserroles when that is a perfectly valid state for the appuserroles collection, and means something. Other answers should already have explained that the FK/ID of APPUserroles is controlled by this unidirectional 1:M mapping which may not be what you want to do."}],"answers":[{"comments":[{"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"score":0,"creation_date":1690366941,"post_id":76770112,"comment_id":135342511,"body_markdown":"sorry i dont understand your answer. I want to Insert a User in Database but Hibernate try to Update the column username on APPUserRoles with NULL. I dont understand WHY? and how i can save ONLY in APPUser Table (He Should ignore the Relations) ... It works fine when i try this with a non exist username.","body":"sorry i dont understand your answer. I want to Insert a User in Database but Hibernate try to Update the column username on APPUserRoles with NULL. I dont understand WHY? and how i can save ONLY in APPUser Table (He Should ignore the Relations) ... It works fine when i try this with a non exist username."},{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":1,"creation_date":1690367426,"post_id":76770112,"comment_id":135342606,"body_markdown":"He can not ignore the relations as your username is the `@Id` field in both and further the foreign key for your list. Could you show us how you perform the update of an existing AppUser entity? I assume that you are not fetching the existing entity before updating. Therefore the updated entity has an empty appuserroles list which forces hibernate to NULL the existing relations.","body":"He can not ignore the relations as your username is the <code>@Id</code> field in both and further the foreign key for your list. Could you show us how you perform the update of an existing AppUser entity? I assume that you are not fetching the existing entity before updating. Therefore the updated entity has an empty appuserroles list which forces hibernate to NULL the existing relations."}],"tags":[],"owner":{"account_id":4031141,"reputation":26,"user_id":3317192,"display_name":"Francesco Poli"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690365947,"creation_date":1690365947,"answer_id":76770112,"question_id":76769720,"body_markdown":"Have you tried setting the cascade attribute in the @OneToMany annotation? I think that, if you need to keep these entities stricty tied with che user, you need to inform the jpa mapping that every operation is done to the &quot;parent&quot; (i.e. the user) needs to be propagated to the children (i.e. the roles).\r\n\r\nTry setting:\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REMOVE})\r\n\r\nOr, at most:\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n\r\nTo cover all cases.\r\n","title":"JPA Save Data will try to Update Lazy Field when ID Exists","body":"<p>Have you tried setting the cascade attribute in the @OneToMany annotation? I think that, if you need to keep these entities stricty tied with che user, you need to inform the jpa mapping that every operation is done to the &quot;parent&quot; (i.e. the user) needs to be propagated to the children (i.e. the roles).</p>\n<p>Try setting:</p>\n<pre><code>@OneToMany(fetch = FetchType.LAZY, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REMOVE})\n</code></pre>\n<p>Or, at most:</p>\n<pre><code>@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n</code></pre>\n<p>To cover all cases.</p>\n"},{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690368893,"creation_date":1690368893,"answer_id":76770506,"question_id":76769720,"body_markdown":"**Problem** is that you are having AppUserRole.userName as both **primary key** and **foreign key**. why is this a problem? from [hibernate docs][1]\r\n&gt; when managing the collection(roles list) persistence state. Every element(role) removal only requires a single update (in which the foreign key column(AppUserRoles.userName) is set to NULL)\r\n\r\nso for hibernate to update appUser removing roles &quot;setting roles List to null&quot; it breaks the relationship by setting the foreign key of the roles table to null which happens to be also the primary key and primary keys do not accept null.\r\n\r\n**SOLUTION**:\r\ndo not make username the primary key of role table.\r\n\r\n**NOTE**: if you have `spring.jpa.hibernate.ddl-auto=update` you may need to update the primaryKey directly from Mysql workbench \r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-many:~:text=when%20managing%20the%20collection%20persistence%20state.%20Every%20element%20removal%20only%20requires%20a%20single%20update%20(in%20which%20the%20foreign%20key%20column%20is%20set%20to%20NULL)","title":"JPA Save Data will try to Update Lazy Field when ID Exists","body":"<p><strong>Problem</strong> is that you are having AppUserRole.userName as both <strong>primary key</strong> and <strong>foreign key</strong>. why is this a problem? from <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-many:%7E:text=when%20managing%20the%20collection%20persistence%20state.%20Every%20element%20removal%20only%20requires%20a%20single%20update%20(in%20which%20the%20foreign%20key%20column%20is%20set%20to%20NULL)\" rel=\"nofollow noreferrer\">hibernate docs</a></p>\n<blockquote>\n<p>when managing the collection(roles list) persistence state. Every element(role) removal only requires a single update (in which the foreign key column(AppUserRoles.userName) is set to NULL)</p>\n</blockquote>\n<p>so for hibernate to update appUser removing roles &quot;setting roles List to null&quot; it breaks the relationship by setting the foreign key of the roles table to null which happens to be also the primary key and primary keys do not accept null.</p>\n<p><strong>SOLUTION</strong>:\ndo not make username the primary key of role table.</p>\n<p><strong>NOTE</strong>: if you have <code>spring.jpa.hibernate.ddl-auto=update</code> you may need to update the primaryKey directly from Mysql workbench</p>\n"}],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690368893,"creation_date":1690363301,"question_id":76769720,"body_markdown":"I am very frustrated at the moment. I spend hours of hours to get JPA + Hibernate work.\r\n\r\nMy Problem is - I have this Entity:\r\n\r\n    @Entity\r\n    public class APPUser implements UserDetails{\r\n        \r\n        @Id\r\n        private String username;\r\n        \r\n        private String vorname;\r\n        private String nachname;\r\n        private Date geburtstag;\r\n        private String email;\r\n        private int locked;\r\n        private String passwort;\r\n        private String passwortresetkey;\r\n        private Timestamp passwortresettimestamp;\r\n        private String lastloginip;\r\n        \r\n        /*@ElementCollection(targetClass = APPUserRoles.class, fetch = FetchType.LAZY)\r\n        @CollectionTable( \r\n                name = &quot;appuserroles&quot;,\r\n                joinColumns = @JoinColumn (name = &quot;username&quot;, referencedColumnName = &quot;username&quot;)\r\n            )\r\n        @Enumerated(EnumType.STRING)*/\r\n        @OneToMany(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;username&quot;)\r\n        private List&lt;APPUserroles&gt; appuserroles;\r\n        \r\n        @OneToMany(mappedBy=&quot;user&quot;, fetch = FetchType.LAZY)\r\n        private List&lt;APPToken&gt; tokens;\r\n\r\nHow you see i have `private List&lt;APPUserroles&gt; appuserroles;` defined as LAZY. \r\n\r\nNow i call the Save Method from Respository to Save a new User (Insert):\r\n\r\n    public void saveNewUserinDatabase(RegisterRequest request) {\r\n            String remoteAddr = &quot;&quot;;\r\n    \r\n            APPUser appuser = new APPUser(\r\n                    request.getUsername(),\r\n                    request.getVorname(),\r\n                    request.getNachname(),\r\n                    request.getGeburtstag(),\r\n                    request.getEmail(),\r\n                    request.getLocked(),\r\n                    passwordEncoder.encode(request.getPasswort()),\r\n                    &quot;&quot;,\r\n                    remoteAddr\r\n            );\r\n            userRepository.save(appuser);\r\n        }\r\n\r\nso this is easy ...\r\n\r\nIn the Constructor i dont pass any appuserroles so it is null.\r\n\r\nWHEN i try to save a user with a new username so all is working fine\r\n\r\nBUT when i try to save (insert) a user with a username which exists in Database so JPA/Hibernate will try to UPDATE the APPUserRoles Table in Database - BUT WHY? How can i get Hibernate to ONLY SAVE the User table? and dont try to Update the AppUserRoles table?\r\n\r\nThis is the Error i get:\r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: Cannot insert NULL value into username column, SLAPPS.dbo.APPUserRoles table. The column does not allow NULL values. UPDATE failed.\r\n\r\ni also see he try to update the Column:\r\n\r\n    Hibernate: \r\n        update\r\n            appuserroles \r\n        set\r\n            username=null \r\n        where\r\n            username=?\r\n\r\n\r\nThe AppUserRoles class:\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    public class APPUserroles {\r\n        \r\n        @Id\r\n        private String username;\r\n        \r\n        private String rolename;\r\n    }\r\n\r\n\r\n**is realy the only Solution to make a own Query in JPARepository With an Insert Statement??**\r\n\r\n","title":"JPA Save Data will try to Update Lazy Field when ID Exists","body":"<p>I am very frustrated at the moment. I spend hours of hours to get JPA + Hibernate work.</p>\n<p>My Problem is - I have this Entity:</p>\n<pre><code>@Entity\npublic class APPUser implements UserDetails{\n    \n    @Id\n    private String username;\n    \n    private String vorname;\n    private String nachname;\n    private Date geburtstag;\n    private String email;\n    private int locked;\n    private String passwort;\n    private String passwortresetkey;\n    private Timestamp passwortresettimestamp;\n    private String lastloginip;\n    \n    /*@ElementCollection(targetClass = APPUserRoles.class, fetch = FetchType.LAZY)\n    @CollectionTable( \n            name = &quot;appuserroles&quot;,\n            joinColumns = @JoinColumn (name = &quot;username&quot;, referencedColumnName = &quot;username&quot;)\n        )\n    @Enumerated(EnumType.STRING)*/\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;username&quot;)\n    private List&lt;APPUserroles&gt; appuserroles;\n    \n    @OneToMany(mappedBy=&quot;user&quot;, fetch = FetchType.LAZY)\n    private List&lt;APPToken&gt; tokens;\n</code></pre>\n<p>How you see i have <code>private List&lt;APPUserroles&gt; appuserroles;</code> defined as LAZY.</p>\n<p>Now i call the Save Method from Respository to Save a new User (Insert):</p>\n<pre><code>public void saveNewUserinDatabase(RegisterRequest request) {\n        String remoteAddr = &quot;&quot;;\n\n        APPUser appuser = new APPUser(\n                request.getUsername(),\n                request.getVorname(),\n                request.getNachname(),\n                request.getGeburtstag(),\n                request.getEmail(),\n                request.getLocked(),\n                passwordEncoder.encode(request.getPasswort()),\n                &quot;&quot;,\n                remoteAddr\n        );\n        userRepository.save(appuser);\n    }\n</code></pre>\n<p>so this is easy ...</p>\n<p>In the Constructor i dont pass any appuserroles so it is null.</p>\n<p>WHEN i try to save a user with a new username so all is working fine</p>\n<p>BUT when i try to save (insert) a user with a username which exists in Database so JPA/Hibernate will try to UPDATE the APPUserRoles Table in Database - BUT WHY? How can i get Hibernate to ONLY SAVE the User table? and dont try to Update the AppUserRoles table?</p>\n<p>This is the Error i get:</p>\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: Cannot insert NULL value into username column, SLAPPS.dbo.APPUserRoles table. The column does not allow NULL values. UPDATE failed.\n</code></pre>\n<p>i also see he try to update the Column:</p>\n<pre><code>Hibernate: \n    update\n        appuserroles \n    set\n        username=null \n    where\n        username=?\n</code></pre>\n<p>The AppUserRoles class:</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class APPUserroles {\n    \n    @Id\n    private String username;\n    \n    private String rolename;\n}\n</code></pre>\n<p><strong>is realy the only Solution to make a own Query in JPARepository With an Insert Statement??</strong></p>\n"},{"tags":["java","maven","tomcat","maven-plugin"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1690356798,"post_id":76768939,"comment_id":135340342,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Instead, [edit] your question to include the code as properly formatted text.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Instead, <a href=\"https://stackoverflow.com/posts/76768939/edit\">edit</a> your question to include the code as properly formatted text."},{"owner":{"account_id":26958733,"reputation":1,"user_id":20526707,"display_name":"SpywithJava"},"score":0,"creation_date":1690357065,"post_id":76768939,"comment_id":135340392,"body_markdown":"OK, I&#39;m new here, aha","body":"OK, I&#39;m new here, aha"},{"owner":{"account_id":2157438,"reputation":1216,"user_id":1912318,"display_name":"ishimwe"},"score":0,"creation_date":1690361077,"post_id":76768939,"comment_id":135341186,"body_markdown":"Could you edit and share the full error stack?","body":"Could you edit and share the full error stack?"},{"owner":{"account_id":26958733,"reputation":1,"user_id":20526707,"display_name":"SpywithJava"},"score":0,"creation_date":1690368974,"post_id":76768939,"comment_id":135342896,"body_markdown":"OK, the full error stack is \nError: \ncan&#39;t initialize the main class: com.itranswarp.learnjava.Main Cause:java.lang.NoClassDefFoundError:org/apache/catalina/WebResourceRoot","body":"OK, the full error stack is  Error:  can&#39;t initialize the main class: com.itranswarp.learnjava.Main Cause:java.lang.NoClassDefFoundError:org/apache/catalina/Web&zwnj;&#8203;ResourceRoot"}],"owner":{"account_id":26958733,"reputation":1,"user_id":20526707,"display_name":"SpywithJava"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690368892,"creation_date":1690356726,"question_id":76768939,"body_markdown":"I&#39;ve run an instance of MVC development of liaoxuefeng:      (https://www.liaoxuefeng.com/wiki/1252599548343744/1337408645759009)\r\n    Here is a link to download the package at the end of the web page\r\n    But when I run the Main Class, there is a mistake\r\n``\r\nError: can&#39;t initialize the main class: com.itranswarp.learnjava.Main\r\nCause:java.lang.NoClassDefFoundError:org/apache/catalina/WebResourceRoot\r\n``\r\n\r\n    Here is my pom.xml:\r\n\r\n``\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.itranswarp.learnjava&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;web-mvc&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\r\n\t\t&lt;jackson.version&gt;2.12.7.1&lt;/jackson.version&gt;\r\n\t\t&lt;pebble.version&gt;3.1.6&lt;/pebble.version&gt;\r\n\t\t&lt;tomcat.version&gt;10.1.6&lt;/tomcat.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.pebbletemplates&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pebble&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${pebble.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins\r\n&#39;&#39;&#39;\r\n    I don&#39;t know why such error happens\r\n\r\n    I try to update my tomcat and plugins in pom.xml and download and use jdk17 to keep pace with the original maven, but I still can&#39;t save the problem\r\n    I just want to know how to solve the problem\r\nHere is my Main Class\r\n``\r\n    package com.itranswarp.learnjava;\r\n\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Tomcat tomcat = new Tomcat();\r\n        tomcat.setPort(Integer.getInteger(&quot;port&quot;, 8080));\r\n        tomcat.getConnector();\r\n        Context ctx = tomcat.addWebapp(&quot;&quot;, new File(&quot;src/main/webapp&quot;).getAbsolutePath());\r\n        WebResourceRoot resources = new StandardRoot(ctx);\r\n        resources.addPreResources(new DirResourceSet(resources, &quot;/WEB-INF/classes&quot;, new File(&quot;target/classes&quot;).getAbsolutePath(), &quot;/&quot;));\r\n        ctx.setResources(resources);\r\n        tomcat.start();\r\n        tomcat.getServer().await();\r\n    }\r\n}\r\n``","title":"can&#39;t initialize main class com.itranswarp.learnjava.Main","body":"<p>I've run an instance of MVC development of liaoxuefeng:      (<a href=\"https://www.liaoxuefeng.com/wiki/1252599548343744/1337408645759009\" rel=\"nofollow noreferrer\">https://www.liaoxuefeng.com/wiki/1252599548343744/1337408645759009</a>)\nHere is a link to download the package at the end of the web page\nBut when I run the Main Class, there is a mistake\n<code>Error: can't initialize the main class: com.itranswarp.learnjava.Main Cause:java.lang.NoClassDefFoundError:org/apache/catalina/WebResourceRoot</code></p>\n<pre><code>Here is my pom.xml:\n</code></pre>\n<p>``\n\n4.0.0</p>\n<pre><code>&lt;groupId&gt;com.itranswarp.learnjava&lt;/groupId&gt;\n&lt;artifactId&gt;web-mvc&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n\n    &lt;jackson.version&gt;2.12.7.1&lt;/jackson.version&gt;\n    &lt;pebble.version&gt;3.1.6&lt;/pebble.version&gt;\n    &lt;tomcat.version&gt;10.1.6&lt;/tomcat.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.pebbletemplates&lt;/groupId&gt;\n        &lt;artifactId&gt;pebble&lt;/artifactId&gt;\n        &lt;version&gt;${pebble.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins\n</code></pre>\n<p>'''\nI don't know why such error happens</p>\n<pre><code>I try to update my tomcat and plugins in pom.xml and download and use jdk17 to keep pace with the original maven, but I still can't save the problem\nI just want to know how to solve the problem\n</code></pre>\n<p>Here is my Main Class\n``\npackage com.itranswarp.learnjava;</p>\n<p>public class Main {</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    Tomcat tomcat = new Tomcat();\n    tomcat.setPort(Integer.getInteger(&quot;port&quot;, 8080));\n    tomcat.getConnector();\n    Context ctx = tomcat.addWebapp(&quot;&quot;, new File(&quot;src/main/webapp&quot;).getAbsolutePath());\n    WebResourceRoot resources = new StandardRoot(ctx);\n    resources.addPreResources(new DirResourceSet(resources, &quot;/WEB-INF/classes&quot;, new File(&quot;target/classes&quot;).getAbsolutePath(), &quot;/&quot;));\n    ctx.setResources(resources);\n    tomcat.start();\n    tomcat.getServer().await();\n}\n</code></pre>\n<p>}\n``</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7882,"page":286,"page_size":100}
